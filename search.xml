<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Spring Cloud ÂæÆÊúçÂä°ÊùÉÈôêÁ≥ªÁªüÊê≠Âª∫ÊïôÁ®ã]]></title>
    <url>%2Fbook.html</url>
    <content type="text"><![CDATA[üìñ„Ää Spring Cloud ÂæÆÊúçÂä°ÊùÉÈôêÁ≥ªÁªüÊê≠Âª∫ÊïôÁ®ã „Äã‰∏ÄÊú¨Âü∫‰∫éSpring Cloud Hoxton.RELEASE&amp;Spring Cloud Oauth2&amp;Spring Cloud AlibabaÁöÑÂæÆÊúçÂä°ÊùÉÈôêÁ≥ªÁªüÊê≠Âª∫ÊïôÁ®ã‰π¶Á±çÔºåÊâãÊääÊâãÊïô‰Ω†‰ªéÈõ∂Âà∞K8SÈõÜÁæ§ÈÉ®ÁΩ≤„ÄÇÁ¨¨‰∏ÄÁ´† Âü∫Á°ÄÊ°ÜÊû∂Êê≠Âª∫1.1 Êû∂ÊûÑÈ¢ÑËßà1.2 Êê≠Âª∫ÂæÆÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ1.3 Êê≠Âª∫ËÆ§ËØÅÊúçÂä°Âô®1.4 Êê≠Âª∫ÂæÆÊúçÂä°ÁΩëÂÖ≥1.5 Êê≠Âª∫ÂæÆÊúçÂä°Êèê‰æõËÄÖÔºàËµÑÊ∫êÊúçÂä°Âô®Ôºâ1.6 Êú¨Á´†Â∞èÁªìÁ¨¨‰∫åÁ´† Êû∂ÊûÑÂÆåÂñÑ2.1 ÂèÇÊï∞ÈÖçÁΩÆÂåñ2.2 ÂºÇÂ∏∏Â§ÑÁêÜ2.3 FeignÁöÑ‰ΩøÁî®2.4 ÂæÆÊúçÂä°Èò≤Êä§2.5 Ë∑®ÂüüÂ§ÑÁêÜ2.6 Êú¨Á´†Â∞èÁªìÁ¨¨‰∏âÁ´† ÂÆåÂñÑÁôªÂΩïÊµÅÁ®ã3.1 Ë°®ÁªìÊûÑËÆæËÆ°3.2 ÂÆåÂñÑÁôªÂΩï3.3 Êï¥ÂêàÂõæÂΩ¢È™åËØÅÁ†Å3.4 SentinelÈ™åËØÅÁ†ÅÈôêÊµÅ3.5 Êú¨Á´†Â∞èÁªìÁ¨¨ÂõõÁ´† Êï¥ÂêàSwagger4.1 ÂÆåÂñÑfebs-server-system4.2 Êé•ÂÖ•Swagger4.3 Swagger OAuth2ËÆ§ËØÅ4.4 Êú¨Á´†Â∞èÁªìÁ¨¨‰∫îÁ´† Êï¥ÂêàÁ¨¨‰∏âÊñπÊúçÂä°5.1 Êï¥ÂêàSpring Boot Admin5.2 Sleuth ZipkinÈìæË∑ØËøΩË∏™5.3 logbackÊó•ÂøóÊâìÂç∞5.4 ELKÊó•ÂøóÊî∂ÈõÜ5.5 Êú¨Á´†Â∞èÁªìÁ¨¨ÂÖ≠Á´† ÂâçÁ´ØÁ≥ªÁªü‰ªãÁªç6.1 Â∞ÅË£ÖAxios6.2 VueÂØºËà™ÂÆàÂç´6.3 Âä®ÊÄÅË∑ØÁî±ÊûÑÂª∫6.4 Â§ÑÁêÜÁî®Êà∑ÁôªÂΩï6.5 Â§ÑÁêÜ‰ª§ÁâåÂà∑Êñ∞6.6 Ëá™ÂÆö‰πâVueÊùÉÈôêÊåá‰ª§6.7 Êú¨Á´†Â∞èÁªìÁ¨¨‰∏ÉÁ´† ÂæÆÊúçÂä°ÈÉ®ÁΩ≤7.1 ÂæÆÊúçÂä°DokcerÂåñ7.2 ‰ΩøÁî®Docker ComposeÈÉ®ÁΩ≤7.3 Êú¨Á´†Â∞èÁªìÁ¨¨ÂÖ´Á´† ÂæÆÊúçÂä°ËøõÈò∂8.1 ‰ª§ÁâåÂ≠òÂÇ®Á≠ñÁï•8.2 ‰ΩøÁî®Cloud GatewayÊê≠Âª∫ÁΩëÂÖ≥8.3 ‰ΩøÁî®Alibaba NacosÊ≥®ÂÜå‰∏≠ÂøÉ8.4 ‰ΩøÁî®Alibaba NacosÂ≠òÂÇ®ÈÖçÁΩÆ8.5 Êé•ÂÖ•Prometheus + Grafana8.6 Êï¥ÂêàskywalkingÂàÜÂ∏ÉÂºèËøΩË∏™8.7 ÂçáÁ∫ßÂà∞Hoxton.RELEASEÁ¨¨‰πùÁ´† K8SÈõÜÁæ§ÈÉ®ÁΩ≤9.1 ÈõÜÁæ§ÁéØÂ¢ÉÂáÜÂ§á9.2 ÂÆâË£ÖÁ¨¨‰∏âÊñπÊúçÂä°9.3 KubeadmÊê≠Âª∫K8S 1.16.2ÈõÜÁæ§9.4 NFSÊúçÂä°Âô®Êê≠Âª∫9.5 Êê≠Âª∫DockerÈïúÂÉè‰ªìÂ∫ìHarbor9.6 K8SÊûÑÂª∫È´òÂèØÁî®Nacos9.7 K8SÊûÑÂª∫FEBS CloudÊúçÂä°ÈõÜÁæ§9.8 ÈÉ®ÁΩ≤ÂâçÁ´ØÊµãËØï9.9 K8SÂÆûË∑µÊÄªÁªìÁ¨¨ÂçÅÁ´† ÂàÜÂ∏ÉÂºè‰∫ãÂä°Á†îÁ©∂10.1 ÂàÜÂ∏ÉÂºèÊû∂ÊûÑ‰∫ãÂä°ÊåëÊàò10.2 ÂàÜÂ∏ÉÂºè‰∫ãÂä°Ëß£ÂÜ≥ÊñπÊ°à10.3 Âü∫‰∫éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂RocketMQÊñπÊ°àÔºà‰∏ÄÔºâ10.4 Âü∫‰∫éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂RocketMQÊñπÊ°àÔºà‰∫åÔºâ10.5 Âü∫‰∫éTX-LCNÊñπÊ°à10.6 Âü∫‰∫éÈòøÈáåSeataÊñπÊ°à10.7 Êú¨Á´†ÊÄªÁªì$(function(){$("#comment-div").remove(),$(".post-copyright").remove(),$("#reward-div").remove(),$(".post-footer").remove()})]]></content>
      <tags>
        <tag>Spring Cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êï∞ÊçÆÁªìÊûÑ - ‰∫åÂèâÊ†ëÂ≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2F%E4%BA%8C%E5%8F%89%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</url>
    <content type="text"><![CDATA[Ê†ëÔºàTreeÔºâÊòØ‰∏ÄÁßçÂæàÊúâË∂£ÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂÆÉÊó¢ËÉΩÂÉèÈìæË°®ÈÇ£Ê†∑Âø´ÈÄüÁöÑÊèíÂÖ•ÂíåÂà†Èô§ÔºåÂèàËÉΩÂÉèÊúâÂ∫èÊï∞ÁªÑÈÇ£Ê†∑Âø´ÈÄüÊü•Êâæ„ÄÇÊ†ëÁöÑÁßçÁ±ªÂæàÂ§öÔºåÊú¨ËäÇÂ∞ÜËÆ∞ÂΩï‰∏ÄÁßçÁâπÊÆäÁöÑÊ†ë‚Äî‚Äî‚Äî‚Äî‰∫åÂèâÊ†ëÔºàBinary TreeÔºâ„ÄÇ‰∫åÂèâÊ†ëÁöÑÊØè‰∏™ËäÇÁÇπÊúÄÂ§öÂè™ËÉΩÊúâ‰∏§‰∏™Â≠êËäÇÁÇπÔºåÈÄöÂ∏∏Áß∞‰∏∫Â∑¶Â≠êËäÇÁÇπÂíåÂè≥Â≠êËäÇÁÇπ„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™‰∫åÂèâÊ†ëÁöÑÊØè‰∏™ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÁöÑÂÖ≥ÈîÆÂ≠óÂÄºÂ∞è‰∫éËØ•ËäÇÁÇπÔºåÂè≥Â≠êËäÇÁÇπÁöÑÂÖ≥ÈîÆÂ≠óÂÄºÂ§ß‰∫éÁ≠â‰∫éËØ•ËäÇÁÇπÔºåÈÇ£‰πàËøôÁßç‰∫åÂèâÊ†ë‰πüÁß∞‰∏∫‰∫åÂèâÊêúÁ¥¢Ê†ëÔºàBinary Search Tree,BSTÔºâÔºåÊú¨ËäÇ‰∏ªË¶ÅÂÖ≥Ê≥®BST„ÄÇÁõ∏ÂÖ≥ÊúØËØ≠Êü•Áúã‰∏Ä‰∏™BST‰æãÂ≠êÔºöË∑ØÂæÑÔºö‰ªé‰∏Ä‰∏™ËäÇÁÇπËµ∞Âà∞Âè¶‰∏Ä‰∏™ËäÇÁÇπÔºåÁªèËøáÁöÑËäÇÁÇπÈ°∫Â∫èÂ∞±Áß∞‰∏∫Ë∑ØÂæÑÔºõÊ†πÔºöÊ†ëÁöÑÈ°∂Á´ØËäÇÁÇπÁß∞‰∏∫Ê†πÔºå‰∏Ä‰∏™Êï∞Âè™ËÉΩÊúâ‰∏Ä‰∏™Ê†πËäÇÁÇπÔºåÂπ∂‰∏î‰ªéÊ†πËäÇÁÇπÂà∞‰ªªÊÑèÂ≠êËäÇÁÇπÂè™ËÉΩÊúâ‰∏ÄÊù°Ë∑ØÂæÑÔºõÁà∂ËäÇÁÇπÔºöÊØè‰∏™ËäÇÁÇπÔºàÈô§‰∫ÜÊ†πÔºâÈÉΩÊúâ‰∏ÄÊù°ËæπÂêë‰∏äËøûÊé•Âà∞Âè¶‰∏Ä‰∏™ËäÇÁÇπÔºåËøô‰∏™ËäÇÁÇπÂ∞±ÊòØ‰∏ãÈù¢ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÔºõÂ≠êËäÇÁÇπÔºöÊØè‰∏™ËäÇÁÇπÔºàÈô§‰∫ÜÂè∂Â≠êËäÇÁÇπÔºâÈÉΩÊúâ‰∏ÄÊù°Êàñ‰∏§Êù°ËæπÂêë‰∏ãËøûÊé•ÂÖ∂‰ªñËäÇÁÇπÔºå‰∏ãÈù¢Ëøô‰∫õËäÇÁÇπÂ∞±ÊòØÂΩìÂâçËäÇÁÇπÁöÑÂ≠êËäÇÁÇπ„ÄÇÂ≠êËäÇÁÇπÂàÜ‰∏∫Â∑¶Â≠êËäÇÁÇπÂíåÂè≥Â≠êËäÇÁÇπÔºõÂè∂ËäÇÁÇπÔºöÊ≤°ÊúâÂ≠êËäÇÁÇπÁöÑËäÇÁÇπÁß∞‰∏∫Âè∂Â≠êËäÇÁÇπÔºåÊàñÂè∂ËäÇÁÇπÔºõÂÖ≥ÈîÆÂ≠óÔºöËäÇÁÇπ‰∏≠ÁöÑÊï∞ÊçÆÔºåÊØîÂ¶Ç‰∏äÂõæ‰∏≠ÁöÑÊï∞ÂÄº„ÄÇÊìç‰ΩúBSTÂú®Êìç‰ΩúBSTÂâçÔºåÊàë‰ª¨ÂÖàÁî®‰ª£Á†ÅÂÆö‰πâ‰∏Ä‰∏™BSTÁöÑÈ™®Êû∂Ôºö12345678910111213141516171819202122/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125;&#125;‰∏ãÈù¢ÁöÑËøô‰∫õÊìç‰ΩúÈÉΩ‰ª•Ëøô‰∏™BST‰∏∫‰æãÔºöÊèíÂÖ•ÂÅáÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÊèíÂÖ•‰∏Ä‰∏™key‰∏∫88ÁöÑËäÇÁÇπÔºåÈúÄË¶ÅÁªèËøáÂ¶Ç‰∏ãÊ≠•È™§Ôºö‰ªéÊ†πËäÇÁÇπÂá∫ÂèëÔºå88ÊØî72Â§ßÔºåÊâÄ‰ª•Ëµ∞Âè≥Â≠êËäÇÁÇπ82Ë∑ØÂæÑÔºõ88ÊØî82Â§ßÔºåÊâÄ‰ª•Ëµ∞Âè≥Â≠êËäÇÁÇπ90Ë∑ØÂæÑÔºõ88ÊØî90Â∞èÔºåÊâÄ‰ª•Ëµ∞Â∑¶Â≠êËäÇÁÇπ87Ë∑ØÂæÑÔºõ88ÊØî87Â§ßÔºåÂπ∂‰∏î87ÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫Á©∫ÔºåÊâÄ‰ª•Êàë‰ª¨ÊúÄÁªàÊää88‰Ωú‰∏∫87ÁöÑÂè≥Â≠êËäÇÁÇπÊèíÂÖ•Ê†ë‰∏≠„ÄÇÂΩìkeyÈáçÂ§çÊó∂ÔºåÂèØ‰ª•ÈÄâÊã©Ë¶ÜÁõñÊàñËÄÖÂøΩÁï•ÔºåËøôÁî±‰∏öÂä°ÂÜ≥ÂÆö„ÄÇ‰∏äËø∞ËøáÁ®ãÂä®ÊÄÅÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöJava‰ª£Á†ÅÂÆûÁé∞Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** ÊèíÂÖ• */ public void insert(int key, String value) &#123; // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ËäÇÁÇπ Node newNode = new Node(key, value); if (this.root == null) &#123; // Â¶ÇÊûúÊ†π‰∏∫nullÔºåÂàôËøô‰∏™Êñ∞ËäÇÁÇπÂ∞±ÊòØÊ†π root = newNode; &#125; else &#123; // Â¶ÇÊûúË∑ü‰∏ç‰∏∫nullÔºåÂàô‰ªéÊ†πÂºÄÂßãÊêúÁ¥¢ÊèíÂÖ•‰ΩçÁΩÆ Node currentNode = root; // Áî®‰∫éÊöÇÂ≠òÁà∂ËäÇÁÇπ Node parentNode; while (true) &#123; // Áà∂ËäÇÁÇπËÆæÁΩÆ‰∏∫ÂΩìÂâçËäÇÁÇπ parentNode = currentNode; if (key &lt; currentNode.key) &#123; currentNode = currentNode.leftChild; if (currentNode == null) &#123; // Â¶ÇÊûúkeyÂ∞è‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂπ∂‰∏îÂΩìÂâçËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ‰∏∫Á©∫ÔºåÂàôÂ∞ÜÊñ∞ËäÇÁÇπ // ËÆæÁΩÆ‰∏∫ÂΩìÂâçËäÇÁÇπÔºàÁà∂ËäÇÁÇπÊöÇÂ≠òÂØπË±°ÔºâÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÈÄÄÂá∫Âæ™ÁéØ parentNode.leftChild = newNode; return; &#125; &#125; else if (key &gt; currentNode.key) &#123; currentNode = currentNode.rightChild; if (currentNode == null) &#123; // Â¶ÇÊûúkeyÂ§ß‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂπ∂‰∏îÂΩìÂâçËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫Á©∫ÔºåÂàôÂ∞ÜÊñ∞ËäÇÁÇπ // ËÆæÁΩÆ‰∏∫ÂΩìÂâçËäÇÁÇπÔºàÁà∂ËäÇÁÇπÊöÇÂ≠òÂØπË±°ÔºâÁöÑÂèàÂ≠êËäÇÁÇπÔºåÈÄÄÂá∫Âæ™ÁéØ parentNode.rightChild = newNode; return; &#125; &#125; else &#123; // Â¶ÇÊûúkeyÁ≠â‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂàôÂ∞ÜvalueË¶ÜÁõñÂΩìÂâçËäÇÁÇπvalue currentNode.value = newNode.value; return; &#125; &#125; &#125; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÔºö1234567891011public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); &#125;&#125;‰ª•debugÁöÑÊñπÂºèËøêË°åÁ®ãÂ∫èÔºåÊü•ÁúãbstÁªìÊûÑÔºöbstÁªìÊûÑÂíå‰∏äÂõæ‰∏ÄËá¥ÔºåÊúâÂÖ¥Ë∂£ÂèØ‰ª•Ëá™Â∑±È™åËØÅ„ÄÇÊü•ÊâæÂÅáÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÊü•Êâækey‰∏∫67ÁöÑËäÇÁÇπÔºåÈúÄË¶ÅÁªèËøáÂ¶Ç‰∏ãÊ≠•È™§Ôºö‰ªéÊ†πËäÇÁÇπÂá∫ÂèëÔºå67ÊØî72Â∞èÔºåÊâÄ‰ª•Ëµ∞Â∑¶Â≠êËäÇÁÇπ57Ë∑ØÂæÑÔºõ67ÊØî57Â§ßÔºåÊâÄ‰ª•Ëµ∞Âè≥Â≠êËäÇÁÇπ63Ë∑ØÂæÑÔºõ67ÊØî63Â§ßÔºåÊâÄ‰ª•Ëµ∞Âè≥Â≠êËäÇÁÇπ67Ë∑ØÂæÑÔºõ67Á≠â‰∫é67ÔºåÊâæÂà∞ÁõÆÊ†áËäÇÁÇπÔºåÈÄÄÂá∫ÔºõÂ¶ÇÊûúÊêúÁ¥¢Áõ¥Âà∞Âè∂Â≠êËäÇÁÇπÈÉΩÊ≤°ÊâæÂà∞ÔºåÂàôËøîÂõûÁ©∫„ÄÇ‰∏äËø∞ËøáÁ®ãÂä®ÊÄÅÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöJava‰ª£Á†ÅÂÆûÁé∞Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** Êü•Êâæ */ public Node find(int key) &#123; // ‰ªéÊ†πËäÇÁÇπÂºÄÂßãÊü•Êâæ Node currentNode = root; // ÂΩìÂâçËäÇÁÇπÁöÑkey‰∏çÁ≠â‰∫éË¢´Êü•ÊâæÁöÑkeyÊó∂ while (currentNode.key != key) &#123; if (key &lt; currentNode.key) &#123; // Â¶ÇÊûúkeyÂÄºÂ∞è‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂàôÊü•ÊâæÂ∑¶Â≠êËäÇÁÇπ currentNode = currentNode.leftChild; &#125; else &#123; // Â¶ÇÊûúkeyÂÄºÂ§ß‰∫éÁ≠â‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂàôÊü•ÊâæÂè≥Â≠êËäÇÁÇπ currentNode = currentNode.rightChild; &#125; // Â¶ÇÊûúÂΩìÂâçËäÇÁÇπ‰∏∫nullÔºåËØ¥ÊòéÊü•Âà∞Âè∂Â≠êËäÇÁÇπ‰∫ÜÔºå‰ªçÊ≤°Êü•Âà∞ÁõÆÊ†ákeyÔºåÂàôÁõ¥Êé•ËøîÂõûnull if (currentNode == null) &#123; return null; &#125; &#125; // ËøîÂõûÂΩìÂâçËäÇÁÇπÔºàÈÄÄÂá∫whileÂæ™ÁéØË¶Å‰πàkeyÁõ∏Á≠âÔºåË¶Å‰πàÊ≤°ÊâæÂà∞ÔºåÁªìÊûú‰∏∫nullÔºâ return currentNode; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÔºö12345678910111213public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); System.out.println(bst.find(87).value); bst.insert(87, "hello world"); System.out.println(bst.find(87).value); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö12ÊàëÊòØkey‰∏∫87ÁöÑvaluehello worldÊúÄÂ§ßÊúÄÂ∞èÂÄºÂú®BSTÈáåÊü•ÊâæÊúÄÂ§ßÂÄºÂíåÊúÄÂ∞èÂÄºÊòØÈùûÂ∏∏ÂÆπÊòìÁöÑ‰∏Ä‰ª∂‰∫ãÔºåÊ†πÊçÆBSTÁâπÊÄßÔºåÂ∞èÁöÑÂÄºÈÉΩÂàÜÂ∏ÉÂú®Â∑¶ËäÇÁÇπÔºåÂ§ßÁöÑÂÄºÈÉΩÂàÜÂ∏ÉÂú®Âè≥ËäÇÁÇπÔºåÊâÄ‰ª•ÊúÄÂ∞èÂÄºÊü•ÊâæÊñπÊ≥ï‰∏∫Ôºö‰ªéÊ†πËäÇÁÇπÂá∫ÂèëÔºå‰∏ÄÁõ¥ÂæÄ‰∏ãÊü•ÊâæÂ∑¶Â≠êËäÇÁÇπÔºåÂΩìËØ•ËäÇÁÇπ‰∏çÂÜçÊúâÂ∑¶Â≠êËäÇÁÇπÊó∂ÔºåËØ•ËäÇÁÇπÂ∞±ÊòØÊúÄÂ∞èËäÇÁÇπÔºõÊúÄÂ§ßÂÄºÊü•ÊâæÊñπÊ≥ï‰∏∫Ôºö‰ªéÊ†πËäÇÁÇπÂá∫ÂèëÔºå‰∏ÄÁõ¥ÂæÄ‰∏ãÊü•ÊâæÂè≥Â≠êËäÇÁÇπÔºåÂΩìËØ•ËäÇÁÇπ‰∏çÂÜçÊúâÂè≥Â≠êËäÇÁÇπÊó∂ÔºåËØ•ËäÇÁÇπÂ∞±ÊòØÊúÄÂ§ßËäÇÁÇπ„ÄÇÊü•ÊâæÊúÄÂ∞èÂÄºÂõæÁ§∫ÔºöÊü•ÊâæÊúÄÂ§ßÂÄºÂõæÁ§∫ÔºöJava‰ª£Á†ÅÂÆûÁé∞Â¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** * ÊúÄÂ∞èÂÄº */ public Node min() &#123; Node currentNode = root; while (currentNode.leftChild != null) &#123; currentNode = currentNode.leftChild; &#125; return currentNode; &#125; /** * ÊúÄÂ§ßÂÄº */ public Node max() &#123; Node currentNode = root; while (currentNode.rightChild != null) &#123; currentNode = currentNode.rightChild; &#125; return currentNode; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÔºö123456789101112public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); System.out.println(bst.min().value); System.out.println(bst.max().value); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö12ÊàëÊòØkey‰∏∫27ÁöÑvalueÊàëÊòØkey‰∏∫90ÁöÑvalueÂà†Èô§Âà†Èô§ÊòØBSTÊìç‰ΩúÈáåÊúÄÂ§çÊùÇÁöÑ‰∏Ä‰∏™ÔºåÂõ†‰∏∫ÈúÄË¶ÅËÄÉËôëÁöÑÂõ†Á¥†ÊØîËæÉÂ§öÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊòØÂè∂Â≠êËäÇÁÇπÔºõË¢´Âà†Èô§ÁöÑËäÇÁÇπÂè™Êúâ‰∏Ä‰∏™Â≠êËäÇÁÇπÔºõË¢´Âà†Èô§ÁöÑËäÇÁÇπÊúâ‰∏§‰∏™Â≠êËäÇÁÇπ„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÈÄê‰∏™ÂàÜÊûêÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊòØÂè∂Â≠êËäÇÁÇπËøôÁßçÊÉÖÂÜµÊúÄ‰∏∫ÁÆÄÂçïÔºåÂà†Èô§ËäÇÁÇπÂâçÈúÄË¶ÅÂÖàÊâæÂà∞ËØ•ËäÇÁÇπÔºåËøáÁ®ãÂíå‰∏äÈù¢ÁöÑÊü•ÊâæÁ±ª‰ºº„ÄÇÊâæÂà∞ÈúÄË¶ÅÂà†Èô§ÁöÑËäÇÁÇπÂêéÔºåÂ¶ÇÊûúÊòØÂè∂Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜËØ•ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÂºïÁî®ÁΩÆ‰∏∫nullÔºåË¢´Âà†Èô§ÁöÑËäÇÁÇπÊ≤°‰∫ÜÂºïÁî®ÔºåÂêéÁª≠Áî±GCËá™Âä®ÂõûÊî∂„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÂà†Èô§key‰∏∫48ÁöÑËäÇÁÇπÔºåÈúÄË¶ÅÁªèËøáÂ¶Ç‰∏ãÊ≠•È™§Ôºö‰ªéÊ†πËäÇÁÇπÂá∫ÂèëÔºå48ÊØî72Â∞èÔºåÊâÄ‰ª•Ëµ∞Â∑¶Â≠êËäÇÁÇπ57Ë∑ØÂæÑÔºõ48ÊØî57Â∞èÔºåÊâÄ‰ª•Ëµ∞Â∑¶Â≠êËäÇÁÇπ30Ë∑ØÂæÑÔºõ48ÊØî30Â§ßÔºåÊâÄ‰ª•Ëµ∞Âè≥Â≠êËäÇÁÇπ40Ë∑ØÂæÑÔºõ48ÊØî40Â§ßÔºåÊâÄ‰ª•Ëµ∞Âè≥Â≠êËäÇÁÇπ48Ë∑ØÂæÑÔºõ48Á≠â‰∫é48ÔºåÊâÄ‰ª•ÂΩìÂâçËäÇÁÇπÂ∞±ÊòØÈúÄË¶ÅË¢´Âà†Èô§ËäÇÁÇπÔºõ48Ê≤°ÊúâÂ≠êËäÇÁÇπÔºå‰∏∫Âè∂Â≠êËäÇÁÇπÔºåÊâÄ‰ª•Áõ¥Êé•Â∞Ü40ÁöÑÂè≥Â≠êËäÇÁÇπÂºïÁî®ËÆæÁΩÆ‰∏∫nullÂç≥ÂèØ„ÄÇËØ•ËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöJava‰ª£Á†ÅÂÆûÁé∞Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** Âà†Èô§ */ public boolean delete(int key) &#123; /* --------- Êü•ÊâæÈúÄË¶ÅË¢´Âà†Èô§ÁöÑËäÇÁÇπ‰ª•ÂèäÂÆÉÁöÑÁà∂ËäÇÁÇπ ------- */ // ‰ªéÊ†πËäÇÁÇπÂºÄÂßãÊü•Êâæ Node deleteNode = root; // ÊöÇÂ≠òÈúÄË¶ÅË¢´Âà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ Node parentNode = root; // Ê†áËØÜË¢´Âà†Èô§ÁöÑËäÇÁÇπÊó∂Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπËøòÊòØÂè≥Â≠êËäÇÁÇπ boolean isLeftChild = false; // ‰∏ãÈù¢Ëøô‰∏™ËøáÁ®ãÂíåÊü•Êâæ‰∏ÄËá¥ÔºåÂè™‰∏çËøáÂä†‰∫ÜisLeftChildÊ†áËØÜ while (deleteNode.key != key) &#123; parentNode = deleteNode; if (key &lt; deleteNode.key) &#123; isLeftChild = true; deleteNode = deleteNode.leftChild; &#125; else &#123; isLeftChild = false; deleteNode = deleteNode.rightChild; &#125; // Â¶ÇÊûúÁõÆÊ†ákeyÂØπÂ∫îÁöÑËäÇÁÇπ‰∏∫Á©∫ÔºåÂàô‰∏çÈúÄË¶ÅÂà†Èô§ÔºåÁõ¥Êé•ËøîÂõûfalse if (deleteNode == null) &#123; return false; &#125; &#125; /* --------- ÊÉÖÂÜµ1ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊòØÂè∂Â≠êËäÇÁÇπ ------- */ if (deleteNode.leftChild == null &amp;&amp; deleteNode.rightChild == null) &#123; if (deleteNode == root) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫rootÔºåÂàôÁõ¥Êé•Â∞ÜrootËäÇÁÇπËÆæÁΩÆ‰∏∫null root = null; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫null parentNode.leftChild = null; &#125; else &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫null parentNode.rightChild = null; &#125; &#125; return true; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÔºö123456789101112public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); System.out.println(bst.delete(49)); System.out.println(bst.delete(48)); &#125;&#125;12falsetrueÂèØ‰ª•ÁúãÂà∞40ÁöÑÂè≥Â≠êËäÇÁÇπÂ∑≤ÁªèË¢´Âà†Èô§„ÄÇË¢´Âà†Èô§ÁöÑËäÇÁÇπÂè™Êúâ‰∏Ä‰∏™Â≠êËäÇÁÇπËøôÁßçÊÉÖÂÜµ‰πüÊØîËæÉÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂ∞ÜË¢´Âà†Èô§ËäÇÁÇπÁöÑÂ≠êËäÇÁÇπÂíåÂÖ∂Áà∂ËäÇÁÇπÂª∫Á´ãËøûÊé•ÂÖ≥Á≥ªÂç≥ÂèØ„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÂà†Èô§key‰∏∫79ÁöÑËäÇÁÇπÔºåÈúÄË¶ÅÁªèËøáÂ¶Ç‰∏ãÊ≠•È™§Ôºö‰ªéÊ†πËäÇÁÇπÂá∫ÂèëÔºå79ÊØî72Â§ßÔºåÊâÄ‰ª•Ëµ∞Âè≥Â≠êËäÇÁÇπ82Ë∑ØÂæÑÔºõ79ÊØî82Â∞èÔºåÊâÄ‰ª•Ëµ∞Â∑¶Â≠êËäÇÁÇπ79Ë∑ØÂæÑÔºõ79Á≠â‰∫é79ÔºåÊâÄ‰ª•ÂΩìÂâçËäÇÁÇπÂ∞±ÊòØÈúÄË¶ÅË¢´Âà†Èô§ËäÇÁÇπÔºõ79Âè™Êúâ‰∏Ä‰∏™Âè≥Â≠êËäÇÁÇπÔºåÂõ†‰∏∫79ÊòØ82ÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÊâÄ‰ª•Áõ¥Êé•Â∞Ü80ËÆæÁΩÆ‰∏∫82ÁöÑÂ∑¶Â≠êËäÇÁÇπÂç≥ÂèØ„ÄÇËØ•ËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöJava‰ª£Á†ÅÂÆûÁé∞Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** * Âà†Èô§ */ public boolean delete(int key) &#123; /* --------- Êü•ÊâæÈúÄË¶ÅË¢´Âà†Èô§ÁöÑËäÇÁÇπ‰ª•ÂèäÂÆÉÁöÑÁà∂ËäÇÁÇπ ------- */ // ‰ªéÊ†πËäÇÁÇπÂºÄÂßãÊü•Êâæ Node deleteNode = root; // ÊöÇÂ≠òÈúÄË¶ÅË¢´Âà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ Node parentNode = root; // Ê†áËØÜË¢´Âà†Èô§ÁöÑËäÇÁÇπÊó∂Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπËøòÊòØÂè≥Â≠êËäÇÁÇπ boolean isLeftChild = false; // ‰∏ãÈù¢Ëøô‰∏™ËøáÁ®ãÂíåÊü•Êâæ‰∏ÄËá¥ÔºåÂè™‰∏çËøáÂä†‰∫ÜisLeftChildÊ†áËØÜ while (deleteNode.key != key) &#123; parentNode = deleteNode; if (key &lt; deleteNode.key) &#123; isLeftChild = true; deleteNode = deleteNode.leftChild; &#125; else &#123; isLeftChild = false; deleteNode = deleteNode.rightChild; &#125; // Â¶ÇÊûúÁõÆÊ†ákeyÂØπÂ∫îÁöÑËäÇÁÇπ‰∏∫Á©∫ÔºåÂàô‰∏çÈúÄË¶ÅÂà†Èô§ÔºåÁõ¥Êé•ËøîÂõûfalse if (deleteNode == null) &#123; return false; &#125; &#125; /* --------- ÊÉÖÂÜµ1ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊòØÂè∂Â≠êËäÇÁÇπ ------- */ if (deleteNode.leftChild == null &amp;&amp; deleteNode.rightChild == null) &#123; if (deleteNode == root) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫rootÔºåÂàôÁõ¥Êé•Â∞ÜrootËäÇÁÇπËÆæÁΩÆ‰∏∫null root = null; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫null parentNode.leftChild = null; &#125; else &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫null parentNode.rightChild = null; &#125; &#125; else if (deleteNode.leftChild != null &amp;&amp; deleteNode.rightChild != null) &#123; /* --------- ÊÉÖÂÜµ3ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊúâ‰∏§‰∏™Â≠êËäÇÁÇπ ------- */ &#125; else &#123; /* --------- ÊÉÖÂÜµ2ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÂè™Êúâ‰∏Ä‰∏™Â≠êËäÇÁÇπ ------- */ // Ëé∑ÂèñË¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ Node deleteNodeChild = deleteNode.leftChild == null ? deleteNode.rightChild : deleteNode.leftChild; if (deleteNode == root) &#123; // Â¶ÇÊûúË¢´Âà†Èô§ËäÇÁÇπÂ∞±ÊòØrootÔºåÈÇ£‰πàÂ∞ÜÂÖ∂ÂîØ‰∏ÄÂ≠êËäÇÁÇπËÆæÁΩÆ‰∏∫root root = deleteNodeChild; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫Ë¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ parentNode.leftChild = deleteNodeChild; &#125; else &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫Ë¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ parentNode.rightChild = deleteNodeChild; &#125; &#125; return true; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÔºö123456789101112public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); System.out.println(bst.delete(79)); System.out.println(bst.find(82).leftChild.value); &#125;&#125;Á®ãÂ∫èËæìÂá∫Ôºö12trueÊàëÊòØkey‰∏∫80ÁöÑvalueË¢´Âà†Èô§ÁöÑËäÇÁÇπÊúâ‰∏§‰∏™Â≠êËäÇÁÇπËøôÁßçÊÉÖÂÜµÊØîËæÉÂ§çÊùÇÔºåÂà†Èô§ÁöÑËäÇÁÇπ‰∏çËÉΩÁî®Âà†Èô§ËäÇÁÇπÁöÑÊüê‰∏™Â≠êËäÇÁÇπÊù•‰ª£Êõø„ÄÇÊØîÂ¶ÇÁé∞Âú®ÈúÄË¶ÅÂà†Èô§‰∏äËø∞BSTÁöÑ57ËäÇÁÇπÔºåÂÅáÂ¶ÇÁî®57ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ63‰ª£ÊõøËØ•ËäÇÁÇπÔºåÈÇ£‰πà63ÁöÑÂ∑¶Â≠êËäÇÁÇπÊó¢‰∏çËÉΩÊòØ62Ôºå‰πü‰∏çËÉΩÊòØ57ÁöÑÂ∑¶Â≠êËäÇÁÇπ30„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÈúÄË¶ÅÊâæÂà∞Ë¢´Âà†Èô§ËäÇÁÇπÁöÑ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÔºàsuccessorÔºâÊù•‰ª£ÊõøÂÆÉ„ÄÇÊâÄË∞ìÁöÑ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÂ∞±ÊòØÔºöÊï¥‰∏™Ê†ë‰∏≠ÂÖ≥ÈîÆÂ≠óÂÄºÊØîË¢´Âà†Èô§ËäÇÁÇπÂ§ßÔºåÂπ∂‰∏îÊØîË¢´Âà†Èô§ËäÇÁÇπÂè≥Â≠êËäÇÁÇπÂ∞èÁöÑÈÇ£ÈÉ®ÂàÜËäÇÁÇπ‰∏≠ÁöÑÂÖ≥ÈîÆÂ≠óÂÄºÊúÄÂ∞èÁöÑËäÇÁÇπ„ÄÇÊ†πÊçÆ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÂÆö‰πâÊù•ÁúãÔºåË¶ÅÊâæÂà∞ÂÆÉ‰πüÂæàÁÆÄÂçïÔºö‰ªéË¢´Âà†Èô§ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂá∫ÂèëÔºå‰∏ÄÁõ¥ÂæÄ‰∏ãÊâæÂ∑¶Â≠êËäÇÁÇπÔºåÂΩìËØ•ËäÇÁÇπ‰∏çÂÜçÊúâÂ∑¶Â≠êËäÇÁÇπÊó∂ÔºåËØ•ËäÇÁÇπÂ∞±ÊòØ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÔºõÂ¶ÇÊûúË¢´Âà†Èô§ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÊ≤°ÊúâÂ∑¶Â≠êËäÇÁÇπÔºåÈÇ£‰πàÂÆÉÂ∞±ÊòØË¶ÅÊâæÁöÑ‰∏≠Â∫èÂêéÁªßËäÇÁÇπ„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÊØîÂ¶ÇÁé∞Âú®ÈúÄË¶ÅÂà†Èô§‰∏äËø∞BSTÁöÑ57ËäÇÁÇπÔºåÈÇ£‰πàÂÆÉÁöÑ‰∏≠Â∫èÂêéÁªßËäÇÁÇπ‰∏∫62ÔºõÂÅáÂ¶ÇË¶ÅÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫63ÔºåÈÇ£‰πàÂÆÉÁöÑ‰∏≠Â∫èÂêéÁªß‰∏∫67ÔºöÂΩìÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫57Êó∂ÔºåËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂΩìÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫63Êó∂ÔºåËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÁºñÂÜôÊü•Êâæ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** * Êü•Êâæ‰∏≠Â∫èÂêéÁªßËäÇÁÇπ */ private Node getSuccessor(Node deleteNode) &#123; // ÊöÇÂ≠ò‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ Node successorParent = deleteNode; // ÊöÇÂ≠ò‰∏≠Â∫èÂêéÁªßËäÇÁÇπ Node successor = deleteNode; // ÂÖà‰ªéÂà†Èô§ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂºÄÂßãÊü•Êâæ Node currentNode = deleteNode.rightChild; while (currentNode != null) &#123; successorParent = successor; successor = currentNode; // ‰∏ÄÁõ¥ÂæÄ‰∏ãÊü•ÊâæÂΩìÂâçËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÁõ¥Âà∞‰∏∫Á©∫ currentNode = currentNode.leftChild; &#125; // Â¶Ç‰∏äÈù¢ÊñáÁ´†ÊâÄËØ¥Ôºå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÂíåÂà†Èô§ËäÇÁÇπÊúâ‰∏§ÁßçÂèØËÉΩÊÄßÔºå // ÂΩì‰∏≠Â∫èÂêéÁªßËäÇÁÇπ‰∏çÊòØÂà†Èô§ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÊó∂ÔºåÈúÄË¶ÅÂÅöÂ¶Ç‰∏ãÈ¢ùÂ§ñÊìç‰Ωú if (successor != deleteNode.rightChild) &#123; // Â¶ÇÊûú‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏ç‰∏∫Á©∫ÁöÑËØùÔºåÂ∞ÜÂÖ∂Âíå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÊåÇÈí© if (successor.rightChild != null) &#123; successorParent.leftChild = successor.rightChild; &#125; // ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂíåÂà†Èô§ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÊåÇÈí© successor.rightChild = deleteNode.rightChild; &#125; // ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂíåÂà†Èô§ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÊåÇÈí© successor.leftChild = deleteNode.leftChild; // Ââ©‰∏ãÁöÑÂà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÂíå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑËøûÊé•ÂÖ≥Á≥ªÂú®Âà†Èô§ÊñπÊ≥ïÈáåÂ§ÑÁêÜÔºå // Âõ†‰∏∫Ëøô‰∏™ÊñπÊ≥ïÂÜÖÊó†Ê≥ïËé∑ÂèñÂà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÂØπË±° return successor; &#125;&#125;ÂÆåÊàêÂà†Èô§ÊñπÊ≥ïÁöÑÊúÄÂêé‰∏Ä‰∏™ÈÉ®ÂàÜÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** * Âà†Èô§ */ public boolean delete(int key) &#123; /* --------- Êü•ÊâæÈúÄË¶ÅË¢´Âà†Èô§ÁöÑËäÇÁÇπÂ∑≤ÁªèÂÆÉÁöÑÁà∂ËäÇÁÇπ ------- */ // ‰ªéÊ†πËäÇÁÇπÂºÄÂßãÊü•Êâæ Node deleteNode = root; // ÊöÇÂ≠òÈúÄË¶ÅË¢´Âà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ Node parentNode = root; // Ê†áËØÜË¢´Âà†Èô§ÁöÑËäÇÁÇπÊó∂Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπËøòÊòØÂè≥Â≠êËäÇÁÇπ boolean isLeftChild = false; // ‰∏ãÈù¢Ëøô‰∏™ËøáÁ®ãÂíåÊü•Êâæ‰∏ÄËá¥ÔºåÂè™‰∏çËøáÂä†‰∫ÜisLeftChildÊ†áËØÜ while (deleteNode.key != key) &#123; parentNode = deleteNode; if (key &lt; deleteNode.key) &#123; isLeftChild = true; deleteNode = deleteNode.leftChild; &#125; else &#123; isLeftChild = false; deleteNode = deleteNode.rightChild; &#125; // Â¶ÇÊûúÁõÆÊ†ákeyÂØπÂ∫îÁöÑËäÇÁÇπ‰∏∫Á©∫ÔºåÂàô‰∏çÈúÄË¶ÅÂà†Èô§ÔºåÁõ¥Êé•ËøîÂõûfalse if (deleteNode == null) &#123; return false; &#125; &#125; /* --------- ÊÉÖÂÜµ1ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊòØÂè∂Â≠êËäÇÁÇπ ------- */ if (deleteNode.leftChild == null &amp;&amp; deleteNode.rightChild == null) &#123; if (deleteNode == root) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫rootÔºåÂàôÁõ¥Êé•Â∞ÜrootËäÇÁÇπËÆæÁΩÆ‰∏∫null root = null; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫null parentNode.leftChild = null; &#125; else &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫null parentNode.rightChild = null; &#125; &#125; else if (deleteNode.leftChild != null &amp;&amp; deleteNode.rightChild != null) &#123; /* --------- ÊÉÖÂÜµ3ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊúâ‰∏§‰∏™Â≠êËäÇÁÇπ ------- */ // Ëé∑ÂèñÂà†Èô§ËäÇÁÇπÁöÑ‰∏≠Â∫èÂêéÁªßËäÇÁÇπ Node successor = getSuccessor(deleteNode); // Â¶ÇÊûú‰º§Â§ÑËäÇÁÇπÂ∞±ÊòØÊ†πËäÇÁÇπÁöÑËØùÔºå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁõ¥Êé•Êàê‰∏∫Êñ∞ÁöÑÊ†π if (deleteNode == root) &#123; root = successor; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúÂà†Èô§ËäÇÁÇπÊòØÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂíå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÊåÇÈí© parentNode.leftChild = successor; &#125; else &#123; // Â¶ÇÊûúÂà†Èô§ËäÇÁÇπÊòØÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂíå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÊåÇÈí© parentNode.rightChild = successor; &#125; &#125; else &#123; /* --------- ÊÉÖÂÜµ2ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÂè™Êúâ‰∏Ä‰∏™Â≠êËäÇÁÇπ ------- */ // Ëé∑ÂèñË¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ Node deleteNodeChild = deleteNode.leftChild == null ? deleteNode.rightChild : deleteNode.leftChild; if (deleteNode == root) &#123; // Â¶ÇÊûúË¢´Âà†Èô§ËäÇÁÇπÂ∞±ÊòØrootÔºåÈÇ£‰πàÂ∞ÜÂÖ∂ÂîØ‰∏ÄÂ≠êËäÇÁÇπËÆæÁΩÆ‰∏∫root root = deleteNodeChild; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫Ë¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ parentNode.leftChild = deleteNodeChild; &#125; else &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫Ë¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ parentNode.rightChild = deleteNodeChild; &#125; &#125; return true; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÊµãËØï‰∏Ä‰∏ãÔºöÂΩìÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫57Êó∂Ôºö123456789101112131415public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); System.out.println("Âà†Èô§57ËäÇÁÇπ: " + bst.delete(57)); System.out.println("72ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ‰∏∫: " + bst.find(72).leftChild.key); BinarySearchTree.Node node62 = bst.find(62); System.out.println("62ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ‰∏∫: " + node62.leftChild.key); System.out.println("62ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫: " + node62.rightChild.key); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö1234Âà†Èô§57ËäÇÁÇπ: true72ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ‰∏∫: 6262ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ‰∏∫: 3062ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫: 63ÂΩìÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫63Êó∂Ôºö123456789101112131415public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); System.out.println("Âà†Èô§63ËäÇÁÇπ: " + bst.delete(63)); System.out.println("57ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫: " + bst.find(57).rightChild.key); BinarySearchTree.Node node67 = bst.find(67); System.out.println("67ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ‰∏∫: " + node67.leftChild.key); System.out.println("67ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫: " + (node67.rightChild == null ? null : node67.rightChild.key)); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö1234Âà†Èô§63ËäÇÁÇπ: true57ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫: 6767ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ‰∏∫: 6267ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫: nullÈÅçÂéÜÈÅçÂéÜÊ†ëÊåáÁöÑÊòØ‰ª•‰∏ÄÁßçÁâπÂÆöÈ°∫Â∫èËÆøÈóÆÊ†ëÁöÑÊØè‰∏Ä‰∏™ËäÇÁÇπÔºåËøô‰∏™È°∫Â∫èÂàÜ‰∏∫Ôºö‰∏≠Â∫è„ÄÅÂâçÂ∫èÂíåÂêéÂ∫è„ÄÇ‰∏≠Â∫èÈÅçÂéÜ‰∏≠Â∫èÈÅçÂéÜÁöÑÊ≠•È™§‰∏∫ÔºöÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºõËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´ÔºõÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ„ÄÇJavaÂÆûÁé∞Â¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ÈÅçÂéÜÈúÄË¶Å‰ªéÊ†πÂºÄÂßãÈÅçÂéÜÔºåÊâÄ‰ª•Ê∑ªÂä†Ê†πÁöÑgetÊñπÊ≥ï */ public Node getRoot() &#123; return root; &#125; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** ‰∏≠Â∫èÈÅçÂéÜ */ public void inOrder(Node targetNode) &#123; if (targetNode != null) &#123; // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ inOrder(targetNode.leftChild); // ËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´ System.out.print(targetNode.key + " "); // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ inOrder(targetNode.rightChild); &#125; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÔºö1234567891011public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); bst.inOrder(bst.getRoot()); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö127 30 40 48 57 62 63 67 72 79 80 82 87 90Ëøô‰∏™ËøáÁ®ãÂ¶Ç‰∏ãÂä®ÂõæÊâÄÁ§∫ÔºöÂâçÂ∫èÈÅçÂéÜÂâçÂ∫èÈÅçÂéÜÁöÑÊ≠•È™§‰∏∫ÔºöËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´ÔºõÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºõÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ„ÄÇJavaÂÆûÁé∞Â¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ÈÅçÂéÜÈúÄË¶Å‰ªéÊ†πÂºÄÂßãÈÅçÂéÜÔºåÊâÄ‰ª•Ê∑ªÂä†Ê†πÁöÑgetÊñπÊ≥ï */ public Node getRoot() &#123; return root; &#125; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** ÂâçÂ∫èÈÅçÂéÜ */ public void preOrder(Node targetNode) &#123; if (targetNode != null) &#123; // ËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´ System.out.print(targetNode.key + " "); // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ preOrder(targetNode.leftChild); // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ preOrder(targetNode.rightChild); &#125; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÔºö1234567891011public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); bst.preOrder(bst.getRoot()); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö172 57 30 27 40 48 63 62 67 82 79 80 90 87Ëøô‰∏™ËøáÁ®ãÂ¶Ç‰∏ãÂä®ÂõæÊâÄÁ§∫ÔºöÂêéÂ∫èÈÅçÂéÜÂâçÂ∫èÈÅçÂéÜÁöÑÊ≠•È™§‰∏∫ÔºöÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºõÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºõËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´„ÄÇJavaÂÆûÁé∞Â¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940/** BST */public class BinarySearchTree &#123; /** Ê†πËäÇÁÇπ */ private Node root; /** ÈÅçÂéÜÈúÄË¶Å‰ªéÊ†πÂºÄÂßãÈÅçÂéÜÔºåÊâÄ‰ª•Ê∑ªÂä†Ê†πÁöÑgetÊñπÊ≥ï */ public Node getRoot() &#123; return root; &#125; /** ËäÇÁÇπ */ static class Node &#123; /** ÂÖ≥ÈîÆÂ≠ó */ int key; /** È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125; /** ÂêéÁª≠ÈÅçÂéÜ */ public void postOrder(Node targetNode) &#123; if (targetNode != null) &#123; // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ postOrder(targetNode.leftChild); // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ postOrder(targetNode.rightChild); // ËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´ System.out.print(targetNode.key + " "); &#125; &#125;&#125;ÁºñÂÜôÊµãËØïÁ®ãÂ∫èÔºö1234567891011public class BinarySearchTreeTest &#123; public static void main(String[] args) &#123; BinarySearchTree bst = new BinarySearchTree(); Arrays.asList(72, 57, 82, 30, 63, 79, 90, 27, 40, 62, 67, 80, 87, 48).forEach(key -&gt; &#123; String value = "ÊàëÊòØkey‰∏∫" + key + "ÁöÑvalue"; bst.insert(key, value); &#125;); bst.postOrder(bst.getRoot()); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö127 48 40 30 62 67 63 57 80 79 87 90 82 72Ëøô‰∏™ËøáÁ®ãÂ¶Ç‰∏ãÂä®ÂõæÊâÄÁ§∫ÔºöÂÆåÊï¥‰ª£Á†Å123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274/** * BST */public class BinarySearchTree &#123; /** * Ê†πËäÇÁÇπ */ private Node root; /** * ÈÅçÂéÜÈúÄË¶Å‰ªéÊ†πÂºÄÂßãÈÅçÂéÜÔºåÊâÄ‰ª•Ê∑ªÂä†Ê†πÁöÑgetÊñπÊ≥ï */ public Node getRoot() &#123; return root; &#125; /** * ÊèíÂÖ• */ public void insert(int key, String value) &#123; // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ËäÇÁÇπ Node newNode = new Node(key, value); if (this.root == null) &#123; // Â¶ÇÊûúÊ†π‰∏∫nullÔºåÂàôËøô‰∏™Êñ∞ËäÇÁÇπÂ∞±ÊòØÊ†π root = newNode; &#125; else &#123; // Â¶ÇÊûúË∑ü‰∏ç‰∏∫nullÔºåÂàô‰ªéÊ†πÂºÄÂßãÊêúÁ¥¢ÊèíÂÖ•‰ΩçÁΩÆ Node currentNode = root; // Áî®‰∫éÊöÇÂ≠òÁà∂ËäÇÁÇπ Node parentNode; while (true) &#123; // Áà∂ËäÇÁÇπËÆæÁΩÆ‰∏∫ÂΩìÂâçËäÇÁÇπ parentNode = currentNode; if (key &lt; currentNode.key) &#123; currentNode = currentNode.leftChild; if (currentNode == null) &#123; // Â¶ÇÊûúkeyÂ∞è‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂπ∂‰∏îÂΩìÂâçËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ‰∏∫Á©∫ÔºåÂàôÂ∞ÜÊñ∞ËäÇÁÇπ // ËÆæÁΩÆ‰∏∫ÂΩìÂâçËäÇÁÇπÔºàÁà∂ËäÇÁÇπÊöÇÂ≠òÂØπË±°ÔºâÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÈÄÄÂá∫Âæ™ÁéØ parentNode.leftChild = newNode; return; &#125; &#125; else if (key &gt; currentNode.key) &#123; currentNode = currentNode.rightChild; if (currentNode == null) &#123; // Â¶ÇÊûúkeyÂ§ß‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂπ∂‰∏îÂΩìÂâçËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏∫Á©∫ÔºåÂàôÂ∞ÜÊñ∞ËäÇÁÇπ // ËÆæÁΩÆ‰∏∫ÂΩìÂâçËäÇÁÇπÔºàÁà∂ËäÇÁÇπÊöÇÂ≠òÂØπË±°ÔºâÁöÑÂèàÂ≠êËäÇÁÇπÔºåÈÄÄÂá∫Âæ™ÁéØ parentNode.rightChild = newNode; return; &#125; &#125; else &#123; // Â¶ÇÊûúkeyÁ≠â‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂàôÂ∞ÜvalueË¶ÜÁõñÂΩìÂâçËäÇÁÇπvalue currentNode.value = newNode.value; return; &#125; &#125; &#125; &#125; /** * Êü•Êâæ */ public Node find(int key) &#123; // ‰ªéÊ†πËäÇÁÇπÂºÄÂßãÊü•Êâæ Node currentNode = root; // ÂΩìÂâçËäÇÁÇπÁöÑkey‰∏çÁ≠â‰∫éË¢´Êü•ÊâæÁöÑkeyÊó∂ while (currentNode.key != key) &#123; if (key &lt; currentNode.key) &#123; // Â¶ÇÊûúkeyÂÄºÂ∞è‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂàôÊü•ÊâæÂ∑¶Â≠êËäÇÁÇπ currentNode = currentNode.leftChild; &#125; else &#123; // Â¶ÇÊûúkeyÂÄºÂ§ß‰∫éÁ≠â‰∫éÂΩìÂâçËäÇÁÇπkeyÔºåÂàôÊü•ÊâæÂè≥Â≠êËäÇÁÇπ currentNode = currentNode.rightChild; &#125; // Â¶ÇÊûúÂΩìÂâçËäÇÁÇπ‰∏∫nullÔºåËØ¥ÊòéÊü•Âà∞Âè∂Â≠êËäÇÁÇπ‰∫ÜÔºå‰ªçÊ≤°Êü•Âà∞ÁõÆÊ†ákeyÔºåÂàôÁõ¥Êé•ËøîÂõûnull if (currentNode == null) &#123; return null; &#125; &#125; // ËøîÂõûÂΩìÂâçËäÇÁÇπÔºàÈÄÄÂá∫whileÂæ™ÁéØË¶Å‰πàkeyÁõ∏Á≠âÔºåË¶Å‰πàÊ≤°ÊâæÂà∞ÔºåÁªìÊûú‰∏∫nullÔºâ return currentNode; &#125; /** * ÊúÄÂ∞èÂÄº */ public Node min() &#123; Node currentNode = root; while (currentNode.leftChild != null) &#123; currentNode = currentNode.leftChild; &#125; return currentNode; &#125; /** * ÊúÄÂ§ßÂÄº */ public Node max() &#123; Node currentNode = root; while (currentNode.rightChild != null) &#123; currentNode = currentNode.rightChild; &#125; return currentNode; &#125; /** * Âà†Èô§ */ public boolean delete(int key) &#123; /* --------- Êü•ÊâæÈúÄË¶ÅË¢´Âà†Èô§ÁöÑËäÇÁÇπÂ∑≤ÁªèÂÆÉÁöÑÁà∂ËäÇÁÇπ ------- */ // ‰ªéÊ†πËäÇÁÇπÂºÄÂßãÊü•Êâæ Node deleteNode = root; // ÊöÇÂ≠òÈúÄË¶ÅË¢´Âà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ Node parentNode = root; // Ê†áËØÜË¢´Âà†Èô§ÁöÑËäÇÁÇπÊó∂Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπËøòÊòØÂè≥Â≠êËäÇÁÇπ boolean isLeftChild = false; // ‰∏ãÈù¢Ëøô‰∏™ËøáÁ®ãÂíåÊü•Êâæ‰∏ÄËá¥ÔºåÂè™‰∏çËøáÂä†‰∫ÜisLeftChildÊ†áËØÜ while (deleteNode.key != key) &#123; parentNode = deleteNode; if (key &lt; deleteNode.key) &#123; isLeftChild = true; deleteNode = deleteNode.leftChild; &#125; else &#123; isLeftChild = false; deleteNode = deleteNode.rightChild; &#125; // Â¶ÇÊûúÁõÆÊ†ákeyÂØπÂ∫îÁöÑËäÇÁÇπ‰∏∫Á©∫ÔºåÂàô‰∏çÈúÄË¶ÅÂà†Èô§ÔºåÁõ¥Êé•ËøîÂõûfalse if (deleteNode == null) &#123; return false; &#125; &#125; /* --------- ÊÉÖÂÜµ1ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊòØÂè∂Â≠êËäÇÁÇπ ------- */ if (deleteNode.leftChild == null &amp;&amp; deleteNode.rightChild == null) &#123; if (deleteNode == root) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑËäÇÁÇπ‰∏∫rootÔºåÂàôÁõ¥Êé•Â∞ÜrootËäÇÁÇπËÆæÁΩÆ‰∏∫null root = null; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫null parentNode.leftChild = null; &#125; else &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫null parentNode.rightChild = null; &#125; &#125; else if (deleteNode.leftChild != null &amp;&amp; deleteNode.rightChild != null) &#123; /* --------- ÊÉÖÂÜµ3ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÊúâ‰∏§‰∏™Â≠êËäÇÁÇπ ------- */ // Ëé∑ÂèñÂà†Èô§ËäÇÁÇπÁöÑ‰∏≠Â∫èÂêéÁªßËäÇÁÇπ Node successor = getSuccessor(deleteNode); // Â¶ÇÊûú‰º§Â§ÑËäÇÁÇπÂ∞±ÊòØÊ†πËäÇÁÇπÁöÑËØùÔºå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁõ¥Êé•Êàê‰∏∫Êñ∞ÁöÑÊ†π if (deleteNode == root) &#123; root = successor; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúÂà†Èô§ËäÇÁÇπÊòØÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂíå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÊåÇÈí© parentNode.leftChild = successor; &#125; else &#123; // Â¶ÇÊûúÂà†Èô§ËäÇÁÇπÊòØÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂíå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÊåÇÈí© parentNode.rightChild = successor; &#125; &#125; else &#123; /* --------- ÊÉÖÂÜµ2ÔºöË¢´Âà†Èô§ÁöÑËäÇÁÇπÂè™Êúâ‰∏Ä‰∏™Â≠êËäÇÁÇπ ------- */ // Ëé∑ÂèñË¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ Node deleteNodeChild = deleteNode.leftChild == null ? deleteNode.rightChild : deleteNode.leftChild; if (deleteNode == root) &#123; // Â¶ÇÊûúË¢´Âà†Èô§ËäÇÁÇπÂ∞±ÊòØrootÔºåÈÇ£‰πàÂ∞ÜÂÖ∂ÂîØ‰∏ÄÂ≠êËäÇÁÇπËÆæÁΩÆ‰∏∫root root = deleteNodeChild; &#125; else if (isLeftChild) &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫Ë¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ parentNode.leftChild = deleteNodeChild; &#125; else &#123; // Â¶ÇÊûúË¶ÅÂà†Èô§ÁöÑÂè∂Â≠êËäÇÁÇπ‰∏∫Áà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÔºåÂàôÂ∞ÜÁà∂ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂÖ≥ËÅîÁΩÆ‰∏∫Ë¢´Âà†Èô§ËäÇÁÇπÁöÑÂîØ‰∏ÄÂ≠êËäÇÁÇπ parentNode.rightChild = deleteNodeChild; &#125; &#125; return true; &#125; /** ‰∏≠Â∫èÈÅçÂéÜ */ public void inOrder(Node targetNode) &#123; if (targetNode != null) &#123; // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ inOrder(targetNode.leftChild); // ËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´ System.out.print(targetNode.key + " "); // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ inOrder(targetNode.rightChild); &#125; &#125; /** ÂâçÂ∫èÈÅçÂéÜ */ public void preOrder(Node targetNode) &#123; if (targetNode != null) &#123; // ËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´ System.out.print(targetNode.key + " "); // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ preOrder(targetNode.leftChild); // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ preOrder(targetNode.rightChild); &#125; &#125; /** ÂêéÁª≠ÈÅçÂéÜ */ public void postOrder(Node targetNode) &#123; if (targetNode != null) &#123; // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπ postOrder(targetNode.leftChild); // ÈÄíÂΩíÈÅçÂéÜÁõÆÊ†áËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ postOrder(targetNode.rightChild); // ËÆøÈóÆÁõÆÊ†áËäÇÁÇπÊú¨Ë∫´ System.out.print(targetNode.key + " "); &#125; &#125; /** * Êü•Êâæ‰∏≠Â∫èÂêéÁªßËäÇÁÇπ */ private Node getSuccessor(Node deleteNode) &#123; // ÊöÇÂ≠ò‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ Node successorParent = deleteNode; // ÊöÇÂ≠ò‰∏≠Â∫èÂêéÁªßËäÇÁÇπ Node successor = deleteNode; // ÂÖà‰ªéÂà†Èô§ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂºÄÂßãÊü•Êâæ Node currentNode = deleteNode.rightChild; while (currentNode != null) &#123; successorParent = successor; successor = currentNode; // ‰∏ÄÁõ¥ÂæÄ‰∏ãÊü•ÊâæÂΩìÂâçËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÔºåÁõ¥Âà∞‰∏∫Á©∫ currentNode = currentNode.leftChild; &#125; // Â¶Ç‰∏äÈù¢ÊñáÁ´†ÊâÄËØ¥Ôºå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÂíåÂà†Èô§ËäÇÁÇπÊúâ‰∏§ÁßçÂèØËÉΩÊÄßÔºå // ÂΩì‰∏≠Â∫èÂêéÁªßËäÇÁÇπ‰∏çÊòØÂà†Èô§ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÊó∂ÔºåÈúÄË¶ÅÂÅöÂ¶Ç‰∏ãÈ¢ùÂ§ñÊìç‰Ωú if (successor != deleteNode.rightChild) &#123; // Â¶ÇÊûú‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπ‰∏ç‰∏∫Á©∫ÁöÑËØùÔºåÂ∞ÜÂÖ∂Âíå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁà∂ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÊåÇÈí© if (successor.rightChild != null) &#123; successorParent.leftChild = successor.rightChild; &#125; // ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÂíåÂà†Èô§ËäÇÁÇπÁöÑÂè≥Â≠êËäÇÁÇπÊåÇÈí© successor.rightChild = deleteNode.rightChild; &#125; // ‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÂíåÂà†Èô§ËäÇÁÇπÁöÑÂ∑¶Â≠êËäÇÁÇπÊåÇÈí© successor.leftChild = deleteNode.leftChild; // Ââ©‰∏ãÁöÑÂà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÂíå‰∏≠Â∫èÂêéÁªßËäÇÁÇπÁöÑËøûÊé•ÂÖ≥Á≥ªÂú®Âà†Èô§ÊñπÊ≥ïÈáåÂ§ÑÁêÜÔºå // Âõ†‰∏∫Ëøô‰∏™ÊñπÊ≥ïÂÜÖÊó†Ê≥ïËé∑ÂèñÂà†Èô§ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÂØπË±° return successor; &#125; /** * ËäÇÁÇπ */ static class Node &#123; /** * ÂÖ≥ÈîÆÂ≠ó */ int key; /** * È¢ùÂ§ñÊê∫Â∏¶ÁöÑÊï∞ÊçÆ */ String value; /** * Â∑¶Â≠êËäÇÁÇπ */ Node leftChild; /** * Âè≥Â≠êËäÇÁÇπ */ Node rightChild; public Node(int key, String value) &#123; this.key = key; this.value = value; &#125; &#125;&#125;BSTÊïàÁéáËäÇÁÇπÁöÑÊü•ÊâæÈúÄË¶Å‰ªéÊ†πËäÇÁÇπÂºÄÂßã‰∏ÄÂ±Ç‰∏ÄÂ±ÇÂæÄ‰∏ãÊâæÔºåÊ†ëËäÇÁÇπÊï∞ÂíåÂ±ÇÊï∞ÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöËäÇÁÇπÊï∞Â±ÇÊï∞113273154315‚Ä¶‚Ä¶102310‚Ä¶‚Ä¶3276715‚Ä¶‚Ä¶104857520‚Ä¶‚Ä¶3355443225‚Ä¶‚Ä¶107374182430ÂÅáËÆæËäÇÁÇπÊï∞‰∏∫NÔºåÂ±ÇÊï∞‰∏∫LÔºåÈÇ£‰πà‰∏çÈöæÁúãÂá∫ÂÆÉ‰ª¨ÁöÑÂÖ≥Á≥ª‰∏∫ÔºöN=2^(L-1)ÔºåÊâÄ‰ª•L=log2(N+1)ÔºåÂ§ßÁ∫¶‰∏∫log2NÔºåÂ§ßOË°®Á§∫Ê≥ï‰∏∫O(logN)„ÄÇÁ∫¢ÈªëÊ†ëBSTÁöÑÁº∫Èô∑ËôΩÁÑ∂BSTÁªìÂêà‰∫ÜÊï∞ÁªÑÂíåÈìæË°®ÁöÑ‰ºòÂäøÔºå‰ΩÜÂÆÉ‰πü‰∏çÊòØÂÆåÁæéÁöÑÔºåÂΩìBST‰∏çÂπ≥Ë°°ÁöÑÊó∂ÂÄôÔºåÊü•ÊâæÊìç‰ΩúÊïàÁéáÊÄ•Ââß‰∏ãÈôç„ÄÇ‰∏æ‰∏™ÊØîËæÉÊûÅÁ´ØÁöÑ‰æãÂ≠êÔºöÂÅáÂ¶ÇÊèíÂÖ•ÁöÑÊï∞ÊçÆÊòØÂçáÂ∫èÊï∞ÊçÆÔºö2Ôºå4Ôºå6Ôºå8Ôºå10Ôºå12‚Ä¶ÔºåËøôÊó∂ÂÄôBSTÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËøôÊó∂ÂÄôBSTÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏Ä‰∏™ÈìæË°®ÁªìÊûÑ‰∫ÜÔºåÊêúÁ¥¢ÊïàÁéá‰∏∫O(N)„ÄÇ‰∏Ä‰∏™BSTÂÆåÂÖ®Âπ≥Ë°°ÂíåÂÆåÂÖ®‰∏çÂπ≥Ë°°ÁöÑÊÉÖÂÜµÊØîËæÉÂ∞ëËßÅÔºåÂ∞±Ê¶ÇÁéáÊù•ËØ¥ÔºåBSTÁöÑÊêúÁ¥¢ÊïàÁéá‰ªã‰∫éO(N)‰∏éO(logN)‰πãÈó¥„ÄÇÁ∫¢ÈªëÊ†ëËßÑÂàô‰∏∫‰∫ÜËß£ÂÜ≥ÈùûÂπ≥Ë°°Ê†ëÊêúÁ¥¢ÊïàÁéá‰∏ãÈôçÁöÑÈóÆÈ¢òÔºå‰∫∫‰ª¨ÂèàÊèêÂá∫‰∫ÜÁ∫¢ÈªëÊ†ëÁöÑÊ¶ÇÂøµ„ÄÇÂú®Á∫¢ÈªëÊ†ë‰∏≠ÔºåÊØè‰∏™ËäÇÁÇπË¶Å‰πàÊòØÁ∫¢Ëâ≤ÁöÑË¶Å‰πàÊòØÈªëËâ≤ÁöÑÔºåÁ∫¢ÈªëÊ†ëÂú®ÊèíÂÖ•ÂíåÂà†Èô§ÁöÑËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅÈÅµÂæ™Êüê‰∫õÁâπÂÆöÁöÑËßÑÂàôÔºåÈÅµÂæ™Ëøô‰∫õËßÑÂàôÂèØ‰ª•Á°Æ‰øùÊï∞ÂßãÁªàÊòØË∂ã‰∫éÂπ≥Ë°°ÁöÑ„ÄÇÁ∫¢ÈªëÊ†ëÈô§‰∫ÜÈÅµÂæ™Âü∫Êú¨ÁöÑBSTËßÑÂàôÂ§ñÔºåËøòÈúÄÈÅµÂæ™‰ª•‰∏ã4‰∏™ËßÑÂàôÔºöÊØè‰∏Ä‰∏™ËäÇÁÇπ‰∏çÊòØÁ∫¢Ëâ≤Â∞±ÊòØÈªëËâ≤ÔºõÊ†πËäÇÁÇπ‰∏ÄÂÆöÊòØÈªëËâ≤ÁöÑÔºõÂ¶ÇÊûúËäÇÁÇπÊó∂Á∫¢Ëâ≤ÁöÑÔºåÈÇ£‰πàÂÆÉÁöÑÂ≠êËäÇÁÇπÂøÖÈ°ªÈÉΩÊòØÈªëËâ≤ÁöÑÔºõ‰ªéÊ†πËäÇÁÇπÂà∞Âè∂Â≠êËäÇÁÇπÊàñÁ©∫Â≠êËäÇÁÇπÁöÑÊØèÊù°Ë∑ØÂæÑÔºåÂøÖÈ°ªÂåÖÂê´Áõ∏ÂêåÊï∞ÁõÆÁöÑÈªëËâ≤ËäÇÁÇπ„ÄÇÂú®Êï∞ÊçÆÊèíÂÖ•ÂíåÂà†Èô§ËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúËøùËÉå‰∫Ü‰∏äËø∞4‰∏™ËßÑÂàôÔºåÂàôÊ†ë‰ºöÊâßË°å‰ª•‰∏ãÊìç‰ΩúËøõË°å‰øÆÊ≠£Ôºå‰ª•ÈáçÊñ∞Êª°Ë∂≥‰∏äËø∞4‰∏™ËßÑÂàôÔºöÊîπÂèòËäÇÁÇπÁöÑÈ¢úËâ≤ÔºõÊâßË°åÊóãËΩ¨Êìç‰Ωú„ÄÇÁ∫¢ÈªëÊ†ëÊºîÁ§∫‰∏ãÈù¢ÈÄöËøá‰∏Ä‰∏™Âä®ÂõæÊºîÁ§∫Á∫¢ÈªëÊ†ëÂ¶Ç‰ΩïÂ§ÑÁêÜÂçáÂ∫èÊï∞ÊçÆÔºö2Ôºå4Ôºå6Ôºå8Ôºå10Ôºå12ÁöÑÊèíÂÖ•Ôºå‰ΩøÂæóÊ†ëË∂ã‰∫éÂπ≥Ë°°ÔºöÂèÇËÄÉËá™„ÄäJavaÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÔºàÁ¨¨‰∫åÁâàÔºâ„ÄãÔºå‰∏äËø∞BSTÂõæÁâáÂùáÊù•Ëá™http://btv.melezinek.cz/binary-search-tree.htmlÁΩëÁ´ôÔºåÁ∫¢ÈªëÊ†ëÁ§∫‰æãÊù•Ëá™https://www.wztlink1013.com/visualization/RedBlack.html„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Êï∞ÊçÆÁªìÊûÑ</tag>
        <tag>ÁÆóÊ≥ï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£Spring‰∫ã‰ª∂ÂèëÂ∏É‰∏éÁõëÂê¨]]></title>
    <url>%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Spring%E4%BA%8B%E4%BB%B6%E5%8F%91%E5%B8%83%E4%B8%8E%E7%9B%91%E5%90%AC.html</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®SpringÊûÑÂª∫ÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÈÄÇÂΩì‰ΩøÁî®‰∫ã‰ª∂ÂèëÂ∏É‰∏éÁõëÂê¨ÁöÑÊú∫Âà∂ÂèØ‰ª•‰ΩøÊàë‰ª¨ÁöÑ‰ª£Á†ÅÁÅµÊ¥ªÂ∫¶Êõ¥È´òÔºåÈôç‰ΩéËÄ¶ÂêàÂ∫¶„ÄÇSpringÊèê‰æõ‰∫ÜÂÆåÊï¥ÁöÑ‰∫ã‰ª∂ÂèëÂ∏É‰∏éÁõëÂê¨Ê®°ÂûãÔºåÂú®ËØ•Ê®°Âûã‰∏≠Ôºå‰∫ã‰ª∂ÂèëÂ∏ÉÊñπÂè™ÈúÄÂ∞Ü‰∫ã‰ª∂ÂèëÂ∏ÉÂá∫ÂéªÔºåÊó†ÈúÄÂÖ≥ÂøÉÊúâÂ§öÂ∞ë‰∏™ÂØπÂ∫îÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®ÔºõÁõëÂê¨Âô®Êó†ÈúÄÂÖ≥ÂøÉÊòØË∞ÅÂèëÂ∏É‰∫Ü‰∫ã‰ª∂ÔºåÂπ∂‰∏îÂèØ‰ª•ÂêåÊó∂ÁõëÂê¨Êù•Ëá™Â§ö‰∏™‰∫ã‰ª∂ÂèëÂ∏ÉÊñπÂèëÂ∏ÉÁöÑ‰∫ã‰ª∂ÔºåÈÄöËøáËøôÁßçÊú∫Âà∂Ôºå‰∫ã‰ª∂ÂèëÂ∏É‰∏éÁõëÂê¨ÊòØËß£ËÄ¶ÁöÑ„ÄÇÊú¨ËäÇÂ∞Ü‰∏æ‰æã‰∫ã‰ª∂ÂèëÂ∏É‰∏éÁõëÂê¨ÁöÑ‰ΩøÁî®ÔºåÂπ∂‰ªãÁªçÂÜÖÈÉ®ÂÆûÁé∞ÂéüÁêÜ„ÄÇ‰∫ã‰ª∂ÂèëÂ∏ÉÁõëÂê¨‰æãÂ≠êÊñ∞Âª∫springbootÂ∫îÁî®ÔºåbootÁâàÊú¨2.4.0ÔºåÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö123456&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;Ëá™ÂÆö‰πâ‰∫ã‰ª∂Spring‰∏≠‰ΩøÁî®ApplicationEventÊé•Âè£Êù•Ë°®Á§∫‰∏Ä‰∏™‰∫ã‰ª∂ÔºåÊâÄ‰ª•Êàë‰ª¨Ëá™ÂÆö‰πâ‰∫ã‰ª∂MyEventÈúÄË¶ÅÂÆûÁé∞ËØ•Êé•Âè£Ôºö123456public class MyEvent extends ApplicationEvent &#123; public MyEvent(Object source) &#123; super(source); &#125;&#125;ÊûÑÈÄ†Âô®sourceÂèÇÊï∞Ë°®Á§∫ÂΩìÂâç‰∫ã‰ª∂ÁöÑ‰∫ã‰ª∂Ê∫êÔºå‰∏ÄËà¨‰º†ÂÖ•SpringÁöÑcontext‰∏ä‰∏ãÊñáÂØπË±°Âç≥ÂèØ„ÄÇ‰∫ã‰ª∂ÂèëÂ∏ÉÂô®‰∫ã‰ª∂ÂèëÂ∏ÉÈÄöËøá‰∫ã‰ª∂ÂèëÂ∏ÉÂô®ApplicationEventPublisherÂÆåÊàêÔºåÊàë‰ª¨Ëá™ÂÆö‰πâ‰∏Ä‰∏™‰∫ã‰ª∂ÂèëÂ∏ÉÂô®MyEventPublisherÔºö12345678910111213141516171819202122232425@Componentpublic class MyEventPublisher implements ApplicationEventPublisherAware, ApplicationContextAware &#123; private ApplicationContext applicationContext; private ApplicationEventPublisher applicationEventPublisher; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; this.applicationContext = applicationContext; &#125; @Override public void setApplicationEventPublisher(ApplicationEventPublisher applicationEventPublisher) &#123; this.applicationEventPublisher = applicationEventPublisher; &#125; public void publishEvent() &#123; logger.info("ÂºÄÂßãÂèëÂ∏ÉËá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent"); MyEvent myEvent = new MyEvent(applicationContext); applicationEventPublisher.publishEvent(myEvent); logger.info("ÂèëÂ∏ÉËá™ÂÆö‰πâ‰∫ã‰ª∂MyEventÁªìÊùü"); &#125;&#125;Âú®Ëá™ÂÆö‰πâ‰∫ã‰ª∂ÂèëÂ∏ÉÂô®MyEventPublisher‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅÈÄöËøáApplicationEventPublisherÊù•ÂèëÂ∏É‰∫ã‰ª∂ÔºåÊâÄ‰ª•Êàë‰ª¨ÂÆûÁé∞‰∫ÜApplicationEventPublisherAwareÊé•Âè£ÔºåÈÄöËøáÂõûË∞ÉÊñπÊ≥ïsetApplicationEventPublisher‰∏∫MyEventPublisherÁöÑApplicationEventPublisherÂ±ûÊÄßËµãÂÄºÔºõÂêåÊ†∑ÁöÑÔºåÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑ‰∫ã‰ª∂MyEventÊûÑÈÄ†ÂáΩÊï∞ÈúÄË¶Å‰º†ÂÖ•Spring‰∏ä‰∏ãÊñáÔºåÊâÄ‰ª•MyEventPublisherËøòÂÆûÁé∞‰∫ÜApplicationContextAwareÊé•Âè£ÔºåÊ≥®ÂÖ•‰∫Ü‰∏ä‰∏ãÊñáÂØπË±°ApplicationContext„ÄÇpublishEventÊñπÊ≥ïÂèëÂ∏É‰∫Ü‰∏Ä‰∏™Ëá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent„ÄÇ‰∫ã‰ª∂ÂèëÂ∏ÉÂá∫ÂéªÂêéÔºåÊàë‰ª¨Êé•ÁùÄÁºñÂÜôÁõ∏Â∫îÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®„ÄÇÊ≥®Ëß£ÁõëÂê¨Êàë‰ª¨ÂèØ‰ª•Êñπ‰æøÂú∞ÈÄöËøá@EventListenerÊ≥®Ëß£ÂÆûÁé∞‰∫ã‰ª∂ÁõëÂê¨ÔºåÁºñÂÜôMyEventPublisherÔºö12345678910@Componentpublic class MyAnnotationEventListener &#123; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @EventListener public void onMyEventPublished(MyEvent myEvent) &#123; logger.info("Êî∂Âà∞Ëá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent -- MyAnnotationEventListener"); &#125;&#125;Ë¢´@EventListenerÊ≥®Ëß£Ê†áÊ≥®ÁöÑÊñπÊ≥ïÂÖ•ÂèÇ‰∏∫MyEventÁ±ªÂûãÔºåÊâÄ‰ª•Âè™Ë¶ÅMyEvent‰∫ã‰ª∂Ë¢´ÂèëÂ∏É‰∫ÜÔºåËØ•ÁõëÂê¨Âô®Â∞±‰ºöËµ∑‰ΩúÁî®ÔºåÂç≥ËØ•ÊñπÊ≥ï‰ºöË¢´ÂõûË∞É„ÄÇÁºñÁ®ãÂÆûÁé∞ÁõëÂê¨Èô§‰∫Ü‰ΩøÁî®@EventListenerÊ≥®Ëß£ÂÆûÁé∞‰∫ã‰ª∂ÁöÑÁõëÂê¨Â§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÊâãÂä®ÂÆûÁé∞ApplicationListenerÊé•Âè£Êù•ÂÆûÁé∞‰∫ã‰ª∂ÁöÑÁõëÂê¨ÔºàÊ≥õÂûã‰∏∫ÁõëÂê¨ÁöÑ‰∫ã‰ª∂Á±ªÂûãÔºâÔºö12345678910@Componentpublic class MyEventListener implements ApplicationListener&lt;MyEvent&gt; &#123; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @Override public void onApplicationEvent(MyEvent event) &#123; logger.info("Êî∂Âà∞Ëá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent"); &#125;&#125;ÊµãËØïÂú®springbootÁöÑÂÖ•Âè£Á±ª‰∏≠ÊµãËØï‰∫ã‰ª∂ÁöÑÂèëÂ∏ÉÔºö123456789@SpringBootApplicationpublic class MyApplication &#123; public static void main(String[] args) &#123; ConfigurableApplicationContext context = SpringApplication.run(MyApplication.class, args); MyEventPublisher publisher = context.getBean(MyEventPublisher.class); publisher.publishEvent(); &#125;&#125;ËøêË°åÁ®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºö12342020-06-22 16:31:46.667 INFO 83600 --- [ main] c.m.demo.publisher.MyEventPublisher : ÂºÄÂßãÂèëÂ∏ÉËá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent2020-06-22 16:31:46.668 INFO 83600 --- [ main] cc.mrbird.demo.listener.MyEventListener : Êî∂Âà∞Ëá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent2020-06-22 16:31:46.668 INFO 83600 --- [ main] c.m.d.l.MyAnnotationEventListener : Êî∂Âà∞Ëá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent -- MyAnnotationEventListener2020-06-22 16:31:46.668 INFO 83600 --- [ main] c.m.demo.publisher.MyEventPublisher : ÂèëÂ∏ÉËá™ÂÆö‰πâ‰∫ã‰ª∂MyEventÁªìÊùüÂèØ‰ª•ÁúãÂà∞Ôºå‰∏§‰∏™ÁõëÂê¨Âô®ÈÉΩÁõëÂê¨Âà∞‰∫Ü‰∫ã‰ª∂ÁöÑÂèëÂ∏É„ÄÇÊ≠§Â§ñÁªÜÂøÉÁöÑËØªËÄÖ‰ºöÂèëÁé∞Ôºå‰∫ã‰ª∂ÂèëÂ∏ÉÂíå‰∫ã‰ª∂ÁõëÂê¨ÊòØÂêå‰∏Ä‰∏™Á∫øÁ®ãÂÆåÊàêÁöÑÔºåËøáÁ®ã‰∏∫ÂêåÊ≠•Êìç‰ΩúÔºåÂè™ÊúâÂΩìÊâÄÊúâÂØπÂ∫î‰∫ã‰ª∂ÁõëÂê¨Âô®ÁöÑÈÄªËæëÊâßË°åÂÆåÊØïÂêéÔºå‰∫ã‰ª∂ÂèëÂ∏ÉÊñπÊ≥ïÊâçËÉΩÂá∫Ê†à„ÄÇÂêéÈù¢ËøõÈò∂‰ΩøÁî®‰ºö‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®ÂºÇÊ≠•ÁöÑÊñπÂºèËøõË°å‰∫ã‰ª∂ÁõëÂê¨„ÄÇ‰∫ã‰ª∂ÂèëÂ∏ÉÁõëÂê¨ÂéüÁêÜ‰∫ã‰ª∂ÂèëÂ∏ÉÁõëÂê¨ËøáÁ®ãÂú®‰∫ã‰ª∂ÂèëÂ∏ÉÊñπÊ≥ï‰∏äÊâì‰∏™Êñ≠ÁÇπÔºö‰ª•debugÁöÑÊñπÂºèÂêØÂä®Á®ãÂ∫èÔºåÁ®ãÂ∫èÊâßË°åÂà∞ËØ•Êñ≠ÁÇπÂêéÁÇπÂáªStep IntoÊåâÈíÆÔºåÁ®ãÂ∫èË∑≥ËΩ¨Âà∞AbstractApplicationContextÁöÑpublishEvent(ApplicationEvent event)ÊñπÊ≥ïÔºöÁªßÁª≠ÁÇπÂáªStep IntoÔºåÁ®ãÂ∫èË∑≥ËΩ¨Âà∞AbstractApplicationContextÁöÑpublishEvent(Object event, @Nullable ResolvableType eventType)ÊñπÊ≥ïÔºögetApplicationEventMulticasterÊñπÊ≥ïÁî®‰∫éËé∑ÂèñÂπøÊí≠‰∫ã‰ª∂Áî®ÁöÑÂ§öÊí≠Âô®ÔºåÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÈÇ£‰πàAbstractApplicationContextÁöÑapplicationEventMulticasterÂ±ûÊÄßÊòØ‰ΩïÊó∂ËµãÂÄºÁöÑÂë¢Ôºå‰∏ãÈù¢Â∞Ü‰ºö‰ªãÁªçÂà∞„ÄÇËé∑ÂèñÂà∞‰∫ã‰ª∂Â§öÊí≠Âô®ÂêéÔºåË∞ÉÁî®ÂÖ∂multicastEventÊñπÊ≥ïÂπøÊí≠‰∫ã‰ª∂ÔºåÁÇπÂáªStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÂÜÖÈÉ®Êü•ÁúãÂÖ∑‰ΩìÈÄªËæëÔºöÊü•ÁúãinvokeListenerÊñπÊ≥ïÊ∫êÁ†ÅÔºöÁªßÁª≠Êü•ÁúãdoInvokeListenerÊñπÊ≥ïÊ∫êÁ†ÅÔºö‰∏äËø∞ËøáÁ®ãÂ∞±ÊòØÊï¥‰∏™‰∫ã‰ª∂ÂèëÂ∏É‰∏éÁõëÂê¨ÁöÑËøáÁ®ã„ÄÇÂ§öÊí≠Âô®ÂàõÂª∫ËøáÁ®ã‰∏∫‰∫ÜÂºÑÊ∏ÖÊ•öAbstractApplicationContextÁöÑapplicationEventMulticasterÂ±ûÊÄßÊòØ‰ΩïÊó∂ËµãÂÄºÁöÑÔºàÂç≥‰∫ã‰ª∂Â§öÊí≠Âô®ÊòØ‰ΩïÊó∂ÂàõÂª∫ÁöÑÔºâÔºåÊàë‰ª¨Âú®AbstractApplicationContextÁöÑapplicationEventMulticasterÂ±ûÊÄß‰∏äÊâì‰∏™Êñ≠ÁÇπÔºö‰ª•debugÁöÑÊñπÂºèÂêØÂä®Á®ãÂ∫èÔºåÁ®ãÂ∫èË∑≥ËΩ¨Âà∞‰∫ÜAbstractApplicationContextÁöÑinitApplicationEventMulticasterÊñπÊ≥ï‰∏≠ÔºöÈÄöËøáË∑üË∏™ÊñπÊ≥ïË∞ÉÁî®Ê†àÔºåÊàë‰ª¨ÂèØ‰ª•ÊÄªÁªìÂá∫Á®ãÂ∫èÊâßË°åÂà∞‰∏äËø∞Êà™ÂõæÁöÑËøáÁ®ãÔºöSpringBootÂÖ•Âè£Á±ªÁöÑmainÊñπÊ≥ïÊâßË°åSpringApplication.run(MyApplication.class, args)ÂêØÂä®Â∫îÁî®ÔºörunÊñπÊ≥ïÂÜÖÈÉ®ÂåÖÂê´refreshContextÊñπÊ≥ïÔºàÂà∑Êñ∞‰∏ä‰∏ãÊñáÔºâÔºörefreshÊñπÊ≥ïÂÜÖÈÉ®ÂåÖÂê´initApplicationEventMulticasterÊñπÊ≥ïÔºöinitApplicationEventMulticasterÊñπÊ≥ïÂàõÂª∫Â§öÊí≠Âô®„ÄÇÁõëÂê¨Âô®Ëé∑ÂèñËøáÁ®ãÂú®ËøΩË∏™‰∫ã‰ª∂ÂèëÂ∏É‰∏éÁõëÂê¨ÁöÑËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨Áü•ÈÅì‰∫ã‰ª∂ÂØπÂ∫îÁöÑÁõëÂê¨Âô®ÊòØÈÄöËøágetApplicationListenersÊñπÊ≥ïËé∑ÂèñÁöÑÔºöÊñπÊ≥ïËøîÂõû‰∏â‰∏™MyEvent‰∫ã‰ª∂ÂØπÂ∫îÁöÑÁõëÂê¨Âô®ÔºåÁ¥¢Âºï‰∏∫0ÁöÑÁõëÂê¨Âô®‰∏∫DelegatingApplicationListenerÔºåÂÆÉÊ≤°ÊúâÂÆûË¥®ÊÄßÁöÑÂ§ÑÁêÜÊüê‰∫ã‰ª∂ÔºåÂøΩÁï•ÔºõÁ¥¢Âºï‰∏∫1ÁöÑÁõëÂê¨Âô®‰∏∫ÈÄöËøáÂÆûÁé∞ApplicationEventListenerÊé•Âè£ÁöÑÁõëÂê¨Âô®ÔºõÁ¥¢Âºï‰∏∫2ÁöÑÁõëÂê¨Âô®‰∏∫ÈÄöËøá@EventListenerÂÆûÁé∞ÁöÑÁõëÂê¨Âô®„ÄÇÁºñÁ®ãÂÆûÁé∞ÁõëÂê¨Âô®Ê≥®ÂÜåËøáÁ®ãÊü•ÁúãgetApplicationListenersÊ∫êÁ†ÅÔºöÂÖ∂‰∏≠retrieverCacheÁöÑÂÆö‰πâ‰∏∫final Map&lt;ListenerCacheKey, CachedListenerRetriever&gt; retrieverCache = new ConcurrentHashMap&lt;&gt;(64)„ÄÇÊé•ÁùÄÊü•ÁúãretrieveApplicationListenersÊñπÊ≥ïÔºàÊñπÊ≥ïËßÅÂêçÁü•ÊÑèÔºåÁ®ãÂ∫èÁ¨¨‰∏ÄÊ¨°Ëé∑Âèñ‰∫ã‰ª∂ÂØπÂ∫îÁöÑÁõëÂê¨Âô®Êó∂ÔºåÁºìÂ≠ò‰∏≠ÊòØÁ©∫ÁöÑÔºåÊâÄ‰ª•ÁªßÁª≠Ê£ÄÁ¥¢Ëé∑Âèñ‰∫ã‰ª∂ÂØπÂ∫îÁöÑÁõëÂê¨Âô®ÔºâÔºö‰ªé‰∏äÈù¢ËøôÊÆµ‰ª£Á†ÅÊàë‰ª¨Áü•ÈÅìÔºåÁî®‰∫éÈÅçÂéÜÁöÑÁõëÂê¨Âô®ÈõÜÂêàÂØπË±°listenersÂíålistenerBeansÁöÑÂÄºÊòØ‰ªéthis.defaultRetrieverÁöÑapplicationListenersÂíåapplicationListenerBeansÂ±ûÊÄßËé∑ÂèñÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂÖ≥Ê≥®Ëøô‰∫õÂ±ûÊÄßÊòØ‰ΩïÊó∂Ë¢´ËµãÂÄºÁöÑ„ÄÇdefaultRetrieverÁöÑÁ±ªÂûã‰∏∫DefaultListenerRetrieverÔºöÊàë‰ª¨Âú®applicationListenersÂ±ûÊÄß‰∏äÂè≥ÈîÆÈÄâÊã©Find UsagesÊü•ÁúãËµãÂÄºÁõ∏ÂÖ≥Êìç‰ΩúÔºöÂèØ‰ª•ÁúãÂà∞ÔºåËµãÂÄºÊìç‰ΩúÂèëÁîüÂú®AbstractApplicationEventMulticasterÁöÑaddApplicationListenerÊñπÊ≥ï‰∏≠ÔºåÁªßÁª≠Âú®addApplicationListenerÊñπÊ≥ï‰∏äÂè≥ÈîÆÈÄâÊã©Find UsagesÊü•ÁúãË∞ÉÁî®Ê∫êÔºöÊàë‰ª¨Âú®registerListenersÊñπÊ≥ï‰∏äÊâì‰∏™Êñ≠ÁÇπÔºåÈáçÊñ∞ÂêØÂä®Á®ãÂ∫èÔºåÊü•ÁúãÊñπÊ≥ïË∞ÉÁî®Ê†àÔºö‰ªéÊñπÊ≥ïË∞ÉÁî®Ê†àÊàë‰ª¨ÂèØ‰ª•ÊÄªÁªìÂá∫this.defaultRetrieverÁöÑapplicationListenersÂíåapplicationListenerBeansÂ±ûÊÄßÂÄºËµãÂÄºÁöÑËøáÁ®ãÔºöSpringApplication.run(MyApplication.class, args)ÂêØÂä®BootÁ®ãÂ∫èÔºõrunÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®refreshContextÂà∑Êñ∞ÂÆπÂô®ÊñπÊ≥ïÔºörefreshÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®‰∫ÜregisterListenerÊñπÊ≥ïÊ≥®ÂÜåÁõëÂê¨Âô®ÔºöregisterListenersÊñπÊ≥ïÂÜÖÈÉ®‰ªéIOCÂÆπÂô®Ëé∑ÂèñÊâÄÊúâApplicationListenerÁ±ªÂûãBeanÔºåÁÑ∂ÂêéËµãÂÄºÁªôthis.defaultRetrieverÁöÑapplicationListenersÂíåapplicationListenerBeansÂ±ûÊÄß„ÄÇÊ≥®Ëß£ÁõëÂê¨Âô®Ê≥®ÂÜåËøáÁ®ãÊü•Áúã@EventListenerÊ≥®Ëß£Ê∫êÁ†ÅÔºöÊü•ÁúãEventListenerMethodProcessorÊ∫êÁ†ÅÔºöÂÖ∂ÂÆûÁé∞‰∫ÜSmartInitializingSingletonÊé•Âè£ÔºåËØ•Êé•Âè£ÂåÖÂê´afterSingletonsInstantiatedÊñπÊ≥ïÔºöÈÄöËøáÊ≥®ÈáäÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™ÊñπÊ≥ïÁöÑË∞ÉÁî®Êó∂Êú∫‰∏∫ÔºöÂçïÂÆû‰æãBeanÂÆû‰æãÂåñÂêéË¢´Ë∞ÉÁî®ÔºåÊ≠§Êó∂BeanÂ∑≤ÁªèË¢´ÂàõÂª∫Âá∫Êù•„ÄÇÊàë‰ª¨Êü•ÁúãEventListenerMethodProcessorÊòØÂ¶Ç‰ΩïÂÆûÁé∞ËØ•ÊñπÊ≥ïÁöÑÔºöÁªßÁª≠Êü•ÁúãprocessBeanÊñπÊ≥ïÊ∫êÁ†ÅÔºöËá≥Ê≠§Ôºå‰∏§ÁßçÊñπÂºèÊ≥®ÂÜåÁõëÂê¨Âô®ÁöÑÂéüÁêÜÈÉΩÊêûÊ∏ÖÊ•ö‰∫Ü„ÄÇ‰ΩøÁî®ËøõÈò∂‰∏éÊãìÂ±ï‰∫ã‰ª∂ÁõëÂê¨ÂºÇÊ≠•ÂåñÈÄöËøáÂâçÈù¢ÁöÑÂàÜÊûêÔºåÊàë‰ª¨Áü•ÈÅì‰∫ã‰ª∂ÂπøÊí≠ÂíåÁõëÂê¨ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÂÆåÊàêÁöÑÂêåÊ≠•Êìç‰ΩúÔºåÊúâÊó∂ÂÄô‰∏∫‰∫ÜËÆ©ÂπøÊí≠Êõ¥ÊúâÊïàÁéáÔºåÊàë‰ª¨ÂèØ‰ª•ËÄÉËôëÂ∞Ü‰∫ã‰ª∂ÁõëÂê¨ËøáÁ®ãÂºÇÊ≠•Âåñ„ÄÇÂçï‰∏™ÂºÇÊ≠•ÂÖàÊù•ÁúãÁúãÂ¶Ç‰ΩïÂÆûÁé∞Âçï‰∏™ÁõëÂê¨Âô®ÂºÇÊ≠•„ÄÇÈ¶ñÂÖàÈúÄË¶ÅÂú®springbootÂÖ•Âè£Á±ª‰∏äÈÄöËøá@EnableAsyncÊ≥®Ëß£ÂºÄÂêØÂºÇÊ≠•ÔºåÁÑ∂ÂêéÂú®ÈúÄË¶ÅÂºÇÊ≠•ÊâßË°åÁöÑÁõëÂê¨Âô®ÊñπÊ≥ï‰∏ä‰ΩøÁî®@AsyncÊ≥®Ëß£Ê†áÊ≥®Ôºå‰ª•MyAnnotationEventListener‰∏∫‰æãÔºö1234567891011@Componentpublic class MyAnnotationEventListener &#123; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @Async // ÂºÇÊ≠• @EventListener public void onMyEventPublished(MyEvent myEvent) &#123; logger.info("Êî∂Âà∞Ëá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent -- MyAnnotationEventListener"); &#125;&#125;ÂêØÂä®Á®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºöÈÄöËøáÊó•ÂøóÂèØ‰ª•ÁúãÂá∫Êù•ÔºåËØ•ÁõëÂê¨Âô®ÊñπÊ≥ïÂ∑≤ÁªèÂºÇÊ≠•ÂåñÔºåÊâßË°åÁ∫øÁ®ã‰∏∫task-1„ÄÇÊï¥‰ΩìÂºÇÊ≠•ÈÄöËøáÂâçÈù¢Ê∫êÁ†ÅÂàÜÊûêÔºåÊàë‰ª¨Áü•ÈÅìÂ§öÊí≠Âô®Âú®ÂπøÊí≠‰∫ã‰ª∂Êó∂Ôºå‰ºöÂÖàÂà§Êñ≠ÊòØÂê¶ÊúâÊåáÂÆöexecutorÔºåÊúâÁöÑËØùÈÄöËøáexecutorÊâßË°åÁõëÂê¨Âô®ÈÄªËæë„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊåáÂÆöexecutorÁöÑÊñπÂºèÊù•ËÆ©ÊâÄÊúâÁöÑÁõëÂê¨ÊñπÊ≥ïÈÉΩÂºÇÊ≠•ÊâßË°åÔºöÊñ∞Âª∫‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºö12345678910@Configurationpublic class AsyncEventConfigure &#123; @Bean(name = AbstractApplicationContext.APPLICATION_EVENT_MULTICASTER_BEAN_NAME) public ApplicationEventMulticaster simpleApplicationEventMulticaster() &#123; SimpleApplicationEventMulticaster eventMulticaster = new SimpleApplicationEventMulticaster(); eventMulticaster.setTaskExecutor(new SimpleAsyncTaskExecutor()); return eventMulticaster; &#125;&#125;Âú®ÈÖçÁΩÆÁ±ª‰∏≠ÔºåÊàë‰ª¨Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™ÂêçÁß∞‰∏∫AbstractApplicationContext.APPLICATION_EVENT_MULTICASTER_BEAN_NAMEÔºàÂç≥applicationEventMulticasterÔºâÁöÑBeanÔºåÁî®‰∫éË¶ÜÁõñÈªòËÆ§ÁöÑ‰∫ã‰ª∂Â§öÊí≠Âô®ÔºåÁÑ∂ÂêéÊåáÂÆö‰∫ÜTaskExecutorÔºåSimpleAsyncTaskExecutor‰∏∫SpringÊèê‰æõÁöÑÂºÇÊ≠•‰ªªÂä°executor„ÄÇÂú®ÂêØÂä®È°πÁõÆÂâçÔºåÂÖàÊää‰πãÂâçÂú®springbootÂÖ•Âè£Á±ªÊ∑ªÂä†ÁöÑ@EnableAsyncÊ≥®Ëß£ÂéªÊéâÔºåÁÑ∂ÂêéÂêØÂä®È°πÁõÆÔºåËæìÂá∫Â¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÁõëÂê¨Âô®‰∫ã‰ª∂ÈÉΩÂºÇÊ≠•Âåñ‰∫Ü„ÄÇÂ§ö‰∫ã‰ª∂ÁõëÂê¨Âô®‰∫ã‰ª∂ÁõëÂê¨Âô®Èô§‰∫ÜÂèØ‰ª•ÁõëÂê¨Âçï‰∏™‰∫ã‰ª∂Â§ñÔºå‰πüÂèØ‰ª•ÁõëÂê¨Â§ö‰∏™‰∫ã‰ª∂Ôºà‰ªÖ@EventListenerÊîØÊåÅÔºâÔºå‰øÆÊîπMyAnnotationEventListenerÔºö123456789101112131415161718@Componentpublic class MyAnnotationEventListener &#123; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @EventListener(classes = &#123;MyEvent.class, ContextRefreshedEvent.class, ContextClosedEvent.class&#125;) public void onMyEventPublished(ApplicationEvent event) &#123; if (event instanceof MyEvent) &#123; logger.info("ÁõëÂê¨Âà∞MyEvent‰∫ã‰ª∂"); &#125; if (event instanceof ContextRefreshedEvent) &#123; logger.info("ÁõëÂê¨Âà∞ContextRefreshedEvent‰∫ã‰ª∂"); &#125; if (event instanceof ContextClosedEvent) &#123; logger.info("ÁõëÂê¨Âà∞ContextClosedEvent‰∫ã‰ª∂"); &#125; &#125;&#125;ËØ•ÁõëÂê¨Âô®Â∞ÜÂêåÊó∂ÁõëÂê¨MyEvent„ÄÅContextRefreshedEventÂíåContextClosedEvent‰∏âÁßçÁ±ªÂûã‰∫ã‰ª∂ÔºöÁõëÂê¨Âô®ÊéíÂ∫èÂçï‰∏™Á±ªÂûã‰∫ã‰ª∂‰πüÂèØ‰ª•ÊúâÂ§ö‰∏™ÁõëÂê¨Âô®ÂêåÊó∂ÁõëÂê¨ÔºåËøôÊó∂ÂÄôÂèØ‰ª•ÈÄöËøáÂÆûÁé∞OrderedÊé•Âè£ÂÆûÁé∞ÊéíÂ∫èÔºàÊàñËÄÖ@OrderÊ≥®Ëß£Ê†áÊ≥®Ôºâ„ÄÇ‰øÆÊîπMyEventListenerÔºö123456789101112131415@Componentpublic class MyEventListener implements ApplicationListener&lt;MyEvent&gt;, Ordered &#123; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @Override public void onApplicationEvent(MyEvent event) &#123; logger.info("Êî∂Âà∞Ëá™ÂÆö‰πâ‰∫ã‰ª∂MyEventÔºåÊàëÁöÑ‰ºòÂÖàÁ∫ßËæÉÈ´ò"); &#125; @Override public int getOrder() &#123; return 0; &#125;&#125;‰øÆÊîπMyAnnotationEventListenerÔºö1234567891011121314151617@Componentpublic class MyAnnotationEventListener implements Ordered &#123; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @EventListener(classes = &#123;MyEvent.class&#125;) public void onMyEventPublished(ApplicationEvent event) &#123; if (event instanceof MyEvent) &#123; logger.info("ÁõëÂê¨Âà∞MyEvent‰∫ã‰ª∂ÔºåÊàëÁöÑ‰ºòÂÖàÁ∫ßËæÉ‰Ωé"); &#125; &#125; @Override public int getOrder() &#123; return 1; &#125;&#125;ÂêØÂä®Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºöÈÖçÂêàSpELË°®ËææÂºè@EventListenerÊ≥®Ëß£ËøòÂåÖÂê´‰∏Ä‰∏™conditionÂ±ûÊÄßÔºåÂèØ‰ª•ÈÖçÂêàSpELË°®ËææÂºèÊù•Êù°‰ª∂ÂåñËß¶ÂèëÁõëÂê¨ÊñπÊ≥ï„ÄÇ‰øÆÊîπMyEventÔºåÊ∑ªÂä†‰∏Ä‰∏™booleanÁ±ªÂûãÂ±ûÊÄßÔºö12345678910111213141516public class MyEvent extends ApplicationEvent &#123; private boolean flag; public boolean isFlag() &#123; return flag; &#125; public void setFlag(boolean flag) &#123; this.flag = flag; &#125; public MyEvent(Object source) &#123; super(source); &#125;&#125;Âú®ÂèëÂ∏É‰∫ã‰ª∂ÁöÑÊó∂ÂÄôÔºåÂ∞ÜËØ•Â±ûÊÄßËÆæÁΩÆ‰∏∫falseÔºö1234567891011121314151617181920212223242526@Componentpublic class MyEventPublisher implements ApplicationEventPublisherAware, ApplicationContextAware &#123; private ApplicationContext applicationContext; private ApplicationEventPublisher applicationEventPublisher; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; this.applicationContext = applicationContext; &#125; @Override public void setApplicationEventPublisher(ApplicationEventPublisher applicationEventPublisher) &#123; this.applicationEventPublisher = applicationEventPublisher; &#125; public void publishEvent() &#123; logger.info("ÂºÄÂßãÂèëÂ∏ÉËá™ÂÆö‰πâ‰∫ã‰ª∂MyEvent"); MyEvent myEvent = new MyEvent(applicationContext); myEvent.setFlag(false); // ËÆæÁΩÆ‰∏∫false applicationEventPublisher.publishEvent(myEvent); logger.info("ÂèëÂ∏ÉËá™ÂÆö‰πâ‰∫ã‰ª∂MyEventÁªìÊùü"); &#125;&#125;Âú®MyAnnotationEventListenerÁöÑ@EventListenerÊ≥®Ëß£‰∏äÊºîÁ§∫Â¶Ç‰Ωï‰ΩøÁî®SpELÔºö1234567891011121314151617@Componentpublic class MyAnnotationEventListener implements Ordered &#123; private final Logger logger = LoggerFactory.getLogger(this.getClass()); @EventListener(classes = &#123;MyEvent.class&#125;, condition = "#event.flag") public void onMyEventPublished(ApplicationEvent event) &#123; if (event instanceof MyEvent) &#123; logger.info("ÁõëÂê¨Âà∞MyEvent‰∫ã‰ª∂ÔºåÊàëÁöÑ‰ºòÂÖàÁ∫ßËæÉ‰Ωé"); &#125; &#125; @Override public int getOrder() &#123; return 1; &#125;&#125;condition = &quot;#event.flag&quot;ÁöÑÂê´‰πâ‰∏∫ÔºåÂΩìÂâçevent‰∫ã‰ª∂ÔºàËøôÈáå‰∏∫MyEventÔºâÁöÑflagÂ±ûÊÄß‰∏∫trueÁöÑÊó∂ÂÄôÊâßË°å„ÄÇÂêØÂä®Á®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºöÂõ†‰∏∫Êàë‰ª¨ÂèëÂ∏ÉÁöÑMyEventÁöÑflagÂ±ûÊÄßÂÄº‰∏∫falseÔºåÊâÄ‰ª•‰∏äÈù¢Ëøô‰∏™ÁõëÂê¨Âô®Ê≤°ÊúâË¢´Ëß¶Âèë„ÄÇ‰∫ãÂä°‰∫ã‰ª∂ÁõëÂê¨Âô®Spring 4.2ÂºÄÂßãÊèê‰æõ‰∫Ü‰∏Ä‰∏™@TransactionalEventListenerÊ≥®Ëß£Áî®‰∫éÁõëÂê¨Êï∞ÊçÆÂ∫ì‰∫ãÂä°ÁöÑÂêÑ‰∏™Èò∂ÊÆµÔºöAFTER_COMMIT - ‰∫ãÂä°ÊàêÂäüÊèê‰∫§ÔºõAFTER_ROLLBACK ‚Äì ‰∫ãÂä°ÂõûÊªöÂêéÔºõAFTER_COMPLETION ‚Äì ‰∫ãÂä°ÂÆåÊàêÂêéÔºàÊó†ËÆ∫ÊòØÊèê‰∫§ËøòÊòØÂõûÊªöÔºâÔºõBEFORE_COMMIT - ‰∫ãÂä°Êèê‰∫§ÂâçÔºõ‰æãÂ≠êÔºö1234@TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT)public void onTransactionChange(ApplicationEvent event)&#123; logger.info("ÁõëÂê¨Âà∞‰∫ãÂä°Êèê‰∫§‰∫ã‰ª∂");&#125;]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringÂ£∞ÊòéÂºè‰∫ãÂä°ÂéüÁêÜ]]></title>
    <url>%2FSpring%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%8E%9F%E7%90%86.html</url>
    <content type="text"><![CDATA[Âú®Spring-‰∫ãÂä°ÁÆ°ÁêÜ‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨‰∫ÜËß£‰∫ÜÂú®Spring‰∏≠Â¶Ç‰ΩïÊñπ‰æøÁöÑÁÆ°ÁêÜÊï∞ÊçÆÂ∫ì‰∫ãÂä°ÔºåÂπ∂‰∫ÜËß£‰∫Ü‰∏Ä‰∫õÂíå‰∫ãÂä°Áõ∏ÂÖ≥ÁöÑ‰∏ì‰∏öÊúØËØ≠„ÄÇÊú¨ËäÇÂ∞ÜÈÄöËøá‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÂõûÈ°æSpringÂ£∞ÊòéÂºè‰∫ãÂä°ÁöÑ‰ΩøÁî®ÔºåÂπ∂ÈÄöËøáÊ∫êÁ†ÅËß£ËØªÂÜÖÈÉ®ÂÆûÁé∞ÂéüÁêÜÔºåÊúÄÂêéÈÄöËøáÂàó‰∏æ‰∏Ä‰∫õÂ∏∏ËßÅ‰∫ãÂä°‰∏çÁîüÊïàÁöÑÂú∫ÊôØÊù•Âä†Ê∑±ÂØπSpring‰∫ãÂä°ÂéüÁêÜÁöÑÁêÜËß£„ÄÇ‰∫ãÂä°‰æãÂ≠êÂõûÈ°æÊñ∞Âª∫SpringBootÈ°πÁõÆÔºåBootÁâàÊú¨2.4.0ÔºåÁÑ∂ÂêéÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö12345678910111213141516171819&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.1.2&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;ÂºïÂÖ•‰∫ÜJDBC„ÄÅMySQLÈ©±Âä®ÂíåmybatisÁ≠â‰æùËµñ„ÄÇÁÑ∂ÂêéÂú®SpringÂÖ•Âè£Á±ª‰∏äÂä†‰∏ä@EnableTransactionManagementÊ≥®Ëß£Ôºå‰ª•ÂºÄÂêØ‰∫ãÂä°Ôºö12345678@EnableTransactionManagement@SpringBootApplicationpublic class TransactionApplication &#123; public static void main(String[] args) throws Exception &#123; SpringApplication.run(TransactionApplication.class, args); &#125;&#125;Êé•ÁùÄÊñ∞Âª∫ÂêçÁß∞‰∏∫testÁöÑMySQLÊï∞ÊçÆÂ∫ìÔºåÂπ∂ÂàõÂª∫USERË°®Ôºö123456CREATE TABLE `USER` ( `USER_ID` varchar(10) NOT NULL COMMENT 'Áî®Êà∑ID', `USERNAME` varchar(10) DEFAULT NULL COMMENT 'Áî®Êà∑Âêç', `AGE` varchar(3) DEFAULT NULL COMMENT 'Áî®Êà∑Âπ¥ÈæÑ', PRIMARY KEY (`USER_ID`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;ÂÖ∂‰∏≠USER_IDÂ≠óÊÆµÈùûÁ©∫„ÄÇÂú®application.propertiesÈÖçÁΩÆ‰∏≠Ê∑ªÂä†Êï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÈÖçÁΩÆÔºö1234spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driverspring.datasource.username=rootspring.datasource.password=123456spring.datasource.url=jdbc:mysql://127.0.0.1:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=GMT%2b8ÂàõÂª∫USERË°®ÂØπÂ∫îÂÆû‰ΩìÁ±ªUserÔºö123456789101112131415161718192021222324252627282930313233343536373839public class User implements Serializable &#123; private String userId; private String username; private String age; public User(String userId, String username, String age) &#123; this.userId = userId; this.username = username; this.age = age; &#125; public User() &#123; &#125; public String getUserId() &#123; return userId; &#125; public void setUserId(String userId) &#123; this.userId = userId; &#125; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getAge() &#123; return age; &#125; public void setAge(String age) &#123; this.age = age; &#125;&#125;ÂàõÂª∫UserMapperÔºö123456@Mapperpublic interface UserMapper &#123; @Insert("insert into user(user_id,username,age) values(#&#123;userId&#125;,#&#123;username&#125;,#&#123;age&#125;)") void save(User user);&#125;ÂåÖÂê´‰∏Ä‰∏™Êñ∞Â¢ûÁî®Êà∑ÁöÑÊñπÊ≥ïsave„ÄÇÂàõÂª∫ServiceÊé•Âè£UserServiceÔºö12345public interface UserService &#123; void saveUser(User user);&#125;ÂÖ∂ÂÆûÁé∞Á±ªUserServiceImplÔºö12345678910111213141516171819@Servicepublic class UserServiceImpl implements UserService &#123; private final UserMapper userMapper; public UserServiceImpl(UserMapper userMapper) &#123; this.userMapper = userMapper; &#125; @Transactional @Override public void saveUser(User user) &#123; userMapper.save(user); // ÊµãËØï‰∫ãÂä°ÂõûÊªö if (!StringUtils.hasText(user.getUsername())) &#123; throw new RuntimeException("username‰∏çËÉΩ‰∏∫Á©∫"); &#125; &#125;&#125;Âú®SpringBootÁöÑÂÖ•Âè£Á±ª‰∏≠ÊµãËØï‰∏ÄÊ≥¢Ôºö1234567891011@EnableTransactionManagement@SpringBootApplicationpublic class TransactionApplication &#123; public static void main(String[] args) &#123; ConfigurableApplicationContext context = SpringApplication.run(TransactionApplication.class, args); UserService userService = context.getBean(UserService.class); User user = new User("1", null, "18"); userService.saveUser(user); &#125;&#125;Â¶ÇÊûú‰∫ãÂä°ÁîüÊïàÁöÑËØùÔºåËøôÊù°Êï∞ÊçÆÂ∞Ü‰∏ç‰ºöË¢´ÊèíÂÖ•Âà∞Êï∞ÊçÆÂ∫ì‰∏≠ÔºåËøêË°åÁ®ãÂ∫èÂêéÔºåÊü•ÁúãÂ∫ìË°®ÔºöÂèØ‰ª•ÁúãÂà∞Êï∞ÊçÆÂπ∂Ê≤°ÊúâË¢´ÊèíÂÖ•ÔºåËØ¥Êòé‰∫ãÂä°ÊéßÂà∂ÊàêÂäü„ÄÇÊàë‰ª¨Ê≥®ÈáäÊéâUserServiceImplÁöÑsaveUserÊñπÊ≥ï‰∏äÁöÑ@TransactionalÊ≥®Ëß£ÔºåÈáçÊñ∞ËøêË°åÁ®ãÂ∫èÔºåÊü•ÁúãÂ∫ìË°®ÔºöÂèØ‰ª•ÁúãÂà∞Êï∞ÊçÆË¢´ÊèíÂÖ•Âà∞Êï∞ÊçÆÂ∫ì‰∏≠‰∫ÜÔºå‰∫ãÂä°ÊéßÂà∂Â§±Êïà„ÄÇ‰∫ãÂä°ÂéüÁêÜ@EnableTransactionManagement‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáÊ®°ÂùóÈ©±Âä®Ê≥®Ëß£@EnableTransactionManagementÂºÄÂêØ‰∫Ü‰∫ãÂä°ÁÆ°ÁêÜÂäüËÉΩÔºåÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºöÊé•ÁùÄÊü•ÁúãTransactionManagementConfigurationSelectorÁöÑÊ∫êÁ†ÅÔºöÂØπÈÄöËøáSelectorÂæÄIOCÂÆπÂô®‰∏≠ÂØºÂÖ•ÁªÑ‰ª∂‰∏çÁÜüÊÇâÁöÑËØªËÄÖÂèØ‰ª•ÂèÇËÄÉÊ∑±ÂÖ•Â≠¶‰π†SpringÁªÑ‰ª∂Ê≥®ÂÜå„ÄÇÊâÄ‰ª•Êé•‰∏ãÊù•Êàë‰ª¨ÈáçÁÇπÂÖ≥Ê≥®AutoProxyRegistrarÂíåProxyTransactionManagementConfigurationÁöÑÈÄªËæëÂç≥ÂèØ„ÄÇAutoProxyRegistrarÊü•ÁúãAutoProxyRegistrarÁöÑÊ∫êÁ†ÅÔºöÊü•ÁúãAopConfigUtils.registerAutoProxyCreatorIfNecessary(registry)Ê∫êÁ†ÅÔºöÊü•ÁúãInfrastructureAdvisorAutoProxyCreatorÁöÑÂ±ÇÁ∫ßÂÖ≥Á≥ªÂõæÔºöËøôÂíåÊ∑±ÂÖ•ÁêÜËß£Spring-AOPÂéüÁêÜ‰∏ÄÊñá‰∏≠ÁöÑAnnotationAwareAspectJAutoProxyCreatorÁöÑÂ±ÇÁ∫ßÂÖ≥Á≥ªÂõæ‰∏ÄËá¥ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Êé®Êñ≠Âá∫InfrastructureAdvisorAutoProxyCreatorÁöÑ‰ΩúÁî®‰∏∫Ôºö‰∏∫ÁõÆÊ†áServiceÂàõÂª∫‰ª£ÁêÜÂØπË±°ÔºåÂ¢ûÂº∫ÁõÆÊ†áServiceÊñπÊ≥ïÔºåÁî®‰∫é‰∫ãÂä°ÊéßÂà∂„ÄÇProxyTransactionManagementConfigurationÊü•ÁúãProxyTransactionManagementConfigurationÊ∫êÁ†ÅÔºöÊ≥®ÂÜåBeanFactoryTransactionAttributeSourceAdvisorÂ¢ûÂº∫Âô®ÔºåËØ•Â¢ûÂº∫Âô®ÈúÄË¶ÅÂ¶Ç‰∏ã‰∏§‰∏™BeanÔºöTransactionAttributeSourceTransactionInterceptorÊ≥®ÂÜåTransactionAttributeSourceÔºöÊñπÊ≥ï‰ΩìÂÜÖÈÉ®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Á±ªÂûã‰∏∫AnnotationTransactionAttributeSourceÁöÑBeanÔºåÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºöÊü•ÁúãSpringTransactionAnnotationParserÊ∫êÁ†ÅÔºöÊ≥®ÂÜåTransactionInterceptor‰∫ãÂä°Êã¶Êà™Âô®ÔºöÊü•ÁúãTransactionInterceptorÊ∫êÁ†ÅÔºåÂÖ∂ÂÆûÁé∞‰∫ÜMethodInterceptorÊñπÊ≥ïÊã¶Êà™Âô®Êé•Âè£ÔºåÂú®Ê∑±ÂÖ•ÁêÜËß£Spring-AOPÂéüÁêÜ‰∏ÄÊñá‰∏≠Êõæ‰ªãÁªçËøáÔºåMethodBeforeAdviceInterceptor„ÄÅAspectJAfterAdvice„ÄÅAfterReturningAdviceInterceptorÂíåAspectJAfterThrowingAdviceÁ≠âÂ¢ûÂº∫Âô®ÈÉΩÊòØMethodInterceptorÁöÑÂÆûÁé∞Á±ªÔºåÁõÆÊ†áÊñπÊ≥ïÊâßË°åÁöÑÊó∂ÂÄôÔºåÂØπÂ∫îÊã¶Êà™Âô®ÁöÑinvokeÊñπÊ≥ï‰ºöË¢´ÊâßË°åÔºåÊâÄ‰ª•ÈáçÁÇπÂÖ≥Ê≥®TransactionInterceptorÂÆûÁé∞ÁöÑinvokeÊñπÊ≥ïÔºöÊü•ÁúãinvokeWithinTransactionÊñπÊ≥ïÊ∫êÁ†ÅÔºöcompleteTransactionAfterThrowingÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºöËøôÈáåÔºåÂÅáÂ¶ÇÊ≤°ÊúâÂú®@TransactionalÊ≥®Ëß£‰∏äÊåáÂÆöÂõûÊªöÁöÑÂºÇÂ∏∏Á±ªÂûãÁöÑËØùÔºåÈªòËÆ§Âè™ÂØπRunTimeExcetionÂíåErrorÁ±ªÂûãÂºÇÂ∏∏ËøõË°åÂõûÊªöÔºöcommitTransactionAfterReturningÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºödebugÈ™åËØÅÈáçÊñ∞ÊâìÂºÄUserServiceImplÁöÑsaveUserÊñπÊ≥ï‰∏äÁöÑ@TransactionalÊ≥®Ëß£ÔºåÁÑ∂ÂêéÂú®Â¶Ç‰∏ãÊâÄÁ§∫‰ΩçÁΩÆÊâì‰∏™Êñ≠ÁÇπÔºö‰ª•debugÁöÑÊñπÂºèÂêØÂä®Á®ãÂ∫èÔºöÂèØ‰ª•ÁúãÂà∞ÁõÆÊ†áÂØπË±°Â∑≤ÁªèË¢´JDK‰ª£ÁêÜÔºàÁõÆÊ†áÂØπË±°ÂÆûÁé∞‰∫ÜÊé•Âè£ÔºåÈªòËÆ§Ëµ∞JDKÂä®ÊÄÅ‰ª£ÁêÜ„ÄÇÂèØ‰ª•ÈÄöËøáspring.aop.proxy-target-class=trueÈÖçÁΩÆÊù•Âº∫Âà∂‰ΩøÁî®cglib‰ª£ÁêÜÔºåÈúÄË¶ÅÈ¢ùÂ§ñÂºïÂÖ•AOPËá™Âä®Ë£ÖÈÖç‰æùËµñÔºâ„ÄÇÂú®Êñ≠ÁÇπÂ§ÑÊâßË°åStep IntoÔºåÁ®ãÂ∫èË∑≥ËΩ¨Âà∞JdkDynamicAopProxyÁöÑinvokeÊñπÊ≥ïÔºöÁ®ãÂ∫èË∑≥ËΩ¨Âà∞TransactionInterceptorÁöÑinvokeÊñπÊ≥ïÔºöÂèØ‰ª•ÁúãÂà∞Êï¥‰∏™ËøáÁ®ãÂíåÊ∑±ÂÖ•ÁêÜËß£Spring-AOPÂéüÁêÜ‰∏ÄÊñá‰ªãÁªçÁöÑ‰∏ÄËá¥„ÄÇ‰∫ãÂä°‰∏çÁîüÊïàÂú∫ÊôØÂØπSpring‰∫ãÂä°Êú∫Âà∂‰∏çÁÜüÊÇâÁöÑcoderÁªèÂ∏∏‰ºöÈÅáÂà∞‰∫ãÂä°‰∏çÁîüÊïàÁöÑÂú∫ÊôØÔºåËøôÈáåÂàó‰∏æ‰∏§‰∏™ÊúÄ‰∏∫Â∏∏ËßÅÁöÑÂú∫ÊôØÔºåÂπ∂ÁªôÂá∫ÂØπÂ∫îÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇÂú∫ÊôØ‰∏ÄServiceÊñπÊ≥ïÊäõÂá∫ÁöÑÂºÇÂ∏∏‰∏çÊòØRuntimeExceptionÊàñËÄÖErrorÁ±ªÂûãÔºåÂπ∂‰∏î@TransactionalÊ≥®Ëß£‰∏äÊ≤°ÊúâÊåáÂÆöÂõûÊªöÂºÇÂ∏∏Á±ªÂûã„ÄÇÂØπÂ∫îÁöÑ‰ª£Á†Å‰æãÂ≠ê‰∏∫Ôºö12345678910111213141516171819@Servicepublic class UserServiceImpl implements UserService &#123; private final UserMapper userMapper; public UserServiceImpl(UserMapper userMapper) &#123; this.userMapper = userMapper; &#125; @Transactional @Override public void saveUser(User user) throws Exception &#123; userMapper.save(user); // ÊµãËØï‰∫ãÂä°ÂõûÊªö if (!StringUtils.hasText(user.getUsername())) &#123; throw new Exception("username‰∏çËÉΩ‰∏∫Á©∫"); &#125; &#125;&#125;ËøôÂÜ≤ÊÉÖÂÜµ‰∏ãÔºåSpringÂπ∂‰∏ç‰ºöËøõË°å‰∫ãÂä°ÂõûÊªöÊìç‰Ωú„ÄÇÊ≠£Â¶Ç@TransactionalÊ≥®Ëß£Ê∫êÁ†ÅÊ≥®ÈáäÊâÄËø∞ÁöÑÈÇ£Ê†∑ÔºöÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåSpring‰∫ãÂä°Âè™ÂØπRuntimeExceptionÊàñËÄÖErrorÁ±ªÂûãÂºÇÂ∏∏ÔºàÈîôËØØÔºâËøõË°åÂõûÊªöÔºåÊ£ÄÊü•ÂºÇÂ∏∏ÔºàÈÄöÂ∏∏‰∏∫‰∏öÂä°Á±ªÂºÇÂ∏∏Ôºâ‰∏ç‰ºöÂØºËá¥‰∫ãÂä°ÂõûÊªö„ÄÇ„ÄÇÊâÄ‰ª•Ë¶ÅËß£ÂÜ≥‰∏äÈù¢Ëøô‰∏™‰∫ãÂä°‰∏çÁîüÊïàÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰∏§ÁßçÊñπÂºèÔºöÊâãÂä®Âú®@TransactionalÊ≥®Ëß£‰∏äÂ£∞ÊòéÂõûÊªöÁöÑÂºÇÂ∏∏Á±ªÂûãÔºàÊñπÊ≥ïÊäõÂá∫ËØ•ÂºÇÂ∏∏ÂèäÂÖ∂ÊâÄÊúâÂ≠êÁ±ªÂûãÂºÇÂ∏∏ÈÉΩËÉΩËß¶Âèë‰∫ãÂä°ÂõûÊªöÔºâÔºö12345678910111213141516171819@Servicepublic class UserServiceImpl implements UserService &#123; private final UserMapper userMapper; public UserServiceImpl(UserMapper userMapper) &#123; this.userMapper = userMapper; &#125; @Transactional(rollbackFor = Exception.class) @Override public void saveUser(User user) throws Exception &#123; userMapper.save(user); // ÊµãËØï‰∫ãÂä°ÂõûÊªö if (!StringUtils.hasText(user.getUsername())) &#123; throw new Exception("username‰∏çËÉΩ‰∏∫Á©∫"); &#125; &#125;&#125;ÊñπÊ≥ïÂÜÖÊâãÂä®ÊäõÂá∫ÁöÑÊ£ÄÊü•ÂºÇÂ∏∏Á±ªÂûãÊîπ‰∏∫RuntimeExceptionÂ≠êÁ±ªÂûãÔºöÂÆö‰πâ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂºÇÂ∏∏Á±ªÂûãParamInvalidExceptionÔºö123456public class ParamInvalidException extends RuntimeException&#123; public ParamInvalidException(String message) &#123; super(message); &#125;&#125;‰øÆÊîπUserServiceImplÁöÑsaveUserÊñπÊ≥ïÔºö12345678910111213141516171819@Servicepublic class UserServiceImpl implements UserService &#123; private final UserMapper userMapper; public UserServiceImpl(UserMapper userMapper) &#123; this.userMapper = userMapper; &#125; @Transactional @Override public void saveUser(User user) &#123; userMapper.save(user); // ÊµãËØï‰∫ãÂä°ÂõûÊªö if (!StringUtils.hasText(user.getUsername())) &#123; throw new ParamInvalidException("username‰∏çËÉΩ‰∏∫Á©∫"); &#125; &#125;&#125;Ëøô‰∏§ÁßçÊñπÂºèÈÉΩËÉΩËÆ©‰∫ãÂä°ÊåâÁÖßÊàë‰ª¨ÁöÑÈ¢ÑÊúüÁîüÊïà„ÄÇÂú∫ÊôØ‰∫åÈùû‰∫ãÂä°ÊñπÊ≥ïÁõ¥Êé•ÈÄöËøáthisË∞ÉÁî®Êú¨Á±ª‰∫ãÂä°ÊñπÊ≥ï„ÄÇËøôÁßçÊÉÖÂÜµ‰πüÊòØÊØîËæÉÂ∏∏ËßÅÁöÑÔºå‰∏æ‰∏™‰æãÂ≠êÔºå‰øÆÊîπUserServiceImplÔºö123456789101112131415161718192021222324@Servicepublic class UserServiceImpl implements UserService &#123; private final UserMapper userMapper; public UserServiceImpl(UserMapper userMapper) &#123; this.userMapper = userMapper; &#125; @Override public void saveUserTest(User user) &#123; this.saveUser(user); &#125; @Transactional @Override public void saveUser(User user) &#123; userMapper.save(user); // ÊµãËØï‰∫ãÂä°ÂõûÊªö if (!StringUtils.hasText(user.getUsername())) &#123; throw new ParamInvalidException("username‰∏çËÉΩ‰∏∫Á©∫"); &#125; &#125;&#125;Âú®UserServiceImpl‰∏≠ÔºåÊàë‰ª¨Êñ∞Â¢û‰∫ÜsaveUserTestÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÊ≤°Êúâ‰ΩøÁî®@TransactionalÊ≥®Ëß£Ê†áÊ≥®Ôºå‰∏∫Èùû‰∫ãÂä°ÊñπÊ≥ïÔºåÂÜÖÈÉ®Áõ¥Êé•Ë∞ÉÁî®‰∫ÜsaveUser‰∫ãÂä°ÊñπÊ≥ï„ÄÇÂú®ÂÖ•Âè£Á±ªÈáåÊµãËØïËØ•ÊñπÊ≥ïÁöÑË∞ÉÁî®Ôºö1234567891011@EnableTransactionManagement@SpringBootApplicationpublic class TransactionApplication &#123; public static void main(String[] args) throws Exception &#123; ConfigurableApplicationContext context = SpringApplication.run(TransactionApplication.class, args); UserService userService = context.getBean(UserService.class); User user = new User("2", null, "28"); userService.saveUserTest(user); &#125;&#125;ÂêØÂä®Á®ãÂ∫èÔºåËßÇÂØüÊï∞ÊçÆÂ∫ìÊï∞ÊçÆÔºöÂèØ‰ª•ÁúãÂà∞Ôºå‰∫ãÂä°Âπ∂Ê≤°ÊúâÂõûÊªöÔºåÊï∞ÊçÆÂ∑≤ÁªèË¢´ÊèíÂÖ•Âà∞‰∫ÜÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ã‰∫ãÂä°Â§±ÊïàÁöÑÂéüÂõ†‰∏∫ÔºöSpring‰∫ãÂä°ÊéßÂà∂‰ΩøÁî®AOP‰ª£ÁêÜÂÆûÁé∞ÔºåÈÄöËøáÂØπÁõÆÊ†áÂØπË±°ÁöÑ‰ª£ÁêÜÊù•Â¢ûÂº∫ÁõÆÊ†áÊñπÊ≥ï„ÄÇËÄå‰∏äÈù¢‰æãÂ≠êÁõ¥Êé•ÈÄöËøáthisË∞ÉÁî®Êú¨Á±ªÁöÑÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåthisÁöÑÊåáÂêëÂπ∂Èùû‰ª£ÁêÜÁ±ªÔºåËÄåÊòØËØ•Á±ªÊú¨Ë∫´„ÄÇ‰ΩøÁî®debugÊù•È™åËØÅthisÊòØÂê¶‰∏∫‰ª£ÁêÜÂØπË±°ÔºöËøôÁßçÊÉÖÂÜµ‰∏ãË¶ÅËÆ©‰∫ãÂä°ÁîüÊïà‰∏ªË¶ÅÊúâÂ¶Ç‰∏ã‰∏§ÁßçËß£ÂÜ≥ÊñπÂºèÔºàÂéüÁêÜÈÉΩÊòØ‰ΩøÁî®‰ª£ÁêÜÂØπË±°Êù•Êõø‰ª£thisÔºâÔºö‰ªéIOCÂÆπÂô®‰∏≠Ëé∑ÂèñUserService BeanÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÆÉÁöÑsaveUserÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031@Servicepublic class UserServiceImpl implements UserService, ApplicationContextAware &#123; private final UserMapper userMapper; private ApplicationContext context; public UserServiceImpl(UserMapper userMapper) &#123; this.userMapper = userMapper; &#125; @Override public void saveUserTest(User user) &#123; UserService userService = context.getBean(UserService.class); userService.saveUser(user); &#125; @Transactional @Override public void saveUser(User user) &#123; userMapper.save(user); // ÊµãËØï‰∫ãÂä°ÂõûÊªö if (!StringUtils.hasText(user.getUsername())) &#123; throw new ParamInvalidException("username‰∏çËÉΩ‰∏∫Á©∫"); &#125; &#125; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; this.context = applicationContext; &#125;&#125;‰∏äÈù¢‰ª£Á†ÅÊàë‰ª¨ÈÄöËøáÂÆûÁé∞ApplicationContextAwareÊé•Âè£Ê≥®ÂÖ•‰∫ÜÂ∫îÁî®‰∏ä‰∏ãÊñáApplicationContextÔºåÁÑ∂Âêé‰ªé‰∏≠ÂèñÂá∫UserService BeanÊù•‰ª£Êõøthis„ÄÇ‰ªéAOP‰∏ä‰∏ãÊñá‰∏≠ÂèñÂá∫ÂΩìÂâç‰ª£ÁêÜÂØπË±°ÔºöËøôÁßçÊÉÖÂÜµÈ¶ñÂÖàÈúÄË¶ÅÂºïÂÖ•AOP StarterÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®SpringBootÂÖ•Âè£Á±ª‰∏≠ÈÄöËøáÊ≥®Ëß£@EnableAspectJAutoProxy(exposeProxy = true)Â∞ÜÂΩìÂâç‰ª£ÁêÜÂØπË±°Êö¥Èú≤Âà∞AOP‰∏ä‰∏ãÊñá‰∏≠ÔºàÈÄöËøáAopContextÁöÑThreadLocalÂÆûÁé∞Ôºâ„ÄÇÊúÄÂêéÂú®UserServcieImplÁöÑsaveUserTestÊñπÊ≥ï‰∏≠ÈÄöËøáAopContextËé∑ÂèñUserServceÁöÑ‰ª£ÁêÜÂØπË±°Ôºö1234567891011121314151617181920212223242526@Servicepublic class UserServiceImpl implements UserService &#123; private final UserMapper userMapper; public UserServiceImpl(UserMapper userMapper) &#123; this.userMapper = userMapper; &#125; @Override public void saveUserTest(User user) &#123; UserService userService = (UserService) AopContext.currentProxy(); userService.saveUser(user); &#125; @Transactional @Override public void saveUser(User user) &#123; userMapper.save(user); // ÊµãËØï‰∫ãÂä°ÂõûÊªö if (!StringUtils.hasText(user.getUsername())) &#123; throw new ParamInvalidException("username‰∏çËÉΩ‰∏∫Á©∫"); &#125; &#125;&#125;]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£Spring AOPÂéüÁêÜ]]></title>
    <url>%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Spring-AOP%E5%8E%9F%E7%90%86.html</url>
    <content type="text"><![CDATA[AOPÂ∫ïÂ±Ç‰∏∫Âä®ÊÄÅ‰ª£ÁêÜÔºåAOPÊåáÁöÑÊòØÔºöÂú®Á®ãÂ∫èËøêË°åÊúüÈó¥Âä®ÊÄÅÂú∞Â∞ÜÊüêÊÆµ‰ª£Á†ÅÂàáÂÖ•Âà∞ÊåáÂÆöÊñπÊ≥ïÊåáÂÆö‰ΩçÁΩÆËøõË°åËøêË°åÁöÑÁºñÁ®ãÊñπÂºèÔºåÁõ∏ÂÖ≥ËÆæËÆ°Ê®°Âºè‰∏∫‰ª£ÁêÜÊ®°Âºè„ÄÇÊú¨ËäÇÂ∞ÜÈÄöËøá‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÂõûÈ°æSpring AOPÁöÑ‰ΩøÁî®ÔºåÂπ∂‰∏îÈÄöËøádebugÊ∫êÁ†ÅÊ∑±ÂÖ•ÁêÜËß£ÂÜÖÈÉ®ÂéüÁêÜ„ÄÇhintsÔºöÊú¨ËäÇÂõæÁâáËæÉÂ§öÔºåÂä†ËΩΩËæÉÊÖ¢„ÄÇÂõûÈ°æSpring AOPÁöÑ‰ΩøÁî®Êñ∞Âª∫‰∏Ä‰∏™SpringBootÈ°πÁõÆÔºåSpringBootÁâàÊú¨‰∏∫2.4.0ÔºåÂºïÂÖ•Â¶Ç‰∏ã‰∏§‰∏™‰æùËµñÔºö12345678910&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;ÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ÁõÆÊ†áÁ±ªTatgetClassÔºåÂåÖÂê´ÂæÖ‰ºöÈúÄË¶ÅË¢´AOP‰ª£ÁêÜÂ¢ûÂº∫ÁöÑÊñπÊ≥ïtestÔºö1234567891011@Componentpublic class TargetClass &#123; public String test(String value) &#123; System.out.println("ÁõÆÊ†áÊñπÊ≥ïtestË¢´ÊâßË°å"); if (!StringUtils.hasLength(value)) &#123; throw new RuntimeException("value‰∏çËÉΩ‰∏∫Á©∫"); &#125; return value; &#125;&#125;ÁºñÂÜôÂàáÈù¢Á±ªMyAspectÔºö12345678910111213141516171819202122232425262728293031323334@Aspect@Componentpublic class MyAspect &#123; @Pointcut("execution(public * cc.mrbird..*.TargetClass.test(..))") public void pointcut() &#123; &#125; @Before("pointcut()") public void onBefore(JoinPoint joinPoint) &#123; System.out.println("onBeforeÔºö" + joinPoint.getSignature().getName() + "ÊñπÊ≥ïÂºÄÂßãÊâßË°åÔºåÂèÇÊï∞Ôºö" + Arrays.asList(joinPoint.getArgs())); &#125; @After("pointcut()") public void onAfter(JoinPoint joinPoint) &#123; System.out.println("onAfterÔºö" + joinPoint.getSignature().getName() + "ÊñπÊ≥ïÊâßË°åÁªìÊùüÔºåÂèÇÊï∞Ôºö" + Arrays.asList(joinPoint.getArgs())); &#125; @AfterReturning(value = "pointcut()", returning = "result") public void afterReturning(JoinPoint joinPoint, Object result) &#123; System.out.println("afterReturningÔºö" + joinPoint.getSignature().getName() + "ÊñπÊ≥ïÊâßË°åÁªìÊùüËøîÂõûÔºåÂèÇÊï∞Ôºö" + Arrays.asList(joinPoint.getArgs()) + "ÔºåËøîÂõûÂÄºÔºö" + result); &#125; @AfterThrowing(value = "pointcut()", throwing = "exception") public void afterThrowing(JoinPoint joinPoint, Exception exception) &#123; System.out.println("afterThrowingÔºö" + joinPoint.getSignature().getName() + "ÊñπÊ≥ïÊâßË°åÂá∫ÈîôÔºåÂèÇÊï∞Ôºö" + Arrays.asList(joinPoint.getArgs()) + "ÔºåÂºÇÂ∏∏Ôºö" + exception); &#125;&#125;ËØ•ÂàáÈù¢ÂåÖÂê´‰∫Ü4‰∏™ÈÄöÁü•ÊñπÊ≥ïÔºöÂâçÁΩÆÈÄöÁü•Ôºà@BeforeÔºâÔºöÂú®ÁõÆÊ†áÊñπÊ≥ïË¢´Ë∞ÉÁî®‰πãÂâçË∞ÉÁî®ÈÄöÁü•ÂäüËÉΩÔºõÂêéÁΩÆÈÄöÁü•Ôºà@AfterÔºâÔºöÂú®ÁõÆÊ†áÊñπÊ≥ïÂÆåÊàê‰πãÂêéË∞ÉÁî®ÈÄöÁü•ÔºåÊ≠§Êó∂‰∏ç‰ºöÂÖ≥ÂøÉÊñπÊ≥ïÁöÑËæìÂá∫ÊòØ‰ªÄ‰πàÔºõËøîÂõûÈÄöÁü•Ôºà@AfterReturningÔºâÔºöÂú®ÁõÆÊ†áÊñπÊ≥ïÊàêÂäüÊâßË°å‰πãÂêéË∞ÉÁî®ÈÄöÁü•ÔºõÂºÇÂ∏∏ÈÄöÁü•Ôºà@AfterThrowingÔºâÔºöÂú®ÁõÆÊ†áÊñπÊ≥ïÊäõÂá∫ÂºÇÂ∏∏ÂêéË∞ÉÁî®ÈÄöÁü•„ÄÇËøôÂá†‰∏™ÈÄöÁü•ÁöÑÈ°∫Â∫èÂú®‰∏çÂêåÁöÑSpringÁâàÊú¨‰∏≠ÊúâÊâÄ‰∏çÂêåÔºöSpring4.xÊ≠£Â∏∏ÊÉÖÂÜµÔºö@Before ‚Äî-&gt; ÁõÆÊ†áÊñπÊ≥ï ‚Äî-&gt; @After ‚Äî-&gt; @AfterReturningÂºÇÂ∏∏ÊÉÖÂÜµÔºö@Before ‚Äî-&gt; ÁõÆÊ†áÊñπÊ≥ï ‚Äî-&gt; @After ‚Äî-&gt; @AfterThrowingSpring5.xÊ≠£Â∏∏ÊÉÖÂÜµÔºö@Before ‚Äî-&gt; ÁõÆÊ†áÊñπÊ≥ï ‚Äî-&gt; @AfterReturning ‚Äî-&gt; @AfterÂºÇÂ∏∏ÊÉÖÂÜµÔºö@Before ‚Äî-&gt; ÁõÆÊ†áÊñπÊ≥ï ‚Äî-&gt; @AfterThrowing ‚Äî-&gt; @AfterÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉËøôÁØáÂçöÂÆ¢Ôºöhttps://www.cnblogs.com/orzjiangxiaoyu/p/13869747.html„ÄÇÈÄöÁü•È°∫Â∫èÂπ∂‰∏çÂΩ±ÂìçÊú¨ÊñáÂØπSpringAOPÊ∫êÁ†ÅÁöÑÁêÜËß£„ÄÇÂú®SpringBootÂÖ•Âè£Á±ªÊµãËØïAOPÁªìÊûúÔºö12345678910@SpringBootApplicationpublic class AopApplication &#123; public static void main(String[] args) &#123; ConfigurableApplicationContext context = SpringApplication.run(AopApplication.class, args); TargetClass targetClass = context.getBean(TargetClass.class); targetClass.test("aop"); &#125;&#125;‰∏ªË¶ÅÈÄªËæë‰∏∫‰ªéIOCÂÆπÂô®‰∏≠Ëé∑ÂèñTargetClass BeanÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÖ∂testÊñπÊ≥ïÔºåÁ®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö1234onBeforeÔºötestÊñπÊ≥ïÂºÄÂßãÊâßË°åÔºåÂèÇÊï∞Ôºö[aop]ÁõÆÊ†áÊñπÊ≥ïtestË¢´ÊâßË°åafterReturningÔºötestÊñπÊ≥ïÊâßË°åÁªìÊùüËøîÂõûÔºåÂèÇÊï∞Ôºö[aop]ÔºåËøîÂõûÂÄºÔºöaoponAfterÔºötestÊñπÊ≥ïÊâßË°åÁªìÊùüÔºåÂèÇÊï∞Ôºö[aop]testÊñπÊ≥ïÂèÇÊï∞‰∏∫Á©∫Êó∂ÔºåÁ®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö1234onBeforeÔºötestÊñπÊ≥ïÂºÄÂßãÊâßË°åÔºåÂèÇÊï∞Ôºö[]ÁõÆÊ†áÊñπÊ≥ïtestË¢´ÊâßË°åafterThrowingÔºötestÊñπÊ≥ïÊâßË°åÂá∫ÈîôÔºåÂèÇÊï∞Ôºö[]ÔºåÂºÇÂ∏∏Ôºöjava.lang.RuntimeException: value‰∏çËÉΩ‰∏∫Á©∫onAfterÔºötestÊñπÊ≥ïÊâßË°åÁªìÊùüÔºåÂèÇÊï∞Ôºö[]ÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨ÊàêÂäüÈÄöËøáSpring AOPÂ∞ÜÂêÑ‰∏™ÈÄöÁü•ÊñπÊ≥ïÁªáÂÖ•Âà∞‰∫ÜÁõÆÊ†áÊñπÊ≥ïÁöÑÂêÑ‰∏™ÊâßË°åÈò∂ÊÆµÔºå‰∏ãÈù¢Êàë‰ª¨Â∞±Êù•Ê∑±ÂÖ•Êé¢Á©∂Spring AOPÁöÑÂÆûÁé∞ÂéüÁêÜ„ÄÇ@EnableAspectJAutoProxyÂâçÈù¢Êàë‰ª¨ÂºïÂÖ•‰∫ÜSpring AOPÂºÄÁÆ±Âç≥Áî®ÁöÑstarterspring-boot-starter-aopÔºå@EnableÊ®°ÂùóÈ©±Âä®Ê≥®Ëß£EnableAspectJAutoProxyÁî®‰∫éÂºÄÂêØAspectJËá™Âä®‰ª£ÁêÜÔºåÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Import(&#123;AspectJAutoProxyRegistrar.class&#125;)public @interface EnableAspectJAutoProxy &#123; boolean proxyTargetClass() default false; boolean exposeProxy() default false;&#125;ËØ•Ê≥®Ëß£Á±ª‰∏äÈÄöËøá@ImportÂØºÂÖ•‰∫ÜAspectJAutoProxyRegistrarAspectJËá™Âä®‰ª£ÁêÜÊ≥®ÂÜåÂô®ÔºàÂØπ@Import‰∏ç‰∫ÜËß£ÁöÑËØªËÄÖÂèØ‰ª•ÂèÇËÄÉÊ∑±ÂÖ•Â≠¶‰π†SpringÁªÑ‰ª∂Ê≥®ÂÜåÔºâÔºåÊü•ÁúãAspectJAutoProxyRegistrarÁöÑÊ∫êÁ†ÅÔºöÈÄöËøáÊ≥®ÈáäÊàë‰ª¨Â§ß‰ΩìÂèØ‰ª•Áü•ÈÅìÔºåËØ•Ê≥®ÂÜåÂô®ÁöÑ‰ΩúÁî®ÊòØÂæÄIOCÂÆπÂô®ÈáåÊ≥®ÂÜå‰∫Ü‰∏Ä‰∏™Á±ªÂûã‰∏∫AnnotationAwareAspectJAutoProxyCreatorÔºàÊ≥®Ëß£È©±Âä®ÁöÑAspectJËá™Âä®‰ª£ÁêÜÂàõÂª∫Âô®ÔºâÁöÑBean„ÄÇËØ•Á±ªÁöÑregisterBeanDefinitionsÊñπÊ≥ï‰∏ªË¶ÅÂÖ≥Ê≥®Ôºö1AopConfigUtils.registerAspectJAnnotationAutoProxyCreatorIfNecessary(registry);Êü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÊ†∏ÂøÉÈÄªËæë‰∏∫ÈÄöËøáRootBeanDefinitionÂæÄIOCÊ≥®ÂÜå‰∫ÜÂêçÁß∞‰∏∫AUTO_PROXY_CREATOR_BEAN_NAMEÔºàÂ∏∏ÈáèÔºåÂÄº‰∏∫org.springframework.aop.config.internalAutoProxyCreatorÔºâÔºåÁ±ªÂûã‰∏∫AnnotationAwareAspectJAutoProxyCreatorÁöÑBeanÔºàÂØπËøôÁßçÈÄöËøáImportBeanDefinitionRegistrarÂæÄIOCÊ≥®ÂÜåBeanÊñπÂºè‰∏ç‰∫ÜËß£ÁöÑËØªËÄÖÂèØ‰ª•ÂèÇËÄÉÊ∑±ÂÖ•Â≠¶‰π†SpringÁªÑ‰ª∂Ê≥®ÂÜåÔºâ„ÄÇÊÄªÁªìÔºö@EnableAspectJAutoProxyÊ®°ÂùóÈ©±Âä®Ê≥®Ëß£ÂæÄIOCÂÆπÂô®‰∏≠Ê≥®ÂÜå‰∫ÜÁ±ªÂûã‰∏∫AnnotationAwareAspectJAutoProxyCreatorÁöÑBeanÔºåBeanÂêçÁß∞‰∏∫org.springframework.aop.config.internalAutoProxyCreator„ÄÇAnnotationAwareAspectJAutoProxyCreator class hierarchyÈÄöËøáÂâçÈù¢ÁöÑÂàÜÊûêÔºåÊàë‰ª¨ÁöÑÁõÆÂÖâËÅöÁÑ¶Âú®AnnotationAwareAspectJAutoProxyCreatorÁ±ª‰∏äÔºå‰∏∫‰∫ÜÊêûÊ∏ÖÊ•öËøô‰∏™Á±ªÁöÑ‰ΩúÁî®ÔºåÊàë‰ª¨ÂÖàÊçãÊ∏ÖÁ±ªÁöÑÂ±ÇÁ∫ßÂÖ≥Á≥ªÔºöÂèØ‰ª•ÁúãÂà∞AnnotationAwareAspectJAutoProxyCreatorÁöÑÁà∂Á±ªAbstractAutoProxyCreatorÂÆûÁé∞‰∫ÜSmartInstantiationAwareBeanPostProcessorÂíåBeanFactoryAwareÊé•Âè£„ÄÇÂÆûÁé∞BeanFactoryAwareÁî®‰∫éÂú®BeanÂàùÂßãÂåñÊó∂Ê≥®ÂÖ•BeanFactoryÔºåËÄåSmartInstantiationAwareBeanPostProcessorÊé•Âè£ÁöÑÁà∂Á±ª‰∏∫InstantiationAwareBeanPostProcessorÊé•Âè£ÔºåËØ•Êé•Âè£ÁªßÊâøËá™BeanPostProcessorÊé•Âè£„ÄÇÈÄöËøáÊ∑±ÂÖ•ÁêÜËß£Spring BeanPostProcessor &amp; InstantiationAwareBeanPostProcessor‰∏ÄËäÇÁöÑÂ≠¶‰π†ÔºåÊàë‰ª¨Áü•ÈÅìBeanPostProcessorÊé•Âè£ÂíåInstantiationAwareBeanPostProcessorÊé•Âè£ÂåÖÂê´‰∏Ä‰∫õÁî®‰∫éBeanÂÆû‰æãÂåñÂàùÂßãÂåñÂâçÂêéËøõË°åËá™ÂÆö‰πâÊìç‰ΩúÁöÑÊñπÊ≥ïÔºåÊâÄ‰ª•Êàë‰ª¨Â§ß‰ΩìÂèØ‰ª•ÁåúÊµãÂá∫ÁõÆÊ†áBeanÁöÑ‰ª£ÁêÜÊòØÂú®Ëøô‰∫õÊé•Âè£ÊñπÊ≥ïÈáåÂÆûÁé∞ÁöÑ„ÄÇÈÄöËøáÊü•ÁúãAnnotationAwareAspectJAutoProxyCreatorÂèäÂÖ∂ÂêÑ‰∏™Â±ÇÁ∫ßÁà∂Á±ªÊ∫êÁ†ÅÂèØ‰ª•ÂèëÁé∞ÔºåAbstractAutoProxyCreatorÁ±ªÂÆûÁé∞‰∫ÜInstantiationAwareBeanPostProcessorÊé•Âè£ÁöÑpostProcessBeforeInstantiationÊñπÊ≥ïÔºàËá™ÂÆö‰πâBeanÂÆû‰æãÂåñÂâçÊìç‰ΩúÈÄªËæëÔºâÔºåÂÆûÁé∞‰∫ÜBeanPostProcessorÁöÑpostProcessAfterInitializationÊñπÊ≥ïÔºàËá™ÂÆö‰πâBeanÂàùÂßãÂåñÂêéÊìç‰ΩúÈÄªËæëÔºâÔºåÊâÄ‰ª•Êàë‰ª¨Âú®Ëøô‰∏§‰∏™ÊñπÊ≥ï‰∏äÊâì‰∏™Á´ØÁÇπÔºåÁî®‰∫éÂêéÁª≠debugÔºöAOP‰ª£ÁêÜÂàõÂª∫ËøáÁ®ãÊàë‰ª¨‰ª•debugÁöÑÊñπÂºèÂêØÂä®ÂâçÈù¢ÁöÑAOP‰æãÂ≠êÔºåÂõ†‰∏∫ÂêéÁΩÆÂ§ÑÁêÜÂô®ÂØπÊâÄÊúâBeanÈÉΩÁîüÊïàÔºåÊâÄ‰ª•ÊØè‰∏™BeanÂàõÂª∫Êó∂ÈÉΩ‰ºöËøõÂÖ•Êàë‰ª¨ÂàöÂàöÊâìÊñ≠ÁÇπÁöÑÈÇ£‰∏§‰∏™ÊñπÊ≥ï‰∏≠„ÄÇ‰ΩÜÊàë‰ª¨Âè™ÂÖ≥ÂøÉSpring AOPÊòØÊÄéÊ†∑Â¢ûÂº∫Êàë‰ª¨ÂÆö‰πâÁöÑÁõÆÊ†áÁ±ªTargetClassÁöÑÔºåÊâÄ‰ª•Â¶ÇÊûúBeanÁ±ªÂûã‰∏çÊòØTargetClassÔºåÊàë‰ª¨ÈÉΩÁõ¥Êé•ÁÇπÂáªResume ProgramÊåâÈíÆË∑≥ËøáÔºåÁõ¥Âà∞BeanÁ±ªÂûãÊòØTargetClassÔºöpostProcessBeforeInstantiationÊñπÊ≥ï‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ãÂá†‰∏™Ê†∏ÂøÉÊ≠•È™§ÔºöÈÄöËøáBeanÂêçÁß∞ÂíåBeanÁ±ªÂûãËé∑ÂèñËØ•BeanÁöÑÂîØ‰∏ÄÁºìÂ≠òÈîÆÂêçÔºågetCacheKeyÊñπÊ≥ïÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂú®ËøôÈáåÔºåcacheKeyÁöÑÂÄº‰∏∫targetClass„ÄÇÂà§Êñ≠ÂΩìÂâçBeanÔºàTargetClassÔºâÊòØÂê¶ÂåÖÂê´Âú®advisedBeansÈõÜÂêà‰∏≠ÔºàAbstractAutoProxyCreatorÁöÑÊàêÂëòÂèòÈáèprivate final Map&lt;Object, Boolean&gt; advisedBeans = new ConcurrentHashMap&lt;&gt;(256)ÔºåÁî®‰∫éÂ≠òÊîæÊâÄÊúâBeanÊòØÂê¶ÈúÄË¶ÅÂ¢ûÂº∫Ê†áËØÜÔºåÈîÆ‰∏∫ÊØè‰∏™BeanÁöÑcacheKeyÔºåÂÄº‰∏∫Â∏ÉÂ∞îÁ±ªÂûãÔºåtrueË°®Á§∫ÈúÄË¶ÅÂ¢ûÂº∫ÔºåfalseË°®Á§∫‰∏çÈúÄË¶ÅÂ¢ûÂº∫ÔºâÔºåÊ≠§Êó∂TargetClassËøòÊú™ÂÆû‰æãÂåñÔºåÊâÄ‰ª•Ëá™ÁÑ∂‰∏çÂú®ËØ•ÈõÜÂêà‰∏≠„ÄÇÂà§Êñ≠ÂΩìÂâçBeanÔºàTargetClassÔºâÊòØÂê¶ÊòØÂü∫Á°ÄÁ±ªÔºåÊü•ÁúãisInfrastructureClassÊñπÊ≥ïÊ∫êÁ†ÅÔºöÊñπÊ≥ïË∞ÉÁî®‰∫ÜÁà∂Á±ªÁöÑisInfrastructureClassÊñπÊ≥ïÔºöthis.aspectJAdvisorFactory.isAspectÊñπÊ≥ïÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÊâÄ‰ª•Ëøô‰∏ÄÊ≠•ÈÄªËæë‰∏∫ÔºöÂà§Êñ≠ÂΩìÂâçBeanÔºàTargetClassÔºâÊòØÂê¶ÊòØAdviceÔºåPointcutÔºåAdvisorÔºåAopInfrastructureBeanÁöÑÂ≠êÁ±ªÊàñËÄÖÊòØÂê¶‰∏∫ÂàáÈù¢Á±ªÔºà@AspectÊ≥®Ëß£Ê†áÊ≥®Ôºâ„ÄÇÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅË∑≥ËøáÔºöshouldSkipÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÈÄöËøáBeanÂêçÁß∞Âà§Êñ≠ÊòØÂê¶‰ª•AutowireCapableBeanFactory.ORIGINAL_INSTANCE_SUFFIXÔºà.ORIGINALÔºâÁªìÂ∞æÔºåÊòØÁöÑËØùËøîÂõûtrueË°®Á§∫Ë∑≥Ëøá‰ª£ÁêÜ„ÄÇÂæàÊòéÊòæÊàë‰ª¨ÁöÑTargetClass‰∏çÁ¨¶Âêà3Âíå4ÔºåÊâÄ‰ª•ÁªßÁª≠Ëµ∞Á¨¨5Ê≠•„ÄÇÂ¶ÇÊûúÊàë‰ª¨Ëá™ÂÆö‰πâ‰∫ÜTargetSourceÔºåÂàôÂú®Ê≠§Â§ÑÂàõÂª∫Bean‰ª£ÁêÜÔºå‰ª•Âèñ‰ª£ÁõÆÊ†áBeanÁöÑÂêéÁª≠ÈªòËÆ§ÂÆû‰æãÂåñÊñπÂºè„ÄÇÊàë‰ª¨Âπ∂Ê≤°ÊúâËá™ÂÆö‰πâTargetSourceÔºåÊâÄ‰ª•Áõ¥Êé•Ë∑≥Ëøá„ÄÇÁªèËøá‰ª•‰∏äËøô‰∫õÊ≠•È™§ÔºåÂ∞±TargetClassËøô‰∏™BeanËÄåË®ÄÔºåpostProcessBeforeInstantiationÊñπÊ≥ïÊúÄÁªàËøîÂõûnull„ÄÇBeanÂÆû‰æãÂåñÂâçÁΩÆÂ§ÑÁêÜÂà∞Ê≠§ÂÆåÊØïÔºåÁÇπÂáªResume ProgramÔºåÁªßÁª≠BeanÁöÑÂêéÁª≠ÁîüÂëΩÂë®ÊúüÂ§ÑÁêÜÈÄªËæëÔºåÁ®ãÂ∫èË∑≥ËΩ¨Âà∞BeanÂàùÂßãÂåñÂêéÁΩÆÂ§ÑÁêÜÊñπÊ≥ïpostProcessAfterInitializationÔºöËØ•ÊñπÊ≥ïÈáçÁÇπÂÖ≥Ê≥®wrapIfNecessaryÊñπÊ≥ïÔºåÊü•ÁúãwrapIfNecessaryÊñπÊ≥ïÊ∫êÁ†ÅÔºögetAdvicesAndAdvisorsForBeanÊñπÊ≥ïÂÜÖÈÉ®‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ãËøô‰∫õÈÄªËæëÔºàÊúâÂÖ¥Ë∂£Ëá™Â∑±debugÊü•ÁúãÂÖ∑‰ΩìÂà§Êñ≠ÈÄªËæëÂÆûÁé∞ÔºåËøôÈáå‰∏çÂÜçË¥¥ÂõæÔºåÂè™ÂÅöÊÄªÁªìÔºâÔºöËé∑ÂèñÊâÄÊúâÁöÑÈÄöÁü•ÊñπÊ≥ïÔºàÂàáÈù¢ÈáåÂÆö‰πâÁöÑÂêÑ‰∏™ÊñπÊ≥ïÔºâÔºõÈÄöËøáÂàáÁÇπË°®ËææÂºèÂà§Êñ≠Ëøô‰∫õÈÄöÁü•ÊñπÊ≥ïÊòØÂê¶ÂèØ‰∏∫ÂΩìÂâçBeanÊâÄÁî®ÔºõÂ¶ÇÊûúÊúâÁ¨¶ÂêàÁöÑÈÄöÁü•ÊñπÊ≥ïÔºåÂàôÂØπÂÆÉ‰ª¨ËøõË°åÊéíÂ∫èÔºàÊéíÂ∫èËßÑÂàô‰∏çÂêåÁâàÊú¨SpringÊúâÊâÄ‰∏çÂêåÔºå‰∏äÈù¢Â∑≤ÁªèÊèêÂèäËøáÔºâ„ÄÇÂú®ÂâçÈù¢ÁöÑAOP‰æãÂ≠ê‰∏≠ÔºåÂàáÈù¢MyAspectÈáåÁöÑÈÄöÁü•ÊñπÊ≥ïÂ∞±ÊòØ‰∏∫‰∫ÜÂ¢ûÂº∫TargetClassÊâÄËÆæÁöÑÔºàÊ†πÊçÆÂàáÁÇπË°®ËææÂºèÔºâÔºåÊâÄ‰ª•getAdvicesAndAdvisorsForBeanÊñπÊ≥ïËøîÂõûÂÄºÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËøô‰∫õÈÄöÁü•ÊñπÊ≥ïÂ∞±ÊòØÊàë‰ª¨Âú®MyAspectÂàáÈù¢ÈáåÂÆö‰πâÁöÑÈÄöÁü•ÊñπÊ≥ïÔºöÂ¶ÇÊûúËØ•BeanÁöÑÈÄöÁü•ÊñπÊ≥ïÈõÜÂêà‰∏ç‰∏∫Á©∫ÁöÑËØùÔºåÂàôÂàõÂª∫ËØ•BeanÁöÑ‰ª£ÁêÜÂØπË±°ÔºåÂÖ∑‰ΩìÊü•ÁúãcreateProxyÊñπÊ≥ïÊ∫êÁ†ÅÔºöÁªßÁª≠Ë∑üË∏™proxyFactory.getProxy(getProxyClassLoader())Ê∫êÁ†ÅÔºöSpring‰ºöÂà§Êñ≠ÂΩìÂâç‰ΩøÁî®Âì™Áßç‰ª£ÁêÜÂØπË±°Ôºà‰∏ÄËà¨Êù•ËØ¥ÂΩìBeanÊúâÂÆûÁé∞Êé•Âè£Êó∂Ôºå‰ΩøÁî®JDKÂä®ÊÄÅ‰ª£ÁêÜÔºåÂΩìBeanÊ≤°ÊúâÂÆûÁé∞Êé•Âè£Êó∂Ôºå‰ΩøÁî®cglib‰ª£ÁêÜÔºåÂú®Boot‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáspring.aop.proxy-target-class=trueÈÖçÁΩÆÊù•Âº∫Âà∂‰ΩøÁî®cglib‰ª£ÁêÜÔºâ„ÄÇÈÄöËøáBeanÂàùÂßãÂåñÂêéÁΩÆ‰ª£ÁêÜÊñπÊ≥ïpostProcessBeforeInstantiationÂ§ÑÁêÜÂêéÔºåTargetClassË¢´ÂåÖË£Ö‰∏∫‰∫Ücglib‰ª£ÁêÜÁöÑÂ¢ûÂº∫BeanÔºåÊ≥®ÂÜåÂà∞IOCÂÆπÂô®‰∏≠ÔºöÂêéÁª≠‰ªéIOCÂÆπÂô®‰∏≠Ëé∑ÂæóÁöÑTargetClassÂ∞±ÊòØË¢´‰ª£ÁêÜÂêéÁöÑÂØπË±°ÔºåÊâßË°å‰ª£ÁêÜÂØπË±°ÁöÑÁõÆÊ†áÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºå‰ª£ÁêÜÂØπË±°‰ºöÊâßË°åÁõ∏Â∫îÁöÑÈÄöÁü•ÊñπÊ≥ïÈìæÔºå‰∏ãÈù¢Êé•ÁùÄÂàÜÊûê„ÄÇÁîüÊàêÊã¶Êà™Âô®ÈìæMethodInterceptorAOP‰ª£ÁêÜÂØπË±°ÁîüÊàêÂêéÔºåÊàë‰ª¨Êé•ÁùÄÂÖ≥Ê≥®‰ª£ÁêÜÂØπË±°ÁöÑÁõÆÊ†áÊñπÊ≥ïÊâßË°åÊó∂ÔºåÈÄöÁü•ÊñπÊ≥ïÊòØÊÄé‰πàË¢´ÊâßË°åÁöÑ„ÄÇÂÖàÂ∞ÜÂâçÈù¢ÊâìÁöÑÊñ≠ÁÇπÈÉΩÂéªÊéâÔºåÁÑ∂ÂêéÂú®SpringBootÁöÑÂÖ•Âè£Á±ªAopApplicationÁöÑÂ¶Ç‰∏ã‰ΩçÁΩÆÊâì‰∏™Êñ≠ÁÇπÔºö‰ª•debugÊñπÂºèÂêØÂä®Á®ãÂ∫èÔºöÂèØ‰ª•ÁúãÂà∞Ëé∑ÂèñÂà∞ÁöÑTargetClass BeanÂ∞±ÊòØÂâçÈù¢cglib‰ª£ÁêÜÂêéÁöÑBeanÔºàTargetClass$$EnhanceBySpringCGLIBÔºâÔºöÁÇπÂáªStep IntoËøõÂÖ•testÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®ÈÄªËæëÔºå‰ºöÂèëÁé∞Á®ãÂ∫èË∑≥ËΩ¨Âà∞‰∫ÜCglibAopProxyÁöÑinterceptÊñπÊ≥ï‰∏≠Ôºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨ÁöÑÁõÆÊ†áÂØπË±°ÁöÑÁõÆÊ†áÊñπÊ≥ïË¢´CglibAopProxyÁöÑinterceptÊñπÊ≥ïÊã¶Êà™‰∫ÜÔºåËØ•Êã¶Êà™ÊñπÊ≥ï‰∏ªË¶ÅÈÄªËæëÂ¶Ç‰∏ãÔºöËøôÈáåÂÖàÈáçÁÇπÂÖ≥Ê≥®‰∏ãgetInterceptorsAndDynamicInterceptionAdviceÊñπÊ≥ïÔºåÂÖ∂Ê∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂõæ‰∏≠ÈîôÂà´Â≠óÁ∫†Ê≠£ÔºöÊèê‰æõ-&gt;ÊèêÈ´òÔºåÊáíÂæóÂÜçÊ¨°Êà™ÂõæÊ≥®Èáä‰∫Üüò¢ÊâÄË∞ìÁöÑÊã¶Êà™Âô®ÈìæÔºåÂ∞±ÊòØÂú®‰ª£ÁêÜÂØπË±°ÁöÑÊüê‰∏™ÊñπÊ≥ïË¢´ÊâßË°åÊó∂Ôºå‰ªéÈÄöÁü•ÊñπÊ≥ïÈõÜÂêàÔºàÂàõÂª∫‰ª£ÁêÜÂØπË±°ÁöÑÊó∂ÂÄôÂ∞±Â∑≤ÁªèÂ∞ÜÂèØÁî®ÈÄöÁü•ÈõÜÂêà‰øùÂ≠òÂú®‰ª£ÁêÜÂØπË±°‰∏≠‰∫ÜÔºâ‰∏≠Á≠õÈÄâÂá∫ÈÄÇÁî®‰∫éËØ•ÊñπÊ≥ïÁöÑÈÄöÁü•ÔºåÁÑ∂ÂêéÂ∞ÅË£Ö‰∏∫Êã¶Êà™Âô®ÂØπË±°ÈõÜÂêàÔºàÁ±ªÂûã‰∏∫MethodInteceptorÔºå‰∏ãÈù¢‰ºö‰ªãÁªçÂà∞Ôºâ„ÄÇÁªßÁª≠Êü•Áúãthis.advisorChainFactory.getInterceptorsAndDynamicInterceptionAdviceÊ∫êÁ†ÅÔºöÈÄöËøádebugÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÂâç‰ª£ÁêÜÂØπË±°ÁöÑtestÊñπÊ≥ïÁöÑÊã¶Êà™Âô®Èìæ‰∏ç‰∏∫Á©∫ÔºåÂπ∂‰∏îÂÖÉÁ¥†‰∏™Êï∞‰∏∫5ÔºöÊã¶Êà™Âô®ÈìæÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Á±ªÂûã‰∏∫ExposeInvocationInterceptorÔºåÊòØÈªòËÆ§ÁöÑÊã¶Êà™Âô®ÔºåÂêéÈù¢‰ºö‰ªãÁªçÂà∞ÂÆÉÁöÑ‰ΩúÁî®„ÄÇÂâ©‰∏ãÂõõ‰∏™‰æùÊ¨°‰∏∫ÔºöMethodBeforeAdviceInterceptor„ÄÅAspectJAfterAdvice„ÄÅAfterReturningAdviceInterceptorÂíåAspectJAfterThrowingAdviceÔºåÂÆÉ‰ª¨ÈÉΩÊòØMethodInterceptorÁöÑÂÆûÁé∞Á±ªÔºöÈìæÂºèË∞ÉÁî®ÈÄöÁü•ÊñπÊ≥ïËé∑ÂèñÂà∞‰∫Ü‰ª£ÁêÜÂØπË±°ÁõÆÊ†áÊñπÊ≥ïÁöÑÊã¶Êà™Âô®ÈìæÂêéÔºåÊàë‰ª¨ÊúÄÂêéÊù•ÂÖ≥Ê≥®Ëøô‰∫õÊã¶Êà™Âô®ÊòØÂ¶Ç‰ΩïÈìæÂºèË∞ÉÁî®ÈÄöÁü•ÊñπÊ≥ïÁöÑ„ÄÇËé∑ÂèñÊã¶Êà™Âô®ÈìæÂπ∂‰∏îÊã¶Êà™Âô®Èìæ‰∏ç‰∏∫Á©∫Êó∂ÔºåCglibAopProxyÁöÑinterceptÊñπÊ≥ïÂàõÂª∫CglibMethodInvocationÂØπË±°ÔºåÂπ∂Ë∞ÉÁî®ÂÆÉÁöÑproceedÊñπÊ≥ïÔºöÊü•ÁúãCglibMethodInvocationÊ∫êÁ†ÅÔºöÊü•ÁúãCglibMethodInvocationÁà∂Á±ªReflectiveMethodInvocation proceedÊñπÊ≥ïÊ∫êÁ†ÅÔºöÊ∏ÖÈô§Êéâ‰πãÂâçÊâìÁöÑÊñ≠ÁÇπÔºåÂú®ËØ•ÊñπÊ≥ï‰∏äÁ¨¨‰∏ÄË°åÊâì‰∏™Á´ØÁÇπÔºåÈáçÊñ∞‰ª•debugÊñπÂºèÂêØÂä®BootÂ∫îÁî®ÔºöÁ®ãÂ∫èÁ¨¨‰∏ÄÊ¨°ËøõËØ•ÊñπÊ≥ïÊó∂currentInterceptorIndexÂÄº‰∏∫-1Ôºåthis.interceptorsAndDynamicMethodMatchers.get(++this.currentInterceptorIndex)ÂèñÂá∫Êã¶Êà™Âô®ÈìæÁ¨¨‰∏Ä‰∏™Êã¶Êà™Âô®ExposeInvocationInterceptorÔºåÊñπÊ≥ïÊúÄÂêéË∞ÉÁî®ËØ•Êã¶Êà™Âô®ÁöÑinvokeÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºömiÂ∞±ÊòØÊàë‰ª¨‰º†ÂÖ•ÁöÑReflectiveMethodInvocationÂØπË±°ÔºåÁ®ãÂ∫èÊâßË°åÂà∞mi.proceedÊñπÊ≥ïÊó∂ÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÊ≠§Êó∂Á®ãÂ∫èÁ¨¨‰∫åÊ¨°ÊâßË°åReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåcurrentInterceptorIndexÂÄº‰∏∫0Ôºåthis.interceptorsAndDynamicMethodMatchers.get(++this.currentInterceptorIndex)ÂèñÂá∫Êã¶Êà™Âô®ÈìæÁ¨¨‰∫å‰∏™Êã¶Êà™Âô®MethodBeforeAdviceInterceptorÔºåÊñπÊ≥ïÊúÄÂêéË∞ÉÁî®ËØ•Êã¶Êà™Âô®ÁöÑinvokeÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÂèØ‰ª•ÁúãÂà∞MethodBeforeAdviceInterceptorÁöÑinvokeÊñπÊ≥ïÁ¨¨‰∏ÄË°åË∞ÉÁî®‰∫ÜÈÄöÁü•ÊñπÊ≥ïbeforeÔºåÊ≠§Êó∂ÊéßÂà∂Âè∞ÊâìÂç∞ÂÜÖÂÆπ‰∏∫Ôºö1onBeforeÔºötestÊñπÊ≥ïÂºÄÂßãÊâßË°åÔºåÂèÇÊï∞Ôºö[hello]Êé•ÁùÄÂèàÈÄöËøámi.proceedÂÜçÊ¨°Ë∞ÉÁî®ReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÊ≠§Êó∂Á®ãÂ∫èÁ¨¨‰∏âÊ¨°ÊâßË°åReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåcurrentInterceptorIndexÂÄº‰∏∫1Ôºåthis.interceptorsAndDynamicMethodMatchers.get(++this.currentInterceptorIndex)ÂèñÂá∫Êã¶Êà™Âô®ÈìæÁ¨¨‰∏â‰∏™Êã¶Êà™Âô®AspectJAfterAdviceÔºåÊñπÊ≥ïÊúÄÂêéË∞ÉÁî®ËØ•Êã¶Êà™Âô®ÁöÑinvokeÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÂèØ‰ª•ÁúãÂà∞AspectJAfterAdviceÁöÑinvokeÊñπÊ≥ïÂÜÖÈÄöËøámi.proceedÂÜçÊ¨°Ë∞ÉÁî®ReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÊ≠§Êó∂Á®ãÂ∫èÁ¨¨ÂõõÊ¨°ÊâßË°åReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåcurrentInterceptorIndexÂÄº‰∏∫2Ôºåthis.interceptorsAndDynamicMethodMatchers.get(++this.currentInterceptorIndex)ÂèñÂá∫Êã¶Êà™Âô®ÈìæÁ¨¨Âõõ‰∏™Êã¶Êà™Âô®AfterReturningAdviceInterceptorÔºåÊñπÊ≥ïÊúÄÂêéË∞ÉÁî®ËØ•Êã¶Êà™Âô®ÁöÑinvokeÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÂèØ‰ª•ÁúãÂà∞AfterReturningAdviceInterceptorÁöÑinvokeÊñπÊ≥ïÂÜÖÈÄöËøámi.proceedÂÜçÊ¨°Ë∞ÉÁî®ReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÊ≠§Êó∂Á®ãÂ∫èÁ¨¨‰∫îÊ¨°ÊâßË°åReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåcurrentInterceptorIndexÂÄº‰∏∫3Ôºåthis.interceptorsAndDynamicMethodMatchers.get(++this.currentInterceptorIndex)ÂèñÂá∫Êã¶Êà™Âô®ÈìæÁ¨¨‰∫î‰∏™Êã¶Êà™Âô®AspectJAfterThrowingAdviceÔºåÊñπÊ≥ïÊúÄÂêéË∞ÉÁî®ËØ•Êã¶Êà™Âô®ÁöÑinvokeÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÂèØ‰ª•ÁúãÂà∞AspectJAfterThrowingAdviceÁöÑinvokeÊñπÊ≥ïÂÜÖÈÄöËøámi.proceedÂÜçÊ¨°Ë∞ÉÁî®ReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåStep IntoËøõÂÖ•ËØ•ÊñπÊ≥ïÔºöÊ≠§Êó∂Á®ãÂ∫èÁ¨¨ÂÖ≠Ê¨°ÊâßË°åReflectiveMethodInvocationÁöÑpoceedÊñπÊ≥ïÔºåcurrentInterceptorIndexÂÄº‰∏∫4ÔºåËÄåÊã¶Êà™Âô®ÈìæÁöÑÈïøÂ∫¶‰∏∫5Ôºå4==5-1ÊàêÁ´ãÔºåÊâÄ‰ª•ÊâßË°åinvokeJoinpoint()ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÂÜÖÈÉ®ÈÄöËøáÂèçÂ∞ÑË∞ÉÁî®‰∫ÜÁõÆÊ†áÊñπÊ≥ïÔºàËøôÈáå‰∏∫TargetClassÁöÑtestÊñπÊ≥ïÔºâÔºåÊâßË°åÂêéÔºåÊéßÂà∂Âè∞ÊâìÂç∞ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö12onBeforeÔºötestÊñπÊ≥ïÂºÄÂßãÊâßË°åÔºåÂèÇÊï∞Ôºö[hello]ÁõÆÊ†áÊñπÊ≥ïtestË¢´ÊâßË°åÈöèÁùÄinvokeJoinpoint()ÊñπÊ≥ïÊâßË°åÁªìÊùüËøîÂõûÂá∫Ê†àÔºåÁ®ãÂ∫èÂõûÂà∞AspectJAfterThrowingAdviceÁöÑinvokeÊñπÊ≥ïÔºöÂ∞±Ëøô‰∏™‰æãÂ≠êÊù•ËØ¥ÔºåÁõÆÊ†áÊñπÊ≥ïtestÂπ∂Ê≤°ÊúâÊäõÂá∫ÂºÇÂ∏∏ÔºåÊâÄ‰ª•AspectJAfterThrowingAdviceÁöÑinvokeÊñπÊ≥ïÊâßË°åÁªìÊùüÂá∫Ê†àÔºåÁ®ãÂ∫èÂõûÂà∞AfterReturningAdviceInteceptorÁöÑinvokeÊñπÊ≥ïÔºöthis.advice.afterReturningÊâßË°åafterReturningÈÄöÁü•ÊñπÊ≥ïÔºåÊéßÂà∂Âè∞ÊâìÂç∞ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123onBeforeÔºötestÊñπÊ≥ïÂºÄÂßãÊâßË°åÔºåÂèÇÊï∞Ôºö[hello]ÁõÆÊ†áÊñπÊ≥ïtestË¢´ÊâßË°åafterReturningÔºötestÊñπÊ≥ïÊâßË°åÁªìÊùüËøîÂõûÔºåÂèÇÊï∞Ôºö[hello]ÔºåËøîÂõûÂÄºÔºöhelloAfterReturningAdviceInteceptorÁöÑinvokeÊñπÊ≥ïÊâßË°åÁªìÊùüÂá∫Ê†àÔºåÁ®ãÂ∫èÂõûÂà∞AspectJAfterAdviceÁöÑinvokeÊñπÊ≥ïÔºöAspectJAfterAdviceÁöÑinvokeÊñπÊ≥ïÊúÄÁªàÊâßË°åfinally afterÈÄªËæëÔºåÊéßÂà∂Âè∞ÊâìÂç∞ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö1234onBeforeÔºötestÊñπÊ≥ïÂºÄÂßãÊâßË°åÔºåÂèÇÊï∞Ôºö[hello]ÁõÆÊ†áÊñπÊ≥ïtestË¢´ÊâßË°åafterReturningÔºötestÊñπÊ≥ïÊâßË°åÁªìÊùüËøîÂõûÔºåÂèÇÊï∞Ôºö[hello]ÔºåËøîÂõûÂÄºÔºöhelloonAfterÔºötestÊñπÊ≥ïÊâßË°åÁªìÊùüÔºåÂèÇÊï∞Ôºö[hello]AspectJAfterAdviceÁöÑinvokeÊñπÊ≥ïÊâßË°åÁªìÊùüÂá∫Ê†àÔºåÁ®ãÂ∫èÂõûÂà∞MethodBeforeAdviceInterceptorÁöÑinvokeÊñπÊ≥ïÔºöMethodBeforeAdviceInterceptorÁöÑinvokeÊñπÊ≥ïÊ≠£Â∏∏ÊâßË°åÁªìÊùüÔºåÂá∫Ê†àÔºåÁ®ãÂ∫èÂõûÂà∞ExposeInvocationInterceptorÁöÑinvokeÊñπÊ≥ïÔºöExposeInvocationInterceptorÁöÑinvokeÊñπÊ≥ïÊâßË°åÁªìÊùüÂá∫Ê†àÔºåÁ®ãÂ∫èÂõûÂà∞CglibAopProxyÁöÑinterceptÊñπÊ≥ïÔºöCglibAopProxyÁöÑinterceptÊñπÊ≥ïÊâßË°åÁªìÊùüÂá∫Ê†àÂêéÔºåÊï¥‰∏™AOPÁöÑÊã¶Êà™Âô®ÈìæË∞ÉÁî®‰πüÈöè‰πãÁªìÊùü‰∫ÜÔºöÊàë‰ª¨Â∑≤ÁªèÊàêÂäüÂú®ÁõÆÊ†áÊñπÊ≥ïÁöÑÂêÑ‰∏™ÊâßË°åÊó∂ÊúüÁªáÂÖ•‰∫ÜÈÄöÁü•ÊñπÊ≥ï„ÄÇ‰∏äËø∞ËøáÁ®ã‰º¥ÈöèÁùÄ‰∏çÊñ≠ÁöÑÂÖ•Ê†àÂá∫Ê†àÊìç‰ΩúÔºå‰∏çÊáÇÊÇ®ÁúãÊáÇÊ≤°ü§®„ÄÇ‰∏ãÈù¢Áî®‰∏ÄÂº†ÂõæÊÄªÁªìÊã¶Êà™Âô®ÈìæË∞ÉÁî®ËøáÁ®ãÔºöÂ∞öÁ°ÖË∞∑AOPÊ∫êÁ†ÅËß£ÊûêÂ≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£BeanFactoryPostProcessor & BeanDefinitionRegistryPostProcessor]]></title>
    <url>%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3BeanFactoryPostProcessor-BeanDefinitionRegistryPostProcessor.html</url>
    <content type="text"><![CDATA[Êú¨ËäÇ‰∏ªË¶ÅËÆ∞ÂΩïBeanFactoryPostProcessorÂíåBeanDefinitionRegistryPostProcessorÁöÑÊñπÊ≥ïÊâßË°åÊó∂Êú∫‰ª•ÂèäÁÆÄÂçïÂéüÁêÜÂàÜÊûê„ÄÇBeanFactoryPostProcessorÊü•ÁúãBeanFactoryPostProcessorÊ∫êÁ†ÅÔºöÊ†πÊçÆÊ≥®ÈáäÊàë‰ª¨‰∫ÜËß£Âà∞postProcessBeanFactoryÊñπÊ≥ïÁöÑÊâßË°åÊó∂Êú∫‰∏∫ÔºöBeanFactoryÊ†áÂáÜÂàùÂßãÂåñ‰πãÂêéÔºåÊâÄÊúâÁöÑBeanÂÆö‰πâÂ∑≤ÁªèË¢´Âä†ËΩΩÔºå‰ΩÜBeanÁöÑÂÆû‰æãËøòÊ≤°Ë¢´ÂàõÂª∫Ôºà‰∏çÂåÖÊã¨BeanFactoryPostProcessorÁ±ªÂûãÔºâ„ÄÇËØ•ÊñπÊ≥ïÈÄöÂ∏∏Áî®‰∫é‰øÆÊîπbeanÁöÑÂÆö‰πâÔºåBeanÁöÑÂ±ûÊÄßÂÄºÁ≠âÔºåÁîöËá≥ÂèØ‰ª•Âú®Ê≠§Âø´ÈÄüÂàùÂßãÂåñBean„ÄÇ‰∏ãÈù¢ÊµãËØï‰∏ÄÊ≥¢„ÄÇÊñ∞Âª∫SpringBootÈ°πÁõÆÔºåBootÁâàÊú¨2.4.0Ôºå‰æùËµñÂ¶Ç‰∏ãÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÊñ∞Âª∫MyBeanFactoryPostProcessorÔºåÂÆûÁé∞BeanFactoryPostProcessorÊé•Âè£Ôºö12345678910111213141516171819202122@Componentpublic class MyBeanFactoryPostProcessor implements BeanFactoryPostProcessor &#123; private static final Logger logger = LoggerFactory.getLogger(MyBeanFactoryPostProcessor.class); public MyBeanFactoryPostProcessor() &#123; logger.info("ÂÆû‰æãÂåñMyBeanFactoryPostProcessor Bean"); &#125; @Override public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException &#123; int beanDefinitionCount = beanFactory.getBeanDefinitionCount(); logger.info("BeanÂÆö‰πâ‰∏™Êï∞: " + beanDefinitionCount); &#125; @Component static class TestBean &#123; public TestBean() &#123; logger.info("ÂÆû‰æãÂåñTestBean"); &#125; &#125;&#125;Âú®postProcessBeanFactoryÊñπÊ≥ïÂÜÖÔºåÊàë‰ª¨ÊâìÂç∞‰∫ÜÂΩìÂâçÂ∑≤Âä†ËΩΩBeanÂÆö‰πâÁöÑ‰∏™Êï∞ÔºåÂπ∂‰∏îÂú®MyBeanFactoryPostProcessorÁ±ª‰∏≠ÔºåÊ≥®ÂÜå‰∫ÜTestBean„ÄÇMyBeanFactoryPostProcessorÂíåTestBeanÁöÑÊûÑÈÄ†ÂáΩÊï∞ËæìÂá∫ÁöÑÊó•ÂøóÁî®‰∫éËßÇÂØüBeanÂÆû‰æãÂåñÊó∂Êú∫„ÄÇÂêØÂä®Á®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºö‰∏äÈù¢ÁöÑÊó•ÂøóËØÅÂÆû‰∫ÜÊñπÊ≥ïÁöÑÊâßË°åÊó∂Êú∫ÁöÑÁ°ÆÊòØÂú®BeanFactoryÊ†áÂáÜÂàùÂßãÂåñ‰πãÂêéÔºåÊâÄÊúâÁöÑBeanÂÆö‰πâÂ∑≤ÁªèË¢´Âä†ËΩΩÔºå‰ΩÜBeanÁöÑÂÆû‰æãËøòÊ≤°Ë¢´ÂàõÂª∫ÔºàÊ≠§Êó∂TestBeanËøòÊú™Ë¢´ÂÆû‰æãÂåñÔºåÊó•ÂøóËøòÊ≤°ÊúâËæìÂá∫‚ÄùÂÆû‰æãÂåñTestBean‚ÄùÔºå‰ΩÜËøô‰∏çÂåÖÊã¨BeanFactoryPostProcessorÁ±ªÂûãBeanÔºåËØ•ÊñπÊ≥ïÊâßË°å‰πãÂâçÔºåÊó•ÂøóÂ∞±Â∑≤ÁªèËæìÂá∫‰∫Ü‚ÄùÂÆû‰æãÂåñMyBeanFactoryPostProcessor Bean‚ÄùÔºâ„ÄÇÊàë‰ª¨Âú®postProcessBeanFactoryÊñπÊ≥ï‰∏äÊâì‰∏™Êñ≠ÁÇπÔºö‰ª•debugÊñπÂºèÂêØÂä®Á®ãÂ∫èÔºöÈÄöËøáËøΩË∏™ÊñπÊ≥ïË∞ÉÁî®Ê†àÔºåÊàë‰ª¨ÂèØ‰ª•ÊÄªÁªìÂá∫BeanFactoryPostProcessorÁöÑpostProcessBeanFactoryÊñπÊ≥ïÊâßË°åÊó∂Êú∫ÂíåÂéüÁêÜÔºöSpringApplication.run(MyApplication.class, args)ÂêØÂä®BootÁ®ãÂ∫èÔºörunÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®refreshContextÊñπÊ≥ïÂà∑Êñ∞‰∏ä‰∏ãÊñáÔºörefreshÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®invokeBeanFactoryPostProcessorsÊñπÊ≥ïÔºöPostProcessorRegistrationDelegateÁöÑinvokeBeanFactoryPostProcessorsÊñπÊ≥ïÂÜÖÈÉ®ÔºöBeanDefinitionRegistryPostProcessorBeanDefinitionRegistryPostProcessorÁªßÊâøËá™BeanFactoryPostProcessorÔºåÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™postProcessBeanDefinitionRegistryÊñπÊ≥ïÔºöÈÄöËøáÊ≥®ÈáäÊàë‰ª¨‰∫ÜËß£Âà∞postProcessBeanDefinitionRegistryÊñπÊ≥ïÁöÑÊâßË°åÊó∂Êú∫‰∏∫ÔºöÊâÄÊúâÁöÑBeanÂÆö‰πâÂç≥Â∞ÜË¢´Âä†ËΩΩÔºå‰ΩÜBeanÁöÑÂÆû‰æãËøòÊ≤°Ë¢´ÂàõÂª∫Êó∂„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåBeanDefinitionRegistryPostProcessorÁöÑpostProcessBeanDefinitionRegistryÊñπÊ≥ïÊâßË°åÊó∂Êú∫ÂÖà‰∫éBeanFactoryPostProcessorÁöÑpostProcessBeanFactoryÊñπÊ≥ï„ÄÇËøô‰∏™ÊñπÊ≥ïÈÄöÂ∏∏Áî®‰∫éÁªôIOCÂÆπÂô®Ê∑ªÂä†È¢ùÂ§ñÁöÑÁªÑ‰ª∂„ÄÇ‰∏æ‰∏™‰æãÂ≠êÊµãËØï‰∏ÄÊ≥¢„ÄÇÊñ∞Âª∫BeanDefinitionRegistryPostProcessorÁöÑÂÆûÁé∞Á±ªMyBeanDefinitionRegistryPostProcessorÔºö12345678910111213141516171819@Componentpublic class MyBeanDefinitionRegistryPostProcessor implements BeanDefinitionRegistryPostProcessor &#123; private final Logger logger = LoggerFactory.getLogger(MyBeanDefinitionRegistryPostProcessor.class); @Override public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException &#123; int beanDefinitionCount = registry.getBeanDefinitionCount(); logger.info("BeanÂÆö‰πâ‰∏™Êï∞: " + beanDefinitionCount); // Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑBeanÂÆö‰πâ RootBeanDefinition definition = new RootBeanDefinition(Object.class); registry.registerBeanDefinition("hello", definition); &#125; @Override public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException &#123; &#125;&#125;ÂêØÂä®Á®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåBeanDefinitionRegistryPostProcessorÁöÑpostProcessBeanDefinitionRegistryÊñπÊ≥ïÊâßË°åÊó∂Êú∫ÁöÑÁ°ÆÂÖà‰∫éBeanFactoryPostProcessorÁöÑpostProcessBeanFactoryÊñπÊ≥ï„ÄÇÈÄöËøáÊü•ÁúãPostProcessorRegistrationDelegateÁöÑinvokeBeanFactoryPostProcessorsÊñπÊ≥ïÊ∫êÁ†Å‰πüÂèØ‰ª•ËØÅÂÆûËøô‰∏ÄÁÇπÔºö]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£Spring BeanPostProcessor & InstantiationAwareBeanPostProcessor]]></title>
    <url>%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Spring-BeanPostProcessor-InstantiationAwareBeanPostProcessor.html</url>
    <content type="text"><![CDATA[Âú®Ê∑±ÂÖ•Â≠¶‰π†Spring BeanÁîüÂëΩÂë®Êúü‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨Â≠¶‰π†‰∫ÜBeanÂêéÁΩÆÂ§ÑÁêÜÂô®BeanPostProcessorÔºåÁî®‰∫éÂú®BeanÂàùÂßãÂåñÂâçÂêéÊèíÂÖ•Êàë‰ª¨Ëá™Â∑±ÁöÑÈÄªËæëÔºàBeanÂ¢ûÂº∫ÔºåBean‰ª£ÁêÜÁ≠âÔºâ„ÄÇ‰ªäÂ§©ÂÅ∂ÁÑ∂Êé•Ëß¶Âà∞BeanPostProcessorÁöÑÂ≠êÁ±ªInstantiationAwareBeanPostProcessorÔºåÁî®‰∫éBeanÂÆû‰æãÂåñÂâçÂêéÂ§ÑÁêÜ„ÄÇÊú¨ËäÇËÆ∞ÂΩï‰∏§ËÄÖÁöÑÂå∫Âà´‰ª•ÂèäÁÆÄÂçïÂéüÁêÜÂàÜÊûê„ÄÇ‰∏§ËÄÖÊØîËæÉInitialization‰∏∫ÂàùÂßãÂåñÁöÑÊÑèÊÄùÔºåInstantiation‰∏∫ÂÆû‰æãÂåñÁöÑÊÑèÊÄù„ÄÇÂú®Spring BeanÁîüÂëΩÂë®Êúü‰∏≠ÔºåÂÆû‰æãÂåñÊåáÁöÑÊòØÂàõÂª∫BeanÁöÑËøáÁ®ãÔºåÂàùÂßãÂåñÊåáÁöÑÊòØBeanÂàõÂª∫ÂêéÔºåÂØπÂÖ∂Â±ûÊÄßËøõË°åËµãÂÄºÔºàpopulate beanÔºâ„ÄÅÂêéÁΩÆÂ§ÑÁêÜÁ≠âÊìç‰ΩúÁöÑËøáÁ®ãÔºåÊâÄ‰ª•InstantiationÊâßË°åÊó∂Êú∫ÂÖà‰∫éInitialization„ÄÇÁ±ªÂÖ≥Á≥ªÂÖàÊù•ÁúãÁúãBeanPostProcessorÁöÑÁ±ªÁªìÊûÑÔºöInstantiationAwareBeanPostProcessor‰∏∫BeanPostProcessorÁöÑÂ≠êÁ±ªÔºåÊñ∞Â¢û‰∫Ü‰∏â‰∏™È¢ùÂ§ñÁöÑÊñπÊ≥ïÔºöÊñπÊ≥ïËß£ÊûêBeanPostProcessorpostProcessBeforeInitialization(Object bean, String beanName)ÔºöbeanÔºöBeanÂÆû‰æãÔºõbeanNameÔºöBeanÂêçÁß∞„ÄÇÊñπÊ≥ïÂ∞ÜÂú®BeanÂÆû‰æãÁöÑafterPropertiesSetÊñπÊ≥ïÊàñËÄÖËá™ÂÆö‰πâÁöÑinitÊñπÊ≥ïË¢´Ë∞ÉÁî®ÂâçË∞ÉÁî®ÔºåÊ≠§Êó∂BeanÂ±ûÊÄßÂ∑≤ÁªèË¢´ËµãÂÄº„ÄÇÊñπÊ≥ïËøîÂõûÂéüÂßãBeanÂÆû‰æãÊàñËÄÖÂåÖË£ÖÂêéÁöÑBeanÂÆû‰æãÔºåÂ¶ÇÊûúËøîÂõûnullÔºåÂàôÂêéÁª≠ÁöÑÂêéÁΩÆÂ§ÑÁêÜÊñπÊ≥ï‰∏çÂÜçË¢´Ë∞ÉÁî®„ÄÇpostProcessAfterInitialization(Object bean, String beanName)ÔºöbeanÔºöBeanÂÆû‰æãÔºõbeanNameÔºöBeanÂêçÁß∞„ÄÇÊñπÊ≥ïÂ∞ÜÂú®BeanÂÆû‰æãÁöÑafterPropertiesSetÊñπÊ≥ïÊàñËÄÖËá™ÂÆö‰πâÁöÑinitÊñπÊ≥ïË¢´Ë∞ÉÁî®ÂêéË∞ÉÁî®ÔºåÊ≠§Êó∂BeanÂ±ûÊÄßÂ∑≤ÁªèË¢´ËµãÂÄº„ÄÇÊñπÊ≥ïËøîÂõûÂéüÂßãBeanÂÆû‰æãÊàñËÄÖÂåÖË£ÖÂêéÁöÑBeanÂÆû‰æãÔºåÂ¶ÇÊûúËøîÂõûnullÔºåÂàôÂêéÁª≠ÁöÑÂêéÁΩÆÂ§ÑÁêÜÊñπÊ≥ï‰∏çÂÜçË¢´Ë∞ÉÁî®„ÄÇInstantiationAwareBeanPostProcessorpostProcessBeforeInstantiation(Class&lt;?&gt; beanClass, String beanName)ÔºöbeanClassÔºöÂæÖÂÆû‰æãÂåñÁöÑBeanÁ±ªÂûãÔºõbeanNameÔºöÂæÖÂÆû‰æãÂåñÁöÑBeanÂêçÁß∞„ÄÇÊñπÊ≥ï‰ΩúÁî®‰∏∫ÔºöÂú®BeanÂÆû‰æãÂåñÂâçË∞ÉÁî®ËØ•ÊñπÊ≥ïÔºåËøîÂõûÂÄºÂèØ‰ª•‰∏∫‰ª£ÁêÜÂêéÁöÑBeanÔºå‰ª•Ê≠§‰ª£ÊõøBeanÈªòËÆ§ÁöÑÂÆû‰æãÂåñËøáÁ®ã„ÄÇËøîÂõûÂÄº‰∏ç‰∏∫nullÊó∂ÔºåÂêéÁª≠Âè™‰ºöË∞ÉÁî®BeanPostProcessorÁöÑ postProcessAfterInitializationÊñπÊ≥ïÔºåËÄå‰∏ç‰ºöË∞ÉÁî®Âà´ÁöÑÂêéÁª≠ÂêéÁΩÆÂ§ÑÁêÜÊñπÊ≥ïÔºàÂ¶ÇpostProcessAfterInitialization„ÄÅpostProcessBeforeInstantiationÁ≠âÊñπÊ≥ïÔºâÔºõËøîÂõûÂÄº‰πüÂèØ‰ª•‰∏∫nullÔºåËøôÊó∂ÂÄôBeanÂ∞ÜÊåâÈªòËÆ§ÊñπÂºèÂàùÂßãÂåñ„ÄÇpostProcessAfterInstantiation(Object bean, String beanName)ÔºöbeanÔºöÂÆû‰æãÂåñÂêéÁöÑBeanÔºåÊ≠§Êó∂Â±ûÊÄßËøòÊ≤°ÊúâË¢´ËµãÂÄºÔºõbeanNameÔºöBeanÂêçÁß∞„ÄÇÊñπÊ≥ï‰ΩúÁî®‰∏∫ÔºöÂΩìBeanÈÄöËøáÊûÑÈÄ†Âô®ÊàñËÄÖÂ∑•ÂéÇÊñπÊ≥ïË¢´ÂÆû‰æãÂåñÂêéÔºåÂΩìÂ±ûÊÄßËøòÊú™Ë¢´ËµãÂÄºÂâçÔºåËØ•ÊñπÊ≥ï‰ºöË¢´Ë∞ÉÁî®Ôºå‰∏ÄËà¨Áî®‰∫éËá™ÂÆö‰πâÂ±ûÊÄßËµãÂÄº„ÄÇÊñπÊ≥ïËøîÂõûÂÄº‰∏∫Â∏ÉÂ∞îÁ±ªÂûãÔºåËøîÂõûtrueÊó∂ÔºåË°®Á§∫BeanÂ±ûÊÄßÈúÄË¶ÅË¢´ËµãÂÄºÔºõËøîÂõûfalseË°®Á§∫Ë∑≥ËøáBeanÂ±ûÊÄßËµãÂÄºÔºåÂπ∂‰∏îInstantiationAwareBeanPostProcessorÁöÑpostProcessPropertiesÊñπÊ≥ï‰∏ç‰ºöË¢´Ë∞ÉÁî®„ÄÇÊâßË°åÊó∂Êú∫ÂØπÊØî‰∏∫‰∫ÜÈ™åËØÅÂÆû‰æãÂåñÂíåÂàùÂßãÂåñÁöÑÂÖàÂêéÈ°∫Â∫èÔºåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™SpringBootÈ°πÁõÆÔºåÁâàÊú¨2.4.0Ôºå‰æùËµñÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;SpringÂÖ•Âè£Á±ªÂêçÁß∞‰∏∫DemoApplication„ÄÇÊñ∞Âª∫MyBeanPostProcessorÂÆûÁé∞BeanPostProcessorÊé•Âè£Ôºö1234567891011121314151617181920@Componentpublic class MyBeanPostProcessor implements BeanPostProcessor &#123; @Override public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123; if ("demoApplication".equals(beanName)) &#123; System.out.println("post processor before " + beanName + " initialization"); &#125; return bean; &#125; @Override public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123; if ("demoApplication".equals(beanName)) &#123; System.out.println("post processor after " + beanName + " initialization"); &#125; return bean; &#125;&#125;Âõ†‰∏∫ÂØπÊâÄÊúâÁöÑBeanÁîüÊïàÔºåÊâÄ‰ª•‰∏∫‰∫ÜÊñπ‰æøËßÇÂØüËæìÂá∫ÔºåËøôÈáå‰ªÖÂΩìBeanÂêçÁß∞‰∏∫demoApplicationÊó∂ÊâçÊâìÂç∞ËæìÂá∫„ÄÇÊé•ÁùÄÊñ∞Âª∫MyBeanInstantiationPostProcessorÂÆûÁé∞InstantiationAwareBeanPostProcessorÊé•Âè£Ôºö123456789101112131415161718192021222324252627@Componentpublic class MyBeanInstantiationPostProcessor implements InstantiationAwareBeanPostProcessor &#123; @Override public Object postProcessBeforeInstantiation(Class&lt;?&gt; beanClass, String beanName) throws BeansException &#123; if ("demoApplication".equals(beanName)) &#123; System.out.println("post process before " + beanName + " instantiation"); &#125; return null; &#125; @Override public boolean postProcessAfterInstantiation(Object bean, String beanName) throws BeansException &#123; if ("demoApplication".equals(beanName)) &#123; System.out.println("post process after " + beanName + " instantiation"); &#125; return true; &#125; @Override public PropertyValues postProcessProperties(PropertyValues pvs, Object bean, String beanName) throws BeansException &#123; if ("demoApplication".equals(beanName)) &#123; System.out.println("post process " + beanName + " properties"); &#125; return pvs; &#125;&#125;ÂêØÂä®Á®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö12345post process before demoApplication instantiationpost process after demoApplication instantiationpost process demoApplication propertiespost processor before demoApplication initializationpost processor after demoApplication initializationÂ¶ÇÊûúÂ∞ÜMyBeanInstantiationPostProcessorÁöÑpostProcessAfterInstantiationÊñπÊ≥ïËøîÂõûÂÄºÊîπ‰∏∫falseÔºåÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö1234post process before demoApplication instantiationpost process after demoApplication instantiationpost processor before demoApplication initializationpost processor after demoApplication initializationÂéüÁêÜËß£ÊûêpostProcessAfterInitializationÂíåInstantiationAwareBeanPostProcessorÁöÑÊñπÊ≥ïÈÉΩÂíåBeanÁîüÂëΩÂë®ÊúüÊúâÂÖ≥ÔºåË¶ÅÂàÜÊûêÂÆÉ‰ª¨ÁöÑÂÆûÁé∞ÂéüÁêÜËá™ÁÑ∂Ë¶Å‰ªéBeanÁöÑÂàõÂª∫ËøáÁ®ãÂÖ•Êâã„ÄÇBeanÂàõÂª∫ÁöÑÂÖ•Âè£‰∏∫AbstractAutowireCapableBeanFactoryÁöÑcreateBeanÊñπÊ≥ïÔºåÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºöresolveBeforeInstantiationÊñπÊ≥ïÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö‰∏äÈù¢ÊñπÊ≥ïËøîÂõûÁöÑbeanÂ¶ÇÊûú‰∏∫Á©∫ÁöÑËØùÔºåAbstractAutowireCapableBeanFactoryÁöÑcreateBeanÊñπÊ≥ïÂ∞ÜÁªßÁª≠ÂæÄ‰∏ãÊâßË°ådoCreateBeanÊñπÊ≥ïÔºöÊü•ÁúãdoCreateBeanÊñπÊ≥ïÊ∫êÁ†ÅÔºöÂÖ∂‰ªñÈÉ®ÂàÜÂíåÊú¨ËäÇËÆ®ËÆ∫ÂÜÖÂÆπÂÖ≥Á≥ª‰∏çÂ§ßÔºàBeanÁîüÂëΩÂë®ÊúüÂÖ∂‰ªñÈÉ®ÂàÜÔºâÔºåÈáçÁÇπÂÖ≥Ê≥®populateBeanÂíåinitializeBeanÊñπÊ≥ï„ÄÇÊü•ÁúãpopulateBeanÊñπÊ≥ïÊ∫êÁ†ÅÔºöÊé•ÁùÄÊü•ÁúãinitializeBeanÊñπÊ≥ïÊ∫êÁ†ÅÔºöËá≥Ê≠§Êàë‰ª¨ÈÄöËøáÊü•ÁúãBeanÁîüÂëΩÂë®ÊúüÁõ∏ÂÖ≥Ê∫êÁ†ÅÂºÑÊ∏ÖÊ•ö‰∫ÜBeanPostProcessorÂíåInstantiationAwareBeanPostProcessorÁõ∏ÂÖ≥ÊñπÊ≥ïÁöÑÊâßË°åÊó∂Êú∫‰ª•ÂèäÂéüÁêÜ„ÄÇ‰∏äÈù¢Ê∫êÁ†ÅÁöÑËøΩË∏™ÂÖ∂ÂÆû‰∏ç‰ªÖÊ∂âÂèäÂà∞‰∫ÜBeanPostProcessorÂíåInstantiationAwareBeanPostProcessorÁõ∏ÂÖ≥ÊñπÊ≥ïÁöÑÊâßË°åÊó∂Êú∫‰ª•ÂèäÂéüÁêÜÔºåÊõ¥ÊòØÊï¥‰∏™BeanÁîüÂëΩÂë®ÊúüÂàõÂª∫ËøáÁ®ãÔºåÁªìÂêàSpring-BeanÁîüÂëΩÂë®ÊúüËøôÁØáÊñáÁ´†ÁöÑÊµÅÁ®ãÂÜçËµ∞‰∏ÄÈÅçÊ∫êÁ†ÅÔºå‰Ω†‰ºöÂØπBeanÁöÑÁîüÂëΩÂë®ÊúüÊúâÊõ¥Ê∑±ÁöÑÁêÜËß£„ÄÇÊÄªÁªì‰∏ãÈù¢ÈÄöËøá‰∏ÄÂº†ÊµÅÁ®ãÂõæÊÄªÁªìÊú¨ÊñáÔºö]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringËá™Â∏¶Â∑•ÂÖ∑Á±ª‰ΩøÁî®Â≠¶‰π†]]></title>
    <url>%2FSpring%E8%87%AA%E5%B8%A6%E5%B7%A5%E5%85%B7%E7%B1%BB%E4%BD%BF%E7%94%A8%E5%AD%A6%E4%B9%A0.html</url>
    <content type="text"><![CDATA[Êàë‰ª¨È°πÁõÆÂ§ßÂ§öÊï∞ÈÉΩÊòØÂü∫‰∫éSpringÊû∂ÊûÑÔºåSpringËá™Ë∫´ÂåÖÂê´‰∫ÜËÆ∏Â§öÂÆûÁî®ÁöÑÂ∑•ÂÖ∑Á±ªÔºåÂ≠¶‰π†Ëøô‰∫õÂ∑•ÂÖ∑Á±ªÁöÑ‰ΩøÁî®‰∏ç‰ªÖËÉΩËÆ©Êàë‰ª¨ËææÂà∞‰∫ãÂçäÂäüÂÄçÁöÑÊïàÊûúÔºåËÄå‰∏îËøòËÉΩÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑÈ¢ùÂ§ñÁöÑÂ∑•ÂÖ∑Á±ªÁöÑÂºïÂÖ•„ÄÇÊü•ÁúãËøô‰∫õÂ∑•ÂÖ∑Á±ªÁöÑÊ∫êÁ†ÅÊó∂ÂèëÁé∞ÂÆÉ‰ª¨ÈÉΩÊòØabstractÁ±ªÂûãÁöÑÔºåËøôÊòØÂõ†‰∏∫Â∑•ÂÖ∑Á±ªÁöÑÊñπÊ≥ï‰∏ÄËà¨ÈÉΩÊòØstaticÈùôÊÄÅÊñπÊ≥ïÔºåÈùôÊÄÅÊñπÊ≥ïÂíåÁ±ªÁªëÂÆöÔºåÁ±ªÂä†ËΩΩÂêéÂ∞±ËÉΩ‰ΩøÁî®‰∫ÜÔºåÊó†ÈúÄÂÆû‰æãÂåñÔºàÂàöÂ•ΩabstractÁ±ª‰∏çËÉΩÁõ¥Êé•ÂÆû‰æãÂåñÔºåÂπ∂‰∏îÂèØ‰ª•ÂÆö‰πâÈùûÊäΩË±°ÊñπÊ≥ïÔºâÔºåÊâÄ‰ª•Â∑•ÂÖ∑Á±ªÂÆö‰πâ‰∏∫abstractÁ±ªÂûãÂÜçÂêàÈÄÇ‰∏çËøá„ÄÇÊú¨ÊñáprintÊñπÊ≥ï‰∏∫System.out.printlnÁöÑÂ∞ÅË£ÖÔºö123private static void print(Object value) &#123; System.out.println(value);&#125;ClassUtilsorg.springframework.util.classUtilsÂåÖÂê´‰∏Ä‰∫õÂíåjava.lang.ClassÁõ∏ÂÖ≥ÁöÑÂÆûÁî®ÊñπÊ≥ï„ÄÇgetDefaultClassLoaderClassLoader getDefaultClassLoader()Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ã‰∏ä‰∏ãÊñáÁöÑÁ±ªÂä†ËΩΩÂô®Ôºö1print(ClassUtils.getDefaultClassLoader());1sun.misc.Launcher$AppClassLoader@18b4aac2overrideThreadContextClassLoaderClassLoader overrideThreadContextClassLoader(@Nullable ClassLoader classLoaderToUse)Áî®ÁâπÂÆöÁöÑÁ±ªÂä†ËΩΩÂô®Ë¶ÜÁõñÂΩìÂâçÁ∫øÁ®ã‰∏ä‰∏ãÊñáÁöÑÁ±ªÂä†ËΩΩÂô®Ôºö123print(ClassUtils.getDefaultClassLoader());ClassUtils.overrideThreadContextClassLoader(ClassLoader.getSystemClassLoader().getParent());print(ClassUtils.getDefaultClassLoader());12sun.misc.Launcher$AppClassLoader@18b4aac2sun.misc.Launcher$ExtClassLoader@3feba861forNameforName(String name, @Nullable ClassLoader classLoader)ÈÄöËøáÁ±ªÂêçËøîÂõûÁ±ªÂÆû‰æãÔºåÁ±ª‰ºº‰∫éClass.forName()Ôºå‰ΩÜÂäüËÉΩÊõ¥Âº∫ÔºåÂèØ‰ª•Áî®‰∫éÂéüÂßãÁ±ªÂûãÔºåÂÜÖÈÉ®Á±ªÁ≠âÔºö1234ClassLoader classLoader = ClassUtils.getDefaultClassLoader();print(ClassUtils.forName("int", classLoader));print(ClassUtils.forName("java.lang.String[]", classLoader));print(ClassUtils.forName("java.lang.Thread$State", classLoader));123intclass [Ljava.lang.String;class java.lang.Thread$StateisPresentboolean isPresent(String className, @Nullable ClassLoader classLoader)Âà§Êñ≠ÂΩìÂâçclassLoaderÊòØÂê¶ÂåÖÂê´ÁõÆÊ†áÁ±ªÂûãÔºàÂåÖÊã¨ÂÆÉÁöÑÊâÄÊúâÁà∂Á±ªÂíåÊé•Âè£ÔºâÔºö123ClassLoader classLoader = ClassUtils.getDefaultClassLoader();print(ClassUtils.isPresent("int", classLoader));print(ClassUtils.isPresent("intt", classLoader));12truefalseresolvePrimitiveClassNameClass&lt;?&gt; resolvePrimitiveClassName(@Nullable String name)ÈÄöËøáÁªôÂÆöÁ±ªÂêçËé∑ÂèñÂéüÂßãÁ±ªÔºö12print(ClassUtils.resolvePrimitiveClassName("int"));print(ClassUtils.resolvePrimitiveClassName("java.lang.Integer"));12intnullisPrimitiveWrapperboolean isPrimitiveWrapper(Class&lt;?&gt; clazz)Âà§Êñ≠ÁªôÂÆöÁ±ªÊòØÂê¶‰∏∫ÂåÖË£ÖÁ±ªÔºåÂ¶ÇBoolean, Byte, Character, Short, Integer, Long, Float, Double ÊàñËÄÖ VoidÔºö1234print(ClassUtils.isPrimitiveWrapper(Integer.class));print(ClassUtils.isPrimitiveWrapper(Character.class));print(ClassUtils.isPrimitiveWrapper(Void.class));print(ClassUtils.isPrimitiveWrapper(String.class));1234truetruetruefalseÁ±ª‰ººÁöÑÊñπÊ≥ïËøòÊúâisPrimitiveOrWrapperÂà§Êñ≠ÊòØÂê¶‰∏∫ÂéüÂßãÁ±ªÊàñËÄÖÂåÖË£ÖÁ±ª„ÄÅisPrimitiveWrapperArrayÂà§Êñ≠ÊòØÂê¶‰∏∫ÂåÖË£ÖÁ±ªÊï∞ÁªÑ„ÄÅisPrimitiveArrayÂà§Êñ≠ÊòØÂê¶‰∏∫ÂéüÂßãÁ±ªÊï∞ÁªÑ„ÄÇresolvePrimitiveIfNecessaryClass&lt;?&gt; resolvePrimitiveIfNecessary(Class&lt;?&gt; clazz)Â¶ÇÊûúÁªôÂÆöÁ±ªÊòØÂéüÂßãÁ±ªÔºåÂàôËøîÂõûÂØπÂ∫îÂåÖË£ÖÁ±ªÔºåÂê¶ÂàôÁõ¥Êé•ËøîÂõûÁªôÂÆöÁ±ªÔºö12print(ClassUtils.resolvePrimitiveIfNecessary(int.class));print(ClassUtils.resolvePrimitiveIfNecessary(Object.class));12class java.lang.Integerclass java.lang.ObjectisAssignableboolean isAssignable(Class&lt;?&gt; lhsType, Class&lt;?&gt; rhsType)ÈÄöËøáÂèçÂ∞ÑÊ£ÄÊü•ÔºåÊòØÂê¶ÂèØ‰ª•Â∞ÜrhsTypeËµãÂÄºÁªôlhsTypeÔºàÊ≥®ÊÑèÔºåÂåÖË£ÖÁ±ªÂûãÂèØ‰ª•ËµãÂÄºÁªôÁõ∏Â∫îÁöÑÂéüÂßãÁ±ªÂûãÔºåËá™Âä®ÊãÜË£ÖÁÆ±Êú∫Âà∂ÔºâÔºö12345print(ClassUtils.isAssignable(Integer.class, int.class));print(ClassUtils.isAssignable(Object.class, String.class));print(ClassUtils.isAssignable(BeanPostProcessor.class, InstantiationAwareBeanPostProcessor.class));print(ClassUtils.isAssignable(double.class, Double.class)); // consider thisprint(ClassUtils.isAssignable(Integer.class, Long.class));12345truetruetruetruefalseisAssignableValueboolean isAssignableValue(Class&lt;?&gt; type, @Nullable Object value)Âà§Êñ≠ÁªôÂÆöÁöÑÂÄºÊòØÂê¶Á¨¶ÂêàÁªôÂÆöÁöÑÁ±ªÂûãÔºö12345print(ClassUtils.isAssignableValue(Integer.class, 1));print(ClassUtils.isAssignableValue(Integer.class, 1L));print(ClassUtils.isAssignableValue(int.class, Integer.valueOf(1)));print(ClassUtils.isAssignableValue(Object.class,1));print(ClassUtils.isAssignableValue(String.class,1));12345truefalsetruetruefalseconvertResourcePathToClassNameString convertResourcePathToClassName(String resourcePath)Â∞ÜÁ±ªË∑ØÂæÑËΩ¨Êç¢‰∏∫ÂÖ®ÈôêÂÆöÁ±ªÂêçÔºö1print(ClassUtils.convertResourcePathToClassName("java/lang/String"));1java.lang.StringÂÆûÈôÖ‰∏äÂ∞±ÊòØÂ∞Ü/ÊõøÊç¢‰∏∫.„ÄÇconvertClassNameToResourcePathÊñπÊ≥ïÂäüËÉΩÁõ∏Âèç„ÄÇclassNamesToStringString classNamesToString(Class&lt;?&gt;... classes)Áõ¥Êé•ÁúãÊºîÁ§∫‰∏çËß£ÈáäÔºö1print(ClassUtils.classNamesToString(String.class, Integer.class, BeanPostProcessor.class));1[java.lang.String, java.lang.Integer, org.springframework.beans.factory.config.BeanPostProcessor]getAllInterfacesClass&lt;?&gt;[] getAllInterfaces(Object instance)ËøîÂõûÁªôÂÆöÂÆû‰æãÂØπË±°ÊâÄÂÆûÁé∞Êé•Âè£Á±ªÂûãÈõÜÂêàÔºö123AutowiredAnnotationBeanPostProcessor processor = new AutowiredAnnotationBeanPostProcessor();Class&lt;?&gt;[] allInterfaces = ClassUtils.getAllInterfaces(processor);Arrays.stream(allInterfaces).forEach(System.out::println);1234interface org.springframework.beans.factory.config.SmartInstantiationAwareBeanPostProcessorinterface org.springframework.beans.factory.support.MergedBeanDefinitionPostProcessorinterface org.springframework.core.PriorityOrderedinterface org.springframework.beans.factory.BeanFactoryAwareÁ±ª‰ººÁöÑÊñπÊ≥ïËøòÊúâgetAllInterfacesForClass„ÄÅgetAllInterfacesAsSet„ÄÅgetAllInterfacesForClassAsSetdetermineCommonAncestorClass&lt;?&gt; determineCommonAncestor(@Nullable Class&lt;?&gt; clazz1, @Nullable Class&lt;?&gt; clazz2)ÂØªÊâæÁªôÂÆöÁ±ªÂûãÁöÑÂÖ±ÂêåÁ•ñÂÖàÔºàÊâÄË∞ìÂÖ±ÂêåÁ•ñÂÖàÊåáÁöÑÊòØÁªôÂÆöÁ±ªÂûãË∞ÉÁî®class.getSuperclassËé∑ÂæóÁöÑÂÖ±ÂêåÁ±ªÂûãÔºåÂ¶ÇÊûúÁªôÂÆöÁ±ªÂûãÊòØObject.classÔºåÊé•Âè£ÔºåÂéüÂßãÁ±ªÂûãÊàñËÄÖVoidÔºåÁõ¥Êé•ËøîÂõûnullÔºâÔºö1234// ÂÆÉ‰∏§ÈÉΩÊòØÊé•Âè£print(ClassUtils.determineCommonAncestor(AutowireCapableBeanFactory.class, ListableBeanFactory.class));print(ClassUtils.determineCommonAncestor(Long.class, Integer.class));print(ClassUtils.determineCommonAncestor(String.class, Integer.class));123nullclass java.lang.NumbernullisInnerClassboolean isInnerClass(Class&lt;?&gt; clazz)Âà§Êñ≠ÁªôÂÆöÁ±ªÂûãÊòØÂê¶‰∏∫ÂÜÖÈÉ®Á±ªÔºàÈùûÈùôÊÄÅÔºâÔºö123456class A &#123; class B &#123; &#125;&#125;print(ClassUtils.isInnerClass(A.B.class)); // true123456static class A &#123; class B &#123; &#125;&#125;print(ClassUtils.isInnerClass(A.B.class)); // true123456static class A &#123; static class B &#123; &#125;&#125;print(ClassUtils.isInnerClass(A.B.class)); // falseisCglibProxyboolean isCglibProxy(Object object)ÊòØÂê¶‰∏∫Cglib‰ª£ÁêÜÂØπË±°Ôºö1234567891011121314@SpringBootApplicationpublic class AopApplication &#123; @Configuration static class MyConfigure &#123; &#125; public static void main(String[] args) &#123; ConfigurableApplicationContext context = SpringApplication.run(AopApplication.class, args); MyConfigure myConfigure = context.getBean(MyConfigure.class); System.out.println(ClassUtils.isCglibProxy(myConfigure)); &#125;&#125;1trueÈÖçÁΩÆÁ±ª‰∏çÁî±Cglib‰ª£ÁêÜÁöÑËØùÔºåËøîÂõû‰∏∫falseÔºö1234567891011121314@SpringBootApplicationpublic class AopApplication &#123; @Configuration(proxyBeanMethods = false) // Ê≥®ÊÑèËøôÈáå static class MyConfigure &#123; &#125; public static void main(String[] args) &#123; ConfigurableApplicationContext context = SpringApplication.run(AopApplication.class, args); MyConfigure myConfigure = context.getBean(MyConfigure.class); System.out.println(ClassUtils.isCglibProxy(myConfigure)); &#125;&#125;1false‰∏çËøáËøô‰∏™ÊñπÊ≥ïÂ∫üÂºÉ‰∫ÜÔºåÂª∫ËÆÆ‰ΩøÁî®org.springframework.aop.support.AopUtils.isCglibProxy(Object)ÊñπÊ≥ï„ÄÇgetUserClassClass&lt;?&gt; getUserClass(Object instance)ËøîÂõûÁªôÂÆöÂÆû‰æãÂØπÂ∫îÁöÑÁ±ªÂûãÔºåÂ¶ÇÊûúÂÆû‰æãÊòØCglib‰ª£ÁêÜÂêéÁöÑÂØπË±°ÔºåÂàôËøîÂõû‰ª£ÁêÜÁöÑÁõÆÊ†áÂØπË±°Á±ªÂûãÔºö1print(ClassUtils.getUserClass("Hello")); // class java.lang.StringCglib‰ª£ÁêÜ‰æãÂ≠êÔºö12345678910111213141516@SpringBootApplicationpublic class AopApplication &#123; @Configuration static class MyConfigure &#123; &#125; public static void main(String[] args) &#123; ConfigurableApplicationContext context = SpringApplication.run(AopApplication.class, args); MyConfigure myConfigure = context.getBean(MyConfigure.class); // Ê≥®ÊÑèÂÆÉ‰ª¨ÁöÑÂå∫Âà´ System.out.println(myConfigure.getClass()); System.out.println(ClassUtils.getUserClass(myConfigure)); &#125;&#125;12class cc.mrbird.aop.AopApplication$MyConfigure$$EnhancerBySpringCGLIB$$e51ce45class cc.mrbird.aop.AopApplication$MyConfigurematchesTypeNameboolean matchesTypeName(Class&lt;?&gt; clazz, @Nullable String typeName)Âà§Êñ≠ÁªôÂÆöclassÂíåÁ±ªÂûãÂêçÁß∞ÊòØÂê¶ÂåπÈÖçÔºö1print(ClassUtils.matchesTypeName(String.class, "java.lang.String")); // truegetShortNameString getShortName(Class&lt;?&gt; clazz)ËøîÂõûÁ±ªÂêçÔºö1print(ClassUtils.getShortName(String.class)); // StringgetShortNameAsPropertyString getShortNameAsProperty(Class&lt;?&gt; clazz)ËøîÂõûÈ¶ñÂ≠óÊØçÂ∞èÂÜôÁöÑÁ±ªÂêçÔºåÂ¶ÇÊûúÊòØÂÜÖÈÉ®Á±ªÁöÑËØùÔºåÂàôÂéªÊéâÂ§ñÈÉ®Á±ªÂêçÔºö1print(ClassUtils.getShortNameAsProperty(String.class)); // string12345class A &#123; class B &#123; &#125;&#125;print(ClassUtils.getShortNameAsProperty(String.class)); // bgetClassFileNameString getClassFileName(Class&lt;?&gt; clazz)ËøîÂõûÁ±ªÂêç+.classÔºö1print(ClassUtils.getShortNameAsProperty(String.class)); // String.classgetPackageNameString getPackageName(Class&lt;?&gt; clazz)ËøîÂõûÂåÖÂêçÔºö1print(ClassUtils.getShortNameAsProperty(String.class)); // java.langgetQualifiedNameString getQualifiedName(Class&lt;?&gt; clazz)ËøîÂõûÂÖ®ÈôêÂÆöÁ±ªÂêçÔºåÂ¶ÇÊûúÊòØÊï∞ÁªÑÁ±ªÂûãÂàôÊú´Â∞æÂä†[]Ôºö12print(ClassUtils.getQualifiedName(String.class));print(ClassUtils.getQualifiedName(String[].class));12java.lang.Stringjava.lang.String[]getQualifiedMethodNameString getQualifiedMethodName(Method method)Ëé∑ÂèñÊñπÊ≥ïÁöÑÂÖ®ÈôêÂÆöÂêçÔºö123print(ClassUtils.getQualifiedMethodName( ClassUtils.class.getDeclaredMethod("getQualifiedMethodName", Method.class )));1org.springframework.util.ClassUtils.getQualifiedMethodNamehasConstructorboolean hasConstructor(Class&lt;?&gt; clazz, Class&lt;?&gt;... paramTypes)Âà§Êñ≠ÁªôÂÆöÁ±ªÂûãÊòØÂê¶ÊúâÁªôÂÆöÁ±ªÂûãÂèÇÊï∞ÊûÑÈÄ†Âô®Ôºö12print(ClassUtils.hasConstructor(String.class, String.class));print(ClassUtils.hasConstructor(String.class, Object.class));12truefalsegetConstructorIfAvailable&lt;T&gt; Constructor&lt;T&gt; getConstructorIfAvailable(Class&lt;T&gt; clazz, Class&lt;?&gt;... paramTypes)ËøîÂõûÁªôÂÆöÁ±ªÂûãÁöÑÁªôÂÆöÂèÇÊï∞Á±ªÂûãÊûÑÈÄ†Âô®ÔºåÊ≤°ÊúâÁöÑËØùËøîÂõûnullÔºö123Constructor&lt;String&gt; constructorIfAvailable = ClassUtils.getConstructorIfAvailable(String.class, String.class);print(constructorIfAvailable != null);print(constructorIfAvailable.toString());12truepublic java.lang.String(java.lang.String)hasMethodboolean hasMethod(Class&lt;?&gt; clazz, Method method)Âà§Êñ≠ÁªôÂÆöÁ±ªÂûãÊòØÂê¶ÊúâÊåáÂÆöÁöÑÊñπÊ≥ïÔºö12Method hasMethod = ClassUtils.class.getDeclaredMethod("hasMethod", Class.class, Method.class);print(ClassUtils.hasMethod(ClassUtils.class, hasMethod)); // trueÈáçËΩΩÊñπÊ≥ïboolean hasMethod(Class&lt;?&gt; clazz, String methodName, Class&lt;?&gt;... paramTypes)„ÄÇgetMethodMethod getMethod(Class&lt;?&gt; clazz, String methodName, @Nullable Class&lt;?&gt;... paramTypes)‰ªéÊåáÂÆöÁ±ªÂûã‰∏≠ÊâæÊåáÂÆöÊñπÊ≥ïÔºåÊ≤°ÊâæÂà∞ÊäõIllegalStateExceptionÂºÇÂ∏∏Ôºö1ClassUtils.getMethod(ClassUtils.class,"hello", String.class);1java.lang.IllegalStateException: Expected method not found: java.lang.NoSuchMethodException: org.springframework.util.ClassUtils.hello(java.lang.String)Â¶ÇÊûúÂ∏åÊúõÊ≤°ÊâæÂà∞ËøîÂõûnullÔºåËÄåÈùûÊäõÂºÇÂ∏∏ÔºåÂèØ‰ª•Áî®getMethodIfAvailableÊñπÊ≥ï„ÄÇgetMethodCountForNameint getMethodCountForName(Class&lt;?&gt; clazz, String methodName)‰ªéÊåáÂÆöÁ±ªÂûã‰∏≠ÈÄöËøáÊñπÊ≥ïÂêçÁß∞Êü•ÊâæËØ•ÊñπÊ≥ï‰∏™Êï∞ÔºàÈáçÂÜô„ÄÅÈáçËΩΩ„ÄÅÈùûpublicÁöÑÈÉΩÁÆóÔºâÔºö1print(ClassUtils.getMethodCountForName(ClassUtils.class,"hasMethod")); // 2Á±ª‰ººÁöÑÊñπÊ≥ïËøòÊúâhasAtLeastOneMethodWithNameÔºåËá≥Â∞ëÂæóÊúâ‰∏Ä‰∏™„ÄÇgetStaticMethodMethod getStaticMethod(Class&lt;?&gt; clazz, String methodName, Class&lt;?&gt;... args)Ëé∑ÂèñÁªôÂÆöÁ±ªÂûãÁöÑÈùôÊÄÅÊñπÊ≥ïÔºåÂ¶ÇÊûúËØ•ÊñπÊ≥ï‰∏çÊòØÈùôÊÄÅÁöÑÊàñËÄÖÊ≤°ÊúâËøô‰∏™ÊñπÊ≥ïÔºåÂàôËøîÂõûnullÔºö123Method method = ClassUtils.getStaticMethod(ClassUtils.class, "getDefaultClassLoader");print(method != null);print(method.getReturnType());12trueclass java.lang.ClassLoaderFileSystemUtilsÊñá‰ª∂Á≥ªÁªüÂÆûÁî®Â∑•ÂÖ∑Á±ªdeleteRecursivelyboolean deleteRecursively(@Nullable File root)ÈÄíÂΩíÂà†Èô§ÊåáÂÆöÊñá‰ª∂ÊàñÁõÆÂΩïÔºåÂà†Èô§ÊàêÂäüËøîÂõûtrueÔºåÂ§±Ë¥•ËøîÂõûfalseÔºå‰∏ç‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Â§öÂ±ÇÁ∫ßÁõÆÂΩïÔºöÂÆûÁî®FileÁöÑdeleteÁõÆÂΩïÂ∞ùËØïÂà†Èô§aÁõÆÂΩïÔºö12File file = new File("a");print(file.delete()); // falseÂõ†‰∏∫aÁõÆÂΩïÂåÖÂê´Â≠êÁõÆÂΩïÔºàÊñá‰ª∂ÔºâÔºåÊâÄ‰ª•Â∫îËØ•‰ΩøÁî®ÈÄíÂΩíÂà†Èô§Ôºö12File file = new File("a");print(FileSystemUtils.deleteRecursively(file)); // trueÈáçËΩΩÊñπÊ≥ïboolean deleteRecursively(@Nullable Path root)ÂíåËØ•ÊñπÊ≥ïÂäüËÉΩÁõ∏‰ººÔºå‰ΩÜËØ•ÊñπÊ≥ïÂèØËÉΩ‰ºöÊäõÂá∫IOÂºÇÂ∏∏„ÄÇcopyRecursivelyvoid copyRecursively(File src, File dest)ÈÄíÂΩíÂ§çÂà∂srcÊñá‰ª∂Âà∞destÔºàÁõÆÊ†áË∑ØÂæÑ‰∏çÂ≠òÂú®ÂàôËá™Âä®ÂàõÂª∫ÔºâÔºöÊñ∞Âª∫‰∏Ä‰∏™Â§öÂ±ÇÁ∫ßÁõÆÂΩïÔºö123File src = new File("a");File dest = new File("aa");FileSystemUtils.copyRecursively(src, dest);ÈáçËΩΩÊñπÊ≥ïvoid copyRecursively(Path src, Path dest)„ÄÇStreamUtilsÂåÖÂê´‰∏Ä‰∫õÊñá‰ª∂ÊµÅÁöÑÂÆûÁî®ÊñπÊ≥ïÈªòËÆ§ÁöÑÁºìÂÜ≤Âå∫Â§ßÂ∞è‰∏∫4096bytes„ÄÇÊ≥®ÊÑèÔºöËØ•Â∑•ÂÖ∑Á±ªÁöÑÊâÄÊúâÊñπÊ≥ïÈÉΩ‰∏ç‰ºöÂØπÊµÅËøõË°åÂÖ≥Èó≠Â§ÑÁêÜÔºÅÊú™ÂÆåÂæÖÁª≠ÔºåÊÖ¢ÊÖ¢ËÆ∞ÂΩïüò¥]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Êï∞Â≠óÁ≠æÂêçÁÆóÊ≥ï]]></title>
    <url>%2FJava-%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E7%AE%97%E6%B3%95.html</url>
    <content type="text"><![CDATA[Êï∞Â≠óÁ≠æÂêçÁÆóÊ≥ïÂèØ‰ª•ÁúãÊàêÊòØÂ∏¶ÁßòÈí•ÁöÑÊ∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÔºåÁî®‰∫éÈ™åËØÅÊï∞ÊçÆÂÆåÊï¥ÊÄß„ÄÅËÆ§ËØÅÊï∞ÊçÆÊù•Ê∫êÔºåÂπ∂Ëµ∑Âà∞ÊäóÂê¶ËÆ§ÁöÑ‰ΩúÁî®„ÄÇÈÅµÂæ™ÁßÅÈí•Âä†Á≠æÔºåÂÖ¨Èí•È™åÁ≠æÁöÑËßÑÂàôÔºåÊï∞Â≠óÁ≠æÂêçÁÆóÊ≥ïÊòØÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂíåÊ∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÁöÑÁªìÂêà‰Ωì„ÄÇÊï∞Â≠óÁ≠æÂêçÁÆóÊ≥ï‰∏ªË¶ÅÂåÖÊã¨RSAÂíåDSA„ÄÇËøôËäÇËÆ∞ÂΩï‰∏ãËøô‰∏§ÁßçÁÆóÊ≥ïÂú®JDK8‰∏ãÁöÑÂÆûÁé∞„ÄÇÊï∞Â≠óÁ≠æÂêçÂä†Á≠æÈ™åÁ≠æÊµÅÁ®ãÂàÜ‰∏∫‰ª•‰∏ãÂá†Ê≠•ÔºöAÂú®Êú¨Âú∞ÊûÑÂª∫ÁßòÈí•ÂØπÔºåÂπ∂Â∞ÜÂÖ¨Èí•ÂèëÂ∏ÉÁªôBÔºõA‰ΩøÁî®ÁßÅÈí•ÂØπÊï∞ÊçÆËøõË°åÁ≠æÂêçÔºõAÂèëÈÄÅÁ≠æÂêçÂíåÊï∞ÊçÆÁªôBÔºõB‰ΩøÁî®ÂÖ¨Èí•ÂØπÁ≠æÂêçÂíåÊï∞ÊçÆËøõË°åÈ™åÁ≠æ„ÄÇRSARSAÊï∞Â≠óÁ≠æÂêçÁÆóÊ≥ï‰∏ªË¶ÅÂàÜ‰∏∫MDÁ≥ªÂàóÂíåSHAÁ≥ªÂàó‰∏§Â§ßÁ±ª„ÄÇMDÁ≥ªÂàó‰∏ªË¶ÅÂåÖÊã¨MD2withRSAÂíåMD5withRSAÂÖ±2ÁßçÊï∞Â≠óÁ≠æÂêçÁÆóÊ≥ïÔºõSHAÁ≥ªÂàó‰∏ªË¶ÅÂåÖÊã¨SHA1withRSA„ÄÅSHA224withRSA„ÄÅSHA256withRSA„ÄÅSHA384withRSAÂíåSHA512withRSAÂÖ±5ÁßçÊï∞Â≠óÁ≠æÂêçÁÆóÊ≥ï„ÄÇ‰ª£Á†ÅÁ§∫‰æãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344import org.junit.Test;import java.security.*;import java.util.Base64;public class RsaSignatureDemo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; // ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï String algorithm = "RSA"; // Á≠æÂêçÁÆóÊ≥ïÔºåRSA+SHA String signAlgorithm = "SHA256withRSA"; // ----- ÂÖ¨ÁßÅÈí•ÁîüÊàê -------- // ÂÆû‰æãÂåñÁßòÈí•ÂØπÁîüÊàêÂô® KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÔºåÁßòÈí•ÈïøÂ∫¶512~16384‰ΩçÔºå64ÂÄçÊï∞ keyPairGenerator.initialize(512); // ÁîüÊàêÁßòÈí•ÂØπ KeyPair keyPair = keyPairGenerator.generateKeyPair(); // ÂÖ¨Èí• PublicKey publicKey = keyPair.getPublic(); System.out.println("RSAÂÖ¨Èí•: " + Base64.getEncoder().encodeToString(publicKey.getEncoded())); // ÁßÅÈí• PrivateKey privateKey = keyPair.getPrivate(); System.out.println("RSAÁßÅÈí•: " + Base64.getEncoder().encodeToString(privateKey.getEncoded())); // ----- ÁßÅÈí•Âä†Á≠æ --------- // Ëé∑ÂèñÁ≠æÂêçÂØπË±° Signature signature = Signature.getInstance(signAlgorithm); signature.initSign(privateKey); signature.update(value.getBytes()); byte[] sign = signature.sign(); System.out.println("Á≠æÂêçÂÄº: " + Base64.getEncoder().encodeToString(sign)); // ----- ÂÖ¨Èí•È™åÁ≠æ --------- signature.initVerify(publicKey); signature.update(value.getBytes()); System.out.println("È™åÁ≠æÁªìÊûú: " + signature.verify(sign)); &#125;&#125;ÁßòÈí•ÂØπÁîüÊàêËøáÁ®ãÂíå‰∏äÁØáRSA‰ªãÁªçÁöÑÊó†ÂºÇÔºå‰∏ªË¶ÅÂÖ≥Ê≥®Âä†Á≠æÂíåÈ™åÁ≠æÊìç‰ΩúÂç≥ÂèØÔºåÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö1234RSAÂÖ¨Èí•: MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKTTlw+zyhGzmTmhT5w9vEP1ejOcVfM2rHbz8jUae7InAh42R9ZaYUk1c3q0uqmTv8xKOnszU/vrdV52zoFM+OMCAwEAAQ==RSAÁßÅÈí•: MIIBUwIBADANBgkqhkiG9w0BAQEFAASCAT0wggE5AgEAAkEApNOXD7PKEbOZOaFPnD28Q/V6M5xV8zasdvPyNRp7sicCHjZH1lphSTVzerS6qZO/zEo6ezNT++t1XnbOgUz44wIDAQABAkBsZQXz+p2J1J2Qq8fqDSNxYc8Sf956SttSgw0m5Rqxxiw10cgHt67uocu3qK6UeMuJuaOiN3YT48kvFp6Joc75AiEA4L7R1zDWcOdWf2BE/k3yxJ4Uv0vbIZ9vWLuJGBR3xK0CIQC7v5f2fcedBWbJ/kR7CvbFE91ivM55dvWZMe/JrjXVzwIgFUn+FqRJq+g+CVLVNkGr/XP8AyLsXwL7SSx6kA1gSwECIHysAn4VEftr/dC+Pr0yD6HYyhbp53XzD6214lQbkfYzAiB1b2wNi0Y3N+D/OIrGUHlwgA0vkX82NP3V8qMDmRbCTQ==Á≠æÂêçÂÄº: HVN5WkhND0hy/xY43h8r3+AVt6oxMSv1Ug/Y+bv1tGxw4ePQtIgzFwK0lQQbhIlwts2d2STwQBews4dXCfEMmA==È™åÁ≠æÁªìÊûú: trueÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ‰∏çÂêåÁ≠æÂêçÁÆóÊ≥ïÈúÄË¶ÅÁöÑÁßòÈí•ÈïøÂ∫¶ÊúÄÂ∞èÂÄº‰∏çÂêåÔºåÂ§ß‰ºôÂèØ‰ª•Ëá™Â∑±ËØïËØï„ÄÇDSADSAÁÆóÊ≥ï‰∏éRSAÁÆóÊ≥ïÈÉΩÊòØÊï∞Â≠óËØÅ‰π¶‰∏≠‰∏çÂèØÊàñÁº∫ÁöÑ‰∏§ÁßçÁÆóÊ≥ï„ÄÇ‰∏§ËÄÖ‰∏çÂêåÁöÑÊòØÔºåDSAÁÆóÊ≥ï‰ªÖÂåÖÂê´Êï∞Â≠óÁ≠æÂêçÁÆóÊ≥ïÔºå‰ΩøÁî®DSAÁÆóÊ≥ïÁöÑÊï∞Â≠óËØÅ‰π¶Êó†Ê≥ïËøõË°åÂä†ÂØÜÈÄö‰ø°ÔºåËÄåRSAÁÆóÊ≥ïÊó¢ÂåÖÂê´Âä†ÂØÜ/Ëß£ÂØÜÁÆóÊ≥ïÔºåÂêåÊó∂ÂÖºÊúâÊï∞Â≠óÁ≠æÂêçÁÆóÊ≥ï„ÄÇJDK8ÊîØÊåÅSHA1withDSA„ÄÅSHA224withDSA„ÄÅSHA256withDSA„ÄÅSHA384withDSAÂíåSHA512withDSAËøô‰∫îÁßçDSAÊï∞Â≠óÁ≠æÂêçÁÆóÊ≥ï„ÄÇ‰ª£Á†ÅÁ§∫‰æãÔºàÂè™ÈúÄÂ∞Ü‰∏äÈù¢ÁöÑ‰æãÂ≠êÁÆóÊ≥ïÊõøÊç¢‰∏ãÂ∞±Â•ΩÔºåÂπ∂‰∏îÊ≥®ÊÑèÁßòÈí•ÁöÑÈïøÂ∫¶ËåÉÂõ¥ÔºâÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344import org.junit.Test;import java.security.*;import java.util.Base64;public class RsaSignatureDemo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; // ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï String algorithm = "DSA"; // Á≠æÂêçÁÆóÊ≥ïÔºåDSA+SHA String signAlgorithm = "SHA224withDSA"; // ----- ÂÖ¨ÁßÅÈí•ÁîüÊàê -------- // ÂÆû‰æãÂåñÁßòÈí•ÂØπÁîüÊàêÂô® KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÔºåÁßòÈí•ÈïøÂ∫¶512~1024‰ΩçÔºå64ÂÄçÊï∞ keyPairGenerator.initialize(1024); // ÁîüÊàêÁßòÈí•ÂØπ KeyPair keyPair = keyPairGenerator.generateKeyPair(); // ÂÖ¨Èí• PublicKey publicKey = keyPair.getPublic(); System.out.println("DSAÂÖ¨Èí•: " + Base64.getEncoder().encodeToString(publicKey.getEncoded())); // ÁßÅÈí• PrivateKey privateKey = keyPair.getPrivate(); System.out.println("DSAÁßÅÈí•: " + Base64.getEncoder().encodeToString(privateKey.getEncoded())); // ----- ÁßÅÈí•Âä†Á≠æ --------- // Ëé∑ÂèñÁ≠æÂêçÂØπË±° Signature signature = Signature.getInstance(signAlgorithm); signature.initSign(privateKey); signature.update(value.getBytes()); byte[] sign = signature.sign(); System.out.println("Á≠æÂêçÂÄº: " + Base64.getEncoder().encodeToString(sign)); // ----- ÂÖ¨Èí•È™åÁ≠æ --------- signature.initVerify(publicKey); signature.update(value.getBytes()); System.out.println("È™åÁ≠æÁªìÊûú: " + signature.verify(sign)); &#125;&#125;ËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö1234DSAÂÖ¨Èí•: MIIBtzCCASwGByqGSM44BAEwggEfAoGBAP1/U4EddRIpUt9KnC7s5Of2EbdSPO9EAMMeP4C2USZpRV1AIlH7WT2NWPq/xfW6MPbLm1Vs14E7gB00b/JmYLdrmVClpJ+f6AR7ECLCT7up1/63xhv4O1fnxqimFQ8E+4P208UewwI1VBNaFpEy9nXzrith1yrv8iIDGZ3RSAHHAhUAl2BQjxUjC8yykrmCouuEC/BYHPUCgYEA9+GghdabPd7LvKtcNrhXuXmUr7v6OuqC+VdMCz0HgmdRWVeOutRZT+ZxBxCBgLRJFnEj6EwoFhO3zwkyjMim4TwWeotUfI0o4KOuHiuzpnWRbqN/C/ohNWLx+2J6ASQ7zKTxvqhRkImog9/hWuWfBpKLZl6Ae1UlZAFMO/7PSSoDgYQAAoGAcW0aiebAWi5M18Lu6QS/1OoHbtw2I7kyivwExbNAZpWR9I9sNIwE1T0a491t1oqRV1cdBHyd9jiJqFwfLG6k5QidasXTgGYSsSZqFBebP5nrF5q3RtkosoHeHVKDnShQf5b36NK53CpCRfLayk2e5inu7CCCo+a58piAMiF3c+k=DSAÁßÅÈí•: MIIBTAIBADCCASwGByqGSM44BAEwggEfAoGBAP1/U4EddRIpUt9KnC7s5Of2EbdSPO9EAMMeP4C2USZpRV1AIlH7WT2NWPq/xfW6MPbLm1Vs14E7gB00b/JmYLdrmVClpJ+f6AR7ECLCT7up1/63xhv4O1fnxqimFQ8E+4P208UewwI1VBNaFpEy9nXzrith1yrv8iIDGZ3RSAHHAhUAl2BQjxUjC8yykrmCouuEC/BYHPUCgYEA9+GghdabPd7LvKtcNrhXuXmUr7v6OuqC+VdMCz0HgmdRWVeOutRZT+ZxBxCBgLRJFnEj6EwoFhO3zwkyjMim4TwWeotUfI0o4KOuHiuzpnWRbqN/C/ohNWLx+2J6ASQ7zKTxvqhRkImog9/hWuWfBpKLZl6Ae1UlZAFMO/7PSSoEFwIVAIv03r5wR+DolDC5bGFOqQ2vuHloÁ≠æÂêçÂÄº: MCwCFBRba/HI5/tLt+exzpgvLoq5mAwaAhQvaVv4dbGFNtMpcI4ZeqjgAGeGyg==È™åÁ≠æÁªìÊûú: true]]></content>
      <tags>
        <tag>Security</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïRSA]]></title>
    <url>%2FJava-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95.html</url>
    <content type="text"><![CDATA[ÈùûÂØπÁß∞Âä†ÂØÜÂíåÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÁõ∏ÊØîÔºåÂ§ö‰∫Ü‰∏ÄÊääÁßòÈí•Ôºå‰∏∫ÂèåÁßòÈí•Ê®°ÂºèÔºå‰∏Ä‰∏™ÂÖ¨ÂºÄÁß∞‰∏∫ÂÖ¨Èí•Ôºå‰∏Ä‰∏™‰øùÂØÜÁß∞‰∏∫ÁßÅÈí•„ÄÇÈÅµÂæ™ÂÖ¨Èí•Âä†ÂØÜÁßÅÈí•Ëß£ÂØÜÔºåÊàñËÄÖÁßÅÈí•Âä†ÂØÜÂÖ¨Èí•Ëß£ÂØÜ„ÄÇÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÊ∫ê‰∫éDHÁÆóÊ≥ïÔºåÂêéÂèàÊúâÂü∫‰∫éÊ§≠ÂúÜÊõ≤Á∫øÂä†ÂØÜÁÆóÊ≥ïÁöÑÂØÜÈí•‰∫§Êç¢ÁÆóÊ≥ïECDHÔºå‰∏çËøáÁõÆÂâçÊúÄ‰∏∫ÊµÅË°åÁöÑÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÊòØRSAÔºåÊú¨ÊñáÁÆÄÂçïËÆ∞ÂΩï‰∏ãRSAÁöÑ‰ΩøÁî®„ÄÇRSAÁÆóÊ≥ïRSAÁÆóÊ≥ïÊòØÊúÄ‰∏∫ÂÖ∏ÂûãÁöÑÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÔºåËØ•ÁÆóÊ≥ïÁî±ÁæéÂõΩÈ∫ªÁúÅÁêÜÂ∑•Â≠¶Èô¢ÔºàMITÔºâÁöÑRon Rivest„ÄÅAdi ShamirÂíåLeonard Adleman‰∏â‰ΩçÂ≠¶ËÄÖÊèêÂá∫ÔºåÂπ∂‰ª•Ëøô‰∏â‰ΩçÂ≠¶ËÄÖÁöÑÂßìÊ∞èÂºÄÂ§¥Â≠óÊØçÂëΩÂêçÔºåÁß∞‰∏∫RSAÁÆóÊ≥ï„ÄÇRSAÁÆóÊ≥ïÁöÑÊï∞ÊçÆ‰∫§Êç¢ËøáÁ®ãÂàÜ‰∏∫Â¶Ç‰∏ãÂá†Ê≠•ÔºöAÊûÑÂª∫RSAÁßòÈí•ÂØπÔºõAÂêëBÂèëÂ∏ÉÂÖ¨Èí•ÔºõAÁî®ÁßÅÈí•Âä†ÂØÜÊï∞ÊçÆÂèëÁªôBÔºõBÁî®ÂÖ¨Èí•Ëß£ÂØÜÊï∞ÊçÆÔºõBÁî®ÂÖ¨Èí•Âä†ÂØÜÊï∞ÊçÆÂèëÁªôAÔºõAÁî®ÁßÅÈí•Ëß£ÂØÜÊï∞ÊçÆ„ÄÇJDK8ÊîØÊåÅRSAÁÆóÊ≥ïÔºöÁÆóÊ≥ïÁßòÈí•ÈïøÂ∫¶Âä†ÂØÜÊ®°ÂºèÂ°´ÂÖÖÊ®°ÂºèRSA512~16384‰ΩçÔºå64ÂÄçÊï∞ECBNoPaddingPKCS1PaddingOAEPWithMD5AndMGF1PaddingOAEPWithSHA1AndMGF1PaddingOAEPWithSHA-1AndMGF1PaddingOAEPWithSHA-224AndMGF1PaddingOAEPWithSHA-256AndMGF1PaddingOAEPWithSHA-384AndMGF1PaddingOAEPWithSHA-512AndMGF1Padding OAEPWithSHA-512/224AndMGF1PaddingOAEPWithSHA-512/2256ndMGF1Padding‰ª£Á†Å‰æãÂ≠êÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import org.junit.Test;import javax.crypto.Cipher;import java.security.KeyPair;import java.security.KeyPairGenerator;import java.security.PrivateKey;import java.security.PublicKey;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "RSA"; // ËΩ¨Êç¢Ê®°Âºè String transform = "RSA/ECB/PKCS1Padding"; // ÂÆû‰æãÂåñÁßòÈí•ÂØπÁîüÊàêÂô® KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÔºåÁßòÈí•ÈïøÂ∫¶512~16384‰ΩçÔºå64ÂÄçÊï∞ keyPairGenerator.initialize(512); // ÁîüÊàêÁßòÈí•ÂØπ KeyPair keyPair = keyPairGenerator.generateKeyPair(); // ÂÖ¨Èí• PublicKey publicKey = keyPair.getPublic(); System.out.println("RSAÂÖ¨Èí•: " + Base64.getEncoder().encodeToString(publicKey.getEncoded())); // ÁßÅÈí• PrivateKey privateKey = keyPair.getPrivate(); System.out.println("RSAÁßÅÈí•: " + Base64.getEncoder().encodeToString(privateKey.getEncoded())); // ------ ÊµãËØïÂÖ¨Èí•Âä†ÂØÜÔºåÁßÅÈí•Ëß£ÂØÜ ------ Cipher cipher = Cipher.getInstance(transform); cipher.init(Cipher.ENCRYPT_MODE, publicKey); byte[] pubEncryptBytes = cipher.doFinal(value.getBytes()); System.out.println("RSAÂÖ¨Èí•Âä†ÂØÜÂêéÊï∞ÊçÆ: " + Base64.getEncoder().encodeToString(pubEncryptBytes)); cipher.init(Cipher.DECRYPT_MODE, privateKey); byte[] priDecryptBytes = cipher.doFinal(pubEncryptBytes); System.out.println("RSAÁßÅÈí•Ëß£ÂØÜÂêéÊï∞ÊçÆ: " + new String(priDecryptBytes)); // ------ ÊµãËØïÁßÅÈí•Âä†ÂØÜÔºåÂÖ¨Èí•Ëß£ÂØÜ ------ cipher.init(Cipher.ENCRYPT_MODE, privateKey); byte[] priEncryptBytes = cipher.doFinal(value.getBytes()); System.out.println("RSAÁßÅÈí•Âä†ÂØÜÂêéÊï∞ÊçÆ: " + Base64.getEncoder().encodeToString(priEncryptBytes)); cipher.init(Cipher.DECRYPT_MODE, publicKey); byte[] pubDecryptBytes = cipher.doFinal(priEncryptBytes); System.out.println("RSAÂÖ¨Èí•Ëß£ÂØÜÂêéÊï∞ÊçÆ: " + new String(pubDecryptBytes)); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö123456RSAÂÖ¨Èí•: MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKBvz9cma+hXNiv2yXg6e1PyZhHVZm3bJXDvTJP2LyXo4vs9grH36Q9kNgr6quHtuU6fEoUxUu2zbEB8dkEWB9UCAwEAAQ==RSAÁßÅÈí•: MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAoG/P1yZr6Fc2K/bJeDp7U/JmEdVmbdslcO9Mk/YvJeji+z2CsffpD2Q2Cvqq4e25Tp8ShTFS7bNsQHx2QRYH1QIDAQABAkEAjemZXORdesz52/WVzEVepai6ZHfw/Kdl/PmPMSoIFmz7mk55rprl2Akn2V0odSiHSnMWvDmOUIAvHaHF4Re4wQIhAN5GxVeF7ndyoWasxqIOVb6baNkUrapBM0nacPS4WA8JAiEAuMcvNM2Z1rW74JagoGlSIfRkNUqa+3LTCN/fK7VR2W0CICs/+gYduVjkpSMlW0ENKQH9m1kh/Oiz5xbnujLj676BAiBVGif7wdXgtcLaJYXFW7ygNtcQVFQdCz13EOTQVKpl4QIgY2YyH3vUYI2J68qCGtYjj5iNHUEwwze+Za1R7y0V43k=RSAÂÖ¨Èí•Âä†ÂØÜÂêéÊï∞ÊçÆ: O55w+9ve4QPcNDXNXF3W6O3J9UHxGBWlOM8W5RkKIslMR5xoUkBqIufWO2mz5MWezfxHB9yH1mPQgrv3H1hMKQ==RSAÁßÅÈí•Ëß£ÂØÜÂêéÊï∞ÊçÆ: mrbird&apos;s blogRSAÁßÅÈí•Âä†ÂØÜÂêéÊï∞ÊçÆ: UtwtFxWstrg+fQV6WSw8PYY1YP5K9bjYH7uY20SQIJ5iWQ9FEERi8+ttk2MougQro66aiJRpdCeSpIVi09J+Ew==RSAÂÖ¨Èí•Ëß£ÂØÜÂêéÊï∞ÊçÆ: mrbird&apos;s blogÂèØ‰ª•ÁúãÂà∞ÔºåÂÖ¨Èí•Âä†ÂØÜÁßÅÈí•Ëß£ÂØÜÂíåÁßÅÈí•Âä†ÂØÜÂÖ¨Èí•Ëß£ÂØÜÁöÑÊ®°ÂºèÈÉΩÂèØË°å„ÄÇÂÖ¨ÁßÅÈí•Ëé∑ÂèñÂÅáÂ¶ÇÁé∞Âú®ÊúâRSAÂÖ¨Èí•Ôºö1MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKBvz9cma+hXNiv2yXg6e1PyZhHVZm3bJXDvTJP2LyXo4vs9grH36Q9kNgr6quHtuU6fEoUxUu2zbEB8dkEWB9UCAwEAAQ==RSAÁßÅÈí•Ôºö1MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAoG/P1yZr6Fc2K/bJeDp7U/JmEdVmbdslcO9Mk/YvJeji+z2CsffpD2Q2Cvqq4e25Tp8ShTFS7bNsQHx2QRYH1QIDAQABAkEAjemZXORdesz52/WVzEVepai6ZHfw/Kdl/PmPMSoIFmz7mk55rprl2Akn2V0odSiHSnMWvDmOUIAvHaHF4Re4wQIhAN5GxVeF7ndyoWasxqIOVb6baNkUrapBM0nacPS4WA8JAiEAuMcvNM2Z1rW74JagoGlSIfRkNUqa+3LTCN/fK7VR2W0CICs/+gYduVjkpSMlW0ENKQH9m1kh/Oiz5xbnujLj676BAiBVGif7wdXgtcLaJYXFW7ygNtcQVFQdCz13EOTQVKpl4QIgY2YyH3vUYI2J68qCGtYjj5iNHUEwwze+Za1R7y0V43k=ÈúÄË¶ÅÂ∞ÜÂÆÉ‰ª¨ËøòÂéü‰∏∫PublicKeyÂíåPrivateKeyÂØπË±°ÔºåÂèØ‰ª•ÂèÇËÄÉÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import org.junit.Test;import javax.crypto.Cipher;import java.security.KeyFactory;import java.security.PrivateKey;import java.security.PublicKey;import java.security.spec.PKCS8EncodedKeySpec;import java.security.spec.X509EncodedKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "RSA"; // ËΩ¨Êç¢Ê®°Âºè String transform = "RSA/ECB/PKCS1Padding"; // RSAÂÖ¨Èí•BASE64Â≠óÁ¨¶‰∏≤ String rsaPublicKey = "MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKBvz9cma+hXNiv2yXg6e1PyZhHVZm3bJXDvTJP2LyXo4vs9grH36Q9kNgr6quHtuU6fEoUxUu2zbEB8dkEWB9UCAwEAAQ=="; // RSAÁßÅÈí•BASE64Â≠óÁ¨¶‰∏≤ String rsaPrivateKey = "MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAoG/P1yZr6Fc2K/bJeDp7U/JmEdVmbdslcO9Mk/YvJeji+z2CsffpD2Q2Cvqq4e25Tp8ShTFS7bNsQHx2QRYH1QIDAQABAkEAjemZXORdesz52/WVzEVepai6ZHfw/Kdl/PmPMSoIFmz7mk55rprl2Akn2V0odSiHSnMWvDmOUIAvHaHF4Re4wQIhAN5GxVeF7ndyoWasxqIOVb6baNkUrapBM0nacPS4WA8JAiEAuMcvNM2Z1rW74JagoGlSIfRkNUqa+3LTCN/fK7VR2W0CICs/+gYduVjkpSMlW0ENKQH9m1kh/Oiz5xbnujLj676BAiBVGif7wdXgtcLaJYXFW7ygNtcQVFQdCz13EOTQVKpl4QIgY2YyH3vUYI2J68qCGtYjj5iNHUEwwze+Za1R7y0V43k="; // ------- ËøòÂéüÂÖ¨Èí• -------- byte[] publicKeyBytes = Base64.getDecoder().decode(rsaPublicKey); X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(publicKeyBytes); KeyFactory keyFactory = KeyFactory.getInstance(algorithm); PublicKey publicKey = keyFactory.generatePublic(x509EncodedKeySpec); // ------- ËøòÂéüÁßÅÈí• -------- byte[] privateKeyBytes = Base64.getDecoder().decode(rsaPrivateKey); PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes); PrivateKey privateKey = keyFactory.generatePrivate(pkcs8EncodedKeySpec); // ------- ÊµãËØïÂä†Ëß£ÂØÜ -------- Cipher cipher = Cipher.getInstance(transform); cipher.init(Cipher.ENCRYPT_MODE, publicKey); byte[] pubEncryptBytes = cipher.doFinal(value.getBytes()); System.out.println("RSAÂÖ¨Èí•Âä†ÂØÜÊï∞ÊçÆ: " + Base64.getEncoder().encodeToString(pubEncryptBytes)); cipher.init(Cipher.DECRYPT_MODE, privateKey); byte[] priDecryptBytes = cipher.doFinal(pubEncryptBytes); System.out.println("RSAÁßÅÈí•Ëß£ÂØÜÊï∞ÊçÆ: " + new String(priDecryptBytes)); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12RSAÂÖ¨Èí•Âä†ÂØÜÊï∞ÊçÆ: PdSr+WRUWIxbA7stmZ03GCwDBnE3CyFL43bTskJmBilY+9lL63Jt0KxN0S2A4ombxvngbiB8PVZiqj1oSkgWpA==RSAÁßÅÈí•Ëß£ÂØÜÊï∞ÊçÆ: mrbird&apos;s blogÂàÜÊÆµÂä†Ëß£ÂØÜRSAÂä†Ëß£ÂØÜ‰∏≠ÂøÖÈ°ªËÄÉËôëÂà∞ÁöÑÂØÜÈí•ÈïøÂ∫¶„ÄÅÊòéÊñáÈïøÂ∫¶ÂíåÂØÜÊñáÈïøÂ∫¶ÈóÆÈ¢ò„ÄÇÊòéÊñáÈïøÂ∫¶ÈúÄË¶ÅÂ∞è‰∫éÂØÜÈí•ÈïøÂ∫¶ÔºåËÄåÂØÜÊñáÈïøÂ∫¶ÂàôÁ≠â‰∫éÂØÜÈí•ÈïøÂ∫¶„ÄÇÂõ†Ê≠§ÂΩìÂä†ÂØÜÂÜÖÂÆπÈïøÂ∫¶Â§ß‰∫éÂØÜÈí•ÈïøÂ∫¶Êó∂ÔºåÊúâÊïàÁöÑRSAÂä†Ëß£ÂØÜÂ∞±ÈúÄË¶ÅÂØπÂÜÖÂÆπËøõË°åÂàÜÊÆµ„ÄÇËøôÊòØÂõ†‰∏∫ÔºåRSAÁÆóÊ≥ïÊú¨Ë∫´Ë¶ÅÊ±ÇÂä†ÂØÜÂÜÖÂÆπ‰πüÂ∞±ÊòØÊòéÊñáÈïøÂ∫¶mÂøÖÈ°ªÊª°Ë∂≥0&lt;m&lt;ÂØÜÈí•ÈïøÂ∫¶n„ÄÇÂ¶ÇÊûúÂ∞è‰∫éËøô‰∏™ÈïøÂ∫¶Â∞±ÈúÄË¶ÅËøõË°åpaddingÔºåÂõ†‰∏∫Â¶ÇÊûúÊ≤°ÊúâpaddingÔºåÂ∞±Êó†Ê≥ïÁ°ÆÂÆöËß£ÂØÜÂêéÂÜÖÂÆπÁöÑÁúüÂÆûÈïøÂ∫¶ÔºåÂ≠óÁ¨¶‰∏≤‰πãÁ±ªÁöÑÂÜÖÂÆπÈóÆÈ¢òËøò‰∏çÂ§ßÔºå‰ª•0‰Ωú‰∏∫ÁªìÊùüÁ¨¶Ôºå‰ΩÜÂØπ‰∫åËøõÂà∂Êï∞ÊçÆÂ∞±ÂæàÈöæÔºåÂõ†‰∏∫‰∏çÁ°ÆÂÆöÂêéÈù¢ÁöÑ0ÊòØÂÜÖÂÆπËøòÊòØÂÜÖÂÆπÁªìÊùüÁ¨¶„ÄÇËÄåÂè™Ë¶ÅÁî®Âà∞paddingÔºåÈÇ£‰πàÂ∞±Ë¶ÅÂç†Áî®ÂÆûÈôÖÁöÑÊòéÊñáÈïøÂ∫¶Ôºå‰∫éÊòØÂÆûÈôÖÊòéÊñáÈïøÂ∫¶ÈúÄË¶ÅÂáèÂéªpaddingÂ≠óËäÇÈïøÂ∫¶„ÄÇÊàë‰ª¨‰∏ÄËà¨‰ΩøÁî®ÁöÑpaddingÊ†áÂáÜÊúâNoPPadding„ÄÅOAEPPadding„ÄÅPKCS1PaddingÁ≠âÔºåÂÖ∂‰∏≠PKCS#1Âª∫ËÆÆÁöÑpaddingÂ∞±Âç†Áî®‰∫Ü11‰∏™Â≠óËäÇ„ÄÇ‰ª•ÁßòÈí•ÈïøÂ∫¶‰∏∫1024bits‰∏∫‰æãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import org.junit.Test;import javax.crypto.Cipher;import java.security.KeyPair;import java.security.KeyPairGenerator;import java.security.PrivateKey;import java.security.PublicKey;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; StringBuilder value = new StringBuilder(); for (int i = 0; i &lt;= 29; i++) &#123; value.append("18cm"); &#125; System.out.println("ÂæÖÂä†ÂØÜÂÜÖÂÆπÈïøÂ∫¶: " + value.toString().length()); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "RSA"; // ËΩ¨Êç¢Ê®°Âºè String transform = "RSA/ECB/PKCS1Padding"; // ÂÆû‰æãÂåñÁßòÈí•ÂØπÁîüÊàêÂô® KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÔºåÁßòÈí•ÈïøÂ∫¶512~16384‰ΩçÔºå64ÂÄçÊï∞ keyPairGenerator.initialize(1024); // ÁîüÊàêÁßòÈí•ÂØπ KeyPair keyPair = keyPairGenerator.generateKeyPair(); // ÂÖ¨Èí• PublicKey publicKey = keyPair.getPublic(); System.out.println("RSAÂÖ¨Èí•: " + Base64.getEncoder().encodeToString(publicKey.getEncoded())); // ÁßÅÈí• PrivateKey privateKey = keyPair.getPrivate(); System.out.println("RSAÁßÅÈí•: " + Base64.getEncoder().encodeToString(privateKey.getEncoded())); // ------ ÊµãËØïÂÖ¨Èí•Âä†ÂØÜÔºåÁßÅÈí•Ëß£ÂØÜ ------ Cipher cipher = Cipher.getInstance(transform); cipher.init(Cipher.ENCRYPT_MODE, publicKey); byte[] pubEncryptBytes = cipher.doFinal(value.toString().getBytes()); System.out.println("RSAÂÖ¨Èí•Âä†ÂØÜÂêéÊï∞ÊçÆ: " + Base64.getEncoder().encodeToString(pubEncryptBytes)); cipher.init(Cipher.DECRYPT_MODE, privateKey); byte[] priDecryptBytes = cipher.doFinal(pubEncryptBytes); System.out.println("RSAÁßÅÈí•Ëß£ÂØÜÂêéÊï∞ÊçÆ: " + new String(priDecryptBytes)); // ------ ÊµãËØïÁßÅÈí•Âä†ÂØÜÔºåÂÖ¨Èí•Ëß£ÂØÜ ------ cipher.init(Cipher.ENCRYPT_MODE, privateKey); byte[] priEncryptBytes = cipher.doFinal(value.toString().getBytes()); System.out.println("RSAÁßÅÈí•Âä†ÂØÜÂêéÊï∞ÊçÆ: " + Base64.getEncoder().encodeToString(priEncryptBytes)); cipher.init(Cipher.DECRYPT_MODE, publicKey); byte[] pubDecryptBytes = cipher.doFinal(priEncryptBytes); System.out.println("RSAÂÖ¨Èí•Ëß£ÂØÜÂêéÊï∞ÊçÆ: " + new String(pubDecryptBytes)); &#125;&#125;Á®ãÂ∫è‰ºöÊäõÂá∫Â¶Ç‰∏ãÂºÇÂ∏∏Ôºö1234567891011121314151617181920212223242526272829303132ÂæÖÂä†ÂØÜÂÜÖÂÆπÈïøÂ∫¶: 120RSAÂÖ¨Èí•: MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC79DkQcppMMl11r21OMYcTlLWMJP9ZZw9BdszZPu+D1kHijbETrae84AwOrNPqrl8/vpPh2q9BLkrkfQuvSLQHk6tuefVEyWRnnnEwYJzIbjuQPhEwKU7khqjhNXdoW/27AN7kyQwFFnbLHfkc/lh6V6N6S2g5J2NmQL4hfqVgGwIDAQABRSAÁßÅÈí•: MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBALv0ORBymkwyXXWvbU4xhxOUtYwk/1lnD0F2zNk+74PWQeKNsROtp7zgDA6s0+quXz++k+Har0EuSuR9C69ItAeTq2559UTJZGeecTBgnMhuO5A+ETApTuSGqOE1d2hb/bsA3uTJDAUWdssd+Rz+WHpXo3pLaDknY2ZAviF+pWAbAgMBAAECgYA2ksoC6ZO9rh4O7rnpK15SJCq2n4N5HQCD/I+sQKbg+9QziPqygQikQdWeaTY6/Rhw9NARkyKx5VQfleNPqOeEj1KwNK8pctD7nkb/PL/LZofH1uk1J0sgaSPpox2LUrIabWFs/dztbHpR/aiaQLbLfrdOgkGoQWM3FB8hMEsbSQJBAPhD/US0C6VQuMqLytuOsB7imqNttD8F6gGQAXAGz2YcgDHSHdayzhT1q12J0nrzfJGfZLZpc+4t9szS9Oh3VvcCQQDBzznlqTbaq7KaxAacdo6BRQszVMuy9kJXupINUUyw+wEaCiz4sxCJsa8ASfJBnxRGFEPyi9Hea6ijOwckDYL9AkEAkAPYqn8K9mYCHDTFg2GdVv06mS0tTxXeLfPccaDxtJk54Cyz9HSayVvNgaBOgdY2376nzI0VnAf7z8tcGHIJ9wJAcPwb5pU1U1mRL8RjjkdXYGkd1Hj0n4oMtxQfHQBuUyahR8ry2LGbTIp3WRXC0xqoOQqLahS07pOYpkA9M3llCQJBAN4oaSLXsSpZtnwekocGapsBaY62Kn9QIZGaGHJkmAwXBXEdXZfr/16BhUd4JSlfGgL3CvdP57OaWjl0CPZ0wxs=javax.crypto.IllegalBlockSizeException: Data must not be longer than 117 bytes at com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:344) at com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:389) at javax.crypto.Cipher.doFinal(Cipher.java:2164) at cc.mrbird.security.temp.rsa.Demo.test(Demo.java:42) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)ÂØπ‰∫é1024ÈïøÂ∫¶ÁöÑÂØÜÈí•„ÄÇ128Â≠óËäÇÔºà1024bits/8ÔºâÂáèÂéªPKCS#1Âª∫ËÆÆÁöÑpaddingÂ∞±Âç†Áî®‰∫Ü11‰∏™Â≠óËäÇÊ≠£Â•ΩÊòØ117Â≠óËäÇ„ÄÇÊâÄ‰ª•Âä†ÂØÜÁöÑÊòéÊñáÈïøÂ∫¶120Â≠óËäÇÂ§ß‰∫é117Â≠óËäÇÔºåÁ®ãÂ∫èÊäõÂá∫‰∫ÜÂºÇÂ∏∏„ÄÇË¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂèØ‰ª•ÈááÁî®ÂàÜÊÆµÂä†ÂØÜÁöÑÊâãÊÆµ„ÄÇÁºñÂÜô‰∏Ä‰∏™ÂàÜÊÆµÂä†Ëß£ÂØÜÁöÑÂ∑•ÂÖ∑Á±ªÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990import javax.crypto.Cipher;import java.io.ByteArrayOutputStream;import java.security.PrivateKey;import java.security.PublicKey;import java.util.Base64;/** * RSAÂàÜÊÆµÂä†Ëß£ÂØÜ * ÈíàÂØπÁßòÈí•ÈïøÂ∫¶‰∏∫1024bits */public class RsaUtil &#123; // ÊúÄÂ§ßÂä†ÂØÜÂùóÈïøÂ∫¶ 1024/8 - 11 private static final int MAX_ENCRYPT_BLOCK = 117; // ÊúÄÂ§ßËß£ÂØÜÂùóÈïøÂ∫¶ 1024/8 private static final int MAX_DECRYPT_BLOCK = 128; private static final String TRANSFORM = "RSA/ECB/PKCS1Padding"; /** * ÂÖ¨Èí•Âä†ÂØÜ * * @param publicKey ÂÖ¨Èí• * @param value ÂæÖÂä†ÂØÜÂÄº * @return Âä†ÂØÜÂÄº */ public static String encrypt(PublicKey publicKey, String value) &#123; try (ByteArrayOutputStream out = new ByteArrayOutputStream()) &#123; Cipher cipher = Cipher.getInstance(TRANSFORM); cipher.init(Cipher.ENCRYPT_MODE, publicKey); byte[] bytes = value.getBytes(); int length = bytes.length; int offSet = 0; byte[] cache; int i = 0; // ÂØπÊï∞ÊçÆÂàÜÊÆµÂä†ÂØÜ while (length - offSet &gt; 0) &#123; if (length - offSet &gt; MAX_ENCRYPT_BLOCK) &#123; cache = cipher.doFinal(bytes, offSet, MAX_ENCRYPT_BLOCK); &#125; else &#123; cache = cipher.doFinal(bytes, offSet, length - offSet); &#125; out.write(cache, 0, cache.length); i++; offSet = i * MAX_ENCRYPT_BLOCK; &#125; byte[] encryptedData = out.toByteArray(); return Base64.getEncoder().encodeToString(encryptedData); &#125; catch (Exception e) &#123; e.printStackTrace(); return null; &#125; &#125; /** * ÁßÅÈí•Ëß£ÂØÜ * * @param privateKey ÁßÅÈí• * @param encrypt Â∏¶Ëß£ÂØÜÂÄº * @return Ëß£ÂØÜÂÄº */ public static String decrypt(PrivateKey privateKey, String encrypt) &#123; try (ByteArrayOutputStream out = new ByteArrayOutputStream()) &#123; Cipher cipher = Cipher.getInstance(TRANSFORM); cipher.init(Cipher.DECRYPT_MODE, privateKey); byte[] bytes = Base64.getDecoder().decode(encrypt); int length = bytes.length; int offSet = 0; byte[] cache; int i = 0; // ÂØπÊï∞ÊçÆÂàÜÊÆµËß£ÂØÜ while (length - offSet &gt; 0) &#123; if (length - offSet &gt; MAX_DECRYPT_BLOCK) &#123; cache = cipher.doFinal(bytes, offSet, MAX_DECRYPT_BLOCK); &#125; else &#123; cache = cipher.doFinal(bytes, offSet, length - offSet); &#125; out.write(cache, 0, cache.length); i++; offSet = i * MAX_DECRYPT_BLOCK; &#125; byte[] decryptedData = out.toByteArray(); return new String(decryptedData); &#125; catch (Exception e) &#123; e.printStackTrace(); return null; &#125; &#125;&#125;ÊµãËØïÔºö123456789101112131415161718192021222324252627282930313233343536373839404142import org.junit.Test;import java.security.KeyPair;import java.security.KeyPairGenerator;import java.security.PrivateKey;import java.security.PublicKey;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; StringBuilder value = new StringBuilder(); for (int i = 0; i &lt;= 29; i++) &#123; value.append("18cm"); &#125; System.out.println("ÂæÖÂä†ÂØÜÂÜÖÂÆπÈïøÂ∫¶: " + value.toString().length()); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "RSA"; // ÂÆû‰æãÂåñÁßòÈí•ÂØπÁîüÊàêÂô® KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÔºåÁßòÈí•ÈïøÂ∫¶512~16384‰ΩçÔºå64ÂÄçÊï∞ keyPairGenerator.initialize(1024); // ÁîüÊàêÁßòÈí•ÂØπ KeyPair keyPair = keyPairGenerator.generateKeyPair(); // ÂÖ¨Èí• PublicKey publicKey = keyPair.getPublic(); System.out.println("RSAÂÖ¨Èí•: " + Base64.getEncoder().encodeToString(publicKey.getEncoded())); // ÁßÅÈí• PrivateKey privateKey = keyPair.getPrivate(); System.out.println("RSAÁßÅÈí•: " + Base64.getEncoder().encodeToString(privateKey.getEncoded())); // ------ ÊµãËØïÂÖ¨Èí•Âä†ÂØÜÔºåÁßÅÈí•Ëß£ÂØÜ ------ String pubEncrypt= RsaUtil.encrypt(publicKey, value.toString()); System.out.println("RSAÂÖ¨Èí•Âä†ÂØÜÂêéÊï∞ÊçÆ: " + pubEncrypt); String priDecrypt = RsaUtil.decrypt(privateKey, pubEncrypt); System.out.println("RSAÁßÅÈí•Ëß£ÂØÜÂêéÊï∞ÊçÆ: " + priDecrypt); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12345ÂæÖÂä†ÂØÜÂÜÖÂÆπÈïøÂ∫¶: 120RSAÂÖ¨Èí•: MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCJcyiFAbUHBYXe5BTY/TF5Bn4/fW4L0dK2eaDSPJr4uqTFxIj+sRDqRq71yZw3KJk0qxmmGbtMRQGuR+GVAyJ/0E2R3q2RM+aWCZmkzyDnq6xHIvV0d3mU3N8EDtPS6iO+ANOEPNKfdzr+BJN8NKnpXC2ii7phvMk/QlYqjVAbIwIDAQABRSAÁßÅÈí•: MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAIlzKIUBtQcFhd7kFNj9MXkGfj99bgvR0rZ5oNI8mvi6pMXEiP6xEOpGrvXJnDcomTSrGaYZu0xFAa5H4ZUDIn/QTZHerZEz5pYJmaTPIOerrEci9XR3eZTc3wQO09LqI74A04Q80p93Ov4Ek3w0qelcLaKLumG8yT9CViqNUBsjAgMBAAECgYEAhaU2UdVuGoyxNR9acf4GW6IHoV4pYU68bnbm+2S4Xn7EdhN6DQNH6jOeLRjCTxOnnAF95/Z/GlLCpp335nbs1B1wlb6MP5l3keO2KhYuvPhnZdPInNV0aKWzOoX7gcmy12g5IAQgoYoc/IohPIpMmkgrbuGQGk2+jxnGPETgNdECQQDhDyP3VIH5AucbHHeL6fSU9kswO1eejLzRmvlKIwk15wE1xteFvIqpLOLlR8wJm+Eb5uB0HEr4X7rlWDQLq/OZAkEAnFilYybZfp4rRctsnYjFZf0QGUCCBV9hFa7xoGztV2rAkLLmsnayXzSJpOYYAOI7ekrqfLL3xALQKn8DZtr6GwJAecd9iKl7oshFUVA4B8dShwA2cyTJJou06B5ZYhpPM5GKABVWLZF13lDhfXs6FsD4L+bf8TQWBQuXz93IW8BxkQJAZqfR2BuPHRMPiKE77Of77K5PnrT7ajmpDkqy/knnQMmoLJo63Z0QG3Dsm6g0xIfG09JSypPcGQhb1DtXaXaIVwJAVVSPa1caRWLKYlEKAi1gBbrC5Zt7aTQ/ska2E3ksAhaVhScPBOEIoQf9EdbGajmpuueWeH9IlVrqQv0vFNY4gA==RSAÂÖ¨Èí•Âä†ÂØÜÂêéÊï∞ÊçÆ: cy7Var2L72bgne9F8iGro+SCQxs2ejIMPwQDJ5hQFTLvyqtT4ZJYM5i2ClgOD9viAP2Tp/X5cCX0+K1xz88hf5w/xNPWonzdaJNa2J5gQv7KGxNe/pW4mtpf878u4sIvO9sT8AktWtJC3jFtvxL9u9vJdzWl99RSRf/3sNqWj3gLRM/YpCcGM0HPuDsyUdOA4q+Tn+d2nOf36XrBtjIl2QyOTwnMoMCbC9Hlt6jN8fMsSFW8oiFNqV/+HPlhs5ZtFixhUE6SryketJfzXGmUSXH5cM/+11pB2bBxrCvtqRUE5/MZKjL2kKmrZan3kDHi4aiwLSDdpYdZn0urrJObAA==RSAÁßÅÈí•Ëß£ÂØÜÂêéÊï∞ÊçÆ: 18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cm18cmÂª∫ËÆÆÂÖ¨Èí•ÊòØÈÄöËøáAÂèëÈÄÅÁªôBÁöÑÔºåÂÖ∂Âú®‰º†ÈÄíËøáÁ®ã‰∏≠ÂæàÊúâÂèØËÉΩË¢´Êà™Ëé∑Ôºå‰πüÂ∞±ÊòØËØ¥Á™ÉÂê¨ËÄÖÂæàÊúâÂèØËÉΩËé∑ÂæóÂÖ¨Èí•„ÄÇÂ¶ÇÊûúÁ™ÉÂê¨ËÄÖËé∑Âæó‰∫ÜÂÖ¨Èí•ÔºåÂêëAÂèëÈÄÅÊï∞ÊçÆÔºåAÊòØÊó†Ê≥ïËæ®Âà´Ê∂àÊÅØÁöÑÁúü‰º™ÁöÑ„ÄÇÂõ†Ê≠§ÔºåËôΩÁÑ∂ÂèØ‰ª•‰ΩøÁî®ÂÖ¨Èí•ÂØπÊï∞ÊçÆÂä†ÂØÜÔºå‰ΩÜËøôÁßçÊñπÂºèËøòÊòØ‰ºöÊúâÂ≠òÂú®‰∏ÄÂÆöÁöÑÂÆâÂÖ®ÈöêÊÇ£„ÄÇÂ¶ÇÊûúË¶ÅÂª∫Á´ãÊõ¥ÂÆâÂÖ®ÁöÑÂä†ÂØÜÊ∂àÊÅØ‰º†ÈÄíÊ®°ÂûãÔºåÂ∞±ÈúÄË¶ÅABÂèåÊñπÊûÑÂª∫‰∏§Â•óÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂØÜÈí•Ôºå‰ªÖÈÅµÂæ™‚ÄúÁßÅÈí•Âä†ÂØÜÔºåÂÖ¨Èí•Ëß£ÂØÜ‚ÄùÁöÑÊñπÂºèËøõË°åÂä†ÂØÜÊ∂àÊÅØ‰º†ÈÄíÔºõRSA‰∏çÈÄÇÂêàÂä†ÂØÜËøáÈïøÁöÑÊï∞ÊçÆÔºåËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøáÂàÜÊÆµÂä†ÂØÜÊâãÊÆµËß£ÂÜ≥Ôºå‰ΩÜËøáÈïøÁöÑÊï∞ÊçÆÂä†Ëß£ÂØÜËÄóÊó∂ËæÉÈïøÔºåÂú®ÂìçÂ∫îÈÄüÂ∫¶Ë¶ÅÊ±ÇËæÉÈ´òÁöÑÊÉÖÂÜµ‰∏ãÊÖéÁî®„ÄÇ‰∏ÄËà¨Êé®Ëçê‰ΩøÁî®ÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï‰º†ËæìÂØπÁß∞Âä†ÂØÜÁßòÈí•ÔºåÂèåÊñπÊï∞ÊçÆÂä†ÂØÜÁî®ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂä†Ëß£ÂØÜ„ÄÇ]]></content>
      <tags>
        <tag>Security</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï]]></title>
    <url>%2FJava-%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95.html</url>
    <content type="text"><![CDATA[ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂä†ÂØÜÂíåËß£ÂØÜ‰ΩøÁî®ÁöÑÊòØÂêå‰∏Ä‰ªΩÁßòÈí•ÔºåËß£ÂØÜÊòØÂä†ÂØÜÁöÑÈÄÜËøêÁÆó„ÄÇÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂä†ÂØÜÈÄüÂ∫¶Âø´ÔºåÂØÜÊñáÂèØÈÄÜÔºå‰∏ÄÊó¶ÁßòÈí•Êñá‰ª∂Ê≥ÑÈú≤ÔºåÂ∞±‰ºöÂØºËá¥ÂéüÂßãÊï∞ÊçÆÊö¥Èú≤„ÄÇÂØπÁß∞Âä†ÂØÜÁöÑÁªìÊûú‰∏ÄËà¨‰ΩøÁî®Base64ÁÆóÊ≥ïÁºñÁ†ÅÔºå‰æø‰∫éÈòÖËØªÂíå‰º†Ëæì„ÄÇJDK8ÊîØÊåÅÁöÑÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ï‰∏ªË¶ÅÊúâDES„ÄÅDESede„ÄÅAES„ÄÅBlowfishÔºå‰ª•ÂèäRC2ÂíåRC4Á≠â„ÄÇ‰∏çÂêåÁöÑÁÆóÊ≥ïÁßòÈí•ÈïøÂ∫¶‰∏çÂêåÔºåÁßòÈí•ÈïøÂ∫¶Ë∂äÈïøÔºåÂä†ÂØÜÂÆâÂÖ®ÊÄßË∂äÈ´ò„ÄÇDESDESÔºàData Encryption StandardÔºåÊï∞ÊçÆÂä†ÂØÜÊ†áÂáÜÔºâÁÆóÊ≥ïÊòØÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÈ¢ÜÂüü‰∏≠ÁöÑÂÖ∏ÂûãÁÆóÊ≥ïÔºåDESÁÆóÊ≥ïÁßòÈí•ËæÉÁü≠Ôºå‰ª•Áé∞Âú®ËÆ°ÁÆóÊú∫ÁöÑËÆ°ÁÆóËÉΩÂäõÔºåDESÁÆóÊ≥ïÂä†ÂØÜÁöÑÊï∞ÊçÆÂú®24Â∞èÊó∂ÂÜÖÂèØËÉΩË¢´Á†¥Ëß£„ÄÇÊâÄ‰ª•DESÁÆóÊ≥ïÂ∑≤ÁªèË¢´Ê∑òÊ±∞ÔºåÂª∫ËÆÆ‰ΩøÁî®AESÁÆóÊ≥ïÔºå‰∏çËøáËøôÈáåËøòÊòØÁÆÄÂçï‰∫ÜËß£‰∏ã„ÄÇJDK8‰ªÖÊîØÊåÅ56‰ΩçÈïøÂ∫¶ÁöÑDESÁßòÈí•Ôºå‰∏ãÈù¢‰∏æ‰∏™JDK8ÂÆûÁé∞DESÂä†ÂØÜÁöÑ‰æãÂ≠êÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.KeyGenerator;import javax.crypto.SecretKey;import javax.crypto.SecretKeyFactory;import javax.crypto.spec.DESKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "DES"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "DES"; // --- ÁîüÊàêÁßòÈí• --- // ÂÆû‰æãÂåñÁßòÈí•ÁîüÊàêÂô® KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÁßòÈí•ÈïøÂ∫¶ keyGenerator.init(56); // ÁîüÊàêÁßòÈí• SecretKey secretKey = keyGenerator.generateKey(); // ÂÆû‰æãÂåñDESÁßòÈí•ÊùêÊñô DESKeySpec desKeySpec = new DESKeySpec(secretKey.getEncoded()); // ÂÆû‰æãÂåñÁßòÈí•Â∑•ÂéÇ SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(algorithm); // ÁîüÊàêDESÁßòÈí• SecretKey desSecretKey = secretKeyFactory.generateSecret(desKeySpec); System.out.println("DESÁßòÈí•Ôºö" + Base64.getEncoder().encodeToString(desSecretKey.getEncoded())); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ËÆæÁΩÆÊ®°ÂºèÔºàENCRYPT_MODEÔºöÂä†ÂØÜÊ®°ÂºèÔºõDECRYPT_MODEÔºöËß£ÂØÜÊ®°ÂºèÔºâÂíåÊåáÂÆöÁßòÈí• cipher.init(Cipher.ENCRYPT_MODE, desSecretKey); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("DESÂä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, desSecretKey); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("DESËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;ËΩ¨Êç¢Ê®°ÂºètransformationËøôÈáåÂÖàËÆæÁΩÆ‰∏∫ÂíåÂä†ÂØÜÁÆóÊ≥ï‰∏ÄÊ†∑Ôºå‰∏ãÈù¢‰ªãÁªç‰∫ÜÂä†ÂØÜÊ®°ÂºèÂíåÂ°´ÂÖÖÊ®°ÂºèÂêéÂÜç‰ΩúËØ¥Êòé„ÄÇ‰∏äÈù¢Ê≠•È™§ÁúãÁùÄÊå∫Â§öÔºåÂÖ∂ÂÆûÂèØ‰ª•ÊÄªÁªì‰∏∫Â¶Ç‰∏ãÂá†Ê≠•ÔºöÁîüÊàêÂä†ÂØÜÁßòÈí•Ôºõ1.1. ÈÄöËøáKeyGeneratorÁîüÊàê‰∏Ä‰∏™ÊåáÂÆö‰ΩçÊï∞ÁöÑÁßòÈí•Ôºõ1.2. ÈÄöËøá‰∏äÈù¢ÁîüÊàêÁöÑÁßòÈí•ÂÆû‰æãÂåñÁÆóÊ≥ïÂØπÂ∫îÁöÑÁßòÈí•ÊùêÊñôKeySpecÔºõ1.3. ‰ΩøÁî®ÁßòÈí•ÊùêÊñôÈÄöËøáÁßòÈí•Â∑•ÂéÇSecretKeyFactoryÁîüÊàêÁÆóÊ≥ïÁßòÈí•SecretKey„ÄÇÈÄöËøáËΩ¨Êç¢Ê®°ÂºèÂÆû‰æãÂåñCipherÔºõÊåáÂÆöCipherÊ®°ÂºèÂíåÁßòÈí•ÔºåËøõË°åÂä†Ëß£ÂØÜÊìç‰Ωú„ÄÇËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö1234ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogDESÁßòÈí•ÔºöLO/CCEC8y8E=DESÂä†ÂØÜÁªìÊûúÔºöhRZdN6f+6yj/lhPWUPsayA==DESËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÂ¶ÇÊûúÂú®ÁîüÊàêÁßòÈí•ÁöÑÊó∂ÂÄôÔºå‰∏çÊåáÂÆö‰∏∫56‰ΩçÔºåÂàô‰ºöÊäõÂá∫java.security.InvalidParameterException: Wrong keysize: must be equal to 56ÂºÇÂ∏∏„ÄÇDESede‰Ωú‰∏∫DESÁÆóÊ≥ïÁöÑ‰∏ÄÁßçÊîπËâØÔºåDESedeÁÆóÊ≥ïÔºà‰πüÊàê‰∏∫3DESÔºå‰∏âÈáçDESÔºâÈíàÂØπÂÖ∂ÁßòÈí•ÈïøÂ∫¶ÂÅèÁü≠ÂíåËø≠‰ª£Ê¨°Êï∞ÂÅèÂ∞ëÁ≠âÈóÆÈ¢òÂÅö‰∫ÜÁõ∏Â∫îÊîπËøõÔºåÊèêÈ´ò‰∫ÜÂÆâÂÖ®Âº∫Â∫¶Ôºå‰ΩÜÂêåÊó∂‰πüÈÄ†ÊàêÂ§ÑÁêÜÈÄüÂ∫¶ËæÉÊÖ¢„ÄÅÁßòÈí•ËÆ°ÁÆóÊó∂Èó¥Âä†Èïø„ÄÅÂä†ÂØÜÊïàÁéá‰∏çÈ´òÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•ËøôÈáåËøòÊòØÁÆÄÂçï‰∫ÜËß£‰∏ãÔºåÂÆûÈôÖËøòÊòØÊé®ËçêÁî®AES„ÄÇJDK8ÊîØÊåÅ112‰ΩçÊàñ168‰ΩçÈïøÂ∫¶ÁöÑDESedeÁßòÈí•Ôºå‰∏ãÈù¢‰∏æ‰∏™JDK8ÂÆûÁé∞DESedeÂä†ÂØÜÁöÑ‰æãÂ≠êÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.KeyGenerator;import javax.crypto.SecretKey;import javax.crypto.SecretKeyFactory;import javax.crypto.spec.DESedeKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "DESede"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "DESede"; // --- ÁîüÊàêÁßòÈí• --- // ÂÆû‰æãÂåñÁßòÈí•ÁîüÊàêÂô® KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÁßòÈí•ÈïøÂ∫¶ keyGenerator.init(112); // ÁîüÊàêÁßòÈí• SecretKey secretKey = keyGenerator.generateKey(); // ÂÆû‰æãÂåñDESedeÁßòÈí•ÊùêÊñô DESedeKeySpec desKeySpec = new DESedeKeySpec(secretKey.getEncoded()); // ÂÆû‰æãÂåñÁßòÈí•Â∑•ÂéÇ SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(algorithm); // ÁîüÊàêDESÁßòÈí• SecretKey desSecretKey = secretKeyFactory.generateSecret(desKeySpec); System.out.println("DESedeÁßòÈí•Ôºö" + Base64.getEncoder().encodeToString(desSecretKey.getEncoded())); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ËÆæÁΩÆÊ®°ÂºèÔºàENCRYPT_MODEÔºöÂä†ÂØÜÊ®°ÂºèÔºõDECRYPT_MODEÔºöËß£ÂØÜÊ®°ÂºèÔºâÂíåÊåáÂÆöÁßòÈí• cipher.init(Cipher.ENCRYPT_MODE, desSecretKey); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("DESedeÂä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, desSecretKey); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("DESedeËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;ËøáÁ®ãÂíåDES‰∏ÄËá¥ÔºåÂå∫Âà´‰ªÖÂú®‰∫é‰ΩøÁî®ÁöÑÂä†ÂØÜÁÆóÊ≥ï‰∏∫DESedeÔºåÁßòÈí•ÈïøÂ∫¶ÊåáÂÆö‰∏∫112ÔºåÁßòÈí•ÊùêÊñôÂØπË±°‰∏∫DESedeKeySpecÁ±ª„ÄÇ‰∏äÈù¢Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö1234ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogDESedeÁßòÈí•Ôºö1fFb+F1wboVGGTSPNIBJ+9XxW/hdcG6FDESedeÂä†ÂØÜÁªìÊûúÔºöWVg9w6exyRREqY1vNyRI+Q==DESedeËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÂ¶ÇÊûúÊåáÂÆö‰∏çÂêàÊ≥ïÁöÑÁßòÈí•ÈïøÂ∫¶ÔºåÁ®ãÂ∫èÂ∞ÜÊäõÂá∫java.security.InvalidParameterException: Wrong keysize: must be equal to 112 or 168ÂºÇÂ∏∏„ÄÇAESAESÔºàAdvancedEncryption StandardÔºåÈ´òÁ∫ßÊï∞ÊçÆÂä†ÂØÜÊ†áÂáÜÔºâÁÆóÊ≥ïÊîØÊåÅ128‰Ωç„ÄÅ192‰ΩçÂíå256‰ΩçÁöÑÁßòÈí•ÈïøÂ∫¶ÔºåÂä†ÂØÜÈÄüÂ∫¶ÊØîDESÂíåDESedeÈÉΩÂø´ÔºåËá≥‰ªäËøòÊ≤°ÊúâË¢´Á†¥Ëß£ÁöÑÊä•ÈÅì„ÄÇÁªèËøáÈ™åËØÅÔºåÁõÆÂâçÈááÁî®ÁöÑAESÁÆóÊ≥ïËÉΩÂ§üÊúâÊïàÊäµÂæ°Â∑≤Áü•ÁöÑÈíàÂØπDESÁÆóÊ≥ïÁöÑÊâÄÊúâÊîªÂáªÊñπÊ≥ïÔºåÂ¶ÇÈÉ®ÂàÜÂ∑ÆÂàÜÊîªÂáª„ÄÅÁõ∏ÂÖ≥ÁßòÈí•ÊîªÂáªÁ≠â„ÄÇAESÁÆóÊ≥ïÂõ†ÁßòÈí•Âª∫Á´ãÊó∂Èó¥Áü≠„ÄÅÁÅµÊïèÊÄßÂ•Ω„ÄÅÂÜÖÂ≠òÈúÄÊ±Ç‰ΩéÁ≠â‰ºòÁÇπÔºåÂú®ÂêÑ‰∏™È¢ÜÂüüÂæóÂà∞ÂπøÊ≥õÁöÑÁ†îÁ©∂‰∏éÂ∫îÁî®„ÄÇJDK8ÊîØÊåÅ128‰Ωç„ÄÅ192‰ΩçÂíå256‰ΩçÈïøÂ∫¶ÁöÑAESÁßòÈí•Ôºå‰∏ãÈù¢‰∏æ‰∏™JDK8ÂÆûÁé∞AESÂä†ÂØÜÁöÑ‰æãÂ≠êÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.KeyGenerator;import javax.crypto.SecretKey;import javax.crypto.spec.SecretKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "AES"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "AES"; // --- ÁîüÊàêÁßòÈí• --- // ÂÆû‰æãÂåñÁßòÈí•ÁîüÊàêÂô® KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÁßòÈí•ÈïøÂ∫¶ keyGenerator.init(256); // ÁîüÊàêÁßòÈí• SecretKey secretKey = keyGenerator.generateKey(); // ÁîüÊàêÁßòÈí•ÊùêÊñô SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(), algorithm); System.out.println("AESÁßòÈí•Ôºö" + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ËÆæÁΩÆÊ®°ÂºèÔºàENCRYPT_MODEÔºöÂä†ÂØÜÊ®°ÂºèÔºõDECRYPT_MODEÔºöËß£ÂØÜÊ®°ÂºèÔºâÂíåÊåáÂÆöÁßòÈí• cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("AESÂä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, secretKeySpec); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("AESËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;ËøáÁ®ãÂíå‰∏äÈù¢‰æãÂ≠êÂ§ß‰Ωì‰∏ÄËá¥ÔºåÂîØ‰∏ÄÂå∫Âà´ÊòØ‰ΩøÁî®AESÁÆóÊ≥ïÊó†ÈúÄÊåáÂÆöÁâπÂÆöÁ±ªÂûãÁöÑÁßòÈí•ÊùêÊñôÔºåÁõ¥Êé•Áî®SecretKeySpecÂØπË±°Âç≥ÂèØ„ÄÇÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö1234ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogAESÁßòÈí•ÔºövMj1fnhYdIGpTfxpEeKaynG879ARZ5r2AcfBpf+yoRs=AESÂä†ÂØÜÁªìÊûúÔºöGCmIlqEJIBlBRw/474OanQ==AESËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÂ¶ÇÊûúÊåáÂÆö‰∏çÂêàÊ≥ïÁöÑÁßòÈí•ÈïøÂ∫¶ÔºåÁ®ãÂ∫èÂ∞ÜÊäõÂá∫java.security.InvalidParameterException: Wrong keysize: must be equal to 128, 192 or 256ÂºÇÂ∏∏„ÄÇRC2„ÄÅRC4RC2ÂíåRC4ÁÆóÊ≥ï‰πüÂèØ‰ª•Áî®‰∫éÊõøÊç¢DESÁÆóÊ≥ïÔºåÁâπÁÇπÊòØÁßòÈí•ÈïøÂ∫¶ËæÉ‰∏∫ÁÅµÊ¥ªÔºåRC2ÂíåRC4ÁöÑÁßòÈí•ÈïøÂ∫¶ËåÉÂõ¥‰∏∫40Âà∞1024‰Ωç„ÄÇJDK8ÊîØÊåÅRC2ÂíåRC4ÁÆóÊ≥ïÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.KeyGenerator;import javax.crypto.SecretKey;import javax.crypto.spec.SecretKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "RC2"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "RC2"; // --- ÁîüÊàêÁßòÈí• --- // ÂÆû‰æãÂåñÁßòÈí•ÁîüÊàêÂô® KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÁßòÈí•ÈïøÂ∫¶ keyGenerator.init(666); // ÁîüÊàêÁßòÈí• SecretKey secretKey = keyGenerator.generateKey(); // ÁîüÊàêÁßòÈí•ÊùêÊñô SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(), algorithm); System.out.println("RC2ÁßòÈí•Ôºö" + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ËÆæÁΩÆÊ®°ÂºèÔºàENCRYPT_MODEÔºöÂä†ÂØÜÊ®°ÂºèÔºõDECRYPT_MODEÔºöËß£ÂØÜÊ®°ÂºèÔºâÂíåÊåáÂÆöÁßòÈí• cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("RC2Âä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, secretKeySpec); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("RC2Ëß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö1234ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogRC2ÁßòÈí•Ôºö//wHmkfa/TpQqeard5RD8h6Gdd1YJQZbFT4pUsssRfitpz1YkhJfCN/J/hjR0Q1HmVReJaSPCNDqP+GUBlvnWi7zsoKW35O6R5W/R0Bgnjh/qVsuRC2Âä†ÂØÜÁªìÊûúÔºö+XL70sqXz/myi1JRiLVbCw==RC2Ëß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÂ¶ÇÊûúÊåáÂÆö‰∏çÂêàÊ≥ïÁöÑÁßòÈí•ÈïøÂ∫¶ÔºåÁ®ãÂ∫èÂ∞ÜÊäõÂá∫java.security.InvalidParameterException: Key length for RC2 must be between 40 and 1024 bitsÂºÇÂ∏∏„ÄÇRC4ËØªËÄÖÂèØ‰ª•Ëá™Â∑±Áé©‰∏ÄÁé©„ÄÇBlowfishBlowfishÁÆóÊ≥ï‰πüÂèØ‰ª•Áî®‰∫éÊõøÊç¢DESÔºåBlowfishÁÆóÊ≥ïÁöÑÁßòÈí•ÈïøÂ∫¶ËåÉÂõ¥‰∏∫32Âà∞448‰ΩçÔºåÂπ∂‰∏îÂøÖÈ°ª‰∏∫8ÁöÑÂÄçÊï∞„ÄÇJDK8ÊîØÊåÅBlowfishÁÆóÊ≥ïÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.KeyGenerator;import javax.crypto.SecretKey;import javax.crypto.spec.SecretKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "Blowfish"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "Blowfish"; // --- ÁîüÊàêÁßòÈí• --- // ÂÆû‰æãÂåñÁßòÈí•ÁîüÊàêÂô® KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÁßòÈí•ÈïøÂ∫¶ keyGenerator.init(128); // ÁîüÊàêÁßòÈí• SecretKey secretKey = keyGenerator.generateKey(); // ÁîüÊàêÁßòÈí•ÊùêÊñô SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(), algorithm); System.out.println("BlowfishÁßòÈí•Ôºö" + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ËÆæÁΩÆÊ®°ÂºèÔºàENCRYPT_MODEÔºöÂä†ÂØÜÊ®°ÂºèÔºõDECRYPT_MODEÔºöËß£ÂØÜÊ®°ÂºèÔºâÂíåÊåáÂÆöÁßòÈí• cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("BlowfishÂä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, secretKeySpec); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("BlowfishËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;Á®ãÂ∫èËøêË°åÁªìÊûúÔºö1234ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogBlowfishÁßòÈí•Ôºöd3ReFylxI2OI7n3qgPFViQ==BlowfishÂä†ÂØÜÁªìÊûúÔºönnH2mqVZhhhegBwAuqecLw==BlowfishËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÂ¶ÇÊûúÊåáÂÆö‰∏çÂêàÊ≥ïÁöÑÁßòÈí•ÈïøÂ∫¶ÔºåÁ®ãÂ∫èÂ∞ÜÊäõÂá∫java.security.InvalidParameterException: Keysize must be multiple of 8, and can only range from 32 to 448 (inclusive)ÂºÇÂ∏∏„ÄÇPBEPBEÔºàPassword Based EncryptionÔºåÂü∫‰∫éÂè£‰ª§Âä†ÂØÜÔºâÁÆóÊ≥ïÊòØ‰∏ÄÁßçÂü∫‰∫éÂè£‰ª§ÁöÑÂä†ÂØÜÁÆóÊ≥ïÔºåÁâπÁÇπÊòØÊ≤°ÊúâÁßòÈí•ÁöÑÊ¶ÇÂøµÔºå‰ø°ÊÅØ‰∫§‰∫íÂèåÊñπ‰∫ãÂÖàÊãüÂÆöÂ•ΩÂè£‰ª§Âç≥ÂèØ„ÄÇÂçïÁ∫ØÁöÑÂè£‰ª§ÂæàÂÆπÊòìÈÄöËøáÁ©∑‰∏æÊîªÂáªÊñπÂºèÁ†¥ËØëÔºåÊâÄ‰ª•PBE‰πüÂä†ÂÖ•‰∫Ü‚ÄúÁõê‚ÄùÁöÑÊ¶ÇÂøµ„ÄÇPBEÁÆóÊ≥ïÊòØÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÁöÑÁªºÂêàÊÄßÁÆóÊ≥ïÔºåÂ∏∏ËßÅÁÆóÊ≥ïÂ¶ÇPBEWithMD5AndDESÔºåËØ•ÁÆóÊ≥ï‰ΩøÁî®‰∫ÜMD5ÂíåDESÁÆóÊ≥ïÊûÑÂª∫PBEÁÆóÊ≥ï„ÄÇJDK8ÊîØÊåÅPBEWithMD5AndDES„ÄÅPBEWithMD5AndTripleDES„ÄÅPBEWithSHA1AndDESede„ÄÅPBEWithSHA1AndRC2_40„ÄÅPBEWithSHA1AndRC2_128„ÄÅPBEWithSHA1AndRC4_40„ÄÅPBEWithSHA1AndRC4_128„ÄÅPBEWithHmacSHA1AndAES_128„ÄÅPBEWithHmacSHA224AndAES_128„ÄÅPBEWithHmacSHA256AndAES_128„ÄÅPBEWithHmacSHA384AndAES_128„ÄÅPBEWithHmacSHA512AndAES_128„ÄÅPBEWithHmacSHA1AndAES_256„ÄÅPBEWithHmacSHA224AndAES_256„ÄÅPBEWithHmacSHA256AndAES_256„ÄÅPBEWithHmacSHA384AndAES_256ÂíåPBEWithHmacSHA512AndAES_256ÔºåÂÖ∂‰∏≠ÁÆóÊ≥ïÂêçÁß∞‰∏≠ÂåÖÂê´HmacÁöÑÈúÄË¶ÅÈÖçÂíåÂàùÂßãÂåñÂêëÈáè‰ΩøÁî®„ÄÇ‰∏çÈúÄË¶ÅÊåáÂÆöÂàùÂßãÂåñÂêëÈáèÁöÑPBEÁÆóÊ≥ïÊóèÔºàPBEWithMD5AndDES„ÄÅPBEWithMD5AndTripleDES„ÄÅPBEWithSHA1AndDESede„ÄÅPBEWithSHA1AndRC2_40„ÄÅPBEWithSHA1AndRC2_128„ÄÅPBEWithSHA1AndRC4_40„ÄÅPBEWithSHA1AndRC4_128Ôºâ‰æãÂ≠êÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.SecretKey;import javax.crypto.SecretKeyFactory;import javax.crypto.spec.PBEKeySpec;import javax.crypto.spec.PBEParameterSpec;import java.security.SecureRandom;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "PBEWithSHA1AndDESede"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "PBEWithSHA1AndDESede"; // ÂØÜÁ†ÅÔºàÂè£‰ª§Ôºâ String password = "mrbird@qq.com"; System.out.println("PBEÂè£‰ª§Ôºö" + password); // Ëø≠‰ª£Ê¨°Êï∞ int count = 99; // ÂÆû‰æãÂåñÂÆâÂÖ®ÈöèÊú∫Êï∞ SecureRandom secureRandom = new SecureRandom(); // ÁîüÊàêÁõê byte[] salt = secureRandom.generateSeed(8); System.out.println("ÁõêÂÄºÔºö" + Base64.getEncoder().encodeToString(salt)); // ÈÄöËøáÂØÜÁ†ÅÁîüÊàêÁßòÈí•ÊùêÊñô PBEKeySpec pbeKeySpec = new PBEKeySpec(password.toCharArray()); // ÂÆû‰æãÂåñÁßòÈí•Â∑•ÂéÇ SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(algorithm); // ÁîüÊàêÁßòÈí• SecretKey secretKey = secretKeyFactory.generateSecret(pbeKeySpec); // ÂÆû‰æãÂåñPBEÂèÇÊï∞ÊùêÊñô PBEParameterSpec pbeParameterSpec = new PBEParameterSpec(salt, count); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ÂàùÂßãÂåñ cipher.init(Cipher.ENCRYPT_MODE, secretKey, pbeParameterSpec); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("PBEÂä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, secretKey, pbeParameterSpec); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("PBEËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12345ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogPBEÂè£‰ª§Ôºömrbird@qq.comÁõêÂÄºÔºöe2vd/Or8i3U=PBEÂä†ÂØÜÁªìÊûúÔºöTZx40AyeTP9PZyF6iP3C8A==PBEËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÁÆóÊ≥ïÂêçÁß∞ÂåÖÂê´HmacÁöÑPBEÁÆóÊ≥ïÈúÄË¶ÅÊåáÂÆöÂàùÂßãÂåñÂêëÈáèÔºåÊØîÂ¶ÇPBEWithHmacSHA1AndAES_128Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.SecretKey;import javax.crypto.SecretKeyFactory;import javax.crypto.spec.IvParameterSpec;import javax.crypto.spec.PBEKeySpec;import javax.crypto.spec.PBEParameterSpec;import java.security.SecureRandom;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "PBEWithHmacSHA1AndAES_128"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "PBEWithHmacSHA1AndAES_128"; // ÂØÜÁ†ÅÔºàÂè£‰ª§Ôºâ String password = "mrbird@qq.com"; System.out.println("PBEÂè£‰ª§Ôºö" + password); // Ëø≠‰ª£Ê¨°Êï∞ int count = 99; // ÂÆû‰æãÂåñÂÆâÂÖ®ÈöèÊú∫Êï∞ SecureRandom secureRandom = new SecureRandom(); // ÁîüÊàêÁõê byte[] salt = secureRandom.generateSeed(8); System.out.println("ÁõêÂÄºÔºö" + Base64.getEncoder().encodeToString(salt)); // ÈÄöËøáÂØÜÁ†ÅÁîüÊàêÁßòÈí•ÊùêÊñô PBEKeySpec pbeKeySpec = new PBEKeySpec(password.toCharArray()); // ÂÆû‰æãÂåñÁßòÈí•Â∑•ÂéÇ SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(algorithm); // ÁîüÊàêÁßòÈí• SecretKey secretKey = secretKeyFactory.generateSecret(pbeKeySpec); // ÂàõÂª∫ÂàùÂßãÂåñÂêëÈáè IvParameterSpec iv = new IvParameterSpec("123456789abcdefg".getBytes()); // ÂÆû‰æãÂåñPBEÂèÇÊï∞ÊùêÊñô PBEParameterSpec pbeParameterSpec = new PBEParameterSpec(salt, count, iv); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ÂàùÂßãÂåñ cipher.init(Cipher.ENCRYPT_MODE, secretKey, pbeParameterSpec); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("PBEÂä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, secretKey, pbeParameterSpec); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("PBEËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;ÈÄöËøáIvParameterSpecÁ±ªÂàõÂª∫ÂàùÂßãÂåñÂêëÈáèÔºåÂàõÂª∫ÂàùÂßãÂåñÂêëÈáèÁöÑÁßòÈí•ÂøÖÈ°ª‰∏∫16Â≠óËäÇÔºåËøôÈáå‰∏∫123456789abcdefgÔºåÂÆû‰æãÂåñPBEÂèÇÊï∞ÊùêÊñôÁöÑÊó∂ÂÄôÈÄöËøáÊûÑÈÄ†ÂèÇÊï∞‰º†ÂÖ•ÂàùÂßãÂåñÂêëÈáè„ÄÇÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12345ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogPBEÂè£‰ª§Ôºömrbird@qq.comÁõêÂÄºÔºöUJwEggkfM88=PBEÂä†ÂØÜÁªìÊûúÔºöl+HGXLUHEQN+uKmNuIzqzA==PBEËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÂä†ÂØÜÊ®°ÂºèÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂàÜ‰∏∫ÔºöÂ∫èÂàóÂØÜÁ†Å(ÊµÅÂØÜÁ†Å)Âä†ÂØÜÔºåÂàÜÁªÑÂØÜÁ†Å(ÂùóÂØÜÁ†Å)Âä†ÂØÜ‰∏§Áßç„ÄÇÊµÅÂØÜÁ†ÅÊòØÂØπ‰ø°ÊÅØÊµÅ‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†Ôºà‰∏Ä‰∏™Â≠óÊØçÊàñ‰∏Ä‰∏™ÊØîÁâπÔºâ‰Ωú‰∏∫Âü∫Êú¨ÁöÑÂ§ÑÁêÜÂçïÂÖÉËøõË°åÂä†ÂØÜÔºåÂùóÂØÜÁ†ÅÊòØÂÖàÂØπ‰ø°ÊÅØÊµÅÂàÜÂùóÔºåÂÜçÂØπÊØè‰∏ÄÂùóÂàÜÂà´Âä†ÂØÜ„ÄÇ‰∏äÈù¢‰ªãÁªçÁöÑËøô‰∫õÈÉΩÂ±û‰∫éÂùóÂØÜÁ†ÅÂä†ÂØÜ„ÄÇ‰∏çÂêåÁöÑÁÆóÊ≥ï‰æßÈáçÁÇπ‰∏çÂêåÔºåÊúâÁöÑÂº∫Ë∞ÉÊïàÁéáÔºåÊúâÁöÑÂº∫Ë∞ÉÂÆâÂÖ®ÔºåÊúâÁöÑÂº∫Ë∞ÉÂÆπÈîôÊÄß„ÄÇÊ†πÊçÆÊï∞ÊçÆÂä†ÂØÜÊó∂ÊØè‰∏™Âä†ÂØÜÂå∫ÂùóÈó¥ÁöÑÂÖ≥ËÅîÊñπÂºèÊù•Âå∫ÂàÜÔºåÂèØ‰ª•ÂàÜ‰∏∫4ÁßçÂä†ÂØÜÊ®°ÂºèÔºöÁîµÂ≠êÂØÜÁ†ÅÊú¨Ê®°ÂºèÔºàElectronic Code BookÔºåECBÔºâ„ÄÅÂØÜÊñáÈìæÊé•Ê®°ÂºèÔºàCipher Book ChainingÔºåCBCÔºâ„ÄÅÂØÜÊñáÂèçÈ¶àÊ®°ÂºèÔºàCipher Feed BackÔºåCFBÔºâ„ÄÅËæìÂá∫ÂèçÈ¶àÊ®°ÂºèÔºàOutput Feed BackÔºåOFBÔºâ„ÄÇAESÊ†áÂáÜÈô§‰∫ÜÊé®Ëçê‰∏äËø∞4ÁßçÂ∑•‰ΩúÊ®°ÂºèÂ§ñÔºåËøòÊé®Ëçê‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÂ∑•‰ΩúÊ®°Âºè‚ÄîËÆ°Êï∞Âô®Ê®°ÂºèÔºàCounterÔºåCTRÔºâ„ÄÇËøô‰∫õÂ∑•‰ΩúÊ®°ÂºèÂèØÈÄÇÁî®‰∫éÂêÑÁßçÂàÜÁªÑÂØÜÁ†ÅÁÆóÊ≥ï„ÄÇECBECBÊ®°ÂºèÂä†Ëß£ÂØÜËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊòéÊñáÂàÜ‰∏∫Ëã•Âπ≤ÂùóÔºåÊØèÊ¨°Âä†ÂØÜÂùá‰∫ßÁîüÁã¨Á´ãÁöÑÂØÜÊñáÂàÜÁªÑÔºåÊØèÁªÑÁöÑÂä†ÂØÜÁªìÊûú‰∏ç‰ºöÂØπÂÖ∂‰ªñÂàÜÁªÑ‰∫ßÁîüÂΩ±ÂìçÔºåÁõ∏ÂêåÁöÑÊòéÊñáÂä†ÂØÜÂêéÂØπÂ∫î‰∫ßÁîüÁõ∏ÂêåÁöÑÂØÜÊñá„ÄÇ‰ºòÁÇπÔºöÂèØÂπ∂Ë°åÊìç‰ΩúÔºåÊ≤°ÊúâËØØÂ∑Æ‰º†ÈÄíÔºàÂõ†‰∏∫ÊØè‰∏™ÂØÜÊñáÈÉΩÊòØÁã¨Á´ãÂä†ÂØÜÊù•ÁöÑÔºâÔºõÁº∫ÁÇπÔºöÂ¶ÇÊûúÊòéÊñáÈáçÂ§çÔºåÂàôÂØπÂ∫îÁöÑÂØÜÊñá‰πü‰ºöÈáçÂ§çÔºåÂØπÊòéÊñáËøõË°å‰∏ªÂä®ÊîªÂáªÁöÑÂèØËÉΩÊÄßËæÉÈ´òÔºõÁî®ÈÄîÔºöÈÄÇÂêàÂä†ÂØÜÁßòÈí•„ÄÅÈöèÊú∫Êï∞Á≠âÁü≠Êï∞ÊçÆ„ÄÇ‰æãÂ¶ÇÔºåÂÆâÂÖ®Âú∞‰º†ÈÄíDESÁßòÈí•ÔºåECBÊòØÊúÄÂêàÈÄÇÁöÑÊ®°Âºè„ÄÇCBCCBCÊ®°ÂºèÂä†Ëß£ÂØÜËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊòéÊñáÂàÜ‰∏∫Ëã•Âπ≤ÂùóÔºåÊØèÊ¨°Âä†ÂØÜÂâçÔºåÊòéÊñáÂùóÈÉΩÂíåÂâç‰∏Ä‰∏™ÊòéÊñáÂùóÂä†ÂØÜÂêéÁöÑÂÜÖÂÆπËøõË°åÂºÇÊàñÂ§ÑÁêÜÔºåÁÑ∂ÂêéÂÜçÁî®ÁßòÈí•Âä†ÂØÜ„ÄÇÂõ†‰∏∫Á¨¨‰∏Ä‰∏™ÊòéÊñáÂùóÊ≤°ÊúâÂèØ‰ª•Áî®Êù•ÂºÇÊàñÂ§ÑÁêÜÁöÑÂØÜÊñáÂùóÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ÂàùÂßãÂåñÂêëÈáèÊù•Êõø‰ª£„ÄÇ‰ºòÁÇπÔºöÂØÜÊñáÈìæÊé•Ê®°ÂºèÂä†ÂØÜÂêéÁöÑÂØÜÊñá‰∏ä‰∏ãÊñáÂÖ≥ËÅîÔºåÂØπÊòéÊñáÁöÑ‰∏ªÂä®ÊîªÂáªÁöÑÂèØËÉΩÊÄßËæÉ‰ΩéÔºõÁº∫ÁÇπÔºö‰∏çËÉΩÂπ∂Ë°åÂä†ÂØÜÔºåÂ¶ÇÊûúÂú®Âä†ÂØÜËøáÁ®ã‰∏≠ÂèëÁîüÈîôËØØÔºåÂàôÈîôËØØÂ∞ÜË¢´Êó†ÈôêÊîæÂ§ßÔºåÂØºËá¥Âä†ÂØÜÂ§±Ë¥•„ÄÇÂπ∂‰∏îÈúÄË¶ÅÊèê‰æõÂàùÂßãÂåñÂêëÈáèÔºõÁî®ÈÄîÔºöÂèØÂä†ÂØÜ‰ªªÊÑèÈïøÂ∫¶ÁöÑÊï∞ÊçÆÔºõÈÄÇÁî®‰∫éËÆ°ÁÆó‰∫ßÁîüÊ£ÄÊµãÊï∞ÊçÆÂÆåÊï¥ÊÄßÁöÑÊ∂àÊÅØËÆ§ËØÅÁ†ÅMac„ÄÇCFBCFBÊ®°ÂºèÂä†Ëß£ÂØÜËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊòéÊñáÂàÜ‰∏∫Ëã•Âπ≤ÂùóÔºåÊØèÊ¨°Âä†ÂØÜÂâçÔºåÂÖàÂ∞ÜÂâç‰∏Ä‰∏™ÂØÜÊñáÂùó‰ΩøÁî®ÁßòÈí•Âä†ÂØÜÔºåÂä†ÂØÜÁªìÊûúÂíåÂΩìÂâçÊòéÊñáÂùóÂºÇÊàñÂ§ÑÁêÜÂæóÂà∞ÂØÜÊñáÂùó„ÄÇÂêåÊ†∑ÁöÑÔºåÈúÄË¶Å‰∏∫Á¨¨‰∏Ä‰∏™ÊòéÊñáÂùóÂä†ÂØÜÊèê‰æõÂàùÂßãÂåñÂêëÈáè„ÄÇ‰ºòÁÇπÔºöÂíåCBCÁ±ª‰ººÔºõÁº∫ÁÇπÔºöÂíåCBCÁ±ª‰ººÔºõÁî®ÈÄîÔºöÂõ†ÈîôËØØ‰º†Êí≠Êó†ÁïåÔºåÂèØÁî®‰∫éÊ£ÄÊü•ÂèëÁé∞ÊòéÊñáÂØÜÊñáÁöÑÁØ°Êîπ„ÄÇOFBOFBÊ®°ÂºèÂä†Ëß£ÂØÜËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöËøáÁ®ãÂíåCFBÁ±ª‰ººÔºåÂå∫Âà´Âú®‰∫éOFBÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®ÁßòÈí•ÂØπÂàùÂßãÂåñÂêëÈáèËøõË°åÂä†ÂØÜÔºàÁªìÊûú‰∏∫AÔºâÔºåÂä†ÂØÜÁªìÊûúÂíåÊòéÊñáÂùóÂºÇÊàñÂ§ÑÁêÜÂæóÂà∞ÂØÜÊñáÂùóÔºå‰∏ã‰∏ÄÊ¨°Êìç‰ΩúÊó∂ÂÄôÔºå‰∏çÊòØ‰ΩøÁî®ÁßòÈí•Âä†ÂØÜÂâç‰∏Ä‰∏™ÂØÜÊñáÂùóÔºåËÄåÊòØ‰ΩøÁî®ÁßòÈí•Âä†ÂØÜAÁöÑÁªìÊûúÂÜçÂíåÊòéÊñáÂùóÂºÇÊàñÂ§ÑÁêÜÔºåÂæóÂà∞ÂΩìÂâçÂØÜÊñáÂùó„ÄÇ‰ºòÁÇπÔºöÂíåCFBÁ±ª‰ººÔºõÁº∫ÁÇπÔºö‰∏çÂà©‰∫éÂπ∂Ë°åËÆ°ÁÆóÔºõÂØπÊòéÊñáÁöÑ‰∏ªÂä®ÊîªÂáªÊòØÂèØËÉΩÁöÑÔºåÂÆâÂÖ®ÊÄßËæÉCFBÂ∑ÆÔºõÁî®ÈÄîÔºöÈÄÇÁî®‰∫éÂä†ÂØÜÂÜó‰ΩôÊÄßËæÉÂ§ßÁöÑÊï∞ÊçÆÔºåÊØîÂ¶ÇËØ≠Èü≥ÂíåÂõæÂÉèÊï∞ÊçÆ„ÄÇCTRCTRÊ®°ÂºèÂä†Ëß£ÂØÜËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöCTRÂê´‰πâÊòØËÆ°Êï∞Âô®Ê®°ÂºèÔºåÊâÄ‰ª•ÂÆÉÁª¥Êä§‰∫Ü‰∏Ä‰∏™ÈÄíÂ¢ûÁöÑËÆ°Êï∞Âô®„ÄÇÁßòÈí•Âä†ÂØÜËÆ°Êï∞Âô®ÔºåÁªìÊûúÂíåÊòéÊñáÂùóÂºÇÊàñÂæóÂà∞ÂØÜÊñáÂùóÔºå‰æùÊ¨°Á±ªÊé®„ÄÇ‰ºòÁÇπÔºöÂèØ‰ª•Âπ∂Ë°åÊìç‰ΩúÔºåÂÆâÂÖ®ÊÄßÂíåCBC‰∏ÄÊ†∑Â•ΩÔºõÁº∫ÁÇπÔºöÊ≤°ÊúâÈîôËØØ‰º†Êí≠ÔºåÂõ†Ê≠§‰∏çÊòìÁ°Æ‰øùÊï∞ÊçÆÂÆåÊï¥ÊÄßÔºõÁî®ÈÄîÔºöÈÄÇÁî®‰∫éÂêÑÁßçÂä†ÂØÜÂ∫îÁî®„ÄÇÂ°´ÂÖÖÊ®°ÂºèÂΩìÈúÄË¶ÅÊåâÂùóÂ§ÑÁêÜÁöÑÊï∞ÊçÆ, Êï∞ÊçÆÈïøÂ∫¶‰∏çÁ¨¶ÂêàÂùóÂ§ÑÁêÜÈúÄÊ±ÇÊó∂, ÊåâÁÖß‰∏ÄÂÆöÁöÑÊñπÊ≥ïÂ°´ÂÖÖÊª°ÂùóÈïøÁöÑËßÑÂàô„ÄÇÂ¶ÇÊûú‰∏çÂ°´ÂÖÖÔºåÂæÖÂä†ÂØÜÁöÑÊï∞ÊçÆÂùóÈïøÂ∫¶‰∏çÁ¨¶ÂêàË¶ÅÊ±ÇÊó∂Á®ãÂ∫è‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇJDK8‰∏≠‰∏ªË¶ÅÊîØÊåÅNoPaddingÂíåPKCS5PaddingÂ°´ÂÖÖÊ®°Âºè„ÄÇNoPaddingÔºö‰∏çÂ°´ÂÖÖÔºõPKCS5PaddingÔºöÊï∞ÊçÆÂùóÁöÑÂ§ßÂ∞è‰∏∫8‰Ωç, ‰∏çÂ§üÂ∞±Ë°•Ë∂≥„ÄÇÂä†ÂØÜ„ÄÅÂ°´ÂÖÖÊ®°ÂºèÂÆûÊàòÂú®‰∫ÜËß£‰∫ÜÂä†ÂØÜÊ®°ÂºèÂíåÂ°´ÂÖÖÊ®°ÂºèÂêéÔºåÊàë‰ª¨ÂõûÂ§¥ÁúãÂâçÈù¢‰ª£Á†Å‰∏≠ÁöÑtransformationÂèÇÊï∞ÔºåÂÆû‰æãÂåñCipherÂØπË±°ÁöÑÊó∂ÂÄôÈúÄË¶ÅÊåáÂÆötransformationËΩ¨Êç¢Ê®°ÂºèÔºåËΩ¨Êç¢Ê®°Âºè‰∏ªË¶ÅÊúâ‰∏§ÁßçÊ†ºÂºèÔºöÁÆóÊ≥ïÔºõÁÆóÊ≥ï/Âä†ÂØÜÊ®°Âºè/Â°´ÂÖÖÊ®°Âºè„ÄÇ‰∏ãÈù¢Â∞±AESÁÆóÊ≥ïÊù•ÂÆûË∑µ‰∏çÂêåÁöÑÂä†ÂØÜ„ÄÅÂ°´ÂÖÖÊ®°Âºè„ÄÇÂΩìËΩ¨Êç¢Ê®°Âºè‰∏∫AES/ECB/PKCS5PaddingÊó∂Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.KeyGenerator;import javax.crypto.SecretKey;import javax.crypto.spec.SecretKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "AES"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "AES/ECB/PKCS5Padding"; // --- ÁîüÊàêÁßòÈí• --- // ÂÆû‰æãÂåñÁßòÈí•ÁîüÊàêÂô® KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÁßòÈí•ÈïøÂ∫¶ keyGenerator.init(256); // ÁîüÊàêÁßòÈí• SecretKey secretKey = keyGenerator.generateKey(); // ÁîüÊàêÁßòÈí•ÊùêÊñô SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(), algorithm); System.out.println("AESÁßòÈí•Ôºö" + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ËÆæÁΩÆÊ®°ÂºèÔºàENCRYPT_MODEÔºöÂä†ÂØÜÊ®°ÂºèÔºõDECRYPT_MODEÔºöËß£ÂØÜÊ®°ÂºèÔºâÂíåÊåáÂÆöÁßòÈí• cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("AESÂä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, secretKeySpec); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("AESËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;Á®ãÂ∫èËøêË°åËß£ÊûúÔºö1234ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogAESÁßòÈí•ÔºöxCwGw2d/cflibDRY4oQtjNEgBN5tIrxOBtt/31jAeN8=AESÂä†ÂØÜÁªìÊûúÔºökjFz9IMO2HAOFgExXMsBjg==AESËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÂ∞ÜËΩ¨Êç¢Ê®°ÂºèÊîπ‰∏∫AES/CBC/PKCS5PaddingÊó∂ÔºåÁ®ãÂ∫èËæìÂá∫ÊäõÂá∫java.security.InvalidKeyException: Parameters missingÂºÇÂ∏∏„ÄÇÂõ†‰∏∫ËØ•Ê®°ÂºèÈúÄË¶ÅÊåáÂÆöÂàùÂßãÂåñÂêëÈáèÔºåÂ∞Ü‰ª£Á†Å‰øÆÊîπ‰∏∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.KeyGenerator;import javax.crypto.SecretKey;import javax.crypto.spec.IvParameterSpec;import javax.crypto.spec.SecretKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "mrbird's blog"; System.out.println("ÂæÖÂä†ÂØÜÂÄºÔºö" + value); // Âä†ÂØÜÁÆóÊ≥ï String algorithm = "AES"; // ËΩ¨Êç¢Ê®°Âºè String transformation = "AES/CBC/PKCS5Padding"; // --- ÁîüÊàêÁßòÈí• --- // ÂÆû‰æãÂåñÁßòÈí•ÁîüÊàêÂô® KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm); // ÂàùÂßãÂåñÁßòÈí•ÈïøÂ∫¶ keyGenerator.init(256); // ÁîüÊàêÁßòÈí• SecretKey secretKey = keyGenerator.generateKey(); // ÁîüÊàêÁßòÈí•ÊùêÊñô SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getEncoded(), algorithm); System.out.println("AESÁßòÈí•Ôºö" + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // ÂàùÂßãÂåñÂêëÈáèÔºå123456789abcdefgÂàùÂßãÂåñÂêëÈáèÁßòÈí•Ôºå16Â≠óËäÇ IvParameterSpec iv = new IvParameterSpec("123456789abcdefg".getBytes()); // ÂÆû‰æãÂåñÂØÜÁ†ÅÂØπË±° Cipher cipher = Cipher.getInstance(transformation); // ËÆæÁΩÆÊ®°ÂºèÔºàENCRYPT_MODEÔºöÂä†ÂØÜÊ®°ÂºèÔºõDECRYPT_MODEÔºöËß£ÂØÜÊ®°ÂºèÔºâÂíåÊåáÂÆöÁßòÈí• cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, iv); // Âä†ÂØÜ byte[] encrypt = cipher.doFinal(value.getBytes()); System.out.println("AESÂä†ÂØÜÁªìÊûúÔºö" + Base64.getEncoder().encodeToString(encrypt)); // Ëß£ÂØÜ // ËÆæÁΩÆ‰∏∫Ëß£ÂØÜÊ®°Âºè cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, iv); byte[] decrypt = cipher.doFinal(encrypt); System.out.println("AESËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt)); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö1234ÂæÖÂä†ÂØÜÂÄºÔºömrbird&apos;s blogAESÁßòÈí•ÔºöxbqvwRKSrAtMsKOxzkbJqG0aMgMQwTC7TF5jkch1M5I=AESÂä†ÂØÜÁªìÊûúÔºöjksbHzoAA/K0sNVW1+RUOw==AESËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÂ∞ÜËΩ¨Êç¢Ê®°ÂºèÊîπ‰∏∫AES/CBC/NoPaddingÊó∂ÔºåÁ®ãÂ∫èÊäõÂá∫javax.crypto.IllegalBlockSizeException: Input length not multiple of 16 bytesÂºÇÂ∏∏„ÄÇÂõ†‰∏∫mrbird‚Äôs blog‰∏çÊòØ16Â≠óËäÇÁöÑÂÄçÊï∞„ÄÇÊõ¥Â§öÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂíåÂä†ÂØÜÊ®°ÂºèÂ°´ÂÖÖÊ®°ÂºèÁöÑÁªÑÂêàÂèØ‰ª•Ëá™Â∑±Â∞ùËØï‰∏ãÔºåÊàñËÄÖÂèÇËÄÉ‰∏ãÈù¢ÁöÑÁÆóÊ≥ïÊÄªÁªì„ÄÇÊâãÂä®ÊåáÂÆöÁßòÈí•Âú®‰ΩøÁî®ÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÂä†Ëß£ÂØÜÁöÑÊó∂ÂÄôÔºåÁßòÈí•‰∏ÄËà¨ÊòØÂèåÊñπ‰∫ãÂÖàÁ∫¶ÂÆöÂ•ΩÁöÑÔºåÂÅáÂ¶ÇÁé∞Âú®ÊúâAESÁßòÈí•/a3nqjFFtkWNmeX5HzmMtzCziOThbAnEHoiTA4JquAI=ÔºåAESÂØÜÊñáy9YMlnX7TE4qF0dDIQ==ÔºåËΩ¨Êç¢Ê®°Âºè‰∏∫AES/CTR/PKCS5PaddingÔºåÂàùÂßãÂåñÂêëÈáèÁßòÈí•‰∏∫123456789abcdefgÔºåÂ¶Ç‰ΩïÈÄöËøáÁßòÈí•ÂíåÂØÜÊñáËøõË°åËß£ÂØÜÂë¢ÔºåÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºàÂç≥ÊºîÁ§∫Â¶Ç‰ΩïÊâãÂä®ÊåáÂÆöÁßòÈí•Âπ∂Ëß£ÂØÜÔºâÔºö1234567891011121314151617181920212223import org.junit.Test;import javax.crypto.Cipher;import javax.crypto.spec.IvParameterSpec;import javax.crypto.spec.SecretKeySpec;import java.util.Base64;public class Demo &#123; @Test public void test() throws Exception &#123; String algorithm = "AES"; String transformation = "AES/CTR/PKCS5Padding"; String key = "/a3nqjFFtkWNmeX5HzmMtzCziOThbAnEHoiTA4JquAI="; String encrypt = "y9YMlnX7TE4qF0dDIQ=="; String ivKey = "123456789abcdefg"; Cipher cipher = Cipher.getInstance(transformation); SecretKeySpec secretKeySpec = new SecretKeySpec(Base64.getDecoder().decode(key), algorithm); IvParameterSpec iv = new IvParameterSpec(ivKey.getBytes()); cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, iv); byte[] decrypt = cipher.doFinal(Base64.getDecoder().decode(encrypt)); System.out.println("AESËß£ÂØÜÁªìÊûúÔºö" + new String(decrypt));ËæìÂá∫Â¶Ç‰∏ãÔºö1AESËß£ÂØÜÁªìÊûúÔºömrbird&apos;s blogÁÆóÊ≥ïÊÄªÁªìÂØπ‰∏äÈù¢Ëøô‰∫õÁÆóÊ≥ïËøõË°åÊÄªÁªìÔºöÁÆóÊ≥ïÁßòÈí•ÈïøÂ∫¶Ôºà‰ΩçÔºâÂ∑•‰ΩúÊ®°ÂºèÂ°´ÂÖÖÊ®°ÂºèÂàùÂßãÂåñÂêëÈáèÁßòÈí•ÈïøÂ∫¶ÔºàÂ≠óËäÇÔºâDES56ECB„ÄÅCBC„ÄÅCFB„ÄÅOFB„ÄÅCTRÁ≠âNoPadding„ÄÅPKCS5Padding„ÄÅISO10126Padding8DESede112„ÄÅ168ECB„ÄÅCBC„ÄÅCFB„ÄÅOFB„ÄÅCTRÁ≠âNoPadding„ÄÅPKCS5Padding„ÄÅISO10126Padding8AES128„ÄÅ192„ÄÅ256ECB„ÄÅCBC„ÄÅCFB„ÄÅOFB„ÄÅCTRÁ≠âNoPadding„ÄÅPKCS5Padding„ÄÅISO10126Padding16RC240~1024ECB„ÄÅCBC„ÄÅCFB„ÄÅOFB„ÄÅCTRÁ≠âNoPadding„ÄÅPKCS5Padding„ÄÅISO10126Padding8RC440~1024ECBNoPaddingÊó†Blowfish32~448Ôºå8ÁöÑÂÄçÊï∞ECB„ÄÅCBC„ÄÅCFB„ÄÅOFB„ÄÅCTRÁ≠âNoPadding„ÄÅPKCS5Padding„ÄÅISO10126Padding8PBEÊó†CBCPKCS5Padding16ÔºàÂ∏¶HmacÔºâ„ÄäJavaÂä†ÂØÜ‰∏éËß£ÂØÜÁöÑËâ∫ÊúØ„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Security</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Ê∂àÊÅØÊëòË¶ÅÁÆóÊ≥ï]]></title>
    <url>%2FJava-%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95.html</url>
    <content type="text"><![CDATA[Ê∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÊòØÂçïÂêë‰∏çÂèØÈÄÜÁöÑÔºåÊó†Ê≥ïÈÄöËøáÂä†ÂØÜÂêéÁöÑÊï£ÂàóÂÄºÂèçÊé®ÂéüÂßãÂÄºÔºåÁõ∏ÂêåÁöÑÂÜÖÂÆπÁî®ÂêåÊ†∑ÁöÑÊëòË¶ÅÁÆóÊ≥ïËé∑ÂæóÁöÑÊï£ÂàóÂÄºÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•Â∏∏Áî®‰∫éÈ™åËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß„ÄÇËØ•ÁÆóÊ≥ï‰∏ªË¶ÅÂàÜ‰∏∫‰∏âÂ§ßÁ±ªÔºöMDÔºàMessage DigestÔºåÊ∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÔºâ„ÄÅSHAÔºàSecure HashAlgorithmÔºåÂÆâÂÖ®Êï£ÂàóÁÆóÊ≥ïÔºâÂíåMACÔºàMessage Authentication CodeÔºåÊ∂àÊÅØËÆ§ËØÅÁ†ÅÁÆóÊ≥ïÔºâ„ÄÇMDÁ≥ªÂàóÁÆóÊ≥ïÂåÖÊã¨MD2„ÄÅMD4ÂíåMD5ÂÖ±3ÁßçÁÆóÊ≥ïÔºõSHAÁÆóÊ≥ï‰∏ªË¶ÅÂåÖÊã¨ÂÖ∂‰ª£Ë°®ÁÆóÊ≥ïSHA-1ÂíåSHA-1ÁÆóÊ≥ïÁöÑÂèòÁßçSHA-2Á≥ªÂàóÁÆóÊ≥ïÔºàÂåÖÂê´SHA-224„ÄÅSHA-256„ÄÅSHA-384ÂíåSHA-512ÔºâÔºõMACÁÆóÊ≥ïÁªºÂêà‰∫Ü‰∏äËø∞‰∏§ÁßçÁÆóÊ≥ïÔºå‰∏ªË¶ÅÂåÖÊã¨HmacMD5„ÄÅHmacSHA1„ÄÅHmacSHA256„ÄÅHmacSHA384ÂíåHmacSHA512ÁÆóÊ≥ï„ÄÇËøôËäÇ‰∏ªË¶ÅËÆ∞ÂΩï‰∏ãJDK8ÂØπËøô‰∫õÁÆóÊ≥ïÁöÑÊîØÊåÅÊÉÖÂÜµ„ÄÇÊ∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÁöÑÁªìÊûúÊàë‰ª¨‰∏ÄËà¨Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫16ËøõÂà∂Â≠óÁ¨¶‰∏≤ÔºåÊñπ‰æøÈòÖËØª‰º†Ëæì„ÄÇMDÁ≥ªÂàóÁÆóÊ≥ïMD5ÁÆóÊ≥ïÊòØMDÁ≥ªÂàóÁÆóÊ≥ïÁöÑ‰ª£Ë°®ÔºåÁî±MD2„ÄÅMD4Á≠âÁÆóÊ≥ïÊºîÂèòËÄåÊù•„ÄÇÊó†ËÆ∫ÈááÁî®Âì™ÁßçMDÁÆóÊ≥ïÔºåÁªìÊûúÈÉΩÊòØ32Â≠óËäÇÁöÑ16ËøõÂà∂Â≠óÁ¨¶‰∏≤„ÄÇJDK8Âè™ÊîØÊåÅMD2ÂíåMD5‰∏§ÁßçMDÁÆóÊ≥ï„ÄÇÊñ∞Âª∫‰∏Ä‰∏™mavenÈ°πÁõÆÔºåÂºïÂÖ•common-codec‰æùËµñÔºàÂåÖÂê´‰∏Ä‰∫õÂä†Ëß£ÂØÜÂ∑•ÂÖ∑Á±ªÔºåÁî®‰∫éÂ¢ûÂº∫JDKÊàñËÄÖÁÆÄÂåñJDKÁõ∏ÂÖ≥Âä†Ëß£ÂØÜAPIÔºâÔºö12345&lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.14&lt;/version&gt;&lt;/dependency&gt;JDK8‰∏≠ÔºåMDÁ≥ªÂàóÁÆóÊ≥ïÁöÑÂÆûÁé∞ÊòØÈÄöËøáMessageDigestÁ±ªÊù•ÂÆåÊàêÁöÑÔºå‰∏ãÈù¢ÊºîÁ§∫‰∏ã‰ΩøÁî®JDK8ÂéüÁîüAPIÂÆûÁé∞MD2ÂíåMD5Âä†ÂØÜÔºàÁÆóÊ≥ïÂêçÁß∞‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ„ÄÇMD2Ôºö123456789101112131415161718192021import org.apache.commons.codec.binary.Hex;import org.junit.Test;import java.security.MessageDigest;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "hello"; String algorithm = "md2"; // Ëé∑ÂèñMessageDigestÂÆû‰æã MessageDigest messageDigest = MessageDigest.getInstance(algorithm); // Ë∞ÉÁî®digestÊñπÊ≥ïÁîüÊàêÊï∞Â≠óÊëòË¶Å byte[] digest = messageDigest.digest(value.getBytes()); // ÁªìÊûúËΩ¨Êç¢‰∏∫16ËøõÂà∂Â≠óÁ¨¶‰∏≤ÔºàÂÄüÂä©common-codec HexÁ±ªÔºâ String md2Hex = Hex.encodeHexString(digest); System.out.println(md2Hex); System.out.println(md2Hex.length()); &#125;&#125;ËøêË°åÁªìÊûúÔºö12a9046c73e00331af68917d3804f7065532MD5ÔºàÂè™ÈúÄË¶ÅÂ∞ÜÁÆóÊ≥ïÊîπ‰∏∫md5Âç≥ÂèØÔºâÔºö123456789101112131415161718192021import org.apache.commons.codec.binary.Hex;import org.junit.Test;import java.security.MessageDigest;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "hello"; String algorithm = "md5"; // Ëé∑ÂèñMessageDigestÂÆû‰æã MessageDigest messageDigest = MessageDigest.getInstance(algorithm); // Ë∞ÉÁî®digestÊñπÊ≥ïÁîüÊàêÊï∞Â≠óÊëòË¶Å byte[] digest = messageDigest.digest(value.getBytes()); // ÁªìÊûúËΩ¨Êç¢‰∏∫16ËøõÂà∂Â≠óÁ¨¶‰∏≤ÔºàÂÄüÂä©common-codec HexÁ±ªÔºâ String md5Hex = Hex.encodeHexString(digest); System.out.println(md5Hex); System.out.println(md5Hex.length()); &#125;&#125;ËøêË°åÁªìÊûúÔºö125d41402abc4b2a76b9719d911017c59232common-codecÁöÑDigestUtils‰πüÊèê‰æõ‰∫ÜMD2ÂíåMD5ÁÆóÊ≥ïÁõ∏ÂÖ≥ÊñπÊ≥ïÔºö123456789101112131415import org.apache.commons.codec.digest.DigestUtils;import org.junit.Test;public class Demo &#123; @Test public void test() &#123; String value = "hello"; String md5Hex = DigestUtils.md5Hex(value.getBytes()); System.out.println(md5Hex); String md2Hex = DigestUtils.md2Hex(value.getBytes()); System.out.println(md2Hex); &#125;&#125;common-codecÂπ∂Ê≤°ÊúâËá™Â∑±ÂÆûÁé∞Áõ∏ÂÖ≥ÁÆóÊ≥ïÔºåËÄåÊòØÂØπJDKÂéüÁîüAPIËøõË°åÂ∞ÅË£ÖÔºå‰ΩøÁî®Ëµ∑Êù•Êõ¥Êñπ‰æø„ÄÇSHAÁ≥ªÂàóÁÆóÊ≥ïSHAÁÆóÊ≥ïÊòØÂü∫‰∫éMD4ÁÆóÊ≥ïÂÆûÁé∞ÁöÑÔºå‰Ωú‰∏∫MDÁÆóÊ≥ïÁöÑÁªß‰ªªËÄÖÔºåÊàê‰∏∫‰∫ÜÊñ∞‰∏Ä‰ª£ÁöÑÊ∂àÊÅØÊëòË¶ÅÁÆóÊ≥ïÁöÑ‰ª£Ë°®„ÄÇSHA‰∏éMDÁÆóÊ≥ï‰∏çÂêå‰πãÂ§Ñ‰∏ªË¶ÅÂú®‰∫éÊëòË¶ÅÈïøÂ∫¶ÔºåSHAÁÆóÊ≥ïÁöÑÊëòË¶ÅÊõ¥ÈïøÔºåÂÆâÂÖ®ÊÄßÊõ¥È´ò„ÄÇSHAÁÆóÊ≥ïÂÆ∂ÊóèÁõÆÂâçÂÖ±ÊúâSHA-1„ÄÅSHA-224„ÄÅSHA-256„ÄÅSHA-384ÂíåSHA-512‰∫îÁßçÁÆóÊ≥ïÔºåÈÄöÂ∏∏Â∞ÜÂêéÂõõÁßçÁÆóÊ≥ïÂπ∂Áß∞‰∏∫SHA-2ÁÆóÊ≥ï„ÄÇJDK8ÊîØÊåÅSHA-1„ÄÅSHA-256„ÄÅSHA-384„ÄÅSHA-224ÂíåSHA-512‰∫îÁßçÁÆóÊ≥ïÔºåÂÖ∂‰∏≠SHAÁöÑÂÜôÊ≥ïÁ≠â‰ª∑‰∫éSHA-1„ÄÇJDK8‰∏≠ÔºåSHAÁ≥ªÂàóÁÆóÊ≥ïÁöÑÂÆûÁé∞‰πüÊòØÈÄöËøáMessageDigestÁ±ªÊù•ÂÆåÊàêÁöÑÔºö1234567891011121314151617import org.apache.commons.codec.binary.Hex;import org.junit.Test;import java.security.MessageDigest;import java.security.NoSuchAlgorithmException;public class Demo &#123; @Test public void test() throws NoSuchAlgorithmException &#123; String value = "hello"; String algorithm = "SHA-1"; MessageDigest messageDigest = MessageDigest.getInstance(algorithm); byte[] digest = messageDigest.digest(value.getBytes()); System.out.println(Hex.encodeHexString(digest)); &#125;&#125;ËøêË°åÁªìÊûúÔºö1aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434dÂâ©‰∏ãÁöÑÂá†ÁßçÁÆóÊ≥ïÂèØ‰ª•Ëá™Â∑±Â∞ùËØï„ÄÇcommon-codecÂêåÊ†∑‰πüÊèê‰æõ‰∫ÜSHAÁõ∏ÂÖ≥ÁÆóÊ≥ïÁöÑAPIÔºö12345678910111213141516171819202122import org.apache.commons.codec.digest.DigestUtils;import org.junit.Test;public class Demo &#123; @Test public void test() &#123; String value = "hello"; String sha1Hex = DigestUtils.sha1Hex(value); System.out.println(sha1Hex); String sha256Hex = DigestUtils.sha256Hex(value); System.out.println(sha256Hex); String sha384Hex = DigestUtils.sha384Hex(value); System.out.println(sha384Hex); String sha512Hex = DigestUtils.sha512Hex(value); System.out.println(sha512Hex); &#125;&#125;MACÁ≥ªÂàóÁÆóÊ≥ïMACÁÆóÊ≥ïÁªìÂêà‰∫ÜMDÂíåSHAÁÆóÊ≥ïÁöÑ‰ºòÂäøÔºåÂπ∂Âä†ÂÖ•ÁßòÈí•ÁöÑÊîØÊåÅÔºåÊòØ‰∏ÄÁßçÊõ¥‰∏∫ÂÆâÂÖ®ÁöÑÊ∂àÊÅØÊëòË¶ÅÁÆóÊ≥ï„ÄÇÂõ†‰∏∫MACÁÆóÊ≥ïËûçÂêà‰∫ÜÁßòÈí•Êï£ÂàóÂáΩÊï∞Ôºàkeyed-HashÔºâÔºåÈÄöÂ∏∏Êàë‰ª¨‰πüÊääMACÁß∞‰∏∫HMACÔºàkeyed-Hash Message Authentication CodeÔºâ„ÄÇMACÁÆóÊ≥ï‰∏ªË¶ÅÈõÜÂêà‰∫ÜMDÂíåSHA‰∏§Â§ßÁ≥ªÂàóÊ∂àÊÅØÊëòË¶ÅÁÆóÊ≥ï„ÄÇMDÁ≥ªÂàóÁÆóÊ≥ïÊúâHmacMD2„ÄÅHmacMD4ÂíåHmacMD5‰∏âÁßçÁÆóÊ≥ïÔºõSHAÁ≥ªÂàóÁÆóÊ≥ïÊúâHmacSHA1„ÄÅHmacSHA224„ÄÅHmacSHA256„ÄÅHmacSHA384ÂíåHmacSHA512‰∫îÁßçÁÆóÊ≥ï„ÄÇJDK8ÊîØÊåÅ‰∫ÜHmacMD5„ÄÅHmacSHA1„ÄÅHmacSHA224„ÄÅHmacSHA256„ÄÅHmacSHA384ÂíåHmacSHA512ËøôÂÖ≠ÁßçMACÁÆóÊ≥ïÔºåÈÄöËøáMacÁ±ªÂÆûÁé∞„ÄÇ123456789101112131415161718192021222324252627282930313233343536import org.apache.commons.codec.binary.Base64;import org.apache.commons.codec.binary.Hex;import org.junit.Test;import javax.crypto.KeyGenerator;import javax.crypto.Mac;import javax.crypto.SecretKey;import javax.crypto.spec.SecretKeySpec;public class Demo &#123; @Test public void test() throws Exception &#123; String value = "hello"; // JDKÊîØÊåÅ HmacMD5„ÄÅHmacSHA1„ÄÅHmacSHA224„ÄÅHmacSHA256„ÄÅHmacSHA384ÂíåHmacSHA512ÂÖ≠ÁßçÁÆóÊ≥ï String algorithm = "HmacMD5"; // ÂàùÂßãÂåñKeyGenerator KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm); // ÊûÑÂª∫ÁßòÈí• SecretKey secretKey = keyGenerator.generateKey(); // Ëé∑ÂæóÁßòÈí• byte[] key = secretKey.getEncoded(); // ËøòÂéüÁßòÈí• SecretKeySpec secretKeySpec = new SecretKeySpec(key, algorithm); // ÊâìÂç∞‰∏ãÁßòÈí• System.out.println(Base64.encodeBase64String(secretKeySpec.getEncoded())); // ÂÆû‰æãÂåñMac Mac mac = Mac.getInstance(algorithm); // ÂàùÂßãÂåñMac mac.init(secretKeySpec); // Ëé∑ÂèñÊ∂àÊÅØÊëòË¶Å byte[] bytes = mac.doFinal(value.getBytes()); // ËΩ¨Êç¢‰∏∫16ËøõÂà∂ System.out.println(Hex.encodeHexString(bytes)); &#125;&#125;ËæìÂá∫ÁªìÊûúÔºö12PCg3+Q7i/C0ahZ74Vo3Nl/2wBvHnsdycoSmoAXzuxSwc5DVc1rWyHKHdt1XzlanT5GdJiKkcKhCwXGm7iN+udA==6c40b8d59b9d0f818e94b9028b789892ÂÆûÈôÖÂ∫îÁî®Âú®Tomcat‰∏ãËΩΩÈ°µÈù¢Ôºöhttps://tomcat.apache.org/download-70.cgi‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Êü•ÁúãÁõ∏ÂÖ≥Êñá‰ª∂ÁöÑÊëòË¶ÅÔºöÊàë‰ª¨Â∞Ü32-bit Windows zipËøô‰∏™Êñá‰ª∂‰∏ãËΩΩ‰∏ãÊù•ÔºåËÆ°ÁÆóÂá∫Ëøô‰∏™Êñá‰ª∂ÁöÑsha512ÂÄºÔºö123456789101112131415161718192021222324252627import org.apache.commons.codec.binary.Hex;import org.junit.Test;import java.io.ByteArrayOutputStream;import java.io.FileInputStream;import java.security.MessageDigest;public class Demo &#123; @Test public void test() throws Exception &#123; String algorithm = "SHA-512"; MessageDigest messageDigest = MessageDigest.getInstance(algorithm); String filePath = "files/apache-tomcat-7.0.105-windows-x86.zip"; FileInputStream fis = new FileInputStream(filePath); int len; byte[] buffer = new byte[1024]; ByteArrayOutputStream stream = new ByteArrayOutputStream(); while ((len = fis.read(buffer)) != -1) &#123; stream.write(buffer, 0, len); &#125; byte[] digest = messageDigest.digest(stream.toByteArray()); System.out.println(Hex.encodeHexString(digest)); &#125;&#125;ÁªìÊûúÔºö1b7a3b0629dad0d9684bc57a5d18251e38bafa172fcffeac06f7e3c40884f2afc099e7c0143a0471639887b8294c8135c35d1f1ac24f1637dee3c2b3a06aa3aa5ËøôÂíåÈ°µÈù¢https://downloads.apache.org/tomcat/tomcat-7/v7.0.105/bin/apache-tomcat-7.0.105-windows-x86.zip.sha512‰∏äÊòæÁ§∫ÁöÑ‰∏ÄËá¥ÔºåËØ¥ÊòéÊàë‰ª¨‰∏ãËΩΩÁöÑÊñá‰ª∂Âú®‰º†ËæìËøáÁ®ã‰∏≠Ê≤°ÊúâË¢´ÁØ°Êîπ„ÄÇ„ÄäJavaÂä†ÂØÜ‰∏éËß£ÂØÜÁöÑËâ∫ÊúØ„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Security</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Base64ÁÆóÊ≥ï]]></title>
    <url>%2FJava-Base64%E7%AE%97%E6%B3%95.html</url>
    <content type="text"><![CDATA[Base64ÁÆóÊ≥ïÂπ∂‰∏çÊòØÂä†ÂØÜÁÆóÊ≥ïÔºåÂÆÉÁöÑÂá∫Áé∞ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ASCIIÁ†ÅÂú®‰º†ËæìËøáÁ®ã‰∏≠ÂèØËÉΩÂá∫Áé∞‰π±Á†ÅÁöÑÈóÆÈ¢ò„ÄÇBase64ÊòØÁΩëÁªú‰∏äÊúÄÂ∏∏ËßÅÁöÑÁî®‰∫é‰º†Ëæì8bitÂ≠óËäÇÁ†ÅÁöÑÂèØËØªÊÄßÁºñÁ†ÅÁÆóÊ≥ï‰πã‰∏Ä„ÄÇÂèØËØªÊÄßÁºñÁ†ÅÁÆóÊ≥ï‰∏çÊòØ‰∏∫‰∫Ü‰øùÊä§Êï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄßÔºåËÄåÊòØ‰∏∫‰∫ÜÂèØËØªÊÄß„ÄÇÂèØËØªÊÄßÁºñÁ†Å‰∏çÊîπÂèò‰ø°ÊÅØÂÜÖÂÆπÔºåÂè™ÊîπÂèò‰ø°ÊÅØÂÜÖÂÆπÁöÑË°®Áé∞ÂΩ¢Âºè„ÄÇBase64‰ΩøÁî®‰∫Ü64ÁßçÂ≠óÁ¨¶ÔºöÂ§ßÂÜôAÂà∞Z„ÄÅÂ∞èÂÜôaÂà∞z„ÄÅÊï∞Â≠ó0Âà∞9„ÄÅ‚Äú+‚ÄùÂíå‚Äú/‚ÄùÔºåÊïÖÂæóÊ≠§Âêç„ÄÇÂÇ®Â§áÁü•ËØÜByteÂíåbitByteÔºöÂ≠óËäÇÔºåÊï∞ÊçÆÂ≠òÂÇ®ÁöÑÂü∫Êú¨Âçï‰ΩçÔºõbitÔºöÊØîÁâπÔºå‰πüÂè´‰ΩçÔºå‰∏Ä‰∏™‰ΩçÂè™ËÉΩÂ≠òÂÇ®0ÊàñËÄÖ1„ÄÇÂÖ≥Á≥ªÔºö1Byte = 8bit„ÄÇ‰∏Ä‰∏™Ëã±ÊñáÂ≠óÁ¨¶Âç†1‰∏™Â≠óËäÇÔºå8‰ΩçÔºö123456789@Testpublic void demo1() &#123; String a = "a"; byte[] bytes = a.getBytes(); for (byte b : bytes) &#123; System.out.println(b); System.out.println(Integer.toBinaryString(b)); &#125;&#125;Á®ãÂ∫èËæìÂá∫Ôºö12971100001‰∏Ä‰∏™‰∏≠ÊñáÂ≠óÁ¨¶Âú®‰∏çÂêåÁºñÁ†Å‰∏ãÊâÄÂç†ÁöÑÂ≠óËäÇÊï∞‰∏çÂêåÔºö1234567891011121314151617@Testpublic void demo2() throws UnsupportedEncodingException &#123; String a = "È∏ü"; byte[] utf8Bytes = a.getBytes("utf-8"); for (byte b : utf8Bytes) &#123; System.out.print(b); System.out.print(" "); System.out.println(Integer.toBinaryString(b)); &#125; System.out.println(); byte[] gbkBytes = a.getBytes("gbk"); for (byte b : gbkBytes) &#123; System.out.print(b); System.out.print(" "); System.out.println(Integer.toBinaryString(b)); &#125;&#125;Á®ãÂ∫èËæìÂá∫Ôºö123456-23 11111111111111111111111111101001-72 11111111111111111111111110111000-97 11111111111111111111111110011111-60 11111111111111111111111111000100-15 11111111111111111111111111110001ÊâÄ‰ª•Âú®UTF-8ÁºñÁ†Å‰∏ãÔºå‰∏Ä‰∏™‰∏≠ÊñáÂç†3‰∏™Â≠óËäÇÔºõÂú®GBKÁºñÁ†Å‰∏ãÔºå‰∏Ä‰∏™‰∏≠ÊñáÂç†2‰∏™Â≠óËäÇ„ÄÇBase64ÁºñÁ†ÅÂéüÁêÜBase64ÁºñÁ†ÅË°®ÔºöÁ¥¢ÂºïÂØπÂ∫îÂ≠óÁ¨¶Á¥¢ÂºïÂØπÂ∫îÂ≠óÁ¨¶Á¥¢ÂºïÂØπÂ∫îÂ≠óÁ¨¶Á¥¢ÂºïÂØπÂ∫îÂ≠óÁ¨¶0A17R34i51z1B18S35j5202C19T36k5313D20U37l5424E21V38m5535F22W39n5646G23X40o5757H24Y41p5868I25Z42q5979J26a43r60810K27b44s61911L28c45t62+12M29d46u63/13N30e47v14O31f48w15P32g49x16Q33h50yBase64ÁºñÁ†ÅÁöÑËøáÁ®ãÔºöÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶Êï∞ÁªÑÔºõÂ∞ÜÊØè‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫ASCIIÁ†ÅÔºõÂ∞ÜASCIIÁ†ÅËΩ¨Êç¢‰∏∫8bit‰∫åËøõÂà∂Á†ÅÔºõÁÑ∂ÂêéÊØè3‰∏™Â≠óËäÇ‰∏∫‰∏ÄÁªÑÔºà‰∏Ä‰∏™Â≠óËäÇ‰∏∫8‰∏™bitÔºåÊâÄ‰ª•ÊØèÁªÑ24‰∏™bitÔºâÔºõÂ∞ÜÊØèÁªÑÁöÑ24‰∏™bitÂàÜ‰∏∫4‰ªΩÔºåÊØè‰ªΩ6‰∏™bitÔºõÂú®ÊØè6‰∏™bitÂâçË°•0ÔºåË°•ÈΩê8bitÔºàÂâçÈù¢Ë°•0‰∏çÂΩ±ÂìçÊï∞ÂÄºÂ§ßÂ∞èÔºâÔºõÁÑ∂ÂêéÂ∞ÜÊØè8bitËΩ¨Êç¢‰∏∫10ËøõÂà∂Êï∞ÔºåÊ†πÊçÆ‰∏äÈù¢ÁöÑBase64ÁºñÁ†ÅË°®ËøõË°åËΩ¨Êç¢„ÄÇ‰∏äÈù¢Ê≠•È™§‰∏≠Ôºå‰∏∫‰ªÄ‰πàË¶ÅÂ∞ÜÊØèÁªÑ24‰∏™bitÂàÜ‰∏∫4‰ªΩÔºåÊØè‰ªΩ6‰∏™bitÂë¢ÔºüÂõ†‰∏∫6bitÁöÑÊúÄÂ§ßÂÄº‰∏∫111111ÔºåËΩ¨Êç¢‰∏∫ÂçÅËøõÂà∂‰∏∫63ÔºåÊâÄ‰ª•6bitÁöÑÂèñÂÄºËåÉÂõ¥‰∏∫0~63ÔºåËøôÂíåbase64ÁºñÁ†ÅË°®ÈïøÂ∫¶‰∏ÄËá¥„ÄÇÊ†πÊçÆ‰∏äÈù¢ÁöÑËøáÁ®ãÔºåÊàë‰ª¨Êù•‰∏æ‰∏™‰æãÂ≠êÔºöÁé∞Ë¶ÅÂØπhelloËøô‰∏™Â≠óÁ¨¶‰∏≤ËøõË°åBase64ÁºñÁ†ÅÔºåËøáÁ®ãÂ¶Ç‰∏ãÔºöhelloËΩ¨Êç¢‰∏∫Â≠óÁ¨¶Êï∞ÁªÑÔºöh e l l oÔºõÂØπÂ∫îÁöÑASCIIÁ†Å‰∏∫Ôºö104 101 108 108 111ÔºõËΩ¨Êç¢‰∏∫8bit‰∫åËøõÂà∂Êï∞Ôºö01101000 01100101 01101100 01101100 01101111ÂàÜÁªÑÔºåÊØèÁªÑ24‰∏™bitÔºà‰∏çË∂≥24‰∏™bitÁöÑÁî®00000000Ë°•ÈΩêÔºâÔºö 011010000110010101101100 011011000110111100000000ÔºõÊØèÁªÑ24bitÂàÜ‰∏∫4‰ªΩÔºåÊØè‰ªΩ6bitÔºö011010 000110 010101 101100 011011 000110 111100 000000ÔºõÂú®ÊØè6‰∏™bitÂâçË°•0ÔºåË°•ÈΩê8bitÔºö00011010 00000110 00010101 00101100 00011011 00000110 00111100 00000000ÔºõÂ∞ÜÊØè8bitËΩ¨Êç¢‰∏∫10ËøõÂà∂Êï∞Ôºö26 6 21 44 27 6 60 0‰ªé‰∏äÈù¢Base64ÁºñÁ†ÅË°®‰∏≠ÊâæÂà∞ÂçÅËøõÂà∂Êï∞ÂØπÂ∫îÁöÑÂ≠óÁ¨¶ÔºàÊú´Â∞æÁöÑ0Âπ∂‰∏çÊòØAÔºåËÄåÊòØÁî®=Á≠âÂè∑Ë°•‰ΩçÔºâÔºöa G V s b G 8 =ÊâÄ‰ª•helloÁªèËøáBase64ÁºñÁ†ÅÁöÑÁªìÊûú‰∏∫aGVsbG8=Êàë‰ª¨ÂèØ‰ª•Áî®‰ª£Á†ÅÈ™åËØÅ‰∏ãÔºàJDK8ÂºÄÂßãÂ∑≤ÁªèÊèê‰æõ‰∫ÜBase64ÁöÑÂÆûÁé∞ÔºâÔºö12345678910import org.junit.Test;import java.util.Base64;public class Base64Test &#123; @Test public void demo1() &#123; System.out.println(Base64.getEncoder().encodeToString("hello".getBytes())); &#125;&#125;Á®ãÂ∫èËæìÂá∫‰πüÊòØaGVsbG8=URL Base64ÁÆóÊ≥ïBase64ÁºñÁ†ÅÂÄºÈÄöËøáURL‰º†Ëæì‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºåÂõ†‰∏∫Base64ÁºñÁ†Å‰∏≠ÁöÑ‚Äú+‚ÄùÂíå‚Äú/‚ÄùÁ¨¶Âè∑ÊòØ‰∏çÂÖÅËÆ∏Âá∫Áé∞Âú®URL‰∏≠ÁöÑ„ÄÇÂêåÊ†∑ÔºåÁ¨¶Âè∑‚Äú=‚ÄùÁî®ÂÅöÂèÇÊï∞ÂàÜÈöîÁ¨¶Ôºå‰πü‰∏çÂÖÅËÆ∏Âá∫Áé∞Âú®URL‰∏≠ÔºåÊ†πÊçÆRFC 4648‰∏≠ÁöÑÂª∫ËÆÆÔºå‚Äú~‚ÄùÂíå‚Äú.‚ÄùÁ¨¶ÈÉΩÊúâÂèØËÉΩÊõø‰ª£‚Äú=‚ÄùÁ¨¶Âè∑„ÄÇ‰ΩÜ‚Äú~‚ÄùÁ¨¶Âè∑‰∏éÊñá‰ª∂Á≥ªÁªüÁõ∏ÂÜ≤Á™ÅÔºå‰∏çËÉΩ‰ΩøÁî®ÔºõÂ¶ÇÊûú‰ΩøÁî®‚Äú.‚ÄùÁ¨¶Âè∑ÔºåÊüê‰∫õÊñá‰ª∂Á≥ªÁªüËÆ§‰∏∫ËØ•Á¨¶Âè∑ËøûÁª≠Âá∫Áé∞‰∏§Ê¨°Âàô‰∏∫ÈîôËØØ„ÄÇÊâÄ‰ª•common codecÂåÖ‰∏ãÁöÑURL Base64ÁÆóÊ≥ïËàçÂºÉ‰∫ÜÂ°´ÂÖÖÁ¨¶Ôºå‰ΩøÁî®‰∫Ü‰∏çÂÆöÈïøURL Base64ÁºñÁ†Å„ÄÇÂºïÂÖ•common codec‰æùËµñÂåÖÔºö12345&lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.14&lt;/version&gt;&lt;/dependency&gt;‰∏æ‰∏™‰æãÂ≠êÔºö12345678910111213import org.apache.commons.codec.binary.Base64;import org.junit.Test;public class Base64Test &#123; @Test public void demo1() &#123; String value = "hello"; System.out.println(Base64.encodeBase64String(value.getBytes())); System.out.println(Base64.encodeBase64URLSafeString(value.getBytes())); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö12aGVsbG8=aGVsbG8]]></content>
      <tags>
        <tag>Security</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaËÆæËÆ°Ê®°ÂºèÂ≠¶‰π†]]></title>
    <url>%2FJava%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html</url>
    <content type="text"><![CDATA[ÁÆÄÂçïËÆ∞ÂΩïJava‰∏≠23ÁßçËÆæËÆ°Ê®°ÂºèÁöÑÂ∫îÁî®ÔºåÊñπ‰æøÂêéÊúüÊü•Áúã„ÄÇÂàõÂª∫ÂûãÊ®°ÂºèÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèÁÆÄÂçïÂ∑•ÂéÇÊ®°Âºè‰∏•Ê†ºÊÑè‰πâ‰∏äÊù•ËØ¥ÔºåÂπ∂‰∏çÂ±û‰∫éËÆæËÆ°Ê®°Âºè‰∏≠ÁöÑ‰∏ÄÁßçÔºå‰∏çËøáËøôÈáåËøòÊòØÁÆÄÂçïËÆ∞ÂΩï‰∏ã„ÄÇÂÆö‰πâÔºöÁî±‰∏Ä‰∏™Â∑•ÂéÇÂØπË±°ÂÜ≥ÂÆöÂàõÂª∫Âá∫Âì™‰∏ÄÁßçÁ±ªÂûãÂÆû‰æã„ÄÇÂÆ¢Êà∑Á´ØÂè™ÈúÄ‰º†ÂÖ•Â∑•ÂéÇÁ±ªÁöÑÂèÇÊï∞ÔºåÊó†ÂøÉÂÖ≥ÂøÉÂàõÂª∫ËøáÁ®ã„ÄÇ‰ºòÁÇπÔºöÂÖ∑‰Ωì‰∫ßÂìÅ‰ªéÂÆ¢Êà∑Á´Ø‰ª£Á†Å‰∏≠ÊäΩÁ¶ªÂá∫Êù•ÔºåËß£ËÄ¶„ÄÇÁº∫ÁÇπÔºöÂ∑•ÂéÇÁ±ªËÅåË¥£ËøáÈáçÔºåÂ¢ûÂä†Êñ∞ÁöÑÁ±ªÂûãÊó∂ÔºåÂæó‰øÆÊîπÂ∑•Á®ãÁ±ªÂæó‰ª£Á†ÅÔºåËøùËÉåÂºÄÈó≠ÂéüÂàô„ÄÇ‰∏æ‰æãÔºöÊñ∞Âª∫FruitÊ∞¥ÊûúÊäΩË±°Á±ªÔºåÂåÖÂê´eatÊäΩË±°ÊñπÊ≥ïÔºö1234public abstract class Fruit &#123; public abstract void eat();&#125;ÂÖ∂ÂÆûÁé∞Á±ªAppleÔºö123456public class Apple extends Fruit&#123; @Override public void eat() &#123; System.out.println("ÂêÉüçé"); &#125;&#125;Êñ∞Âª∫ÂàõÂª∫FruitÁöÑÂ∑•ÂéÇÁ±ªÔºö12345678910public class FruitFactory &#123; public Fruit produce(String name) &#123; if ("apple".equals(name)) &#123; return new Apple(); &#125; else &#123; return null; &#125; &#125;&#125;Êñ∞Âª∫‰∏™ÂÆ¢Êà∑Á´ØÊµãËØï‰∏Ä‰∏ãÔºö12345678public class Application &#123; public static void main(String[] args) &#123; FruitFactory factory = new FruitFactory(); Fruit fruit = factory.produce("apple"); fruit.eat(); &#125;&#125;ËøêË°åmainÊñπÊ≥ïÔºåËæìÂá∫Ôºö1ÂêÉüçéÂèØ‰ª•ÁúãÂà∞ÔºåÂÆ¢Êà∑Á´ØApplicationÂπ∂Êú™‰æùËµñÂÖ∑‰ΩìÁöÑÊ∞¥ÊûúÁ±ªÂûãÔºåÂè™ÂÖ≥ÂøÉFruitFactoryÁöÑÂÖ•ÂèÇÔºåËøôÂ∞±ÊòØÂÆ¢Êà∑Á´ØÂíåÂÖ∑‰Ωì‰∫ßÂìÅËß£ËÄ¶ÁöÑ‰ΩìÁé∞ÔºåUMLÂõæÂ¶Ç‰∏ãÔºöÂ∑•ÂéÇÊñπÊ≥ïÊ®°Âºè‰∏∫‰∫ÜËß£ÂÜ≥ÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèÁöÑÁº∫ÁÇπÔºåËØûÁîü‰∫ÜÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÔºàFactory method patternÔºâ„ÄÇÂÆö‰πâÔºöÂÆö‰πâÂàõÂª∫ÂØπË±°ÁöÑÊé•Âè£ÔºåËÆ©ÂÆûÁé∞Ëøô‰∏™Êé•Âè£ÁöÑÁ±ªÊù•ÂÜ≥ÂÆöÂÆû‰æãÂåñÂì™‰∏™Á±ªÔºåÂ∑•ÂéÇÊñπÊ≥ïËÆ©Á±ªÁöÑÂÆû‰æãÂåñÊé®ËøüÂà∞‰∫ÜÂ≠êÁ±ªËøõË°å„ÄÇ‰ºòÁÇπÔºöÂÖ∑‰Ωì‰∫ßÂìÅ‰ªéÂÆ¢Êà∑Á´Ø‰ª£Á†Å‰∏≠ÊäΩÁ¶ªÂá∫Êù•ÔºåËß£ËÄ¶„ÄÇÂä†ÂÖ•Êñ∞ÁöÑÁ±ªÂûãÊó∂ÔºåÂè™ÈúÄÊ∑ªÂä†Êñ∞ÁöÑÂ∑•ÂéÇÊñπÊ≥ïÔºàÊó†ÈúÄ‰øÆÊîπÊóßÁöÑÂ∑•ÂéÇÊñπÊ≥ï‰ª£Á†ÅÔºâÔºåÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇÁº∫ÁÇπÔºöÁ±ªÁöÑ‰∏™Êï∞ÂÆπÊòìËøáÂ§öÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶„ÄÇ‰∏æ‰æãÔºöÊñ∞Âª∫FruitÊäΩË±°Á±ªÔºåÂåÖÂê´eatÊäΩË±°ÊñπÊ≥ïÔºö1234public abstract class Fruit &#123; public abstract void eat();&#125;Êñ∞Âª∫FruitFactoryÊäΩË±°Â∑•ÂéÇÔºåÂÆö‰πâproduceFruitÊäΩË±°ÊñπÊ≥ïÔºö1234public abstract class FruitFactory &#123; public abstract Fruit produceFruit();&#125;Êñ∞Âª∫FruitÁöÑÂÆûÁé∞Á±ªÔºåAppleÔºö123456public class Apple extends Fruit &#123; @Override public void eat() &#123; System.out.println("ÂêÉüçé"); &#125;&#125;Êñ∞Âª∫FruitFactoryÁöÑÂÆûÁé∞Á±ªAppleFruitFactoryÔºåÁî®‰∫éÁîü‰∫ßÂÖ∑‰ΩìÁ±ªÂûãÁöÑÊ∞¥Êûú ‚Äî‚Äî ËãπÊûúÔºö123456public class AppleFruitFactory extends FruitFactory&#123; @Override public Fruit produceFruit() &#123; return new Apple(); &#125;&#125;Êñ∞Âª∫ÂÆ¢Êà∑Á´ØApplicationÊµãËØï‰∏ÄÊ≥¢Ôºö12345678public class Application &#123; public static void main(String[] args) &#123; FruitFactory factory = new AppleFruitFactory(); Fruit fruit = factory.produceFruit(); fruit.eat(); &#125;&#125;ËøêË°åmainÊñπÊ≥ïÔºåËæìÂá∫Â¶Ç‰∏ãÔºö1ÂêÉüçéÁé∞Âú®Ë¶ÅÊñ∞Â¢ûBananaÁ±ªÂûãÁöÑÊ∞¥ÊûúÔºåÂè™ÈúÄË¶ÅÊñ∞Â¢ûBananaÁ±ªÂûãÁöÑÂ∑•ÂéÇÁ±ªÂç≥ÂèØÔºåÊó†ÈúÄ‰øÆÊîπÁé∞ÊúâÁöÑAppleFruitFactory‰ª£Á†ÅÔºåÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇ‰ΩÜÊòØËøôÁßçÊ®°ÂºèÁöÑÁº∫ÁÇπ‰πüÊòæËÄåÊòìËßÅÔºåÂ∞±ÊòØÁ±ªÁöÑ‰∏™Êï∞ÂÆπÊòìËøáÂ§öÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶„ÄÇ‰∏äÈù¢‰æãÂ≠êUMLÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÔºàAbstract factory patternÔºâÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÁõ∏ÂÖ≥ÊàñËÄÖÁõ∏‰∫í‰æùËµñÁöÑÂØπË±°ÁöÑÊé•Âè£ÔºåÂÖ≥ÈîÆÂ≠óÊòØ‚Äú‰∏ÄÁ≥ªÂàó‚Äù„ÄÇ‰ºòÁÇπÔºöÂÖ∑‰Ωì‰∫ßÂìÅ‰ªéÂÆ¢Êà∑Á´Ø‰ª£Á†Å‰∏≠ÊäΩÁ¶ªÂá∫Êù•ÔºåËß£ËÄ¶„ÄÇÂ∞Ü‰∏Ä‰∏™Á≥ªÂàóÁöÑ‰∫ßÂìÅÊóèÁªü‰∏ÄÂà∞‰∏ÄËµ∑ÂàõÂª∫„ÄÇÁº∫ÁÇπÔºöÊãìÂ±ïÊñ∞ÁöÑÂäüËÉΩÂõ∞ÈöæÔºåÈúÄË¶Å‰øÆÊîπÊäΩË±°Â∑•ÂéÇÁöÑÊé•Âè£ÔºõÁªº‰∏äÊâÄËø∞ÔºåÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÈÄÇÂêàÈÇ£‰∫õÂäüËÉΩÁõ∏ÂØπÂõ∫ÂÆöÁöÑ‰∫ßÂìÅÊóèÁöÑÂàõÂª∫„ÄÇ‰∏æ‰æãÔºöÊñ∞Âª∫Ê∞¥ÊûúÊäΩË±°Á±ªFruitÔºåÂåÖÂê´buyÊäΩË±°ÊñπÊ≥ïÔºö1234public abstract class Fruit &#123; public abstract void buy();&#125;Êñ∞Âª∫‰ª∑Ê†ºÊäΩË±°Á±ªPriceÔºåÂåÖÂê´payÊäΩË±°ÊñπÊ≥ïÔºö1234public abstract class Price &#123; public abstract void pay();&#125;Êñ∞Âª∫Ê∞¥ÊûúÂàõÂª∫Â∑•ÂéÇÊé•Âè£FruitFactoryÔºåÂåÖÂê´Ëé∑ÂèñÊ∞¥ÊûúÂíå‰ª∑Ê†ºÊäΩË±°ÊñπÊ≥ïÔºà‰∫ßÂìÅÊóèÁöÑ‰ΩìÁé∞ÊòØÔºå‰∏ÄÁªÑ‰∫ßÂìÅÂåÖÂê´Ê∞¥ÊûúÂíåÂØπÂ∫îÁöÑ‰ª∑Ê†ºÔºâÔºö12345public interface FruitFactory &#123; Fruit getFruit(); Price getPrice();&#125;Êé•‰∏ãÊù•ÂºÄÂßãÂàõÂª∫üçéËøô‰∏™‚Äú‰∫ßÂìÅÊóè‚Äù„ÄÇÊñ∞Âª∫FruitÂÆûÁé∞Á±ªAppleFruitÔºö123456public class AppleFruit extends Fruit&#123; @Override public void buy() &#123; System.out.println("Ë¥≠‰π∞üçé"); &#125;&#125;Êñ∞Âª∫ÂØπÂ∫îÁöÑËãπÊûú‰ª∑Ê†ºÂÆûÁé∞ApplePriceÔºö123456public class ApplePrice extends Price&#123; @Override public void pay() &#123; System.out.println("üçéÂçï‰ª∑2ÂÖÉ"); &#125;&#125;ÂàõÂª∫ÂÆ¢Êà∑Á´ØApplicationÔºåÊµãËØï‰∏ÄÊ≥¢Ôºö1234567public class Application &#123; public static void main(String[] args) &#123; FruitFactory factory = new AppleFruitFactory(); factory.getFruit().buy(); factory.getPrice().pay(); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö12Ë¥≠‰π∞üçéüçéÂçï‰ª∑2ÂÖÉÂÆ¢Êà∑Á´ØÂè™ÈúÄË¶ÅÈÄöËøáÂàõÂª∫AppleFruitFactoryÂ∞±ÂèØ‰ª•Ëé∑ÂæóËãπÊûúËøô‰∏™‰∫ßÂìÅÊóèÁöÑÊâÄÊúâÂÜÖÂÆπÔºåÂåÖÊã¨ËãπÊûúÂØπË±°ÔºåËãπÊûú‰ª∑Ê†º„ÄÇË¶ÅÊñ∞Âª∫üçåÁöÑ‰∫ßÂìÅÊóèÔºåÂè™ÈúÄË¶ÅÂÆûÁé∞FruitFactory„ÄÅPriceÂíåFruitÊé•Âè£Âç≥ÂèØ„ÄÇËøôÁßçÊ®°ÂºèÁöÑÁº∫ÁÇπÂíåÂ∑•ÂéÇÊñπÊ≥ïÂ∑Æ‰∏çÂ§öÔºåÂ∞±ÊòØÁ±ªÁöÑ‰∏™Êï∞ÂÆπÊòìËøáÂ§öÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶„ÄÇ‰∏äÈù¢‰æãÂ≠êUMLÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂª∫ÈÄ†ËÄÖÊ®°ÂºèÂª∫ÈÄ†ËÄÖÊ®°Âºè‰πüÁß∞‰∏∫ÁîüÊàêÂô®Ê®°ÂºèÔºàBuilder PatternÔºâÔºåÂ∞ÜÂ§çÊùÇÂØπË±°ÁöÑÂª∫ÈÄ†ËøáÁ®ãÊäΩË±°Âá∫Êù•ÔºàÊäΩË±°Á±ªÂà´ÔºâÔºå‰ΩøËøô‰∏™ÊäΩË±°ËøáÁ®ãÁöÑ‰∏çÂêåÂÆûÁé∞ÊñπÊ≥ïÂèØ‰ª•ÊûÑÈÄ†Âá∫‰∏çÂêåË°®Áé∞ÔºàÂ±ûÊÄßÔºâÁöÑÂØπË±°„ÄÇÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÔºåÁõ∏ÂêåÁöÑËøáÁ®ãÂèØ‰ª•ÂàõÂª∫‰∏çÂêåÁöÑ‰∫ßÂìÅ„ÄÇÂ∞ÜÂ§çÊùÇÂØπË±°ÁöÑÂª∫ÈÄ†ËøáÁ®ãÊäΩË±°Âá∫Êù•ÔºàÊäΩË±°Á±ªÂà´ÔºâÔºå‰ΩøËøô‰∏™ÊäΩË±°ËøáÁ®ãÁöÑ‰∏çÂêåÂÆûÁé∞ÊñπÊ≥ïÂèØ‰ª•ÊûÑÈÄ†Âá∫‰∏çÂêåË°®Áé∞ÔºàÂ±ûÊÄßÔºâÁöÑÂØπË±°„ÄÇÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÔºåÁõ∏ÂêåÁöÑËøáÁ®ãÂèØ‰ª•ÂàõÂª∫‰∏çÂêåÁöÑ‰∫ßÂìÅ„ÄÇÈÄÇÁî®‰∫éÔºö‰∏Ä‰∏™ÂØπË±°ÊúâÈùûÂ∏∏Â§çÊùÇÁöÑÂÜÖÈÉ®ÁªìÊûÑÔºàÂæàÂ§öÂ±ûÊÄßÔºâÊÉ≥Â∞ÜÂ§çÊùÇÂØπË±°ÁöÑÂàõÂª∫Âíå‰ΩøÁî®ÂàÜÁ¶ª„ÄÇ‰ºòÁÇπÔºöÂ∞ÅË£ÖÊÄßÂ•ΩÔºåÂàõÂª∫Âíå‰ΩøÁî®ÂàÜÁ¶ªÊãìÂ±ïÊÄßÂ•ΩÔºåÂª∫ÈÄ†Á±ª‰πãÈó¥Áã¨Á´ãÔºå‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äËß£ËÄ¶„ÄÇÁº∫ÁÇπÔºö‰∫ßÁîüÂ§ö‰ΩôÁöÑBuilderÂØπË±°Ôºõ‰∫ßÂìÅÂÜÖÈÉ®ÂèëÁîüÂèòÂåñÔºåÂª∫ÈÄ†ËÄÖÈúÄË¶ÅÊõ¥ÊîπÔºåÊàêÊú¨ËæÉÂ§ß„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºöÊñ∞Â¢ûÂïÜÈì∫Á±ªShopÔºåÂåÖÂê´ÂêçÁß∞ÔºåÂú∞ÁÇπÂíåÁ±ªÂûãÂ±ûÊÄßÔºö123456789101112131415161718192021222324252627282930313233343536373839public class Shop &#123; private String name; private String location; private String type; @Override public String toString() &#123; return "Shop&#123;" + "name='" + name + '\'' + ", location='" + location + '\'' + ", type='" + type + '\'' + '&#125;'; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getLocation() &#123; return location; &#125; public void setLocation(String location) &#123; this.location = location; &#125; public String getType() &#123; return type; &#125; public void setType(String type) &#123; this.type = type; &#125;&#125;Êé•ÁùÄÂàõÂª∫ShopÊäΩË±°ÁîüÊàêÂô®ShopBuilderÔºö123456789101112public abstract class ShopBuilder &#123; private String name; private String location; private String type; public abstract void name(String name); public abstract void location(String location); public abstract void type(String type); public abstract Shop build();&#125;ÂåÖÂê´ÂíåShopÁõ∏ÂêåÁöÑÂ±ûÊÄßÂèäÂØπÂ∫îÁöÑÊäΩË±°ÊûÑÂª∫ÊñπÊ≥ï„ÄÇÁªßÁª≠ÂàõÂª∫ShopBuilderÁöÑÂÆûÁé∞ÔºåÊ∞¥ÊûúÂ∫óÊûÑÈÄ†Âô®FruitShopBuilderÔºö123456789101112131415161718192021222324public class FruitShopBuilder extends ShopBuilder&#123; private Shop shop = new Shop(); @Override public void name(String name) &#123; this.shop.setName(name); &#125; @Override public void location(String location) &#123; this.shop.setLocation(location); &#125; @Override public void type(String type) &#123; this.shop.setType(type); &#125; @Override public Shop build() &#123; return shop; &#125;&#125;ÂàõÂª∫‰∏™ÁªèÈîÄÂïÜÁ±ªDealerÔºåÁî®‰∫éÈÄöËøáShopBuilderÊûÑÂª∫ÂÖ∑‰ΩìÁöÑÂïÜÂ∫óÔºö123456789101112131415public class Dealer &#123; private ShopBuilder builder; public void setBuilder(ShopBuilder builder) &#123; this.builder = builder; &#125; public Shop build(String name, String location, String type) &#123; this.builder.name(name); this.builder.location(location); this.builder.type(type); return builder.build(); &#125;&#125;ÂàõÂª∫‰∏™ÂÆ¢Êà∑Á´ØApplicationÊµãËØï‰∏ÄÊ≥¢Ôºö1234567891011public class Application &#123; public static void main(String[] args) &#123; ShopBuilder builder = new FruitShopBuilder(); Dealer dealer = new Dealer(); dealer.setBuilder(builder); Shop shop = dealer.build("XXÊ∞¥ÊûúÂ∫ó", "Á¶èÂ∑ûÂ∏ÇXXÂå∫XXË°óXXÂè∑", "Ê∞¥ÊûúÁªèËê•"); System.out.println(shop); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö1Shop&#123;name=&apos;XXÊ∞¥ÊûúÂ∫ó&apos;, location=&apos;Á¶èÂ∑ûÂ∏ÇXXÂå∫XXË°óXXÂè∑&apos;, type=&apos;Ê∞¥ÊûúÁªèËê•&apos;&#125;Ëøô‰∏™‰æãÂ≠êÊòØÂÖ∏ÂûãÁöÑÂª∫ÈÄ†ËÄÖÊ®°ÂºèÔºåUMLÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂÖ∂ÂÆûÂª∫ÈÄ†ËÄÖÊ®°ÂºèÊõ¥‰∏∫Â∏∏Áî®ÁöÑ‰æãÂ≠êÊòØ‰∏ãÈù¢Ëøô‰∏™ÔºöÂàõÂª∫‰∏Ä‰∏™Â∫óÈì∫Á±ªShopÔºåShopÈáåÂåÖÂê´ÊûÑÈÄ†ËØ•ShopÁöÑÂÜÖÈÉ®Á±ªÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class Shop &#123; private String name; private String location; private String type; public Shop(ShopBuilder builder) &#123; this.name = builder.name; this.location = builder.location; this.type = builder.type; &#125; @Override public String toString() &#123; return "Shop&#123;" + "name='" + name + '\'' + ", location='" + location + '\'' + ", type='" + type + '\'' + '&#125;'; &#125; public static class ShopBuilder &#123; private String name; private String location; private String type; public ShopBuilder name(String name) &#123; this.name = name; return this; &#125; public ShopBuilder location(String location) &#123; this.location = location; return this; &#125; public ShopBuilder type(String type) &#123; this.type = type; return this; &#125; public Shop build() &#123; return new Shop(this); &#125; &#125;&#125;Âú®ÂÆ¢Êà∑Á´ØÊûÑÂª∫ShopÂè™ÈúÄÔºö1234567891011public class Application &#123; public static void main(String[] args) &#123; Shop shop = new Shop.ShopBuilder() .name("XXÊ∞¥ÊûúÂ∫ó") .location("Á¶èÂ∑ûÂ∏ÇXXÂå∫XXË°óXXÂè∑") .type("Ê∞¥ÊûúÁªèËê•") .build(); System.out.println(shop); &#125;&#125;ËøôÁßçÁî®Ê≥ïÂíåLombokÁöÑ@BuilderÊ≥®Ëß£ÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇËøô‰∏™‰æãÂ≠êÁöÑUMLÂõæÔºöÂçï‰æãÊ®°ÂºèÂçï‰æãÊ®°ÂºèÁõÆÁöÑÊòØ‰∏∫‰∫Ü‰∏Ä‰∏™Á±ªÂè™Êúâ‰∏Ä‰∏™ÂÆû‰æã„ÄÇ‰ºòÁÇπÔºöÂÜÖÂ≠ò‰∏≠Âè™Êúâ‰∏Ä‰∏™ÂÆû‰æãÔºåÂáèÂ∞ë‰∫ÜÂÜÖÂ≠òÂºÄÈîÄÔºõÂèØ‰ª•ÈÅøÂÖçÂØπËµÑÊ∫êÁöÑÂ§öÈáçÂç†Áî®ÔºõËÆæÁΩÆÂÖ®Â±ÄËÆøÈóÆÁÇπÔºå‰∏•Ê†ºÊéßÂà∂ËÆøÈóÆ„ÄÇÁº∫ÁÇπÔºöÊ≤°ÊúâÊé•Âè£ÔºåÊãìÂ±ïÂõ∞Èöæ„ÄÇÊáíÊ±âÊ®°ÂºèÊáíÊ±âÊ®°Âºè‰∏ãÁöÑÂçï‰æãÂÜôÊ≥ïÊòØÊúÄÁÆÄÂçïÁöÑÔºå‰ΩÜÂÆÉÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÔºö123456789101112131415public class LazySingleton &#123; private static LazySingleton lazySingleton = null; private LazySingleton() &#123; &#125; public static LazySingleton getInstance() &#123; if (lazySingleton == null) &#123; lazySingleton = new LazySingleton(); &#125; return lazySingleton; &#125;&#125;ÂèØÂä†ÂêåÊ≠•ÈîÅËß£ÂÜ≥Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºö1234567891011121314151617public class LazySingleton &#123; private static LazySingleton lazySingleton = null; private LazySingleton() &#123; &#125; public static LazySingleton getInstance() &#123; synchronized (LazySingleton.class) &#123; if (lazySingleton == null) &#123; lazySingleton = new LazySingleton(); &#125; &#125; return lazySingleton; &#125;&#125;‰ΩÜÊòØÂêåÊ≠•ÈîÅÈîÅÁöÑÊòØÊï¥‰∏™Á±ªÔºåÊØîËæÉÊ∂àËÄóËµÑÊ∫êÔºåÂπ∂‰∏îÂç≥‰ΩøËøêË°åÂÜÖÂ≠ò‰∏≠Â∑≤ÁªèÂ≠òÂú®LazySingletonÔºåË∞ÉÁî®ÂÖ∂getInstanceËøòÊòØ‰ºö‰∏äÈîÅÔºåÊâÄ‰ª•ËøôÁßçÂÜôÊ≥ï‰πü‰∏çÊòØÂæàÂ•Ω„ÄÇÂèåÈáçÂêåÊ≠•ÈîÅÂçï‰æãÊ®°Âºè12345678910111213141516171819public class LazyDoubleCheckSingleton &#123; private static LazyDoubleCheckSingleton instance = null; private LazyDoubleCheckSingleton() &#123; &#125; public static LazyDoubleCheckSingleton getInstance() &#123; if (instance == null) &#123; synchronized (LazyDoubleCheckSingleton.class) &#123; if (instance == null) &#123; instance = new LazyDoubleCheckSingleton(); &#125; &#125; &#125; return instance; &#125;&#125;‰∏äÈù¢‰æãÂ≠êËôΩÁÑ∂Âä†‰∫ÜÂêåÊ≠•ÈîÅÔºå‰ΩÜÂÆÉËøòÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑ„ÄÇËôΩÁÑ∂‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏ç‰ºöÂá∫Áé∞Â§öÊ¨°ÂàùÂßãÂåñLazyDoubleCheckSingletonÂÆû‰æãÁöÑÊÉÖÂÜµÔºå‰ΩÜÊòØÁî±‰∫éÊåá‰ª§ÈáçÊéíÁöÑÂéüÂõ†ÔºåÊüê‰∫õÁ∫øÁ®ãÂèØËÉΩ‰ºöËé∑ÂèñÂà∞Á©∫ÂØπË±°ÔºåÂêéÁª≠ÂØπËØ•ÂØπË±°ÁöÑÊìç‰ΩúÂ∞ÜËß¶ÂèëÁ©∫ÊåáÈíàÂºÇÂ∏∏„ÄÇË¶Å‰øÆÂ§çËøô‰∏™ÈóÆÈ¢òÔºåÂè™ÈúÄË¶ÅÈòªÊ≠¢Êåá‰ª§ÈáçÊéíÂç≥ÂèØÔºåÊâÄ‰ª•ÂèØ‰ª•ÁªôinstanceÂ±ûÊÄßÂä†‰∏ävolatileÂÖ≥ÈîÆÂ≠óÔºö12345678910111213141516171819public class LazyDoubleCheckSingleton &#123; private volatile static LazyDoubleCheckSingleton instance = null; private LazyDoubleCheckSingleton() &#123; &#125; public static LazyDoubleCheckSingleton getInstance() &#123; if (instance == null) &#123; synchronized (LazyDoubleCheckSingleton.class) &#123; if (instance == null) &#123; instance = new LazyDoubleCheckSingleton(); &#125; &#125; &#125; return instance; &#125;&#125;Áõ∏ÂÖ≥ÂçöÊñáÔºöÊ∑±ÂÖ•ÁêÜËß£volatileÂÖ≥ÈîÆÂ≠ó„ÄÇ‰∏äÈù¢ËøôÁßçÂÜôÊ≥ïÊòØ‰∏ç‰ΩÜÁ°Æ‰øù‰∫ÜÁ∫øÁ®ãÂÆâÂÖ®ÔºåÂπ∂‰∏îÂΩìLazyDoubleCheckSingletonÂÆû‰æãÂàõÂª∫Â•ΩÂêéÔºåÂêéÁª≠ÂÜçË∞ÉÁî®ÂÖ∂getInstanceÊñπÊ≥ï‰∏ç‰ºö‰∏äÈîÅ„ÄÇÈùôÊÄÅÂÜÖÈÉ®Á±ªÂçï‰æãÊ®°ÂºèÁúã‰æãÂ≠êÔºö1234567891011121314public class StaticInnerClassSingleton &#123; private StaticInnerClassSingleton() &#123; &#125; private static class InnerClass &#123; private static StaticInnerClassSingleton instance = new StaticInnerClassSingleton(); &#125; public static StaticInnerClassSingleton getInstance() &#123; return InnerClass.instance; &#125;&#125;‰∏∫‰ªÄ‰πàËøô‰∏™‰æãÂ≠êÊòØÂèØË°åÁöÑÂë¢Ôºü‰∏ªË¶ÅÊúâ‰∏§‰∏™ÂéüÂõ†ÔºöJVMÂú®Á±ªÁöÑÂàùÂßãÂåñÈò∂ÊÆµ‰ºöÂä†ClassÂØπË±°ÂàùÂßãÂåñÂêåÊ≠•ÈîÅÔºåÂêåÊ≠•Â§ö‰∏™Á∫øÁ®ãÂØπËØ•Á±ªÁöÑÂàùÂßãÂåñÊìç‰ΩúÔºõÈùôÊÄÅÂÜÖÈÉ®Á±ªInnerClassÁöÑÈùôÊÄÅÊàêÂëòÂèòÈáèinstanceÂú®ÊñπÊ≥ïÂå∫‰∏≠Âè™‰ºöÊúâ‰∏Ä‰∏™ÂÆû‰æã„ÄÇÂú®JavaËßÑËåÉ‰∏≠ÔºåÂΩì‰ª•‰∏ãËøô‰∫õÊÉÖÂÜµÈ¶ñÊ¨°ÂèëÁîüÊó∂ÔºåAÁ±ªÂ∞Ü‰ºöÁ´ãÂàªË¢´ÂàùÂßãÂåñÔºöAÁ±ªÂûãÂÆû‰æãË¢´ÂàõÂª∫ÔºõAÁ±ª‰∏≠Â£∞ÊòéÁöÑÈùôÊÄÅÊñπÊ≥ïË¢´Ë∞ÉÁî®ÔºõAÁ±ª‰∏≠ÁöÑÈùôÊÄÅÊàêÂëòÂèòÈáèË¢´ËµãÂÄºÔºõAÁ±ª‰∏≠ÁöÑÈùôÊÄÅÊàêÂëòË¢´‰ΩøÁî®ÔºàÈùûÂ∏∏ÈáèÔºâÔºõÈ•øÊ±âÂçï‰æãÊ®°Âºè‚ÄúÈ•øÊ±â‚ÄùÊÑèÊåáÂú®Á±ªÂä†ËΩΩÁöÑÊó∂ÂÄôÂ∞±ÂàùÂßãÂåñÔºö123456789101112public class HungrySingleton &#123; private final static HungrySingleton instance = new HungrySingleton(); private HungrySingleton() &#123; &#125; public static HungrySingleton getInstance() &#123; return instance; &#125;&#125;ËøôÁßçÊ®°ÂºèÂú®Á±ªÂä†ËΩΩÁöÑÊó∂ÂÄôÂ∞±ÂÆåÊàê‰∫ÜÂàùÂßãÂåñÔºåÊâÄ‰ª•Âπ∂‰∏çÂ≠òÂú®Á∫øÁ®ãÂÆâÂÖ®ÊÄßÈóÆÈ¢òÔºõ‰ΩÜÁî±‰∫é‰∏çÊòØÊáíÂä†ËΩΩÔºåÈ•øÊ±âÊ®°Âºè‰∏çÁÆ°ÈúÄ‰∏çÈúÄË¶ÅÁî®Âà∞ÂÆû‰æãÈÉΩË¶ÅÂéªÂàõÂª∫ÂÆû‰æãÔºåÂ¶ÇÊûúÂàõÂª∫‰∫Ü‰∏ç‰ΩøÁî®ÔºåÂàô‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊµ™Ë¥π„ÄÇÂ∫èÂàóÂåñÁ†¥ÂùèÂçï‰æãÊ®°ÂºèÂâçÈù¢ÁöÑÂçï‰æã‰æãÂ≠êÂú®ÂÆûÁé∞Â∫èÂàóÂåñÊé•Âè£ÂêéÈÉΩËÉΩË¢´Â∫èÂàóÂåñÁöÑÊñπÂºèÁ†¥ÂùèÔºåÊØîÂ¶ÇHungrySingletonÔºåËÆ©ÂÖ∂ÂÆûÁé∞Â∫èÂàóÂåñÊé•Âè£Ôºö1234567891011121314public class HungrySingleton implements Serializable &#123; private static final long serialVersionUID = -8073288969651806838L; private final static HungrySingleton instance = new HungrySingleton(); private HungrySingleton() &#123; &#125; public static HungrySingleton getInstance() &#123; return instance; &#125;&#125;ÁÑ∂ÂêéÂàõÂª∫ApplicationÊµãËØï‰∏Ä‰∏ãÂ¶Ç‰ΩïÁ†¥ÂùèÔºö12345678910111213141516public class Application &#123; public static void main(String[] args) throws IOException, ClassNotFoundException &#123; // ÊºîÁ§∫Â∫èÂàóÂåñÁ†¥ÂùèÂçï‰æã HungrySingleton instance = HungrySingleton.getInstance(); ObjectOutputStream outputStream = new ObjectOutputStream(new FileOutputStream("file")); outputStream.writeObject(instance); ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream("file")); HungrySingleton newInstance = (HungrySingleton) inputStream.readObject(); System.out.println(instance); System.out.println(newInstance); System.out.println(instance == newInstance); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö123cc.mrbird.design.pattern.creational.singleton.HungrySingleton@7f31245acc.mrbird.design.pattern.creational.singleton.HungrySingleton@6d03e736falseÂèØ‰ª•ÁúãÂà∞ÔºåËôΩÁÑ∂ÊòØÂçï‰æãÊ®°ÂºèÔºå‰ΩÜÂç¥ÊàêÂäüÂàõÂª∫Âá∫‰∫Ü‰∏§‰∏™‰∏ç‰∏ÄÊ†∑ÁöÑÂÆû‰æãÔºåÂçï‰æãÈÅ≠Âà∞‰∫ÜÁ†¥Âùè„ÄÇË¶ÅËÆ©ÂèçÂ∫èÂàóÂåñÂêéÁöÑÂØπË±°ÂíåÂ∫èÂàóÂåñÂâçÁöÑÂØπË±°ÊòØÂêå‰∏Ä‰∏™ÂØπË±°ÁöÑËØùÔºåÂèØ‰ª•Âú®HungrySingletonÈáåÂä†‰∏äreadResolveÊñπÊ≥ïÔºö123456789101112131415161718public class HungrySingleton implements Serializable &#123; private static final long serialVersionUID = -8073288969651806838L; private final static HungrySingleton instance = new HungrySingleton(); private HungrySingleton() &#123; &#125; public static HungrySingleton getInstance() &#123; return instance; &#125; // Êñ∞Â¢û private Object readResolve() &#123; return instance; &#125;&#125;ÂÜçÊ¨°ËøêË°åApplicationÁöÑmainÊñπÊ≥ïÂêéÔºö123cc.mrbird.design.pattern.creational.singleton.HungrySingleton@7f31245acc.mrbird.design.pattern.creational.singleton.HungrySingleton@7f31245atrueÂèØ‰ª•ÁúãÂà∞ÔºåËøôÁßçÊñπÂºèÊúÄÁªàÂèçÂ∫èÂàóÂåñÂá∫Êù•ÁöÑÂØπË±°ÂíåÂ∫èÂàóÂåñÂØπË±°ÊòØÂêå‰∏Ä‰∏™ÂØπË±°„ÄÇ‰ΩÜËøôÁßçÊñπÂºèÂèçÂ∫èÂàóÂåñËøáÁ®ãÂÜÖÈÉ®ËøòÊòØ‰ºöÈáçÊñ∞ÂàõÂª∫HungrySingletonÂÆû‰æãÔºåÂè™‰∏çËøáÂõ†‰∏∫HungrySingletonÁ±ªÂÆö‰πâ‰∫ÜreadResolveÊñπÊ≥ïÔºàÊñπÊ≥ïÂÜÖÈÉ®ËøîÂõûinstanceÂºïÁî®ÔºâÔºåÂèçÂ∫èÂàóÂåñËøáÁ®ã‰ºöÂà§Êñ≠ÁõÆÊ†áÁ±ªÊòØÂê¶ÂÆö‰πâ‰∫ÜreadResolveËØ•ÊñπÊ≥ïÔºåÊòØÁöÑËØùÂàôÈÄöËøáÂèçÂ∞ÑË∞ÉÁî®ËØ•ÊñπÊ≥ï„ÄÇÂèçÂ∞ÑÁ†¥ÂùèÂçï‰æãÊ®°ÂºèÈô§‰∫ÜÂ∫èÂàóÂåñËÉΩÁ†¥ÂùèÂçï‰æãÂ§ñÔºåÂèçÂ∞Ñ‰πüÂèØ‰ª•Ôºå‰∏æ‰∏™ÂèçÂ∞ÑÁ†¥ÂùèHungrySingletonÁöÑ‰æãÂ≠êÔºö1234567891011121314151617public class Application &#123; public static void main(String[] args) throws Exception &#123; HungrySingleton instance = HungrySingleton.getInstance(); // ÂèçÂ∞ÑÂàõÂª∫ÂÆû‰æã Class&lt;HungrySingleton&gt; c = HungrySingleton.class; // Ëé∑ÂèñÊûÑÈÄ†Âô® Constructor&lt;HungrySingleton&gt; constructor = c.getDeclaredConstructor(); // ÊâìÂºÄÊûÑÈÄ†Âô®ÊùÉÈôê constructor.setAccessible(true); HungrySingleton newInstance = constructor.newInstance(); System.out.println(instance); System.out.println(newInstance); System.out.println(instance == newInstance); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö123cc.mrbird.design.pattern.creational.singleton.HungrySingleton@1b6d3586cc.mrbird.design.pattern.creational.singleton.HungrySingleton@4554617cfalseÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨ÈÄöËøáÂèçÂ∞ÑÁ†¥Âùè‰∫ÜÁßÅÊúâÊûÑÈÄ†Âô®ÊùÉÈôêÔºåÊàêÂäüÂàõÂª∫‰∫ÜÊñ∞ÁöÑÂÆû‰æã„ÄÇÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåÈ•øÊ±âÊ®°Âºè‰∏ãÁöÑ‰æãÂ≠êÂèØ‰ª•Âú®ÊûÑÈÄ†Âô®‰∏≠Ê∑ªÂä†Âà§Êñ≠ÈÄªËæëÊù•Èò≤Âæ°ÔºàÊáíÊ±âÊ®°ÂºèÁöÑÂ∞±Ê≤°ÊúâÂäûÊ≥ï‰∫ÜÔºâÔºåÊØîÂ¶Ç‰øÆÊîπHungrySingletonÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314public class HungrySingleton &#123; private final static HungrySingleton instance = new HungrySingleton(); private HungrySingleton() &#123; if (instance != null) &#123; throw new RuntimeException("forbidden"); &#125; &#125; public static HungrySingleton getInstance() &#123; return instance; &#125;&#125;ÂÜçÊ¨°ËøêË°åApplicationÁöÑmainÊñπÊ≥ïÔºö123456789Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.lang.reflect.Constructor.newInstance(Constructor.java:423) at cc.mrbird.design.pattern.creational.singleton.Application.main(Application.java:33)Caused by: java.lang.RuntimeException: forbidden at cc.mrbird.design.pattern.creational.singleton.HungrySingleton.&lt;init&gt;(HungrySingleton.java:16) ... 5 moreÊûö‰∏æÂçï‰æãÊ®°ÂºèÊûö‰∏æÂçï‰æãÊ®°ÂºèÊòØÊé®ËçêÁöÑÂçï‰æãÊ®°ÂºèÔºåÂÆÉ‰∏ç‰ªÖÂèØ‰ª•Èò≤Âæ°Â∫èÂàóÂåñÊîªÂáªÔºå‰πüÂèØ‰ª•Èò≤Âæ°ÂèçÂ∞ÑÊîªÂáª„ÄÇ‰∏æ‰∏™Êûö‰∏æÂçï‰æãÊ®°ÂºèÁöÑ‰ª£Á†ÅÔºö123456789101112131415161718public enum EnumSingleton &#123; INSTANCE; private Object data; public Object getData() &#123; return data; &#125; public void setData(Object data) &#123; this.data = data; &#125; public static EnumSingleton getInstance()&#123; return INSTANCE; &#125;&#125;È™åËØÅ‰∏ãÊòØÂê¶ÊòØÂçï‰æãÁöÑÔºö1234567891011121314public class Application &#123; public static void main(String[] args) throws Exception &#123; EnumSingleton instance = EnumSingleton.getInstance(); instance.setData(new Object()); EnumSingleton newInstance = EnumSingleton.getInstance(); System.out.println(instance); System.out.println(newInstance); System.out.println(instance.getData()); System.out.println(newInstance.getData()); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1234INSTANCEINSTANCEjava.lang.Object@1b6d3586java.lang.Object@1b6d3586ÊµãËØï‰∏ãÂ∫èÂàóÂåñÊîªÂáªÔºö1234567891011121314151617181920public class Application &#123; public static void main(String[] args) throws Exception &#123; EnumSingleton instance = EnumSingleton.getInstance(); instance.setData(new Object()); ObjectOutputStream outputStream = new ObjectOutputStream(new FileOutputStream("file")); outputStream.writeObject(instance); ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream("file")); EnumSingleton newInstance = (EnumSingleton) inputStream.readObject(); System.out.println(instance); System.out.println(newInstance); System.out.println(instance == newInstance); System.out.println(instance.getData()); System.out.println(newInstance.getData()); System.out.println(instance.getData() == newInstance.getData()); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö123456INSTANCEINSTANCEtruejava.lang.Object@568db2f2java.lang.Object@568db2f2trueÂèØ‰ª•ÁúãÂà∞Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÂêéÁöÑÂØπË±°ÊòØÂêå‰∏Ä‰∏™„ÄÇÂéüÁêÜÔºöË∑üË∏™ObjectInputStream#readObjectÊ∫êÁ†ÅÔºåÂÖ∂‰∏≠ÂΩìÂèçÁºñËØëÂØπË±°‰∏∫Êûö‰∏æÁ±ªÂûãÊó∂ÔºåÂ∞ÜË∞ÉÁî®readEnumÊñπÊ≥ïÔºöname‰∏∫Êûö‰∏æÁ±ªÈáåÁöÑÊûö‰∏æÂ∏∏ÈáèÔºåÂØπ‰∫éÁ∫øÁ®ãÊù•ËØ¥ÂÆÉÊòØÂîØ‰∏ÄÁöÑÔºåÂ≠òÂú®ÊñπÊ≥ïÂå∫ÔºåÊâÄ‰ª•ÈÄöËøáEnum.valueOf((Class)cl, name)ÊñπÊ≥ïÂæóÂà∞ÁöÑÊûö‰∏æÂØπË±°ÈÉΩÊòØÂêå‰∏Ä‰∏™„ÄÇÂÜçÊµãËØï‰∏Ä‰∏ãÂèçÂ∞ÑÊîªÂáªÔºö1234567891011121314public class Application &#123; public static void main(String[] args) throws Exception &#123; EnumSingleton instance = EnumSingleton.getInstance(); Class&lt;EnumSingleton&gt; c = EnumSingleton.class; // Êûö‰∏æÁ±ªÂè™ÂåÖÂê´‰∏Ä‰∏™(String,int)Á±ªÂûãÊûÑÈÄ†Âô® Constructor&lt;EnumSingleton&gt; constructor = c.getDeclaredConstructor(String.class, int.class); constructor.setAccessible(true); EnumSingleton newInstance = constructor.newInstance("hello", 1); System.out.println(instance == newInstance); &#125;&#125;ËøêË°åËæìÂá∫Â¶Ç‰∏ãÔºö123Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot reflectively create enum objects at java.lang.reflect.Constructor.newInstance(Constructor.java:417) at cc.mrbird.design.pattern.creational.singleton.Application.main(Application.java:71)ÂèØ‰ª•ÁúãÂà∞ÊäõÂºÇÂ∏∏‰∫ÜÔºåÊü•ÁúãConstructorÁ±ªÁöÑ417Ë°å‰ª£Á†ÅÂèØ‰ª•ÂèëÁé∞ÂéüÂõ†Ôºö JavaÁ¶ÅÊ≠¢ÈÄöËøáÂèçÂ∞ÑÂàõÂª∫Êûö‰∏æÂØπË±°„ÄÇÊ≠£ÊòØÂõ†‰∏∫Êûö‰∏æÁ±ªÂûãÊã•ÊúâËøô‰∫õÂ§©ÁÑ∂ÁöÑ‰ºòÂäøÔºåÊâÄ‰ª•Áî®ÂÆÉÂàõÂª∫Âçï‰æãÊòØ‰∏çÈîôÁöÑÈÄâÊã©ÔºåËøô‰πüÊòØEffective JavaÊé®ËçêÁöÑÊñπÂºè„ÄÇÂéüÂûãÊ®°ÂºèÂéüÂûãÂÆû‰æãÊåáÂÆöÂàõÂª∫ÂØπË±°ÁöÑÁßçÁ±ªÔºåÈÄöËøáÊã∑Ë¥ùËøô‰∫õÂéüÂûãÂàõÂª∫Êñ∞ÁöÑÂØπË±°„ÄÇÈÄÇÁî®‰∫éÔºöÁ±ªÂàùÂßãÂåñÊ∂àËÄóËæÉÂ§öËµÑÊ∫êÔºõÂæ™ÁéØ‰Ωì‰∏≠Áîü‰∫ßÂ§ßÈáèÂØπË±°ÁöÑÊó∂ÂÄô„ÄÇ‰ºòÁÇπÔºöÂéüÂûãÊ®°ÂºèÊÄßËÉΩÊØîÁõ¥Êé•new‰∏Ä‰∏™ÂØπË±°ÊÄßËÉΩÂ•ΩÔºõÁÆÄÂåñÂàõÂª∫ÂØπË±°ËøáÁ®ã„ÄÇÁº∫ÁÇπÔºöÂØπË±°ÂøÖÈ°ªÈáçÂÜôObjectÂÖãÈöÜÊñπÊ≥ïÔºõÂ§çÊùÇÂØπË±°ÁöÑÂÖãÈöÜÊñπÊ≥ïÂÜôËµ∑Êù•ËæÉÈ∫ªÁÉ¶ÔºàÊ∑±ÂÖãÈöÜ„ÄÅÊµÖÂÖãÈöÜÔºâ‰∏æ‰æãÔºöÊñ∞Âª∫‰∏Ä‰∏™Â≠¶ÁîüÁ±ªStudentÔºåÂÆûÁé∞ÂÖãÈöÜÊé•Âè£ÔºåÂπ∂ÈáçÂÜôObjectÁöÑÂÖãÈöÜÊñπÊ≥ïÔºàÂõ†‰∏∫ÈÉΩÊòØÁÆÄÂçïÂ±ûÊÄßÔºåÊâÄ‰ª•ÊµÖÂÖãÈöÜÂç≥ÂèØÔºâÔºö12345678910111213141516171819202122232425262728293031323334public class Student implements Cloneable &#123; private String name; private int age; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; @Override public String toString() &#123; return "Student&#123;" + "name='" + name + '\'' + ", age=" + age + '&#125;'; &#125; @Override protected Object clone() throws CloneNotSupportedException &#123; return super.clone(); &#125;&#125;Âú®Application‰∏≠ÊµãËØï‰∏ÄÊ≥¢Ôºö1234567891011121314public class Application &#123; public static void main(String[] args) throws CloneNotSupportedException &#123; Student student = new Student(); ArrayList&lt;Student&gt; list = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 3; i++) &#123; Student s = (Student) student.clone(); s.setName("Â≠¶Áîü" + i); s.setAge(20 + i); list.add(s); &#125; System.out.println(list); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1[Student&#123;name='Â≠¶Áîü0', age=20&#125;, Student&#123;name='Â≠¶Áîü1', age=21&#125;, Student&#123;name='Â≠¶Áîü2', age=22&#125;]ËøôÁßçÊñπÂºè‰ºöÊØîÁõ¥Êé•Âú®Âæ™ÁéØ‰∏≠ÂàõÂª∫StudentÊÄßËÉΩÂ•Ω„ÄÇÂΩìÂØπË±°ÂåÖÂê´ÂºïÁî®Á±ªÂûãÂ±ûÊÄßÊó∂ÔºåÈúÄË¶Å‰ΩøÁî®Ê∑±ÂÖãÈöÜÔºåÊØîÂ¶ÇStudentÂåÖÂê´DateÂ±ûÊÄßÊó∂Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class Student implements Cloneable &#123; private String name; private int age; private Date birthday; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; public Date getBirthday() &#123; return birthday; &#125; public void setBirthday(Date birthday) &#123; this.birthday = birthday; &#125; @Override public String toString() &#123; return "Student&#123;" + "name='" + name + '\'' + ", age=" + age + ", birthday=" + birthday + '&#125;'; &#125; @Override protected Object clone() throws CloneNotSupportedException &#123; Student student = (Student) super.clone(); // ÂºïÁî®Á±ªÂûãÊ∑±ÂÖãÈöÜ Date birthday = (Date) student.getBirthday().clone(); student.setBirthday(birthday); return student; &#125;&#125;ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂÖãÈöÜ‰ºöÁ†¥ÂùèÂÆûÁé∞‰∫ÜCloneableÊé•Âè£ÁöÑÂçï‰æãÂØπË±°„ÄÇÁªìÊûÑÂûãÊ®°ÂºèÂ§ñËßÇÊ®°ÂºèÂ§ñËßÇÊ®°ÂºèÂèàÂè´Èó®Èù¢Ê®°ÂºèÔºåÊèê‰æõ‰∫ÜÁªü‰∏ÄÂæóÊé•Âè£ÔºåÁî®Êù•ËÆøÈóÆÂ≠êÁ≥ªÁªü‰∏≠ÁöÑ‰∏ÄÁæ§Êé•Âè£„ÄÇÈÄÇÁî®‰∫éÔºöÂ≠êÁ≥ªÁªüË∂äÊù•Ë∂äÂ§çÊùÇÔºåÂ¢ûÂä†Â§ñËßÇÊ®°ÂºèÊèê‰æõÁÆÄÂçïÊé•Âè£Ë∞ÉÁî®ÔºõÊûÑÂª∫Â§öÂ±ÇÁ≥ªÁªüÁªìÊûÑÔºåÂà©Áî®Â§ñËßÇÂØπË±°‰Ωú‰∏∫ÊØèÂ±ÇÁöÑÂÖ•Âè£ÔºåÁÆÄÂåñÂ±ÇÈó¥Ë∞ÉÁî®„ÄÇ‰ºòÁÇπÔºöÁÆÄÂåñ‰∫ÜË∞ÉÁî®ËøáÁ®ãÔºåÊó†ÈúÄ‰∫ÜËß£Ê∑±ÂÖ•Â≠êÁ≥ªÁªüÔºõÂáè‰ΩéËÄ¶ÂêàÂ∫¶ÔºõÊõ¥Â•ΩÁöÑÂ±ÇÊ¨°ÂàíÂàÜÔºõÁ¨¶ÂêàËø™Á±≥ÁâπÊ≥ïÂàô„ÄÇÁº∫ÁÇπÔºöÂ¢ûÂä†Â≠êÁ≥ªÁªüÔºåÊãìÂ±ïÂ≠êÁ≥ªÁªüË°å‰∏∫ÂÆπÊòìÂºïÂÖ•È£éÈô©Ôºõ‰∏çÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇ‰∏æ‰∏™ËÆ¢Â§ñÂçñÁöÑ‰æãÂ≠ê„ÄÇÂàõÂª∫‰∏Ä‰∏™Â§ñÂçñÂÆû‰ΩìÁ±ªTakeawayÔºö123456789101112public class Takeaway &#123; private String name; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125;ËÆ¢Â§ñÂçñËøáÁ®ã‰∏ÄËà¨ÂàÜ‰∏∫‰∏â‰∏™Ê≠•È™§Ôºö‰∏ãÂçï„ÄÅÊîØ‰ªòÂíåÈÖçÈÄÅÔºåÊâÄ‰ª•Êàë‰ª¨ÂàõÂª∫‰∏â‰∏™ServiceÂØπÂ∫îËøô‰∏â‰∏™ËøáÁ®ã„ÄÇÊñ∞Âª∫‰∏ãÂçïÊúçÂä°OrderServiceÔºö1234567public class OrderService &#123; public boolean placeAnOrder(Takeaway takeaway) &#123; System.out.println(takeaway.getName() + "‰∏ãÂçïÊàêÂäü"); return true; &#125;&#125;Êñ∞Âª∫ÊîØ‰ªòÊúçÂä°PayServiceÔºö1234567public class PayService &#123; public boolean pay(Takeaway takeaway) &#123; System.out.println("ÂïÜÂìÅ" + takeaway.getName() + "ÊîØ‰ªòÊàêÂäü"); return true; &#125;&#125;Êñ∞Âª∫ÈÖçÈÄÅÊúçÂä°DeliveryServiceÔºö123456public class DeliveryService &#123; public void delivery(Takeaway takeaway) &#123; System.out.println(takeaway.getName() + "Â∑≤Áî±È™ëÊâãXXÊé•ÂçïÔºåËÆ¢ÂçïÊ¥æÈÄÅ‰∏≠"); &#125;&#125;Âü∫‰∫éÂ§ñËßÇÊ®°ÂºèÊ≥ïÂàôÔºåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™ServiceÊù•ËÅöÂêàËøô‰∏â‰∏™ÊúçÂä°ÔºåÂÆ¢Êà∑Á´ØÂè™ÈúÄË¶ÅÂíåËøô‰∏™Service‰∫§‰∫íÂç≥ÂèØ„ÄÇÊñ∞Âª∫Â§ñÂçñÊúçÂä°TakeawayServiceÔºö1234567891011121314public class TakeawayService &#123; private OrderService orderService = new OrderService(); private PayService payService = new PayService(); private DeliveryService deliveryService = new DeliveryService(); public void takeOrder(Takeaway takeaway) &#123; if (orderService.placeAnOrder(takeaway)) &#123; if (payService.pay(takeaway)) &#123; deliveryService.delivery(takeaway); &#125; &#125; &#125;&#125;Êñ∞Âª∫‰∏™ÂÆ¢Êà∑Á´ØÊµãËØï‰∏ÄÊ≥¢Ôºö12345678910public class Application &#123; public static void main(String[] args) &#123; Takeaway takeaway = new Takeaway(); takeaway.setName("Ê≥°Ê§íüê∏"); TakeawayService takeawayService = new TakeawayService(); takeawayService.takeOrder(takeaway); &#125;&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÂÆ¢Êà∑Á´ØÂè™ÈúÄË¶ÅË∞ÉÁî®TakeawayServiceÂç≥ÂèØÔºåÊó†ÈúÄÂÖ≥Á≥ªÂÜÖÈÉ®ÂÖ∑‰ΩìÁªèÂéÜ‰∫ÜÂ§öÂ∞ë‰∏™Ê≠•È™§ÔºåËøêË°åmainÊñπÊ≥ïËæìÂá∫Â¶Ç‰∏ãÔºö123Ê≥°Ê§íüê∏‰∏ãÂçïÊàêÂäüÂïÜÂìÅÊ≥°Ê§íüê∏ÊîØ‰ªòÊàêÂäüÊ≥°Ê§íüê∏Â∑≤Áî±È™ëÊâãXXÊé•ÂçïÔºåËÆ¢ÂçïÊ¥æÈÄÅ‰∏≠ËØ•‰æãÂ≠êÁöÑUMLÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöË£ÖÈ•∞ËÄÖÊ®°ÂºèÂú®‰∏çÊîπÂèòÂéüÊúâÂØπË±°ÁöÑÂü∫Á°Ä‰πã‰∏äÔºåÂ∞ÜÂäüËÉΩÈôÑÂä†Âà∞ÂØπË±°‰∏äÔºåÊèê‰æõ‰∫ÜÊØîÁªßÊâøÊõ¥ÊúâÂºπÊÄßÁöÑÊõø‰ª£ÊñπÊ°à„ÄÇÈÄÇÁî®‰∫éÔºöÊãìÂ±ï‰∏Ä‰∏™Á±ªÁöÑÂäüËÉΩÔºõÂä®ÊÄÅÁªôÂØπË±°Ê∑ªÂä†ÂäüËÉΩÔºåÂπ∂‰∏îÂä®ÊÄÅÊí§ÈîÄ„ÄÇ‰ºòÁÇπÔºöÁªßÊâøÁöÑÊúâÂäõË°•ÂÖÖÔºå‰∏çÊîπÂèòÂéüÊúâÂØπË±°ÁöÑÊÉÖÂÜµ‰∏ãÁªôÂØπË±°ÊãìÂ±ïÂäüËÉΩÔºõÈÄöËøá‰ΩøÁî®‰∏çÂêåÁöÑË£ÖÈ•∞Á±ª„ÄÅ‰∏çÂêåÁöÑÁªÑÂêàÊñπÂºèÔºåÂÆûÁé∞‰∏çÂêåÁöÑÊïàÊûú„ÄÇÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇÁº∫ÁÇπÔºöÂ¢ûÂä†Á®ãÂ∫èÂ§çÊùÇÊÄßÔºõ‰∏æ‰∏™Ê∞¥ÊûúÊ≤ôÊãâÁöÑ‰æãÂ≠ê„ÄÇÊØîÂ¶ÇÂú®ÁÇπÊ∞¥ÊûúÊ≤ôÊãâÂ§ñÂçñÊó∂ÔºåÂèØ‰ª•ÂæÄÊ∞¥ÊûúÊ≤ôÊãâÈáåÂä†ÂêÑÁßçÊ∞¥ÊûúÔºå‰ª∑Ê†º‰πü‰ºöÁõ∏Â∫îÁöÑË∞ÉÊï¥ÔºåË¶ÅËÆ©Á®ãÂ∫èÊîØÊåÅ‰∏çÂêåÊ∞¥ÊûúËá™Áî±ÁªÑÂêàÔºåÂπ∂ËÆ°ÁÆóÁõ∏Â∫îÁöÑ‰ª∑Ê†ºÔºåÂàôÂèØ‰ª•‰ΩøÁî®Ë£ÖÈ•∞ËÄÖÊ®°ÂºèÊù•ÂÆåÊàê„ÄÇÂÆö‰πâ‰∏Ä‰∏™ÊäΩË±°ÁöÑÊ∞¥ÊûúÊ≤ôÊãâÁ±ªAbstractFruitSaladÔºö1234public abstract class AbstractFruitSalad &#123; public abstract String remark(); public abstract int price();&#125;ÂåÖÂê´Â§áÊ≥®Âíå‰ª∑Ê†ºÊäΩË±°ÊñπÊ≥ï„ÄÇÊé•ÁùÄÂàõÂª∫‰∏Ä‰∏™ÊäΩË±°ÁöÑË£ÖÈ•∞Âô®AbstractDecoratorÔºàÂÖ≥ÈîÆÁÇπÔºåÁªßÊâøÊäΩË±°Ê∞¥ÊûúÊ≤ôÊãâÁ±ªÔºâÔºö123456789101112131415161718public class AbstractDecorator extends AbstractFruitSalad&#123; private AbstractFruitSalad fruitSalad; public AbstractDecorator(AbstractFruitSalad fruitSalad)&#123; this.fruitSalad = fruitSalad; &#125; @Override public String remark() &#123; return fruitSalad.remark(); &#125; @Override public int price() &#123; return fruitSalad.price(); &#125;&#125;ÂàõÂª∫ÂÖ∑‰ΩìÁöÑÊ∞¥ÊûúÊ≤ôÊãâÁ±ªFruitSaladÔºö1234567891011public class FruitSalad extends AbstractFruitSalad&#123; @Override public String remark() &#123; return "Ê∞¥Êûúü•óÔºàÊ†áÂáÜÔºâ\n"; &#125; @Override public int price() &#123; return 9; &#125;&#125;ËØ•Ê≤ôÊãâÊòØÊ†áÂáÜÁöÑÊ∞¥ÊûúÊ≤ôÊãâÔºå‰ª∑Ê†ºÊòØ9ÂÖÉ„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÁöÑÊ∞¥ÊûúÊ≤ôÊãâËøòÂÖÅËÆ∏ÂÆ¢Êà∑Ê∑ªÂä†ÁåïÁå¥Ê°ÉÂíåË•øÁìúÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•Ê∑ªÂä†‰∏§‰∏™Êñ∞ÁöÑË£ÖÈ•∞Âô®„ÄÇÊ∑ªÂä†ÁåïÁå¥Ê°ÉË£ÖÈ•∞Âô®KiwiDecoratorÔºö12345678910111213141516public class KiwiDecorator extends AbstractDecorator &#123; public KiwiDecorator(AbstractFruitSalad fruitSalad) &#123; super(fruitSalad); &#125; @Override public String remark() &#123; return super.remark() + "Âä†‰ªΩü•ùÂàá\n"; &#125; @Override public int price() &#123; return super.price() + 2; &#125;&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÂä†‰∏Ä‰ªΩÁåïÁå¥Ê°ÉÈúÄË¶ÅÂú®ÂéüÊúâÂü∫Á°Ä‰∏äÂä†2ÂÖÉ„ÄÇÊé•ÁùÄÁªßÁª≠ÂàõÂª∫Ë•øÁìúË£ÖÈ•∞Âô®WaterMelonDecoratorÔºö12345678910111213141516public class WaterMelonDecorator extends AbstractDecorator &#123; public WaterMelonDecorator(AbstractFruitSalad fruitSalad) &#123; super(fruitSalad); &#125; @Override public String remark() &#123; return super.remark() + "Âä†‰ªΩüçâÂàá\n"; &#125; @Override public int price() &#123; return super.price() + 3; &#125;&#125;ÊúÄÂêéÂàõÂª∫ÂÆ¢Êà∑Á´ØApplicationÊµãËØï‰∏Ä‰∏ãÔºö123456789101112public class Application &#123; public static void main(String[] args) &#123; // ÁÇπ‰∫Ü‰ªΩÊ∞¥ÊûúÊ≤ôÊãâÔºåÂπ∂Âä†‰∫Ü‰∏§‰ªΩü•ùÂíå‰∏Ä‰ªΩüçâÔºåÁúãÁúãÊúÄÁªà‰ª∑Ê†ºÊòØÂ§öÂ∞ëÔºü AbstractFruitSalad fruitSalad = new FruitSalad(); fruitSalad = new KiwiDecorator(fruitSalad); fruitSalad = new KiwiDecorator(fruitSalad); fruitSalad = new WaterMelonDecorator(fruitSalad); System.out.println(fruitSalad.remark() + "‰ª∑Ê†ºÊòØÔºö" + fruitSalad.price()); &#125;&#125;‰∏äÈù¢ÁöÑÂÜôÊ≥ï‰πüÂèØ‰ª•Êîπ‰∏∫Ôºö12345678910public class Application &#123; public static void main(String[] args) &#123; // ÁÇπ‰∫Ü‰ªΩÊ∞¥ÊûúÊ≤ôÊãâÔºåÂπ∂Âä†‰∫Ü‰∏§‰ªΩü•ùÂíå‰∏Ä‰ªΩüçâÔºåÁúãÁúãÊúÄÁªà‰ª∑Ê†ºÊòØÂ§öÂ∞ëÔºü AbstractFruitSalad fruitSalad = new FruitSalad(); fruitSalad = new WaterMelonDecorator(new KiwiDecorator(new KiwiDecorator(fruitSalad))); System.out.println(fruitSalad.remark() + "‰ª∑Ê†ºÊòØÔºö" + fruitSalad.price()); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12345Ê∞¥Êûúü•óÔºàÊ†áÂáÜÔºâÂä†‰ªΩü•ùÂàáÂä†‰ªΩü•ùÂàáÂä†‰ªΩüçâÂàá‰ª∑Ê†ºÊòØÔºö16ÈÄöËøá‰∏çÂêåÁöÑË£ÖÈ•∞Âô®Ëá™Áî±ÁªÑÂêàÔºåÊàë‰ª¨ÂèØ‰ª•ÁÅµÊ¥ªÁöÑÁªÑË£ÖÂá∫ÂêÑÂºèÂêÑÊ†∑ÁöÑÊ∞¥ÊûúÊ≤ôÊãâÔºåËøôÊ≠£ÊòØË£ÖÈ•∞ËÄÖÊ®°ÂºèÁöÑ‰ºòÁÇπÔºå‰ΩÜÊòéÊòæÂèØ‰ª•ÁúãÂá∫‰ª£Á†ÅÂèòÂ§çÊùÇ‰∫Ü„ÄÇËøô‰∏™‰æãÂ≠êÁöÑUMLÂõæÂ¶Ç‰∏ãÊâÄÁ§∫:ÈÄÇÈÖçÂô®Ê®°ÂºèÂ∞Ü‰∏Ä‰∏™Á±ªÁöÑÊé•Âè£ËΩ¨Êç¢‰∏∫ÊúüÊúõÁöÑÂè¶‰∏Ä‰∏™Êé•Âè£Ôºå‰ΩøÂéüÊú¨‰∏çÂÖºÂÆπÁöÑÁ±ªÂèØ‰ª•‰∏ÄËµ∑Â∑•‰Ωú„ÄÇÈÄÇÁî®‰∫éÔºöÂ∑≤Â≠òÂú®ÁöÑÁ±ªÔºåÂÆÉÁöÑÊñπÊ≥ïÂíåÈúÄÊ±Ç‰∏çÂåπÈÖçÊó∂ÔºàÊñπÊ≥ïÁªìÊûúÁõ∏ÂêåÊàñËÄÖÁõ∏‰ººÔºâ‰ºòÁÇπ:ÊèêÈ´òÁ±ªÁöÑÈÄèÊòéÊÄßÂíåÂ§çÁî®ÔºåÁé∞ÊúâÁöÑÁ±ªÂ§çÁî®‰ΩÜ‰∏çÈúÄÊîπÂèòÔºõÁõÆÊ†áÁ±ªÂíåÈÄÇÈÖçÂô®Á±ªËß£ËÄ¶ÔºåÊèêÈ´òÁ®ãÂ∫èÊãìÂ±ïÊÄßÔºõÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇÁº∫ÁÇπÔºöÈÄÇÈÖçÂô®ÁºñÂÜôËøáÁ®ãÈúÄË¶ÅÂÖ®Èù¢ËÄÉËôëÔºåÂèØËÉΩ‰ºöÂ¢ûÂä†Á≥ªÁªüÁöÑÂ§çÊùÇÊÄßÔºõÈôç‰Ωé‰ª£Á†ÅÂèØËØªÊÄß„ÄÇÂàÜ‰∏∫ÔºöÁ±ªÈÄÇÈÖçÂô®Ê®°ÂºèÂíåÂØπË±°ÈÄÇÈÖçÂô®Ê®°Âºè„ÄÇÂÖà‰∏æ‰∏™Á±ªÈÄÇÈÖçÂô®Ê®°ÂºèÁöÑ‰æãÂ≠êÔºöÂÅáÂ¶ÇÈ°πÁõÆÈáåÂéüÊúâ‰∏ÄÊù°Ê∞¥ÊûúÁöÑ‰∫ßÂìÅÁ∫øÔºåÊØîÂ¶ÇÂåÖÂê´‰∏Ä‰∏™Ê†ëËéìÁ±ªRaspberryÔºö123456public class Raspberry &#123; public void addRaspberry() &#123; System.out.println("Ê∑ªÂä†ÁÇπÊ†ëËéì"); &#125;&#125;ÈöèÁùÄÈ°πÁõÆÁöÑÊãìÂ±ïÔºåÁé∞Âú®Êñ∞Â¢û‰∫ÜÊ∞¥ÊûúÊ¥æ‰∫ßÂìÅÁ∫øÔºåÊñ∞Âª∫PieÊé•Âè£Ôºö1234public interface Pie &#123; void make();&#125;Ë¶ÅÂ∞ÜRaspberryÂä†ÂÖ•Âà∞Pie‰∫ßÂìÅÁ∫øÔºåÂèà‰∏çÊÉ≥‰øÆÊîπRaspberryÁ±ªÁöÑ‰ª£Á†ÅÔºåÂàôÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÈÄÇÈÖçÂô®RaspberryPieAdaptorÔºö1234567public class RaspberryPieAdaptor extends Raspberry implements Pie&#123; @Override public void make() &#123; System.out.println("Âà∂‰Ωú‰∏Ä‰∏™Ê¥æü•ß"); super.addRaspberry(); &#125;&#125;ÈÄÇÈÖçÂô®ÁªßÊâøË¢´ÈÄÇÈÖçÁöÑÁ±ªÔºåÂÆûÁé∞Êñ∞ÁöÑ‰∫ßÂìÅÁ∫øÊé•Âè£„ÄÇÂú®ApplicationÈáåÊµãËØï‰∏ÄÊ≥¢Ôºö123456public class Application &#123; public static void main(String[] args) &#123; Pie pie = new RaspberryPieAdaptor(); pie.make(); &#125;&#125;ËæìÂá∫Ôºö12Âà∂‰Ωú‰∏Ä‰∏™Ê¥æü•ßÊ∑ªÂä†ÁÇπÊ†ëËéìÊàêÂäüÈÄöËøáÈÄÇÈÖçÂô®Âà∂ÈÄ†‰∫ÜÊ†ëËéìÊ¥æ„ÄÇÁ±ªÈÄÇÈÖçÂô®Ê®°ÂºèÁöÑUMLÂõæÂæàÁÆÄÂçïÔºöÂØπË±°ÈÄÇÈÖçÂô®Ê®°ÂºèÂè™ÈúÄË¶ÅÂ∞ÜRaspberryPieAdaptor‰øÆÊîπ‰∏∫Ôºö12345678910public class RaspberryPieAdaptor implements Pie&#123; private Raspberry raspberry = new Raspberry(); @Override public void make() &#123; System.out.println("Âà∂‰Ωú‰∏Ä‰∏™Ê¥æü•ß"); raspberry.addRaspberry(); &#125;&#125;ËøôÁßçÊ®°Âºè‰∏çÁõ¥Êé•ÁªßÊâøË¢´ÈÄÇÈÖçËÄÖÔºåËÄåÊòØÂú®ÈÄÇÈÖçÂô®ÈáåÂàõÂª∫Ë¢´ÈÄÇÈÖçËÄÖ„ÄÇËøôÁßçÊ®°ÂºèÁöÑUMLÂõæÔºö‰∫´ÂÖÉÊ®°ÂºèÊèê‰æõ‰∫ÜÂáèÂ∞ëÂØπË±°Êï∞Èáè‰ªéËÄåÊîπÂñÑÂ∫îÁî®ÊâÄÈúÄÁöÑÂØπË±°ÁªìÊûÑÁöÑÊñπÂºèÔºåËøêÁî®ÂÖ±‰∫´ÊäÄÊúØÊúâÊïàÂú∞ÊîØÊåÅÂ§ßÈáèÁªÜÁ≤íÂ∫¶ÁöÑÂØπË±°„ÄÇÈÄÇÁî®‰∫éÔºöÂ∫ïÂ±ÇÁ≥ªÁªüÂºÄÂèëÔºåËß£ÂÜ≥ÊÄßËÉΩÈóÆÈ¢òÔºõÁ≥ªÁªüÊã•ÊúâÂ§ßÈáèÁõ∏‰ººÂØπË±°ÔºåÈúÄË¶ÅÁºìÂÜ≤Ê±†ÁöÑÂú∫ÊôØ„ÄÇ‰ºòÁÇπÔºöÂáèÂ∞ëÂØπË±°ÁöÑÂàõÂª∫ÔºåÈôç‰ΩéÂÜÖÂ≠òÂç†Áî®ÔºõÁº∫ÁÇπÔºöÂÖ≥Ê≥®ÂÜÖ/Â§ñÈÉ®Áä∂ÊÄÅÔºåÂÖ≥Ê≥®Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºõÁ®ãÂ∫èÁöÑÈÄªËæëÂ§çÊùÇÂåñ„ÄÇÂÜÖÈÉ®Áä∂ÊÄÅÔºöÁÆÄÂçïÁêÜËß£‰∏∫‰∫´ÂÖÉÂØπË±°ÁöÑÂ±ûÊÄßÁä∂ÊÄÅÔºå‰∏ç‰ºöÂõ†‰∏∫Â§ñÈÉ®ÁöÑÊîπÂèòËÄåÊîπÂèòÔºõ Â§ñÈÉ®Áä∂ÊÄÅÔºöÁÆÄÂçïÁêÜËß£‰∏∫ÊñπÊ≥ïÂèÇÊï∞„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÊñ∞Âª∫Ê¥æü•ßÊé•Âè£PieÔºö1234public interface Pie &#123; void make() throws InterruptedException;&#125;ÂÖ∂ÂÆûÁé∞Á±ªÊ∞¥ÊûúÊ¥æFruitPieÔºö1234567891011121314151617181920212223public class FruitPie implements Pie &#123; private String name; private LocalDateTime productTime; public FruitPie(String name) &#123; this.name = name; &#125; public void setProductTime(LocalDateTime productTime) &#123; this.productTime = productTime; &#125; @Override public void make() &#123; try &#123; Thread.sleep(100); System.out.println(name + "Áîü‰∫ßÊó∂Èó¥Ôºö" + this.productTime); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125;ÂåÖÂê´ÂêçÁß∞ÂíåÁîü‰∫ßÊó•ÊúüÂ±ûÊÄßÔºåÂπ∂‰∏îÊúâ‰∏™makeÊñπÊ≥ï„ÄÇÊé•ÁùÄÂàõÂª∫Áîü‰∫ßFruitPieÁöÑÂ∑•ÂéÇFruitPieFactoryÔºö1234567891011121314public class FruitPieFactory &#123; private static final HashMap&lt;String, FruitPie&gt; PIE_HASH_MAP = new HashMap&lt;&gt;(); public static FruitPie produce(String name) &#123; FruitPie fruitPie = PIE_HASH_MAP.get(name); if (fruitPie == null) &#123; System.out.println("Ê≤°Êúâ" + name + "Âà∂‰ΩúÊñπÊ≥ïÔºåÂ≠¶‰π†Âà∂‰Ωú..."); fruitPie = new FruitPie(name); PIE_HASH_MAP.put(name, fruitPie); &#125; return fruitPie; &#125;&#125;‰ª£Á†ÅÂÖ≥ÈîÆÊòØÈÄöËøáHashMapÂ≠òÂÇ®ÂØπË±°„ÄÇÁºñÂÜô‰∏™ÊµãËØïÁ±ªÔºö12345678910111213public class Application &#123; private static final String[] PIE = &#123;"üçáÊ¥æ", "üçàÊ¥æ", "üçìÊ¥æ", "üçíÊ¥æ"&#125;; public static void main(String[] args) &#123; IntStream.range(0, 10).forEach((i) -&gt; &#123; String name = PIE[(int) (Math.random() * PIE.length)]; FruitPie fruitPie = FruitPieFactory.produce(name); fruitPie.setProductTime(LocalDateTime.now()); fruitPie.make(); &#125;); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314Ê≤°ÊúâüçìÊ¥æÂà∂‰ΩúÊñπÊ≥ïÔºåÂ≠¶‰π†Âà∂‰Ωú...üçìÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:26.397Ê≤°ÊúâüçáÊ¥æÂà∂‰ΩúÊñπÊ≥ïÔºåÂ≠¶‰π†Âà∂‰Ωú...üçáÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:26.498üçáÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:26.599Ê≤°ÊúâüçíÊ¥æÂà∂‰ΩúÊñπÊ≥ïÔºåÂ≠¶‰π†Âà∂‰Ωú...üçíÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:26.700üçíÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:26.800üçíÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:26.901Ê≤°ÊúâüçàÊ¥æÂà∂‰ΩúÊñπÊ≥ïÔºåÂ≠¶‰π†Âà∂‰Ωú...üçàÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:27.002üçìÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:27.103üçáÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:27.203üçáÊ¥æÁîü‰∫ßÊó∂Èó¥Ôºö2019-12-19T16:13:27.304‰ªéÁªìÊûúÁúãÔºåÂú®10Ê¨°Âæ™ÁéØ‰∏≠ÔºåÂè™Áîü‰∫ß‰∫Ü4‰∏™ÂØπË±°ÔºåËøôÂæàÂ•ΩÁöÑÊèèËø∞‰∫ÜÁ≥ªÁªüÊúâÂ§ßÈáèÁõ∏‰ººÂØπË±°ÔºåÈúÄË¶ÅÁºìÂÜ≤Ê±†ÁöÑÂú∫ÊôØ„ÄÇJDK‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†ÔºåÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†Á≠âÈÉΩÊòØÁî®ÁöÑ‰∫´ÂÖÉÊ®°Âºè„ÄÇÁªÑÂêàÊ®°ÂºèÂ∞ÜÂØπË±°ÁªÑÂêàÊàêÊ†ëÂΩ¢ÁªìÊûÑ‰ª•Ë°®Á§∫‚ÄúÈÉ®ÂàÜ-Êï¥‰Ωì‚ÄùÁöÑÂ±ÇÊ¨°ÁªìÊûÑÔºå‰ΩøÂÆ¢Êà∑Á´ØÂØπÂçï‰∏™ÂØπË±°ÂíåÁªÑÂêàÂØπË±°‰øùÊåÅ‰∏ÄËá¥ÁöÑÊñπÂºèÂ§ÑÁêÜ„ÄÇÈÄÇÁî®‰∫éÔºöÂÆ¢Êà∑Á´ØÂèØ‰ª•ÂøΩÁï•ÁªÑÂêàÂØπË±°‰∏éÂçï‰∏™ÂØπË±°ÁöÑÂ∑ÆÂºÇÔºõÂ§ÑÁêÜÊ†ëÂΩ¢ÁªìÊûÑÊï∞ÊçÆ„ÄÇ‰ºòÁÇπ:Â±ÇÊ¨°Ê∏ÖÊô∞ÔºõÂÆ¢Êà∑Á´Ø‰∏çÂøÖÂÖ≥Á≥ªÂ±ÇÊ¨°Â∑ÆÂºÇÔºåÊñπ‰æøÊéßÂà∂ÔºõÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇÁº∫ÁÇπÔºöÊ†ëÂΩ¢Â§ÑÁêÜËæÉ‰∏∫Â§çÊùÇ„ÄÇ‰∏æ‰∏™ËèúÂçïÊåâÈíÆÁªÑÊàêÁöÑÊ†ëÂΩ¢‰æãÂ≠ê„ÄÇÊñ∞Âª∫ËèúÂçïÊåâÈíÆÁöÑÁªÑÂêàÊäΩË±°Á±ªAbstractMenuButtonÔºö12345678910111213141516171819202122public abstract class AbstractMenuButton &#123; public void add(AbstractMenuButton abstractMenuButton) &#123; throw new UnsupportedOperationException("‰∏çÊîØÊåÅÂàõÂª∫Êìç‰Ωú"); &#125; public String getName() &#123; throw new UnsupportedOperationException("‰∏çÊîØÊåÅÂêçÁß∞Ëé∑Âèñ"); &#125; public String getType() &#123; throw new UnsupportedOperationException("‰∏çÊîØÊåÅÁ±ªÂûãËé∑Âèñ"); &#125; public String getIcon() &#123; throw new UnsupportedOperationException("‰∏çÊîØÊåÅÂõæÊ†á"); &#125; public void print() &#123; throw new UnsupportedOperationException("‰∏çÊîØÊåÅÊâìÂç∞Êìç‰Ωú"); &#125;&#125;ÁªÑÂêà‰∫ÜËèúÂçïÊåâÈíÆÊìç‰ΩúÁöÑÂü∫Êú¨ÊñπÊ≥ï„ÄÇÊñ∞Â¢ûÊåâÈíÆÁ±ªButtonÔºö1234567891011121314151617181920212223public class Button extends AbstractMenuButton &#123; private String name; public Button(String name) &#123; this.name = name; &#125; @Override public String getName() &#123; return this.name; &#125; @Override public String getType() &#123; return "ÊåâÈíÆ"; &#125; @Override public void print() &#123; System.out.println(getName() + "„Äê" + getType() + "„Äë"); &#125;&#125;ÊåâÈíÆÊã•ÊúâÂêçÁß∞Â±ûÊÄßÔºåÂπ∂‰∏îÊîØÊåÅÂêçÁß∞Ëé∑ÂèñÔºåÁ±ªÂûãËé∑ÂèñÂíåÊâìÂç∞ÊñπÊ≥ïÔºåÊâÄ‰ª•ÈáçÂÜô‰∫ÜËøô‰∏â‰∏™Áà∂Á±ªÊñπÊ≥ï„ÄÇÊé•ÁùÄÊñ∞Âª∫ËèúÂçïÁ±ªMenuÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class Menu extends AbstractMenuButton &#123; private List&lt;AbstractMenuButton&gt; items = new ArrayList&lt;&gt;(); private String name; private String icon; private Integer level; public Menu(String name, String icon, Integer level) &#123; this.name = name; this.icon = icon; this.level = level; &#125; @Override public void add(AbstractMenuButton abstractMenuButton) &#123; items.add(abstractMenuButton); &#125; @Override public String getName() &#123; return this.name; &#125; @Override public String getType() &#123; return "ËèúÂçï"; &#125; @Override public String getIcon() &#123; return this.icon; &#125; @Override public void print() &#123; System.out.println(getIcon() + getName() + "„Äê" + getType() + "„Äë"); for (AbstractMenuButton item : items) &#123; if (this.level != null) &#123; for (int i = 0; i &lt; this.level; i++) &#123; System.out.print(" "); &#125; &#125; item.print(); &#125; &#125;&#125;ËèúÂçïÂåÖÂê´ÂêçÁß∞„ÄÅÂõæÊ†áÂíåÂ±ÇÁ∫ßÂ±ûÊÄßÔºåÂπ∂‰∏îËèúÂçïÂèØ‰ª•ÂåÖÂê´‰∏ãÁ∫ßÔºàÊØîÂ¶Ç‰∏ãÁ∫ßËèúÂçïÔºå‰∏ãÁ∫ßÊåâÈíÆÔºâÔºåÊâÄ‰ª•ÂÆÉÂåÖÂê´‰∏Ä‰∏™ListÁ±ªÂûãÁöÑÂ±ûÊÄßitems„ÄÇÊ≠§Â§ñÔºåËèúÂçïÂåÖÂê´Ê∑ªÂä†‰∏ãÁ∫ß„ÄÅÂêçÁß∞Ëé∑Âèñ„ÄÅÁ±ªÂûãËé∑Âèñ„ÄÅÂõæÊ†áËé∑ÂèñÂíåÊâìÂç∞ÊñπÊ≥ï„ÄÇÊñ∞Âª∫‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÔºåÊµãËØïËèúÂçïÊåâÈíÆÁöÑÂ±ÇÁ∫ßÁªìÊûÑÔºö12345678910111213141516171819202122public class Application &#123; public static void main(String[] args) &#123; Menu userMenu = new Menu("Áî®Êà∑ÁÆ°ÁêÜ", "üßë", 2); Button createUser = new Button("Êñ∞Â¢ûÁî®Êà∑"); Button updateUser = new Button("‰øÆÊîπÁî®Êà∑"); Button deleteUser = new Button("Âà†Èô§Áî®Êà∑"); userMenu.add(createUser); userMenu.add(updateUser); userMenu.add(deleteUser); Menu logMenu = new Menu("Êìç‰ΩúÊó•Âøó", "üìÉ", 2); Button export = new Button("ÂØºÂá∫Excel"); logMenu.add(export); Menu systemMenu = new Menu("Á≥ªÁªüÁÆ°ÁêÜ", "üî®", 1); systemMenu.add(userMenu); systemMenu.add(logMenu); systemMenu.print(); &#125;&#125;ÊâìÂç∞ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567üî®Á≥ªÁªüÁÆ°ÁêÜ„ÄêËèúÂçï„Äë üßëÁî®Êà∑ÁÆ°ÁêÜ„ÄêËèúÂçï„Äë Êñ∞Â¢ûÁî®Êà∑„ÄêÊåâÈíÆ„Äë ‰øÆÊîπÁî®Êà∑„ÄêÊåâÈíÆ„Äë Âà†Èô§Áî®Êà∑„ÄêÊåâÈíÆ„Äë üìÉÊìç‰ΩúÊó•Âøó„ÄêËèúÂçï„Äë ÂØºÂá∫Excel„ÄêÊåâÈíÆ„ÄëUMLÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÊ°•Êé•Ê®°ÂºèÂ∞ÜÊäΩË±°ÈÉ®ÂàÜÂíåÂÖ∑‰ΩìÂÆûÁé∞ÈÉ®ÂàÜÂàÜÁ¶ªÔºå‰ΩøÂÆÉ‰ª¨ÈÉΩÂèØ‰ª•Áã¨Á´ãÂèòÂåñ„ÄÇÈÄöËøáÁªÑÂêàÁöÑÊñπÂºèÂª∫Á´ã‰∏§‰∏™Á±ª‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºåËÄå‰∏çÊòØÈÄöËøáÁªßÊâø„ÄÇÈÄÇÁî®‰∫éÔºöÊäΩË±°ÂíåÂÆû‰ΩìÂÆûÁé∞‰πãÈó¥Â¢ûÂä†Êõ¥Â§öÁöÑÁÅµÊ¥ªÊÄßÔºõ‰∏Ä‰∏™Á±ªÂ≠òÂú®Â§ö‰∏™Áã¨Á´ãÂèòÂåñÁöÑÁª¥Â∫¶ÔºåÂπ∂‰∏îÈúÄË¶ÅÁã¨Á´ãÊãìÂ±ïÔºõ‰∏çÂ∏åÊúõ‰ΩøÁî®ÁªßÊâø„ÄÇ‰ºòÁÇπÔºöÂàÜÁ¶ªÊäΩË±°ÈÉ®ÂàÜÂíåÂÖ∑‰ΩìÂÆûÁé∞ÈÉ®ÂàÜÔºõÊèêÈ´ò‰∫ÜÁ≥ªÁªüÂèØÊãìÂ±ïÊÄßÔºõÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàôÂíåÂêàÊàêÂ§çÁî®ÂéüÂàô„ÄÇÁº∫ÁÇπÔºöÂ¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÁêÜËß£ÂíåËÆæËÆ°ÈöæÂ∫¶Ôºõ‰∏æ‰∏™‰æãÂ≠êÔºöÁé∞ÊúâÊ¥æÁöÑÊé•Âè£Á±ªPieÔºö123456public interface Pie &#123; Pie makePie(); void getType();&#125;ÂåÖÂê´Âà∂‰ΩúÊ¥æÂíåËé∑ÂèñÊ¥æÁ±ªÂûãÊäΩË±°ÊñπÊ≥ï„ÄÇÊé•ÁùÄÂàõÂª∫‰∏§‰∏™PieÁöÑÂÆûÁé∞Á±ªÔºåËãπÊûúÊ¥æAppliePieÔºö123456789101112public class ApplePie implements Pie &#123; @Override public Pie makePie() &#123; System.out.println("Âà∂‰ΩúËãπÊûúÊ¥æüçéü•ß"); return new ApplePie(); &#125; @Override public void getType() &#123; System.out.println("Ê∞¥ÊûúÊ¥æ"); &#125;&#125;ËÉ°ËêùÂçúÊ¥æCarrotPieÔºö123456789101112public class CarrotPie implements Pie&#123; @Override public Pie makePie() &#123; System.out.println("Âà∂‰ΩúËÉ°ËêùÂçúÊ¥æü•ïü•ß"); return new CarrotPie(); &#125; @Override public void getType() &#123; System.out.println("Ëî¨ËèúÊ≤ôÊãâÊ¥æ"); &#125;&#125;Êé•ÁùÄÂàõÂª∫‰∏Ä‰∏™Â∫óÈì∫ÊäΩË±°Á±ªStoreÔºåÈÄöËøáÂ±ûÊÄßÁöÑÊñπÂºèÂíåPieÁõ∏ÂÖ≥ËÅîÔºåÁõÆÁöÑÊòØÂèØ‰ª•Âú®‰∏çÂêåÁöÑÂ∫óÈì∫ÂÆûÁé∞Á±ª‰∏≠ÁÅµÊ¥ªÂú∞Âà∂‰ΩúÂêÑÁßçÊ¥æÔºö12345678910public abstract class Store &#123; protected Pie pie; public Store(Pie pie)&#123; this.pie = pie; &#125; abstract Pie makePie();&#125;StoreÂ≠êÁ±ª‰πã‰∏ÄÔºåÂ±±ÂßÜÂ§ßÂèîÁöÑÂ∞èÂ∫óSamStoreÔºö123456789101112public class SamStore extends Store&#123; public SamStore(Pie pie) &#123; super(pie); &#125; @Override Pie makePie() &#123; System.out.print("Â±±ÂßÜÂ§ßÂèîÁöÑÂ∞èÂ∫óüíí"); return pie.makePie(); &#125;&#125;StoreÂ≠êÁ±ª‰πã‰∫åÔºåÊù∞ÂÖãÁöÑÂ∞èÂ∫óJackStoreÔºö123456789101112public class JackStore extends Store &#123; public JackStore(Pie pie) &#123; super(pie); &#125; @Override Pie makePie() &#123; System.out.print("Êù∞ÂÖãÁöÑÂ∞èÂ∫óüíí"); return pie.makePie(); &#125;&#125;Êñ∞Âª∫‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÔºåÊµãËØïPieÁöÑÂÆûÁé∞Á±ªÂíåStoreÁöÑÁªßÊâøÁ±ª‰πãÈó¥ÁöÑËá™Áî±ÁªÑÂêàÔºö1234567891011public class Application &#123; public static void main(String[] args) &#123; Store samStore = new SamStore(new ApplePie()); Pie samStorePie = samStore.makePie(); samStorePie.getType(); Store jackStore = new JackStore(new CarrotPie()); Pie jackStorePie = jackStore.makePie(); jackStorePie.getType(); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö1234Â±±ÂßÜÂ§ßÂèîÁöÑÂ∞èÂ∫óüííÂà∂‰ΩúËãπÊûúÊ¥æüçéü•ßÊ∞¥ÊûúÊ¥æÊù∞ÂÖãÁöÑÂ∞èÂ∫óüííÂà∂‰ΩúËÉ°ËêùÂçúÊ¥æü•ïü•ßËî¨ËèúÊ≤ôÊãâÊ¥æËøô‰∏™‰æãÂ≠êÂæàÂ•ΩÂú∞‰ΩìÁé∞‰∫ÜÊ°•Êé•Ê®°ÂºèÁöÑÁâπÁÇπÔºåUMLÂõæÂ¶Ç‰∏ãÔºö‰ª£ÁêÜÊ®°Âºè‰∏∫ÂÖ∂‰ªñÂØπË±°Êèê‰æõ‰∏ÄÁßç‰ª£ÁêÜÔºå‰ª•ÊéßÂà∂ÂØπËøô‰∏™ÂØπË±°ÁöÑËÆøÈóÆÔºå‰ª£ÁêÜÂØπË±°Âú®ÂÆ¢Êà∑Á´ØÂíåÁõÆÊ†áÂØπË±°‰πãÈó¥Ëµ∑Âà∞‰∫Ü‰∏≠‰ªãÁöÑ‰ΩúÁî®„ÄÇÈÄÇÁî®‰∫éÔºö‰øùÊä§ÁõÆÊ†áÂØπË±°ÔºõÂ¢ûÂº∫ÁõÆÊ†áÂØπË±°„ÄÇ‰ºòÁÇπÔºöÂ∞Ü‰ª£ÁêÜÂØπË±°ÂíåÁúüÂÆûË¢´Ë∞ÉÁî®ÁöÑÁõÆÊ†áÂØπË±°ÂàÜÁ¶ªÔºõÈôç‰ΩéËÄ¶ÂêàÔºåÊãìÂ±ïÊÄßÂ•ΩÔºõ‰øùÊä§ÁõÆÊ†áÂØπË±°ÔºåÂ¢ûÂº∫ÁõÆÊ†áÂØπË±°„ÄÇÁº∫ÁÇπÔºöÈÄ†ÊàêÁ±ªÁöÑÊï∞ÁõÆÂ¢ûÂä†ÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶ÔºõÂÆ¢Êà∑Á´ØÂíåÁõÆÊ†áÂØπË±°Â¢ûÂä†‰ª£ÁêÜÂØπË±°Ôºå‰ºöÈÄ†ÊàêÂ§ÑÁêÜÈÄüÂ∫¶ÂèòÊÖ¢„ÄÇÈùôÊÄÅ‰ª£ÁêÜÈÄöËøáÂú®‰ª£Á†Å‰∏≠ÊòæÂºèÂú∞ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™‰ª£ÁêÜÁ±ªÔºåÂú®‰ª£ÁêÜÁ±ª‰∏≠ÈÄöËøáÂêåÂêçÁöÑÊñπÊ≥ïÂØπÁõÆÊ†áÂØπË±°ÁöÑÊñπÊ≥ïËøõË°åÂåÖË£ÖÔºåÂÆ¢Êà∑Á´ØÈÄöËøáË∞ÉÁî®‰ª£ÁêÜÁ±ªÁöÑÊñπÊ≥ïÊù•Ë∞ÉÁî®ÁõÆÊ†áÂØπË±°ÁöÑÊñπÊ≥ï„ÄÇ‰∏æ‰∏™ÈùôÊÄÅ‰ª£ÁêÜÁöÑ‰æãÂ≠êÔºöÊñ∞Âª∫‰∏Ä‰∏™Ê¥æÁöÑÂà∂‰ΩúÊé•Âè£PieServiceÔºö123public interface PieServcie &#123; void makePie();&#125;ÂàõÂª∫ÂÖ∂ÂÆûÁé∞Á±ªPieServiceImplÔºö12345public class PieServiceImpl implements PieServcie&#123; public void makePie() &#123; System.out.println("Âà∂‰Ωúü•óÊ¥æ"); &#125;&#125;Ë¶ÅÂØπPieServiceImplÁöÑmakePieÊñπÊ≥ïÂ¢ûÂº∫ÔºåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™‰ª£ÁêÜÂØπË±°PieServiceProxyÔºö1234567891011121314151617181920public class PieServiceProxy &#123; private PieServcie pieServcie; public void makePie() &#123; beforeMethod(); pieServcie = new PieServiceImpl(); pieServcie.makePie(); afterMethod(); &#125; private void beforeMethod() &#123; System.out.println("ÂáÜÂ§áÊùêÊñô"); &#125; private void afterMethod() &#123; System.out.println("‰øùÈ≤ú"); &#125;&#125;Âú®PieServiceProxy‰∏≠Êàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂíåPieServcie‰∏ÄËá¥ÁöÑÂêåÂêçÊñπÊ≥ïmakePieÔºåÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®‰∫ÜPieServiceImplÁöÑmakePieÊñπÊ≥ïÔºåÂπ∂‰∏îÂú®ÊñπÊ≥ïË∞ÉÁî®ÂâçË∞ÉÁî®‰∫Ü‰ª£ÁêÜÁ±ªÁöÑbeforeMethodÊñπÊ≥ïÔºåÊñπÊ≥ïË∞ÉÁî®ÂêéË∞ÉÁî®‰∫Ü‰ª£ÁêÜÁ±ªÁöÑafterMethodÊñπÊ≥ï„ÄÇÂàõÂª∫ÂÆ¢Êà∑Á´ØApplicationÔºåÊµãËØïÔºö1234567public class Application &#123; public static void main(String[] args) &#123; PieServiceProxy proxy = new PieServiceProxy(); proxy.makePie(); &#125;&#125;ËæìÂá∫Ôºö123ÂáÜÂ§áÊùêÊñôÂà∂‰Ωúü•óÊ¥æ‰øùÈ≤úËøô‰∏™‰æãÂ≠êÁöÑUMLÂõæÂ¶Ç‰∏ãÔºöÂä®ÊÄÅ‰ª£ÁêÜJDKÁöÑÂä®ÊÄÅ‰ª£ÁêÜÂè™ËÉΩ‰ª£ÁêÜÊé•Âè£ÔºåÈÄöËøáÊé•Âè£ÁöÑÊñπÊ≥ïÂêçÂú®Âä®ÊÄÅÁîüÊàêÁöÑ‰ª£ÁêÜÁ±ª‰∏≠Ë∞ÉÁî®‰∏öÂä°ÂÆûÁé∞Á±ªÁöÑÂêåÂêçÊñπÊ≥ï„ÄÇÈùôÊÄÅ‰ª£ÁêÜÁöÑÁº∫ÁÇπÂ∞±ÊòØÊØèÈúÄË¶Å‰ª£ÁêÜ‰∏Ä‰∏™Á±ªÔºåÂ∞±ÈúÄË¶ÅÊâãÂÜôÂØπÂ∫îÁöÑ‰ª£ÁêÜÁ±ª„ÄÇËøô‰∏™ÈóÆÈ¢òÂèØ‰ª•Áî®Âä®ÊÄÅ‰ª£ÁêÜÊù•Ëß£ÂÜ≥„ÄÇ‰∏æ‰∏™Âä®ÊÄÅ‰ª£ÁêÜÁöÑ‰æãÂ≠êÔºöÊñ∞Âª∫ÂÜ∞Ê∑áÊ∑ãÂà∂‰ΩúÊé•Âè£IceCreamServiceÔºö123public interface IceCreamService &#123; void makeIceCream(String fruit);&#125;ÂÆûÁé∞Á±ªIceCreamServiceImplÔºö123456public class IceCreamServiceImpl implements IceCreamService &#123; public void makeIceCream(String fruit) &#123; System.out.println("Âà∂‰Ωú" + fruit + "üç¶"); &#125;&#125;Áé∞Âú®ÈúÄË¶ÅÂØπIceCreamServiceImplËøõË°å‰ª£ÁêÜÂ¢ûÂº∫ÔºåÂ¶ÇÊûú‰ΩøÁî®ÈùôÊÄÅ‰ª£ÁêÜÔºåÊàë‰ª¨ÈúÄË¶ÅÁºñÂÜô‰∏Ä‰∏™IceCreamServiceImplProxyÁ±ªÔºå‰ΩøÁî®Âä®ÊÄÅ‰ª£ÁêÜÁöÑËØùÔºåÊàë‰ª¨ÂèØ‰ª•Âä®ÊÄÅÁîüÊàêÂØπÂ∫îÁöÑ‰ª£ÁêÜÁ±ª„ÄÇÂàõÂª∫DynamicProxyÔºö12345678910111213141516171819202122232425262728public class DynamicProxy implements InvocationHandler &#123; // ‰ª£ÁêÜÁöÑÁõÆÊ†áÂØπË±° private Object object; public DynamicProxy(Object object) &#123; this.object = object; &#125; public Object proxy() &#123; Class&lt;?&gt; clazz = object.getClass(); // ÁîüÊàê‰ª£ÁêÜÂØπË±° return Proxy.newProxyInstance(clazz.getClassLoader(), clazz.getInterfaces(), this); &#125; /** * @param proxy Âä®ÊÄÅÁîüÊàêÁöÑ‰ª£ÁêÜÂØπË±° * @param method ‰ª£ÁêÜÊñπÊ≥ï * @param args ‰ª£ÁêÜÊñπÊ≥ïÁöÑÊñπÊ≥ïÂèÇÊï∞ * @return ÁªìÊûú * @throws Throwable */ public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; return null; &#125;&#125;Âä®ÊÄÅ‰ª£ÁêÜÁ±ªÈÄöËøáÂÆûÁé∞InvocationHandlerÁöÑinvokeÊñπÊ≥ïÂÆûÁé∞ÔºåproxyÁî®‰∫éÁîüÊàê‰ª£ÁêÜÂØπË±°„ÄÇÂâ©‰∏ãÁöÑÊ≠•È™§ÂíåÈùôÊÄÅ‰ª£ÁêÜÁ±ª‰ººÔºåÂÆåÂñÑDynamicProxyÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152public class DynamicProxy implements InvocationHandler &#123; // ‰ª£ÁêÜÁöÑÁõÆÊ†áÂØπË±° private Object object; public DynamicProxy(Object object) &#123; this.object = object; &#125; public Object proxy() &#123; Class&lt;?&gt; clazz = object.getClass(); // ÁîüÊàê‰ª£ÁêÜÂØπË±° return Proxy.newProxyInstance(clazz.getClassLoader(), clazz.getInterfaces(), this); &#125; /** * @param proxy Âä®ÊÄÅÁîüÊàêÁöÑ‰ª£ÁêÜÂØπË±° * @param method ‰ª£ÁêÜÊñπÊ≥ï * @param args ‰ª£ÁêÜÊñπÊ≥ïÁöÑÊñπÊ≥ïÂèÇÊï∞ * @return ÁªìÊûú * @throws Throwable */ public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; beforeMethod(object); // ÂèçÂ∞ÑÊâßË°å‰ª£ÁêÜÂØπË±°ÁöÑÁõÆÊ†áÊñπÊ≥ï Object result = method.invoke(object, args); afterMethod(object); return result; &#125; private void beforeMethod(Object object) &#123; if (object instanceof PieServcie) &#123; System.out.println("ÂáÜÂ§áÊ¥æÁöÑÊùêÊñô"); &#125; else if (object instanceof IceCreamService) &#123; System.out.println("ÂáÜÂ§áÂÜ∞Ê∑áÊ∑ãÊùêÊñô"); &#125; else &#123; throw new RuntimeException("ÊöÇ‰∏çÊîØÊåÅ‰ª£ÁêÜ" + object.getClass() + "Á±ªÂûã"); &#125; &#125; private void afterMethod(Object object) &#123; if (object instanceof PieServcie) &#123; System.out.println("‰øùÈ≤úÊ¥æ"); &#125; else if (object instanceof IceCreamService) &#123; System.out.println("‰øùÈ≤úÂÜ∞Ê∑áÊ∑ã"); &#125; else &#123; throw new RuntimeException("ÊöÇ‰∏çÊîØÊåÅ‰ª£ÁêÜ" + object.getClass() + "Á±ªÂûã"); &#125; &#125;&#125;ÂàõÂª∫ÂÆ¢Êà∑Á´ØApplicationÊµãËØïÔºö1234567891011public class Application &#123; public static void main(String[] args) &#123; PieServcie pieServiceDynamicProxy = (PieServcie) new DynamicProxy(new PieServiceImpl()).proxy(); pieServiceDynamicProxy.makePie(); System.out.println("-----------------"); IceCreamService iceCreamServiceDynamicProxy = (IceCreamService) new DynamicProxy(new IceCreamServiceImpl()).proxy(); iceCreamServiceDynamicProxy.makeIceCream("üçì"); &#125;&#125;ÁªìÊûúÔºö1234567ÂáÜÂ§áÊ¥æÁöÑÊùêÊñôÂà∂‰Ωúü•óÊ¥æ‰øùÈ≤úÊ¥æ-----------------ÂáÜÂ§áÂÜ∞Ê∑áÊ∑ãÊùêÊñôÂà∂‰Ωúüçìüç¶‰øùÈ≤úÂÜ∞Ê∑áÊ∑ãÂèØ‰ª•ÁúãÂà∞ÔºåÈÄöËøáÂä®ÊÄÅ‰ª£ÁêÜÊàë‰ª¨ÂÆûÁé∞‰∫ÜÁõÆÊ†áÊñπÊ≥ïÂ¢ûÂº∫ÔºåÂπ∂‰∏î‰∏çÈúÄË¶ÅÊâãÂÜôÁõÆÊ†áÁ±ªÁöÑ‰ª£ÁêÜÂØπË±°„ÄÇCGLib‰ª£ÁêÜÈÄöËøáÁªßÊâøÊù•ÂÆûÁé∞ÔºåÁîüÊàêÁöÑ‰ª£ÁêÜÁ±ªÂ∞±ÊòØÁõÆÊ†áÂØπË±°Á±ªÁöÑÂ≠êÁ±ªÔºåÈÄöËøáÈáçÂÜô‰∏öÂä°ÊñπÊ≥ïÊù•ÂÆûÁé∞‰ª£ÁêÜ„ÄÇSpringÂØπ‰ª£ÁêÜÊ®°ÂºèÁöÑÊãìÂ±ïÂΩìBeanÊúâÂÆûÁé∞Êé•Âè£Êó∂Ôºå‰ΩøÁî®JDKÂä®ÊÄÅ‰ª£ÁêÜÔºõÂΩìBeanÊ≤°ÊúâÂÆûÁé∞Êé•Âè£Êó∂Ôºå‰ΩøÁî®CGLib‰ª£ÁêÜ„ÄÇÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÈÖçÁΩÆÂº∫Âà∂‰ΩøÁî®CGLib‰ª£ÁêÜÔºö123spring: aop: proxy-target-class: trueË°å‰∏∫ÂûãÊ®°ÂºèÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÊµÅÁ®ãÁöÑÈ™®Êû∂ÔºåÁî±Â§ö‰∏™ÊñπÊ≥ïÁªÑÊàê„ÄÇÂπ∂ÂÖÅËÆ∏Â≠êÁ±ª‰∏∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ê≠•È™§Êèê‰æõÂÆûÁé∞„ÄÇÁÆÄËÄåË®Ä‰πãÂ∞±ÊòØÂÖ¨ÂÖ±ÁöÑ‰∏çÂèòÁöÑÈÉ®ÂàÜÁî±Áà∂Á±ªÁªü‰∏ÄÂÆûÁé∞ÔºåÂèòÂåñÁöÑÈÉ®ÂàÜÁî±Â≠êÁ±ªÊù•‰∏™ÊÄßÂåñÂÆûÁé∞„ÄÇ‰ºòÁÇπÔºöÊèêÈ´òÂ§çÁî®ÊÄßÔºõÊèêÈ´òÊãìÂ±ïÊÄßÔºõÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇÁº∫ÁÇπÔºöÁ±ªÁöÑÊï∞ÁõÆÂ¢ûÂä†ÔºõÂ¢ûÂä†‰∫ÜÁ≥ªÁªüÂÆûÁé∞ÁöÑÂ§çÊùÇÂ∫¶ÔºõÁà∂Á±ªÊ∑ªÂä†Êñ∞ÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÊâÄÊúâÂ≠êÁ±ªÈÉΩË¶ÅÊîπ‰∏ÄÈÅç„ÄÇ‰∏æ‰∏™Ê®°ÊùøÊñπÊ≥ïÊ®°ÂºèÁöÑ‰æãÂ≠ê„ÄÇÂÆö‰πâ‰∏Ä‰∏™Â§ñÂçñÁöÑÊé•Âè£ÔºåÂåÖÂê´‰∏ãÂçï„ÄÅÂà∂‰ΩúÂíåÊâìÂåÖÈÖçÈÄÅ‰∏â‰∏™Ê≠•È™§Ôºö12345678910111213141516171819202122232425public abstract class Takeaway &#123; final void order() &#123; System.out.println("‰∏ãÂçï"); &#125; final void packageSend() &#123; System.out.println("ÊâìÂåÖÊ¥æÈÄÅ"); &#125; protected abstract void make(); protected boolean needTableware() &#123; return true; &#125; final void flow() &#123; this.order(); this.make(); if (needTableware()) &#123; System.out.println("Ëµ†ÈÄÅ‰∏ÄÊ¨°ÊÄßÈ§êÂÖ∑"); &#125; this.packageSend(); &#125;&#125;ÂÖ∂‰∏≠‰∏ãÂçïÂíåÊâìÂåÖÈÖçÈÄÅË°å‰∏∫ÊòØÂõ∫ÂÆöÁöÑÔºå‰∏çÂêåÁöÑÊòØÂà∂‰ΩúËøáÁ®ãÔºåÊâÄ‰ª•orderÂíåpackageSendÊñπÊ≥ïÊèê‰æõ‰∫ÜÈªòËÆ§ÂÆûÁé∞ÔºåÂπ∂‰∏îÁî±final‰øÆÈ•∞ÔºåÂ≠êÁ±ª‰∏çÂèØÈáçÂÜô„ÄÇÊ≠§Â§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáneedTablewareËøô‰∏™Èí©Â≠êÊñπÊ≥ïÊù•ÊéßÂà∂Êüê‰∫õÂ≠êÁ±ªÁöÑÂÆöÂà∂ÂåñÈúÄÊ±Ç„ÄÇÊñ∞Â¢ûBarbecueTakeawayÁªßÊâøTakeawayÔºö123456789101112131415161718public class BarbecueTakeaway extends Takeaway &#123; private final boolean needTableware; public BarbecueTakeaway(boolean needTableware) &#123; this.needTableware = needTableware; &#125; @Override protected void make() &#123; System.out.println("Âà∂‰ΩúÁÉ§ËÇâ"); &#125; @Override protected boolean needTableware() &#123; return this.needTableware; &#125;&#125;Êñ∞Â¢ûFruitTakeawayÁªßÊâøTakeawayÔºö123456789101112public class FruitTakeaway extends Takeaway &#123; @Override protected void make() &#123; System.out.println("Ê∞¥ÊûúÈÖçË¥ß"); &#125; @Override protected boolean needTableware() &#123; return false; &#125;&#125;Êñ∞Â¢û‰∏™ÂÆ¢Êà∑Á´ØApplicationÊµãËØïÔºö12345678910public class Application &#123; public static void main(String[] args) &#123; Takeaway barbecue = new BarbecueTakeaway(true); barbecue.flow(); FruitTakeaway fruit = new FruitTakeaway(); fruit.flow(); &#125;&#125;1234567‰∏ãÂçïÂà∂‰ΩúÁÉ§ËÇâËµ†ÈÄÅ‰∏ÄÊ¨°ÊÄßÈ§êÂÖ∑ÊâìÂåÖÊ¥æÈÄÅ‰∏ãÂçïÊ∞¥ÊûúÈÖçË¥ßÊâìÂåÖÊ¥æÈÄÅUMLÔºöËø≠‰ª£Âô®Ê®°ÂºèignoreÁ≠ñÁï•Ê®°ÂºèÁ≠ñÁï•Ê®°ÂºèÂÆö‰πâ‰∫ÜÁÆóÊ≥ïÂÆ∂ÊóèÔºåÂàÜÂà´Â∞ÅË£ÖËµ∑Êù•ÔºåËÆ©ÂÆÉ‰ª¨‰πãÈó¥ÂèØ‰ª•‰∫íÁõ∏ÊõøÊç¢„ÄÇÊ≠§Ê®°ÂºèËÆ©ÁÆóÊ≥ïÁöÑÂèòÂåñ‰∏ç‰ºöÂΩ±ÂìçÂà∞‰ΩøÁî®ÁÆóÊ≥ïÁöÑÁî®Êà∑„ÄÇÁ≠ñÁï•Ê®°ÂºèÂ∏∏Áî®‰∫éÊ∂àÈô§Â§ßÈáèÁöÑif else‰ª£Á†Å„ÄÇÈÄÇÁî®Âú∫ÊôØÔºöÁ≥ªÁªüÊúâÂæàÂ§öÁ±ªÔºåÂÆÉ‰ª¨ÁöÑÂå∫Âà´‰ªÖ‰ªÖÂú®‰∫éË°å‰∏∫‰∏çÂêåÔºõ‰∏Ä‰∏™Á≥ªÁªüÈúÄË¶ÅÂä®ÊÄÅÂú∞Âú®Âá†ÁßçÁÆóÊ≥ï‰∏≠ÈÄâÊã©‰∏ÄÁßçÔºõ‰∏æ‰∏™Á≠ñÁï•Ê®°ÂºèÁöÑ‰æãÂ≠êÔºà‰øÉÈîÄÊ¥ªÂä®ÔºâÔºåÂÆö‰πâ‰∏Ä‰∏™‰øÉÈîÄÁ≠ñÁï•Êé•Âè£Ôºö1234public interface PromotionStrategy &#123; void promotion();&#125;ÂÆûÁé∞Á±ª‰πã‰∏ÄÔºàÁ≠ñÁï•‰πã‰∏ÄÔºâÔºåÊª°Âáè‰øÉÈîÄÁ≠ñÁï•Ôºö12345public class FullReductionPromotionStrategy implements PromotionStrategy &#123; public void promotion() &#123; System.out.println("Êª°1000Á´ãÂáè1"); &#125;&#125;ÂÆûÁé∞Á±ª‰πã‰∏ÄÔºàÁ≠ñÁï•‰πã‰∏ÄÔºâÔºåÊâìÊäò‰øÉÈîÄÁ≠ñÁï•Ôºö12345public class DiscountPromotionStrategy implements PromotionStrategy &#123; public void promotion() &#123; System.out.println("9.9ÊäòÈíúÊÉ†"); &#125;&#125;ÂàõÂª∫‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÊµãËØïÔºö12345678910111213141516public class Application &#123; public static void main(String[] args) &#123; // Ê®°ÊãüÂÆ¢Êà∑Á´Ø‰º†ÈÄíÁöÑ‰øÉÈîÄÁ≠ñÁï•key String promotionKey = "fr"; PromotionStrategy strategy; if ("fr".equals(promotionKey)) &#123; strategy = new FullReductionPromotionStrategy(); &#125; else if ("ds".equals(promotionKey)) &#123; strategy = new DiscountPromotionStrategy(); &#125; else &#123; throw new RuntimeException("ÊöÇ‰∏çÊîØÊåÅËØ•‰øÉÈîÄÊ¥ªÂä®"); &#125; strategy.promotion(); &#125;&#125;ËæìÂá∫ÁªìÊûúÔºö1Êª°1000Á´ãÂáè1Á≠ñÁï•Ê®°ÂºèÂ∏∏ÁªìÂêàÂ∑•ÂéÇÊ®°ÂºèÊù•Ê∂àÈô§Â§ßÈáèÁöÑif else‰ª£Á†ÅÔºåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™‰øÉÈîÄÁ≠ñÁï•ÁöÑÂàõÂª∫Â∑•ÂéÇÔºö123456789101112131415161718192021222324public class PromotionStrategyFactory &#123; private static final Map&lt;String, PromotionStrategy&gt; PROMOTION_STRATEGY_MAP = new HashMap&lt;&gt;(); private static final PromotionStrategy NON_PROMOTION = () -&gt; System.out.println("Êó†‰øÉÈîÄÊ¥ªÂä®"); static &#123; PROMOTION_STRATEGY_MAP.put(PromotionKey.FR, new FullReductionPromotionStrategy()); PROMOTION_STRATEGY_MAP.put(PromotionKey.DS, new DiscountPromotionStrategy()); &#125; private PromotionStrategyFactory() &#123; &#125; public static PromotionStrategy getPromotionStrategy(String promotionKey) &#123; PromotionStrategy strategy = PROMOTION_STRATEGY_MAP.get(promotionKey); return strategy == null ? NON_PROMOTION : strategy; &#125; private interface PromotionKey &#123; String FR = "fr"; String DS = "ds"; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáMapÊù•Ë£ÖËΩΩ‰øÉÈîÄÁ≠ñÁï•ÔºåËøôÊ†∑ÂèØ‰ª•ÂáèÂ∞ëÂØπË±°ÁöÑÈáçÂ§çÂàõÂª∫„ÄÇÂ¶ÇÊûú‰∏çÂ∏åÊúõÂú®staticÂùó‰∏≠‰∏ÄÊ¨°ÊÄßÂàùÂßãÂåñÊâÄÊúâ‰øÉÈîÄÁ≠ñÁï•ÔºåÊàë‰ª¨ÂèØ‰ª•ÁªìÂêà‰∫´ÂÖÉÊ®°ÂºèÊù•Êé®ËøüÂØπË±°ÂàõÂª∫ËøáÁ®ã„ÄÇÈÄöËøáËøô‰∏™Â∑•ÂéÇÊñπÊ≥ïÔºå‰∏äÈù¢ÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÂèØ‰ª•ÁÆÄÂÜô‰∏∫Ôºö123456789public class Application &#123; public static void main(String[] args) &#123; // Ê®°ÊãüÂÆ¢Êà∑Á´Ø‰º†ÈÄíÁöÑ‰øÉÈîÄÁ≠ñÁï•key String promotionKey = "fr"; PromotionStrategy promotionStrategy = PromotionStrategyFactory.getPromotionStrategy(promotionKey); promotionStrategy.promotion(); &#125;&#125;Ëß£ÈáäÂô®Ê®°ÂºèÁî®ÁöÑËæÉÂ∞ëÔºåÊöÇ‰∏çËÆ∞ÂΩï„ÄÇËßÇÂØüËÄÖÊ®°ÂºèËßÇÂØüËÄÖÊ®°ÂºèÂÆö‰πâ‰∫ÜÂØπË±°‰πãÈó¥ÁöÑ‰∏ÄÂØπÂ§ö‰æùËµñÔºåËÆ©Â§ö‰∏™ËßÇÂØüËÄÖÂêåÊó∂ÁõëÂê¨Êüê‰∏™‰∏ªÈ¢òÂØπË±°ÔºåÂΩì‰∏ª‰ΩìÂØπË±°ÂèëÁîüÂèòÂåñÊó∂ÔºåÂÆÉÁöÑÊâÄÊúâËßÇÂØüËÄÖÈÉΩ‰ºöÊî∂Âà∞ÂìçÂ∫îÁöÑÈÄöÁü•„ÄÇ‰ºòÁÇπÔºöËßÇÂØüËÄÖÂíåË¢´ËßÇÂØüËÄÖ‰πãÈó¥Âª∫Á´ã‰∏Ä‰∏™ÊäΩË±°ÁöÑËÄ¶ÂêàÔºõËßÇÂØüËÄÖÊ®°ÂºèÊîØÊåÅÂπøÊí≠ÈÄö‰ø°„ÄÇÁº∫ÁÇπÔºöËßÇÂØüËÄÖ‰πãÈó¥ÊúâËøáÂ§öÁöÑÁªÜËäÇ‰æùËµñÔºåÊèêÈ´òÊó∂Èó¥Ê∂àËÄóÂèäÁ®ãÂ∫èÂ§çÊùÇÂ∫¶ÔºõÂ∫îÈÅøÂÖçÂæ™ÁéØË∞ÉÁî®„ÄÇJDKÂØπËßÇÂØüËÄÖÊ®°ÂºèÊèê‰æõ‰∫ÜÊîØÊåÅ„ÄÇ‰∏ãÈù¢‰∏æ‰∏™ËßÇÂØüËÄÖÊ®°ÂºèÁöÑ‰æãÂ≠ê„ÄÇÂàõÂª∫‰∏Ä‰∏™ÂçöÂÆ¢Á±ªÔºö1234567891011121314151617181920212223242526/** * ÁªßÊâø ObservableÁ±ªÔºåBlog‰∏∫Ë¢´ËßÇÂØüÂØπË±° */public class Blog extends Observable &#123; private String title; public Blog(String title) &#123; this.title = title; &#125; public String getTitle() &#123; return title; &#125; public void comment(Comment comment) &#123; System.out.println(comment.getNickname() + "ËØÑËÆ∫‰∫Ü&lt;" + this.title + "&gt; Ôºå" + "ËØÑËÆ∫ÂÜÖÂÆπÔºö" + comment.getValue()); // ËÆæÁΩÆÊ†áËØÜ‰Ωç changed = trueÔºåË°®Á§∫Ë¢´ËßÇÂØüËÄÖÂèëÁîü‰∫ÜÊîπÂèò setChanged(); // ÈÄöÁü•ËßÇÂØüËÄÖÔºåÂèØ‰ª•ÁªôËßÇÂØüËÄÖ‰º†ÈÄíÊï∞ÊçÆ notifyObservers(comment); &#125;&#125;CommentÁ±ª‰ª£Á†ÅÔºö1234567891011121314151617181920212223public class Comment &#123; /** * ËØÑËÆ∫ËÄÖÊòµÁß∞ */ private String nickname; /** * ËØÑËÆ∫ÂÜÖÂÆπ */ private String value; public Comment(String nickname, String value) &#123; this.nickname = nickname; this.value = value; &#125; public String getValue() &#123; return value; &#125; public String getNickname() &#123; return nickname; &#125;&#125;BlogÁ±ªÊòØË¢´ËßÇÂØüËÄÖÂØπË±°ÔºåË¢´ËßÇÂØüËÄÖÂØπË±°ÈúÄË¶ÅÁªßÊâøJDKÁöÑObservableÁ±ªÔºåÁªßÊâøÂêéÔºåË¢´ËßÇÂØüËÄÖÂØπË±°ÂåÖÂê´Â¶Ç‰∏ãÂ±ûÊÄßÂíåÊñπÊ≥ïÔºöËøô‰∫õÊñπÊ≥ïÈÉΩÊòØÁ∫øÁ®ãÂÆâÂÖ®ÊñπÊ≥ïÔºàÂä†‰∫ÜsynchronizedÂêåÊ≠•ÈîÅÔºâ„ÄÇBlogÁöÑcommentÊñπÊ≥ï‰∏≠ÔºåÂΩìÂçöÂÆ¢Êî∂Âà∞ËØÑËÆ∫Êó∂ÔºåÈ¶ñÂÖàË∞ÉÁî®Áà∂Á±ªÁöÑsetChanged()ÊñπÊ≥ïÔºåËÆæÁΩÆÊ†áËØÜ‰Ωç changed = trueÔºåË°®Á§∫Ë¢´ËßÇÂØüËÄÖÂèëÁîü‰∫ÜÊîπÂèòÔºõÁÑ∂ÂêéË∞ÉÁî®Áà∂Á±ªÁöÑnotifyObservers(Object)ÊñπÊ≥ïÈÄöÁü•ÊâÄÊúâËßÇÂØüËÄÖ„ÄÇË¢´ËßÇÂØüËÄÖÂØπË±°ÂàõÂª∫Â•ΩÂêéÔºåÊàë‰ª¨Êé•ÁùÄÂàõÂª∫ËßÇÂØüËÄÖ„ÄÇÊñ∞Âª∫‰∏Ä‰∏™AuthorÁ±ªÔºö1234567891011121314151617181920212223public class Author implements Observer &#123; private String name; public Author(String name) &#123; this.name = name; &#125; /** * ËßÇÂØüËÄÖË¢´ÈÄöÁü•ÂêéÔºåÂ∞±‰ºöË∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ï * * @param o Ë¢´ËßÇÂØüËÄÖÂØπË±° * @param arg Ë¢´ËßÇÂØüËÄÖ‰º†ÈÄíËøáÊù•ÁöÑÊï∞ÊçÆ */ @Override public void update(Observable o, Object arg) &#123; Blog blog = (Blog) o; Comment comment = (Comment) arg; System.out.println("Á≥ªÁªüÊÑüÁü•Âà∞" + this.name + "Êí∞ÂÜôÁöÑÂçöÊñá&lt;" + blog.getTitle() + "&gt;Êî∂Âà∞‰∫Ü" + comment.getNickname() + "ÁöÑËØÑËÆ∫ÔºåËØÑËÆ∫ÂÜÖÂÆπ‰∏∫Ôºö" + comment.getValue()); &#125;&#125;ËßÇÂØüËÄÖÂØπË±°ÈúÄË¶ÅÂÆûÁé∞JDKÁöÑObserverÁ±ªÔºåÈáçÂÜôupdateÊñπÊ≥ï„ÄÇÂΩìË¢´ËßÇÂØüËÄÖÂØπË±°Ë∞ÉÁî®‰∫ÜnotifyObserversÊñπÊ≥ïÂêéÔºåÁõ∏Â∫îÁöÑËßÇÂØüËÄÖÁöÑupdateÊñπÊ≥ï‰ºöË¢´Ë∞ÉÁî®„ÄÇÊñ∞Âª∫‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÊµãËØï‰∏Ä‰∏ãÔºö1234567891011121314public class Application &#123; public static void main(String[] args) &#123; Blog blog = new Blog("Java‰ªéÂÖ•Èó®Âà∞ÊîæÂºÉ"); Author author = new Author("MrBird"); // Ê∑ªÂä†ËßÇÂØüËÄÖ blog.addObserver(author); Comment comment = new Comment("Scott", "ÊÑüË∞¢Ê•º‰∏ªÁöÑÊñáÁ´†ÔºåËÆ©ÊàëÂèäÊó∂ÊîæÂºÉJavaÔºåÂõûÂÆ∂ÁªßÊâø‰∫ÜÂçÉ‰∏áÂÆ∂‰∫ß„ÄÇ"); blog.comment(comment); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12ScottËØÑËÆ∫‰∫Ü&lt;Java‰ªéÂÖ•Èó®Âà∞ÊîæÂºÉ&gt; ÔºåËØÑËÆ∫ÂÜÖÂÆπÔºöÊÑüË∞¢Ê•º‰∏ªÁöÑÊñáÁ´†ÔºåËÆ©ÊàëÂèäÊó∂ÊîæÂºÉJavaÔºåÂõûÂÆ∂ÁªßÊâø‰∫ÜÂçÉ‰∏áÂÆ∂‰∫ß„ÄÇÁ≥ªÁªüÊÑüÁü•Âà∞MrBirdÊí∞ÂÜôÁöÑÂçöÊñá&lt;Java‰ªéÂÖ•Èó®Âà∞ÊîæÂºÉ&gt;Êî∂Âà∞‰∫ÜScottÁöÑËØÑËÆ∫ÔºåËØÑËÆ∫ÂÜÖÂÆπ‰∏∫ÔºöÊÑüË∞¢Ê•º‰∏ªÁöÑÊñáÁ´†ÔºåËÆ©ÊàëÂèäÊó∂ÊîæÂºÉJavaÔºåÂõûÂÆ∂ÁªßÊâø‰∫ÜÂçÉ‰∏áÂÆ∂‰∫ß„ÄÇÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåËßÇÂØüËÄÖÁöÑupdateÊñπÊ≥ïÈáåÁöÑÈÄªËæëÊúÄÂ•ΩËøõË°åÂºÇÊ≠•ÂåñÔºåËøôÊ†∑Âú®Âπ∂ÂèëÁéØÂ¢É‰∏ãÂèØ‰ª•ÊèêÂçáÁ®ãÂ∫èÊÄßËÉΩ„ÄÇÂ§áÂøòÂΩïÊ®°ÂºèÂèÇËÄÉÔºöhttps://www.cnblogs.com/jimoer/p/9537997.html„ÄÇÂëΩ‰ª§Ê®°ÂºèÊöÇ‰∏çËÆ∞ÂΩï„ÄÇ‰∏≠‰ªãËÄÖÊ®°ÂºèÊöÇ‰∏çËÆ∞ÂΩï„ÄÇËÅåË¥£ÈìæÊ®°ÂºèËÅåË¥£ÈìæÊ®°Âºè‰∏∫ËØ∑Ê±ÇÂàõÂª∫‰∏Ä‰∏™Êé•Êî∂Ê≠§Ê¨°ËØ∑Ê±ÇÂØπË±°ÁöÑÈìæ„ÄÇÈÄÇÁî®‰∫éÔºö‰∏Ä‰∏™ËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÈúÄË¶ÅÂ§ö‰∏™ÂØπË±°ÂΩì‰∏≠ÁöÑ‰∏Ä‰∏™ÊàñÂá†‰∏™Âçè‰ΩúÂ§ÑÁêÜÔºõ‰ºòÁÇπÔºöËØ∑Ê±ÇÁöÑÂèëÈÄÅËÄÖÂíåÊé•ÂèóËÄÖÔºàËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÔºâËß£ËÄ¶ÔºõËÅåË¥£ÈìæÂèØ‰ª•Âä®ÊÄÅÁöÑÁªÑÂêà„ÄÇÁº∫ÁÇπÔºöËÅåË¥£ÈìæÂ§™ÈïøÊàñËÄÖÂ§ÑÁêÜÊó∂Èó¥ËøáÈïøÔºåÂΩ±ÂìçÊÄßËÉΩÔºõËÅåË¥£ÈìæÂèØËÉΩËøáÂ§ö„ÄÇ‰∏æ‰∏™Â≠óÁ¨¶‰∏≤Ê†°È™åÁöÑ‰æãÂ≠ê„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Ê†°È™åÊäΩË±°Á±ªÔºö12345678910public abstract class StringValidator &#123; protected StringValidator validator; public void setNextValidator(StringValidator validator) &#123; this.validator = validator; &#125; public abstract void check(String value);&#125;StringValidatorÁ±ªÂåÖÂê´‰∫Ü‰∏Ä‰∏™Ëá™Ë∫´Á±ªÂûãÁöÑÊàêÂëòÂèòÈáèÔºåËøô‰πüÊòØËØ•Ê®°ÂºèÁöÑËÆæËÆ°Ê†∏ÂøÉÔºå‰ª•Ê≠§ÂΩ¢ÊàêÈìæÊù°„ÄÇÂàõÂª∫‰∏Ä‰∏™Ê†°È™åÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÁöÑÁ±ªStringLengthValidatorÔºö12345678910111213public class StringLengthValidator extends StringValidator &#123; @Override public void check(String value) &#123; if (value != null &amp;&amp; value.length() != 0) &#123; System.out.println("Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÂêàÊ≥ï"); if (validator != null) &#123; validator.check(value); &#125; &#125; else &#123; System.out.println("Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶‰∏çÂêàÊ≥ï"); &#125; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÂú®Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶Ê†°È™åÂêàÊ≥ïÂêéÔºåÊàë‰ª¨Âà§Êñ≠Áà∂Á±ªÁöÑvalidatorÂ±ûÊÄßÊòØÂê¶‰∏∫Á©∫Ôºå‰∏ç‰∏∫Á©∫ÂàôË∞ÉÁî®ÂÖ∂checkÊñπÊ≥ïÁªßÁª≠‰∏ã‰∏ÄÊ≠•Ê†°È™å„ÄÇÊé•ÁùÄÂÜçÊñ∞Âª∫‰∏Ä‰∏™Ê†°È™åÂ≠óÁ¨¶‰∏≤ÂÜÖÂÆπÁöÑÁ±ªStringValueValidatorÔºö12345678910111213public class StringValueValidator extends StringValidator &#123; @Override public void check(String value) &#123; if (value.contains("fuck")) &#123; System.out.println("Â≠óÁ¨¶‰∏≤ÂÄº‰∏çÂêàÊ≥ï"); if (validator != null) &#123; validator.check(value); &#125; &#125; else &#123; System.out.println("Â≠óÁ¨¶‰∏≤ÂÄºÂêàÊ≥ï"); &#125; &#125;&#125;Â•óË∑ØÂíåStringLengthValidator‰∏ÄÊ†∑„ÄÇÊé•ÁùÄÂàõÂª∫‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁ±ªÔºåÊºîÁ§∫‰∏ãÂ¶Ç‰ΩïËÆ©Ê†°È™åÁ±ªÂΩ¢Êàê‰∏Ä‰∏™ÈìæÊù°Ôºö12345678910public class Application &#123; public static void main(String[] args) &#123; StringValidator lengthValidator = new StringLengthValidator(); StringValidator valueValidator = new StringValueValidator(); lengthValidator.setNextValidator(valueValidator); lengthValidator.check("hello"); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÈÄöËøáStringValidatorÁöÑsetNextValidatorÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÊåáÂÆö‰∏ã‰∏Ä‰∏™Ê†°È™åÁ±ªÔºå‰ª•Ê≠§ÂΩ¢ÊàêÈìæÊù°ÔºåÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÂêàÊ≥ïÂ≠óÁ¨¶‰∏≤ÂÄºÂêàÊ≥ïËÆøÈóÆËÄÖÊ®°ÂºèÊöÇ‰∏çËÆ∞ÂΩïüåöÁä∂ÊÄÅÊ®°ÂºèÊöÇ‰∏çËÆ∞ÂΩïüåöÂèÇËÄÉËøûÊé•Ôºöhttps://zh.wikipedia.org/wiki/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F_(%E8%AE%A1%E7%AE%97%E6%9C%BA)]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kafka API‰ΩøÁî®]]></title>
    <url>%2FKafka-API%E4%BD%BF%E7%94%A8.html</url>
    <content type="text"><![CDATA[Êú¨ËäÇÊºîÁ§∫Â¶Ç‰ΩïÈÄöËøáJava‰ª£Á†ÅÂàõÂª∫KafkaÁîü‰∫ßËÄÖ„ÄÅÊ∂àË¥πËÄÖÂíåÊã¶Êà™Âô®Ôºå‰æùËµñ‰ΩøÁî®Kafka-clients„ÄÇÂõ†‰∏∫ÊàëÂÆâË£ÖÁöÑKafkaÁâàÊú¨‰∏∫2.4.1ÔºåÊâÄ‰ª•‰æùËµñÁöÑÁâàÊú¨‰πüÁî®2.4.1ÔºåÈÅøÂÖçÂÖºÂÆπÈóÆÈ¢ò„ÄÇÊñ∞Â¢û‰∏Ä‰∏™mavenÈ°πÁõÆÔºåÂºïÂÖ•Ôºö12345&lt;dependency&gt; &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt; &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt; &lt;version&gt;2.4.1&lt;/version&gt;&lt;/dependency&gt;Áîü‰∫ßËÄÖAPIKafka ÁöÑ Producer ÂèëÈÄÅÊ∂àÊÅØÈááÁî®ÁöÑÊòØÂºÇÊ≠•ÂèëÈÄÅÁöÑÊñπÂºè„ÄÇÂú®Ê∂àÊÅØÂèëÈÄÅÁöÑËøáÁ®ã‰∏≠ÔºåÊ∂âÂèäÂà∞‰∫Ü‰∏§‰∏™Á∫øÁ®ã‚Äî‚Äîmain Á∫øÁ®ãÂíå Sender Á∫øÁ®ãÔºå‰ª•Âèä‰∏Ä‰∏™Á∫øÁ®ãÂÖ±‰∫´ÂèòÈáè‚Äî‚ÄîRecordAccumulator„ÄÇmain Á∫øÁ®ãÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÁªô RecordAccumulatorÔºåSender Á∫øÁ®ã‰∏çÊñ≠‰ªé RecordAccumulator ‰∏≠ÊãâÂèñÊ∂àÊÅØÂèëÈÄÅÂà∞ Kafka broker„ÄÇÁÆÄÂçïÂèëÈÄÅÊï∞ÊçÆÂàõÂª∫ProducerDemoÁ±ªÔºåÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁîü‰∫ßËÄÖÔºö123456789101112131415161718192021222324252627282930public class ProducerDemo &#123; public static void main(String[] args) &#123; // 1. Áîü‰∫ßËÄÖÈÖçÁΩÆ Properties properties = new Properties(); // ÊåáÂÆökafkaÂú∞ÂùÄ properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092"); // ÊåáÂÆöackÁ≠âÁ∫ß properties.put(ProducerConfig.ACKS_CONFIG, "all"); // ÊåáÂÆöÈáçËØïÊ¨°Êï∞ÔºåÂç≥Áîü‰∫ßËÄÖÂèëÈÄÅÊï∞ÊçÆÂêéÊ≤°ÊúâÊî∂Âà∞ackÂ∫îÁ≠îÊó∂ÁöÑÈáçËØïÊ¨°Êï∞ properties.put(ProducerConfig.RETRIES_CONFIG, 3); // ÊåáÂÆöÊâπÊ¨°Â§ßÂ∞è 16k = 16 * 1024 properties.put(ProducerConfig.BATCH_SIZE_CONFIG, 16384); // ÊåáÂÆöÁ≠âÂæÖÊó∂Èó¥ÔºåÂçï‰ΩçÊØ´Áßí properties.put(ProducerConfig.LINGER_MS_CONFIG, 1); // ÊåáÂÆöRecordAccumulatorÁºìÂÜ≤Âå∫Â§ßÂ∞è 32m = 32 * 1024 * 1024 properties.put(ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432); // ÊåáÂÆök-vÂ∫èÂàóÂåñËßÑÂàô properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringSerializer"); properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringSerializer"); // 2. ÂàõÂª∫Áîü‰∫ßËÄÖ KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties); // 3. ÂáÜÂ§áÊï∞ÊçÆ ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;("test", "mesage"); // 4. ÂèëÈÄÅÊï∞ÊçÆÔºà‰∏çÂ∏¶ÂõûË∞ÉÔºâ producer.send(record); // 5. ÂÖ≥Èó≠ËøûÊé• producer.close(); &#125;&#125;Êó†ËÆ∫ÊòØÂàõÂª∫Áîü‰∫ßËÄÖËøòÊòØÊ∂àË¥πËÄÖÔºåÊàë‰ª¨ÈÉΩË¶ÅÊåáÂÆöÈÖçÁΩÆ„ÄÇÁîü‰∫ßËÄÖÈÖçÁΩÆÂèØ‰ª•‰ΩøÁî®Â∏∏ÈáèÁ±ªProducerConfigÊåáÂÆöÔºåÈáåÈù¢ÂåÖÂê´‰∫ÜÁîü‰∫ßËÄÖÊâÄÊúâÂèØÁî®ÈÖçÁΩÆÔºåÂπ∂‰∏îÂåÖÂê´ÂØπÂ∫îÁöÑËß£ÈáäÔºö‰∏äÈù¢‰ª£Á†ÅÂàõÂª∫‰∫Ü‰∏Ä‰∏™kvÈÉΩÊòØStringÁ±ªÂûãÁöÑÁîü‰∫ßËÄÖ„ÄÇÈÖçÁΩÆ‰∫ÜKafkaÁöÑÂú∞ÂùÄÔºåackÁ≠âÁ∫ß‰∏∫allÔºàÂú®KafkaÁîü‰∫ßËÄÖ‰∏ÄËäÇ‰∏≠‰ªãÁªçËøá‰∫ÜÔºå‰∏çËµòËø∞ÔºâÔºåÈáçËØïÊ¨°Êï∞‰∏∫3„ÄÇÂπ∂‰∏îÊåáÂÆö‰∫ÜÁîü‰∫ßËÄÖÂèëÈÄÅÊï∞ÊçÆÁöÑÊâπÊ¨°‰∏∫16kÔºåÁ≠âÂæÖÊó∂Èó¥‰∏∫1ms„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåË¶Å‰πàÂèëÈÄÅÁöÑÊï∞ÊçÆÈáèËææÂà∞‰∫Ü16kÔºåË¶Å‰πàÁ≠âÂæÖÊó∂Èó¥Ë∂ÖËøá‰∫Ü1msÊâç‰ºöÁúüÊ≠£Âú∞ÊääÊï∞ÊçÆÂèëÂæÄKafka„ÄÇÊ≠§Â§ñÔºåÊàë‰ª¨ËøòÊåáÂÆöRecordAccumulatorÁºìÂÜ≤Âå∫Â§ßÂ∞èÔºåkvÂ∫èÂàóÂåñËßÑÂàôÈááÁî®StringSerializer„ÄÇKafkaÊ∂àÊÅØ‰ΩøÁî®KafkaProducerÂØπË±°Ë°®Á§∫Ôºå‰ªñÊúâ6‰∏™ÈáçËΩΩÊûÑÈÄ†Âô®ÔºåËøôÂú®KafkaÁîü‰∫ßËÄÖ‰ªãÁªçËøá‰∫ÜÔºåËøôÈáåÊàë‰ª¨ÊåáÂÆö‰∫Ü‰∏ªÈ¢ò‰∏∫testÔºåÊ∂àÊÅØÂÜÖÂÆπ‰∏∫message„ÄÇËøêË°åËøôÊÆµ‰ª£Á†Å‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂêØÂä®zkÂíåkafkaÔºö123456# ÂêØÂä®zksh bin/zookeeper-server-start.sh config/zookeeper.properties# ÂêØÂä®kafka brokersh bin/kafka-server-start.sh config/server.properties# ÂêØÂä®kafkaÊ∂àË¥πËÄÖsh bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic testÁÑ∂ÂêéËøêË°å‰∏äÈù¢ÁöÑÁ®ãÂ∫èÔºåËßÇÂØüÊ∂àË¥πËÄÖËæìÂá∫ÔºöÂ∏¶ÂõûË∞ÉÂáΩÊï∞KafkaProducerÁöÑsendÊñπÊ≥ïÂèØ‰ª•Âà∂ÂÆöÂõûË∞ÉÂáΩÊï∞„ÄÇÂõûË∞ÉÂáΩÊï∞‰ºöÂú® producer Êî∂Âà∞ ack Êó∂Ë∞ÉÁî®Ôºå‰∏∫ÂºÇÊ≠•Ë∞ÉÁî®ÔºåËØ•ÊñπÊ≥ïÊúâ‰∏§‰∏™ÂèÇÊï∞ÔºåÂàÜÂà´ÊòØRecordMetadata Âíå ExceptionÔºåÂ¶ÇÊûú Exception ‰∏∫ nullÔºåËØ¥ÊòéÊ∂àÊÅØÂèëÈÄÅÊàêÂäüÔºåÂ¶ÇÊûúException ‰∏ç‰∏∫ nullÔºåËØ¥ÊòéÊ∂àÊÅØÂèëÈÄÅÂ§±Ë¥•„ÄÇÊîπÈÄ†‰∏äÈù¢ÁöÑsendÊñπÊ≥ïÔºö1234567891011121314151617...// 3. ÂáÜÂ§áÊï∞ÊçÆProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;("test", "callback-test");// 4. ÂèëÈÄÅÊï∞ÊçÆÔºàÂ∏¶ÂõûË∞ÉÔºâproducer.send(record, (metadata, exception) -&gt; &#123; if (exception == null) &#123; // ÂõûË∞ÉÂáΩÊï∞ÔºåËØ•ÊñπÊ≥ï‰ºöÂú® Producer Êî∂Âà∞ ack Êó∂Ë∞ÉÁî®Ôºå‰∏∫ÂºÇÊ≠•Ë∞ÉÁî® String result = String.format("Ê∂àÊÅØÂèëÈÄÅÊàêÂäüÔºå‰∏ªÈ¢òTopic: %s,ÂàÜÂå∫Partition: %s,ÂÅèÁßªÈáèOffset: %s", metadata.topic(), metadata.partition(), metadata.offset()); System.out.println(result); &#125; else &#123; System.out.println("Ê∂àÊÅØÂèëÈÄÅÂ§±Ë¥•"); exception.printStackTrace(); &#125;&#125;);...ËøêË°åËØ•ÊñπÊ≥ïÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö1Ê∂àÊÅØÂèëÈÄÅÊàêÂäüÔºå‰∏ªÈ¢òTopic: test,ÂàÜÂå∫Partition: 0,ÂÅèÁßªÈáèOffset: 4Ê∂àË¥πËÄÖÔºöÂêåÊ≠•ÂèëÈÄÅÂ¶ÇÂâçÈù¢ÊâÄËØ¥ÔºåKafka ÁöÑ Producer ÂèëÈÄÅÊ∂àÊÅØÈááÁî®ÁöÑÊòØÂºÇÊ≠•ÂèëÈÄÅÁöÑÊñπÂºèÔºåKafkaProducerÁöÑsendÊñπÊ≥ïËøîÂõûFutureÂØπË±°ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÊâãÂä®Ë∞ÉÁî®FutureÂØπË±°ÁöÑgetÊñπÊ≥ïÂÆûÁé∞ÂêåÊ≠•Ôºö12345678910111213141516// 3. ÂáÜÂ§áÊï∞ÊçÆProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;("test", "test-sync");// 4. ÂèëÈÄÅÊï∞ÊçÆÔºàÂ∏¶ÂõûË∞ÉÔºâFuture&lt;RecordMetadata&gt; future = producer.send(record, (metadata, exception) -&gt; &#123; if (exception == null) &#123; // ÂõûË∞ÉÂáΩÊï∞ÔºåËØ•ÊñπÊ≥ï‰ºöÂú® Producer Êî∂Âà∞ ack Êó∂Ë∞ÉÁî®Ôºå‰∏∫ÂºÇÊ≠•Ë∞ÉÁî® String result = String.format("Ê∂àÊÅØÂèëÈÄÅÊàêÂäüÔºå‰∏ªÈ¢òTopic: %s,ÂàÜÂå∫Partition: %s,ÂÅèÁßªÈáèOffset: %s", metadata.topic(), metadata.partition(), metadata.offset()); System.out.println(result); &#125; else &#123; System.out.println("Ê∂àÊÅØÂèëÈÄÅÂ§±Ë¥•"); exception.printStackTrace(); &#125;&#125;);future.get();Ëá™ÂÆö‰πâÂàÜÂå∫Âô®Ëá™ÂÆö‰πâÂàÜÂå∫Âô®Âè™ÈúÄË¶ÅË¶ÅÂÆûÁé∞PartitionerÊé•Âè£Ôºö123456789101112131415161718public class MyPartitioner implements Partitioner &#123; @Override public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster) &#123; return 0; &#125; @Override public void close() &#123; &#125; @Override public void configure(Map&lt;String, ?&gt; configs) &#123; &#125;&#125;partitionÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆ‰∏ªÈ¢òtopicÔºåkeyÂÄºÔºåÂ∫èÂàóÂåñÂêéÁöÑkeyÂÄºÔºåvalueÂÄºÔºåÂ∫èÂàóÂåñÂêéÁöÑvalueÂÄºÔºåKafkaÈõÜÁæ§cluster‰ø°ÊÅØÔºåÊù•‰∏™ÊÄßÂåñÂàÜÂå∫ËßÑÂàô„ÄÇË¶Å‰ΩøÁî®Ëá™ÂÆö‰πâÂàÜÂå∫Âô®ÔºåÂèØÈÄöËøáÈÖçÁΩÆÁ±ªÊåáÂÆöÔºö12// ÊåáÂÆöËá™ÂÆö‰πâÂàÜÂå∫Âô®properties.put(ProducerConfig.PARTITIONER_CLASS_CONFIG, MyPartitioner.class);Ê∂àË¥πËÄÖAPIConsumer Ê∂àË¥πÊï∞ÊçÆÊó∂ÁöÑÂèØÈù†ÊÄßÊòØÂæàÂÆπÊòì‰øùËØÅÁöÑÔºåÂõ†‰∏∫Êï∞ÊçÆÂú® Kafka ‰∏≠ÊòØÊåÅ‰πÖÂåñÁöÑÔºåÊïÖ‰∏çÁî®ÊãÖÂøÉÊï∞ÊçÆ‰∏¢Â§±ÈóÆÈ¢ò„ÄÇÁî±‰∫é consumer Âú®Ê∂àË¥πËøáÁ®ã‰∏≠ÂèØËÉΩ‰ºöÂá∫Áé∞Êñ≠ÁîµÂÆïÊú∫Á≠âÊïÖÈöúÔºåconsumer ÊÅ¢Â§çÂêéÔºåÈúÄË¶Å‰ªéÊïÖÈöúÂâçÁöÑ‰ΩçÁΩÆÁöÑÁªßÁª≠Ê∂àË¥πÔºåÊâÄ‰ª• consumer ÈúÄË¶ÅÂÆûÊó∂ËÆ∞ÂΩïËá™Â∑±Ê∂àË¥πÂà∞‰∫ÜÂì™‰∏™ offsetÔºå‰ª•‰æøÊïÖÈöúÊÅ¢Â§çÂêéÁªßÁª≠Ê∂àË¥π„ÄÇÊâÄ‰ª• offset ÁöÑÁª¥Êä§ÊòØ Consumer Ê∂àË¥πÊï∞ÊçÆÊòØÂøÖÈ°ªËÄÉËôëÁöÑÈóÆÈ¢ò„ÄÇËá™Âä®Êèê‰∫§offsetÂàõÂª∫‰∏Ä‰∏™Ê∂àË¥πËÄÖÔºåËá™Âä®Êèê‰∫§offsetÔºåÊºîÁ§∫Ê∂àÊÅØÊ∂àË¥πÔºö1234567891011121314151617181920212223242526272829public class ConsumerDemo &#123; public static void main(String[] args) throws InterruptedException &#123; // 1. Ê∂àË¥πËÄÖÈÖçÁΩÆ Properties properties = new Properties(); properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092"); // Ëá™Âä®Êèê‰∫§offset properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true); // Êèê‰∫§offsetÁöÑÊó∂Èó¥ÔºåÂçï‰ΩçmsÔºåÂç≥1ÁßíÈíüÊèê‰∫§‰∏ÄÊ¨° properties.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, "1000"); // ÊåáÂÆök-vÂèçÂ∫èÂàóÂåñËßÑÂàô properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringDeserializer"); properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringDeserializer"); // ÊåáÂÆöÊ∂àË¥πËÄÖÁªÑ properties.put(ConsumerConfig.GROUP_ID_CONFIG, "my-group"); // 2. ÂàõÂª∫Ê∂àË¥πËÄÖ KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties); // ËÆ¢ÈòÖ‰∏ªÈ¢ò consumer.subscribe(Collections.singletonList("test")); while (true)&#123; // ÊãâÂèñÊï∞ÊçÆÔºåÊåáÂÆöËΩÆËØ¢Êó∂Èó¥‰∏∫1Áßí ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1)); for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) &#123; System.out.println(consumerRecord.toString()); &#125; TimeUnit.SECONDS.sleep(1); &#125; &#125;&#125;ÂêØÂä®Ê∂àË¥πËÄÖÔºåÁÑ∂ÂêéÂÜç‰ΩøÁî®Áîü‰∫ßËÄÖÂèëÈÄÅmrbirdÊ∂àÊÅØÂà∞test‰∏ªÈ¢òÔºåÊ∂àË¥πËÄÖÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö1ConsumerRecord(topic = test, partition = 0, leaderEpoch = 0, offset = 6, CreateTime = 1585811850841, serialized key size = -1, serialized value size = 6, headers = RecordHeaders(headers = [], isReadOnly = false), key = null, value = mrbird)ÊâãÂä®Êèê‰∫§offsetËôΩÁÑ∂Ëá™Âä®Êèê‰∫§ offset ÂçÅÂàÜ‰æøÂà©Ôºå‰ΩÜÁî±‰∫éÂÖ∂ÊòØÂü∫‰∫éÊó∂Èó¥Êèê‰∫§ÁöÑÔºåÂºÄÂèë‰∫∫ÂëòÈöæ‰ª•ÊääÊè° offset Êèê‰∫§ÁöÑÊó∂Êú∫„ÄÇÂõ†Ê≠§ Kafka ËøòÊèê‰æõ‰∫ÜÊâãÂä®Êèê‰∫§ offset ÁöÑ API„ÄÇÊâãÂä®Êèê‰∫§ offset ÁöÑÊñπÊ≥ïÊúâ‰∏§ÁßçÔºöÂàÜÂà´ÊòØ commitSyncÔºàÂêåÊ≠•Êèê‰∫§ÔºâÂíå commitAsyncÔºàÂºÇÊ≠•Êèê‰∫§Ôºâ„ÄÇ‰∏§ËÄÖÁöÑÁõ∏ÂêåÁÇπÊòØÔºåÈÉΩ‰ºöÂ∞ÜÊú¨Ê¨° poll ÁöÑ‰∏ÄÊâπÊï∞ÊçÆÊúÄÈ´òÁöÑÂÅèÁßªÈáèÊèê‰∫§Ôºõ‰∏çÂêåÁÇπÊòØÔºåcommitSync ÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÔºå‰∏ÄÁõ¥Âà∞Êèê‰∫§ÊàêÂäüÔºåÂπ∂‰∏î‰ºöËá™Âä®Â§±Ë¥•ÈáçËØïÔºàÁî±‰∏çÂèØÊéßÂõ†Á¥†ÂØºËá¥Ôºå‰πü‰ºöÂá∫Áé∞Êèê‰∫§Â§±Ë¥•ÔºâÔºõËÄå commitAsync ÂàôÊ≤°ÊúâÂ§±Ë¥•ÈáçËØïÊú∫Âà∂ÔºåÊïÖÊúâÂèØËÉΩÊèê‰∫§Â§±Ë¥•„ÄÇÁî±‰∫éÂêåÊ≠•Êèê‰∫§ offset ÊúâÂ§±Ë¥•ÈáçËØïÊú∫Âà∂ÔºåÊïÖÊõ¥Âä†ÂèØÈù†Ôºå‰ª•‰∏ã‰∏∫ÂêåÊ≠•Êèê‰∫§ offset ÁöÑÁ§∫‰æãÔºö1234567891011121314151617181920212223242526272829public class ConsumerDemo &#123; public static void main(String[] args) throws InterruptedException &#123; // 1. Ê∂àË¥πËÄÖÈÖçÁΩÆ Properties properties = new Properties(); properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092"); // ÂÖ≥Èó≠Ëá™Âä®Êèê‰∫§offset properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false); // ÊåáÂÆök-vÂèçÂ∫èÂàóÂåñËßÑÂàô properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringDeserializer"); properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringDeserializer"); // ÊåáÂÆöÊ∂àË¥πËÄÖÁªÑ properties.put(ConsumerConfig.GROUP_ID_CONFIG, "my-group"); // 2. ÂàõÂª∫Ê∂àË¥πËÄÖ KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties); // ËÆ¢ÈòÖ‰∏ªÈ¢ò consumer.subscribe(Collections.singletonList("test")); while (true) &#123; // ÊãâÂèñÊï∞ÊçÆÔºåÊåáÂÆöËΩÆËØ¢Êó∂Èó¥‰∏∫1Áßí ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1)); for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) &#123; System.out.println(consumerRecord.toString()); &#125; // ÂêåÊ≠•Êèê‰∫§ consumer.commitSync(); TimeUnit.SECONDS.sleep(1); &#125; &#125;&#125;commitSync()‰πüÂèØ‰ª•ÊåáÂÆöË∂ÖÊó∂Êó∂Èó¥„ÄÇËôΩÁÑ∂ÂêåÊ≠•Êèê‰∫§ offset Êõ¥ÂèØÈù†‰∏Ä‰∫õÔºå‰ΩÜÊòØÁî±‰∫éÂÖ∂‰ºöÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÔºåÁõ¥Âà∞Êèê‰∫§ÊàêÂäü„ÄÇÂõ†Ê≠§ÂêûÂêêÈáè‰ºöÊî∂Âà∞ÂæàÂ§ßÁöÑÂΩ±Âìç„ÄÇÊõ¥Â§öÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºöÈÄâÁî®ÂºÇÊ≠•Êèê‰∫§ offset ÁöÑÊñπÂºè„ÄÇ‰ª•‰∏ã‰∏∫ÂºÇÊ≠•Êèê‰∫§ offset ÁöÑÁ§∫‰æãÔºö12345678910111213141516171819202122232425262728293031public class ConsumerDemo &#123; public static void main(String[] args) throws InterruptedException &#123; // 1. Ê∂àË¥πËÄÖÈÖçÁΩÆ Properties properties = new Properties(); properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092"); // ÂÖ≥Èó≠Ëá™Âä®Êèê‰∫§offset properties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false); // Êèê‰∫§offsetÁöÑÊó∂Èó¥ÔºåÂçï‰ΩçmsÔºåÂç≥1ÁßíÈíüÊèê‰∫§‰∏ÄÊ¨° properties.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, "1000"); // ÊåáÂÆök-vÂèçÂ∫èÂàóÂåñËßÑÂàô properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringDeserializer"); properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringDeserializer"); // ÊåáÂÆöÊ∂àË¥πËÄÖÁªÑ properties.put(ConsumerConfig.GROUP_ID_CONFIG, "my-group"); // 2. ÂàõÂª∫Ê∂àË¥πËÄÖ KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties); // ËÆ¢ÈòÖ‰∏ªÈ¢ò consumer.subscribe(Collections.singletonList("test")); while (true)&#123; // ÊãâÂèñÊï∞ÊçÆÔºåÊåáÂÆöËΩÆËØ¢Êó∂Èó¥‰∏∫1Áßí ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1)); for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) &#123; System.out.println(consumerRecord.toString()); &#125; // ÂºÇÊ≠•Êèê‰∫§ consumer.commitAsync(); TimeUnit.SECONDS.sleep(1); &#125; &#125;&#125;commitAsync()ÂèØ‰ª•ÊåáÂÆöÂõûË∞ÉÔºö12345678consumer.commitAsync((offsets, exception) -&gt; &#123; if (exception == null) &#123; System.out.println("Êèê‰∫§offset: " + offsets + "ÊàêÂäü"); &#125; else &#123; System.out.println("Êèê‰∫§Â§±Ë¥•"); exception.printStackTrace(); &#125;&#125;);Êó†ËÆ∫ÊòØÂêåÊ≠•Êèê‰∫§ËøòÊòØÂºÇÊ≠•Êèê‰∫§ offsetÔºåÈÉΩÊúâÂèØËÉΩ‰ºöÈÄ†ÊàêÊï∞ÊçÆÁöÑÊºèÊ∂àË¥πÊàñËÄÖÈáçÂ§çÊ∂àË¥π„ÄÇÂÖàÊèê‰∫§ offset ÂêéÊ∂àË¥πÔºåÊúâÂèØËÉΩÈÄ†ÊàêÊï∞ÊçÆÁöÑÊºèÊ∂àË¥πÔºõËÄåÂÖàÊ∂àË¥πÂêéÊèê‰∫§ offsetÔºåÊúâÂèØËÉΩ‰ºöÈÄ†ÊàêÊï∞ÊçÆÁöÑÈáçÂ§çÊ∂àË¥π„ÄÇÊã¶Êà™Âô®Producer Êã¶Êà™Âô®(interceptor)ÊòØÂú® Kafka 0.10 ÁâàÊú¨Ë¢´ÂºïÂÖ•ÁöÑÔºåinterceptor ‰ΩøÂæóÁî®Êà∑Âú®Ê∂àÊÅØÂèëÈÄÅÂâç‰ª•Âèä producer ÂõûË∞ÉÈÄªËæëÂâçÊúâÊú∫‰ºöÂØπÊ∂àÊÅØÂÅö‰∏Ä‰∫õÂÆöÂà∂ÂåñÈúÄÊ±ÇÔºåÊØîÂ¶Ç‰øÆÊîπÊ∂àÊÅØÁ≠â„ÄÇÂêåÊó∂Ôºåproducer ÂÖÅËÆ∏Áî®Êà∑ÊåáÂÆöÂ§ö‰∏™ interceptorÊåâÈ°∫Â∫èÂΩ¢Êàê‰∏Ä‰∏™Êã¶Êà™Âô®Èìæ(interceptor chain)„ÄÇIntercetpor ÁöÑÂÆûÁé∞Êé•Âè£ÊòØ org.apache.kafka.clients.producer.ProducerInterceptorÔºåÂÖ∂ÂÆö‰πâÁöÑÊñπÊ≥ïÂåÖÊã¨Ôºöconfigure(configs)ÔºöËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØÂíåÂàùÂßãÂåñÊï∞ÊçÆÊó∂Ë∞ÉÁî®ÔºõonSend(ProducerRecord)ÔºöÂú®Ê∂àÊÅØË¢´Â∫èÂàóÂåñ‰ª•ÂèäËÆ°ÁÆóÂàÜÂå∫ÂâçË∞ÉÁî®ËØ•ÊñπÊ≥ï„ÄÇÁî®Êà∑ÂèØ‰ª•Âú®ËØ•ÊñπÊ≥ï‰∏≠ÂØπÊ∂àÊÅØÂÅö‰ªª‰ΩïÊìç‰ΩúÔºå‰ΩÜÊúÄÂ•Ω‰∏çË¶Å‰øÆÊîπÊ∂àÊÅØÊâÄÂ±ûÁöÑ topic ÂíåÂàÜÂå∫ÔºåÂê¶Âàô‰ºöÂΩ±ÂìçÁõÆÊ†áÂàÜÂå∫ÁöÑËÆ°ÁÆóÔºõonAcknowledgement(RecordMetadata, Exception)ÔºöÂú®ËøîÂõûackÊó∂ÔºåÊàñËÄÖÂèëÈÄÅÂ§±Ë¥•Êó∂Ë∞ÉÁî®ËØ•ÊñπÊ≥ï„ÄÇcloseÔºöÂÖ≥Èó≠ interceptorÔºå‰∏ªË¶ÅÁî®‰∫éÊâßË°å‰∏Ä‰∫õËµÑÊ∫êÊ∏ÖÁêÜÂ∑•‰Ωú„ÄÇ‰∏ãÈù¢‰∏æ‰∏™Ëá™ÂÆö‰πâÊã¶Êà™Âô®ÁöÑ‰æãÂ≠êÔºöÂÆö‰πâ‰∏Ä‰∏™Êã¶Êà™Âô®ÈìæÔºåÂåÖÂê´‰∏§‰∏™Êã¶Êà™Âô®MessageFormatInterceptorÂíåCountInterceptorÔºåÂàÜÂà´Áî®‰∫éÊ∂àÊÅØÂä†Â∑•ÂíåÁªüËÆ°Ê∂àÊÅØÂèëÈÄÅÊàêÂäüÂíåÂ§±Ë¥•ÁöÑÁ¨îÊï∞„ÄÇÂÆö‰πâMessageFormatInterceptorÔºö12345678910111213141516171819202122public class MessageFormatInterceptor implements ProducerInterceptor&lt;String, String&gt; &#123; @Override public ProducerRecord&lt;String, String&gt; onSend(ProducerRecord&lt;String, String&gt; record) &#123; return new ProducerRecord&lt;&gt;(record.topic(), record.partition(), record.timestamp(), record.key(), System.currentTimeMillis() + " - " + record.value()); &#125; @Override public void onAcknowledgement(RecordMetadata metadata, Exception exception) &#123; &#125; @Override public void close() &#123; &#125; @Override public void configure(Map&lt;String, ?&gt; configs) &#123; &#125;&#125;ÂÆö‰πâCountInterceptorÔºö123456789101112131415161718192021222324252627282930public class CountInterceptor implements ProducerInterceptor&lt;String, String&gt; &#123; private int errorCounter = 0; private int successCounter = 0; @Override public ProducerRecord&lt;String, String&gt; onSend(ProducerRecord&lt;String, String&gt; record) &#123; return record; &#125; @Override public void onAcknowledgement(RecordMetadata metadata, Exception exception) &#123; if (exception == null) &#123; successCounter++; &#125; else &#123; errorCounter++; &#125; &#125; @Override public void close() &#123; System.out.println("ÊàêÂäüÁ¨îÊï∞: " + successCounter); System.out.println("Â§±Ë¥•Á¨îÊï∞: " + errorCounter); &#125; @Override public void configure(Map&lt;String, ?&gt; configs) &#123; &#125;&#125;ÂÖ∂ÂÆûËøô‰∏§‰∏™ÂäüËÉΩÂÆåÂÖ®ÂèØ‰ª•Áî±‰∏Ä‰∏™ËøáÊª§Âô®Êù•ÂÆåÊàêÔºåËøôÈáå‰ªÖ‰ªÖÊòØ‰∏∫‰∫ÜÊºîÁ§∫ËøáÊª§Âô®Èìæ„ÄÇÂú®Áîü‰∫ßËÄÖÈÖçÁΩÆ‰∏≠ÊåáÂÆöËøô‰∏™ËøáÊª§Âô®ÈìæÔºö12345678910111213141516171819202122232425262728293031323334public class ProducerDemo &#123; public static void main(String[] args) throws ExecutionException, InterruptedException &#123; // 1. Áîü‰∫ßËÄÖÈÖçÁΩÆ Properties properties = new Properties(); // ÊåáÂÆökafkaÂú∞ÂùÄ properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, "localhost:9092"); // ÊåáÂÆöackÁ≠âÁ∫ß properties.put(ProducerConfig.ACKS_CONFIG, "all"); // ÊåáÂÆöÈáçËØïÊ¨°Êï∞ÔºåÂç≥Áîü‰∫ßËÄÖÂèëÈÄÅÊï∞ÊçÆÂêéÊ≤°ÊúâÊî∂Âà∞ackÂ∫îÁ≠îÊó∂ÁöÑÈáçËØïÊ¨°Êï∞ properties.put(ProducerConfig.RETRIES_CONFIG, 3); // ÊåáÂÆöÊâπÊ¨°Â§ßÂ∞è 16k = 16 * 1024 properties.put(ProducerConfig.BATCH_SIZE_CONFIG, 16384); // ÊåáÂÆöÁ≠âÂæÖÊó∂Èó¥ÔºåÂçï‰ΩçÊØ´Áßí properties.put(ProducerConfig.LINGER_MS_CONFIG, 1); // ÊåáÂÆöRecordAccumulatorÁºìÂÜ≤Âå∫Â§ßÂ∞è 32m = 32 * 1024 * 1024 properties.put(ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432); // ÊåáÂÆök-vÂ∫èÂàóÂåñËßÑÂàô properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringSerializer"); properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringSerializer"); // ÊåáÂÆöËøáÊª§Âô®Èìæ properties.put(ProducerConfig.INTERCEPTOR_CLASSES_CONFIG, Arrays.asList("cc.mrbird.kafka.MessageFormatInterceptor", "cc.mrbird.kafka.CountInterceptor")); // 2. ÂàõÂª∫Áîü‰∫ßËÄÖ KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties); // 3. ÂáÜÂ§áÊï∞ÊçÆ ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;("test", "kafka"); // 4. ÂèëÈÄÅÊï∞ÊçÆ producer.send(record); // 5. ÂÖ≥Èó≠ËøûÊé• producer.close(); &#125;&#125;ËøêË°åÁ®ãÂ∫èÔºåÊéßÂà∂Âè∞ËæìÂá∫Ôºö12ÊàêÂäüÁ¨îÊï∞: 1Â§±Ë¥•Á¨îÊï∞: 0Ê∂àË¥πËÄÖÔºö„ÄåÂ∞öÁ°ÖË∞∑Â§ßÊï∞ÊçÆÊäÄÊúØ‰πã Kafka„Äç Â≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KafkaÊ∂àË¥πËÄÖ]]></title>
    <url>%2FKafka%E6%B6%88%E8%B4%B9%E8%80%85.html</url>
    <content type="text"><![CDATA[KafkaÊ∂àË¥πËÄÖÈááÁî®pullÊãâÊ®°Âºè‰ªébroker‰∏≠Ê∂àË¥πÊï∞ÊçÆ„ÄÇ‰∏é‰πãÁõ∏ÂØπÁöÑpushÔºàÊé®ÔºâÊ®°ÂºèÂæàÈöæÈÄÇÂ∫îÊ∂àË¥πÈÄüÁéá‰∏çÂêåÁöÑÊ∂àË¥πËÄÖÔºåÂõ†‰∏∫Ê∂àÊÅØÂèëÈÄÅÈÄüÁéáÊòØÁî± broker ÂÜ≥ÂÆöÁöÑ„ÄÇÂÆÉÁöÑÁõÆÊ†áÊòØÂ∞ΩÂèØËÉΩ‰ª•ÊúÄÂø´ÈÄüÂ∫¶‰º†ÈÄíÊ∂àÊÅØÔºå‰ΩÜÊòØËøôÊ†∑ÂæàÂÆπÊòìÈÄ†Êàê consumer Êù•‰∏çÂèäÂ§ÑÁêÜÊ∂àÊÅØ„ÄÇËÄå pull Ê®°ÂºèÂàôÂèØ‰ª•Ê†πÊçÆ consumer ÁöÑÊ∂àË¥πËÉΩÂäõ‰ª•ÈÄÇÂΩìÁöÑÈÄüÁéáÊ∂àË¥πÊ∂àÊÅØ„ÄÇpull Ê®°Âºè‰∏çË∂≥‰πãÂ§ÑÊòØÔºåÂ¶ÇÊûú kafka Ê≤°ÊúâÊï∞ÊçÆÔºåÊ∂àË¥πËÄÖÂèØËÉΩ‰ºöÈô∑ÂÖ•Âæ™ÁéØ‰∏≠Ôºå‰∏ÄÁõ¥ËøîÂõûÁ©∫Êï∞ÊçÆ„ÄÇÈíàÂØπËøô‰∏ÄÁÇπÔºåKafka ÁöÑÊ∂àË¥πËÄÖÂú®Ê∂àË¥πÊï∞ÊçÆÊó∂‰ºö‰º†ÂÖ•‰∏Ä‰∏™Êó∂ÈïøÂèÇÊï∞ timeoutÔºåÂ¶ÇÊûúÂΩìÂâçÊ≤°ÊúâÊï∞ÊçÆÂèØ‰æõÊ∂àË¥πÔºåconsumer ‰ºöÁ≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥‰πãÂêéÂÜçËøîÂõûÔºåËøôÊÆµÊó∂ÈïøÂç≥‰∏∫ timeout„ÄÇÊ∂àË¥πËÄÖÁªÑÊ∂àË¥πËÄÖÁªÑÔºàconsumer groupÔºâ‰∏éÊ∂àË¥πËÄÖ‰πãÈó¥ÂØÜÂàáÁõ∏ÂÖ≥„ÄÇÂú®Kafka‰∏≠ÔºåÂ§ö‰∏™Ê∂àË¥πËÄÖÂèØ‰ª•ÂÖ±ÂêåÊûÑÊàê‰∏Ä‰∏™Ê∂àË¥πËÄÖÁªÑÔºåËÄå‰∏Ä‰∏™Ê∂àË¥πËÄÖÂè™ËÉΩ‰ªéÂé≤‰∫é‰∏Ä‰∏™Ê∂àË¥πËÄÖÁªÑÔºåÊ∂àË¥πËÄÖÁªÑÊúÄ‰∏∫ÈáçË¶ÅÁöÑ‰∏Ä‰∏™ÂäüËÉΩÊòØÂÆûÁé∞ÂπøÊí≠‰∏éÂçïÊí≠ÁöÑÂäüËÉΩ„ÄÇ‰∏Ä‰∏™Ê∂àË¥πËÄÖÁªÑÂèØ‰ª•Á°Æ‰øùÂÖ∂ÊâÄËÆ¢ÈòÖÁöÑTopicÁöÑÊØè‰∏™ÂàÜÂå∫Âè™ËÉΩË¢´‰ªéÂ±û‰∫éËØ•Ê∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑÂîØ‰∏Ä‰∏Ä‰∏™Ê∂àË¥πËÄÖÊâÄÊ∂àË¥πÔºõÂ¶ÇÊûú‰∏çÂêåÁöÑÊ∂àË¥πËÄÖÁªÑËÆ¢ÈòÖ‰∫ÜÂêå‰∏Ä‰∏™TopicÔºåÈÇ£‰πàËøô‰∫õÊ∂àË¥πËÄÖÁªÑ‰πãÈó¥ÊòØÂΩºÊ≠§Áã¨Á´ãÁöÑÔºå‰∏ç‰ºöÂèóÂà∞Áõ∏‰∫íÁöÑÂπ≤Êâ∞„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûúÊàë‰ª¨Â∏åÊúõ‰∏ÄÊù°Ê∂àÊÄùÂèØ‰ª•Ë¢´Â§ö‰∏™Ê∂àË¥πËÄÖÊâÄÊ∂àË¥πÔºåÈÇ£‰πàÂèØ‰ª•Â∞ÜËøô‰∫õÊ∂àË¥πËÄÖÊîæÂà∞‰∏çÂêåÁöÑÊ∂àË¥πËÄÖÁªÑ‰∏≠ÔºåËøôÂÆûÈôÖ‰∏äÂ∞±ÊòØÂπøÊí≠ÁöÑÊïàÊûúÔºõÂ¶ÇÊûúÂ∏åÊúõ‰∏ÄÊù°Ê∂àÊÅØÂè™ËÉΩË¢´‰∏Ä‰∏™Ê∂àË¥πËÄÖÊâÄÊ∂àË¥πÔºåÈÇ£‰πàÂèØ‰ª•Â∞ÜËøô‰∫õÊ∂àË¥πËÄÖÊîæÂà∞Âêå‰∏Ä‰∏™Ê∂àË¥πËÄÖÁªÑ‰∏≠ÔºåËøôÂÆûÈôÖ‰∏äÂ∞±ÊòØÂçïÊí≠ÁöÑÊïàÊûú„ÄÇÂàÜÂå∫ÂàÜÈÖçÁ≠ñÁï•‰∏Ä‰∏™ consumer group ‰∏≠ÊúâÂ§ö‰∏™ consumerÔºå‰∏Ä‰∏™ topic ÊúâÂ§ö‰∏™ partitionÔºåÊâÄ‰ª•ÂøÖÁÑ∂‰ºöÊ∂âÂèäÂà∞ partition ÁöÑÂàÜÈÖçÈóÆÈ¢òÔºåÂç≥Á°ÆÂÆöÈÇ£‰∏™ partition Áî±Âì™‰∏™ consumer Êù•Ê∂àË¥π„ÄÇKafka Êúâ‰∏§ÁßçÂàÜÈÖçÁ≠ñÁï•Ôºå‰∏ÄÊòØ RoundRobinÔºå‰∏ÄÊòØ Range„ÄÇRoundRobinRoundRobinÂç≥ËΩÆËØ¢ÁöÑÊÑèÊÄùÔºåÊØîÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™‰∏â‰∏™Ê∂àË¥πËÄÖConsumerA„ÄÅConsumerBÂíåConsumerCÁªÑÊàêÁöÑÊ∂àË¥πËÄÖÁªÑÔºåÂêåÊó∂Ê∂àË¥πTopicA‰∏ªÈ¢òÊ∂àÊÅØÔºåTopicAÂàÜ‰∏∫7‰∏™ÂàÜÂå∫ÔºåÂ¶ÇÊûúÈááÁî®RoundRobinÂàÜÈÖçÁ≠ñÁï•ÔºåËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËøôÁßçËΩÆËØ¢ÁöÑÊñπÂºèÂ∫îËØ•ÂæàÂ•ΩÁêÜËß£„ÄÇ‰ΩÜÂ¶ÇÊûúÊ∂àË¥πËÄÖÁªÑÊ∂àË¥πÂ§ö‰∏™‰∏ªÈ¢òÁöÑÂ§ö‰∏™ÂàÜÂå∫Ôºå‰ºöÂèëÁîü‰ªÄ‰πàÊÉÖÂÜµÂë¢ÔºüÊØîÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™‰∏§‰∏™Ê∂àË¥πËÄÖConsumerAÂíåConsumerBÁªÑÊàêÁöÑÊ∂àË¥πËÄÖÁªÑÔºåÂêåÊó∂Ê∂àË¥πTopicAÂíåTopicB‰∏ªÈ¢òÊ∂àÊÅØÔºåÂ¶ÇÊûúÈááÁî®RoundRobinÂàÜÈÖçÁ≠ñÁï•ÔºåËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÊ≥®ÔºöTAP0Ë°®Á§∫TopicA Partition0ÂàÜÂå∫Êï∞ÊçÆÔºå‰ª•Ê≠§Á±ªÊé®„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÈááÁî®RoundRobinÁÆóÊ≥ïÂàÜÈÖçÔºåÂ§ö‰∏™‰∏ªÈ¢ò‰ºöË¢´ÂΩìÂÅö‰∏Ä‰∏™Êï¥‰ΩìÊù•ÁúãÔºåËøô‰∏™Êï¥‰ΩìÂåÖÂê´‰∫ÜÂêÑËá™ÁöÑPartitionÔºåÊØîÂ¶ÇÂú®Kafka-clients‰æùËµñ‰∏≠Ôºå‰∏é‰πãÂØπÂ∫îÁöÑÂØπË±°‰∏∫TopicPartition„ÄÇÊé•ÁùÄÂ∞ÜËøô‰∫õTopicPartitionÊ†πÊçÆÂÖ∂ÂìàÂ∏åÂÄºËøõË°åÊéíÂ∫èÔºåÊéíÂ∫èÂêéÈááÁî®ËΩÆËØ¢ÁöÑÊñπÂºèÂàÜÈÖçÁªôÊ∂àË¥πËÄÖ„ÄÇ‰ΩÜËøô‰ºöÂ∏¶Êù•‰∏Ä‰∏™ÈóÆÈ¢òÔºöÂÅáÂ¶Ç‰∏äÂõæ‰∏≠ÁöÑÊ∂àË¥πËÄÖÁªÑ‰∏≠ÔºåConsumerAÂè™ËÆ¢ÈòÖ‰∫ÜTopicA‰∏ªÈ¢òÔºåConsumerBÂè™ËÆ¢ÈòÖ‰∫ÜTopicB‰∏ªÈ¢òÔºåÈááÁî®RoundRobinËΩÆËØ¢ÁÆóÊ≥ïÂêéÔºåÂèØËÉΩ‰ºöÂá∫Áé∞ConsumerAÊ∂àË¥π‰∫ÜTopicB‰∏ªÈ¢òÂàÜÂå∫ÈáåÁöÑÊ∂àÊÅØÔºåConsumerBÊ∂àË¥π‰∫ÜTopicA‰∏ªÈ¢òÂàÜÂå∫ÈáåÁöÑÊ∂àÊÅØ„ÄÇÁªº‰∏äÊâÄËø∞ÔºåRoundRobinÁÆóÊ≥ïÂè™ÈÄÇÁî®‰∫éÊ∂àË¥πËÄÖÁªÑ‰∏≠Ê∂àË¥πËÄÖËÆ¢ÈòÖÁöÑ‰∏ªÈ¢òÁõ∏ÂêåÁöÑÊÉÖÂÜµ„ÄÇÂêåÊó∂‰ºöÂèëÁé∞ÔºåÈááÁî®RoundRobinÁÆóÊ≥ïÔºåÊ∂àË¥πËÄÖÁªÑÈáåÁöÑÊ∂àË¥πËÄÖ‰πãÈó¥Ê∂àË¥πÁöÑÊ∂àÊÅØ‰∏™Êï∞ÊúÄÂ§öÁõ∏Â∑Æ1‰∏™„ÄÇRangeKafkaÈªòËÆ§ÈááÁî®RangeÂàÜÈÖçÁ≠ñÁï•ÔºåRangeÈ°æÂêçÊÄù‰πâÂ∞±ÊòØÊåâËåÉÂõ¥ÂàíÂàÜÁöÑÊÑèÊÄù„ÄÇÊØîÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™‰∏â‰∏™Ê∂àË¥πËÄÖConsumerA„ÄÅConsumerBÂíåConsumerCÁªÑÊàêÁöÑÊ∂àË¥πËÄÖÁªÑÔºåÂêåÊó∂Ê∂àË¥πTopicA‰∏ªÈ¢òÊ∂àÊÅØÔºåTopicAÂàÜ‰∏∫7‰∏™ÂàÜÂå∫ÔºåÂ¶ÇÊûúÈááÁî®RangeÂàÜÈÖçÁ≠ñÁï•ÔºåËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™‰∏§‰∏™Ê∂àË¥πËÄÖConsumerAÂíåConsumerBÁªÑÊàêÁöÑÊ∂àË¥πËÄÖÁªÑÔºåÂêåÊó∂Ê∂àË¥πTopicAÂíåTopicB‰∏ªÈ¢òÊ∂àÊÅØÔºåÂ¶ÇÊûúÈááÁî®RangeÂàÜÈÖçÁ≠ñÁï•ÔºåËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöRangeÁÆóÊ≥ïÂπ∂‰∏ç‰ºöÊääÂ§ö‰∏™‰∏ªÈ¢òÂàÜÂå∫ÂΩìÊàê‰∏Ä‰∏™Êï¥‰Ωì„ÄÇ‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠êÊàë‰ª¨ÂèØ‰ª•ÊÄªÁªìÂá∫RangeÁÆóÊ≥ïÁöÑ‰∏Ä‰∏™ÂºäÁ´ØÔºöÈÇ£Â∞±ÊòØÂêå‰∏Ä‰∏™Ê∂àË¥πËÄÖÁªÑÂÜÖÁöÑÊ∂àË¥πËÄÖÊ∂àË¥πÁöÑÊ∂àÊÅØÊï∞ÈáèÁõ∏Â∑ÆÂèØËÉΩËæÉÂ§ß„ÄÇoffsetÁª¥Êä§offsetÁî±Ê∂àÊÅØÁöÑ‰∏ªÈ¢òTopic+ÂàÜÂå∫PartitionÂíåÊ∂àË¥πËÄÖÁªÑÂêçÁß∞ÂîØ‰∏ÄÁ°ÆÂÆö„ÄÇÁî±‰∫é consumer Âú®Ê∂àË¥πËøáÁ®ã‰∏≠ÂèØËÉΩ‰ºöÂá∫Áé∞Êñ≠ÁîµÂÆïÊú∫Á≠âÊïÖÈöúÔºåconsumer ÊÅ¢Â§çÂêéÔºåÈúÄË¶Å‰ªéÊïÖ ÈöúÂâçÁöÑ‰ΩçÁΩÆÁöÑÁªßÁª≠Ê∂àË¥πÔºåÊâÄ‰ª• consumer ÈúÄË¶ÅÂÆûÊó∂ËÆ∞ÂΩïËá™Â∑±Ê∂àË¥πÂà∞‰∫ÜÂì™‰∏™ offsetÔºå‰ª•‰æøÊïÖÈöúÊÅ¢ Â§çÂêéÁªßÁª≠Ê∂àË¥π„ÄÇKafka 0.9 ÁâàÊú¨‰πãÂâçÔºåconsumer ÈªòËÆ§Â∞Ü offset ‰øùÂ≠òÂú® Zookeeper ‰∏≠Ôºå‰ªé 0.9 ÁâàÊú¨ÂºÄÂßãÔºå consumer ÈªòËÆ§Â∞Ü offset ‰øùÂ≠òÂú® Kafka ‰∏Ä‰∏™ÂÜÖÁΩÆÁöÑ topic ‰∏≠ÔºåËØ• topic ‰∏∫__consumer_offsets„ÄÇ„ÄåÂ∞öÁ°ÖË∞∑Â§ßÊï∞ÊçÆÊäÄÊúØ‰πã Kafka„Äç Â≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KafkaÁîü‰∫ßËÄÖ]]></title>
    <url>%2FKafka%E7%94%9F%E4%BA%A7%E8%80%85.html</url>
    <content type="text"><![CDATA[KafkaÁîü‰∫ßËÄÖÁî®‰∫éÁîü‰∫ßÊ∂àÊÅØ„ÄÇÈÄöËøáÂâçÈù¢ÁöÑÂÜÖÂÆπÊàë‰ª¨Áü•ÈÅìÔºåKafkaÁöÑtopicÂèØ‰ª•ÊúâÂ§ö‰∏™ÂàÜÂå∫ÔºåÈÇ£‰πàÁîü‰∫ßËÄÖÂ¶Ç‰ΩïÂ∞ÜËøô‰∫õÊï∞ÊçÆÂèØÈù†Âú∞ÂèëÈÄÅÂà∞Ëøô‰∫õÂàÜÂå∫ÔºüÁîü‰∫ßËÄÖÂèëÈÄÅÊï∞ÊçÆÁöÑ‰∏çÂêåÁöÑÂàÜÂå∫ÁöÑ‰æùÊçÆÊòØ‰ªÄ‰πàÔºüÈíàÂØπËøô‰∏§‰∏™ÁñëÈóÆÔºåËøôËäÇÁÆÄÂçïËÆ∞ÂΩï‰∏ã„ÄÇ‰∏∫‰ΩïË¶ÅÂàÜÂå∫Êñπ‰æøÂú®ÈõÜÁæ§‰∏≠Êâ©Â±ïÔºåÊØè‰∏™ÂàÜÂå∫PartitionÂèØ‰ª•ÈÄöËøáË∞ÉÊï¥‰ª•ÈÄÇÂ∫îÂÆÉÊâÄÂú®ÁöÑÊú∫Âô®ÔºåËÄå‰∏Ä‰∏™ topicÂèàÂèØ‰ª•ÊúâÂ§ö‰∏™PartitionÁªÑÊàêÔºåÂõ†Ê≠§Êï¥‰∏™ÈõÜÁæ§Â∞±ÂèØ‰ª•ÈÄÇÂ∫î‰ªªÊÑèÂ§ßÂ∞èÁöÑÊï∞ÊçÆ‰∫ÜÔºõÂèØ‰ª•ÊèêÈ´òÂπ∂ÂèëÔºåÂõ†‰∏∫KafkaÂèØ‰ª•‰ª•Partition‰∏∫Âçï‰ΩçËøõË°åËØªÂÜô„ÄÇÁîü‰∫ßËÄÖÂèëÈÄÅÊï∞ÊçÆÂà∞‰∏çÂêåÂàÜÂå∫ÁöÑ‰æùÊçÆ‰ª•Kafka-clients‰æùËµñ‰∏∫‰æãÔºåÁîü‰∫ßËÄÖÁîü‰∫ßÁöÑÊ∂àÊÅØÈÄöËøáProducerRecordÂØπË±°Ë°®Á§∫ÔºåÂÖ∂ÈáçËΩΩ‰∫Ü6‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÔºö123456public ProducerRecord (String topic, Integer partition, Long timestamp, K key, V value, Iterable&lt;Header&gt; headers)public ProducerRecord (String topic, Integer partition, Long timestamp, K key, V value)public ProducerRecord (String topic, Integer partition, K key, V value, Iterable&lt;Header&gt; headers)public ProducerRecord (String topic, Integer partition, K key, V value)public ProducerRecord (String topic, K key, V value)public ProducerRecord (String topic, V value)ÊåáÊòé partition ÁöÑÊÉÖÂÜµ‰∏ãÔºåÁõ¥Êé•Â∞ÜÊåáÊòéÁöÑÂÄºÁõ¥Êé•‰Ωú‰∏∫ partiton ÂÄºÔºõÊ≤°ÊúâÊåáÊòé partition ÂÄº‰ΩÜÊúâ key ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞Ü key ÁöÑ hash ÂÄº‰∏é topic ÁöÑ partition Êï∞ËøõË°åÂèñ‰ΩôÂæóÂà∞ partition ÂÄº„ÄÇÊâÄ‰ª•ÔºåÂ¶ÇÊûúÂ∏åÊúõÊüêÁªÑÊ∂àÊÅØÂú®KafkaÈõÜÁæ§ÂÖ®Â±ÄÊúâÂ∫èÔºåÂèØ‰ª•ÈÄöËøáÊåáÂÆöÁõ∏ÂêåÁöÑÊ∂àÊÅØkeyÊù•ÂÆûÁé∞ÔºõÊó¢Ê≤°Êúâ partition ÂÄºÂèàÊ≤°Êúâ key ÂÄºÁöÑÊÉÖÂÜµ‰∏ãÔºåÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî®Êó∂ÈöèÊú∫ÁîüÊàê‰∏Ä‰∏™Êï¥Êï∞ÔºàÂêé Èù¢ÊØèÊ¨°Ë∞ÉÁî®Âú®Ëøô‰∏™Êï¥Êï∞‰∏äËá™Â¢ûÔºâÔºåÂ∞ÜËøô‰∏™ÂÄº‰∏é topic ÂèØÁî®ÁöÑ partition ÊÄªÊï∞Âèñ‰ΩôÂæóÂà∞ partition ÂÄºÔºå‰πüÂ∞±ÊòØÂ∏∏ËØ¥ÁöÑ round-robin ÁÆóÊ≥ï„ÄÇÊï∞ÊçÆÂèØÈù†ÊÄßÁöÑ‰øùËØÅÊï∞ÊçÆÂèØÈù†ÊÄßÊåáÁöÑÊòØÔºö producer ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºåËÉΩÂèØÈù†ÁöÑÂèëÈÄÅÂà∞ÊåáÂÆöÁöÑ topic„ÄÇacktopic ÁöÑÊØè‰∏™ partition Êî∂Âà∞ producer ÂèëÈÄÅÁöÑÊï∞ÊçÆÂêéÔºåÈÉΩÈúÄË¶ÅÂêë producer ÂèëÈÄÅ ackÔºàacknowledgement Á°ÆËÆ§Êî∂Âà∞ÔºâÔºåÂ¶ÇÊûú producer Êî∂Âà∞ ackÔºåÂ∞±‰ºöËøõË°å‰∏ã‰∏ÄËΩÆÁöÑÂèëÈÄÅÔºåÂê¶ÂàôÈáçÊñ∞ÂèëÈÄÅÊï∞ÊçÆ„ÄÇÂâØÊú¨ÂêåÊ≠•Á≠ñÁï•‰∏ªË¶ÅÊúâÂ¶Ç‰∏ã‰∏§ÁßçÔºöÁ≠ñÁï•‰ºòÁÇπÁº∫ÁÇπÂçäÊï∞‰ª•‰∏äÂÆåÊàêÂêåÊ≠•ÔºåÂ∞±ÂèëÈÄÅ ackÂª∂Ëøü‰ΩéÈÄâ‰∏æÊñ∞ÁöÑ leader Êó∂ÔºåÂÆπÂøç n Âè∞ËäÇÁÇπÁöÑÊïÖÈöúÔºåÈúÄË¶Å 2n+1 ‰∏™ÂâØÊú¨ÂÖ®ÈÉ®ÂÆåÊàêÂêåÊ≠•ÔºåÊâçÂèëÈÄÅackÈÄâ‰∏æÊñ∞ÁöÑ leader Êó∂ÔºåÂÆπÂøç n Âè∞ËäÇÁÇπÁöÑÊïÖÈöúÔºåÈúÄË¶Å n+1 ‰∏™ÂâØÊú¨Âª∂ËøüÈ´òKafka ÈÄâÊã©‰∫ÜÁ¨¨‰∫åÁßçÊñπÊ°àÔºåÂéüÂõ†Â¶Ç‰∏ãÔºöÂêåÊ†∑‰∏∫‰∫ÜÂÆπÂøç n Âè∞ËäÇÁÇπÁöÑÊïÖÈöúÔºåÁ¨¨‰∏ÄÁßçÊñπÊ°àÈúÄË¶Å 2n+1 ‰∏™ÂâØÊú¨ÔºåËÄåÁ¨¨‰∫åÁßçÊñπÊ°àÂè™ÈúÄË¶Å n+1 ‰∏™ÂâØÊú¨ÔºåËÄå Kafka ÁöÑÊØè‰∏™ÂàÜÂå∫ÈÉΩÊúâÂ§ßÈáèÁöÑÊï∞ÊçÆÔºåÁ¨¨‰∏ÄÁßçÊñπÊ°à‰ºöÈÄ†ÊàêÂ§ßÈáèÊï∞ÊçÆÁöÑÂÜó‰Ωô„ÄÇËôΩÁÑ∂Á¨¨‰∫åÁßçÊñπÊ°àÁöÑÁΩëÁªúÂª∂Ëøü‰ºöÊØîËæÉÈ´òÔºå‰ΩÜÁΩëÁªúÂª∂ËøüÂØπ Kafka ÁöÑÂΩ±ÂìçËæÉÂ∞è„ÄÇÂØπ‰∫éÊüê‰∫õ‰∏çÂ§™ÈáçË¶ÅÁöÑÊï∞ÊçÆÔºåÂØπÊï∞ÊçÆÁöÑÂèØÈù†ÊÄßË¶ÅÊ±Ç‰∏çÊòØÂæàÈ´òÔºåËÉΩÂ§üÂÆπÂøçÊï∞ÊçÆÁöÑÂ∞ëÈáè‰∏¢Â§±Ôºå ÊâÄ‰ª•Ê≤°ÂøÖË¶ÅÁ≠âÊâÄÊúâ follower ÂÖ®ÈÉ®Êé•Êî∂ÊàêÂäüÔºå‰∫éÊòØ Kafka ‰∏∫Áî®Êà∑Êèê‰æõ‰∫Ü‰∏âÁßçÂèØÈù†ÊÄßÁ∫ßÂà´ÔºåÁî®Êà∑Ê†πÊçÆÂØπÂèØÈù†ÊÄßÂíåÂª∂ËøüÁöÑË¶ÅÊ±ÇËøõË°åÊùÉË°°Ôºå ÈÄâÊã©‰ª•‰∏ãÁöÑacks ÂèÇÊï∞ÈÖçÁΩÆÔºö0Ôºöproducer ‰∏çÁ≠âÂæÖ broker ÁöÑ ackÔºåËøô‰∏ÄÊìç‰ΩúÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÊúÄ‰ΩéÁöÑÂª∂ËøüÔºåbroker ‰∏ÄÊé•Êî∂Âà∞Ëøò Ê≤°ÊúâÂÜôÂÖ•Á£ÅÁõòÂ∞±Â∑≤ÁªèËøîÂõûÔºåÂΩì broker ÊïÖÈöúÊó∂ÊúâÂèØËÉΩ‰∏¢Â§±Êï∞ÊçÆÔºõ1Ôºöproducer Á≠âÂæÖ broker ÁöÑ ackÔºåpartition ÁöÑ leader ËêΩÁõòÊàêÂäüÂêéËøîÂõû ackÔºåÂ¶ÇÊûúÂú® follower ÂêåÊ≠•ÊàêÂäü‰πãÂâç leader ÊïÖÈöúÔºåÈÇ£‰πàÂ∞Ü‰ºö‰∏¢Â§±Êï∞ÊçÆÔºõ-1ÔºàallÔºâÔºöproducer Á≠âÂæÖ broker ÁöÑ ackÔºåpartition ÁöÑ leader Âíå follower ÂÖ®ÈÉ®ËêΩÁõòÊàêÂäüÂêéÊâç ËøîÂõû ack„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÂú® follower ÂêåÊ≠•ÂÆåÊàêÂêéÔºåbroker ÂèëÈÄÅ ack ‰πãÂâçÔºåleader ÂèëÁîüÊïÖÈöúÔºåÈÇ£‰πà‰ºöÈÄ†ÊàêÊï∞ÊçÆÈáçÂ§ç„ÄÇISRÁî±‰∫éKafkaÂâØÊú¨ÂêåÊ≠•Á≠ñÁï•ÈÄâÊã©ÁöÑÊòØË°®Ê†º‰∏≠ÁöÑÁ¨¨‰∫åÁßçÔºåÂç≥Á≠âÂæÖÊâÄÊúâfollowerÂâØÊú¨ÂêåÊ≠•ÂÆåÊàêÔºåÊâçÂèëÈÄÅackÔºåÈÇ£‰πàÂ∞±‰ºöÂ∏¶Êù•Â¶Ç‰∏ãÈóÆÈ¢òÔºåËÆæÊÉ≥‰∏ãÔºöleader Êî∂Âà∞Êï∞ÊçÆÔºåÊâÄÊúâ follower ÈÉΩÂºÄÂßãÂêåÊ≠•Êï∞ÊçÆÔºå ‰ΩÜÊúâ‰∏Ä‰∏™ followerÔºåÂõ†‰∏∫ÊüêÁßçÊïÖÈöúÔºåËøüËøü‰∏çËÉΩ‰∏é leader ËøõË°åÂêåÊ≠•ÔºåÈÇ£ leader Â∞±Ë¶Å‰∏ÄÁõ¥Á≠â‰∏ãÂéªÔºå Áõ¥Âà∞ÂÆÉÂÆåÊàêÂêåÊ≠•ÔºåÊâçËÉΩÂèëÈÄÅ ack„ÄÇËøô‰∏™ÈóÆÈ¢òÊÄé‰πàËß£ÂÜ≥Âë¢ÔºüLeader Áª¥Êä§‰∫Ü‰∏Ä‰∏™Âä®ÊÄÅÁöÑ in-sync replica set (ISR)ÔºåÊÑè‰∏∫Âíå leader ‰øùÊåÅÂêåÊ≠•ÁöÑ follower ÈõÜ Âêà„ÄÇÂΩì ISR ‰∏≠ÁöÑ follower ÂÆåÊàêÊï∞ÊçÆÁöÑÂêåÊ≠•‰πãÂêéÔºåleader Â∞±‰ºöÁªô follower ÂèëÈÄÅ ack„ÄÇÂ¶ÇÊûú follower ÈïøÊó∂Èó¥Êú™Âêë leader ÂêåÊ≠•Êï∞ÊçÆ Ôºå ÂàôËØ• follower Â∞ÜË¢´Ë∏¢Âá∫ISR Ôºå ËØ•Êó∂Èó¥ÈòàÂÄºÁî±replica.lag.time.max.msÂèÇÊï∞ËÆæÂÆö„ÄÇLeader ÂèëÁîüÊïÖÈöú‰πãÂêéÔºåÂ∞±‰ºö‰ªé ISR ‰∏≠ÈÄâ‰∏æÊñ∞ÁöÑ leader„ÄÇÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢òÁî±‰∫éÊàë‰ª¨Âπ∂‰∏çËÉΩ‰øùËØÅKafkaÈõÜÁæ§‰∏≠ÊØèÊó∂ÊØèÂàªfollowerÁöÑÈïøÂ∫¶ÈÉΩÂíåleader‰∏ÄËá¥ÔºàÂç≥Êï∞ÊçÆÂêåÊ≠•ÊòØÊúâÊó∂Âª∂ÁöÑÔºâÔºåÈÇ£‰πàÂΩìleaderÊåÇÊéâÈÄâ‰∏æÊüê‰∏™follower‰∏∫Êñ∞ÁöÑleaderÁöÑÊó∂ÂÄôÔºàÂéüÂÖàÊåÇÊéâÁöÑleaderÊÅ¢Â§ç‰∫ÜÊàê‰∏∫‰∫ÜfollowerÔºâÔºåÂèØËÉΩ‰ºöÂá∫Áé∞leaderÁöÑÊï∞ÊçÆÊØîfollowerËøòÂ∞ëÁöÑÊÉÖÂÜµ„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥ËøôÁßçÊï∞ÊçÆÈáè‰∏ç‰∏ÄËá¥Â∏¶Êù•ÁöÑÊ∑∑‰π±ÊÉÖÂÜµÔºåKafkaÊèêÂá∫‰∫Ü‰ª•‰∏ãÊ¶ÇÂøµÔºöLEOÔºàLog End OffsetÔºâÔºöÊåáÁöÑÊòØÊØè‰∏™ÂâØÊú¨ÊúÄÂêé‰∏Ä‰∏™offsetÔºõHWÔºàHigh WatherÔºâÔºöÊåáÁöÑÊòØÊ∂àË¥πËÄÖËÉΩËßÅÂà∞ÁöÑÊúÄÂ§ßÁöÑ offsetÔºåISR ÈòüÂàó‰∏≠ÊúÄÂ∞èÁöÑ LEO„ÄÇÊ∂àË¥πËÄÖÂíåleaderÈÄö‰ø°Êó∂ÔºåÂè™ËÉΩÊ∂àË¥πHW‰πãÂâçÁöÑÊï∞ÊçÆÔºåHW‰πãÂêéÁöÑÊï∞ÊçÆÂØπÊ∂àË¥πËÄÖ‰∏çÂèØËßÅ„ÄÇÈíàÂØπËøô‰∏™ËßÑÂàôÔºöÂΩìfollowerÂèëÁîüÊïÖÈöúÊó∂Ôºöfollower ÂèëÁîüÊïÖÈöúÂêé‰ºöË¢´‰∏¥Êó∂Ë∏¢Âá∫ ISRÔºåÂæÖËØ• follower ÊÅ¢Â§çÂêéÔºåfollower ‰ºöËØªÂèñÊú¨Âú∞Á£ÅÁõòËÆ∞ÂΩïÁöÑ‰∏äÊ¨°ÁöÑ HWÔºåÂπ∂Â∞Ü log Êñá‰ª∂È´ò‰∫é HW ÁöÑÈÉ®ÂàÜÊà™ÂèñÊéâÔºå‰ªé HW ÂºÄÂßãÂêë leader ËøõË°åÂêåÊ≠•„ÄÇÁ≠âËØ• follower ÁöÑ LEO Â§ß‰∫éÁ≠â‰∫éËØ• Partition ÁöÑ HWÔºåÂç≥ follower ËøΩ‰∏ä leader ‰πãÂêéÔºåÂ∞±ÂèØ‰ª•ÈáçÊñ∞Âä†ÂÖ• ISR ‰∫Ü„ÄÇÂΩìleaderÂèëÁîüÊïÖÈöúÊó∂Ôºöleader ÂèëÁîüÊïÖÈöú‰πãÂêéÔºå‰ºö‰ªé ISR ‰∏≠ÈÄâÂá∫‰∏Ä‰∏™Êñ∞ÁöÑ leaderÔºå‰πãÂêéÔºå‰∏∫‰øùËØÅÂ§ö‰∏™ÂâØÊú¨‰πãÈó¥ÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºåÂÖ∂‰ΩôÁöÑ follower ‰ºöÂÖàÂ∞ÜÂêÑËá™ÁöÑ log Êñá‰ª∂È´ò‰∫é HW ÁöÑÈÉ®ÂàÜÊà™ÊéâÔºåÁÑ∂Âêé‰ªéÊñ∞ÁöÑ leader ÂêåÊ≠•Êï∞ÊçÆ„ÄÇÊâÄ‰ª•Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÂπ∂‰∏çËÉΩ‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±ÊàñËÄÖ‰∏çÈáçÂ§çÔºåËøôÊòØÁî±ackÊéßÂà∂ÁöÑ„ÄÇHWËßÑÂàôÂè™ËÉΩ‰øùËØÅÂâØÊú¨‰πãÈó¥ÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºÅExactly OnceÂ∞ÜÊúçÂä°Âô®ÁöÑ ACK Á∫ßÂà´ËÆæÁΩÆ‰∏∫-1ÔºåÂèØ‰ª•‰øùËØÅ Producer Âà∞ Server ‰πãÈó¥‰∏ç‰ºö‰∏¢Â§±Êï∞ÊçÆÔºåÂç≥ At Least Once ËØ≠‰πâ„ÄÇÁõ∏ÂØπÁöÑÔºåÂ∞ÜÊúçÂä°Âô® ACK Á∫ßÂà´ËÆæÁΩÆ‰∏∫ 0ÔºåÂèØ‰ª•‰øùËØÅÁîü‰∫ßËÄÖÊØèÊù°Ê∂àÊÅØÂè™‰ºöË¢´ ÂèëÈÄÅ‰∏ÄÊ¨°ÔºåÂç≥ At Most Once ËØ≠‰πâ„ÄÇAt Least Once ÂèØ‰ª•‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±Ôºå‰ΩÜÊòØ‰∏çËÉΩ‰øùËØÅÊï∞ÊçÆ‰∏çÈáçÂ§çÔºõÁõ∏ÂØπÁöÑÔºåAt Least Once ÂèØ‰ª•‰øùËØÅÊï∞ÊçÆ‰∏çÈáçÂ§çÔºå‰ΩÜÊòØ‰∏çËÉΩ‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±„ÄÇ‰ΩÜÊòØÔºåÂØπ‰∫é‰∏Ä‰∫õÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰ø°ÊÅØÔºåÊØîÂ¶ÇËØ¥ ‰∫§ÊòìÊï∞ÊçÆÔºå‰∏ãÊ∏∏Êï∞ÊçÆÊ∂àË¥πËÄÖË¶ÅÊ±ÇÊï∞ÊçÆÊó¢‰∏çÈáçÂ§ç‰πü‰∏ç‰∏¢Â§±ÔºåÂç≥ Exactly Once ËØ≠‰πâ„ÄÇÂú® 0.11 Áâà Êú¨‰ª•ÂâçÁöÑ KafkaÔºåÂØπÊ≠§ÊòØÊó†ËÉΩ‰∏∫ÂäõÁöÑÔºåÂè™ËÉΩ‰øùËØÅÊï∞ÊçÆ‰∏ç‰∏¢Â§±ÔºåÂÜçÂú®‰∏ãÊ∏∏Ê∂àË¥πËÄÖÂØπÊï∞ÊçÆÂÅöÂÖ®Â±Ä ÂéªÈáç„ÄÇÂØπ‰∫éÂ§ö‰∏™‰∏ãÊ∏∏Â∫îÁî®ÁöÑÊÉÖÂÜµÔºåÊØè‰∏™ÈÉΩÈúÄË¶ÅÂçïÁã¨ÂÅöÂÖ®Â±ÄÂéªÈáçÔºåËøôÂ∞±ÂØπÊÄßËÉΩÈÄ†Êàê‰∫ÜÂæàÂ§ßÂΩ±Âìç„ÄÇ 0.11 ÁâàÊú¨ÁöÑ KafkaÔºåÂºïÂÖ•‰∫Ü‰∏ÄÈ°πÈáçÂ§ßÁâπÊÄßÔºöÂπÇÁ≠âÊÄß„ÄÇÊâÄË∞ìÁöÑÂπÇÁ≠âÊÄßÂ∞±ÊòØÊåá Producer ‰∏çËÆ∫ Âêë Server ÂèëÈÄÅÂ§öÂ∞ëÊ¨°ÈáçÂ§çÊï∞ÊçÆÔºåServer Á´ØÈÉΩÂè™‰ºöÊåÅ‰πÖÂåñ‰∏ÄÊù°„ÄÇÂπÇÁ≠âÊÄßÁªìÂêà At Least Once ËØ≠ ‰πâÔºåÂ∞±ÊûÑÊàê‰∫Ü Kafka ÁöÑ Exactly Once ËØ≠‰πâ„ÄÇÂç≥ÔºöAt Least Once + ÂπÇÁ≠âÊÄß = Exactly OnceË¶ÅÂêØÁî®ÂπÇÁ≠âÊÄßÔºåÂè™ÈúÄË¶ÅÂ∞Ü Producer ÁöÑÂèÇÊï∞‰∏≠ enable.idompotence ËÆæÁΩÆ‰∏∫ true Âç≥ÂèØ„ÄÇKafka ÁöÑÂπÇÁ≠âÊÄßÂÆûÁé∞ÂÖ∂ÂÆûÂ∞±ÊòØÂ∞ÜÂéüÊù•‰∏ãÊ∏∏ÈúÄË¶ÅÂÅöÁöÑÂéªÈáçÊîæÂú®‰∫ÜÊï∞ÊçÆ‰∏äÊ∏∏„ÄÇÂºÄÂêØÂπÇÁ≠âÊÄßÁöÑ Producer Âú® ÂàùÂßãÂåñÁöÑÊó∂ÂÄô‰ºöË¢´ÂàÜÈÖç‰∏Ä‰∏™ PIDÔºåÂèëÂæÄÂêå‰∏Ä Partition ÁöÑÊ∂àÊÅØ‰ºöÈôÑÂ∏¶ Sequence Number„ÄÇËÄå Broker Á´Ø‰ºöÂØπ&lt;PID, Partition, SeqNumber&gt;ÂÅöÁºìÂ≠òÔºåÂΩìÂÖ∑ÊúâÁõ∏Âêå‰∏ªÈîÆÁöÑÊ∂àÊÅØÊèê‰∫§Êó∂ÔºåBroker Âè™ ‰ºöÊåÅ‰πÖÂåñ‰∏ÄÊù°„ÄÇ‰ΩÜÊòØ ProducerÈáçÂêØÂêéÔºåÂÖ∂ PID Â∞±‰ºöÂèòÂåñÔºåÂêåÊó∂‰∏çÂêåÁöÑ Partition ‰πüÂÖ∑Êúâ‰∏çÂêå‰∏ªÈîÆÔºåÊâÄ‰ª•ÂπÇÁ≠âÊÄßÊó†Ê≥ï‰øùËØÅË∑® ÂàÜÂå∫Ë∑®‰ºöËØùÁöÑ Exactly Once„ÄÇÁîü‰∫ßËÄÖ‰∫ãÂä°Kafka ‰ªé 0.11 ÁâàÊú¨ÂºÄÂßãÂºïÂÖ•‰∫Ü‰∫ãÂä°ÊîØÊåÅ„ÄÇ‰∫ãÂä°ÂèØ‰ª•‰øùËØÅ Kafka Âú® Exactly Once ËØ≠‰πâÁöÑÂü∫Á°Ä‰∏äÔºåÁîü‰∫ßÂíåÊ∂àË¥πÂèØ‰ª•Ë∑®ÂàÜÂå∫Âíå‰ºöËØùÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞Ë∑®ÂàÜÂå∫Ë∑®‰ºöËØùÁöÑ‰∫ãÂä°ÔºåÈúÄË¶ÅÂºïÂÖ•‰∏Ä‰∏™ÂÖ®Â±ÄÂîØ‰∏ÄÁöÑ Transaction IDÔºåÂπ∂Â∞Ü ProducerËé∑ÂæóÁöÑPID ÂíåTransaction ID ÁªëÂÆö„ÄÇËøôÊ†∑ÂΩìProducer ÈáçÂêØÂêéÂ∞±ÂèØ‰ª•ÈÄöËøáÊ≠£Âú®ËøõË°åÁöÑ Transaction ID Ëé∑ÂæóÂéüÊù•ÁöÑ PID„ÄÇ‰∏∫‰∫ÜÁÆ°ÁêÜ TransactionÔºåKafka ÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÁªÑ‰ª∂ Transaction Coordinator„ÄÇProducer Â∞±ÊòØÈÄöËøáÂíå Transaction Coordinator ‰∫§‰∫íËé∑Âæó Transaction ID ÂØπÂ∫îÁöÑ‰ªªÂä°Áä∂ÊÄÅ„ÄÇTransaction Coordinator ËøòË¥üË¥£Â∞Ü‰∫ãÂä°ÊâÄÊúâÂÜôÂÖ• Kafka ÁöÑ‰∏Ä‰∏™ÂÜÖÈÉ® TopicÔºåËøôÊ†∑Âç≥‰ΩøÊï¥‰∏™ÊúçÂä°ÈáçÂêØÔºåÁî±‰∫é‰∫ãÂä°Áä∂ÊÄÅÂæóÂà∞‰øùÂ≠òÔºåËøõË°å‰∏≠ÁöÑ‰∫ãÂä°Áä∂ÊÄÅÂèØ‰ª•ÂæóÂà∞ÊÅ¢Â§çÔºå‰ªéËÄåÁªßÁª≠ËøõË°å„ÄÇ„ÄåÂ∞öÁ°ÖË∞∑Â§ßÊï∞ÊçÆÊäÄÊúØ‰πã Kafka„Äç Â≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KafkaÂ≠òÂÇ®Êú∫Âà∂]]></title>
    <url>%2FKafka%E5%AD%98%E5%82%A8%E6%9C%BA%E5%88%B6.html</url>
    <content type="text"><![CDATA[Kafka‰∏≠Ê∂àÊÅØÊòØ‰ª•topicËøõË°åÂàÜÁ±ªÁöÑÔºåÁîü‰∫ßËÄÖÁîü‰∫ßÊ∂àÊÅØÔºåÊ∂àË¥πËÄÖÊ∂àË¥πÊ∂àÊÅØÔºåÈÉΩÊòØÈù¢Âêëtopic„ÄÇtopicÊòØÈÄªËæë‰∏äÁöÑÊ¶ÇÂøµÔºåËÄåpartitionÊòØÁâ©ÁêÜ‰∏äÁöÑÊ¶ÇÂøµÔºåÊØè‰∏™partitionÂØπÂ∫î‰∫é‰∏Ä‰∏™logÊñá‰ª∂ÔºåËØ•logÊñá‰ª∂‰∏≠Â≠òÂÇ®ÁöÑÂ∞±ÊòØproducerÁîü‰∫ßÁöÑÊï∞ÊçÆ„ÄÇProducerÁîü‰∫ßÁöÑÊï∞ÊçÆ‰ºöË¢´‰∏çÊñ≠ËøΩÂä†Âà∞ËØ•logÊñá‰ª∂Êú´Á´ØÔºå‰∏îÊØèÊù°Êï∞ÊçÆÈÉΩÊúâËá™Â∑±ÁöÑoffset„ÄÇÊ∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑÊØè‰∏™Ê∂àË¥πËÄÖÔºåÈÉΩ‰ºöÂÆûÊó∂ËÆ∞ÂΩïËá™Â∑±Ê∂àË¥πÂà∞‰∫ÜÂì™‰∏™offsetÔºå‰ª•‰æøÂá∫ÈîôÊÅ¢Â§çÊó∂Ôºå‰ªé‰∏äÊ¨°ÁöÑ‰ΩçÁΩÆÁªßÁª≠Ê∂àË¥π„ÄÇtopicÊûÑÊàêÂú®Kafka‰∏≠Ôºå‰∏Ä‰∏™topicÂèØ‰ª•ÂàÜ‰∏∫Â§ö‰∏™partitionÔºå‰∏Ä‰∏™partitionÂàÜ‰∏∫Â§ö‰∏™segmentÔºåÊØè‰∏™segmentÂØπÂ∫î‰∏§‰∏™Êñá‰ª∂Ôºö.indexÂíå.logÊñá‰ª∂ÔºöÊ∂àÊÅØÂ≠òÂÇ®ÂéüÁêÜÁî±‰∫éÁîü‰∫ßËÄÖÁîü‰∫ßÁöÑÊ∂àÊÅØ‰ºö‰∏çÊñ≠ËøΩÂä†Âà∞logÊñá‰ª∂Êú´Â∞æÔºå‰∏∫Èò≤Ê≠¢logÊñá‰ª∂ËøáÂ§ßÂØºËá¥Êï∞ÊçÆÂÆö‰ΩçÊïàÁéá‰Ωé‰∏ãÔºåKafkaÈááÂèñ‰∫ÜÂàÜÁâáÂíåÁ¥¢ÂºïÊú∫Âà∂ÔºåÂ∞ÜÊØè‰∏™partitionÂàÜ‰∏∫Â§ö‰∏™segment„ÄÇÂ¶ÇÂâçÈù¢ÊâÄËØ¥ÔºåÊØè‰∏™segmentÂØπÂ∫î.indexÊñá‰ª∂Âíå.logÊñá‰ª∂„ÄÇËøô‰∫õÊñá‰ª∂‰Ωç‰∫é‰∏Ä‰∏™‰ª•ÁâπÂÆöËßÑÂàôÂëΩÂêçÁöÑÊñá‰ª∂Â§π‰∏ãÔºåËØ•Êñá‰ª∂Â§πÁöÑÂëΩÂêç ËßÑÂàô‰∏∫Ôºötopic ÂêçÁß∞ + ÂàÜÂå∫Â∫èÂè∑„ÄÇ‰æãÂ¶ÇÔºåÊàë‰ª¨Âú®‰∏ä‰∏ÄËäÇÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂêçÁß∞‰∏∫testÁöÑtopicÔºåËØ•topicÂè™Êúâ‰∏Ä‰∏™ÂàÜÂå∫ÔºåÊâÄ‰ª•Âú®KafkaÊó•‰ºöÂøóÁõÆÂΩï‰∏ã‰ºöÊúâ‰∏™Âêç‰∏∫test-0ÁöÑÊñá‰ª∂Â§πÔºöËøô‰∫õÊñá‰ª∂ÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºöÁ±ªÂà´‰ΩúÁî®.indexÂÅèÁßªÈáèÁ¥¢ÂºïÊñá‰ª∂ÔºåÂ≠òÂÇ®Êï∞ÊçÆÂØπÂ∫îÁöÑÂÅèÁßªÈáè.timestampÊó∂Èó¥Êà≥Á¥¢ÂºïÊñá‰ª∂.logÊó•ÂøóÊñá‰ª∂ÔºåÂ≠òÂÇ®Áîü‰∫ßËÄÖÁîü‰∫ßÁöÑÊï∞ÊçÆ.snaphotÂø´ÁÖßÊñá‰ª∂Leader-epoch-checkpoint‰øùÂ≠ò‰∫ÜÊØè‰∏Ä‰ªªleaderÂºÄÂßãÂÜôÂÖ•Ê∂àÊÅØÊó∂ÁöÑoffsetÔºå‰ºöÂÆöÊó∂Êõ¥Êñ∞„ÄÇ followerË¢´ÈÄâ‰∏∫leaderÊó∂‰ºöÊ†πÊçÆËøô‰∏™Á°ÆÂÆöÂì™‰∫õÊ∂àÊÅØÂèØÁî®indexÂíålogÊñá‰ª∂‰ª•ÂΩìÂâçsegmentÁöÑÁ¨¨‰∏ÄÊù°Ê∂àÊÅØÁöÑÂÅèÁßªÈáèoffsetÂëΩÂêç„ÄÇÂÅèÁßªÈáèoffsetÊòØ‰∏Ä‰∏™64‰ΩçÁöÑÈïøÊï¥ÂΩ¢Êï∞ÔºåÂõ∫ÂÆöÊòØ20‰ΩçÊï∞Â≠óÔºåÈïøÂ∫¶Êú™ËææÂà∞ÔºåÁî®0ËøõË°åÂ°´Ë°•ÔºåÁ¥¢ÂºïÊñá‰ª∂ÂíåÊó•ÂøóÊñá‰ª∂ÈÉΩÁî±ËØ•‰Ωú‰∏∫Êñá‰ª∂ÂêçÂëΩÂêçËßÑÂàô„ÄÇÊâÄ‰ª•‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂá∫ÔºåÊàë‰ª¨ÁöÑÂÅèÁßªÈáèÊòØ‰ªé0ÂºÄÂßãÁöÑÔºå.indexÂíå.logÊñá‰ª∂ÂêçÁß∞ÈÉΩ‰∏∫00000000000000000000„ÄÇ‰∏äËäÇ‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáÁîü‰∫ßËÄÖÂèëÈÄÅ‰∫ÜhelloÂíåworld‰∏§‰∏™Êï∞ÊçÆÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Êü•Áúã‰∏ã.logÊñá‰ª∂‰∏ãÊòØÂê¶ÊúâËøô‰∏§Êù°Êï∞ÊçÆÔºöÂÜÖÂÆπÂ≠òÂú®‰∏Ä‰∫õ‚Äù‰π±Á†Å‚ÄúÔºåÂõ†‰∏∫Êï∞ÊçÆÊòØÁªèËøáÂ∫èÂàóÂåñÂéãÁº©ÁöÑ„ÄÇÈÇ£‰πàÊï∞ÊçÆÊñá‰ª∂.logÂ§ßÂ∞èÊúâÈôêÂà∂ÂêóÔºåËÉΩ‰øùÂ≠òÂ§ö‰πÖÊó∂Èó¥ÔºüËøô‰∫õÊàë‰ª¨ÈÉΩÂèØ‰ª•ÈÄöËøáKafkaÁõÆÂΩï‰∏ãconf/server.propertiesÈÖçÁΩÆÊñá‰ª∂‰øÆÊîπÔºö12345# logÊñá‰ª∂Â≠òÂÇ®Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫Â∞èÊó∂ÔºåËøôÈáåËÆæÁΩÆ‰∏∫1Âë®log.retention.hours=168# logÊñá‰ª∂Â§ßÂ∞èÁöÑÊúÄÂ§ßÂÄºÔºåËøôÈáå‰∏∫1gÔºåË∂ÖËøáËøô‰∏™ÂÄºÔºåÂàô‰ºöÂàõÂª∫Êñ∞ÁöÑsegmentÔºà‰πüÂ∞±ÊòØÊñ∞ÁöÑ.indexÂíå.logÊñá‰ª∂Ôºâlog.segment.bytes=1073741824ÊØîÂ¶ÇÔºåÂΩìÁîü‰∫ßËÄÖÁîü‰∫ßÊï∞ÊçÆÈáèËæÉÂ§öÔºå‰∏Ä‰∏™segmentÂ≠òÂÇ®‰∏ç‰∏ãËß¶ÂèëÂàÜÁâáÊó∂ÔºåÂú®Êó•ÂøótopicÁõÆÂΩï‰∏ã‰Ω†‰ºöÁúãÂà∞Á±ª‰ººÂ¶Ç‰∏ãÊâÄÁ§∫ÁöÑÊñá‰ª∂Ôºö12345600000000000000000000.index00000000000000000000.log00000000000000170410.index00000000000000170410.log00000000000000239430.index00000000000000239430.log‰∏ãÂõæÂ±ïÁ§∫‰∫ÜKafkaÊü•ÊâæÊï∞ÊçÆÁöÑËøáÁ®ãÔºöÊØîÂ¶ÇÁé∞Âú®Ë¶ÅÊü•ÊâæÂÅèÁßªÈáèoffset‰∏∫3ÁöÑÊ∂àÊÅØÔºåÊ†πÊçÆ.indexÊñá‰ª∂ÂëΩÂêçÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅìÔºåoffset‰∏∫3ÁöÑÁ¥¢ÂºïÂ∫îËØ•‰ªé00000000000000000000.indexÈáåÊü•Êâæ„ÄÇÊ†πÊçÆ‰∏äÂõæÊâÄÁ§∫ÔºåÂÖ∂ÂØπÂ∫îÁöÑÁ¥¢ÂºïÂú∞ÂùÄ‰∏∫756~911ÔºåÊâÄ‰ª•KafkaÂ∞ÜËØªÂèñ00000000000000000000.log 756~911Âå∫Èó¥ÁöÑÊï∞ÊçÆ„ÄÇ„ÄåÂ∞öÁ°ÖË∞∑Â§ßÊï∞ÊçÆÊäÄÊúØ‰πã Kafka„Äç Â≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KafkaÂÖ•Èó®]]></title>
    <url>%2FKafka%E5%85%A5%E9%97%A8.html</url>
    <content type="text"><![CDATA[KafkaÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁöÑÂü∫‰∫éÂèëÂ∏É/ËÆ¢ÈòÖÊ®°ÂºèÁöÑÊ∂àÊÅØÈòüÂàóÔºàMessage QueueÔºâÔºå‰∏ªË¶ÅÂ∫îÁî®‰∫éÂ§ßÊï∞ÊçÆÂÆûÊó∂Â§ÑÁêÜÈ¢ÜÂüü„ÄÇÊ∂àÊÅØÈòüÂàóÊ®°ÂºèÁÇπÂØπÁÇπÊ®°ÂºèÔºà‰∏ÄÂØπ‰∏ÄÔºåÊ∂àË¥πËÄÖ‰∏ªÂä®ÊãâÂèñÊï∞ÊçÆÔºåÊ∂àÊÅØÊî∂Âà∞ÂêéÊ∂àÊÅØÊ∏ÖÈô§Ôºâ„ÄÇÊ∂àÊÅØÁîü‰∫ßËÄÖÁîü‰∫ßÊ∂àÊÅØÂèëÈÄÅÂà∞Queue‰∏≠ÔºåÁÑ∂ÂêéÊ∂àÊÅØÊ∂àË¥πËÄÖ‰ªéQueue‰∏≠ÂèñÂá∫Âπ∂‰∏îÊ∂àË¥πÊ∂àÊÅØ„ÄÇ Ê∂àÊÅØË¢´Ê∂àË¥π‰ª•ÂêéÔºåqueue ‰∏≠‰∏çÂÜçÊúâÂ≠òÂÇ®ÔºåÊâÄ‰ª•Ê∂àÊÅØÊ∂àË¥πËÄÖ‰∏çÂèØËÉΩÊ∂àË¥πÂà∞Â∑≤ÁªèË¢´Ê∂àË¥πÁöÑÊ∂àÊÅØ„ÄÇ Queue ÊîØÊåÅÂ≠òÂú®Â§ö‰∏™Ê∂àË¥πËÄÖÔºå‰ΩÜÊòØÂØπ‰∏Ä‰∏™Ê∂àÊÅØËÄåË®ÄÔºåÂè™‰ºöÊúâ‰∏Ä‰∏™Ê∂àË¥πËÄÖÂèØ‰ª•Ê∂àË¥π„ÄÇÂèëÂ∏É/ËÆ¢ÈòÖÊ®°ÂºèÔºà‰∏ÄÂØπÂ§öÔºåÊ∂àË¥πËÄÖÊ∂àË¥πÊï∞ÊçÆ‰πãÂêé‰∏ç‰ºöÊ∏ÖÈô§Ê∂àÊÅØÔºâ„ÄÇÊ∂àÊÅØÁîü‰∫ßËÄÖÔºàÂèëÂ∏ÉÔºâÂ∞ÜÊ∂àÊÅØÂèëÂ∏ÉÂà∞ topic ‰∏≠ÔºåÂêåÊó∂ÊúâÂ§ö‰∏™Ê∂àÊÅØÊ∂àË¥πËÄÖÔºàËÆ¢ÈòÖÔºâÊ∂àË¥πËØ•Ê∂àÊÅØ„ÄÇÂíåÁÇπÂØπÁÇπÊñπÂºè‰∏çÂêåÔºåÂèëÂ∏ÉÂà∞ topic ÁöÑÊ∂àÊÅØ‰ºöË¢´ÊâÄÊúâËÆ¢ÈòÖËÄÖÊ∂àË¥π„ÄÇKafkaÂ±û‰∫éÁ¨¨2ÁßçÊ®°Âºè„ÄÇKafkaÊû∂ÊûÑProducer ÔºöÊ∂àÊÅØÁîü‰∫ßËÄÖÔºåÂ∞±ÊòØÂêë kafka broker ÂèëÊ∂àÊÅØÁöÑÂÆ¢Êà∑Á´ØÔºõConsumer ÔºöÊ∂àÊÅØÊ∂àË¥πËÄÖÔºåÂêë kafka broker ÂèñÊ∂àÊÅØÁöÑÂÆ¢Êà∑Á´ØÔºõConsumer Group ÔºàCGÔºâÔºöÊ∂àË¥πËÄÖÁªÑÔºåÁî±Â§ö‰∏™ consumer ÁªÑÊàê„ÄÇÊ∂àË¥πËÄÖÁªÑÂÜÖÊØè‰∏™Ê∂àË¥πËÄÖË¥üË¥£Ê∂àË¥π‰∏çÂêåÂàÜÂå∫ÁöÑÊï∞ÊçÆÔºå‰∏Ä‰∏™ÂàÜÂå∫Âè™ËÉΩÁî±Ê∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑ‰∏Ä‰∏™Ê∂àË¥πËÄÖÊ∂àË¥πÔºõÊ∂àË¥πËÄÖÁªÑ‰πãÈó¥‰∫í‰∏çÂΩ±Âìç„ÄÇÊâÄÊúâÁöÑÊ∂àË¥πËÄÖÈÉΩÂ±û‰∫éÊüê‰∏™Ê∂àË¥πËÄÖÁªÑÔºåÂç≥Ê∂àË¥πËÄÖÁªÑÊòØÈÄªËæë‰∏äÁöÑ‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖÔºõBroker Ôºö‰∏ÄÂè∞ kafka ÊúçÂä°Âô®Â∞±ÊòØ‰∏Ä‰∏™ broker„ÄÇ‰∏Ä‰∏™ÈõÜÁæ§Áî±Â§ö‰∏™ broker ÁªÑÊàê„ÄÇ‰∏Ä‰∏™ brokerÂèØ‰ª•ÂÆπÁ∫≥Â§ö‰∏™topicÔºõTopic ÔºöÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ÈòüÂàóÔºåÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÈù¢ÂêëÁöÑÈÉΩÊòØ‰∏Ä‰∏™ topicÔºõPartitionÔºö‰∏∫‰∫ÜÂÆûÁé∞Êâ©Â±ïÊÄßÔºå‰∏Ä‰∏™ÈùûÂ∏∏Â§ßÁöÑ topic ÂèØ‰ª•ÂàÜÂ∏ÉÂà∞Â§ö‰∏™ brokerÔºàÂç≥ÊúçÂä°Âô®Ôºâ‰∏äÔºå‰∏Ä‰∏™ topic ÂèØ‰ª•ÂàÜ‰∏∫Â§ö‰∏™ partitionÔºåÊØè‰∏™ partition ÊòØ‰∏Ä‰∏™ÊúâÂ∫èÁöÑÈòüÂàóÔºõReplicaÔºöÂâØÊú¨Ôºå‰∏∫‰øùËØÅÈõÜÁæ§‰∏≠ÁöÑÊüê‰∏™ËäÇÁÇπÂèëÁîüÊïÖÈöúÊó∂ÔºåËØ•ËäÇÁÇπ‰∏äÁöÑ partition Êï∞ÊçÆ‰∏ç‰∏¢Â§±Ôºå‰∏î kafka ‰ªçÁÑ∂ËÉΩÂ§üÁªßÁª≠Â∑•‰ΩúÔºåkafkaÊèê‰æõ‰∫ÜÂâØÊú¨Êú∫Âà∂Ôºå‰∏Ä‰∏™ topic ÁöÑÊØè‰∏™ÂàÜÂå∫ÈÉΩÊúâËã•Âπ≤‰∏™ÂâØÊú¨Ôºå‰∏Ä‰∏™ leader ÂíåËã•Âπ≤‰∏™ follower„ÄÇleaderÔºöÊØè‰∏™ÂàÜÂå∫Â§ö‰∏™ÂâØÊú¨ÁöÑ‚Äú‰∏ª‚ÄùÔºåÁîü‰∫ßËÄÖÂèëÈÄÅÊï∞ÊçÆÁöÑÂØπË±°Ôºå‰ª•ÂèäÊ∂àË¥πËÄÖÊ∂àË¥πÊï∞ÊçÆÁöÑÂØπË±°ÈÉΩÊòØ leader„ÄÇfollowerÔºöÊØè‰∏™ÂàÜÂå∫Â§ö‰∏™ÂâØÊú¨‰∏≠ÁöÑ‚Äú‰ªé‚ÄùÔºåÂÆûÊó∂‰ªé leader ‰∏≠ÂêåÊ≠•Êï∞ÊçÆÔºå‰øùÊåÅÂíå leader Êï∞ÊçÆÁöÑÂêåÊ≠•„ÄÇleader ÂèëÁîüÊïÖÈöúÊó∂ÔºåÊüê‰∏™ follower ‰ºöÊàê‰∏∫Êñ∞ÁöÑfollower„ÄÇÂØπ‰∫éÊØè‰∏Ä‰∏™topicÔºå KafkaÈõÜÁæ§ÈÉΩ‰ºöÁª¥ÊåÅ‰∏Ä‰∏™ÂàÜÂå∫Êó•ÂøóÔºåÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÊØè‰∏™ÂàÜÂå∫ÈÉΩÊòØÊúâÂ∫è‰∏îÈ°∫Â∫è‰∏çÂèØÂèòÁöÑËÆ∞ÂΩïÈõÜÔºåÂπ∂‰∏î‰∏çÊñ≠Âú∞ËøΩÂä†Âà∞ÁªìÊûÑÂåñÁöÑcommit logÊñá‰ª∂„ÄÇÂàÜÂå∫‰∏≠ÁöÑÊØè‰∏Ä‰∏™ËÆ∞ÂΩïÈÉΩ‰ºöÂàÜÈÖç‰∏Ä‰∏™idÂè∑Êù•Ë°®Á§∫È°∫Â∫èÔºåÊàë‰ª¨Áß∞‰πã‰∏∫offsetÔºåoffsetÁî®Êù•ÂîØ‰∏ÄÁöÑÊ†áËØÜÂàÜÂå∫‰∏≠ÊØè‰∏ÄÊù°ËÆ∞ÂΩï„ÄÇKafkaÊØè‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÊòØ‰∏•Ê†ºÊúâÂ∫èÁöÑÔºå‰ΩÜÂ§öÂàÜÂå∫‰πãÈó¥‰∏çËÉΩÁ°Æ‰øùÊúâÂ∫è„ÄÇÂÆâË£Ö‰∏éÂêØÂä®ÊºîÁ§∫Âú®unixÁéØÂ¢É‰∏ãÂÆâË£Ö‰∏éÂêØÂä®Kafka„ÄÇKafka‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://kafka.apache.org/downloadsÔºåÈÄâÊã©‰∫åËøõÂà∂Êñá‰ª∂‰∏ãËΩΩÔºàBinary downloadsÔºâÔºåÁÑ∂ÂêéËß£ÂéãÂç≥ÂèØ„ÄÇKafkaÁöÑÈÖçÁΩÆÊñá‰ª∂‰Ωç‰∫éconfigÁõÆÂΩï‰∏ãÔºåÂõ†‰∏∫KafkaÈõÜÊàê‰∫ÜZookeeperÔºåÊâÄ‰ª•configÁõÆÂΩï‰∏ãÈô§‰∫ÜÊúâKafkaÁöÑÈÖçÁΩÆÊñá‰ª∂server.propertiesÂ§ñÔºåËøòÂèØ‰ª•ÁúãÂà∞‰∏Ä‰∏™ZookeeperÈÖçÁΩÆÊñá‰ª∂zookeeper.properties„ÄÇÂú®ÂêØÂä®KafkaÂíåZookeeper‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂú®KafkaËß£ÂéãÁõÆÂΩï‰∏ãÂàõÂª∫Â¶Ç‰∏ã‰∏§‰∏™Êó•ÂøóÁõÆÂΩïÔºö1mkdir /Users/mrbird/software/kafka_2.4.1/logs/kafka-logs mkdir /Users/mrbird/software/kafka_2.4.1/logs/zk-logsÂàÜÂà´Áî®‰∫éÂ≠òÊîæKafkaÂíåZookeeperÊó•Âøó„ÄÇ‰øÆÊîπconfig/zookeeper.propertiesÔºö‰øÆÊîπconfig/server.properties server.propertiesÊõ¥Â§öÂèØÁî®ÈÖçÁΩÆÂèäÂê´‰πâÂ¶Ç‰∏ãÔºö1234567891011121314151617181920#broker ÁöÑÂÖ®Â±ÄÂîØ‰∏ÄÁºñÂè∑Ôºå‰∏çËÉΩÈáçÂ§çbroker.id=0#Âà†Èô§ topic ÂäüËÉΩ‰ΩøËÉΩdelete.topic.enable=true#Â§ÑÁêÜÁΩëÁªúËØ∑Ê±ÇÁöÑÁ∫øÁ®ãÊï∞Èáènum.network.threads=3#Áî®Êù•Â§ÑÁêÜÁ£ÅÁõò IO ÁöÑÁé∞ÊàêÊï∞Èáènum.io.threads=8#ÂèëÈÄÅÂ•óÊé•Â≠óÁöÑÁºìÂÜ≤Âå∫Â§ßÂ∞èsocket.send.buffer.bytes=102400#Êé•Êî∂Â•óÊé•Â≠óÁöÑÁºìÂÜ≤Âå∫Â§ßÂ∞èsocket.receive.buffer.bytes=102400#ËØ∑Ê±ÇÂ•óÊé•Â≠óÁöÑÁºìÂÜ≤Âå∫Â§ßÂ∞èsocket.request.max.bytes=104857600#topic Âú®ÂΩìÂâç broker ‰∏äÁöÑÂàÜÂå∫‰∏™Êï∞num.partitions=1#Áî®Êù•ÊÅ¢Â§çÂíåÊ∏ÖÁêÜ data ‰∏ãÊï∞ÊçÆÁöÑÁ∫øÁ®ãÊï∞Èáènum.recovery.threads.per.data.dir=1#segment Êñá‰ª∂‰øùÁïôÁöÑÊúÄÈïøÊó∂Èó¥ÔºåË∂ÖÊó∂Â∞ÜË¢´Âà†Èô§log.retention.hours=168‰øÆÊîπÂ•ΩÂêéÔºåÊàë‰ª¨‰æøÂèØ‰ª•ÂêØÂä®Kafka‰∫Ü„ÄÇ1.ÂêØÂä®Zookeeper1sh bin/zookeeper-server-start.sh config/zookeeper.propertiesÂ¶ÇÊûúË¶ÅÂú®ÂêéÂè∞ÂêØÂä®ZookeeperÔºåÂàôÂèØ‰ª•‰ΩøÁî®Ôºö1sh bin/zookeeper-server-start.sh -daemon config/zookeeper.properties2.ÂêØÂä®Kafka1sh bin/kafka-server-start.sh config/server.properties3.ÂàõÂª∫topic1sh bin/kafka-topics.sh --zookeeper localhost:2181 --create --replication-factor 1 --partitions 1 --topic test‚Äìcreate ÂàõÂª∫‚Äìtopic ÊåáÂÆö topic Âêç‚Äìreplication-factor ÂÆö‰πâÂâØÊú¨Êï∞‚Äìpartitions ÂÆö‰πâÂàÜÂå∫Êï∞‰∏äÈù¢ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂêçÁß∞‰∏∫testÁöÑtopicÔºåÂâØÊú¨Êï∞ÂíåÂàÜÂå∫Êï∞ÈÉΩÊòØ1„ÄÇ4.ÂêØÂä®Áîü‰∫ßËÄÖ1sh bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test9092‰∏∫Áîü‰∫ßËÄÖÁöÑÈªòËÆ§Á´ØÂè£Âè∑ÔºåÊåáÂÆötopic‰∏∫ÂàöÂàöÂàõÂª∫ÁöÑtest„ÄÇ5.ÂêØÂä®Ê∂àË¥πËÄÖ1sh bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning‚Äìfrom-beginningÔºö‰ºöÊää‰∏ªÈ¢ò‰∏≠‰ª•ÂæÄÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩËØªÂèñÂá∫Êù•„ÄÇÂêØÂä®Â•ΩÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÂêéÊàë‰ª¨Âú®Áîü‰∫ßËÄÖÈáåÁîü‰∫ßÂá†Êù°Êï∞ÊçÆ:Ê∂àË¥πËÄÖÊàêÂäüÊé•Êî∂Âà∞Êï∞ÊçÆÔºöÂ∏∏Áî®ÂëΩ‰ª§Êü•ÁúãÂΩìÂâçÊúçÂä°Âô®‰∏≠ÁöÑÊâÄÊúâ topicÔºö1sh bin/kafka-topics.sh --zookeeper localhsot:2181 --listÂà†Èô§ topicÔºö1sh bin/kafka-topics.sh --zookeeper localhost:2181 --delete --topic testÈúÄË¶Å server.properties ‰∏≠ËÆæÁΩÆdelete.topic.enable=trueÂê¶ÂàôÂè™ÊòØÊ†áËÆ∞Âà†Èô§„ÄÇÊü•ÁúãÊüê‰∏™ Topic ÁöÑËØ¶ÊÉÖÔºö1sh bin/kafka-topics.sh --zookeeper localhost:2181 --describe --topic test‰øÆÊîπÂàÜÂå∫Êï∞Ôºö1sh bin/kafka-topics.sh --zookeeper localhost:2181 --alter --topic test --partitions 2ZKÁöÑ‰ΩúÁî®Kafka ÈõÜÁæ§‰∏≠Êúâ‰∏Ä‰∏™ broker ‰ºöË¢´ÈÄâ‰∏æ‰∏∫ ControllerÔºåË¥üË¥£ÁÆ°ÁêÜÈõÜÁæ§ broker ÁöÑ‰∏ä‰∏ãÁ∫øÔºåÊâÄÊúâ topic ÁöÑÂàÜÂå∫ÂâØÊú¨ÂàÜÈÖçÂíå leader ÈÄâ‰∏æÁ≠âÂ∑•‰Ωú„ÄÇController ÁöÑÁÆ°ÁêÜÂ∑•‰ΩúÈÉΩÊòØ‰æùËµñ‰∫é Zookeeper ÁöÑ„ÄÇ„ÄåÂ∞öÁ°ÖË∞∑Â§ßÊï∞ÊçÆÊäÄÊúØ‰πã Kafka„Äç Â≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud Alibaba Sentinel @SentinelResource]]></title>
    <url>%2FSpring-Cloud-Alibaba-Sentinel-SentinelResource.html</url>
    <content type="text"><![CDATA[SentinelÊèê‰æõ‰∫Ü@SentinelResourceÊ≥®Ëß£Áî®‰∫éÂÆö‰πâËµÑÊ∫êÔºåÂπ∂Êèê‰æõÂèØÈÄâÁöÑÂºÇÂ∏∏ÂõûÈÄÄÂíåBlockÂõûÈÄÄ„ÄÇÂºÇÂ∏∏ÂõûÈÄÄÊåáÁöÑÊòØ@SentinelResourceÊ≥®Ëß£Ê†áÊ≥®ÁöÑÊñπÊ≥ïÂèëÁîüJavaÂºÇÂ∏∏Êó∂ÁöÑÂõûÈÄÄÂ§ÑÁêÜÔºõBlockÂõûÈÄÄÊåáÁöÑÊòØÂΩì@SentinelResourceËµÑÊ∫êËÆøÈóÆ‰∏çÁ¨¶ÂêàSentinelÊéßÂà∂Âè∞ÂÆö‰πâÁöÑËßÑÂàôÊó∂ÁöÑÂõûÈÄÄÔºàÈªòËÆ§ËøîÂõûBlocked by Sentinel (flow limiting)Ôºâ„ÄÇËøôËäÇÁÆÄÂçïËÆ∞ÂΩï‰∏ãËØ•Ê≥®Ëß£ÁöÑÁî®Ê≥ï„ÄÇÊ°ÜÊû∂Êê≠Âª∫‰ΩøÁî®IDEAÂàõÂª∫‰∏Ä‰∏™mavenÈ°πÁõÆÔºåartifactId‰∏∫spring-cloud-alibaba-sentinelresourceÔºåÁÑ∂ÂêéÂú®ÂÖ∂‰∏ãÈù¢ÂàõÂª∫‰∏§‰∏™ModuleÔºàSpring BootÈ°πÁõÆÔºâÔºåartifactIdÂàÜÂà´‰∏∫consumerÂíåproviderÔºåÂÖÖÂΩìÊúçÂä°Ê∂àË¥πÁ´ØÂíåÊúçÂä°Êèê‰æõÁ´ØÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºöspring-cloud-alibaba-sentinelresourceÁöÑpomÂÜÖÂÆπÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-sentinelresource&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.3.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;modules&gt; &lt;module&gt;provider&lt;/module&gt; &lt;module&gt;consumer&lt;/module&gt; &lt;/modules&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;spring-cloud.version&gt;Hoxton.SR3&lt;/spring-cloud.version&gt; &lt;com-alibaba-cloud.version&gt;2.2.0.RELEASE&lt;/com-alibaba-cloud.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-nacos-discovery&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;com-alibaba-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt;&lt;/project&gt;ÂºïÂÖ•‰∫Üspring-boot-starter-webÂíåspring-cloud-alibaba-nacos-discovery NacosÊúçÂä°Ê≥®ÂÜåÂèëÁé∞‰æùËµñ„ÄÇproviderÁöÑpomÁöÑÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-sentinelresource&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt; &lt;/parent&gt; &lt;artifactId&gt;provider&lt;/artifactId&gt; &lt;name&gt;provider&lt;/name&gt; &lt;description&gt;ÊúçÂä°Êèê‰æõËÄÖ&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;consumerÁöÑpomÂÜÖÂÆπÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-sentinelresource&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt; &lt;/parent&gt; &lt;artifactId&gt;consumer&lt;/artifactId&gt; &lt;name&gt;consumer&lt;/name&gt; &lt;description&gt;ÊúçÂä°Ê∂àË¥πËÄÖ&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-alibaba-sentinel&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;Âõ†‰∏∫Ë¶ÅÊºîÁ§∫Âú®Ê∂àË¥πÁ´Ø‰ΩøÁî®@SentinelResourceÊ≥®Ëß£ÔºåÊâÄ‰ª•Êàë‰ª¨ÂºïÂÖ•‰∫Üspring-cloud-starter-alibaba-sentinel‰æùËµñ„ÄÇproviderÁöÑÈÖçÁΩÆÊñá‰ª∂application.ymlÂÜÖÂÆπÂ¶Ç‰∏ãÔºö12345678server: port: 8081spring: application: name: provider cloud: nacos: server-addr: localhost:8848ÈÖçÁΩÆ‰∫ÜÁ´ØÂè£Âè∑ÔºåÊúçÂä°ÂêçÂíånacosÂú∞ÂùÄ„ÄÇconsumerÁöÑÈÖçÁΩÆÊñá‰ª∂application.ymlÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123456789101112server: port: 9091spring: application: name: consumer cloud: nacos: server-addr: localhost:8848 sentinel: transport: dashboard: localhost:8080 port: 8719ÈÖçÁΩÆ‰∫ÜÁ´ØÂè£Âè∑ÔºåÊúçÂä°ÂêçÔºånacosÂú∞ÂùÄÂíåsentinelÊéßÂà∂Âè∞Âú∞ÂùÄÁ≠â„ÄÇÂü∫Êú¨Áî®Ê≥ïÊàë‰ª¨Âú®provider‰∏ãÊ∑ªÂä†‰∏Ä‰∏™RESTËµÑÊ∫ê„ÄÇÂú®providerÁöÑcc.mrbird.providerÁõÆÂΩï‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫GoodsControllerÔºö123456789@RestController@RequestMapping("goods")public class GoodsController &#123; @GetMapping("buy/&#123;name&#125;/&#123;count&#125;") public String buy(@PathVariable String name, @PathVariable Integer count) &#123; return String.format("Ë¥≠‰π∞%d‰ªΩ%s", count, name); &#125;&#125;Êé•ÁùÄÂú®consumerÁ´ØÈÄöËøáRibbonÊ∂àË¥πËøô‰∏™ËµÑÊ∫ê„ÄÇÂú®consumerÁöÑÂêØÂä®Á±ªConsumerApplicationÈáåÊ≥®ÂÜåRestTemplateÔºö12345678910111213@SpringBootApplicationpublic class ConsumerApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ConsumerApplication.class, args); &#125; @Bean @LoadBalanced public RestTemplate restTemplate()&#123; return new RestTemplate(); &#125;&#125;Âú®consumerÁöÑcc.mrbird.consumer‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫BuyControllerÔºö12345678910111213141516171819202122232425262728293031@RestControllerpublic class BuyController &#123; @Autowired private RestTemplate restTemplate; @GetMapping("buy/&#123;name&#125;/&#123;count&#125;") @SentinelResource(value = "buy", fallback = "buyFallback", blockHandler = "buyBlock") public String buy(@PathVariable String name, @PathVariable Integer count) &#123; if (count &gt;= 20) &#123; throw new IllegalArgumentException("Ë¥≠‰π∞Êï∞ÈáèËøáÂ§ö"); &#125; if ("miband".equalsIgnoreCase(name)) &#123; throw new NullPointerException("Â∑≤ÂîÆÁΩÑ"); &#125; Map&lt;String, Object&gt; params = new HashMap&lt;&gt;(2); params.put("name", name); params.put("count", count); return this.restTemplate.getForEntity("http://provider/goods/buy/&#123;name&#125;/&#123;count&#125;", String.class, params).getBody(); &#125; // ÂºÇÂ∏∏ÂõûÈÄÄ public String buyFallback(@PathVariable String name, @PathVariable Integer count, Throwable throwable) &#123; return String.format("„ÄêËøõÂÖ•fallbackÊñπÊ≥ï„ÄëË¥≠‰π∞%d‰ªΩ%sÂ§±Ë¥•Ôºå%s", count, name, throwable.getMessage()); &#125; // sentinelÂõûÈÄÄ public String buyBlock(@PathVariable String name, @PathVariable Integer count, BlockException e) &#123; return String.format("„ÄêËøõÂÖ•blockHandlerÊñπÊ≥ï„ÄëË¥≠‰π∞%d‰ªΩ%sÂ§±Ë¥•ÔºåÂΩìÂâçË¥≠‰π∞‰∫∫Êï∞ËøáÂ§öÔºåËØ∑Á®çÂêéÂÜçËØï", count, name); &#125;&#125;Âú®buyÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáRibbonÁöÑRestTemplateËÆøÈóÆproviderÁöÑ/goods/buyÊé•Âè£„ÄÇÂΩìcountÂèÇÊï∞Â§ß‰∫é20ÊàñËÄÖnameÂèÇÊï∞ÁöÑÂÄº‰∏∫mibandÁöÑÊó∂ÂÄôÔºåÊñπÊ≥ïÂ∞ÜÊäõÂá∫ÂºÇÂ∏∏„ÄÇbuyÊñπÊ≥ï‰∏ä‰ΩøÁî®@SentinelResourceÊ≥®Ëß£Ê†áÊ≥®ÔºåÊ†áËØÜ‰∏∫‰∏Ä‰∏™sentinelËµÑÊ∫êÔºåËµÑÊ∫êÂêçÁß∞‰∏∫buyÔºåÂπ∂‰∏îÈÖçÁΩÆ‰∫ÜfallbackÊñπÊ≥ïÂíåblockHandlerÊñπÊ≥ï„ÄÇÂ¶ÇÂâçÈù¢ÊâÄËØ¥ÔºåÂΩìbuyÊñπÊ≥ïÊú¨Ë∫´ÊäõÂá∫ÂºÇÂ∏∏Êó∂Ôºå‰ºöËøõÂÖ•fallbackÊåáÂÆöÁöÑÂõûÈÄÄÊñπÊ≥ï‰∏≠ÔºõÂΩìbuyÊñπÊ≥ïË∞ÉÁî®‰∏çÁ¨¶ÂêàsentinelÊéßÂà∂Âè∞ËßÑÂÆöÁöÑËßÑÂàôÔºàÂ¶ÇÊµÅÊéßËßÑÂàôÔºåÈôçÁ∫ßËßÑÂàôÁ≠âÔºâÊó∂Ôºå‰ºöËøõÂÖ•blockHanderÊåáÂÆöÁöÑblockÊñπÊ≥ï‰∏≠„ÄÇ‰∏∫‰∫ÜÁ°Æ‰øùÊàêÂäüÂú∞ËøõÂÖ•ÂõûÈÄÄÊñπÊ≥ïÔºàÊàêÂäüÂèçÂ∞ÑÔºâÔºåÂÆÉ‰ª¨ÂøÖÈ°ªÊª°Ë∂≥‰ª•‰∏ãËßÑÂàôÔºöÂáΩÊï∞ËÆøÈóÆËåÉÂõ¥ÈúÄË¶ÅÊòØpublicÔºõFallbackÂáΩÊï∞ÔºåÂáΩÊï∞Á≠æÂêç‰∏éÂéüÂáΩÊï∞‰∏ÄËá¥ÊàñÊú´Â∞æÂä†‰∏Ä‰∏™ThrowableÁ±ªÂûãÁöÑÂèÇÊï∞ÔºõBlockÂºÇÂ∏∏Â§ÑÁêÜÂáΩÊï∞ÔºåÂèÇÊï∞ÊúÄÂêéÂ§ö‰∏Ä‰∏™BlockExceptionÔºåÂÖ∂‰Ωô‰∏éÂéüÂáΩÊï∞‰∏ÄËá¥„ÄÇÂêØÂä®provider„ÄÅconsumer„ÄÅnacosÂíåsentinelÊéßÂà∂Âè∞ÔºåÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:9091/buy/ipad/2ÔºöÊàë‰ª¨Âú®sentinelÊéßÂà∂Âè∞‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÊµÅÊéßËßÑÂàôÔºöQPSÈòàÂÄº‰∏∫2„ÄÇÁÑ∂ÂêéÂø´ÈÄüËÆøÈóÆhttp://localhost:9091/buy/ipad/2ÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÊñπÊ≥ïËÆøÈóÆ‰∏çÁ¨¶ÂêàsentinelÊéßÂà∂Âè∞ËßÑÂàôÊó∂ÔºåËøõÂÖ•ÁöÑÊòØblockHandlerÊåáÂÆöÁöÑÂõûÈÄÄÊñπÊ≥ï„ÄÇÂ¶ÇÊûúËÆøÈóÆÔºöhttp://localhost:9091/buy/ipad/21 ÊàñËÄÖÔºöhttp://localhost:9091/buy/miband/2ÊñπÊ≥ïËá™Ë∫´ÊäõÂá∫ÂºÇÂ∏∏ÂºïÂèëÂõûÈÄÄÔºåËøõÂÖ•ÁöÑÊòØfallbackÊåáÂÆöÁöÑÂõûÈÄÄÊñπÊ≥ï„ÄÇÂÖ∂‰ªñÂ±ûÊÄßÂú®ÂΩìÂâçÁ±ª‰∏≠ÁºñÂÜôÂõûÈÄÄÊñπÊ≥ï‰ºö‰ΩøÂæó‰ª£Á†ÅÂèòÂæóÂÜó‰ΩôËÄ¶ÂêàÂ∫¶È´òÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂõûÈÄÄÊñπÊ≥ïÊäΩÂèñÂá∫Êù•Âà∞‰∏Ä‰∏™ÊåáÂÆöÁ±ª‰∏≠„ÄÇÂú®cc.mrbird.consumerÂåÖ‰∏ãÊñ∞Âª∫revealÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫BuyBlockHandlerÔºö1234567public class BuyBlockHandler &#123; // sentinelÂõûÈÄÄ public static String buyBlock(@PathVariable String name, @PathVariable Integer count, BlockException e) &#123; return String.format("„ÄêËøõÂÖ•blockHandlerÊñπÊ≥ï„ÄëË¥≠‰π∞%d‰ªΩ%sÂ§±Ë¥•ÔºåÂΩìÂâçË¥≠‰π∞‰∫∫Êï∞ËøáÂ§öÔºåËØ∑Á®çÂêéÂÜçËØï", count, name); &#125;&#125;ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨Âè™ÊòØÂ∞ÜbuyBlockÊñπÊ≥ïÊå™Âà∞‰∫ÜBuyBlockHandler‰∏≠Ôºå‰∏çËøáËøôÈáåÁöÑÊñπÊ≥ïÂøÖÈ°ªÊòØstaticÁöÑ„ÄÇÊé•ÁùÄÊñ∞Âª∫BuyFallBackÔºö1234567public class BuyFallBack &#123; // ÂºÇÂ∏∏ÂõûÈÄÄ public static String buyFallback(@PathVariable String name, @PathVariable Integer count, Throwable throwable) &#123; return String.format("„ÄêËøõÂÖ•fallbackÊñπÊ≥ï„ÄëË¥≠‰π∞%d‰ªΩ%sÂ§±Ë¥•Ôºå%s", count, name, throwable.getMessage()); &#125;&#125;ËøôÊ†∑BuyControllerÁöÑ‰ª£Á†ÅÂ∞±ÂèØ‰ª•Á≤æÁÆÄ‰∏∫Ôºö1234567891011121314151617181920212223242526@RestControllerpublic class BuyController &#123; @Autowired private RestTemplate restTemplate; @GetMapping("buy/&#123;name&#125;/&#123;count&#125;") @SentinelResource(value = "buy", fallback = "buyFallback", fallbackClass = BuyFallBack.class, blockHandler = "buyBlock", blockHandlerClass = BuyBlockHandler.class ) public String buy(@PathVariable String name, @PathVariable Integer count) &#123; if (count &gt;= 20) &#123; throw new IllegalArgumentException("Ë¥≠‰π∞Êï∞ÈáèËøáÂ§ö"); &#125; if ("miband".equalsIgnoreCase(name)) &#123; throw new NullPointerException("Â∑≤ÂîÆÁΩÑ"); &#125; Map&lt;String, Object&gt; params = new HashMap&lt;&gt;(2); params.put("name", name); params.put("count", count); return this.restTemplate.getForEntity("http://provider/goods/buy/&#123;name&#125;/&#123;count&#125;", String.class, params).getBody(); &#125;&#125;fallbackClassÂíåblockHandlerClassÊåáÂÆöÂõûÈÄÄÊñπÊ≥ïÊâÄÂú®ÁöÑÁ±ª„ÄÇÊ≠§Â§ñÊàë‰ª¨‰πüÂèØ‰ª•ÂΩìÈÅáÂà∞Êüê‰∏™Á±ªÂûãÁöÑÂºÇÂ∏∏Êó∂Ôºå‰∏çËøõË°åÂõûÈÄÄ„ÄÇÊØîÂ¶ÇÔºö123456789101112131415161718192021222324252627@RestControllerpublic class BuyController &#123; @Autowired private RestTemplate restTemplate; @GetMapping("buy/&#123;name&#125;/&#123;count&#125;") @SentinelResource(value = "buy", fallback = "buyFallback", fallbackClass = BuyFallBack.class, blockHandler = "buyBlock", blockHandlerClass = BuyBlockHandler.class, exceptionsToIgnore = NullPointerException.class ) public String buy(@PathVariable String name, @PathVariable Integer count) &#123; if (count &gt;= 20) &#123; throw new IllegalArgumentException("Ë¥≠‰π∞Êï∞ÈáèËøáÂ§ö"); &#125; if ("miband".equalsIgnoreCase(name)) &#123; throw new NullPointerException("Â∑≤ÂîÆÁΩÑ"); &#125; Map&lt;String, Object&gt; params = new HashMap&lt;&gt;(2); params.put("name", name); params.put("count", count); return this.restTemplate.getForEntity("http://provider/goods/buy/&#123;name&#125;/&#123;count&#125;", String.class, params).getBody(); &#125;&#125;exceptionsToIgnoreÊåáÂÆöÔºåÂΩìÈÅáÂà∞Á©∫ÊåáÈíàÂºÇÂ∏∏Êó∂Ôºå‰∏çÂõûÈÄÄ„ÄÇÈáçÂêØconsumerÔºåÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:9091/buy/miband/2ÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÊ≠§Ê¨°Âπ∂Ê≤°ÊúâËøõË°åÂõûÈÄÄÔºåËÄåÊòØÁõ¥Êé•ËøîÂõûerror page„ÄÇÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/78.spring-cloud-alibaba-sentinelresource]]></content>
      <tags>
        <tag>Spring Cloud</tag>
        <tag>Spring Cloud Alibaba</tag>
        <tag>Sentinel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud Alibaba SentinelÊéßÂà∂Âè∞ËØ¶Ëß£]]></title>
    <url>%2FSentinel%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%AF%A6%E8%A7%A3.html</url>
    <content type="text"><![CDATA[SentinelÊèê‰æõ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑÂºÄÊ∫êÊéßÂà∂Âè∞ÔºåÂÆÉÊèê‰æõÊú∫Âô®ÂèëÁé∞‰ª•ÂèäÂÅ•Â∫∑ÊÉÖÂÜµÁÆ°ÁêÜ„ÄÅÁõëÊéßÔºàÂçïÊú∫ÂíåÈõÜÁæ§ÔºâÔºåËßÑÂàôÁÆ°ÁêÜÂíåÊé®ÈÄÅÁöÑÂäüËÉΩ„ÄÇÊú¨ËäÇÂ∞ÜËØ¶ÁªÜËÆ∞ÂΩï‰ΩïÂ¶ÇÈÄöËøáSentinelÊéßÂà∂Âè∞ÊéßÂà∂SentinelÂÆ¢Êà∑Á´ØÁöÑÂêÑÁßçË°å‰∏∫„ÄÇSentinelÊéßÂà∂Âè∞ÁöÑÂäüËÉΩ‰∏ªË¶ÅÂåÖÊã¨ÔºöÊµÅÈáèÊéßÂà∂„ÄÅÈôçÁ∫ßÊéßÂà∂„ÄÅÁÉ≠ÁÇπÈÖçÁΩÆ„ÄÅÁ≥ªÁªüËßÑÂàôÂíåÊéàÊùÉËßÑÂàôÁ≠â„ÄÇÂÆâË£ÖÊéßÂà∂Âè∞SentinelÊéßÂà∂Âè∞‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://github.com/alibaba/Sentinel/releasesÔºåÊú¨ËäÇÊàë‰ª¨‰∏ãËΩΩsentinel-dashboard-1.7.1.jarÁâàÊú¨Ôºå‰∏ãËΩΩÂ•ΩÂêé‰ΩøÁî®java -jar sentinel-dashboard-1.7.1.jarÂëΩ‰ª§ÂêØÂä®Âç≥ÂèØÔºåÈªòËÆ§ÁöÑÁ´ØÂè£Âè∑‰∏∫8080ÔºöË¥¶Âè∑ÂØÜÁ†ÅÈÉΩÊòØsentinel„ÄÇÊõ¥Â§öÂèØÁî®ÁöÑÂêØÂä®ÂèÇÊï∞ÈÖçÁΩÆÔºöDsentinel.dashboard.auth.username=sentinelÁî®‰∫éÊåáÂÆöÊéßÂà∂Âè∞ÁöÑÁôªÂΩïÁî®Êà∑Âêç‰∏∫ sentinelÔºõDsentinel.dashboard.auth.password=123456Áî®‰∫éÊåáÂÆöÊéßÂà∂Âè∞ÁöÑÁôªÂΩïÂØÜÁ†Å‰∏∫ 123456ÔºåÂ¶ÇÊûúÁúÅÁï•Ëøô‰∏§‰∏™ÂèÇÊï∞ÔºåÈªòËÆ§Áî®Êà∑ÂíåÂØÜÁ†ÅÂùá‰∏∫ sentinelÔºõDserver.servlet.session.timeout=7200Áî®‰∫éÊåáÂÆö Spring Boot ÊúçÂä°Á´Ø session ÁöÑËøáÊúüÊó∂Èó¥ÔºåÂ¶Ç 7200 Ë°®Á§∫ 7200 ÁßíÔºõ60m Ë°®Á§∫ 60 ÂàÜÈíüÔºåÈªòËÆ§‰∏∫ 30 ÂàÜÈíüÔºõ-Dcsp.sentinel.dashboard.server=consoleIp:portÊåáÂÆöÊéßÂà∂Âè∞Âú∞ÂùÄÂíåÁ´ØÂè£„ÄÇÊê≠Âª∫ÂÆ¢Êà∑Á´ØÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactId‰∏∫spring-cloud-alibaba-sentinel-dashboard-guideÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÈ°πÁõÆpomÂÜÖÂÆπÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.5.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-sentinel-dashboard-guide&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;spring-cloud-alibaba-sentinel-dashboard-guide&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;spring-cloud.version&gt;Hoxton.SR3&lt;/spring-cloud.version&gt; &lt;com-alibaba-cloud.version&gt;2.2.0.RELEASE&lt;/com-alibaba-cloud.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-alibaba-sentinel&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;com-alibaba-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;ÂºïÂÖ•‰∫Üspring-cloud-starter-alibaba-sentinelÂíåspring-boot-starter-web‰æùËµñ„ÄÇÊé•ÁùÄÂú®cc.mrbird.sentinelÁõÆÂΩï‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫TestControllerÔºö12345678@RestControllerpublic class TestController &#123; @GetMapping("test1") public String test1() &#123; return "test1"; &#125;&#125;ÊúÄÂêéÂú®È°πÁõÆÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö12345678910server: port: 8081spring: application: name: my-project cloud: sentinel: transport: dashboard: localhost:8080 port: 8719spring.cloud.sentinel.transport.dashboardÔºåÊåáÂÆö‰∫ÜsentinelÊéßÂà∂Âè∞ÁöÑipÂíåÁ´ØÂè£Âú∞ÂùÄÔºõspring.cloud.sentinel.transport.portÔºåsentinelÂÆ¢Êà∑Á´ØÂíåÊéßÂà∂Âè∞ÈÄö‰ø°ÁöÑÁ´ØÂè£ÔºåÈªòËÆ§‰∏∫8719ÔºåÂ¶ÇÊûúËøô‰∏™Á´ØÂè£Â∑≤ÁªèË¢´Âç†Áî®ÔºåÈÇ£‰πàsentinel‰ºöËá™Âä®‰ªé8719ÂºÄÂßã‰æùÊ¨°+1Êâ´ÊèèÔºåÁõ¥Âà∞ÊâæÂà∞Êú™Ë¢´Âç†Áî®ÁöÑÁ´ØÂè£„ÄÇÂêØÂä®È°πÁõÆÔºå‰ΩøÁî®ÊµèËßàÂô®Â§öÊ¨°ËÆøÈóÆÔºöhttp://localhost:8081/test1ÔºåÁÑ∂ÂêéÁôªÂΩïsentinelÊéßÂà∂Âè∞ÔºöÂú®Á∞áÁÇπÈìæË∑Ø‰∏≠ÂèØ‰ª•ÁúãÂà∞ÂàöÂàöÈÇ£Á¨îËØ∑Ê±ÇÔºåÊàë‰ª¨ÂèØ‰ª•ÂØπÂÆÉËøõË°åÊµÅÊéß„ÄÅÈôçÁ∫ß„ÄÅÊéàÊùÉ„ÄÅÁÉ≠ÁÇπÁ≠âÈÖçÁΩÆÔºàÊéßÂà∂Âè∞ÊòØÊáíÂä†ËΩΩÁöÑÔºåÂ¶ÇÊûúÊ≤°Êúâ‰ªª‰ΩïËØ∑Ê±ÇÔºåÈÇ£‰πàÊéßÂà∂Âè∞‰πü‰∏ç‰ºöÊúâ‰ªª‰ΩïÂÜÖÂÆπÔºâ„ÄÇÊµÅÊéßËßÑÂàôÂú®Á∞áÁÇπÈìæË∑ØÂàóË°®‰∏≠ÔºåÁÇπÂáª/test1ÂêéÈù¢ÁöÑÊµÅÊéßÊåâÈíÆÔºöËµÑÊ∫êÂêçÔºöÊ†áËØÜËµÑÊ∫êÁöÑÂîØ‰∏ÄÂêçÁß∞ÔºåÈªòËÆ§‰∏∫ËØ∑Ê±ÇË∑ØÂæÑÔºå‰πüÂèØ‰ª•Âú®ÂÆ¢Êà∑Á´Ø‰∏≠‰ΩøÁî®SentinelResourceÈÖçÁΩÆÔºõÈíàÂØπÊù•Ê∫êÔºöSentinelÂèØ‰ª•ÈíàÂØπÊúçÂä°Ë∞ÉÁî®ËÄÖËøõË°åÈôêÊµÅÔºåÂ°´ÂÜôÂæÆÊúçÂä°ÂêçÁß∞Âç≥spring.application.nameÔºåÈªòËÆ§‰∏∫defaultÔºå‰∏çÂå∫ÂàÜÊù•Ê∫êÔºõÈòàÂÄºÁ±ªÂûã„ÄÅÂçïÊú∫ÈòàÂÄºÔºöQPSÔºàQueries-per-secondÔºåÊØèÁßíÈíüÁöÑËØ∑Ê±ÇÊï∞ÈáèÔºâÔºöÂΩìË∞ÉÁî®ËØ•apiÁöÑQPSËææÂà∞ÈòàÂÄºÁöÑÊó∂ÂÄôÔºåËøõË°åÈôêÊµÅÔºõÁ∫øÁ®ãÊï∞ÔºöÂΩìË∞ÉÁî®ËØ•apiÁöÑÁ∫øÁ®ãÊï∞ËææÂà∞ÈòàÂÄºÁöÑÊó∂ÂÄôÔºåËøõË°åÈôêÊµÅ„ÄÇÊòØÂê¶ÈõÜÁæ§ÔºöÈªòËÆ§‰∏çÈõÜÁæ§ÔºõÊµÅÊéßÊ®°ÂºèÔºöÁõ¥Êé•ÔºöÂΩìapiË∞ÉÁî®ËææÂà∞ÈôêÊµÅÊù°‰ª∂ÁöÑÊó∂ÔºåÁõ¥Êé•ÈôêÊµÅÔºõÂÖ≥ËÅîÔºöÂΩìÂÖ≥ËÅîÁöÑËµÑÊ∫êËØ∑Ê±ÇËææÂà∞ÈòàÂÄºÁöÑÊó∂ÂÄôÔºåÈôêÊµÅËá™Â∑±ÔºõÈìæË∑ØÔºöÂè™ËÆ∞ÂΩïÊåáÂÆöÈìæË∑Ø‰∏äÁöÑÊµÅÈáèÔºàÊåáÂÆöËµÑÊ∫ê‰ªéÂÖ•Âè£ËµÑÊ∫êËøõÊù•ÁöÑÊµÅÈáèÔºåÂ¶ÇÊûúËææÂà∞ÈòàÂÄºÔºåÂàôËøõË°åÈôêÊµÅÔºâ„ÄÇÊµÅÊéßÊïàÊûúÔºöÂø´ÈÄüÂ§±Ë¥•ÔºöÁõ¥Êé•Â§±Ë¥•ÔºõWarm UpÔºöÊ†πÊçÆcodeFactorÔºàÂÜ∑Âä†ËΩΩÂõ†Â≠êÔºåÈªòËÆ§ÂÄº‰∏∫3ÔºâÁöÑÂÄºÔºå‰ªéÈòàÂÄº/codeFactorÔºåÁªèËøáÈ¢ÑÁÉ≠Êó∂ÈïøÔºåÊâçËææÂà∞ËÆæÁΩÆÁöÑQPSÈòàÂÄºÔºõÊéíÈòüÁ≠âÂæÖÔºöÂåÄÈÄüÊéíÈòüÔºåËÆ©ËØ∑Ê±ÇÂåÄÈÄüÈÄöËøáÔºåÈòàÂÄºÁ±ªÂûãÂøÖÈ°ªËÆæÁΩÆ‰∏∫QPSÔºåÂê¶ÂàôÊó†Êïà„ÄÇQPSÁõ¥Êé•Â§±Ë¥•ÊºîÁ§∫‰∏ãQPSÁõ¥Êé•Â§±Ë¥•ËÆæÁΩÆÂèäÊïàÊûú„ÄÇÁÇπÂáªÁ∞áÁÇπÈìæË∑ØÂàóË°®‰∏≠/test1ËØ∑Ê±ÇÂêéÈù¢ÁöÑÊµÅÊéßÊåâÈíÆÔºö‰∏äÈù¢ËÆæÁΩÆÁöÑÊïàÊûúÊòØÔºå1ÁßíÈíüÂÜÖËØ∑Ê±Ç/test1ËµÑÊ∫êÁöÑÊ¨°Êï∞ËææÂà∞2Ê¨°‰ª•‰∏äÁöÑÊó∂ÂÄôÔºåËøõË°åÈôêÊµÅ„ÄÇÁÇπÂáªÊñ∞Â¢ûÊåâÈíÆÂêéÔºåÂàóË°®‰ºöË∑≥ËΩ¨Âà∞‚ÄùÊµÅÊéßËßÑÂàô‚ÄùËèúÂçï‰∏ãÔºåÊâÄ‰ª•Êàë‰ª¨‰πüÂèØ‰ª•Âú®ËøôÈáåËÆæÁΩÆÊµÅÊéßËßÑÂàôÔºå‰∏çËøá‰∏ÄËà¨ËøòÊòØ‰π†ÊÉØÁõ¥Êé•Âú®Á∞áÁÇπÈìæË∑ØÂàóË°®‰∏≠Áõ¥Êé•ÈÄâ‰∏≠ËµÑÊ∫êÊ∑ªÂä†ÊµÅÊéßËßÑÂàô„ÄÇÊñ∞Â¢ûÂêéÔºåÊàë‰ª¨ËÆøÈóÆhttp://localhost:8081/test1ÔºåÁúãÁúãÊïàÊûúÔºöÂΩìÊâãÈÄüÂø´ÁÇπÁöÑÊó∂ÂÄôÔºà1ÁßíË∂ÖËøá2Ê¨°ÔºâÔºåÈ°µÈù¢ËøîÂõûBlocked by Sentinel (flow limiting)„ÄÇÁ∫øÁ®ãÊï∞Áõ¥Êé•Â§±Ë¥•ÊîπÈÄ†‰∏ãTestControllerÔºö123456789@RestControllerpublic class TestController &#123; @GetMapping("test1") public String test1() throws InterruptedException &#123; TimeUnit.SECONDS.sleep(1); return "test1"; &#125;&#125;ËÆ©ÊñπÊ≥ï‰ºëÁú†1ÁßíÔºåÊõ¥ÂÆπÊòìÂá∫Áé∞ÊïàÊûú„ÄÇÈáçÂêØÈ°πÁõÆÔºåÁÑ∂ÂêéÂú®sentinelÊéßÂà∂Âè∞‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÊµÅÊéßËßÑÂàôÔºöÂ§öÊ¨°ËÆøÈóÆhttp://localhost:8081/test1ÔºåÊïàÊûúÔºöÂÖ≥ËÅîÊîπÈÄ†TestControllerÔºåÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑapiÊé•Âè£Ôºö12345678910111213@RestControllerpublic class TestController &#123; @GetMapping("test1") public String test1() &#123; return "test1"; &#125; @GetMapping("test2") public String test2() &#123; return "test2"; &#125;&#125;ÈáçÂêØÈ°πÁõÆÔºåÊµèËßàÂô®‰∏≠ËÆøÈóÆ‰∏ãËøô‰∏§‰∏™ËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂú®sentinelÊéßÂà∂Âè∞Á∞áÁÇπÈìæË∑ØÂàóË°®‰∏≠ÔºåÁÇπÂáªtest1ÂêéÁöÑÊµÅÊéßÊåâÈíÆÔºö‰∏äËø∞ÊµÅÊéßËßÑÂàôË°®Á§∫ÔºöÂΩì1ÁßíÂÜÖËÆøÈóÆ/test2ÁöÑÊ¨°Êï∞Â§ß‰∫é2ÁöÑÊó∂ÂÄôÔºåÈôêÊµÅ/test1„ÄÇÊàë‰ª¨‰ΩøÁî®postmanÊù•ÂØÜÈõÜËÆøÈóÆ/test2ÔºåÁÑ∂ÂêéÊàë‰ª¨ÊâãÂä®ÊµèËßàÂô®ËØ∑Ê±Ç/test1ÔºåÁúãÁúãÊïàÊûú„ÄÇpostmanËÆæÁΩÆÂ¶Ç‰∏ãËßÑÂàôÔºöÁÑ∂ÂêéÁÇπÂáªRunÊåâÈíÆÔºåÊàë‰ª¨ÂõûÂà∞ÊµèËßàÂô®ÔºåËÆøÈóÆÔºöhttp://localhost:8081/test1ÔºöÂèØ‰ª•ÁúãÂà∞/test1Â∑≤ÁªèË¢´ÈôêÊµÅ‰∫Ü„ÄÇÈìæË∑ØÂú®ÊºîÁ§∫ÈìæË∑ØÈôêÊµÅ‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊîπÈÄ†ÊîπÈÄ†sentinelÂÆ¢Êà∑Á´Ø‰ª£Á†Å„ÄÇÂú®È°πÁõÆÁöÑcc.mrbird.sentinelÁõÆÂΩï‰∏ãÊñ∞Âª∫serviceÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫HelloServiceÔºö1234567@Servicepublic class HelloService &#123; @SentinelResource("hello") public String hello() &#123; return "hello"; &#125;&#125;@SentinelResource(&quot;hello&quot;)Â∞ÜËØ•ÊñπÊ≥ïÊ†áËØÜ‰∏∫‰∏Ä‰∏™sentinelËµÑÊ∫êÔºåÂêçÁß∞‰∏∫hello„ÄÇÊé•ÁùÄÂú®TestController‰∏≠‰ΩøÁî®ËØ•ËµÑÊ∫êÔºö12345678910111213141516@RestControllerpublic class TestController &#123; @Autowired private HelloService helloService; @GetMapping("test1") public String test1() &#123; return "test1 " + helloService.hello(); &#125; @GetMapping("test2") public String test2() &#123; return "test2 " + helloService.hello(); &#125;&#125;ÈáçÂêØÈ°πÁõÆÔºåÂú®ÊµèËßàÂô®‰∏≠Â§öÊ¨°ËÆøÈóÆËøô‰∏§‰∏™apiÔºåÁÑ∂ÂêéÊü•ÁúãsentinelÊéßÂà∂Âè∞Á∞áÁÇπÈìæË∑ØÔºöÁÑ∂ÂêéÁÇπÂáªhelloËµÑÊ∫êÂêéÈù¢ÁöÑÊµÅÊéßÊåâÈíÆÔºö‰∏äËø∞ÈÖçÁΩÆÁöÑÊÑèÊÄùÊòØÔºåÂΩìÈÄöËøá/test1ËÆøÈóÆhelloÁöÑÊó∂ÂÄôÔºåQPSÂ§ß‰∫é1ÂàôËøõË°åÈôêÊµÅÔºõË®ÄÂ§ñ‰πãÊÑèÂ∞±ÊòØ/test2ËÆøÈóÆhelloËØ∑Ê±ÇÂπ∂‰∏çÂèóÂΩ±Âìç„ÄÇ‰ΩÜÊòØÂÆûÈôÖÊµãËØïÂπ∂Ê≤°ÊúâÁîüÊïàüò°ÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉissueÔºöhttps://github.com/alibaba/Sentinel/issues/1213„ÄÇÈ¢ÑÁÉ≠Warm UpÊµÅÊéßÊïàÊûúÈô§‰∫ÜÁõ¥Êé•Â§±Ë¥•Â§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄâÊã©È¢ÑÁÉ≠Warm Up„ÄÇWarm UpÔºàRuleConstant.CONTROL_BEHAVIOR_WARM_UPÔºâÊñπÂºèÔºåÂç≥È¢ÑÁÉ≠/ÂÜ∑ÂêØÂä®ÊñπÂºè„ÄÇÂΩìÁ≥ªÁªüÈïøÊúüÂ§Ñ‰∫é‰ΩéÊ∞¥‰ΩçÁöÑÊÉÖÂÜµ‰∏ãÔºåÂΩìÊµÅÈáèÁ™ÅÁÑ∂Â¢ûÂä†Êó∂ÔºåÁõ¥Êé•ÊääÁ≥ªÁªüÊãâÂçáÂà∞È´òÊ∞¥‰ΩçÂèØËÉΩÁû¨Èó¥ÊääÁ≥ªÁªüÂéãÂûÆ„ÄÇÈÄöËøá‚ÄùÂÜ∑ÂêØÂä®‚ÄùÔºåËÆ©ÈÄöËøáÁöÑÊµÅÈáèÁºìÊÖ¢Â¢ûÂä†ÔºåÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÈÄêÊ∏êÂ¢ûÂä†Âà∞ÈòàÂÄº‰∏äÈôêÔºåÁªôÂÜ∑Á≥ªÁªü‰∏Ä‰∏™È¢ÑÁÉ≠ÁöÑÊó∂Èó¥ÔºåÈÅøÂÖçÂÜ∑Á≥ªÁªüË¢´ÂéãÂûÆ„ÄÇsentinelÂÆ¢Êà∑Á´ØÁöÑÈªòËÆ§ÂÜ∑Âä†ËΩΩÂõ†Â≠êcoldFactor‰∏∫3ÔºåÂç≥ËØ∑Ê±ÇQPS‰ªé threshold / 3 ÂºÄÂßãÔºåÁªèÈ¢ÑÁÉ≠Êó∂ÈïøÈÄêÊ∏êÂçáËá≥ËÆæÂÆöÁöÑQPSÈòàÂÄº„ÄÇÊØîÂ¶ÇÔºö‰∏äÈù¢ÁöÑÈÖçÁΩÆÊÑèÊÄùÊòØÔºöÂØπ‰∫é/test1ËµÑÊ∫êÔºå‰∏ÄÂºÄÂßãÁöÑQPSÈòàÂÄº‰∏∫3Ôºà10/3ÔºâÔºåÁªèËøá10ÁßíÂêéÔºåQPSÈòàÂÄºËææÂà∞10ÔºåËøáÁ®ãÁ±ª‰ºº‰∫é‰∏ãÂõæÔºöÊïàÊûúÊàëÂ∞±‰∏çÊºîÁ§∫‰∫ÜÔºåÂ§ßÊ¶ÇÊïàÊûúÂ∞±ÊòØ‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttp://localhost:8081/test1Ôºå‰ª•ÊúÄÂø´ÁöÑÊâãÈÄüÁÇπÂà∑Êñ∞Ôºå‰∏ÄÂºÄÂßã‰ºöÂ∏∏ÁúãÂà∞Blocked by Sentinel (flow limiting)ÁöÑÊèêÁ§∫Ôºå10ÁßíÂêéÂá†‰πé‰∏çÂÜçÂá∫Áé∞ÔºàÂõ†‰∏∫‰Ω†ÁöÑÊâãÈÄüÂæàÈöæËææÂà∞1Áßí10‰∏ãÔºâ„ÄÇÊéíÈòüÁ≠âÂæÖÊéíÈòüÁ≠âÂæÖÊñπÂºè‰∏ç‰ºöÊãíÁªùËØ∑Ê±ÇÔºåËÄåÊòØ‰∏•Ê†ºÊéßÂà∂ËØ∑Ê±ÇÈÄöËøáÁöÑÈó¥ÈöîÊó∂Èó¥Ôºå‰πüÂç≥ÊòØËÆ©ËØ∑Ê±Ç‰ª•ÂùáÂåÄÁöÑÈÄüÂ∫¶ÈÄöËøá„ÄÇ‰øÆÊîπTestControllerÁöÑ‰ª£Á†ÅÔºö123456789101112@RestControllerpublic class TestController &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @GetMapping("test1") public String test1() &#123; log.info("test1"); return "test1"; &#125;&#125;ÈáçÂêØÈ°πÁõÆÔºåÊµèËßàÂô®ËÆøÈóÆlocalhost:8081/test1ÔºåÁÑ∂ÂêéÁÇπÂáªsentinelÊéßÂà∂Âè∞Á∞áÁÇπÈìæË∑ØÂàóË°®ÁöÑ/test1ÊµÅÊéßÊåâÈíÆÔºö‰∏äËø∞ÈÖçÁΩÆÁöÑÂê´‰πâÊòØÔºåËÆøÈóÆ/test1ËØ∑Ê±ÇÊØèÁßíÈíüÊúÄÂ§öÂè™ËÉΩ1Ê¨°ÔºåË∂ÖËøáÁöÑËØ∑Ê±ÇÊéíÈòüÁ≠âÂæÖÔºåÁ≠âÂæÖË∂ÖËøá1000ÊØ´ÁßíÂàôË∂ÖÊó∂„ÄÇÊñ∞Â¢ûËØ•ËßÑÂàôÂêéÔºåÂ§öÊ¨°Âø´ÈÄüËÆøÈóÆlocalhost:8081/test1ÔºåsentinelÂÆ¢Êà∑Á´ØÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö123452020-03-18 16:17:23.247 INFO 44688 --- [nio-8081-exec-2] c.m.sentinel.controller.TestController : test12020-03-18 16:17:24.250 INFO 44688 --- [nio-8081-exec-6] c.m.sentinel.controller.TestController : test12020-03-18 16:17:25.251 INFO 44688 --- [nio-8081-exec-5] c.m.sentinel.controller.TestController : test12020-03-18 16:17:26.251 INFO 44688 --- [nio-8081-exec-7] c.m.sentinel.controller.TestController : test12020-03-18 16:17:27.251 INFO 44688 --- [nio-8081-exec-8] c.m.sentinel.controller.TestController : test1ÊØèÁ¨îËØ∑Ê±ÇÊó∂Èó¥Èó¥Èöî1Áßí„ÄÇÈôçÁ∫ßËßÑÂàôÈôçÁ∫ßÈÖçÁΩÆÈ°µÈù¢ÔºöÈôçÁ∫ßÁ≠ñÁï•ÂàÜ‰∏∫3ÁßçÔºöRTÔºåÂπ≥ÂùáÂìçÂ∫îÊó∂Èó¥ (DEGRADE_GRADE_RT)ÔºöÂΩì 1s ÂÜÖÊåÅÁª≠ËøõÂÖ• 5 ‰∏™ËØ∑Ê±ÇÔºåÂØπÂ∫îÊó∂ÂàªÁöÑÂπ≥ÂùáÂìçÂ∫îÊó∂Èó¥ÔºàÁßíÁ∫ßÔºâÂùáË∂ÖËøáÈòàÂÄºÔºàcountÔºå‰ª• ms ‰∏∫Âçï‰ΩçÔºâÔºåÈÇ£‰πàÂú®Êé•‰∏ãÁöÑÊó∂Èó¥Á™óÂè£ÔºàDegradeRule ‰∏≠ÁöÑ timeWindowÔºå‰ª• s ‰∏∫Âçï‰ΩçÔºâ‰πãÂÜÖÔºåÂØπËøô‰∏™ÊñπÊ≥ïÁöÑË∞ÉÁî®ÈÉΩ‰ºöËá™Âä®Âú∞ÁÜîÊñ≠ÔºàÊäõÂá∫ DegradeExceptionÔºâ„ÄÇÊ≥®ÊÑè Sentinel ÈªòËÆ§ÁªüËÆ°ÁöÑ RT ‰∏äÈôêÊòØ 4900 msÔºåË∂ÖÂá∫Ê≠§ÈòàÂÄºÁöÑÈÉΩ‰ºöÁÆó‰Ωú 4900 msÔºåËã•ÈúÄË¶ÅÂèòÊõ¥Ê≠§‰∏äÈôêÂèØ‰ª•ÈÄöËøáÂêØÂä®ÈÖçÁΩÆÈ°π -Dcsp.sentinel.statistic.max.rt=xxx Êù•ÈÖçÁΩÆ„ÄÇÂºÇÂ∏∏ÊØî‰æã (DEGRADE_GRADE_EXCEPTION_RATIO)ÔºöÂΩìËµÑÊ∫êÁöÑÊØèÁßíËØ∑Ê±ÇÈáè &gt;= 5ÔºåÂπ∂‰∏îÊØèÁßíÂºÇÂ∏∏ÊÄªÊï∞Âç†ÈÄöËøáÈáèÁöÑÊØîÂÄºË∂ÖËøáÈòàÂÄºÔºàDegradeRule ‰∏≠ÁöÑ countÔºâ‰πãÂêéÔºåËµÑÊ∫êËøõÂÖ•ÈôçÁ∫ßÁä∂ÊÄÅÔºåÂç≥Âú®Êé•‰∏ãÁöÑÊó∂Èó¥Á™óÂè£ÔºàDegradeRule ‰∏≠ÁöÑ timeWindowÔºå‰ª• s ‰∏∫Âçï‰ΩçÔºâ‰πãÂÜÖÔºåÂØπËøô‰∏™ÊñπÊ≥ïÁöÑË∞ÉÁî®ÈÉΩ‰ºöËá™Âä®Âú∞ËøîÂõû„ÄÇÂºÇÂ∏∏ÊØîÁéáÁöÑÈòàÂÄºËåÉÂõ¥ÊòØ [0.0, 1.0]Ôºå‰ª£Ë°® 0% - 100%„ÄÇÂºÇÂ∏∏Êï∞ (DEGRADE_GRADE_EXCEPTION_COUNT)ÔºöÂΩìËµÑÊ∫êËøë 1 ÂàÜÈíüÁöÑÂºÇÂ∏∏Êï∞ÁõÆË∂ÖËøáÈòàÂÄº‰πãÂêé‰ºöËøõË°åÁÜîÊñ≠„ÄÇÊ≥®ÊÑèÁî±‰∫éÁªüËÆ°Êó∂Èó¥Á™óÂè£ÊòØÂàÜÈíüÁ∫ßÂà´ÁöÑÔºåËã• timeWindow Â∞è‰∫é 60sÔºåÂàôÁªìÊùüÁÜîÊñ≠Áä∂ÊÄÅÂêé‰ªçÂèØËÉΩÂÜçËøõÂÖ•ÁÜîÊñ≠Áä∂ÊÄÅ„ÄÇRT‰øÆÊîπTestControllerÁöÑ‰ª£Á†ÅÔºö1234567891011@RestControllerpublic class TestController &#123; @GetMapping("test1") public String test1() throws InterruptedException &#123; // ‰ºëÁú†1Áßí TimeUnit.SECONDS.sleep(1); return "test1"; &#125;&#125;ÈáçÂêØÈ°πÁõÆÔºåÊµèËßàÂô®ËÆøÈóÆlocalhost:8081/test1ÔºåÁÑ∂ÂêéÁÇπÂáªsentinelÊéßÂà∂Âè∞Á∞áÁÇπÈìæË∑ØÂàóË°®ÁöÑ/test1ÈôçÁ∫ßÊåâÈíÆÔºö‰∏äÈù¢ÈÖçÁΩÆÁöÑÂê´‰πâÊòØÔºöÂ¶ÇÊûú/test1ÁöÑQPSÂ§ß‰∫é5ÔºåÂπ∂‰∏îÂπ≥ÂùáÂìçÂ∫îÊó∂Èó¥Ôºà‰ª•ÁßíÁ∫ßÁªüËÆ°ÔºâÂ§ß‰∫é500ÔºàRTÔºâÊØ´ÁßíÔºåÈÇ£‰πàÂú®Êú™Êù•ÁöÑ1ÁßíÈíüÔºàÊó∂Èó¥Á™óÂè£ÔºâÂÜÖÔºåsentinelÊñ≠Ë∑ØÂô®ÊâìÂºÄÔºåËØ•apiÊé•Âè£‰∏çÂèØÁî®„ÄÇÊàë‰ª¨‰ΩøÁî®JMeterÊ®°ÊãüÂπ∂ÂèëËÆøÈóÆÊÉÖÂΩ¢Ôºö‰∏äÈù¢ÁöÑQPS‰∏∫10ÔºåËÄå‰∏îÊàë‰ª¨ÁöÑ/test1Êé•Âè£ÂìçÂ∫îÊó∂Èó¥Âú®1ÁßíÂ∑¶Âè≥ÔºåÊ†πÊçÆÊàë‰ª¨‰∏äÈù¢ÈÖçÁΩÆÁöÑÈôçÁ∫ßËßÑÂàôÔºåËÇØÂÆö‰ºöËß¶ÂèëÈôçÁ∫ßÔºå‰ΩøÁî®JMeterÊµãËØïÁªìÊûúÂ¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÁ®ãÂ∫èÂæàÂø´Â∞±Ëß¶Âèë‰∫ÜÈôçÁ∫ßÔºåÊñ≠Ë∑ØÂô®ÊâìÂºÄÔºåÂêéÁª≠ÁöÑËØ∑Ê±ÇÈÉΩËøîÂõû‰∫ÜBlocked by Sentinel (flow limiting)„ÄÇÂÅúÊéâJMeterÔºåÊµèËßàÂô®ËÆøÈóÆlocalhost:8081/test1ÈôçÁ∫ßËßÑÂàô‰∏çÂÜçÁ¨¶ÂêàÔºåÊâÄ‰ª•Êñ≠Ë∑ØÂô®Âêà‰∏äÔºåËØ∑Ê±ÇÊ≠£Â∏∏ÂìçÂ∫î„ÄÇÂºÇÂ∏∏ÊØî‰æã‰øÆÊîπTestControllerÁöÑ‰ª£Á†ÅÔºö12345678910@RestControllerpublic class TestController &#123; @GetMapping("test1") public String test1() &#123; // ÊØèÊ¨°ËØ∑Ê±ÇÈÉΩÊäõÂá∫ÂºÇÂ∏∏ throw new RuntimeException("ÊúçÂä°ÂºÇÂ∏∏"); &#125;&#125;ÈáçÂêØÈ°πÁõÆÔºåÊµèËßàÂô®ËÆøÈóÆlocalhost:8081/test1ÔºåÁÑ∂ÂêéÁÇπÂáªsentinelÊéßÂà∂Âè∞Á∞áÁÇπÈìæË∑ØÂàóË°®ÁöÑ/test1ÈôçÁ∫ßÊåâÈíÆÔºö‰∏äÈù¢ÁöÑÈÖçÁΩÆÂê´‰πâÊòØÔºöÂ¶ÇÊûú/test1ÁöÑQPSÂ§ß‰∫é5ÔºåÂπ∂‰∏îÊØèÁßíÈíüÁöÑËØ∑Ê±ÇÂºÇÂ∏∏ÊØî‰æãÂ§ß‰∫é0.5ÁöÑËØùÔºåÈÇ£‰πàÂú®Êú™Êù•ÁöÑ1ÁßíÈíüÔºàÊó∂Èó¥Á™óÂè£ÔºâÂÜÖÔºåsentinelÊñ≠Ë∑ØÂô®ÊâìÂºÄÔºåËØ•apiÊé•Âè£‰∏çÂèØÁî®„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûú‰∏ÄÁßíÂÜÖÊúâ10‰∏™ËØ∑Ê±ÇËøõÊù•ÔºåË∂ÖËøá5‰∏™‰ª•‰∏äÈÉΩÂá∫ÈîôÔºåÈÇ£‰πà‰ºöËß¶ÂèëÁÜîÊñ≠Ôºå1ÁßíÈíüÂÜÖËøô‰∏™Êé•Âè£‰∏çÂèØÁî®„ÄÇËøòÊòØ‰ΩøÁî®‰∏äÈù¢ÁöÑJMeterÊµãËØïÔºåÂºÄÂêØJMeterÂêéÔºå‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:8081/test1ÂÖ≥ÊéâJMeterÂêéÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8081/test1ÔºöÂºÇÂ∏∏Êï∞Â•ñÂèäÁ≠ñÁï•‰∏∫ÂºÇÂ∏∏Êï∞Êó∂Ë°®Á§∫ÔºöÂΩìÊåáÂÆöÊó∂Èó¥Á™óÂè£ÂÜÖÔºåËØ∑Ê±ÇÂºÇÂ∏∏Êï∞Â§ß‰∫éÁ≠â‰∫éÊüê‰∏™ÂÄºÊó∂ÔºåËß¶ÂèëÈôçÁ∫ß„ÄÇÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãËßÑÂàôÔºö‰∏äÈù¢ÁöÑËßÑÂàôË°®Á§∫ÔºöÂú®70ÁßíÂÜÖÔºåËÆøÈóÆ/test1ËØ∑Ê±ÇÂºÇÂ∏∏ÁöÑÊ¨°Êï∞Â§ß‰∫éÁ≠â‰∫é5ÔºåÂàôËß¶ÂèëÈôçÁ∫ß„ÄÇÊµãËØï‰∏ÄÊ≥¢ÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÁ¨¨5Ê¨°ËÆøÈóÆÁöÑÊó∂ÂÄôÊàêÂäüËß¶Âèë‰∫ÜÈôçÁ∫ß„ÄÇÁÉ≠ÁÇπËßÑÂàôÁÉ≠ÁÇπÂç≥ÁªèÂ∏∏ËÆøÈóÆÁöÑÊï∞ÊçÆ„ÄÇÂæàÂ§öÊó∂ÂÄôÊàë‰ª¨Â∏åÊúõÁªüËÆ°Êüê‰∏™ÁÉ≠ÁÇπÊï∞ÊçÆ‰∏≠ËÆøÈóÆÈ¢ëÊ¨°ÊúÄÈ´òÁöÑÊï∞ÊçÆÔºåÂπ∂ÂØπÂÖ∂ËÆøÈóÆËøõË°åÈôêÂà∂„ÄÇÊØîÂ¶ÇÂú®TestController‰∏≠ÊúâÂ¶Ç‰∏ãÊñπÊ≥ïÔºö12345@GetMapping("buy")@SentinelResource(value = "buy")public String buy(String goodName, Integer count) &#123; return "‰π∞" + count + "‰ªΩ" + goodName;&#125;ÂØπËøô‰∏™ËµÑÊ∫êÊ∑ªÂä†ÁÉ≠ÁÇπËßÑÂàôÔºö‰∏äÈù¢ÁöÑÈÖçÁΩÆÂê´‰πâÊòØÔºöÂØπbuyËµÑÊ∫êÊ∑ªÂä†ÁÉ≠ÁÇπËßÑÂàôÔºåÂΩìÁ¨¨0‰∏™ÂèÇÊï∞ÁöÑÂÄº‰∏∫mibandÁöÑÊó∂ÂÄôQPSÈòàÂÄº‰∏∫10ÔºåÂê¶Âàô‰∏∫1„ÄÇÊ≠§Â§ñÔºåÂ¶ÇÊûúÁ¨¨0‰∏™ÂèÇÊï∞‰∏ç‰º†ÔºåÈÇ£‰πàËøôÁ¨îËØ∑Ê±Ç‰∏çÂèóËØ•ÁÉ≠ÁÇπËßÑÂàôÈôêÂà∂„ÄÇÊïàÊûúÂ¶Ç‰∏ãÔºöÁ≥ªÁªüËßÑÂàôÁ≥ªÁªüËßÑÂàôÂàôÊòØÈíàÂØπÊï¥‰∏™Á≥ªÁªüËÆæÁΩÆÈôêÊµÅËßÑÂàôÔºåÂπ∂‰∏çÈíàÂØπÊüê‰∏™ËµÑÊ∫êÔºåËÆæÁΩÆÈ°µÈù¢Â¶Ç‰∏ãÔºöÈòàÂÄºÁ±ªÂûãÂåÖÂê´‰ª•‰∏ã‰∫îÁßçÔºöLoad Ëá™ÈÄÇÂ∫îÔºà‰ªÖÂØπ Linux/Unix-like Êú∫Âô®ÁîüÊïàÔºâÔºöÁ≥ªÁªüÁöÑ load1 ‰Ωú‰∏∫ÂêØÂèëÊåáÊ†áÔºåËøõË°åËá™ÈÄÇÂ∫îÁ≥ªÁªü‰øùÊä§„ÄÇÂΩìÁ≥ªÁªü load1 Ë∂ÖËøáËÆæÂÆöÁöÑÂêØÂèëÂÄºÔºå‰∏îÁ≥ªÁªüÂΩìÂâçÁöÑÂπ∂ÂèëÁ∫øÁ®ãÊï∞Ë∂ÖËøá‰º∞ÁÆóÁöÑÁ≥ªÁªüÂÆπÈáèÊó∂Êâç‰ºöËß¶ÂèëÁ≥ªÁªü‰øùÊä§ÔºàBBR Èò∂ÊÆµÔºâ„ÄÇÁ≥ªÁªüÂÆπÈáèÁî±Á≥ªÁªüÁöÑ maxQps minRt ‰º∞ÁÆóÂæóÂá∫„ÄÇËÆæÂÆöÂèÇËÄÉÂÄº‰∏ÄËà¨ÊòØ CPU cores 2.5„ÄÇCPU usageÔºà1.5.0+ ÁâàÊú¨ÔºâÔºöÂΩìÁ≥ªÁªü CPU ‰ΩøÁî®ÁéáË∂ÖËøáÈòàÂÄºÂç≥Ëß¶ÂèëÁ≥ªÁªü‰øùÊä§ÔºàÂèñÂÄºËåÉÂõ¥ 0.0-1.0ÔºâÔºåÊØîËæÉÁÅµÊïè„ÄÇÂπ≥Âùá RTÔºöÂΩìÂçïÂè∞Êú∫Âô®‰∏äÊâÄÊúâÂÖ•Âè£ÊµÅÈáèÁöÑÂπ≥Âùá RT ËææÂà∞ÈòàÂÄºÂç≥Ëß¶ÂèëÁ≥ªÁªü‰øùÊä§ÔºåÂçï‰ΩçÊòØÊØ´Áßí„ÄÇÂπ∂ÂèëÁ∫øÁ®ãÊï∞ÔºöÂΩìÂçïÂè∞Êú∫Âô®‰∏äÊâÄÊúâÂÖ•Âè£ÊµÅÈáèÁöÑÂπ∂ÂèëÁ∫øÁ®ãÊï∞ËææÂà∞ÈòàÂÄºÂç≥Ëß¶ÂèëÁ≥ªÁªü‰øùÊä§„ÄÇÂÖ•Âè£ QPSÔºöÂΩìÂçïÂè∞Êú∫Âô®‰∏äÊâÄÊúâÂÖ•Âè£ÊµÅÈáèÁöÑ QPS ËææÂà∞ÈòàÂÄºÂç≥Ëß¶ÂèëÁ≥ªÁªü‰øùÊä§„ÄÇÊØîËæÉÁõ¥ËßÇÂ∞±‰∏çÊºîÁ§∫‰∫Ü„ÄÇÊéàÊùÉËßÑÂàôÊéàÊùÉËßÑÂàôÁî®‰∫éÈÖçÁΩÆËµÑÊ∫êÁöÑÈªëÁôΩÂêçÂçïÔºö‰∏äËø∞ÈÖçÁΩÆË°®Á§∫ÔºöÂè™ÊúâappAÂíåappBÊâçËÉΩËÆøÈóÆhelloËµÑÊ∫ê„ÄÇsentinelÊéßÂà∂Âè∞ËßÑÂàô‰ºöÂú®ÂÆ¢Êà∑Á´ØÈáçÂêØÂêé‰∏¢Â§±ÔºåÂèØ‰ª•ÈÖçÂêànacosÁ≠âËøõË°åÈÖçÁΩÆÊåÅ‰πÖÂåñÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉ‰∫ëÂ§ß‰Ω¨ÁöÑÂçöÂÆ¢Ôºöhttps://www.sonake.com/2019/12/16/Sentinel-Nacos%E5%AE%9E%E7%8E%B0%E8%A7%84%E5%88%99%E6%8C%81%E4%B9%85%E5%8C%96/„ÄÇÂèÇËÄÉÈìæÊé• https://github.com/alibaba/Sentinel/wikiÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/77.spring-cloud-alibaba-sentinel-dashboard-guide„ÄÇ]]></content>
      <tags>
        <tag>Spring Cloud</tag>
        <tag>Spring Cloud Alibaba</tag>
        <tag>Sentinel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud Alibaba NacosÈÖçÁΩÆ‰∏≠ÂøÉ]]></title>
    <url>%2FSpring-Cloud-Alibaba-Nacos%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83.html</url>
    <content type="text"><![CDATA[‰∏ä‰∏ÄËäÇSpring Cloud Alibaba NacosÊ≥®ÂÜå‰∏≠ÂøÉËÆ∞ÂΩï‰∫ÜNacos‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÁöÑ‰ΩøÁî®ÊñπÂºèÔºåËøôËäÇÁªßÁª≠ËÆ∞ÂΩï‰∏ãNacos‰Ωú‰∏∫ÈÖçÁΩÆ‰∏≠ÂøÉÁöÑ‰ΩøÁî®ÊñπÂºè„ÄÇÊú¨ËäÇ‰ΩøÁî®ÁöÑSpring CloudÁâàÊú¨‰∏∫Hoxton.SR3ÔºåSpring Cloud AlibabaÁâàÊú¨‰∏∫2.2.0.RELEASEÔºåSpring BootÁâàÊú¨‰∏∫2.2.3.RELEASE„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactId‰∏∫spring-cloud-alibaba-nacos-configÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÈ°πÁõÆÁöÑpomÂÜÖÂÆπÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.5.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-nacos-config&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;spring-cloud-alibaba-nacos-config&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;spring-cloud.version&gt;Hoxton.SR3&lt;/spring-cloud.version&gt; &lt;com-alibaba-cloud.version&gt;2.2.0.RELEASE&lt;/com-alibaba-cloud.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-nacos-config&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;com-alibaba-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;Âõ†‰∏∫ËøôËäÇËÆ∞ÂΩïÁöÑÊòØNacos‰Ωú‰∏∫ÈÖçÁΩÆ‰∏≠ÂøÉÁöÑÂäüËÉΩÔºåÊâÄ‰ª•ÂºïÂÖ•ÁöÑÊòØspring-cloud-alibaba-nacos-config‰æùËµñ„ÄÇÂü∫Êú¨‰ΩøÁî®Âú®È°πÁõÆÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö12345server: port: 8080spring: application: name: my-project‰∏äÈù¢ÈÖçÁΩÆÊåáÂÆöÂ∫îÁî®Á´ØÂè£‰∏∫8080ÔºåÂ∫îÁî®ÂêçÁß∞‰∏∫my-project„ÄÇÊé•ÁùÄÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫ÈÖçÁΩÆÊñá‰ª∂bootstrap.ymlÔºåÂú®ÈáåÈù¢Ê∑ªÂä†Â¶Ç‰∏ãNacos configÈÖçÁΩÆÔºàÂøÖÈ°ªÂú®bootstrap.yml‰∏≠ÈÖçÁΩÆÔºåbootstrap.yml‰ºòÂÖàÁ∫ßÊØîapplication.ymlÈ´òÔºâÔºö123456spring: cloud: nacos: config: server-addr: localhost:8848 file-extension: yamlspring.cloud.nacos.config.server-addrÈÖçÁΩÆ‰∫ÜNacosÈÖçÁΩÆ‰∏≠ÂøÉÁöÑÂú∞ÂùÄÔºå‰πüÂèØ‰ª•ÈÄöËøáspring.cloud.nacos.server-addrÊåáÂÆöÔºåÂÆÉ‰ª¨‰∏§‰∏™ÊòØÁ≠â‰ª∑ÁöÑÔºõspring.cloud.nacos.config.file-extensionÊåáÂÆöÂæÖ‰ºöÂú®NacosÈÖçÁΩÆ‰∏≠ÂøÉËØªÂèñÁöÑÈÖçÁΩÆÁöÑÊ†ºÂºè‰∏∫yamlÊ†ºÂºè„ÄÇÊàë‰ª¨ÂõûÂà∞NacosÊéßÂà∂Âè∞http://localhost:8848/nacosÔºåÂú®ÈÖçÁΩÆÂàóË°®‰∏≠Êñ∞Âª∫‰∏Ä‰∏™ÈÖçÁΩÆÔºöÊàë‰ª¨Êñ∞Âª∫‰∫Ü‰∏Ä‰∏™my-project.yamlÈÖçÁΩÆÔºàdataId‰∏∫my-project.yamlÔºågroup‰∏∫DEFAULT_GROUPÔºåÂÆÉ‰ª¨ÁöÑÂÖ∑‰ΩìÂê´‰πâ‰∏ãÈù¢‰ºö‰ªãÁªçÂà∞ÔºâÔºåÈÖçÁΩÆ‰∫Ümessage: &#39;hello nacos config&#39;ÔºåÂàõÂª∫Â•ΩÂêéÔºåÁÇπÂáªÂèëÂ∏ÉÂç≥ÂèØ„ÄÇÊé•ÁùÄÂõûÂà∞Êàë‰ª¨ÁöÑÈ°πÁõÆÔºåÂú®cc.mrbird.nacosÁõÆÂΩï‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫TestControllerÁî®‰∫éÊµãËØïÈÖçÁΩÆËé∑ÂèñËßÑÂàôÔºö123456789101112@RestController@RefreshScopepublic class TestController &#123; @Value("$&#123;message:null&#125;") private String message; @GetMapping("message") public String getMessage() &#123; return this.message; &#125;&#125;‰∏äÈù¢‰ª£Á†ÅÊàë‰ª¨‰ªéÂàöÂàöÂú®NacosÊéßÂà∂Âè∞ÈÖçÁΩÆÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñmessageÈÖçÁΩÆÁöÑÂÄºÔºå@RefreshScopeÁî®‰∫éÂà∑Êñ∞ÈÖçÁΩÆÔºåÂç≥Êàë‰ª¨Âú®NacosÊéßÂà∂Âè∞‰øÆÊîπ‰∫ÜÁõ∏ÂÖ≥ÈÖçÁΩÆÁÇπÂáªÂèëÂ∏ÉÂêéÔºåÊàë‰ª¨ÁöÑÂ∫îÁî®ËÉΩÂ§üÂú®‰∏çÈáçÂêØÁöÑÊÉÖÂÜµ‰∏ãËé∑ÂèñÂà∞ÊúÄÊñ∞ÁöÑÈÖçÁΩÆ„ÄÇÂêØÂä®È°πÁõÆÔºåÂú®ÊµèËßàÂô®‰∏≠ËÆøÈóÆÔºöhttp://localhost:8080/messageÔºöÈÖçÁΩÆËé∑ÂèñÊàêÂäüÔºåÂú®NacosÊéßÂà∂Âè∞‰∏≠Â∞ÜmessageÂÄº‰øÆÊîπ‰∏∫hello worldÂêéÂèëÂ∏ÉÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8080/messageÔºöËé∑ÂèñÈÖçÁΩÆËßÑÂàôNacosÈÖçÁΩÆ‰∏≠ÂøÉÈÄöËøánamespace„ÄÅdataIdÂíågroupÊù•ÂîØ‰∏ÄÁ°ÆÂÆö‰∏ÄÊù°ÈÖçÁΩÆ„ÄÇnamespaceÔºåÂç≥ÂëΩÂêçÁ©∫Èó¥„ÄÇÈªòËÆ§ÁöÑÂëΩÂêçÁ©∫Èó¥‰∏∫publicÔºåÊàë‰ª¨ÂèØ‰ª•Âú®NacosÊéßÂà∂Âè∞‰∏≠Êñ∞Âª∫ÂëΩÂêçÁ©∫Èó¥ÔºõdataIdÔºåÂç≥ÈÖçÁΩÆÊñá‰ª∂ÂêçÁß∞ÔºådataIdÁöÑÊãºÊé•Ê†ºÂºèÂ¶Ç‰∏ãÔºö1$&#123;prefix&#125; - $&#123;spring.profiles.active&#125; . $&#123;file-extension&#125;prefixÈªòËÆ§‰∏∫pring.application.nameÁöÑÂÄºÔºå‰πüÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÈ°πspring.cloud.nacos.config.prefixÊù•ÈÖçÁΩÆÔºõspring.profiles.activeÂç≥‰∏∫ÂΩìÂâçÁéØÂ¢ÉÂØπÂ∫îÁöÑprofile„ÄÇÊ≥®ÊÑèÔºåÂΩìspring.profiles.active‰∏∫Á©∫Êó∂ÔºåÂØπÂ∫îÁöÑËøûÊé•Á¨¶-‰πüÂ∞Ü‰∏çÂ≠òÂú®ÔºådataIdÁöÑÊãºÊé•Ê†ºÂºèÂèòÊàê${prefix}.${file-extension}Ôºõfile-extension‰∏∫ÈÖçÁΩÆÂÜÖÂÆπÁöÑÊï∞ÊçÆÊ†ºÂºèÔºåÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÈ°πspring.cloud.nacos.config.file-extensionÊù•ÈÖçÁΩÆ„ÄÇgroupÔºåÂç≥ÈÖçÁΩÆÂàÜÁªÑÔºåÈªòËÆ§‰∏∫DEFAULT_GROUPÔºåÂèØ‰ª•ÈÄöËøáspring.cloud.nacos.config.groupÈÖçÁΩÆ„ÄÇÊâÄ‰ª•Ê†πÊçÆËøô‰∫õËßÑÂàôÔºå‰∏äÈù¢Á§∫‰æã‰∏≠Êàë‰ª¨ÁöÑÂ∫îÁî®ÂêçÁß∞spring.application.name‰∏∫my-projectÔºåspring.cloud.nacos.config.file-extensionÁöÑÂÄº‰∏∫yamlÔºåÊ≤°ÊúâÊåáÂÆöspring.profiles.activeÔºå‰∫éÊòØdataId‰∏∫my-project.yamlÔºåÂàÜÁªÑ‰∏∫ÈªòËÆ§ÁöÑDEFAULT_GROUPÔºåÂëΩÂêçÁ©∫Èó¥‰∏∫ÈªòËÆ§ÁöÑpublic„ÄÇËøôÂ∞±ÊòØÊàë‰ª¨Âú®NacosÊéßÂà∂Âè∞‰∏≠Êñ∞Âª∫ÈÖçÁΩÆÊó∂ÁöÑÊ†πÊçÆ„ÄÇÈÖçÁΩÆÂàíÂàÜÂÆûÊàòNacosÈÖçÁΩÆ‰∏≠ÂøÉÁöÑnamespace„ÄÅdataIdÂíågroupÂèØ‰ª•Êñπ‰æøÁÅµÊ¥ªÂú∞ÂàíÂàÜÈÖçÁΩÆ„ÄÇÊØîÂ¶ÇÔºåÊàë‰ª¨Áé∞Âú®Êúâ‰∏Ä‰∏™È°πÁõÆÈúÄË¶ÅÂºÄÂèëÔºåÈ°πÁõÆÂêçÁß∞‰∏∫febsÔºåÈ°πÁõÆÂºÄÂèë‰∫∫ÂëòÂàÜ‰∏∫‰∏§‰∏™ÁªÑÔºöGROUP_AÂíåGROUP_BÔºåÈ°πÁõÆÂàÜ‰∏∫‰∏â‰∏™ÁéØÂ¢ÉÔºöÂºÄÂèëÁéØÂ¢Édev„ÄÅÊµãËØïÁéØÂ¢ÉtestÂíåÁîü‰∫ßÁéØÂ¢Éprod„ÄÇÂÅáÂ¶ÇÁé∞Âú®GROUP_AÁªÑÁöÑÁªÑÈïøÈúÄË¶ÅÂú®Nacos‰∏≠Êñ∞Âª∫‰∏Ä‰∏™ÂºÄÂèëÁéØÂ¢ÉÁöÑfebsÈ°πÁõÆÈÖçÁΩÆÔºåÈÇ£‰πà‰ªñÂèØ‰ª•ËøôÊ†∑ÂÅöÔºöÂú®NacosÊéßÂà∂Âè∞‰∏≠Êñ∞Âª∫‰∏Ä‰∏™ÂêçÁß∞‰∏∫febsÁöÑÂëΩÂêçÁ©∫Èó¥ÔºöÊñ∞Âª∫febsÂëΩÂêçÁ©∫Èó¥ÂêéÔºå‰ºöÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÊ†áËØÜËØ•ÂëΩÂêçÁ©∫Èó¥ÁöÑÂëΩÂêçÁ©∫Èó¥id2ef2186e-078c-4904-8643-ff5e90555456„ÄÇÂú®NacosÊéßÂà∂Âè∞‰∏≠Êñ∞Âª∫‰∏Ä‰∏™ÈÖçÁΩÆÔºöÊúÄÂêéÂú®febsÈ°πÁõÆÁöÑbootstrap.ymlÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÂç≥ÂèØÔºö1234567891011spring: profiles: active: dev cloud: nacos: config: server-addr: localhost:8848 file-extension: yaml prefix: febs namespace: '2ef2186e-078c-4904-8643-ff5e90555456' group: GROUP_AÈÖçÁΩÆÂõûÊªöNacos‰∏≠Ôºå‰øÆÊîπÈÖçÁΩÆÁÇπÂáªÂèëÂ∏ÉÂêé‰ºöÂàõÂª∫‰∏Ä‰∏™ÂØπÂ∫îÁöÑÂéÜÂè≤ÁâàÊú¨Âø´ÁÖßÔºåÊàë‰ª¨ÂèØ‰ª•Âú®NacosÊéßÂà∂Âè∞ÁöÑÂéÜÂè≤ÁâàÊú¨ÂàóË°®‰∏≠ÊâæÂà∞Ëøô‰∫õÂø´ÁÖßÔºöÁÇπÂáªÂõûÊªöÊåâÈíÆÂç≥ÂèØÂ∞ÜÈÖçÁΩÆÊÅ¢Â§çÂà∞ÊåáÂÆöÁöÑÁâàÊú¨„ÄÇËé∑ÂèñÂ§ö‰∏™ÈÖçÁΩÆÈô§‰∫ÜÈÄöËøá‰∏äÈù¢ÁöÑÊñπÂºèÊåáÂÆö‰∏Ä‰∏™ÂîØ‰∏ÄÈÖçÁΩÆÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÂêåÊó∂Ëé∑ÂèñÂ§ö‰∏™ÈÖçÁΩÆÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºåÊØîÂ¶ÇÔºåÂ∞ÜÈ°πÁõÆÁöÑbootstrap.ymlÂÜÖÂÆπ‰øÆÊîπ‰∏∫Ôºö123456789101112spring: cloud: nacos: config: server-addr: localhost:8848 extension-configs: - dataId: ext-config-one.yaml group: DEFAULT_GROUP refresh: true - dataId: ext-config-two.yaml group: DEFAULT_GROUP refresh: falsespring.cloud.nacos.config.extension-configs[n].dataIdÔºåÊåáÂÆöÂ§ö‰∏™ÈÖçÁΩÆÁöÑdataIdÔºåÂøÖÈ°ªÂåÖÂê´Êñá‰ª∂Ê†ºÂºèÔºåÊîØÊåÅproperties„ÄÅyamlÊàñymlÔºõspring.cloud.nacos.config.extension-configs[n].groupÔºåÊåáÂÆöÂàÜÁªÑÔºõspring.cloud.nacos.config.extension-configs[n].refreshÔºåÊòØÂê¶ÊîØÊåÅÂà∑Êñ∞„ÄÇ‰∏äÈù¢ÁöÑÈÖçÁΩÆ‰∏≠ÔºåÊàë‰ª¨ÂàÜÂà´‰ªéDEFAULT_GROUP‰∏≠Ëé∑Âèñ‰∫Üext-config-one.yamlÂíåext-config-two.yamlÈÖçÁΩÆÂÜÖÂÆπÔºåÂπ∂‰∏îext-config-one.yamlÊîØÊåÅÂà∑Êñ∞Ôºåext-config-two.yaml‰∏çÊîØÊåÅÂà∑Êñ∞„ÄÇÊ≤°ÊúânamespaceÁöÑÈÖçÁΩÆÔºåË®ÄÂ§ñ‰πãÊÑèÂ∞±ÊòØNacosÁõÆÂâçËøò‰∏çÊîØÊåÅÂ§ö‰∏™ÈÖçÁΩÆÊåáÂÆö‰∏çÂêåÁöÑÂëΩÂêçÁ©∫Èó¥„ÄÇÊàë‰ª¨Âú®NacosÊéßÂà∂Âè∞‰∏≠Êñ∞Âª∫Ëøô‰∏§‰∏™ÈÖçÁΩÆÔºöext-config-one.yamlÈÖçÁΩÆÂÜÖÂÆπÔºö1ext1: 'hello'ext-config-two.yamlÈÖçÁΩÆÂÜÖÂÆπÔºö1ext2: 'world'Âú®È°πÁõÆÁöÑTestController‰∏≠Ê∑ªÂä†Ôºö12345678910111213141516@RestController@RefreshScopepublic class TestController &#123; @Value("$&#123;ext1:null&#125;") private String ext1; @Value("$&#123;ext2:null&#125;") private String ext2; @GetMapping("multi") public String multiConfig() &#123; return String.format("ext1: %s ext2: %s", ext1, ext2); &#125; ...&#125;ÂêØÂä®È°πÁõÆÔºåÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:8080/multiÔºöÂ∞Üext1ÁöÑÂÄº‰øÆÊîπ‰∏∫niceÔºåext2ÁöÑÂÄº‰øÆÊîπ‰∏∫jobÔºöÂèØ‰ª•ÁúãÂà∞ext1ÁöÑÂÄºÊõ¥Êñ∞‰∫ÜÔºåext2Ê≤°ÊúâÊõ¥Êñ∞„ÄÇÂ§öÈÖçÁΩÆÂÖ±‰∫´Â§öÈÖçÁΩÆÂÖ±‰∫´ÂÖ∂ÂÆûÂíåËé∑ÂèñÂ§ö‰∏™Êñá‰ª∂ÈÖçÁΩÆ‰ΩúÁî®Â∑Æ‰∏çÂ§öÔºå‰∏ãÈù¢ÊºîÁ§∫‰∏ãÂ§öÈÖçÁΩÆÂÖ±‰∫´„ÄÇÂ∞Übootstrap.ymlÈÖçÁΩÆ‰øÆÊîπ‰∏∫Ôºö123456spring: cloud: nacos: config: server-addr: localhost:8848 shared-configs: ext-config-one.yaml,ext-config-two.yamlspring.cloud.nacos.config.shared-configsÊåáÂÆö‰∫ÜÂÖ±‰∫´ext-config-one.yamlÂíåext-config-two.yamlÁöÑÈÖçÁΩÆ„ÄÇÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/multiÔºö‰πüÂèØ‰ª•Ê≠£Â∏∏Ëé∑Âèñ„ÄÇÂèØ‰ª•ÁúãÂà∞ÔºåÊó†ËÆ∫ÊòØÂ§öÈÖçÁΩÆÂÖ±‰∫´ËøòÊòØËé∑ÂèñÂ§ö‰∏™ÈÖçÁΩÆÔºåË¶ÅÂÆåÊàêÁöÑ‰∫ãÊÉÖÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰∏çËøáÂÆÉ‰ª¨ÈÉΩÊúâÂêÑËá™ÁöÑÂ±ÄÈôêÊÄß„ÄÇÂ§öÈÖçÁΩÆÂÖ±‰∫´Êó†Ê≥ïÊåáÂÆöÂàÜÁªÑ„ÄÅÊó†Ê≥ïÊåáÂÆöÂëΩÂêçÁ©∫Èó¥„ÄÅÊó†Ê≥ïÈÖçÁΩÆÊòØÂê¶Âà∑Êñ∞ÔºõËé∑ÂèñÂ§ö‰∏™ÈÖçÁΩÆÁõ∏ÂØπËæÉ‰∏∫ÁÅµÊ¥ªÔºå‰∏çËøá‰πü‰∏çËÉΩÈÖçÁΩÆÂëΩÂêçÁ©∫Èó¥„ÄÇÂÖ∑‰ΩìÁõ∏ÂÖ≥ÁöÑËÆ®ËÆ∫ÂèØ‰ª•ÂèÇËÄÉÔºöhttps://github.com/alibaba/spring-cloud-alibaba/issues/141Â∏∏Áî®ÈÖçÁΩÆÈÖçÁΩÆÈ°πkeyÈªòËÆ§ÂÄºËØ¥ÊòéÊúçÂä°Á´ØÂú∞ÂùÄspring.cloud.nacos.config.server-addrDataIdÂâçÁºÄspring.cloud.nacos.config.prefixspring.application.nameGroupspring.cloud.nacos.config.groupDEFAULT_GROUPdataIDÂêéÁºÄÂèäÂÜÖÂÆπÊñá‰ª∂Ê†ºÂºèspring.cloud.nacos.config.file-extensionpropertiesdataIdÁöÑÂêéÁºÄÔºåÂêåÊó∂‰πüÊòØÈÖçÁΩÆÂÜÖÂÆπÁöÑÊñá‰ª∂Ê†ºÂºèÔºåÁõÆÂâçÂè™ÊîØÊåÅ propertiesÈÖçÁΩÆÂÜÖÂÆπÁöÑÁºñÁ†ÅÊñπÂºèspring.cloud.nacos.config.encodeUTF-8ÈÖçÁΩÆÁöÑÁºñÁ†ÅËé∑ÂèñÈÖçÁΩÆÁöÑË∂ÖÊó∂Êó∂Èó¥spring.cloud.nacos.config.timeout3000Âçï‰Ωç‰∏∫ msÈÖçÁΩÆÁöÑÂëΩÂêçÁ©∫Èó¥spring.cloud.nacos.config.namespaceÂ∏∏Áî®Âú∫ÊôØ‰πã‰∏ÄÊòØ‰∏çÂêåÁéØÂ¢ÉÁöÑÈÖçÁΩÆÁöÑÂå∫ÂàÜÈöîÁ¶ªÔºå‰æãÂ¶ÇÂºÄÂèëÊµãËØïÁéØÂ¢ÉÂíåÁîü‰∫ßÁéØÂ¢ÉÁöÑËµÑÊ∫êÈöîÁ¶ªÁ≠â„ÄÇAccessKeyspring.cloud.nacos.config.access-keySecretKeyspring.cloud.nacos.config.secret-keyÁõ∏ÂØπË∑ØÂæÑspring.cloud.nacos.config.context-pathÊúçÂä°Á´Ø API ÁöÑÁõ∏ÂØπË∑ØÂæÑÊé•ÂÖ•ÁÇπspring.cloud.nacos.config.endpointÂú∞ÂüüÁöÑÊüê‰∏™ÊúçÂä°ÁöÑÂÖ•Âè£ÂüüÂêçÔºåÈÄöËøáÊ≠§ÂüüÂêçÂèØ‰ª•Âä®ÊÄÅÂú∞ÊãøÂà∞ÊúçÂä°Á´ØÂú∞ÂùÄÊòØÂê¶ÂºÄÂêØÁõëÂê¨ÂíåËá™Âä®Âà∑Êñ∞spring.cloud.nacos.config.refresh.enabledtrueÂèÇËÄÉÈìæÊé•Ôºöhttps://github.com/alibaba/spring-cloud-alibaba/blob/master/spring-cloud-alibaba-examples/nacos-example/nacos-config-example/readme-zh.mdhttps://spring-cloud-alibaba-group.github.io/github-pages/greenwich/spring-cloud-alibaba.html#_spring_cloud_alibaba_nacos_configÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/75.spring-cloud-alibaba-nacos-config„ÄÇ]]></content>
      <tags>
        <tag>Spring Cloud</tag>
        <tag>Spring Cloud Alibaba</tag>
        <tag>Nacos</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud Alibaba NacosÊ≥®ÂÜå‰∏≠ÂøÉ]]></title>
    <url>%2FSpring-Cloud-Alibaba-Nacos%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83.html</url>
    <content type="text"><![CDATA[NacosÊòØ‰∏ÄÊ¨æÈõÜÊúçÂä°Ê≥®ÂÜåÂèëÁé∞„ÄÅÊúçÂä°ÈÖçÁΩÆÂíåÁÆ°ÁêÜ‰∫é‰∏ÄË∫´ÁöÑÂºÄÊ∫êËΩØ‰ª∂ÔºåËøôËäÇ‰∏ªË¶ÅËÆ∞ÂΩïNacosÁöÑÊúçÂä°Ê≥®ÂÜåÂèëÁé∞ÂäüËÉΩÁöÑ‰ΩøÁî®„ÄÇÂÄüÂä©Spring Cloud Alibaba Nacos DiscoveryÔºåÊàë‰ª¨ÂèØ‰ª•ËΩªÊùæÂú∞‰ΩøÁî®Spring CloudÁºñÁ®ãÊ®°Âûã‰ΩìÈ™åNacosÁöÑÊúçÂä°Ê≥®ÂÜåÂèëÁé∞ÂäüËÉΩ„ÄÇÊú¨ËäÇ‰ΩøÁî®ÁöÑSpring CloudÁâàÊú¨‰∏∫Hoxton.SR3ÔºåSpring Cloud AlibabaÁâàÊú¨‰∏∫2.2.0.RELEASEÔºåSpring BootÁâàÊú¨‰∏∫2.2.3.RELEASE„ÄÇNacosÂÆâË£ÖÂõ†‰∏∫Spring Cloud Alibaba 2.2.0.RELEASEÂÜÖÁΩÆÁöÑNacos clientÁâàÊú¨‰∏∫1.1.4ÔºåÊâÄ‰ª•Êàë‰ª¨‰ΩøÁî®Ëøô‰∏™ÁâàÊú¨ÁöÑNacos„ÄÇNacos‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://github.com/alibaba/nacos/releasesÔºåÈÄâÊã©nacos-server-1.1.4.zip ‰∏ãËΩΩÂπ∂Ëß£ÂéãÔºöËß£ÂéãÂêéÔºåÊâìÂºÄconfÁõÆÂΩï‰∏ãÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂú®Êú´Â∞æÊ∑ªÂä†Êï∞ÊçÆÊ∫êÈÖçÁΩÆÔºö12345spring.datasource.platform=mysqldb.num=1db.url.0=jdbc:mysql://localhost:3306/nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=truedb.user=rootdb.password=123456ÁÑ∂ÂêéÂú®MySQLÊï∞ÊçÆÂ∫ì‰∏≠Êñ∞Âª∫nacosÊï∞ÊçÆÂ∫ìÔºåÂπ∂ÂØºÂÖ•NacosËß£ÂéãÂåÖconfÁõÆÂΩï‰∏ãÁöÑnacos-mysql.sqlËÑöÊú¨ÔºåÂØºÂÖ•ÂêéÔºåÂ∫ìË°®Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊï∞ÊçÆÂ±ÇÂáÜÂ§áÂ•ΩÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂêØÂä®Nacos‰∫Ü„ÄÇÁ¨îËÄÖÁöÑÁîµËÑë‰∏∫MacÔºåÊâÄ‰ª•ËøôÈáå‰ª•UnixÁéØÂ¢É‰∏∫‰æã„ÄÇÁªàÁ´ØÂàáÊç¢Âà∞NacosËß£ÂéãÁõÆÂΩï‰∏ãÁöÑbinÁõÆÂΩïÔºåÁÑ∂ÂêéÊâßË°åsh startup.sh -m standaloneÂêØÂä®ÂçïÊú∫ÁâàNacos„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™run.shËÑöÊú¨Ôºö1234#/bin/bashsh shutdown.shsh startup.sh -m standalonetail -10f /Users/mrbird/Desktop/nacos/logs/start.outÂÖ∂‰∏≠/Users/mrbird/Desktop/nacos‰∏∫ÊàëÁöÑNacosËß£ÂéãÁõÆÂΩï„ÄÇÂêØÂä®ÂêéÔºåÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:8848/nacos/#/loginÔºöËØ¥ÊòéNacosÂêØÂä®ÊàêÂäüÔºåË¥¶Âè∑ÂØÜÁ†ÅÈÉΩ‰∏∫nacos„ÄÇÊ°ÜÊû∂Êê≠Âª∫‰ΩøÁî®IDEAÂàõÂª∫‰∏Ä‰∏™mavenÈ°πÁõÆÔºåartifactId‰∏∫spring-cloud-alibaba-nacos-registerÔºåÁÑ∂ÂêéÂú®ÂÖ∂‰∏ãÈù¢ÂàõÂª∫‰∏§‰∏™ModuleÔºàSpring BootÈ°πÁõÆÔºâÔºåartifactIdÂàÜÂà´‰∏∫consumerÂíåproviderÔºåÂÖÖÂΩìÊúçÂä°Ê∂àË¥πÁ´ØÂíåÊúçÂä°Êèê‰æõÁ´ØÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºöspring-cloud-alibaba-nacos-registerÁöÑpomÂÜÖÂÆπÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-nacos-register&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;modules&gt; &lt;module&gt;provider&lt;/module&gt; &lt;module&gt;consumer&lt;/module&gt; &lt;/modules&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.3.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;spring-cloud.version&gt;Hoxton.SR3&lt;/spring-cloud.version&gt; &lt;com-alibaba-cloud.version&gt;2.2.0.RELEASE&lt;/com-alibaba-cloud.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-nacos-discovery&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;com-alibaba-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt;&lt;/project&gt;Âõ†‰∏∫Êú¨ËäÇÊºîÁ§∫ÁöÑÊòØNacosÁöÑÊúçÂä°Ê≥®ÂÜåÂèëÁé∞ÂäüËÉΩÔºåÊâÄ‰ª•ÂºïÂÖ•ÁöÑÊòØspring-cloud-alibaba-nacos-discovery‰æùËµñ„ÄÇproviderÁöÑpomÁöÑÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-nacos-register&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt; &lt;/parent&gt; &lt;artifactId&gt;provider&lt;/artifactId&gt; &lt;name&gt;provider&lt;/name&gt; &lt;description&gt;ÊúçÂä°Êèê‰æõÁ´Ø&lt;/description&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;consumerÁöÑpomÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-nacos-register&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt; &lt;/parent&gt; &lt;artifactId&gt;consumer&lt;/artifactId&gt; &lt;name&gt;consumer&lt;/name&gt; &lt;description&gt;ÊúçÂä°Ê∂àË¥πÁ´Ø&lt;/description&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;Nacos‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÂú®providerÁöÑcc.mrbird.providerÁõÆÂΩï‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫HelloControllerÔºö123456789@RestController@RequestMapping("provide")public class HelloController &#123; @GetMapping("&#123;message&#125;") public String hello(@PathVariable String message) &#123; return String.format("hello %s", message); &#125;&#125;Êèê‰æõ‰∫Ü‰∏Ä‰∏™RESTÊé•Âè£Ôºå‰æõconsumerË∞ÉÁî®„ÄÇÁÑ∂ÂêéÂú®providerÁöÑÈ°πÁõÆÈÖçÁΩÆÊñá‰ª∂application.ymlÈáåÊ∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö12345678server: port: 8001spring: application: name: provider cloud: nacos: server-addr: localhost:8848server.portÔºåproviderÊúçÂä°Á´ØÂè£‰∏∫8001Ôºõspring.application.nameÔºåÊúçÂä°ÂêçÁß∞‰∏∫providerspring.cloud.nacos.server-addrÔºåÊåáÂÆöNacosÊ≥®ÂÜå‰∏≠ÂøÉÁöÑÂú∞ÂùÄ„ÄÇprovider‰ª£Á†ÅÂáÜÂ§áÂ•ΩÂêéÔºåÊé•ÁùÄÂú®consumerÈ°πÁõÆÁöÑcc.mrbird.consumerÁõÆÂΩï‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫ConsumeControllerÔºö1234567891011121314151617@RestController@RequestMapping("consume")public class ConsumeController &#123; @Autowired private LoadBalancerClient loadBalancerClient; @Autowired private RestTemplate restTemplate; @GetMapping("hello/&#123;message&#125;") public String hello(@PathVariable String message) &#123; ServiceInstance serviceInstance = loadBalancerClient.choose("provider"); String path = String.format("http://%s:%s/provide/%s", serviceInstance.getHost(), serviceInstance.getPort(), message); String result = restTemplate.getForObject(path, String.class); return String.format("%s from %s %s", result, serviceInstance.getHost(), serviceInstance.getPort()); &#125;&#125;Âõ†‰∏∫spring-cloud-alibaba-nacos-discoveryÂÜÖÁΩÆ‰∫ÜRibbonÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Ê≥®ÂÖ•LoadBalancerClientÔºåRestTemplateÊàë‰ª¨Á®çÂêéÂÜçÈÖçÁΩÆ„ÄÇhello()ÊñπÊ≥ï‰∏≠Êàë‰ª¨ÈÄöËøáÊúçÂä°Êèê‰æõËÄÖÁöÑÂêçÁß∞providerÔºàÂç≥providerÈ°πÁõÆÈÖçÁΩÆÁöÑspring.application.nameÔºâ‰ªéNacosÊ≥®ÂÜå‰∏≠ÂøÉ‰∏≠Ëé∑ÂèñÂØπÂ∫îÁöÑÊúçÂä°ÂÆû‰æãÔºåÁÑ∂ÂêéËÆøÈóÆÂÖ∂Êèê‰æõÁöÑ/provide/{message} GETÊúçÂä°„ÄÇËøô‰∫õÂú®Spring Cloud RibbonÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°‰∏ÄËäÇ‰∏≠ÈÉΩ‰ªãÁªçËøá‰∫ÜÔºåÊúâ‰∏çÊáÇÁöÑÂèØ‰ª•ÂèÇÈòÖ‰∏ã„ÄÇÊé•ÁùÄÂú®consumerÈ°πÁõÆÁöÑcc.mrbird.consumerÁõÆÂΩï‰∏ãÊñ∞Âª∫configureÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫ConsumerConfigureÔºö12345678@Configurationpublic class ConsumerConfigure &#123; @Bean public RestTemplate restTemplate() &#123; return new RestTemplate(); &#125;&#125;‰∏äÈù¢‰ª£Á†ÅÈÖçÁΩÆ‰∫ÜRestTemplate Bean„ÄÇÊúÄÂêéÂú®consumerÈ°πÁõÆÁöÑÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö12345678server: port: 9001spring: application: name: consumer cloud: nacos: server-addr: localhost:8848ÈÖçÁΩÆÂíåproviderÈ°πÁõÆÁ±ª‰ººÔºå‰∏çÂÜçËµòËø∞„ÄÇÂàÜÂà´ÂêØÂä®providerÂíåconsumerÈ°πÁõÆÔºöËßÇÂØüNacosÊéßÂà∂Âè∞ÊúçÂä°ÂàóË°®ÔºöÂèØ‰ª•ÁúãÂà∞Ôºå‰∏§‰∏™ÊúçÂä°ÈÉΩÊ≥®ÂÜåËøõÊù•‰∫Ü„ÄÇÊé•ÁùÄÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:9001/consume/hello/nacosÔºöË∞ÉÁî®ÊàêÂäüÔºåËØ¥ÊòéÊúçÂä°ÂèëÁé∞ÊàêÂäü„ÄÇÊµãËØïË¥üËΩΩÂùáË°°Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÂú®ProviderApplication‰∏äÂè≥ÈîÆÈÄâÊã©Copy Configuration‚Ä¶ÔºöÁÑ∂ÂêéÊåâÁÖß‰∏ãÂõæÊâÄÁ§∫Â°´ÂÜôÁõ∏ÂÖ≥ÂÜÖÂÆπÔºöÁÇπÂáªok‰øùÂ≠òÂêéÔºåÂêØÂä®ÂÆÉÔºöËßÇÂØüNacosÊéßÂà∂Âè∞ÔºåÂèØ‰ª•ÁúãÂà∞providerÂ∑≤ÁªèÊúâ‰∏§‰∏™ÂÆû‰æã‰∫ÜÔºöÁÑ∂ÂêéÂ§öÊ¨°ËÆøÈóÆÔºöhttp://localhost:9001/consume/hello/nacosÔºåÂèØ‰ª•ÁúãÂà∞ËØ∑Ê±ÇÊòØÂùáË°°ÁöÑÔºàÈªòËÆ§‰∏∫ËΩÆËØ¢ÁÆóÊ≥ïÔºâÔºöNacosÊ≥®ÂÜå‰∏≠ÂøÉÈÖçÁΩÆÊõ¥Â§öÂèØÁî®Nacos DescoveryÈÖçÁΩÆÔºöÈÖçÁΩÆÈ°πKeyÈªòËÆ§ÂÄºËØ¥ÊòéÊúçÂä°Á´ØÂú∞ÂùÄspring.cloud.nacos.discovery.server-addrÊó†Nacos Server ÂêØÂä®ÁõëÂê¨ÁöÑipÂú∞ÂùÄÂíåÁ´ØÂè£ÊúçÂä°Âêçspring.cloud.nacos.discovery.service${spring.application.name}ÁªôÂΩìÂâçÁöÑÊúçÂä°ÂëΩÂêçÊúçÂä°ÂàÜÁªÑspring.cloud.nacos.discovery.groupDEFAULT_GROUPËÆæÁΩÆÊúçÂä°ÊâÄÂ§ÑÁöÑÂàÜÁªÑÊùÉÈáçspring.cloud.nacos.discovery.weight1ÂèñÂÄºËåÉÂõ¥ 1 Âà∞ 100ÔºåÊï∞ÂÄºË∂äÂ§ßÔºåÊùÉÈáçË∂äÂ§ßÁΩëÂç°Âêçspring.cloud.nacos.discovery.network-interfaceÊó†ÂΩìIPÊú™ÈÖçÁΩÆÊó∂ÔºåÊ≥®ÂÜåÁöÑIP‰∏∫Ê≠§ÁΩëÂç°ÊâÄÂØπÂ∫îÁöÑIPÂú∞ÂùÄÔºåÂ¶ÇÊûúÊ≠§È°π‰πüÊú™ÈÖçÁΩÆÔºåÂàôÈªòËÆ§ÂèñÁ¨¨‰∏ÄÂùóÁΩëÂç°ÁöÑÂú∞ÂùÄÊ≥®ÂÜåÁöÑIPÂú∞ÂùÄspring.cloud.nacos.discovery.ipÊó†‰ºòÂÖàÁ∫ßÊúÄÈ´òÊ≥®ÂÜåÁöÑÁ´ØÂè£spring.cloud.nacos.discovery.port-1ÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏çÁî®ÈÖçÁΩÆÔºå‰ºöËá™Âä®Êé¢ÊµãÂëΩÂêçÁ©∫Èó¥spring.cloud.nacos.discovery.namespaceÊó†Â∏∏Áî®Âú∫ÊôØ‰πã‰∏ÄÊòØ‰∏çÂêåÁéØÂ¢ÉÁöÑÊ≥®ÂÜåÁöÑÂå∫ÂàÜÈöîÁ¶ªÔºå‰æãÂ¶ÇÂºÄÂèëÊµãËØïÁéØÂ¢ÉÂíåÁîü‰∫ßÁéØÂ¢ÉÁöÑËµÑÊ∫êÔºàÂ¶ÇÈÖçÁΩÆ„ÄÅÊúçÂä°ÔºâÈöîÁ¶ªÁ≠â„ÄÇAccessKeyspring.cloud.nacos.discovery.access-keyÊó†ÂΩìË¶Å‰∏äÈòøÈáå‰∫ëÊó∂ÔºåÈòøÈáå‰∫ë‰∏äÈù¢ÁöÑ‰∏Ä‰∏™‰∫ëË¥¶Âè∑ÂêçSecretKeyspring.cloud.nacos.discovery.secret-keyÊó†ÂΩìË¶Å‰∏äÈòøÈáå‰∫ëÊó∂ÔºåÈòøÈáå‰∫ë‰∏äÈù¢ÁöÑ‰∏Ä‰∏™‰∫ëË¥¶Âè∑ÂØÜÁ†ÅMetadataspring.cloud.nacos.discovery.metadataÊó†‰ΩøÁî®MapÊ†ºÂºèÈÖçÁΩÆÔºåÁî®Êà∑ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅËá™ÂÆö‰πâ‰∏Ä‰∫õÂíåÊúçÂä°Áõ∏ÂÖ≥ÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÊó•ÂøóÊñá‰ª∂Âêçspring.cloud.nacos.discovery.log-nameÊó†ÈõÜÁæ§spring.cloud.nacos.discovery.cluster-nameDEFAULTÈÖçÁΩÆÊàêNacosÈõÜÁæ§ÂêçÁß∞Êé•ÂÖ•ÁÇπspring.cloud.nacos.discovery.enpointUTF-8Âú∞ÂüüÁöÑÊüê‰∏™ÊúçÂä°ÁöÑÂÖ•Âè£ÂüüÂêçÔºåÈÄöËøáÊ≠§ÂüüÂêçÂèØ‰ª•Âä®ÊÄÅÂú∞ÊãøÂà∞ÊúçÂä°Á´ØÂú∞ÂùÄÊòØÂê¶ÈõÜÊàêRibbonribbon.nacos.enabledtrue‰∏ÄËà¨ÈÉΩËÆæÁΩÆÊàêtrueÂç≥ÂèØÊòØÂê¶ÂºÄÂêØNacos Watchspring.cloud.nacos.discovery.watch.enabledtrueÂèØ‰ª•ËÆæÁΩÆÊàêfalseÊù•ÂÖ≥Èó≠ watchÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/74.spring-cloud-alibaba-nacos-register„ÄÇÂèÇËÄÉËá™ÂÆòÊñπÊñáÊ°£Ôºöhttps://spring-cloud-alibaba-group.github.io/github-pages/greenwich/spring-cloud-alibaba.html#_spring_cloud_alibaba_nacos_discovery]]></content>
      <tags>
        <tag>Spring Cloud</tag>
        <tag>Spring Cloud Alibaba</tag>
        <tag>Nacos</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BatchÂºÇÂ∏∏Â§ÑÁêÜ]]></title>
    <url>%2FSpring-Batch%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html</url>
    <content type="text"><![CDATA[Spring BatchÂ§ÑÁêÜ‰ªªÂä°ËøáÁ®ã‰∏≠Â¶ÇÊûúÂèëÁîü‰∫ÜÂºÇÂ∏∏ÔºåÈªòËÆ§Êú∫Âà∂ÊòØÈ©¨‰∏äÂÅúÊ≠¢‰ªªÂä°ÊâßË°åÔºåÊäõÂá∫Áõ∏Â∫îÂºÇÂ∏∏ÔºåÂ¶ÇÊûú‰ªªÂä°ËøòÂåÖÂê´Êú™ÊâßË°åÁöÑÊ≠•È™§‰πü‰∏ç‰ºöË¢´ÊâßË°å„ÄÇË¶ÅÊîπÂèòËøô‰∏™ÈªòËÆ§ËßÑÂàôÔºåÊàë‰ª¨ÂèØ‰ª•ÈÖçÁΩÆÂºÇÂ∏∏ÈáçËØïÂíåÂºÇÂ∏∏Ë∑≥ËøáÊú∫Âà∂„ÄÇÂºÇÂ∏∏Ë∑≥ËøáÔºöÈÅáÂà∞ÂºÇÂ∏∏ÁöÑÊó∂ÂÄô‰∏çÂ∏åÊúõÁªìÊùü‰ªªÂä°ÔºåËÄåÊòØË∑≥ËøáËøô‰∏™ÂºÇÂ∏∏ÔºåÁªßÁª≠ÊâßË°åÔºõÂºÇÂ∏∏ÈáçËØïÔºöÈÅáÂà∞ÂºÇÂ∏∏ÁöÑÊó∂ÂÄôÁªèËøáÊåáÂÆöÊ¨°Êï∞ÁöÑÈáçËØïÔºåÂ¶ÇÊûúËøòÊòØÂ§±Ë¥•ÁöÑËØùÔºåÊâç‰ºöÂÅúÊ≠¢‰ªªÂä°„ÄÇÈô§‰∫ÜËøô‰∏§‰∏™ÁâπÊÄßÂ§ñÔºåÊú¨Êñá‰πü‰ºöËÆ∞ÂΩï‰∏Ä‰∫õÂà´ÁöÑÁâπÊÄß„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.2.4.RELEASEÔºåartifactId‰∏∫spring-batch-exceptionÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂâ©‰∏ãÁöÑÊï∞ÊçÆÂ∫ìÂ±ÇÁöÑÂáÜÂ§áÔºåÈ°πÁõÆÈÖçÁΩÆÔºå‰æùËµñÂºïÂÖ•ÂíåSpring BatchÂÖ•Èó®ÊñáÁ´†‰∏≠ÁöÑÊ°ÜÊû∂Êê≠Âª∫Ê≠•È™§‰∏ÄËá¥ÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÊºîÁ§∫‰∏ãÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãSpring BatchÂ§ÑÁêÜ‰ªªÂä°ÈÅáÂà∞ÂºÇÂ∏∏ÊòØÊÄé‰πàÂ§ÑÁêÜÁöÑ„ÄÇÂú®cc.mrbird.batchÁõÆÂΩï‰∏ãÊñ∞Âª∫jobÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫DefaultExceptionJobDemoÔºö123456789101112131415161718192021222324252627282930@Componentpublic class DefaultExceptionJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job defaultExceptionJob() &#123; return jobBuilderFactory.get("defaultExceptionJob") .start( stepBuilderFactory.get("step") .tasklet((stepContribution, chunkContext) -&gt; &#123; // Ëé∑ÂèñÊâßË°å‰∏ä‰∏ãÊñá ExecutionContext executionContext = chunkContext.getStepContext().getStepExecution().getExecutionContext(); if (executionContext.containsKey("success")) &#123; System.out.println("‰ªªÂä°ÊâßË°åÊàêÂäü"); return RepeatStatus.FINISHED; &#125; else &#123; String errorMessage = "Â§ÑÁêÜ‰ªªÂä°ËøáÁ®ãÂèëÁîüÂºÇÂ∏∏"; System.out.println(errorMessage); executionContext.put("success", true); throw new RuntimeException(errorMessage); &#125; &#125;).build() ).build(); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨Âú®StepÁöÑtasklet()ÊñπÊ≥ï‰∏≠Ëé∑Âèñ‰∫ÜÊâßË°å‰∏ä‰∏ãÊñáÔºåÂπ∂‰∏îÂà§Êñ≠ÊâßË°å‰∏ä‰∏ãÊñá‰∏≠ÊòØÂê¶ÂåÖÂê´keysuccessÔºåÂ¶ÇÊûúÂåÖÂê´ÔºåÂàô‰ªªÂä°ÊâßË°åÊàêÂäüÔºõÂ¶ÇÊûú‰∏çÂåÖÂê´ÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏ÔºàÊäõÂá∫ÂºÇÂ∏∏ÂâçÔºåÂú®ÊâßË°å‰∏ä‰∏ãÊñá‰∏≠Ê∑ªÂä†successkeyÔºâ„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö1234567891011122020-03-11 17:12:50.253 INFO 38673 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=defaultExceptionJob]] launched with the following parameters: [&#123;&#125;]2020-03-11 17:12:50.323 INFO 38673 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]Â§ÑÁêÜ‰ªªÂä°ËøáÁ®ãÂèëÁîüÂºÇÂ∏∏2020-03-11 17:12:50.352 ERROR 38673 --- [ main] o.s.batch.core.step.AbstractStep : Encountered an error executing step step in job defaultExceptionJobjava.lang.RuntimeException: Â§ÑÁêÜ‰ªªÂä°ËøáÁ®ãÂèëÁîüÂºÇÂ∏∏ at cc.mrbird.batch.job.DefaultExceptionJobDemo.lambda$defaultExceptionJob$0(DefaultExceptionJobDemo.java:38) ~[classes/:na] at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE]...ÂèØ‰ª•ÁúãÂà∞ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåSpring BatchÂ§ÑÁêÜ‰ªªÂä°ËøáÁ®ã‰∏≠Â¶ÇÊûúÂèëÁîü‰∫ÜÂºÇÂ∏∏‰ºöÈ©¨‰∏äÂÅúÊ≠¢‰ªªÂä°ÁöÑÊâßË°å„ÄÇÂÜçÊ¨°ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö123452020-03-11 17:14:03.184 INFO 38691 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=defaultExceptionJob]] launched with the following parameters: [&#123;&#125;]2020-03-11 17:14:03.264 INFO 38691 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]‰ªªÂä°ÊâßË°åÊàêÂäü2020-03-11 17:14:03.302 INFO 38691 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 37ms2020-03-11 17:14:03.326 INFO 38691 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=defaultExceptionJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 120msÂõ†‰∏∫Âú®‰∏äÊ¨°‰ªªÂä°ÊäõÂá∫ÂºÇÂ∏∏ÂâçÔºåÊàë‰ª¨Âú®ÊâßË°å‰∏ä‰∏ãÊñá‰∏≠Ê∑ªÂä†successkeyÔºàÈÖçÂêàMySQLÊåÅ‰πÖÂåñÔºå‰∏ç‰ºöÂõ†È°πÁõÆÂêØÂä®ËÄå‰∏¢Â§±Ôºâ„ÄÇÂºÇÂ∏∏ÈáçËØïSpring BatchÂÖÅËÆ∏Êàë‰ª¨ÈÖçÁΩÆ‰ªªÂä°Âú®ÈÅáÂà∞ÊåáÂÆöÂºÇÂ∏∏Êó∂ËøõË°åÊåáÂÆöÊ¨°Êï∞ÁöÑÈáçËØï„ÄÇÂú®Ê≠§‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂÆö‰πâ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂºÇÂ∏∏„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫exceptionÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫MyJobExecutionExceptionÔºö12345678public class MyJobExecutionException extends Exception&#123; private static final long serialVersionUID = 7168487913507656106L; public MyJobExecutionException(String message) &#123; super(message); &#125;&#125;ÁÑ∂ÂêéÂú®jobÂåÖ‰∏ãÊñ∞Âª∫RetryExceptionJobDemoÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546@Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job retryExceptionJob() &#123; return jobBuilderFactory.get("retryExceptionJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;String, String&gt;chunk(2) .reader(listItemReader()) .processor(myProcessor()) .writer(list -&gt; list.forEach(System.out::println)) .faultTolerant() // ÈÖçÁΩÆÈîôËØØÂÆπÂøç .retry(MyJobExecutionException.class) // ÈÖçÁΩÆÈáçËØïÁöÑÂºÇÂ∏∏Á±ªÂûã .retryLimit(3) // ÈáçËØï3Ê¨°Ôºå‰∏âÊ¨°ËøáÂêéËøòÊòØÂºÇÂ∏∏ÁöÑËØùÔºåÂàô‰ªªÂä°‰ºöÁªìÊùüÔºå // ÂºÇÂ∏∏ÁöÑÊ¨°Êï∞‰∏∫readerÔºåprocessorÂíåwriter‰∏≠ÁöÑÊÄªÊï∞ÔºåËøôÈáå‰ªÖÂú®processorÈáåÊºîÁ§∫ÂºÇÂ∏∏ÈáçËØï .build(); &#125; private ListItemReader&lt;String&gt; listItemReader() &#123; ArrayList&lt;String&gt; datas = new ArrayList&lt;&gt;(); IntStream.range(0, 5).forEach(i -&gt; datas.add(String.valueOf(i))); return new ListItemReader&lt;&gt;(datas); &#125; private ItemProcessor&lt;String, String&gt; myProcessor() &#123; return new ItemProcessor&lt;String, String&gt;() &#123; private int count; @Override public String process(String item) throws Exception &#123; System.out.println("ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö" + item); if (count &gt;= 2) &#123; return item; &#125; else &#123; count++; throw new MyJobExecutionException("‰ªªÂä°Â§ÑÁêÜÂá∫Èîô"); &#125; &#125; &#125;; &#125;Âú®step()ÊñπÊ≥ï‰∏≠ÔºåfaultTolerant()Ë°®Á§∫ÂºÄÂêØÂÆπÈîôÂäüËÉΩÔºåretry(MyJobExecutionException.class)Ë°®Á§∫ÈÅáÂà∞MyJobExecutionExceptionÂºÇÂ∏∏Êó∂ËøõË°åÈáçËØïÔºåretryLimit(3)Ë°®Á§∫Â¶ÇÊûúÁ¨¨‰∏âÊ¨°ÈáçËØïËøòÊòØÂ§±Ë¥•ÁöÑËØùÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏ÔºåÁªìÊùü‰ªªÂä°„ÄÇÈÄöËøáÂâçÈù¢ÁöÑÂ≠¶‰π†Êàë‰ª¨Áü•ÈÅìÔºåÊ≠•È™§StepÂåÖÊã¨ItemReader„ÄÅItemWriterÂíåItemProcessorÔºå‰∏äÈù¢ÈÖçÁΩÆÁöÑÈîôËØØÂÆπÂøçÊòØÈíàÂØπÊï¥‰∏™StepÁöÑÔºåÊâÄ‰ª•ÂÆπÂøçÁöÑÂºÇÂ∏∏Ê¨°Êï∞Â∫îËØ•ÊòØreaderÔºåprocessorÂíåwriter‰∏≠ÁöÑÊÄªÊï∞Ôºå‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰ªÖÂú®processorÈáåÊºîÁ§∫ÂºÇÂ∏∏ÈáçËØï„ÄÇmyProcessor()ÁöÑ‰ª£Á†ÅÈÄªËæëÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÂú®Ââç‰∏§Ê¨°ÁöÑÊó∂ÂÄôÊäõÂá∫MyJobExecutionException(&quot;‰ªªÂä°Â§ÑÁêÜÂá∫Èîô&quot;)ÂºÇÂ∏∏Ôºàcount &lt; 2ÔºâÔºåÁ¨¨‰∏âÊ¨°ÁöÑÊó∂ÂÄôÊ≠£Â∏∏ËøîÂõûitemÔºàcount = 2 &gt;= 2ÔºâÔºåÊâÄ‰ª•ÁêÜËÆ∫‰∏ä‰∏äÈù¢ÁöÑ‰ªªÂä°Âú®ÈáçËØï‰∏§Ê¨°‰πãÂêéÊ≠£Â∏∏ËøêË°å„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ÊâìÂç∞Êó•ÂøóÂ¶Ç‰∏ãÔºö123456789101112131415162020-03-12 09:04:53.359 INFO 40522 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=retryExceptionJob]] launched with the following parameters: [&#123;&#125;]2020-03-12 09:04:53.415 INFO 40522 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö0ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö0ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö0ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö101ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö2ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö323ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö442020-03-12 09:04:53.498 INFO 40522 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 83ms2020-03-12 09:04:53.522 INFO 40522 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=retryExceptionJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 152msÁªìÊûúÁ¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúü„ÄÇÂÅáÂ¶ÇÈÄöËøáretryLimit(2)Â∞ÜÈáçËØïÊ¨°Êï∞ËÆæÁΩÆ‰∏∫2ÔºåÂπ∂‰øÆÊîπ‰ªªÂä°ÁöÑÂêçÁß∞‰∏∫retryExceptionJob1ÔºåÂêØÂä®È°πÁõÆÁúãÁúãËøêË°åÁªìÊûúÂ¶Ç‰ΩïÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263v2020-03-12 09:06:48.855 INFO 40610 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=retryExceptionJob1]] launched with the following parameters: [&#123;&#125;]2020-03-12 09:06:48.933 INFO 40610 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö0ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö02020-03-12 09:06:48.979 ERROR 40610 --- [ main] o.s.batch.core.step.AbstractStep : Encountered an error executing step step in job retryExceptionJob1org.springframework.retry.RetryException: Non-skippable exception in recoverer while processing; nested exception is cc.mrbird.batch.exception.MyJobExecutionException: ‰ªªÂä°Â§ÑÁêÜÂá∫Èîô at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$2.recover(FaultTolerantChunkProcessor.java:289) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.retry.support.RetryTemplate.handleRetryExhausted(RetryTemplate.java:512) ~[spring-retry-1.2.5.RELEASE.jar:na] at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:351) ~[spring-retry-1.2.5.RELEASE.jar:na] at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:211) ~[spring-retry-1.2.5.RELEASE.jar:na] at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:217) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.transform(FaultTolerantChunkProcessor.java:298) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:210) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:410) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:319) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:147) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_231] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_231] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_231] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_231] at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at com.sun.proxy.$Proxy46.run(Unknown Source) [na:na] at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.execute(JobLauncherCommandLineRunner.java:192) [spring-boot-autoconfigure-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.executeLocalJobs(JobLauncherCommandLineRunner.java:166) [spring-boot-autoconfigure-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.launchJobFromProperties(JobLauncherCommandLineRunner.java:153) [spring-boot-autoconfigure-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.run(JobLauncherCommandLineRunner.java:148) [spring-boot-autoconfigure-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at cc.mrbird.batch.SpringBatchExceptionApplication.main(SpringBatchExceptionApplication.java:12) [classes/:na]Caused by: cc.mrbird.batch.exception.MyJobExecutionException: ‰ªªÂä°Â§ÑÁêÜÂá∫Èîô at cc.mrbird.batch.job.RetryExceptionJobDemo$1.process(RetryExceptionJobDemo.java:64) ~[classes/:na] at cc.mrbird.batch.job.RetryExceptionJobDemo$1.process(RetryExceptionJobDemo.java:55) ~[classes/:na] at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$1.doWithRetry(FaultTolerantChunkProcessor.java:233) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287) ~[spring-retry-1.2.5.RELEASE.jar:na] ... 43 common frames omitted2020-03-12 09:06:48.989 INFO 40610 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 56ms2020-03-12 09:06:49.019 INFO 40610 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=retryExceptionJob1]] completed with the following parameters: [&#123;&#125;] and the following status: [FAILED] in 152msÂºÇÂ∏∏Ê¨°Êï∞Ë∂ÖËøá‰∫ÜÈáçËØïÊ¨°Êï∞ÔºåÊâÄ‰ª•ÊäõÂá∫‰∫ÜÂºÇÂ∏∏„ÄÇÂºÇÂ∏∏Ë∑≥ËøáÊàë‰ª¨‰πüÂèØ‰ª•Âú®Step‰∏≠ÈÖçÁΩÆÂºÇÂ∏∏Ë∑≥ËøáÔºåÂç≥ÈÅáÂà∞ÊåáÂÆöÁ±ªÂûãÂºÇÂ∏∏Êó∂ÂøΩÁï•Ë∑≥ËøáÂÆÉÔºåÂú®jobÂåÖ‰∏ãÊñ∞Âª∫SkipExceptionJobDemoÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445@Componentpublic class SkipExceptionJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job skipExceptionJob() &#123; return jobBuilderFactory.get("skipExceptionJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;String, String&gt;chunk(2) .reader(listItemReader()) .processor(myProcessor()) .writer(list -&gt; list.forEach(System.out::println)) .faultTolerant() // ÈÖçÁΩÆÈîôËØØÂÆπÂøç .skip(MyJobExecutionException.class) // ÈÖçÁΩÆË∑≥ËøáÁöÑÂºÇÂ∏∏Á±ªÂûã .skipLimit(1) // ÊúÄÂ§öË∑≥Ëøá1Ê¨°Ôºå1Ê¨°ËøáÂêéËøòÊòØÂºÇÂ∏∏ÁöÑËØùÔºåÂàô‰ªªÂä°‰ºöÁªìÊùüÔºå // ÂºÇÂ∏∏ÁöÑÊ¨°Êï∞‰∏∫readerÔºåprocessorÂíåwriter‰∏≠ÁöÑÊÄªÊï∞ÔºåËøôÈáå‰ªÖÂú®processorÈáåÊºîÁ§∫ÂºÇÂ∏∏Ë∑≥Ëøá .build(); &#125; private ListItemReader&lt;String&gt; listItemReader() &#123; ArrayList&lt;String&gt; datas = new ArrayList&lt;&gt;(); IntStream.range(0, 5).forEach(i -&gt; datas.add(String.valueOf(i))); return new ListItemReader&lt;&gt;(datas); &#125; private ItemProcessor&lt;String, String&gt; myProcessor() &#123; return item -&gt; &#123; System.out.println("ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö" + item); if ("2".equals(item)) &#123; throw new MyJobExecutionException("‰ªªÂä°Â§ÑÁêÜÂá∫Èîô"); &#125; else &#123; return item; &#125; &#125;; &#125;&#125;Âú®step()ÊñπÊ≥ï‰∏≠ÔºåfaultTolerant()Ë°®Á§∫ÂºÄÂêØÂÆπÈîôÂäüËÉΩÔºåskip(MyJobExecutionException.class)Ë°®Á§∫ÈÅáÂà∞MyJobExecutionExceptionÂºÇÂ∏∏Êó∂Ë∑≥ËøáÔºåskipLimit(1)Ë°®Á§∫Âè™Ë∑≥Ëøá‰∏ÄÊ¨°„ÄÇmyProcessor()ÁöÑÈÄªËæëÊòØÔºåÂΩìÂ§ÑÁêÜÁöÑitemÂÄº‰∏∫‚Äù2‚ÄúÁöÑÊó∂ÂÄôÔºåÊäõÂá∫MyJobExecutionException(&quot;‰ªªÂä°Â§ÑÁêÜÂá∫Èîô&quot;)ÂºÇÂ∏∏„ÄÇÊ≠§Â§ñÊàë‰ª¨ËøòÂèØ‰ª•ÈÖçÁΩÆSkipListenerÁ±ªÂûãÁõëÂê¨Âô®ÔºåÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫listenerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫MySkipListenerÔºö1234567891011121314151617@Componentpublic class MySkipListener implements SkipListener&lt;String, String&gt; &#123; @Override public void onSkipInRead(Throwable t) &#123; System.out.println("Âú®ËØªÂèñÊï∞ÊçÆÁöÑÊó∂ÂÄôÈÅáÂà∞ÂºÇÂ∏∏Âπ∂Ë∑≥ËøáÔºåÂºÇÂ∏∏Ôºö" + t.getMessage()); &#125; @Override public void onSkipInWrite(String item, Throwable t) &#123; System.out.println("Âú®ËæìÂá∫Êï∞ÊçÆÁöÑÊó∂ÂÄôÈÅáÂà∞ÂºÇÂ∏∏Âπ∂Ë∑≥ËøáÔºåÂæÖËæìÂá∫Êï∞ÊçÆÔºö" + item + "ÔºåÂºÇÂ∏∏Ôºö" + t.getMessage()); &#125; @Override public void onSkipInProcess(String item, Throwable t) &#123; System.out.println("Âú®Â§ÑÁêÜÊï∞ÊçÆÁöÑÊó∂ÂÄôÈÅáÂà∞ÂºÇÂ∏∏Âπ∂Ë∑≥ËøáÔºåÂæÖËæìÂá∫Êï∞ÊçÆÔºö" + item + "ÔºåÂºÇÂ∏∏Ôºö" + t.getMessage()); &#125;&#125;ÁÑ∂ÂêéÂ∞ÜÂÆÉÊ≥®ÂÖ•Âà∞SkipExceptionJobDemoÔºåÂπ∂ÈÖçÁΩÆÔºö12345678910111213141516171819202122232425@Componentpublic class SkipExceptionJobDemo &#123; .... @Autowired private MySkipListener mySkipListener; .... private Step step() &#123; return stepBuilderFactory.get("step") .&lt;String, String&gt;chunk(2) .reader(listItemReader()) .processor(myProcessor()) .writer(list -&gt; list.forEach(System.out::println)) .faultTolerant() // ÈÖçÁΩÆÈîôËØØÂÆπÂøç .skip(MyJobExecutionException.class) // ÈÖçÁΩÆË∑≥ËøáÁöÑÂºÇÂ∏∏Á±ªÂûã .skipLimit(1) // ÊúÄÂ§öË∑≥Ëøá1Ê¨°Ôºå1Ê¨°ËøáÂêéËøòÊòØÂºÇÂ∏∏ÁöÑËØùÔºåÂàô‰ªªÂä°‰ºöÁªìÊùüÔºå // ÂºÇÂ∏∏ÁöÑÊ¨°Êï∞‰∏∫readerÔºåprocessorÂíåwriter‰∏≠ÁöÑÊÄªÊï∞ÔºåËøôÈáå‰ªÖÂú®processorÈáåÊºîÁ§∫ÂºÇÂ∏∏Ë∑≥Ëøá .listener(mySkipListener) .build(); &#125; ....&#125;ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345678910111213142020-03-12 09:23:33.528 INFO 40759 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=skipExceptionJob]] launched with the following parameters: [&#123;&#125;]2020-03-12 09:23:33.664 INFO 40759 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö0ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö101ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö2ÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö33Âú®Â§ÑÁêÜÊï∞ÊçÆÁöÑÊó∂ÂÄôÈÅáÂà∞ÂºÇÂ∏∏Âπ∂Ë∑≥ËøáÔºåÂæÖËæìÂá∫Êï∞ÊçÆÔºö2ÔºåÂºÇÂ∏∏Ôºö‰ªªÂä°Â§ÑÁêÜÂá∫ÈîôÂΩìÂâçÂ§ÑÁêÜÁöÑÊï∞ÊçÆÔºö442020-03-12 09:23:33.854 INFO 40759 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 190ms2020-03-12 09:23:33.885 INFO 40759 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=skipExceptionJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 324ms‰∫ãÂä°ÈóÆÈ¢ò‰∏ÄÊ¨°SetpÂàÜ‰∏∫Reader„ÄÅProcessorÂíåWriter‰∏â‰∏™Èò∂ÊÆµÔºåËøô‰∫õÈò∂ÊÆµÁªüÁß∞‰∏∫Item„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂ¶ÇÊûúÈîôËØØ‰∏çÊòØÂèëÁîüÂú®ReaderÈò∂ÊÆµÔºåÈÇ£‰πàÊ≤°ÂøÖË¶ÅÂÜçÂéªÈáçÊñ∞ËØªÂèñ‰∏ÄÊ¨°Êï∞ÊçÆ„ÄÇ‰ΩÜÊòØÊüê‰∫õÂú∫ÊôØ‰∏ãÈúÄË¶ÅReaderÈÉ®ÂàÜ‰πüÈúÄË¶ÅÈáçÊñ∞ÊâßË°åÔºåÊØîÂ¶ÇReaderÊòØ‰ªé‰∏Ä‰∏™JMSÈòüÂàó‰∏≠Ê∂àË¥πÊ∂àÊÅØÔºåÂΩìÂèëÁîüÂõûÊªöÁöÑÊó∂ÂÄôÊ∂àÊÅØ‰πü‰ºöÂú®ÈòüÂàó‰∏äÈáçÊîæÔºåÂõ†Ê≠§‰πüË¶ÅÂ∞ÜReaderÁ∫≥ÂÖ•Âà∞ÂõûÊªöÁöÑ‰∫ãÁâ©‰∏≠ÔºåÊ†πÊçÆËøô‰∏™Âú∫ÊôØÂèØ‰ª•‰ΩøÁî®readerIsTransactionalQueue()Êù•ÈÖçÁΩÆÊï∞ÊçÆÈáçËØªÔºö12345678private Step step() &#123; return stepBuilderFactory.get("step") .&lt;String, String&gt;chunk(2) .reader(listItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .readerIsTransactionalQueue() // Ê∂àÊÅØÈòüÂàóÊï∞ÊçÆÈáçËØª .build();&#125;Êàë‰ª¨ËøòÂèØ‰ª•Âú®Step‰∏≠ÊâãÂä®ÈÖçÁΩÆ‰∫ãÂä°Â±ûÊÄßÔºå‰∫ãÁâ©ÁöÑÂ±ûÊÄßÂåÖÊã¨ÈöîÁ¶ªÁ≠âÁ∫ßÔºàisolationÔºâ„ÄÅ‰º†Êí≠ÊñπÂºèÔºàpropagationÔºâ‰ª•ÂèäËøáÊúüÊó∂Èó¥ÔºàtimeoutÔºâÁ≠âÔºö12345678910111213private Step step() &#123; DefaultTransactionAttribute attribute = new DefaultTransactionAttribute(); attribute.setPropagationBehavior(Propagation.REQUIRED.value()); attribute.setIsolationLevel(Isolation.DEFAULT.value()); attribute.setTimeout(30); return stepBuilderFactory.get("step") .&lt;String, String&gt;chunk(2) .reader(listItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .transactionAttribute(attribute) .build();&#125;ÈáçÂêØÊú∫Âà∂ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰ªªÂä°ÊâßË°åÂÆåÊØïÁöÑÁä∂ÊÄÅ‰∏∫COMPLETEDÔºåÂÜçÊ¨°ÂêØÂä®È°πÁõÆÔºåËØ•‰ªªÂä°ÁöÑStep‰∏ç‰ºöÂÜçÊâßË°åÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆallowStartIfComplete(true)Êù•ÂÆûÁé∞ÊØèÊ¨°È°πÁõÆÈáçÊñ∞ÂêØÂä®ÈÉΩÂ∞ÜÊâßË°åËøô‰∏™StepÔºö12345678private Step step() &#123; return stepBuilderFactory.get("step") .&lt;String, String&gt;chunk(2) .reader(listItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .allowStartIfComplete(true) .build();&#125;Êüê‰∫õStepÂèØËÉΩÁî®‰∫éÂ§ÑÁêÜ‰∏Ä‰∫õÂÖàÂÜ≥ÁöÑ‰ªªÂä°ÔºåÊâÄ‰ª•ÂΩìJobÂÜçÊ¨°ÈáçÂêØÊó∂ËøôStepÂ∞±Ê≤°ÂøÖË¶ÅÂÜçÊâßË°åÔºåÂèØ‰ª•ÈÄöËøáËÆæÁΩÆstartLimit()Êù•ÈôêÂÆöÊüê‰∏™StepÈáçÂêØÁöÑÊ¨°Êï∞„ÄÇÂΩìËÆæÁΩÆ‰∏∫1Êó∂ÂÄôË°®Á§∫‰ªÖ‰ªÖËøêË°å‰∏ÄÊ¨°ÔºåËÄåÂá∫Áé∞ÈáçÂêØÊó∂Â∞Ü‰∏çÂÜçÊâßË°åÔºö12345678private Step step() &#123; return stepBuilderFactory.get("step") .&lt;String, String&gt;chunk(2) .reader(listItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .startLimit(1) .build();&#125;ÈÉ®ÂàÜÂÜÖÂÆπÂèÇËÄÉËá™Ôºöhttps://blog.csdn.net/sswltt/article/details/103817645Êú¨Á´†Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/72.spring-batch-exception„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Spring Batch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Batch‰ªªÂä°Ë∞ÉÂ∫¶]]></title>
    <url>%2FSpring-Batch%E4%BD%9C%E4%B8%9A%E8%B0%83%E5%BA%A6.html</url>
    <content type="text"><![CDATA[Âú®ÂâçÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÈÖçÁΩÆÁöÑ‰ªªÂä°ÈÉΩÊòØÂú®È°πÁõÆÂêØÂä®ÁöÑÊó∂ÂÄôËá™Âä®ËøêË°åÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáJobLauncherÊàñËÄÖJobOperatorÊâãÂä®ÊéßÂà∂‰ªªÂä°ÁöÑËøêË°åÊó∂Êú∫ÔºåËøôËäÇËÆ∞ÂΩï‰∏ãÂÆÉ‰ª¨ÁöÑÁî®Ê≥ï„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.2.4.RELEASEÔºåartifactId‰∏∫spring-batch-launcherÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂâ©‰∏ãÁöÑÊï∞ÊçÆÂ∫ìÂ±ÇÁöÑÂáÜÂ§áÔºåÈ°πÁõÆÈÖçÁΩÆÔºå‰æùËµñÂºïÂÖ•ÂíåSpring BatchÂÖ•Èó®ÊñáÁ´†‰∏≠ÁöÑÊ°ÜÊû∂Êê≠Âª∫Ê≠•È™§‰∏ÄËá¥ÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇÊ≠§Â§ñÔºåÊú¨ËäÇÊàë‰ª¨ÈúÄË¶ÅÊºîÁ§∫Âú®ControllerÈáåÈÄöËøáJobLauncherÊàñËÄÖJobOperatorË∞ÉÂ∫¶‰ªªÂä°ÔºåÊâÄ‰ª•Êàë‰ª¨ËøòÈúÄÂú®pomÈáåÂºïÂÖ•web‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂáÜÂ§á‰∏™‰ªªÂä°ÔºåÁî®‰∫éÂêéÁª≠ÊµãËØï„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫jobÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫MyJobÔºö123456789101112131415161718192021222324252627@Componentpublic class MyJob&#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job job()&#123; return jobBuilderFactory.get("job") .start(step()) .build(); &#125; private Step step()&#123; return stepBuilderFactory.get("step") .tasklet((stepContribution, chunkContext) -&gt; &#123; StepExecution stepExecution = chunkContext.getStepContext().getStepExecution(); Map&lt;String, JobParameter&gt; parameters = stepExecution.getJobParameters().getParameters(); System.out.println(parameters.get("message").getValue()); return RepeatStatus.FINISHED; &#125;) .listener(this) .build(); &#125;&#125;Âú®step()ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáÊâßË°å‰∏ä‰∏ãÊñáËé∑Âèñ‰∫Ükey‰∏∫messageÁöÑÂèÇÊï∞ÂÄº„ÄÇJobLauncherÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫JobControllerÔºö12345678910111213141516171819@RestController@RequestMapping("job")public class JobController &#123; @Autowired private Job job; @Autowired private JobLauncher jobLauncher; @GetMapping("launcher/&#123;message&#125;") public String launcher(@PathVariable String message) throws Exception &#123; JobParameters parameters = new JobParametersBuilder() .addString("message", message) .toJobParameters(); // Â∞ÜÂèÇÊï∞‰º†ÈÄíÁªô‰ªªÂä° jobLauncher.run(job, parameters); return "success"; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨Ê≥®ÂÖ•‰∫ÜJobLauncherÂíå‰∏äÈù¢ÈÖçÁΩÆÁöÑJobÔºåÁÑ∂ÂêéÈÄöËøáJobLauncherÁöÑrun(Job job, JobParameters jobParameters)ÊñπÊ≥ïËøêË°åÊåáÂÆöÁöÑ‰ªªÂä°JobÔºåÂπ∂‰∏î‰º†ÈÄí‰∫ÜÂèÇÊï∞„ÄÇË¶ÅÂÖ≥Èó≠Spring BatchÂêØÂä®È°πÁõÆËá™Âä®ËøêË°å‰ªªÂä°ÁöÑÊú∫Âà∂ÔºåÈúÄË¶ÅÂú®È°πÁõÆÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö1234spring: batch: job: enabled: falseÂêØÂä®È°πÁõÆÔºåÂú®ÊµèËßàÂô®Âú∞ÂùÄÊ†èËÆøÈóÆÔºöhttp://localhost:8080/job/launcher/helloÔºöÈ°πÁõÆÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö123452020-03-12 10:24:31.547 INFO 41266 --- [nio-8080-exec-4] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=job]] launched with the following parameters: [&#123;message=hello&#125;]2020-03-12 10:24:31.583 INFO 41266 --- [nio-8080-exec-4] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]hello2020-03-12 10:24:31.610 INFO 41266 --- [nio-8080-exec-4] o.s.batch.core.step.AbstractStep : Step: [step] executed in 27ms2020-03-12 10:24:31.632 INFO 41266 --- [nio-8080-exec-4] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=job]] completed with the following parameters: [&#123;message=hello&#125;] and the following status: [COMPLETED] in 76msÊ≠§Â§ñÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºöÂêåÊ†∑ÁöÑÂèÇÊï∞ÔºåÂêåÊ†∑ÁöÑ‰ªªÂä°ÂÜçÊ¨°ËøêË°åÁöÑÊó∂ÂÄôÂ∞ÜÊäõÂá∫JobInstanceAlreadyCompleteExceptionÂºÇÂ∏∏ÔºåÊØîÂ¶ÇÂú®ÊµèËßàÂô®‰∏≠ÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8080/job/launcher/helloÔºåÈ°πÁõÆÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345678org.springframework.batch.core.repository.JobInstanceAlreadyCompleteException: A job instance already exists and is complete for parameters=&#123;message=hello&#125;. If you want to run this job again, change the parameters. at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:131) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_231] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_231] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_231] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_231] at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] ...ÊâÄ‰ª•Êàë‰ª¨Âú®‰ªªÂä°Ë∞ÉÂ∫¶ÁöÑÊó∂ÂÄôÔºåÂ∫îÈÅøÂÖçÂèÇÊï∞ÈáçÂ§ç„ÄÇJobOperatorÂú®JobControllerÈáåÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÁ´ØÁÇπÔºö1234567891011121314@RestController@RequestMapping("job")public class JobController &#123; @Autowired private JobOperator jobOperator; @GetMapping("operator/&#123;message&#125;") public String operator(@PathVariable String message) throws Exception &#123; // ‰º†ÈÄí‰ªªÂä°ÂêçÁß∞ÔºåÂèÇÊï∞‰ΩøÁî® kvÊñπÂºè jobOperator.start("job", "message=" + message); return "success"; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨Ê≥®ÂÖ•‰∫ÜJobOperatorÔºåJobOperatorÁöÑstart(String jobName, String parameters)ÊñπÊ≥ï‰º†ÂÖ•ÁöÑÊòØ‰ªªÂä°ÁöÑÂêçÁß∞Ôºà‰ªªÂä°Âú®Spring IOCÂÆπÂô®‰∏≠ÁöÑÂêçÁß∞Ôºâ,Âπ∂‰∏îÂèÇÊï∞‰ΩøÁî®key-valueÁöÑÊñπÂºè‰º†ÈÄí„ÄÇË¶ÅÈÄöËøá‰ªªÂä°ÂêçÁß∞Ëé∑ÂèñÂà∞Áõ∏Â∫îÁöÑBeanÔºåËøòÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∏™È¢ùÂ§ñÁöÑÈÖçÁΩÆ„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫configureÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫JobConfigureÔºö123456789101112131415@Configurationpublic class JobConfigure &#123; /** * Ê≥®ÂÜåJobRegistryBeanPostProcessor bean * Áî®‰∫éÂ∞Ü‰ªªÂä°ÂêçÁß∞ÂíåÂÆûÈôÖÁöÑ‰ªªÂä°ÂÖ≥ËÅîËµ∑Êù• */ @Bean public JobRegistryBeanPostProcessor processor(JobRegistry jobRegistry, ApplicationContext applicationContext) &#123; JobRegistryBeanPostProcessor postProcessor = new JobRegistryBeanPostProcessor(); postProcessor.setJobRegistry(jobRegistry); postProcessor.setBeanFactory(applicationContext.getAutowireCapableBeanFactory()); return postProcessor; &#125;&#125;Â¶ÇÊûúÊ≤°ÊúâËøôÊÆµÈÖçÁΩÆÔºåÂú®‰ªªÂä°Ë∞ÉÂ∫¶ÁöÑÊó∂ÂÄôÂ∞ÜÊä•org.springframework.batch.core.launch.NoSuchJobException: No job configuration with the name [job] was registered„ÄÇÂêØÂä®‰ªªÂä°ÔºåÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:8080/job/operator/mrbirdÔºöÈ°πÁõÆÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345672020-03-12 10:51:20.174 INFO 41405 --- [nio-8080-exec-2] o.s.b.c.l.support.SimpleJobOperator : Checking status of job with name=job2020-03-12 10:51:20.183 INFO 41405 --- [nio-8080-exec-2] o.s.b.c.l.support.SimpleJobOperator : Attempting to launch job with name=job and parameters=message=mrbird2020-03-12 10:51:20.239 INFO 41405 --- [nio-8080-exec-2] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=job]] launched with the following parameters: [&#123;message=mrbird&#125;]2020-03-12 10:51:20.293 INFO 41405 --- [nio-8080-exec-2] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]mrbird2020-03-12 10:51:20.324 INFO 41405 --- [nio-8080-exec-2] o.s.batch.core.step.AbstractStep : Step: [step] executed in 31ms2020-03-12 10:51:20.344 INFO 41405 --- [nio-8080-exec-2] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=job]] completed with the following parameters: [&#123;message=mrbird&#125;] and the following status: [COMPLETED] in 83msJobOperatorÂåÖÂê´‰∫ÜËÆ∏Â§öÂÆûÁî®ÁöÑÊñπÊ≥ïÔºöÂÖ∑‰ΩìÂèØ‰ª•Ëá™Â∑±Â∞ùËØïÁé©‰∏ÄÁé©„ÄÇÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/73.spring-batch-launcher„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Spring Batch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BatchÁõëÂê¨Âô®]]></title>
    <url>%2FSpring-Batch%E7%9B%91%E5%90%AC%E5%99%A8.html</url>
    <content type="text"><![CDATA[Spring BatchÊèê‰æõ‰∫ÜÂ§öÁßçÁõëÂê¨Âô®ListenerÔºåÁî®‰∫éÂú®‰ªªÂä°Â§ÑÁêÜËøáÁ®ã‰∏≠Ëß¶ÂèëÊàë‰ª¨ÁöÑÈÄªËæë‰ª£Á†Å„ÄÇÂ∏∏Áî®ÁöÑÁõëÂê¨Âô®Ê†πÊçÆÁ≤íÂ∫¶‰ªéÁ≤óÂà∞ÁªÜÂàÜÂà´ÊúâÔºöJobÁ∫ßÂà´ÁöÑÁõëÂê¨Âô®JobExecutionListener„ÄÅStepÁ∫ßÂà´ÁöÑÁõëÂê¨Âô®StepExecutionListener„ÄÅChunkÁõëÂê¨Âô®ChunkListener„ÄÅItemReaderÁõëÂê¨Âô®ItemReadListener„ÄÅItemWriterÁõëÂê¨Âô®ItemWriteListenerÂíåItemProcessorÁõëÂê¨Âô®ItemProcessListenerÁ≠â„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉ‰∏ãË°®ÔºöÁõëÂê¨Âô®ÂÖ∑‰ΩìËØ¥ÊòéJobExecutionListenerÂú®JobÂºÄÂßã‰πãÂâç(beforeJob)Âíå‰πãÂêé(aflerJob)Ëß¶ÂèëStepExecutionListenerÂú®StepÂºÄÂßã‰πãÂâç(beforeStep)Âíå‰πãÂêé(afterStep)Ëß¶ÂèëChunkListenerÂú® Chunk ÂºÄÂßã‰πãÂâç(beforeChunk),‰πãÂêé(afterChunk)ÂíåÈîôËØØÂêé(afterChunkError)Ëß¶ÂèëItemReadListenerÂú® Read ÂºÄÂßã‰πãÂâç(beforeRead&gt;,‰πãÂêé(afterRead)ÂíåÈîôËØØÂêé(onReadError)Ëß¶ÂèëItemProcessListenerÂú® Processor ÂºÄÂßã‰πãÂâç(beforeProcess),‰πãÂêé(afterProcess)ÂíåÈîôËØØÂêé(onProcessError)Ëß¶ÂèëItemWriterListenerÂú® Writer ÂºÄÂßã‰πãÂâç(beforeWrite),‰πãÂêé(afterWrite)ÂíåÈîôËØØÂêé(onWriteError)Ëß¶ÂèëÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.2.4.RELEASEÔºåartifactId‰∏∫spring-batch-listenerÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂâ©‰∏ãÁöÑÊï∞ÊçÆÂ∫ìÂ±ÇÁöÑÂáÜÂ§áÔºåÈ°πÁõÆÈÖçÁΩÆÔºå‰æùËµñÂºïÂÖ•ÂíåSpring BatchÂÖ•Èó®ÊñáÁ´†‰∏≠ÁöÑÊ°ÜÊû∂Êê≠Âª∫Ê≠•È™§‰∏ÄËá¥ÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇÁõëÂê¨Âô®ÊºîÁ§∫ÊØèÁßçÁõëÂê¨Âô®ÈÉΩÂèØ‰ª•ÈÄöËøá‰∏§ÁßçÊñπÂºè‰ΩøÁî®ÔºöÊé•Âè£ÂÆûÁé∞ÔºõÊ≥®Ëß£È©±Âä®„ÄÇÂÖàÊù•ÁúãÁúãÈÄöËøáÂÆûÁé∞Êé•Âè£ÁöÑÊñπÂºè‰ΩøÁî®ÁõëÂê¨Âô®„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫listenerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫MyJobExecutionListenerÔºåÂÆûÁé∞JobExecutionListenerÊé•Âè£Ôºö12345678910111213@Componentpublic class MyJobExecutionListener implements JobExecutionListener &#123; @Override public void beforeJob(JobExecution jobExecution) &#123; System.out.println("before job execute: " + jobExecution.getJobInstance().getJobName()); &#125; @Override public void afterJob(JobExecution jobExecution) &#123; System.out.println("after job execute: " + jobExecution.getJobInstance().getJobName()); &#125;&#125;‰∏äÈù¢ÂÆûÁé∞ÁöÑ‰∏§‰∏™ÊñπÊ≥ïÂæàÁõ¥ËßÇ‰∫ÜÔºåËß¶ÂèëÊó∂Êú∫ÂàÜÂà´‰∏∫‰ªªÂä°ÊâßË°åÂâçÂíå‰ªªÂä°ÊâßË°åÂêé„ÄÇÊé•ÁùÄÁúãÁúãÂ¶Ç‰Ωï‰ΩøÁî®Ê≥®Ëß£È©±Âä®‰ΩøÁî®ÁõëÂê¨Âô®„ÄÇÂú®listenerÂåÖ‰∏ãÊñ∞Âª∫MyStepExecutionListenerÔºö12345678910111213@Componentpublic class MyStepExecutionListener &#123; @BeforeStep public void breforeStep(StepExecution stepExecution) &#123; System.out.println("before step execute: " + stepExecution.getStepName()); &#125; @AfterStep public void afterStep(StepExecution stepExecution) &#123; System.out.println("after step execute: " + stepExecution.getStepName()); &#125;&#125;ÈÄöËøáÊ≥®Ëß£ÁöÑÊñπÂºè‰∏çÈúÄË¶ÅÂÆûÁé∞Êé•Âè£ÔºåËÄåÊòØÂú®ÂØπÂ∫îÁöÑÊñπÊ≥ï‰∏äÈÄöËøáËØ∏Â¶Ç@BeforeStep„ÄÅ@AfterStepÁ≠âÊ≥®Ëß£Ê†áÊ≥®Âç≥ÂèØÔºå‰∏çËøáÊñπÊ≥ïÁöÑÁ≠æÂêçÂøÖÈ°ªÁ¨¶ÂêàÊ≥®Ëß£ÁöÑË¶ÅÊ±ÇÔºåÂê¶Âàô‰ºöÂèçÂ∞ÑÂ§±Ë¥•„ÄÇÊØîÂ¶ÇÔºåÊü•Áúã@BeforeStepÁöÑÊ∫êÁ†ÅÔºöÁõëÂê¨Âô®ÁöÑÂàõÂª∫Â§ßËá¥Â∞±Ëøô‰∏§ÁßçÂßøÂäø‰∫ÜÔºå‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏çÂú®ËØ¶ÁªÜËØ¥ÊòéÔºåÁõ¥Êé•Ë¥¥‰ª£Á†Å„ÄÇÂú®listenerÂåÖ‰∏ãÁªßÁª≠ÂàõÂª∫MyChunkListener„ÄÅMyItemReaderListener„ÄÅMyItemProcessListenerÂíåMyItemWriterListener„ÄÇMyChunkListenerÔºö1234567891011121314151617@Componentpublic class MyChunkListener implements ChunkListener &#123; @Override public void beforeChunk(ChunkContext context) &#123; System.out.println("before chunk: " + context.getStepContext().getStepName()); &#125; @Override public void afterChunk(ChunkContext context) &#123; System.out.println("after chunk: " + context.getStepContext().getStepName()); &#125; @Override public void afterChunkError(ChunkContext context) &#123; System.out.println("before chunk error: " + context.getStepContext().getStepName()); &#125;&#125;MyItemReaderListenerÔºö1234567891011121314151617@Componentpublic class MyItemReaderListener implements ItemReadListener&lt;String&gt; &#123; @Override public void beforeRead() &#123; System.out.println("before read"); &#125; @Override public void afterRead(String item) &#123; System.out.println("after read: " + item); &#125; @Override public void onReadError(Exception ex) &#123; System.out.println("on read error: " + ex.getMessage()); &#125;&#125;MyItemProcessListenerÔºö1234567891011121314151617@Componentpublic class MyItemProcessListener implements ItemProcessListener&lt;String, String&gt; &#123; @Override public void beforeProcess(String item) &#123; System.out.println("before process: " + item); &#125; @Override public void afterProcess(String item, String result) &#123; System.out.println("after process: " + item + " result: " + result); &#125; @Override public void onProcessError(String item, Exception e) &#123; System.out.println("on process error: " + item + " , error message: " + e.getMessage()); &#125;&#125;MyItemWriterListenerÔºö123456789101112131415161718@Componentpublic class MyItemWriterListener implements ItemWriteListener&lt;String&gt; &#123; @Override public void beforeWrite(List&lt;? extends String&gt; items) &#123; System.out.println("before write: " + items); &#125; @Override public void afterWrite(List&lt;? extends String&gt; items) &#123; System.out.println("after write: " + items); &#125; @Override public void onWriteError(Exception exception, List&lt;? extends String&gt; items) &#123; System.out.println("on write error: " + items + " , error message: " + exception.getMessage()); &#125;&#125;ÂáÜÂ§áÂ•ΩËøô‰∫õÁõëÂê¨Âô®ÂêéÔºåÊàë‰ª¨Âú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫jobÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫ListenerTestJobDemoÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465@Componentpublic class ListenerTestJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private MyJobExecutionListener myJobExecutionListener; @Autowired private MyStepExecutionListener myStepExecutionListener; @Autowired private MyChunkListener myChunkListener; @Autowired private MyItemReaderListener myItemReaderListener; @Autowired private MyItemProcessListener myItemProcessListener; @Autowired private MyItemWriterListener myItemWriterListener; @Bean public Job listenerTestJob() &#123; return jobBuilderFactory.get("listenerTestJob") .start(step()) .listener(myJobExecutionListener) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .listener(myStepExecutionListener) .&lt;String, String&gt;chunk(2) .faultTolerant() .listener(myChunkListener) .reader(reader()) .listener(myItemReaderListener) .processor(processor()) .listener(myItemProcessListener) .writer(list -&gt; list.forEach(System.out::println)) .listener(myItemWriterListener) .build(); &#125; private ItemReader&lt;String&gt; reader() &#123; List&lt;String&gt; data = Arrays.asList("java", "c++", "javascript", "python"); return new simpleReader(data); &#125; private ItemProcessor&lt;String, String&gt; processor() &#123; return item -&gt; item + " language"; &#125;&#125;class simpleReader implements ItemReader&lt;String&gt; &#123; private Iterator&lt;String&gt; iterator; public simpleReader(List&lt;String&gt; data) &#123; this.iterator = data.iterator(); &#125; @Override public String read() &#123; return iterator.hasNext() ? iterator.next() : null; &#125;&#125;‰∏äÈù¢‰ª£Á†ÅÊàë‰ª¨Âú®Áõ∏Â∫îÁöÑ‰ΩçÁΩÆÈÖçÁΩÆ‰∫ÜÁõëÂê¨Âô®ÔºàÈÖçÁΩÆchunkÁõëÂê¨Âô®ÁöÑÊó∂ÂÄôÔºåÂøÖÈ°ªÈÖçÁΩÆfaultTolerant()Ôºâ„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738392020-03-09 17:08:34.439 INFO 20165 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=listenerTestJob]] launched with the following parameters: [&#123;&#125;]before job execute: listenerTestJob32020-03-09 17:08:34.495 INFO 20165 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]before step execute: stepbefore chunk: stepbefore readafter read: javabefore readafter read: c++before process: javaafter process: java result: java languagebefore process: c++after process: c++ result: c++ languagebefore write: [java language, c++ language]java languagec++ languageafter write: [java language, c++ language]after chunk: stepbefore chunk: stepbefore readafter read: javascriptbefore readafter read: pythonbefore process: javascriptafter process: javascript result: javascript languagebefore process: pythonafter process: python result: python languagebefore write: [javascript language, python language]javascript languagepython languageafter write: [javascript language, python language]after chunk: stepbefore chunk: stepbefore readafter chunk: stepafter step execute: step2020-03-09 17:08:34.546 INFO 20165 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 51msafter job execute: listenerTestJob32020-03-09 17:08:34.566 INFO 20165 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=listenerTestJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 105ms‰ªé‰∏äÈù¢ÁöÑËøêË°åÁªìÊûúÊàë‰ª¨ÂèØ‰ª•ÁúãÂá∫ÔºöËØÅÂÆû‰∫Üchunk(2)Ë°®Á§∫ÊØè‰∏ÄÊâπÂ§ÑÁêÜ2‰∏™Êï∞ÊçÆÂùóÔºõStepÈáåÁöÑÊâßË°åÈ°∫Â∫èÊòØread -&gt; process -&gt; writer„ÄÇËÅöÂêàÁõëÂê¨Âô®ÊØèÁßçÁõëÂê¨Âô®ÂèØ‰ª•ÈÄöËøáÂØπÂ∫îÁöÑËÅöÂêàÁ±ªÁªÑÂêàÂú®‰∏ÄËµ∑ÔºåÊØîÂ¶ÇÊúâÂ§ö‰∏™JobExecutionListenerÔºåÂàôÂèØ‰ª•‰ΩøÁî®CompositeJobExecutionListenerËÅöÂêàÂÆÉ‰ª¨„ÄÇ‰∏äÈù¢‰ªãÁªçÁöÑËøôÂá†ÁßçÁõëÂê¨Âô®ÈÉΩÊúâ‰∏é‰πãÂØπÂ∫îÁöÑCompositeXXXListenerËÅöÂêàÁ±ªÔºåËøôÈáåÂè™ÊºîÁ§∫CompositeJobExecutionListenerÔºåÂâ©‰∏ãÁöÑ‰ª•Ê≠§Á±ªÊé®„ÄÇÂú®jobÂåÖ‰∏ãÊñ∞Âª∫CompositeJobExecutionListenerJobDemoÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556@Componentpublic class CompositeJobExecutionListenerJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job compositeJobExecutionListenerJob() &#123; return jobBuilderFactory.get("compositeJobExecutionListenerJob") .start(step()) .listener(compositeJobExecutionListener()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .tasklet((contribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§...."); return RepeatStatus.FINISHED; &#125;).build(); &#125; private CompositeJobExecutionListener compositeJobExecutionListener() &#123; CompositeJobExecutionListener listener = new CompositeJobExecutionListener(); // ‰ªªÂä°ÁõëÂê¨Âô®1 JobExecutionListener jobExecutionListenerOne = new JobExecutionListener() &#123; @Override public void beforeJob(JobExecution jobExecution) &#123; System.out.println("‰ªªÂä°ÁõëÂê¨Âô®OneÔºåbefore job execute: " + jobExecution.getJobInstance().getJobName()); &#125; @Override public void afterJob(JobExecution jobExecution) &#123; System.out.println("‰ªªÂä°ÁõëÂê¨Âô®OneÔºåafter job execute: " + jobExecution.getJobInstance().getJobName()); &#125; &#125;; // ‰ªªÂä°ÁõëÂê¨Âô®2 JobExecutionListener jobExecutionListenerTwo = new JobExecutionListener() &#123; @Override public void beforeJob(JobExecution jobExecution) &#123; System.out.println("‰ªªÂä°ÁõëÂê¨Âô®TwoÔºåbefore job execute: " + jobExecution.getJobInstance().getJobName()); &#125; @Override public void afterJob(JobExecution jobExecution) &#123; System.out.println("‰ªªÂä°ÁõëÂê¨Âô®TwoÔºåafter job execute: " + jobExecution.getJobInstance().getJobName()); &#125; &#125;; // ËÅöÂêà listener.setListeners(Arrays.asList(jobExecutionListenerOne, jobExecutionListenerTwo)); return listener; &#125;&#125;ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö1234567892020-03-09 17:26:47.533 INFO 20310 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=compositeJobExecutionListenerJob]] launched with the following parameters: [&#123;&#125;]‰ªªÂä°ÁõëÂê¨Âô®OneÔºåbefore job execute: compositeJobExecutionListenerJob‰ªªÂä°ÁõëÂê¨Âô®TwoÔºåbefore job execute: compositeJobExecutionListenerJob2020-03-09 17:26:47.603 INFO 20310 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]ÊâßË°åÊ≠•È™§....2020-03-09 17:26:47.660 INFO 20310 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 57ms‰ªªÂä°ÁõëÂê¨Âô®TwoÔºåafter job execute: compositeJobExecutionListenerJob‰ªªÂä°ÁõëÂê¨Âô®OneÔºåafter job execute: compositeJobExecutionListenerJob2020-03-09 17:26:47.693 INFO 20310 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=compositeJobExecutionListenerJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 129msÈô§‰∫ÜÊú¨Êñá‰ªãÁªçÁöÑËøôÂá†‰∏™ÁõëÂê¨Âô®Â§ñÔºåËøòÊúâ‰∏Ä‰∫õÂíåÂºÇÂ∏∏Â§ÑÁêÜÁõ∏ÂÖ≥ÁöÑÁõëÂê¨Âô®Ôºå‰ºöÂú®ÂêéÁª≠ÁöÑÊñáÁ´†‰∏≠ÊèêÂà∞„ÄÇÊú¨ÊñáÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/71.spring-batch-listener„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Spring Batch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BatchÂ§ÑÁêÜÊï∞ÊçÆ]]></title>
    <url>%2FSpring-Batch%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE.html</url>
    <content type="text"><![CDATA[Âú®Spring Batch‰∏≠ÔºåItemReaderÊé•Âè£Áî®‰∫éËØªÂèñÊï∞ÊçÆÔºåItemWriterÊé•Âè£Áî®‰∫éËæìÂá∫Êï∞ÊçÆ„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáItemProcessorÊé•Âè£ÂÆûÁé∞Êï∞ÊçÆÁöÑÂ§ÑÁêÜÔºåÂåÖÊã¨ÔºöÊï∞ÊçÆÊ†°È™åÔºåÊï∞ÊçÆËøáÊª§ÂíåÊï∞ÊçÆËΩ¨Êç¢Á≠â„ÄÇÊï∞ÊçÆÂ§ÑÁêÜÁöÑÊó∂Êú∫ÂèëÁîü‰∫éItemReaderËØªÂèñÊï∞ÊçÆ‰πãÂêéÔºåItemWriterËæìÂá∫Êï∞ÊçÆ‰πãÂâç„ÄÇÊú¨ËäÇËÆ∞ÂΩï‰∏ãSpring Batch‰∏≠ItemProcessorÁöÑ‰ΩøÁî®„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.2.4.RELEASEÔºåartifactId‰∏∫spring-batch-itemprocessorÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂâ©‰∏ãÁöÑÊï∞ÊçÆÂ∫ìÂ±ÇÁöÑÂáÜÂ§áÔºåÈ°πÁõÆÈÖçÁΩÆÔºå‰æùËµñÂºïÂÖ•ÂíåSpring BatchÂÖ•Èó®ÊñáÁ´†‰∏≠ÁöÑÊ°ÜÊû∂Êê≠Âª∫Ê≠•È™§‰∏ÄËá¥ÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇÂú®‰ªãÁªçSpring Batch ItemProcessor‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂáÜÂ§á‰∏™ÁÆÄÂçïÁöÑÊï∞ÊçÆËØªÂèñÊ∫ê„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫entityÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫TestDataÂÆû‰ΩìÁ±ªÔºö12345678public class TestData &#123; private int id; private String field1; private String field2; private String field3; // get,set,toStringÁï•&#125;Êé•ÁùÄÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫readerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÂàõÂª∫ItemReaderConfigureÔºö12345678910111213141516171819202122232425262728@Configurationpublic class ItemReaderConfigure &#123; @Bean public ListItemReader&lt;TestData&gt; simpleReader() &#123; List&lt;TestData&gt; data = new ArrayList&lt;&gt;(); TestData testData1 = new TestData(); testData1.setId(1); testData1.setField1("11"); testData1.setField2("12"); testData1.setField3("13"); data.add(testData1); TestData testData2 = new TestData(); testData2.setId(2); testData2.setField1("21"); testData2.setField2("22"); testData2.setField3("23"); data.add(testData2); TestData testData3 = new TestData(); testData3.setId(3); testData3.setField1("31"); testData3.setField2("32"); // ËÆæÁΩÆ‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ÔºåÁî®‰∫éÂêéÈù¢Ê†ºÂºèÊ†°È™åÊºîÁ§∫ testData3.setField3(""); data.add(testData3); return new ListItemReader&lt;&gt;(data); &#125;&#125;‰∏äÈù¢Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™ItemReaderÁ±ªÂûãÁöÑBeanÔºåÂêéÁª≠ÈÉΩÁî®ÂÆÉ‰Ωú‰∏∫ËØªÂèñÊï∞ÊçÆÁöÑÊù•Ê∫ê„ÄÇÊ†ºÂºèÊ†°È™åItemProcessorÁöÑÂÆûÁé∞Á±ªValidatingItemProcessorÂèØ‰ª•Áî®‰∫éÊï∞ÊçÆÊ†ºÂºèÊ†°È™å„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫jobÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫ValidatingItemProcessorDemoÔºö1234567891011121314151617181920212223242526272829303132333435363738@Componentpublic class ValidatingItemProcessorDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Bean public Job validatingItemProcessorJob() &#123; return jobBuilderFactory.get("validatingItemProcessorJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .processor(validatingItemProcessor()) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125; private ValidatingItemProcessor&lt;TestData&gt; validatingItemProcessor() &#123; ValidatingItemProcessor&lt;TestData&gt; processor = new ValidatingItemProcessor&lt;&gt;(); processor.setValidator(value -&gt; &#123; // ÂØπÊØè‰∏ÄÊù°Êï∞ÊçÆËøõË°åÊ†°È™å if ("".equals(value.getField3())) &#123; // Â¶ÇÊûúfield3ÁöÑÂÄº‰∏∫Á©∫‰∏≤ÔºåÂàôÊäõÂºÇÂ∏∏ throw new ValidationException("field3ÁöÑÂÄº‰∏çÂêàÊ≥ï"); &#125; &#125;); return processor; &#125;&#125;ÈÄöËøáValidatingItemProcessorÊàë‰ª¨ÂØπItemReaderËØªÂèñÁöÑÊØè‰∏ÄÊù°Êï∞ÊçÆËøõË°åÊ†°È™åÔºåÂ¶ÇÊûúfield3ÁöÑÂÄº‰∏∫Á©∫‰∏≤ÁöÑËØùÔºåÂàôÊäõÂá∫ValidationException(&quot;field3ÁöÑÂÄº‰∏çÂêàÊ≥ï&quot;)ÂºÇÂ∏∏„ÄÇItemProcessorÈÄöËøáÊ≠•È™§ÂàõÂª∫Â∑•ÂéÇÁöÑprocessor()ËÆæÁΩÆ„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÁöÑÊâìÂç∞Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253542020-03-09 14:18:47.186 INFO 17967 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=validatingItemProcessorJob]] launched with the following parameters: [&#123;&#125;]2020-03-09 14:18:47.252 INFO 17967 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;2020-03-09 14:18:47.300 ERROR 17967 --- [ main] o.s.batch.core.step.AbstractStep : Encountered an error executing step step in job validatingItemProcessorJoborg.springframework.batch.item.validator.ValidationException: field3ÁöÑÂÄº‰∏çÂêàÊ≥ï at cc.mrbird.batch.entity.job.ValidatingItemProcessorDemo.lambda$validatingItemProcessor$1(ValidatingItemProcessorDemo.java:50) ~[classes/:na] at org.springframework.batch.item.validator.ValidatingItemProcessor.process(ValidatingItemProcessor.java:84) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:319) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:210) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:77) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:410) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:319) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:147) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_231] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_231] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_231] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_231] at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.4.RELEASE.jar:5.2.4.RELEASE] at com.sun.proxy.$Proxy46.run(Unknown Source) [na:na] at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.execute(JobLauncherCommandLineRunner.java:192) [spring-boot-autoconfigure-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.executeLocalJobs(JobLauncherCommandLineRunner.java:166) [spring-boot-autoconfigure-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.launchJobFromProperties(JobLauncherCommandLineRunner.java:153) [spring-boot-autoconfigure-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.run(JobLauncherCommandLineRunner.java:148) [spring-boot-autoconfigure-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE] at cc.mrbird.batch.SpringBatchItemprocessorApplication.main(SpringBatchItemprocessorApplication.java:12) [classes/:na]2020-03-09 14:18:47.307 INFO 17967 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 55ms2020-03-09 14:18:47.335 INFO 17967 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=validatingItemProcessorJob]] completed with the following parameters: [&#123;&#125;] and the following status: [FAILED] in 127msÂèØ‰ª•ÁúãÂà∞‰ªªÂä°Â§ÑÁêÜËøáÁ®ã‰∏≠ÊäõÂá∫‰∫ÜÈ¢ÑÊúüÂºÇÂ∏∏ÔºåÂÖ≥‰∫é‰ªªÂä°Â§ÑÁêÜ‰∏≠Â¶Ç‰ΩïÂ§ÑÁêÜÂºÇÂ∏∏ÔºåÂèØ‰ª•ÂèÇËÄÉÂêéÁª≠ÁöÑÊñáÁ´†„ÄÇÈô§‰∫Ü‰ΩøÁî®ËøôÁßçÊñπÂºèÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®BeanValidatingItemProcessorÊ†°È™å‰ΩøÁî®JSR-303Ê≥®Ëß£Ê†áÊ≥®ÁöÑÂÆû‰ΩìÁ±ª„ÄÇÊØîÂ¶ÇÔºåÂú®TestDataÁ±ªÁöÑfield3Â±ûÊÄß‰∏äÊ∑ªÂä†@NotBlankÊ≥®Ëß£Ôºö123456789public class TestData &#123; private int id; private String field1; private String field2; @NotBlank private String field3; // get,set,toStringÁï•&#125;‰ΩøÁî®ËØ•Ê≥®Ëß£ÈúÄË¶ÅÂú®pom‰∏≠Ê∑ªÂä†spring-boot-starter-validation‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®jobÂåÖ‰∏ãÊñ∞Âª∫BeanValidatingItemProcessorDemoÔºö12345678910111213141516171819202122232425262728293031323334@Componentpublic class BeanValidatingItemProcessorDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Bean public Job beanValidatingItemProcessorJob() throws Exception &#123; return jobBuilderFactory.get("beanValidatingItemProcessorJob") .start(step()) .build(); &#125; private Step step() throws Exception &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .processor(beanValidatingItemProcessor()) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125; private BeanValidatingItemProcessor&lt;TestData&gt; beanValidatingItemProcessor() throws Exception &#123; BeanValidatingItemProcessor&lt;TestData&gt; beanValidatingItemProcessor = new BeanValidatingItemProcessor&lt;&gt;(); // ÂºÄÂêØËøáÊª§Ôºå‰∏çÁ¨¶ÂêàËßÑÂàôÁöÑÊï∞ÊçÆË¢´ËøáÊª§ÊéâÔºõ beanValidatingItemProcessor.setFilter(true); beanValidatingItemProcessor.afterPropertiesSet(); return beanValidatingItemProcessor; &#125;&#125;ÂêØÂä®È°πÁõÆÂêéÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345672020-03-09 14:31:14.813 INFO 18100 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=beanValidatingItemProcessorJob]] launched with the following parameters: [&#123;&#125;]2020-03-09 14:31:14.873 INFO 18100 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;2020-03-09 14:31:14.959 INFO 18100 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 85ms2020-03-09 14:31:14.980 INFO 18100 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=beanValidatingItemProcessorJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 145ms2020-03-09 14:31:15.069 INFO 18100 --- [ main]ÂèØ‰ª•ÁúãÂà∞Ôºå‰∏çÁ¨¶ÂêàËßÑÂàôÁöÑÊï∞ÊçÆÂ∑≤ÁªèË¢´ÊéíÈô§‰∫Ü„ÄÇÂ¶ÇÊûú‰∏çÂºÄÂêØËøáÊª§beanValidatingItemProcessor.setFilter(false)ÔºåÈÇ£‰πàÂú®ÈÅáÂà∞‰∏çÁ¨¶ÂêàÊ≥®Ëß£Ê†°È™åËßÑÂàôÁöÑÊï∞ÊçÆÔºåÂ∞ÜÊäõÂá∫Â¶Ç‰∏ãÂºÇÂ∏∏Ôºö1234567org.springframework.batch.item.validator.ValidationException: Validation failed for TestData&#123;id=3, field1=&apos;31&apos;, field2=&apos;32&apos;, field3=&apos;&apos;&#125;: Field error in object &apos;item&apos; on field &apos;field3&apos;: rejected value []; codes [NotBlank.item.field3,NotBlank.field3,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [item.field3,field3]; arguments []; default message [field3]]; default message [‰∏çËÉΩ‰∏∫Á©∫] at org.springframework.batch.item.validator.SpringValidator.validate(SpringValidator.java:54) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.item.validator.ValidatingItemProcessor.process(ValidatingItemProcessor.java:84) ~[spring-batch-infrastructure-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.SimpleChunkProcessor.doProcess(SimpleChunkProcessor.java:134) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] at org.springframework.batch.core.step.item.SimpleChunkProcessor.transform(SimpleChunkProcessor.java:319) ~[spring-batch-core-4.2.1.RELEASE.jar:4.2.1.RELEASE] ...Êï∞ÊçÆËøáÊª§ÈÄöËøáËá™ÂÆö‰πâItemProcessorÁöÑÂÆûÁé∞Á±ªÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÁÆÄÂçïÂú∞ÂÆûÁé∞Êï∞ÊçÆËøáÊª§„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫processorÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫TestDataFilterItemProcessorÔºö12345678@Componentpublic class TestDataFilterItemProcessor implements ItemProcessor&lt;TestData, TestData&gt; &#123; @Override public TestData process(TestData item) &#123; // ËøîÂõûnullÔºå‰ºöËøáÊª§ÊéâËøôÊù°Êï∞ÊçÆ return "".equals(item.getField3()) ? null : item; &#125;&#125;TestDataFilterItemProcessorÂÆûÁé∞‰∫ÜItemProcessorÁöÑprocess()ÊñπÊ≥ïÔºåÂú®ËØ•ÊñπÊ≥ïÂÜÖÁºñÂÜôÂÖ∑‰ΩìÁöÑÊ†°È™åÈÄªËæëÔºå‰∏äÈù¢‰ª£Á†ÅÂà§Êñ≠TestDataÁöÑfield3ÊòØÂê¶‰∏∫Á©∫‰∏≤ÔºåÊòØÁöÑËØùËøîÂõûnullÔºàËøîÂõûnull‰ºöËøáÊª§ÊéâËøôÊù°Êï∞ÊçÆÔºâ„ÄÇÊé•ÁùÄÂú®jobÂåÖ‰∏ãÊñ∞Âª∫TestDataFilterItemProcessorDemoÔºö12345678910111213141516171819202122232425262728@Componentpublic class TestDataFilterItemProcessorDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Autowired private TestDataFilterItemProcessor testDataFilterItemProcessor; @Bean public Job testDataFilterItemProcessorJob() &#123; return jobBuilderFactory.get("testDataFilterItemProcessorJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .processor(testDataFilterItemProcessor) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125;&#125;ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö1234562020-03-09 15:03:30.932 INFO 18690 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=testDataFilterItemProcessorJob]] launched with the following parameters: [&#123;&#125;]2020-03-09 15:03:30.973 INFO 18690 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;2020-03-09 15:03:31.012 INFO 18690 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 39ms2020-03-09 15:03:31.037 INFO 18690 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=testDataFilterItemProcessorJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 95msÊï∞ÊçÆËΩ¨Êç¢Âú®processorÂåÖ‰∏ãÊñ∞Âª∫‰∏Ä‰∏™ItemProcessorÂÆûÁé∞Á±ªTestDataTransformItemPorcessorÔºö123456789@Componentpublic class TestDataTransformItemPorcessor implements ItemProcessor&lt;TestData, TestData&gt; &#123; @Override public TestData process(TestData item) &#123; // field1ÂÄºÊãºÊé• hello item.setField1(item.getField1() + " hello"); return item; &#125;&#125;Âú®jobÂåÖ‰∏ãÊñ∞Âª∫TestDataTransformItemPorcessorDemoÔºö12345678910111213141516171819202122232425262728@Componentpublic class TestDataTransformItemPorcessorDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Autowired private TestDataTransformItemPorcessor testDataTransformItemPorcessor; @Bean public Job testDataTransformItemPorcessorJob() &#123; return jobBuilderFactory.get("testDataTransformItemPorcessorJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .processor(testDataTransformItemPorcessor) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125;&#125;ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345672020-03-09 15:08:55.628 INFO 18775 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=testDataTransformItemPorcessorJob]] launched with the following parameters: [&#123;&#125;]2020-03-09 15:08:55.694 INFO 18775 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11 hello&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21 hello&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;TestData&#123;id=3, field1=&apos;31 hello&apos;, field2=&apos;32&apos;, field3=&apos;&apos;&#125;2020-03-09 15:08:55.757 INFO 18775 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 63ms2020-03-09 15:08:55.781 INFO 18775 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=testDataTransformItemPorcessorJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 144msËÅöÂêàÂ§ÑÁêÜÂú®ÂàõÂª∫StepÁöÑÊó∂ÂÄôÔºåÈô§‰∫ÜÂà∂ÂÆö‰∏Ä‰∏™ItemProcessÂ§ñÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáCompositeItemProcessorËÅöÂêàÂ§ö‰∏™processorÂ§ÑÁêÜËøáÁ®ã„ÄÇÂú®jobÂåÖ‰∏ãÊñ∞Âª∫CompositeItemProcessorDemoÔºö123456789101112131415161718192021222324252627282930313233343536373839@Componentpublic class CompositeItemProcessorDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Autowired private TestDataFilterItemProcessor testDataFilterItemProcessor; @Autowired private TestDataTransformItemPorcessor testDataTransformItemPorcessor; @Bean public Job compositeItemProcessorJob() &#123; return jobBuilderFactory.get("compositeItemProcessorJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .processor(compositeItemProcessor()) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125; // CompositeItemProcessorÁªÑÂêàÂ§öÁßç‰∏≠Èó¥Â§ÑÁêÜÂô® private CompositeItemProcessor&lt;TestData, TestData&gt; compositeItemProcessor() &#123; CompositeItemProcessor&lt;TestData, TestData&gt; processor = new CompositeItemProcessor&lt;&gt;(); List&lt;ItemProcessor&lt;TestData, TestData&gt;&gt; processors = Arrays.asList(testDataFilterItemProcessor, testDataTransformItemPorcessor); // ‰ª£ÁêÜ‰∏§‰∏™processor processor.setDelegates(processors); return processor; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáCompositeItemProcessorËÅöÂêà‰∫ÜÂâçÈù¢ÂÆö‰πâÁöÑËøû‰∏™processorÔºöTestDataFilterItemProcessorÂíåTestDataTransformItemPorcessor„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö1234562020-03-09 15:21:24.960 INFO 18882 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=compositeItemProcessorJob]] launched with the following parameters: [&#123;&#125;]2020-03-09 15:21:25.005 INFO 18882 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11 hello&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21 hello&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;2020-03-09 15:21:25.065 INFO 18882 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 60ms2020-03-09 15:21:25.104 INFO 18882 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=compositeItemProcessorJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 128ms‰ªéÁªìÊûúÂèØ‰ª•ÁúãÂà∞ÔºåÊï∞ÊçÆ‰∏ç‰ΩÜËøõË°å‰∫ÜËøáÊª§ÔºåËøòËøõË°å‰∫ÜËΩ¨Êç¢ÔºàÊãºÊé•helloÔºâ„ÄÇÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/70.spring-batch-itemprocessor„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Spring Batch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BatchËæìÂá∫Êï∞ÊçÆ]]></title>
    <url>%2FSpring-Batch%E8%BE%93%E5%87%BA%E6%95%B0%E6%8D%AE.html</url>
    <content type="text"><![CDATA[Spring BatchËæìÂá∫Êï∞ÊçÆÈÄöËøáItemWriterÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÊù•ÂÆåÊàêÔºåÂåÖÊã¨FlatFileItemWriterÊñáÊú¨Êï∞ÊçÆËæìÂá∫„ÄÅStaxEventItemWriter XMLÊñá‰ª∂Êï∞ÊçÆËæìÂá∫„ÄÅJsonItemWriter JSONÊñá‰ª∂Êï∞ÊçÆËæìÂá∫„ÄÅJdbcBatchItemWriterÊï∞ÊçÆÂ∫ìÊï∞ÊçÆÊèíÂÖ•Á≠âÂÆûÁé∞ÔºåÊõ¥Â§öÂèØÁî®ÁöÑÂÆûÁé∞ÂèØ‰ª•ÂèÇËÄÉÔºöhttps://docs.spring.io/spring-batch/docs/4.2.x/reference/html/appendix.html#itemWritersAppendixÔºåÊú¨ÊñáÂè™‰ªãÁªçËøôÂõõÁßçÊØîËæÉÂ∏∏Áî®ÁöÑËæìÂá∫Êï∞ÊçÆÊñπÂºè„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.2.4.RELEASEÔºåartifactId‰∏∫spring-batch-itemwriterÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂâ©‰∏ãÁöÑÊï∞ÊçÆÂ∫ìÂ±ÇÁöÑÂáÜÂ§áÔºåÈ°πÁõÆÈÖçÁΩÆÔºå‰æùËµñÂºïÂÖ•ÂíåSpring BatchÂÖ•Èó®ÊñáÁ´†‰∏≠ÁöÑÊ°ÜÊû∂Êê≠Âª∫Ê≠•È™§‰∏ÄËá¥ÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇÂú®‰ªãÁªçSpring BatchÊï∞ÊçÆËæìÂá∫‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂáÜÂ§á‰∏™ÁÆÄÂçïÁöÑÊï∞ÊçÆËØªÂèñÊ∫ê„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫entityÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫TestDataÂÆû‰ΩìÁ±ªÔºö12345678public class TestData &#123; private int id; private String field1; private String field2; private String field3; // get,set,toStringÁï•&#125;Êé•ÁùÄÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫readerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÂàõÂª∫ItemReaderConfigureÔºö123456789101112131415161718192021@Configurationpublic class ItemReaderConfigure &#123; @Bean public ListItemReader&lt;TestData&gt; simpleReader() &#123; List&lt;TestData&gt; data = new ArrayList&lt;&gt;(); TestData testData1 = new TestData(); testData1.setId(1); testData1.setField1("11"); testData1.setField2("12"); testData1.setField3("13"); data.add(testData1); TestData testData2 = new TestData(); testData2.setId(2); testData2.setField1("21"); testData2.setField2("22"); testData2.setField3("23"); data.add(testData2); return new ListItemReader&lt;&gt;(data); &#125;&#125;‰∏äÈù¢Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™ItemReaderÁ±ªÂûãÁöÑBeanÔºåÂêéÁª≠ÈÉΩÁî®ÂÆÉ‰Ωú‰∏∫ËØªÂèñÊï∞ÊçÆÁöÑÊù•Ê∫ê„ÄÇËæìÂá∫ÊñáÊú¨Êï∞ÊçÆÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫jobÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫FileItemWriterDemoÔºåÁî®‰∫éÊµãËØïSpring BatchËæìÂá∫Êï∞ÊçÆÂà∞ÊñáÊú¨Êñá‰ª∂Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152@Componentpublic class FileItemWriterDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Bean public Job fileItemWriterJob() throws Exception &#123; return jobBuilderFactory.get("fileItemWriterJob") .start(step()) .build(); &#125; private Step step() throws Exception &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .writer(fileItemWriter()) .build(); &#125; private FlatFileItemWriter&lt;TestData&gt; fileItemWriter() throws Exception &#123; FlatFileItemWriter&lt;TestData&gt; writer = new FlatFileItemWriter&lt;&gt;(); FileSystemResource file = new FileSystemResource("/Users/mrbird/Desktop/file"); Path path = Paths.get(file.getPath()); if (!Files.exists(path)) &#123; Files.createFile(path); &#125; // ËÆæÁΩÆËæìÂá∫Êñá‰ª∂Ë∑ØÂæÑ writer.setResource(file); // ÊääËØªÂà∞ÁöÑÊØè‰∏™TestDataÂØπË±°ËΩ¨Êç¢‰∏∫JSONÂ≠óÁ¨¶‰∏≤ LineAggregator&lt;TestData&gt; aggregator = item -&gt; &#123; try &#123; ObjectMapper mapper = new ObjectMapper(); return mapper.writeValueAsString(item); &#125; catch (JsonProcessingException e) &#123; e.printStackTrace(); &#125; return ""; &#125;; writer.setLineAggregator(aggregator); writer.afterPropertiesSet(); return writer; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåStep‰∏≠ÁöÑReader‰ΩøÁî®ÁöÑÊòØÊàë‰ª¨‰∏äÈù¢ÂàõÂª∫ÁöÑsimpleReaderÔºåÊñáÊú¨Êï∞ÊçÆËæìÂá∫‰ΩøÁî®ÁöÑÊòØFlatFileItemWriter„ÄÇfileItemWriter()ÊñπÊ≥ïÁöÑ‰ª£Á†ÅËæÉ‰∏∫ÁÆÄÂçïÔºåËøôÈáåÂ∞±‰∏çËµòËø∞‰∫Ü„ÄÇÂêØÂä®È°πÁõÆÂêéÔºåÂú®/Users/mrbird/DesktopÁõÆÂΩï‰∏ãÔºà‰πüÂ∞±ÊòØÊàëÁöÑÁîµËÑëÊ°åÈù¢‰∏äÔºâ‰ºöÂ§öÂá∫‰∏™fileÊñá‰ª∂ÔºöËæìÂá∫xmlÊï∞ÊçÆÂêåÊ†∑ÁöÑÔºåxmlÊ†ºÂºèÊï∞ÊçÆËæìÂá∫ÈúÄË¶ÅÂÄüÂä©spring-oxmÊ°ÜÊû∂ÔºåÂú®pom‰∏≠ÂºïÂÖ•Áõ∏ÂÖ≥‰æùËµñÔºö123456789&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt; &lt;artifactId&gt;xstream&lt;/artifactId&gt; &lt;version&gt;1.4.11.1&lt;/version&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®jobÂåÖ‰∏ãÊñ∞Âª∫XmlFileItemWriterDemoÔºåÁî®‰∫éÊµãËØïSpring BatchËæìÂá∫Êï∞ÊçÆÂà∞xmlÊñá‰ª∂Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849@Componentpublic class XmlFileItemWriterDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Bean public Job xmlFileItemWriterJob() throws Exception &#123; return jobBuilderFactory.get("xmlFileItemWriterJob") .start(step()) .build(); &#125; private Step step() throws Exception &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .writer(xmlFileItemWriter()) .build(); &#125; private StaxEventItemWriter&lt;TestData&gt; xmlFileItemWriter() throws IOException &#123; StaxEventItemWriter&lt;TestData&gt; writer = new StaxEventItemWriter&lt;&gt;(); // ÈÄöËøáXStreamMarshallerÂ∞ÜTestDataËΩ¨Êç¢‰∏∫xml XStreamMarshaller marshaller = new XStreamMarshaller(); Map&lt;String,Class&lt;TestData&gt;&gt; map = new HashMap&lt;&gt;(1); map.put("test", TestData.class); marshaller.setAliases(map); // ËÆæÁΩÆxmlÊ†áÁ≠æ writer.setRootTagName("tests"); // ËÆæÁΩÆÊ†πÊ†áÁ≠æ writer.setMarshaller(marshaller); FileSystemResource file = new FileSystemResource("/Users/mrbird/Desktop/file.xml"); Path path = Paths.get(file.getPath()); if (!Files.exists(path)) &#123; Files.createFile(path); &#125; writer.setResource(file); // ËÆæÁΩÆÁõÆÊ†áÊñá‰ª∂Ë∑ØÂæÑ return writer; &#125;&#125;xmlÁ±ªÂûãÊñá‰ª∂ËæìÂá∫‰ΩøÁî®ÁöÑÊòØStaxEventItemWriter„ÄÇÂêØÂä®È°πÁõÆÂêéÔºåÂú®/Users/mrbird/DesktopÁõÆÂΩï‰∏ã‰ºöÂ§öÂá∫‰∏™file.xmlÊñá‰ª∂ÔºöËæìÂá∫JSONÊï∞ÊçÆÂú®jobÂåÖ‰∏ãÊñ∞Âª∫JsonFileItemWriterDemoÔºåÁî®‰∫éÊµãËØïSpring BatchËæìÂá∫Êï∞ÊçÆÂà∞jsonÊñá‰ª∂Ôºö12345678910111213141516171819202122232425262728293031323334353637383940@Componentpublic class JsonFileItemWriterDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Bean public Job jsonFileItemWriterJob() throws Exception &#123; return jobBuilderFactory.get("jsonFileItemWriterJob") .start(step()) .build(); &#125; private Step step() throws Exception &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .writer(jsonFileItemWriter()) .build(); &#125; private JsonFileItemWriter&lt;TestData&gt; jsonFileItemWriter() throws IOException &#123; // Êñá‰ª∂ËæìÂá∫ÁõÆÊ†áÂú∞ÂùÄ FileSystemResource file = new FileSystemResource("/Users/mrbird/Desktop/file.json"); Path path = Paths.get(file.getPath()); if (!Files.exists(path)) &#123; Files.createFile(path); &#125; // Â∞ÜÂØπË±°ËΩ¨Êç¢‰∏∫json JacksonJsonObjectMarshaller&lt;TestData&gt; marshaller = new JacksonJsonObjectMarshaller&lt;&gt;(); JsonFileItemWriter&lt;TestData&gt; writer = new JsonFileItemWriter&lt;&gt;(file, marshaller); // ËÆæÁΩÆÂà´Âêç writer.setName("testDatasonFileItemWriter"); return writer; &#125;&#125;jsonÁ±ªÂûãÊñá‰ª∂ËæìÂá∫‰ΩøÁî®ÁöÑÊòØJsonFileItemWriter„ÄÇÂêØÂä®È°πÁõÆÂêéÔºåÂú®/Users/mrbird/DesktopÁõÆÂΩï‰∏ã‰ºöÂ§öÂá∫‰∏™file.jsonÊñá‰ª∂ÔºöËæìÂá∫Êï∞ÊçÆÂà∞Êï∞ÊçÆÂ∫ìÂú®jobÂåÖ‰∏ãÊñ∞Âª∫DatabaseItemWriterDemoÔºåÁî®‰∫éÊµãËØïSpring BatchËæìÂá∫Êï∞ÊçÆÂà∞Êï∞ÊçÆÂ∫ìÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344@Componentpublic class DatabaseItemWriterDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Autowired private DataSource dataSource; @Bean public Job datasourceItemWriterJob() &#123; return jobBuilderFactory.get("datasourceItemWriterJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .writer(dataSourceItemWriter()) .build(); &#125; private ItemWriter&lt;TestData&gt; dataSourceItemWriter() &#123; // ItemWriterÁöÑÂÆûÁé∞Á±ª‰πã‰∏ÄÔºåmysqlÊï∞ÊçÆÂ∫ìÊï∞ÊçÆÂÜôÂÖ•‰ΩøÁî®JdbcBatchItemWriterÔºå // ÂÖ∂‰ªñÂÆûÁé∞ÔºöMongoItemWriter,Neo4jItemWriterÁ≠â JdbcBatchItemWriter&lt;TestData&gt; writer = new JdbcBatchItemWriter&lt;&gt;(); writer.setDataSource(dataSource); // ËÆæÁΩÆÊï∞ÊçÆÊ∫ê String sql = "insert into TEST(id,field1,field2,field3) values (:id,:field1,:field2,:field3)"; writer.setSql(sql); // ËÆæÁΩÆÊèíÂÖ•sqlËÑöÊú¨ // Êò†Â∞ÑTestDataÂØπË±°Â±ûÊÄßÂà∞Âç†‰ΩçÁ¨¶‰∏≠ÁöÑÂ±ûÊÄß BeanPropertyItemSqlParameterSourceProvider&lt;TestData&gt; provider = new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;(); writer.setItemSqlParameterSourceProvider(provider); writer.afterPropertiesSet(); // ËÆæÁΩÆ‰∏Ä‰∫õÈ¢ùÂ§ñÂ±ûÊÄß return writer; &#125;&#125;MySQLÂÖ≥Á≥ªÂûãÊï∞ÊçÆÊï∞ÊçÆÂÜôÂÖ•‰ΩøÁî®ÁöÑÊòØJdbcBatchItemWriter„ÄÇÂú®ÊµãËØï‰πãÂâçÔºåÂÖàÊ∏ÖÁ©∫springbatchÊï∞ÊçÆÂ∫ìTESTË°®Êï∞ÊçÆÔºåÁÑ∂ÂêéÂêØÂä®È°πÁõÆÔºåÂêØÂä®ÂêéÔºåTESTË°®ËÆ∞ÂΩïÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂ§öÊñáÊú¨ËæìÂá∫Â§öÊñáÊú¨ËæìÂá∫Âíå‰∏ä‰∏ÄËäÇ‰ªãÁªçÁöÑÂ§öÊñáÊú¨Êï∞ÊçÆËØªÂèñÁ±ª‰ººÔºåÈÉΩÊòØÈúÄË¶ÅÈÄöËøá‰ª£ÁêÜÊù•ÂÆåÊàê„ÄÇÊàë‰ª¨Ê®°Êãü‰∏™ÂêåÊó∂ËæìÂá∫xmlÊ†ºÂºèÂíåÊôÆÈÄöÊñáÊú¨Ê†ºÂºèÁöÑ‰æãÂ≠ê„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫writerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫ItemWriterConfigureÈÖçÁΩÆÁ±ªÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556@Configurationpublic class ItemWriterConfigure &#123; @Bean public FlatFileItemWriter&lt;TestData&gt; fileItemWriter() throws Exception &#123; FlatFileItemWriter&lt;TestData&gt; writer = new FlatFileItemWriter&lt;&gt;(); FileSystemResource file = new FileSystemResource("/Users/mrbird/Desktop/file"); Path path = Paths.get(file.getPath()); if (!Files.exists(path)) &#123; Files.createFile(path); &#125; writer.setResource(file); // ËÆæÁΩÆÁõÆÊ†áÊñá‰ª∂Ë∑ØÂæÑ // ÊääËØªÂà∞ÁöÑÊØè‰∏™TestDataÂØπË±°ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ LineAggregator&lt;TestData&gt; aggregator = item -&gt; &#123; try &#123; ObjectMapper mapper = new ObjectMapper(); return mapper.writeValueAsString(item); &#125; catch (JsonProcessingException e) &#123; e.printStackTrace(); &#125; return ""; &#125;; writer.setLineAggregator(aggregator); writer.afterPropertiesSet(); return writer; &#125; @Bean public StaxEventItemWriter&lt;TestData&gt; xmlFileItemWriter() throws Exception &#123; StaxEventItemWriter&lt;TestData&gt; writer = new StaxEventItemWriter&lt;&gt;(); // ÈÄöËøáXStreamMarshallerÂ∞ÜTestDataËΩ¨Êç¢‰∏∫xml XStreamMarshaller marshaller = new XStreamMarshaller(); Map&lt;String, Class&lt;TestData&gt;&gt; map = new HashMap&lt;&gt;(1); map.put("test", TestData.class); marshaller.setAliases(map); // ËÆæÁΩÆxmlÊ†áÁ≠æ writer.setRootTagName("tests"); // ËÆæÁΩÆÊ†πÊ†áÁ≠æ writer.setMarshaller(marshaller); FileSystemResource file = new FileSystemResource("/Users/mrbird/Desktop/file.xml"); Path path = Paths.get(file.getPath()); if (!Files.exists(path)) &#123; Files.createFile(path); &#125; writer.setResource(file); // ËÆæÁΩÆÁõÆÊ†áÊñá‰ª∂Ë∑ØÂæÑ return writer; &#125;&#125;‰∏äÈù¢ÁöÑÈÖçÁΩÆÁ±ª‰∏≠ÔºåÈÖçÁΩÆ‰∫ÜFlatFileItemWriterÂíåStaxEventItemWriterÁ±ªÂûãÁöÑItemWriter BeanÔºå‰ª£Á†ÅÊ≠•È™§ÂíåÂâçÈù¢‰ªãÁªçÁöÑ‰∏ÄËá¥„ÄÇÁÑ∂ÂêéÂú®jobÂåÖ‰∏ãÊñ∞Âª∫MultiFileItemWriteDemoÔºåÁî®‰∫éÊµãËØïÂ§öÊñáÊú¨ËæìÂá∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849@Componentpublic class MultiFileItemWriteDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private DataSource dataSource; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Autowired private ItemStreamWriter&lt;TestData&gt; fileItemWriter; @Autowired private ItemStreamWriter&lt;TestData&gt; xmlFileItemWriter; @Bean public Job multiFileItemWriterJob() &#123; return jobBuilderFactory.get("multiFileItemWriterJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .writer(classifierMultiFileItemWriter()) .stream(fileItemWriter) .stream(xmlFileItemWriter) .build(); &#125; // Â∞ÜÊï∞ÊçÆÂàÜÁ±ªÔºåÁÑ∂ÂêéÂàÜÂà´ËæìÂá∫Âà∞ÂØπÂ∫îÁöÑÊñá‰ª∂(Ê≠§Êó∂ÈúÄË¶ÅÂ∞ÜwriterÊ≥®ÂÜåÂà∞iocÂÆπÂô®ÔºåÂê¶ÂàôÊä• // WriterNotOpenException: Writer must be open before it can be written to) private ClassifierCompositeItemWriter&lt;TestData&gt; classifierMultiFileItemWriter() &#123; ClassifierCompositeItemWriter&lt;TestData&gt; writer = new ClassifierCompositeItemWriter&lt;&gt;(); writer.setClassifier((Classifier&lt;TestData, ItemWriter&lt;? super TestData&gt;&gt;) testData -&gt; &#123; try &#123; // idËÉΩË¢´2Êï¥Èô§ÂàôËæìÂá∫Âà∞ÊôÆÈÄöÊñáÊú¨ÔºåÂê¶ÂàôËæìÂá∫Âà∞xmlÊñáÊú¨ return testData.getId() % 2 == 0 ? fileItemWriter : xmlFileItemWriter; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return null; &#125;); return writer; &#125;&#125;ClassifierCompositeItemWriterÂèØ‰ª•ËÆæÁΩÆ‰∏çÂêåÊù°‰ª∂‰∏ã‰ΩøÁî®‰∏çÂêåÁöÑItemWriterËæìÂá∫Êï∞ÊçÆÔºåÊ≠§Â§ñÂú®Step‰∏≠ÔºåËøòÈúÄÈÄöËøáStepBuilderFactoryÁöÑstream()ÊñπÊ≥ï‰º†ÂÖ•‰ΩøÁî®Âà∞ÁöÑItemWriterÔºàËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊ≥®ÂÖ•ÁöÑÊó∂ÂÄôÔºåÁ±ªÂûãÂ∫îÈÄâÊã©ItemStreamWriterÔºâ„ÄÇÂú®ÂêØÂä®È°πÁõÆÂâçÔºåÂÖàÂà†Êéâ/Users/mrbird/DesktopÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂„ÄÇÂà†ÊéâÂêéÔºåÂêØÂä®È°πÁõÆÔºåÁªìÊûúÂ¶Ç‰∏ãÔºöÂ¶ÇÊûú‰∏çÊÉ≥Áî®ÂàÜÁ±ªÔºåÂ∏åÊúõÊâÄÊúâÊï∞ÊçÆÈÉΩËæìÂá∫Âà∞ÂØπÂ∫îÊ†ºÂºèÁöÑÊñáÊú¨‰∏≠ÔºåÂàôÂèØ‰ª•‰ΩøÁî®CompositeItemWriter‰Ωú‰∏∫‰ª£ÁêÜËæìÂá∫Ôºå‰øÆÊîπMultiFileItemWriteDemoÔºö1234567891011121314151617181920212223242526272829303132333435363738@Componentpublic class MultiFileItemWriteDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private ListItemReader&lt;TestData&gt; simpleReader; @Autowired private ItemStreamWriter&lt;TestData&gt; fileItemWriter; @Autowired private ItemStreamWriter&lt;TestData&gt; xmlFileItemWriter; @Bean public Job multiFileItemWriterJob() &#123; return jobBuilderFactory.get("multiFileItemWriterJob2") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(simpleReader) .writer(multiFileItemWriter()) .build(); &#125; // ËæìÂá∫Êï∞ÊçÆÂà∞Â§ö‰∏™Êñá‰ª∂ private CompositeItemWriter&lt;TestData&gt; multiFileItemWriter() &#123; // ‰ΩøÁî®CompositeItemWriter‰ª£ÁêÜ CompositeItemWriter&lt;TestData&gt; writer = new CompositeItemWriter&lt;&gt;(); // ËÆæÁΩÆÂÖ∑‰ΩìÂÜô‰ª£ÁêÜ writer.setDelegates(Arrays.asList(fileItemWriter, xmlFileItemWriter)); return writer; &#125;&#125;Âú®ÂêØÂä®È°πÁõÆÂâçÔºåÂÖàÂà†Êéâ/Users/mrbird/DesktopÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂„ÄÇÂà†ÊéâÂêéÔºåÂêØÂä®È°πÁõÆÔºåÁªìÊûúÂ¶Ç‰∏ãÔºöÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/69.spring-batch-itemwriter„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Spring Batch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BatchËØªÂèñÊï∞ÊçÆ]]></title>
    <url>%2FSpring-Batch%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE.html</url>
    <content type="text"><![CDATA[Spring BatchËØªÂèñÊï∞ÊçÆÈÄöËøáItemReaderÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÊù•ÂÆåÊàêÔºåÂåÖÊã¨FlatFileItemReaderÊñáÊú¨Êï∞ÊçÆËØªÂèñ„ÄÅStaxEventItemReader XMLÊñá‰ª∂Êï∞ÊçÆËØªÂèñ„ÄÅJsonItemReader JSONÊñá‰ª∂Êï∞ÊçÆËØªÂèñ„ÄÅJdbcPagingItemReaderÊï∞ÊçÆÂ∫ìÂàÜÈ°µÊï∞ÊçÆËØªÂèñÁ≠âÂÆûÁé∞ÔºåÊõ¥Â§öÂèØÁî®ÁöÑÂÆûÁé∞ÂèØ‰ª•ÂèÇËÄÉÔºöhttps://docs.spring.io/spring-batch/docs/4.2.x/reference/html/appendix.html#itemReadersAppendixÔºåÊú¨ÊñáÂè™‰ªãÁªçËøôÂõõÁßçÊØîËæÉÂ∏∏Áî®ÁöÑËØªÂèñÊï∞ÊçÆÊñπÂºè„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.2.4.RELEASEÔºåartifactId‰∏∫spring-batch-itemreaderÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂâ©‰∏ãÁöÑÊï∞ÊçÆÂ∫ìÂ±ÇÁöÑÂáÜÂ§áÔºåÈ°πÁõÆÈÖçÁΩÆÔºå‰æùËµñÂºïÂÖ•ÂíåSpring BatchÂÖ•Èó®ÊñáÁ´†‰∏≠ÁöÑÊ°ÜÊû∂Êê≠Âª∫Ê≠•È™§‰∏ÄËá¥ÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇÁÆÄÂçïÊï∞ÊçÆËØªÂèñÂâçÈù¢ÊèêÂà∞ÔºåSpring BatchËØªÂèñÊï∞ÊçÆÊòØÈÄöËøáItemReaderÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÊù•ÂÆåÊàêÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâ‰∏Ä‰∏™ItemReaderÁöÑÂÆûÁé∞Á±ªÔºåÂÆûÁé∞ÁÆÄÂçïÊï∞ÊçÆÁöÑËØªÂèñ„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫readerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫ItemReaderÊé•Âè£ÁöÑÂÆûÁé∞Á±ªMySimpleIteamReaderÔºö1234567891011121314public class MySimpleIteamReader implements ItemReader&lt;String&gt; &#123; private Iterator&lt;String&gt; iterator; public MySimpleIteamReader(List&lt;String&gt; data) &#123; this.iterator = data.iterator(); &#125; @Override public String read() &#123; // Êï∞ÊçÆ‰∏Ä‰∏™Êé•ÁùÄ‰∏Ä‰∏™ËØªÂèñ return iterator.hasNext() ? iterator.next() : null; &#125;&#125;Ê≥õÂûãÊåáÂÆöËØªÂèñÊï∞ÊçÆÁöÑÊ†ºÂºèÔºåËøôÈáåËØªÂèñÁöÑÊòØStringÁ±ªÂûãÁöÑListÔºåread()ÊñπÊ≥ïÁöÑÂÆûÁé∞‰πüÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÈÅçÂéÜÈõÜÂêàÊï∞ÊçÆ„ÄÇÊé•ÁùÄÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫jobÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫MySimpleItemReaderDemoÁ±ªÔºåÁî®‰∫éÊµãËØïÊàë‰ª¨ÂÆö‰πâÁöÑMySimpleIteamReaderÔºåMySimpleItemReaderDemoÁ±ª‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728@Componentpublic class MySimpleItemReaderDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job mySimpleItemReaderJob() &#123; return jobBuilderFactory.get("mySimpleItemReaderJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;String, String&gt;chunk(2) .reader(mySimpleItemReader()) .writer(list -&gt; list.forEach(System.out::println)) // ÁÆÄÂçïËæìÂá∫ÔºåÂêéÈù¢ÂÜçËØ¶ÁªÜ‰ªãÁªçwriter .build(); &#125; private ItemReader&lt;String&gt; mySimpleItemReader() &#123; List&lt;String&gt; data = Arrays.asList("java", "c++", "javascript", "python"); return new MySimpleIteamReader(data); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøámySimpleItemReader()ÊñπÊ≥ïÂàõÂª∫‰∫Ü‰∏Ä‰∏™MySimpleIteamReaderÔºåÂπ∂‰∏î‰º†ÂÖ•‰∫ÜListÊï∞ÊçÆ„ÄÇ‰∏äÈù¢‰ª£Á†ÅÂ§ß‰ΩìÂíå‰∏ä‰∏ÄËäÇ‰∏≠‰ªãÁªçÁöÑÂ∑Æ‰∏çÂ§öÔºåÊúÄ‰∏ªË¶ÅÁöÑÂå∫Âà´Â∞±ÊòØStepÁöÑÂàõÂª∫ËøáÁ®ãÁ®çÊúâ‰∏çÂêå„ÄÇÂú®MySimpleItemReaderDemoÁ±ª‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáStepBuilderFactoryÂàõÂª∫Ê≠•È™§StepÔºå‰∏çËøá‰∏çÂÜçÊòØ‰ΩøÁî®tasklet()ÊñπÊ≥ïÂàõÂª∫ÔºåËÄåÊòØ‰ΩøÁî®chunk()ÊñπÊ≥ï„ÄÇchunkÂ≠óÈù¢‰∏äÁöÑÊÑèÊÄùÊòØ‚ÄúÂùó‚ÄùÁöÑÊÑèÊÄùÔºåÂèØ‰ª•ÁÆÄÂçïÁêÜËß£‰∏∫Êï∞ÊçÆÂùóÔºåÊ≥õÂûã&lt;String, String&gt;Áî®‰∫éÊåáÂÆöËØªÂèñÁöÑÊï∞ÊçÆÂíåËæìÂá∫ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊûÑÈÄ†Âô®ÂÖ•ÂèÇÊåáÂÆö‰∫ÜÊï∞ÊçÆÂùóÁöÑÂ§ßÂ∞èÔºåÊØîÂ¶ÇÊåáÂÆö‰∏∫2Êó∂Ë°®Á§∫ÊØèÂΩìËØªÂèñ2ÁªÑÊï∞ÊçÆÂêéÂÅö‰∏ÄÊ¨°Êï∞ÊçÆËæìÂá∫Â§ÑÁêÜ„ÄÇÊé•ÁùÄreader()ÊñπÊ≥ïÊåáÂÆöËØªÂèñÊï∞ÊçÆÁöÑÊñπÂºèÔºåËØ•ÊñπÊ≥ïÊé•Êî∂ItemReaderÁöÑÂÆûÁé∞Á±ªÔºåËøôÈáå‰ΩøÁî®ÁöÑÊòØÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑMySimpleIteamReader„ÄÇwriter()ÊñπÊ≥ïÊåáÂÆöÊï∞ÊçÆËæìÂá∫ÊñπÂºèÔºåÂõ†‰∏∫ËøôÂùó‰∏çÊòØÊú¨ÊñáÁöÑÈáçÁÇπÔºåÊâÄ‰ª•ÂÖàÁÆÄÂçïÈÅçÂéÜËæìÂá∫Âç≥ÂèØ„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö123456782020-03-07 11:17:32.303 INFO 28381 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=mySimpleItemReaderJob]] launched with the following parameters: [&#123;&#125;]2020-03-07 11:17:32.369 INFO 28381 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]javac++javascriptpython2020-03-07 11:17:32.428 INFO 28381 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 59ms2020-03-07 11:17:32.451 INFO 28381 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=mySimpleItemReaderJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 125msÊñáÊú¨Êï∞ÊçÆËØªÂèñSpring BatchËØªÂèñÊñáÊú¨Á±ªÂûãÊï∞ÊçÆÂèØ‰ª•ÈÄöËøáFlatFileItemReaderÂÆûÁé∞ÔºåÂú®ÊºîÁ§∫ÊÄé‰πà‰ΩøÁî®‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂáÜÂ§áÂ•ΩÊï∞ÊçÆÊñá‰ª∂„ÄÇÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫fileÊñá‰ª∂ÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÔºö1234567// ÊºîÁ§∫Êñá‰ª∂Êï∞ÊçÆËØªÂèñ1,11,12,132,21,22,233,31,32,334,41,42,435,51,52,536,61,62,63fileÁöÑÊï∞ÊçÆÊòØ‰∏ÄË°å‰∏ÄË°å‰ª•ÈÄóÂè∑ÂàÜÈöîÁöÑÊï∞ÊçÆÔºàÂú®ÊâπÂ§ÑÁêÜ‰∏öÂä°‰∏≠ÔºåÊñáÊú¨Á±ªÂûãÁöÑÊï∞ÊçÆÊñá‰ª∂‰∏ÄËà¨ÈÉΩÊòØÊúâ‰∏ÄÂÆöËßÑÂæãÁöÑÔºâ„ÄÇÂú®ÊñáÊú¨Êï∞ÊçÆËØªÂèñÁöÑËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜËØªÂèñÁöÑÊï∞ÊçÆËΩ¨Êç¢‰∏∫POJOÂØπË±°Â≠òÂÇ®ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™‰∏é‰πãÂØπÂ∫îÁöÑPOJOÂØπË±°„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫entityÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫TestDataÁ±ªÔºö12345678public class TestData &#123; private int id; private String field1; private String field2; private String field3; // get,set,toStringÁï•&#125;Âõ†‰∏∫fileÊñáÊú¨‰∏≠ÁöÑ‰∏ÄË°åÊï∞ÊçÆÁªèËøáÈÄóÂè∑ÂàÜÈöîÂêé‰∏∫1„ÄÅ11„ÄÅ12„ÄÅ13ÔºåÊâÄ‰ª•Êàë‰ª¨ÂàõÂª∫ÁöÑ‰∏é‰πãÂØπÂ∫îÁöÑPOJO TestDataÂåÖÂê´4‰∏™Â±ûÊÄßid„ÄÅfield1„ÄÅfield2Âíåfield3„ÄÇÊé•ÁùÄÂú®jobÂåÖ‰∏ãÊñ∞Âª∫FileItemReaderDemoÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354@Componentpublic class FileItemReaderDemo &#123; // ‰ªªÂä°ÂàõÂª∫Â∑•ÂéÇ @Autowired private JobBuilderFactory jobBuilderFactory; // Ê≠•È™§ÂàõÂª∫Â∑•ÂéÇ @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job fileItemReaderJob() &#123; return jobBuilderFactory.get("fileItemReaderJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(fileItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125; private ItemReader&lt;TestData&gt; fileItemReader() &#123; FlatFileItemReader&lt;TestData&gt; reader = new FlatFileItemReader&lt;&gt;(); reader.setResource(new ClassPathResource("file")); // ËÆæÁΩÆÊñá‰ª∂ËµÑÊ∫êÂú∞ÂùÄ reader.setLinesToSkip(1); // ÂøΩÁï•Á¨¨‰∏ÄË°å // AbstractLineTokenizerÁöÑ‰∏â‰∏™ÂÆûÁé∞Á±ª‰πã‰∏ÄÔºå‰ª•Âõ∫ÂÆöÂàÜÈöîÁ¨¶Â§ÑÁêÜË°åÊï∞ÊçÆËØªÂèñ, // ‰ΩøÁî®ÈªòËÆ§ÊûÑÈÄ†Âô®ÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®ÈÄóÂè∑‰Ωú‰∏∫ÂàÜÈöîÁ¨¶Ôºå‰πüÂèØ‰ª•ÈÄöËøáÊúâÂèÇÊûÑÈÄ†Âô®Êù•ÊåáÂÆöÂàÜÈöîÁ¨¶ DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer(); // ËÆæÁΩÆÂ±ûÊÄßÂêçÔºåÁ±ª‰ºº‰∫éË°®Â§¥ tokenizer.setNames("id", "field1", "field2", "field3"); // Â∞ÜÊØèË°åÊï∞ÊçÆËΩ¨Êç¢‰∏∫TestDataÂØπË±° DefaultLineMapper&lt;TestData&gt; mapper = new DefaultLineMapper&lt;&gt;(); // ËÆæÁΩÆLineTokenizer mapper.setLineTokenizer(tokenizer); // ËÆæÁΩÆÊò†Â∞ÑÊñπÂºèÔºåÂç≥ËØªÂèñÂà∞ÁöÑÊñáÊú¨ÊÄé‰πàËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑPOJO mapper.setFieldSetMapper(fieldSet -&gt; &#123; TestData data = new TestData(); data.setId(fieldSet.readInt("id")); data.setField1(fieldSet.readString("field1")); data.setField2(fieldSet.readString("field2")); data.setField3(fieldSet.readString("field3")); return data; &#125;); reader.setLineMapper(mapper); return reader; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨Âú®fileItemReader()ÊñπÊ≥ïÈáåÁºñÂÜô‰∫ÜÂÖ∑‰ΩìÁöÑÊñáÊú¨Êï∞ÊçÆËØªÂèñ‰ª£Á†ÅÔºåËøáÁ®ãÂèÇËÄÉÊ≥®ÈáäÂç≥ÂèØ„ÄÇDelimitedLineTokenizerÂàÜÈöîÁ¨¶Ë°åÂ§ÑÁêÜÂô®ÁöÑÈªòËÆ§ÊûÑÈÄ†Âô®Ê∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂ∏∏ÈáèDELIMITER_COMMAÁöÑÂÄº‰∏∫public static final String DELIMITER_COMMA = &quot;,&quot;;ÔºåÂÅáÂ¶ÇÊàë‰ª¨ÁöÑÊï∞ÊçÆÂπ∂‰∏çÊòØÁî®ÈÄóÂè∑ÂàÜÈöîÔºåËÄåÊòØÁî®|Á≠âÂ≠óÁ¨¶ÂàÜÈöîÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî®ÂÆÉÁöÑÊúâÂèÇÊûÑÈÄ†Âô®ÊåáÂÆöÔºö1DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer("|");DelimitedLineTokenizerÊòØAbstractLineTokenizer‰∏â‰∏™ÂÆûÁé∞Á±ª‰πã‰∏ÄÔºöÈ°æÂêçÊÄù‰πâÔºåFixedLengthTokenizerÈÄöËøáÊåáÂÆöÁöÑÂõ∫ÂÆöÈïøÂ∫¶Êù•Êà™ÂèñÊï∞ÊçÆÔºåRegexLineTokenizerÈÄöËøáÊ≠£ÂàôË°®ËææÂºèÊù•ÂåπÈÖçÊï∞ÊçÆÔºåËøôÈáåÂ∞±‰∏çÊºîÁ§∫‰∫ÜÔºåÊúâÂÖ¥Ë∂£ÁöÑÂèØ‰ª•Ëá™Â∑±Áé©Áé©„ÄÇÁºñÂÜôÂ•ΩFileItemReaderDemoÂêéÔºåÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö123456789102020-03-07 12:06:11.876 INFO 29042 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=fileItemReaderJob]] launched with the following parameters: [&#123;&#125;]2020-03-07 12:06:11.937 INFO 29042 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;TestData&#123;id=3, field1=&apos;31&apos;, field2=&apos;32&apos;, field3=&apos;33&apos;&#125;TestData&#123;id=4, field1=&apos;41&apos;, field2=&apos;42&apos;, field3=&apos;43&apos;&#125;TestData&#123;id=5, field1=&apos;51&apos;, field2=&apos;52&apos;, field3=&apos;53&apos;&#125;TestData&#123;id=6, field1=&apos;61&apos;, field2=&apos;62&apos;, field3=&apos;63&apos;&#125;2020-03-07 12:06:12.020 INFO 29042 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 83ms2020-03-07 12:06:12.044 INFO 29042 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=fileItemReaderJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 146msÊï∞ÊçÆÂ∫ìÊï∞ÊçÆËØªÂèñÂú®ÊºîÁ§∫‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊï∞ÊçÆ‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂáÜÂ§áÂ•ΩÊµãËØïÊï∞ÊçÆ„ÄÇÂú®springbatchÊï∞ÊçÆÂ∫ì‰∏≠Êñ∞Âª∫‰∏ÄÂº†TESTË°®ÔºåSQLËØ≠Âè•Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617181920212223-- ------------------------------ Table structure for TEST-- ----------------------------DROP TABLE IF EXISTS `TEST`;CREATE TABLE `TEST` ( `id` bigint(10) NOT NULL COMMENT 'ID', `field1` varchar(10) NOT NULL COMMENT 'Â≠óÊÆµ‰∏Ä', `field2` varchar(10) NOT NULL COMMENT 'Â≠óÊÆµ‰∫å', `field3` varchar(10) NOT NULL COMMENT 'Â≠óÊÆµ‰∏â', PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;-- ------------------------------ Records of TEST-- ----------------------------BEGIN;INSERT INTO `TEST` VALUES (1, '11', '12', '13');INSERT INTO `TEST` VALUES (2, '21', '22', '23');INSERT INTO `TEST` VALUES (3, '31', '32', '33');INSERT INTO `TEST` VALUES (4, '41', '42', '43');INSERT INTO `TEST` VALUES (5, '51', '52', '53');INSERT INTO `TEST` VALUES (6, '61', '62', '63');COMMIT;TESTË°®ÁöÑÂ≠óÊÆµÂíå‰∏äÈù¢ÂàõÂª∫ÁöÑTestDataÂÆû‰ΩìÁ±ª‰∏ÄËá¥„ÄÇÁÑ∂ÂêéÂú®jobÂåÖ‰∏ãÊñ∞Âª∫DataSourceItemReaderDemoÁ±ªÔºåÊµãËØï‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊï∞ÊçÆÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758@Componentpublic class DataSourceItemReaderDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; // Ê≥®ÂÖ•Êï∞ÊçÆÊ∫ê @Autowired private DataSource dataSource; @Bean public Job dataSourceItemReaderJob() throws Exception &#123; return jobBuilderFactory.get("dataSourceItemReaderJob") .start(step()) .build(); &#125; private Step step() throws Exception &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(dataSourceItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125; private ItemReader&lt;TestData&gt; dataSourceItemReader() throws Exception &#123; JdbcPagingItemReader&lt;TestData&gt; reader = new JdbcPagingItemReader&lt;&gt;(); reader.setDataSource(dataSource); // ËÆæÁΩÆÊï∞ÊçÆÊ∫ê reader.setFetchSize(5); // ÊØèÊ¨°ÂèñÂ§öÂ∞ëÊù°ËÆ∞ÂΩï reader.setPageSize(5); // ËÆæÁΩÆÊØèÈ°µÊï∞ÊçÆÈáè // ÊåáÂÆösqlÊü•ËØ¢ËØ≠Âè• select id,field1,field2,field3 from TEST MySqlPagingQueryProvider provider = new MySqlPagingQueryProvider(); provider.setSelectClause("id,field1,field2,field3"); //ËÆæÁΩÆÊü•ËØ¢Â≠óÊÆµ provider.setFromClause("from TEST"); // ËÆæÁΩÆ‰ªéÂì™Âº†Ë°®Êü•ËØ¢ // Â∞ÜËØªÂèñÂà∞ÁöÑÊï∞ÊçÆËΩ¨Êç¢‰∏∫TestDataÂØπË±° reader.setRowMapper((resultSet, rowNum) -&gt; &#123; TestData data = new TestData(); data.setId(resultSet.getInt(1)); data.setField1(resultSet.getString(2)); // ËØªÂèñÁ¨¨‰∏Ä‰∏™Â≠óÊÆµÔºåÁ±ªÂûã‰∏∫String data.setField2(resultSet.getString(3)); data.setField3(resultSet.getString(4)); return data; &#125;); Map&lt;String, Order&gt; sort = new HashMap&lt;&gt;(1); sort.put("id", Order.ASCENDING); provider.setSortKeys(sort); // ËÆæÁΩÆÊéíÂ∫è,ÈÄöËøáid ÂçáÂ∫è reader.setQueryProvider(provider); // ËÆæÁΩÆnamedParameterJdbcTemplateÁ≠âÂ±ûÊÄß reader.afterPropertiesSet(); return reader; &#125;&#125;dataSourceItemReader()ÊñπÊ≥ï‰∏≠ÁöÑ‰∏ªË¶ÅÊ≠•È™§Â∞±ÊòØÔºöÈÄöËøáJdbcPagingItemReaderËÆæÁΩÆÂØπÂ∫îÁöÑÊï∞ÊçÆÊ∫êÔºåÁÑ∂ÂêéËÆæÁΩÆÊï∞ÊçÆÈáè„ÄÅËé∑ÂèñÊï∞ÊçÆÁöÑsqlËØ≠Âè•„ÄÅÊéíÂ∫èËßÑÂàôÂíåÊü•ËØ¢ÁªìÊûú‰∏éPOJOÁöÑÊò†Â∞ÑËßÑÂàôÁ≠â„ÄÇÊñπÊ≥ïÊú´Â∞æ‰πãÊâÄ‰ª•ÈúÄË¶ÅË∞ÉÁî®JdbcPagingItemReaderÁöÑafterPropertiesSet()ÊñπÊ≥ïÊòØÂõ†‰∏∫ÈúÄË¶ÅËÆæÁΩÆJDBCÊ®°ÊùøÔºàafterPropertiesSet()ÊñπÊ≥ïÊ∫êÁ†ÅÔºâÔºöÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö123456789102020-03-07 16:01:05.366 INFO 30264 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=dataSourceItemReaderJob]] launched with the following parameters: [&#123;&#125;]2020-03-07 16:01:05.420 INFO 30264 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;TestData&#123;id=3, field1=&apos;31&apos;, field2=&apos;32&apos;, field3=&apos;33&apos;&#125;TestData&#123;id=4, field1=&apos;41&apos;, field2=&apos;42&apos;, field3=&apos;43&apos;&#125;TestData&#123;id=5, field1=&apos;51&apos;, field2=&apos;52&apos;, field3=&apos;53&apos;&#125;TestData&#123;id=6, field1=&apos;61&apos;, field2=&apos;62&apos;, field3=&apos;63&apos;&#125;2020-03-07 16:01:05.512 INFO 30264 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 92ms2020-03-07 16:01:05.534 INFO 30264 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=dataSourceItemReaderJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 147msXMLÊï∞ÊçÆËØªÂèñSpring BatchÂÄüÂä©Spring OXMÂèØ‰ª•ËΩªÊùæÂú∞ÂÆûÁé∞xmlÊ†ºÂºèÊï∞ÊçÆÊñá‰ª∂ËØªÂèñ„ÄÇÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫file.xmlÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version="1.0" encoding="utf-8" ?&gt;&lt;tests&gt; &lt;test&gt; &lt;id&gt;1&lt;/id&gt; &lt;field1&gt;11&lt;/field1&gt; &lt;field2&gt;12&lt;/field2&gt; &lt;field3&gt;13&lt;/field3&gt; &lt;/test&gt; &lt;test&gt; &lt;id&gt;2&lt;/id&gt; &lt;field1&gt;21&lt;/field1&gt; &lt;field2&gt;22&lt;/field2&gt; &lt;field3&gt;23&lt;/field3&gt; &lt;/test&gt; &lt;test&gt; &lt;id&gt;3&lt;/id&gt; &lt;field1&gt;31&lt;/field1&gt; &lt;field2&gt;32&lt;/field2&gt; &lt;field3&gt;33&lt;/field3&gt; &lt;/test&gt; &lt;test&gt; &lt;id&gt;4&lt;/id&gt; &lt;field1&gt;41&lt;/field1&gt; &lt;field2&gt;42&lt;/field2&gt; &lt;field3&gt;43&lt;/field3&gt; &lt;/test&gt; &lt;test&gt; &lt;id&gt;5&lt;/id&gt; &lt;field1&gt;51&lt;/field1&gt; &lt;field2&gt;52&lt;/field2&gt; &lt;field3&gt;53&lt;/field3&gt; &lt;/test&gt; &lt;test&gt; &lt;id&gt;6&lt;/id&gt; &lt;field1&gt;61&lt;/field1&gt; &lt;field2&gt;62&lt;/field2&gt; &lt;field3&gt;63&lt;/field3&gt; &lt;/test&gt;&lt;/tests&gt;xmlÊñá‰ª∂ÂÜÖÂÆπÁî±‰∏ÄÁªÑ‰∏ÄÁªÑÁöÑ&lt;test&gt;&lt;/test&gt;Ê†áÁ≠æÁªÑÊàêÔºå&lt;test&gt;Ê†áÁ≠æÂèàÂåÖÂê´ÂõõÁªÑÂ≠êÊ†áÁ≠æÔºåÊ†áÁ≠æÂêçÁß∞ÂíåTestDataÂÆû‰ΩìÁ±ªÂ±ûÊÄß‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇÂáÜÂ§áÂ•ΩxmlÊñá‰ª∂ÂêéÔºåÊàë‰ª¨Âú®pom‰∏≠ÂºïÂÖ•spring-oxm‰æùËµñÔºö123456789&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt; &lt;artifactId&gt;xstream&lt;/artifactId&gt; &lt;version&gt;1.4.11.1&lt;/version&gt;&lt;/dependency&gt;Êé•ÁùÄÂú®jobÂåÖ‰∏ãÊñ∞Âª∫XmlFileItemReaderDemoÔºåÊºîÁ§∫xmlÊñá‰ª∂Êï∞ÊçÆËé∑ÂèñÔºö1234567891011121314151617181920212223242526272829303132333435363738@Componentpublic class XmlFileItemReaderDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job xmlFileItemReaderJob() &#123; return jobBuilderFactory.get("xmlFileItemReaderJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(xmlFileItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125; private ItemReader&lt;TestData&gt; xmlFileItemReader() &#123; StaxEventItemReader&lt;TestData&gt; reader = new StaxEventItemReader&lt;&gt;(); reader.setResource(new ClassPathResource("file.xml")); // ËÆæÁΩÆxmlÊñá‰ª∂Ê∫ê reader.setFragmentRootElementName("test"); // ÊåáÂÆöxmlÊñá‰ª∂ÁöÑÊ†πÊ†áÁ≠æ // Â∞ÜxmlÊï∞ÊçÆËΩ¨Êç¢‰∏∫TestDataÂØπË±° XStreamMarshaller marshaller = new XStreamMarshaller(); // ÊåáÂÆöÈúÄË¶ÅËΩ¨Êç¢ÁöÑÁõÆÊ†áÊï∞ÊçÆÁ±ªÂûã Map&lt;String, Class&lt;TestData&gt;&gt; map = new HashMap&lt;&gt;(1); map.put("test", TestData.class); marshaller.setAliases(map); reader.setUnmarshaller(marshaller); return reader; &#125;&#125;Âú®xmlFileItemReader()ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáStaxEventItemReaderËØªÂèñxmlÊñá‰ª∂Ôºå‰ª£Á†ÅËæÉÁÆÄÂçïÔºåÁúãÊ≥®ÈáäÂç≥ÂèØ„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345678910020-03-07 16:23:47.775 INFO 30450 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=xmlFileItemReaderJob]] launched with the following parameters: [&#123;&#125;]2020-03-07 16:23:47.820 INFO 30450 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;TestData&#123;id=3, field1=&apos;31&apos;, field2=&apos;32&apos;, field3=&apos;33&apos;&#125;TestData&#123;id=4, field1=&apos;41&apos;, field2=&apos;42&apos;, field3=&apos;43&apos;&#125;TestData&#123;id=5, field1=&apos;51&apos;, field2=&apos;52&apos;, field3=&apos;53&apos;&#125;TestData&#123;id=6, field1=&apos;61&apos;, field2=&apos;62&apos;, field3=&apos;63&apos;&#125;2020-03-07 16:23:47.961 INFO 30450 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 140ms2020-03-07 16:23:47.984 INFO 30450 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=xmlFileItemReaderJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 200msJSONÊï∞ÊçÆËØªÂèñÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫file.jsonÊñá‰ª∂ÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÔºö1234567891011121314151617181920[ &#123; "id": 1, "field1": "11", "field2": "12", "field3": "13" &#125;, &#123; "id": 2, "field1": "21", "field2": "22", "field3": "23" &#125;, &#123; "id": 3, "field1": "31", "field2": "32", "field3": "33" &#125;]JSONÂØπË±°Â±ûÊÄßÂíåTestDataÂØπË±°Â±ûÊÄß‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇÂú®jobÂåÖ‰∏ãÊñ∞Âª∫JSONFileItemReaderDemoÔºåÁî®‰∫éÊµãËØïJSONÊñá‰ª∂Êï∞ÊçÆËØªÂèñÔºö12345678910111213141516171819202122232425262728293031323334@Componentpublic class JSONFileItemReaderDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job jsonFileItemReaderJob() &#123; return jobBuilderFactory.get("jsonFileItemReaderJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(jsonItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125; private ItemReader&lt;TestData&gt; jsonItemReader() &#123; // ËÆæÁΩÆjsonÊñá‰ª∂Âú∞ÂùÄ ClassPathResource resource = new ClassPathResource("file.json"); // ËÆæÁΩÆjsonÊñá‰ª∂ËΩ¨Êç¢ÁöÑÁõÆÊ†áÂØπË±°Á±ªÂûã JacksonJsonObjectReader&lt;TestData&gt; jacksonJsonObjectReader = new JacksonJsonObjectReader&lt;&gt;(TestData.class); JsonItemReader&lt;TestData&gt; reader = new JsonItemReader&lt;&gt;(resource, jacksonJsonObjectReader); // ÁªôreaderËÆæÁΩÆ‰∏Ä‰∏™Âà´Âêç reader.setName("testDataJsonItemReader"); return reader; &#125;&#125;ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö12345672020-03-07 16:40:52.508 INFO 30599 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=jsonFileItemReaderJob]] launched with the following parameters: [&#123;&#125;]2020-03-07 16:40:52.554 INFO 30599 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;TestData&#123;id=3, field1=&apos;31&apos;, field2=&apos;32&apos;, field3=&apos;33&apos;&#125;2020-03-07 16:40:52.622 INFO 30599 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 67ms2020-03-07 16:40:52.642 INFO 30599 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=jsonFileItemReaderJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 124msÂ§öÊñáÊú¨Êï∞ÊçÆËØªÂèñÂ§öÊñáÊú¨ÁöÑÊï∞ÊçÆËØªÂèñÊú¨Ë¥®ËøòÊòØÂçïÊñá‰ª∂Êï∞ÊçÆËØªÂèñÔºåÂå∫Âà´Â∞±ÊòØÂ§öÊñá‰ª∂ËØªÂèñÈúÄË¶ÅÂú®ÂçïÊñá‰ª∂ËØªÂèñÁöÑÊñπÂºè‰∏äËÆæÁΩÆ‰∏ÄÂ±Ç‰ª£ÁêÜ„ÄÇÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏§‰∏™Êñá‰ª∂file1Âíåfile2Ôºåfile1ÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567// ÊºîÁ§∫Êñá‰ª∂Êï∞ÊçÆËØªÂèñ1,11,12,132,21,22,233,31,32,334,41,42,435,51,52,536,61,62,63file2ÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123// ÊºîÁ§∫Êñá‰ª∂Êï∞ÊçÆËØªÂèñ7,71,72,738,81,82,83ÁÑ∂ÂêéÂú®jobÂåÖ‰∏ãÊñ∞Âª∫MultiFileIteamReaderDemoÔºåÊºîÁ§∫Â§öÊñá‰ª∂Êï∞ÊçÆËØªÂèñÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263@Componentpublic class MultiFileIteamReaderDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job multiFileItemReaderJob() &#123; return jobBuilderFactory.get("multiFileItemReaderJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .&lt;TestData, TestData&gt;chunk(2) .reader(multiFileItemReader()) .writer(list -&gt; list.forEach(System.out::println)) .build(); &#125; private ItemReader&lt;TestData&gt; multiFileItemReader() &#123; MultiResourceItemReader&lt;TestData&gt; reader = new MultiResourceItemReader&lt;&gt;(); reader.setDelegate(fileItemReader()); // ËÆæÁΩÆÊñá‰ª∂ËØªÂèñ‰ª£ÁêÜÔºåÊñπÊ≥ïÂèØ‰ª•‰ΩøÁî®ÂâçÈù¢Êñá‰ª∂ËØªÂèñ‰∏≠ÁöÑ‰æãÂ≠ê Resource[] resources = new Resource[]&#123; new ClassPathResource("file1"), new ClassPathResource("file2") &#125;; reader.setResources(resources); // ËÆæÁΩÆÂ§öÊñá‰ª∂Ê∫ê return reader; &#125; private FlatFileItemReader&lt;TestData&gt; fileItemReader() &#123; FlatFileItemReader&lt;TestData&gt; reader = new FlatFileItemReader&lt;&gt;(); reader.setLinesToSkip(1); // ÂøΩÁï•Á¨¨‰∏ÄË°å // AbstractLineTokenizerÁöÑ‰∏â‰∏™ÂÆûÁé∞Á±ª‰πã‰∏ÄÔºå‰ª•Âõ∫ÂÆöÂàÜÈöîÁ¨¶Â§ÑÁêÜË°åÊï∞ÊçÆËØªÂèñ, // ‰ΩøÁî®ÈªòËÆ§ÊûÑÈÄ†Âô®ÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®ÈÄóÂè∑‰Ωú‰∏∫ÂàÜÈöîÁ¨¶Ôºå‰πüÂèØ‰ª•ÈÄöËøáÊúâÂèÇÊûÑÈÄ†Âô®Êù•ÊåáÂÆöÂàÜÈöîÁ¨¶ DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer(); // ËÆæÁΩÆÂ±ûÂßìÂêçÔºåÁ±ª‰ºº‰∫éË°®Â§¥ tokenizer.setNames("id", "field1", "field2", "field3"); // Â∞ÜÊØèË°åÊï∞ÊçÆËΩ¨Êç¢‰∏∫TestDataÂØπË±° DefaultLineMapper&lt;TestData&gt; mapper = new DefaultLineMapper&lt;&gt;(); mapper.setLineTokenizer(tokenizer); // ËÆæÁΩÆÊò†Â∞ÑÊñπÂºè mapper.setFieldSetMapper(fieldSet -&gt; &#123; TestData data = new TestData(); data.setId(fieldSet.readInt("id")); data.setField1(fieldSet.readString("field1")); data.setField2(fieldSet.readString("field2")); data.setField3(fieldSet.readString("field3")); return data; &#125;); reader.setLineMapper(mapper); return reader; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠fileItemReader()ÊñπÊ≥ïÂú®ÊñáÊú¨Êï∞ÊçÆËØªÂèñ‰∏≠‰ªãÁªçËøá‰∫ÜÔºåÂ§öÊñá‰ª∂ËØªÂèñÁöÑÂÖ≥ÈîÆÂú®‰∫émultiFileItemReader()ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÈÄöËøáMultiResourceItemReaderÂØπË±°ËÆæÁΩÆ‰∫ÜÂ§ö‰∏™Êñá‰ª∂ÁöÑÁõÆÊ†áÂú∞ÂùÄÔºåÂπ∂‰∏îÂ∞ÜÂçïÊñá‰ª∂ÁöÑËØªÂèñÊñπÂºèËÆæÁΩÆ‰∏∫‰ª£ÁêÜ„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö1234567891011122020-03-07 16:55:24.480 INFO 30749 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=multiFileItemReaderJob]] launched with the following parameters: [&#123;&#125;]2020-03-07 16:55:24.536 INFO 30749 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]TestData&#123;id=1, field1=&apos;11&apos;, field2=&apos;12&apos;, field3=&apos;13&apos;&#125;TestData&#123;id=2, field1=&apos;21&apos;, field2=&apos;22&apos;, field3=&apos;23&apos;&#125;TestData&#123;id=3, field1=&apos;31&apos;, field2=&apos;32&apos;, field3=&apos;33&apos;&#125;TestData&#123;id=4, field1=&apos;41&apos;, field2=&apos;42&apos;, field3=&apos;43&apos;&#125;TestData&#123;id=5, field1=&apos;51&apos;, field2=&apos;52&apos;, field3=&apos;53&apos;&#125;TestData&#123;id=6, field1=&apos;61&apos;, field2=&apos;62&apos;, field3=&apos;63&apos;&#125;TestData&#123;id=7, field1=&apos;71&apos;, field2=&apos;72&apos;, field3=&apos;73&apos;&#125;TestData&#123;id=8, field1=&apos;81&apos;, field2=&apos;82&apos;, field3=&apos;83&apos;&#125;2020-03-07 16:55:24.617 INFO 30749 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 81ms2020-03-07 16:55:24.643 INFO 30749 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=multiFileItemReaderJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 153msÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/68.spring-batch-itemreader„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Spring Batch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BatchÂÖ•Èó®]]></title>
    <url>%2FSpring-Batch%E5%85%A5%E9%97%A8.html</url>
    <content type="text"><![CDATA[‰ºÅ‰∏ö‰∏≠ÁªèÂ∏∏‰ºöÊúâÈúÄË¶ÅÊâπÂ§ÑÁêÜÊâçËÉΩÂÆåÊàêÁöÑ‰∏öÂä°Êìç‰ΩúÔºåÊØîÂ¶ÇÔºöËá™Âä®ÂåñÂú∞Â§ÑÁêÜÂ§ßÊâπÈáèÂ§çÊùÇÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊúàÁªìËÆ°ÁÆóÔºõÈáçÂ§çÊÄßÂú∞Â§ÑÁêÜÂ§ßÊâπÈáèÊï∞ÊçÆÔºåÂ¶ÇË¥πÁéáËÆ°ÁÆóÔºõÂÖÖÂΩìÂÜÖÈÉ®Á≥ªÁªüÂíåÂ§ñÈÉ®Á≥ªÁªüÁöÑÊï∞ÊçÆÁ∫ΩÂ∏¶Ôºå‰∏≠Èó¥ÈúÄË¶ÅÂØπÊï∞ÊçÆËøõË°åÊ†ºÂºèÂåñÔºåÊ†°È™åÔºåËΩ¨Êç¢Â§ÑÁêÜÁ≠â„ÄÇSpring BatchÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ß‰ΩÜÂäüËÉΩÂèàÂçÅÂàÜÂÖ®Èù¢ÁöÑÊâπÂ§ÑÁêÜÊ°ÜÊû∂ÔºåÊú¨ËäÇÊàë‰ª¨Â∞ÜÈÄöËøá‰∏Ä‰∫õÁÆÄÂçïÁöÑ‰æãÂ≠êÊù•ÂÖ•Èó®Spring Batch„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.2.4.RELEASEÔºåartifactId‰∏∫spring-batch-startÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÁÑ∂ÂêéÂú®pom‰∏≠ÂºïÂÖ•Spring Batch„ÄÅMySQLÂíåJDBC‰æùËµñÔºåÂºïÂÖ•ÂêépomÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.5.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-batch-start&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;spring-batch-start&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;Âú®ÁºñÂÜô‰ª£Á†Å‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊù•ÁÆÄÂçï‰∫ÜËß£‰∏ãSpring BatchÁöÑÁªÑÊàêÔºöSpring BatchÈáåÊúÄÂü∫Êú¨ÁöÑÂçïÂÖÉÂ∞±ÊòØ‰ªªÂä°JobÔºå‰∏Ä‰∏™JobÁî±Ëã•Âπ≤‰∏™Ê≠•È™§StepÁªÑÊàê„ÄÇ‰ªªÂä°ÂêØÂä®Âô®Job LauncherË¥üË¥£ËøêË°åJobÔºå‰ªªÂä°Â≠òÂÇ®‰ªìÂ∫ìJob RepositoryÂ≠òÂÇ®ÁùÄJobÁöÑÊâßË°åÁä∂ÊÄÅÔºåÂèÇÊï∞ÂíåÊó•ÂøóÁ≠â‰ø°ÊÅØ„ÄÇJobÂ§ÑÁêÜ‰ªªÂä°ÂèàÂèØ‰ª•ÂàÜ‰∏∫‰∏âÂ§ßÁ±ªÔºöÊï∞ÊçÆËØªÂèñItem Reader„ÄÅÊï∞ÊçÆ‰∏≠Èó¥Â§ÑÁêÜItem ProcessorÂíåÊï∞ÊçÆËæìÂá∫Item Writer„ÄÇ‰ªªÂä°Â≠òÂÇ®‰ªìÂ∫ìÂèØ‰ª•ÊòØÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìMySQLÔºåÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìMongoDBÊàñËÄÖÁõ¥Êé•Â≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÊú¨ÁØá‰ΩøÁî®ÁöÑÊòØMySQL‰Ωú‰∏∫‰ªªÂä°Â≠òÂÇ®‰ªìÂ∫ì„ÄÇÊñ∞Âª∫‰∏Ä‰∏™ÂêçÁß∞‰∏∫springbatchÁöÑMySQLÊï∞ÊçÆÂ∫ìÔºåÁÑ∂ÂêéÂØºÂÖ•org.springframework.batch.coreÁõÆÂΩï‰∏ãÁöÑschema-mysql.sqlÊñá‰ª∂Ôºö ÂØºÂÖ•ÂêéÔºåÂ∫ìË°®Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÁÑ∂ÂêéÂú®È°πÁõÆÁöÑÈÖçÁΩÆÊñá‰ª∂application.ymlÈáåÊ∑ªÂä†MySQLÁõ∏ÂÖ≥ÈÖçÁΩÆÔºö123456spring: datasource: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://127.0.0.1:3306/springbatch username: root password: 123456Êé•ÁùÄÂú®Spring BootÁöÑÂÖ•Âè£Á±ª‰∏äÊ∑ªÂä†@EnableBatchProcessingÊ≥®Ëß£ÔºåË°®Á§∫ÂºÄÂêØSpring BatchÊâπÂ§ÑÁêÜÂäüËÉΩÔºö1234567@SpringBootApplication@EnableBatchProcessingpublic class SpringBatchStartApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(SpringBatchStartApplication.class, args); &#125;&#125;Ëá≥Ê≠§ÔºåÂü∫Êú¨Ê°ÜÊû∂Êê≠Âª∫Â•Ω‰∫ÜÔºå‰∏ãÈù¢ÂºÄÂßãÈÖçÁΩÆ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ªªÂä°„ÄÇÁºñÂÜôÁ¨¨‰∏Ä‰∏™‰ªªÂä°Âú®cc.mrbird.batchÁõÆÂΩï‰∏ãÊñ∞Âª∫jobÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫‰∏Ä‰∏™FirstJobDemoÁ±ªÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617181920212223@Componentpublic class FirstJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job firstJob() &#123; return jobBuilderFactory.get("firstJob") .start(step()) .build(); &#125; private Step step() &#123; return stepBuilderFactory.get("step") .tasklet((contribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§...."); return RepeatStatus.FINISHED; &#125;).build(); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨Ê≥®ÂÖ•‰∫ÜJobBuilderFactory‰ªªÂä°ÂàõÂª∫Â∑•ÂéÇÂíåStepBuilderFactoryÊ≠•È™§ÂàõÂª∫Â∑•ÂéÇÔºåÂàÜÂà´Áî®‰∫éÂàõÂª∫‰ªªÂä°JobÂíåÊ≠•È™§Step„ÄÇJobBuilderFactoryÁöÑgetÊñπÊ≥ïÁî®‰∫éÂàõÂª∫‰∏Ä‰∏™ÊåáÂÆöÂêçÁß∞ÁöÑ‰ªªÂä°ÔºåstartÊñπÊ≥ïÊåáÂÆö‰ªªÂä°ÁöÑÂºÄÂßãÊ≠•È™§ÔºåÊ≠•È™§ÈÄöËøáStepBuilderFactoryÊûÑÂª∫„ÄÇÊ≠•È™§StepÁî±Ëã•Âπ≤‰∏™Â∞è‰ªªÂä°TaskletÁªÑÊàêÔºåÊâÄ‰ª•Êàë‰ª¨ÈÄöËøátaskletÊñπÊ≥ïÂàõÂª∫„ÄÇtaskletÊñπÊ≥ïÊé•Êî∂‰∏Ä‰∏™TaskletÁ±ªÂûãÂèÇÊï∞ÔºåTaskletÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÊòØÊé•Âè£ÔºåÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö1234public interface Tasklet &#123; @Nullable RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception;&#125;ÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®lambdaË°®ËææÂºèÂàõÂª∫‰∏Ä‰∏™ÂåøÂêçÂÆûÁé∞Ôºö1234(contribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§...."); return RepeatStatus.FINISHED;&#125;ËØ•ÂåøÂêçÂÆûÁé∞ÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™ÊòéÁ°ÆÁöÑÊâßË°åÁä∂ÊÄÅÔºåËøôÈáåËøîÂõûRepeatStatus.FINISHEDË°®Á§∫ËØ•Â∞è‰ªªÂä°ÊâßË°åÊàêÂäüÔºåÊ≠£Â∏∏ÁªìÊùü„ÄÇÊ≠§Â§ñÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨ÈÖçÁΩÆÁöÑ‰ªªÂä°JobÂøÖÈ°ªÊ≥®ÂÜåÂà∞Spring IOCÂÆπÂô®‰∏≠ÔºåÂπ∂‰∏î‰ªªÂä°ÁöÑÂêçÁß∞ÂíåÊ≠•È™§ÁöÑÂêçÁß∞ÁªÑÊàêÂîØ‰∏Ä„ÄÇÊØîÂ¶Ç‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÊàë‰ª¨ÁöÑ‰ªªÂä°ÂêçÁß∞‰∏∫firstJobÔºåÊ≠•È™§ÁöÑÂêçÁß∞‰∏∫stepÔºåÂ¶ÇÊûúÂ≠òÂú®Âà´ÁöÑ‰ªªÂä°ÂíåÊ≠•È™§ÁªÑÂêà‰πüÂè´Ëøô‰∏™ÂêçÁß∞ÁöÑËØùÔºåÂàô‰ºöÊâßË°åÂ§±Ë¥•„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ÊâìÂç∞Êó•ÂøóÂ¶Ç‰∏ãÔºö123456...2020-03-06 11:01:11.785 INFO 17324 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=firstJob]] launched with the following parameters: [&#123;&#125;]2020-03-06 11:01:11.846 INFO 17324 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step]ÊâßË°åÊ≠•È™§....2020-03-06 11:01:11.886 INFO 17324 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step] executed in 40ms2020-03-06 11:01:11.909 INFO 17324 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=firstJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 101msÂèØ‰ª•ÁúãÂà∞Ôºå‰ªªÂä°ÊàêÂäüÊâßË°å‰∫ÜÔºåÊï∞ÊçÆÂ∫ìÁöÑÂ∫ìË°®‰πüÂ∞ÜËÆ∞ÂΩïÁõ∏ÂÖ≥ËøêË°åÊó•Âøó„ÄÇÈáçÊñ∞ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Âπ∂‰∏ç‰ºöÂÜçÊ¨°ÊâìÂç∞Âá∫‰ªªÂä°ÊâßË°åÊó•ÂøóÔºåÂõ†‰∏∫JobÂêçÁß∞Âíå StepÂêçÁß∞ÁªÑÊàêÂîØ‰∏ÄÔºåÊâßË°åÂÆåÁöÑ‰∏çÂèØÈáçÂ§çÁöÑ‰ªªÂä°Ôºå‰∏ç‰ºöÂÜçÊ¨°ÊâßË°å„ÄÇÂ§öÊ≠•È™§‰ªªÂä°‰∏Ä‰∏™Â§çÊùÇÁöÑ‰ªªÂä°‰∏ÄËà¨ÂåÖÂê´Â§ö‰∏™Ê≠•È™§Ôºå‰∏ãÈù¢‰∏æ‰∏™Â§öÊ≠•È™§‰ªªÂä°ÁöÑ‰æãÂ≠ê„ÄÇÂú®jobÂåÖ‰∏ãÊñ∞Âª∫MultiStepJobDemoÁ±ªÔºö1234567891011121314151617181920212223242526272829303132333435363738394041@Componentpublic class MultiStepJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job multiStepJob() &#123; return jobBuilderFactory.get("multiStepJob") .start(step1()) .next(step2()) .next(step3()) .build(); &#125; private Step step1() &#123; return stepBuilderFactory.get("step1") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step2() &#123; return stepBuilderFactory.get("step2") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step3() &#123; return stepBuilderFactory.get("step3") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøástep1()„ÄÅstep2()Âíåstep3()‰∏â‰∏™ÊñπÊ≥ïÂàõÂª∫‰∫Ü‰∏â‰∏™Ê≠•È™§„ÄÇJobÈáåË¶Å‰ΩøÁî®Ëøô‰∫õÊ≠•È™§ÔºåÂè™ÈúÄË¶ÅÈÄöËøáJobBuilderFactoryÁöÑstartÊñπÊ≥ïÊåáÂÆöÁ¨¨‰∏Ä‰∏™Ê≠•È™§ÔºåÁÑ∂ÂêéÈÄöËøánextÊñπÊ≥ï‰∏çÊñ≠Âú∞ÊåáÂÆö‰∏ã‰∏Ä‰∏™Ê≠•È™§Âç≥ÂèØ„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ÊâìÂç∞Êó•ÂøóÂ¶Ç‰∏ãÔºö12345678910112020-03-06 13:52:52.188 INFO 18472 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=multiStepJob]] launched with the following parameters: [&#123;&#125;]2020-03-06 13:52:52.222 INFO 18472 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step1]ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 13:52:52.251 INFO 18472 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step1] executed in 29ms2020-03-06 13:52:52.292 INFO 18472 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step2]ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 13:52:52.323 INFO 18472 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step2] executed in 30ms2020-03-06 13:52:52.375 INFO 18472 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step3]ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 13:52:52.405 INFO 18472 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step3] executed in 29ms2020-03-06 13:52:52.428 INFO 18472 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=multiStepJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 231ms‰∏â‰∏™Ê≠•È™§‰æùÊ¨°ÊâßË°åÊàêÂäü„ÄÇÂ§ö‰∏™Ê≠•È™§Âú®ÊâßË°åËøáÁ®ã‰∏≠‰πüÂèØ‰ª•ÈÄöËøá‰∏ä‰∏Ä‰∏™Ê≠•È™§ÁöÑÊâßË°åÁä∂ÊÄÅÊù•ÂÜ≥ÂÆöÊòØÂê¶ÊâßË°å‰∏ã‰∏Ä‰∏™Ê≠•È™§Ôºå‰øÆÊîπ‰∏äÈù¢ÁöÑ‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243@Componentpublic class MultiStepJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job multiStepJob() &#123; return jobBuilderFactory.get("multiStepJob2") .start(step1()) .on(ExitStatus.COMPLETED.getExitCode()).to(step2()) .from(step2()) .on(ExitStatus.COMPLETED.getExitCode()).to(step3()) .from(step3()).end() .build(); &#125; private Step step1() &#123; return stepBuilderFactory.get("step1") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step2() &#123; return stepBuilderFactory.get("step2") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step3() &#123; return stepBuilderFactory.get("step3") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125;&#125;multiStepJob()ÊñπÊ≥ïÁöÑÂê´‰πâÊòØÔºömultiStepJob2‰ªªÂä°ÂÖàÊâßË°åstep1ÔºåÂΩìstep1Áä∂ÊÄÅ‰∏∫ÂÆåÊàêÊó∂ÔºåÊé•ÁùÄÊâßË°åstep2ÔºåÂΩìstep2ÁöÑÁä∂ÊÄÅ‰∏∫ÂÆåÊàêÊó∂ÔºåÊé•ÁùÄÊâßË°åstep3„ÄÇExitStatus.COMPLETEDÂ∏∏ÈáèË°®Á§∫‰ªªÂä°È°∫Âà©ÊâßË°åÂÆåÊØïÔºåÊ≠£Â∏∏ÈÄÄÂá∫ÔºåËØ•Á±ªËøòÂåÖÂê´‰ª•‰∏ãÂá†ÁßçÈÄÄÂá∫Áä∂ÊÄÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041public class ExitStatus implements Serializable, Comparable&lt;ExitStatus&gt; &#123; /** * Convenient constant value representing unknown state - assumed not * continuable. */ public static final ExitStatus UNKNOWN = new ExitStatus("UNKNOWN"); /** * Convenient constant value representing continuable state where processing * is still taking place, so no further action is required. Used for * asynchronous execution scenarios where the processing is happening in * another thread or process and the caller is not required to wait for the * result. */ public static final ExitStatus EXECUTING = new ExitStatus("EXECUTING"); /** * Convenient constant value representing finished processing. */ public static final ExitStatus COMPLETED = new ExitStatus("COMPLETED"); /** * Convenient constant value representing job that did no processing (e.g. * because it was already complete). */ public static final ExitStatus NOOP = new ExitStatus("NOOP"); /** * Convenient constant value representing finished processing with an error. */ public static final ExitStatus FAILED = new ExitStatus("FAILED"); /** * Convenient constant value representing finished processing with * interrupted status. */ public static final ExitStatus STOPPED = new ExitStatus("STOPPED"); ...&#125;ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345678910112020-03-06 14:21:49.384 INFO 18745 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [FlowJob: [name=multiStepJob2]] launched with the following parameters: [&#123;&#125;]2020-03-06 14:21:49.427 INFO 18745 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step1]ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 14:21:49.456 INFO 18745 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step1] executed in 29ms2020-03-06 14:21:49.501 INFO 18745 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step2]ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 14:21:49.527 INFO 18745 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step2] executed in 26ms2020-03-06 14:21:49.576 INFO 18745 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step3]ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 14:21:49.604 INFO 18745 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step3] executed in 28ms2020-03-06 14:21:49.629 INFO 18745 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [FlowJob: [name=multiStepJob2]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 238msFlowÁöÑÁî®Ê≥ïFlowÁöÑ‰ΩúÁî®Â∞±ÊòØÂèØ‰ª•Â∞ÜÂ§ö‰∏™Ê≠•È™§StepÁªÑÂêàÂú®‰∏ÄËµ∑ÁÑ∂ÂêéÂÜçÁªÑË£ÖÂà∞‰ªªÂä°Job‰∏≠„ÄÇ‰∏æ‰∏™FlowÁöÑ‰æãÂ≠êÔºåÂú®jobÂåÖ‰∏ãÊñ∞Âª∫FlowJobDemoÁ±ªÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849@Componentpublic class FlowJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job flowJob() &#123; return jobBuilderFactory.get("flowJob") .start(flow()) .next(step3()) .end() .build(); &#125; private Step step1() &#123; return stepBuilderFactory.get("step1") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step2() &#123; return stepBuilderFactory.get("step2") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step3() &#123; return stepBuilderFactory.get("step3") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; // ÂàõÂª∫‰∏Ä‰∏™flowÂØπË±°ÔºåÂåÖÂê´Ëã•Âπ≤‰∏™step private Flow flow() &#123; return new FlowBuilder&lt;Flow&gt;("flow") .start(step1()) .next(step2()) .build(); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáFlowBuilderÂ∞Üstep1Âíåstep2ÁªÑÂêàÂú®‰∏ÄËµ∑ÔºåÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫flowÁöÑFlowÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÂÖ∂ËµãÁªô‰ªªÂä°Job„ÄÇ‰ΩøÁî®FlowÂíåStepÊûÑÂª∫JobÁöÑÂå∫Âà´ÊòØÔºåJobÊµÅÁ®ã‰∏≠ÂåÖÂê´FlowÁ±ªÂûãÁöÑÊó∂ÂÄôÈúÄË¶ÅÂú®build()ÊñπÊ≥ïÂâçË∞ÉÁî®end()ÊñπÊ≥ï„ÄÇÂêØÂä®Á®ãÂ∫èÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345678910112020-03-06 14:36:42.621 INFO 18865 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [FlowJob: [name=flowJob]] launched with the following parameters: [&#123;&#125;]2020-03-06 14:36:42.667 INFO 18865 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step1]ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 14:36:42.697 INFO 18865 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step1] executed in 30ms2020-03-06 14:36:42.744 INFO 18865 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step2]ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 14:36:42.771 INFO 18865 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step2] executed in 27ms2020-03-06 14:36:42.824 INFO 18865 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step3]ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 14:36:42.850 INFO 18865 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step3] executed in 25ms2020-03-06 14:36:42.874 INFO 18865 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [FlowJob: [name=flowJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 245msÂπ∂Ë°åÊâßË°å‰ªªÂä°‰∏≠ÁöÑÊ≠•È™§Èô§‰∫ÜÂèØ‰ª•‰∏≤Ë°åÊâßË°åÔºà‰∏Ä‰∏™Êé•ÁùÄ‰∏Ä‰∏™ÊâßË°åÔºâÂ§ñÔºåËøòÂèØ‰ª•Âπ∂Ë°åÊâßË°åÔºåÂπ∂Ë°åÊâßË°åÂú®ÁâπÂÆöÁöÑ‰∏öÂä°ÈúÄÊ±Ç‰∏ãÂèØ‰ª•Êèê‰æõ‰ªªÂä°ÊâßË°åÊïàÁéá„ÄÇÂ∞Ü‰ªªÂä°Âπ∂Ë°åÂåñÂè™ÈúÄ‰∏§‰∏™ÁÆÄÂçïÊ≠•È™§ÔºöÂ∞ÜÊ≠•È™§StepËΩ¨Êç¢‰∏∫FlowÔºõ‰ªªÂä°Job‰∏≠ÊåáÂÆöÂπ∂Ë°åFlow„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÂú®jobÂåÖ‰∏ãÊñ∞Âª∫SplitJobDemoÁ±ªÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455@Componentpublic class SplitJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Bean public Job splitJob() &#123; return jobBuilderFactory.get("splitJob") .start(flow1()) .split(new SimpleAsyncTaskExecutor()).add(flow2()) .end() .build(); &#125; private Step step1() &#123; return stepBuilderFactory.get("step1") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step2() &#123; return stepBuilderFactory.get("step2") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step3() &#123; return stepBuilderFactory.get("step3") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Flow flow1() &#123; return new FlowBuilder&lt;Flow&gt;("flow1") .start(step1()) .next(step2()) .build(); &#125; private Flow flow2() &#123; return new FlowBuilder&lt;Flow&gt;("flow2") .start(step3()) .build(); &#125;&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏§‰∏™FlowÔºöflow1ÔºàÂåÖÂê´step1Âíåstep2ÔºâÂíåflow2ÔºàÂåÖÂê´step3Ôºâ„ÄÇÁÑ∂ÂêéÈÄöËøáJobBuilderFactoryÁöÑsplitÊñπÊ≥ïÔºåÊåáÂÆö‰∏Ä‰∏™ÂºÇÊ≠•ÊâßË°åÂô®ÔºåÂ∞Üflow1Âíåflow2ÂºÇÊ≠•ÊâßË°åÔºà‰πüÂ∞±ÊòØÂπ∂Ë°åÔºâ„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞Êó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12345678910112020-03-06 15:25:43.602 INFO 19449 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [FlowJob: [name=splitJob]] launched with the following parameters: [&#123;&#125;]2020-03-06 15:25:43.643 INFO 19449 --- [cTaskExecutor-1] o.s.batch.core.job.SimpleStepHandler : Executing step: [step3]2020-03-06 15:25:43.650 INFO 19449 --- [cTaskExecutor-2] o.s.batch.core.job.SimpleStepHandler : Executing step: [step1]ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 15:25:43.673 INFO 19449 --- [cTaskExecutor-2] o.s.batch.core.step.AbstractStep : Step: [step1] executed in 23ms2020-03-06 15:25:43.674 INFO 19449 --- [cTaskExecutor-1] o.s.batch.core.step.AbstractStep : Step: [step3] executed in 31ms2020-03-06 15:25:43.714 INFO 19449 --- [cTaskExecutor-2] o.s.batch.core.job.SimpleStepHandler : Executing step: [step2]ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 15:25:43.738 INFO 19449 --- [cTaskExecutor-2] o.s.batch.core.step.AbstractStep : Step: [step2] executed in 24ms2020-03-06 15:25:43.758 INFO 19449 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [FlowJob: [name=splitJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 146msÂèØ‰ª•ÁúãÂà∞step3Âπ∂Ê≤°ÊúâÂú®step2ÂêéÊâçÊâßË°åÔºåËØ¥ÊòéÊ≠•È™§Â∑≤ÁªèÊòØÂπ∂Ë°åÂåñÁöÑÔºàÂºÄÂêØÂπ∂Ë°åÂåñÂêéÔºåÂπ∂Ë°åÁöÑÊ≠•È™§ÊâßË°åÈ°∫Â∫èÂπ∂‰∏çËÉΩ100%Á°ÆÂÆöÔºåÂõ†‰∏∫Á∫øÁ®ãË∞ÉÂ∫¶ÂÖ∑Êúâ‰∏çÁ°ÆÂÆöÊÄßÔºâ„ÄÇ‰ªªÂä°ÂÜ≥Á≠ñÂô®ÂÜ≥Á≠ñÂô®ÁöÑ‰ΩúÁî®Â∞±ÊòØÂèØ‰ª•ÊåáÂÆöÁ®ãÂ∫èÂú®‰∏çÂêåÁöÑÊÉÖÂÜµ‰∏ãËøêË°å‰∏çÂêåÁöÑ‰ªªÂä°ÊµÅÁ®ãÔºåÊØîÂ¶Ç‰ªäÂ§©ÊòØÂë®Êú´ÔºåÂàôËÆ©‰ªªÂä°ÊâßË°åstep1Âíåstep2ÔºåÂ¶ÇÊûúÊòØÂ∑•‰ΩúÊó•ÔºåÂàô‰πãÂøÉstep1Âíåstep3„ÄÇ‰ΩøÁî®ÂÜ≥Á≠ñÂô®ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅËá™ÂÆö‰πâ‰∏Ä‰∏™ÂÜ≥Á≠ñÂô®ÁöÑÂÆûÁé∞„ÄÇÂú®cc.mrbird.batchÂåÖ‰∏ãÊñ∞Âª∫deciderÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫MyDeciderÁ±ªÔºåÂÆûÁé∞JobExecutionDeciderÊé•Âè£Ôºö1234567891011121314@Componentpublic class MyDecider implements JobExecutionDecider &#123; @Override public FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) &#123; LocalDate now = LocalDate.now(); DayOfWeek dayOfWeek = now.getDayOfWeek(); if (dayOfWeek == DayOfWeek.SATURDAY || dayOfWeek == DayOfWeek.SUNDAY) &#123; return new FlowExecutionStatus("weekend"); &#125; else &#123; return new FlowExecutionStatus("workingDay"); &#125; &#125;&#125;MyDeciderÂÆûÁé∞JobExecutionDeciderÊé•Âè£ÁöÑdecideÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïËøîÂõûFlowExecutionStatus„ÄÇ‰∏äÈù¢ÁöÑÈÄªËæëÊòØÔºöÂà§Êñ≠‰ªäÂ§©ÊòØÂê¶ÊòØÂë®Êú´ÔºåÂ¶ÇÊûúÊòØÔºåËøîÂõûFlowExecutionStatus(&quot;weekend&quot;)Áä∂ÊÄÅÔºåÂê¶ÂàôËøîÂõûFlowExecutionStatus(&quot;workingDay&quot;)Áä∂ÊÄÅ„ÄÇ‰∏ãÈù¢ÊºîÁ§∫Â¶Ç‰ΩïÂú®‰ªªÂä°JobÈáå‰ΩøÁî®ÂÜ≥Á≠ñÂô®„ÄÇÂú®jobÂåÖ‰∏ãÊñ∞Âª∫DeciderJobDemoÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354@Componentpublic class DeciderJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private MyDecider myDecider; @Bean public Job deciderJob() &#123; return jobBuilderFactory.get("deciderJob") .start(step1()) .next(myDecider) .from(myDecider).on("weekend").to(step2()) .from(myDecider).on("workingDay").to(step3()) .from(step3()).on("*").to(step4()) .end() .build(); &#125; private Step step1() &#123; return stepBuilderFactory.get("step1") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step2() &#123; return stepBuilderFactory.get("step2") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∫åÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step3() &#123; return stepBuilderFactory.get("step3") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125; private Step step4() &#123; return stepBuilderFactory.get("step4") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("ÊâßË°åÊ≠•È™§ÂõõÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build(); &#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨Ê≥®ÂÖ•‰∫ÜËá™ÂÆö‰πâÂÜ≥Á≠ñÂô®MyDeciderÔºåÁÑ∂ÂêéÂú®jobDecider()ÊñπÊ≥ïÈáå‰ΩøÁî®‰∫ÜËØ•ÂÜ≥Á≠ñÂô®Ôºö1234567891011@Beanpublic Job deciderJob() &#123; return jobBuilderFactory.get("deciderJob") .start(step1()) .next(myDecider) .from(myDecider).on("weekend").to(step2()) .from(myDecider).on("workingDay").to(step3()) .from(step3()).on("*").to(step4()) .end() .build();&#125;ËøôÊÆµ‰ª£Á†ÅÁöÑÂê´‰πâÊòØÔºö‰ªªÂä°deciderJobÈ¶ñÂÖàÊâßË°åstep1ÔºåÁÑ∂ÂêéÊåáÂÆöËá™ÂÆö‰πâÂÜ≥Á≠ñÂô®ÔºåÂ¶ÇÊûúÂÜ≥Á≠ñÂô®ËøîÂõûweekendÔºåÈÇ£‰πàÊâßË°åstep2ÔºåÂ¶ÇÊûúÂÜ≥Á≠ñÂô®ËøîÂõûworkingDayÔºåÈÇ£‰πàÊâßË°åstep3„ÄÇÂ¶ÇÊûúÊâßË°å‰∫Üstep3ÔºåÈÇ£‰πàÊó†ËÆ∫step3ÁöÑÁªìÊûúÊòØ‰ªÄ‰πàÔºåÈÉΩÂ∞ÜÊâßË°åstep4„ÄÇÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910112020-03-06 16:09:10.541 INFO 19873 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [FlowJob: [name=deciderJob]] launched with the following parameters: [&#123;&#125;]2020-03-06 16:09:10.609 INFO 19873 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step1]ÊâßË°åÊ≠•È™§‰∏ÄÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 16:09:10.641 INFO 19873 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step1] executed in 32ms2020-03-06 16:09:10.692 INFO 19873 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step3]ÊâßË°åÊ≠•È™§‰∏âÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 16:09:10.723 INFO 19873 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step3] executed in 31ms2020-03-06 16:09:10.769 INFO 19873 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [step4]ÊâßË°åÊ≠•È™§ÂõõÊìç‰Ωú„ÄÇ„ÄÇ„ÄÇ2020-03-06 16:09:10.797 INFO 19873 --- [ main] o.s.batch.core.step.AbstractStep : Step: [step4] executed in 27ms2020-03-06 16:09:10.818 INFO 19873 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [FlowJob: [name=deciderJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 256msÂõ†‰∏∫‰ªäÂ§©ÊòØ2020Âπ¥03Êúà06Êó•ÊòüÊúü‰∫îÔºåÊòØÂ∑•‰ΩúÊó•ÔºåÊâÄ‰ª•‰ªªÂä°ÊâßË°å‰∫Üstep1„ÄÅstep3Âíåstep4„ÄÇ‰ªªÂä°ÂµåÂ•ó‰ªªÂä°JobÈô§‰∫ÜÂèØ‰ª•Áî±StepÊàñËÄÖFlowÊûÑÊàêÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•Â∞ÜÂ§ö‰∏™‰ªªÂä°JobËΩ¨Êç¢‰∏∫ÁâπÊÆäÁöÑStepÔºåÁÑ∂ÂêéÂÜçËµãÁªôÂè¶‰∏Ä‰∏™‰ªªÂä°JobÔºåËøôÂ∞±ÊòØ‰ªªÂä°ÁöÑÂµåÂ•ó„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÂú®jobÂåÖ‰∏ãÊñ∞Âª∫NestedJobDemoÁ±ªÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768@Componentpublic class NestedJobDemo &#123; @Autowired private JobBuilderFactory jobBuilderFactory; @Autowired private StepBuilderFactory stepBuilderFactory; @Autowired private JobLauncher jobLauncher; @Autowired private JobRepository jobRepository; @Autowired private PlatformTransactionManager platformTransactionManager; // Áà∂‰ªªÂä° @Bean public Job parentJob() &#123; return jobBuilderFactory.get("parentJob") .start(childJobOneStep()) .next(childJobTwoStep()) .build(); &#125; // Â∞Ü‰ªªÂä°ËΩ¨Êç¢‰∏∫ÁâπÊÆäÁöÑÊ≠•È™§ private Step childJobOneStep() &#123; return new JobStepBuilder(new StepBuilder("childJobOneStep")) .job(childJobOne()) .launcher(jobLauncher) .repository(jobRepository) .transactionManager(platformTransactionManager) .build(); &#125; // Â∞Ü‰ªªÂä°ËΩ¨Êç¢‰∏∫ÁâπÊÆäÁöÑÊ≠•È™§ private Step childJobTwoStep() &#123; return new JobStepBuilder(new StepBuilder("childJobTwoStep")) .job(childJobTwo()) .launcher(jobLauncher) .repository(jobRepository) .transactionManager(platformTransactionManager) .build(); &#125; // Â≠ê‰ªªÂä°‰∏Ä private Job childJobOne() &#123; return jobBuilderFactory.get("childJobOne") .start( stepBuilderFactory.get("childJobOneStep") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("Â≠ê‰ªªÂä°‰∏ÄÊâßË°åÊ≠•È™§„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build() ).build(); &#125; // Â≠ê‰ªªÂä°‰∫å private Job childJobTwo() &#123; return jobBuilderFactory.get("childJobTwo") .start( stepBuilderFactory.get("childJobTwoStep") .tasklet((stepContribution, chunkContext) -&gt; &#123; System.out.println("Â≠ê‰ªªÂä°‰∫åÊâßË°åÊ≠•È™§„ÄÇ„ÄÇ„ÄÇ"); return RepeatStatus.FINISHED; &#125;).build() ).build(); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáchildJobOne()ÂíåchildJobTwo()ÊñπÊ≥ïÂàõÂª∫‰∫Ü‰∏§‰∏™‰ªªÂä°JobÔºåËøôÈáåÊ≤°‰ªÄ‰πàÂ•ΩËØ¥ÁöÑÔºåÂâçÈù¢ÈÉΩ‰ªãÁªçËøá„ÄÇÂÖ≥ÈîÆÂú®‰∫échildJobOneStep()ÊñπÊ≥ïÂíåchildJobTwoStep()ÊñπÊ≥ï„ÄÇÂú®childJobOneStep()ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáJobStepBuilderÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ÂêçÁß∞‰∏∫childJobOneStepÁöÑStepÔºåÈ°æÂêçÊÄù‰πâÔºåÂÆÉÊòØ‰∏Ä‰∏™‰ªªÂä°ÂûãStepÁöÑÊûÑÈÄ†Â∑•ÂéÇÔºåÂèØ‰ª•Â∞Ü‰ªªÂä°ËΩ¨Êç¢‰∏∫‚ÄúÁâπÊÆä‚ÄùÁöÑÊ≠•È™§„ÄÇÂú®ÊûÑÂª∫ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ËøòÈúÄË¶Å‰º†ÂÖ•‰ªªÂä°ÊâßË°åÂô®JobLauncher„ÄÅ‰ªªÂä°‰ªìÂ∫ìJobRepositoryÂíå‰∫ãÂä°ÁÆ°ÁêÜÂô®PlatformTransactionManager„ÄÇÂ∞Ü‰ªªÂä°ËΩ¨Êç¢‰∏∫ÁâπÊÆäÁöÑÊ≠•È™§ÂêéÔºåÂ∞ÜÂÖ∂ËµãÁªôÁà∂‰ªªÂä°parentJobÂç≥ÂèØÔºåÊµÅÁ®ãÂíåÂâçÈù¢‰ªãÁªçÁöÑ‰∏ÄËá¥„ÄÇÈÖçÁΩÆÂ•ΩÂêéÔºåÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415162020-03-06 16:58:39.771 INFO 21588 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=parentJob]] launched with the following parameters: [&#123;&#125;]2020-03-06 16:58:39.812 INFO 21588 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [childJobOneStep]2020-03-06 16:58:39.866 INFO 21588 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=childJobOne]] launched with the following parameters: [&#123;&#125;]2020-03-06 16:58:39.908 INFO 21588 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [childJobOneStep]Â≠ê‰ªªÂä°‰∏ÄÊâßË°åÊ≠•È™§„ÄÇ„ÄÇ„ÄÇ2020-03-06 16:58:39.940 INFO 21588 --- [ main] o.s.batch.core.step.AbstractStep : Step: [childJobOneStep] executed in 32ms2020-03-06 16:58:39.960 INFO 21588 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=childJobOne]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 86ms2020-03-06 16:58:39.983 INFO 21588 --- [ main] o.s.batch.core.step.AbstractStep : Step: [childJobOneStep] executed in 171ms2020-03-06 16:58:40.019 INFO 21588 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [childJobTwoStep]2020-03-06 16:58:40.067 INFO 21588 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=childJobTwo]] launched with the following parameters: [&#123;&#125;]2020-03-06 16:58:40.102 INFO 21588 --- [ main] o.s.batch.core.job.SimpleStepHandler : Executing step: [childJobTwoStep]Â≠ê‰ªªÂä°‰∫åÊâßË°åÊ≠•È™§„ÄÇ„ÄÇ„ÄÇ2020-03-06 16:58:40.130 INFO 21588 --- [ main] o.s.batch.core.step.AbstractStep : Step: [childJobTwoStep] executed in 28ms2020-03-06 16:58:40.152 INFO 21588 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=childJobTwo]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 75ms2020-03-06 16:58:40.157 INFO 21588 --- [ main] o.s.batch.core.step.AbstractStep : Step: [childJobTwoStep] executed in 138ms2020-03-06 16:58:40.177 INFO 21588 --- [ main] o.s.b.c.l.support.SimpleJobLauncher : Job: [SimpleJob: [name=parentJob]] completed with the following parameters: [&#123;&#125;] and the following status: [COMPLETED] in 398msÊú¨ËäÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/67.spring-batch-start„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Spring Batch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÊï¥ÂêàWebSocket]]></title>
    <url>%2FSpring-Boot%E6%95%B4%E5%90%88WebSocket.html</url>
    <content type="text"><![CDATA[Êú¨ËäÇÁÆÄÂçï‰ªãÁªç‰∏ãÂ¶Ç‰ΩïÂú®Spring BootÂºïÂÖ•WebSocketÔºåÂÆûÁé∞ÁÆÄÂçïÁöÑÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÂª∫Á´ãÈïøËøûÊé•Âπ∂‰∫íÂèëÈÄÅÊñáÊú¨Ê∂àÊÅØ„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactId‰∏∫spring-boot-websocket-socketjsÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÈ°πÁõÆÁöÑpomÂÜÖÂÆπÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.5.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-websocket-socketjs&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;spring-boot-websocket-socketjs&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;ÂºïÂÖ•‰∫Üspring-boot-starter-websocketÂíåspring-boot-starter-web‰æùËµñ„ÄÇÊûÑÂª∫ÊúçÂä°Á´ØÂú®cc.mrbird.socketÁõÆÂΩï‰∏ãÊñ∞Âª∫handlerÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫MyStringWebSocketHandlerÁªßÊâøTextWebSocketHandlerÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243@Componentpublic class MyStringWebSocketHandler extends TextWebSocketHandler &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @Override public void afterConnectionEstablished(WebSocketSession session) &#123; log.info("ÂíåÂÆ¢Êà∑Á´ØÂª∫Á´ãËøûÊé•"); &#125; @Override public void handleTransportError(WebSocketSession session, Throwable exception) throws Exception &#123; session.close(CloseStatus.SERVER_ERROR); log.error("ËøûÊé•ÂºÇÂ∏∏", exception); &#125; @Override public void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception &#123; super.afterConnectionClosed(session, status); log.info("ÂíåÂÆ¢Êà∑Á´ØÊñ≠ÂºÄËøûÊé•"); &#125; @Override protected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception &#123; // Ëé∑ÂèñÂà∞ÂÆ¢Êà∑Á´ØÂèëÈÄÅËøáÊù•ÁöÑÊ∂àÊÅØ String receiveMessage = message.getPayload(); log.info(receiveMessage); // ÂèëÈÄÅÊ∂àÊÅØÁªôÂÆ¢Êà∑Á´Ø session.sendMessage(new TextMessage(fakeAi(receiveMessage))); // ÂÖ≥Èó≠ËøûÊé• // session.close(CloseStatus.NORMAL); &#125; private static String fakeAi(String input) &#123; if (input == null || "".equals(input)) &#123; return "‰Ω†ËØ¥‰ªÄ‰πàÔºüÊ≤°Âê¨Ê∏ÖÔ∏é"; &#125; return input.replace('‰Ω†', 'Êàë') .replace("Âêó", "") .replace('?', '!') .replace('Ôºü', 'ÔºÅ'); &#125;&#125;ËØ•Á±ªÈáçÂÜô‰∫ÜÁà∂Á±ªAbstractWebSocketHandlerÁöÑÂõõ‰∏™ÊñπÊ≥ïÔºöafterConnectionEstablishedÔºåÂíåÂÆ¢Êà∑Á´ØÈìæÊé•ÊàêÂäüÁöÑÊó∂ÂÄôËß¶ÂèëËØ•ÊñπÊ≥ïÔºõhandleTransportErrorÔºåÂíåÂÆ¢Êà∑Á´ØËøûÊé•Â§±Ë¥•ÁöÑÊó∂ÂÄôËß¶ÂèëËØ•ÊñπÊ≥ïÔºõafterConnectionClosedÔºåÂíåÂÆ¢Êà∑Á´ØÊñ≠ÂºÄËøûÊé•ÁöÑÊó∂ÂÄôËß¶ÂèëËØ•ÊñπÊ≥ïÔºõhandleTextMessageÔºåÂíåÂÆ¢Êà∑Á´ØÂª∫Á´ãËøûÊé•ÂêéÔºåÂ§ÑÁêÜÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑËØ∑Ê±Ç„ÄÇWebSocketSessionÂØπË±°‰ª£Ë°®ÊØè‰∏™ÂÆ¢Êà∑Á´Ø‰ºöËØùÔºåÂåÖÂê´ËÆ∏Â§öÂÆûÁî®ÊñπÊ≥ïÔºöÊñπÊ≥ïËßÅÂêçÁü•ÊÑèÔºåÂ∞±‰∏çËµòËø∞‰∫Ü„ÄÇÊ≠§Â§ñÔºåÂõ†‰∏∫Êàë‰ª¨ÁöÑÁõÆÁöÑÊòØÂÆûÁé∞ÂíåÂÆ¢Êà∑Á´ØÁöÑÈÄö‰ø°ÔºåÂπ∂‰∏îÂÜÖÂÆπ‰∏∫ÊñáÊú¨ÂÜÖÂÆπÔºåÊâÄ‰ª•Êàë‰ª¨ÁªßÊâøÁöÑÊòØTextWebSocketHandlerÔºõÂ¶ÇÊûú‰º†ËæìÁöÑÊòØ‰∫åËøõÂà∂ÂÜÖÂÆπÔºåÂàôÂèØ‰ª•ÁªßÊâøBinaryWebSocketHandlerÔºåÊõ¥Â§ö‰ø°ÊÅØÂèØ‰ª•Ëá™Ë°åÊü•ÁúãWebSocketHandlerÁöÑÂ≠êÁ±ª„ÄÇÊé•ÁùÄÂú®cc.mrbird.socketÁõÆÂΩï‰∏ãÊñ∞Âª∫configureÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫WebSocketServerConfigureÈÖçÁΩÆÁ±ªÔºö123456789101112@Configuration@EnableWebSocketpublic class WebSocketServerConfigure implements WebSocketConfigurer &#123; @Autowired private MyStringWebSocketHandler myStringWebSocketHandler; @Override public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) &#123; registry.addHandler(myStringWebSocketHandler, "/connect").withSockJS(); &#125;&#125;@EnableWebSocketÁî®‰∫éÂºÄÂêØWebSocketÁõ∏ÂÖ≥ÂäüËÉΩÔºåÊàë‰ª¨Ê≥®ÂÖ•‰∫Ü‰∏äÈù¢ÂàõÂª∫ÁöÑMyStringWebSocketHandlerÔºåÂπ∂Â∞ÜÂÖ∂Ê≥®ÂÜåÂà∞‰∫ÜWebSocketHandlerRegistry„ÄÇ‰∏äÈù¢‰ª£Á†ÅÁöÑÂê´‰πâÊòØÔºåÂΩìÂÆ¢Êà∑Á´ØÈÄöËøá/connecturlÂíåÊúçÂä°Á´ØËøûÊé•ÈÄö‰ø°Êó∂Ôºå‰ΩøÁî®MyStringWebSocketHandlerÂ§ÑÁêÜ‰ºöËØù„ÄÇwithSockJSÁöÑÂê´‰πâÊòØÔºåÈÄö‰ø°ÁöÑÂÆ¢Êà∑Á´ØÊòØÈÄöËøáSockJSÂÆûÁé∞ÁöÑÔºå‰∏ãÈù¢‰ºö‰ªãÁªçÂà∞„ÄÇÊûÑÂª∫ÂÆ¢Êà∑Á´ØSockJSÊòØ‰∏Ä‰∏™JSÊèí‰ª∂ÔºåÁî®‰∫éÊûÑÂª∫WebSocketÔºåÂÖºÂÆπÊÄßÂ•Ω„ÄÇÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫staticÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫client.htmlÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;WebSocketÂÆ¢Êà∑Á´Ø&lt;/title&gt; &lt;script src="https://cdn.bootcss.com/sockjs-client/0.3.4/sockjs.min.js"&gt;&lt;/script&gt; &lt;link href="https://cdn.bootcss.com/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet"&gt;&lt;/head&gt;&lt;body&gt;&lt;style&gt; .jumbotron &#123; width: 100%; &#125; #text &#123; height: 3rem; font-size: 1rem; line-height: 3rem; margin: 1rem; &#125; .btn &#123; margin-right: 5px; &#125; #connect &#123; margin-left: 1rem; &#125; #log &#123; margin: 1rem 0 0 1rem; &#125;&lt;/style&gt;&lt;div class="container"&gt; &lt;div class="row"&gt; &lt;div class="jumbotron"&gt; &lt;input type="text" placeholder="ËØ∑ËæìÂÖ•‰Ω†ÊÉ≥‰º†ËæìÁöÑÂÜÖÂÆπ" id="text" class="col-lg-12"/&gt; &lt;input type="button" value="ËøûÊé•" class="btn btn-info" id="connect" onclick="connect()"/&gt; &lt;input type="button" value="ÂèëÈÄÅ" class="btn btn-success" id="sent" disabled="disabled" onclick="sent()"/&gt; &lt;input type="button" value="Êñ≠ÂºÄ" class="btn btn-danger" id="disconnect" disabled="disabled" onclick="disconnect()"/&gt; &lt;div id="log"&gt; &lt;p&gt;ËÅäÂ§©ËÆ∞ÂΩï:&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;script type="text/javascript"&gt; let text = document.querySelector('#text'); let connectBtn = document.querySelector("#connect"); let sentBtn = document.querySelector("#sent"); let disconnectBtn = document.querySelector("#disconnect"); let logDiv = document.querySelector("#log"); let ws = null; function connect() &#123; let targetUri = "/connect"; ws = new SockJS(targetUri); ws.onopen = function () &#123; setConnected(true); log('ÂíåÊúçÂä°Á´ØËøûÊé•ÊàêÂäüÔºÅ'); &#125;; ws.onmessage = function (event) &#123; log('ÊúçÂä°Á´ØËØ¥Ôºö' + event.data); &#125;; ws.onclose = function () &#123; setConnected(false); log('ÂíåÊúçÂä°Á´ØÊñ≠ÂºÄËøûÊé•ÔºÅ') &#125; &#125; function sent() &#123; if (ws != null) &#123; ws.send(text.value); log('ÂÆ¢Êà∑Á´ØËØ¥Ôºö' + text.value); &#125; else &#123; log('ËØ∑ÂÖàÂª∫Á´ãËøûÊé•ÔºÅ') &#125; &#125; function disconnect() &#123; if (ws != null) &#123; ws.close(); ws = null; &#125; setConnected(false); &#125; function log(value) &#123; let content = document.createElement('p'); content.innerHTML = value; logDiv.appendChild(content); text.value = ''; &#125; function setConnected(connected) &#123; connectBtn.disabled = connected; disconnectBtn.disabled = !connected; sentBtn.disabled = !connected; &#125;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;htmlÔºåcssÈÇ£‰∫õÈÉΩ‰∏çÈáçË¶ÅÔºåÈáçË¶ÅÁöÑÊòØÊàë‰ª¨ÂºïÂÖ•‰∫ÜSockJSÂ∫ì„ÄÇÂú®connect()ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÈÄöËøánew SockJS(/connect)Âíå‰∏äÈù¢ÁöÑÊúçÂä°Á´ØÂª∫Á´ã‰∫ÜSocketÈÄö‰ø°„ÄÇSockJSÂØπË±°ÂåÖÂê´Âá†‰∏™Â∏∏Áî®ÁöÑÂÆûÁî®ÊñπÊ≥ïÔºöonopenÔºåÂíåÊúçÂä°Á´ØËÆ≤‰∫ÜËøûÊé•ÂêéÁöÑÂõûË∞ÉÊñπÊ≥ïÔºõonmessageÔºåÊúçÂä°Á´ØËøîÂõûÊ∂àÊÅØÊó∂ÁöÑÂõûË∞ÉÊñπÊ≥ïÔºõoncloseÔºåÂíåÊúçÂä°Á´ØÊñ≠ÂºÄËøûÊé•ÁöÑÂõûË∞ÉÊñπÊ≥ïÔºõsendÔºåÂèëÈÄÅÊ∂àÊÅØÁªôÊúçÂä°Á´ØÔºõcloseÔºåÊñ≠ÂºÄÂíåÊúçÂä°Á´ØÁöÑËøûÊé•„ÄÇ‰∏äÈù¢ÁöÑJSËæÉ‰∏∫ÁÆÄÂçïÔºåÂÖ∂‰ªñÈÄªËæëËá™Â∑±ÁúãÁúãÂêß„ÄÇÈÄö‰ø°ÊµãËØïÂêØÂä®È°πÁõÆÔºåÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:8080/client.htmlÔºöÊ∫êÁ†ÅËøûÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/76.spring-boot-websocket-socketjs„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>WebSocket</tag>
        <tag>SockJS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâSpring Boot Starter]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89Spring-Boot-Starter.html</url>
    <content type="text"><![CDATA[]]></content>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FEBS CloudÂ∏∏ËßÅÈóÆÈ¢òÊ±áÊÄª]]></title>
    <url>%2FFEBS-Cloud%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB.html</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïÁæ§ÂèãÁöÑÈ´òÈ¢ëÈóÆÁÇπ„ÄÇÂ¶ÇÈúÄË°•ÂÖÖÔºåÊ¨¢ËøéÂú®‰∏ãÊñπÁïôË®Ä„ÄÇÁÇπÂáªÁôªÂΩïÈ°µÈù¢ÂºπÁ™óÈóÆÈ¢òÊúâ‰∏§ÁßçÊÉÖÂÜµ‰ºöÂØºËá¥Ëøô‰∏™ÈóÆÈ¢òÔºöÂéüÂõ†‰∏ÄÔºöËØ∑Ê±ÇÂ§¥Êê∫Â∏¶ÁöÑclient‰ø°ÊÅØ‰∏çÊ≠£Á°ÆÔºõËß£ÂÜ≥ÂäûÊ≥ïÔºö‰øÆÊîπfebs-cloud-webÂ∑•Á®ãsrcÁõÆÂΩï‰∏ãsetting.jsÊñá‰ª∂ÁöÑauthorizationValueÂÄºÔºöËøô‰∏™ÂÄºÊÄé‰πàÊù•ÁöÑÔºüÊü•ÁúãÊï∞ÊçÆÂ∫ìfebs_cloud_base‰∏ãÁöÑoauth_client_detailsË°®ÔºöÊØîÂ¶ÇÊàë‰ª¨‰ΩøÁî®client_id‰∏∫febsËøô‰∏™clientÔºåÂÆÉÁöÑclient_secertÊòØÁªèËøáBCRYÂä†ÂØÜÁöÑÔºåÂéüÂØÜÁ†ÅÂÄºÂèØ‰ª•ÂêåÂäüËÉΩorigin_secretÊü•ÁúãÔºåÁî±‰∏äÂõæÂèØÁü•ÔºåÊòØ123456ÔºåÁÑ∂ÂêéÂà∞http://tool.chinaz.com/Tools/Base64.aspxÁΩëÁ´ôÔºöBase64Âä†ÂØÜÂæóÂà∞ÁöÑÂÄºZmViczoxMjM0NTY=ÂâçÈù¢ÊãºÊé•‰∏äBasicÁ©∫Ê†ºÂ∞±ÊòØÊúÄÁªàauthorizationValueÂÄºÔºöBasic ZmViczoxMjM0NTY=„ÄÇÂéüÂõ†‰∫åÔºöÊï∞ÊçÆÂ∫ì‰∏≠Ê≤°Êúâoauth_client_detailsËøôÂº†Ë°®„ÄÇËß£ÂÜ≥ÂäûÊ≥ïÔºöÊ≤°ÊúâËøôÂº†Ë°®ÁöÑÂéüÂõ†ÂæàÁÆÄÂçïÔºåoauth_client_detailsË°®ÁöÑadditional_infoÂ≠óÊÆµÈïøÂ∫¶‰∏∫4096Ôºå5.7ÁâàÊú¨‰ª•‰∏ãÁöÑMySQL‰∏çÊîØÊåÅÔºöÊâÄ‰ª•Ë¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰Ω†ÂèØ‰ª•ÊâãÂä®Âú®SQL‰∏≠Â∞Üoauth_client_detailsË°®ÁöÑadditional_infoÂ≠óÊÆµÈïøÂ∫¶‰øÆÊîπ‰∏∫500ÔºåÁÑ∂ÂêéÈáçÊñ∞ÂØºÂÖ•ÔºõÊàñËÄÖÂ∞ÜÊÇ®ÁöÑMySQLÂçáÁ∫ßÂà∞5.7‰ª•‰∏äÁöÑÁâàÊú¨„ÄÇÊï∞ÊçÆÊ∫ê‰∏çÂ≠òÂú®ÈóÆÈ¢òÊØîÂ¶ÇÂú®ÂêØÂä®febs-authÈ°πÁõÆÁöÑÊó∂ÂÄôÔºåÊéßÂà∂Âè∞ÊäõÂá∫ËØ∑Ê£ÄÊü•Êï∞ÊçÆÊ∫ê‰πãÁ±ªÁöÑÈóÆÈ¢òÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:156) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) at cc.mrbird.febs.auth.FebsAuthApplication.main(FebsAuthApplication.java:25)Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:88) at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:438) at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:191) at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180) at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:153) ... 8 common frames omittedCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;servletEndpointRegistrar&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &apos;servletEndpointRegistrar&apos; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;healthEndpoint&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &apos;healthEndpoint&apos; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;healthContributorRegistry&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &apos;healthContributorRegistry&apos; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;org.springframework.boot.actuate.autoconfigure.jdbc.DataSourceHealthContributorAutoConfiguration&apos;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;dataSource&apos; defined in class path resource [com/baomidou/dynamic/datasource/spring/boot/autoconfigure/DynamicDataSourceAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: dynamic-datasource Please check the setting of primary at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:645) at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:625) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:202) at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:96) at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:85) at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:253) at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:227) at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384) at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909) at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384) at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909) at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) at org.apache.catalina.startup.Tomcat.start(Tomcat.java:459) at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:107) ... 13 common frames omittedCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &apos;servletEndpointRegistrar&apos; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;healthEndpoint&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &apos;healthEndpoint&apos; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;healthContributorRegistry&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &apos;healthContributorRegistry&apos; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;org.springframework.boot.actuate.autoconfigure.jdbc.DataSourceHealthContributorAutoConfiguration&apos;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;dataSource&apos; defined in class path resource [com/baomidou/dynamic/datasource/spring/boot/autoconfigure/DynamicDataSourceAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: dynamic-datasource Please check the setting of primary at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:640) ... 53 common frames omittedCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;healthEndpoint&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &apos;healthEndpoint&apos; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;healthContributorRegistry&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &apos;healthContributorRegistry&apos; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;org.springframework.boot.actuate.autoconfigure.jdbc.DataSourceHealthContributorAutoConfiguration&apos;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;dataSource&apos; defined in class path resource [com/baomidou/dynamic/datasource/spring/boot/autoconfigure/DynamicDataSourceAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: dynamic-datasource Please check the setting of primary at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:787) at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:528) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) at org.springframework.boot.actuate.endpoint.annotation.EndpointDiscoverer.createEndpointBean(EndpointDiscoverer.java:143) at org.springframework.boot.actuate.endpoint.annotation.EndpointDiscoverer.createEndpointBeans(EndpointDiscoverer.java:133) at org.springframework.boot.actuate.endpoint.annotation.EndpointDiscoverer.discoverEndpoints(EndpointDiscoverer.java:122) at org.springframework.boot.actuate.endpoint.annotation.EndpointDiscoverer.getEndpoints(EndpointDiscoverer.java:116) at org.springframework.boot.actuate.autoconfigure.endpoint.web.ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.servletEndpointRegistrar(ServletEndpointManagementContextConfiguration.java:65) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ... 54 common frames omittedCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;healthContributorRegistry&apos; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &apos;healthContributorRegistry&apos; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;org.springframework.boot.actuate.autoconfigure.jdbc.DataSourceHealthContributorAutoConfiguration&apos;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;dataSource&apos; defined in class path resource [com/baomidou/dynamic/datasource/spring/boot/autoconfigure/DynamicDataSourceAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: dynamic-datasource Please check the setting of primary at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:787) at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:528) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:874) at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:778) ... 74 common frames omittedCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &apos;org.springframework.boot.actuate.autoconfigure.jdbc.DataSourceHealthContributorAutoConfiguration&apos;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;dataSource&apos; defined in class path resource [com/baomidou/dynamic/datasource/spring/boot/autoconfigure/DynamicDataSourceAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: dynamic-datasource Please check the setting of primary at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:787) at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:226) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:400) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1503) at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1467) at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1386) at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1245) at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:874) at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:778) ... 88 common frames omittedCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;dataSource&apos; defined in class path resource [com/baomidou/dynamic/datasource/spring/boot/autoconfigure/DynamicDataSourceAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: dynamic-datasource Please check the setting of primary at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1803) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1503) at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1467) at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1386) at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1245) at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:874) at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:778) ... 114 common frames omittedCaused by: java.lang.RuntimeException: dynamic-datasource Please check the setting of primary at com.baomidou.dynamic.datasource.DynamicRoutingDataSource.afterPropertiesSet(DynamicRoutingDataSource.java:219) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) ... 128 common frames omittedÂéüÂõ†ÂèØËÉΩÊúâÂ¶Ç‰∏ã‰∏§ÁßçÔºöÂéüÂõ†‰∏ÄÔºöÈ°πÁõÆÁéØÂ¢ÉÂèòÈáè‰∏≠Ê≤°ÊúâÈÖçÁΩÆnacosÂú∞ÂùÄÔºõËß£ÂÜ≥ÂäûÊ≥ïÔºåÂú®febs-authÔºàËøôÈáåÂè™ÊòØ‰ª•febs-auth‰∏∫‰æãÔºâÈ°πÁõÆÁöÑÁéØÂ¢ÉÂèòÈáè‰∏≠ÈÖçÁΩÆnacosÂú∞ÂùÄÔºö ÂéüÂõ†‰∫åÔºöÈ°πÁõÆÊó†Ê≥ï‰ªénacos‰∏≠ÊâæÂà∞ÂØπÂ∫îÁöÑÈÖçÁΩÆ„ÄÇËß£ÂÜ≥ÂäûÊ≥ïÔºöËøôÁßçÊÉÖÂÜµÊØîËæÉÂ∞ëËßÅÔºå‰∏çËøáÂ¶ÇÊûúÂá∫Áé∞‰∫ÜÔºåÂÖ´ÊàêÊòØÂõ†‰∏∫‰Ω†Âú®È°πÁõÆÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÁöÑÂêéÁºÄÊòØyamlÔºåËÄånacosÊéßÂà∂Âè∞‰∏≠ÈÖçÁΩÆÁöÑÁ°ÆÊòØyml„ÄÇrabbitmqÈóÆÈ¢òÂú®ÂêØÂä®febs-server-systemÊàñËÄÖfebs-server-testÈ°πÁõÆÁöÑÊó∂ÂÄôÔºåÊéßÂà∂Âè∞ÊäõÂá∫AMQPÁõ∏ÂÖ≥ÂºÇÂ∏∏Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147org.springframework.amqp.AmqpIOException: java.io.IOException at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:71) at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:510) at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:751) at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:214) at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2092) at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2065) at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2045) at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.getVersion(RabbitHealthIndicator.java:49) at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.doHealthCheck(RabbitHealthIndicator.java:44) at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:92) at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:42) at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:106) at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:116) at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:103) at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81) at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:68) at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:80) at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:69) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77) at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305) at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at brave.servlet.TracingFilter.doFilter(TracingFilter.java:65) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:154) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.cloud.sleuth.instrument.web.ExceptionLoggingFilter.doFilter(ExceptionLoggingFilter.java:50) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at brave.servlet.TracingFilter.doFilter(TracingFilter.java:82) at org.springframework.cloud.sleuth.instrument.web.LazyTracingFilter.doFilter(TraceWebServletAutoConfiguration.java:138) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:748)Caused by: java.io.IOException: null at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:129) at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:125) at com.rabbitmq.client.impl.AMQChannel.exnWrappingRpc(AMQChannel.java:147) at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:403) at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1115) at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1063) at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:526) at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:473) ... 127 common frames omittedCaused by: com.rabbitmq.client.ShutdownSignalException: connection error; protocol method: #method&lt;connection.close&gt;(reply-code=530, reply-text=NOT_ALLOWED - access to vhost &apos;/&apos; refused for user &apos;febs&apos;, class-id=10, method-id=40) at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66) at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36) at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:502) at com.rabbitmq.client.impl.AMQChannel.privateRpc(AMQChannel.java:293) at com.rabbitmq.client.impl.AMQChannel.exnWrappingRpc(AMQChannel.java:141) ... 132 common frames omittedËß£ÂÜ≥ÂäûÊ≥ïÔºöËØ∑Á°Æ‰øùÂΩìÂâçrabbitmqË¥¶Âè∑Êã•ÊúâÊùÉÈôê„ÄÇÊØîÂ¶ÇÊàë‰ª¨Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÁöÑrabbitmqÁöÑË¥¶Âè∑‰∏∫Ôºö123456... rabbitmq: host: $&#123;rabbitmq.url&#125; port: 5672 username: febs password: 123456ÊµèËßàÂô®ÁôªÂΩïÔºöhttp://localhost:15672/ÔºåÈªòËÆ§Ë¥¶Âè∑ÂØÜÁ†ÅÈÉΩ‰∏∫‰∏∫guestÔºöÂèØ‰ª•ÁúãÂà∞ÔºåfebsË¥¶Âè∑Ê≤°ÊúâËÆæÁΩÆÊùÉÈôêÔºåÁÇπÂáªfebsÁî®Êà∑ÂêçÔºåËÆæÁΩÆÊùÉÈôêÔºöËøôÊó∂ÂÄôÂÜçÊ¨°ÂêØÂä®febs-server-systemÊàñfebs-server-testÂç≥ÂèØ„ÄÇfebs-monitor-admin‰∏≠ÊúâÊúçÂä°Á∫¢ÂèâÂèâÊ≠§Á±ªÈóÆÈ¢òÈÉΩÂ•ΩËß£ÂÜ≥ÔºåÂè™ÈúÄË¶ÅÁÇπÂáªÂØπÂ∫îÊä•Á∫¢ÂèâÂèâÁöÑÂæÆÊúçÂä°Â∞±ËÉΩÁúãÁöÑËØ¶ÁªÜÁöÑÈîôËØØ‰ø°ÊÅØÔºåÊØîÂ¶ÇÔºö Âú®febs-server-systemÈ°πÁõÆÁöÑÈÖçÁΩÆÊñá‰ª∂febs-server-system.propertiesÔºöÊó†ËÆ∫ÊòØ‰ªÄ‰πàÂéüÂõ†ÂØºËá¥Á∫¢ÂèâÂèâÔºåÁÇπÂáªËøõÂéªÈÉΩËÉΩÁúãÂà∞ÂØπÂ∫îÁöÑÈîôËØØÊèêÁ§∫ÔºåÊúâ‰∫ÜÈîôËØØÊèêÁ§∫ÔºåÈóÆÈ¢ò‰æøÂæàÂ•ΩËß£ÂÜ≥‰∫Ü„ÄÇswaggerËÆ§ËØÅÈ°µÈù¢Âá∫ÈîôÂú®swaggerÈ°µÈù¢ÁÇπÂáªAuthorizeÊåâÈíÆÁöÑÊó∂ÂÄôÔºåÈ°µÈù¢Âá∫Áé∞ÈîôËØØÔºöÊ≠§Á±ªÈóÆÈ¢ò‰∏ÄËà¨ÊòØ‰Ω†formË°®ÂçïÂ°´ÂÜôÁöÑÂÜÖÂÆπÊúâËØØÔºåËØ∑‰ªîÁªÜÊ†∏ÂÆû„ÄÇÊú¨Âú∞Â¶Ç‰Ωï‰ΩìÈ™åÁ§æ‰∫§ÁôªÂΩïÂÖ∑‰ΩìÂèÇËÄÉÔºöhttps://www.kancloud.cn/mrbird/spring-cloud/1411213]]></content>
      <tags>
        <tag>FEBS</tag>
        <tag>Spring Cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IDEA‰∏≠‰ΩøÁî®DockerÊèí‰ª∂]]></title>
    <url>%2FIDEA-Docker-Plugin.html</url>
    <content type="text"><![CDATA[Âú®Windows‰∏äÂ¶ÇÊûúÊ≤°ÊúâÂÆâË£Ödocker for windowsÁöÑËØùÔºåÊòØÊ≤°ÂäûÊ≥ïÊûÑÂª∫DockerÈïúÂÉèÁöÑ„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúË¶ÅÈÄöËøáfat jarÊûÑÂª∫dockerÈïúÂÉèÁöÑËØùÔºåÂè™ËÉΩÂ∞Üfat jar‰∏ä‰º†Âà∞ÂÆâË£Ö‰∫ÜdockerÊúçÂä°ÁöÑLinuxÊúçÂä°Âô®‰∏äÔºåÁÑ∂ÂêéÁºñÂÜôDockerfileÊûÑÂª∫„ÄÇËøôÁßçÊñπÂºèÊØîËæÉÈ∫ªÁÉ¶ÔºåËøôÈáåËÆ∞ÂΩï‰∏ãÂ¶Ç‰ΩïÈÄöËøáIDEAÁöÑDockerÊèí‰ª∂ËøúÁ®ãÊûÑÂª∫DockerÈïúÂÉè„ÄÇDockerÂºÄÂêØËøúÁ®ãËÆøÈóÆÂÅáÂ¶ÇÊàëÂú®CentOSËôöÊãüÊú∫‰∏äÂÆâË£ÖÂ•Ω‰∫ÜDockerÔºåIPÂú∞ÂùÄ‰∏∫192.168.33.11ÔºåÊàë‰ª¨ÂèØ‰ª•‰øÆÊîπDockerÁöÑÈÖçÁΩÆÔºåÂºÄÂêØËøúÁ®ãËÆøÈóÆÊùÉÈôêÔºö12# ‰øÆÊîπDockerÈÖçÁΩÆvi /lib/systemd/system/docker.service‰øÆÊîπÁöÑÂú∞ÊñπÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö‰øÆÊîπ‰øùÂ≠òÂêéÔºåÈáçÂêØDockerÊúçÂä°Ôºö12systemctl daemon-reload systemctl restart docker.serviceÈáçÂêØÂêéÔºåÈ™åËØÅ‰∏ã2375Á´ØÂè£ÊòØÂê¶ÊòØÈÄöÁöÑÔºö1curl 192.168.33.11:2375/infoÂ¶ÇÊûúËøîÂõû‰∫Ü‰∏ÄÂù®JSONÊï∞ÊçÆÔºåËØ¥ÊòéüÜó„ÄÇIDEA‰ΩøÁî®DockerÊèí‰ª∂IDEA UltimateÁâàÊú¨Â∑≤ÁªèÈªòËÆ§ÂÆâË£Ö‰∫ÜDockerÊèí‰ª∂ÔºàÊ≤°ÊúâÁöÑËØùÂéªÊèí‰ª∂Â∏ÇÂú∫‰∏ãËΩΩÂÆâË£Ö‰∏ãÂ∞±ÂèØ‰ª•‰∫ÜÔºâ„ÄÇÁÇπÂáªIDEA -&gt; File -&gt; Settings‚Ä¶ -&gt; Build,Execution,Deployment -&gt; DockerÔºöÂ°´ÂÜôËøúÁ®ãDockerÂú∞ÂùÄÔºåÂ¶ÇÊûúÊòæÁ§∫Connection SuccessfullyËØ¥ÊòéËøûÊé•ËøúÁ®ãDockerÊúçÂä°ÊàêÂäü„ÄÇÊñ∞Âª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑSpring BootÈ°πÁõÆÔºåpomÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;demo&lt;/artifactId&gt; &lt;version&gt;0.0.1&lt;/version&gt; &lt;name&gt;demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;ÁÑ∂ÂêéÁî®mavenÊâìÂåÖÔºåÊâìÂåÖÂêéÈ°πÁõÆÊ†πÁõÆÂΩïÁöÑtarget‰∏ã‰ºöÊúâÂ¶Ç‰∏ãfat jarÔºöÂú®È°πÁõÆÊ†πÁõÆÂΩï‰∏ãÊñ∞Âª∫DockerfileÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345FROM openjdk:8u212-jreMAINTAINER MrBird 852252810@qq.comCOPY target/demo-0.0.1.jar /demo-0.0.1.jarENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/demo-0.0.1.jar&quot;]ÁÑ∂ÂêéÁÇπÂáªIDEA -&gt; Run -&gt; Edit Configrations‚Ä¶ÈÄâÊã©ËøúÁ®ãÁöÑDockerÊúçÂä°ÔºåÂ°´ÂÜôÈïúÂÉèÊ†áÁ≠æÂÜÖÂÆπÔºåÁÇπÂáª‰øùÂ≠òÂêéÔºåËøêË°åÔºöÈÄöËøáÊó•ÂøóÊù•ÁúãÔºåÈïúÂÉèÊûÑÂª∫ÊòØÊàêÂäüÁöÑÔºöÂèØ‰ª•ÁúãÂà∞ËøúÁ®ãÊúçÂä°Âô®‰∏äÂ∑≤ÁªèÂåÖÂê´‰∫ÜËØ•DockerÈïúÂÉèÔºöÂèØ‰ª•Âà∞ÊúçÂä°Âô®‰∏äÈ™åËØÅ‰∏ãÔºö]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KubernetesÊúçÂä°ÂèëÁé∞ÊÄªÁªì]]></title>
    <url>%2FKubernetes-Service-Discovery-Summary.html</url>
    <content type="text"><![CDATA[KubernetesÊúçÂä°ÂèëÁé∞‰∏ªË¶ÅÂèØ‰ª•ÂΩí‰∏∫‰∏âÁßçÊÉÖÂΩ¢Ôºö1.KubernetesÈõÜÁæ§ÂÜÖÈÉ®Èó¥ÊúçÂä°Â¶Ç‰Ωï‰∫íÁõ∏ÈÄö‰ø°Ôºõ2.KuberntesÈõÜÁæ§Â§ñÈÉ®Â¶Ç‰ΩïËÆøÈóÆÈõÜÁæ§ÂÜÖÈÉ®ÊúçÂä°Ôºõ3.KubernetesÈõÜÁæ§ÂÜÖÈÉ®Â¶Ç‰ΩïËÆøÈóÆÈõÜÁæ§Â§ñÈÉ®ÊúçÂä°„ÄÇËøôËäÇÈíàÂØπËøô‰∏âÁßçÊÉÖÂÜµÂÅö‰∏™ÊÄªÁªì„ÄÇÈõÜÁæ§Èó¥ÊúçÂä°ÈÄö‰ø°1.ÈÄöËøáPod IPÁõ∏‰∫íÈÄö‰ø°Ôºå‰ΩÜÊòØPodÂÖ∑Êúâ‰∏çÁ°ÆÂÆöÊÄßÔºåPod IP‰ºöÂèëÁîüÊîπÂèòÔºåÊâÄ‰ª•ËøôÁßçÊñπÂºèÂπ∂‰∏çÊé®Ëçê„ÄÇ2.ÈÉ®ÁΩ≤PodÂØπÂ∫îÁöÑServiceÔºåËÆøÈóÆService IPÔºåËØ∑Ê±ÇË¥üËΩΩÂùáË°°ËΩ¨ÂèëÊúçÂä°Âà∞ÂêÑ‰∏™ÂØπÂ∫îÁöÑPodÂÆû‰æã„ÄÇÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãÈÖçÁΩÆÊñá‰ª∂demo.ymlÔºö12345678910111213141516171819202122232425262728293031apiVersion: apps/v1kind: Deploymentmetadata: name: nginx-dspec: selector: matchLabels: name: web-app replicas: 3 template: metadata: labels: name: web-app spec: containers: - name: nginx image: nginx ports: - containerPort: 80---apiVersion: v1kind: Servicemetadata: name: nginx-sspec: ports: - port: 8080 targetPort: 80 protocol: TCP selector: name: web-appËøêË°åËØ•ÈÖçÁΩÆÔºåÊü•ÁúãServiceÂØπÂ∫îÁöÑIPÔºöÈÄöËøáService IPÂíåÁ´ØÂè£Â∞±ËÉΩËÆøÈóÆÂØπÂ∫îÁöÑPodÊúçÂä°:‰ΩÜÊòØÊàë‰ª¨‰∫ãÂÖàÂπ∂‰∏çÁü•ÈÅìServiceÁöÑIPÊòØÂ§öÂ∞ëÔºåÂ¶ÇÊûúÊàë‰ª¨Âú®ÂêØÂä®ÊúçÂä°ÂêéÂÜçÂéªÈÖçÁΩÆËøô‰∏™IPÁöÑËØùÔºåËøô‰∏™ËøáÁ®ã‰πüÊòØÈùûÂ∏∏È∫ªÁÉ¶ÁöÑÔºåÊâÄÂπ∏Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáDNSËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰πüÂ∞±ÊòØ‰∏ãÈù¢ËøôÁßçÊñπÂºèÔºö3.ÈÉ®ÁΩ≤PodÂØπÂ∫îÁöÑServiceÔºåÈÄöËøáServiceNameÔºåËØ∑Ê±ÇË¥üËΩΩÂùáË°°ËΩ¨ÂèëÊúçÂä°Âà∞ÂêÑ‰∏™ÂØπÂ∫îÁöÑPodÂÆû‰æã„ÄÇÈÄöËøá‰∏ãÈù¢ËøôÊÆµÈÖçÁΩÆÈÉ®ÁΩ≤‰∏Ä‰∏™Êñ∞ÁöÑPodÊúçÂä°Ôºö123456789101112apiVersion: v1kind: Podmetadata: name: centos-podspec: containers: - name: centos image: centos command: - sh - -c - 'while true; do sleep 360000000; done'ËøõÂÖ•Âà∞ËØ•ÂÆπÂô®ÂÜÖÈÉ®ÔºåÊµãËØï‰∏ãÊòØÂê¶ÂèØ‰ª•ËÆøÈóÆ‰∏äÈù¢ÂàõÂª∫ÁöÑServiceÔºöËØïÁùÄÈÄöËøáServiceNameËÆøÈóÆNginxÊúçÂä°ÔºöÂèØ‰ª•ÁúãÂà∞ÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇËøôÂæóÁõä‰∫éKube-dnsÔºåÂÖ∑‰ΩìÁöÑÊ†ºÂºè‰∏∫Ôºö&lt;service_name&gt;.&lt;namespace&gt;.svc.&lt;cluster_domain&gt;ÂÖ∂‰∏≠Ôºå&lt;cluster_domain&gt;ÈªòËÆ§ÂÄº‰∏∫cluster.localÔºåÂèØ‰ª•ÈÄöËøákubeletÁöÑ--cluster-domain=SomeDomainÂèÇÊï∞ËøõË°åËÆæÁΩÆ„ÄÇ‰∏∫‰∫ÜÂú®Pod‰∏≠Ë∞ÉÁî®ÂÖ∂‰ªñServiceÔºåkubelet‰ºöËá™Âä®Âú®ÂÆπÂô®‰∏≠ÂàõÂª∫ÂüüÂêçËß£ÊûêÈÖçÁΩÆÔºöÊâÄ‰ª•Èô§‰∫Ü‰ΩøÁî®curl nginx-s:8080ËÆøÈóÆÂ§ñÔºå‰ª•‰∏ãËøô‰∫õ‰πüÊòØÁ≠âÊïàÁöÑÔºö12345curl nginx-s.default:8080curl nginx-s.default.svc:8080curl nginx-s.default.svc.cluster.local:8080ÊâÄ‰ª•Êàë‰ª¨Áé∞Âú®ÂèØ‰ª•‰∏çÁî®‰∫ãÂÖàÁü•ÈÅìServiceÁöÑIP‰∫ÜÔºåÂè™Ë¶Å‰∫ãÂÖàÁü•ÈÅìServiceNameÂç≥ÂèØÔºàServiceNameÊòØÊàë‰ª¨Ëá™Â∑±ÂÆö‰πâÁöÑÔºâ„ÄÇ4.ÈÄöËøáHeadless ServiceÔºåËøîÂõûPodÁöÑÊâÄÊúâÂÆû‰æã„ÄÇÊúâÊó∂ÂÄôÊàë‰ª¨Âπ∂‰∏çÈúÄË¶ÅServiceÁöÑË¥üËΩΩÂùáË°°ÂäüËÉΩÔºåËÄåÊòØÊâãÂä®Ëé∑ÂèñServiceÂØπÂ∫îÁöÑPodÂÆû‰æãÔºåËá™Â∑±ÂÜ≥ÂÆöÂ¶Ç‰ΩïËÆøÈóÆ„ÄÇÂàõÂª∫‰∏Ä‰∏™Headless ServiceÈÖçÁΩÆÔºö12345678910apiVersion: v1kind: Servicemetadata: name: nginx-headless-sspec: ports: - port: 8080 clusterIP: None selector: name: web-appÂàõÂª∫ËØ•Headless ServiceÔºåÁÑ∂ÂêéÂà∞centos-podÂÆπÂô®ÂÜÖÈÉ®Êü•ËØ¢DNSËÆ∞ÂΩïÔºöÂ¶ÇÊûúÊ≤°ÊúânslookupÂëΩ‰ª§ÔºåÂèØ‰ª•‰ΩøÁî®yum -y install bind-utilsÂëΩ‰ª§ÂÆâË£Ö„ÄÇÂèØ‰ª•ÁúãÂà∞ÔºåÈÄöËøáËß£Êûênginx-headless-s DNSÔºåËøîÂõû‰∫Ü‰∏â‰∏™Nginx PodÂÆû‰æãÂú∞ÂùÄ„ÄÇÈõÜÁæ§Â§ñÈÉ®ËÆøÈóÆÂÜÖÈÉ®1.PodÊåáÂÆöhostPortÔºåÊàñËÄÖÂºÄÂêØhostNetworkÔºåËøôÊ†∑Â§ñÈÉ®Â∞±ÂèØ‰ª•ÈÄöËøáPodÂÆø‰∏ªÊú∫IP+PodÁ´ØÂè£ËÆøÈóÆ‰∫ÜÔºå‰ΩÜPodË∞ÉÂ∫¶ÁöÑ‰∏çÁ°ÆÂÆöÊÄßÔºåËøôÁßçÊñπÂºè‰∏çÊé®ËçêÔºõ2.ÈÄöËøáServiceÁöÑNodePortÊö¥Èú≤ÊúçÂä°ÔºåÂ¶ÇÊûúÊúçÂä°ËæÉÂ§öÁöÑËØù‰∏çÊé®ËçêÔºåÂõ†‰∏∫ËøôÁßçÊñπÂºè‰ºöÂú®ÈõÜÁæ§‰∏≠ÁöÑÊâÄÊúâËäÇÁÇπ‰∏äÈÉΩÊö¥Èú≤ËØ•Á´ØÂè£ÔºåÊâÄ‰ª•ÂΩìÊúçÂä°Â§öÁöÑÊó∂ÂÄôÂæàÂÆπÊòìÈÄ†ÊàêÁ´ØÂè£ÂÜ≤Á™ÅÔºåÂπ∂‰∏îÁ´ØÂè£Áª¥Êä§‰∏ç‰æøÔºõ3.ÈÄöËøáIngressÈõÜ‰∏≠Êö¥Èú≤ÊúçÂä°ÔºåË¶ÅÊö¥Èú≤ÁöÑÊúçÂä°ËæÉÂ§öÁöÑÊó∂ÂÄôÊé®Ëçê„ÄÇËøô‰∏âÁßçÊñπÂºèÊòØÂâçÈù¢ÂçöÂÆ¢‰∏≠ÈÉΩÊúâ‰ªãÁªçÂà∞ÔºåÊâÄ‰ª•Â∞±‰∏çËµòËø∞‰∫Ü„ÄÇÈõÜÁæ§ÂÜÖÈÉ®ËÆøÈóÆÂ§ñÈÉ®1.Áõ¥Êé•ÈÄöËøáÂ§ñÈÉ®ÊúçÂä°ÁöÑIPÂíåÁ´ØÂè£ËøõË°åËÆøÈóÆÔºõ2.ÈÄöËøáServiceÂíåEndpointÁªëÂÆöÔºåÈõÜÁæ§ÂÜÖÁöÑÊúçÂä°ÈÄöËøáDNSËÆøÈóÆÈõÜÁæ§Â§ñÈÉ®ÊúçÂä°ÔºàÊé®ËçêÔºâ„ÄÇÂàõÂª∫Â¶Ç‰∏ãÈÖçÁΩÆÔºàtest-remote.ymlÔºâÔºö12345678910111213141516171819apiVersion: v1kind: Servicemetadata: name: remote-sspec: ports: - protocol: TCP port: 8081 targetPort: 8080---apiVersion: v1kind: Endpointsmetadata: name: remote-ssubsets: - addresses: - ip: 192.168.73.42 ports: - port: 8080ServiceÂíåEndpointsÂêçÁß∞‰∏ÄÊ†∑ÔºåÊâÄ‰ª•‰ªñ‰ª¨‰ºöÁªëÂÆö‰∏äÔºåÈÄöËøáËÆøÈóÆremote-s Service‰æøÂèØ‰ª•ËÆøÈóÆÂà∞ÂØπÂ∫îÁöÑEndpointÂú∞ÂùÄ192.168.73.42:8080ÊúçÂä°ÔºàËøôÊòØ‰∏™ÊàëÂú®ÈõÜÁæ§Â§ñÈÉ®ÔºåÈÄöËøáSpring BootÊê≠Âª∫ÁöÑÁÆÄÂçïwebÊúçÂä°Ôºâ„ÄÇËøêË°åËØ•ÈÖçÁΩÆÂêéÔºåÂú®masterËäÇÁÇπ‰∏äÔºåÊµãËØïÊòØÂê¶ÂèØ‰ª•ËÆøÈóÆÔºöÊàë‰ª¨ËøõÂà∞centos-podÂÆπÂô®ÂÜÖÈÉ®ÔºåÈÄöËøáÊúçÂä°ÂêçÁß∞ÁúãÁúãÊòØÂê¶ÂèØ‰ª•ËÆøÈóÆÂà∞ÔºöÂèØ‰ª•ÁúãÂà∞ËøôÁßçÊñπÂºè‰πüÊòØÊ≤°ÈóÆÈ¢òÁöÑÔºåÊé®Ëçê‰ΩøÁî®ËøôÁßçÊñπÂºèÔºåÂèØ‰ª•Èôç‰ΩéËÄ¶ÂêàÂ∫¶„ÄÇ]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes Ingress]]></title>
    <url>%2FKubernetes-Ingress.html</url>
    <content type="text"><![CDATA[Âú®Kubernetes ServiceÂü∫Á°Ä‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨‰∫ÜËß£Âà∞ÂèØ‰ª•ÈÄöËøáËÆæÁΩÆService NodePortÂêëKubernetesÈõÜÁæ§Â§ñÈÉ®Êö¥Èú≤Á´ØÂè£ÔºåÂ§ñÈÉ®ÊúçÂä°ÂèØ‰ª•ÈÄöËøáKubernetesÈõÜÁæ§ËäÇÁÇπIP+NodePortËÆøÈóÆÈõÜÁæ§ÂÜÖÈÉ®ËµÑÊ∫ê„ÄÇÂΩìÈõÜÁæ§ÂÜÖÈÉ®ÊúçÂä°‰ºóÂ§öÊó∂ÔºåÈúÄË¶ÅÊö¥Èú≤ÁöÑÁ´ØÂè£‰πü‰ºöË∂äÊù•Ë∂äÂ§ö„ÄÇËøôÊ†∑‰∏ç‰ªÖÁ´ØÂè£Áª¥Êä§Âõ∞ÈöæÔºåÈõÜÁæ§ËæπÁïå‰πüÂèòÂæó‚ÄúÂçÉÁñÆÁôæÂ≠î‚Äù„ÄÇÈíàÂØπËøô‰∏™ÈóÆÈ¢òÔºåKubernetesÊèê‰æõ‰∫ÜIngressÊù•Ëß£ÂÜ≥ÔºåIngressÂØπË±°Áî®‰∫éÈÖçÁΩÆÂ§ñÈÉ®ËØ∑Ê±ÇËΩ¨ÂèëÂà∞ÈõÜÁæ§ÂÜÖÈÉ®ÊúçÂä°ÁöÑÂÖ∑‰ΩìËßÑÂàôÔºåËÄåÂÆûÈôÖÁöÑËΩ¨ÂèëÊìç‰ΩúÁî±Ingress ControllerÊù•ÂÆåÊàê„ÄÇÂÅáËÆæÊàë‰ª¨ÁöÑKubernetesÈõÜÁæ§‰∏≠ÂàÜÂà´Â≠òÂú®2‰∏™ÂÆû‰æãÁöÑtomcatÂíånginx DeploymentÔºåÂπ∂‰∏îÊúâÂØπÂ∫îÁöÑService„ÄÇÂä†ÂÖ•IngressÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÁöÑÊúçÂä°Êö¥Èú≤ÊñπÂºèÔºöIngress ControllerIngress ControllerÂπ∂‰∏çÊòØKubernetesÂØπË±°ÔºåËÄåÊòØÊ†πÊçÆIngressÂØπË±°ÈÖçÁΩÆÔºåÂÆûÁé∞ÂÖ∑‰ΩìËΩ¨ÂèëÂäüËÉΩÁöÑÁªÑ‰ª∂ÁªüÁß∞„ÄÇÈô§‰∫ÜKubernetesÂÆòÊñπÁª¥Êä§ÁöÑGCEÂíåIngress NginxÂ§ñÔºåËøòÊúâËÆ∏Â§öÁ¨¨‰∏âÊñπÁª¥Êä§ÁöÑÂÆûÁé∞„ÄÇËøôÈáå‰ª•Áî®ÁöÑËæÉÂ§öÁöÑIngress Nginx‰∏∫‰æãÔºåÂÆûÁé∞Ingress ControllerÁöÑÈÉ®ÁΩ≤„ÄÇÂõ†‰∏∫Ingress ControllerÊòØÁî®‰∫éÂ§ÑÁêÜÈõÜÁæ§Â§ñÈÉ®ËØ∑Ê±ÇËÆøÈóÆÈõÜÁæ§ÂÜÖÈÉ®ÊúçÂä°ÁöÑÁªÑ‰ª∂ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊÄùËÄÉÔºåÂ¶Ç‰ΩïÂ∞ÜIngress ControllerÊö¥Èú≤Âá∫Âéª„ÄÇÊúÄ‰∏∫Â∏∏ËßÅÁöÑÊñπÂºè‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰∏§ÁßçÔºöÂàõÂª∫ÂíåIntress ControllerÂØπÂ∫îÁöÑServiceÊúçÂä°ÔºåServiceÈÄöËøáNodePortÂ∞ÜÊúçÂä°Á´ØÂè£Êö¥Èú≤Âá∫ÂéªÔºõÂ∞ÜIngress ControllerÈÉ®ÁΩ≤Âà∞Âá†‰∏™Âõ∫ÂÆöÁöÑËäÇÁÇπ‰∏äÔºåÁÑ∂ÂêéÈÄöËøáHostPortÂ∞ÜÁ´ØÂè£Êò†Â∞ÑÂá∫ÂéªÔºåÊúÄÂ§ñÂ±ÇÈÄöËøáLVS+keepaliveÂÆûÁé∞Ë¥üËΩΩÂùáË°°„ÄÇÂõ†‰∏∫Á¨¨1ÁßçÊñπÂºèÈúÄË¶ÅÂú®ËØ∑Ê±ÇÈìæË∑Ø‰∏≠ÂÜçÂä†‰∏ÄÂ±ÇServiceÊúçÂä°ÔºåÊÄßËÉΩÂèØËÉΩ‰ºöÊúâËÄóÊçüÔºåÊâÄ‰ª•Êàë‰ª¨ÈÄâÊã©Á¨¨2ÁßçÊñπÂºè„ÄÇ‰∏∫‰∫ÜÁÆÄÂåñËøáÁ®ãÔºåËøôÈáåÂè™Âú®‰∏Ä‰∏™ËäÇÁÇπ‰∏äÈÉ®ÁΩ≤Ingress ControllerÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•ÈÄâÊã©Âú®Node1ËäÇÁÇπ‰∏äÈÉ®ÁΩ≤„ÄÇÁªôNode1ËäÇÁÇπÊâì‰∏™Ê†áÁ≠æÔºö1kubectl label node node1 type="ingress"‰∏ãËΩΩIngress NginxÈÖçÁΩÆÊñá‰ª∂Ôºö1wget https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/static/mandatory.yaml‰øÆÊîπËØ•ÈÖçÁΩÆÊñá‰ª∂Ôºö1vi mandatory.yaml‰øÆÊîπÈÉ®ÂàÜÂ¶Ç‰∏ãÊâÄÁ§∫:ÂàõÂª∫ËØ•ÈÖçÁΩÆÊñá‰ª∂Ôºö1kubectl create -f mandatory.yamlÊü•ÁúãÊòØÂê¶ÂàõÂª∫ÊàêÂäüÔºö‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttp://192.168.33.12/ÔºöÂõ†‰∏∫ËøòÊ≤°ÊúâÂàõÂª∫IngressÔºåÊâÄ‰ª•È°µÈù¢ÂìçÂ∫îÊöÇÊó∂‰∏∫404„ÄÇIngressÂú®ÂàõÂª∫IngressÂØπË±°ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂáÜÂ§áÂ•ΩtomcatÂíånginxÊúçÂä°Ôºå‰æõÂæÖ‰ºöÊºîÁ§∫ÔºåÂàõÂª∫demo.ymlÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162---apiVersion: apps/v1kind: Deploymentmetadata: name: tomcat-appspec: selector: matchLabels: name: tomcat replicas: 2 template: metadata: labels: name: tomcat spec: containers: - name: tomcat image: tomcat:8.0.51-alpine ports: - containerPort: 8080---apiVersion: apps/v1kind: Deploymentmetadata: name: nginx-appspec: selector: matchLabels: name: nginx replicas: 2 template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx ports: - containerPort: 80---apiVersion: v1kind: Servicemetadata: name: tomcat-servicespec: ports: - port: 8080 targetPort: 8080 selector: name: tomcat---apiVersion: v1kind: Servicemetadata: name: nginx-servicespec: ports: - port: 8081 targetPort: 80 selector: name: nginxÂàõÂª∫Ôºö1kubectl create -f demo.ymlÊü•ÁúãÊòØÂê¶ÂàõÂª∫ÊàêÂäüÔºöÊé•ÁùÄÂàõÂª∫IngressÈÖçÁΩÆÊñá‰ª∂Ôºàingress.ymlÔºâ:1234567891011121314151617181920apiVersion: networking.k8s.io/v1beta1kind: Ingressmetadata: name: ingressspec: rules: - host: tomcat.mrbird.cc http: paths: - path: / backend: serviceName: tomcat-service servicePort: 8080 - host: nginx.mrbird.cc http: paths: - path: / backend: serviceName: nginx-service servicePort: 8081Ê†πÊçÆ‰∏äËø∞ÈÖçÁΩÆÔºåÂΩìÊàë‰ª¨ËÆøÈóÆtomcat.mrbird.ccÊ†πË∑ØÂæÑÁöÑÊó∂ÂÄôÔºåËØ∑Ê±ÇÂ∞ÜËΩ¨ÂèëÂà∞ÂêçÁß∞‰∏∫tomcat-serviceÔºåÁ´ØÂè£‰∏∫8080ÁöÑservice‰∏äÔºåÊ†πÊçÆ‰∏äÈù¢demo.ymlÁöÑÈÖçÁΩÆÔºåËØ•serviceÂØπÂ∫î‰∏§‰∏™tomcat podÔºõËÆøÈóÆnginx.mrbird.ccÊ†πË∑ØÂæÑÁöÑÊó∂ÂÄôÔºåËØ∑Ê±ÇÂ∞ÜËΩ¨ÂèëÂà∞nginx-service„ÄÇÂàõÂª∫ËØ•IngressÔºö1kubectl create -f ingress.yml‰ªéÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂΩìÊàë‰ª¨ËÆøÈóÆtomcat.mrbird.cc/ÁöÑÊó∂ÂÄôÔºåËØ∑Ê±Ç‰ºöÂùáË°°Âú∞ËΩ¨ÂèëÂà∞10.244.1.10:8080/Âíå10.244.2.15:8080/„ÄÇÂú®Windows‰∏äÈÖçÁΩÆhostsÂüüÂêçËß£ÊûêÔºöÊµèËßàÂô®ËÆøÈóÆhttp://tomcat.mrbird.cc/ÔºöËÆøÈóÆhttp://nginx.mrbird.cc/ÔºöÁªìÊûúÁ¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúü„ÄÇIngress NginxÂÆûË¥®‰∏äÂ∞±ÊòØ‰∏Ä‰∏™nginxÊúçÂä°ÔºåÂÆÉÂèØ‰ª•Ëá™Âä®ÈÄöËøáÊàë‰ª¨ÁöÑIngressÈÖçÁΩÆÔºåÁîüÊàêÁõ∏Â∫îÁöÑnginxÈÖçÁΩÆÊñá‰ª∂ÔºåÊàë‰ª¨ÂèØ‰ª•ËøõÂÖ•Âà∞Ingress NginxÂÆπÂô®ÂÜÖÈÉ®ËØÅÂÆûËøô‰∏ÄÁÇπ:Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂèØ‰ª•ÁúãÂà∞‰∏ãÈù¢Ëøô‰∫õÈÖçÁΩÆÔºà‰ªÖÊà™Âèñtomcat.mrbird.ccÈÖçÁΩÆÔºâÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125...## start server tomcat.mrbird.ccserver &#123; server_name tomcat.mrbird.cc ; listen 80 ; listen [::]:80 ; listen 443 ssl http2 ; listen [::]:443 ssl http2 ; set $proxy_upstream_name &quot;-&quot;; ssl_certificate_by_lua_block &#123; certificate.call() &#125; location / &#123; set $namespace &quot;default&quot;; set $ingress_name &quot;ingress&quot;; set $service_name &quot;tomcat-service&quot;; set $service_port &quot;8080&quot;; set $location_path &quot;/&quot;; rewrite_by_lua_block &#123; lua_ingress.rewrite(&#123; force_ssl_redirect = false, ssl_redirect = true, force_no_ssl_redirect = false, use_port_in_redirects = false, &#125;) balancer.rewrite() plugins.run() &#125; header_filter_by_lua_block &#123; plugins.run() &#125; body_filter_by_lua_block &#123; &#125; log_by_lua_block &#123; balancer.log() monitor.call() plugins.run() &#125; port_in_redirect off; set $balancer_ewma_score -1; set $proxy_upstream_name &quot;default-tomcat-service-8080&quot;; set $proxy_host $proxy_upstream_name; set $pass_access_scheme $scheme; set $pass_server_port $server_port; set $best_http_host $http_host; set $pass_port $pass_server_port; set $proxy_alternative_upstream_name &quot;&quot;; client_max_body_size 1m; proxy_set_header Host $best_http_host; # Pass the extracted client certificate to the backend # Allow websocket connections proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; proxy_set_header X-Request-ID $req_id; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $remote_addr; proxy_set_header X-Forwarded-Host $best_http_host; proxy_set_header X-Forwarded-Port $pass_port; proxy_set_header X-Forwarded-Proto $pass_access_scheme; proxy_set_header X-Scheme $pass_access_scheme; # Pass the original X-Forwarded-For proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for; # mitigate HTTPoxy Vulnerability # https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/ proxy_set_header Proxy &quot;&quot;; # Custom headers to proxied server proxy_connect_timeout 5s; proxy_send_timeout 60s; proxy_read_timeout 60s; proxy_buffering off; proxy_buffer_size 4k; proxy_buffers 4 4k; proxy_max_temp_file_size 1024m; proxy_request_buffering on; proxy_http_version 1.1; proxy_cookie_domain off; proxy_cookie_path off; # In case of errors try the next upstream server before returning an error proxy_next_upstream error timeout; proxy_next_upstream_timeout 0; proxy_next_upstream_tries 3; proxy_pass http://upstream_balancer; proxy_redirect off; &#125;&#125;## end server tomcat.mrbird.cc...Êõ¥Â§öIngressÈÖçÁΩÆÂèØ‰ª•ÂèÇËÄÉÂÆòÊñπÊñáÊ°£Ôºöhttps://v1-12.docs.kubernetes.io/zh/docs/concepts/services-networking/ingress/„ÄÇ]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes StatefulSet]]></title>
    <url>%2FKubernetes-StatefulSet.html</url>
    <content type="text"><![CDATA[ÂâçÈù¢‰ªãÁªçÁöÑPodÁÆ°ÁêÜÂØπË±°ÔºåÂ¶ÇRC/RS„ÄÅDeployment„ÄÅDaemonSetÁ≠âÈÉΩÊòØÈù¢ÂêëÊó†Áä∂ÊÄÅÊúçÂä°ÁöÑÔºåËÄåÂØπ‰∫éÊúâÁä∂ÊÄÅÁöÑÂ∫îÁî®ÔºåÊØîÂ¶ÇMySQLÈõÜÁæ§ÔºåMongoDBÈõÜÁæ§Á≠âÔºåÂàôÂèØ‰ª•‰ΩøÁî®StatefulSetÊù•ÂÆåÊàê„ÄÇÊúâÁä∂ÊÄÅÁöÑÂ∫îÁî®ÈõÜÁæ§ÈÄöÂ∏∏Êúâ‰ª•‰∏ãËøô‰∫õÁâπÁÇπÔºöÊØè‰∏™ËäÇÁÇπÈÉΩÊúâÂõ∫ÂÆöÁöÑË∫´‰ªΩIDÔºåÈÄöËøáËøô‰∏™IDÔºåÈõÜÁæ§‰∏≠ÁöÑÊàêÂëòÂèØ‰ª•Áõ∏‰∫íÂèëÁé∞Âπ∂ÈÄö‰ø°ÔºõÈõÜÁæ§ÁöÑËßÑÊ®°ÊòØÊØîËæÉÂõ∫ÂÆöÁöÑÔºåÈõÜÁæ§ËßÑÊ®°‰∏çËÉΩÈöèÊÑèÂèòÂä®ÔºõÈõÜÁæ§‰∏≠ÁöÑÊØè‰∏™ËäÇÁÇπÈÉΩÊòØÊúâÁä∂ÊÄÅÁöÑÔºåÈÄöÂ∏∏‰ºöÊåÅ‰πÖÂåñÊï∞ÊçÆÂà∞Ê∞∏‰πÖÂ≠òÂÇ®‰∏≠„ÄÇStatefulSetÁâπÊÄßÈÄöËøáStatefulSetÊê≠Âª∫ÁöÑÈõÜÁæ§ÈÄöÂ∏∏Êúâ‰ª•‰∏ãËøô‰∫õÁâπÊÄßÔºöStatefulSetÈáåÁöÑÊØè‰∏™PodÈÉΩÊúâÁ®≥ÂÆö„ÄÅÂîØ‰∏ÄÁöÑÁΩëÁªúÊ†áËØÜÔºåÂèØ‰ª•Áî®Êù•ÂèëÁé∞ÈõÜÁæ§ÂÜÖÁöÑÂÖ∂‰ªñÊàêÂëò„ÄÇÂÅáËÆæStatefulSetÁöÑÂêçÁß∞‰∏∫nginxÔºåÈÇ£‰πàÁ¨¨1‰∏™PodÂè´nginx-0ÔºåÁ¨¨2‰∏™Âè´nginx-1Ôºå‰ª•Ê≠§Á±ªÊé®ÔºõStatefulSetÊéßÂà∂ÁöÑPodÂâØÊú¨ÁöÑÂêØÂÅúÈ°∫Â∫èÊòØÂèóÊéßÁöÑÔºåÊìç‰ΩúÁ¨¨n‰∏™PodÊó∂ÔºåÂâçn-1‰∏™PodÂ∑≤ÁªèÊòØËøêË°å‰∏îÂáÜÂ§áÂ•ΩÁöÑÁä∂ÊÄÅ„ÄÇStatefulSetÈáåÁöÑPodÈááÁî®Á®≥ÂÆöÁöÑÊåÅ‰πÖÂåñÂ≠òÂÇ®Âç∑ÔºåÈÄöËøáPVÊàñPVCÊù•ÂÆûÁé∞ÔºåÂà†Èô§PodÊó∂ÈªòËÆ§‰∏ç‰ºöÂà†Èô§‰∏éStatefulSetÁõ∏ÂÖ≥ÁöÑÂ≠òÂÇ®Âç∑Ôºà‰∏∫‰∫Ü‰øùËØÅÊï∞ÊçÆÁöÑÂÆâÂÖ®ÔºâÔºõÈÖçÂêàHeadless Service‰ΩøÁî®ÔºåÁî®‰∫éÂèëÁé∞ÂíåÊéßÂà∂PodÂÆû‰æãÊï∞Èáè„ÄÇStatefulSetÂÆûË∑µ‰∏ãÈù¢‰ΩøÁî®StatefulSetÊê≠Âª∫‰∏™NginxÈõÜÁæ§ÔºåÊåÅ‰πÖÂåñÂ≠òÂÇ®‰ΩøÁî®‰∏ä‰∏ÄËäÇÊê≠Âª∫ÁöÑÂêçÁß∞‰∏∫managed-nfs-storageÁöÑStorageClass„ÄÇÂàõÂª∫nginx-headless-service.ymlÈÖçÁΩÆÊñá‰ª∂Ôºö12345678910111213apiVersion: v1kind: Servicemetadata: name: nginx labels: name: nginxspec: ports: - port: 80 targetPort: 80 clusterIP: None # Ë°®Êòé‰∏∫Headleass Service selector: role: web-appÂàõÂª∫ËØ•Headless ServiceÔºö1kubectl create -f nginx-headless-service.ymlÊé•ÁùÄÂàõÂª∫nginx-statefulset.ymlÈÖçÁΩÆÊñá‰ª∂Ôºö123456789101112131415161718192021222324252627282930313233apiVersion: apps/v1kind: StatefulSetmetadata: name: nginx-scspec: serviceName: "nginx" # ÂØπÂ∫îÂàöÂàöÂàõÂª∫ÁöÑHeadless ServiceÂêçÁß∞ replicas: 3 selector: matchLabels: role: web-app template: metadata: labels: role: web-app spec: terminationGracePeriodSeconds: 10 containers: - name: nginx image: nginx ports: - containerPort: 80 volumeMounts: - mountPath: /usr/share/nginx/html name: nginx-persistent-storage # Âíå‰∏ãÈù¢ÁöÑpvcÂêçÁß∞ÂØπÂ∫î volumeClaimTemplates: # pvcÊ®°Êùø - metadata: name: nginx-persistent-storage # pvcÂêçÁß∞ spec: storageClassName: managed-nfs-storage # ÊåáÂÆöStorageClassÂêçÁß∞ accessModes: ["ReadWriteMany"] resources: requests: storage: 100MiÂàõÂª∫ËØ•StatefulSetÔºåËßÇÂØüpodÁöÑÂàõÂª∫ËøáÁ®ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåpodÁöÑÂàõÂª∫ÊòØ‰∏•Ê†ºone by oneÁöÑÔºåÂõ†‰∏∫Êàë‰ª¨ÂÆö‰πâÁöÑStatefulSetÁöÑÂêçÁß∞‰Ωçnginx-scÔºåÊâÄ‰ª•PodÁöÑÂêçÁß∞ÂàÜÂà´‰Ωçnginx-sc-0„ÄÅnginx-sc-1Âíånginx-sc-2„ÄÇÊü•ÁúãÂØπÂ∫îÁöÑPVCÂíåPVÔºöÁä∂ÊÄÅ‰∏∫Bound„ÄÇÂà†Èô§PodÔºåÂÜçÊ¨°ËßÇÂØüPodÁöÑÂàõÂª∫ËøáÁ®ãÔºöÂèØ‰ª•ÁúãÂà∞È°∫Â∫èÊÄßÊòØ‰∏•Ê†º‰øùËØÅÁöÑ„ÄÇËøõÂÖ•Âà∞PodÂÜÖÈÉ®ÔºåÊü•ÁúãÂÖ∂hostnameÔºöhostnameÂíåpodÂêçÁß∞‰∏ÄËá¥„ÄÇÂà∞192.168.33.13ÁöÑ/nfsÁõÆÂΩï‰∏ãÂèØ‰ª•ÁúãÂà∞ÊåÇËΩΩ‰∫Ü‰∏â‰∏™nginxÁõÆÂΩïÔºö„ÄäKubernetesÊùÉÂ®ÅÊåáÂçó(Á¨¨4Áâà)„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kubernetes</tag>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes StorageClassÂÆûË∑µ]]></title>
    <url>%2FKubernetes-StorageClass-Practice.html</url>
    <content type="text"><![CDATA[ÊâãÂä®ÂàõÂª∫PV‰∏ç‰ªÖÁπÅÁêêÔºåËøòÂèØËÉΩÈÄ†ÊàêËµÑÊ∫êÊµ™Ë¥π„ÄÇÊØîÂ¶ÇÊüê‰∏™PVÂÆö‰πâÁöÑÂ≠òÂÇ®Á©∫Èó¥‰∏∫10GiÔºåËØ•PVË¢´Êüê‰∏™Â£∞ÊòéÈúÄË¶Å8GiÂÜÖÂ≠òÁöÑPVCÁªëÂÆö‰∏ä‰∫ÜÔºåËøôÊó∂ÂÄôËØ•PVÂ§Ñ‰∫éBoundÁä∂ÊÄÅÔºåÊó†Ê≥ïÂÜçÂíåÂà´ÁöÑPVCËøõË°åÁªëÂÆöÔºåPV‰∏äÂâ©‰∏ãÁöÑ2GiÂÜÖÂ≠òÂÆûÈôÖ‰∏äÊµ™Ë¥πÁöÑ„ÄÇStorageClassÂèØ‰ª•Ê†πÊçÆPVCÁöÑÂ£∞ÊòéÔºåÂä®ÊÄÅÂàõÂª∫ÂØπÂ∫îÁöÑPVÔºåËøôÊ†∑‰∏ç‰ªÖÁúÅÂéª‰∫ÜÂàõÂª∫PVÁöÑËøáÁ®ãÔºåËøòÂÆûÁé∞‰∫ÜÂ≠òÂÇ®ËµÑÊ∫êÁöÑÂä®ÊÄÅ‰æõÂ∫î„ÄÇStorageClassÊûÑÊàêStorageClassÁöÑÂÆö‰πâ‰∏ªË¶ÅÂåÖÊã¨ÂêçÁß∞„ÄÅÂêéÁ´ØÂ≠òÂÇ®ÁöÑÊèê‰æõËÄÖÔºàprovisionerÔºâÂíåÂêéÁ´ØÂ≠òÂÇ®ÁöÑÁõ∏ÂÖ≥ÂèÇÊï∞ÈÖçÁΩÆ„ÄÇStorageClass‰∏ÄÊó¶Ë¢´ÂàõÂª∫Âá∫Êù•ÔºåÂàôÂ∞ÜÊó†Ê≥ï‰øÆÊîπ„ÄÇÂ¶ÇÈúÄÊõ¥ÊîπÔºåÂàôÂè™ËÉΩÂà†Èô§ÂéüStorageClassÁöÑÂÆö‰πâÈáçÂª∫„ÄÇ‰∏æ‰∏™ÁÆÄÂçïÁöÑStorageClassÈÖçÁΩÆÔºö1234567apiVersion: storage.k8s.io/v1kind: StorageClassmetadata: name: managed-nfs-storage # StorageClassÂêçÁß∞provisioner: fuseim.pri/ifs # ÊåáÂÆöÂÖ∑‰ΩìÂ≠òÂÇ®ÁöÑÊèê‰æõËÄÖparameters: # ÂêéÁ´ØÂ≠òÂÇ®Áõ∏ÂÖ≥ÂèÇÊï∞ÈÖçÁΩÆ archiveOnDelete: "false"‰∏çÂêåÁöÑStorageClass‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÔºö‰∏çÂêåÁöÑÂ≠òÂÇ®Êèê‰æõËÄÖÈúÄË¶ÅÂ°´ÂÜô‰∏çÂêåÁöÑÂèÇÊï∞ÈÖçÁΩÆÔºå‰∏ãÈù¢ÂÆûÁé∞‰∏™NFS‰Ωú‰∏∫Âä®ÊÄÅStorageClassÂ≠òÂÇ®ÁöÑ‰æãÂ≠ê„ÄÇÂü∫‰∫éNFSÂ≠òÂÇ®Á±ªÂûãÁöÑÂÆûË∑µNFSÁéØÂ¢ÉÂú®‰∏ä‰∏ÄËäÇÂ∑≤ÁªèÊê≠Âª∫Â•Ω‰∫ÜÔºåIP‰∏∫192.168.33.13ÔºåË∑ØÂæÑ‰∏∫/nfs„ÄÇÂú®masterËäÇÁÇπ‰∏äÂÖãÈöÜÁõ∏ÂÖ≥‰ª£Á†ÅÔºö1git clone https://github.com/kubernetes-incubator/external-storage.gitÂàáÊç¢Âà∞external-storage/nfs-client/deployÁõÆÂΩïÔºö1cd external-storage/nfs-client/deployÂàõÂª∫RBACÔºö1kubectl create -f rbac.ymlÊé•ÁùÄÈÉ®ÁΩ≤NFS Client ProvisionerÔºåÈÉ®ÁΩ≤Ââç‰øÆÊîπdeployment.ymlÔºö123456789101112131415161718192021222324252627282930313233343536373839404142apiVersion: apps/v1kind: Deploymentmetadata: name: nfs-client-provisioner labels: app: nfs-client-provisioner # replace with namespace where provisioner is deployed namespace: defaultspec: replicas: 1 selector: matchLabels: app: nfs-client-provisioner strategy: type: Recreate selector: matchLabels: app: nfs-client-provisioner template: metadata: labels: app: nfs-client-provisioner spec: serviceAccountName: nfs-client-provisioner containers: - name: nfs-client-provisioner image: quay.io/external_storage/nfs-client-provisioner:latest volumeMounts: - name: nfs-client-root mountPath: /persistentvolumes env: - name: PROVISIONER_NAME value: mrbird.cc/nfs # ÂêçÁß∞Èöè‰Ω†ÂÆö‰πâ - name: NFS_SERVER value: 192.168.33.13 # NFS ÊúçÂä°IP - name: NFS_PATH value: /nfs # NFS ÁõÆÂΩï volumes: - name: nfs-client-root nfs: server: 192.168.33.13 # NFS ÊúçÂä°IP path: /nfs # NFS ÁõÆÂΩïÁÑ∂ÂêéÂàõÂª∫ËØ•deploymentÔºö1kubectl create -f deployment.yml‰øÆÊîπclass.yamlÈÖçÁΩÆÔºö1234567apiVersion: storage.k8s.io/v1kind: StorageClassmetadata: name: managed-nfs-storage # StorageClassÂêçÁß∞ÔºåÈöè‰Ω†ÂÆö‰πâprovisioner: mrbird.cc/nfs # Âíå‰∏äÈù¢deploymentÈáåÂÆö‰πâÁöÑ‰∏ÄËá¥parameters: archiveOnDelete: "false"ÂàõÂª∫Ëøô‰∏™StorageClassÔºö1kubectl create -f class.ymlÂàõÂª∫PVCÔºåPVCÁöÑÂÆö‰πâÂØπÂ∫îtest-claim.ymlÔºö1234567891011kind: PersistentVolumeClaimapiVersion: v1metadata: name: test-claimspec: storageClassName: managed-nfs-storage # ÊåáÂÆöStorageClassÂêçÁß∞ÔºåÂç≥Êàë‰ª¨‰∏äÈù¢ÂÆö‰πâÁöÑStorageClass accessModes: - ReadWriteMany resources: requests: storage: 1MiÂàõÂª∫Ëøô‰∏™PVC:1kubectl create -f test-claim.ymlÁä∂ÊÄÅ‰∏∫BoundÔºåËØ¥ÊòéÂ∑≤ÁªèÊàêÂäüÁªëÂÆö‰∏ä‰∫ÜÂ≠òÂÇ®„ÄÇÊü•ÁúãPVÔºå‰ºöÁúãÂà∞Á≥ªÁªüËá™Âä®ÂàõÂª∫‰∫ÜPVÔºö Ëá™Âä®ÂàõÂª∫ÁöÑPVÂêçÁß∞‰∏∫pvc-3b8c5364-aadb-4b07-a3b5-fddad280fc98„ÄÇÊúÄÂêéÔºå‰øÆÊîπtest-pod.ymlÈÖçÁΩÆÔºö123456789101112131415161718192021kind: PodapiVersion: v1metadata: name: test-podspec: containers: - name: test-pod image: busybox # ‰øÆÊîπ‰∏∫Ëøô‰∏™ÔºåÂéüÂÖàÁöÑÈïúÂÉèÂú∞ÂùÄÈúÄË¶ÅÁßëÂ≠¶‰∏äÁΩë command: - "/bin/sh" args: - "-c" - "touch /mnt/SUCCESS &amp;&amp; exit 0 || exit 1" volumeMounts: - name: nfs-pvc mountPath: "/mnt" restartPolicy: "Never" volumes: - name: nfs-pvc persistentVolumeClaim: claimName: test-claim # ÊåáÂÆöPVCÂêçÁß∞ÔºåÂØπÂ∫î‰∏äÈù¢ÂàõÂª∫ÁöÑPVCËØ•Pod‰∏ªË¶ÅÂ∞±ÊòØÈÄöËøábusyboxÂú®/mntÁõÆÂΩï‰∏ãÂàõÂª∫‰∫Ü‰∏™SUCCESSÊñá‰ª∂„ÄÇÂàõÂª∫ËØ•PodÔºö1kubectl create -f test-pod.ymlÁä∂ÊÄÅ‰∏∫CompletedÔºåËØ¥ÊòébusyboxÊàêÂäüÊâßË°åÂÆå‰∫ÜÂëΩ‰ª§Âπ∂ÁªìÊùü‰∫Ü„ÄÇÂ¶ÇÊûú‰∏ÄÂàáÈ°∫Âà©ÁöÑËØùÔºåÂú®192.168.33.13ÁöÑ/nfsÁõÆÂΩï‰∏ã‰ºöÁúãÂà∞busybox podÂàõÂª∫ÁöÑSUCCESSÊñá‰ª∂:ÂèØ‰ª•ÁúãÂà∞/nfsÁõÆÂΩï‰∏ãÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™ÁõÆÂΩïÔºåÁõÆÂΩïÂêçÁß∞Ê†ºÂºè‰∏∫Ôºö[namespace]-[pvcÂêçÁß∞]-[pvÂêçÁß∞]„ÄÇÊàë‰ª¨ËøòÂèØ‰ª•Áé©‰∏Ä‰∏ãÂè¶‰∏Ä‰∏™ÊµãËØïÔºåÊñ∞Âª∫‰∏Ä‰∏™test-pod-rc.ymlÊñá‰ª∂Ôºö12345678910111213141516171819202122232425262728apiVersion: v1kind: ReplicationControllermetadata: name: busyboxspec: replicas: 2 # ÂâØÊú¨Êï∞‰∏∫2Ôºå‰∏∫‰∫ÜÊµãËØïÂÖ±‰∫´Â≠òÂÇ® selector: name: busybox template: metadata: labels: name: busybox spec: containers: - image: busybox command: - sh - -c - 'while true; do sleep $(($RANDOM % 5 + 5)); done' imagePullPolicy: IfNotPresent name: busybox volumeMounts: - name: nfs mountPath: "/mnt" volumes: - name: nfs persistentVolumeClaim: claimName: test-claim # ÊåáÂÆöPVCÂêçÁß∞ÔºåÂØπÂ∫î‰∏äÈù¢ÂàõÂª∫ÁöÑPVC‰∏äÈù¢busyboxÂÅöÁöÑ‰∫ãÊÉÖÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÊó†ÈôêÊúü‰ºëÁú†„ÄÇÂàõÂª∫ËØ•rcÔºöÂèØ‰ª•ÁúãÂà∞ÔºåpodÂàÜÂà´ÈÉ®ÁΩ≤Âà∞‰∫Ünode1Âíånode2‰∏ä„ÄÇÂà∞node1ËäÇÁÇπ‰∏äÔºåËøõÂÖ•busyboxÂÆπÂô®ÂÜÖÈÉ®ÁöÑ/mntÁõÆÂΩïÔºåÂú®ËØ•ÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™helloÊñá‰ª∂ÔºöÁÑ∂ÂêéÂà∞node2ËäÇÁÇπ‰∏äÔºåËøõÂÖ•busyboxÂÆπÂô®ÂÜÖÈÉ®/mntÁõÆÂΩïÔºåËßÇÂØüÂàöÂàöÂú®node1ËäÇÁÇπbusyboxÂÆπÂô®ÂÜÖÈÉ®ÂàõÂª∫ÁöÑhelloÊñá‰ª∂ÊòØÂê¶Â∑≤ÁªèÂêåÊ≠•ËøáÊù•‰∫ÜÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÊñá‰ª∂ÂêåÊ≠•ÊàêÂäü„ÄÇÂπ∂‰∏îÂâçÈù¢‰æãÂ≠êÂàõÂª∫SUCCESS‰πüÂêåÊ≠•ËøáÊù•‰∫ÜÔºåËøôÊòØÂõ†‰∏∫ÂÆÉ‰ª¨ÊåáÂÆö‰∫ÜÂêå‰∏Ä‰∏™PVC„ÄÇÂõûÂà∞NFSÊúçÂä°Âô®ÁöÑ/nfsÁõÆÂΩï‰∏ãÔºåÂèØ‰ª•ÁúãÂà∞ÂàöÂàöÂàõÂª∫ÁöÑhelloÊñá‰ª∂Ôºö]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes PV/PVC]]></title>
    <url>%2FKubernetes-PV-PVC.html</url>
    <content type="text"><![CDATA[Âú®Kubernetes‰∏≠ÔºåÊàë‰ª¨ËôΩÁÑ∂ÂèØ‰ª•‰ΩøÁî®volumeÂ∞ÜÂÆπÂô®ÂÜÖÁõÆÂΩïÊåÇËΩΩÂà∞ÂÆø‰∏ªÊú∫ÁõÆÂΩï‰∏äÔºå‰ΩÜÁî±‰∫éPodË∞ÉÂ∫¶ÁöÑ‰∏çÁ°ÆÂÆöÊÄßÔºåËøôÁßçÊï∞ÊçÆÂ≠òÂÇ®ÊñπÂºèÊòØ‰∏çÁâ¢Èù†ÁöÑ„ÄÇÂØπ‰∫éÊúâÁä∂ÊÄÅÁöÑÂ∫îÁî®ÔºåÊàë‰ª¨Â∏åÊúõÊó†ËÆ∫PodË¢´Ë∞ÉÂ∫¶Âà∞Âì™‰∏™ËäÇÁÇπ‰∏äÔºåÂÆÉ‰ª¨ÁöÑÊï∞ÊçÆÊÄªËÉΩÂ§üÂÆåÊï¥Âú∞ÊÅ¢Â§çÔºåËøôÊó∂ÂÄôÊàë‰ª¨Â∞±‰∏çËÉΩÁî®volumeÊåÇËΩΩ‰∫ÜÔºåËÄåÂ∫îËØ•‰ΩøÁî®‚ÄúÁΩëÁªúÂÖ±‰∫´Â≠òÂÇ®‚Äù„ÄÇPV/PVCÂ∞±ÊòØÁî®‰∫éËß£ÂÜ≥ÈóÆÈ¢òËÄåÂ≠òÂú®ÁöÑÔºåÂÆÉ‰ª¨Â±èËîΩ‰∫ÜÂ∫ïÂ±ÇÂ≠òÂÇ®ÂÆûÁé∞ÁöÑÁªÜËäÇÔºå‰ΩøÂæóÊàë‰ª¨ÂæàÂÆπÊòì‰∏äÊâã‰ΩøÁî®„ÄÇPVPersistentVolumeÔºàPVÔºâÊòØÂØπÂ∫ïÂ±ÇÁΩëÁªúÂÖ±‰∫´Â≠òÂÇ®ÁöÑÊäΩË±°ÔºåÂ∞ÜÂÖ±‰∫´Â≠òÂÇ®ÂÆö‰πâ‰∏∫‰∏ÄÁßç‚ÄúËµÑÊ∫ê‚ÄùÔºåKubernetesÊîØÊåÅÁöÑPVÁ±ªÂûãÂ¶Ç‰∏ãÔºöÁ±ªÂûãÊèèËø∞AWSElasticBlockStoreAWSÂÖ¨Êúâ‰∫ëÊèê‰æõÁöÑElasticBlockStoreAzureFileAzureÂÖ¨Êúâ‰∫ëÊèê‰æõÁöÑFileAzureDiskAzureÂÖ¨Êúâ‰∫ëÊèê‰æõÁöÑDiskCephFS‰∏ÄÁßçÂºÄÊ∫êÂÖ±‰∫´Â≠òÂÇ®Á≥ªÁªüFCÔºàFibre ChannelÔºâÂÖâÁ∫§Â≠òÂÇ®ËÆæÂ§áFlexVolume‰∏ÄÁßçÊèí‰ª∂ÂºèÁöÑÂ≠òÂÇ®Êú∫Âà∂Flocker‰∏ÄÁßçÂºÄÊ∫êÂÖ±‰∫´Â≠òÂÇ®Á≥ªÁªüGCEPersistentDiskGCEÂÖ¨Êúâ‰∫ëÊèê‰æõÁöÑPersistentDiskGlusterfs‰∏ÄÁßçÂºÄÊ∫êÂÖ±‰∫´Â≠òÂÇ®Á≥ªÁªüHostPathÂÆø‰∏ªÊú∫ÁõÆÂΩïÔºå‰ªÖÁî®‰∫éÂçïÊú∫ÊµãËØïiSCSIiSCSIÂ≠òÂÇ®ËÆæÂ§áLocalÊú¨Âú∞Â≠òÂÇ®ËÆæÂ§áÔºå‰ªéKubernetes 1.7ÁâàÊú¨ÂºïÂÖ•ÔºåÂà∞1.14ÁâàÊú¨Êó∂Êõ¥Êñ∞‰∏∫Á®≥ÂÆöÁâàÔºåÁõÆÂâçÂèØ‰ª•ÈÄöËøáÊåáÂÆöÂùóÔºàBlockÔºâËÆæÂ§áÊèê‰æõLocal PVÔºåÊàñÈÄöËøáÁ§æÂå∫ÂºÄÂèëÁöÑsig-storage-local-static-provisionerÊèí‰ª∂https://github.com/kubernetes-sigs/sigstorage-local-static-provisionerÊù•ÁÆ°ÁêÜLocal PVÁöÑÁîüÂëΩÂë®ÊúüNFSÁΩëÁªúÊñá‰ª∂Á≥ªÁªüPortworx VolumesPortworxÊèê‰æõÁöÑÂ≠òÂÇ®ÊúçÂä°Quobyte VolumesQuobyteÊèê‰æõÁöÑÂ≠òÂÇ®ÊúçÂä°RBDÔºàCeph Block DeviceÔºâCephÂùóÂ≠òÂÇ®ScaleIO VolumesDellEMCÁöÑÂ≠òÂÇ®ËÆæÂ§áStorageOSStorageOSÊèê‰æõÁöÑÂ≠òÂÇ®ÊúçÂä°VsphereVolumeVMWareÊèê‰æõÁöÑÂ≠òÂÇ®Á≥ªÁªü‰∏æ‰∏™PVÈÖçÁΩÆÊñá‰ª∂‰æãÂ≠êÔºö12345678910111213apiVersion: v1kind: PersistentVolumemetadata: name: nfsspec: capacity: storage: 1Gi # ÂÖ∑Êúâ1GiÂÜÖÂ≠ò accessModes: - ReadWriteMany # ÂÖ∑ÊúâËØªÂÜôÊùÉÈôêÔºåÂÖÅËÆ∏Ë¢´Â§ö‰∏™NodeÊåÇËΩΩ persistentVolumeReclaimPolicy: Retain # ÂõûÊî∂Á≠ñÁï•ÔºåËøôÈáå‰∏∫‰øùÁïô nfs: # pvÁ±ªÂûã‰∏∫NFSÁ±ªÂûã server: 192.168.33.13 path: "/nfs"PVÊîØÊåÅÁöÑaccessModesÊúâÔºöReadWriteOnceÔºàRWOÔºâÔºöËØªÂÜôÊùÉÈôêÔºåÂπ∂‰∏îÂè™ËÉΩË¢´Âçï‰∏™NodeÊåÇËΩΩ„ÄÇReadOnlyManyÔºàROXÔºâÔºöÂè™ËØªÊùÉÈôêÔºåÂÖÅËÆ∏Ë¢´Â§ö‰∏™NodeÊåÇËΩΩ„ÄÇReadWriteManyÔºàRWXÔºâÔºöËØªÂÜôÊùÉÈôêÔºåÂÖÅËÆ∏Ë¢´Â§ö‰∏™NodeÊåÇËΩΩ„ÄÇ‰∏çÂêåÁöÑÂ≠òÂÇ®Êèê‰æõËÄÖÊîØÊåÅÁöÑaccessModesÔºöVolume PluginReadWriteOnceReadOnlyManyReadWriteManyAWSElasticBlockStore‚úì--AzureFile‚úì‚úì‚úìAzureDisk‚úì--CephFS‚úì‚úì‚úìCinder‚úì--CSIdepends on the driverdepends on the driverdepends on the driverFC‚úì‚úì-FlexVolume‚úì‚úìdepends on the driverFlocker‚úì--GCEPersistentDisk‚úì‚úì-Glusterfs‚úì‚úì‚úìHostPath‚úì--iSCSI‚úì‚úì-Quobyte‚úì‚úì‚úìNFS‚úì‚úì‚úìRBD‚úì‚úì-VsphereVolume‚úì-- (works when Pods are collocated)PortworxVolume‚úì-‚úìScaleIO‚úì‚úì-StorageOS‚úì--PVÊîØÊåÅÁöÑpersistentVolumeReclaimPolicyÊúâÔºöRetainÔºå‰∏çÊ∏ÖÁêÜ, ‰øùÁïô VolumeÔºàÈúÄË¶ÅÊâãÂä®Ê∏ÖÁêÜÔºâRecycleÔºåÂà†Èô§Êï∞ÊçÆÔºåÔºàÂè™Êúâ NFS Âíå HostPath ÊîØÊåÅÔºâDeleteÔºåÂà†Èô§Â≠òÂÇ®ËµÑÊ∫êÔºåÊØîÂ¶ÇÂà†Èô§ AWS EBS Âç∑ÔºàÂè™Êúâ AWS EBS, GCE PD, Azure Disk Âíå Cinder ÊîØÊåÅÔºâPVÂ£∞ÊòéÂë®ÊúüÔºöAvailableÔºöÁ©∫Èó≤Áä∂ÊÄÅÔºõBoundÔºöÂ∑≤ÁªèÁªëÂÆöÂà∞Êüê‰∏™PVC‰∏äÔºõReleasedÔºöÂØπÂ∫îÁöÑPVCÂ∑≤ÁªèË¢´Âà†Èô§Ôºå‰ΩÜËµÑÊ∫êËøòÊ≤°ÊúâË¢´ÈõÜÁæ§Êî∂ÂõûÔºõFailedÔºöPVËá™Âä®ÂõûÊî∂Â§±Ë¥•„ÄÇPVCPersistentVolumeClaimÔºàPVCÔºâÔºåÂØπÂ≠òÂÇ®ËµÑÊ∫êÁöÑÈúÄÊ±ÇÁî≥ËØ∑Ôºå‰∏ªË¶ÅÂåÖÊã¨Â≠òÂÇ®Á©∫Èó¥ËØ∑Ê±Ç„ÄÅËÆøÈóÆÊ®°Âºè„ÄÅPVÈÄâÊã©Êù°‰ª∂ÂíåÂ≠òÂÇ®Á±ªÂà´Á≠â‰ø°ÊÅØÁöÑËÆæÁΩÆ„ÄÇÂè™ÊúâPVCÂíåPVÁõ∏ÂåπÈÖçÔºåÊâçËÉΩÁªëÂÆö‰∏ä„ÄÇÂÆö‰πâ‰∏Ä‰∏™PVCÈÖçÁΩÆÔºö12345678910kind: PersistentVolumeClaimapiVersion: v1metadata: name: nfsspec: accessModes: - ReadWriteMany resources: requests: storage: 1GiËØ•PVCÂ£∞Êòé‰∫ÜÈúÄË¶Å1GiÂ≠òÂÇ®Á©∫Èó¥ÔºåËÆøÈóÆÊ®°Âºè‰∏∫ReadWriteManyÔºåÂàöÂàöÂÆö‰πâÁöÑPVÁ¨¶ÂêàËøô‰∏™Ë¶ÅÊ±ÇÔºåÊâÄ‰ª•‰ºöË¢´ÁªëÂÆö‰∏ä„ÄÇÂÆûË∑µÂõ†‰∏∫NFSÁ±ªÂûãÂ≠òÂÇ®ÊºîÁ§∫Ëµ∑Êù•Êñπ‰æøÔºåÊâÄ‰ª•ËøôÈáåÈÄâÊã©‰ΩøÁî®NFS‰Ωú‰∏∫Â≠òÂÇ®Êèê‰æõËÄÖ„ÄÇÂú®KubeadmÂÆâË£ÖKubernetes1.16.2ÈõÜÁæ§‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨ÊõæÂú®‰ª•‰∏ãËôöÊãüÊú∫‰∏äÊê≠Âª∫‰∫ÜKubernetesÈõÜÁæ§:Êìç‰ΩúÁ≥ªÁªüIPËßíËâ≤CPUÊ†∏ÂøÉÊï∞ÂÜÖÂ≠òHostnamecentos7192.168.33.11master24096Mmastercentos7192.168.33.12worker24096Mnode1centos7192.168.33.13worker24096Mnode2‰∏∫‰∫ÜÊñπ‰æøÔºåËøôÈáåÂ∞±‰∏çÂÜçÂàõÂª∫Êñ∞ÁöÑËôöÊãüÊú∫ÂÆâË£ÖNFSÔºåÁõ¥Êé•Âú®192.168.33.13ËäÇÁÇπ‰∏äÂáÜÂ§áÂ•ΩNFSÁéØÂ¢É„ÄÇÂú®192.168.33.13ËäÇÁÇπ‰∏äÊâßË°å‰ª•‰∏ãbashÂëΩ‰ª§Ôºö12345678# ÂàõÂª∫ÁõÆÂΩïmkdir /nfs# ‰øÆÊîπÊùÉÈôêchmod 777 /nfs# ÂàõÂª∫exportsÊñá‰ª∂vim /etc/exportsexportsÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1/nfs *(rw,insecure,sync,no_subtree_check,no_root_squash)ËÆ©ÈÖçÁΩÆÁîüÊïàÔºö1exportfs -rÂêØÂä®NFSÔºö1234systemctl enable nfssystemctl enable rpcbindsystemctl restart nfssystemctl restart rpcbindÊé•ÁùÄÂú®masterËäÇÁÇπ‰∏äÔºåÂàõÂª∫test-pv-pvc.ymlÈÖçÁΩÆÊñá‰ª∂Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495apiVersion: v1kind: PersistentVolumemetadata: name: nfs-pvspec: capacity: storage: 1Gi accessModes: - ReadWriteMany nfs: server: 192.168.33.13 path: "/nfs"---apiVersion: v1kind: PersistentVolumeClaimmetadata: name: nfs-pvcspec: accessModes: - ReadWriteMany resources: requests: storage: 1Gi---apiVersion: v1kind: ReplicationControllermetadata: name: busyboxspec: replicas: 1 selector: name: busybox template: metadata: labels: name: busybox spec: containers: - image: busybox command: - sh - -c - 'while true; do echo hello world &gt; /mnt/index.html; sleep $(($RANDOM % 5 + 5)); done' imagePullPolicy: IfNotPresent name: busybox volumeMounts: - name: nfs mountPath: "/mnt" volumes: - name: nfs persistentVolumeClaim: claimName: nfs-pvc---apiVersion: v1kind: ReplicationControllermetadata: name: nginxspec: replicas: 1 selector: name: nginx template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx ports: - name: web containerPort: 80 volumeMounts: - name: nfs mountPath: "/usr/share/nginx/html" volumes: - name: nfs persistentVolumeClaim: claimName: nfs-pvc---kind: ServiceapiVersion: v1metadata: name: nginx-servicespec: ports: - port: 80 nodePort: 30000 type: NodePort selector: name: nginx‰∏äÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂ÊïàÊûúÂèØ‰ª•Áî®‰∏ãÈù¢ËøôÂº†ÂõæË°®Á§∫Ôºö‰∏ªË¶ÅËøáÁ®ãÂ∞±ÊòØbusyboxÈÄöËøánfs-pvcÁªëÂÆö‰∫Ünfs-pvÔºåÁÑ∂ÂêéÂÆöÊó∂Â∞Ühello worldÂÜôÂà∞ÂÆπÂô®ÂÜÖÈÉ®/mnt/index.htmlÊñá‰ª∂‰∏≠ÔºåËÄåÂÆπÂô®ÂÜÖÈÉ®/mntÂíåPVÁöÑ/nfsÁõÆÂΩïÊåÇËΩΩÔºõnginx‰πüÈÄöËøánfs-pvcÁªëÂÆö‰∫Ünfs-pvÔºåÂ∞Ü/nfsÁõÆÂΩïÂíåÂÆπÂô®ÂÜÖÈÉ®/usr/share/nginx/htmlÁõÆÂΩïÊåÇËΩΩÔºõÊàë‰ª¨ÂêéÁª≠ÂèØ‰ª•ÈÄöËøáËÆøÈóÆÊµèËßàÂô®http://192.168.33.11:30000/Âú∞ÂùÄÊü•ÁúãÊïàÊûú„ÄÇÂàõÂª∫ËØ•ÈÖçÁΩÆÊñá‰ª∂:Êü•Áúã192.168.33.13ËôöÊãüÊú∫/nfsÁõÆÂΩï‰∏ãÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®index.htmlÊñá‰ª∂ÔºåÂπ∂Êü•ÁúãÂÜÖÂÆπÔºöÊµèËßàÂô®ËÆøÈóÆhttp://192.168.33.11:30000/ÔºöËØ¥ÊòéÊï¥‰∏™ÊµÅÁ®ãÊ≤°ÈóÆÈ¢ò„ÄÇ]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CI/CDÂÆûË∑µÁ¨îËÆ∞]]></title>
    <url>%2FCI-CD-Practice-Note.html</url>
    <content type="text"><![CDATA[CICDÔºàContinuous Integration/Continuous DeploymentÔºâÔºåÊåÅÁª≠ÈõÜÊàêÊåÅÁª≠ÈÉ®ÁΩ≤ÁöÑÊÑèÊÄù„ÄÇÂÆåÊàêCICDÂÆûË∑µÈúÄË¶ÅKubernetesÈõÜÁæ§ÔºåHarborÔºåGitLabÂíåJenkinsÁ≠âËΩØ‰ª∂ÈÖçÂêàÂÆåÊàêÔºåÂú®ÂâçÈù¢Âá†ÁØáÂçöÂÆ¢‰∏≠ÔºåÊàëÂ∑≤ÁªèÊê≠Âª∫Â•Ω‰∫ÜKubernetesÈõÜÁæ§ÔºåÂπ∂‰∏îÂú®masterËäÇÁÇπÔºà192.168.33.11,CentOSÔºâ‰∏äÂÆâË£ÖÂ•Ω‰∫ÜHarbor„ÄÅGitLabÂíåJenkinsÔºåÊúâÈúÄË¶ÅÂèØ‰ª•ÂèÇËÄÉ‰∏ã„ÄÇÂÆûË∑µÂáÜÂ§áCICDÊµÅÁ®ãÂõæCICDÁöÑÂ§ßËá¥ÊµÅÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂºÄÂèëËÄÖÂ∞ÜÊúÄÊñ∞‰ª£Á†ÅÊèê‰∫§Âà∞GitLab‰ªìÂ∫ìÔºõGitLab WebHookËß¶ÂèëJenkinsÊûÑÂª∫ÊµÅÊ∞¥Á∫øÔºö2.1 ÊãâÂèñÊúÄÊñ∞‰ª£Á†ÅÔºõ2.2 MavenÊâìÂåÖÔºåÊâìÂåÖËøáÁ®ã‰∏≠‰ºöÂÖàËøõË°åÂçïÂÖÉÊµãËØïÔºõ2.3 ÂçïÂÖÉÊµãËØïÈÄöËøáÔºåÊûÑÂª∫DockerÈïúÂÉèÔºõ2.4 Â∞ÜÊúÄÊñ∞ÈïúÂÉèÊé®ÈÄÅÂà∞HarborÔºõ2.5 Êõ¥Êñ∞KubernetesÁõ∏ÂÖ≥ÈÖçÁΩÆÈïúÂÉèÁâàÊú¨„ÄÇKubernetesÊÑüÁü•Âà∞ÈïúÂÉèÊõ¥Êñ∞Ôºå‰ªéHarborÊãâÂèñÊúÄÊñ∞ÈïúÂÉèÔºåÊªöÂä®ÂçáÁ∫ßÔºõÂºÄÂèëËÄÖÁúãÂà∞ÊúÄÊñ∞ÁöÑ‰ª£Á†ÅÊïàÊûú„ÄÇÈ°πÁõÆÂáÜÂ§áËøôÈáåÊàë‰ª¨Âú®Windows‰∏ä‰ΩøÁî®IDEA„ÄÅSpring BootÊûÑÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑJava WebÈ°πÁõÆÔºåÈ°πÁõÆÂêç‰∏∫demoÔºåÈ°πÁõÆpomÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.1.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;Âú®BootÂÖ•Âè£Á±ª‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÁÆÄÂçïÁöÑControllerÊñπÊ≥ïÔºö12345678910111213@RestController@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125; @GetMapping("hello") public String index() &#123; return "hello world"; &#125;&#125;‰∏äÈù¢ÊñπÊ≥ïÊèê‰æõ‰∫Ü‰∏Ä‰∏™/helloÊé•Âè£ÔºåÁÆÄÂçïËøîÂõûhello world‰ø°ÊÅØ„ÄÇÊé•ÁùÄÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂçïÂÖÉÊµãËØïÔºö‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011121314@RunWith(SpringRunner.class)@SpringBootTest@AutoConfigureMockMvcclass DemoApplicationTests &#123; @Autowired private MockMvc mockMvc; @Test void testIndex() throws Exception &#123; mockMvc.perform(MockMvcRequestBuilders.get("/hello")) .andExpect(MockMvcResultMatchers.content().string("hello world")); &#125;&#125;ÊúÄÂêéÂú®È°πÁõÆÁöÑÊ†πÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏Ä‰∏™DockerfileÔºö12345FROM openjdk:8u212-jreMAINTAINER MrBird 852252810@qq.comCOPY target/demo-0.0.1-SNAPSHOT.jar /demo-0.0.1-SNAPSHOT.jarENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/demo-0.0.1-SNAPSHOT.jar&quot;]Ëá≥Ê≠§ÁÆÄÂçïÁöÑJava WebÈ°πÁõÆÂ∞±ÂáÜÂ§áÂ•Ω‰∫Ü„ÄÇGitLabÂáÜÂ§áÊ≥®ÂÜå‰∏Ä‰∏™Êñ∞ÁöÑGitLabË¥¶Âè∑ÔºåÊØîÂ¶ÇmrbirdÔºåÁÑ∂ÂêéÂú®GitLabÊñ∞Âª∫‰∏Ä‰∏™È°πÁõÆÔºåÂêçÁß∞‰∏∫DemoÔºöÂõ†‰∏∫Êàë‰ª¨ÂêéÁª≠ÈúÄË¶ÅÂú®Windows‰∏ãÂ∞ÜÈ°πÁõÆÊèê‰∫§Âà∞GitLabÔºåÂπ∂Âú®192.168.33.11‰∏äÊãâÂèñËØ•È°πÁõÆÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂú®WindowsÂíå192.168.33.11ÊúçÂä°Âô®‰∏äÁîüÊàêSSH KeyÔºåÂπ∂Ê∑ªÂä†Âà∞GitLab‰∏≠„ÄÇÂú®WindowsÂèä192.168.33.11ËôöÊãüÊú∫ÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÁîüÊàêSSH KeyÔºö123ssh-keygen -t rsa -C "852252810@qq.com"cat ~/.ssh/id_rsa.pubÂ∞ÜSSH KeyÊ∑ªÂä†Âà∞GitLabÔºöËøôÊ†∑Êàë‰ª¨ÂêéÁª≠ÁöÑpushÂíåpullÊìç‰ΩúÂ∞±‰∏çÈúÄË¶ÅËæìÂÖ•Áî®Êà∑Âêç‰∫Ü„ÄÇÊé•ÁùÄÊàë‰ª¨Â∞Ü‰∏äÈù¢ÂàõÂª∫ÁöÑDemoÈ°πÁõÆÊé®ÈÄÅÂà∞GitLab‰∏≠ÔºàÂú®IDEAÁöÑTerminalÁ™óÂè£‰∏≠Êìç‰ΩúÔºå‰∏™‰∫∫‰π†ÊÉØÁî®ÂëΩ‰ª§Ë°åÔºâÔºö123456789101112131415# ÈÖçÁΩÆGitgit config --global user.name &quot;mrbird&quot;git config --global user.email &quot;852252810@qq.com&quot;# ÂàùÂßãÂåñGit‰ªìÂ∫ìgit init# commitgit commit -am init# Ê∑ªÂä†ËøúÁ®ã‰ªìÂ∫ìgit remote add origin ssh://git@gitlab.mrbird.cc:2223/mrbird/demo.git# Êé®ÈÄÅÂà∞ËøúÁ®ã‰ªìÂ∫ìgit push origin masterÊé®ÈÄÅÊàêÂäüÂêéÔºåÂõûÂà∞GitLabÈ°µÈù¢ÂèØ‰ª•ÁúãÂà∞È°πÁõÆÂ∑≤ÁªèÊé®ÈÄÅOK‰∫ÜÔºöKubernetesÈÉ®ÁΩ≤SpringBootÈ°πÁõÆÂú®192.168.33.11ÊúçÂä°Âô®‰∏äÂ∞ÜÂàöÂàöÁöÑÈ°πÁõÆ‰ªéGitLab‰∏≠ÂÖãÈöÜ‰∏ãÊù•:1git clone ssh://git@gitlab.mrbird.cc:2223/mrbird/demo.gitÂõ†‰∏∫ÊâìÂåÖÈúÄË¶ÅMavenÁéØÂ¢ÉÔºåÊâÄ‰ª•Êé•ÁùÄÈÖçÁΩÆMavenÔºö12345678# ‰∏ãËΩΩMavenÂÆâË£ÖÂåÖwget http://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.2/binaries/apache-maven-3.6.2-bin.tar.gz# Ëß£Âéãtar -xzvf apache-maven-3.6.2-bin.tar.gz# ‰øÆÊîπÁéØÂ¢ÉÂèòÈáèvim /etc/profileÊ∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÔºö12M2_HOME=/home/vagrant/apache-maven-3.6.2export PATH=$PATH:$JAVA_HOME/bin:$M2_HOME/binËÆ©‰øÆÊîπÁîüÊïàÔºö1source /etc/profileÈ™åËØÅ‰∏ãÊòØÂê¶ÂÆâË£ÖÊàêÂäüÔºöÁéØÂ¢ÉÂáÜÂ§áÂ•ΩÂêéÔºåÂ∞ÜÁõÆÂΩïÂàáÊç¢Âà∞ÂàöÂàögit cloneÁöÑdemoÁõÆÂΩï‰∏ãÔºåÊâßË°åmvn clean packageÂëΩ‰ª§ÔºåÂÆåÊàêÂêéÂèØ‰ª•ÁúãÂà∞fat jarÔºöÊé•ÁùÄÊâßË°ådocker build -t docker.mrbird.cc/febs/demo .ÂëΩ‰ª§ÊûÑÂª∫dockerÈïúÂÉèÔºöÊûÑÂª∫ÊàêÂäüÂêéÊâßË°ådocker push docker.mrbird.cc/febs/demoÂëΩ‰ª§Êé®ÈÄÅÂà∞HarborÔºöËÆøÈóÆHarborÁÆ°ÁêÜÈ°µÈù¢ÔºåÂèØ‰ª•ÁúãÂà∞ÈïúÂÉèÂ∑≤ÁªèÊé®ÈÄÅ‰∏äÊù•‰∫ÜÔºöÊé•ÁùÄÁºñÂÜô‰∏™ÁÆÄÂçïÁöÑKubernetesÈÖçÁΩÆÊñá‰ª∂Ôºàdemo.ymlÔºâÔºö123456789101112131415161718192021222324252627282930313233343536373839apiVersion: v1kind: Servicemetadata: name: demo-servicespec: type: NodePort ports: - port: 8080 targetPort: 8080 nodePort: 30000 selector: name: demo-app---apiVersion: apps/v1kind: Deploymentmetadata: name: demo-deploymentspec: selector: matchLabels: name: demo-app replicas: 2 template: metadata: labels: name: demo-app spec: containers: - name: demo image: docker.mrbird.cc/febs/demo ports: - containerPort: 8080 resources: limits: cpu: 500m memory: 500Mi requests: cpu: 200m memory: 200MiËøêË°åËØ•ÈÖçÁΩÆ:‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttp://192.168.33.11:30000/hello:Ëá≥Ê≠§Spring BootÈ°πÁõÆÂ∑≤ÁªèÊàêÂäüËøêË°åÂú®KubernetesÈõÜÁæ§‰∏≠‰∫ÜÔºåÊé•‰∏ãÊù•ÂºÄÂßãÊºîÁ§∫Â¶Ç‰ΩïËøõË°åCICD„ÄÇCICDÂÆûË∑µÂ∞±Â¶Ç‰∏äÈù¢CICDÊµÅÁ®ãÂõæÊâÄÁ§∫ÔºåÁ¨¨‰∏ÄÊ≠•Â∞ÜÊú¨Âú∞ÂºÄÂèë‰ª£Á†ÅpushÂà∞GitLabÂ∑≤ÁªèÂÆûÁé∞‰∫ÜÔºåÊé•‰∏ãÊù•ÂºÄÂßãÈÖçÁΩÆGitLab WebHook„ÄÇGitLab WebHookÂú®Jenkins‰∏≠ÂàõÂª∫ÊµÅÊ∞¥Á∫øÂâçÔºåÂÖà‰øÆÊîπ‰∏§Â§ÑJenkinsÈÖçÁΩÆ„ÄÇÁÇπÂáªJenkinsÁÆ°ÁêÜÈ°µÈù¢ÁöÑÁ≥ªÁªüÁÆ°ÁêÜËèúÂçï -&gt; ÂÖ®Â±ÄÂÆâÂÖ®ÈÖçÁΩÆÔºöÂÖ≥Èó≠CSRF‰øùÊä§ÂíåÂºÄÂêØÂåøÂêçÁî®Êà∑ÂÖ∑ÊúâÂèØËØªÊùÉÈôê„ÄÇÁÑ∂ÂêéÁÇπÂáªÊñ∞Âª∫‰ªªÂä°ËèúÂçïÔºåÊñ∞Â¢û‰∏Ä‰∏™ÂêçÁß∞‰∏∫demoÁöÑÊµÅÊ∞¥Á∫øÔºåÂãæÈÄâËß¶ÂèëËøúÁ®ãÊûÑÂª∫Ôºö‰ª§ÁâåËÆæÁΩÆ‰∏∫666666ÔºåËß¶ÂèëÂú∞ÂùÄ‰∏∫JENKINS_URL/job/demo/build?token=TOKEN_NAMEÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜËøô‰∏™Âú∞ÂùÄÈÖçÁΩÆ‰∏∫GitLabÁöÑWebHook‰∏≠„ÄÇÊâìÂºÄGitLabÁöÑDemoÈ°πÁõÆÈ°µÈù¢ÔºåÁÇπÂáªÂ∑¶‰æßÁöÑËÆæÁΩÆËèúÂçïÔºöÈÄâÊã©integrationsÔºöÂÖ∂‰∏≠http://192.168.33.11:8081‰∏∫ÊàëÁöÑJenkinsÂú∞ÂùÄÔºåÂØπÂ∫îJENKINS_URLÔºõ666666ÊòØÊàë‰ª¨ËÆæÁΩÆÁöÑ‰ª§ÁâåÔºåÂØπÂ∫îTOKEN_NAME„ÄÇËß¶Âèë‰∫ã‰ª∂ÈÄâÊã©push eventÂ∞±Ë°å„ÄÇ‰øùÂ≠òWebHookÁöÑÊó∂ÂÄôÂ¶ÇÊûúÊèêÁ§∫Url is blocked: Requests to the local network are not allowedÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî®admin@example.comË¥¶Âè∑ÁôªÂΩïGitLabÔºàÂØÜÁ†ÅÂ∞±ÊòØ‰Ω†Á¨¨‰∏ÄÊ¨°ÁôªÂΩï‰øÆÊîπÁöÑÂØÜÁ†ÅÔºâÔºåÁÑ∂ÂêéÁÇπÂáªAdmin Area-&gt;Settings-&gt;NetworkÔºöÂãæÈÄâAllow requests to the local network from web hooks and servicesÂç≥ÂèØ„ÄÇ‰øùÂ≠òÂêéÔºåÈáçÊñ∞‰ΩøÁî®mrbirdË¥¶Âè∑ÁôªÂΩïÈáçÊñ∞ÈÖçÁΩÆWebHookÂç≥ÂèØ„ÄÇÈÖçÁΩÆÂ•ΩÂêéÔºåÊµãËØï‰∏Ä‰∏ãÔºöÈ°µÈù¢ÂºπÂá∫Â¶Ç‰∏ãÊèêÁ§∫ËØ¥ÊòéÈÖçÁΩÆüÜóÔºö‰ª£Á†ÅÊãâÂèñMavenÊâìÂåÖÂâçÈúÄË¶ÅÂÖàÁî®gitÂëΩ‰ª§Â∞Ü‰ª£Á†ÅÊãâÂèñ‰∏ãÊù•„ÄÇÁºñËæëÂàöÂàöÂàõÂª∫ÁöÑÊµÅÊ∞¥Á∫øÔºåÂú®Pipeline script‰∏≠Ê∑ªÂä†Â¶Ç‰∏ã‰ª£Á†ÅÔºö12345678910111213141516#!groovypipeline &#123; agent any environment &#123; REPOSITORY="ssh://git@gitlab.mrbird.cc:2223/mrbird/demo.git" &#125; stages &#123; stage('ÊãâÂèñ‰ª£Á†Å') &#123; steps &#123; echo "‰ªéGitLabÂú∞ÂùÄ$&#123;REPOSITORY&#125;ÊãâÂèñ‰ª£Á†Å" deleteDir() git "$&#123;REPOSITORY&#125;" &#125; &#125; &#125;&#125;Pipeline scriptÁöÑÂü∫Êú¨Ê®°Êùø‰∏∫Ôºö123456789101112131415#!groovypipeline &#123; agent any environment &#123; // ÂÆö‰πâÂÖ®Â±ÄÂèòÈáè &#125; stages &#123; // ÂèØ‰ª•ÂÆö‰πâÂ§ö‰∏™Èò∂ÊÆµ stage('Èò∂ÊÆµÂêçÁß∞') &#123; steps &#123; // ÂÖ∑‰ΩìÊ≠•È™§ &#125; &#125; &#125;&#125;ÂõûÂà∞‰∏äÈù¢ÁöÑPipeline script‰ª£Á†ÅÔºåÊàë‰ª¨‰∏ªË¶ÅÂÅö‰∫Ü‰∏ãÈù¢Âá†‰ª∂‰∫ãÔºöÂú®environment‰∏≠ÂÆö‰πâGitLabÈ°πÁõÆ‰ªìÂ∫ìÂú∞ÂùÄÂèòÈáèÔºåÊñπ‰æø‰∏ãÈù¢Áõ¥Êé•ÂºïÁî®ÔºõÈÄöËøáechoÂëΩ‰ª§ËæìÂá∫ÔºåÊñπ‰æøÂêéÁª≠‰ªéÊó•Âøó‰∏≠ËßÇÂØüË∑üË∏™ÔºõÈÄöËøádeleteDir()Ê∏ÖÁ©∫Â∑•‰ΩúÂå∫ÔºõÈÄöËøágit &quot;${REPOSITORY}&quot;‰ªéÊåáÂÆöGit‰ªìÂ∫ìÊãâÂèñ‰ª£Á†Å„ÄÇÂÖ∂‰∏≠Ôºå‰ΩøÁî®environment‰∏≠ÁöÑÂèòÈáèÊó∂ÂÄôÔºå‰∏ÄÂÆöË¶ÅÁî®&quot;${xx}&quot;ÁöÑÊñπÂºèÂºïÁî®ÔºõÁ¨¨3Á¨¨4Ê≠•ÁöÑÂëΩ‰ª§ÂèØ‰ª•ÈÄöËøáÊµÅÊ∞¥Á∫øËØ≠Ê≥ïÊù•ÁîüÊàêÔºåÊØîÂ¶ÇÁîüÊàêÊ∏ÖÁ©∫ÂΩìÂâçÁõÆÂΩïÁöÑÂëΩ‰ª§ÔºöÁîüÊàêÈÄöËøáGitÊãâÂèñ‰ª£Á†ÅÁöÑÂëΩ‰ª§Ôºö‰øÆÊîπÂ•ΩÊµÅÊ∞¥Á∫øÂêéÔºåÁÇπÂáªÁ´ãÂç≥ÊûÑÂª∫ÔºåÁúãÁúãÊàë‰ª¨ÁöÑÈÖçÁΩÆÊòØÂê¶üÜóÔºö‰ªéÊó•ÂøóÊù•ÁúãÔºå‰ª£Á†ÅÊãâÂèñÊòØÊàêÂäüÁöÑ„ÄÇMavenÊâìÂåÖÂíåÂçïÂÖÉÊµãËØïJenkins ÈÄöËøáshellËÑöÊú¨Ë∞ÉÁî®mvn ÂëΩ‰ª§ÁöÑÊó∂ÂÄôÔºåÊòØ‰ªé/usr/bin Êñá‰ª∂Â§π‰∏≠ÊâæÂëΩ‰ª§ÁöÑÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂÅö‰∏™ËΩØÈìæÊé•Ôºö1ln -s /home/vagrant/apache-maven-3.6.2/bin/mvn /usr/bin/mvnÊõ¥Êñ∞ÊµÅÊ∞¥Á∫øÁöÑPipeline scriptÔºåÊ∑ªÂä†mavenÊâìÂåÖÈò∂ÊÆµÂëΩ‰ª§Ôºö12345678910111213141516171819202122#!groovypipeline &#123; agent any environment &#123; REPOSITORY="ssh://git@gitlab.mrbird.cc:2223/mrbird/demo.git" &#125; stages &#123; stage('ÊãâÂèñ‰ª£Á†Å') &#123; steps &#123; echo "‰ªéGitLabÂú∞ÂùÄ$&#123;REPOSITORY&#125;ÊãâÂèñ‰ª£Á†Å" deleteDir() git "$&#123;REPOSITORY&#125;" &#125; &#125; stage('‰ª£Á†ÅÁºñËØëÂèäÂçïÂÖÉÊµãËØï') &#123; steps &#123; echo "ÂºÄÂßãÁºñËØë‰ª£Á†ÅÂíåÂçïÂÖÉÊµãËØï" sh "mvn -U -am clean package" &#125; &#125; &#125;&#125;mavenÊâìÂåÖÂâç‰ºöËá™Âä®ËøêË°åÊàë‰ª¨Âú®È°πÁõÆÈáåÂÜôÂ•ΩÁöÑÂçïÂÖÉÊµãËØïÔºå‰øÆÊîπÂêéÔºåÁÇπÂáªÁ´ãÂç≥ÊûÑÂª∫ÔºåÊü•ÁúãÊó•ÂøóÔºàÊà™ÂèñÂÖ≥ÈîÆÈÉ®ÂàÜÔºâÔºöÂèØ‰ª•ÁúãÂà∞ÂçïÂÖÉÊµãËØïÂèäÊâìÂåÖÊàêÂäü„ÄÇÊûÑÂª∫ÈïúÂÉèÂèäÊé®ÈÄÅÈïúÂÉèÊûÑÂª∫ÂíåÊé®ÈÄÅÊ∂âÂèäÂëΩ‰ª§ËæÉÂ§öÔºåÊâÄ‰ª•ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ËÑöÊú¨Ôºö1vim build_push.shËÑöÊú¨ÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112#!/bin/bashMODULE=$1TIME=`date &quot;+%Y%m%d%H%M&quot;`GIT_REVISION=`git log -1 --pretty=format:&quot;%h&quot;`IMAGE_NAME=docker.mrbird.cc/febs/$&#123;MODULE&#125;:$&#123;TIME&#125;_$&#123;GIT_REVISION&#125;docker build -t $&#123;IMAGE_NAME&#125; .docker push $&#123;IMAGE_NAME&#125;echo &quot;$&#123;IMAGE_NAME&#125;&quot; &gt; image_name‰∏äÈù¢ËÑöÊú¨ÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂèòÈáèÔºöMODULEÔºåÊ®°ÂùóÂêçÁß∞ÔºåÁî±ËÑöÊú¨ÊâßË°åÁöÑÊó∂ÂÄô‰º†ÂÖ•ÔºõTIMEÔºåÊó∂Èó¥Â≠óÁ¨¶‰∏≤ÔºõGIT_REVISIONÔºågit Êèê‰∫§ÂéÜÂè≤ÂìàÂ∏åÁ†ÅÁöÑÂâç7‰ΩçÔºõIMAGE_NAMEÔºåÈïúÂÉèÂêçÁß∞„ÄÇËÑöÊú¨ÂÅöÁöÑ‰∫ãÊÉÖÂæàÁÆÄÂçïÔºåÊ†πÊçÆÂΩìÂâçÁõÆÂΩïÁöÑDockerfileÊûÑÂª∫DockerÈïúÂÉèÔºåÁÑ∂ÂêéÂ∞ÜÈïúÂÉèÊé®ÈÄÅÂà∞Harbor‰ªìÂ∫ìÔºåÊé®ÈÄÅÂêéÔºåÂ∞ÜÈïúÂÉèÂêçÁß∞ÂÜôÂà∞ÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑimage_nameÊñá‰ª∂‰∏≠Ôºà‰æõÂêéÁª≠‰ΩøÁî®Ôºâ„ÄÇÁªôËÑöÊú¨Ê∑ªÂä†ÂèØÊâßË°åÊùÉÈôêÔºö1chmod +x build_push.sh‰øÆÊîπPipeline scriptÔºåÊñ∞Â¢ûÊûÑÂª∫ÈïúÂÉèÂèäÊé®ÈÄÅÈò∂ÊÆµÂëΩ‰ª§Ôºö1234567891011121314151617181920212223242526272829#!groovypipeline &#123; agent any environment &#123; REPOSITORY=&quot;ssh://git@gitlab.mrbird.cc:2223/mrbird/demo.git&quot; SCRIPT_PATH=&quot;/home/vagrant/bash&quot; &#125; stages &#123; stage(&apos;ÊãâÂèñ‰ª£Á†Å&apos;) &#123; steps &#123; echo &quot;‰ªéGitLabÂú∞ÂùÄ$&#123;REPOSITORY&#125;ÊãâÂèñ‰ª£Á†Å&quot; deleteDir() git &quot;$&#123;REPOSITORY&#125;&quot; &#125; &#125; stage(&apos;‰ª£Á†ÅÁºñËØëÂèäÂçïÂÖÉÊµãËØï&apos;) &#123; steps &#123; echo &quot;ÂºÄÂßãÁºñËØë‰ª£Á†ÅÂíåÂçïÂÖÉÊµãËØï&quot; sh &quot;mvn -U -am clean package&quot; &#125; &#125; stage(&apos;DockerÈïúÂÉèÊûÑÂª∫ÂèäÊé®ÈÄÅ&apos;) &#123; steps &#123; echo &quot;ÂºÄÂßãÊûÑÂª∫DockerÈïúÂÉèÂπ∂Êé®ÈÄÅÂà∞Harbor&quot; sh &quot;$&#123;SCRIPT_PATH&#125;/build_push.sh demo&quot; &#125; &#125; &#125;&#125;ÂÖ∂‰∏≠SCRIPT_PATHÊòØ‰∏äÈù¢ÂÆö‰πâÁöÑËÑöÊú¨ÁöÑË∑ØÂæÑ„ÄÇ‰øÆÊîπÂ•ΩPipeline scriptÔºåÈáçÊñ∞ÁÇπÂáªÁ´ãÂç≥ÊûÑÂª∫ÔºåÊà™ÂèñÂíåËøôÈÉ®ÂàÜÁõ∏ÂÖ≥ÁöÑÊó•ÂøóÔºöÊü•ÁúãÈïúÂÉèÂàóË°®ÔºöKubernetes DeploymentÂçáÁ∫ßÂú®/home/vagrant/bashÁõÆÂΩï‰∏ãÊñ∞Âª∫deploy.shËÑöÊú¨Ôºö12345#!/bin/bashIMAGE=`cat image_name`kubectl set image deployment/demo-deployment demo=$&#123;IMAGE&#125;ËÑöÊú¨ÂÜÖÂÆπÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÈÄöËøákubectlÂëΩ‰ª§ÂçáÁ∫ßÁõ∏ÂÖ≥PodÁöÑÈïúÂÉèÔºåÈïúÂÉèÂêçÁß∞‰ªéimage_nameÊñá‰ª∂‰∏≠ËØªÂèñ„ÄÇ‰øÆÊîπPipeline scriptÔºåÊ∑ªÂä†Kubernetes DeploymentÂçáÁ∫ßÈò∂ÊÆµÂëΩ‰ª§Ôºö1234567891011121314151617181920212223242526272829303132333435#!groovypipeline &#123; agent any environment &#123; REPOSITORY="ssh://git@gitlab.mrbird.cc:2223/mrbird/demo.git" SCRIPT_PATH="/home/vagrant/bash" &#125; stages &#123; stage('ÊãâÂèñ‰ª£Á†Å') &#123; steps &#123; echo "‰ªéGitLabÂú∞ÂùÄ$&#123;REPOSITORY&#125;ÊãâÂèñ‰ª£Á†Å" deleteDir() git "$&#123;REPOSITORY&#125;" &#125; &#125; stage('‰ª£Á†ÅÁºñËØëÂèäÂçïÂÖÉÊµãËØï') &#123; steps &#123; echo "ÂºÄÂßãÁºñËØë‰ª£Á†ÅÂíåÂçïÂÖÉÊµãËØï" sh "mvn -U -am clean package" &#125; &#125; stage('DockerÈïúÂÉèÊûÑÂª∫ÂèäÊé®ÈÄÅ') &#123; steps &#123; echo "ÂºÄÂßãÊûÑÂª∫DockerÈïúÂÉèÂπ∂Êé®ÈÄÅÂà∞Harbor" sh "$&#123;SCRIPT_PATH&#125;/build_push.sh demo" &#125; &#125; stage('Êõ¥Êñ∞Kubernetes Deployment') &#123; steps &#123; echo "ÂºÄÂßãÊõ¥Êñ∞Kubernetes Deployment" sh "$&#123;SCRIPT_PATH&#125;/deploy.sh" &#125; &#125; &#125;&#125;‰øÆÊîπÂêéÔºåÁÇπÂáªÁ´ãÂç≥ÊûÑÂª∫ÔºöËá≥Ê≠§Êàë‰ª¨Êï¥Êù°CICDÊµÅÁ®ãÂ∞±Â∑≤ÁªèÈÉΩÈÄö‰∫ÜÔºå‰∏ãÈù¢ÊµãËØï‰∏ãCICD„ÄÇÊïàÊûúÊµãËØïÂ¶Ç‰∏äÈù¢ÊâÄÁ§∫ÔºåÊàë‰ª¨ËÆøÈóÆhttp://192.168.33.11:30000/helloÔºåÈ°µÈù¢ËøîÂõûhello worldÔºåÊàë‰ª¨Âú®IDEA‰∏≠‰øÆÊîπControllerÊñπÊ≥ïÔºöÂêåÊó∂‰øÆÊîπÂçïÂÖÉÊµãËØïÊñπÊ≥ïÔºö‰øÆÊîπÂêéÂú®IDEAÁöÑÂëΩ‰ª§Á™óÂè£ËæìÂÖ•Ôºö123git commit -am updategit push origin masterÂ∞ÜÊúÄÊñ∞ÁöÑ‰ª£Á†ÅÊèê‰∫§Âà∞GitLabÂêéÔºåËøá‰∏ÄÂ∞è‰ºöÂà∑Êñ∞http://192.168.33.11:30000/helloÔºåÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨‰øÆÊîπÁöÑÂÜÖÂÆπÂ∑≤ÁªèÁîüÊïà‰∫ÜÔºö]]></content>
      <tags>
        <tag>GitLab</tag>
        <tag>CI/CD</tag>
        <tag>DevOps</tag>
        <tag>Harbor</tag>
        <tag>Kubernetes</tag>
        <tag>Jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitLab & JenkinsÂÆâË£ÖÂ∞èËÆ∞]]></title>
    <url>%2FGitLab-Jenkins-Install-Note.html</url>
    <content type="text"><![CDATA[Âú®CentOS‰∏ãÂÆâË£ÖGitLabÂíåJenkins„ÄÇÂÆâË£ÖGitLab‰º†ÁªüÊñπÂºèÂÆâË£ÖGitLabÊØîËæÉÈ∫ªÁÉ¶ÔºåÊâÄ‰ª•ËøôÈáåÊàë‰ª¨‰ΩøÁî®DockerÂÆâË£ÖGitLabÔºåÊãâÂèñÂÆòÊñπÈïúÂÉèÔºö1docker pull gitlab/gitlab-ce:latestÈïúÂÉèÊúâÁÇπÂ§ßÔºåËÄêÂøÉÁ≠âÂæÖ„ÄÇÊãâÂèñÂ•ΩÂêéÔºåÁºñÂÜô‰∏Ä‰∏™ÂêØÂä®ËÑöÊú¨Ôºö12345678910111213cat &lt;&lt;EOF &gt; run_gitlab.sh#!/bin/bashdocker stop gitlabdocker rm gitlabdocker run -d \ --hostname gitlab.mrbird.cc \ -p 8443:443 -p 8080:80 -p 2223:22 \ --name gitlab \ -v /gitlab/config:/etc/gitlab \ -v /gitlab/logs:/var/log/gitlab \ -v /gitlab/data:/var/opt/gitlab \ gitlab/gitlab-ce:latestEOF--hostname gitlab.mrbird.ccÁªëÂÆöÂüüÂêçÔºåÁ´ØÂè£Êò†Â∞Ñ‰∫Ü‰∏ãÔºåÈò≤Ê≠¢ÂíåÂÆø‰∏ªÊú∫ÂÜ≤Á™Å„ÄÇÊâßË°åchmod u+x run_gitlab.shÊ∑ªÂä†ÂèØÊâßË°åÊùÉÈôêÔºåÁÑ∂ÂêéËøêË°åsh run_gitlab.shÂêØÂä®GitLab„ÄÇÊâßË°åÂêØÂä®ËÑöÊú¨ÂêéÔºå‰ΩøÁî®docker logs -f gitlabÊü•ÁúãÂêØÂä®Êó•ÂøóÔºåÁ¨¨‰∏ÄÊ¨°ÂêØÂä®ÊØîËæÉÊÖ¢ÔºåÂΩìÊó•ÂøóÂÆöÊó∂ËæìÂá∫/metricsÂÜÖÂÆπÊó∂ËØ¥ÊòéGitLabÂ∑≤ÂêØÂä®ÂÆåÊØïÔºö12==&gt; /var/log/gitlab/gitlab-rails/sidekiq_exporter.log &lt;==[2019-11-03T03:35:18.170+0000] 127.0.0.1 - - [03/Nov/2019:03:35:18 UTC] &quot;GET /metrics HTTP/1.1&quot; 200 6162 &quot;-&quot; &quot;Prometheus/2.12.0&quot;ÂêØÂä®ÂêéÔºå‰øÆÊîπgitlab.rbÊñá‰ª∂Ôºö1vim /gitlab/config/gitlab.rbÂºÄÂêØËøôÊÆµÈÖçÁΩÆÔºåÂπ∂‰∏îÁ´ØÂè£Âè∑Êîπ‰∏∫‰∏äÈù¢ÊåáÂÆöÁöÑ2223ÔºöÁÑ∂ÂêéÊâßË°åsh run_gitlab.shÈáçÂêØÂç≥ÂèØ„ÄÇÈáçÂêØÂêéÔºåÂú®ËôöÊãüÊú∫ÂíåwindowsÈáåÊ∑ªÂä†hostsËß£ÊûêÔºö1192.168.33.11 gitlab.mrbird.cc‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttp://gitlab.mrbird.cc:8080/ÔºöGitLabËøòÊòØÊØîËæÉÂç†ÂÜÖÂ≠òÁöÑÔºåÂú®ÂÆâË£ÖGitLabÂâçËØ∑Á°Æ‰øùÂÜÖÂ≠òÂ§üÁî®üåöÔºö1234docker stats gitlabCONTAINER ID NAME CPU % MEM USAGE / LIMIT MEM % NET I/O BLOCK I/O PIDSd8edbda28f9f gitlab 6.80% 1.944GiB / 3.701GiB 52.54% 130kB / 2.29MB 118MB / 2.52MB 281ÂÆâË£ÖJenkinsJenkinsÁöÑËØùÔºåÊé®ËçêÁî®‰º†ÁªüÊñπÂºèÂÆâË£ÖÔºåËøôÊ†∑ÂÆø‰∏ªÊú∫‰∏äÂÆâË£ÖÁöÑmaven„ÄÅdocker„ÄÅkubectlÁ≠âÂëΩ‰ª§ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®„ÄÇÂú®ÂÆâË£ÖJenkins‰πãÂâçÔºåÈúÄË¶ÅÊúâJavaÔºàÊàëÂÆâË£ÖÁöÑÊòØ1.8ÁâàÊú¨ÔºâÁéØÂ¢ÉÔºåÂú®CentOS7‰∏äÂÆâË£ÖJDKÁöÑËøáÁ®ãÂ∞±‰∏çÊºîÁ§∫‰∫ÜÔºå‰πãÂâçÂú®https://mrbird.cc/FEBS-Vue-Document.html‰∏≠‰πüÊúâ‰ªãÁªçËøá„ÄÇÂÆâË£ÖÂ•ΩJDKÂêéÔºå‰∏ãËΩΩJenkins warÂåÖÔºö1wget http://mirrors.jenkins.io/war-stable/latest/jenkins.warÁºñÂÜô‰∏Ä‰∏™ÂêØÂä®ËÑöÊú¨run_jenkins.shÔºö1vim run_jenkins.shÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123#!/bin/bashnohup java -jar jenkins.war --httpPort=8081 &amp;ÊéàÊùÉÔºö1chmod u+x run_jenkins.shÂêØÂä®JenkinsÔºö1sh run_jenkins.shÂΩìÂêØÂä®Êó•ÂøóËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÊó∂ÔºåËØ¥ÊòéjenkinsÂ∑≤ÊàêÂäüÂêØÂä®Ôºö1234567891011121314***************************************************************************************************************************************************************************************Jenkins initial setup is required. An admin user has been created and a password generated.Please use the following password to proceed to installation:6ddc10e56b574f27a360986f84da19fcThis may also be found at: /root/.jenkins/secrets/initialAdminPassword***************************************************************************************************************************************************************************************ÂÖ∂‰∏≠6ddc10e56b574f27a360986f84da19fc‰∏∫JenkinsÁöÑÂØÜÁ†ÅÔºåËØ•ÂØÜÁ†Å‰πüÂèØ‰ª•Âú®/root/.jenkins/secrets/initialAdminPasswordÊñá‰ª∂ÊâæÂà∞„ÄÇ‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttp://192.168.33.11:8081/ÔºöËæìÂÖ•‰∏äÈù¢ÁöÑÂØÜÁ†ÅÔºåËøõÂÖ•ÔºöÁÇπÂáª‚ÄúÈÄâÊã©Êèí‰ª∂ÂÆâË£Ö‚ÄùÔºåÁÑ∂ÂêéPipelines and Continuous Delivery‰∏ÄÊ†è‰∏≠ÁöÑÊâÄÊúâÊèí‰ª∂ÈÉΩÂãæÈÄâ‰∏äÔºöÁÑ∂ÂêéÁÇπÂáªÂÆâË£ÖÂç≥ÂèØÔºåÂÆâË£ÖÁªìÊùüÂêéÔºåÊé•ÁùÄÂàõÂª∫Áî®Êà∑ÔºöÁÇπÂáªÈáçÂêØÔºöÁî®ÂàöÂàöÂàõÂª∫ÁöÑÁî®Êà∑ÁôªÂΩïÂç≥ÂèØÔºö]]></content>
      <tags>
        <tag>GitLab</tag>
        <tag>Jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êê≠Âª∫DockerÈïúÂÉè‰ªìÂ∫ìHarbor]]></title>
    <url>%2FHarbor.html</url>
    <content type="text"><![CDATA[HarborÊòØ‰∏ÄÊ¨æÂºÄÊ∫êÁöÑDockerÈïúÂÉèÂ≠òÂÇ®‰ªìÂ∫ìÔºåÂÖ∂Êâ©Â±ï‰∫ÜDocker DistributionÔºåÂú®Ê≠§Âü∫Á°Ä‰∏äÊ∑ªÂä†‰∫ÜÊàë‰ª¨Â∏∏Áî®ÁöÑÂäüËÉΩÔºåÊØîÂ¶ÇÂÆâÂÖ®ËÆ§ËØÅÔºåRBACÁî®Êà∑ÊùÉÈôêÁÆ°ÁêÜÔºåÂèØËßÜÂåñÈ°µÈù¢Êìç‰ΩúÁ≠âÂäüËÉΩ„ÄÇHarborËøòÊîØÊåÅÂ§ö‰∏™Harbor‰ªìÂ∫ìÈó¥ÁöÑÁõ∏‰∫íÊã∑Ë¥ùÔºå‰ª•ÂÆûÁé∞DockerÈïúÂÉè‰ªìÂ∫ìÁöÑÈ´òÂèØÁî®„ÄÇËøôËäÇÊàë‰ª¨Âú®CentOSËôöÊãüÊú∫Ôºà192.168.33.11Ôºâ‰∏äÊê≠Âª∫‰∏™ÂçïÊú∫ÁâàÁöÑHarbor‰ΩìÈ™å‰∏Ä‰∏ã„ÄÇÂÆâË£ÖHarborÂú®HarborÁöÑGitHub‰ªìÂ∫ìÔºöhttps://github.com/goharbor/harbor/releases‰∏ãËΩΩÁ¶ªÁ∫øÁâàÊú¨ÔºàofflineÔºâÔºåÊàëÈÄâÊã©ÁöÑÁâàÊú¨ÊòØ1.8.4Ôºö‰∏ãËΩΩÂêéÔºåÂ∞ÜÂéãÁº©ÂåÖharbor-offline-installer-v1.8.4.tgz‰∏ä‰º†Âà∞192.168.33.11ÊúçÂä°Âô®‰∏äÔºöËß£ÂéãÂéãÁº©ÂåÖÔºö‰øÆÊîπHarborÈÖçÁΩÆÊñá‰ª∂ÔºöÂ∞Ühostname‰øÆÊîπ‰∏∫ÂÆø‰∏ªÊú∫IPÂç≥ÂèØÔºöÁÑ∂ÂêéÊâßË°åÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑinstall.shËÑöÊú¨ËøõË°åÂÆâË£Ö„ÄÇÂÆâË£ÖËøáÁ®ã‰∏≠Âá∫Áé∞Â¶Ç‰∏ãÈîôËØØÔºöÊ†πÊçÆhttps://docs.docker.com/compose/install/ÂÆâË£Ödocker composeÂêéÈáçÊñ∞ÊâßË°åinstall.shËÑöÊú¨„ÄÇÂá∫Áé∞Â¶Ç‰∏ã‰ø°ÊÅØÊó∂ÔºåÂÆâË£ÖÊàêÂäü:‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttp://192.168.33.11/Âú∞ÂùÄÔºåÂèØ‰ª•ÁúãÂà∞HarborÁöÑÁÆ°ÁêÜÁïåÈù¢ÔºöÈªòËÆ§ÁöÑÁî®Êà∑ÂêçÂØÜÁ†Å‰∏∫ÔºöadminÔºåHarbor12345ÔºåÁôªÂΩïÂêéÔºö‰∏∫‰∫ÜÂêéÁª≠Êé®ÈÄÅÈïúÂÉèÊñπ‰æøÔºåÊàë‰ª¨ÈúÄË¶ÅÁªô192.168.33.11ÈÖçÁΩÆÂüüÂêçÔºåÊ∑ªÂä†hostsËß£ÊûêÔºö1192.168.33.11 docker.mrbird.ccÂàõÂª∫Áî®Êà∑ÂíåÈ°πÁõÆÂú®http://192.168.33.11/HarborÁÆ°ÁêÜÁïåÈù¢‰∏ãÊñ∞Â¢û‰∏Ä‰∏™Áî®Êà∑ÔºöÁÑ∂ÂêéÊñ∞Â¢û‰∏Ä‰∏™È°πÁõÆÔºöÂú®ËØ•È°πÁõÆ‰∏ãÊ∑ªÂä†ÂàöÂàöÂàõÂª∫ÁöÑmrbirdÁî®Êà∑ÔºöÊé•ÁùÄÂú®192.168.33.11‰∏äËøõË°åÁôªÂΩï:Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂ∞±ÊòØÂàöÂàöÂú®ÊéßÂà∂Âè∞ÂàõÂª∫ÁöÑmrbirdÁî®Êà∑ÂíåÂØÜÁ†Å„ÄÇ‰ΩÜÊòØÁôªÂΩïÂ§±Ë¥•‰∫ÜÔºåË¶ÅÁôªÂΩïÂà∞http docker‰ªìÂ∫ìÔºåÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∫õÈÖçÁΩÆÔºö1vim /etc/docker/daemon.jsonÊ∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÔºöÈáçÂêØdockerÔºö1sudo service docker restartÁÑ∂ÂêéÈáçÊñ∞ÁôªÂΩïÂç≥ÂèØÔºöÊµãËØïÈïúÂÉèÊé®ÊãâÊãâÂèñnginx:1.17.5ÈïúÂÉèÔºö1docker pull nginx:1.17.5ÊâìÊ†áÁ≠æ:1docker tag nginx:1.17.5 docker.mrbird.cc/febs/nginx:1.17.5Ê†áÁ≠æÊ†ºÂºè‰∏∫[docker‰ªìÂ∫ìÂüüÂêç]:[È°πÁõÆÂêçÁß∞]:[ÈïúÂÉè]„ÄÇÂ∞Üdocker.mrbird.cc/febs/nginx:1.17.5Êé®ÈÄÅÂà∞HarborÔºö1docker push docker.mrbird.cc/febs/nginxÂõûÂà∞HarborÊéßÂà∂Âè∞ÔºåÂèØ‰ª•ÁúãÂà∞Âú®febsÈ°πÁõÆ‰∏ãÂ∑≤ÁªèÂ≠òÂú®‰∏Ä‰∏™nginxÈïúÂÉèÔºöÂú®192.168.33.12ÊúçÂä°Âô®‰∏äÊ∑ªÂä†docker.mrbird.ccÁöÑËß£ÊûêÔºåÁÑ∂ÂêéÊãâÂèñÂàöÂàöÁöÑÈïúÂÉèÔºåÁúãÁúãÊòØÂê¶ÊàêÂäüÔºö1docker pull docker.mrbird.cc/febs/nginx:1.17.5ÊãâÂèñÊàêÂäü„ÄÇ]]></content>
      <tags>
        <tag>Harbor</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KubernetesËµÑÊ∫êÁÆ°ÁêÜ]]></title>
    <url>%2FKubernetes-Resource-Management.html</url>
    <content type="text"><![CDATA[ÈÄöËøáÂâçÈù¢ÁöÑÂ≠¶‰π†Êàë‰ª¨Áü•ÈÅìÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøárequestsÂíålimitsÁªôPodÊåáÂÆöËµÑÊ∫êÈÖçÁΩÆÔºå‰ΩÜÂ¶ÇÊûúÊØè‰∏™PodÈÉΩË¶ÅÊåáÂÆöÁöÑËØùÁï•ÊòæÁπÅÁêêÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®LimitRangeÊåáÂÆö‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõÊ≠§Â§ñÈÄöËøáResourceQuotaÂØπË±°ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆö‰πâËµÑÊ∫êÈÖçÈ¢ùÔºåËøô‰∏™ËµÑÊ∫êÈÖçÈ¢ùÂèØ‰ª•‰∏∫ÊØè‰∏™ÂëΩÂêçÁ©∫Èó¥ÈÉΩÊèê‰æõ‰∏Ä‰∏™ÊÄª‰ΩìÁöÑËµÑÊ∫ê‰ΩøÁî®ÁöÑÈôêÂà∂ÔºöÂÆÉÂèØ‰ª•ÈôêÂà∂ÂëΩÂêçÁ©∫Èó¥‰∏≠ÊüêÁßçÁ±ªÂûãÁöÑÂØπË±°ÁöÑÊÄªÊï∞ÁõÆ‰∏äÈôêÔºå‰πüÂèØ‰ª•ËÆæÁΩÆÂëΩÂêçÁ©∫Èó¥‰∏≠PodÂèØ‰ª•‰ΩøÁî®ÁöÑËÆ°ÁÆóËµÑÊ∫êÁöÑÊÄª‰∏äÈôê„ÄÇLimitRangeÂú®‰ΩøÁî®LimitRange‰πãÂâçÂÖàÂàõÂª∫‰∏Ä‰∏™ÂëΩÂêçÁ©∫Èó¥Ôºö1234apiVersion: v1kind: Namespacemetadata: name: test-resourceÁÑ∂ÂêéÂÆö‰πâLimitRangeÈÖçÁΩÆÔºàlimit-range.ymlÔºâ:1234567891011121314151617181920212223242526272829303132apiVersion: v1kind: LimitRangemetadata: name: limit-range-examplespec: limits: - max: cpu: 2 memory: 2Gi min: cpu: 200m memory: 6Mi maxLimitRequestRatio: cpu: 3 memory: 2 type: Pod - default: cpu: 300m memory: 200Mi defaultRequest: cpu: 200m memory: 100Mi max: cpu: 2 memory: 1Gi min: cpu: 100m memory: 3Mi maxLimitRequestRatio: cpu: 5 memory: 4 type: ContainerÂàõÂª∫ËØ•LimitRangeÔºöÂèØ‰ª•ÁúãÂà∞ÈÖçÁΩÆÂ∑≤ÁªèÁîüÊïà‰∫Ü„ÄÇ‰∏ãÈù¢‰ªãÁªç‰∏ãËøô‰∫õÈÖçÁΩÆÁöÑÂê´‰πâÔºö‰∏äÈù¢ÈÖçÁΩÆÂàÜ‰∏∫PodÂíåContainerÈÖçÁΩÆÔºåContainerËµÑÊ∫êÈÖçÁΩÆÂØπÂ∫îÊØè‰∏™DockerÂÆπÂô®ÁöÑËµÑÊ∫êÈÖçÁΩÆÔºåPodËµÑÊ∫êÈÖçÁΩÆÂØπÂ∫î‰∏Ä‰∏™Pod‰∏≠ÊâÄÊúâÂÆπÂô®ËµÑÊ∫êÁöÑÊÄªÂíå„ÄÇÂÖ∂‰∏≠PodÂíåContainerÈÉΩÂèØ‰ª•ÊåáÂÆöminÔºåmaxÂíåmaxLimitRequestRatioÔºöminÔºöÊåáÂÆöËµÑÊ∫êÁöÑ‰∏ãÈôêÔºåÂç≥ÊúÄ‰ΩéËµÑÊ∫êÈÖçÁΩÆ‰∏çËÉΩ‰Ωé‰∫éËøô‰∏™ÂÄºÔºõmaxÔºöÊåáÂÆöËµÑÊ∫êÁöÑ‰∏äÈôêÔºåÂç≥ÊúÄÈ´òËµÑÊ∫ê‰ΩøÁî®‰∏çËÉΩÈ´ò‰∫éËøô‰∏™ÂÄºÔºõmaxLimitRequestRatioÔºöËØ•ÂÄºÁî®‰∫éÊåáÂÆörequestsÂíålimitsÂÄºÊØî‰æãÁöÑ‰∏äÈôê„ÄÇÁõ∏ËæÉ‰∫éPodÔºåContainerËøòÂèØ‰ª•ÊåáÂÆödefaultRequestÂíådefaultÔºàÂÆûÈôÖ‰∏äÂ∞±ÊòØdefaultLimitÔºå‰∏çÊáÇ‰∏∫‰ªÄ‰πàKubernetes‰∏çÁî®Ëøô‰∏™ÂêçÁß∞üòµÔºâÔºödefaultRequestÔºöÂÖ®Â±ÄÂÆπÂô®ÁöÑÈªòËÆ§requestsÂÄºÔºõdefaultÔºöÂÖ®Â±ÄÂÆπÂô®ÁöÑÈªòËÆ§limitsÂÄº„ÄÇ‰∏ãÈù¢Êàë‰ª¨‰∏æÂá†‰∏™‰æãÂ≠êÔºåÁúãÁúãÊàë‰ª¨ÂàõÂª∫ÁöÑLimitRangeÊòØÂê¶ÁîüÊïà„ÄÇÂÆö‰πâ‰∏Ä‰∏™PodÈÖçÁΩÆÊñá‰ª∂Ôºàtest-default.ymlÔºâÔºö12345678910apiVersion: v1kind: Podmetadata: name: test-defaultspec: containers: - name: nginx image: nginx ports: - containerPort: 80ÂàõÂª∫ËØ•PodÔºöÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨Âú®test-default.yml‰∏≠Âπ∂Ê≤°ÊúâÂÆö‰πârequestsÂíålimitsÈÖçÁΩÆÔºå‰ΩÜÊòØÈÄöËøáPodÂÆû‰æãÁöÑyamlÂèØ‰ª•ÁúãÂà∞ÂÆÉÂ∑≤ÁªèÊåáÂÆö‰∫ÜËøô‰∏§‰∏™ÂÄºÔºåËÄåËøô‰∫õÊ≠£ÊòØ‰∏äÈù¢Êàë‰ª¨Âú®LimitRange‰∏≠ÂÆö‰πâÁöÑÈªòËÆ§ÂÄº„ÄÇÊé•ÁùÄÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑPodÈÖçÁΩÆÔºàtest-max.ymlÔºâ:1234567891011121314apiVersion: v1kind: Podmetadata: name: test-maxspec: containers: - name: nginx image: nginx ports: - containerPort: 80 resources: limits: cpu: 3 memory: 500MiÂàõÂª∫ËØ•PodÔºöÂèØ‰ª•ÁúãÂà∞Âú®ÂàõÂª∫ÁöÑÊó∂ÂÄôÂ∞±Êä•Èîô‰∫ÜÔºåÂõ†‰∏∫‰∏äÈù¢ÁöÑcpuÈÖçÁΩÆÂç≥Ë∂ÖËøá‰∫ÜLimtRange‰∏≠ÂÆö‰πâÁöÑContainerÁöÑcpuÊúÄÈ´òÈÖçÁΩÆÔºå‰πüË∂ÖËøá‰∫ÜPodÁöÑcpuÁöÑÊúÄÈ´òÈÖçÁΩÆ„ÄÇÂÜçÂàõÂª∫‰∏Ä‰∏™PodÈÖçÁΩÆÔºàtest-ratio.ymlÔºâÔºö1234567891011121314151617apiVersion: v1kind: Podmetadata: name: test-ratiospec: containers: - name: nginx image: nginx ports: - containerPort: 80 resources: limits: cpu: 2 memory: 500Mi requests: cpu: 300m memory: 50MiÂàõÂª∫ËØ•PodÔºöÂèØ‰ª•ÁúãÂà∞‰πüÊä•Èîô‰∫ÜÔºåÂõ†‰∏∫requestsÂíålimitsÁöÑÊØî‰æã‰∏çÁ¨¶ÂêàLimitRangeÁöÑmaxLimitRequestRatioÈÖçÁΩÆ„ÄÇLimitRangeÁöÑÊµãËØïÂÖàÂà∞ËøôÈáåÂêßÔºåÈÄöËøá‰∏äÈù¢‰∏â‰∏™‰æãÂ≠êÂ§ß‰Ωì‰πüËÉΩÊÑüÂèóÂà∞LimitRangeÁöÑ‰ΩúÁî®‰∫Ü„ÄÇResourceQuotaResourceQuotaÁî®‰∫éÁÆ°ÁêÜËµÑÊ∫êÈÖçÈ¢ùÔºåËøô‰∏™ËµÑÊ∫êÈÖçÈ¢ùÂèØ‰ª•‰∏∫ÊØè‰∏™ÂëΩÂêçÁ©∫Èó¥ÈÉΩÊèê‰æõ‰∏Ä‰∏™ÊÄª‰ΩìÁöÑËµÑÊ∫ê‰ΩøÁî®ÁöÑÈôêÂà∂„ÄÇËµÑÊ∫êÈÖçÈ¢ù‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Á±ªÂûãÔºöËÆ°ÁÆóËµÑÊ∫êÈÖçÈ¢ùËµÑÊ∫êÂêçÁß∞ËØ¥ÊòéCpuÊâÄÊúâÈùûÁªàÊ≠¢Áä∂ÊÄÅÁöÑPodÔºåCPU RequestsÁöÑÊÄªÂíå‰∏çËÉΩË∂ÖËøáËØ•ÂÄºlimits.cpuÊâÄÊúâÈùûÁªàÊ≠¢Áä∂ÊÄÅÁöÑPodÔºå CPU LimitsÁöÑÊÄªÂíå‰∏çËÉΩË∂ÖËøáËØ•ÂÄºlimits.memoryÊâÄÊúâÈùûÁªàÊ≠¢Áä∂ÊÄÅÁöÑPodÔºåÂÜÖÂ≠ò LimitsÁöÑÊÄªÂíå‰∏çËÉΩË∂ÖËøáËØ•ÂÄºMemoryÊâÄÊúâÈùûÁªàÊ≠¢Áä∂ÊÄÅÁöÑPodÔºå ÂÜÖÂ≠ò RequestsÁöÑÊÄªÂíå‰∏çËÉΩË∂ÖËøáËØ•ÂÄºrequests.cpuÊâÄÊúâÈùûÁªàÊ≠¢Áä∂ÊÄÅÁöÑPodÔºåCPU RequestsÁöÑÊÄªÂíå‰∏çËÉΩË∂ÖËøáËØ•ÂÄºrequests.memoryÊâÄÊúâÈùûÁªàÊ≠¢Áä∂ÊÄÅÁöÑPodÔºå ÂÜÖÂ≠òRequestsÁöÑÊÄªÂíå‰∏çËÉΩË∂ÖËøáËØ•ÂÄºÂ≠òÂÇ®ËµÑÊ∫êÈÖçÈ¢ùËµÑÊ∫êÂêçÁß∞ËØ¥Êòérequests.storageÊâÄÊúâPVCÔºåÂ≠òÂÇ®ËØ∑Ê±ÇÊÄªÈáè‰∏çËÉΩË∂ÖËøáÊ≠§ÂÄºPersistentVolumeclaimsÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑÊåÅ‰πÖÂç∑ÁöÑÊÄªÊï∞‰∏äÈôê.storageclass.storage.k8s.io/requests.storageÂíåËØ•Â≠òÂÇ®Á±ªÂÖ≥ËÅîÁöÑÊâÄÊúâPVCÔºåÂ≠òÂÇ®ËØ∑Ê±ÇÊÄªÂíå‰∏çËÉΩË∂ÖËøáÊ≠§ÂÄº.storageclass.storage.k8s.io/persistentvolumeclaimsÂíåËØ•Â≠òÂÇ®Á±ªÂÖ≥ËÅîÁöÑÊâÄÊúâPVCÁöÑÊÄªÂíåÂØπË±°Êï∞ÈáèÈÖçÈ¢ùËµÑÊ∫êÂêçÁß∞ËØ¥ÊòéConfigmapsÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑConfigMapÁöÑÊÄªÊï∞‰∏äÈôêPodsÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑÈùûÁªàÊ≠¢Áä∂ÊÄÅPodÁöÑÊÄªÊï∞‰∏äÈôêÔºåPodÁªàÊ≠¢Áä∂ÊÄÅÁ≠â‰ª∑‰∫éPodÁöÑstatus.phase in(Failed, Succeeded) = trueReplicationcontrollersÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑRCÁöÑÊÄªÊï∞‰∏äÈôêResourcequtasÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑËµÑÊ∫êÈÖçÈ¢ùÈ°πÁöÑÊÄªÊï∞‰∏äÈôêServicesÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑServiceÁöÑÊÄªÊï∞‰∏äÈôêservice.loadbalancersÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑË¥üËΩΩÂùáË°°ÁöÑÊÄªÊï∞‰∏äÈôêservices.nodeportsÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑNodePortÁöÑÊÄªÊï∞‰∏äÈôêSecretsÂú®ËØ•ÂëΩÂêçÁ©∫Èó¥‰∏≠ËÉΩÂ≠òÂú®ÁöÑSecretÁöÑÊÄªÊï∞‰∏äÈôêÊµãËØïÂú®ÊµãËØïResourceQuota‰πãÂâçÊàë‰ª¨‰πüÂÖàÂàõÂª∫‰∏Ä‰∏™ÂëΩÂêçÁ©∫Èó¥Ôºö1234apiVersion: v1kind: Namespacemetadata: name: quota-nsÂàõÂª∫‰∏™ÁÆÄÂçïÁöÑResourceQuotaÈÖçÁΩÆÔºàtest-quota.ymlÔºâÔºö1234567apiVersion: v1kind: ResourceQuotametadata: name: test-quotaspec: hard: pods: &quot;4&quot;ÂàõÂª∫ËØ•ResourceQuotaÔºöÊé•ÁùÄÂÆö‰πâ‰∏Ä‰∏™RCÈÖçÁΩÆÔºànginx-rc.ymlÔºâÔºö12345678910111213141516171819apiVersion: v1kind: ReplicationControllermetadata: name: nginx-rcspec: replicas: 3 selector: name: nginx template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx imagePullPolicy: IfNotPresent ports: - containerPort: 80ÂàõÂª∫ËØ•RC:ÂèØ‰ª•ÁúãÂà∞ÔºåÂ∑≤ÁªèÊúâ3‰∏™PodÂÆû‰æã‰∫ÜÔºåÂ¶ÇÊûúÂ∞ÜPodÊï∞ÈáèÊâ©Â§ßÂà∞5ÔºåÁúãÁúã‰ºöÊÄéÊ†∑ÔºöÊúÄÁªà‰πüÂè™‰ºöÊúâ4‰∏™PodÂÆû‰æãÔºåÂõ†‰∏∫Êàë‰ª¨Âú®‰∏äÈù¢ResourceQuota‰∏≠ÊåáÂÆöÁöÑÊúÄÂ§ßPodÊï∞Èáè‰∏∫4„ÄÇ„ÄäKubernetesÊùÉÂ®ÅÊåáÂçó(Á¨¨4Áâà)„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes Namespace&Context]]></title>
    <url>%2FKubernetes-Namespaces-Context.html</url>
    <content type="text"><![CDATA[Âú®‰∏Ä‰∏™ÁªÑÁªáÂÜÖÈÉ®Ôºå‰∏çÂêåÁöÑÂ∑•‰ΩúÁªÑÂèØ‰ª•Âú®Âêå‰∏Ä‰∏™KubernetesÈõÜÁæ§‰∏≠Â∑•‰ΩúÔºåKubernetesÈÄöËøáÂëΩÂêçÁ©∫Èó¥ÂíåContextÁöÑËÆæÁΩÆÂØπ‰∏çÂêåÁöÑÂ∑•‰ΩúÁªÑËøõË°åÂå∫ÂàÜÔºå‰ΩøÂæóÂÆÉ‰ª¨Êó¢ÂèØ‰ª•ÂÖ±‰∫´Âêå‰∏Ä‰∏™KubernetesÈõÜÁæ§ÁöÑÊúçÂä°Ôºå‰πüËÉΩÂ§ü‰∫í‰∏çÂπ≤Êâ∞„ÄÇNamespaceÁöÑÂàõÂª∫KubernetesÈõÜÁæ§‰ºöÂ∏ÆÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ÂêçÁß∞‰∏∫defaultÁöÑÂëΩÂêçÁ©∫Èó¥ÔºöÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÁöÑpod„ÄÅrc„ÄÅserviceÁ≠âKubernetesËµÑÊ∫êÈÉΩÊòØ‰ΩøÁî®Ëøô‰∏™ÂëΩÂêçÁ©∫Èó¥ÔºåÊ≠§Â§ñÊàë‰ª¨‰πüÂèØ‰ª•ÂàõÂª∫Ëá™Â∑±ÁöÑÂëΩÂêçÁ©∫Èó¥„ÄÇÂÆö‰πâ‰∏Ä‰∏™ÂëΩÂêçÁ©∫Èó¥ÈÖçÁΩÆdev-namesapce.ymlÔºö1234apiVersion: v1kind: Namespacemetadata: name: dev # devÂëΩÂêçÁ©∫Èó¥ÂàõÂª∫ËØ•ÂëΩÂêçÁ©∫Èó¥Ôºö‰ΩøÁî®Namespace‰ΩøÁî®ÂëΩÂêçÁ©∫Èó¥Âè™ÈúÄË¶ÅÂú®ÂàõÂª∫KubernetesËµÑÊ∫êÂØπË±°ÁöÑÊó∂ÂÄôÊåáÂÆöÂç≥ÂèØÔºåÊØîÂ¶ÇÂàõÂª∫‰∏Ä‰∏™tomcat-rc.ymlÔºåÂπ∂ÊåáÂÆöÂëΩÂêçÁ©∫Èó¥‰∏∫devÔºö123456789101112131415161718192021apiVersion: v1kind: ReplicationControllermetadata: name: tomcat-rc namespace: dev # ÊåáÂÆöÂëΩÂêçÁ©∫Èó¥spec: replicas: 2 selector: name: tomcat template: metadata: name: tomcat labels: name: tomcat spec: containers: - name: tomcat image: tomcat ports: - containerPort: 8080 hostPort: 8081ÂàõÂª∫ËØ•rcÔºöÂèØ‰ª•ÁúãÂà∞ÔºådefalutÂëΩÂêçÁ©∫Èó¥‰∏ãÂπ∂Ê≤°Êúâ‰ªª‰ΩïpodÔºåËÄådevÂëΩÂêçÁ©∫Èó¥‰∏ãÂàôÊúâ‰∏§‰∏™tomcat podÂÆû‰æã„ÄÇÂëΩÂêçÁ©∫Èó¥Âè™ÊòØÂêçÁß∞‰∏äÁöÑÈöîÁ¶ªÔºå‰∏çÂêåÂëΩÂêçÁ©∫Èó¥‰∏ãÁöÑpodÔºåserviceÁ≠âËøòÊòØÂèØ‰ª•Áõ∏‰∫íËÆøÈóÆÁöÑ„ÄÇContextÁöÑÂàõÂª∫Âíå‰ΩøÁî®Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂàõÂª∫ContextÔºà‰∏ä‰∏ãÊñáÔºâÔºåÊåáÂÆö‰ΩøÁî®ÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÁÑ∂Âêé‰ΩøÁî®ËØ•ContextÔºåÊù•ÂÆåÊàêÈªòËÆ§ÁöÑÂëΩÂêçÁ©∫Èó¥ÂàáÊç¢„ÄÇÂú®ÂàõÂª∫ContextÂâçÔºåÊàë‰ª¨Êü•Áúã‰∏ãKubernetesÈªòËÆ§ÁöÑÈÖçÁΩÆÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÂâçÈªòËÆ§ÁöÑContextÂêçÁß∞‰∏∫kubernetes-admin@kubernetesÔºåÁî±Ê≠§ÂèØ‰ª•Êé®Êñ≠ÔºåÂÆÉÂíådefalutËøô‰∏™ÂëΩÂêçÁ©∫Èó¥ÊåÇÈí©„ÄÇÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑContextÔºåÂêçÁß∞‰∏∫ctx-devÔºåÂëΩÂêçÁ©∫Èó¥‰ΩøÁî®‰∏äÈù¢ÂàõÂª∫ÁöÑdevÔºöÂÖ∂‰∏≠/root/.kube/config‰∏∫KubernetesÈÖçÁΩÆ„ÄÇÂàõÂª∫ÊàêÂäüÂêéÔºåÊàë‰ª¨‰ΩøÁî®ctx-devËøô‰∏™ContextÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÁé∞Âú®‰∏çÈúÄË¶ÅÊåáÂÆö-n devÂ∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞devÂëΩÂêçÁ©∫Èó¥‰∏ãÁöÑpod‰∫ÜÔºå‰πüËØÅÂÆû‰∫ÜContextÁöÑÂàáÊç¢ÊòØÊàêÂäüÁöÑ„ÄÇÂ¶ÇÊûúÊÉ≥Ë¶ÅÊÅ¢Â§çÈªòËÆ§ÁöÑContextÔºåÂ∞ÜContextÊåáÂÆö‰∏∫kubernetes-admin@kubernetesÔºö]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes ServiceÂü∫Á°Ä]]></title>
    <url>%2FKubernetes-Service-Basic.html</url>
    <content type="text"><![CDATA[KubernetesÂèØ‰ª•‰∏∫‰∏ÄÁªÑÂÖ∑ÊúâÁõ∏ÂêåÂäüËÉΩÁöÑPodÊèê‰æõ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÂÖ•Âè£Âú∞ÂùÄÔºåÂπ∂‰∏îÂ∞ÜËØ∑Ê±ÇÂùáË°°ÁöÑËΩ¨ÂèëÂà∞ÂêÑ‰∏™ÂØπÂ∫îÁöÑPod‰∏ä„ÄÇÊú¨ËäÇ‰∏ªË¶ÅËÆ∞ÂΩïServiceÁöÑ‰∏Ä‰∫õÂü∫Êú¨Áî®Ê≥ï„ÄÇÂü∫Êú¨Áî®Ê≥ïÂàõÂª∫‰∏Ä‰∏™Tomcat RCÔºàtomcat-rc.ymlÔºâ:12345678910111213141516171819apiVersion: v1kind: ReplicationControllermetadata: name: tomcat-rcspec: replicas: 2 selector: name: tomcat template: metadata: name: tomcat labels: name: tomcat spec: containers: - name: tomcat image: tomcat ports: - containerPort: 8080ÂàõÂª∫ËØ•RCÔºöÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáNode IP + Container PortÂú®KubernetesÈõÜÁæ§‰∏≠ËÆøÈóÆTomcatÔºöÁî±‰∫éPodÊòØKubernetesÈõÜÁæ§ËåÉÂõ¥ÂÜÖÁöÑËôöÊãüÊ¶ÇÂøµÔºåÈõÜÁæ§Â§ñÁöÑÂÆ¢Êà∑Á´ØÊó†Ê≥ïÈÄöËøáPodÁöÑIPÂíåÁ´ØÂè£ËÆøÈóÆÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜPodÁöÑÁ´ØÂè£Âè∑Êò†Â∞ÑÂà∞ÂÆø‰∏ªÊú∫Ôºå‰ª•‰ΩøÂÆ¢Êà∑Á´ØÂ∫îÁî®ËÉΩÂ§üÈÄöËøáÁâ©ÁêÜÊú∫ËÆøÈóÆÂÆπÂô®Â∫îÁî®Ôºå‰øÆÊîπÂàöÂàöÁöÑtomcat-rc.ymlÔºåÊ∑ªÂä†hostPortÔºö1234567891011121314151617181920apiVersion: v1kind: ReplicationControllermetadata: name: tomcat-rcspec: replicas: 2 selector: name: tomcat template: metadata: name: tomcat labels: name: tomcat spec: containers: - name: tomcat image: tomcat ports: - containerPort: 8080 hostPort: 8081 # Êñ∞Â¢ûÊõ¥Êñ∞ËØ•RCÔºöÂèØ‰ª•ÁúãÂà∞tomcat podË¢´ÂàÜÈÖçÂà∞‰∫Ünode1Âíånode2‰∏äÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Âú®ÂÆø‰∏ªÊú∫Â§ñ‰ΩøÁî®ÊàñËÄÖËÆøÈóÆtomcatÔºö‰ΩÜÊòØÊàë‰ª¨Áü•ÈÅìÔºåPodÁöÑIPÂú∞ÂùÄÊòØ‰∏çÂèØÈù†ÁöÑÔºå‰æãÂ¶ÇÂΩìPodÊâÄÂú®ÁöÑNodeÂèëÁîüÊïÖÈöúÊó∂ÔºåPodÂ∞ÜË¢´KubernetesÈáçÊñ∞Ë∞ÉÂ∫¶Âà∞Âè¶‰∏Ä‰∏™NodeÔºåPodÁöÑIPÂú∞ÂùÄÂ∞ÜÂèëÁîüÂèòÂåñ„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™tomcat podÁöÑÁªü‰∏ÄËÆøÈóÆÂÖ•Âè£ÔºåËøôÂ∞±ÊòØServiceÁöÑ‰ΩúÁî®„ÄÇÂàõÂª∫ServiceÊúâ‰∏§ÁßçÊñπÂºèÔºö1.kubectl exposeÂëΩ‰ª§Êù•ÂàõÂª∫Service1kubectl expose rc tomcat-rcÁé∞Âú®Êàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøáServiceÁöÑclusterIP + PortÊù•ËÆøÈóÆ‰∫ÜÔºöServiceÂú∞ÂùÄ10.1.187.222:8080ÂùáË°°ÁöÑË¥üËΩΩÂà∞‰∫Ü‰∏§‰∏™tomcat pod‰∏äÔºà10.244.1.19:8080Âíå10.244.4.13:8080Ôºâ2.ÈÄöËøáÈÖçÁΩÆÊñá‰ª∂ÂàõÂª∫ÂÆö‰πâ‰∏Ä‰∏™tomcat-service.ymlÔºö12345678910apiVersion: v1kind: Servicemetadata: name: tomcat-servicespec: ports: - port: 8081 # serviceÁ´ØÂè£ targetPort: 8080 # ÁõÆÊ†áÁ´ØÂè£ selector: name: tomcat # ÈÄâÊã©Âô®ÔºåÈÄâÊã©name=tomcatÁöÑpodÂàõÂª∫ËØ•ServiceÔºöÂêåÊ†∑ÔºåServiceÈªòËÆ§ÊòØ‰∏çËÉΩÂ§ñÈÉ®ËÆøÈóÆÁöÑÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Â§ñÈÉ®ËÉΩÂ§üËÆøÈóÆÂà∞tomcat serviceÔºåÊàë‰ª¨‰πüÈúÄË¶ÅÂ∞ÜServiceÁöÑÁ´ØÂè£Êò†Â∞ÑÂà∞Áâ©ÁêÜÊú∫Ôºå‰øÆÊîπ‰∏äÈù¢ÁöÑtomcat-service.ymlÔºö123456789101112apiVersion: v1kind: Servicemetadata: name: tomcat-servicespec: type: NodePort # Êñ∞Â¢û ports: - port: 8081 targetPort: 8080 nodePort: 30000 # Êñ∞Â¢û selector: name: tomcat‰∏äÈù¢ÈÖçÁΩÆÈÄöËøáËÆæÁΩÆnodePortÔºàËåÉÂõ¥30000-32767ÔºâÊò†Â∞ÑÂà∞Áâ©ÁêÜÊú∫ÔºåÂêåÊó∂ËÆæÁΩÆServiceÁöÑÁ±ªÂûã‰∏∫NodePortÔºåÂàõÂª∫ËØ•ServiceÔºöÁé∞Âú®Êàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøáÂÆø‰∏ªÊú∫ÁöÑIP+30000ËÆøÈóÆtomcat‰∫ÜÔºöË¥üËΩΩÂùáË°°Á≠ñÁï•Kubernetes ServiceÊèê‰æõ‰∫Ü‰∏§ÁßçË¥üËΩΩÂàÜÂèëÁ≠ñÁï•ÔºöRoundRobinÂíåSessionAffinityÔºöRoundRobinÔºöËΩÆËØ¢Ê®°ÂºèÔºàÈªòËÆ§ÔºâÔºåÂç≥ËΩÆËØ¢Â∞ÜËØ∑Ê±ÇËΩ¨ÂèëÂà∞ÂêéÁ´ØÁöÑÂêÑ‰∏™Pod‰∏ä„ÄÇSessionAffinityÔºöÂü∫‰∫éÂÆ¢Êà∑Á´ØIPÂú∞ÂùÄËøõË°å‰ºöËØù‰øùÊåÅÁöÑÊ®°ÂºèÔºåÂç≥Á¨¨1Ê¨°Â∞ÜÊüê‰∏™ÂÆ¢Êà∑Á´ØÂèëËµ∑ÁöÑËØ∑Ê±ÇËΩ¨ÂèëÂà∞ÂêéÁ´ØÁöÑÊüê‰∏™Pod‰∏äÔºå‰πãÂêé‰ªéÁõ∏ÂêåÁöÑÂÆ¢Êà∑Á´ØÂèëËµ∑ÁöÑËØ∑Ê±ÇÈÉΩÂ∞ÜË¢´ËΩ¨ÂèëÂà∞ÂêéÁ´ØÁõ∏ÂêåÁöÑPod‰∏ä„ÄÇÂèØ‰ª•ÈÄöËøáËÆæÁΩÆservice.spec.sessionAffinity=ClientIPÊù•ÂêØÁî®SessionAffinityÁ≠ñÁï•Ôºö12345678910111213apiVersion: v1kind: Servicemetadata: name: tomcat-servicespec: type: NodePort sessionAffinity: ClientIP # ÈááÁî®SessionAffinityÁ≠ñÁï• ports: - port: 8081 targetPort: 8080 nodePort: 30000 selector: name: tomcatHeadless ServiceHeadless Service‰∏çÊèê‰æõClusterIPÔºå‰ªÖÈÄöËøáLabel SelectorÂ∞ÜÂêéÁ´ØÁöÑPodÂàóË°®ËøîÂõûÁªôË∞ÉÁî®ÁöÑÂÆ¢Êà∑Á´Ø„ÄÇÂàõÂª∫tomcat-headless-service.ymlÔºö12345678910apiVersion: v1kind: Servicemetadata: name: tomcat-headless-servicespec: ports: - port: 8080 clusterIP: None # ËÆæÁΩÆclusterIP‰∏∫NoneÔºåË°®Á§∫headless service selector: name: tomcatÂàõÂª∫ËØ•headless serviceÔºö„ÄäKubernetesÊùÉÂ®ÅÊåáÂçó(Á¨¨4Áâà)„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes PodÊâ©ÂÆπ‰∏éÁº©ÂÆπ]]></title>
    <url>%2FKubernetes-Pod-Expansion-Contraction.html</url>
    <content type="text"><![CDATA[ÈíàÂØπ‰∏çÂêåÊó∂ÊúüÊµÅÈáèÁöÑÂ§ßÂ∞èÊàë‰ª¨ÂèØ‰ª•ÁªôPodÊâ©Áº©ÂÆπÔºåKubernetesÊîØÊåÅÈÄöËøákubectlÂëΩ‰ª§ÊâãÂä®Êâ©Áº©ÂÆπÔºå‰πüÊîØÊåÅÈÄöËøáHPAËá™Âä®Ê®™ÂêëÊâ©Áº©ÂÆπ„ÄÇÊâãÂä®Êâ©Áº©ÂÆπÁé∞ÊúâÂ¶Ç‰∏ãdeploymentÈÖçÁΩÆÔºànginx-deployment.ymlÔºâÔºö1234567891011121314151617181920apiVersion: apps/v1kind: Deploymentmetadata: name: nginx-deploymentspec: selector: matchLabels: name: nginx replicas: 3 template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx:1.7.9 imagePullPolicy: IfNotPresent ports: - containerPort: 80ÂàõÂª∫ËØ•DeploymentÔºöÊúâ3‰∏™nginxÂÆû‰æãÔºåÁé∞Âú®Áî®‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Â∞ÜnginxÂÆû‰æãÊâ©ÂÖÖÂà∞5‰∏™Ôºö1kubectl scale deployment nginx-deployment --replicas 5Áº©ÂÆπÔºö1kubectl scale deployment nginx-deployment --replicas 1HPAHPAËÉΩÂ§üÊ†πÊçÆÁâπÂÆöÊåáÊ†áÂÆåÊàêÁõÆÊ†áPodÁöÑËá™Âä®Êâ©Áº©ÂÆπ„ÄÇÂàõÂª∫‰∏Ä‰∏™‰∏é‰∏äÈù¢nginx-deploymentÁõ∏ÂØπÂ∫îÁöÑHPAÔºànginx-deployment-hpa.ymlÔºâÔºö123456789101112apiVersion: autoscaling/v1kind: HorizontalPodAutoscalermetadata: name: nginx-deployment-hpa-v1spec: maxReplicas: 6 minReplicas: 2 scaleTargetRef: apiVersion: apps/v1 kind: Deployment name: nginx-deployment targetCPUUtilizationPercentage: 50‰∏ªË¶ÅÂèÇÊï∞Â¶Ç‰∏ãÔºöscaleTargetRefÔºöÁõÆÊ†á‰ΩúÁî®ÂØπË±°ÔºåÂèØ‰ª•ÊòØDeployment„ÄÅReplicationControllerÊàñReplicaSet„ÄÇtargetCPUUtilizationPercentageÔºöÊúüÊúõÊØè‰∏™PodÁöÑCPU‰ΩøÁî®ÁéáÈÉΩ‰∏∫50%ÔºåËØ•‰ΩøÁî®ÁéáÂü∫‰∫éPodËÆæÁΩÆÁöÑCPU RequestÂÄºËøõË°åËÆ°ÁÆóÔºå‰æãÂ¶ÇËØ•ÂÄº‰∏∫200mÔºåÈÇ£‰πàÁ≥ªÁªüÂ∞ÜÁª¥ÊåÅPodÁöÑÂÆûÈôÖCPU‰ΩøÁî®ÂÄº‰∏∫100m„ÄÇminReplicasÂíåmaxReplicasÔºöPodÂâØÊú¨Êï∞ÈáèÁöÑÊúÄÂ∞èÂÄºÂíåÊúÄÂ§ßÂÄºÔºåÁ≥ªÁªüÂ∞ÜÂú®Ëøô‰∏™ËåÉÂõ¥ÂÜÖËøõË°åËá™Âä®Êâ©Áº©ÂÆπÊìç‰ΩúÔºåÂπ∂Áª¥ÊåÅÊØè‰∏™PodÁöÑCPU‰ΩøÁî®Áéá‰∏∫50%„ÄÇ‰ΩøÁî®HPAÔºåÈúÄË¶ÅÈ¢ÑÂÖàÂÆâË£ÖMetrics ServerÔºåÁî®‰∫éÈááÈõÜPodÁöÑCPU‰ΩøÁî®Áéá„ÄÇ„ÄäKubernetesÊùÉÂ®ÅÊåáÂçó(Á¨¨4Áâà)„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes PodÂçáÁ∫ß‰∏éÂõûÊªö]]></title>
    <url>%2FKubernetes-Pod-Upgrade-And-Rollback.html</url>
    <content type="text"><![CDATA[ÂΩìÈõÜÁæ§‰∏≠ÁöÑÊüê‰∏™ÊúçÂä°ÈúÄË¶ÅÂçáÁ∫ßÊó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÅúÊ≠¢ÁõÆÂâç‰∏éËØ•ÊúçÂä°Áõ∏ÂÖ≥ÁöÑÊâÄÊúâPodÔºåÁÑ∂Âêé‰∏ãËΩΩÊñ∞ÁâàÊú¨ÈïúÂÉèÂπ∂ÂàõÂª∫Êñ∞ÁöÑPod„ÄÇÂ¶ÇÊûúÈõÜÁæ§ËßÑÊ®°ÊØîËæÉÂ§ßÔºåÂàôËøô‰∏™Â∑•‰ΩúÂèòÊàê‰∫Ü‰∏Ä‰∏™ÊåëÊàòÔºåËÄå‰∏îÂÖàÂÖ®ÈÉ®ÂÅúÊ≠¢ÁÑ∂ÂêéÈÄêÊ≠•ÂçáÁ∫ßÁöÑÊñπÂºè‰ºöÂØºËá¥ËæÉÈïøÊó∂Èó¥ÁöÑÊúçÂä°‰∏çÂèØÁî®„ÄÇKubernetesÊèê‰æõ‰∫ÜÊªöÂä®ÂçáÁ∫ßÂäüËÉΩÊù•Ëß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢ò„ÄÇÂ¶ÇÊûúÂú®Êõ¥Êñ∞ËøáÁ®ã‰∏≠ÂèëÁîü‰∫ÜÈîôËØØÔºåÂàôËøòÂèØ‰ª•ÈÄöËøáÂõûÊªöÊìç‰ΩúÊÅ¢Â§çPodÁöÑÁâàÊú¨„ÄÇDeploymentÂçáÁ∫ßÁé∞ÊúâÂ¶Ç‰∏ãdeploymentÂÆö‰πâÔºànginx-deployment.ymlÔºâÔºö1234567891011121314151617181920apiVersion: apps/v1kind: Deploymentmetadata: name: nginx-deploymentspec: selector: matchLabels: name: nginx replicas: 3 template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx:1.7.9 imagePullPolicy: IfNotPresent ports: - containerPort: 80ÂàõÂª∫ËØ•deploymentÔºöÈÄöËøákubectlÂëΩ‰ª§Â∞ÜnginxÁöÑÁâàÊú¨Êõ¥Êñ∞Âà∞1.9.1Ôºö1kubectl set image deployment/nginx-deployment nginx=nginx:1.9.1Êü•ÁúãÊªöÂä®ÂçáÁ∫ßÁöÑËøáÁ®ãÔºöÊü•ÁúãPodÔºå‰ºöÂèëÁé∞ÂêçÁß∞Â∑≤ÁªèÊîπÂèò‰∫ÜÔºö‰∏äËø∞ÊªöÂä®ÂçáÁ∫ßÁöÑËøáÁ®ãÂèØ‰ª•Áî®‰∏ãÂõæË°®Á§∫ÔºöÊü•ÁúãDeployment nginx-deploymentÁöÑËØ¶ÁªÜ‰∫ã‰ª∂‰ø°ÊÅØÂèØ‰ª•ËØÅÊòéËøô‰∏ÄÁÇπÔºö1kubectl describe deployments/nginx-deploymentÊü•ÁúãrsÔºöÈªòËÆ§ÁöÑÂçáÁ∫ßÁ≠ñÁï•‰∏∫RollingUpdateÔºàÊªöÂä®Êõ¥Êñ∞ÔºâÔºåKubernetesËøòÊîØÊåÅRecreateÔºàÈáçÂª∫ÔºâÁ≠ñÁï•ÔºöRecreateÔºöÂÖàÊùÄÊéâÊâÄÊúâÊ≠£Âú®ËøêË°åÁöÑPodÔºåÁÑ∂ÂêéÂàõÂª∫Êñ∞ÁöÑPod„ÄÇRollingUpdateÔºö‰ª•ÊªöÂä®Êõ¥Êñ∞ÁöÑÊñπÂºèÊù•ÈÄê‰∏™Êõ¥Êñ∞Pod„ÄÇÂêåÊó∂ÔºåÂèØ‰ª•ÈÄöËøáËÆæÁΩÆspec.strategy.rollingUpdate‰∏ãÁöÑ‰∏§‰∏™ÂèÇÊï∞ÔºàmaxUnavailableÂíåmaxSurgeÔºâÊù•ÊéßÂà∂ÊªöÂä®Êõ¥Êñ∞ÁöÑËøáÁ®ã„ÄÇRollingUpdateÁöÑ‰∏§‰∏™ÂèÇÊï∞Âê´‰πâÂ¶Ç‰∏ãÔºömaxUnavailableÔºöÁî®‰∫éÊåáÂÆöDeploymentÂú®Êõ¥Êñ∞ËøáÁ®ã‰∏≠‰∏çÂèØÁî®Áä∂ÊÄÅÁöÑPodÊï∞ÈáèÁöÑ‰∏äÈôê„ÄÇËØ•maxUnavailableÁöÑÊï∞ÂÄºÂèØ‰ª•ÊòØÁªùÂØπÂÄºÔºà‰æãÂ¶Ç1ÔºâÊàñPodÊúüÊúõÁöÑÂâØÊú¨Êï∞ÁöÑÁôæÂàÜÊØîÔºà‰æãÂ¶Ç10%Ôºâ„ÄÇmaxSurgeÔºöÁî®‰∫éÊåáÂÆöÂú®DeploymentÊõ¥Êñ∞PodÁöÑËøáÁ®ã‰∏≠PodÊÄªÊï∞Ë∂ÖËøáPodÊúüÊúõÂâØÊú¨Êï∞ÈÉ®ÂàÜÁöÑÊúÄÂ§ßÂÄº„ÄÇËØ•maxSurgeÁöÑÊï∞ÂÄºÂèØ‰ª•ÊòØÁªùÂØπÂÄºÔºà‰æãÂ¶Ç5ÔºâÊàñPodÊúüÊúõÂâØÊú¨Êï∞ÁöÑÁôæÂàÜÊØîÔºà‰æãÂ¶Ç10%Ôºâ„ÄÇÊ≠§Â§ñÔºåÈô§‰∫Ü‰ΩøÁî®kubectlÂëΩ‰ª§ÂçáÁ∫ßÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Áõ¥Êé•ÈÄöËøá‰øÆÊîπdeployment.ymlÁöÑÊñπÂºèÊù•ÂÆåÊàê„ÄÇDeploymentÂõûÊªöÂ¶ÇÊûúÂçáÁ∫ßÂêéÊïàÊûú‰∏çÊª°ÊÑèÁöÑËØùÔºåÊàë‰ª¨‰πüÂèØ‰ª•Â∞ÜDeploymentÂõûÊªöÂà∞ÂçáÁ∫ß‰πãÂâçÔºå‰ΩøÁî®‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Êü•ÁúãÊªöÂä®ÂçáÁ∫ßÁöÑÂéÜÂè≤Ôºö1kubectl rollout history deployment/nginx-deploymentREVISION‰∏∫ÂçáÁ∫ßÁöÑÂéÜÂè≤ÁâàÊú¨ÔºåÊàë‰ª¨Âè™ÂÆåÊàê‰∫Ünginx‰ªé1.7.9ÂçáÁ∫ßÂà∞1.9.1ÁöÑËøáÁ®ãÔºåÊâÄ‰ª•REVISION 1Ë°®Á§∫nginx‰∏∫1.7.9ÁöÑÁâàÊú¨ÔºåREVISION 2Ë°®Á§∫nginx‰∏∫1.9.1ÁöÑÁâàÊú¨„ÄÇÂõ†‰∏∫Êàë‰ª¨Âú®ÂàõÂª∫deploymentÁöÑÊó∂ÂÄôÊ≤°ÊúâÂä†‰∏ä--record=trueÂèÇÊï∞ÔºåÊâÄ‰ª•CHANGE-CACSEÂàóÊòØÁ©∫ÁöÑ„ÄÇÈúÄË¶ÅÊü•ÁúãÁâπÂÆöÁâàÊú¨ÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÂàôÂèØ‰ª•Âä†‰∏ä‚Äìrevision=ÂèÇÊï∞ÔºöË¶ÅÂ∞ÜnginxÂõûÈÄÄÂà∞1.7.9ÁâàÊú¨ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜREVISIONÊåáÂÆö‰∏∫1Ôºö1kubectl rollout undo deployment/nginx-deployment --to-revision=1ÊöÇÂÅú‰∏éÊÅ¢Â§çÂõ†‰∏∫DeploymentÈÖçÁΩÆ‰∏ÄÊó¶‰øÆÊîπÂ∞±‰ºöËß¶ÂèëÂçáÁ∫ßÊìç‰ΩúÔºåÊâÄ‰ª•ÂΩì‰øÆÊîπÁöÑÂú∞ÊñπËæÉÂ§öÁöÑÊó∂ÂÄôÂ∞±‰ºöÈ¢ëÁπÅËß¶ÂèëÂçáÁ∫ß„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÖàÊöÇÂÅúÂçáÁ∫ßÊìç‰ΩúÔºåÂΩìÊâÄÊúâÈÖçÁΩÆÈÉΩ‰øÆÊîπÂ•ΩÂêéÂÜçÊÅ¢Â§çÂçáÁ∫ß„ÄÇÊöÇÂÅúÔºö1kubectl rollout pause deployment/nginx-deploymentÊöÇÂÅúÂêéÔºåÂØπnginx-deploymentÁöÑ‰øÆÊîπ‰∏ç‰ºöËß¶ÂèëÂçáÁ∫ß„ÄÇ‰øÆÊîπÂ•ΩÂêéÔºåÊÅ¢Â§çÂçáÁ∫ßÔºö1kubectl rollout resume deployment/nginx-deploymentÂÖ∂‰ªñPodÁÆ°ÁêÜÂØπË±°ÂçáÁ∫ßÁ≠ñÁï•DaemonSetDaemonSetÁöÑÂçáÁ∫ßÁ≠ñÁï•ÂåÖÊã¨‰∏§ÁßçÔºöOnDeleteÂíåRollingUpdateÔºöOnDeleteÔºàÈªòËÆ§ÔºâÔºöÂú®ÂàõÂª∫Â•ΩÊñ∞ÁöÑDaemonSetÈÖçÁΩÆ‰πãÂêéÔºåÊñ∞ÁöÑPodÂπ∂‰∏ç‰ºöË¢´Ëá™Âä®ÂàõÂª∫ÔºåÁõ¥Âà∞Áî®Êà∑ÊâãÂä®Âà†Èô§ÊóßÁâàÊú¨ÁöÑPodÔºåÊâçËß¶ÂèëÊñ∞Âª∫Êìç‰Ωú„ÄÇRollingUpdateÔºöÂíåÂâçÈù¢‰ªãÁªçÁöÑ‰∏ÄËá¥Ôºå‰∏çËøá‰∏çÊîØÊåÅrolloutÔºåÂè™ËÉΩÈÄöËøáÂ∞ÜÈÖçÁΩÆÊîπÂõûÂéªÊù•ÂÆûÁé∞„ÄÇStatefulSetÊîØÊåÅRecreate„ÄÅOnDeleteÂíåRollingUpdate„ÄÇ„ÄäKubernetesÊùÉÂ®ÅÊåáÂçó(Á¨¨4Áâà)„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes PodÁÆ°ÁêÜÂØπË±°‰∏éË∞ÉÂ∫¶Á≠ñÁï•]]></title>
    <url>%2FKubernetes-Pod-Mananger.html</url>
    <content type="text"><![CDATA[Âú®ÂâçÈù¢ÁöÑÂ≠¶‰π†‰∏≠Êàë‰ª¨‰∫ÜËß£Âà∞ÔºåÂú®Kubernetes‰∏≠ÔºåPodÁÆ°ÁêÜÂØπË±°‰∏ªË¶ÅÊúâRC(RS)„ÄÅDeployment„ÄÅStatefulSet„ÄÅDaemonSetÂíåJobÔºàCronJobÔºâÁ≠â„ÄÇÂÖ∂‰∏≠RC(RS)ÂíåDeploymentÁöÑÁî®Ê≥ïÂ∑≤ÁªèÂ§ßËá¥‰∫ÜËß£ÔºåËøôÈáå‰∏ªË¶ÅËÆ∞ÂΩï‰∏ãStatefulSet„ÄÅDaemonSetÂíåJobÔºàCronJobÔºâÁöÑÁî®Ê≥ï„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåPodÁÆ°ÁêÜÂØπË±°Âú®ÂàõÂª∫PodÁöÑÊó∂ÂÄôÊòØÊ†πÊçÆÁ≥ªÁªüËá™Âä®Ë∞ÉÂ∫¶ÁÆóÊ≥ïÊù•ÂÆåÊàêÈÉ®ÁΩ≤ÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆË∞ÉÂ∫¶Á≠ñÁï•Êù•ÂÆûÁé∞PodÁöÑÁ≤æÂáÜË∞ÉÂ∫¶„ÄÇPodË∞ÉÂ∫¶Á≠ñÁï•NodeSelectorÊàë‰ª¨ÂèØ‰ª•ËØ•Êüê‰∏™ËäÇÁÇπNodeËÆæÁΩÆÊ†áÁ≠æÔºåÁÑ∂ÂêéÈÄöËøáNodeSelectorËÆ©PodË∞ÉÂ∫¶Âà∞ËØ•ËäÇÁÇπ‰∏ä„ÄÇÂâçÈù¢Êê≠Âª∫ÁöÑKubernetesÈõÜÁæ§Êúâ‰∏§‰∏™workerËäÇÁÇπnode1Âíånode2ÔºåÊàë‰ª¨Áªônode2Êâì‰∏™Ê†áÁ≠æÔºö1kubectl label nodes node2 tier=frontendÊé•ÁùÄÂÆö‰πâ‰∏Ä‰∏™RCÈÖçÁΩÆÔºànode-select-pod.ymlÔºâÔºö1234567891011121314151617181920apiVersion: v1kind: ReplicationControllermetadata: name: test-rcspec: replicas: 1 selector: name: nginx template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx ports: - containerPort: 80 nodeSelector: tier: frontendÂàõÂª∫ËØ•RCÔºåËßÇÂØüPodÊúÄÁªàË∞ÉÂ∫¶ÁöÑËäÇÁÇπÔºöÂèØ‰ª•ÁúãÂà∞nginx podÂ∑≤ÁªèÊàêÂäüË∞ÉÂ∫¶Âà∞‰∫Ünode2ËäÇÁÇπ‰∏ä„ÄÇKubernetes‰ºöÁªôÊØè‰∏™nodeË¥¥‰∏ä‰∏Ä‰∫õÈªòËÆ§ÁöÑÊ†áÁ≠æÔºåÈÄöËøákubectl get node node1 -o yamlÂèØ‰ª•ÁúãÂà∞Ëøô‰∫õÈªòËÆ§ÁöÑÊ†áÁ≠æÔºö12345beta.kubernetes.io/arch: amd64beta.kubernetes.io/os: linuxkubernetes.io/arch: amd64kubernetes.io/hostname: node1kubernetes.io/os: linuxËøô‰∫õÈªòËÆ§ÁöÑÊ†áÁ≠æÂú®‰∏ãÈù¢Ëøô‰∫õË∞ÉÂ∫¶Á≠ñÁï•‰∏≠‰πüÊòØËõÆÂ∏∏Áî®ÁöÑ„ÄÇNodeAffinityAffinity[…ôÀàf…™n…ôti]Ôºö‰∫≤ÂíåÂäõÔºåÂñúÂ•Ω„ÄÇNodeAffinity‰∏∫Node‰∫≤ÂíåÂäõË∞ÉÂ∫¶Ôºå‰∏ªË¶ÅÊúâ‰∏§‰∏™ËßÑÂàôÔºàÂêçÁß∞ÊúâÁÇπÈïøÔºåÂø´18cm‰∫ÜÂêßÔºâ:RequiredDuringSchedulingIgnoredDuringExecutionÔºöÂøÖÈ°ªÊª°Ë∂≥ÊåáÂÆöÁöÑËßÑÂàôÊâçÂèØ‰ª•Ë∞ÉÂ∫¶PodÔºåÁ°¨ËßÑÂàô„ÄÇPreferredDuringSchedulingIgnoredDuringExecutionÔºöËΩØËßÑÂàôÔºåÊúÄÂ•ΩÊª°Ë∂≥ÊâÄÂàóÂá∫ÁöÑÊù°‰ª∂ÊâçË∞ÉÂ∫¶Pod„ÄÇIgnoredDuringExecutionÁöÑÊÑèÊÄùÊòØÔºåÂ¶ÇÊûú‰∏Ä‰∏™PodÂ∑≤ÁªèË∞ÉÂ∫¶Âà∞Êüê‰∏™ËäÇÁÇπ‰∏ä‰∫ÜÔºåÁÑ∂ÂêéËøô‰∏™ËäÇÁÇπÁöÑÊ†áÁ≠æÂèëÁîü‰∫ÜÊîπÂèòÔºåÈÇ£‰πà‰∏çÂΩ±ÂìçÂ∑≤ÁªèË∞ÉÂ∫¶Â•ΩÁöÑPodÔºåignore„ÄÇÂÆö‰πâ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂Ôºànode-affinity.ymlÔºâÔºåÁî®‰∫éÊºîÁ§∫NodeAffinityÔºö1234567891011121314151617181920212223242526272829303132333435apiVersion: v1kind: ReplicationControllermetadata: name: test-rcspec: replicas: 1 selector: name: nginx template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx ports: - containerPort: 80 affinity: nodeAffinity: requiredDuringSchedulingIgnoredDuringExecution: nodeSelectorTerms: - matchExpressions: - key: beta.kubernetes.io/arch operator: In values: - amd64 preferredDuringSchedulingIgnoredDuringExecution: - weight: 1 preference: matchExpressions: - key: disk-type operator: In values: - ssd‰∏äÈù¢ÈÖçÁΩÆ‰ΩøÂæóRCÂú®Ë∞ÉÂ∫¶nginx podÁöÑÊó∂ÂÄôÈúÄË¶ÅÊª°Ë∂≥ÔºöËäÇÁÇπÂÖ∑Êúâbeta.kubernetes.io/arch=amd64Ê†áÁ≠æÔºåÂ¶ÇÊûúÂÖ∑Êúâdisk-type=ssdÊ†áÁ≠æÂ∞±Êõ¥Â•Ω‰∫ÜÔºåÊç¢Âè•ËØùËØ¥Â∞±ÊòØÂ∏åÊúõnginx podË∞ÉÂ∫¶Âú®cpuÊû∂ÊûÑ‰∏∫amdÔºåÁ£ÅÁõò‰∏∫ssdÁöÑËäÇÁÇπ‰∏ä„ÄÇ‰∏äÈù¢ÈÖçÁΩÆ‰∏≠ÔºåÊìç‰ΩúÁ¨¶operatorÈô§‰∫ÜÂèØ‰ª•‰ΩøÁî®InÂ§ñÔºåËøòÂèØ‰ª•‰ΩøÁî®NotIn„ÄÅExists„ÄÅDoesNotExist„ÄÅGt„ÄÅLt„ÄÇNodeAffinityËßÑÂàôËÆæÁΩÆÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂá†‰∏™ÁÇπÔºöÂ¶ÇÊûúnodeAffinityÊåáÂÆö‰∫ÜÂ§ö‰∏™nodeSelectorTermsÔºåÈÇ£‰πàÂÖ∂‰∏≠‰∏Ä‰∏™ËÉΩÂ§üÂåπÈÖçÊàêÂäüÂç≥ÂèØÔºõÂ¶ÇÊûúÂú®nodeSelectorTerms‰∏≠ÊúâÂ§ö‰∏™matchExpressionsÔºåÂàô‰∏Ä‰∏™ËäÇÁÇπÂøÖÈ°ªÊª°Ë∂≥ÊâÄÊúâmatchExpressionsÊâçËÉΩËøêË°åËØ•Pod„ÄÇËøêË°å‰∏äÈù¢Ëøô‰∏™ÈÖçÁΩÆÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂõ†‰∏∫node1Âíånode2ÈÉΩÂÖ∑Êúâbeta.kubernetes.io/arch=amd64Ê†áÁ≠æÔºåËÄåÊ≤°Êúâdisk-type=ssdÊ†áÁ≠æÔºåÊâÄ‰ª•nginx podÊúâÂèØËÉΩË¢´Ë∞ÉÂ∫¶Âà∞node1‰πüÊúâÂèØËÉΩË¢´Ë∞ÉÂ∫¶Âà∞node2„ÄÇÊàë‰ª¨Áªônode1Ê∑ªÂä†disk-type=ssdÊ†áÁ≠æÔºåÈáçÊñ∞ËøêË°å‰∏äÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºöÂèØ‰ª•ÁúãÂà∞Ôºånginx podË¢´Ë∞ÉÂ∫¶Âà∞‰∫Ünode1‰∏ä„ÄÇPodAffinityPodAffinityÊåáÁöÑÊòØPod‰∫≤ÂíåÂäõË∞ÉÂ∫¶ËÇ°ÂàôÔºåÊØîÂ¶ÇÊüê‰∫õËäÇÁÇπÂ∑≤ÁªèÂ≠òÂú®‰∏Ä‰∫õPod‰∫ÜÔºåÊñ∞ÁöÑPodÂú®Ë∞ÉÂ∫¶ÁöÑÊó∂ÂÄôÂ∏åÊúõÂíåÊåáÂÆöPodÂú®‰∏ÄÂè∞ËäÇÁÇπ‰∏äÔºå‰∫¶ÊàñÊúâÊÑèÈÅøÂºÄÂíåÊåáÂÆöPodÂú®‰∏ÄÂè∞ËäÇÁÇπ‰∏äÔºåËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•Áî®PodAffinityÂÆûÁé∞„ÄÇNodeAffinityËßÑÂàôËÆæÁΩÆ‰πüÊòØÈÄöËøárequiredDuringSchedulingIgnoredDuringExecutionÂíåPreferredDuringSchedulingIgnoredDuringExecutionÂÆûÁé∞ÁöÑ„ÄÇÊ≠§Â§ñÔºåNodeAffinityËøòÈúÄË¶ÅËÆæÁΩÆtopologyÔºàÊãìÊâëËßÑÂàôÔºâÔºåÊÑè‰∏∫Ë°®ËææËäÇÁÇπÊâÄÂ±ûÁöÑtopologyËåÉÂõ¥Ôºökubernetes.io/hostnameÔºàËäÇÁÇπÊâÄÂ§ÑÁöÑÊúçÂä°Âô®Ôºâfailure-domain.beta.kubernetes.io/zoneÔºàËäÇÁÇπÊâÄÂ§ÑÁöÑÊúçÂä°Âô®‰∫ëÁõòÂàÜÂå∫Ôºâfailure-domain.beta.kubernetes.io/regionÔºàËäÇÁÇπÊâÄÂ§ÑÁöÑÊúçÂä°Âô®‰∫ëÁõòÊâÄÂú®ÁöÑÂú∞Âå∫ÔºâË¶ÅÊºîÁ§∫PodAffinityÁöÑ‰ΩøÁî®ÔºåÈúÄË¶ÅÂÖàÂàõÂª∫‰∏Ä‰∏™ÂèÇÁÖßPodÔºåÂàõÂª∫‰∏Ä‰∏™ÂèÇÁÖßPodÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºàflag-pod.ymlÔºâ:12345678910111213apiVersion: v1kind: Podmetadata: name: flag-pod labels: tier: frontend app: flag-nginxspec: containers: - name: flag-nginx image: nginx ports: - containerPort: 8081Ëøô‰∏™PodÂÖ∑Êúâtier=frontendÂíåapp=flag-nginxÊ†áÁ≠æ„ÄÇÂàõÂª∫Ëøô‰∏™ÂèÇÁÖßPodÔºöÂèÇÁÖßpodËøêË°åÂú®‰∫Ünode1ËäÇÁÇπ‰∏ä„ÄÇÂàõÂª∫Â•ΩÂêéÔºåÊé•ÁùÄÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑÈÖçÁΩÆÁ±ªÔºàpod-affinity.ymlÔºâÔºö1234567891011121314151617181920apiVersion: v1kind: Podmetadata: name: pod-affinityspec: containers: - name: nginx image: nginx ports: - containerPort: 80 affinity: podAffinity: requiredDuringSchedulingIgnoredDuringExecution: - labelSelector: matchExpressions: - key: tier operator: In values: - frontend topologyKey: kubernetes.io/hostname‰∏äËø∞ÈÖçÁΩÆË¶ÅÊ±ÇÔºånginx podÈúÄË¶ÅÂíåÊ†áÁ≠æÂåÖÂê´tier=frontendÁöÑPodÂàÜÈÖçÂú®Âêå‰∏Ä‰∏™Node‰∏äÔºàtopologyKey: kubernetes.io/hostnameÔºâÔºåÂàõÂª∫ËØ•PodÔºåËßÇÂØüÂÆÉË¢´Ë∞ÉÂ∫¶Âà∞Âì™‰∏™ËäÇÁÇπ‰∏ä‰∫ÜÔºöpodAntiAffinityÂíåpodAffinityÂàöÂ•ΩÁõ∏ÂèçÔºå‰∏æ‰∏™‰æãÂ≠êÔºåÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈÖçÁΩÆÁ±ªÔºàpod-affinity-two.ymlÔºâÔºö1234567891011121314151617181920apiVersion: v1kind: Podmetadata: name: pod-affinity-twospec: containers: - name: nginx image: nginx ports: - containerPort: 80 affinity: podAntiAffinity: requiredDuringSchedulingIgnoredDuringExecution: - labelSelector: matchExpressions: - key: app operator: In values: - flag-nginx topologyKey: kubernetes.io/hostname‰∏äÈù¢ÈÖçÁΩÆÂ∏åÊúõnginx pod‰∏çÂíåapp=flag-nginxÁöÑPodÂú®Âêå‰∏Ä‰∏™ËäÇÁÇπ„ÄÇÂàõÂª∫ËØ•PodÔºåËßÇÂØüÂÆÉË¢´Ë∞ÉÂ∫¶Âà∞Âì™‰∏™ËäÇÁÇπ‰∏ä‰∫ÜÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂÆÉÂíåflag-nginxÂ§Ñ‰∫é‰∏çÂêåÁöÑËäÇÁÇπÔºå‰Ωç‰∫énode2„ÄÇTaints &amp; TolerationsTaintsÁî®‰∫éÁªôËäÇÁÇπÊ∑ªÂä†Ê±°ÁÇπÔºåËÄåTolerationsÁî®‰∫éÂÆö‰πâPodÂØπËäÇÁÇπÊ±°ÁÇπÁöÑÂÆπÂøçÂ∫¶„ÄÇÂú®Node‰∏äËÆæÁΩÆ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Taint‰πãÂêéÔºåÈô§ÈùûPodÊòéÁ°ÆÂ£∞ÊòéËÉΩÂ§üÂÆπÂøçËøô‰∫õÊ±°ÁÇπÔºåÂê¶ÂàôÊó†Ê≥ïÂú®Ëøô‰∫õNode‰∏äËøêË°å„ÄÇTolerationÊòØPodÁöÑÂ±ûÊÄßÔºåËÆ©PodËÉΩÂ§üÔºàÊ≥®ÊÑèÔºåÂè™ÊòØËÉΩÂ§üÔºåËÄåÈùûÂøÖÈ°ªÔºâËøêË°åÂú®Ê†áÊ≥®‰∫ÜTaintÁöÑNode‰∏ä„ÄÇÁªôËäÇÁÇπËÆæÁΩÆÊ±°ÁÇπÁöÑËØ≠Ê≥ï‰∏∫Ôºö1kubectl taint nodes [nodeName] key=value:ruleÂÖ∂‰∏≠ruleÁöÑÂèñÂÄºÊúâÔºöNoScheudleÔºö‰∏çË∞ÉÂ∫¶ÔºõPreferNoScheduleÔºöÊúÄÂ•Ω‰∏çË¶ÅË∞ÉÂ∫¶ÔºõNoExecuteÔºö‰∏çËøêË°åÔºõPreferNoExecuteÔºöÊúÄÂ•Ω‰∏çËøêË°å„ÄÇNoScheduleÂíåNoExecuteÂå∫Âà´ÔºöNoSchedule‰∏çË∞ÉÂ∫¶ÔºåÂ¶ÇÊûúÊòØÂú®Ë∞ÉÂ∫¶ÂêéËÆæÁΩÆÁöÑÊ±°ÁÇπÔºåÂπ∂‰∏îPodÊ≤°ÊúâÂÆπÂøçËØ•Ê±°ÁÇπÔºå‰πüËÉΩÁªßÁª≠ÊâßË°åNoExecute‰∏çÊâßË°åÔºåÂ¶ÇÊûúÊòØÂú®Ë∞ÉÂ∫¶ÂêéËÆæÁΩÆÁöÑÊ±°ÁÇπÔºåÂπ∂‰∏îPodÊ≤°ÊúâÂÆπÂøçËØ•Ê±°ÁÇπÔºåÂàô‰ºöË¢´È©±ÈÄê„ÄÇÂèØ‰ª•ËÆæÁΩÆÈ©±ÈÄêÊó∂Èó¥tolerationSeconds: xx„ÄÇÊàë‰ª¨Áªônode1ËäÇÁÇπËÆæÁΩÆ‰∏Ä‰∏™Ê±°ÁÇπÔºö1kubectl taint nodes node1 aa=bb:NoScheduleÁÑ∂ÂêéÊñ∞Âª∫‰∏Ä‰∏™PodÈÖçÁΩÆÁ±ªÔºàpod-taint-test.ymlÔºâÔºö123456789101112131415apiVersion: v1kind: Podmetadata: name: pod-taintspec: containers: - name: nginx image: nginx ports: - containerPort: 80 tolerations: - key: "aa" operator: "Equal" value: "bb" effect: "NoSchedule"PodÁöÑTolerationÂ£∞Êòé‰∏≠ÁöÑkeyÂíåeffectÈúÄË¶Å‰∏éTaintÁöÑËÆæÁΩÆ‰øùÊåÅ‰∏ÄËá¥ÔºåÂπ∂‰∏îÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂‰πã‰∏ÄÔºöoperatorÁöÑÂÄºÊòØExistsÔºàÊó†È°ªÊåáÂÆövalueÔºâÔºåÂ¶ÇÔºö12345...... tolerations: - key: "aa" operator: "Exists" effect: "NoSchedule"operatorÁöÑÂÄºÊòØEqualÂπ∂‰∏îvalueÁõ∏Á≠â„ÄÇÂ¶ÇÊûú‰∏çÊåáÂÆöoperatorÔºåÂàôÈªòËÆ§ÂÄº‰∏∫Equal„ÄÇÂè¶Â§ñÔºåÊúâÂ¶Ç‰∏ã‰∏§‰∏™Áâπ‰æãÔºöÁ©∫ÁöÑkeyÈÖçÂêàExistsÊìç‰ΩúÁ¨¶ËÉΩÂ§üÂåπÈÖçÊâÄÊúâÁöÑÈîÆÂíåÂÄºÔºõÁ©∫ÁöÑeffectÂåπÈÖçÊâÄÊúâÁöÑeffect„ÄÇÂõûÂà∞pod-taint-test.ymlÔºåËØ•ÈÖçÁΩÆÊñá‰ª∂ÂÆö‰πânginx podÂèØ‰ª•ÂÆπÂøçaa=bb:NoScheduleËøô‰∏™Ê±°ÁÇπÔºåÊâÄ‰ª•ÂÆÉÊúâÂèØËÉΩ‰ºöË¢´Ë∞ÉÂ∫¶Âà∞node1‰∏ä„ÄÇÂàõÂª∫ËØ•PodÔºåËßÇÂØüÔºöËøôÊó∂ÂÄôÂú®nginx podÊâÄËøêË°åÁöÑËäÇÁÇπnode1‰∏äÊñ∞Â¢û‰∏Ä‰∏™Ê±°ÁÇπÔºö1kubectl taint nodes node1 cc=dd:NoExecuteËßÇÂØünginx podÊÉÖÂÜµÔºöÂèØ‰ª•ÁúãÂà∞ÂÆÉË¢´È©±ÈÄê‰∫ÜÔºåÂ∑≤ÁªèÊ≤°ÊúâÊ≠£Âú®ËøêË°åÁöÑpod‰∫Ü„ÄÇPod Priority PreemptionÊàë‰ª¨ÂèØ‰ª•ÁªôPodÊåáÂÆö‰ºòÂÖàÁ∫ßÔºå‰ºòÂÖàÁ∫ßÂèØ‰ª•ÈÄöËøáPriorityClassÂØπË±°ÂàõÂª∫ÔºåÊØîÂ¶ÇÂàõÂª∫‰∏Ä‰∏™‰ºòÂÖàÁ∫ß‰∏∫10000ÁöÑPriorityClassÔºö1234567apiVersion: scheduling.k8s.io/v1kind: PriorityClassmetadata: name: hign-priorityvalue: 10000globalDefault: falsedescription: "10000‰ºòÂÖàÁ∫ß"‰∏äËø∞Êñá‰ª∂ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫high-priorityÁöÑ‰ºòÂÖàÁ∫ßÁ±ªÂà´Ôºå‰ºòÂÖàÁ∫ß‰∏∫10000ÔºåÊï∞Â≠óË∂äÂ§ßÔºå‰ºòÂÖàË∂äÈ´ò„ÄÇË∂ÖËøá‰∏Ä‰∫øÁöÑÊï∞Â≠óË¢´Á≥ªÁªü‰øùÁïôÔºåÁî®‰∫éÊåáÊ¥æÁªôÁ≥ªÁªüÁªÑ‰ª∂„ÄÇ‰ºòÂÖàÁ∫ßÂàõÂª∫ÂêéÔºåÂèØ‰ª•Âú®PodÂÆö‰πâ‰∏≠ÂºïÁî®ËØ•‰ºòÂÖàÁ∫ßÔºö12345678...spec: containers: - name: nginx image: nginx ports: - containerPort: 80 priorityClassName: hign-priorityPodÁÆ°ÁêÜÂØπË±°JobJobÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑPodÁÆ°ÁêÜÂØπË±°ÔºåÊòØ‰∏ÄÁßç‰∏ÄÊ¨°ÊÄßPodËøêË°å‰ªªÂä°Ôºå‰ªªÂä°ÁªìÊùüÂêéÔºåPodÁöÑÁîüÂëΩÂë®Êúü‰πüÂ∞±ÁªìÊùü‰∫Ü„ÄÇÂÆö‰πâ‰∏Ä‰∏™JobÈÖçÁΩÆÁ±ªÔºàjob.ymlÔºâÔºö123456789101112apiVersion: batch/v1kind: Jobmetadata: name: job-exspec: template: spec: containers: - name: job image: busybox command: ["echo", "hello job"] restartPolicy: NeverJobÁöÑÈáçÂêØÁ≠ñÁï•restartPolicyÂè™ÊîØÊåÅNeverÂíåOnFailure„ÄÇÂàõÂª∫Ëøô‰∏™JobÔºöÊü•ÁúãJobÁä∂ÊÄÅÔºöCOMPLETIONS 1/1Ë°®Á§∫ÊÄªÂÖ±ÈúÄË¶ÅÊâßË°å1‰∏™‰ªªÂä°ÔºåÂÖ±ÊâßË°åÂÆå1‰∏™‰ªªÂä°„ÄÇÊü•ÁúãÂØπÂ∫îPodÁöÑÁä∂ÊÄÅÔºöÁä∂ÊÄÅ‰∏∫Completed„ÄÇÊü•ÁúãJobÊó•ÂøóÔºöJobËøòÂèØ‰ª•ËÆæÁΩÆÂπ∂ÂèëÊï∞ÈáèÂíåÊÄªJobÊï∞Ôºå‰øÆÊîπ‰∏äÈù¢ÁöÑjob.ymlÔºö1234567891011121314apiVersion: batch/v1kind: Jobmetadata: name: job-exspec: parallelism: 2 # Âπ∂ÂèëÊï∞2 completions: 6 # ÊÄªÁöÑJobÊï∞Èáè template: spec: containers: - name: job image: busybox command: ["echo", "hello job"] restartPolicy: NeverËøêË°åËØ•JobÔºö Êü•ÁúãPodÔºöCronJobCronJobÈ°æÂêçÊÄù‰πâÂ∞±ÊòØÊîØÊåÅCronË°®ËææÂºèÁöÑJobÔºå‰∏çËøáKubernetesÁöÑCronË°®ËææÂºèÂíå‰º†ÁªüÁöÑCronË°®ËææÂºè‰∏çÂ§™‰∏ÄÊ†∑Ôºå‰∏çÊîØÊåÅÂà∞ÁßíÁ∫ß„ÄÇÂÖ∑‰ΩìËßÑÂàôÂ¶Ç‰∏ãÔºö1Minutes Hours DayofMonth Month DayofWeek YearMinutesÔºöÂèØÂá∫Áé∞, - * / Ëøô4‰∏™Â≠óÁ¨¶ÔºåÊúâÊïàËåÉÂõ¥‰∏∫0ÔΩû59ÁöÑÊï¥Êï∞„ÄÇHoursÔºöÂèØÂá∫Áé∞, - * /Ëøô4‰∏™Â≠óÁ¨¶Ôºå ÊúâÊïàËåÉÂõ¥‰∏∫0ÔΩû23ÁöÑÊï¥Êï∞„ÄÇDayofMonthÔºöÂèØÂá∫Áé∞, - * / ? L W C Ëøô8‰∏™Â≠óÁ¨¶ÔºåÊúâÊïàËåÉÂõ¥‰∏∫0ÔΩû31ÁöÑÊï¥Êï∞„ÄÇMonthÔºöÂèØÂá∫Áé∞, - * /Ëøô4‰∏™Â≠óÁ¨¶ÔºåÊúâÊïàËåÉÂõ¥‰∏∫1ÔΩû12ÁöÑÊï¥Êï∞ÊàñJANÔΩûDEC„ÄÇDayofWeekÔºöÂèØÂá∫Áé∞, - * / ? L C ÔºÉËøô8‰∏™Â≠óÁ¨¶ÔºåÊúâÊïàËåÉÂõ¥‰∏∫1ÔΩû7ÁöÑÊï¥Êï∞ÊàñSUNÔΩûSAT„ÄÇ1Ë°®Á§∫ÊòüÊúüÂ§©Ôºå2Ë°®Á§∫ÊòüÊúü‰∏ÄÔºå‰ª•Ê≠§Á±ªÊé®„ÄÇ‰∏äÈù¢ÁâπÊÆäÂ≠óÁ¨¶ÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºö*ÔºöË°®Á§∫ÂåπÈÖçËØ•ÂüüÁöÑ‰ªªÊÑèÂÄºÔºåÂÅáÂ¶ÇÂú®MinutesÂüü‰ΩøÁî®*ÔºåÂàôË°®Á§∫ÊØèÂàÜÈíüÈÉΩ‰ºöËß¶Âèë‰∫ã‰ª∂„ÄÇ/ÔºöË°®Á§∫‰ªéËµ∑ÂßãÊó∂Èó¥ÂºÄÂßãËß¶ÂèëÔºåÁÑ∂ÂêéÊØèÈöîÂõ∫ÂÆöÊó∂Èó¥Ëß¶Âèë‰∏ÄÊ¨°Ôºå‰æãÂ¶ÇÂú®MinutesÂüüËÆæÁΩÆ‰∏∫5/20ÔºåÂàôÊÑèÂë≥ÁùÄÁ¨¨1Ê¨°Ëß¶ÂèëÂú®Á¨¨5minÊó∂ÔºåÊé•‰∏ãÊù•ÊØè20minËß¶Âèë‰∏ÄÊ¨°ÔºåÂ∞ÜÂú®Á¨¨25min„ÄÅÁ¨¨45minÁ≠âÊó∂ÂàªÂàÜÂà´Ëß¶Âèë„ÄÇÂÆö‰πâ‰∏Ä‰∏™CronJobÁöÑÈÖçÁΩÆÁ±ªÔºàcron-job.ymlÔºâÔºö123456789101112131415apiVersion: batch/v1beta1kind: CronJobmetadata: name: cron-job-exspec: schedule: "*/1 * * * *" jobTemplate: spec: template: spec: containers: - name: hello image: busybox command: ["sh", "-c", "date;echo hello cronJob"] restartPolicy: Never‰∏äÈù¢ÁöÑÂÆöÊó∂‰ªªÂä°ÊØèÂàÜÈíüÊâßË°å‰∏ÄÊ¨°„ÄÇÂàõÂª∫ËØ•CronJobÔºöËøá‰∏™‰∏§‰∏âÂàÜÈíüÊü•ÁúãËøêË°åÊÉÖÂÜµÔºöDaemonSetDaemonSetÈÄÇÁî®‰∫éÂú®ÊØè‰∏™NodeÈÉΩÈúÄË¶ÅËøêË°å‰∏Ä‰∏™PodÁöÑÊó∂ÂÄô‰ΩøÁî®ÔºåÊØîÂ¶ÇÔºöÊØè‰∏Ä‰∏™Node‰∏äËøêË°å‰∏Ä‰∏™Êó•ÂøóÈááÈõÜ„ÄÅÊÄßËÉΩÁõëÊéßÁöÑPod„ÄÇÊØîÂ¶ÇÊàë‰ª¨Áé∞Âú®ÈúÄË¶ÅÂú®ÊØè‰∏™ËäÇÁÇπ‰∏äÈÉΩÈÉ®ÁΩ≤‰∏Ä‰∏™node-exporterÊù•ÈááÈõÜËäÇÁÇπ‰ø°ÊÅØÔºåÂèØ‰ª•ÈÄöËøáDaemonSetÊù•ÂÆûÁé∞„ÄÇÂÆö‰πâ‰∏Ä‰∏™DaemonSetÈÖçÁΩÆÊñá‰ª∂Ôºàdaemonset.ymlÔºâÔºö123456789101112131415161718apiVersion: apps/v1kind: DaemonSetmetadata: name: node-exporter-dspec: selector: matchLabels: name: node-exporter template: metadata: labels: name: node-exporter spec: containers: - name: node-exporter image: prom/node-exporter ports: - containerPort: 9100ÂàõÂª∫ËØ•DaemonSet‰πãÂâçÂÖàÂà†Èô§‰∏äÈù¢Âú®node1ËäÇÁÇπ‰∏äÂàõÂª∫ÁöÑÊ±°ÁÇπÔºö12kubectl taint nodes node1 aa:NoSchedule-kubectl taint nodes node1 cc:NoExecute-ÂàõÂª∫ËØ•DaemonSetÔºåÁÑ∂ÂêéËßÇÂØüPod‰ø°ÊÅØÔºåÁúãÊòØÂê¶ÊØè‰∏™ËäÇÁÇπÈÉΩÈÉ®ÁΩ≤‰∫Ü‰∏Ä‰∏™ÂÆû‰æãÔºöStatefulSetÁ≥ªÁªüÂ≠¶‰π†PV/PVCÂêéÂÜçÊ∑±ÂÖ•„ÄÇ„ÄäKubernetesÊùÉÂ®ÅÊåáÂçó(Á¨¨4Áâà)„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes PodÂü∫Á°Ä]]></title>
    <url>%2FKubernetes-Pod-Basic.html</url>
    <content type="text"><![CDATA[PodÊòØKubernetesÁöÑÊúÄÂ∞èË∞ÉÂ∫¶Âçï‰ΩçÔºåÂåÖÂê´‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™ÂÆπÂô®ÔºàÊØîÂ¶ÇDockerÂÆπÂô®ÔºâÔºåÂÆπÂô®Èó¥ÂÖ±‰∫´ÁΩëÁªúÂíåÂ≠òÂÇ®„ÄÇËøôËäÇ‰∏ªË¶ÅËÆ∞ÂΩï‰ªÄ‰πàÊòØÈùôÊÄÅPodÔºåPodÂÆπÂô®Â¶Ç‰ΩïÂÖ±‰∫´Â≠òÂÇ®ÔºåÂ¶Ç‰Ωï‰ΩøÁî®ConfigMapÁÆ°ÁêÜPodÈÖçÁΩÆÔºåÂ¶Ç‰Ωï‰ΩøÁî®Downward APIËé∑ÂèñPod‰ø°ÊÅØÁ≠â„ÄÇÈùôÊÄÅPodÈùôÊÄÅPodÊòØÁî±kubeletÂàõÂª∫Âπ∂ÁÆ°ÁêÜÁöÑÁâπÊÆäÁöÑPodÔºåÊó†Ê≥ïÂíåPodÁÆ°ÁêÜÂØπË±°ÂÖ≥ËÅîÔºåÂπ∂‰∏î‰∏çËÉΩÈÄöËøáAPI ServerÂÖ≥ËÅî„ÄÇÂàõÂª∫ÈùôÊÄÅPodÊúâÈÖçÁΩÆÊñá‰ª∂ÊñπÂºèÂíåHTTPÊñπÂºèÔºöÈÖçÁΩÆÊñá‰ª∂ÊñπÂºèÂú®Êê≠Âª∫KubernetesÈõÜÁæ§ÁöÑÊó∂ÂÄôÔºå‰ªéÂêØÂä®MasterËäÇÁÇπÁöÑÊó•ÂøóÂèØ‰ª•ÁúãÂá∫ÔºåÈùôÊÄÅPodÁöÑÁõÆÂΩï‰Ωç‰∫é/etc/kubernetes/manifestsÔºöÂú®ËØ•ÁõÆÂΩï‰∏ãÂàõÂª∫ÈùôÊÄÅPodÊñá‰ª∂Ôºö12cd /etc/kubernetes/manifestsvim static-pod.yamlÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213apiVersion: v1kind: Podmetadata: name: static-pod labels: name: static-podspec: containers: - name: static-nginx image: nginx imagePullPolicy: IfNotPresent ports: - containerPort: 80Ëøá‰∫Ü‰∏Ä‰ºöÊü•ÁúãPodÔºö‰∫éÈùôÊÄÅPodÊó†Ê≥ïÈÄöËøáAPI ServerÁõ¥Êé•ÁÆ°ÁêÜÔºåÊâÄ‰ª•Âú®Master‰∏äÂ∞ùËØïÂà†Èô§Ëøô‰∏™PodÊó∂Ôºå‰ºö‰ΩøÂÖ∂ÂèòÊàêPendingÁä∂ÊÄÅÔºå‰∏î‰∏ç‰ºöË¢´Âà†Èô§„ÄÇÂà†Èô§ËØ•PodÁöÑÊìç‰ΩúÂè™ËÉΩÊòØÂà∞ÂÖ∂ÊâÄÂú®Node‰∏äÂ∞ÜÂÖ∂ÂÆö‰πâÊñá‰ª∂static-pod.yaml‰ªé/etc/kubernetes/manifestsÁõÆÂΩï‰∏ãÂà†Èô§ÔºöHTTPÊñπÂºèËøáËÆæÁΩÆkubeletÁöÑÂêØÂä®ÂèÇÊï∞--manifest-urlÔºåkubeletÂ∞Ü‰ºöÂÆöÊúü‰ªéËØ•URLÂú∞ÂùÄ‰∏ãËΩΩPodÁöÑÂÆö‰πâÊñá‰ª∂ÔºåÂπ∂‰ª•.yamlÊàñ.jsonÊñá‰ª∂ÁöÑÊ†ºÂºèËøõË°åËß£ÊûêÔºåÁÑ∂ÂêéÂàõÂª∫Pod„ÄÇPodÂÆπÂô®ÂÖ±‰∫´VolumeÂêå‰∏Ä‰∏™PodÁöÑÂ§ö‰∏™ÂÆπÂô®Èó¥ÂèØ‰ª•ÂÖ±‰∫´PodÁ∫ßÂà´ÁöÑVolumeÔºå‰∏æ‰∏™‰æãÂ≠êÔºö1vim pod-volume.ymlÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324apiVersion: v1kind: Podmetadata: name: pod-volumespec: containers: - name: tomcat image: tomcat imagePullPolicy: IfNotPresent ports: - containerPort: 8080 volumeMounts: - mountPath: /usr/local/tomcat/logs name: logs - name: busybox image: busybox imagePullPolicy: IfNotPresent command: ["sh", "-c", "tail -f /logs/catalina*.log"] volumeMounts: - mountPath: /logs name: logs volumes: - name: logs emptyDir: &#123;&#125;‰∏äÈù¢PodÂÆö‰πâ‰∏≠ÔºåÂàõÂª∫‰∫Ü‰∏Ä‰∏™PodÁ∫ßÂà´ÁöÑVolumeÔºåÂêçÁß∞‰∏∫logsÔºåÁ±ªÂûã‰∏∫emptyDir„ÄÇËøô‰∏™VolumeÂêåÊó∂ÊåÇËΩΩÂà∞‰∫ÜtomcatÁöÑ/usr/local/tomcat/logsÁõÆÂΩï‰∏ãÔºå‰πüÊåÇËΩΩÂà∞‰∫ÜbusyboxÁöÑ/logsÁõÆÂΩï‰∏ã„ÄÇÂàõÂª∫ËØ•PodÔºö1kubectl create -f pod-volume.ymlËøôÈáåÁöÑtomcatÈïúÂÉèÊØîËæÉÂ§ßÔºåÂ§ßÊ¶ÇÊúâ500MBÂ∑¶Âè≥ÔºåÊâÄ‰ª•Âú®ÂàõÂª∫‰πãÂâçÔºåÊúÄÂ•ΩÂú®KubernetesÈõÜÁæ§ÁöÑÊØè‰∏™ËäÇÁÇπ‰∏≠ÈÖçÁΩÆDockerÈïúÂÉèÂä†ÈÄüÂú∞ÂùÄ„ÄÇÂΩìpod-volumeÁä∂ÊÄÅ‰∏∫readyÂêéÔºåÊü•ÁúãbusyboxÁöÑÊó•ÂøóÔºöËØ•Êó•Âøó‰∏∫tomcatÁöÑÂêØÂä®Êó•ÂøóÔºåËØ¥Êòé‰∏äÈù¢ÊåÇËΩΩÁöÑVolumeÁîüÊïà‰∫ÜÔºåÂèØ‰ª•ÈÄöËøáÊü•Áúãtomcat/usr/local/tomcat/logsÁõÆÂΩï‰∏ãÂíåbusybox/logsÁõÆÂΩï‰∏ãÁöÑÂÜÖÂÆπÊù•ËØÅÊòéËøô‰∏ÄÁÇπÔºöConfigMapConfigMap‰ª•‰∏Ä‰∏™ÊàñÂ§ö‰∏™key:valueÁöÑÂΩ¢Âºè‰øùÂ≠òÂú®KubernetesÁ≥ªÁªü‰∏≠‰æõÂ∫îÁî®‰ΩøÁî®ÔºåÊó¢ÂèØ‰ª•Áî®‰∫éË°®Á§∫‰∏Ä‰∏™ÂèòÈáèÁöÑÂÄºÔºà‰æãÂ¶Çversion=v1ÔºâÔºå‰πüÂèØ‰ª•Áî®‰∫éË°®Á§∫‰∏Ä‰∏™ÂÆåÊï¥ÈÖçÁΩÆÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºà‰æãÂ¶Çserver.xml=&lt;?xml...&gt;...Ôºâ„ÄÇÂàõÂª∫ConfigMapÂàõÂª∫ConfigMap‰∏ªË¶ÅÊúâ‰∏§ÁßçÊñπÂºèÔºö1.ÈÄöËøáymlÊñá‰ª∂ÂàõÂª∫ÂàõÂª∫simple-cm.ymlÊñá‰ª∂ÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567apiVersion: v1kind: ConfigMapmetadata: name: simple-cmdata: version: v1 release: stableËØ•ConfigMap‰ªÖÂåÖÂê´‰∏§‰∏™ÁÆÄÂçïÁöÑÂÄºversionÂíåreleases„ÄÇÂàõÂª∫ËØ•ConfigMapÔºö1kubectl create -f simple-cm.ymlÊü•ÁúãËØ•ConfigMapÔºöÂú®ÂÆö‰πâConfigMapÁöÑÊó∂ÂÄôÔºåvalueÈô§‰∫ÜÂèØ‰ª•‰ΩøÁî®ÁÆÄÂçïÁöÑÂÄºÂ§ñÔºåËøòÂèØ‰ª•ÊòØÊï¥‰∏™ÈÖçÁΩÆÊñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇÂàõÂª∫file-cm.ymlÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758apiVersion: v1kind: ConfigMapmetadata: name: file-cmdata: serverXml: | &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;Server port="8005" shutdown="SHUTDOWN"&gt; &lt;Listener className="org.apache.catalina.startup.VersionLoggerListener"/&gt; &lt;Listener SSLEngine="on" className="org.apache.catalina.core.AprLifecycleListener"/&gt; &lt;!-- Prevent memory leaks due to use of particular java/javax APIs--&gt; &lt;Listener className="org.apache.catalina.core.JreMemoryLeakPreventionListener"/&gt; &lt;Listener className="org.apache.catalina.mbeans.GlobalResourcesLifecycleListener"/&gt; &lt;Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener"/&gt; &lt;GlobalNamingResources&gt; &lt;Resource auth="Container" description="User database that can be updated and saved" factory="org.apache.catalina.users.MemoryUserDatabaseFactory" name="UserDatabase" pathname="conf/tomcat-users.xml" type="org.apache.catalina.UserDatabase"/&gt; &lt;/GlobalNamingResources&gt; &lt;Service name="Catalina"&gt; &lt;Connector connectionTimeout="20000" port="8080" protocol="HTTP/1.1" redirectPort="8443"/&gt; &lt;Connector port="8009" protocol="AJP/1.3" redirectPort="8443"/&gt; &lt;Engine defaultHost="localhost" name="Catalina"&gt; &lt;Realm className="org.apache.catalina.realm.LockOutRealm"&gt; &lt;Realm className="org.apache.catalina.realm.UserDatabaseRealm" resourceName="UserDatabase"/&gt; &lt;/Realm&gt; &lt;Host appBase="webapps" autoDeploy="true" name="localhost" unpackWARs="true"&gt; &lt;Valve className="org.apache.catalina.valves.AccessLogValve" directory="logs" pattern="%h %l %u %t &amp;quot;%r&amp;quot; %s %b" prefix="localhost_access_log" suffix=".txt"/&gt; &lt;Context docBase="D:\Code\apache-tomcat-8.5.32\webapps\tj_certification" path="/tj_certification" reloadable="true" source="org.eclipse.jst.jee.server:tj_certification"/&gt;&lt;/Host&gt; &lt;/Engine&gt; &lt;/Service&gt; &lt;/Server&gt; serverProperties: "1catalina.org.apache.juli.AsyncFileHandler.level = FINE 1catalina.org.apache.juli.AsyncFileHandler.directory = $&#123;catalina.base&#125;/logs 1catalina.org.apache.juli.AsyncFileHandler.prefix = catalina. 2localhost.org.apache.juli.AsyncFileHandler.level = FINE 2localhost.org.apache.juli.AsyncFileHandler.directory = $&#123;catalina.base&#125;/logs 2localhost.org.apache.juli.AsyncFileHandler.prefix = localhost. 3manager.org.apache.juli.AsyncFileHandler.level = FINE 3manager.org.apache.juli.AsyncFileHandler.directory = $&#123;catalina.base&#125;/logs 3manager.org.apache.juli.AsyncFileHandler.prefix = manager. 4host-manager.org.apache.juli.AsyncFileHandler.level = FINE 4host-manager.org.apache.juli.AsyncFileHandler.directory = $&#123;catalina.base&#125;/logs 4host-manager.org.apache.juli.AsyncFileHandler.prefix = host-manager. java.util.logging.ConsoleHandler.level = FINE java.util.logging.ConsoleHandler.formatter = org.apache.juli.OneLineFormatter org.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = INFO org.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = 2localhost.org.apache.juli.AsyncFileHandler org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].level = INFO org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].handlers = 3manager.org.apache.juli.AsyncFileHandler org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].level = INFO org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-manager].handlers = 4host-manager.org.apache.juli.AsyncFileHandler"ÂàõÂª∫ËØ•ConfigMapÔºö2.Áõ¥Êé•ÈÄöËøáKubectlÂëΩ‰ª§ÂàõÂª∫ÈÄöËøákubectlÂëΩ‰ª§ÂàõÂª∫ConfigMap‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰∏âÁßçÁî®Ê≥ïÔºöÈÄöËøá‚Äìfrom-fileÂèÇÊï∞‰ªéÊñá‰ª∂‰∏≠ËøõË°åÂàõÂª∫ÔºåÂèØ‰ª•ÊåáÂÆökeyÁöÑÂêçÁß∞Ôºå‰πüÂèØ‰ª•Âú®‰∏Ä‰∏™ÂëΩ‰ª§Ë°å‰∏≠ÂàõÂª∫ÂåÖÂê´Â§ö‰∏™keyÁöÑConfigMapÔºåËØ≠Ê≥ï‰∏∫Ôºö1kubectl cerate configmap [NAME] --from-file=[key=]source --from-file=[key=]sourceÈÄöËøá‚Äìfrom-fileÂèÇÊï∞‰ªéÁõÆÂΩï‰∏≠ËøõË°åÂàõÂª∫ÔºåËØ•ÁõÆÂΩï‰∏ãÁöÑÊØè‰∏™ÈÖçÁΩÆÊñá‰ª∂ÂêçÈÉΩË¢´ËÆæÁΩÆ‰∏∫keyÔºåÊñá‰ª∂ÁöÑÂÜÖÂÆπË¢´ËÆæÁΩÆ‰∏∫valueÔºåËØ≠Ê≥ï‰∏∫Ôºö1kubectl cerate configmap [NAME] --from-file=config-file-dir‰ΩøÁî®‚Äìfrom-literalÊó∂‰ºö‰ªéÊñáÊú¨‰∏≠ËøõË°åÂàõÂª∫ÔºåÁõ¥Êé•Â∞ÜÊåáÂÆöÁöÑkey#=value#ÂàõÂª∫‰∏∫ConfigMapÁöÑÂÜÖÂÆπÔºåËØ≠Ê≥ï‰∏∫Ôºö1kubectl cerate configmap [NAME] --from-literal=key1=value1 --from-literal=key2=value2ÊØîÂ¶Ç‰ΩøÁî®kubectlÂëΩ‰ª§ÂàõÂª∫‰∏Ä‰∏™Âíåsimple-cmÊïàÊûú‰∏ÄÊ†∑ÁöÑConfigMapÔºö‰ΩøÁî®kubectlÂëΩ‰ª§ÂàõÂª∫‰∏Ä‰∏™Âíåfile-cmÊïàÊûú‰∏ÄÊ†∑ÁöÑConfigMapÔºöÈ¶ñÂÖàÂú®ÂΩìÂâçÁõÆÂΩï‰∏ãÂáÜÂ§áÂ•Ω‰∏§‰∏™ÈÖçÁΩÆÊñá‰ª∂server.xmlÂíåserver.propertiesÔºöÁÑ∂Âêé‰ΩøÁî®kubectlÂëΩ‰ª§ÂàõÂª∫ÔºöPodÂÆπÂô®‰ΩøÁî®ConfigMapPodÁöÑÂÆπÂô®Ë¶Å‰ΩøÁî®ConfigMap‰∏ªË¶ÅÊúâ‰∏§ÁßçÊñπÂºèÔºöÈÄöËøáÁéØÂ¢ÉÂèòÈáèËé∑ÂèñConfigMap‰∏≠ÁöÑÂÜÖÂÆπ;ÈÄöËøáVolumeÊåÇËΩΩÁöÑÊñπÂºèÂ∞ÜConfigMap‰∏≠ÁöÑÂÜÖÂÆπÊåÇËΩΩ‰∏∫ÂÆπÂô®ÂÜÖÈÉ®ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩï„ÄÇÈÄöËøáÁéØÂ¢ÉÂèòÈáèÁöÑÊñπÂºèÂàõÂª∫‰∏Ä‰∏™PodÈÖçÁΩÆÔºàsimple-cm-pod.ymlÔºâÔºö1234567891011121314151617181920apiVersion: v1kind: Podmetadata: name: simple-cm-podspec: containers: - name: busybox image: busybox command: ["sh", "-c", "env | grep ENV"] # ÊâìÂç∞ÂêçÁß∞ÂåÖÂê´ENVÁöÑÁéØÂ¢ÉÂèòÈáè env: - name: ENVVERSION # ÂÆö‰πâÁéØÂ¢ÉÂèòÈáèÂêçÁß∞ valueFrom: # ÂÄºÊù•Ëá™... configMapKeyRef: # ConfigMapÈîÆÁöÑÂºïÁî® key: version # ConfigMapÁöÑkey name: simple-cm # ConfigMapÁöÑÂêçÁß∞ - name: ENVRELEASE valueFrom: configMapKeyRef: key: release name: simple-cmÂàõÂª∫ËØ•PodÔºåÂπ∂Êü•ÁúãÊó•ÂøóÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂÄºÂ∑≤ÁªèÊàêÂäü‰ªéConfigMapÈáåÂéªÂà∞‰∫Ü„ÄÇÂ¶ÇÊûúË¶ÅÂºïÁî®Êüê‰∏™ConfigMapÁöÑÊâÄÊúâÂÜÖÂÆπÔºåÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ËøôÁßçÊñπÂºè„ÄÇÂÆö‰πâ‰∏Ä‰∏™PodÈÖçÁΩÆÔºàsimple-cm-pod-all.uymlÔºâÔºö123456789101112apiVersion: v1kind: Podmetadata: name: simple-cm-pod-allspec: containers: - name: busybox image: busybox command: ["sh", "-c", "env"] envFrom: - configMapRef: name: simple-cmÂàõÂª∫ËØ•PodÔºåÂπ∂Êü•ÁúãÊó•ÂøóÔºöÈÄöËøáVolumeÊåÇËΩΩÁöÑÊñπÂºèÂàõÂª∫‰∏Ä‰∏™PodÈÖçÁΩÆÔºàfile-cm-pod.ymlÔºâÔºö12345678910111213141516171819202122apiVersion: v1kind: Podmetadata: name: file-cm-podspec: containers: - name: tomcat image: tomcat ports: - containerPort: 8080 volumeMounts: - mountPath: /configs # ÂÆπÂô®ÊåÇËΩΩÁõÆÂΩï‰∏∫/configs name: config-vm # ÂºïÁî®‰∏ãÈù¢ÂÆö‰πâÁöÑËøô‰∏™Volume volumes: - name: config-vm # volumeÂêçÁß∞‰∏∫config-vm configMap: # ÈÄöËøáConfigMapËé∑Âèñ name: file-cm # ÂºïÁî®ÂêçÁß∞‰∏∫file-cmÁöÑConfigMap items: - key: serverXml # ConfigMapÈáåÈÖçÁΩÆÁöÑkey path: server.xml # ÂÄº‰ΩøÁî®server.xmlÊñá‰ª∂ËøõË°åÊåÇËΩΩ - key: serverProperties path: server.propertiesÂàõÂª∫ËØ•PodÔºåÂπ∂ËøõÂÖ•Âà∞ÂÆπÂô®ÂÜÖÈÉ®ËßÇÂØü/configsÁõÆÂΩï‰∏ãÊñá‰ª∂ÂÜÖÂÆπÔºöÂèØ‰ª•ÁúãÂà∞ÂêçÁß∞‰∏∫file-cmÁöÑConfigMapÂÜÖÂÆπÂ∑≤ÁªèÊàêÂäüÊåÇËΩΩÂà∞‰∫ÜtomcatÂÆπÂô®ÂÜÖÈÉ®„ÄÇÂ¶ÇÊûúÂú®ÂºïÁî®ConfigMapÊó∂‰∏çÊåáÂÆöitemsÔºåÂàô‰ΩøÁî®volumeMountÊñπÂºèÂú®ÂÆπÂô®ÂÜÖÁöÑÁõÆÂΩï‰∏ã‰∏∫ÊØè‰∏™itemÈÉΩÁîüÊàê‰∏Ä‰∏™Êñá‰ª∂Âêç‰∏∫keyÁöÑÊñá‰ª∂„ÄÇÂú®PodÂØπConfigMapËøõË°åÊåÇËΩΩÔºàvolumeMountÔºâÊìç‰ΩúÊó∂ÔºåÂú®ÂÆπÂô®ÂÜÖÈÉ®Âè™ËÉΩÊåÇËΩΩ‰∏∫‚ÄúÁõÆÂΩï‚ÄùÔºåÊó†Ê≥ïÊåÇËΩΩ‰∏∫‚ÄúÊñá‰ª∂‚Äù„ÄÇÂú®ÊåÇËΩΩÂà∞ÂÆπÂô®ÂÜÖÈÉ®ÂêéÔºåÂú®ÁõÆÂΩï‰∏ãÂ∞ÜÂåÖÂê´ConfigMapÂÆö‰πâÁöÑÊØè‰∏™itemÔºåÂ¶ÇÊûúÂú®ËØ•ÁõÆÂΩï‰∏ãÂéüÊù•ËøòÊúâÂÖ∂‰ªñÊñá‰ª∂ÔºåÂàôÂÆπÂô®ÂÜÖÁöÑËØ•ÁõÆÂΩïÂ∞ÜË¢´ÊåÇËΩΩÁöÑConfigMapË¶ÜÁõñ„ÄÇDownward APIDownward APIÁî®‰∫éÂ∞ÜPodÁõ∏ÂÖ≥‰ø°ÊÅØÊ≥®ÂÖ•Âà∞ÂÆπÂô®ÂÜÖÈÉ®Ôºå‰∏ªË¶ÅÊúâÁéØÂ¢ÉÂèòÈáèÂíåVolumeÊåÇËΩΩ‰∏§ÁßçÊñπÂºè„ÄÇÁéØÂ¢ÉÂèòÈáèÂàõÂª∫‰∏Ä‰∏™PodÈÖçÁΩÆÔºàdapi-pod.ymlÔºâÔºö12345678910111213141516171819202122apiVersion: v1kind: Podmetadata: name: dapi-podspec: containers: - name: busybox image: busybox command: ["sh", "-c", "env | grep MY_POD"] env: - name: MY_POD_NAME valueFrom: fieldRef: fieldPath: metadata.name # ÈÄöËøádownward apiËé∑ÂèñÂΩìÂâçpodÂêçÁß∞ - name: MY_POD_NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace # ÈÄöËøádownward apiËé∑ÂèñÂΩìÂâçpod namespace - name: MY_POD_IP valueFrom: fieldRef: fieldPath: status.podIP # ÈÄöËøádownward apiËé∑ÂèñÂΩìÂâçpod IPÂàõÂª∫ËØ•PodÔºåÂπ∂Êü•ÁúãÊó•ÂøóÔºöÈÄöËøáÁéØÂ¢ÉÂèòÈáèÁöÑÊñπÂºèËøòÂèØ‰ª•Â∞ÜÂÆπÂô®ÁöÑrequestsÂíålimits‰ø°ÊÅØÊ≥®ÂÖ•Âà∞ÂÆπÂô®ÁöÑÁéØÂ¢ÉÂèòÈáè‰∏≠ÔºåÂàõÂª∫‰∏Ä‰∏™PodÈÖçÁΩÆÔºàdapi-pod-container-vars.ymlÔºâÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344apiVersion: v1kind: Podmetadata: name: dapi-pod-container-varsspec: containers: - name: busybox image: busybox command: ["sh", "-c"] args: - while true;do echo -en '\n'; printenv MY_CPU_REQUEST MY_CPU_LIMIT; printenv MY_MEM_REQUEST MY_MEM_LIMIT; sleep 3600; done; resources: requests: memory: "32Mi" cpu: "125m" limits: memory: "64Mi" cpu: "250m" env: - name: MY_CPU_REQUEST valueFrom: resourceFieldRef: resource: requests.cpu containerName: busybox - name: MY_CPU_LIMIT valueFrom: resourceFieldRef: resource: limits.cpu containerName: busybox - name: MY_MEM_REQUEST valueFrom: resourceFieldRef: resource: request.memory containerName: busybox - name: MY_MEM_LIMIT valueFrom: resourceFieldRef: resource: limits.memory containerName: busyboxÂàõÂª∫ËØ•PodÂπ∂ËßÇÂØüÊó•ÂøóÔºöÈÄöËøáVolumeÊåÇËΩΩÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáDownward APIÂ∞ÜPodÁöÑLabelÔºåAnnotationÁ≠â‰ø°ÊÅØÊåÇËΩΩÂà∞ÂÆπÂô®ÂÜÖÈÉ®Êñá‰ª∂‰∏≠ÔºåÊñ∞Âª∫‰∏Ä‰∏™PodÈÖçÁΩÆÔºàdapi-pod-volumes.ymlÔºâÔºö1234567891011121314151617181920212223242526272829apiVersion: v1kind: Podmetadata: name: dapi-pod-volume labels: tier: frontend release: canary environment: dev annotations: builder: mrbird blog: https://mrbird.ccspec: containers: - name: busybox image: busybox command: ["sh", "-c", "sleep 36000"] volumeMounts: - mountPath: /podinfo # ÊåÇËΩΩË∑ØÂæÑ name: pod-info volumes: - name: pod-info downwardAPI: # ÈÄöËøádownward apiËé∑Âèñpod labelsÂíåannations‰ø°ÊÅØ items: - path: "labels" # ÊåÇËΩΩÊñá‰ª∂ÂêçÁß∞ fieldRef: fieldPath: metadata.labels # ÊåÇËΩΩÂÜÖÂÆπ - path: "annotation" fieldRef: fieldPath: metadata.annotationsÂàõÂª∫ËØ•PodÔºåÂπ∂ËøõÂÖ•Âà∞ÂÆπÂô®/podinfoÁõÆÂΩïËßÇÂØüÁªìÊûúÔºöPodÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÊèèËø∞PendingPod Â∑≤Ë¢´ Kubernetes Êé•ÂèóÔºå‰ΩÜÂ∞öÊú™ÂàõÂª∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÆπÂô®ÈïúÂÉè„ÄÇËøôÂåÖÊã¨Ë¢´Ë∞ÉÂ∫¶‰πãÂâçÁöÑÊó∂Èó¥‰ª•ÂèäÈÄöËøáÁΩëÁªú‰∏ãËΩΩÈïúÂÉèÊâÄËä±Ë¥πÁöÑÊó∂Èó¥ÔºåÊâßË°åÈúÄË¶Å‰∏ÄÊÆµÊó∂Èó¥„ÄÇRunningPod Â∑≤ÁªèË¢´ÁªëÂÆöÂà∞‰∫Ü‰∏Ä‰∏™ËäÇÁÇπÔºåÊâÄÊúâÂÆπÂô®Â∑≤Ë¢´ÂàõÂª∫„ÄÇËá≥Â∞ë‰∏Ä‰∏™ÂÆπÂô®Ê≠£Âú®ËøêË°åÔºåÊàñËÄÖÊ≠£Âú®ÂêØÂä®ÊàñÈáçÊñ∞ÂêØÂä®„ÄÇSucceededÊâÄÊúâÂÆπÂô®ÊàêÂäüÁªàÊ≠¢Ôºå‰πü‰∏ç‰ºöÈáçÂêØ„ÄÇFailedÊâÄÊúâÂÆπÂô®ÁªàÊ≠¢ÔºåËá≥Â∞ëÊúâ‰∏Ä‰∏™ÂÆπÂô®‰ª•Â§±Ë¥•ÊñπÂºèÁªàÊ≠¢„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåËøô‰∏™ÂÆπÂô®Ë¶Å‰πàÂ∑≤Èùû 0 Áä∂ÊÄÅÈÄÄÂá∫ÔºåË¶Å‰πàË¢´Á≥ªÁªüÁªàÊ≠¢„ÄÇUnknownÁî±‰∫é‰∏Ä‰∫õÂéüÂõ†ÔºåPod ÁöÑÁä∂ÊÄÅÊó†Ê≥ïËé∑ÂèñÔºåÈÄöÂ∏∏ÊòØ‰∏é Pod ÈÄö‰ø°Êó∂Âá∫ÈîôÂØºËá¥ÁöÑ„ÄÇ‰∏âÁßçÈáçÂêØÁ≠ñÁï•ÔºöAlwaysÔºöÂΩìÂÆπÂô®Â§±ÊïàÊó∂ÔºåÁî±kubeletËá™Âä®ÈáçÂêØËØ•ÂÆπÂô®ÔºõOnFailureÔºöÂΩìÂÆπÂô®ÁªàÊ≠¢ËøêË°å‰∏îÈÄÄÂá∫Á†Å‰∏ç‰∏∫0Êó∂ÔºåÁî±kubeletËá™Âä®ÈáçÂêØËØ•ÂÆπÂô®ÔºõNeverÔºö‰∏çËÆ∫ÂÆπÂô®ËøêË°åÁä∂ÊÄÅÂ¶Ç‰ΩïÔºåkubeletÈÉΩ‰∏ç‰ºöÈáçÂêØËØ•ÂÆπÂô®„ÄÇÁªìÂêàPodÁöÑÁä∂ÊÄÅÂíåÈáçÂêØÁ≠ñÁï•Ôºå‰ª•‰∏ã‰∏∫‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÁä∂ÊÄÅËΩ¨Êç¢Âú∫ÊôØÔºöPodÂåÖÂê´ÁöÑÂÆπÂô®Êï∞PodÂΩìÂâçÁöÑÁä∂ÊÄÅÂèëÁîü‰∫ã‰ª∂PodÁöÑÁªìÊûúÁä∂ÊÄÅRestarPolicy=AlwaysRestartPolicy=OnFailureRestartPolicy=NeverÂåÖÂê´1‰∏™ÂÆπÂô®RunningÂÆπÂô®ÊàêÂäüÈÄÄÂá∫RunningSucceededSucceededÂåÖÂê´1‰∏™ÂÆπÂô®RunningÂÆπÂô®Â§±Ë¥•ÈÄÄÂá∫RunningRunningFailedÂåÖÂê´‰∏§‰∏™ÂÆπÂô®Running1‰∏™ÂÆπÂô®Â§±Ë¥•ÈÄÄÂá∫RunningRunningRunningÂåÖÂê´‰∏§‰∏™ÂÆπÂô®RunningÂÆπÂô®Ë¢´OOMÊùÄÊéâRunningRunningFailed„ÄäKubernetesÊùÉÂ®ÅÊåáÂçó(Á¨¨4Áâà)„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KubernetesÂü∫Á°Ä]]></title>
    <url>%2FKubernetes-Basic.html</url>
    <content type="text"><![CDATA[‰∏ä‰∏ÄËäÇÊàë‰ª¨Â∑≤ÁªèÊàêÂäüÊê≠Âª∫‰∫ÜKubernetesÈõÜÁæ§ÔºåKubernetesÂåÖÂê´‰∫ÜÂ§ßÈáèÁöÑÊ¶ÇÂøµÂíåÊúØËØ≠ÔºåÊØîÂ¶ÇMaster„ÄÅNode„ÄÅPod„ÄÅReplication Controller„ÄÅServiceÁ≠âÁ≠âÔºåÂú®Ê∑±ÂÖ•Â≠¶‰π†Kubernetes‰πãÂâçÔºåÊúâÂøÖË¶ÅÊçãÊ∏ÖKubernetesÊû∂ÊûÑËÆæËÆ°ÂíåËøô‰∫õÊúØËØ≠ÁöÑÂê´‰πâ„ÄÇKubernetesÊû∂ÊûÑKubernetesÂü∫Êú¨Êû∂ÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÁî±‰∏äÂõæÊàë‰ª¨ÂèØ‰ª•ÁúãÂá∫ÔºåKubernetesÈõÜÁæ§ËäÇÁÇπÂèØÂàÜ‰∏∫MasterÂíåNodeÔºöMasterÔºöÊåáÁöÑÊòØÈõÜÁæ§‰∏≠ÁöÑÊéßÂà∂ËäÇÁÇπÔºåË¥üË¥£ÁÆ°ÁêÜÂíåÊéßÂà∂Êï¥‰∏™ÈõÜÁæ§„ÄÇÂü∫Êú¨‰∏äÊàë‰ª¨ÂØπKubernetesÈõÜÁæ§ÁöÑÊìç‰ΩúÈÉΩÊòØÂú®MasterËäÇÁÇπ‰∏äÂÆåÊàêÁöÑÔºõNodeÔºöÈô§‰∫ÜMasterÂ§ñÔºåKubernetesÈõÜÁæ§‰∏≠ÂÖ∂‰ªñËäÇÁÇπÁß∞‰∏∫Node„ÄÇÊØè‰∏™NodeÈÉΩÂ∞ÜË¥üË¥£ËøêË°åMasterÊåáÊ¥æÁöÑDockerÂÆπÂô®ÔºåÂΩìÊüê‰∏™NodeÂÆïÊú∫ÂêéÔºåËøô‰∫õÂ∑•‰Ωú‰ºöË¢´MasterËΩ¨ÁßªÂà∞Âà´ÁöÑNode‰∏ä„ÄÇMasterËäÇÁÇπ‰∏ä‰∏ªË¶ÅÂåÖÂê´‰∫Ü‰ª•‰∏ãËøô‰∫õÂÖ≥Êé•ÁöÑËøõÁ®ã:API ServerÔºöÊèê‰æõ‰∫ÜHTTP RestÊé•Âè£ÁöÑÂÖ≥ÈîÆÊúçÂä°ËøõÁ®ãÔºåÊòØKubernetesÈáåÊâÄÊúâËµÑÊ∫êÁöÑÂ¢û„ÄÅÂà†„ÄÅÊîπ„ÄÅÊü•Á≠âÊìç‰ΩúÁöÑÂîØ‰∏ÄÂÖ•Âè£Ôºå‰πüÊòØÈõÜÁæ§ÊéßÂà∂ÁöÑÂÖ•Âè£ËøõÁ®ãÔºõController ManagerÔºöË¥üË¥£Áª¥Êä§ÈõÜÁæ§ÁöÑÁä∂ÊÄÅÔºåÊØîÂ¶ÇÊïÖÈöúÊ£ÄÊµãÔºåÊâ©Áº©ÂÆπÔºåÊªöÂä®Êõ¥Êñ∞Á≠âÁ≠âÔºõSchedulerÔºöË¥üË¥£ËµÑÊ∫êÁöÑË∞ÉÂ∫¶ÔºåÊåâÁÖßÈ¢ÑÂÆöÁöÑÁ≠ñÁï•ÊääpodË∞ÉÂ∫¶Âà∞ÊåáÂÆöÁöÑnodeËäÇÁÇπÔºõetcdÔºöÂ≠òÂÇ®KubernetesÈõÜÁæ§‰ø°ÊÅØ„ÄÇNodeËäÇÁÇπ‰∏ä‰∏ªË¶ÅÂåÖÂê´‰∫Ü‰ª•‰∏ãËøô‰∫õÂÖ≥Êé•ÁöÑËøõÁ®ã:kubeletÔºöË¥üË¥£PodÂØπÂ∫îÁöÑÂÆπÂô®ÁöÑÂàõÂª∫„ÄÅÂêØÂÅúÁ≠â‰ªªÂä°Ôºõkube-proxyÔºöÂÆûÁé∞Kubernetes ServiceÁöÑÈÄö‰ø°‰∏éË¥üËΩΩÂùáË°°Êú∫Âà∂ÁöÑÈáçË¶ÅÁªÑ‰ª∂ÔºõdockerÔºöDockerÂºïÊìéÔºåË¥üË¥£Êú¨Êú∫ÁöÑÂÆπÂô®ÂàõÂª∫ÂíåÁÆ°ÁêÜÂ∑•‰ΩúÔºõpodÔºöPodÊòØKubernetes‰∏≠ËÉΩÂ§üÂàõÂª∫ÂíåÈÉ®ÁΩ≤ÁöÑÊúÄÂ∞èÂçïÂÖÉÔºåÊòØKubernetesÈõÜÁæ§‰∏≠ÁöÑ‰∏Ä‰∏™Â∫îÁî®ÂÆû‰æã„ÄÇPodÂåÖÂê´‰∫Ü‰∏Ä‰∏™‚ÄúÊ†πÂÆπÂô®‚ÄùPauseÂíåÂ§ö‰∏™DockerÂÆπÂô®ÔºõKubernetesËäÇÁÇπÈó¥ÁöÑÁΩëÁªúÈÄö‰ø°ÈÄöËøáÁΩëÁªúÊèí‰ª∂ÂÆûÁé∞ÔºåÊØîÂ¶ÇFlannelÔºåCalicoÁ≠â„ÄÇPodÁÆ°ÁêÜÂØπË±°PodÁÆ°ÁêÜÂØπË±°ÊåáÁöÑÊòØKubernetes‰∏≠ÂèØ‰ª•Áî®‰∫éÂàõÂª∫ÂíåÁÆ°ÁêÜPodÁöÑÁªÑ‰ª∂ÔºåÊØîÂ¶ÇRC(RS)ÔºåDeploymentÔºåStableSetÁ≠âÁ≠â„ÄÇÂú®‰∫ÜËß£Ëøô‰∫õÁªÑ‰ª∂ÂâçÔºåÂÖàÊù•ÁúãÁúãPodÁöÑÁªÑÊàêÔºöPodÂåÖÂê´‰∏Ä‰∏™PauseÂÆπÂô®ÂíåÂ§ö‰∏™DockerÂÆπÂô®ÔºåPauseÂÆπÂô®Áî®‰∫éÁÆ°ÁêÜËøô‰∫õDockerÂÆπÂô®„ÄÇPodÂèØ‰ª•ÈÄöËøáyamlÊñá‰ª∂Êù•ÂàõÂª∫Ôºå‰∏ãÈù¢‰∏æ‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê:12345678910111213apiVersion: v1kind: Pod # kind‰∏∫podË°®ÊòéËøôÊòØ‰∏Ä‰∏™podÂÆö‰πâmetadata: name: nginx-pod # podÂêçÁß∞‰∏∫nginx-pod labels: # ÂÆö‰πâÊ†áÁ≠æ‰ø°ÊÅØÔºàlabelÔºâ name: nginx spec: containers: - name: nginx # ÂÆπÂô®ÂêçÁß∞ image: nginx # Âü∫‰∫énginxÈïúÂÉèÊûÑÂª∫ imagePullPolicy: IfNotPresent # ÈïúÂÉèÊãâÂèñËßÑÂàôÔºå‰∏çÂ≠òÂú®ÂàôËøúÁ®ãÊãâÂèñ ports: - containerPort: 80 # Á´ØÂè£ÊØè‰∏™PodÈÉΩÂåÖÂê´‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑIPÂú∞ÂùÄÔºåÁß∞‰∏∫Pod IPÔºåKubernetesÈõÜÁæ§ÂÜÖÁöÑ‰ªªÊÑè‰∏§‰∏™Pod‰πãÈó¥ÈÉΩËÉΩÊ≠£Â∏∏ÈÄö‰ø°„ÄÇPod IPÂä†‰∏ä‰∏äÈù¢ÂÆö‰πâÁöÑ80Á´ØÂè£ÔºåÁªÑÊàê‰∫Ü‰∏Ä‰∏™EndpointÔºå‰ª£Ë°®Ê≠§PodÈáåÁöÑ‰∏Ä‰∏™ÊúçÂä°ËøõÁ®ãÁöÑÂØπÂ§ñÈÄö‰ø°Âú∞ÂùÄ„ÄÇPodÁöÑÁõ∏ÂÖ≥ÂÜÖÂÆπÂ≠òÂÇ®Âú®Volume‰∏≠ÔºåPodÁöÑÁõ∏ÂÖ≥ËøêË°åËÆ∞ÂΩïÂèØ‰ª•ÈÄöËøáEventÊü•ÁúãÔºöÂú®ÂÆö‰πâPodÁöÑÊó∂ÂÄôÊàë‰ª¨‰πüÂèØ‰ª•ÊåáÂÆöËµÑÊ∫êËµÑÊ∫êÈôêÈ¢ùÔºåËµÑÊ∫ê‰∏ªË¶ÅÂåÖÊã¨CPUÂíåMemoryÔºöÂú®Kubernetes‰∏≠Ôºå1mË°®Á§∫ÂçÉÂàÜ‰πã‰∏ÄCPUÔºåÂç≥1000mË°®Á§∫‰∏Ä‰∏™CPUÔºõÂ∏∏Áî®Âçï‰ΩçÊúâKiB„ÄÅMiBÂíåGiBÁ≠âÔºåÊòØ‰∫åËøõÂà∂Ë°®Á§∫ÁöÑÂ≠óËäÇÂçï‰ΩçÔºå1 KiBÔºàKibiByteÔºâ= 2^10 Bytes = 1024 Bytes = 8192 Bits„ÄÇÂú®KubernetesÈáåÔºå‰∏Ä‰∏™ËÆ°ÁÆóËµÑÊ∫êËøõË°åÈÖçÈ¢ùÈôêÂÆöÊó∂ÈúÄË¶ÅËÆæÂÆö‰ª•‰∏ã‰∏§‰∏™ÂèÇÊï∞ÔºöRequestsÔºöËØ•ËµÑÊ∫êÁöÑÊúÄÂ∞èÁî≥ËØ∑ÈáèÔºåÁ≥ªÁªüÂøÖÈ°ªÊª°Ë∂≥Ë¶ÅÊ±ÇÔºõLimitsÔºöËØ•ËµÑÊ∫êÊúÄÂ§ßÂÖÅËÆ∏‰ΩøÁî®ÁöÑÈáèÔºå‰∏çËÉΩË¢´Á™ÅÁ†¥ÔºåÂΩìÂÆπÂô®ËØïÂõæ‰ΩøÁî®Ë∂ÖËøáËøô‰∏™ÈáèÁöÑËµÑÊ∫êÊó∂ÔºåÂèØËÉΩ‰ºöË¢´Kubernetes‚ÄúÊùÄÊéâ‚ÄùÂπ∂ÈáçÂêØ„ÄÇÊØîÂ¶Ç‰øÆÊîπ‰∏äÈù¢ÁöÑPodÈÖçÁΩÆÊñá‰ª∂ÔºåÂÆö‰πâËµÑÊ∫êÈÖçÈ¢ùÔºö1234567891011121314151617181920apiVersion: v1kind: Pod metadata: name: nginx-pod labels: name: nginxspec: containers: - name: nginx image: nginx imagePullPolicy: IfNotPresent ports: - containerPort: 80 resources: requests: memory: "64Mi" # Ëá≥Â∞ëÈúÄË¶Å64MiBÂÜÖÂ≠ò cpu: "200m" # Ëá≥Â∞ëÈúÄË¶Å0.2‰∏™CPU limits: memory: "128Mi" # ÂÜÖÂ≠òÊ∂àËÄó‰∏çËÉΩÂ§ö‰∫é128MiB cpu: "500m" # CPUÊ∂àËÄó‰∏çËÉΩÂ§ö‰∫é0.5Èô§‰∫ÜÁõ¥Êé•‰ΩøÁî®PodÈÖçÁΩÆÊñá‰ª∂Êù•ÂàõÂª∫PodÂ§ñÔºåÊõ¥‰∏∫Â∏∏Áî®ÁöÑÊòØ‰ΩøÁî®PodÁÆ°ÁêÜÂØπË±°RC(RS)„ÄÅDeploymentÁ≠âÂàõÂª∫ÂíåÁÆ°ÁêÜPod„ÄÇRC(RS)RCÂÖ®Áß∞Replication ControllerÔºàÂâØÊú¨ÊéßÂà∂Âô®Ôºâ,Áî®‰∫éÊéßÂà∂‰ªªÊÑèÊó∂ÂàªÊåáÂÆöPodÁöÑÊï∞ÈáèÈÉΩÁ¨¶ÂêàÈ¢ÑÊúüÂÄº„ÄÇRCÈÖçÁΩÆÊñá‰ª∂‰∏ÄËà¨ÂåÖÂê´‰ª•‰∏ã‰∏â‰∏™ÈÉ®ÂàÜÔºöÊúüÊúõÁöÑPodÂâØÊú¨Êï∞ÈáèÔºõÁî®‰∫éÁ≠õÈÄâPodÁöÑLabel SelectorÔºõÂàõÂª∫PodÁöÑÊ®°ÊùøÔºàÂΩìÊï∞ÈáèÂ∞ë‰∫éÈ¢ÑÊúüÁöÑÊó∂ÂÄôÔºåÁî®Ëøô‰∏™Ê®°ÊùøÂàõÂª∫PodÔºâ„ÄÇ‰∏æ‰∏™RC yamlÁöÑ‰æãÂ≠êÔºö12345678910111213141516171819apiVersion: v1kind: ReplicationController # Ë°®Á§∫RCmetadata: name: nginx-rc # RCÊéßÂà∂Âô®ÂêçÁß∞‰∏∫nginx-rcspec: replicas: 3 # ÊúüÊúõPodÁöÑÂâØÊú¨Êï∞Èáè‰∏∫3 selector: name: nginx # LabelÁ≠õÈÄâÂô®ÔºåÁ≠õÈÄâÂá∫LabelÂåÖÂê´Ôºàname=nginxÔºâÁöÑPod template: # PodÂàõÂª∫Ê®°ÊùøÔºåÊ†ºÂºèÂü∫Êú¨ÂíåÊàë‰ª¨‰∏äÈù¢ÂÆö‰πâÁöÑPod yaml‰∏ÄËá¥ metadata: labels: name: nginx spec: containers: - name: nginx image: nginx imagePullPolicy: IfNotPresent ports: - containerPort: 80ÈÄöËøáËøô‰∏™RCÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞ÔºöÂú®KubernetesÈõÜÁæ§‰∏≠Ôºå‰ªªÊÑèÊó∂ÂàªÈÉΩÂ≠òÂú®3‰∏™ËøêË°åÁùÄNginxÂÆπÂô®ÁöÑPodÔºåÂç≥ÈÄöËøáËøô‰∏™RCÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™NginxÊï∞Èáè‰∏∫3ÁöÑNginxÈõÜÁæ§ÔºàÂÖ∂‰∏≠‰∏ÄÁßçÂèØËÉΩÊÄßÔºâÔºöÂú®KubernetesÁöÑÂèëÂ±ï‰∏≠ÔºåRCÂçáÁ∫ß‰∏∫‰∫ÜReplica SetÔºå‰øóÁß∞RSÔºåËØ≠Ê≥ïÂ§ßËá¥ÂíåRC‰∏ÄËá¥„ÄÇRSÂíåRCÊúÄÂ§ßÁöÑÂå∫Âà´Âú®‰∫éÔºöRSÊã•ÊúâÊõ¥‰∏∫üêÇüç∫ÁöÑPodÁ≠õÈÄâÂô®„ÄÇÊØîÂ¶ÇÔºö12345678910111213apiVersion: apps/v1kind: ReplicaSetmetadata: name: frontendspec: replicas: 2 selector: matchLabels: tier: frontend matchExpressions: - &#123;key: release, operator: In, values: [stable, snapshot]&#125; template: ...‰∏äÈù¢ÁöÑRSÁ≠õÈÄâPodËßÑÂàô‰∏∫ÔºöÁ≠õÈÄâÊ†áÁ≠æÂåÖÂê´tier‰∏∫frontendÔºåÂπ∂‰∏îreleaseÁöÑÂÄº‰∏∫stableÊàñËÄÖsnapshotÁöÑPod„ÄÇÊÄª‰πãÔºåRC(RS)ÁöÑ‰ΩúÁî®‰∏∫:PodÁöÑÂàõÂª∫ÂèäÊï∞ÈáèÊéßÂà∂ÔºõÈÄöËøáÊîπÂèòRCÈáåÁöÑPodÂâØÊú¨Êï∞ÈáèÔºåÂèØ‰ª•ÂÆûÁé∞PodÁöÑÊâ©ÂÆπÊàñÁº©ÂÆπÔºõÈÄöËøáÊîπÂèòRCÈáåPodÊ®°Êùø‰∏≠ÁöÑÈïúÂÉèÁâàÊú¨ÔºåÂèØ‰ª•ÂÆûÁé∞PodÁöÑÊªöÂä®ÂçáÁ∫ß„ÄÇDeploymentDeploymentÂèØ‰ª•ÁúãÊàêÊòØRSÁöÑÂçáÁ∫ßÁâàÁªÑ‰ª∂ÔºåÂÜÖÈÉ®‰ΩøÁî®RSÁÆ°ÁêÜPodÔºåÂíåRSÁõ∏ÊØîÊúÄÂ§ßÁöÑ‰∏çÂêåÂú®‰∫éDeploymentÂèØ‰ª•ÈöèÊó∂Êü•ÁúãPodÁöÑÈÉ®ÁΩ≤Áä∂ÊÄÅ„ÄÇDeploymentÁöÑyamlÈÖçÁΩÆÂíåRSÂ∑Æ‰∏çÂ§öÔºå‰∏æ‰∏™Deployment yamlÁöÑ‰æãÂ≠ê(nginx-deployment.yml):1234567891011121314151617181920apiVersion: apps/v1kind: Deploymentmetadata: name: nginx-deploymentspec: selector: matchLabels: name: nginx replicas: 3 template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx imagePullPolicy: IfNotPresent ports: - containerPort: 80Èô§‰∫ÜkindÔºåÂÖ∂‰ªñÈÉΩÂíåRSÂ∑Æ‰∏çÂ§ö„ÄÇÂú®KubernetesÈõÜÁæ§‰∏≠ÂàõÂª∫ËØ•DeploymentÔºöREADYÔºöÈõÜÁæ§‰∏≠ÂáÜÂ§áÂ∞±Áª™ÁöÑPodÊï∞ÈáèÔºõUP-TO-DATEÔºöÊúÄÊñ∞ÁâàÊú¨ÁöÑPodÁöÑÂâØÊú¨Êï∞ÈáèÔºåÁî®‰∫éÊåáÁ§∫Âú®ÊªöÂä®ÂçáÁ∫ßÁöÑËøáÁ®ã‰∏≠ÔºåÊúâÂ§öÂ∞ë‰∏™PodÂâØÊú¨Â∑≤ÁªèÊàêÂäüÂçáÁ∫ßÔºõAVAILABLEÔºöÂΩìÂâçÈõÜÁæ§‰∏≠ÂèØÁî®ÁöÑPodÂâØÊú¨Êï∞ÈáèÔºåÂç≥ÈõÜÁæ§‰∏≠ÂΩìÂâçÂ≠òÊ¥ªÁöÑPodÊï∞Èáè„ÄÇÊü•ÁúãRSÂíåPodÔºöÂèØ‰ª•ÁúãÂà∞ÂÆÉ‰ª¨ÁöÑÂÖ≥Á≥ª‰∏∫deployment -&gt; rs -&gt; podsÔºöStatefulSetStatefulSetÔºàÊúâÁä∂ÊÄÅÈõÜÂêàÔºâÂèØ‰ª•ÁúãÊàêÊòØDeploymentÁöÑ‰∏Ä‰∏™ÂèòÁßçÔºåÈÄÇÂêàÁî®‰∫éÊûÑÂª∫MySQLÈõÜÁæ§„ÄÅMongoDBÈõÜÁæ§Á≠âÊúâÁä∂ÊÄÅÁöÑÈõÜÁæ§ÔºåËøô‰∫õÈõÜÁæ§Êúâ‰ª•‰∏ãËøô‰∫õÂÖ±ÂêåÁâπÁÇπÔºöÈõÜÁæ§ËßÑÊ®°Áõ∏ÂØπÂõ∫ÂÆöÔºå‰∏çËÉΩÈöèÊÑèÂèòÂä®ÔºõÈõÜÁæ§‰∏≠ÊØè‰∏™PodÈÉΩÊòØÊúâÁä∂ÊÄÅÁöÑÔºåÂç≥Êï∞ÊçÆ‰ºöË¢´ÊåÅ‰πÖÂåñÂà∞Â≠òÂÇ®‰∏≠ÔºõÊØè‰∏™PodÈÉΩÊúâÂõ∫ÂÆöÁöÑID„ÄÇStatefulSetÂàõÂª∫ÁöÑPodÈõÜÁæ§Á¨¶Âêà‰∏äÈù¢ÁöÑÈúÄÊ±ÇÔºåÂÖ∑ÊúâÂ¶Ç‰∏ãÁâπÁÇπ:ÊØè‰∏™PodÁöÑÂêçÁß∞Âú®ÂàõÂª∫ÂâçÂ∞±ÂèØ‰ª•Á°ÆÂÆö‰∏ãÊù•‰∫Ü„ÄÇÊØîÂ¶ÇStatefulSetÁöÑÂêçÁß∞‰∏∫mysqlÔºåÈÇ£‰πàÁ¨¨‰∏Ä‰∏™PodÂè´mysql-0ÔºåÁ¨¨‰∫å‰∏™Âè´mysql-1Ôºå‰ª•Ê≠§Á±ªÊé®ÔºõPodÁöÑÂêØÂÅúËØïÊòØÊåâÁÖßÈ°∫Â∫èÊù•ÁöÑÔºõPodÈÄöËøáPVÊàñËÄÖPVCÊù•ÊåÅ‰πÖÂåñÂ≠òÂÇ®„ÄÇËøôÈáåÂ∞±ÂÖà‰∏çÊ∑±ÂÖ•Á†îÁ©∂StatefulSet‰∫ÜÔºåÂêéÈù¢ÂÜçÊâæÊú∫‰ºöÁ†îÁ©∂„ÄÇJobJobÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑPodÁÆ°ÁêÜÂØπË±°ÔºåÊòØ‰∏ÄÁßç‰∏ÄÊ¨°ÊÄßPodËøêË°å‰ªªÂä°Ôºå‰ªªÂä°ÁªìÊùüÂêéÔºåPodÁöÑÁîüÂëΩÂë®Êúü‰πüÂ∞±ÁªìÊùü‰∫Ü„ÄÇKubernetes‰∏≠ÊîØÊåÅCronË°®ËææÂºèÁöÑ‰ªªÂä°Áß∞‰∏∫CronJobÔºåÂêéÈù¢Êé•Ëß¶Âà∞‰∫ÜÂÜç‰ªîÁªÜÁ†îÁ©∂üò™„ÄÇLabelÂ∞±Â¶Ç‰∏äÈù¢ÊâÄËØ¥ÔºåLabelÂ∞±ÊòØÁî®‰∫éÁªôPodÊâìÊ†áÁ≠æÁî®ÁöÑÔºå‰æõPodÁÆ°ÁêÜÂØπË±°„ÄÅServiceÁ≠âÁ≠õÈÄâ‰ΩøÁî®„ÄÇHPAÈô§‰∫Ü‰ΩøÁî®kubectl scaleÂëΩ‰ª§‰øÆÊîπPodÊï∞ÈáèÂÆûÁé∞Êâ©ÂÆπÊàñËÄÖÁº©ÂÆπÂ§ñÔºåÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä©HPAÔºàHorizontal Pod AutoscalingÔºåPodÊ®™ÂêëËá™Âä®Êâ©Â±ïÔºâÊù•ÂÆåÊàêPodÁöÑËá™Âä®ÂåñÊâ©Áº©ÂÆπ„ÄÇ‰∏æ‰∏™HPAÁöÑ‰æãÂ≠êÔºö123456789101112apiVersion: autoscaling/v1kind: HorizontalPodAutoscalermetadata: name: nginx-hpa namespace: defaultspec: maxReplicas: 10 minReplicas: 3 scaleTargetRef: kind: Deployment name: nginx-deployment targetCPUUtilizationPercentage: 80‰∏äÈù¢ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫nginx-hpaÁöÑHPAÔºåÁõëÊéßÂêçÁß∞‰∏∫nginx-deploymentÁöÑDeployment‰∏≠ÁöÑPodÔºåÂΩìÂÖ∂targetCPUUtilizationPercentageÁöÑÂÄºÂ§ß‰∫é80%Êó∂ÔºåÂ∞ÜÂèëÁîüÂä®ÊÄÅÊâ©ÂÆπË°å‰∏∫ÔºåÂπ∂‰∏îPodÁöÑÊï∞ÈáèÂøÖÈ°ªÂÜç3~10‰πãÈó¥„ÄÇtargetCPUUtilizationPercentageÊåáÁöÑÊòØPod‰∏ÄÂàÜÈíüÂÜÖCPU‰ΩøÁî®ÁéáÁöÑÁÆóÊï∞Âπ≥ÂùáÂÄº„ÄÇÊØîÂ¶ÇPodÁöÑrequests cpu‰∏∫0.4ÔºåÂΩìÂâçCPU‰ΩøÁî®Èáè‰∏∫0.3ÔºåÂàôCPU‰ΩøÁî®Áéá‰∏∫75%„ÄÇÊâÄ‰ª•Ë¶Å‰ΩøÁî®HPAÁöÑÂäüËÉΩÔºåPodÂøÖÈ°ªÊåáÂÆö‰∫Ürequests cpuÂÄº„ÄÇServiceService„ÄÅRCÂíåPod‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö‰ªéÂõæ‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåServiceÊòØÂ§ñÁïåËÆøÈóÆPodÁöÑÊ°•Ê¢ÅÔºåServiceÈÄöËøáLabel SelectorÊù•Á≠õÈÄâÂ§ÑÁ¨¶ÂêàÁöÑPodÔºåÂ∞ÜËØ∑Ê±ÇÂùáË°°ÁöÑËΩ¨ÂèëÂà∞ÁõÆÊ†áPod‰∏ä„ÄÇÂâçÈù¢‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáDeploymentÂàõÂª∫‰∫Ü‰∏â‰∏™Nginx PodÔºå‰ΩÜÁé∞Âú®Â§ñÁïåÂπ∂‰∏çËÉΩÁõ¥Êé•ËÆøÈóÆÂÆÉ‰ª¨ÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ServiceÊù•ÂÆûÁé∞Ëøô‰∏™ÈúÄÊ±ÇÔºö1vim nginx-service.ymlÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112apiVersion: v1kind: Servicemetadata: name: nginx-servicespec: ports: - port: 8080 targetPort: 80 nodePort: 30001 type: NodePort selector: name: nginx‰∏äÈù¢ÈÖçÁΩÆ‰∏≠spec.portsÂÆö‰πâ‰∫Ü‰∏â‰∏™Á´ØÂè£ÔºåÂú®‰∫ÜËß£Ëøô‰∏â‰∏™Á´ØÂè£ÁöÑÂê´‰πâ‰πãÂâçÔºåÊàë‰ª¨ÂÖà‰∫ÜËß£‰∏ã‰∏ãÈù¢Ëøô‰∏â‰∏™IPÁöÑÂê´‰πâÔºöNode IPÔºöNodeÁöÑIPÂú∞ÂùÄÔºåNodeÊòØÈÉ®ÁΩ≤Âú®ÂÆø‰∏ªÊú∫‰∏äÁöÑÔºåÊâÄ‰ª•ÂÆûÈôÖ‰∏äÂ∞±ÊòØÂÆø‰∏ªÊú∫ÁöÑIPÂú∞ÂùÄÔºå‰∏ç‰ºöÂèëÁîüÊîπÂèòÔºõPod IPÔºöPodÁöÑIPÂú∞ÂùÄÔºåÁî±‰∫éÂä®ÊÄÅÊâ©Áº©ÂÆπ„ÄÅÂÆïÊú∫ËΩ¨ÁßªÁ≠âÂéüÂõ†ÔºåËøô‰∏™IPÁªèÂ∏∏‰ºöÂèëÁîüÊîπÂèòÔºõCluster IPÔºöServiceÁöÑIPÂú∞ÂùÄÔºåÂú®‰∏Ä‰∏™ÂÆåÊï¥ÁöÑServiceÁîüÂëΩÂë®ÊúüÂÜÖÊòØ‰∏ç‰ºöÊîπÂèòÁöÑ„ÄÇÂÖ∂‰∏≠Pod IPÂíåCluster IPÊòØÂ±û‰∫éKubernetesÈõÜÁæ§ËåÉÂõ¥ÂÜÖÁöÑÔºåÂ§ñÁïåÊó†Ê≥ïÁõ¥Êé•ËÆøÈóÆ„ÄÇÂÜçÂõûÂ§¥Áúã‰∏äÈù¢‰∏â‰∏™Á´ØÂè£ÁöÑÂê´‰πâÔºöportÔºöÊåáÂÆöServiceÁöÑÁ´ØÂè£Âè∑ÔºõtargetPortÔºöÁõÆÊ†áPodÁöÑÁ´ØÂè£ÔºåÊ†πÊçÆÂâçÈù¢nginx-deploymentÁöÑÂÆö‰πâÔºåËøôÈáåÂ∫îËØ•ÊåáÂÆö‰∏∫80ÔºõnodePortÔºöÂú®Node‰∏äÂºÄÂêØÁöÑÁõëÂê¨Á´ØÂè£ÔºåÁî®‰∫éÂ§ñÁïåÈÄöËøáCluster IP:nodePortÊù•ËÆøÈóÆÂØπÂ∫îÁöÑService„ÄÇ‰ΩøÁî®nodePortÊó∂ÔºåÈúÄË¶ÅÂ∞ÜServiceÁöÑtypeÊåáÂÆö‰∏∫NodePortÔºåÂπ∂‰∏înodePortÊúâËåÉÂõ¥ÈôêÂà∂ÔºåÂøÖÈ°ªÂú®30000-32767‰πãÈó¥„ÄÇ‰ΩøÁî®kubectl create -f nginx-service.ymlÂàõÂª∫ËØ•ServiceÔºöÊü•ÁúãServiceÂíåendpointÔºöÁé∞Âú®Êàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøánode1 Ip:nodePortÊù•ËÆøÈóÆNginx PodÊúçÂä°‰∫ÜÔºöVolumeVolumeÊòØPod‰∏äËÉΩÂ§üË¢´Â§ö‰∏™DockerÂÆπÂô®ËÆøÈóÆÁöÑÂÖ±‰∫´ÁõÆÂΩïÔºåVolumeÁöÑÁîüÂëΩÂë®ÊúüÂíåPodÁõ∏ÂÖ≥Ôºå‰∏éDockerÂÆπÂô®Êó†ÂÖ≥„ÄÇÂèØ‰ª•Âú®ÂÆö‰πâPodÁöÑÊó∂ÂÄôÊåáÂÆöVolumeÔºö12345678910111213141516171819apiVersion: v1kind: Podmetadata: name: nginx-pod labels: name: nginxspec: volumes: - name: nginx-data emptyDir: &#123;&#125; containers: - name: nginx image: nginx imagePullPolicy: IfNotPresent ports: - containerPort: 80 volumeMounts: - mountPath: /etc/nginx name: nginx-dataÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÈÉΩÊòØÁé∞Âú®PodÈáåÂ£∞Êòé‰∏Ä‰∏™VolumeÔºåÁÑ∂ÂêéÂú®ÂÆπÂô®ÈáåÂºïÁî®ËØ•VolumeÔºåÂπ∂ÊåÇËΩΩÂà∞ÂÆπÂô®ÁöÑÊüê‰∏™ÁõÆÂΩï‰∏ä„ÄÇÊØîËæÉÂ∏∏Áî®ÁöÑVolumeÁ±ªÂûãÊúâÔºöemptyDirÔºö‰∏Ä‰∏™emptyDir VolumeÊòØÂú®PodÂàÜÈÖçÂà∞NodeÊó∂ÂàõÂª∫ÁöÑ„ÄÇ‰ªéÂÆÉÁöÑÂêçÁß∞Â∞±ÂèØ‰ª•ÁúãÂá∫ÔºåÂÆÉÁöÑÂàùÂßãÂÜÖÂÆπ‰∏∫Á©∫ÔºåÂπ∂‰∏îÊó†È°ªÊåáÂÆöÂÆø‰∏ªÊú∫‰∏äÂØπÂ∫îÁöÑÁõÆÂΩïÊñá‰ª∂ÔºåÂõ†‰∏∫ËøôÊòØKubernetesËá™Âä®ÂàÜÈÖçÁöÑ‰∏Ä‰∏™ÁõÆÂΩïÔºåÂΩìPod‰ªéNode‰∏äÁßªÈô§Êó∂ÔºåemptyDir‰∏≠ÁöÑÊï∞ÊçÆ‰πü‰ºöË¢´Ê∞∏‰πÖÂà†Èô§ÔºõhostPath‰∏∫Âú®Pod‰∏äÊåÇËΩΩÂÆø‰∏ªÊú∫‰∏äÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÔºåÊØîÂ¶ÇÔºö12345spec: volumes: - name: "persistend-storage" hostPath: path: "/data"PV,PVCPV(Persistent Volume)ÊòØKubernetesÈõÜÁæ§‰∏≠ÁöÑÊüê‰∏™ÁΩëÁªúÂ≠òÂÇ®ÂØπÂ∫îÁöÑ‰∏ÄÂùóÂ≠òÂÇ®Ôºå‰∏çÂ±û‰∫é‰ªª‰ΩïNodeÔºå‰ΩÜÂèØ‰ª•Âú®ÊØè‰∏™Node‰∏äËÆøÈóÆÔºõPVC(Persistent Volume ClaimÔºåPVÂ£∞Êòé)ÔºåÊüê‰∏™PodÈúÄË¶ÅÁî®Âà∞PVÂâçÔºåÂøÖÈ°ªÂÖàÂÆö‰πâPVC„ÄÇÂÆö‰∏Ä‰∏™NFSÁ±ªÂûãÁöÑPVÔºåÂ£∞ÊòéÈúÄË¶Å10GiÂ≠òÂÇ®Ôºö123456789101112apiVersion: v1kind: PersistentVolumemetadata: name: pv01spec: capacity: storage: 10Gi accessModes: - ReadWriteOnce nfs: path: /somepath server: 127.17.0.2ËØ•PVÂ£∞Êòé‰∫Ü127.17.0.2NFSÁ≥ªÁªü‰∏ãÁöÑ/somepathÁõÆÂΩï‰Ωú‰∏∫ÁΩëÁªúÂ≠òÂÇ®ÔºåÂÜÖÂ≠ò‰∏∫10GiÔºåËØ•PVÂêçÁß∞‰∏∫pv01„ÄÇaccessModesÊúâ‰ª•‰∏ã‰∏âÁßçÊ®°ÂºèÔºöReadWriteOnceÔºöËØªÂÜôÊùÉÈôêÔºåÂπ∂‰∏îÂè™ËÉΩË¢´Âçï‰∏™NodeÊåÇËΩΩÔºõReadOnlyManyÔºöÂè™ËØªÊùÉÈôêÔºåÂÖÅËÆ∏Ë¢´Â§ö‰∏™NodeÊåÇËΩΩÔºõReadWriteManyÔºöËØªÂÜôÊùÉÈôêÔºåÂÖÅËÆ∏Ë¢´Â§ö‰∏™NodeÊåÇËΩΩ„ÄÇÊé•ÁùÄÂÆö‰πâ‰∏Ä‰∏™PVCÔºö12345678910apiVersion: v1kind: PersistentVolumeClaimmetadata: name: pvclaimspec: accessModes: - ReadWriteOnce resources: requests: storage: 8GiËØ•PVCÂ£∞Êòé‰∫ÜÈúÄË¶Å8GiÂ≠òÂÇ®Á©∫Èó¥ÔºåÂàöÂàöÂÆö‰πâÁöÑPVÁ¨¶ÂêàËøô‰∏™Ë¶ÅÊ±ÇÔºåÊâÄ‰ª•‰ºöË¢´ÁªëÂÆö‰∏ä„ÄÇÂÆö‰πâ‰∫ÜPVCÂêéÔºåÂ∞±ÂèØ‰ª•Âú®PodÈáåÂºïÁî®‰∫ÜÔºö12345spec: volumes: - name: podpv persistentVolumeClaim: claimName: pvclaimPVÂÖ∑Êúâ‰ª•‰∏ãÂá†ÁßçÁä∂ÊÄÅÔºöAvailableÔºöÁ©∫Èó≤Áä∂ÊÄÅÔºõBoundÔºöÂ∑≤ÁªèÁªëÂÆöÂà∞Êüê‰∏™PVC‰∏äÔºõReleasedÔºöÂØπÂ∫îÁöÑPVCÂ∑≤ÁªèË¢´Âà†Èô§Ôºå‰ΩÜËµÑÊ∫êËøòÊ≤°ÊúâË¢´ÈõÜÁæ§Êî∂ÂõûÔºõFailedÔºöPVËá™Âä®ÂõûÊî∂Â§±Ë¥•„ÄÇNamespaceNamespaceÈ°æÂêçÊÄù‰πâÔºåÂëΩÂêçÁ©∫Èó¥ÔºåÁî®‰∫éËµÑÊ∫êÈöîÁ¶ª„ÄÇÈªòËÆ§Kubernetes‰ºöÂàõÂª∫defaultÂëΩÂêçÁ©∫Èó¥ÔºåÂπ∂‰∏îPodÔºåRCÁ≠âÈÉΩÊòØÁî®ËØ•ÂëΩÂêçÁ©∫Èó¥„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÆö‰πâËá™Â∑±ÁöÑÂëΩÂêçÁ©∫Èó¥Ôºö1234apiVersion: v1kind: Namespacemetadata: name: febsÂú®ÂàõÂª∫PodÁ≠âËµÑÊ∫êÁöÑÊó∂ÂÄôÂ∞±ÂèØ‰ª•ÊåáÂÆöËØ•ÂëΩÂêçÁ©∫Èó¥‰∫ÜÔºö12345678apiVersion: v1kind: Podmetadata: name: nginx-pod namespace: febs labels: name: nginx...AnnotationAnnotationÊòØÁî®Êà∑‰ªªÊÑèÂÆö‰πâÁöÑÈôÑÂä†‰ø°ÊÅØÔºå‰æø‰∫éÂ§ñÈÉ®Â∑•ÂÖ∑Êü•ÊâæÔºåÊØîÂ¶ÇÁâàÊú¨‰ø°ÊÅØÔºåbuild‰ø°ÊÅØÁ≠â„ÄÇConfigMapÂ≠¶ËøáDockerÁöÑÈÉΩÁü•ÈÅìÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÊåÇËΩΩÁõÆÂΩïÁöÑÊñπÂºèÂ∞ÜÂÆø‰∏ªÊú∫‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂Êò†Â∞ÑÂà∞DockerÂÆπÂô®ÂÜÖ„ÄÇ‰ΩÜËøôÂú®ÈõÜÁæ§ÁéØÂ¢É‰∏ãÔºåË¶ÅÊåÇËΩΩÁöÑÈÖçÁΩÆÊñá‰ª∂ËøáÂ§öÔºå‰∏ç‰ªÖÈ∫ªÁÉ¶ËÄå‰∏îÂÆπÊòìÂá∫ÈîôÔºåKuberneteÁöÑConfigMapÂ∞±ÊòØÁî®‰∫éËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑ„ÄÇConfigMapÂ≠òÂÇ®‰∫ÜÂ§ßÈáèkey-valueÈÖçÁΩÆÔºåÂ≠òÂÇ®Âú®etcd‰∏≠ÔºåÈÄöËøáVolumeÁöÑÊñπÂºèÊò†Â∞ÑÂà∞ÁõÆÊ†áPodÂÜÖÔºåÊàê‰∏∫‰∏Ä‰ªΩÈÖçÁΩÆÊñá‰ª∂ÔºåConfigMapÂÆûË¥®‰∏äÂ∞±ÊòØ‰∏Ä‰∏™ÈÖçÁΩÆ‰∏≠ÂøÉ„ÄÇ„ÄäKubernetesÊùÉÂ®ÅÊåáÂçó(Á¨¨4Áâà)„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kubernetes1.16.2ÂÆâË£ÖDashboard]]></title>
    <url>%2FKubernetes1-16-2-install-Dashboard.html</url>
    <content type="text"><![CDATA[Kubernetes DashboardÊòØKubernetesÊèê‰æõÁöÑWebÁî®Êà∑ÁïåÈù¢ÔºåÈÄöËøáDashboardÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÆπÂô®ÂåñÁöÑÂ∫îÁî®ÈÉ®ÁΩ≤Âà∞KubernetesÈõÜÁæ§‰∏≠ÔºåÂØπÂÆπÂô®ÂåñÁöÑÂ∫îÁî®ËøõË°åÊïÖÈöúÊéíÈô§‰ª•ÂèäÈõÜÁæ§ËµÑÊ∫êÁÆ°ÁêÜÔºõÂèØ‰ª•ÈÄöËøáDashboardÊü•ÁúãÈõÜÁæ§Â∫îÁî®ËØ¶ÊÉÖÔºåÂàõÂª∫Êàñ‰øÆÊîπÂçï‰∏™KubernetesËµÑÊ∫êÔºà‰æãÂ¶ÇDeploymentsÔºåJobsÔºåDaemonSetsÁ≠âÔºâ„ÄÇÂÆâË£ÖDashboard‰∏äËäÇÊàë‰ª¨Êê≠Âª∫ÁöÑKubernetesÈõÜÁæ§ÁâàÊú¨‰∏∫1.16.2ÔºåÊà™Ëá≥ÁõÆÂâç‰∏∫Ê≠¢Ôºå‰∏éËØ•ÁâàÊú¨ÂØπÂ∫îÁöÑDashboardÁâàÊú¨‰∏∫v2.0.0-beta5ÔºåÂèØ‰ª•ÈÄöËøáhttps://github.com/kubernetes/dashboard/releasesÊü•ÁúãÔºö‰∏ãËΩΩËØ•ÁâàÊú¨ÁöÑDashboard yamlÊñá‰ª∂Ôºö1wget https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0-beta5/aio/deploy/recommended.yaml‰øÆÊîπËØ•ÈÖçÁΩÆÊñá‰ª∂Ôºö1vim recommended.yaml‰øÆÊîπÁöÑÂÜÖÂÆπÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊé•ÁùÄÂàõÂª∫ËØÅ‰π¶Ôºö123456789101112131415161718mkdir dashboard-certscd dashboard-certs/#ÂàõÂª∫ÂëΩÂêçÁ©∫Èó¥kubectl create namespace kubernetes-dashboard#ÂàõÂª∫keyÊñá‰ª∂openssl genrsa -out dashboard.key 2048#ËØÅ‰π¶ËØ∑Ê±Çopenssl req -days 36000 -new -out dashboard.csr -key dashboard.key -subj &apos;/CN=dashboard-cert&apos;#Ëá™Á≠æËØÅ‰π¶openssl x509 -req -in dashboard.csr -signkey dashboard.key -out dashboard.crt#ÂàõÂª∫kubernetes-dashboard-certsÂØπË±°kubectl create secret generic kubernetes-dashboard-certs --from-file=dashboard.key --from-file=dashboard.crt -n kubernetes-dashboardÁÑ∂ÂêéÊâßË°åkubectl create -f ../recommended.yamlÂëΩ‰ª§ÂÆâË£ÖDashboard„ÄÇ‰ΩøÁî®kubectl get service -n kubernetes-dashboard -o wideÂëΩ‰ª§Êü•ÁúãÊòØÂê¶ÈÉ®ÁΩ≤ÊàêÂäüÔºöÂàõÂª∫Ë¥¶Âè∑‰∏éÊéàÊùÉDashboardÈÉ®ÁΩ≤Â•ΩÂêéÔºåÊé•ÁùÄÂàõÂª∫Ë¥¶Âè∑Ôºö1vim dashboard-admin.yamlÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567apiVersion: v1kind: ServiceAccountmetadata: labels: k8s-app: kubernetes-dashboard name: dashboard-admin namespace: kubernetes-dashboardÂàõÂª∫ËØ•Ë¥¶Âè∑Ôºö1kubectl create -f dashboard-admin.yamlË¥¶Âè∑ÂàõÂª∫Â•ΩÂêéÔºåÊé•ÁùÄ‰∏∫ÂÖ∂ÊéàÊùÉÔºö1vim dashboard-admin-bind-cluster-role.yamlÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRoleBindingmetadata: name: dashboard-admin-bind-cluster-role labels: k8s-app: kubernetes-dashboardroleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-adminsubjects:- kind: ServiceAccount name: dashboard-admin namespace: kubernetes-dashboardÊéàÊùÉÔºö1kubectl create -f dashboard-admin-bind-cluster-role.yamlËÆøÈóÆDashboard‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttps://192.168.33.12:30008/#/loginÔºöÈÄâÊã©TokenÔºåTokenÁöÑÂÄºÂèØ‰ª•Áî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ëé∑ÂèñÔºö1kubectl -n kubernetes-dashboard describe secret $(kubectl -n kubernetes-dashboard get secret | grep dashboard-admin | awk &apos;&#123;print $1&#125;&apos;)Â§çÂà∂ËØ•TokenÂà∞DashboardÔºöÁÇπÂáªSign InÔºöÂÆâË£ÖMetrics Service‰∏äÈù¢DashboardÁöÑCPU Usage (cores)ÂíåMemory Usage (bytes)ÂàóÊòØÁ©∫ÁöÑÔºåËøôÊòØÂõ†‰∏∫KubernetesÁöÑÊó©ÊúüÁâàÊú¨‰æùÈù†HeapsterÊù•ÂÆûÁé∞ÂÆåÊï¥ÁöÑÊÄßËÉΩÊï∞ÊçÆÈááÈõÜÂíåÁõëÊéßÂäüËÉΩÔºåKubernetes‰ªé1.8ÁâàÊú¨ÂºÄÂßãÔºåÊÄßËÉΩÊï∞ÊçÆÂºÄÂßã‰ª•Metrics APIÁöÑÊñπÂºèÊèê‰æõÊ†áÂáÜÂåñÊé•Âè£ÔºåÂπ∂‰∏î‰ªé1.10ÁâàÊú¨ÂºÄÂßãÂ∞ÜHeapsterÊõøÊç¢‰∏∫Metrics Server„ÄÇÈ¶ñÂÖàÂú®masterËäÇÁÇπ‰∏äÂÆâË£ÖgitÔºö1yum install gitÁÑ∂ÂêéÂÖãÈöÜMetrics Server GitHub‰ªìÂ∫ìÔºö1git clone https://github.com/kubernetes-sigs/metrics-server.git‰øÆÊîπmetrics-server-deployment.yamlÔºö1vim metrics-server/deploy/1.8+/metrics-server-deployment.yaml‰øÆÊîπÂÜÖÂÆπÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö1234567...... imagePullPolicy: IfNotPresent command: - /metrics-server - --kubelet-preferred-address-types=InternalIP - --kubelet-insecure-tls......Âõ†‰∏∫ÈªòËÆ§metrics serviceÁöÑÈïúÂÉèÂú∞ÂùÄÈúÄË¶ÅÁßëÂ≠¶‰∏äÁΩëÊâçËÉΩÊãâÂèñÔºåÊâÄ‰ª•Âú®ÂàõÂª∫‰πãÂâçÔºåÊàë‰ª¨Âú®node1Âíånode2ËäÇÁÇπÂÖàÊâßË°å‰ª•‰∏ãÊìç‰ΩúÂáÜÂ§áÈïúÂÉèÔºö12docker pull bluersw/metrics-server-amd64:v0.3.6docker tag bluersw/metrics-server-amd64:v0.3.6 k8s.gcr.io/metrics-server-amd64:v0.3.6ÁÑ∂ÂêéÂõûÂà∞masterËäÇÁÇπÔºåÊâßË°åÔºö1kubectl create -f metrics-server/deploy/1.8+/Á®çÁ≠âÁâáÂàªÔºåÁÑ∂ÂêéÊâßË°åkubectl top nodes‰æøÂèØ‰ª•ÁúãÂà∞ÊØè‰∏™ËäÇÁÇπÁöÑCPUÂíåÂÜÖÂ≠ò‰ΩøÁî®Áéá‰∫ÜÔºöÂõûÂà∞DashboardÔºö]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KubeadmÂÆâË£ÖKubernetes1.16.2ÈõÜÁæ§]]></title>
    <url>%2FKubeadm-install-Kubernetes1-16-2-cluster.html</url>
    <content type="text"><![CDATA[Kubernetes‰ªé1.4ÁâàÊú¨ÂºÄÂßãÂêéÂ∞±ÂºïÂÖ•‰∫ÜkubeadmÁî®‰∫éÁÆÄÂåñÈõÜÁæ§Êê≠Âª∫ÁöÑËøáÁ®ãÔºåÂú®Kubernetes 1.13ÁâàÊú¨‰∏≠ÔºåkubeadmÂ∑•ÂÖ∑ËøõÂÖ•GAÈò∂ÊÆµÔºåÂèØÁî®‰∫éÁîü‰∫ßÁéØÂ¢ÉKubernetesÈõÜÁæ§Êê≠Âª∫„ÄÇÊú¨ËäÇÂ∞Ü‰ΩøÁî®KubeadmÊê≠Âª∫Kubernetes1.16.2ÈõÜÁæ§ÔºåÂÆø‰∏ªÊú∫ÈááÁî®3Âè∞VagrantÊûÑÂª∫ÁöÑCentos7ËôöÊãüÊú∫ÔºåÈÖçÁΩÆÂ¶Ç‰∏ãÊâÄÁ§∫ÔºàKubernetesÊé®ËçêÂÆø‰∏ªÊú∫ÊúÄ‰ΩéÂÜÖÂ≠ò‰∏çËÉΩ‰Ωé‰∫é2GÔºåCPUÊ†∏ÂøÉÊï∞ÊúÄ‰Ωé‰∏çËÉΩ‰Ωé‰∫é2ÔºâÔºöÊìç‰ΩúÁ≥ªÁªüIPËßíËâ≤CPUÊ†∏ÂøÉÊï∞ÂÜÖÂ≠òHostnamecentos7192.168.33.11master24096Mmastercentos7192.168.33.12worker24096Mnode1centos7192.168.33.13worker24096Mnode2ÂàÜ‰∫´‰∏ãÊàëÁöÑVagrantfileÈÖçÁΩÆÔºö1234567891011121314151617181920212223242526272829Vagrant.configure("2") do |config| config.vm.box = "centos/7" config.vm.define "one" do |one| one.vm.network "private_network", ip: "192.168.33.11" one.vm.hostname = "master" one.vm.provider "virtualbox" do |v| v.memory = 4096 v.cpus = 2 end end config.vm.define "two" do |two| two.vm.network "private_network", ip: "192.168.33.12" two.vm.hostname = "node1" two.vm.provider "virtualbox" do |v| v.memory = 4096 v.cpus = 2 end end config.vm.define "three" do |three| three.vm.network "private_network", ip: "192.168.33.13" three.vm.hostname = "node2" three.vm.provider "virtualbox" do |v| v.memory = 4096 v.cpus = 2 end endendÂêØÂä®ÂêéÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂáÜÂ§áÂ∑•‰Ωú‰∏ãÈù¢Ëøô‰∫õÂáÜÂ§áÂ∑•‰ΩúÂàÜÂà´Âú®3Âè∞Êú∫Âô®‰∏ä‰ΩøÁî®rootË¥¶Âè∑Êìç‰ΩúÔºö1.ÂÆâË£ÖÂøÖË¶ÅËΩØ‰ª∂Ôºö1yum install -y net-tools.x86_64 vim wget2.ÈÖçÁΩÆhostsÔºö1vim /etc/hostsÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123192.168.33.11 master192.168.33.12 node1192.168.33.13 node23.ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôÔºö‰∏∫‰∫ÜÈÅøÂÖçkubernetesÁöÑMasterËäÇÁÇπÂíåÂêÑ‰∏™Â∑•‰ΩúËäÇÁÇπÁöÑNodeËäÇÁÇπÈó¥ÁöÑÈÄö‰ø°Âá∫Áé∞ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÂÖ≥Èó≠Êú¨Âú∞Êê≠Âª∫ÁöÑCentosËôöÊãüÊú∫ÁöÑÈò≤ÁÅ´Â¢ô„ÄÇÁîü‰∫ßÁéØÂ¢ÉÊé®ËçêÁöÑÂÅöÊ≥ïÊòØÂú®Èò≤ÁÅ´Â¢ô‰∏äÈÖçÁΩÆÂêÑ‰∏™ÁªÑ‰ª∂ÈúÄË¶ÅÁõ∏‰∫íÈÄö‰ø°ÁöÑÁ´ØÂè£„ÄÇ12systemctl disable firewalldsystemctl stop firewalld4.Á¶ÅÁî®SELinuxÔºåËÆ©ÂÆπÂô®ÂèØ‰ª•È°∫Âà©Âú∞ËØªÂèñ‰∏ªÊú∫Êñá‰ª∂Á≥ªÁªüÔºö1setenforce 01sed -i &apos;s/^SELINUX=enforcing$/SELINUX=disabled/&apos; /etc/selinux/config5.ÂÆâË£Ö18.09ÁâàÊú¨ÁöÑdockerÔºöÂõ†‰∏∫Êú¨ËäÇÈúÄË¶ÅÂÆâË£ÖÁöÑkubernetesÈõÜÁæ§ÁâàÊú¨‰∏∫1.16.2ÔºåËÄåËØ•ÁâàÊú¨ÁöÑkubernetesÊúÄÈ´òÊîØÊåÅÁöÑdockerÁâàÊú¨‰∏∫18.09„ÄÇÂèØ‰ª•ÈÄöËøáËØ•Âú∞ÂùÄÊü•ÁúãkubernetesÂíådockerÁöÑÁâàÊú¨ÂØπÂ∫îÂÖ≥Á≥ªÔºöhttps://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.16.md#downloads-for-v1160ÔºöÂÆâË£ÖÂøÖË¶Å‰æùËµñ:123yum install -y yum-utils \ device-mapper-persistent-data \ lvm2Ê∑ªÂä†dockerÁ®≥ÂÆöÁâà‰ªìÂ∫ìÔºö123yum-config-manager \ --add-repo \ https://download.docker.com/linux/centos/docker-ce.repoÂÆâË£Ö18.09ÁâàÊú¨Ôºö1yum install docker-ce-18.09.0 docker-ce-cli-18.09.0 containerd.ioÂêØÂä®dockerÔºåÂπ∂ËÆæÁΩÆÂºÄÊú∫Ëá™ÂêØÔºö1systemctl enable docker &amp;&amp; systemctl start docker‰øÆÊîπ/etc/docker/daemon.jsonÊñá‰ª∂:1vim /etc/docker/daemon.jsonÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123&#123; &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;]&#125;ÈáçÂêØdockerÔºö12systemctl daemon-reloadsystemctl restart docker6.Â∞ÜÊ°•Êé•ÁöÑIPv4ÊµÅÈáè‰º†ÈÄíÂà∞iptablesÁöÑÈìæ1234cat &gt; /etc/sysctl.d/k8s.conf &lt;&lt; EOF net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1EOF1sysctl --system7.ÂÖ≥Èó≠swapSwapÊòØÊìç‰ΩúÁ≥ªÁªüÂú®ÂÜÖÂ≠òÂêÉÁ¥ßÁöÑÊÉÖÂÜµÁî≥ËØ∑ÁöÑËôöÊãüÂÜÖÂ≠òÔºåÊåâÁÖßKubernetesÂÆòÁΩëÁöÑËØ¥Ê≥ïÔºåSwap‰ºöÂØπKubernetesÁöÑÊÄßËÉΩÈÄ†ÊàêÂΩ±ÂìçÔºå‰∏çÊé®Ëçê‰ΩøÁî®Swap„ÄÇ1swapoff -aÂÆâË£ÖMasterÂáÜÂ§áÂ∑•‰ΩúÂÆåÊØïÂêéÔºåÊé•ÁùÄÂºÄÂßãÂú®192.168.33.11 MasterËôöÊãüÊú∫‰∏äÂÆâË£ÖKubernetes Master„ÄÇ1.ÈÖçÁΩÆÂõΩÂÜÖÁöÑkubernetesÊ∫êÔºö1234567891011cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo[kubernetes]name=Kubernetesbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/enabled=1gpgcheck=1repo_gpgcheck=1gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpgEOF2.ÂÆâË£Ökubelet„ÄÅkubeadmÂíåkubectlÂ∑•ÂÖ∑Ôºö1yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes3.ÂêØÂä®kubeletÂπ∂ËÆæÁΩÆÂºÄÊú∫Ëá™ÂêØÔºö1systemctl enable kubelet &amp;&amp; systemctl start kubelet4.‰ΩøÁî®‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§ÂêØÂä®masterÔºö12345kubeadm init --kubernetes-version=v1.16.2 \--pod-network-cidr=10.244.0.0/16 \--service-cidr=10.1.0.0/16 \--apiserver-advertise-address=192.168.33.11 \--image-repository registry.aliyuncs.com/google_containersÈÖçÁΩÆÂê´‰πâÂ¶Ç‰∏ãÔºökubernetes-version: Áî®‰∫éÊåáÂÆök8sÁâàÊú¨ÔºåËøôÈáåÊåáÂÆö‰∏∫ÊúÄÊñ∞ÁöÑ1.16.2ÁâàÊú¨Ôºõapiserver-advertise-addressÔºöÁî®‰∫éÊåáÂÆökube-apiserverÁõëÂê¨ÁöÑipÂú∞ÂùÄÔºåÂ∞±ÊòØmasterÊú¨Êú∫IPÂú∞ÂùÄ„ÄÇpod-network-cidrÔºöÂõ†‰∏∫ÂêéÈù¢Êàë‰ª¨ÈÄâÊã©flannel‰Ωú‰∏∫PodÁöÑÁΩëÁªúÊèí‰ª∂ÔºåÊâÄ‰ª•ËøôÈáåÈúÄË¶ÅÊåáÂÆöPodÁöÑÁΩëÁªúËåÉÂõ¥‰∏∫10.244.0.0/16service-cidrÔºöÁî®‰∫éÊåáÂÆöSVCÁöÑÁΩëÁªúËåÉÂõ¥Ôºõimage-repository: ÂÖ∂‰∏≠ÈªòËÆ§ÁöÑÈïúÂÉè‰ªìÂ∫ìk8s.gcr.ioÊ≤°ÊúâÁßëÂ≠¶‰∏äÁΩëÁöÑËØùÊó†Ê≥ïËÆøÈóÆÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÆÉ‰øÆÊîπ‰∏∫ÂõΩÂÜÖÁöÑÈòøÈáåÈïúÂÉè‰ªìÂ∫ìregistry.aliyuncs.com/google_containersÂêØÂä®Êó∂ÔºåÈúÄË¶ÅÊãâÂèñÈïúÂÉèÔºåËøáÁ®ãÊØîËæÉÁºìÊÖ¢ËÄêÂøÉÁ≠âÂæÖÂç≥ÂèØ„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥ÂÖàÊãâÂ•ΩÈïúÂÉèÂÜçÂêØÂä®Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî®kubeadm config images listÂëΩ‰ª§ÂàóÂá∫ÈúÄË¶ÅÊãâÂèñÁöÑÈïúÂÉè„ÄÇÂêØÂä®ÊàêÂäüÂêéÔºå‰Ω†‰ºöÁúãÂà∞Á±ª‰ººÂ¶Ç‰∏ãÊèêÁ§∫:12345678910111213141516Your Kubernetes control-plane has initialized successfully!To start using your cluster, you need to run the following as a regular user: mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/configYou should now deploy a pod network to the cluster.Run &quot;kubectl apply -f [podnetwork].yaml&quot; with one of the options listed at: https://kubernetes.io/docs/concepts/cluster-administration/addons/Then you can join any number of worker nodes by running the following on each as root:kubeadm join 192.168.33.11:6443 --token yf7sct.o63ceq25gxdu71cd \ --discovery-token-ca-cert-hash sha256:bcd15ddd7432d393d3831c75ac7673f582d4e9895ff2c579c3f545d2a5d3026eÊÑèÊÄùÊòØÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÈùûrootÁî®Êà∑‰πüËÉΩ‰ΩøÁî®kubectlÂëΩ‰ª§ÁöÑËØùÔºåÈúÄË¶ÅÊâßË°å‰∏ãÈù¢Ëøô‰∫õÊìç‰ΩúÔºö123mkdir -p $HOME/.kubesudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/configsudo chown $(id -u):$(id -g) $HOME/.kube/configËÄåÂ¶ÇÊûú‰Ω†ÊòØrootÁî®Êà∑ÁöÑËØùÔºåÁõ¥Êé•ËøêË°å‰∏ãÈù¢ËøôÊÆµÂëΩ‰ª§Âç≥ÂèØÔºö1export KUBECONFIG=/etc/kubernetes/admin.confËÄå‰∏ãÈù¢ËøôÊÆµÂàôÊòØÁî®‰∫éÂ∑•‰ΩúËäÇÁÇπNodeÂä†ÂÖ•MasterÈõÜÁæ§Áî®ÁöÑÔºåÂêéÈù¢‰ºö‰ΩøÁî®Âà∞12kubeadm join 192.168.33.11:6443 --token yf7sct.o63ceq25gxdu71cd \ --discovery-token-ca-cert-hash sha256:bcd15ddd7432d393d3831c75ac7673f582d4e9895ff2c579c3f545d2a5d3026eÂÆâË£ÖNodeËäÇÁÇπÔºåÂä†ÂÖ•ÈõÜÁæ§Êé•ÁùÄÂú®192.168.33.12Âíå192.168.33.13ËôöÊãüÊú∫‰∏äÊìç‰Ωú„ÄÇÂíåÂÆâË£ÖMasterÊ≠•È™§‰∏ÄÊ†∑ÔºåÂÖàÂÆâË£ÖÂ•ΩkubeadmÁõ∏ÂÖ≥Â∑•ÂÖ∑ÔºåÁÑ∂ÂêéÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Â∞ÜNodeÂä†ÂÖ•Âà∞ÈõÜÁæ§Ôºö12kubeadm join 192.168.33.11:6443 --token yf7sct.o63ceq25gxdu71cd \ --discovery-token-ca-cert-hash sha256:bcd15ddd7432d393d3831c75ac7673f582d4e9895ff2c579c3f545d2a5d3026eÂΩìËæìÂá∫Â¶Ç‰∏ãÂÜÖÂÆπÊòØËØ¥ÊòéÂä†ÂÖ•ÊàêÂäüÔºöÂÆâË£ÖÁΩëÁªúÊèí‰ª∂Âú®Master‰∏äÊâßË°åkubectl get nodesÂëΩ‰ª§Ôºå‰ºöÂèëÁé∞KubernetesÊèêÁ§∫Master‰∏∫NotReadyÁä∂ÊÄÅÔºåËøôÊòØÂõ†‰∏∫ËøòÊ≤°ÊúâÂÆâË£ÖCNIÁΩëÁªúÊèí‰ª∂ÔºöÂØπ‰∫éCNIÁΩëÁªúÊèí‰ª∂ÔºåÂèØ‰ª•ÊúâËÆ∏Â§öÈÄâÊã©ÔºåËØ∑ÂèÇËÄÉhttps://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#pod-networkÁöÑËØ¥Êòé„ÄÇËøôÈáåÊàëÈÄâÊã©ÁöÑflannelÔºö1wget https://raw.githubusercontent.com/coreos/flannel/2140ac876ef134e0ed5af15c65e414cf26827915/Documentation/kube-flannel.yml‰øÆÊîπkube-flannel.ymlÔºö1vim kube-flannel.yml‰øÆÊîπÁöÑÂú∞ÊñπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011......containers: - name: kube-flannel image: quay.io/coreos/flannel:v0.11.0-amd64 command: - /opt/bin/flanneld args: - --ip-masq - --kube-subnet-mgr - --iface=eth1 # Êñ∞Â¢ûÈÉ®ÂàÜ......Vagrant Âú®Â§ö‰∏ªÊú∫Ê®°Âºè‰∏ãÊúâÂ§ö‰∏™ÁΩëÂç°Ôºåeth0 ÁΩëÂç°Áî®‰∫énatËΩ¨ÂèëËÆøÈóÆÂÖ¨ÁΩëÔºåËÄåeth1ÁΩëÂç°ÊâçÊòØ‰∏ªÊú∫ÁúüÊ≠£ÁöÑIPÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÁõ¥Êé•ÈÉ®ÁΩ≤k8s flannel Êèí‰ª∂‰ºöÂØºËá¥CoreDNSÊó†Ê≥ïÂ∑•‰ΩúÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÊ∑ªÂä†‰∏äÈù¢ËøôÊù°ÈÖçÁΩÆÂº∫Âà∂flannel‰ΩøÁî®eth1„ÄÇÂÆâË£ÖflannelÔºö1kubectl create -f kube-flannel.ymlËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Êó∂ÔºåË°®Á§∫ÂÆâË£ÖÊàêÂäüÔºöÁ®çÁ≠âÁâáÂàªÂêéÔºåÂÜçÊ¨°Êü•ÁúãËäÇÁÇπÁä∂ÊÄÅÔºöÂèØ‰ª•ÁúãÂà∞ÊâÄÊúâËäÇÁÇπÈÉΩÊòØReadyÁä∂ÊÄÅ„ÄÇÊâßË°åkubectl get pods --all-namespacesÔºåÈ™åËØÅKubernetesÈõÜÁæ§ÁöÑÁõ∏ÂÖ≥PodÊòØÂê¶ÈÉΩÊ≠£Â∏∏ÂàõÂª∫Âπ∂ËøêË°åÔºöÂà∞ËøôÈáåÈÄöËøáKubeadmÂÆâË£ÖKubernetes 1.16.2ÈõÜÁæ§Â∑≤ÁªèÊàêÂäü‰∫Ü„ÄÇÂ¶ÇÊûúÂÆâË£ÖÂ§±Ë¥•ÔºåÂàôÂèØ‰ª•ÊâßË°åkubeadm resetÂëΩ‰ª§Â∞Ü‰∏ªÊú∫ÊÅ¢Â§çÂéüÁä∂ÔºåÈáçÊñ∞ÊâßË°åkubeadm initÂëΩ‰ª§ÔºåÂÜçÊ¨°ËøõË°åÂÆâË£Ö„ÄÇÂ∞èËØïÁâõÂàÄ‰∏∫‰∫ÜÂø´ÈÄüÂú∞È™åËØÅ‰∏Ä‰∏ã‰∏äÈù¢Êê≠Âª∫ÈõÜÁæ§ÊòØÂê¶ÂèØÁî®ÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Nginx DeploymentÔºö123kubectl create deployment nginx --image=nginx kubectl expose deployment nginx --port=80 --type=NodePort‰ΩøÁî®ÂëΩ‰ª§kubectl get pod,svcÊü•ÁúãÊòØÂê¶Ê≠£Â∏∏Ôºö‰ΩøÁî®ÂëΩ‰ª§kubectl get pods,svc -o wideÊü•ÁúãËØ•PodÂÖ∑‰Ωì‰Ωç‰∫éÂì™‰∏Ä‰∏™ËäÇÁÇπÔºöÂèØ‰ª•ÁúãÂà∞ÂÖ∂‰Ωç‰∫éNode2ËäÇÁÇπÔºåËØ•ËäÇÁÇπIP‰∏∫192.168.33.13ÔºåÁ´ØÂè£‰∏∫30935Ôºå‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆËØ•Âú∞ÂùÄÔºö‰ΩøÁî®kubectl get podsÂëΩ‰ª§Êü•ÁúãPodÁöÑÊÉÖÂÜµ:‰ΩøÁî®kubectl deleteÂëΩ‰ª§Âà†Èô§Ëøô‰∏™PodÁúãÁúã‰ºöÊÄéÊ†∑ÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂàöÂàöÁöÑÂêç‰∏∫xxxÁöÑPodÂ§Ñ‰∫éTerminatingÔºàÁªìÊùü‰∏≠ÔºâÁöÑÁä∂ÊÄÅÔºåËÄåÂè¶‰∏Ä‰∏™Êñ∞ÁöÑÂêç‰∏∫xxxÁöÑPodÊ≠£Â§Ñ‰∫éContainerCreatingÔºàÂàõÂª∫‰∏≠ÔºâÁä∂ÊÄÅÔºåÂõ†‰∏∫ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåreplicasÁöÑÂÄº‰∏∫1ÔºåKubernetesÈõÜÁæ§‰ºöÂßãÁªà‰øùÊåÅNginxÁöÑÂÆû‰æã‰∏∫1„ÄÇË¶ÅÂà†Èô§NginxÂèØ‰ª•ÈÄöËøáÂà†Èô§deploymentÊù•ÂÆåÊàêÔºå‰ΩøÁî®kubectl get deploymentsÂëΩ‰ª§Êü•ÁúãÂΩìÂâçÁöÑdeploymentÔºö‰ΩøÁî®ÂëΩ‰ª§kubectl delete deployment nginxÔºöÂÆûÈôÖ‰∏≠Êàë‰ª¨‰∏ÄËà¨ÈÄöËøáymlÊàñËÄÖjsonÊñá‰ª∂Êù•ÂàõÂª∫Â∫îÁî®Ôºå‰∏ãÈù¢Êàë‰ª¨‰ΩøÁî®ymlÁöÑÊñπÂºèÂàõÂª∫‰∏Ä‰∏™3ÂÆû‰æãÁöÑNginxÈõÜÁæ§Ôºö1vim nginx-rc.ymlÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819apiVersion: v1kind: ReplicationControllermetadata: name: nginx-rcspec: replicas: 3 selector: name: nginx template: metadata: labels: name: nginx spec: containers: - name: nginx image: nginx imagePullPolicy: IfNotPresent ports: - containerPort: 801vim nginx-service.ymlÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112apiVersion: v1kind: Servicemetadata: name: nginx-servicespec: ports: - port: 8080 targetPort: 80 protocol: TCP type: NodePort selector: name: nginxÊé•ÁùÄÊâßË°å‰∏ãÈù¢Ëøô‰∏§Êù°ÂëΩ‰ª§ÂêØÂä®NginxÈõÜÁæ§Ôºö12kubectl create -f nginx-rc.ymlkubectl create -f nginx-service.yml‰ΩøÁî®kubectl get podsÂëΩ‰ª§Êü•ÁúãPodÊÉÖÂÜµ:‰ΩøÁî®kubectl get servicesÂëΩ‰ª§Êü•ÁúãServiceÊÉÖÂÜµÔºö‰ΩøÁî®kubectl describe svc nginx-serviceÂëΩ‰ª§Êü•ÁúãNginx ServiceËØ¶ÊÉÖÔºö‰ΩøÁî®ÂëΩ‰ª§kubectl get pods,svc -o wideÊü•ÁúãNginx PodÂÖ∑‰Ωì‰Ωç‰∫éÂì™‰∏Ä‰∏™ËäÇÁÇπÔºöÂèØ‰ª•ÁúãÂà∞Âú®node1Âíånode2ËäÇÁÇπ‰∏äÈÉΩÊúâNginxÁöÑPodÔºå‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttp://192.168.33.12:32631/ÊàñËÄÖhttp://192.168.33.13:32631/ÔºöÂà†Èô§ÁöÑËØùÊâßË°å‰∏ãÈù¢Ëøô‰∏§Êù°ÂëΩ‰ª§Âç≥ÂèØÔºö12kubectl delete -f nginx-service.ymlkubectl delete -f nginx-rc.yml]]></content>
      <tags>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Troubleshooting Âü∫Á°Ä]]></title>
    <url>%2FJava%20Troubleshooting%E5%9F%BA%E7%A1%80.html</url>
    <content type="text"><![CDATA[Êú¨ÊñáÂü∫‰∫éJava8„ÄÇJVMÂèÇÊï∞Á±ªÂûãJVMÁöÑÂèÇÊï∞Âü∫Êú¨ÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁßçÁ±ªÂûãÔºöÊ†áÂáÜÂèÇÊï∞Âú®ÂêÑ‰∏™ÁâàÊú¨‰∏≠Âü∫Êú¨‰∏ç‰ºöÂèëÁîüÂèòÂåñÁöÑÊ†áÂáÜÂèÇÊï∞ÔºåÊØîÂ¶ÇÊúâÔºö-helpÔºöÊü•ÁúãÂ∏ÆÂä©Ôºõ-serverÔºöÂàáÊç¢‰∏∫serverÊ®°ÂºèÔºõ-clientÔºöÂàáÊç¢‰∏∫clientÊ®°ÂºèÔºõ-versionÔºöÊü•ÁúãJDKÁâàÊú¨Ôºõ-showversionÔºöËæìÂá∫‰∫ßÂìÅÁâàÊú¨Âπ∂ÁªßÁª≠„ÄÇÊõ¥Â§öÊ†áÂáÜÂèÇÊï∞ÂèØ‰ª•ÈÄöËøájava -helpÊü•Áúã„ÄÇXÂèÇÊï∞XÂèÇÊï∞‰πüÁß∞‰∏∫ÈùûÊ†áÂáÜÂåñÂèÇÊï∞ÔºåÂú®ÂêÑ‰∏™JDKÁâàÊú¨‰∏≠ÂèØËÉΩÂ≠òÂú®Â∑ÆÂºÇÔºåÊØîÂ¶ÇÊúâÔºö-XintÔºöËß£ÈáäÊâßË°åÔºõ-XcompÔºöÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®Â∞±ÁºñËØëÊàêÊú¨Âú∞‰ª£Á†ÅÔºõ-XmixedÔºöÊ∑∑ÂêàÊ®°ÂºèÔºåJVMËá™Â∑±Êù•ÂÜ≥ÂÆöÊòØÂê¶ÁºñËØëÊàêÊú¨Âú∞‰ª£Á†Å„ÄÇXXÂèÇÊï∞XX‰πüÊòØÈùûÊ†áÂáÜÂåñÂèÇÊï∞Ôºå‰∏ªË¶ÅÁî®‰∫éJVMË∞É‰ºòÂíåÈóÆÈ¢òÂÆö‰ΩçÔºåXXÂèÇÊï∞ÂàÜ‰∏∫‰∏§Â§ßÁ±ªÂûãÔºöBooleanÁ±ªÂûãÔºåÊ†ºÂºèÔºö-XX:[+-]&lt;name&gt;Ê†áËØÜÂêØÁî®ÊàñÁ¶ÅÁî®nameÂ±ûÊÄßÔºåÊØîÂ¶ÇÔºö-XX:+PrintGCDetails-XX:+UseG1GCÈùûBooleanÁ±ªÂûãÔºàkey-valueÂΩ¢ÂºèÔºâÔºåÊ†ºÂºèÔºö-XX:&lt;name&gt;=&lt;value&gt;Ë°®Á§∫nameÂ±ûÊÄßÁöÑÂÄºÊòØvalueÔºåÊØîÂ¶ÇÔºö-XX:MaxGCPauseMillis=500-XX:GCTimeRatio=19ËøêË°åÊó∂JVMÂèÇÊï∞Êü•Áúã-XX:+PrintFlagsInitialÔºöÊü•ÁúãÂèÇÊï∞ÂàùÂßãÂÄºÔºå=Ë°®Á§∫ÈªòËÆ§ÂÄºÔºå:=Ë°®Á§∫‰øÆÊîπÂêéÁöÑÂÄº„ÄÇ-XX:+PrintFlagsFinalÔºöÊü•ÁúãÂèÇÊï∞ÊúÄÁªàÂÄº„ÄÇ-XX:+UnlockExperimentalVMOptionsÔºöËß£ÈîÅÂÆûÈ™åÂèÇÊï∞„ÄÇ-XX:+UnlockDiagnosticVMOptionsÔºöËß£ÈîÅËØäÊñ≠ÂèÇÊï∞„ÄÇ-XX:+PrintCommandLineFlagsÔºöÊâìÂç∞ÂëΩ‰ª§Ë°åÂèÇÊï∞„ÄÇ ‰∏äÈù¢Ëøô‰∫õÂëΩ‰ª§Êü•ÁúãÁöÑÂèÇÊï∞ÂÄºÂØπÂ∫îÁöÑËøõÁ®ã‰∏∫ÊâßË°åÂΩìÂâçÂëΩ‰ª§ËøõÁ®ãÔºåÂ¶ÇÊûúÈúÄË¶ÅÊü•ÁúãÊüê‰∏™ËøêË°åÊó∂JavaÂ∫îÁî®Áõ∏ÂÖ≥ÂèÇÊï∞ÔºåÂàôÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢Ëøô‰∫õÂëΩ‰ª§ÔºöjpsÔºöÊü•ÁúãJavaËøõÁ®ãIDÔºå-lÊòæÁ§∫ÂÆåÊï¥ÂêØÂä®Á±ªÂêç„ÄÇjinfoÔºöÊü•ÁúãËøêË°åÊó∂JavaÁ®ãÂ∫èÁõ∏ÂÖ≥ÂèÇÊï∞ÂÄºÔºå‰ΩøÁî®ÊñπÂºèjinfo -flag [ÂèÇÊï∞Âêç] [ËøõÁ®ãID]„ÄÇÊØîÂ¶ÇÂΩìÂâçÊúâ‰∏Ä‰∏™Ê≠£Â∏∏ËøêË°åÁöÑboot-app.jarÔºåÊü•ÁúãÂÖ∂ÊúÄÂ§ßÂ†ÜÂÜÖÂ≠òÔºöjstatÁªüËÆ°JVM‰ø°ÊÅØjstatÂèØ‰ª•ÁõëÊéßËÆ∏Â§öJVM‰ø°ÊÅØÔºå‰∏ãÈù¢ÈÄê‰∏ÄÊºîÁ§∫ÔºåÊºîÁ§∫Âü∫‰∫éboot-app.jarÔºåËøõÁ®ãÂè∑‰∏∫4425„ÄÇclassÁõëÊéßÁ±ªÂä†ËΩΩÂô®Ë°å‰∏∫‰ø°ÊÅØÔºöÂêÑÂàóÂê´‰πâÂ¶Ç‰∏ãÔºöLoadedÔºöÂ∑≤Âä†ËΩΩÁ±ªÊï∞ÈáèÔºõBytesÔºöÂ∑≤Âä†ËΩΩÁ±ªÂ§ßÂ∞èÔºåÂçï‰Ωç‰∏∫KBÔºõUnloadedÔºöÂ∑≤Âç∏ËΩΩÁ±ªÊï∞ÈáèÔºõBytesÔºöÂ∑≤Âç∏ËΩΩÁ±ªÂ§ßÂ∞èÔºåÂçï‰Ωç‰∏∫KBÔºõTimeÔºöÊâßË°åÁ±ªÂä†ËΩΩÂíåÂç∏ËΩΩÊâÄËä±Ë¥πÁöÑÊó∂Èó¥„ÄÇcompilerÁõëÊéßHotSpot VMÂÆûÊó∂ÁºñËØëÂô®‰ø°ÊÅØÔºöCompiledÔºöÊâßË°åÁöÑÁºñËØë‰ªªÂä°Êï∞ÈáèÔºõFailedÔºöÁºñËØëÂ§±Ë¥•‰ªªÂä°Êï∞ÈáèÔºõInvalidÔºöÊó†ÊïàÁöÑÁºñËØëÊï∞ÈáèÔºõTimeÔºöÁºñËØëËÄóÊó∂ÔºõFailedTypeÔºö‰∏äÊ¨°ÁºñËØëÂ§±Ë¥•ÁöÑÁ±ªÂûãÔºõFailedMethodÔºöÁºñËØëÂ§±Ë¥•ÁöÑÁ±ªÂêçÂíåÊñπÊ≥ï„ÄÇgcÁªüËÆ°Â†ÜÂå∫GC‰ø°ÊÅØÔºöS0CÔºöÂΩìÂâçÂπ∏Â≠òËÄÖ0Âå∫Â§ßÂ∞èÔºåÂçï‰ΩçKBÔºõS1CÔºöÂΩìÂâçÂπ∏Â≠òËÄÖ1Âå∫Â§ßÂ∞èÔºåÂçï‰ΩçKBÔºõS0UÔºöÂπ∏Â≠òËÄÖ0Âå∫Â∑≤‰ΩøÁî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõS1UÔºöÂπ∏Â≠òËÄÖ1Âå∫Â∑≤‰ΩøÁî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõECÔºö‰ºäÁî∏Âõ≠Âå∫Â§ßÂ∞èÔºåÂçï‰ΩçKBÔºõEUÔºö‰ºäÁî∏Âõ≠Âå∫Â∑≤‰ΩøÁî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõOCÔºöËÄÅÂπ¥‰ª£ÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõOUÔºöËÄÅÂπ¥‰ª£Â∑≤‰ΩøÁî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõMCÔºöÂÖÉÁ©∫Èó¥Â§ßÂ∞èÔºåÂçï‰ΩçKBÔºõMUÔºöÂÖÉÁ©∫Èó¥Â∑≤‰ΩøÁî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõCCSCÔºöÂéãÁº©Á±ªÁ©∫Èó¥Â§ßÂ∞èÔºåÂçï‰ΩçKBÔºõCCSUÔºöÂéãÁº©Á±ªÁ©∫Èó¥Â∑≤‰ΩøÁî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõYGCÔºöYGCÊ¨°Êï∞ÔºõYGCTÔºöYGCËÄóÊó∂ÔºõFGCÔºöFGCÊ¨°Êï∞ÔºõFGCTÔºöFGCËÄóÊó∂ÔºõGCTÔºöGCÊÄªËÄóÊó∂„ÄÇgccapacityÂíåGCÁõ∏ÂÖ≥ÁöÑ‰∏Ä‰∫õÂÜÖÂ≠òÂ§ßÂ∞èÁªüËÆ°‰ø°ÊÅØÔºöÈÉ®ÂàÜÂàóÂê´‰πâÂíå-gcÁõ∏ÂêåÔºå‰∏ãÈù¢‰ªÖÂàóÂá∫‰∏çÂêåÈÉ®ÂàÜÔºöNGCMNÔºöÊñ∞Áîü‰ª£ÊúÄÂ∞èÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõNGCMXÔºöÊñ∞Áîü‰ª£ÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõNGCÔºöÊñ∞Áîü‰ª£ÂΩìÂâçÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõOGCMNÔºöËÄÅÂπ¥‰ª£ÊúÄÂ∞èÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõOGCMXÔºöËÄÅÂπ¥‰ª£ÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõMCMNÔºöÂÖÉÁ©∫Èó¥ÊúÄÂ∞èÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõMCMXÔºöÂÖÉÁ©∫Èó¥ÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõCCSMNÔºöÂéãÁº©Á±ªÁ©∫Èó¥ÊúÄÂ∞èÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKBÔºõCCSMXÔºöÂéãÁº©Á±ªÁ©∫Èó¥ÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçKB„ÄÇgcutilGC‰ø°ÊÅØÊëòË¶Å„ÄÅÊÄªËßàÔºöÈÉ®ÂàÜÂàóÂê´‰πâÂíå-gcÁõ∏ÂêåÔºå‰∏ãÈù¢‰ªÖÂàóÂá∫‰∏çÂêåÈÉ®ÂàÜÔºöS0ÔºöÂπ∏Â≠òËÄÖ0Âå∫ÂÜÖÂ≠ò‰ΩøÁî®ÁéáÔºõS1ÔºöÂπ∏Â≠òËÄÖ1Âå∫ÂÜÖÂ≠ò‰ΩøÁî®ÁéáÔºõEÔºö‰ºäÁî∏Âõ≠Âå∫ÂÜÖÂ≠ò‰ΩøÁî®ÁéáÔºõOÔºöËÄÅÂπ¥‰ª£ÂÜÖÂ≠ò‰ΩøÁî®ÁéáÔºõMÔºöÂÖÉÁ©∫Èó¥ÂÜÖÂ≠ò‰ΩøÁî®ÁéáÔºõCCSÔºöÂéãÁº©Á±ªÁ©∫Èó¥ÂÜÖÂ≠ò‰ΩøÁî®Áéá„ÄÇgccauseÂ§ßÈÉ®ÂàÜÂíå-gcutil‰∏ÄËá¥ÔºåÊñ∞Â¢û‰∫ÜLGCCÂíåGCCÔºöLGCCÔºöÊúÄÂêé‰∏ÄÊ¨°GCÁöÑÂéüÂõ†ÔºõGCCÔºöÂΩìÂâçGCÂéüÂõ†„ÄÇgcnew‰∏Ä‰∫õÂíåÊñ∞Áîü‰ª£GCÁõ∏ÂÖ≥ÁöÑÁªüËÆ°‰ø°ÊÅØÔºöÈÉ®ÂàÜÂàóÂê´‰πâÂíå-gcÁõ∏ÂêåÔºå‰∏ãÈù¢‰ªÖÂàóÂá∫‰∏çÂêåÈÉ®ÂàÜÔºöTTÔºöTenuring thresholdÔºåÂç≥ÂΩìÂâçÂØπË±°‰ªéÊñ∞Áîü‰ª£ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£ÁöÑÂπ¥ÈæÑÈòàÂÄºÔºàJVMÂä®ÊÄÅË∞ÉÊï¥ÔºâÔºõMTTÔºöMaxTenuringThresholdÔºåÊúÄÂ§ßÂèØËÆæÊôãÂçáÈòàÂÄºÔºàÈªòËÆ§ÂÄºÔºåÊàñËÄÖÊàë‰ª¨ÊâãÂä®ËÆæÁΩÆÁöÑÂÄºÔºâÔºõDSSÔºöÊúüÊúõÁöÑÂπ∏Â≠òÂå∫ÁöÑÂ§ßÂ∞èÔºà‰ªé‰∏äÈù¢Êà™ÂõæÂèØ‰ª•ÁúãÂá∫ÔºåÂÄº‰∏∫21504KBÔºåÂíåÂπ∏Â≠òËÄÖ0Âå∫„ÄÅÂπ∏Â≠òËÄÖ1Âå∫‰∏ÄÊ†∑Â§ßÔºåÂç≥DSSÁöÑÂÄº‰∏∫ÂΩìÂâçÂπ∏Â≠òËÄÖÂå∫ÁöÑ‰∏ÄÂçä„ÄÇDSSÁöÑËÆ°ÁÆóÂÖ¨Âºè‰∏∫ÔºöÂΩìÂâçÂπ∏Â≠òËÄÖÂå∫ * TargetSurvivorRatio/100ÔºåTargetSurvivorRatioÁöÑÈªòËÆ§ÂÄº‰∏∫50ÔºåÊâÄ‰ª•DSSËÆ°ÁÆóÂá∫Êù•‰∏∫ÂΩìÂâçÂπ∏Â≠òËÄÖÂå∫ÁöÑ‰∏ÄÂçä„ÄÇÂÖ≥‰∫éÂØπË±°‰ªéÊñ∞Áîü‰ª£ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£ÁöÑÁªÜËäÇÂèØ‰ª•ÂèÇËÄÉËøôÁØáÂçöÊñáÔºöhttps://www.cnblogs.com/wangshen31/p/10427802.htmlÔºâgcnewcapacityÁªüËÆ°Êñ∞Áîü‰ª£ÂÆπÈáèÁõ∏ÂÖ≥‰ø°ÊÅØÔºöÈÉ®ÂàÜÂàóÂê´‰πâÂíå-gc„ÄÅ-gccapacityÁõ∏ÂêåÔºå‰∏ãÈù¢‰ªÖÂàóÂá∫‰∏çÂêåÈÉ®ÂàÜÔºöS0CMXÔºöÂπ∏Â≠òËÄÖ0Âå∫ÊúÄÂ§ßÂÜÖÂ≠òÔºåÂçï‰ΩçKBÔºõS1CMXÔºöÂπ∏Â≠òËÄÖ1Âå∫ÊúÄÂ§ßÂÜÖÂ≠òÔºåÂçï‰ΩçKBÔºõECMXÔºö‰ºäÁî∏Âõ≠Âå∫ÊúÄÂ§ßÂÜÖÂ≠òÔºåÂçï‰ΩçKBÔºõgcold‰∏Ä‰∫õÂíåËÄÅÂπ¥‰ª£GCÁõ∏ÂÖ≥ÁªüËÆ°‰ø°ÊÅØÔºöËøô‰∫õÂàóÂê´‰πâÈÉΩÂ∑≤Ê∂âÂèäÔºå‰∏çÂÜçËµòËø∞„ÄÇgcoldcapacity‰∏Ä‰∫õÂíåËÄÅÂπ¥‰ª£ÂÆπÈáèÁõ∏ÂÖ≥ÁªüËÆ°‰ø°ÊÅØÔºöËøô‰∫õÂàóÂê´‰πâÈÉΩÂ∑≤Ê∂âÂèäÔºå‰∏çÂÜçËµòËø∞„ÄÇgcmetacapacity‰∏Ä‰∫õÂíåÂÖÉÁ©∫Èó¥ÂÆπÈáèÁõ∏ÂÖ≥ÁªüËÆ°‰ø°ÊÅØÔºöËøô‰∫õÂàóÂê´‰πâÈÉΩÂ∑≤Ê∂âÂèäÔºå‰∏çÂÜçËµòËø∞„ÄÇprintcompilationHotSpot VMÁºñËØëÊñπÊ≥ï‰ø°ÊÅØÁªüËÆ°ÔºöCompiledÔºöËøëÊúüÁºñËØëÊñπÊ≥ïÊï∞ÔºõSizeÔºöËøëÊúüÁºñËØëÊñπÊ≥ïÂ≠óËäÇÊï∞ÔºõTypeÔºöËøëÊúüÁºñËØëÊñπÊ≥ïÁ±ªÂûãÔºõMethodÔºöËøëÊúüÁºñËØëÁöÑÊñπÊ≥ïÁ±ªÂêçÂíåÊñπÊ≥ïÂêç„ÄÇ‰∏äÈù¢ÁöÑjstatÂëΩ‰ª§ËæìÂá∫ÁöÑÊòØÂΩìÂâçÁªüËÆ°‰ø°ÊÅØÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÊâìÂç∞Âá∫‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÁöÑÁªüËÆ°‰ø°ÊÅØÔºåÊØîÂ¶ÇÊØèÈöî1ÁßíËæìÂá∫‰∏ÄÊ¨°ÔºåÂÖ±ËæìÂá∫5Ê¨°Ôºöjmap+JProfilerÂÜÖÂ≠òÊ∫¢Âá∫ÂÆûÊàòjmapÂèØ‰ª•‰∏∫JavaËøõÁ®ãÊâìÂç∞Âá∫ÂÜÖÂ≠ò‰ø°ÊÅØ„ÄÇJavaÁ®ãÂ∫èÂÜÖÂ≠òÊ∫¢Âá∫‰∏ÄËà¨ÂàÜ‰∏∫Â†ÜÂÜÖÂ≠òÊ∫¢Âá∫ÂíåÂÖÉÁ©∫Èó¥ÂÜÖÂ≠òÊ∫¢Âá∫ÔºåÂÜÖÂ≠òÊ∫¢Âá∫ÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáJProfilerÔºàeclipse MAT‰πüË°åÔºåÊú¨Êñá‰∏ç‰ªãÁªçÔºâËΩØ‰ª∂ÂàÜÊûêÂÜÖÂ≠òÊò†ÂÉèÊñá‰ª∂Êù•ÂÆö‰ΩçÈóÆÈ¢òÊâÄÂú®„ÄÇÂú∫ÊôØÊûÑÂª∫È¶ñÂÖàÊ®°ÊãüÂ†ÜÂÜÖÂ≠òÊ∫¢Âá∫ÂíåÂÖÉÁ©∫Èó¥ÂÜÖÂ≠òÊ∫¢Âá∫Âú∫ÊôØ„ÄÇÊñ∞Âª∫‰∏Ä‰∏™SpringBootÈ°πÁõÆÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™OutOfMemoryControllerÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849import jdk.internal.org.objectweb.asm.ClassWriter;import jdk.internal.org.objectweb.asm.Opcodes;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RestController;import java.util.ArrayList;import java.util.List;@RestControllerpublic class OutOfMemoryController extends ClassLoader &#123; private List&lt;User&gt; data = new ArrayList&lt;&gt;(); @GetMapping("heap") public void heapOutOfMemory() &#123; long i = 0; while (true) &#123; i += 1; data.add(new User("test" + i, i)); &#125; &#125; @GetMapping("metaspace") public void metaspaceOutOfMemory() &#123; OutOfMemoryController controller = new OutOfMemoryController(); int i = 0; while (true) &#123; i += 1; String className = "Class" + i; // ÂàõÂª∫ClassWriterÂØπË±°ÔºåÁî®‰∫éÁîüÊàêÁ±ªÁöÑ‰∫åËøõÂà∂Â≠óËäÇÁ†Å ClassWriter classWriter = new ClassWriter(0); // ÊåáÂÆöÁâàÊú¨Âè∑„ÄÅ‰øÆÈ•∞Á¨¶„ÄÅÁ±ªÂêç„ÄÅÂåÖÂêç„ÄÅÁà∂Á±ªÂíåÊé•Âè£ classWriter.visit(Opcodes.V1_8, Opcodes.ACC_PUBLIC, className, null, "java/lang/Object", null); byte[] bytes = classWriter.toByteArray(); // Âä†ËΩΩÁ±ª controller.defineClass(className, bytes, 0, bytes.length); &#125; &#125; static class User &#123; private String username; private Long id; public User(String username, Long id) &#123; this.username = username; this.id = id; &#125; &#125;&#125;Âú®heapOutOfMemoryÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨‰∏çÊñ≠ÂàõÂª∫UserÂØπË±°ÔºåÂπ∂Ê∑ªÂä†Âà∞ÊàêÂëòÂèòÈáèdataÈõÜÂêà‰∏≠ÔºåÂº∫ÂºïÁî®Êó†Ê≥ïÂæóÂà∞ÈáäÊîæÔºåÊúÄÁªàÂØºËá¥Â†ÜÂÜÖÂ≠òÊ∫¢Âá∫ÔºõÂú®metaspaceOutOfMemory()ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨‰∏çÊñ≠Âä†ËΩΩÊñ∞ÁöÑclassÔºåÊúÄÁªàÂÖÉÁ©∫Èó¥‰πüÂ∞ÜÂÜÖÂ≠òÊ∫¢Âá∫„ÄÇ‰∏∫‰∫ÜÊµãËØïÊñπ‰æøÔºåÊàë‰ª¨ÈÄöËøáÂèÇÊï∞-Xms64m -Xmx64m -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=64mÈôêÂà∂Â†ÜÂíåÂÖÉÁ©∫Èó¥Â§ßÂ∞è„ÄÇÂêØÂä®BootÂ∫îÁî®ÔºåËÆøÈóÆhttp://localhost:8080/heapÔºåÁªìÊûúÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233java.lang.OutOfMemoryError: Java heap space at java.util.Arrays.copyOf(Arrays.java:3210) ~[na:1.8.0_231] at java.util.Arrays.copyOf(Arrays.java:3181) ~[na:1.8.0_231] at java.util.ArrayList.grow(ArrayList.java:265) ~[na:1.8.0_231] at java.util.ArrayList.ensureExplicitCapacity(ArrayList.java:239) ~[na:1.8.0_231] at java.util.ArrayList.ensureCapacityInternal(ArrayList.java:231) ~[na:1.8.0_231] at java.util.ArrayList.add(ArrayList.java:462) ~[na:1.8.0_231] at cc.mrbird.spring.boot.demo.controller.OutOfMemoryController.heapOutOfMemory(OutOfMemoryController.java:21) ~[classes/:na] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_231] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_231] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_231] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_231] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]ÈáçÂêØÂ∫îÁî®ÔºåËÆøÈóÆhttp://localhost:8080/metaspaceÔºåÁªìÊûúÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233java.lang.OutOfMemoryError: Metaspace at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_231] at java.lang.ClassLoader.defineClass(ClassLoader.java:756) ~[na:1.8.0_231] at java.lang.ClassLoader.defineClass(ClassLoader.java:635) ~[na:1.8.0_231] at cc.mrbird.spring.boot.demo.controller.OutOfMemoryController.metaspaceOutOfMemory(OutOfMemoryController.java:38) ~[classes/:na] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_231] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_231] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_231] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_231] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33] at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]Âú∫ÊôØÊûÑÂª∫ÂÆåÊØï„ÄÇÂØºÂá∫ÂÜÖÂ≠òÊò†ÂÉèÊñá‰ª∂ÂØºÂá∫ÂÜÖÂ≠òÊò†ÂÉèÊñá‰ª∂ÂàÜ‰∏∫ÂºÇÂ∏∏Ëá™Âä®ÂØºÂá∫ÂíåÈÄöËøájmapÂëΩ‰ª§ÂØºÂá∫‰∏§ÁßçÊñπÂºè„ÄÇÂÜÖÂ≠òÊ∫¢Âá∫Ëá™Âä®ÂØºÂá∫Ê∑ªÂä†-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/Users/mrbird/DesktopÂèÇÊï∞ÔºåË°®Á§∫ÂÜÖÂ≠òÊ∫¢Âá∫Êó∂ÔºåÂØºÂá∫DumpÊñá‰ª∂ÔºåË∑ØÂæÑ‰∏∫/Users/mrbird/Desktop„ÄÇÊ∑ªÂä†ÂêéÔºåÂêØÂä®Â∫îÁî®ÔºåËÆøÈóÆhttp://localhost:8080/heapÔºåÊéßÂà∂Âè∞ÊâìÂç∞Ôºö12345java.lang.OutOfMemoryError: Java heap spaceDumping heap to /Users/mrbird/Desktop/java_pid22958.hprof ...Heap dump file created [76362786 bytes in 0.348 secs]...Ê°åÈù¢Â§ö‰∫Ü‰∏™java_pid22958.hprofÊñá‰ª∂„ÄÇÈáçÂêØÂ∫îÁî®ÔºåËÆøÈóÆhttp://localhost:8080/metaspaceÔºå Ê°åÈù¢Â§ö‰∫Ü‰∏™java_pid23003.hprofÊñá‰ª∂„ÄÇjmapÂëΩ‰ª§ÂØºÂá∫Âê´‰πâ‰∏∫ÔºåÈÄöËøájmapÂëΩ‰ª§ÂØºÂá∫dumpÊñá‰ª∂Ôºåformat=bË°®Á§∫ÂØºÂá∫‰∫åËøõÂà∂Êñá‰ª∂Ôºåfile=/Users/mrbird/Desktop/java_23003.hprofË°®Á§∫ÂØºÂá∫Âà∞/Users/mrbird/Desktop/java_23003.hprofÊñá‰ª∂‰∏≠ÔºåÊúÄÂêéË∑ü‰∏äËøõÁ®ãÂè∑„ÄÇÂØºÂá∫ÂêéÔºåÊàëÁöÑÊ°åÈù¢‰∏äÂ§ö‰∫Ü‰∏™java_23003.hprofÊñá‰ª∂„ÄÇJProfilerÂàÜÊûêdumpÊñá‰ª∂‰ΩøÁî®JProfilerËΩØ‰ª∂ÊâìÂºÄ‰∏äÈù¢ÂØºÂá∫ÁöÑjava_pid22958.hprofÊñá‰ª∂ÔºöËøô‰∏ÄÈ°µÂ±ïÁ§∫‰∫ÜÂêÑclassÂØπÂ∫îÂÆû‰æãÂÜÖÂ≠òÂç†Áî®‰ªéÂ§ßÂà∞Â∞èÊéíÂàóÊÉÖÂÜµ„ÄÇÁÇπÂáªBiggest ObjectsÊü•ÁúãÂ§ßÊñá‰ª∂ÔºöÂú®ÊúÄÂ§ßÁöÑÂØπË±°‰∏äÂè≥ÈîÆÈÄâÊã©Use Retained ObjectsÊü•ÁúãÂØπË±°Âç†Áî®ÊÉÖÂÜµÔºöÂèØ‰ª•ÁúãÂà∞ÈáåÈù¢ÂØÜÂØÜÈ∫ªÈ∫ªÁöÑÈÉΩÊòØÊàë‰ª¨‰∏çÊñ≠ÂæÄÈáåÊ∑ªÂä†ÁöÑUserÂØπË±°„ÄÇ‰∏Ä‰∏™UserÂØπË±°ÁöÑÂ§ßÂ∞è‰∏∫112bytesÔºåÊï¥‰∏™ÈõÜÂêàÂØπË±°Âç†‰∫ÜÂ∞ÜËøë40M„ÄÇÊâìÂºÄjava_pid23003.hprofÊñá‰ª∂ÔºåÂíå‰∏äÈù¢ÁöÑÊ≠•È™§‰∏ÄÊ†∑ÔºåÊü•ÁúãUse Retained ObjectsÔºöÂèØ‰ª•ÁúãÂà∞ÂØºËá¥ÂÖÉÁ©∫Èó¥Ê∫¢Âá∫ÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫Êàë‰ª¨Âä†ËΩΩËøáÂ§öclassÊâÄËá¥„ÄÇjstackÂÆö‰ΩçÊ≠ªÂæ™ÁéØ„ÄÅÊ≠ªÈîÅjstackÂèØ‰ª•ÊâìÂç∞Âá∫ÊåáÂÆöJavaËøõÁ®ãÂÜÖÈÉ®Á∫øÁ®ãÁöÑÂ†ÜÊ†à‰ø°ÊÅØ„ÄÇÂõ†‰∏∫‰∏ãÈù¢Á§∫‰æãÈúÄË¶Å‰ΩøÁî®Âà∞topÂëΩ‰ª§ÔºåËØ•ÂëΩ‰ª§Âú®Mac„ÄÅLinux‰∏äÊúâ‰∫õÂ∑ÆÂºÇÔºåÊâÄ‰ª•‰∏ãÈù¢‰æãÂ≠êÈÄâÊã©Âú®Linux‰∏äÊºîÁ§∫ÔºåÊàëÁöÑËôöÊãüÊú∫IP‰∏∫192.168.33.10„ÄÇÂú®‰∏äÈù¢ÁöÑSpringBootÈ°πÁõÆ‰∏≠ÔºåÊñ∞Âª∫‰∏Ä‰∏™LoopControllerÔºö12345678910@RestControllerpublic class LoopController &#123; @GetMapping("loop") public void loop() &#123; while (true) &#123; &#125; &#125;&#125;loopÊñπÊ≥ïÈáåÂà∂ÈÄ†Ê≠ªÂæ™ÁéØÔºåÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://192.168.33.10:8080/loopÂêéÔºå‰ΩøÁî®topÂëΩ‰ª§Êü•ÁúãËøõÁ®ãÊÉÖÂÜµÔºöÂèØ‰ª•ÁúãÂà∞ÔºåËøõÁ®ãID‰∏∫5806ÁöÑËøõÁ®ãCUP‰ΩøÁî®ÁéáÈ£ôÂà∞‰∫Ü100%ÔºåËøô‰∏™ËøõÁ®ãÂ∞±ÊòØÊàë‰ª¨ÁöÑboot-appÔºöÁÑ∂ÂêéÊé•ÁùÄ‰ΩøÁî®top -p 5806 -HÊü•Áúã5806ËøõÁ®ãÂÜÖÈÉ®ÂêÑÁ∫øÁ®ãÊÉÖÂÜµÔºöÂèØ‰ª•ÁúãÂà∞Âç†Áî®CPUËµÑÊ∫êÁöÑÁ∫øÁ®ãÁöÑID‰∏∫5830„ÄÇÂõ†‰∏∫ÈÄöËøájstackÊü•ÁúãJavaÂ∫îÁî®Á∫øÁ®ãÊó∂ÔºåÁ∫øÁ®ãID‰∏∫16ËøõÂà∂Ê†ºÂºèÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂ∞Ü5830ËΩ¨Êç¢‰∏∫16ËøõÂà∂Êï∞Ôºö1printf &quot;%x&quot; 5830ÁªìÊûú‰∏∫16c6„ÄÇ‰ΩøÁî®jstack 5806 &gt; 5806.txtÂëΩ‰ª§Â∞Ü5806ËøõÁ®ãÁöÑJavaÁ∫øÁ®ãÊÉÖÂÜµÂØºÂá∫Âà∞5806.txtÊñá‰ª∂‰∏≠ÔºåÂØºÂá∫ÂêéÔºåÈÄöËøávimÂëΩ‰ª§ÊêúÁ¥¢16c6ÔºåÁªìÊûúÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂç†Áî®CPUÁöÑÁ∫øÁ®ã‰∏∫http-nio-8080-exec-1ÔºåÂØπÂ∫îÂá∫ÈóÆÈ¢òÁöÑ‰ª£Á†Å‰∏∫cc.mrbird.spring.boot.demo.controller.LoopController.loopÁöÑÁ¨¨11Ë°å„ÄÇÊ≠ªÂæ™ÁéØÈóÆÈ¢òÂÆö‰ΩçÂÆåÊØïÂêéÔºåÊàë‰ª¨ÂÜçÊñ∞Âª∫‰∏Ä‰∏™LockControllerÊù•Ê®°ÊãüÊ≠ªÈîÅÊÉÖÂÜµÔºö123456789101112131415161718192021222324252627282930313233343536@RestControllerpublic class DeadLockController &#123; private static final Object lock1 = new Object(); private static final Object lock2 = new Object(); @GetMapping("lock") public String lock() &#123; new Thread(() -&gt; &#123; synchronized (lock1) &#123; sleep(); synchronized (lock2) &#123; System.out.println("thread1"); &#125; &#125; &#125;, "thread1").start(); new Thread(() -&gt; &#123; synchronized (lock2) &#123; sleep(); synchronized (lock1) &#123; System.out.println("thread2"); &#125; &#125; &#125;, "thread2").start(); return "0000"; &#125; private void sleep() &#123; try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125;ÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://192.168.33.10:8080/lockÔºåÁÑ∂Âêé‰ΩøÁî®jstatckÂëΩ‰ª§Êü•ÁúãJavaÁ∫øÁ®ãÊÉÖÂÜµÔºöÂèØ‰ª•ÁúãÂà∞Â≠òÂú®‰∏Ä‰∏™Ê≠ªÈîÅÔºåthread1Âíåthread2Á∫øÁ®ã‰∫íÁõ∏Á≠âÂæÖÈîÅËé∑Âèñ„ÄÇjvisualvmÁõëÊéßjvisualvmÊòØJDKËá™Â∏¶ÁöÑÁõëÊéßJavaËøõÁ®ãÁöÑÂõæÂΩ¢ÂåñÂ∑•ÂÖ∑ÔºåÂëΩ‰ª§Ë°åËæìÂÖ•jvisualvmÂç≥ÂèØÂêØÂä®„ÄÇÁõëÊéßÊú¨Âú∞ËøõÁ®ãÂêØÂä®jvisualvmÔºåÂú®Êú¨Âú∞ÂàóË°®ÈáåÂèØ‰ª•ÁúãÂà∞Êú¨Êú∫Ê≠£Âú®ËøêË°åÁöÑJavaËøõÁ®ãÔºöÂèåÂáªpid‰∏∫41202ÁöÑbootÂ∫îÁî®ËøõÁ®ãÔºöÂêÑtabÂäüËÉΩÔºöÊ¶ÇËø∞ÔºöÊòæÁ§∫JDKÁâàÊú¨„ÄÅËøõÁ®ãIDÔºåJVMÂèÇÊï∞ÈÖçÁΩÆÁ≠âÂü∫Á°Ä‰ø°ÊÅØÔºõÁõëËßÜÔºö‰ª•ÂõæÂΩ¢ÂåñÁïåÈù¢ÊòæÁ§∫CPU‰ΩøÁî®ÁéáÔºåÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåÁ±ªÂä†ËΩΩ‰ø°ÊÅØÔºåÁ∫øÁ®ã‰ø°ÊÅØÁ≠âÔºåÂêåÊó∂ÂèØ‰ª•ÊâãÂä®Ëß¶ÂèëGCÔºåÂØºÂá∫Â†ÜÂÜÖÂ≠òDumpÁ≠âÔºõÁ∫øÁ®ãÔºöÂΩìÂâçËøõÁ®ãÁöÑJavaÁ∫øÁ®ãÂàóË°®ÔºåÂêåÊó∂‰πüÂèØ‰ª•ÂØºÂá∫Á∫øÁ®ãDumpÊñá‰ª∂ÔºõÊäΩÊ†∑Âô®ÔºöÂèØ‰ª•ÂØπÂΩìÂâçËøõÁ®ãÁöÑCPU‰ΩøÁî®ÁéáÂÜÖÂ≠òÂç†Áî®ÊÉÖÂÜµËøõË°åÊäΩÊ†∑ÂàÜÊûêÔºõProfilerÔºöÂØπÊäΩÊ†∑ËøõË°åÊÄßËÉΩÂàÜÊûêÔºõVisual GCÔºöÂÆâË£ÖÁöÑ‰∏Ä‰∏™Êèí‰ª∂ÔºåÁî®‰∫éÂõæÂΩ¢ÂåñÊòæÁ§∫Â†ÜÂÜÖÂ≠òÊÉÖÂÜµ„ÄÇ‰∏™‰∫∫Â∏∏Áî®ÁöÑÂäüËÉΩÊúâÁõëËßÜÈ°µÈù¢ÁöÑÂÜÖÂ≠òDumpÂíåÁ∫øÁ®ãÈ°µÈù¢ÁöÑÁ∫øÁ®ãDumpÔºåÂÆÉ‰ª¨ÂäüËÉΩÂíå‰∏äÈù¢‰ªãÁªçÁöÑjmap„ÄÅjstackÁ±ª‰ºº„ÄÇÊµèËßàÂô®ËÆøÈóÆhttp://localhost:8080/heapÂêéÔºåÁÇπÂáªÁõëËßÜÈ°µÈù¢ÁöÑ‚ÄúÂ†ÜDump‚ÄùÊåâÈíÆÔºöÁÑ∂ÂêéÂú®ÂÜÖÂ≠òÂç†Áî®ËæÉÂ§ßÁöÑUserÁ±ª‰∏äÂè≥ÈîÆÈÄâÊã©Âú®ÂÆû‰æãËßÜÂõæ‰∏≠ÊòæÁ§∫ÔºöÂèØ‰ª•ÁúãÂà∞ÈÄöËøáÂºïÁî®ËøΩË∏™ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆö‰ΩçÂà∞ÂÜÖÂ≠òÊ∫¢Âá∫ÁöÑÂú∞Êñπ‰∏∫OutOfMemoryControllerÁöÑdataÊàêÂëòÂèòÈáèÔºåÁ±ªÂûã‰∏∫ArrayListÔºåÂÜÖÈÉ®‰ΩøÁî®ObjectÊï∞ÁªÑË£ÖËΩΩUser„ÄÇËøô‰∏™ÂäüËÉΩÂíå‰∏äÈù¢‰ΩøÁî®JProfilerËß£ÊûêDumpÊñá‰ª∂ËøΩË∏™ÂÜÖÂ≠òÊ≥ÑÈú≤ÂéüÂõ†Á±ª‰ºº„ÄÇÈô§‰∫ÜËøΩË∏™ÂÜÖÂ≠òÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁÇπÂáªÁ∫øÁ®ãÈ°µÈù¢ÁöÑÁ∫øÁ®ãDumpÊåâÈíÆÂØºÂá∫Á∫øÁ®ãDumpÊñá‰ª∂Êù•ÂàÜÊûêËøõÁ®ãÈáåÁöÑJavaÁ∫øÁ®ãÊÉÖÂÜµÔºåËøôÂíåjstackÂäüËÉΩÁ±ª‰ºº„ÄÇÈáçÂêØbootÂ∫îÁî®ÔºåÈáçÊñ∞‰ΩøÁî®jvisualvmËøûÊé•ÔºåËÆøÈóÆhttp://localhost:8080/loopÔºöÂèØ‰ª•ÁúãÂà∞ÂêçÁß∞‰∏∫http-nio-8080-exec-1ÁöÑÁ∫øÁ®ãCPU‰ΩøÁî®Áéá‰∏∫100%ÔºåÁÇπÂáªÁ∫øÁ®ãDumpÊåâÈíÆÂØºÂá∫DumpÊñá‰ª∂ÔºöÈÄöËøáÁ∫øÁ®ãÂêçÁß∞ÂÆö‰ΩçÂà∞ÈóÆÈ¢ò‰ª£Á†Å„ÄÇÈáçÂêØbootÂ∫îÁî®ÔºåÈáçÊñ∞‰ΩøÁî®jvisualvmËøûÊé•ÔºåËÆøÈóÆhttp://localhost:8080/lockÔºöÂèØ‰ª•ÁúãÂà∞jvisualvmÊ£ÄÊü•Âà∞‰∫ÜÊ≠ªÈîÅÔºåÈÄöËøádumpÊñá‰ª∂ÂàÜÊûêÊ≠ªÈîÅÂéüÂõ†ÔºöÈô§‰∫ÜÂØºÂá∫DumpÊñá‰ª∂Â§ñÔºåjvisualvm‰πüÂèØ‰ª•ÂØºÂÖ•‰∏äÈù¢Êàë‰ª¨ÈÄöËøájmapÂëΩ‰ª§ÂØºÂá∫ÁöÑDumpÊñá‰ª∂ÔºåËøôÈáåÂ∞±‰∏çÊºîÁ§∫‰∫Ü„ÄÇÁõëÊéßËøúÁ®ãËøõÁ®ãËøúÁ®ãËøêË°åÁöÑJavaËøõÁ®ã‰πüÂèØ‰ª•ÈÄöËøájvisualvmÁõëÊéß„ÄÇ‰ª•Âú®ËôöÊãüÊú∫192.168.33.10‰∏≠ËøêË°åÁöÑbootÂ∫îÁî®‰∏∫‰æãÔºåË¶ÅËøõË°åËøúÁ®ãÁõëÊéßÔºåÈúÄË¶ÅÂú®ÂêØÂä®ÂëΩ‰ª§‰∏äÈÖçÁΩÆjmxÈÖçÁΩÆÔºö12345678nohup java -Dcom.sun.management.jmxremote \-Dcom.sun.management.jmxremote.port=8081 \-Dcom.sun.management.jmxremote.ssl=false \-Dcom.sun.management.jmxremote.authenticate=false \-Djava.net.preferIPv4Stack=true \-Djava.rmi.server.hostname=192.168.33.10 \-Xms200m -Xmx200m \-jar boot-app.jar &amp;-Dcom.sun.management.jmxremoteÔºöË°®Á§∫ÂºÄÂêØjmxËøúÁ®ãËøûÊé•Ôºõ-Dcom.sun.management.jmxremote.port=8081ÔºöË°®Á§∫jmxÁ´ØÂè£Âè∑‰∏∫8081Ôºõ-Dcom.sun.management.jmxremote.ssl=falseÔºöÊîæ‰∫ÜÊñπ‰æøÔºåËøôÈáå‰∏ç‰ΩøÁî®SSLËøûÊé•Ôºõ-Dcom.sun.management.jmxremote.authenticate=falseÔºö‰∏∫‰∫ÜÊñπ‰æøÔºåËøôÈáå‰∏ç‰ΩøÁî®Áî®Êà∑ÂêçÂØÜÁ†ÅËÆ§ËØÅÔºõ-Djava.net.preferIPv4Stack=trueÔºöË°®Á§∫‰ΩøÁî®ipv4Ôºõ-Djava.rmi.server.hostname=192.168.33.10ÔºöÊåáÂÆö‰∏ªÊú∫Âú∞ÂùÄ„ÄÇÈÖçÁΩÆÂ•ΩÂêéÔºåËøêË°åËØ•ËÑöÊú¨ÂêØÂä®bootÈ°πÁõÆÔºåÁÑ∂ÂêéÂú®jvisualvmÁöÑËøúÁ®ãÂàóË°®‰∏≠Ê∑ªÂä†ËøúÁ®ã‰∏ªÊú∫ÔºöÁÑ∂ÂêéÊ∑ªÂä†jmxËøûÊé•ÔºöËøûÊé•ÊàêÂäüÂêéÔºåÂ∞±ÂèØ‰ª•ÈÄöËøájvisualvmÁõëÊéßËøúÁ®ãJavaËøõÁ®ã‰∫ÜÔºöÈôÑÂΩï1 - DumpÊñá‰ª∂‰∏≠Á∫øÁ®ãÁä∂ÊÄÅThread StateDescriptionNEWThe thread has not yet started.RUNNABLEThe thread is executing in the JVM.BLOCKEDThe thread is blocked waiting for a monitor lock.WAITINGThe thread is waiting indefinitely for another thread to perform a particular action.TIMED_WAITINGThe thread is waiting for another thread to perform an action for up to a specified waiting time.TERMINATEDThe thread has exited.ÂèÇËÄÉÈìæÊé•Ôºöhttps://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java ÂûÉÂúæÂõûÊî∂]]></title>
    <url>%2FJava-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E2%99%BB%EF%B8%8F.html</url>
    <content type="text"><![CDATA[Java‰∏≠ÁöÑÂûÉÂúæÊåáÁöÑÊòØËøêË°åÁ®ãÂ∫è‰∏≠Ê≤°Êúâ‰ªª‰ΩïÊåáÈíàÊåáÂêëÁöÑÂØπË±°ÔºåËøô‰∫õÂØπË±°Â∞±ÊòØÈúÄË¶ÅË¢´ÂõûÊî∂ÁöÑÂûÉÂúæ„ÄÇJava‰∏≠ÁöÑÂûÉÂúæÂõûÊî∂Âô®GCÂèØ‰ª•ÂèäÊó∂ÂõûÊî∂Ê≤°Áî®ÁöÑÂØπË±°ËµÑÊ∫êÔºåÁ°Æ‰øùÁ®ãÂ∫èÂú®ÈïøÊó∂Èó¥ËøêË°å‰∏ã‰∏ç‰ºöÂÜÖÂ≠òÊ∫¢Âá∫ÔºõÂêåÊó∂GCËøòÂèØ‰ª•ËøõË°åÂÜÖÂ≠òÁ¢éÁâáÊï¥ÁêÜÔºå‰ª•‰æøJVMÂàÜÈÖçÊñ∞ÁöÑÂØπË±°„ÄÇÂûÉÂúæÂõûÊî∂Áõ∏ÂÖ≥Ê¶ÇÂøµÂú®‰∫ÜËß£JVMÂûÉÂúæÂõûÊî∂‰πãÂâçÔºåÂÖàÂÇ®Â§á‰∏Ä‰∫õÁõ∏ÂÖ≥Ê¶ÇÂøµ„ÄÇSystem.gc()Ë∞ÉÁî®System.gc()ÊàñËÄÖRuntime.getRuntime().gc()‰ºöÊòæÂºèËß¶ÂèëFull GCÔºåÁÑ∂ËÄåËØ•ÊñπÊ≥ïË∞ÉÁî®Âπ∂Êó†Ê≥ï‰øùËØÅJVM 100%‰ºöË∞ÉÁî®ÂûÉÂúæÂõûÊî∂Âô®„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂûÉÂúæÂõûÊî∂ÊòØËá™Âä®ËøõË°åÁöÑÔºåÊó†ÈúÄÊâãÂä®Ëß¶Âèë„ÄÇÂÜÖÂ≠òÊ∫¢Âá∫‰∏éÊ≥ÑÈú≤ÂÜÖÂ≠òÊ∫¢Âá∫ÔºöÂÜÖÂ≠òÊ∫¢Âá∫ÂØπÂ∫îÁöÑÂºÇÂ∏∏‰∏∫OutOfMemoryErrorÔºåÊåáÁöÑÊòØÊ≤°ÊúâÁ©∫Èó≤ÂÜÖÂ≠òÔºåÂπ∂‰∏îÂûÉÂúæÂõûÊî∂Âô®‰πüÊó†Ê≥ïÊèê‰æõÊõ¥Â§öÂÜÖÂ≠ò„ÄÇÂºïÂèëÂÜÖÂ≠òÊ∫¢Âá∫‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰∏§ÁßçÊÉÖÂÜµÔºöÂàÜÈÖçÂØπË±°Êó∂ÔºåÂèØÁî®ÂÜÖÂ≠ò‰∏çË∂≥ÔºåËß¶ÂèëÂûÉÂúæÂõûÊî∂„ÄÇÂûÉÂúæÂõûÊî∂ÂêéÔºåËøòÊòØÊ≤°ÊúâË∂≥Â§üÁ©∫Èó¥ÂàÜÈÖçÂØπË±°ÔºåÂàôOOMÔºõÂàÜÈÖç‰∏Ä‰∏™Ë∂ÖÁ∫ßÂ§ßÁöÑÂØπË±°ÔºåÁõ¥Êé•Ë∂ÖËøáÂ†ÜÁöÑÊúÄÂ§ßÂÄºÔºåJVMÁõ¥Êé•OOM„ÄÇÂÜÖÂ≠òÊ≥ÑÈú≤ÔºöÊåáÁöÑÊòØÂ≠òÂú®‰∏çÂÜçË¢´‰ΩøÁî®ÁöÑÂØπË±°Ôºå‰ΩÜÊòØGCÂèà‰∏çËÉΩÂõûÊî∂‰ªñ‰ª¨„ÄÇSTWStop The WorldÁÆÄÁß∞STWÔºåÊåáÁöÑÊòØGC‰∫ã‰ª∂ÂèëÁîüËøáÁ®ã‰∏≠Ôºå‰ºö‰∫ßÁîüÂ∫îÁî®Á®ãÂ∫èÁöÑÂÅúÈ°øÔºåÊï¥‰∏™Â∫îÁî®Á®ãÂ∫èÈÉΩ‰ºöË¢´ÊöÇÂÅú„ÄÇ‰∏ãÈù¢Âç≥Â∞Ü‰ªãÁªçÁöÑÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ï‰ºöÂØºËá¥STWÔºåÂõ†‰∏∫ÔºöÂàÜÊûêÂ∑•‰ΩúÂøÖÈ°ªÂú®‰∏Ä‰∏™ËÉΩÁ°Æ‰øù‰∏ÄËá¥ÊÄßÁöÑÂø´ÁÖß‰∏≠ËøõË°åÔºõ‰∏ÄËá¥ÊÄßÊåáÊï¥‰∏™ÂàÜÊûêÊúüÈó¥Êï¥‰∏™ÊâßË°åÁ≥ªÁªüÁúãËµ∑Êù•ÂÉèË¢´ÂÜªÁªìÂú®Êüê‰∏™Êó∂Èó¥ÁÇπ‰∏äÔºõÂ¶ÇÊûúÂàÜÊûêËøáÁ®ã‰∏≠ÂØπË±°ÂºïÁî®ÂÖ≥Á≥ªËøòÂú®‰∏çÊñ≠ÂèòÂåñÔºåÂàôÂàÜÊûêÁªìÊûúÁöÑÂáÜÁ°ÆÊÄßÊó†Ê≥ï‰øùËØÅ„ÄÇGCÂÆåÊàê‰πãÂêéÔºåSTW‰æøÈöè‰πãÁªìÊùü„ÄÇÂπ∂Ë°å‰∏éÂπ∂ÂèëÁ®ãÂ∫èÁöÑÂπ∂Ë°å‰∏éÂπ∂ÂèëÂíåÂûÉÂúæÂõûÊî∂Âô®ÁöÑÂπ∂Ë°å‰∏éÂπ∂ÂèëÊ¶ÇÂøµÊúâÊâÄ‰∏çÂêåÔºåÂÖàÊù•ÁúãÁúãÁ®ãÂ∫è‰∏≠ÁöÑÂπ∂Ë°å‰∏éÂπ∂Âèë„ÄÇÁ®ãÂ∫èÂπ∂Ë°å‰∏éÂπ∂ÂèëÂπ∂ÂèëÔºàConcurrentÔºâÔºöÊìç‰ΩúÁ≥ªÁªü‰∏≠Ôºå‰∏Ä‰∏™Êó∂Èó¥ÊÆµÂÜÖÊúâÂá†‰∏™Á®ãÂ∫èÈÉΩÂ§Ñ‰∫éÂ∑≤ÂêØÂä®ËøêË°åÂà∞ËøêË°åÂÆåÊØï‰πãÈó¥ÔºåËøôÂá†‰∏™Á®ãÂ∫èÈÉΩÊòØÂú®Âêå‰∏Ä‰∏™Â§ÑÁêÜÂô®‰∏äËøêË°å„ÄÇÂπ∂ÂèëÂπ∂‰∏çÊòØÁúüÊ≠£ÊÑè‰πâ‰∏äÁöÑ‚ÄúÂêåÊó∂ËøõË°å‚ÄùÔºåÂè™ÊòØCPUÊää‰∏Ä‰∏™Êó∂Èó¥ÂàíÂàÜ‰∏∫Âá†‰∏™Êó∂Èó¥ÁâáÊÆµÔºåÁÑ∂ÂêéÂú®ËøôÂá†‰∏™Êó∂Èó¥ÁâáÊÆµ‰πãÈó¥Êù•ÂõûÂàáÊç¢„ÄÇÁî±‰∫éCPUÂ§ÑÁêÜÁöÑÈÄüÂ∫¶ÈùûÂ∏∏Âø´ÔºåÊàë‰ª¨ÊÑüËßâ‰∏ä‰ª•‰∏∫Â§ö‰∏™Â∫îÁî®Á®ãÂ∫èÂêåÊó∂Âú®ËøõË°åÔºõÂπ∂Ë°åÔºàparallelÔºâÔºöÂΩìÁ≥ªÁªüÊúâÂ§ö‰∏™CPUÊó∂ÔºàÊàñËÄÖ‰∏Ä‰∏™CPUÊúâÂ§ö‰∏™Ê†∏Êó∂ÔºâÔºåÂè¶‰∏Ä‰∏™CPUÂèØ‰ª•ÊâßË°åÂè¶‰∏Ä‰∏™ËøõÁ®ãÔºå‰∏§‰∏™ËøõÁ®ã‰∫í‰∏çÊä¢Âç†CPUËµÑÊ∫êÔºåÂèØ‰ª•ÂêåÊó∂ËøõË°å„ÄÇÁ®ãÂ∫èÁöÑÂπ∂Ë°å‰∏éÂπ∂ÂèëÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂûÉÂúæÂõûÊî∂Âπ∂Ë°å‰∏éÂπ∂ÂèëÂπ∂Ë°åÔºöÂ§ö‰∏™ÂûÉÂúæÂõûÊî∂Á∫øÁ®ãÂêåÊó∂ËøõË°åÔºàÂ¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™ÂõûÊî∂Á∫øÁ®ãÔºåÈÇ£‰πàÁß∞‰πã‰∏∫‰∏≤Ë°åÔºâÔºåÊ≠§Êó∂Áî®Êà∑Á∫øÁ®ã‰ªçÂ§Ñ‰∫éÁ≠âÂæÖÁä∂ÊÄÅÔºõÂπ∂ÂèëÔºöÁî®Êà∑Á∫øÁ®ãÂíåÂûÉÂúæÂõûÊî∂Á∫øÁ®ãÂêåÊó∂ËøõË°åÔºåÁî®Êà∑Á∫øÁ®ã‰∏çÂÅúÈ°ø„ÄÇÂûÉÂúæÂõûÊî∂Âô®ÁöÑÂπ∂Ë°å‰∏éÂπ∂ÂèëÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂºïÁî®ReferenceJDK1.2‰πãÂêéÔºåJavaÂØπÂºïÁî®ÁöÑÊ¶ÇÂøµËøõË°å‰∫ÜÊâ©ÂÖÖÔºåÂàÜ‰∏∫Âº∫ÂºïÁî®ÔºàStrong ReferenceÔºâ„ÄÅËΩØÂºïÁî®ÔºàSoft ReferenceÔºâ„ÄÅÂº±ÂºïÁî®ÔºàWeak ReferenceÔºâ„ÄÅËôöÂºïÁî®ÔºàPhantom ReferenceÔºâÂíåÁªàÁªìÂô®ÂºïÁî®ÔºàFinal ReferenceÔºâÔºöÂº∫ÂºïÁî®ÊúÄ‰º†ÁªüÁöÑÂºïÁî®ÂÆö‰πâÔºåÁ®ãÂ∫è‰∏≠ÊôÆÈÅçÂ≠òÂú®ÁöÑÂºïÁî®ËµãÂÄºÔºåÁ±ª‰ººObject obj = new Object()ËøôÁßçÂºïÁî®ÂÖ≥Á≥ª„ÄÇÊó†ËÆ∫Âú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÔºåÂè™Ë¶ÅÂº∫ÂºïÁî®ÂÖ≥Á≥ªËøòÂú®ÔºåÂûÉÂúæÂõûÊî∂Âô®Â∞±Ê∞∏Ëøú‰∏ç‰ºöÂõûÊî∂ÊéâË¢´ÂºïÁî®ÁöÑÂØπË±°„ÄÇËΩØÂºïÁî®ËΩØÂºïÁî®ÊòØÁî®Êù•ÊèèËø∞‰∏Ä‰∫õËøòÊúâÁî®Ôºå‰ΩÜÈùûÂøÖÈúÄÁöÑÂØπË±°„ÄÇÂè™Ë¢´ËΩØÂºïÁî®ÂÖ≥ËÅîÁùÄÁöÑÂØπË±°ÔºåÂú®Á≥ªÁªüÂç≥Â∞ÜË¶ÅÂèëÁîüÂÜÖÂ≠òÊ∫¢Âá∫ÂºÇÂ∏∏ÂâçÔºå‰ºöË¢´ÊîæÂÖ•Âà∞Reference QueueÔºåËøõË°å‰∫åÊ¨°ÂõûÊî∂„ÄÇÁÆÄËÄåË®Ä‰πãÂ∞±ÊòØÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÂõûÊî∂„ÄÇËΩØÂºïÁî®Â∏∏Áî®Êù•ÂÆûÁé∞ÂÜÖÂ≠òÊïèÊÑüÁöÑÁºìÂ≠òÔºåÊØîÂ¶ÇÂÜÖÂ≠òÂÖÖË∂≥Êó∂ÔºåÂ∞±ÊòØÁî®ÁºìÂ≠òÔºåÂÜÖÂ≠ò‰∏çË∂≥Êó∂Â∞±Ê∏ÖÈô§ÁºìÂ≠òÔºåÈÅøÂÖçÁ®ãÂ∫èOOM„ÄÇËΩØÂºïÁî®‰æãÂ≠êÔºö123Object obj = new Object();SoftReference&lt;Object&gt; softReference = new SoftReference&lt;&gt;(obj);obj = null;Âº±ÂºïÁî®Âº±ÂºïÁî®ÂÖ≥ËÅîÁöÑÂØπË±°Âè™ËÉΩÁîüÂ≠òÂà∞‰∏ã‰∏ÄÊ¨°ÂûÉÂúæÊî∂ÈõÜÂèëÁîü‰∏∫Ê≠¢„ÄÇÂú®Á≥ªÁªüGCÊó∂ÔºåÂè™Ë¶ÅÂèëÁîüÂº±ÂºïÁî®Ôºå‰∏çÁÆ°Á≥ªÁªüÂ†ÜÁ©∫Èó¥ÊòØÂê¶ÂÖÖË∂≥ÔºåÈÉΩ‰ºöÂõûÊî∂„ÄÇÁÆÄËÄåË®Ä‰πãÂ∞±ÊòØÂèëÁé∞Âç≥ÂõûÊî∂„ÄÇÂº±ÂºïÁî®‰æãÂ≠êÔºö123Object obj = new Object();WeakReference&lt;Object&gt; weakReference = new WeakReference&lt;&gt;(obj);obj = null;ËôöÂºïÁî®‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÊúâËôöÂºïÁî®ÁöÑÂ≠òÂú®ÔºåÂÆåÂÖ®‰∏ç‰ºöÂÜ≥ÂÆöÂØπË±°ÁöÑÁîüÂëΩÂë®Êúü„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÂØπË±°‰ªÖÂ≠òÂú®ËôöÂºïÁî®ÔºåÈÇ£‰πàÂÆÉÂíåÊ≤°ÊúâÂºïÁî®Âá†‰πéÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈöèÊó∂ÈÉΩÂèØËÉΩË¢´ÂûÉÂúæÂõûÊî∂Âô®ÂõûÊî∂„ÄÇÊ≠§Â§ñÔºåÊàë‰ª¨Êó†Ê≥ïÈÄöËøáËôöÂºïÁî®Êù•Ëé∑ÂèñË¢´ÂºïÁî®ÁöÑÂØπË±°ÔºåÂΩìË∞ÉÁî®ËôöÂºïÁî®ÁöÑgetÊñπÊ≥ïËé∑ÂèñÂØπË±°Êó∂ÔºåÂ∞ÜËøîÂõûnull„ÄÇËôöÂºïÁî®ÂøÖÈ°ªÂíåÂºïÁî®ÈòüÂàó‰∏ÄËµ∑‰ΩøÁî®Ôºö12345Object obj = new Object();ReferenceQueue&lt;Object&gt; referenceQueue = new ReferenceQueue&lt;&gt;();PhantomReference&lt;Object&gt; phantomReference = new PhantomReference&lt;&gt;(obj, referenceQueue);obj = null;phantomReference.get(); // nullËôöÂºïÁî®ÂØπË±°Ë¢´ÂûÉÂúæÂõûÊî∂Âô®ÂõûÊî∂ÂêéÔºå‰ºöÂ∞ÜËøô‰∏™ËôöÂºïÁî®Âä†ÂÖ•ÂºïÁî®ÈòüÂàóÔºåÂ∑≤ÈÄöÁü•Â∫îÁî®Á®ãÂ∫èÂØπË±°ÂõûÊî∂ÊÉÖÂÜµ„ÄÇËôöÂºïÁî®ÁöÑÂîØ‰∏Ä‰ΩúÁî®ÊòØÁî®‰∫éË∑üË∏™ÂûÉÂúæÂõûÊî∂ËøáÁ®ãÔºàÈÄöËøáËßÇÂØüÂºïÁî®ÈòüÂàóÈáåÊòØÂê¶ÊúâÂØπÂ∫îÁöÑËôöÂºïÁî®Ôºâ„ÄÇÁªàÁªìÂô®ÂºïÁî®Áï•üê∂„ÄÇÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÂûÉÂúæÂõûÊî∂ÂàÜ‰∏∫Ê†áËÆ∞Èò∂ÊÆµÔºàÂØπË±°Â≠òÊ¥ªÂà§Êñ≠ÔºâÂíåÊ∏ÖÈô§Èò∂ÊÆµÔºàÂûÉÂúæÂØπË±°ÂõûÊî∂Ôºâ„ÄÇÊ†áËÆ∞Èò∂ÊÆµÔºöÂú®Â†Ü‰∏≠Â≠òÊîæÁùÄÂá†‰πéÊâÄÊúâÁöÑJavaÂØπË±°ÂÆû‰æãÔºåÂú®GCÊâßË°åÂûÉÂúæÂõûÊî∂‰πãÂâçÔºåÈ¶ñÂÖàÈúÄË¶ÅÂå∫ÂàÜÂá∫ÂÜÖÂ≠ò‰∏≠Âì™‰∫õÊòØÂ≠òÊ¥ªÂØπË±°ÔºåÂì™‰∫õÊòØÂ∑≤Ê≠ª‰∫°ÂØπË±°„ÄÇÂè™ÊúâË¢´Ê†áËÆ∞‰∏∫Â∑≤ÁªèÊ≠ª‰∫°ÁöÑÂØπË±°ÔºåGCÊâç‰ºöËøõË°åÂõûÊî∂ÈáäÊîæÂÜÖÂ≠òÁ©∫Èó¥„ÄÇËøô‰∏™Èò∂ÊÆµÁöÑÁÆóÊ≥ïÂåÖÊã¨ÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ïÂíåÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÔºõÊ∏ÖÈô§Èò∂ÊÆµÔºöÂΩìÊàêÂäüÂå∫ÂàÜÂá∫ÂÜÖÂ≠ò‰∏≠ÁöÑÂ≠òÊ¥ªÂØπË±°ÂíåÊ≠ª‰∫°ÂØπË±°ÂêéÔºåGCÊé•‰∏ãÊù•ÁöÑ‰ªªÂä°Â∞±ÊòØÊâßË°åÂûÉÂúæÂõûÊî∂ÔºåÈáäÊîæÂÜÖÂ≠ò„ÄÇÁõÆÂâçJVM‰∏≠ÊØîËæÉÂ∏∏ËßÅÁöÑ‰∏âÁßçÂûÉÂúæÁÆóÊ≥ïÊòØÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ï„ÄÅÂ§çÂà∂ÁÆóÊ≥ïÂíåÊ†áËÆ∞ÂéãÁº©ÁÆóÊ≥ï„ÄÇÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ïÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ïÔºàReference CountingÔºâÁÆóÊ≥ïÂØπÊØè‰∏™ÂØπË±°‰øùÂ≠ò‰∏Ä‰∏™Êï¥ÂûãÁöÑÂºïÁî®ËÆ°Êï∞Âô®Â±ûÊÄßÔºåÁî®‰∫éËÆ∞ÂΩïÂØπË±°Ë¢´ÂºïÁî®ÁöÑÊÉÖÂÜµ„ÄÇÂØπ‰∫é‰∏Ä‰∏™ÂØπË±°ObjectÔºåÂè™Ë¶ÅÊúâ‰ªª‰Ωï‰∏Ä‰∏™ÂØπË±°ÂºïÁî®‰∫ÜÂÆÉÔºåÂàôÂÆÉÁöÑÂºïÁî®ËÆ°Êï∞Âô®Âä†1ÔºåÂºïÁî®Â§±ÊïàÊó∂ÔºåÂºïÁî®ËÆ°Êï∞Âô®Â∞±Âáè1„ÄÇÊâÄ‰ª•ÂΩì‰∏Ä‰∏™ÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞Âô®ÂÄº‰∏∫0Êó∂ÔºåËØ¥ÊòéËØ•ÂØπË±°‰∏çÂÜçË¢´ÂºïÁî®ÔºåÂèØËøõË°åÂõûÊî∂„ÄÇ‰ºòÁÇπÔºöÂÆûÁé∞ÁÆÄÂçïÔºåÊïàÁéáÈ´òÔºåÂûÉÂúæÂõûÊî∂Ê≤°ÊúâÂª∂ËøüÔºõÁº∫ÁÇπÔºöËÆ°Êï∞Âô®ÁöÑÂ≠òÂú®Â¢ûÂä†‰∫ÜÂ≠òÂÇ®Á©∫Èó¥ÁöÑÂºÄÈîÄÔºõÊØèÊ¨°ËµãÂÄºÈÉΩÈúÄË¶ÅÊõ¥Êñ∞ËÆ°Êï∞Âô®ÔºåÂ¢ûÂä†‰∫ÜÁ®ãÂ∫èÊó∂Èó¥ÂºÄÈîÄÔºõËá¥ÂëΩÈóÆÈ¢òÔºöÊó†Ê≥ïÂ§ÑÁêÜÂæ™ÁéØÂºïÁî®ÁöÑÊÉÖÂÜµÔºàÊ≠£Âõ†‰∏∫Â¶ÇÊ≠§ÔºåJavaÂéãÊ†πÊ≤°Êúâ‰ΩøÁî®ËØ•ÁÆóÊ≥ïÔºâ„ÄÇ‰∏æ‰∏™Âæ™ÁéØÂºïÁî®ÁöÑ‰æãÂ≠êÔºö‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåObject1ÁöÑÂºïÁî®ËÆ°Êï∞Âô®ÂÄº‰∏∫1Ôºå‰ΩÜÂÆûÈôÖÂèØËÉΩËøô‰∏â‰∏™ÂØπË±°ÈÉΩÂ∑≤Áªè‰∏çÂÜçË¢´‰ΩøÁî®ÔºåÂÆÉ‰ª¨ÁöÑÂºïÁî®ËÆ°Êï∞Âô®ÁöÑÂÄºÈÉΩ‰∏ç‰∏∫0ÔºåÊó†Ê≥ïË¢´ÂõûÊî∂ÔºåËøôÂ∞±ÂØºËá¥‰∫ÜÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÂêåÊ†∑ÂÖ∑Â§áÂÆûÁé∞ÁÆÄÂçïÊâßË°åÈ´òÊïàÁ≠âÁâπÁÇπÔºåÂπ∂‰∏îËøòËß£ÂÜ≥‰∫ÜÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ïÊó†Ê≥ïÂ§ÑÁêÜÁöÑÂæ™ÁéØÂºïÁî®ÈóÆÈ¢òÔºåÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ï‰πüÂè´Ê†πÊêúÁ¥¢ÁÆóÊ≥ï„ÄÅËøΩË∏™ÊÄßÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ï„ÄÇÁÆóÊ≥ïÊÄùË∑ØÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÁöÑÂü∫Êú¨ÊÄùË∑ØÔºö‰ª•Ê†πÂØπË±°ÈõÜÂêàÔºàGC RootsÔºâ‰∏∫Ëµ∑ÁÇπÔºå‰ªé‰∏äËá≥‰∏ãÊêúÁ¥¢Ë¢´Ê†πÂØπË±°ËøûÊé•ÁöÑÁõÆÊ†áÂØπË±°ÊòØÂê¶ÂèØËææÔºåÊêúÁ¥¢Ëµ∞ËøáÁöÑË∑ØÂæÑÁß∞‰∏∫ÂºïÁî®ÈìæÔºõÂ¶ÇÊûúÁõÆÊ†áÂØπË±°Ê≤°Êúâ‰ªª‰ΩïÂºïÁî®ÈìæÁõ∏ËøûÔºåÂàôÊòØ‰∏çÂèØËææÁöÑÔºåÊÑèÂë≥ÁùÄÂØπË±°Â∑≤ÁªèÊ≠ª‰∫°Â±û‰∫éÂûÉÂúæÔºõÂè™ÊúâÈÇ£‰∫õËÉΩÂ§üË¢´Ê†πÂØπË±°ÈõÜÂêàÁõ¥Êé•ÊàñËÄÖÈó¥Êé•ËøûÊé•ÁöÑÂØπË±°ÊâçÊòØÂ≠òÊ¥ªÂØπË±°„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÁªøËâ≤ÂØπË±°‰∏∫Â≠òÊ¥ªÂØπË±°ÔºåÂÆÉ‰ª¨Áõ¥Êé•ÊàñÈó¥Êé•‰∏éGC RootsÁõ∏ËøûÔºåÊ©ôËâ≤ÂØπË±°‰∏∫ÂèØÂõûÊî∂ÂØπË±°„ÄÇÈÇ£‰πàÂì™‰∫õÂØπË±°ÂèØ‰ª•‰Ωú‰∏∫GC RootsÂë¢ÔºüJava‰∏≠ÔºåGC RootsÂåÖÊã¨‰ª•‰∏ãÂá†Á±ªÂÖÉÁ¥†ÔºöËôöÊãüÊú∫Ê†à‰∏≠ÂºïÁî®ÁöÑÂØπË±°ÔºõÊú¨Âú∞ÊñπÊ≥ïÊ†àÂÜÖÂºïÁî®ÁöÑÂØπË±°ÔºõÊñπÊ≥ïÂå∫‰∏≠Á±ªÈùôÊÄÅÂ±ûÊÄßÂºïÁî®ÁöÑÂØπË±°ÔºåÂ¶ÇJavaÁ±ªÁöÑÂºïÁî®Á±ªÂûãÈùôÊÄÅÂèòÈáèÔºõÊñπÊ≥ïÂå∫‰∏≠Â∏∏ÈáèÂºïÁî®ÁöÑÂØπË±°ÔºõÊâÄÊúâË¢´synchronizedÊåÅÊúâÁöÑÂØπË±°ÔºõJavaËôöÊãüÊú∫ÂÜÖÈÉ®ÂºïÁî®ÔºõÂèçÊò†JavaËôöÊãüÊú∫ÂÜÖÈÉ®ÊÉÖÂÜµÁöÑJMXBean„ÄÅJVMTI‰∏≠Ê≥®ÂÜåÁöÑÂõûË∞É„ÄÅÊú¨Âú∞‰ª£Á†ÅÁºìÂ≠òÁ≠â„ÄÇÂú®‰ΩøÁî®ÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÂà§Êñ≠ÂÜÖÂ≠òÊòØÂê¶ÂèØÂõûÊî∂Êó∂ÔºåÂàÜÊûêÂ∑•‰ΩúÂøÖÈ°ªÂú®‰∏Ä‰∏™ËÉΩ‰øùÈöú‰∏ÄËá¥ÊÄßÁöÑÂø´ÁÖß‰∏≠ËøõË°å„ÄÇËøôÁÇπ‰πüÊòØÂØºËá¥GCËøõË°åÊó∂ÂøÖÈ°ªStop The WorldÔºàSTWÔºåÁ®ãÂ∫èÊöÇÂÅúÔºâÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂéüÂõ†„ÄÇÂØπË±°Â§çÊ¥ªÊºîÁ§∫ÂØπË±°ÁöÑfinalizationÊú∫Âà∂ÔºöÂΩìÂûÉÂúæÂõûÊî∂Âô®ÂõûÊî∂‰∏Ä‰∏™ÂûÉÂúæÂØπË±°‰πãÂâçÔºåÊÄª‰ºöÂÖàË∞ÉÁî®Ëøô‰∏™ÂØπË±°ÁöÑfinalize()ÊñπÊ≥ïÔºåÁî®‰∫éÂú®ÂØπË±°ÂõûÊî∂Êó∂ËøõË°åËµÑÊ∫êÈáäÊîæ„ÄÇfinalize()ÊñπÊ≥ï‰∏∫ObjectÁöÑ‰∏Ä‰∏™ÈùûfinalÊñπÊ≥ïÔºåÊâÄ‰ª•Â≠êÁ±ªÂèØ‰ª•ËøõË°åÈáçÂÜô„ÄÇÂõ†‰∏∫finalize()ÊñπÊ≥ïÁöÑÂ≠òÂú®ÔºåJava‰∏≠‰∏Ä‰∏™ÂØπË±°ÂèØËÉΩÂ§Ñ‰∫é‰∏âÁßçÁä∂ÊÄÅÔºöÂèØËß¶ÂèäÁöÑÔºå‰ªéGC RootsÂºÄÂßãÂèØ‰ª•Âà∞ËææËØ•ÂØπË±°ÔºõÂèØÂ§çÊ¥ªÁöÑÔºåÂØπË±°ÁöÑÊâÄÊúâÂºïÁî®ÈÉΩË¢´ÈáäÊîæÔºå‰ΩÜÂØπË±°ÂèØËÉΩÂú®finalize()ÊñπÊ≥ï‰∏≠Â§çÊ¥ªÔºõ‰∏çÂèØËß¶ÂèäÁöÑÔºåÂØπË±°ÁöÑfinalize()ÊñπÊ≥ïË¢´Ë∞ÉÁî®ÔºåÂπ∂‰∏îÊ≤°ÊúâÂ§çÊ¥ª„ÄÇ‰∏çÂèØËß¶ÂèäÁöÑÂØπË±°‰∏çÂèØËÉΩË¢´Â§çÊ¥ªÔºåÂõ†‰∏∫finalize()ÊñπÊ≥ïÂè™‰ºöË¢´Ë∞ÉÁî®‰∏ÄÊ¨°„ÄÇÂà§Êñ≠‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÂèØÂõûÊî∂ÈúÄË¶ÅÁªèÂéÜ‰∏§Ê¨°Ê†áËÆ∞ËøáÁ®ãÔºöÂ¶ÇÊûúÂØπË±°Âà∞GC RootsÊ≤°ÊúâÂºïÁî®ÈìæÔºåÈÇ£‰πàËøõË°åÁ¨¨‰∏ÄÊ¨°Ê†áËÆ∞ÔºõÂØπÂ∑≤ÁªèÊ†áËÆ∞‰∫ÜÁöÑÂØπË±°ËøõË°åÁ≠õÈÄâÔºåÂà§Êñ≠ÂØπË±°ÊòØÂê¶ÊúâÂøÖË¶ÅÊâßË°åfinalize()ÊñπÊ≥ïÔºöÂ¶ÇÊûúÂØπË±°Ê≤°ÊúâÈáçÂÜôfinalize()ÊñπÊ≥ïÔºåÊàñËÄÖfinalize()ÊñπÊ≥ïÂ∑≤ÁªèË¢´Ë∞ÉÁî®ËøáÔºåÂàôËØ•ÂØπË±°ÊòØ‰∏çÂèØËß¶ÂèäÁöÑÔºõÂ¶ÇÊûúÈáçÂÜô‰∫ÜÔºå‰ΩÜËøòÊ≤°ÊâßË°åËøáÔºåÂàôËØ•ÂØπË±°‰ºöË¢´ÊîæÂÖ•F-QueueÈòüÂàóÔºõGCÂØπF-QueueÈòüÂàó‰∏≠ÁöÑÂØπË±°ËøõË°åÈÅçÂéÜÔºåÂ¶ÇÊûúÂØπË±°Âú®finalize()ÊñπÊ≥ï‰∏≠‰∏éÂºïÁî®Èìæ‰∏äÁöÑ‰ªªÊÑè‰∏Ä‰∏™ÂØπË±°Âª∫Á´ã‰∫ÜËÅîÁ≥ªÔºåÈÇ£‰πàËØ•ÂØπË±°Ë¢´Â§çÊ¥ªÔºå‰ªéF-QueueÈòüÂàó‰∏≠ÁßªÂá∫„ÄÇÂΩìËØ•ÂØπË±°ÂÜçÊ¨°Âá∫Áé∞Ê≤°ÊúâÂºïÁî®ÁöÑÊÉÖÂÜµÊó∂Ôºåfinalize()ÊñπÊ≥ï‰∏ç‰ºöÂÜçË¢´Ë∞ÉÁî®ÔºåËØ•ÂØπË±°Áõ¥Êé•Ë¢´Âà§ÂÆö‰∏∫‰∏çÂèØËß¶Âèä„ÄÇfinalize()ÊñπÊ≥ïÊâßË°åÊòØÁî±ËôöÊãüÊú∫Ëá™Âä®ÂàõÂª∫ÁöÑ‰Ωé‰ºòÂÖàÁ∫ßÁöÑFinalizerÁ∫øÁ®ãËß¶ÂèëÔºå‰∏æ‰∏™‰æãÂ≠êÔºö123456public class Test &#123; public static void main(String[] args) throws InterruptedException &#123; TimeUnit.SECONDS.sleep(120); &#125;&#125;ÂêØÂä®mainÁ∫øÁ®ãÔºåËÆ©Á®ãÂ∫èÈòªÂ°ûÔºåÁÑ∂ÂêéÁî®jvisualvmËßÇÂØüÁ∫øÁ®ãÁä∂ÊÄÅÔºö‰∏æ‰∏™ÂØπË±°ÈÄöËøáfinalize()ÊñπÊ≥ïÂ§çÊ¥ªÁöÑ‰æãÂ≠êÔºö1234567891011121314151617181920212223242526272829303132333435363738394041public class Test &#123; /** * ÈùôÊÄÅÁ±ªÂèòÈáèÔºåÂ±û‰∫éGC Roots */ public static Test obj; @Override protected void finalize() &#123; System.out.println("finalizeÊñπÊ≥ï‰∏≠‰∏çÂÅö‰ªª‰Ωï‰∫ãÊÉÖ"); &#125; public static void main(String[] args) &#123; try &#123; obj = new Test(); // ÁßªÈô§ÂØπË±°ÂºïÁî®Èìæ obj = null; System.gc(); System.out.println("Á¨¨‰∏ÄÊ¨°GC"); // Âõ†‰∏∫FinalizerÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÂæà‰ΩéÔºåËÆ©Á®ãÂ∫èÊöÇÂÅú2ÁßíÔºåÁ°Æ‰øùfinalize()ÊñπÊ≥ïË∞ÉÁî® TimeUnit.SECONDS.sleep(2); isAlive(obj); obj = null; System.gc(); System.out.println("Á¨¨‰∫åÊ¨°GC"); TimeUnit.SECONDS.sleep(2); isAlive(obj); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; private static void isAlive(Object obj) &#123; if (obj == null) &#123; System.out.println("ÂØπË±°Â∑≤Ê≠ª"); &#125; else &#123; System.out.println("ÂØπË±°ËøòÊ¥ªÁùÄ"); &#125; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåTestÁ±ªÈáçÂÜô‰∫Üfinalize()ÊñπÊ≥ïÔºå‰ΩÜÊñπÊ≥ïÂÜÖÊ≤°ÊúâÂèØ‰ª•ËÆ©ÂØπË±°Â§çÊ¥ªÁöÑÈÄªËæë„ÄÇÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12345Á¨¨‰∏ÄÊ¨°GCfinalizeÊñπÊ≥ï‰∏≠‰∏çÂÅö‰ªª‰Ωï‰∫ãÊÉÖÂØπË±°Â∑≤Ê≠ªÁ¨¨‰∫åÊ¨°GCÂØπË±°Â∑≤Ê≠ªÂèØ‰ª•ÁúãÂà∞ÔºåÂ∞ÜobjÁΩÆ‰∏∫nullÂêéÔºåÁ¨¨‰∏ÄÊ¨°GCÔºåËØ•ÂØπË±°Â∞±Â∑≤ÁªèË¢´ÂõûÊî∂„ÄÇ‰∏ãÈù¢ÂæÄfinalize()ÊñπÊ≥ï‰∏≠Ê∑ªÂä†ÈÄªËæëÔºåËÆ©ÂØπË±°Â§çÊ¥ªÔºö123456789101112131415161718192021222324252627282930313233343536373839404142public class Test &#123; /** * ÈùôÊÄÅÁ±ªÂèòÈáèÔºåÂ±û‰∫éGC Roots */ public static Test obj; @Override protected void finalize() &#123; System.out.println("Â§çÊ¥ªobj"); obj = this; &#125; public static void main(String[] args) &#123; try &#123; obj = new Test(); // ÁßªÈô§ÂØπË±°ÂºïÁî®Èìæ obj = null; System.gc(); System.out.println("Á¨¨‰∏ÄÊ¨°GC"); // Âõ†‰∏∫FinalizerÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÂæà‰ΩéÔºåËÆ©Á®ãÂ∫èÊöÇÂÅú2ÁßíÔºåÁ°Æ‰øùfinalize()ÊñπÊ≥ïË∞ÉÁî® TimeUnit.SECONDS.sleep(2); isAlive(obj); obj = null; System.gc(); System.out.println("Á¨¨‰∫åÊ¨°GC"); TimeUnit.SECONDS.sleep(2); isAlive(obj); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; private static void isAlive(Object obj) &#123; if (obj == null) &#123; System.out.println("ÂØπË±°Â∑≤Ê≠ª"); &#125; else &#123; System.out.println("ÂØπË±°ËøòÊ¥ªÁùÄ"); &#125; &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12345Á¨¨‰∏ÄÊ¨°GCÂ§çÊ¥ªobjÂØπË±°ËøòÊ¥ªÁùÄÁ¨¨‰∫åÊ¨°GCÂØπË±°Â∑≤Ê≠ª‰∏äÈù¢‰æãÂ≠ê‰πüËØÅÊòé‰∫Üfinalize()ÊñπÊ≥ïÊúÄÂ§öÂè™Ë¢´ÊâßË°å‰∏ÄÊ¨°„ÄÇ‰∏•Á¶Å‰∏ªÂä®Ë∞ÉÁî®Êüê‰∏™ÂØπË±°ÁöÑfinalize()ÊñπÊ≥ïÔºåÂ∫îËØ•‰∫§ÁªôÂûÉÂúæÂõûÊî∂Êú∫Âà∂Ë∞ÉÁî®ÔºåÂõ†‰∏∫Ôºö 1. Âú®finalize()ÊñπÊ≥ïÈáåÂèØËÉΩÂØºËá¥ÂØπË±°Â§çÊ¥ªÔºõ 2. finalize()ÊñπÊ≥ïÊâßË°åÊó∂Èó¥Ê≤°Êúâ‰øùÈöúÔºåÂ¶ÇÊûúÂØπË±°‰∏çË¢´ÂõûÊî∂Ôºåfinalize()ÊñπÊ≥ïÊ≤°ÊúâÊâßË°åÊú∫‰ºöÔºõ 3. ‰∏Ä‰∏™Á≥üÁ≥ïÁöÑfinalize()ÊñπÊ≥ï‰ºö‰∏•ÈáçÂΩ±ÂìçGCÊÄßËÉΩ„ÄÇÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÊâßË°åËøáÁ®ãÔºöÂΩìÂÜÖÂ≠òÂø´Ë¢´ËÄóÂ∞ΩÊó∂Ôºå‰ºöÂÅúÊ≠¢Êï¥‰∏™Á®ãÂ∫èÔºàSTWÔºâÔºåËøõË°å‰∏§È°πÂ∑•‰ΩúÔºöÊ†áËÆ∞ÔºöÂõûÊî∂Âô®‰ªéGC RootsÂºÄÂßãÈÅçÂéÜÔºåÊ†áËÆ∞ÊâÄÊúâÂèØËææÂØπË±°ÔºàÂú®ÂØπË±°Â§¥‰∏≠ËøõË°åÊ†áËÆ∞ÔºâÔºõÊ∏ÖÈô§ÔºöÂõûÊî∂Âô®ÂØπÂ†ÜÂÜÖÂ≠òËøõË°å‰ªéÂ§¥Âà∞Â∞æÁ∫øÊÄßÈÅçÂéÜÔºåÂ¶ÇÊûúÂØπË±°Â§¥‰∏≠Ê≤°ÊúâÊ†áËÆ∞ÔºåÂàôËØ¥ÊòéÊòØ‰∏çÂèØËææÂØπË±°ÔºåËøõË°åÂõûÊî∂ÔºàÂõûÊî∂ÁªÜËäÇÔºöJVM‰ºöÁª¥Êä§‰∏Ä‰∏™Á©∫Èó≤Âú∞ÂùÄÂàóË°®ÔºåÊääÂèØÂõûÊî∂ÂØπË±°ÁöÑÂú∞ÂùÄÂ≠òÊîæËøõÊù•ÔºåËøô‰∏™Êó∂ÂÄôÂØπË±°Âπ∂Ê≤°ÊúâÁúüÊ≠£Ë¢´Âà†ÊéâÔºå‰∏ãÊ¨°Êñ∞ÂØπË±°ËøõË°åÂàÜÈÖçÊó∂ÂÄôÁõ¥Êé•Ë¶ÜÁõñÂèØÂõûÊî∂ÂØπË±°Ôºâ„ÄÇÁº∫ÁÇπÔºöÊïàÁéá‰∏çÊòØÂæàÈ´òÔºåÂõ†‰∏∫Ë¶ÅËøõË°å‰∏§Ê¨°ÈÅçÂéÜÂ∑•‰ΩúÔºõSTW‰ºöÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™åÔºõËøôÁßçÊñπÂºèÊï¥ÁêÜÂá∫Êù•ÁöÑÂÜÖÂ≠ò‰∏çÊòØËøûÁª≠ÁöÑÔºåÁ¢éÁâáÂåñ„ÄÇÂ§çÂà∂ÁÆóÊ≥ï‰∏∫‰∫ÜËß£ÂÜ≥Ê†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÁöÑÁº∫ÁÇπÔºåÂ§çÂà∂ÁÆóÊ≥ïÊèêÂá∫‰∫ÜÊñ∞ÊÄùË∑Ø„ÄÇÂ§çÂà∂ÁÆóÊ≥ïÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÔºöÂ∞ÜÂÜÖÂ≠ò‰∏ÄÂàÜ‰∏∫‰∫åÔºåÊØèÊ¨°Âè™‰ΩøÁî®ÂÖ∂‰∏≠‰∏ÄÂùó„ÄÇGCÊó∂ÔºåÂ∞ÜÂ≠òÊ¥ªÁöÑÂØπË±°Â§çÂà∂Âà∞Âè¶‰∏ÄÂùóÊú™‰ΩøÁî®ÁöÑÂÜÖÂ≠ò‰∏≠ÔºåÁÑ∂ÂêéÂΩìÂâçÂÜÖÂ≠òÂùóÁöÑÂØπË±°ÂÖ®ÈÉ®Ê∏ÖÈô§Ôºå‰∏§‰∏™ÂÜÖÂ≠òÂùó‰∫§‰∫íËßíËâ≤ÔºåÂ¶ÇÊ¨°Âæ™ÁéØÂèçÂ§çÔºàÂ†ÜÂÜÖÂ≠ò‰∏≠ÁöÑÂπ∏Â≠òËÄÖ0Âå∫Âíå1Âå∫Â∞±ÊòØËøô‰πàÊêûÁöÑÔºâ„ÄÇ‰ºòÁÇπÔºö‰∏çÈúÄË¶ÅËøõË°å‰∏§Ê¨°ÈÅçÂéÜÔºåÊïàÁéáÊõ¥È´òÔºõÂ§çÂà∂ÁÆóÊ≥ïÂèØ‰ª•‰øùËØÅÁ©∫Èó¥ËøûÁª≠ÊÄßÔºåÊ≤°ÊúâÁ¢éÁâáÈóÆÈ¢ò„ÄÇÂΩìÁÑ∂‰πüÊúâÁº∫ÁÇπÔºöÂÜÖÂ≠òÂè™Êúâ‰∏ÄÂçäÊòØÂèØÁî®ÁöÑÔºåÊµ™Ë¥π‰∫ÜÂÜÖÂ≠òÁ©∫Èó¥ÔºõÂØπË±°Â§çÂà∂ÂêéÔºåÂú∞ÂùÄËÇØÂÆöÂèò‰∫ÜÔºåÈÇ£‰πàÊ†à‰∏≠ÂØπË±°ÁöÑÂºïÁî®Âú∞ÂùÄ‰πüË¶ÅÊîπÂèòÔºåËøôÂ∞±Â¢ûÂä†‰∫ÜÊó∂Èó¥ÂºÄÈîÄÔºõÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÔºåÂÅáÂ¶ÇÂΩìÂâçÂÜÖÂ≠òÂùó‰∏≠Ê≤°ÊúâÂûÉÂúæÔºåÈÇ£‰πàÈúÄË¶ÅÂ∞ÜÊâÄÊúâÂ≠òÊ¥ªÂØπË±°ÈÉΩÂ§çÂà∂Âà∞Âè¶‰∏ÄÂùóÂÜÖÂ≠òÔºåË¥πÂäõ‰∏çËÆ®Â•Ω„ÄÇÊ†áËÆ∞ÂéãÁº©ÁÆóÊ≥ïÊ†áËÆ∞ÂéãÁº©ÁÆóÊ≥ïÊòØÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÁöÑÊîπËøõÁâàÊú¨ÔºåÂü∫Êú¨ÊÄùË∑ØÊòØÔºöÊ†áËÆ∞ÔºöÂíåÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÁöÑÊ†áËÆ∞Èò∂ÊÆµ‰∏ÄËá¥ÔºõÂéãÁº©ÔºöÂ∞ÜÂ≠òÊ¥ªÁöÑÂØπË±°ÂéãÁº©ÔºàÁßªÂä®ÔºâÂà∞ÂÜÖÂ≠òÁöÑ‰∏ÄÁ´ØÔºåÊåâÈ°∫Â∫èÊéíÊîæÔºå‰πãÂêéÊ∏ÖÁêÜËæπÁïåÂ§ñÁöÑÊâÄÊúâÁ©∫Èó¥„ÄÇ‰ΩøÁî®Ê†áËÆ∞ÂéãÁº©ÁÆóÊ≥ïÂêéÔºåÊàë‰ª¨Â∞±Ê≤°ÂøÖË¶ÅÁª¥Êä§‰∏Ä‰∏™ÂÜÖÂ≠òÁ©∫Èó≤ÂàóË°®‰∫ÜÔºåÂè™ÈúÄË¶ÅËÆ∞ÂΩïÂÜÖÂ≠ò‰ΩøÁî®ÁöÑÊú´Á´ØÂú∞ÂùÄÂç≥ÂèØÔºåÊúâÊñ∞ÂØπË±°ÈúÄË¶ÅÂàÜÈÖçÂÜÖÂ≠òÊó∂ÔºåÂè™ÈúÄË¶Å‰ªéËøô‰∏™Êú´Á´ØÂú∞ÂùÄÂºÄÂßãÁªßÁª≠ÂæÄÂêéÊéíÔºåÁÑ∂ÂêéÊõ¥Êñ∞Ëøô‰∏™Êú´Á´ØÂú∞ÂùÄÂç≥ÂèØÔºàËøôÁßçÂàÜÈÖçÊñπÂºè‰πüÁß∞‰∏∫ÊåáÈíàÁ¢∞ÊíûÔºâ„ÄÇ‰ºòÁÇπÔºöÊ≤°ÊúâÁ¢éÁâáÂåñÈóÆÈ¢òÔºõ‰∏ç‰ºöÂÉèÂ§çÂà∂ÁÆóÊ≥ïÈÇ£Ê†∑ÔºåÊµ™Ë¥π‰∏ÄÂçäÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÁº∫ÁÇπÔºö‰ªéÊïàÁéá‰∏äÊù•ÁúãÔºåÂõ†‰∏∫Â§ö‰∫ÜÂéãÁº©ÂØπË±°ËøáÁ®ãÔºåÊâÄ‰ª•‰∏çÂèäÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÔºõÊ∂âÂèäÂà∞ÂØπË±°ÁöÑÁßªÂä®ÔºåÊâÄ‰ª•Ê†à‰∏≠ÁöÑÂºïÁî®Âú∞ÂùÄ‰πüË¶ÅÂèòÔºå‰πü‰ºöÂ¢ûÂä†Êó∂Èó¥ÂºÄÈîÄÔºõÂéãÁº©ËøáÁ®ã‰∏≠Ôºå‰πüÈúÄË¶ÅSTW„ÄÇÁÆóÊ≥ïÊØîËæÉ‰∏éÂÆûÈôÖÂ∫îÁî®ÂèØ‰ª•ÁúãÂà∞ÔºåÊ≤°ÊúâÂÆåÁæéÁöÑÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÔºåÂ§ßÂÆ∂ÈÉΩÊúâ‰ºòÁº∫ÁÇπÔºöÊ†áËÆ∞Ê∏ÖÈô§Ê†áËÆ∞ÂéãÁº©Â§çÂà∂ÈÄüÂ∫¶‰∏≠Á≠âÊúÄÊÖ¢ÊúÄÂø´ÂÜÖÂ≠òÂºÄÈîÄÂ∞ëÔºå‰ΩÜÊúâÁ¢éÁâáÂ∞ëÔºåÊ≤°ÊúâÁ¢éÁâáÂ§öÔºåÊ≤°ÊúâÁ¢éÁâáÁßªÂä®ÂØπË±°Âê¶ÊòØÊòØÊ≤°ÊúâÊúÄÂÆåÁæéÁöÑÁÆóÊ≥ïÔºåÂè™ÊúâÊúÄÂêàÈÄÇÁöÑÁÆóÊ≥ï„ÄÇÊàë‰ª¨ÂèØ‰ª•Âú®Â†ÜÂÜÖÂ≠ò‰∏≠ÈíàÂØπ‰∏çÂêåÂå∫ÂüüÁöÑÁâπÊÄß‰ΩøÁî®‰∏çÂêåÁöÑÂõûÊî∂ÁÆóÊ≥ïÔºåÂèñÈïøË°•Áü≠ÔºàÂàÜ‰ª£Êî∂ÈõÜÔºâÔºöÊñ∞Áîü‰ª£ÔºöËØ•Âå∫ÂüüÁöÑÂØπË±°Â§ßÂ§öÊúùÁîüÂ§ïÊ≠ªÔºåÂ≠òÊ¥ªÁéá‰ΩéÔºåÂõûÊî∂È¢ëÁπÅÔºåÊâÄ‰ª•Â§çÂà∂ÁÆóÊ≥ïÈùûÂ∏∏ÈÄÇÂêàÁî®‰∫éËØ•Âå∫ÂüüÔºõËÄÅÂπ¥‰ª£ÔºöËÄÅÂπ¥‰ª£ÂÜÖÂ≠òÂå∫ÂüüËæÉÂ§ßÔºåÂØπË±°ÁîüÂëΩÂë®ÊúüÈïøÔºåÂõûÊî∂‰∏çÈÇ£‰πàÈ¢ëÁπÅÔºåÊâÄ‰ª•Ëøô‰∏™Âå∫Âüü‰∏ÄËà¨‰ΩøÁî®Ê†áËÆ∞Ê∏ÖÈô§ÊàñËÄÖÊ†áËÆ∞ÂéãÁº©ÁÆóÊ≥ï„ÄÇÂ¢ûÈáèÊî∂ÈõÜÁÆóÊ≥ï*‰∏äËø∞ÁöÑ‰∏âÁßçÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÈÉΩË¶ÅËøõË°åSTWÔºåÂ¶ÇÊûú‰∏ÄÊ¨°ÊÄßÂ∞ÜÊâÄÊúâÁöÑÂûÉÂúæËøõË°åÂ§ÑÁêÜÔºå‰ºöÈÄ†ÊàêÁ≥ªÁªüÈïøÊó∂Èó¥ÁöÑÂÅúÈ°øÔºå‰∏∫‰∫ÜÊîπÂñÑËøô‰∏™ÈóÆÈ¢òÔºåÂ¢ûÈáèÊî∂ÈõÜÁÆóÊ≥ïÂ∫îËøêËÄåÁîü„ÄÇÂ¢ûÈáèÊî∂ÈõÜÁÆóÊ≥ïËÆ©ÂûÉÂúæÊî∂ÈõÜÁ∫øÁ®ãÂíåÂ∫îÁî®Á®ãÂ∫è‰∫§ÊõøÊâßË°åÔºåÊØèÊ¨°ÂûÉÂúæÊî∂ÈõÜÁ∫øÁ®ãÂè™Êî∂ÈõÜ‰∏ÄÂ∞èÁâáÂå∫ÂüüÁöÑÂÜÖÂ≠òÔºåÊé•ÁùÄÂàáÊç¢Âà∞Â∫îÁî®Á®ãÂ∫èÁ∫øÁ®ãÔºå‰ª•Ê≠§ÂèçÂ§çÔºåÁõ¥Âà∞ÂûÉÂúæÊî∂ÈõÜÂÆåÊàê„ÄÇ‰ΩÜËØ•ÁÆóÊ≥ïÁöÑÂü∫Á°ÄËøòÊòØ‰º†ÁªüÁöÑÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ïÂíåÂ§çÂà∂ÁÆóÊ≥ï„ÄÇ‰ºòÁÇπÔºöÊ≤°ÊúâÈïøÊó∂Èó¥ÁöÑSTWÔºõÁº∫ÁÇπÔºöÁ∫øÁ®ãÂàáÊç¢‰ºö‰ΩøÂæóÂûÉÂúæÂõûÊî∂ÁöÑÊÄª‰ΩìÊàêÊú¨‰∏äÂçáÔºåÈÄ†ÊàêÁ≥ªÁªüÂêûÂêêÈáè‰∏ãÈôç„ÄÇÂûÉÂúæÂõûÊî∂Âô®ÂûÉÂúæÂõûÊî∂Âô®ÊÄßËÉΩÊåáÊ†áÂêûÂêêÈáèÔºöÁ®ãÂ∫èËøêË°åÊó∂Èó¥Âç†ÊÄªËøêË°åÊó∂Èó¥ÔºàÊÄªËøêË°åÊó∂Èó¥=Á®ãÂ∫èËøêË°åÊó∂Èó¥+ÂûÉÂúæÂõûÊî∂Êó∂Èó¥ÔºâÁöÑÊØî‰æãÔºåÂûÉÂúæÂõûÊî∂Êó∂Èó¥Ë∂äÂ∞ëÔºåÂêûÂêêÈáèË∂äÈ´òÔºõÊöÇÂÅúÊó∂Èó¥ÔºöSTWÁöÑÊó∂Èó¥ÔºõÂÜÖÂ≠òÂç†Áî®ÔºöJavaÂ†ÜÊâÄÂç†ÁöÑÂ§ßÂ∞è„ÄÇ‰ª•‰∏ä‰∏âÁÇπÊûÑÊàê‰∏çÂèØËÉΩ‰∏âËßíÔºåÂç≥‰∏ÄÊ¨æÂûÉÂúæÂõûÊî∂Âô®‰∏çÂèØËÉΩÂêåÊó∂Êª°Ë∂≥‰∏âÁÇπ„ÄÇÈöèÁùÄÁ°¨‰ª∂Ê∞¥Âπ≥ÁöÑÊèêÂçáÔºåÂÜÖÂ≠òÂç†Áî®‰∏çÂÜçÊòØÊàë‰ª¨ÂÖ≥Ê≥®ÁöÑÈáçÁÇπÔºåËØÑ‰º∞ÂûÉÂúæÂõûÊî∂Âô®ÊÄßËÉΩÊó∂ÔºåÈáçÁÇπÂÖ≥Ê≥®ÂêûÂêêÈáèÂíåÊöÇÂÅúÊó∂Èó¥„ÄÇÂêûÂêêÈáèÂíåÊöÇÂÅúÊó∂Èó¥ÊòØÁõ∏‰∫íÁüõÁõæÁöÑÔºåÁõÆÂâçÊàë‰ª¨ËøΩÊ±ÇÁöÑÊïàÊûúÊòØÔºöÂú®ÊúÄÂ§ßÂêûÂêêÈáè‰ºòÂÖàÁöÑÊÉÖÂÜµ‰∏ãÔºåÂáèÂ∞èÊöÇÂÅúÊó∂Èó¥„ÄÇÂûÉÂúæÂõûÊî∂Âô®ÂèëÂ±ïÂéÜÂè≤1999Âπ¥JDK 1.3.1 ÂèëÂ∏ÉÁ¨¨‰∏ÄÊ¨æ‰∏≤Ë°åÊñπÂºèÁöÑSerial GCÔºåParNewÂûÉÂúæÂõûÊî∂Âô®ÊòØSerialÂõûÊî∂Âô®ÁöÑÂ§öÁ∫øÁ®ãÁâàÊú¨Ôºõ2002Âπ¥2Êúà26ÔºåParallel GCÂíåConcurrent Mark Sweep GCÔºàCMSÔºâË∑üÈöèJDK 1.4.2‰∏ÄËµ∑ÂèëÂ∏ÉÔºõParallel GCÂú®JDK 1.6ÂêéÁß∞‰∏∫HotSpotÈªòËÆ§GCÔºõ2012Âπ¥ÔºåÂú®JDK 1.7u4ÁâàÊú¨‰∏≠ÔºåG1ÂèØÁî®Ôºõ2017Âπ¥ÔºåJDK 9‰∏≠ÔºåG1Êàê‰∏∫ÈªòËÆ§ÂûÉÂúæÂõûÊî∂Âô®ÔºåCMSË¢´Ê†áËÆ∞‰∏∫ËøáÊó∂Ôºõ2018Âπ¥3ÊúàÔºåJDK 10‰∏≠ÊèêÂçáG1Âπ∂Ë°åÊÄßÔºõ2018Âπ¥9ÊúàÔºåJDK 11ÂºïÂÖ•‰∫ÜEpsilonÂûÉÂúæÂõûÊî∂Âô®ÔºåÂêåÊó∂ÂºïÂÖ•ZGCÔºàÂÆûÈ™åÁâàÊú¨ÔºâÔºõ2019Âπ¥3ÊúàÔºåJDK 12ÂèëÂ∏ÉÔºåÂ¢ûÂº∫G1ÔºåÂπ∂ÂºïÂÖ•Shenandoah GCÔºàÂÆûÈ™åÁâàÊú¨ÔºâÔºõ2019Âπ¥9ÊúàÔºåJDK 13ÂèëÂ∏ÉÔºåÂ¢ûÂº∫ZGCÔºõ2020Âπ¥3ÊúàÔºåJDK 14ÂèëÂ∏ÉÔºåÂà†Èô§CMSÔºåÊãìÂ±ïZGCÂú®MACÂíåWindows‰∏äÁöÑÂ∫îÁî®„ÄÇÂûÉÂúæÂõûÊî∂Âô®ÁªÑÂêà7Ê¨æÁªèÂÖ∏ÂûÉÂúæÂõûÊî∂Âô®Èó¥ÁöÑÁªÑÂêàÂÖ≥Á≥ªÔºöËØ¥ÊòéÔºö‰∏§‰∏™ÂõûÊî∂Âô®Èó¥ÊúâËøûÁ∫øÔºåËØ¥ÊòéÂÆÉ‰ª¨ÂèØ‰ª•Êê≠ÈÖç‰ΩøÁî®ÔºõSerial Old‰Ωú‰∏∫CMSÂá∫Áé∞‚ÄúConcurrent Mode Failure‚ÄùÂ§±Ë¥•ÁöÑÂêéÂ§áÈ¢ÑÊ°àÔºõG1ÂèØÁî®‰∫éÊñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£ÔºõÁ∫¢Ëâ≤ËôöÁ∫øËøûÁ∫øÔºöJDK 8Â∞ÜËøô‰∏§ÁªÑÁªÑÂêàÂ£∞Êòé‰∏∫Â∫üÂºÉÔºåÂπ∂Âú®JDK 9‰∏≠ÂÆåÂÖ®ÁßªÈô§ÔºõÁªøËâ≤ËôöÁ∫øËøûÁ∫øÔºöJDK 14‰∏≠ÔºåÂºÉÁî®‰∫ÜËØ•ÁªÑÂêàÔºõÁªøËâ≤ËôöÁ∫øËæπÊ°ÜÔºöJDK 14‰∏≠ÔºåÂà†Èô§‰∫ÜCMS„ÄÇÈªòËÆ§ÂûÉÂúæÂõûÊî∂Âô®Êü•ÁúãÁºñÂÜô‰∏ÄÊÆµÁÆÄÂçïÁöÑjavaÁ®ãÂ∫èÔºö123456public class Test &#123; public static void main(String[] args) &#123; System.out.println("hello"); &#125;&#125;Ê∑ªÂä†-XX:+PrintCommandLineFlagsJVMÂèÇÊï∞ÈÖçÁΩÆÔºåÂú®JDK 8ÁéØÂ¢É‰∏ãÁ®ãÂ∫èËæìÂá∫Ôºö12-XX:InitialHeapSize=536870912 -XX:MaxHeapSize=8589934592 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC hello-XX:+UseParallelGCËØ¥ÊòéJDK 8ÈªòËÆ§ÁöÑÂûÉÂúæÂõûÊî∂Âô®‰∏∫Parallel„ÄÇÂú®JDK 9ÁéØÂ¢É‰∏ãËæìÂá∫Ôºö12-XX:G1ConcRefinementThreads=10 -XX:InitialHeapSize=536870912 -XX:MaxHeapSize=8589934592 -XX:+PrintCommandLineFlags -XX:ReservedCodeCacheSize=251658240 -XX:+SegmentedCodeCache -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC hello-XX:+UseG1GCËØ¥ÊòéJDK 9ÈªòËÆ§ÁöÑÂûÉÂúæÂõûÊî∂Âô®‰∏∫G1„ÄÇÁªèÂÖ∏ÂûÉÂúæÂõûÊî∂Âô®‰ªãÁªçSerial„ÄÅSerial OldÂõûÊî∂Âô®SerialÂûÉÂúæÂõûÊî∂Âô®‰∏∫ÂçïÁ∫øÁ®ã‰∏≤Ë°åÂõûÊî∂Âô®Ôºå‰∏∫HotSpot‰∏≠ClientÊ®°Âºè‰∏ãÈªòËÆ§ÁöÑÊñ∞Áîü‰ª£ÂûÉÂúæÂõûÊî∂Âô®ÔºåÈááÁî®Â§çÂà∂ÁÆóÊ≥ï„ÄÅ‰∏≤Ë°åÂõûÊî∂ÂíåSTWÊú∫Âà∂ËøõË°åÂÜÖÂ≠òÂõûÊî∂ÔºõSerial OldÂûÉÂúæÂõûÊî∂Âô®‰∏∫SerialÊèê‰æõÁöÑËÄÅÂπ¥‰ª£ÂûÉÂúæÂõûÊî∂Âô®ÔºåÈááÁî®Ê†áËÆ∞ÂéãÁº©ÁÆóÊ≥ï„ÄÅ‰∏≤Ë°åÂõûÊî∂ÂíåSTWÊú∫Âà∂ËøõË°åÂÜÖÂ≠òÂõûÊî∂ÔºöSerial OldÊòØËøêË°åÂú®ClientÊ®°Âºè‰∏ãÈªòËÆ§ÁöÑËÄÅÂπ¥‰ª£ÂûÉÂúæÂõûÊî∂Âô®ÔºõSerial OldÂú®ServerÊ®°Âºè‰∏ã‰∏ªË¶ÅÊúâ‰∏§‰∏™Áî®ÈÄîÔºö‰∏éÊñ∞Áîü‰ª£ÁöÑParallel ScavengeÈÖçÂêà‰ΩøÁî®Ôºõ‰Ωú‰∏∫ËÄÅÂπ¥‰ª£CMSÂõûÊî∂Âô®ÁöÑÂêéÂ§áÂûÉÂúæÊî∂ÈõÜÊñπÊ°à„ÄÇSerialÈÄÇÁî®‰∫éËøêË°åÂú®ClientÊ®°Âºè‰∏ãÁöÑËôöÊãüÊú∫ÊàñËÄÖÂÜÖÂ≠ò‰∏çÂ§ßÔºàÂá†ÂçÅMBÂà∞‰∏Ä‰∏§ÁôæMBÔºâÁöÑÁéØÂ¢É‰∏ãÔºåÂõ†‰∏∫ÊòØ‰∏≤Ë°åÁöÑÔºåÊúâËæÉÈïøÊó∂Èó¥ÁöÑSTWÔºåÊâÄ‰ª•Âπ∂‰∏çÈÄÇÁî®‰∫éË¶ÅÊ±ÇÂø´ÂìçÂ∫î„ÄÅ‰∫§‰∫íËæÉÂº∫ÁöÑÂ∫îÁî®„ÄÇÂèØ‰ª•ÈÄöËøáXX:+UseSerialGCÂèÇÊï∞ÂêØÁî®SerialÂõûÊî∂Âô®ÔºåË°®Á§∫Êñ∞Áîü‰ª£‰ΩøÁî®SerialÔºåËÄÅÂπ¥‰ª£‰ΩøÁî®Serial Old„ÄÇParNewÂõûÊî∂Âô®ParNewÊòØParallel New‰∏§‰∏™ËØçÁöÑÁÆÄÂÜôÔºåÊòØSerialÁöÑÂ§öÁ∫øÁ®ãÁâàÊú¨ÂûÉÂúæÂõûÊî∂Âô®„ÄÇParNewÊòØÂæàÂ§öJVMËøêË°åÂú®ServerÊ®°Âºè‰∏ãÊñ∞Áîü‰ª£ÁöÑÈªòËÆ§ÂûÉÂúæÂõûÊî∂Âô®ÔºåÈááÁî®Â§çÂà∂ÁÆóÊ≥ïÔºåÂπ∂Ë°åÂõûÊî∂ÂíåSTWÊú∫Âà∂ËøõË°åÂÜÖÂ≠òÂõûÊî∂„ÄÇÂèØ‰ª•ÈÄöËøáXX:+UseParNewGCÂèÇÊï∞ÂêØÁî®ParNewÂõûÊî∂Âô®ÔºåË°®Á§∫Êñ∞Áîü‰ª£‰ΩøÁî®ParNewÔºåËÄÅÂπ¥‰ª£‰∏çÂèóÂΩ±Âìç„ÄÇSerial„ÄÅParNewÊê≠ÈÖçSerial OldÂõûÊî∂Âô®Á§∫ÊÑèÂõæÔºöÂõæÁâáÊù•Ëá™‰∫éhttps://codertw.com/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/691189/Parallel„ÄÅParallel OldÂõûÊî∂Âô®Parallel ScavengeÂõûÊî∂Âô®‰πüÊòØ‰ΩúÁî®‰∫éÊñ∞Áîü‰ª£ÔºåÂêåÊ†∑ÈááÁî®Â§çÂà∂ÁÆóÊ≥ïÔºåÂπ∂Ë°åÂõûÊî∂ÂíåSTWÊú∫Âà∂„ÄÇParallel ScavengeÂíåParNewÂØπÊØîÔºöParallel Scavenge‰∏∫ÂêûÂêêÈáè‰ºòÂÖàÁöÑÂûÉÂúæÂõûÊî∂Âô®ÔºõParallel ScavengeÂÖ∑ÊúâËá™ÈÄÇÂ∫îË∞ÉËäÇÁ≠ñÁï•„ÄÇJDK 1.6Êèê‰æõ‰∫ÜÁî®‰∫éËÄÅÂπ¥‰ª£ÁöÑÂπ∂Ë°åÂûÉÂúæÂõûÊî∂Âô® ‚Äî‚Äî Parallel OldÂõûÊî∂Âô®ÔºåÁî®‰∫éÊõø‰ª£Serial OldÂõûÊî∂Âô®„ÄÇParallelÈááÁî®Ê†áËÆ∞ÂéãÁº©„ÄÅÂπ∂Ë°åÂõûÊî∂ÂíåSTWÊú∫Âà∂„ÄÇÂèØ‰ª•ÈÄöËøá-XX:+UseParallelGCÊåáÂÆöÊñ∞Áîü‰ª£‰ΩøÁî®Parallel ScavengeÂõûÊî∂Âô®Ôºõ-XX:+UseParallelOldGCÊåáÂÆöËÄÅÂπ¥‰ª£‰ΩøÁî®Parallel OldÂõûÊî∂Âô®ÔºåÂÆÉ‰ª¨ÊòØÊàêÂØπÂ≠òÂú®ÁöÑÔºåÂºÄÂêØ‰∏Ä‰∏™Âè¶‰∏Ä‰∏™‰πü‰ºöÂºÄÂêØ„ÄÇÊ≠§Â§ñËøòÂèØ‰ª•ÈÄöËøá-XX:ParallelGCThreads=ËÆæÁΩÆÂπ∂Ë°åÂõûÊî∂Âô®ÁöÑÁ∫øÁ®ãÊï∞ÔºöÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂΩìCPUÊï∞ÈáèÂ∞è‰∫é8‰∏™Êó∂Ôºå-XX:ParallelGCThreads=ÁöÑÂÄºÁ≠â‰∫éCPUÊï∞ÈáèÔºõÂΩìCPUÊï∞ÈáèÂ§ß‰∫é8‰∏™Ôºå-XX:ParallelGCThreads=ÁöÑÂÄºÁ≠â‰∫é3+5*CPU_COUNT/8„ÄÇ-XX:+UseAdaptiveSizePolicyÂºÄÂêØParallel ScavengeÁöÑËá™ÈÄÇÂ∫îË∞ÉËäÇÁ≠ñÁï•ÔºöËØ•Ê®°Âºè‰∏ãÔºåÂπ¥ËΩª‰ª£Â§ßÂ∞è„ÄÅ‰ºäÁî∏Âõ≠Âå∫ÂíåÂπ∏Â≠òËÄÖÂå∫ÁöÑÊØî‰æã„ÄÅÊôãÂçáËÄÅÂπ¥‰ª£ÁöÑÂØπË±°Âπ¥ÈæÑÈòàÂÄºÈÉΩ‰ºöËá™Âä®Ë∞ÉÊï¥Ôºå‰ª•ËææÂà∞Âú®Â†ÜÂ§ßÂ∞è„ÄÅÂêûÂêêÈáèÂíåÂÅúÈ°øÊó∂Èó¥‰πãÈó¥ÁöÑÂπ≥Ë°°ÁÇπ„ÄÇCMSÂõûÊî∂Âô®JDK 1.5 HotSpotÊé®Âá∫‰∫Ü‰∏ÄÊ¨æÁúüÊ≠£ÊÑè‰πâ‰∏äÁöÑÂπ∂ÂèëÂõûÊî∂Âô® ‚Äî‚Äî CMSÔºàConcurrent-Mark-SweepÔºâÔºåÁ¨¨‰∏ÄÊ¨°ÂÆûÁé∞‰∫ÜËÆ©ÂûÉÂúæÂõûÊî∂Á∫øÁ®ãÂíåÁî®Êà∑Á∫øÁ®ãÂêåÊó∂Â∑•‰Ωú„ÄÇCMSÁöÑÂÖ≥Ê≥®ÁÇπÂú®‰∫éÂ∞ΩÂèØËÉΩÁº©Áü≠ÂûÉÂúæÊî∂ÈõÜÊó∂Áî®Êà∑Á∫øÁ®ãÂÅúÈ°øÁöÑÊó∂Èó¥„ÄÇCMS‰Ωú‰∏∫‰∏ÄÊ¨æËÄÅÂπ¥‰ª£ÁöÑÂûÉÂúæÂõûÊî∂Âô®Ôºå‰∏çËÉΩÂíåÊñ∞Áîü‰ª£ÂûÉÂúæÂõûÊî∂Âô®Parallel ScavengeÊê≠ÈÖç‰ΩøÁî®ÔºåÂè™ËÉΩÂíåParNewÊàñËÄÖSerialÊê≠ÈÖç‰ΩøÁî®„ÄÇCMSÂõûÊî∂Âô®Á§∫ÊÑèÂõæÔºöÂõæÁâáÊù•Ëá™‰∫éhttps://codertw.com/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/691189/‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§ÔºöÂàùÂßãÊ†áËÆ∞ÔºàInitial-MarkÔºâÔºöÊâÄÊúâÁî®Êà∑Á∫øÁ®ãÊöÇÂÅúÔºàSTWÔºâÔºåËøô‰∏™Èò∂ÊÆµ‰ªÖ‰ªÖÊ†áËÆ∞Âá∫GC RootsËÉΩÁõ¥Êé•ÂÖ≥ËÅîÂà∞ÁöÑÂØπË±°ÔºåÊâÄ‰ª•ÈÄüÂ∫¶ÈùûÂ∏∏Âø´ÔºåSTWÊó∂Èó¥ÂæàÁü≠ÔºõÂπ∂ÂèëÊ†áËÆ∞ÔºàConcurrent-MarkÔºâÔºöËØ•Èò∂ÊÆµ‰ªéGC RootsÁõ¥Êé•ÂÖ≥ËÅîÂØπË±°ÂºÄÂßãÈÅçÂéÜÊï¥‰∏™ÂØπË±°ÈìæÔºåËôΩÁÑ∂Ëøô‰∏™ËøáÁ®ãËÄóÊó∂ËæÉÈïøÔºå‰ΩÜÂπ∂‰∏çÈúÄË¶ÅÊöÇÂÅúÁî®Êà∑Á∫øÁ®ãÔºåÂπ∂ÂèëÊâßË°åÔºåÊ≤°ÊúâSTWÔºõÈáçÊñ∞Ê†áËÆ∞ÔºàRemarkÔºâÔºöÁî±‰∫é‰∏ä‰∏ÄÊ≠•Áî®Êà∑Á∫øÁ®ã‰πüÂú®ÊâßË°åÔºåÊâÄ‰ª•Ëøô‰∏ÄÊ≠•Áî®‰∫é‰øÆÊ≠£Âõ†Áî®Êà∑Á∫øÁ®ãÁªßÁª≠ËøêË°åËÄåÂØºËá¥Ê†áËÆ∞ÂèëÁîüÂèòÂä®ÁöÑÈÇ£‰∏ÄÈÉ®ÂàÜÂØπË±°ÁöÑÊ†áËÆ∞ËÆ∞ÂΩï„ÄÇËøô‰∏™Èò∂ÊÆµ‰ºöÊØîÂàùÂßãÊ†áËÆ∞Èò∂ÊÆµËÄóÊó∂Èïø‰∏ÄÁÇπÔºå‰ΩÜËøúÊØîÂπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµ‰ΩéÔºõÂπ∂ÂèëÊ∏ÖÈô§ÔºàConcurrent-SweepÔºâÔºöËØ•Èò∂ÊÆµÊ∏ÖÁêÜÂà†Èô§ÂûÉÂúæÔºåÂõûÊî∂Á©∫Èó¥„ÄÇÁî±‰∫éÊ≤°ÊúâÁßªÂä®ÂØπË±°ÔºåÊâÄ‰ª•ËØ•Èò∂ÊÆµ‰πü‰∏çÈúÄË¶ÅSTW„ÄÇCMSÁöÑ‰ºòÁº∫ÁÇπÈÉΩÂæàÊòéÊòæÔºö‰ºòÁÇπÔºöÂπ∂ÂèëÊî∂ÈõÜÔºõ‰ΩéÂª∂Ëøü„ÄÇÁº∫ÁÇπÔºö‰ºö‰∫ßÁîüÁ¢éÁâá„ÄÇÂõ†‰∏∫Ê∏ÖÁêÜÈò∂ÊÆµÁî®Êà∑Á∫øÁ∫øÁ®ãËøòÂú®ÊâßË°åÔºåÊâÄ‰ª•Âè™ËÉΩÈááÁî®‰∏çÁßªÂä®ÂØπË±°ÁöÑÊ†áËÆ∞-Ê∏ÖÈô§ÁÆóÊ≥ïÔºåËÄåËØ•ÁÆóÊ≥ï‰ºö‰∫ßÁîüÁ¢éÁâáÈóÆÈ¢òÔºõÂØπCPUËµÑÊ∫êÊïèÊÑü„ÄÇCPUËµÑÊ∫êÈô§‰∫ÜÁî®‰∫éÁî®Êà∑Á∫øÁ®ãÂ§ñÔºåËøòÈúÄÂàÜÈÖç‰∏ÄÈÉ®ÂàÜÁî®‰∫éÂ§ÑÁêÜÂûÉÂúæÂõûÊî∂ÔºåÈôç‰Ωé‰∫ÜÂêûÂêêÈáèÔºõÊó†Ê≥ïÂ§ÑÁêÜÊµÆÂä®ÂûÉÂúæ„ÄÇÂπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµÔºåÁî®Êà∑Á∫øÁ®ãÂπ∂Êú™ÂÅúÊ≠¢ÔºåËØ•Èò∂ÊÆµ‰πü‰ºö‰∫ßÁîüÂûÉÂúæÔºå CMSÊó†Ê≥ïÂØπËøô‰∫õÂûÉÂúæËøõË°åÊ†áËÆ∞ÔºåÂè™ËÉΩÁïôÂà∞‰∏ãÊ¨°GCÊó∂Â§ÑÁêÜ„ÄÇÊ≠§Â§ñÔºåCMSÂú®ÂõûÊî∂ËøáÁ®ã‰∏≠ÔºåÂõ†‰∏∫Áî®Êà∑Á∫øÁ®ãÂπ∂Ê≤°Êúâ‰∏≠Êñ≠ÔºåÊâÄ‰ª•ËøòÈúÄÁ°Æ‰øùÁî®Êà∑Á∫øÁ®ãÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÂèØÁî®„ÄÇÊç¢Âè•ËØùËØ¥ÔºåCMSÂõûÊî∂Âô®‰∏çËÉΩÁ≠âËÄÅÂπ¥‰ª£Âç≥Â∞ÜË¢´Â°´Êª°Êó∂ÊâçÂéªÂõûÊî∂ÔºåËÄåÂ∫îÂΩìÂ†ÜÂÜÖÂ≠ò‰ΩøÁî®ÁéáÂà∞Ëææ‰∏ÄÂÆöÈòàÂÄºÊó∂Ôºå‰æøÂºÄÂßãËøõË°åÂõûÊî∂„ÄÇÂ¶ÇÊûúCMSËøêË°åÊúüÈó¥È¢ÑÁïôÂÜÖÂ≠ò‰∏çË∂≥ÔºåÂ∞±‰ºöÂá∫Áé∞‰∏ÄÊ¨°‚ÄúConcurrent Mode Failure‚ÄùÂ§±Ë¥•ÔºåËôöÊãüÊú∫‰ºöÂêØÂä®ÂêéÂ§áÊñπÊ°àÔºå‰∏¥Êó∂ÂêØÁî®Serial OldÂõûÊî∂Âô®Êù•ÂÆåÊàêËÄÅÂπ¥‰ª£ÁöÑÂûÉÂúæÂõûÊî∂„ÄÇCMSÂõûÊî∂Âô®ÂèØËÆæÁΩÆÂèÇÊï∞Ôºö-XX:+UseConcMarkSweepGCÔºåÂºÄÂêØCMS GCÔºåÂºÄÂêØÂêéÔºå-XX:+UseParNewGC‰ºöËá™Âä®ÊâìÂºÄÔºõ-XX:CMSInitiatingOccupanyFraction=ÔºåËÆæÁΩÆÂ†ÜÂÜÖÂ≠ò‰ΩøÁî®ÁéáÈòàÂÄºÔºå‰∏ÄÊó¶ËææÂà∞Ëøô‰∏™ÈòàÂÄºÔºåCMSÂºÄÂßãËøõË°åÂõûÊî∂ÔºàJDK5Âèä‰πãÂâçÔºåÈªòËÆ§ÂÄº‰∏∫68ÔºåJDK6Âèä‰ª•‰∏äÁâàÊú¨ÈªòËÆ§ÂÄº‰∏∫92%ÔºâÔºõ-XX:+UseCMSCompactAtFullCollectionÔºåÊåáÂÆöÂú®CMSÂõûÊî∂ÂÆåËÄÅÂπ¥‰ª£ÂêéÔºåÂØπÂÜÖÂ≠òÁ©∫Èó¥ËøõË°åÂéãÁº©Â§ÑÁêÜÔºå‰ª•ÈÅøÂÖçÁ¢éÁâáÂåñÈóÆÈ¢òÔºõ-XX:CMSFullGCsBeforeCompactionÔºåËÆæÁΩÆÊâßË°åÂ§öÂ∞ëÊ¨°CMS GCÂêéÔºåÂØπÂÜÖÂ≠òÁ©∫Èó¥ËøõË°åÂéãÁº©Êï¥ÁêÜÔºõ-XX:ParallelCMSThreads=ÔºåËÆæÁΩÆCMSÁöÑÁ∫øÁ®ãÊï∞„ÄÇÈªòËÆ§ÂêØÂä®ÁöÑÁ∫øÁ®ãÊï∞‰∏∫(ParallelGCThreads+3)/4„ÄÇÊàë‰ª¨Áü•ÈÅìÔºåÂΩìCPU‰∏™Êï∞Â∞è‰∫é8Êó∂ÔºåParallelGCThreadsÁöÑÈªòËÆ§ÂÄº‰∏∫CPU‰∏™Êï∞ÔºåÊâÄ‰ª•ÂØπ‰∫é‰∏Ä‰∏™8Ê†∏CPUÔºåÈªòËÆ§ÂêØÂä®ÁöÑCMSÁ∫øÁ®ãÊï∞‰∏∫3ÔºåÊç¢Âè•ËØùËØ¥Âè™Êúâ62.5%ÁöÑCPUËµÑÊ∫êÁî®‰∫éÂ§ÑÁêÜÁî®Êà∑Á∫øÁ®ã„ÄÇÊâÄ‰ª•CMS‰∏çÈÄÇÂêàÂêûÂêêÈáèË¶ÅÊ±ÇÈ´òÁöÑÂú∫ÊôØ„ÄÇG1ÂõûÊî∂Âô®G1ÔºàGarbage FirstÔºâÂõûÊî∂Âô®ÊääÂ†ÜÂÜÖÂ≠òÂàÜÂâ≤ÊàêÂæàÂ§ö‰∏çÁõ∏ÂÖ≥ÁöÑÂå∫ÂüüÔºàregionÔºåÁâ©ÁêÜ‰∏ä‰∏çËøûÁª≠ÔºâÔºå‰ΩøÁî®‰∏çÂêåÂå∫ÂüüÊù•Ë°®Á§∫‰ºäÁî∏Âõ≠Âå∫ÔºåÂπ∏Â≠òËÄÖÂå∫ÂíåËÄÅÂπ¥‰ª£„ÄÇG1‰ºöÈÅøÂÖçÂØπÊï¥‰∏™JavaÂ†ÜËøõË°åÂûÉÂúæÊî∂ÈõÜÔºåÂÆÉ‰ºöË∑üË∏™ÂêÑ‰∏™regionÈáåÂûÉÂúæÂõûÊî∂ÁöÑ‰ª∑ÂÄºÂ§ßÂ∞èÔºàÂõûÊî∂ÊâÄËé∑ÂæóÁöÑÁ©∫Èó¥Â§ßÂ∞èÂèäÊâÄÈúÄÊó∂Èó¥ÁöÑÁªèÈ™åÂÄºÔºâÔºåÂú®ÂêéÂè∞Áª¥Êä§‰∏Ä‰∏™‰ºòÂÖàÂàóË°®ÔºåÊØèÊ¨°Ê†πÊçÆÂÖÅËÆ∏Êî∂ÈõÜÊó∂Èó¥Ôºå‰ºòÂÖàÂõûÊî∂‰ª∑ÂÄºÊúÄÂ§ßÁöÑregion„ÄÇregionÁöÑËØ¥ÊòéÂõæÁâáÊù•Ëá™‰∫éhttps://tech.meituan.com/2016/09/23/g1.htmlEË°®Á§∫‰ºäÁî∏Âõ≠Âå∫ÔºåSË°®Á§∫Âπ∏Â≠òËÄÖÂå∫„ÄÅOË°®Á§∫ËÄÅÂπ¥‰ª£ÔºåÁ©∫ÁôΩË°®Á§∫Êú™‰ΩøÁî®ÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºõ‰∏Ä‰∏™regionÂú®Âêå‰∏ÄÊó∂Èó¥ÂÜÖÂè™ËÉΩÂ±û‰∫é‰∏ÄÁßçËßíËâ≤ÔºõG1Êñ∞Â¢û‰∫Ü‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÂÜÖÂ≠òÂå∫Âüü‚Äî‚ÄîHumongousÔºå‰∏ªË¶ÅÁî®‰∫éÂ≠òÊîæÂ§ßÂØπË±°„ÄÇG1ÂõûÊî∂ÂûÉÂúæËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂõæÁâáÊù•Ëá™‰∫éhttps://codertw.com/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/691189/‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§ÔºöÂàùÂßãÊ†áËÆ∞Ôºö‰ªÖ‰ªÖÊòØÊ†áËÆ∞GC RootsËÉΩÁõ¥Êé•ÂÖ≥ËÅîÁöÑÂØπË±°ÔºåÈúÄË¶ÅSTWÔºå‰ΩÜËøô‰∏™ËøáÁ®ãÈùûÂ∏∏Âø´ÔºõÂπ∂ÂèëÊ†áËÆ∞Ôºö‰ªéGC RootsÂá∫ÂèëÔºåÂØπÂ†Ü‰∏≠ÂØπË±°ËøõË°åÂèØËææÊÄßÂàÜÊûêÔºåÊâæÂá∫Â≠òÊ¥ªÂØπË±°ÔºåËØ•Èò∂ÊÆµËÄóÊó∂ËæÉÈïøÔºå‰ΩÜÊòØÂèØ‰∏éÁî®Êà∑Á∫øÁ®ãÂπ∂ÂèëÊâßË°åÔºõÊúÄÁªàÊ†áËÆ∞Ôºö‰∏ªË¶Å‰øÆÊ≠£Âú®Âπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµÂõ†‰∏∫Áî®Êà∑Á∫øÁ®ãÁªßÁª≠ËøêË°åËÄåÂØºËá¥Ê†áËÆ∞ËÆ∞ÂΩï‰∫ßÁîüÂèòÂä®ÁöÑÈÇ£‰∏ÄÈÉ®ÂàÜÂØπË±°ÁöÑÊ†áËÆ∞ËÆ∞ÂΩïÔºåÈúÄË¶ÅSTWÔºõÁ≠õÈÄâÂõûÊî∂ÔºöÂ∞ÜÂêÑ‰∏™regionÂàÜÂå∫ÁöÑÂõûÊî∂‰ª∑ÂÄºÂíåÊàêÊú¨ËøõË°åÊéíÂ∫èÔºåÊ†πÊçÆÁî®Êà∑ÊâÄÊúüÊúõÁöÑÂÅúÈ°øÊó∂Èó¥Âà∂ÂÆöÂõûÊî∂ËÆ°Âàí„ÄÇËøôÈò∂ÊÆµÂÅúÈ°øÁî®Êà∑Á∫øÁ®ãÔºåSTW„ÄÇG1ÂõûÊî∂Âô®ÁöÑ‰ºòÁº∫ÁÇπÔºö‰ºòÁÇπÔºöÂπ∂Ë°å‰∏éÂπ∂ÂèëÔºõÂàÜ‰ª£Êî∂ÈõÜÔºåÂèØ‰ª•ÈááÁî®‰∏çÂêåÁöÑÁÆóÊ≥ïÂ§ÑÁêÜ‰∏çÂêåÁöÑÂØπË±°ÔºõÁ©∫Èó¥Êï¥ÂêàÔºåÊ†áËÆ∞ÂéãÁº©ÁÆóÊ≥ïÊÑèÂë≥ÁùÄ‰∏ç‰ºö‰∫ßÁîüÂÜÖÂ≠òÁ¢éÁâáÔºõÂèØÈ¢ÑÊµãÁöÑÂÅúÈ°øÊó∂Èó¥ÔºåËÉΩËÆ©‰ΩøÁî®ËÄÖÊòéÁ°ÆÊåáÂÆö‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫MÊØ´ÁßíÊó∂Èó¥ÁâáÊÆµÂÜÖÔºåÊ∂àËÄóÂú®ÂûÉÂúæÂõûÊî∂ÁöÑÊó∂Èó¥‰∏çË∂ÖËøáNÊØ´ÁßíÔºàÊ†πÊçÆ‰ºòÂÖàÂàóË°®‰ºòÂÖàÂõûÊî∂‰ª∑ÂÄºÊúÄÂ§ßÁöÑregionÔºâ„ÄÇÁº∫ÁÇπÔºöÂú®Â∞èÂÜÖÂ≠òÁéØÂ¢É‰∏ãÂíåCMSÁõ∏ÊØîÊ≤°Êúâ‰ºòÂäøÔºåG1ÈÄÇÂêàÂ§ßÁöÑÂ†ÜÂÜÖÂ≠òÔºõÂú®Áî®Êà∑Á®ãÂ∫èËøêË°åËøáÁ®ã‰∏≠ÔºåG1Êó†ËÆ∫ÊòØ‰∏∫‰∫ÜÂûÉÂúæÂõûÊî∂‰∫ßÁîüÁöÑÂÜÖÂ≠òÂç†Áî®ÔºåËøòÊòØÁ®ãÂ∫èËøêË°åÊó∂ÁöÑÈ¢ùÂ§ñÊâßË°åË¥üËΩΩÈÉΩË¶ÅÊØîCMSÈ´ò„ÄÇG1ÂõûÊî∂Âô®Áõ∏ÂÖ≥ÂèÇÊï∞ËÆæÁΩÆÔºö-XX:+UseG1GCÔºåÂºÄÂêØG1 GCÔºõ-XX:G1HeapRegionSize=ÔºåËÆæÁΩÆregionÁöÑÂ§ßÂ∞è„ÄÇÂÄº‰∏∫2ÁöÑÂπÇÔºåËåÉÂõ¥ÊòØ1MBÂà∞32MB‰πãÈó¥ÔºåÁõÆÊ†áÊòØÊ†πÊçÆÊúÄÂ∞èÂ†ÜÂÜÖÂ≠òÂ§ßÂ∞èÂàíÂàÜÂá∫Á∫¶2048‰∏™Âå∫Âüü„ÄÇÊâÄ‰ª•Â¶ÇÊûúËøô‰∏™ÂÄºËÆæÁΩÆ‰∏∫2MBÔºåÈÇ£‰πàÂ†ÜÊúÄÂ∞èÂÜÖÂ≠òÂ§ßÁ∫¶‰∏∫4GBÔºõ-XX:MaxGCPauseMillis=ÔºåËÆæÁΩÆÊúüÊúõËææÂà∞ÁöÑÊúÄÂ§ßGCÂÅúÈ°øÊó∂Èó¥ÊåáÊ†áÔºàJVM‰ºöÂ∞ΩÂäõÂÆûÁé∞Ôºå‰ΩÜ‰∏ç‰øùËØÅËææÂà∞ÔºâÔºåÈªòËÆ§ÂÄº‰∏∫200msÔºõ-XX:ParallelGCThread=ÔºåËÆæÁΩÆSTWÊó∂GCÁ∫øÁ®ãÊï∞ÂÄºÔºåÊúÄÂ§öËÆæÁΩÆ‰∏∫8Ôºõ-XX:ConcGCThreads=ÔºåËÆæÁΩÆÂπ∂ÂèëÊ†áËÆ∞ÁöÑÁ∫øÁ®ãÊï∞ÔºåÊé®ËçêÂÄº‰∏∫ParallelGCThreadÁöÑ1/4Â∑¶Âè≥Ôºõ-XX:InitiatingHeapOccupancyPercent=ÔºåËÆæÁΩÆËß¶ÂèëÂπ∂ÂèëGCÂë®ÊúüÁöÑJavaÂ†ÜÂç†Áî®ÁéáÈòàÂÄºÔºåË∂ÖËøáËøô‰∏™ÂÄºÂ∞±Ëß¶ÂèëGCÔºåÈªòËÆ§ÂÄº‰∏∫45„ÄÇÊÄªÁªì‰∏äÈù¢ËøôÂá†Ê¨æÁªèÂÖ∏ÁöÑÂûÉÂúæÂõûÊî∂Âô®ÂêÑÊúâÁâπÁÇπÔºåÂÖ∑‰Ωì‰ΩøÁî®ÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ†πÊçÆÂÖ∑‰ΩìÁöÑÊÉÖÂÜµÈÄâÁî®‰∏çÂêåÁöÑÂûÉÂúæÂõûÊî∂Âô®ÔºöÂûÉÂúæÂõûÊî∂Âô®ÂàÜÁ±ª‰ΩúÁî®‰ΩçÁΩÆ‰ΩøÁî®ÁÆóÊ≥ïÁâπÁÇπÈÄÇÁî®Âú∫ÊôØSerial‰∏≤Ë°åÊñ∞Áîü‰ª£Â§çÂà∂ÁÆóÊ≥ïÂìçÂ∫îÈÄüÂ∫¶‰ºòÂÖàÈÄÇÁî®‰∫éÂçïCPUÁéØÂ¢É‰∏ãÁöÑClientÊ®°ÂºèParNewÂπ∂Ë°åÊñ∞Áîü‰ª£Â§çÂà∂ÁÆóÊ≥ïÂìçÂ∫îÈÄüÂ∫¶‰ºòÂÖàÂ§öCPUÁéØÂ¢ÉServerÊ®°Âºè‰∏ã‰∏éCMSÈÖçÂêà‰ΩøÁî®ParallelÂπ∂Ë°åÊñ∞Áîü‰ª£Â§çÂà∂ÁÆóÊ≥ïÂêûÂêêÈáè‰ºòÂÖàÈÄÇÁî®‰∫éÂêéÂè∞ËøêÁÆóËÄå‰∏çÈúÄË¶ÅÂ§™Â§ö‰∫§‰∫íÁöÑÂú∫ÊôØSerial Old‰∏≤Ë°åËÄÅÂπ¥‰ª£Ê†áËÆ∞-ÂéãÁº©ÁÆóÊ≥ïÂìçÂ∫îÈÄüÂ∫¶‰ºòÂÖàÂçïCPUÁéØÂ¢É‰∏ãÁöÑClientÊ®°ÂºèParallel OldÂπ∂Ë°åËÄÅÂπ¥‰ª£Ê†áËÆ∞-ÂéãÁº©ÁÆóÊ≥ïÂêûÂêêÈáè‰ºòÂÖàÈÄÇÁî®‰∫éÂêéÂè∞ËøêÁÆóËÄå‰∏çÈúÄË¶ÅÂ§™Â§ö‰∫§‰∫íÁöÑÂú∫ÊôØCMSÂπ∂ÂèëËÄÅÂπ¥‰ª£Ê†áËÆ∞-ÂéãÁº©ÁÆóÊ≥ïÂìçÂ∫îÈÄüÂ∫¶‰ºòÂÖàÈÄÇÁî®‰∫é‰∫íËÅîÁΩëÊàñB/S‰∏öÂä°G1Âπ∂Ë°å‰∏éÂπ∂ÂèëÊñ∞Áîü‰ª£„ÄÅËÄÅÂπ¥‰ª£Â§çÂà∂ÁÆóÊ≥ïÊ†áËÆ∞-ÂéãÁº©ÁÆóÊ≥ïÂìçÂ∫îÈÄüÂ∫¶‰ºòÂÖàÈù¢ÂêëÊúçÂä°Á´ØÂ∫îÁî®Êñ∞ÂûÉÂúæÂõûÊî∂Âô®‰ªãÁªçEpsilonÂõûÊî∂Âô®Áï•üê∂ShenandoahÂõûÊî∂Âô®Áï•üê∂ZGCÂõûÊî∂Âô®Áï•üê∂http://www.atguigu.com/download_detail.shtml?v=279 Â≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂ≠óÁ¨¶‰∏≤ËØ¶Ëß£]]></title>
    <url>%2FJava%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%AF%A6%E8%A7%A3.html</url>
    <content type="text"><![CDATA[StringÂü∫Êú¨ÁâπÊÄßStringÂ≠óÁ¨¶‰∏≤‰ΩøÁî®‰∏ÄÂØπ&quot;&quot;Ë°®Á§∫ÔºõStringÁ±ª‰∏∫finalÁöÑÔºå‰∏çÂèØË¢´ÁªßÊâøÔºõStringÂÆûÁé∞‰∫ÜSerializableÊé•Âè£ÔºåÂèØÂ∫èÂàóÂåñÔºõÂÆûÁé∞‰∫ÜComparableÊé•Âè£ÔºåË°®Á§∫ÂèØÊØîËæÉÔºõJDK8Âèä‰πãÂâçÔºåStringÂÜÖÈÉ®‰ΩøÁî®char[]Â≠òÂÇ®Â≠óÁ¨¶‰∏≤Êï∞ÊçÆÔºõJDK9‰πãÂêé‰ΩøÁî®byte[]ÔºõÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠‰∏ç‰ºöÂ≠òÂÇ®Áõ∏ÂêåÂÜÖÂÆπÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇÂõ†‰∏∫StringÊòØfinalÁöÑÔºåÊâÄ‰ª•ÂÆÉÊòØ‰∏çÂèØÂèòÁöÑÔºåStringÁöÑ‰∏çÂèØÂèòÊÄß‰ΩìÁé∞Âú®ÔºöÂΩìÂ≠óÁ¨¶‰∏≤ÈáçÊñ∞ËµãÂÄº„ÄÅÊãºÊé•Êìç‰ΩúÂíåË∞ÉÁî®StringÁöÑreplace()ÊñπÊ≥ï‰øÆÊîπÂà∂ÂÆöÂ≠óÁ¨¶Êó∂ÔºåÈÉΩÈúÄË¶ÅÈáçÊñ∞ÊåáÂÆöÂÜÖÂ≠òÂå∫ÂüüËµãÂÄºÔºå‰∏çËÉΩ‰ΩøÁî®ÂéüÊúâÁöÑvalueËøõË°åËµãÂÄº„ÄÇÊØîÂ¶ÇÔºö1234567891011121314public class StringTest &#123; public static void main(String[] args) &#123; String a = "hello"; String b = "hello"; b += " world"; System.out.println(a); // hello System.out.println(b); // hello world String c = "test"; String d = c.replaceFirst("t", "b"); System.out.println(c); // test System.out.println(d); // best &#125;&#125;ÈÄöËøáÂ≠óÈù¢ÈáèÁöÑÊñπÂºèÔºàÂå∫Âà´‰∫énewÔºâÁªô‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËµãÂÄºÔºåÊ≠§Êó∂ÁöÑÂ≠óÁ¨¶‰∏≤ÂÄºÂ£∞ÊòéÂú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Ôºö1234567public class StringTest &#123; public static void main(String[] args) &#123; String a = "hello"; String b = "hello"; System.out.println(a == b); // true &#125;&#125;aÂíåbÈÉΩÊåáÂêëÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÂîØ‰∏Ä‰∏Ä‰ªΩhelloÔºàÂõ†‰∏∫Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠‰∏ç‰ºöÂ≠òÂÇ®Áõ∏ÂêåÂÜÖÂÆπÁöÑÂ≠óÁ¨¶‰∏≤ÔºâÔºåÂèØ‰ª•‰ΩøÁî®debugËØÅÊòéÔºöÂèØ‰ª•ÁúãÂà∞Ôºå‰ª£Á†ÅËøòÊú™ÊâßË°åString a = &quot;hello&quot;Êó∂ÔºåÂ†ÜÂÜÖÂ≠ò‰∏≠StringÁöÑ‰∏™Êï∞‰∏∫1227ÔºõÊâßË°åÂÆåString a = &quot;hello&quot;Êó∂ÔºåÂ†ÜÂÜÖÂ≠ò‰∏≠StringÁöÑ‰∏™Êï∞‰∏∫1228ÔºõÊâßË°åÂÆåString b = &quot;hello&quot;Êó∂ÔºåÂ†ÜÂÜÖÂ≠ò‰∏≠StringÁöÑ‰∏™Êï∞ËøòÊòØ‰∏∫1228„ÄÇÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†ÔºàStringTableÔºâÊòØ‰∏Ä‰∏™Âõ∫ÂÆöÂ§ßÂ∞èÁöÑHashtableÔºåÂèØ‰ª•‰ΩøÁî®-XX:StringTableSizeËÆæÁΩÆÈïøÂ∫¶Ôºöjdk6Êó∂ÔºåStringTableÁöÑÈïøÂ∫¶ÊòØÂõ∫ÂÆöÁöÑÔºå‰∏∫1009„ÄÇËøô‰∏™ÂÄº‰∏çÊòØÂæàÂ§ßÔºåÊâÄ‰ª•ÂΩìÊ±†‰∏≠StringËøáÂ§öÊó∂Ôºå‰ºöÈÄ†ÊàêHashÂÜ≤Á™ÅÔºåÂØºËá¥ÈìæË°®ÂèòÈïøÔºåÊÄßËÉΩ‰∏ãÈôçÔºõjdk7Êó∂ÔºåStringTableÁöÑÈªòËÆ§ÈïøÂ∫¶ÊòØ60013Ôºõjdk8Êó∂Ôºå1009ÊòØÂèØËÆæÁΩÆÁöÑÊúÄÂ∞èÂÄº„ÄÇStringÂÜÖÂ≠òÂàÜÈÖçÂú®jdk6Âèä‰πãÂâçÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†Â≠òÊîæÂú®Ê∞∏‰πÖ‰ª£ÔºàÊñπÊ≥ïÂå∫ÔºâÔºõjdk7ÂºÄÂßãËá≥‰ªäÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†Â≠òÊîæÂú®Â†ÜÂÜÖÂ≠ò‰∏≠„ÄÇÊØîÂ¶ÇÔºö12345678910public class StringTest &#123; public static void main(String[] args) &#123; Set&lt;String&gt; set = new HashSet&lt;&gt;(); int i = 0; while (true) &#123; // internÊñπÊ≥ïÂ∞ÜÂ≠óÁ¨¶‰∏≤Â≠òÊîæÂà∞Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Ôºå‰∏ãÈù¢ËØ¶ÁªÜ‰ªãÁªç set.add(String.valueOf(i++).intern()); &#125; &#125;&#125;Ëøô‰∏™‰æãÂ≠êÂú®jdk6‰∏≠ÔºåËÆæÁΩÆÂèÇÊï∞Ôºö-XX:PermSize=6m -XX:MaxPermSize=6m -Xms6m -Xmx6mÔºåËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö123Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: PermGen space at java.lang.String.intern(Native Method) at cc.mrbird.jvm.learn.StringTest.main(StringTest.java:11)ËØÅÊòé‰∫Üjdk6‰∏≠ÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†Â≠òÊîæÂú®Ê∞∏‰πÖ‰ª£„ÄÇÂú®jdk8‰∏≠ÔºåËÆæÁΩÆÂèÇÊï∞Ôºö-XX:MetaspaceSize=6m -XX:MaxMetaspaceSize=10m -Xms6m -Xmx6mÔºåËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö123456Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space at java.util.HashMap.resize(HashMap.java:704) at java.util.HashMap.putVal(HashMap.java:663) at java.util.HashMap.put(HashMap.java:612) at java.util.HashSet.add(HashSet.java:220) at cc.mrbird.jvm.learn.StringTest.main(StringTest.java:11)ËØÅÊòé‰∫Üjdk8‰∏≠ÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†Â≠òÊîæÂú®Â†Ü‰∏≠„ÄÇStringÊãºÊé•Êìç‰ΩúÂ≠óÁ¨¶‰∏≤ÊãºÊé•Êìç‰Ωú‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ã‰∏§ÁßçÔºöÂ∏∏Èáè‰∏éÂ∏∏ÈáèÁöÑÊãºÊé•ÁªìÊûúÊîæÂú®Â∏∏ÈáèÊ±†ÔºåÁºñËØëÊúü‰ºöËøõË°å‰ºòÂåñÔºõÂè™Ë¶ÅÊãºÊé•‰∏ÄÊñπÊúâ‰∏Ä‰∏™ÊòØÂèòÈáèÔºåÁªìÊûúÂ∞±Âú®Â†Ü‰∏≠ÔºåÂÜÖÈÉ®‰ΩøÁî®StringBuilderÊãºÊé•„ÄÇ‰∏æÂá†‰∏™Â≠óÁ¨¶‰∏≤ÊãºÊé•ÁöÑ‰æãÂ≠êÔºöÂ≠óÈù¢ÈáèÊãºÊé•ÔºàÂ±û‰∫éÂ∏∏ÈáèÊãºÊé•ÔºâÔºö1234567public class StringTest &#123; public static void main(String[] args) &#123; String a = "h" + "e" + "l" + "l" + "o"; String b = "hello"; System.out.println(a == b); // true &#125;&#125;‰ΩøÁî®IDEAÊü•ÁúãÂØπÂ∫îÁöÑclassÊñá‰ª∂ÂèØ‰ª•Âèë‰∏ãÔºåÁºñËØëÂô®Â∞ÜÂÖ∂‰ºòÂåñ‰∏∫‰∫ÜÂ¶Ç‰∏ãÁªìÊûúÔºöÂèòÈáèaÁöÑÂ£∞ÊòéÁºñËØëÂô®‰ºòÂåñ‰∏∫‰∫ÜString a = &quot;hello&quot;ÔºåÊâÄ‰ª•a„ÄÅbÊåáÂêëÁöÑÊòØÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÁöÑÂêå‰∏Ä‰∏™ÂØπË±°ÔºåÊïÖa == b‰∏∫true„ÄÇÊãºÊé•ÊñπÂåÖÂê´ÂèòÈáèÔºö12345678910111213public class StringTest &#123; public static void main(String[] args) &#123; String a = "javascript"; String b = "java"; String c = "script"; String d = b + "script"; String e = "java" + c; String f = b + c; System.out.println(a == d); // false System.out.println(a == e); // false System.out.println(a == f); // false &#125;&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÂè™Ë¶ÅÂ≠óÁ¨¶‰∏≤ÊãºÊé•‰∏ÄÊñπÂåÖÂê´ÂèòÈáèÔºåÁªìÊûúÈÉΩÊòØÂú®Â†Ü‰∏≠Ôºõa‰∏∫Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÁöÑjavascriptÁöÑÂºïÁî®Ôºåd‰∏∫Â†Ü‰∏≠value‰∏∫javascriptÁöÑStringÂØπË±°ÁöÑÂºïÁî®ÔºåÊâÄ‰ª•a == d‰∏∫falseÔºå‰∏ãÈù¢‰ª•Ê≠§Á±ªÊé®„ÄÇÈÄöËøáÂ≠óËäÇÁ†ÅÊåá‰ª§‰πüÂèØ‰ª•ËØÅÊòéÔºåString d = b + &quot;script&quot;ÂÜÖÈÉ®‰ΩøÁî®StringBuilderÊãºÊé•ÔºöÊâÄ‰ª•String d = b + &quot;script&quot;Áõ∏ÂΩì‰∫énew StringBuilder().append(b).append(&quot;script&quot;).toString()„ÄÇÊü•ÁúãStringBuilderÁöÑtoString()ÊñπÊ≥ïÔºöÊâÄ‰ª•dÂÆûÈôÖÊåáÂêëÁöÑÊòØStringBuilderÁöÑtoString()ÊñπÊ≥ïÈáånew String()ÂàõÂª∫ÁöÑÂØπË±°Âú∞ÂùÄ„ÄÇÂÜçÊù•Áúã‰∏™ÊãºÊé•‰æãÂ≠êÔºö12345678public class StringTest &#123; public static void main(String[] args) &#123; String a = "javascript"; final String b = "java"; String c = b + "script"; System.out.println(a == c); // true &#125;&#125;Âõ†‰∏∫bÊòØfinalÁöÑÔºå‰∏çÊòØ‚ÄúÂèòÈáè‚ÄùÔºåÊâÄ‰ª•ËøôÁßçÊÉÖÂÜµÂÆûÈôÖ‰∏ä‰πüÊòØÂ∏∏Èáè‰∏éÂ∏∏ÈáèÁöÑÊãºÊé•ÔºåÁºñËØëÂô®‰ºöËøõË°å‰ºòÂåñÔºöStringBuilder‰∏éStringÊãºÊé•ÊÄßËÉΩÂØπÊØîÂΩìÊ∂âÂèäÂ§öÊ¨°Â≠óÁ¨¶‰∏≤ÊãºÊé•Êìç‰ΩúÊó∂ÔºåÊó†ËÆ∫ÊòØÁºñÁ®ãËßÑËåÉËøòÊòØIDEAÈÉΩ‰ºöÊèêÁ§∫Êàë‰ª¨‰ΩøÁî®StringBuilderËÄåÈùûÊâãÂä®‰ΩøÁî®+ÊãºÊé•ÔºåÂõ†‰∏∫ÂâçËÄÖ‰∏ç‰ªÖÊÄßËÉΩÊõ¥‰ºòËÄå‰∏îÊõ¥ÁúÅÂÜÖÂ≠ò„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö123456789101112public class StringTest &#123; public static void main(String[] args) throws InterruptedException &#123; long start = System.currentTimeMillis(); int capacity = 100000; String a = ""; for (int i = 0; i &lt; capacity; i++) &#123; a = a + "a"; &#125; System.out.println("ËÄóÊó∂Ôºö" + (System.currentTimeMillis() - start) + " ms"); // ËÄóÊó∂Ôºö3866 ms TimeUnit.SECONDS.sleep(100); &#125;&#125;‰ΩøÁî®JProfilerÊü•ÁúãÂÜÖÂ≠òÂç†Áî®ÊÉÖÂÜµÔºöÈÄöËøáÂâçÈù¢ÁöÑÂÜÖÂÆπÊàë‰ª¨Áü•ÈÅìÔºåÂú®Âæ™ÁéØ‰Ωì‰∏≠ÔºåÊàë‰ª¨ÂÆûÈôÖÊòØÂàõÂª∫‰∫Ü100000‰∏™StringBuilderÂØπË±°Âíå100000‰∏™StringÂØπË±°„ÄÇÁé∞Âú®Êàë‰ª¨Â∞ÜÊãºÊé•Êìç‰ΩúÊîπ‰∏∫StringBuilderÔºö123456789101112public class StringTest &#123; public static void main(String[] args) throws InterruptedException &#123; long start = System.currentTimeMillis(); int capacity = 100000; StringBuilder a = new StringBuilder(); for (int i = 0; i &lt; capacity; i++) &#123; a.append("a"); &#125; System.out.println("ËÄóÊó∂Ôºö" + (System.currentTimeMillis() - start) + " ms"); //ËÄóÊó∂Ôºö7 ms TimeUnit.SECONDS.sleep(100); &#125;&#125;ÂèØ‰ª•ÁúãÂà∞Êó†ËÆ∫ÊòØÂÜÖÂ≠òÂç†Áî®ËøòÊòØËÄóÊó∂Ôºå‰ΩøÁî®StringBuilderËøú‰ºò‰∫éStringÊâãÂä®ÊãºÊé•ÔºåËøôÊòØÂõ†‰∏∫‰ΩøÁî®StringBuilderÁöÑÊñπÂºèËá™ÂßãËá≥ÁªàÂè™ÂàõÂª∫Ëøá‰∏Ä‰∏™StringBuilderÂØπË±°„ÄÇÊü•ÁúãStringBuilderÁöÑÁ©∫ÂèÇÊûÑÈÄ†Âô®ÔºöÂÜÖÈÉ®Ë∞ÉÁî®‰∫ÜÁà∂Á±ªÁöÑÊúâÂèÇÊûÑÈÄ†Âô®ÔºöÊâÄ‰ª•ÂΩìÊàë‰ª¨Ë∞ÉÁî®new StringBuilder()Êó∂ÔºåÂÆûÈôÖ‰∏äÂàõÂª∫ÁöÑÊòØ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫16ÁöÑcharÂûãÊï∞ÁªÑ„ÄÇÊü•ÁúãStringBuilderÁöÑappendÊñπÊ≥ïÔºöÊü•ÁúãÁà∂Á±ªÁöÑappendÊñπÊ≥ïÔºöÂèØ‰ª•ÁúãÂà∞ÂÜÖÈÉ®Ê∂âÂèäÂà∞Êï∞ÁªÑÊâ©ÂÆπÁöÑÊìç‰ΩúÔºåÊâÄ‰ª•ÂΩìÊàë‰ª¨‰ΩøÁî®StringBuilderÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúËÉΩÂ§üÁ°ÆÂÆöÊúÄÁªàÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÂàõÂª∫StringBuilderÁöÑÊó∂ÂÄô‰ΩøÁî®ÊúâÂèÇÊûÑÈÄ†Âô®Êù•ÊåáÂÆöÂÆπÈáèÔºåËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçÂêéÊúüÁöÑÊâ©ÂÆπËÄóÊó∂„ÄÇÊÄªÁªìÔºöÂ§öÊ¨°Â≠óÁ¨¶‰∏≤ÊãºÊé•Êìç‰ΩúÊé®Ëçê‰ΩøÁî®StringBuilderÔºàÁ∫øÁ®ãÂÆâÂÖ®‰ΩøÁî®StringBufferÔºâÔºåÊúÄÂ•ΩÊåáÂÆöÂÆπÈáè„ÄÇintern()ÊñπÊ≥ïintern()ÊñπÊ≥ïÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÂú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Ê∑ªÂä†ÊåáÂÆöÂ≠óÁ¨¶‰∏≤„ÄÇÂú®‰∏çÂêåÁâàÊú¨jdk‰∏≠Êúâ‰∏çÂêåÁöÑË°®Áé∞ÔºåÊÄªÁªìÂ¶Ç‰∏ãÔºöÂú®jdk6‰∏≠ÔºåÂ∞ÜÊåáÂÆöÂ≠óÁ¨¶‰∏≤ÂØπË±°Â∞ùËØïÊîæÂÖ•Âà∞Â∏∏ÈáèÊ±†„ÄÇÂ¶ÇÊûúÂ∏∏ÈáèÊ±†‰∏≠ÊúâÔºåÂàô‰∏ç‰ºöÊîæÂÖ•ÔºåËøîÂõûÂ∏∏ÈáèÊ±†‰∏≠Â∑≤ÊúâÁöÑÂØπË±°ÁöÑÂú∞ÂùÄÔºõÂ¶ÇÊûúÂ∏∏ÈáèÊ±†‰∏≠Ê≤°ÊúâÔºåÂàô‰ºöÂ∞ÜÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÂØπË±°Â§çÂà∂‰∏Ä‰ªΩÔºåÁÑ∂ÂêéÂ∞ÜÂ§çÂà∂ÁöÑÊîæÂÖ•Â∏∏ÈáèÊ±†ÔºåÂπ∂ËøîÂõûÂ∏∏ÈáèÊ±†‰∏≠ËØ•ÂØπË±°ÁöÑÂú∞ÂùÄ„ÄÇÂú®jdk7Âèä‰πãÂêéÁâàÊú¨ÔºåÂ∞ÜÊåáÂÆöÂ≠óÁ¨¶‰∏≤ÂØπË±°Â∞ùËØïÊîæÂÖ•Âà∞Â∏∏ÈáèÊ±†„ÄÇÂ¶ÇÊûúÂ∏∏ÈáèÊ±†‰∏≠ÊúâÔºåÂàô‰∏ç‰ºöÊîæÂÖ•ÔºåËøîÂõûÂ∏∏ÈáèÊ±†‰∏≠Â∑≤ÊúâÁöÑÂØπË±°Âú∞ÂùÄÔºõÂ¶ÇÊûúÂ∏∏ÈáèÊ±†‰∏≠Ê≤°ÊúâÔºåÂàô‰ºöÊääÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÂØπË±°ÁöÑÂºïÁî®Âú∞ÂùÄÂ§çÂà∂‰∏Ä‰ªΩÊîæÂÖ•Â∏∏ÈáèÊ±†‰∏≠ÔºåÂπ∂ËøîÂõûÂ∏∏ÈáèÊ±†‰∏≠ËØ•ÂºïÁî®Âú∞ÂùÄ„ÄÇÂèØ‰ª•ÁúãÂà∞Âú®‰∏çÂêåÁâàÊú¨‰∏≠Ôºåintern()ÊñπÊ≥ïÊúÄ‰∏ªË¶ÅÁöÑÂå∫Âà´Âú®‰∫éÂΩìÂ∏∏ÈáèÊ±†‰∏≠Ê≤°ÊúâÊåáÂÆöÂØπË±°Êó∂ÁöÑÊìç‰Ωú„ÄÇÂú®‰∏æ‰æãintern()ÊñπÊ≥ïÁöÑ‰ΩøÁî®ÂâçÔºåÊàë‰ª¨ÂÖàÁúãÁúã‰∏ãÈù¢Ëøô‰∏§‰∏™‰æãÂ≠êÔºö‰æã‰∏ÄÔºö12345public class StringTest &#123; public static void main(String[] args) &#123; String a = new String("hello"); &#125;&#125;‰∏äÈù¢mainÊñπÊ≥ï‰∏≠ÔºåÂàõÂª∫‰∫ÜÂá†‰∏™ÂØπË±°ÔºüÊü•ÁúãÂ≠óËäÇÁ†ÅÔºöÊâÄ‰ª•‰∏äÈù¢ÂÆûÈôÖ‰∏äÊòØÂàõÂª∫‰∫Ü‰∏§‰∏™ÂØπË±°Ôºå‰∏Ä‰∏™ÊòØÂ†Ü‰∏≠ÈÄöËøánewÂÖ≥ÈîÆÂ≠óÂàõÂª∫ÁöÑStringÂØπË±°Ôºõ‰∏Ä‰∏™ÊòØÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÁöÑhello„ÄÇ‰æã‰∫åÔºö12345public class StringTest &#123; public static void main(String[] args) &#123; String a = new String("hello") + new String("world"); &#125;&#125;‰∏äÈù¢mainÊñπÊ≥ï‰∏≠ÔºåÂàõÂª∫‰∫ÜÂá†‰∏™ÂØπË±°ÔºüÈÄöËøá‰∏äÈù¢Êàë‰ª¨Áü•ÈÅìnew String(&quot;hello&quot;)Âíånew String(&quot;world&quot;)Êìç‰ΩúÂàõÂª∫‰∫ÜÂõõ‰∏™ÂØπË±°ÔºåÂπ∂‰∏îÂèòÈáèÊãºÊé•ÂÜÖÈÉ®ÂÆûÈôÖÁî®ÁöÑÊòØStringBuilderÔºåÊâÄ‰ª•‰∏äÈù¢ËøòÈ¢ùÂ§ñÂàõÂª∫‰∫Ü‰∏Ä‰∏™StringBuilderÂØπË±°„ÄÇ‰ΩøÁî®StringBuilderÁöÑappendÊñπÊ≥ïÂêéÔºåÊúÄÁªàË∞ÉÁî®‰∫ÜStringBuilderÁöÑtoStringÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÂÜÖÈÉ®ÂèàÂàõÂª∫‰∫Ü‰∏Ä‰∏™StringÂØπË±°„ÄÇÊâÄ‰ª•‰∏äÈù¢mainÊñπÊ≥ï‰∏≠ÂÆûÈôÖÂàõÂª∫‰∫Ü6‰∏™ÂØπË±°Ôºönew StringBuilder()Ôºõnew String(‚Äúhello‚Äù)ÔºõÂ∏∏ÈáèÊ±†‰∏≠ÁöÑ‚Äùhello‚ÄùÔºõnew String(‚Äúworld‚Äù)ÔºõÂ∏∏ÈáèÊ±†‰∏≠ÁöÑ‚Äùworld‚ÄùÔºõtoStringÊñπÊ≥ïÂÜÖÈÉ®ÂàõÂª∫ÁöÑnew String(‚Äúhelloworld‚Äù)„ÄÇÊü•Áúã‰∏äÈù¢‰ª£Á†ÅÁöÑÂ≠óËäÇÁ†Å‰πüÂèØ‰ª•ËØÅÊòéÔºöÊ≠§Â§ñÈúÄË¶ÅÊòéÁ°ÆÁöÑ‰∏ÄÁÇπÊòØÔºö‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÂπ∂Ê≤°ÊúâÂú®Â∏∏ÈáèÊ±†‰∏≠ÂàõÂª∫‚Äùhelloworld‚ÄùÔºÅÔºÅÔºÅÊü•ÁúãStringBuilderÁöÑtoStringÊñπÊ≥ïÁöÑÂ≠óËäÇÁ†ÅÔºöÊúâ‰∫ÜËøô‰∏§‰∏™‰æãÂ≠êÁöÑÂÇ®Â§áÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•‰∏æÂá†‰∏™intern()ÊñπÊ≥ïÁöÑ‰æãÂ≠ê‰∫ÜÔºö‰æã‰∏ÄÔºö12345678public class StringTest &#123; public static void main(String[] args) &#123; String a = new String("hello"); a.intern(); String b = "hello"; System.out.println(a == b); &#125;&#125;‰∏äÈù¢‰æãÂ≠êÊó†ËÆ∫ÊòØjdk6ËøòÊòØjdk7Âèä‰ª•ÂêéÁöÑÁâàÊú¨ÈÉΩËøîÂõûfalse„ÄÇString a = new String(&quot;hello&quot;);‰ª£Á†ÅÊâßË°åÂêéÔºåÂ†Ü‰∏≠ÈÄöËøánewÂàõÂª∫‰∫Ü‰∏Ä‰∏™String(‚Äúhello‚Äù)ÂØπË±°ÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Â≠òÂú®‚Äùhello‚Äù„ÄÇÂΩìÊâßË°åa.intern()‰ª£Á†ÅÊó∂ÔºåÁî±‰∫éÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Â∑≤ÁªèÂåÖÂê´‚Äùhello‚ÄùÔºåÊâÄ‰ª•Áõ¥Êé•ËøîÂõû‚Äùhello‚ÄùÁöÑÂú∞ÂùÄ„ÄÇ‰æã‰∫åÔºö12345678public class StringTest &#123; public static void main(String[] args) &#123; String c = new String("java") + new String("script"); c.intern(); String d = "javascript"; System.out.println(c == d); &#125;&#125;‰∏äÈù¢‰æãÂ≠êÔºåÂú®jdk6‰∏≠ËøîÂõûfalseÔºåjdk7Âèä‰πãÂêéËøîÂõûtrue„ÄÇString c = new String(&quot;java&quot;) + new String(&quot;script&quot;)‰ª£Á†ÅÊâßË°åÂêéÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Âπ∂Ê≤°Êúâ‚Äùjavascript‚Äù„ÄÇÈÄöËøáÂâçÈù¢ÁöÑ‰ªãÁªçÊàë‰ª¨Áü•ÈÅìÔºåÂΩìÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Ê≤°ÊúâÁõÆÊ†áÂ≠óÁ¨¶‰∏≤Êó∂Ôºå‰∏çÂêåÁâàÊú¨jdkË∞ÉÁî®intern()ÊñπÊ≥ïÂÜÖÈÉ®Êìç‰ΩúÁªÜËäÇ‰∏çÂêåÔºöjdk6Êó∂ÔºöÂ∏∏ÈáèÊ±†‰∏≠Ê≤°Êúâ‚Äùjavascript‚ÄùÔºåÂàô‰ºöÂ∞ÜÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÂØπË±°Â§çÂà∂‰∏Ä‰ªΩÔºåÁÑ∂ÂêéÂ∞ÜÂ§çÂà∂ÁöÑÊîæÂÖ•Â∏∏ÈáèÊ±†ÔºåÂπ∂ËøîÂõûÂ∏∏ÈáèÊ±†‰∏≠ËØ•ÂØπË±°ÁöÑÂú∞ÂùÄÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöcÂíådÊåáÂêëÁöÑÂú∞ÂùÄ‰∏çÂêåÔºåÊâÄ‰ª•ËøîÂõûfalse„ÄÇjdk7Âèä‰πãÂêéÔºöÂ∏∏ÈáèÊ±†‰∏≠Ê≤°Êúâ‚Äùjavascript‚ÄùÔºåÂàô‰ºöÊääÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÂØπË±°ÁöÑÂºïÁî®Âú∞ÂùÄÂ§çÂà∂‰∏Ä‰ªΩÊîæÂÖ•Â∏∏ÈáèÊ±†‰∏≠ÔºåÂπ∂ËøîÂõûÂ∏∏ÈáèÊ±†‰∏≠ËØ•ÂºïÁî®Âú∞ÂùÄÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöcÂíådÊåáÂêëÁöÑÂú∞ÂùÄÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•ËøîÂõûtrue„ÄÇ‰∏ãÈù¢ÂÜç‰∏æÂá†‰∏™‰æãÂ≠ê‰æõÂ§ßÂÆ∂ÊÄùËÄÉü§îÔºö1234567891011public class StringTest &#123; public static void main(String[] args) &#123; String a = new String("java") + new String("script"); String b = "javascript"; a.intern(); System.out.println(a == b); // jdk6Ôºåjdk7ÈÉΩËøîÂõûfalse String c = a.intern(); System.out.println(c == b); // true &#125;&#125;http://www.atguigu.com/download_detail.shtml?v=279 Â≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂØπË±°ÂÆû‰æãÂåñËøáÁ®ã]]></title>
    <url>%2FJava%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B%E5%8C%96%E8%BF%87%E7%A8%8B.html</url>
    <content type="text"><![CDATA[Êú¨ËäÇËÆ∞ÂΩï‰∏ãJavaÂØπË±°ÂÆû‰æãÂåñËøáÁ®ãÁöÑ‰∏Ä‰∫õÁªÜËäÇ„ÄÇÂØπË±°ÂÆû‰æãÂåñÂá†ÁßçÊñπÂºèJavaÁ®ãÂ∫è‰∏≠ÔºåÂàõÂª∫ÂØπË±°‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†ÁßçÊñπÂºèÔºönew ÂÖ≥ÈîÆÂ≠óÂàõÂª∫ÔºõÈÄöËøánewÂÖ≥ÈîÆÂ≠óË∞ÉÁî®Á±ªÊûÑÈÄ†Âô®ÂàõÂª∫ÂØπË±°ÔºõË∞ÉÁî®ÂØπË±°ÁöÑgetXXXInstanceÊñπÊ≥ïÔºàÂçï‰æãÊ®°ÂºèÔºâÔºõXXXBuilder/XXXFactory„ÄÇÂèçÂ∞ÑÔºåClassÁöÑnewInstanceÊñπÊ≥ïÊàñËÄÖConstructorÁöÑnewInstanceÊñπÊ≥ïÔºõ‰ΩøÁî®Á±ªÁöÑcloneÊñπÊ≥ïÔºõ‰ΩøÁî®ÂèçÂ∫èÂàóÂåñÔºõÁ¨¨‰∏âÊñπÂ∫ìObjenesis„ÄÇÂØπË±°ÂàõÂª∫Ê≠•È™§ÂàõÂª∫ÂØπË±°ËøáÁ®ãÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§ÔºöÂà§Êñ≠ÂØπË±°ÂØπÂ∫îÁöÑÁ±ªÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩÔºàÁ±ªÂä†ËΩΩ‰∏â‰∏™Ê≠•È™§ÔºöÂä†ËΩΩ„ÄÅÈìæÊé•ÂíåÂàùÂßãÂåñÔºâÔºõ‰∏∫ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠ò„ÄÇËÆ°ÁÆóÂØπË±°Âç†Áî®Á©∫Èó¥Â§ßÂ∞èÔºåÁÑ∂ÂêéÂú®Â†Ü‰∏≠ÂàíÂàÜ‰∏ÄÂùóÂÜÖÂ≠òÂ≠òÊîæÂØπË±°„ÄÇÂÜÖÂ≠òÂàÜÈÖçÂ≠òÂú®‰ª•‰∏ã‰∏§ÁßçÊÉÖÂÜµÔºöÂÜÖÂ≠òËßÑÊï¥Êó∂Ôºå‰ΩøÁî®ÊåáÈíàÁ¢∞Êíû„ÄÇÊâÄÊúâÁî®ËøáÁöÑÂÜÖÂ≠òÂú®‰∏ÄËæπÔºåÁ©∫Èó≤ÁöÑÂÜÖÂ≠òÂú®Âè¶‰∏ÄËæπÔºå‰∏≠Èó¥ÊîæÁùÄ‰∏Ä‰∏™ÊåáÈíà‰Ωú‰∏∫ÂàÜÁïåÁÇπÁöÑÊåáÁ§∫Âô®ÔºåÂàÜÈÖçÂÜÖÂ≠òÂ∞±‰ªÖ‰ªÖÊòØÊääÊåáÈíàÂæÄÁ©∫Èó≤ÈÇ£‰∏ÄËæπÊå™‰∏ÄÊÆµ‰∏éÂØπË±°Â§ßÂ∞èÁõ∏Á≠âÁöÑË∑ùÁ¶ªÂç≥ÂèØ„ÄÇÂÜÖÂ≠ò‰∏çËßÑÊï¥Êó∂ÔºåËôöÊãüÊú∫ÈúÄË¶ÅÁª¥Êä§‰∏Ä‰∏™ÂàóË°®Ôºå‰ΩøÁî®Á©∫Èó≤ÂàóË°®ÂàÜÈÖç„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ∑≤‰ΩøÁî®ÁöÑÂÜÖÂ≠òÂíåÊú™‰ΩøÁî®ÁöÑÂÜÖÂ≠òÁõ∏‰∫í‰∫§ÈîôÔºåËôöÊãüÊú∫Áª¥Êä§‰∫Ü‰∏Ä‰∏™ÂàóË°®ÔºåËÆ∞ÂΩïÂì™‰∫õÂÜÖÂ≠òÂùóÊòØÂèØÁî®ÁöÑÔºåÂú®ÂàÜÈÖçÁöÑÊó∂ÂÄô‰ªéÂàóË°®‰∏≠ÊâæÂà∞‰∏ÄÂùóË∂≥Â§üÂ§ßÁöÑÁ©∫Èó¥ÂàíÂàÜÁªôÂØπË±°ÂÆû‰æãÔºåÂπ∂Êõ¥Êñ∞Á©∫Èó≤ÂàóË°®„ÄÇÈÄâÊã©Âì™ÁßçÂàÜÈÖçÊñπÂºèÁî±JavaÂ†ÜÂÜÖÂ≠òÊòØÂê¶ËßÑÊï¥ÂÜ≥ÂÆöÔºåËÄåJavaÂ†ÜÂÜÖÂ≠òÊòØÂê¶ËßÑÊï¥ÂèàÂèñÂÜ≥‰∫éÂûÉÂúæÊî∂ÈõÜÂô®ÊòØÂê¶Â∏¶ÊúâÂéãÁº©ÁöÑÂäüËÉΩ„ÄÇÂ§ÑÁêÜÂπ∂ÂèëÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇËôöÊãüÊú∫ÈÄöËøáCASÂíåTLABÊù•Á°Æ‰øùÂπ∂ÂØπË±°ÂàõÂª∫Êó∂ÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºõÂàùÂßãÂåñÂàÜÈÖçÂà∞ÁöÑÁ©∫Èó¥„ÄÇÂÜÖÂ≠òÂàÜÈÖçÂ•ΩÂêéÔºåËôöÊãüÊú∫Â∞ÜÂàÜÈÖçÂà∞ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÈÉΩÂàùÂßãÂåñ‰∏∫Èõ∂ÂÄºÔºàÂç≥ÈªòËÆ§ÂÄºÔºå‰∏çÂåÖÊã¨ÂØπË±°Â§¥Ôºâ„ÄÇËÆæÁΩÆÂØπË±°Â§¥„ÄÇÂ∞ÜÂØπË±°ÁöÑÊâÄÂ±ûÁ±ªÔºàÂç≥Á±ªÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºâ„ÄÅÂØπË±°ÁöÑHashCodeÂíåÂØπË±°ÁöÑGC‰ø°ÊÅØ„ÄÅÈîÅ‰ø°ÊÅØÁ≠âÊï∞ÊçÆÂ≠òÊîæÂú®ÂØπË±°ÁöÑÂØπË±°Â§¥‰∏≠„ÄÇÊâßË°å&lt;init&gt;ÊñπÊ≥ïËøõË°åÂàùÂßãÂåñ„ÄÇ&lt;init&gt;ÊñπÊ≥ïÂåÖÂê´‰∫ÜÂàùÂßãÂåñÊàêÂëòÂèòÈáè„ÄÅÊâßË°åÂÆû‰æãÂåñ‰ª£Á†ÅÂùóÂíåË∞ÉÁî®Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºö1234567891011121314 public class Test &#123; private int a = 111; private int b; private int c; &#123; b = 222; &#125; public Test() &#123; c = 333; &#125;&#125;‰ΩøÁî®jclasslibÊü•ÁúãÂÖ∂&lt;init&gt;methodÔºöÂÜçÊ¨°ËØÅÊòé‰∫Ü&lt;init&gt;ÊñπÊ≥ïÂåÖÂê´‰∫ÜÂàùÂßãÂåñÊàêÂëòÂèòÈáè„ÄÅÊâßË°åÂÆû‰æãÂåñ‰ª£Á†ÅÂùóÂíåË∞ÉÁî®Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÂØπË±°ÂÜÖÂ≠òÂ∏ÉÂ±ÄÂ†ÜÁ©∫Èó¥ÈáåÁöÑÂØπË±°ÂÜÖÈÉ®ÂåÖÂê´‰∫Ü‰ª•‰∏ãÂá†‰∏™ÁªìÊûÑÔºöÂØπË±°Â§¥„ÄÇÂØπË±°Â§¥ÂåÖÂê´‰∏§ÈÉ®ÂàÜÊï∞ÊçÆÔºöËøêË°åÊó∂ÂÖÉÊï∞ÊçÆÔºöHashCode„ÄÅÂØπË±°Âπ¥ÈæÑ„ÄÅÈîÅÁä∂ÊÄÅÊ†áÂøó„ÄÅÁ∫øÁ®ãÊåÅÊúâÁöÑÈîÅÁ≠â‰ø°ÊÅØÔºõÁ±ªÂûãÊåáÈíàÔºöÊåáÂêëÁ±ªÂÖÉÊï∞ÊçÆÔºåÁ°ÆÂÆöÂØπË±°ÊâÄÂ±ûÁöÑÁ±ªÂûã„ÄÇÂ¶ÇÊûúÂØπË±°ÊòØÊï∞ÁªÑÔºåÂàôËøòÈúÄËÆ∞ÂΩïÊï∞ÁªÑÁöÑÈïøÂ∫¶„ÄÇÂÆû‰æãÊï∞ÊçÆ„ÄÇÂç≥Á±ª‰∏≠ÂÆö‰πâÁöÑÂêÑÁßçÁ±ªÂûãÂ±ûÊÄßÔºàÂåÖÊã¨‰ªéÁà∂Á±ªÁªßÊâø‰∏ãÊù•ÁöÑÂíåÊú¨Ë∫´ÂÆö‰πâÁöÑÔºâ„ÄÇÂÆû‰æãÊï∞ÊçÆÂ≠òÊîæÂÖ∑Êúâ‰∏ÄÂÆöËßÑÂàôÔºöÁõ∏ÂêåÂÆΩÂ∫¶ÁöÑÂ≠óÊÆµÊÄªÊòØË¢´ÂàÜÈÖçÂú®‰∏ÄËµ∑ÔºõÁà∂Á±ª‰∏≠ÂÆö‰πâÁöÑÂèòÈáè‰ºöÂá∫Áé∞Âú®Â≠êÁ±ª‰πãÂâç„ÄÇÂØπÈΩêÂ°´ÂÖÖÔºö‰∏çÊòØÂøÖÈ°ªÁöÑÔºå‰πüÊ≤°ÊúâÁâπÊÆäÂê´‰πâÔºåËµ∑Âà∞Âç†‰ΩçÁ¨¶ÁöÑ‰ΩúÁî®„ÄÇ‰∏ãÈù¢ÈÄöËøá‰∏Ä‰∏™‰æãÂ≠êÊù•ÊºîÁ§∫ÂØπË±°ÁöÑÂÜÖÂ≠òÂ∏ÉÂ±Ä„ÄÇÁé∞ÊúâÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234567891011121314151617181920212223public class Customer &#123; int id = 100; String name; Account account; &#123; name = "Â§ßÂÆ¢Êà∑"; &#125; public Customer() &#123; account = new Account(); &#125; public static void main(String[] args) &#123; Customer customer = new Customer(); &#125;&#125;class Account &#123;&#125;mainÊñπÊ≥ïÂàõÂª∫CustomerÂØπË±°ÂêéÔºåÁõ∏ÂÖ≥ÂÜÖÂ≠òÂ∏ÉÂ±ÄÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºöhttp://www.atguigu.com/download_detail.shtml?v=279 Â≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÊñπÊ≥ïË∞ÉÁî®ÁªÜËäÇ]]></title>
    <url>%2FJava%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E7%BB%86%E8%8A%82.html</url>
    <content type="text"><![CDATA[JVM‰∏≠ÔºåÁ±ªÂä†ËΩΩËøáÁ®ãÈìæÊé•Èò∂ÊÆµÁöÑËß£ÊûêÊ≠•È™§ÂåÖÂê´Â∞ÜÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Ë∞ÉÁî®ÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®ËøáÁ®ãÔºåËØ•ËøáÁ®ã‰∏éÊñπÊ≥ïÁöÑÁªëÂÆöÊú∫Âà∂ÊúâÂÖ≥ÔºåËøôËäÇËÆ∞ÂΩï‰∏ãJavaÊñπÊ≥ïË∞ÉÁî®ÁöÑ‰∏Ä‰∫õÁªÜËäÇ„ÄÇÊñπÊ≥ïÁªëÂÆöÊú∫Âà∂Âú®ËÅäÊñπÊ≥ïÁªëÂÆöÊú∫Âà∂‰πãÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂÖàÁü•ÈÅì‰ªÄ‰πàÊòØÈùôÊÄÅÈìæÊé•ÂíåÂä®ÊÄÅÈìæÊé•„ÄÇÈùôÊÄÅÈìæÊé•ÔºöÁ±ªÂä†ËΩΩËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúË¢´Ë∞ÉÁî®ÁöÑÁõÆÊ†áÊñπÊ≥ïÂú®ÁºñËØëÊúüÂ∞±ÂèØ‰ª•ÂîØ‰∏ÄÁ°ÆÂÆöÔºåËøêË°åÊúüÈó¥‰∏ç‰ºöÂèëÁîüÊîπÂèòÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÂ∞ÜË∞ÉÁî®ÊñπÊ≥ïÁöÑÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÁöÑËøáÁ®ãÁß∞‰πã‰∏∫ÈùôÊÄÅÈìæÊé•„ÄÇÂä®ÊÄÅÈìæÊé•ÔºöÂíåÈùôÊÄÅÈìæÊé•Áõ∏ÂèçÔºåÂ¶ÇÊûúË¢´Ë∞ÉÁî®ÁöÑÁõÆÊ†áÊñπÊ≥ïÂú®ÁºñËØëÊúüÊó†Ê≥ïÁ°ÆÂÆö‰∏ãÊù•ÔºåÂè™ËÉΩÂ§üÂú®ËøêË°åÊúüÈó¥Â∞ÜË∞ÉÁî®ÊñπÊ≥ïÁöÑÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÔºåËøôÁßçÊÉÖÂÜµË¢´Áß∞‰∏∫Âä®ÊÄÅÈìæÊé•„ÄÇÈùôÊÄÅÈìæÊé•ÂíåÂä®ÊÄÅÈìæÊé•ÂØπÂ∫îÁöÑÊñπÊ≥ïÁªëÂÆöÊú∫Âà∂ÂàÜÂà´‰∏∫Êó©ÊúüÁªëÂÆöÂíåÊôöÊúüÁªëÂÆö„ÄÇÁªëÂÆöÊòØ‰∏Ä‰∏™Â≠óÊÆµ„ÄÅÊñπÊ≥ïÊàñËÄÖÁ±ªÂú®Á¨¶Âè∑ÂºïÁî®Ë¢´ÊõøÊç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÁöÑËøáÁ®ãÔºå‰ªÖ‰ªÖÂèëÁîü‰∏ÄÊ¨°„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÊñ∞Âª∫TESTÁ±ªÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class Test &#123; public void showBrand(Car car) &#123; car.brand(); &#125; public void showPower(Engine engine) &#123; engine.power(); &#125;&#125;interface Car &#123; void brand();&#125;class Engine &#123; void power() &#123; System.out.println("0È©¨Âäõ"); &#125;&#125;class Volvo extends Engine implements Car &#123; @Override public void brand() &#123; System.out.println("Volvo V60 T5"); &#125; @Override void power() &#123; System.out.println("254È©¨Âäõ"); &#125;&#125;class Benz extends Engine implements Car &#123; @Override public void brand() &#123; System.out.println("C 200L"); &#125; @Override void power() &#123; System.out.println("156È©¨Âäõ"); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÂåÖÂê´‰∏Ä‰∏™CarÊé•Âè£ÂíåEngineÁ±ªÔºõVolvoÁ±ªÂíåBenzÁ±ªÂàÜÂà´ÈÉΩÁªßÊâø‰∫ÜEngineÁ±ªÂÆûÁé∞‰∫ÜCarÊé•Âè£ÔºåÁÑ∂ÂêéÈÉΩÈáçÂÜô‰∫ÜCarÊé•Âè£ÁöÑbrandÊñπÊ≥ïÂíåEngineÁà∂Á±ªÁöÑpowerÊñπÊ≥ï„ÄÇTestÁ±ªÁöÑshowBrandÊñπÊ≥ïÂèÇÊï∞‰∏∫CarÊé•Âè£ÔºåshowPowerÊñπÊ≥ïÁöÑÂèÇÊï∞‰∏∫EngineÁ±ªÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Âú®ÁºñËØëÊúüÈÉΩÊó†Ê≥ïÁ°ÆÂÆöÂèÇÊï∞ÂÖ∑‰ΩìÊòØÂì™‰∏Ä‰∏™Á±ªÔºåÊâÄ‰ª•ÈÉΩ‰∏∫ÊôöÊúüÁªëÂÆö„ÄÇÊîπÈÄ†VolvoÁ±ªÔºö12345678910111213141516class Volvo extends Engine implements Car &#123; public Volvo() &#123; super(); &#125; @Override public void brand() &#123; System.out.println("Volvo V60 T5"); &#125; @Override void power() &#123; System.out.println("254È©¨Âäõ"); &#125;&#125;Êàë‰ª¨Âú®VolvoÁ±ª‰∏≠Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™Á©∫ÂèÇÊûÑÈÄ†Âô®ÔºåÂπ∂Ë∞ÉÁî®‰∫ÜÁà∂Á±ªÁöÑÁ©∫ÂèÇÊûÑÈÄ†Âô®ÔºåÂõ†‰∏∫Áà∂Á±ªÁ©∫ÂèÇÊûÑÈÄ†Âô®ÂèØ‰ª•ÂîØ‰∏ÄÁ°ÆÂÆö‰∏ãÊù•Â∞±ÊòØEngineÁöÑÁ©∫ÂèÇÊûÑÈÄ†Âô®ÔºåÂú®ÁºñËØëÊúüÂ∞±ÂèØ‰ª•ÂîØ‰∏ÄÁ°ÆÂÆöÔºåÊâÄ‰ª•ËøôÁßçÁß∞‰∏∫Êó©ÊúüÁªëÂÆö„ÄÇtipsÔºöÊûÑÈÄ†ÊñπÊ≥ïÂèØ‰ª•ÁúãÊàêÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑÊñπÊ≥ïÔºåÈÄöËøájclasslibÊèí‰ª∂‰πüÂèØ‰ª•ÁúãÂà∞ÔºåÁ±ªÁöÑÊûÑÈÄ†Âô®‰πüÂàíÂàÜÂú®MethodsÂàóË°®‰∏≠ÔºöËôöÊñπÊ≥ïÂíåÈùûËôöÊñπÊ≥ïÈùûËôöÊñπÊ≥ïÔºöÊñπÊ≥ïÂú®ÁºñËØëÊúüÂ∞±Á°ÆÂÆö‰∫ÜÂÖ∑‰ΩìÁöÑË∞ÉÁî®ÁâàÊú¨ÔºåËøô‰∏™ÁâàÊú¨Âú®ËøêË°åÊó∂ÊòØ‰∏çÂèØÂèòÁöÑÔºåËøôÊ†∑ÁöÑÊñπÊ≥ïÁß∞‰∏∫ÈùûËôöÊñπÊ≥ï„ÄÇÈùôÊÄÅÊñπÊ≥ï„ÄÅÁßÅÊúâÊñπÊ≥ï„ÄÅfinalÊñπÊ≥ï„ÄÅÂÆû‰æãÊûÑÈÄ†Âô®ÂíåÁà∂Á±ªÊñπÊ≥ïÈÉΩÊòØÈùûËôöÊñπÊ≥ïÔºåÂÖ∂‰ΩôÁöÑÊñπÊ≥ïÈÉΩÁß∞‰∏∫ËôöÊñπÊ≥ïÔºõËôöÊñπÊ≥ïÔºöÂíåÈùûËôöÊñπÊ≥ïÁõ∏Âèç„ÄÇÊñπÊ≥ïË∞ÉÁî®ËôöÊãüÊú∫Êåá‰ª§ËôöÊãüÊú∫‰∏≠Êèê‰æõ‰∫Ü‰ª•‰∏ãÂá†Êù°ÊñπÊ≥ïË∞ÉÁî®Êåá‰ª§ÔºöinvokestaticÔºöË∞ÉÁî®ÈùôÊÄÅÊñπÊ≥ïÔºõinvokespecialÔºöË∞ÉÁî®ÊñπÊ≥ïÔºàÊûÑÈÄ†Âô®Ôºâ„ÄÅÁßÅÊúâÊñπÊ≥ïÂèäÁà∂Á±ªÊñπÊ≥ïÔºõinvokevirtualÔºöË∞ÉÁî®ÊâÄÊúâËôöÊñπÊ≥ïÂíåfinal‰øÆÈ•∞ÁöÑÊñπÊ≥ïÔºõinvokeinterfaceÔºöË∞ÉÁî®Êé•Âè£ÊñπÊ≥ï„ÄÇJava7ÂêéÔºåËôöÊãüÊú∫ÂèàÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™Âä®ÊÄÅË∞ÉÁî®Êåá‰ª§ÔºöinvokedynamicÔºöÂä®ÊÄÅËß£ÊûêÂ§ÑÈúÄË¶ÅË∞ÉÁî®ÁöÑÊñπÊ≥ïÔºåÁÑ∂ÂêéÊâßË°åÔºàÂÆûÈôÖÂ∫îÁî®‰ΩìÁé∞Âú®Java8ÁöÑlambdaË°®ËææÂºèÔºâ„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö1234567891011121314151617181920212223242526272829public class Father &#123; public static void staticMethod() &#123; &#125; public void superMethod() &#123; &#125; protected final void finalMethod() &#123; &#125;&#125;class Son extends Father &#123; public Son() &#123; super(); &#125; public void test() &#123; Father.staticMethod(); privateMethod(); super.superMethod(); finalMethod(); &#125; private void privateMethod() &#123; &#125;&#125;ÈÄöËøájclasslibÊü•ÁúãSonÁ±ªtestÊñπÊ≥ïÂ≠óËäÇÁ†ÅÔºöSonÁ±ªÁöÑÊó†ÂèÇÊûÑÈÄ†Âô®Â≠óËäÇÁ†ÅÔºöÂâçÈù¢‰æãÂ≠ê‰∏≠testÁ±ªÁöÑshowBrandÊñπÊ≥ïÂ≠óËäÇÁ†ÅÔºöÂâçÈù¢‰æãÂ≠ê‰∏≠testÁ±ªÁöÑshowPowerÊñπÊ≥ïÂ≠óËäÇÁ†ÅÔºöinvokedynamicÊåá‰ª§lambdaË°®ËææÂºè‰æãÂ≠êÔºà‰øÆÊîπSonÁ±ªÔºåÊ∑ªÂä†dynamicMethodÔºâÔºö123456789101112131415161718192021class Son extends Father &#123; public Son() &#123; super(); &#125; public void test() &#123; Father.staticMethod(); privateMethod(); super.superMethod(); finalMethod(); dynamicMethod(System.out::println); &#125; private void privateMethod() &#123; &#125; public void dynamicMethod(Consumer&lt;String&gt; consumer) &#123; &#125;&#125;Êü•ÁúãÂÖ∂testÊñπÊ≥ïÂ≠óËäÇÁ†ÅÔºöÊñπÊ≥ïÈáçÂÜôÊú¨Ë¥®JavaÊñπÊ≥ïÂú®Ë¢´Ë∞ÉÁî®Êó∂ÈÅµÂæ™‰ª•‰∏ãÂá†‰∏™Ê≠•È™§ÔºöÊâæÂà∞Êìç‰ΩúÊï∞Ê†àÈ°∂ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊâÄÊâßË°åÁöÑÂØπË±°ÁöÑÂÆûÈôÖÁ±ªÂûãÔºåËÆ∞‰ΩúCÔºõÂ¶ÇÊûúÂú®Á±ªÂûãC‰∏≠ÊâæÂà∞‰∏éÂ∏∏Èáè‰∏≠ÁöÑÊèèËø∞Áõ∏Á¨¶ÂêàÁöÑÊñπÊ≥ïÔºåÂàôËøõË°åËÆøÈóÆÊùÉÈôêÊ†°È™åÔºåÂ¶ÇÊûúÊ†°È™åÈÄöËøáÂàôËøîÂõûËøô‰∏™ÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®ÔºåÊü•ÊâæËøáÁ®ãÁªìÊùüÔºõÂ¶ÇÊûú‰∏çÈÄöËøáÔºåÂàôËøîÂõûjava.lang.IllegalAccessErrorÂºÇÂ∏∏ÔºõÂê¶ÂàôÔºåÊåâÁÖßÁªßÊâøÂÖ≥Á≥ª‰ªé‰∏ãÂæÄ‰∏ä‰æùÊ¨°ÂØπCÁöÑÂêÑ‰∏™Áà∂Á±ªËøõË°åÁ¨¨2Ê≠•ÁöÑÊêúÁ¥¢ÂíåÈ™åËØÅËøáÁ®ãÔºõÂ¶ÇÊûúÂßãÁªàÊ≤°ÊâæÂà∞ÂêàÈÄÇÁöÑÊñπÊ≥ïÔºåÂàôÊäõÂá∫java.lang.AbstractMethodErrorÂºÇÂ∏∏„ÄÇÂ¶ÇÊûúÊñπÊ≥ïË∞ÉÁî®ÊØèÊ¨°ÈÉΩÈúÄË¶ÅÊåâÁÖß‰∏äÈù¢Âõõ‰∏™Ê≠•È™§ÊêúÁ¥¢ÁöÑËØùÔºåÂäøÂøÖ‰ºöÊ∂àËÄó‰∏ÄÂÆöÁöÑÊÄßËÉΩ„ÄÇÊâÄ‰ª•‰∏∫‰∫ÜÊèêÈ´òÊÄßËÉΩÔºåJVMÈááÁî®Âú®Á±ªÁöÑÊñπÊ≥ïÂå∫Âª∫Á´ã‰∏Ä‰∏™ËôöÊñπÊ≥ïË°®Êù•ÂÆûÁé∞ÔºàÈùûËôöÊñπÊ≥ïÂèØ‰ª•ÂîØ‰∏ÄÁ°ÆÂÆöÔºå‰∏çÈúÄË¶ÅÊü•ÊâæÔºåÊâÄ‰ª•Ê≤°ÊúâÈùûËôöÊñπÊ≥ïË°®ÔºâÔºå‰ΩøÁî®Á¥¢ÂºïË°®Êù•‰ª£ÊõøÊü•Êâæ„ÄÇËôöÊñπÊ≥ïË°®Âú®Á±ªÂä†ËΩΩÁöÑÈìæÊé•Èò∂ÊÆµÔºàËß£ÊûêÈò∂ÊÆµÔºâË¢´ÂàõÂª∫„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JVMÂ≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2FJVM-Learn.html</url>
    <content type="text"><![CDATA[JVMÁªìÊûÑJVMÔºàhotspotÔºâÁªìÊûÑÊ¶ÇËßàÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö‰∏äÂõæ‰∏≠ÔºåÁÅ∞Ëâ≤ÈÉ®ÂàÜÔºàJavaÊ†àÔºåÊú¨Âú∞ÊñπÊ≥ïÊ†àÂíåÁ®ãÂ∫èËÆ°Êï∞Âô®ÔºâÊòØÁ∫øÁ®ãÁßÅÊúâÔºå‰∏çÂ≠òÂú®Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºåÊ©ôËâ≤ÈÉ®ÂàÜÔºàÊñπÊ≥ïÂå∫ÂíåÂ†ÜÔºâ‰∏∫Á∫øÁ®ãÂÖ±‰∫´Âå∫„ÄÇÁ±ªÂä†ËΩΩÂô®Á±ªÂä†ËΩΩÂô®(Class Loader)Ë¥üË¥£Âä†ËΩΩclassÊñá‰ª∂ÔºåclassÊñá‰ª∂Âú®Êñá‰ª∂ÂºÄÂ§¥ÊúâÁâπÂÆöÁöÑÊ†áËØÜ„ÄÇÁ±ªÂä†ËΩΩÂô®Â∞ÜclassÊñá‰ª∂Â≠óËäÇÁ†ÅÂÜÖÂÆπÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂Â∞ÜËøô‰∫õÂÜÖÂÆπËΩ¨Êç¢ÊàêÊñπÊ≥ïÂå∫‰∏≠ÁöÑËøêË°åÊó∂Êï∞ÊçÆÁªìÊûÑ„ÄÇClassLoaderÂè™Ë¥üË¥£classÊñá‰ª∂ÁöÑÂä†ËΩΩÔºåËá≥‰∫éÂÆÉÊòØÂê¶ÂèØ‰ª•ËøêË°åÔºåÂàôÁî±ÊâßË°åÂºïÊìéExecution EngineÂÜ≥ÂÆö„ÄÇÁ±ªÂä†ËΩΩÁ§∫ÊÑèÂõæÔºöÁ±ªÂä†ËΩΩÂô®ËØÜÂà´ÁöÑclassÊñá‰ª∂Èô§‰∫ÜÊòØ.classÊ†ºÂºèÂ§ñÔºåÊñá‰ª∂ÁöÑÂºÄÂ§¥ËøòÂæóÊúâÁâπÊÆäÁöÑÊ†áËØÜÔºå‰ΩøÁî®ÊñáÊú¨ÁºñËæëÂô®ÊâìÂºÄ‰∏Ä‰∏™classÊ†ºÂºèÁöÑÊñá‰ª∂Ôºö1234567891011121314151617cafe babe 0000 0034 0010 0a00 0300 0d07000e 0700 0f01 0006 3c69 6e69 743e 01000328 2956 0100 0443 6f64 6501 000f 4c696e65 4e75 6d62 6572 5461 626c 6501 00124c6f 6361 6c56 6172 6961 626c 6554 61626c65 0100 0474 6869 7301 0014 4c63 632f6d72 6269 7264 2f63 6173 2f54 6573 743b0100 0a53 6f75 7263 6546 696c 6501 00095465 7374 2e6a 6176 610c 0004 0005 01001263 632f 6d72 6269 7264 2f63 6173 2f546573 7401 0010 6a61 7661 2f6c 616e 672f4f62 6a65 6374 0021 0002 0003 0000 00000001 0001 0004 0005 0001 0006 0000 002f0001 0001 0000 0005 2ab7 0001 b100 00000200 0700 0000 0600 0100 0000 0300 08000000 0c00 0100 0000 0500 0900 0a00 00000100 0b00 0000 0200 0cËøô‰∏™ÁâπÂÆöÁöÑÊ†áËØÜÂ∞±ÊòØÂçÅÂÖ≠ËøõÂà∂Â≠óÁ¨¶cafe babe„ÄÇÁ±ªÂä†ËΩΩÂô®ÂàÜÁ±ªÁ±ªÂä†ËΩΩÂô®ÂàÜ‰∏∫4ÁßçÔºöÂêØÂä®Á±ªÂä†ËΩΩÂô®ÂêØÂä®Á±ªÂä†ËΩΩÂô®BootstrapClassLoader‰πüÂè´Ê†πÂä†ËΩΩÂô®ÔºåÊòØËôöÊãüÊú∫Ëá™Â∏¶ÁöÑÂä†ËΩΩÂô®ÔºåÂ∫ïÂ±ÇÁî±C++ÂÆûÁé∞ÔºåÁî®‰∫éÂä†ËΩΩ$JAVA_HOME/jre/lib/rt.jarÂåÖÂÜÖÁöÑclassÊñá‰ª∂„ÄÇrt.jarÊòØJavaÂü∫Á°ÄÁ±ªÂ∫ìÔºåÂåÖÂê´JavaËøêË°åÁéØÂ¢ÉÊâÄÈúÄÁöÑÂü∫Á°ÄÁ±ªÔºö‰∏æ‰∏™‰æãÂ≠êÔºö123456public class Test &#123; public static void main(String[] args) &#123; Object object = new Object(); System.out.println(object.getClass().getClassLoader()); &#125;&#125;Object‰∏∫JavaËá™Â∏¶ÁöÑÁ±ªÔºåËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö1nullÂπ∂Ê≤°ÊúâËøîÂõûÈ¢ÑÊúüÁöÑBootstrapClassLoaderÔºåËøôÊòØÂõ†‰∏∫BootstrapClassLoaderÂ∫ïÂ±ÇÊòØÁî±C++ÂÆûÁé∞ÁöÑÔºåÂπ∂ÈùûJavaÂÆûÁé∞„ÄÇÊãìÂ±ïÁ±ªÂä†ËΩΩÂô®ÊãìÂ±ïÁ±ªÂä†ËΩΩÂô®ExtClassLoaderÊòØËôöÊãüÊú∫Ëá™Â∏¶ÁöÑÂä†ËΩΩÂô®ÔºåÁî±JavaËØ≠Ë®ÄÂÆûÁé∞ÔºåÁî®‰∫éÂä†ËΩΩ$JAVA_HOME/jre/lib/ext/**.jarÁõÆÂΩï‰∏ãÁöÑclassÊñá‰ª∂ÔºöËøôÈÉ®ÂàÜ‰∏ªË¶ÅÊòØJavaÂú®Ëø≠‰ª£ËøáÁ®ã‰∏≠Ôºå‰∏Ä‰∫õÊãìÂ±ïÁöÑÂäüËÉΩ„ÄÇÊØîÂ¶ÇÔºö123456public class Test &#123; public static void main(String[] args) &#123; ZipInfo zipInfo = new ZipInfo(); System.out.println(zipInfo.getClass().getClassLoader()); &#125;&#125;ZipInfoÊòØ$JAVA_HOME/jre/lib/ext/zipfs.jarÂåÖÈáåÁöÑ‰∏Ä‰∏™Á±ªÔºåÁ®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö1sun.misc.Launcher$ExtClassLoader@5e2de80cÂ∫îÁî®Á®ãÂ∫èÁ±ªÂä†ËΩΩÂô®Â∫îÁî®Á®ãÂ∫èÁ±ªÂä†ËΩΩÂô®AppClassLoaderÊòØËôöÊãüÊú∫Ëá™Â∏¶ÁöÑÂä†ËΩΩÂô®ÔºåÁî®‰∫éÂä†ËΩΩÂΩìÂâçÂ∫îÁî®ÁöÑclasspathÁöÑÊâÄÊúâÁ±ªÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Ëá™Â∑±ÂÜôÁöÑÈÇ£‰∫õJava‰ª£Á†ÅÔºåÊØîÂ¶ÇÔºö12345public class Test &#123; public static void main(String[] args) &#123; System.out.println(Test.class.getClassLoader()); &#125;&#125;Á®ãÂ∫èËøêË°åÁªìÊûúÔºö1sun.misc.Launcher$AppClassLoader@18b4aac2Áî®Êà∑Ëá™ÂÆö‰πâÂä†ËΩΩÂô®Èô§‰∫Ü‰ΩøÁî®‰∏äÈù¢‰∏âÁßçJVMËá™Â∏¶ÁöÑÁ±ªÂä†ËΩΩÂô®Â§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáÁªßÊâøJava.lang.ClassLoaderÊäΩË±°Á±ªËá™ÂÆö‰πâ‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®„ÄÇËøôÂõõÁßçÁ±ªÂä†ËΩΩÂô®ÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂÆÉ‰ª¨ÁöÑÂÖ≥Á≥ªÊòØ‰∏ÄÁßçÁà∂Â≠êÂÖ≥Á≥ªÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰ª£Á†ÅÈ™åËØÅÔºö12345678public class Test &#123; public static void main(String[] args) &#123; Class&lt;Test&gt; testClass = Test.class; System.out.println(testClass.getClassLoader()); System.out.println(testClass.getClassLoader().getParent()); System.out.println(testClass.getClassLoader().getParent().getParent()); &#125;&#125;Á®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123sun.misc.Launcher$AppClassLoader@18b4aac2sun.misc.Launcher$ExtClassLoader@61bbe9banullÁ±ªÂä†ËΩΩÊ≠•È™§Á±ªÁöÑÂä†ËΩΩËøáÁ®ãÂàÜ‰∏∫‰∏â‰∏™Ê≠•È™§ÔºöÂä†ËΩΩLoadingÈÄöËøá‰∏Ä‰∏™Á±ªÁöÑÂÖ®Á±ªÂêçËé∑ÂèñÂÖ∂‰∫åËøõÂà∂Â≠óËäÇÊµÅÔºåÂ∞ÜËøô‰∏™‰∫åËøõÂà∂ÊµÅ‰ª£Ë°®ÁöÑÈùôÊÄÅÂ≠òÂÇ®ÁªìÊûÑËΩ¨Âåñ‰∏∫ÊñπÊ≥ïÂå∫ÁöÑËøêË°åÊó∂Êï∞ÊçÆÁªìÊûÑÔºåÁÑ∂ÂêéÂú®ÂÜÖÂ≠ò‰∏≠ÁîüÊàê‰∏Ä‰∏™‰ª£Ë°®Ëøô‰∏™Á±ªÁöÑjava.lang.ClassÂØπË±°Ôºå‰Ωú‰∏∫ÊñπÊ≥ïÂå∫‰∏≠Ëøô‰∏™Á±ªÁöÑÂêÑÁßçÊï∞ÊçÆÁöÑËÆøÈóÆÂÖ•Âè£„ÄÇÈìæÊé•LinkingËØ•ËøáÁ®ãÂèàÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™Èò∂ÊÆµÔºöÈ™åËØÅVerficationÔºåÂáÜÂ§áPreparationÂíåËß£ÊûêResolutionÔºâ„ÄÇÈ™åËØÅÈò∂ÊÆµÁî®‰∫éÁ°Æ‰øùÂä†ËΩΩÁöÑClassÊñá‰ª∂ÁöÑÂ≠óËäÇÊµÅÂåÖÂê´ÁöÑ‰ø°ÊÅØÊòØÂê¶Á¨¶ÂêàËôöÊãüÊú∫Ë¶ÅÊ±ÇÔºå‰øùËØÅÂÖ∂Ê≠£Á°ÆÊÄßÂêàÊ≥ïÊÄßÔºõÂáÜÂ§áÈò∂ÊÆµ‰∏∫Á±ªÂèòÈáèÔºàstatic‰øÆÈ•∞ÁöÑÂèòÈáèÔºâÂàÜÈÖçÂÜÖÂ≠òÂπ∂Ê†πÊçÆÂØπË±°Á±ªÂûãËÆæÁΩÆÁõ∏Â∫îÁöÑÈªòËÆ§ÂàùÂßãÂÄºÔºàÊØîÂ¶ÇintÁ±ªÂûã‰∏∫0ÔºåIntegerÁ±ªÂûã‰∏∫nullÔºâ„ÄÇËøôÈáå‰∏çÂåÖÂê´Â∏∏ÈáèÔºåÂõ†‰∏∫Â∏∏ÈáèÂú®ÁºñËØëÁöÑÊó∂ÂÄôÂàÜÈÖçÔºåÂáÜÂ§áÈò∂ÊÆµ‰ºöÊòæÁ§∫ÂàùÂßãÂåñ„ÄÇÁ±ªÁöÑÂÆû‰æãÂèòÈáè‰∏ç‰ºöÂú®Ëøô‰∏™Èò∂ÊÆµÂáÜÂ§áÂàùÂßãÂåñ„ÄÇËß£ÊûêÈò∂ÊÆµÁî®‰∫éÂ∞ÜÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Áõ¥Êé•ÂºïÁî®„ÄÇËßÇÂØüÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234567public class Test &#123; public static void main(String[] args) &#123; String str = "hello"; System.out.println(str); &#125;&#125;‰ΩøÁî®javap -vÂëΩ‰ª§Êü•ÁúãÂÖ∂Â≠óËäÇÁ†ÅÔºöÂèØ‰ª•ÁúãÂà∞Â∏∏ÈáèÊ±†‰∏≠ÊúâËÆ∏Â§öÁ¨¶Âè∑ÂºïÁî®ÔºàÊØîÂ¶Ç#2ÔºâÔºåËß£ÊûêÈò∂ÊÆµÂ∞±ÊòØÂ∞ÜÂÖ∂Ëß£Êûê‰∏∫Áõ¥Êé•ÂºïÁî®ÔºàÊØîÂ¶Ç#2Ë°®Á§∫Â≠óÁ¨¶‰∏≤Â∏∏ÈáèhelloÔºâÁöÑËøáÁ®ã„ÄÇÂàùÂßãÂåñInitializationËØ•Èò∂ÊÆµÂ∞±ÊòØÊâßË°åÁ±ªÁöÑÊûÑÈÄ†Âô®ÊñπÊ≥ï&lt;clinit&gt;()ÁöÑËøáÁ®ã ÔºõËØ•ÊñπÊ≥ïÂπ∂‰∏çÊòØÁ±ªÁöÑÊûÑÈÄ†Âô®Ôºå‰∏çÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±ÂÆö‰πâÔºåÊòØjavacÁºñËØëÂô®Ëá™Âä®ÊêúÈõÜÁ±ª‰∏≠ÁöÑÊâÄÊúâÁ±ªÂèòÈáèÁöÑËµãÂÄºÂä®‰ΩúÂíåÈùôÊÄÅ‰ª£Á†ÅÂùó‰∏≠ÁöÑËØ≠Âè•ÂêàÂπ∂ËÄåÊù•ÔºõÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁ±ªÔºåÂåÖÂê´‰∏Ä‰∏™Âêç‰∏∫aaaÁöÑÁ±ªÂèòÈáèÔºö123456789101112public class Test &#123; private static int aaa = 1; static &#123; aaa = 200; &#125; public static void main(String[] args) &#123; System.out.println(Test.aaa); &#125;&#125;ÁÑ∂ÂêéÈÄöËøáIDEAÁöÑjclasslibÊèí‰ª∂Êü•ÁúãËØ•Á±ªÁöÑclassÊñá‰ª∂ÂØπÂ∫îÁöÑÂ≠óËäÇÁ†ÅÔºöÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢ÊâÄËØ¥ÁöÑÊûÑÈÄ†Âô®ÊñπÊ≥ï&lt;clinit&gt;()ÔºåÊåá‰ª§ÁöÑÊìç‰ΩúÂ∞±ÊòØ‰∏∫ÊâÄÊúâÁ±ªÂèòÈáèËµãÂÄº‰ª•ÂèäÈùôÊÄÅ‰ª£Á†ÅÂùó‰∏≠ÁöÑÊìç‰Ωú„ÄÇÊç¢Âè•ËØùËØ¥ÔºåÂ¶ÇÊûú‰∏Ä‰∏™Á±ª‰∏çÂåÖÂê´Á±ªÂèòÈáèÂíåÈùôÊÄÅ‰ª£Á†ÅÂùóÔºåÈÇ£‰πàÂÆÉÁöÑÂ≠óËäÇÁ†Å‰∏≠Â∞±‰∏ç‰ºöÊúâÊûÑÈÄ†Âô®ÊñπÊ≥ï&lt;clinit&gt;()„ÄÇÊûÑÈÄ†Âô®ÊñπÊ≥ï‰∏≠ÁöÑÊåá‰ª§ÊåâÁÖßËØ≠Âè•Âú®Ê∫ê‰ª£Á†Å‰∏≠Âá∫Áé∞ÁöÑÈ°∫Â∫èÊâßË°åÔºõËßÇÂØüÂ¶Ç‰∏ã‰ª£Á†ÅÔºö123456789101112131415public class Test &#123; private static int aaa = 1; static &#123; aaa = 200; bbb = 300; &#125; private static int bbb = 2; public static void main(String[] args) &#123; System.out.println(Test.bbb); &#125;&#125;‰∏äÈù¢Á®ãÂ∫èËæìÂá∫ÁªìÊûú‰∏∫2ÔºåÂõ†‰∏∫ÊûÑÈÄ†Âô®ÊñπÊ≥ï‰∏≠ÁöÑÊåá‰ª§ÊåâÁÖßËØ≠Âè•Âú®Ê∫ê‰ª£Á†Å‰∏≠Âá∫Áé∞ÁöÑÈ°∫Â∫èÊâßË°åÔºåÊü•ÁúãÊûÑÈÄ†Âô®ÊñπÊ≥ï&lt;clinit&gt;()Êåá‰ª§Êù•ËØÅÊòéËøô‰∏ÄÁÇπÔºöËøôÈáåËøòÊúâ‰∏Ä‰∏™ÁªÜËäÇÔºåÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÂú®ÈùôÊÄÅ‰ª£Á†ÅÂùó‰∏ãÈù¢ÊâçÂÆö‰πâÁöÑÁ±ªÂèòÈáèbbbÔºåÂú®ÈùôÊÄÅ‰ª£Á†ÅÂùó‰∏≠ÂèØ‰ª•ËøõË°å‰øÆÊîπÂë¢ÔºüËøôÂ∞±ÊòØLinkingÈò∂ÊÆµ‰∏≠ÂáÜÂ§áÈò∂ÊÆµÊâÄÂÅöÁöÑ‰∫ãÊÉÖÔºåÂáÜÂ§áÈò∂ÊÆµ‰∏∫Á±ªÂèòÈáèÔºàstatic‰øÆÈ•∞ÁöÑÂèòÈáèÔºâÂàÜÈÖçÂÜÖÂ≠òÂπ∂Ê†πÊçÆÂØπË±°Á±ªÂûãËÆæÁΩÆÁõ∏Â∫îÁöÑÈªòËÆ§ÂàùÂßãÂÄº„ÄÇËøô‰∏™Êó∂ÂÄôbbbÂ∑≤ÁªèË¢´ÂàÜÈÖçÂπ∂Ëµã‰∫àÈªòËÆ§ÂàùÂßãÂÄº‰∫ÜÔºåÊâÄ‰ª•staticÂùó‰∏≠ÂèØ‰ª•‰ΩøÁî®ËØ•ÂèòÈáèÔºàÊç¢Âè•ËØùËØ¥ÔºåÂÆû‰æãÂèòÈáè‰∏çË°åÔºâ„ÄÇ12345678910111213141516public class Test &#123; private static int aaa = 1; static &#123; aaa = 200; System.out.println(Test.bbb); bbb = 300; &#125; private static int bbb = 2; public static void main(String[] args) &#123; System.out.println(Test.bbb); &#125;&#125;‰∏äÈù¢ËæìÂá∫0 2„ÄÇ‰∏ãÈù¢‰ª£Á†ÅÁõ¥Êé•ÁºñËØëÂ§±Ë¥•Ôºö1234567891011121314151617public class Test &#123; private static int aaa = 1; static &#123; aaa = 200; System.out.println(Test.bbb); bbb = 300; ccc = 400; &#125; private static int bbb = 2; private int ccc = 3; public static void main(String[] args) &#123; System.out.println(Test.bbb); &#125;&#125;Âõ†‰∏∫cccËøòÊ≤°ÂàÜÈÖçÂàùÂßãÂåñÂë¢„ÄÇËã•ËØ•Á±ªÂåÖÂê´Áà∂Á±ªÔºåÈÇ£‰πàJVM‰ºö‰øùËØÅÁà∂Á±ªÁöÑ&lt;clinit&gt;()ÂÖàÊâßË°åÂÆåÊØïÔºõËôöÊãüÊú∫‰ºö‰øùËØÅ‰∏Ä‰∏™Á±ªÁöÑ&lt;clinit&gt;()ÊñπÊ≥ïÂú®Â§öÁ∫øÁ®ã‰∏ãË¢´ÂêåÊ≠•Âä†ÈîÅ„ÄÇËßÇÂØüÂ¶Ç‰∏ã‰ª£Á†ÅÔºö12345678910111213141516171819202122232425public class Test &#123; public static void main(String[] args) &#123; Runnable r = () -&gt; &#123; System.out.println(Thread.currentThread().getName() + "ÂºÄÂßã"); new Hello(); System.out.println(Thread.currentThread().getName() + "ÁªìÊùü"); &#125;; new Thread(r, "Á∫øÁ®ã1").start(); new Thread(r, "Á∫øÁ®ã2").start(); &#125;&#125;class Hello &#123; static &#123; if (true) &#123; System.out.println(Thread.currentThread().getName() + "ÂàùÂßãÂåñÂΩìÂâçÁ±ª"); while (true) &#123; &#125; &#125; &#125;&#125;Á®ãÂ∫èÂêØÂä®ÂêéÔºåmainÁ∫øÁ®ãÂêØÂä®‰∏§‰∏™Â≠êÁ∫øÁ®ãÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö123Á∫øÁ®ã1ÂºÄÂßãÁ∫øÁ®ã2ÂºÄÂßãÁ∫øÁ®ã1ÂàùÂßãÂåñÂΩìÂâçÁ±ªÁÑ∂ÂêéÁ®ãÂ∫èblock‰ΩèÔºåËøôËØ¥Êòé‰∫ÜËôöÊãüÊú∫‰ºö‰øùËØÅ‰∏Ä‰∏™Á±ªÁöÑ&lt;clinit&gt;()ÊñπÊ≥ïÂú®Â§öÁ∫øÁ®ã‰∏ãË¢´ÂêåÊ≠•Âä†ÈîÅ„ÄÇÂèå‰∫≤ÂßîÊ¥æÊú∫Âà∂ËÅäÂà∞Á±ªÂä†ËΩΩÂô®‰∏çÂæó‰∏çÊèêÁöÑÂè¶‰∏Ä‰∏™ËØùÈ¢òÂ∞±ÊòØÂèå‰∫≤ÂßîÊ¥æÊú∫Âà∂ÔºåÂú®‰∫ÜËß£‰ªÄ‰πàÊòØÂèå‰∫≤ÂßîÊ¥æÊú∫Âà∂‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊù•Áúã‰∏™‰æãÂ≠êÔºöÂú®src/main/javaÁõÆÂΩï‰∏ãÊñ∞Âª∫java.langÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•ÂåÖ‰∏ãÊñ∞Âª∫‰∏Ä‰∏™StringÁ±ªÔºöStringÁ±ªÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567package java.lang;public class String &#123; public static void main(String[] args) &#123; System.out.println("helo"); &#125;&#125;Á®ãÂ∫èËæìÂá∫ÁªìÊûúÔºö123ÈîôËØØ: Âú®Á±ª java.lang.String ‰∏≠Êâæ‰∏çÂà∞ main ÊñπÊ≥ï, ËØ∑Â∞Ü main ÊñπÊ≥ïÂÆö‰πâ‰∏∫: public static void main(String[] args)Âê¶Âàô JavaFX Â∫îÁî®Á®ãÂ∫èÁ±ªÂøÖÈ°ªÊâ©Â±ïjavafx.application.ApplicationÊâÄË∞ìÁöÑÂèå‰∫≤ÂßîÊ¥æÊú∫Âà∂Â∞±ÊòØÔºöÂΩì‰∏Ä‰∏™Á±ªÊî∂Âà∞‰∫ÜÁ±ªÂä†ËΩΩËØ∑Ê±ÇÔºå‰ªñÈ¶ñÂÖà‰∏ç‰ºöÂ∞ùËØïËá™Â∑±ÂéªÂä†ËΩΩËøô‰∏™Á±ªÔºåËÄåÊòØÊääËøô‰∏™ËØ∑Ê±ÇÂßîÊ¥æÁªôÁà∂Á±ªÂéªÂÆåÊàêÔºåÊØè‰∏Ä‰∏™Â±ÇÊ¨°Á±ªÂä†ËΩΩÂô®ÈÉΩÊòØÂ¶ÇÊ≠§„ÄÇÂè™ÊúâÂΩìÁà∂Á±ªÂä†ËΩΩÂô®ÂèçÈ¶àËá™Â∑±Êó†Ê≥ïÂÆåÊàêËøô‰∏™ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºàÂú®ÂÆÉÁöÑÂä†ËΩΩË∑ØÂæÑ‰∏ãÊ≤°ÊúâÊâæÂà∞ÊâÄÈúÄÂä†ËΩΩÁöÑClassÔºâÔºåÂ≠êÁ±ªÂä†ËΩΩÂô®Êâç‰ºöÂ∞ùËØïËá™Â∑±ÂéªÂä†ËΩΩ„ÄÇÊâÄ‰ª•‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåAppClassLoaderÂßîÊ¥æÁªôÂÆÉÁöÑÁà∂Á±ªExtClassLoaderÂéªÂä†ËΩΩÔºåExtClassLoaderÂèàÂßîÊâòÁªôÂÆÉÁöÑÁà∂Á±ªBootstrapClassLoaderÂéªÂä†ËΩΩ„ÄÇBootstrapClassLoader‰ªéÂÆÉÁöÑÂä†ËΩΩË∑ØÂæÑ$JAVA_HOME/jre/lib/rt.jar‰∏ãÊâæÂà∞‰∫Üjava.lang.StringÁ±ªÔºåÂç≥rt.jarÂåÖ‰∏ãÁöÑStringÁ±ªÔºåËÄåËØ•Á±ªÈáåÂπ∂Ê≤°ÊúâmainÊñπÊ≥ïÔºåÊâÄ‰ª•‰æøÊäõÂá∫‰∫ÜÂ¶Ç‰∏äÂºÇÂ∏∏„ÄÇÈááÁî®Âèå‰∫≤ÂßîÊ¥æÁöÑ‰∏Ä‰∏™Â•ΩÂ§ÑÊòØÔºöÂ∞±Â¶Ç‰∏äÈù¢ÊâÄËØ¥Ôºå‰∏çÁÆ°ÊòØÂì™‰∏™Âä†ËΩΩÂô®Âä†ËΩΩËøô‰∏™Á±ªÔºåÊúÄÁªàÈÉΩÊòØÂßîÊâòÁªôÈ°∂Â±ÇÁöÑÂêØÂä®Á±ªÂä†ËΩΩÂô®ËøõË°åÂä†ËΩΩÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫Ü‰ΩøÁî®‰∏çÂêåÁöÑÁ±ªÂä†ËΩΩÂô®ÊúÄÁªàÂæóÂà∞ÁöÑÈÉΩÊòØÂêåÊ†∑‰∏Ä‰∏™StringÂØπË±°ÔºåÊâÄ‰ª•Êàë‰ª¨Ëá™ÂÆö‰πâÁöÑJavaÁ±ªÂπ∂‰∏ç‰ºöÊ±°ÊüìJDKËá™Â∏¶ÁöÑÈÇ£‰∫õÁ±ªÔºàÂç≥‰ΩøÂÖ®Á±ªÂêç‰∏ÄÊ†∑ÔºâÔºåËøôÁßç‰øùÊä§Êú∫Âà∂‰πüÂè´Ê≤ôÁÆ±ÂÆâÂÖ®Êú∫Âà∂„ÄÇÁ®ãÂ∫èËÆ°Êï∞Âô®Á®ãÂ∫èËÆ°Êï∞Âô®(Program Counter Register)ÂèàÂè´PCÂØÑÂ≠òÂô®„ÄÇÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâ‰∏Ä‰∏™Á®ãÂ∫èËÆ°Êï∞Âô®ÔºåÊòØÁ∫øÁ®ãÁßÅÊúâÁöÑ„ÄÇÂÆÉÊòØ‰∏Ä‰∏™ÊåáÈíàÔºåÊåáÂêëÊñπÊ≥ïÂå∫‰∏≠ÁöÑÊñπÊ≥ïÂ≠óËäÇÁ†ÅÔºåÁî®Êù•Â≠òÂÇ®ÊåáÂêë‰∏ã‰∏ÄÊù°Êåá‰ª§ÁöÑÂú∞ÂùÄÔºå‰πüÂç≥Â∞ÜË¶ÅÊâßË°åÁöÑÊåá‰ª§‰ª£Á†ÅÔºåÁî±ÊâßË°åÂºïÊìéËØªÂèñ‰∏ã‰∏ÄÊù°Êåá‰ª§ÔºåÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Â∞èÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂá†‰πéÂèØ‰ª•ÂøΩÁï•‰∏çËÆ∞„ÄÇÂ¶ÇÊûúÊâßË°åÁöÑÊòØ‰∏Ä‰∏™NativeÊñπÊ≥ïÔºåÈÇ£Ëøô‰∏™ËÆ°Êï∞Âô®ÁöÑÂÄº‰∏∫undefied„ÄÇ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÁ®ãÂ∫èËÆ°Êï∞Âô®Âë¢ÔºüÂõ†‰∏∫CPUÈúÄË¶Å‰∏çÂÅúÂú∞ÂàáÊç¢ÂêÑ‰∏™Á∫øÁ®ãÔºåÊúâ‰∫ÜÁ®ãÂ∫èËÆ°Êï∞Âô®ÂêéÔºåÂΩìCPUÂàáÊç¢ÂõûÊù•ÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Áü•ÈÅìÊé•ÁùÄ‰ªéÂì™ÂºÄÂßãÁªßÁª≠ÊâßË°åÁ®ãÂ∫èÔºå‰∏æ‰∏™‰æãÂ≠êÔºåÁé∞ÊúâÂ¶Ç‰∏ã‰ª£Á†ÅÔºö123456789public class Test &#123; public static void main(String[] args) &#123; int a = 1; int b = 2; int c = a + b; System.out.println(c); &#125;&#125;Êü•ÁúãÂÖ∂Â≠óËäÇÁ†ÅÔºöÂÅáÂ¶ÇÂΩìÂâçÁ∫øÁ®ãÁöÑÁ®ãÂ∫èËÆ°Êï∞Âô®Â≠òÂÇ®ÁöÑÊåá‰ª§Âú∞ÂùÄ‰∏∫6ÔºåËøôÊó∂ÂÄôCPUÂàáÊç¢Âà∞Âà´ÁöÑÁ∫øÁ®ã‰∏≠Â§ÑÁêÜÂ∑•‰ΩúÔºõ‰∏ÄÊÆµÊó∂Èó¥ÂêéÔºåÂΩìÂâçÁ∫øÁ®ãÈáçÊñ∞Ëé∑Âèñ‰∫ÜCPUÊó∂Èó¥ÁâáÁªßÁª≠ÊâßË°åÊó∂ÔºåÊ†πÊçÆÁ®ãÂ∫èËÆ°Êï∞Âô®Â≠òÁöÑ6Â∞±Áü•ÈÅìÔºåÂΩìÂâçÈúÄË¶ÅÊâßË°åiaddÔºàÂç≥a+bÊìç‰ΩúÔºâÊåá‰ª§„ÄÇÊâßË°åÂºïÊìé‰ºöÂ∞ÜËøôÊù°Êåá‰ª§ÁøªËØë‰∏∫Êú∫Âô®Êåá‰ª§ÔºåÁÑ∂ÂêéCPUÊâßË°åËØ•ËøêÁÆóÊìç‰Ωú„ÄÇËôöÊãüÊú∫Ê†àÔºàJavaÊ†àÔºâËôöÊãüÊú∫Ê†à‰πüÁß∞‰∏∫JavaÊ†àÔºåÊØè‰∏™Á∫øÁ®ãÂú®ÂàõÂª∫ÁöÑÊó∂ÂÄôÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™ËôöÊãüÊú∫Ê†àÔºåÂÖ∂ÂÜÖÈÉ®‰øùÂ≠ò‰∏Ä‰∏™‰∏™Ê†àÂ∏ßÔºàStack FrameÔºâÔºåÂØπÂ∫îÁùÄ‰∏ÄÊ¨°Ê¨°ÁöÑJavaÊñπÊ≥ïË∞ÉÁî®„ÄÇÂíåPCÂØÑÂ≠òÂô®‰∏ÄÊ†∑ÔºåËôöÊãüÊú∫Ê†àÁöÑÁîüÂëΩÂë®ÊúüÂíåÁ∫øÁ®ã‰∏ÄËá¥„ÄÇËôöÊãüÊú∫Ê†à‰∏ªÁÆ°JavaÁ®ãÂ∫èÁöÑËøêË°åÔºåÂÆÉ‰øùÂ≠òÊñπÊ≥ïÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºà8ÁßçÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåÂØπË±°ÂºïÁî®Âú∞ÂùÄÔºâ„ÄÅÈÉ®ÂàÜÁªìÊûúÔºåÂπ∂ÂèÇ‰∏éÊñπÊ≥ïÁöÑË∞ÉÁî®ÂíåËøîÂõû„ÄÇËôöÊãüÊú∫Ê†àÁ§∫ÊÑèÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöJVMÂØπËôöÊãüÊú∫Ê†àÁöÑÊìç‰ΩúÂè™ÊúâÂéãÊ†àÔºàÂÖ•Ê†àÔºâÂíåÂá∫Ê†àÊìç‰ΩúÔºåÈÅµÂæ™FILOÂéüÂàôÔºõÂú®‰∏Ä‰∏™Ê¥ªÂä®Á∫øÁ®ã‰∏≠Ôºå‰∏Ä‰∏™Êó∂Èó¥ÁÇπÂè™‰ºöÊúâ‰∏Ä‰∏™Ê¥ªÂä®ÁöÑÊ†àÂ∏ßÔºåÂç≥ÂΩìÂâçÊ≠£Âú®ÊâßË°åÊñπÊ≥ïÂØπÂ∫îÁöÑÊ†àÂ∏ßÔºàÂΩìÂâçÊ†àÂ∏ßÔºâÔºõÂ¶ÇÊûú‰∏Ä‰∏™ÊñπÊ≥ïË∞ÉÁî®‰∫ÜÂè¶‰∏Ä‰∏™ÊñπÊ≥ïÔºåÈÇ£‰πàÂØπÂ∫îÁöÑÊñ∞ÁöÑÊ†àÂ∏ßÂ∞Ü‰ºöË¢´ÂàõÂª∫Âá∫Êù•ÔºåÊîæÂú®Ê†àÈ°∂ÔºåÊàê‰∏∫Êñ∞ÁöÑÂΩìÂâçÊ†àÂ∏ß„ÄÇÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçï‰ª£Á†ÅÔºå‰ΩøÁî®debugÁöÑÊñπÂºèÊù•ËßÇÂØüÂÖ•Ê†àÂíåÂá∫Ê†àÊìç‰ΩúÔºö1234567891011121314151617181920212223242526272829public class Test &#123; public static void main(String[] args) &#123; new Test().method1(); &#125; public void method1() &#123; System.out.println("method1 start"); method2(); System.out.println("method1 finish"); &#125; private void method2() &#123; System.out.println("method2 start"); method3(); System.out.println("method2 finish"); &#125; private void method3() &#123; System.out.println("method3 start"); method4(); System.out.println("method3 finish"); &#125; private void method4() &#123; System.out.println("method4 start"); System.out.println("method4 finish"); &#125;&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÊâßË°åmainÊñπÊ≥ïÂêéÔºåmainÊñπÊ≥ïÈ¶ñÂÖàÂÖ•Ê†àÔºåÊé•ÁùÄË∞ÉÁî®method1ÊñπÊ≥ïÔºåmethod1ÊñπÊ≥ïÂÖ•Ê†àÔºõmethod1Ë∞ÉÁî®method2Ôºåmethod2ÂÖ•Ê†àÔºõmethod2Ë∞ÉÁî®method3Ôºåmethod3ÂÖ•Ê†àÔºõmethod3Ë∞ÉÁî®method4Ôºåmethod4ÂÖ•Ê†àÔºõmethod4ÊâßË°åÁªìÊùüÔºåÊ≠£Â∏∏ÈÄÄÂá∫Ôºåmethod4Âá∫Ê†àÔºõmethod4Âá∫Ê†àÂêéÔºåÂΩìÂâçÊ†àÂ∏ßÂèò‰∏∫method3ÂØπÂ∫îÁöÑÊ†àÂ∏ßÔºõmethod3ÊâßË°åÁªìÊùüÊ≠£Â∏∏ÈÄÄÂá∫Ôºåmethod3Âá∫Ê†à‚Ä¶‚Ä¶‰ª•Ê≠§Á±ªÊé®ÔºåÊúÄÁªàmainÊñπÊ≥ïÊâßË°åÁªìÊùüÂá∫Ê†àÔºåÁ®ãÂ∫èÁªìÊùü„ÄÇJavaÊñπÊ≥ïÊâßË°åÁªìÊùüÊ≠£Â∏∏ÈÄÄÂá∫ÂíåÊäõÂá∫ÂºÇÂ∏∏Ëøô‰∏§ÁßçÊÉÖÂÜµ‰ºöÂØºËá¥Ê†àÂ∏ßË¢´ÂºπÂá∫ÔºàÈÄÄÂá∫Ôºâ„ÄÇËôöÊãüÊú∫Ê†àÂ§ßÂ∞èË∞ÉÊï¥JavaËôöÊãüÊú∫ËßÑËåÉÂÖÅËÆ∏ËôöÊãüÊú∫Ê†àÁöÑÂ§ßÂ∞èÂõ∫ÂÆö‰∏çÂèòÊàñËÄÖÂä®ÊÄÅÊâ©Â±ï„ÄÇÂõ∫ÂÆöÊÉÖÂÜµ‰∏ãÔºöÂ¶ÇÊûúÁ∫øÁ®ãËØ∑Ê±ÇÂàÜÈÖçÁöÑÊ†àÂÆπÈáèË∂ÖËøáJavaËôöÊãüÊú∫ÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÂÆπÈáèÔºåÂàôÊäõÂá∫StackOverflowErrorÂºÇÂ∏∏ÔºõÂèØÂä®ÊÄÅÊâ©Â±ïÊÉÖÂÜµ‰∏ãÔºöÂ∞ùËØïÊâ©Â±ïÁöÑÊó∂ÂÄôÊó†Ê≥ïÁî≥ËØ∑Âà∞Ë∂≥Â§üÁöÑÂÜÖÂ≠òÔºõÊàñËÄÖÂú®ÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÁöÑÊó∂ÂÄôÊ≤°ÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÂéªÂàõÂª∫ÂØπÂ∫îÁöÑËôöÊãüÊú∫Ê†àÔºåÂàô‰ºöÊäõÂá∫OutOfMemoryErrorÂºÇÂ∏∏„ÄÇ‰∏çÂêåÂπ≥Âè∞ÁöÑËôöÊãüÊú∫Ê†àÈªòËÆ§Â§ßÂ∞è‰∏çÂêåÔºöLinux/x64 (64-bit): 1024 KBmacOS (64-bit): 1024 KBOracle Solaris/x64 (64-bit): 1024 KBWindows: ÈªòËÆ§ÂÄºÂèñÂÜ≥‰∫éËôöÊãüÂÜÖÂ≠ò„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá-XssËÆæÁΩÆËôöÊãüÊú∫Ê†àÂ§ßÂ∞èÔºåÈªòËÆ§Âçï‰Ωç‰∏∫Â≠óËäÇ„ÄÇ‰πüÂèØ‰ª•ÈÄöËøákÊàñËÄÖKÊåáÂÆöÂçï‰Ωç‰∏∫KBÔºåmÊàñMÊåáÂÆöÂçï‰Ωç‰∏∫MBÔºågÊàñGÊåáÂÆöÂçï‰Ωç‰∏∫GB„ÄÇ‰∏ãÈù¢ËøôÁªÑÈÖçÁΩÆÈÉΩÊòØÂ∞ÜËôöÊãüÊú∫Ê†àÂ§ßÂ∞èËÆæÁΩÆ‰∏∫1024KBÔºö123-Xss1m-Xss1024k-Xss1048576ËôöÊãüÊú∫Ê†àË∂äÂ§ßÔºåÊñπÊ≥ïË∞ÉÁî®Ê∑±Â∫¶Ë∂äÊ∑±Ôºå‰∏æ‰∏™‰æãÂ≠êÔºö123456789public class Test &#123; private static int count = 1; public static void main(String[] args) &#123; System.out.println(count); count++; main(args); &#125;&#125;Âú®macOSÂπ≥Âè∞‰∏ãÔºåËôöÊãüÊú∫Ê†àÁöÑÈªòËÆ§Â§ßÂ∞è‰∏∫1024KBÔºåÁ®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö1234567891011......1081710818108191082010821108221082310824*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844Exception in thread &quot;main&quot; java.lang.StackOverflowErrorÁ®ãÂ∫èËæìÂá∫10824ÂêéÊäõÂá∫StackOverflowErrorÔºõÊàë‰ª¨ÈÄöËøá-Xss200kÂëΩ‰ª§Â∞ÜËôöÊãüÊú∫Ê†àÂ§ßÂ∞èË∞ÉÊï¥‰∏∫200KBÂÜçËßÇÂØüËæìÂá∫ÁªìÊûúÔºö1234567891011......121412151216121712181219*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message transform method call failed at JPLISAgent.c line: 844Exception in thread &quot;main&quot; java.lang.StackOverflowErrorÂèØ‰ª•ÁúãÂà∞ÔºåÊñπÊ≥ïË∞ÉÁî®Ê∑±Â∫¶ÊòéÊòæÂèòÂ∞è‰∫Ü„ÄÇÊ†àÂ∏ßÂÜÖÈÉ®ÁªìÊûÑÊØè‰∏™Ê†àÂ∏ßÂåÖÂê´5‰∏™ÁªÑÊàêÈÉ®ÂàÜÔºöÂ±ÄÈÉ®ÂèòÈáèË°®ÔºàLocal VariablesÔºâ„ÄÅÊìç‰ΩúÊï∞Ê†àÔºàOperand StackÔºâ„ÄÅÂä®ÊÄÅÈìæÊé•ÔºàDynamic LinkingÔºâ„ÄÅÊñπÊ≥ïËøîÂõûÂú∞ÂùÄÔºàReturn AddressÔºâÂíå‰∏Ä‰∫õÈôÑÂä†‰ø°ÊÅØÔºöÂ±ÄÈÉ®ÂèòÈáèË°®Â±ÄÈÉ®ÂèòÈáèË°®ÊòØ‰∏Ä‰∏™Êï∞Â≠óÊï∞ÁªÑÔºåÁî®‰∫éÂ≠òÂÇ®ÊñπÊ≥ïÂèÇÊï∞ÂíåÊñπÊ≥ï‰ΩìÂÜÖÁöÑÂ±ÄÈÉ®ÂèòÈáè„ÄÇ‰∏ãÈù¢TestÁ±ªÂåÖÂê´helloÈùôÊÄÅÊñπÊ≥ïÔºö1234567public class Test &#123; public static void hello(String name) &#123; Date date = new Date(); int count = 1; &#125;&#125;‰ΩøÁî®javap -vÂëΩ‰ª§Êü•ÁúãÂÖ∂Â≠óËäÇÁ†ÅÔºöÈùûÈùôÊÄÅÊñπÊ≥ïÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®ÂíåÈùôÊÄÅÊñπÊ≥ïÁõ∏ÊØîÔºåÂ§ö‰∫Ü‰∏™thisÂØπË±°ÔºàÂç≥ÂΩìÂâçÁ±ªÔºâÔºö1234567public class Test &#123; public void halo(String name) &#123; Date date = new Date(); int count = 1; &#125;&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÈùûÈùôÊÄÅÊñπÊ≥ïÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®È¶ñ‰ΩçÂ∞±Â≠òÊîæ‰∫ÜthisÂØπË±°ÔºåËøô‰πüÊòØÈùôÊÄÅÊñπÊ≥ïÂÜÖÊó†Ê≥ï‰ΩøÁî®thisÁöÑÂéüÂõ†ÔºàÂõ†‰∏∫ÈùôÊÄÅÊñπÊ≥ïÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠Ê≤°ÊúâthisÂØπË±°Ôºâ„ÄÇÂ±ÄÈÉ®ÂèòÈáèË°®Êï∞ÁªÑÂÆπÈáèÁöÑÂ§ßÂ∞èÂú®ÁºñËØëÊúüÂ∞±ÂèØ‰ª•ÂîØ‰∏ÄÁ°ÆÂÆö‰∏ãÊù•ÔºåÂπ∂‰øùÂ≠òÂú®ÊñπÊ≥ïÁöÑCodeÂ±ûÊÄßÁöÑmaximum locacl variablesÊï∞ÊçÆÈ°π‰∏≠ÔºåÂ∞±Êãø‰∏äÈù¢TestÁ±ªÁöÑhelloÊñπÊ≥ïÊù•ËØ¥ÔºåÂÖ∂Â≠óËäÇÁ†ÅÈáåÂ∑≤ÁªèÊåáÊòé‰∫ÜÂ±ÄÈÉ®ÂèòÈáèË°®ÁöÑÂ§ßÂ∞èÔºöÈÄöËøájclasslibÊèí‰ª∂‰πüÂèØ‰ª•ÁúãÂà∞Â±ÄÈÉ®ÂèòÈáèË°®ÁöÑÂ§ßÂ∞èÔºöÂ±ÄÈÉ®ÂèòÈáèË°®ÁöÑÊúÄÂü∫Êú¨ÂçïÂÖÉÊòØÂèòÈáèÊßΩÔºàSlotÔºâ„ÄÇÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠32‰Ωç‰ª•ÂÜÖÁöÑÊï∞ÊçÆÁ±ªÂûãÔºàÈô§longÂíådoubleÂ§ñÔºâÂè™Âç†Áî®‰∏Ä‰∏™slotÔºå64‰ΩçÁ±ªÂûãÔºàlongÂíådoubleÔºâÂç†Áî®‰∏§‰∏™slot„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö123456789public class Test &#123; public static void hello(String name) &#123; Date date = new Date(); long number = 200L; double salary = 6000.0; int count = 1; &#125;&#125;Ê≠§Â§ñÔºåÈÄöËøáÂ±ÄÈÉ®ÂèòÈáèË°®ÂåÖÂê´ÁöÑ‰ø°ÊÅØÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÂæóÂá∫Â±ÄÈÉ®ÂèòÈáèÁöÑ‰ΩúÁî®ËåÉÂõ¥„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÂΩìÂâçÊúâÂ¶Ç‰∏ã‰ª£Á†ÅÔºöÊü•ÁúãÂÖ∂Â≠óËäÇÁ†ÅÔºö‰ª•ÊñπÊ≥ïÂèÇÊï∞name‰∏∫‰æãÔºåÊü•ÁúãLocalVariableTableÔºånameÂèÇÊï∞ÂØπÂ∫îÁöÑStartÂàóÁöÑÂÄº‰∏∫0ÔºåË°®Á§∫ÂÖ∂Âú®Á¨¨0Ë°åÂ≠óËäÇÁ†ÅÊåá‰ª§Â§ÑÁîüÊïàÔºàÈÄöËøáLineNumberTableÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅìÔºåÁ¨¨0Ë°åÂ≠óËäÇÁ†ÅÊåá‰ª§ÂØπÂ∫îÁ®ãÂ∫è‰∏≠ÁöÑÁ¨¨6Ë°å‰ª£Á†ÅÔºâÔºõLengthÂàóÁöÑÂÄº‰∏∫3ÔºåËØ¥ÊòénameÂèÇÊï∞ÁöÑÊúâÊïà‰ΩúÁî®ÂüüÈïøÂ∫¶‰∏∫3ÔºåÂõ†‰∏∫nameÊòØÂú®Á¨¨0Ë°åÂ≠óËäÇÁ†ÅÊåá‰ª§Â§ÑÁîüÊïàÁöÑÔºåÊâÄ‰ª•nameÂú®0 ~ 2Ë°åÂ≠óËäÇÁ†ÅÊåá‰ª§ËåÉÂõ¥ÂÜÖÊúâÊïàÔºàÈÄöËøáLineNumberTableÁöÑÂØπÂ∫îÂÖ≥Á≥ªÔºåÊàë‰ª¨‰πüÂèØ‰ª•Áü•ÈÅìnameÂú®Êàë‰ª¨ÁöÑ‰ª£Á†Å‰∏≠‰ΩúÁî®ÂüüËåÉÂõ¥‰∏∫Á¨¨6Ë°åÂà∞Á¨¨7Ë°åÔºâ„ÄÇÂ±ÄÈÉ®ÂèòÈáèË°®ÁöÑÊßΩ‰ΩçÊòØÂèØ‰ª•ÈáçÂ§çÂà©Áî®ÁöÑÔºåÂ¶ÇÊûú‰∏Ä‰∏™Â±ÄÈÉ®ÂèòÈáèËøá‰∫ÜÂÖ∂‰ΩúÁî®ÂüüÔºåÈÇ£‰πàÂú®ÂÖ∂‰ΩúÁî®Âüü‰πãÂêéÁî≥ÊòéÁöÑÊñ∞ÁöÑÂ±ÄÈÉ®ÂèòÈáèÂæàÊúâÂèØËÉΩ‰ºöÂ§çÁî®ËøáÊúüÂ±ÄÈÉ®ÂèòÈáèÁöÑÊßΩ‰Ωç„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÁé∞ÊúâÂ¶Ç‰∏ã‰ª£Á†ÅÔºö12345678910public class Test &#123; public static void hello(String name) &#123; &#123; int a = 1; System.out.println(a); &#125; int b = 2; &#125;&#125;Êü•ÁúãÂÖ∂Â±ÄÈÉ®ÂèòÈáèË°®ÔºöÂèØ‰ª•ÁúãÂà∞Â±ÄÈÉ®ÂèòÈáèaÂíåbÁöÑÊßΩ‰ΩçÈÉΩÊòØ1ÔºåËØ¥ÊòéÊßΩ‰ΩçÈáçÂ§çÂà©Áî®‰∫Ü„ÄÇËøôÊòØÂõ†‰∏∫Âú®ÂÆö‰πâÂ±ÄÈÉ®ÂèòÈáèbÁöÑÊó∂ÂÄôÔºåÂ±ÄÈÉ®ÂèòÈáèaÂ∑≤ÁªèÂá∫‰∫Ü‰ΩúÁî®ÂüüÂ§±ÊïàÈîÄÊØÅ‰∫ÜÔºå‰ΩÜÊòØÂ±ÄÈÉ®ÂèòÈáèË°®ÁöÑÊßΩ‰ΩçÂ∑≤ÁªèÂºÄËæü‰∫ÜÔºåÊâÄ‰ª•Â±ÄÈÉ®ÂèòÈáèbÁõ¥Êé•ÈáçÂ§çÂà©Áî®Á¥¢Âºï‰∏∫1ÁöÑÊßΩ‰Ωç„ÄÇÊìç‰ΩúÊï∞Ê†àÊØè‰∏Ä‰∏™Áã¨Á´ãÁöÑÊ†àÂ∏ß‰∏≠Èô§‰∫ÜÂåÖÂê´Â±ÄÈÉ®ÂèòÈáèË°®Â§ñÔºåËøòÂåÖÂê´‰∏Ä‰∏™FILOÁöÑÊìç‰ΩúÊï∞Ê†àÔºåÁî®‰∫é‰øùÂ≠òËÆ°ÁÆóËøáÁ®ã‰∏≠ÁöÑ‰∏≠Èó¥ÁªìÊûúÔºåÂêåÊó∂‰Ωú‰∏∫ËÆ°ÁÆóËøáÁ®ã‰∏≠ÂèòÈáè‰∏¥Êó∂ÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇÊØè‰∏™Êìç‰ΩúÊï∞Ê†àÈÉΩÊúâ‰∏Ä‰∏™ÊòéÁ°ÆÁöÑÊ∑±Â∫¶ÔºåÂú®ÁºñËØëÊúüÂ∑≤ÁªèÁ°ÆÂÆö‰∏ãÊù•Ôºö123456789public class Test &#123; public int add() &#123; int a = 1; int b = 1; int c = a + b; return c; &#125;&#125;Êü•ÁúãÂÖ∂Â≠óËäÇÁ†ÅÔºöÊ†à‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩÂèØ‰ª•ÊòØ‰ªªÊÑèÁöÑJavaÊï∞ÊçÆÁ±ªÂûãÔºå32bitÁöÑÁ±ªÂûãÂç†Áî®‰∏Ä‰∏™Ê†àÊ∑±Â∫¶Ôºå64bitÁöÑÁ±ªÂûãÂç†Áî®‰∏§‰∏™Ê†àÂçï‰ΩçÊ∑±Â∫¶Ôºö123456public class Test &#123; public void test() &#123; int a = 1; &#125;&#125;Êü•ÁúãÂÖ∂Â≠óËäÇÁ†ÅÔºöÊìç‰ΩúÊï∞Ê†àÊ∑±Â∫¶‰∏∫1„ÄÇÂ∞Ü‰ª£Á†ÅÁöÑÂ±ÄÈÉ®ÂèòÈáèaÁ±ªÂûãÊîπ‰∏∫64bitÁöÑdoubleÁ±ªÂûãÔºö123456public class Test &#123; public void test() &#123; double b = 1.0; &#125;&#125;Êìç‰ΩúÊï∞Ê†àÊ∑±Â∫¶‰∏∫2„ÄÇÊìç‰ΩúÊï∞Ê†àÂú®ÊñπÊ≥ïÁöÑÊâßË°åËøáÁ®ã‰∏≠ÔºåÊ†πÊçÆÂ≠óËäÇÁ†ÅÊåá‰ª§ÂæÄÊ†à‰∏≠ÂÜôÂÖ•Êï∞ÊçÆÊàñÊèêÂèñÊï∞ÊçÆÔºåÂç≥ÂÖ•Ê†àÂíåÂá∫Ê†àÊìç‰Ωú„ÄÇËôΩÁÑ∂Ê†àÊòØÁî®Êï∞ÁªÑÂÆûÁé∞ÁöÑÔºå‰ΩÜÊ†πÊçÆÊ†àÁöÑÁâπÊÄßÔºåÂØπÊ†à‰∏≠Êï∞ÊçÆËÆøÈóÆ‰∏çËÉΩÈÄöËøáÁ¥¢ÂºïÔºåËÄåÊòØÂè™ËÉΩÈÄöËøáÊ†áÂáÜÁöÑÂÖ•Ê†àÂíåÂá∫Ê†àÊìç‰ΩúÊù•ÂÆåÊàê‰∏ÄÊ¨°Êï∞ÊçÆËÆøÈóÆ„ÄÇ‰∏ãÈù¢ÈÄöËøá‰∏Ä‰∏™‰æãÂ≠êÊù•ÊÑüÂèóPCÂØÑÂ≠òÂô®ÔºåÂ±ÄÈÉ®ÂèòÈáèË°®ÂíåÊìç‰ΩúÊï∞Ê†àÊòØÂ¶Ç‰ΩïÁõ∏‰∫íÈÖçÂêàÂÆåÊàê‰∏ÄÊ¨°ÊñπÊ≥ïÁöÑÊâßË°åÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678public class Test &#123; public void add() &#123; int a = 15; int b = 1; int c = a + b; &#125;&#125;Âú®Êü•ÁúãÂ≠óËäÇÁ†ÅÊåá‰ª§‰πãÂâçÔºåÂÖàËÆ∞ÂΩï‰∏ãÂá†‰∏™ÂÖ•Ê†àÂá∫Ê†àÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§Âê´‰πâÔºöÂΩìintÂèñÂÄº -1 ~ 5 ÈááÁî®iconstÊåá‰ª§ÂÖ•Ê†àÔºõÂèñÂÄº -128 ~ 127ÔºàbyteÊúâÊïàËåÉÂõ¥ÔºâÈááÁî®bipushÊåá‰ª§ÂÖ•Ê†àÔºõÂèñÂÄº -32768 ~ 32767ÔºàshortÊúâÊïàËåÉÂõ¥ÔºâÈááÁî®sipushÊåá‰ª§ÂÖ•Ê†àÔºõÂèñÂÄº -2147483648 ~ 2147483647ÔºàintÊúâÊïàËåÉÂõ¥ÔºâÈááÁî®ldcÊåá‰ª§ÂÖ•Ê†àÔºõistoreÔºåÊ†àÈ°∂ÂÖÉÁ¥†Âá∫Ê†àÔºå‰øùÂ≠òÂà∞Â±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÔºõiloadÔºå‰ªéÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠Âä†ËΩΩÊï∞ÊçÆÂÖ•Ê†à„ÄÇÊõ¥Â§öÂ≠óËäÇÁ†ÅÊåá‰ª§Âê´‰πâÂêéÁª≠Ê∑±ÂÖ•Â≠¶‰π†JavaËôöÊãüÊú∫Â≠óËäÇÁ†ÅÊåá‰ª§ÂÜçËØ¥üåö„ÄÇ‰∏äÈù¢ÊñπÊ≥ïÂØπÂ∫îÁöÑÂ≠óËäÇÁ†ÅÂ¶Ç‰∏ãÔºöÊåá‰ª§ÊâßË°åËøáÁ®ã‰∏≠ÔºåPCÂØÑÂ≠òÂô®ÔºåÂ±ÄÈÉ®ÂèòÈáèË°®ÂíåÊìç‰ΩúÊï∞Ê†àÁä∂ÊÄÅÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂ¶ÇÊûúË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÂ∏¶ÊúâËøîÂõûÂÄºÁöÑËØùÔºåÂÖ∂ËøîÂõûÂÄº‰ºöË¢´ÂéãÂÖ•ÂΩìÂâçÊ†àÂ∏ßÁöÑÊìç‰ΩúÊï∞Ê†à‰∏≠„ÄÇÂä®ÊÄÅÈìæÊé•Âú®JavaÊ∫êÊñá‰ª∂Ë¢´ÁºñËØëÊàêÂ≠óËäÇÁ†ÅÊñá‰ª∂Êó∂ÔºåÊâÄÊúâÁöÑÂèòÈáèÂíåÊñπÊ≥ïÂºïÁî®ÈÉΩ‰Ωú‰∏∫Á¨¶Âè∑ÂºïÁî®‰øùÂ≠òÂú®classÊñá‰ª∂ÁöÑÂ∏∏ÈáèÊ±†ÈáåÔºåÂä®ÊÄÅÈìæÊé•ÁöÑ‰ΩúÁî®Â∞±ÊòØ‰∏∫‰∫ÜÂ∞ÜËøô‰∫õÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Ë∞ÉÁî®ÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®ÔºåÊØîÂ¶ÇÔºö12345public class Test &#123; public void hello() &#123; System.out.println("hello"); &#125;&#125;ÂÖ∂Â≠óËäÇÁ†Å‰∏≠ÁöÑÂ∏∏ÈáèÊ±†Â¶Ç‰∏ãÔºöÊØîÂ¶ÇÁ¨¶Âè∑#27Â∞±Ë°®Á§∫‰∏∫‰∏Ä‰∏™ÊâìÂç∞ÊµÅ„ÄÇÊñπÊ≥ïËøîÂõûÂú∞ÂùÄÂ≠òÊîæË∞ÉÁî®ËØ•ÊñπÊ≥ïÁöÑpcÂØÑÂ≠òÂô®ÁöÑÂÄº„ÄÇ‰∏Ä‰∏™ÊñπÊ≥ïÁöÑÁªìÊùüÂàÜ‰∏∫‰ª•‰∏ã‰∏§ÁßçÊñπÂºèÔºöÊ≠£Â∏∏ÊâßË°åÁªìÊùüÔºõÂá∫Áé∞Êú™Â§ÑÁêÜÂºÇÂ∏∏ÔºåÈùûÊ≠£Â∏∏ÈÄÄÂá∫„ÄÇÊó†ËÆ∫ÊòØÂì™ÁßçÊñπÂºèÈÄÄÂá∫ÔºåÂú®ÊñπÊ≥ïÈÄÄÂá∫ÂêéÈÉΩËøîÂõûÂà∞ËØ•ÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑ‰ΩçÁΩÆ„ÄÇÊñπÊ≥ïÊ≠£Â∏∏ÈÄÄÂá∫Êó∂ÔºåË∞ÉÁî®ËÄÖÁöÑpcÂØÑÂ≠òÂô®ÁöÑÂÄº‰Ωú‰∏∫ËøîÂõûÂú∞ÂùÄÔºåÂç≥Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÁöÑÊåá‰ª§ÁöÑ‰∏ã‰∏ÄÊù°Êåá‰ª§Âú∞ÂùÄÔºõÂºÇÂ∏∏ÈÄÄÂá∫Êó∂ÔºåËøîÂõûÂú∞ÂùÄÈúÄË¶ÅÈÄöËøáÂºÇÂ∏∏Ë°®Êù•Á°ÆÂÆö„ÄÇ‰∏Ä‰∫õÈôÑÂä†‰ø°ÊÅØÊØîÂ¶ÇÂØπÁ®ãÂ∫èË∞ÉÂºèÊèê‰æõÁöÑÊîØÊåÅ‰ø°ÊÅØ„ÄÇÊú¨Âú∞ÊñπÊ≥ïÊé•Âè£Êú¨Âú∞ÊñπÊ≥ïÊé•Âè£(Native Interface)ÁöÑ‰ΩúÁî®ÊòØËûçÂêà‰∏çÂêåÁöÑÁºñÁ®ãËØ≠Ë®Ä‰∏∫JavaÊâÄÁî®ÔºåÂÆÉÁöÑÂàùË°∑ÊòØËûçÂêàC/C++Á®ãÂ∫è„ÄÇJavaËØûÁîüÁöÑÊó∂ÂÄôÊòØ C/C++Ê®™Ë°åÁöÑÊó∂ÂÄôÔºåË¶ÅÊÉ≥Á´ãË∂≥ÔºåÂøÖÈ°ªË∞ÉÁî® C/C++Á®ãÂ∫èÔºå‰∫éÊòØÂ∞±Âú®ÂÜÖÂ≠ò‰∏≠‰∏ìÈó®ÂºÄËæü‰∫Ü‰∏ÄÂùóÂå∫ÂüüÂ§ÑÁêÜÊ†áËÆ∞‰∏∫nativeÁöÑ‰ª£Á†Å„ÄÇÊØîÂ¶ÇÊü•Áúãjava.lang.ThreadÁ±ªÊ∫êÁ†ÅÂ∞±‰ºöÂèëÁé∞ÂΩì‰∏≠Â≠òÂú®ËÆ∏Â§önativeÊñπÊ≥ïÔºönativeÊñπÊ≥ïÊ≤°ÊúâÊñπÊ≥ï‰ΩìÔºàÂõ†‰∏∫‰∏çÊòØJavaÂÆûÁé∞ÔºâÔºåÊâÄ‰ª•Áúã‰∏äÂéªÂÉèÊòØ‚ÄúÊé•Âè£‚Äù‰∏ÄÊ†∑ÔºåÊïÖÂæóÂêçÊú¨Âú∞ÊñπÊ≥ïÊé•Âè£„ÄÇÊú¨Âú∞ÊñπÊ≥ïÊ†àÂ¶ÇÂâçÊâÄËø∞ÔºåËôöÊãüÊú∫Ê†àÁî®‰∫éÁÆ°ÁêÜJavaÊñπÊ≥ïÁöÑË∞ÉÁî®ÔºåËÄåÊú¨Âú∞ÊñπÊ≥ïÊ†àÂàôÊòØÁî®‰∫éÁÆ°ÁêÜÊú¨Âú∞ÊñπÊ≥ïÁöÑË∞ÉÁî®„ÄÇÂ†ÜÔºàHeapÔºâÂ†ÜÔºàHeapÔºâ‰∏Ä‰∏™JVMÂÆû‰æãÂè™Â≠òÂú®‰∏Ä‰∏™Â†ÜÂÜÖÂ≠òÔºåÂ†ÜÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÊòØÂèØ‰ª•Ë∞ÉËäÇÁöÑ„ÄÇÂ†Ü‰∏≠‰øùÂ≠òÁùÄÊâÄÊúâÂºïÁî®Á±ªÂûãÁöÑÁúüÂÆû‰ø°ÊÅØÔºå‰ª•Êñπ‰æøÊâßË°åÂô®ÊâßË°å„ÄÇÂ†ÜÂú®ÈÄªËæë‰∏äÂàÜ‰∏∫‰∏â‰∏™Âå∫ÂüüÔºöJava7ÔºöJava8ÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂú®Java7Êó∂‰ª£ÔºåÂ†ÜÂàÜ‰∏∫Êñ∞ÁîüÂå∫ÔºàÊñ∞ÁîüÂå∫ÂåÖÂê´‰ºäÁî∏Âõ≠Âå∫ÂíåÂπ∏Â≠òÂå∫ÔºåÂπ∏Â≠òÂå∫ÂèàÂåÖÂê´Âπ∏Â≠òËÄÖ0Âå∫ÂíåÂπ∏Â≠òËÄÖ1Âå∫„ÄÇÊ≠§Â§ñÔºåÂπ∏Â≠òËÄÖ0Âå∫ÂèàÁß∞‰∏∫FromÂå∫ÔºåÂπ∏Â≠òËÄÖ1Âå∫ÂèàÁß∞‰∏∫ToÂå∫ÔºåFromÂå∫ÂíåToÂå∫Âπ∂‰∏çÊòØÂõ∫ÂÆöÁöÑÔºåÂ§çÂà∂‰πãÂêé‰∫§‰∫íÔºåË∞ÅÁ©∫Ë∞ÅÊòØToÔºâÔºåÂÖªËÄÅÂå∫ÂíåÊ∞∏‰πÖ‰ª£ÔºõÂú®Java8‰∏≠ÔºåÊ∞∏‰πÖ‰ª£Â∑≤ÁªèË¢´ÁßªÈô§ÔºåË¢´‰∏Ä‰∏™Áß∞‰∏∫ÂÖÉÁ©∫Èó¥ÁöÑÂå∫ÂüüÊâÄÂèñ‰ª£„ÄÇÂÖÉÁ©∫Èó¥ÁöÑÊú¨Ë¥®ÂíåÊ∞∏‰πÖ‰ª£Á±ª‰ºº„ÄÇÂÖÉÁ©∫Èó¥‰∏éÊ∞∏‰πÖ‰ª£‰πãÈó¥ÊúÄÂ§ßÁöÑÂå∫Âà´Âú®‰∫éÔºöÊ∞∏‰πÖ‰ª£‰ΩøÁî®ÁöÑJVMÁöÑÂ†ÜÂÜÖÂ≠òÔºå‰ΩÜÊòØjava8‰ª•ÂêéÁöÑÂÖÉÁ©∫Èó¥Âπ∂‰∏çÂú®ËôöÊãüÊú∫‰∏≠ËÄåÊòØ‰ΩøÁî®Êú¨Êú∫Áâ©ÁêÜÂÜÖÂ≠òÔºàÊâÄ‰ª•Âú®‰∏äÂõæ‰∏≠ÔºåÊàëÁî®ËôöÁ∫øË°®Á§∫Ôºâ„ÄÇÂ†Ü‰πãÊâÄ‰ª•Ë¶ÅÂàÜÂå∫ÊòØÂõ†‰∏∫ÔºöJavaÁ®ãÂ∫è‰∏≠‰∏çÂêåÂØπË±°ÁöÑÁîüÂëΩÂë®Êúü‰∏çÂêåÔºå70%~99%ÂØπË±°ÈÉΩÊòØ‰∏¥Êó∂ÂØπË±°ÔºåËøôÁ±ªÂØπË±°Âú®Êñ∞ÁîüÂå∫‚ÄúÊúùÁîüÂ§ïÊ≠ª‚Äù„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂàÜÂå∫ÔºåGCÊó∂ÊêúÈõÜÂûÉÂúæÈúÄË¶ÅÂØπÊï¥‰∏™Â†ÜÂÜÖÂ≠òËøõË°åÊâ´ÊèèÔºõÂàÜÂå∫ÂêéÔºåÂõûÊî∂Ëøô‰∫õ‚ÄúÊúùÁîüÂ§ïÊ≠ª‚ÄùÁöÑÂØπË±°ÔºåÂè™ÈúÄË¶ÅÂú®Â∞èËåÉÂõ¥ÁöÑÂå∫Âüü‰∏≠ÔºàÊñ∞ÁîüÂå∫ÔºâÊêúÈõÜÂûÉÂúæ„ÄÇÊâÄ‰ª•ÔºåÂàÜÂå∫ÁöÑÂîØ‰∏ÄÁêÜÁî±Â∞±ÊòØ‰∏∫‰∫Ü‰ºòÂåñGCÊÄßËÉΩ„ÄÇÂ†ÜÁ©∫Èó¥ÂØπË±°ÂàÜÈÖçËøáÁ®ã‰∏ãÈù¢ÈÄöËøá‰∏Ä‰∏™‰æãÂ≠êÊù•ËÆ≤Ëø∞ËøôÂá†‰∏™Âå∫ÁöÑ‰∫§‰∫íÈÄªËæëÔºö1.Âá†‰πé‰ªª‰ΩïÊñ∞ÁöÑÂØπË±°ÈÉΩÊòØÂú®‰ºäÁî∏Âõ≠Âå∫Ë¢´newÂá∫Êù•ÂàõÂª∫ÔºåÂàöÂºÄÂßãÁöÑÊó∂ÂÄô‰∏§‰∏™Âπ∏Â≠òËÄÖÂå∫ÂíåÂÖªËÄÅÂå∫ÈÉΩÊòØÁ©∫ÁöÑÔºö2.ÈöèÁùÄÂØπË±°ÁöÑ‰∏çÊñ≠ÂàõÂª∫Ôºå‰ºäÁî∏Âõ≠Âå∫Á©∫Èó¥ÈÄêÊ∏êË¢´Â°´Êª°Ôºö3.ËøôÊó∂ÂÄôÂ∞ÜËß¶Âèë‰∏ÄÊ¨°Minor GCÔºàYoung GCÔºâÔºåÂà†Èô§Êú™ÂºïÁî®ÁöÑÂØπË±°ÔºåGCÂâ©‰∏ãÊù•ÁöÑËøòÂ≠òÂú®ÂºïÁî®ÁöÑÂØπË±°Â∞ÜÁßªÂä®Âà∞Âπ∏Â≠òËÄÖ0Âå∫ÔºåÁÑ∂ÂêéÊ∏ÖÁ©∫‰ºäÁî∏Âõ≠Âå∫Ôºö4.ÈöèÁùÄÂØπË±°ÁöÑÂàõÂª∫Ôºå‰ºäÁî∏Âõ≠Âå∫Á©∫Èó¥ÂèàÊª°‰∫ÜÔºåÂÜç‰∏ÄÊ¨°Ëß¶ÂèëMinor GCÔºåÂà†Èô§Êú™ÂºïÁî®ÁöÑÂØπË±°ÔºåÁïô‰∏ãÂ≠òÂú®ÂºïÁî®ÁöÑÂØπË±°„ÄÇËøôÊ¨°Âíå‰∏ä‰∏ÄÊ¨°Minor GCÊúâ‰∫õ‰∏çÂêåÔºåËøôËΩÆGCÁïô‰∏ãÁöÑÂØπË±°Â∞ÜË¢´ÁßªÂä®Âà∞Âπ∏Â≠òËÄÖ1Âå∫ÔºåÂπ∂‰∏î‰∏ä‰∏ÄËΩÆGCÁïô‰∏ãÊù•ÁöÑÂ≠òÂÇ®Âú®Âπ∏Â≠òËÄÖ0Âå∫ÁöÑÂØπË±°Âπ¥ÈæÑÈÄíÂ¢ûÂπ∂ÁßªÂä®Âà∞Âπ∏Â≠òËÄÖ1Âå∫„ÄÇÂΩìÊâÄÊúâÂπ∏Â≠òÂØπË±°ÈÉΩÁßªÂä®Âà∞Âπ∏Â≠òËÄÖ1Âå∫ÂêéÔºåÂπ∏Â≠òËÄÖ0Âå∫Âíå‰ºäÁî∏Âõ≠Âå∫Á©∫Èó¥Ê∏ÖÈô§Ôºö5.ÈöèÁùÄÂØπË±°ÁöÑÂàõÂª∫‰ºäÁî∏Âõ≠Âå∫Á©∫Èó¥ÂÜç‰∏ÄÊ¨°Êª°‰∫ÜÔºåËß¶Âèë‰∫ÜÁ¨¨‰∏âÊ¨°Minor GCÔºåËøô‰∏ÄÊ¨°Âπ∏Â≠òÂå∫Á©∫Èó¥Â∞ÜÂèëÁîü‰∫íÊç¢ÔºåGCÁïô‰∏ãÊù•ÁöÑÂπ∏Â≠òËÄÖÂ∞ÜÁßªÂä®Âà∞Âπ∏Â≠òËÄÖ0Âå∫ÔºåÂπ∏Â≠òËÄÖ1Âå∫ÁöÑÂπ∏Â≠òÂØπË±°Âπ¥ÈæÑÈÄíÂ¢ûÂêé‰πüÁßªÂä®Âà∞Âπ∏Â≠òËÄÖ0Âå∫ÔºåÁÑ∂Âêé‰ºäÁî∏Âõ≠Âå∫ÂíåÂπ∏Â≠òËÄÖ1Âå∫ÁöÑÁ©∫Èó¥Ë¢´Ê∏ÖÈô§Ôºö6.ÈöèÁùÄMinor GCÁöÑ‰∏çÊñ≠ÂèëÁîüÔºåÂπ∏Â≠òÂØπË±°Âú®‰∏§‰∏™Âπ∏Â≠òÂå∫‰∏çÊñ≠Âú∞‰∫§Êç¢Â≠òÂÇ®ÔºåÂπ¥ÈæÑ‰πü‰∏çÊñ≠ÈÄíÂ¢û„ÄÇÂ¶ÇÊ≠§ÂèçÂèçÂ§çÂ§ç‰πãÂêéÔºåÂΩìÂπ∏Â≠òÂØπË±°ÁöÑÂπ¥ÈæÑËææÂà∞ÊåáÂÆöÁöÑÈòàÂÄºÔºàËøô‰∏™‰æãÂ≠ê‰∏≠ÊòØ8ÔºåÁî±JVMÂèÇÊï∞MaxTenuringThresholdÂÜ≥ÂÆöÔºâÂêéÔºåÂÆÉ‰ª¨Â∞ÜË¢´ÁßªÂä®Âà∞ÂÖªËÄÅÂå∫Ôºö7.ÈöèÁùÄ‰∏äËø∞ËøáÁ®ãÁöÑ‰∏çÊñ≠Âá∫Áé∞ÔºåÂΩìÂÖªËÄÅÂå∫Âø´Êª°Êó∂ÔºåÂ∞ÜËß¶ÂèëMajor GCÔºàFull GCÔºâËøõË°åÂÖªËÄÅÂå∫ÁöÑÂÜÖÂ≠òÊ∏ÖÁêÜ„ÄÇËã•ÂÖªËÄÅÂå∫ÊâßË°å‰∫ÜGC‰πãÂêéÂèëÁé∞‰æùÁÑ∂Êó†Ê≥ïËøõË°åÂØπË±°ÁöÑ‰øùÂ≠òÔºåÂ∞±‰ºö‰∫ßÁîüOOMÂºÇÂ∏∏„ÄÇ‰∏Ä‰∏™ÂØπË±°Ë¢´ÊîæÁΩÆÂà∞ÂÖªËÄÅÂå∫Èô§‰∫ÜÂÆÉÁöÑÂπ¥ÈæÑËææÂà∞ÈòàÂÄºÂ§ñÔºå‰ª•‰∏ãÂá†ÁßçÊÉÖÂÜµ‰πü‰ºö‰ΩøÂæóËØ•ÂØπË±°Áõ¥Êé•Ë¢´ÊîæÁΩÆÂà∞ÂÖªËÄÅÂå∫ÔºöÂØπË±°ÂàõÂª∫ÂêéÔºåÊó†Ê≥ïÊîæÁΩÆÂà∞‰ºäÁî∏Âõ≠Âå∫ÔºàÊØîÂ¶Ç‰ºäÁî∏Âõ≠Âå∫ÁöÑÂ§ßÂ∞è‰∏∫10mÔºåÊñ∞ÁöÑÂØπË±°Â§ßÂ∞è‰∏∫11mÔºå‰ºäÁî∏Âõ≠Âå∫‰∏çÂ§üÊîæÔºåËß¶ÂèëYGC„ÄÇYGCÂêé‰ºäÁî∏Âõ≠Âå∫Ë¢´Ê∏ÖÁ©∫Ôºå‰ΩÜËøòÊòØÊó†Ê≥ïÂÆπ‰∏ã11mÁöÑ‚ÄúË∂ÖÂ§ßÂØπË±°‚ÄùÔºåÊâÄ‰ª•Áõ¥Êé•ÊîæÁΩÆÂà∞ÂÖªËÄÅÂå∫„ÄÇÂΩìÁÑ∂Â¶ÇÊûúÂÖªËÄÅÂå∫ÊîæÁΩÆ‰∏ç‰∏ãÂàô‰ºöËß¶ÂèëFGCÔºåFGCÂêéËøòÊîæ‰∏ç‰∏ãÂàôOOMÔºâÔºõYGCÂêéÔºåÂØπË±°Êó†Ê≥ïÊîæÁΩÆÂà∞Âπ∏Â≠òËÄÖToÂå∫‰πü‰ºöÁõ¥Êé•ÊôãÂçáÂà∞ÂÖªËÄÅÂå∫ÔºõÂ¶ÇÊûúÂπ∏Â≠òÂå∫‰∏≠Áõ∏ÂêåÂπ¥ÈæÑÁöÑÊâÄÊúâÂØπË±°Â§ßÂ∞èÂ§ß‰∫éÂπ∏Â≠òÂå∫Á©∫Èó¥ÁöÑ‰∏ÄÂçäÔºåÂπ¥ÈæÑÂ§ß‰∫éÊàñÁ≠â‰∫éËøô‰∫õÂØπË±°Âπ¥ÈæÑÁöÑÂØπË±°ÂèØ‰ª•Áõ¥Êé•ËøõÂÖ•ÂÖªËÄÅÂå∫ÔºåÊó†ÈúÄÁ≠âÂà∞Âπ¥ÈæÑÈòàÂÄº„ÄÇÂ†ÜÂèÇÊï∞‰ª•JDK1.8+HotSpot‰∏∫‰æãÔºåÂ∏∏Áî®ÁöÑÂèØË∞ÉÊï¥ÁöÑÂ†ÜÂèÇÊï∞ÊúâÔºöÂèÇÊï∞Âê´‰πâ-XmsÔºåÁ≠â‰ª∑‰∫é-XX:InitialHeapSizeËÆæÁΩÆÂ†ÜÁöÑÂàùÂßãÂÜÖÂ≠òÂ§ßÂ∞èÔºåÈªòËÆ§‰∏∫Áâ©ÁêÜÂÜÖÂ≠òÁöÑ1/64-XmxÔºåÁ≠â‰ª∑‰∫é-XX:MaxHeapSizeËÆæÁΩÆÂ†ÜÁöÑÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞èÔºåÈªòËÆ§‰∏∫Áâ©ÁêÜÂÜÖÂ≠òÁöÑ1/4-XX:NewratioËÆæÁΩÆÊñ∞ÁîüÂå∫ÂíåÂÖªËÄÅÂå∫ÁöÑÊØî‰æãÔºåÊØîÂ¶ÇÂÄº‰∏∫2ÔºàÈªòËÆ§ÂÄºÔºâÔºåÂàôÂÖªËÄÅÂå∫ÊòØÊñ∞ÁîüÂå∫ÁöÑ2ÂÄçÔºåÂç≥ÂÖªËÄÅÂå∫Âç†ÊçÆÂ†ÜÂÜÖÂ≠òÁöÑ2/3-XX:SurviorratioËÆæÁΩÆ‰ºäÁî∏Âõ≠Âå∫Âíå‰∏Ä‰∏™Âπ∏Â≠òÂå∫ÁöÑÊØî‰æãÔºåÊØîÂ¶ÇÂÄº‰∏∫8ÔºàÈªòËÆ§ÂÄºÔºâÂàôË°®Á§∫‰ºäÁî∏Âõ≠Âå∫Âç†Êñ∞ÁîüÂå∫ÁöÑ8/10Ôºà‰∏§‰∏™Âπ∏Â≠òÂå∫ÊòØ‰∏ÄÊ†∑Â§ßÁöÑÔºâ-XmnËÆæÁΩÆÂ†ÜÊñ∞ÁîüÂå∫ÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÔºà‰∏ÄËà¨‰∏ç‰ΩøÁî®Ôºâ-XX:MaxTenuringThresholdËÆæÁΩÆËΩ¨ÂÖ•ÂÖªËÄÅÂå∫ÁöÑÂ≠òÊ¥ªÊ¨°Êï∞ÔºåÈªòËÆ§ÂÄº‰∏∫15-XX:+PrintFlagsInitialÊü•ÁúãÊâÄÊúâÂèÇÊï∞ÁöÑÈªòËÆ§ÂàùÂßãÂÄº-XX:+PrintFlagsFinalÊü•ÁúãÊâÄÊúâÂèÇÊï∞ÁöÑÊúÄÁªàÂÄºÔºàË¢´Êàë‰ª¨‰øÆÊîπÂêéÁöÑÂÄº‰∏çÂÜçÊòØÈªòËÆ§ÂàùÂßãÂÄºÔºâÂâ©‰∏ãÊâÄÊúâÂèØÁî®ÂèÇÊï∞ÂèØ‰ª•Êü•ÁúãoracleÂÆòÊñπÊñáÊ°£Ôºöhttps://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html„ÄÇÁîü‰∫ßÁéØÂ¢É‰∏≠ÔºåÊé®ËçêÂ∞Ü-XmsÂíå-XmxËÆæÁΩÆ‰∏∫‰∏ÄÊ†∑Â§ßÔºåÂõ†‰∏∫ËøôÊ†∑ÂÅöÁöÑËØùÂú®JavaÂûÉÂúæÂõûÊî∂Ê∏ÖÁêÜÂÆåÂ†ÜÂå∫Âêé‰∏çÈúÄË¶ÅÈáçÊñ∞ËÆ°ÁÆóÂ†ÜÂå∫Â§ßÂ∞èÔºå‰ªéËÄåÊèêÈ´òÊÄßËÉΩ„ÄÇÊ≠§Â§ñÔºåË¶ÅÂú®Á®ãÂ∫è‰∏≠ËæìÂá∫ËØ¶ÁªÜÁöÑGCÂ§ÑÁêÜÊó•ÂøóÔºåÂèØ‰ª•‰ΩøÁî®-XX:+PrintGCDetails„ÄÇÊØîÂ¶ÇÔºåÊàëÁöÑÁîµËÑëÂÜÖÂ≠ò‰∏∫32GBÔºåÊâÄ‰ª•Â†ÜÁöÑÈªòËÆ§ÂàùÂßãÂÄºÂ§ßÂ∞è‰∏∫500MBÂ∑¶Âè≥ÔºåÂ†ÜÁöÑÊúÄÂ§ßÂÄºÂ§ßÁ∫¶‰∏∫8000MBÂ∑¶Âè≥Ôºö123456789public class Test &#123; public static void main(String[] args) &#123; long maxMemory = Runtime.getRuntime().maxMemory(); long totalMemory = Runtime.getRuntime().totalMemory(); System.out.println("Â†ÜÂÜÖÂ≠òÁöÑÂàùÂßãÂÄº" + totalMemory / 1024 / 1024 + "mb"); System.out.println("Â†ÜÂÜÖÂ≠òÁöÑÊúÄÂ§ßÂÄº" + maxMemory / 1024 / 1024 + "mb"); &#125;&#125;Á®ãÂ∫èËæìÂá∫Ôºö12Â†ÜÂÜÖÂ≠òÁöÑÂàùÂßãÂÄº491mbÂ†ÜÂÜÖÂ≠òÁöÑÊúÄÂ§ßÂÄº7282mbÂèØ‰ª•ÈÄöËøáIDEAË∞ÉÊï¥Â†ÜÁöÑÂ§ßÂ∞èÔºöÊàë‰ª¨Â∞ÜÂ†ÜÂÜÖÂ≠òÁöÑÂàùÂßãÂ§ßÂ∞èÂíåÊúÄÂ§ßÂÄºÈÉΩËÆæÁΩÆ‰∏∫10mbÔºåÂπ∂‰∏îÂºÄÂêØGCÊó•ÂøóÊâìÂç∞ÔºåÈáçÊñ∞ËøêË°å‰∏ãÈù¢ËøôÊÆµÁ®ãÂ∫èÔºö123456789public class Test &#123; public static void main(String[] args) &#123; long maxMemory = Runtime.getRuntime().maxMemory(); long totalMemory = Runtime.getRuntime().totalMemory(); System.out.println("Â†ÜÂÜÖÂ≠òÁöÑÂàùÂßãÂÄº" + totalMemory / 1024 + "kb"); System.out.println("Â†ÜÂÜÖÂ≠òÁöÑÊúÄÂ§ßÂÄº" + maxMemory / 1024 + "kb"); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011Â†ÜÂÜÖÂ≠òÁöÑÂàùÂßãÂÄº9728kbÂ†ÜÂÜÖÂ≠òÁöÑÊúÄÂ§ßÂÄº9728kbHeap PSYoungGen total 2560K, used 1388K [0x00000007bfd00000, 0x00000007c0000000, 0x00000007c0000000) eden space 2048K, 67% used [0x00000007bfd00000,0x00000007bfe5b370,0x00000007bff00000) from space 512K, 0% used [0x00000007bff80000,0x00000007bff80000,0x00000007c0000000) to space 512K, 0% used [0x00000007bff00000,0x00000007bff00000,0x00000007bff80000) ParOldGen total 7168K, used 0K [0x00000007bf600000, 0x00000007bfd00000, 0x00000007bfd00000) object space 7168K, 0% used [0x00000007bf600000,0x00000007bf600000,0x00000007bfd00000) Metaspace used 2947K, capacity 4496K, committed 4864K, reserved 1056768K class space used 320K, capacity 388K, committed 512K, reserved 1048576KÂèØ‰ª•ÁúãÂà∞ÔºåPSYoungGenÔºàÊñ∞ÁîüÂå∫ÔºâÁöÑÊÄªÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫2560kÔºåParOldGenÔºàÂÖªËÄÅÂå∫ÔºâÁöÑÊÄªÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫7168kÔºåÊÄªÂíåÂàöÂ•ΩÊòØ9728KÔºåËøô‰πüËØ¥Êòé‰∫ÜÔºöJava8ÂêéÁöÑÂ†ÜÁâ©ÁêÜ‰∏äÂè™ÂàÜ‰∏∫Êñ∞ÁîüÂå∫ÂíåÂÖªËÄÅÂå∫ÔºåMetaspaceÔºàÂÖÉÁ©∫Èó¥Ôºâ‰∏çÂç†Áî®Â†ÜÂÜÖÂ≠òÔºåËÄåÊòØÁõ¥Êé•‰ΩøÁî®Áâ©ÁêÜÂÜÖÂ≠ò„ÄÇÈÇ£‰∏∫‰ªÄ‰πàÊàë‰ª¨ËÆæÁΩÆÁöÑÂ†ÜÂÜÖÂ≠òÂ§ßÂ∞èÊòØ10mÔºà10240kbÔºâÔºåÊéßÂà∂Âè∞ËæìÂá∫Âç¥Âè™Êúâ9728kbÂë¢Ôºü‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠êÊàë‰ª¨Áü•ÈÅìÔºåÂπ∏Â≠òËÄÖÂå∫ÂàÜ‰∏∫0Âå∫Âíå1Âå∫ÔºåÊ†πÊçÆÂ§çÂà∂ÁÆóÊ≥ïÁöÑÁâπÁÇπÔºåËøô‰∏§‰∏™Âå∫Âêå‰∏ÄÊó∂ÂàªÊÄªÊúâ‰∏Ä‰∏™Âå∫ÊòØÁ©∫ÁöÑÔºåÊâÄ‰ª•ÊéßÂà∂Âè∞ËæìÂá∫ÁöÑÂÜÖÂ≠òËÆ°ÁÆóÊñπÂºè‰∏∫Ôºö2048K(eden space)+512K(from space or to space)+7168K(ParOldGen)=9728K„ÄÇ9728KÂÜçÂä†‰∏Ä‰∏™Âπ∏Â≠òÂå∫ÁöÑÂ§ßÂ∞è512KÂàöÂ•ΩÊòØ10240K„ÄÇÂÜç‰∏æ‰∏™OOMÁöÑ‰æãÂ≠êÔºå‰ΩøÁî®ÂàöÂàö-Xms10m -Xmx10m -XX:+PrintGCDetailsÁöÑËÆæÁΩÆÔºåËøêË°å‰∏ãÈù¢ËøôÊÆµÁ®ãÂ∫èÔºö12345678public class Test &#123; public static void main(String[] args) &#123; String value = "hello"; while (true) &#123; value += value + new Random().nextInt(1000000000) + new Random().nextInt(1000000000); &#125; &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728[GC (Allocation Failure) [PSYoungGen: 1893K-&gt;491K(2560K)] 1893K-&gt;597K(9728K), 0.0007246 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] [GC (Allocation Failure) [PSYoungGen: 2207K-&gt;496K(2560K)] 2313K-&gt;1153K(9728K), 0.0008383 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] [GC (Allocation Failure) [PSYoungGen: 2007K-&gt;496K(2560K)] 2664K-&gt;1897K(9728K), 0.0009456 secs] [Times: user=0.01 sys=0.00, real=0.01 secs] [GC (Allocation Failure) [PSYoungGen: 2021K-&gt;496K(2560K)] 4894K-&gt;4113K(9728K), 0.0010814 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] [GC (Allocation Failure) [PSYoungGen: 1359K-&gt;496K(2560K)] 6448K-&gt;5600K(9728K), 0.0015792 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] [GC (Allocation Failure) [PSYoungGen: 496K-&gt;496K(1536K)] 5600K-&gt;5600K(8704K), 0.0006416 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] [Full GC (Allocation Failure) [PSYoungGen: 496K-&gt;0K(1536K)] [ParOldGen: 5104K-&gt;2585K(7168K)] 5600K-&gt;2585K(8704K), [Metaspace: 2982K-&gt;2982K(1056768K)], 0.0044783 secs] [Times: user=0.02 sys=0.00, real=0.01 secs] [GC (Allocation Failure) [PSYoungGen: 61K-&gt;192K(2048K)] 7061K-&gt;7192K(9216K), 0.0012566 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] [Full GC (Ergonomics) [PSYoungGen: 192K-&gt;0K(2048K)] [ParOldGen: 7000K-&gt;1840K(7168K)] 7192K-&gt;1840K(9216K), [Metaspace: 3042K-&gt;3042K(1056768K)], 0.0072023 secs] [Times: user=0.02 sys=0.00, real=0.01 secs] [GC (Allocation Failure) [PSYoungGen: 65K-&gt;160K(2048K)] 6321K-&gt;6416K(9216K), 0.0022603 secs] [Times: user=0.02 sys=0.00, real=0.00 secs] [Full GC (Ergonomics) [PSYoungGen: 160K-&gt;0K(2048K)] [ParOldGen: 6256K-&gt;4785K(7168K)] 6416K-&gt;4785K(9216K), [Metaspace: 3076K-&gt;3076K(1056768K)], 0.0056740 secs] [Times: user=0.03 sys=0.00, real=0.01 secs] [GC (Allocation Failure) [PSYoungGen: 0K-&gt;0K(2048K)] 4785K-&gt;4785K(9216K), 0.0003871 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] [Full GC (Allocation Failure) [PSYoungGen: 0K-&gt;0K(2048K)] [ParOldGen: 4785K-&gt;4765K(7168K)] 4785K-&gt;4765K(9216K), [Metaspace: 3076K-&gt;3076K(1056768K)], 0.0049903 secs] [Times: user=0.02 sys=0.00, real=0.00 secs] Heap PSYoungGen total 2048K, used 59K [0x00000007bfd00000, 0x00000007c0000000, 0x00000007c0000000) eden space 1024K, 5% used [0x00000007bfd00000,0x00000007bfd0efb8,0x00000007bfe00000) from space 1024K, 0% used [0x00000007bfe00000,0x00000007bfe00000,0x00000007bff00000) to space 1024K, 0% used [0x00000007bff00000,0x00000007bff00000,0x00000007c0000000) ParOldGen total 7168K, used 4765K [0x00000007bf600000, 0x00000007bfd00000, 0x00000007bfd00000) object space 7168K, 66% used [0x00000007bf600000,0x00000007bfaa77b8,0x00000007bfd00000) Metaspace used 3113K, capacity 4496K, committed 4864K, reserved 1056768K class space used 339K, capacity 388K, committed 512K, reserved 1048576KException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space at java.util.Arrays.copyOf(Arrays.java:3332) at java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:124) at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:674) at java.lang.StringBuilder.append(StringBuilder.java:208) at cc.mrbird.Test.main(Test.java:19)ÂèØ‰ª•ÁúãÂà∞ÔºåÁªèËøáÊï∞Ê¨°ÁöÑGCÂíåFull GCÂêéÔºåÂ†ÜÂÜÖÂ≠òËøòÊòØÊó†Ê≥ïËÖæÂá∫Á©∫Èó¥ÔºåÊúÄÁªàÊäõÂá∫OOMÈîôËØØ„ÄÇÊó•ÂøóÁöÑÂê´‰πâÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöYoung GCÔºàMinor GCÔºâÔºöFull GCÔºàMajor GCÔºâÔºöTLABJVMÂØπ‰ºäÁî∏Âõ≠Âå∫ÁªßÁª≠ËøõË°åÂàíÂàÜÔºå‰∏∫ÊØè‰∏™Á∫øÁ®ãÂàÜÈÖç‰∫Ü‰∏Ä‰∏™ÁßÅÊúâÁºìÂ≠òÂå∫ÂüüÔºåËøôÂùóÂå∫ÂüüÂ∞±ÊòØTLABÔºàThread Local Allocation BufferÔºâ„ÄÇÂ§öÁ∫øÁ®ãÂêåÊó∂ÂàÜÈÖçÂÜÖÂ≠òÊó∂Ôºå‰ΩøÁî®TLABÂèØ‰ª•ÈÅøÂÖç‰∏ÄÁ≥ªÂàóÈùûÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºåÂêåÊó∂ËøòËÉΩÂ§üÊèêÂçáÂÜÖÂ≠òÂàÜÈÖçÁöÑÂêûÂêêÈáè„ÄÇÂ∞ΩÁÆ°‰∏çÊòØÊâÄÊúâÁöÑÂØπË±°ÂÆû‰æãÈÉΩËÉΩÂ§üÂú®TLAB‰∏≠ÊàêÂäüÂàÜÈÖçÂÜÖÂ≠òÔºå‰ΩÜJVMÁ°ÆÂÆûÊòØÂ∞ÜTLAB‰Ωú‰∏∫ÂÜÖÂ≠òÂàÜÈÖçÁöÑÈ¶ñÈÄâÔºöÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®-XX:UseTLABËÆæÁΩÆÊòØÂê¶ÂºÄÂêØTLABÔºå‰∏æ‰∏™‰æãÂ≠êÔºö1234567public class Test &#123; public static void main(String[] args) throws InterruptedException &#123; TimeUnit.SECONDS.sleep(100); &#125;&#125;ËøêË°åmainÊñπÊ≥ïÔºöÂèØ‰ª•ÁúãÂà∞TLABÈªòËÆ§ÊòØÂºÄÂêØÁöÑ„ÄÇTLABÁ©∫Èó¥ÁöÑÂÜÖÂ≠òÈùûÂ∏∏Â∞èÔºå‰ªÖÂç†Êï¥‰∏™‰ºäÁî∏Âõ≠Âå∫ÁöÑ1%ÔºåÂèØ‰ª•ÈÄöËøá-XX:TLABWasteTargetPercentËÆæÁΩÆTLABÁ©∫Èó¥ÊâÄÂç†Áî®‰ºäÁî∏Âõ≠Âå∫Á©∫Èó¥ÁöÑÁôæÂàÜÊØî„ÄÇÊúâ‰∫ÜTLABÁöÑÊ¶ÇÂøµÂêéÔºåÊàë‰ª¨Â∞±‰∏çËÉΩËØ¥Â†ÜÁ©∫Èó¥‰∏ÄÂÆöÊòØÁ∫øÁ®ãÂÖ±‰∫´ÁöÑ‰∫Ü„ÄÇÊñπÊ≥ïÂå∫ÊñπÊ≥ïÂå∫Âπ∂‰∏çÊòØÊâÄË∞ìÁöÑÂ≠òÂÇ®ÊñπÊ≥ïÁöÑÂå∫ÂüüÔºåËÄåÊòØ‰æõÂêÑÁ∫øÁ®ãÂÖ±‰∫´ÁöÑËøêË°åÊó∂ÂÜÖÂ≠òÂå∫Âüü„ÄÇÂÆÉÂ≠òÂÇ®‰∫ÜÂ∑≤Ë¢´ËôöÊãüÊú∫Âä†ËΩΩÁöÑÁ±ªÂûã‰ø°ÊÅØ„ÄÅÂ∏∏Èáè„ÄÅÈùôÊÄÅÂèòÈáè„ÄÅÂç≥Êó∂ÁºñËØëÂô®ÁºñËØëÂêéÁöÑ‰ª£Á†ÅÁºìÂ≠òÁ≠â„ÄÇÊñπÊ≥ïÂå∫‰πüÊòØ‰∏ÄÁßçËßÑËåÉÔºåÂú®‰∏çÂêåËôöÊãüÊú∫ÈáåÂ§¥ÂÆûÁé∞ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊúÄÂÖ∏ÂûãÁöÑÂÆûÁé∞Â∞±ÊòØHotSpotËôöÊãüÊú∫Java8‰πãÂâçÁöÑÊ∞∏‰πÖ‰ª£(PermGen space)ÂíåJava8ÁöÑÂÖÉÁ©∫Èó¥(Metaspace)„ÄÇËÆæÁΩÆÊñπÊ≥ïÂå∫Â§ßÂ∞èÊñπÊ≥ïÂå∫ÁöÑÂ§ßÂ∞èÂÜ≥ÂÆö‰∫ÜÁ≥ªÁªüÂèØ‰ª•Âä†ËΩΩÂ§öÂ∞ë‰∏™Á±ªÔºåÂ¶ÇÊûúÁ≥ªÁªüÂÆö‰πâ‰∫ÜÂ§™Â§öÁöÑÁ±ªÔºåÂØºËá¥ÊñπÊ≥ïÂå∫Ê∫¢Âá∫ÔºåËôöÊãüÊú∫Âàô‰ºöÊäõÂá∫java.lang.OutOfMemoryError: PermGen spaceÔºàJava 7ÔºâÊàñËÄÖjava.lang.OutOfMemoryError: MetaspaceÔºàJava 8ÔºâÂÜÖÂ≠òÊ∫¢Âá∫ÈîôËØØ„ÄÇ‰ª•Java8ÁâàÊú¨‰∏∫‰æãÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®-XX:MetaspaceSize=sizeËÆæÁΩÆÂÖÉÁ©∫Èó¥ÂàùÂßãÂ§ßÂ∞èÔºå-XX:MaxMetaspaceSize=sizeËÆæÁΩÆÂÖÉÁ©∫Èó¥ÊúÄÂ§ßÂÄº„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂú®windowsÂπ≥Âè∞‰∏äÔºå-XX:MetaspaceSizeÂÄº‰∏∫21MÔºå-XX:MaxMetaspaceSizeÂÄº‰∏∫-1ÔºåÂç≥Ê≤°ÊúâÈôêÂà∂ÔºåÊâÄ‰ª•ÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÂ¶ÇÊûú‰∏çÊñ≠Âú∞Âä†ËΩΩÁ±ªÔºåËôöÊãüÊú∫‰ºöËÄóÂ∞ΩÊâÄÊúâÂèØÁî®ÁöÑÁ≥ªÁªüÂÜÖÂ≠ò„ÄÇ‰∏ãÈù¢‰∏æ‰∏™ÂÖÉÁ©∫Èó¥OOMÁöÑ‰æãÂ≠êÔºö1234567891011121314151617181920212223242526import com.sun.org.apache.bcel.internal.util.ClassLoader;import com.sun.xml.internal.ws.org.objectweb.asm.ClassWriter;import jdk.internal.org.objectweb.asm.Opcodes;public class Test extends ClassLoader &#123; public static void main(String[] args) &#123; int count = 0; try &#123; Test test = new Test(); for (int i = 0; i &lt; 10000; i++) &#123; String className = "Class" + i; // ÂàõÂª∫ClassWriterÂØπË±°ÔºåÁî®‰∫éÁîüÊàêÁ±ªÁöÑ‰∫åËøõÂà∂Â≠óËäÇÁ†Å ClassWriter classWriter = new ClassWriter(0); // ÊåáÂÆöÁâàÊú¨Âè∑„ÄÅ‰øÆÈ•∞Á¨¶„ÄÅÁ±ªÂêç„ÄÅÂåÖÂêç„ÄÅÁà∂Á±ªÂíåÊé•Âè£ classWriter.visit(Opcodes.V1_8, Opcodes.ACC_PUBLIC, className, null, "java/lang/Object", null); byte[] bytes = classWriter.toByteArray(); // Âä†ËΩΩÁ±ª test.defineClass(className, bytes, 0, bytes.length); count++; &#125; &#125; finally &#123; System.out.println(count); &#125; &#125;&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨Â∞ùËØïÂä†ËΩΩ10000‰∏™Á±ªÔºåÈÄöËøáÂèÇÊï∞-XX:MetaspaceSize=10m -XX:MaxMetaspaceSize=10mÂ∞ÜÂÖÉÁ©∫Èó¥Â§ßÂ∞èËÆæÁΩÆ‰∏∫Âõ∫ÂÆöÂ§ßÂ∞è10MÔºåËøêË°å‰∏äÈù¢ÁöÑÁ®ãÂ∫èÊéßÂà∂Âè∞ËæìÂá∫ÔºöÊñπÊ≥ïÂå∫„ÄÅÂ†Ü„ÄÅÊ†àÂÖ≥Á≥ªÊñπÊ≥ïÂå∫ÂíåÂ†Ü„ÄÅÊ†àÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö123456public class Bird &#123; public static void main(String[] args) &#123; Bird bird = new Bird(); &#125;&#125;ÊñπÊ≥ïÂå∫ÂÜÖÈÉ®ÁªìÊûÑÊñπÊ≥ïÂå∫ÂÜÖÈÉ®‰∏ªË¶ÅÂ≠òÂÇ®‰∫Ü‰ª•‰∏ãÂÜÖÂÆπÔºà‰∏çÂêåJDKÁâàÊú¨ÂÜÖÂÆπÊúâÊâÄ‰∏çÂêåÔºåÂÖ∑‰ΩìÂèÇËÄÉ‰∏ãÈù¢‚ÄúÊñπÊ≥ïÂå∫ÊºîËøõ‚ÄùÔºâÔºöÁ±ªÂûã‰ø°ÊÅØÂØπÊØè‰∏™Âä†ËΩΩÁöÑÁ±ªÂûãÔºàÁ±ªclass„ÄÅÊé•Âè£ interface„ÄÅÊûö‰∏æenum„ÄÅÊ≥®Ëß£ annotationÔºâÔºåJVMÂøÖÈ°ªÂú®ÊñπÊ≥ïÂå∫‰∏≠Â≠òÂÇ®‰ª•‰∏ãÁ±ªÂûã‰ø°ÊÅØÔºöËøô‰∏™Á±ªÂûãÁöÑÂÆåÊï¥ÊúâÊïàÂêçÁß∞ÔºàÂåÖÂêç.Á±ªÂêçÔºâÔºõËøô‰∏™Á±ªÂûãÁõ¥Êé•Áà∂Á±ªÁöÑÂÆåÊï¥ÊúâÊïàÂêçÔºàinterfaceÂíåjava.lang.ObjectÊ≤°ÊúâÁà∂Á±ªÔºâÔºõËøô‰∏™Á±ªÁöÑ‰øÆÈ•∞Á¨¶ÔºàpublicÔºåabstractÔºåfinalÔºâÔºõËøô‰∏™Á±ªÂûãÁõ¥Êé•Êé•Âè£ÁöÑ‰∏Ä‰∏™ÊúâÂ∫èÂàóË°®Ôºà‰∏Ä‰∏™Á±ªÂèØ‰ª•ÂÆûÁé∞Â§ö‰∏™Êé•Âè£Ôºâ„ÄÇÊñπÊ≥ï‰ø°ÊÅØÊñπÊ≥ï‰ø°ÊÅØÂåÖÂê´‰∫ÜËøô‰∏™Á±ªÁöÑÊâÄÊúâÊñπÊ≥ï‰ø°ÊÅØÔºàÂåÖÊã¨ÊûÑÈÄ†Âô®ÔºâÔºåËøô‰∫õ‰ø°ÊÅØÂíåÂÖ∂Â£∞ÊòéÈ°∫Â∫è‰∏ÄËá¥ÔºöÊñπÊ≥ïÂêçÁß∞ÔºõÊñπÊ≥ïÁöÑËøîÂõûÂÄºÁ±ªÂûãÔºàÊ≤°ÊúâËøîÂõûÂÄºÂàôÊòØvoidÔºâÔºõÊñπÊ≥ïÂèÇÊï∞ÁöÑÊï∞ÈáèÂíåÁ±ªÂûãÔºàÊúâÂ∫èÔºâÔºõÊñπÊ≥ïÁöÑ‰øÆÈ•∞Á¨¶ÔºàpublicÔºåprivateÔºåprotectedÔºåstaticÔºåfinalÔºåsynchronizedÔºånativeÔºåabstractÔºâÔºõÊñπÊ≥ïÁöÑÂ≠óËäÇÁ†Å„ÄÅÊìç‰ΩúÊï∞Ê†à„ÄÅÂ±ÄÈÉ®ÂèòÈáèË°®ÂèäÂÖ∂Â§ßÂ∞èÔºàabstractÂíånativeÊñπÊ≥ïÈô§Â§ñÔºâÔºõÂºÇÂ∏∏Ë°®ÔºàabstractÂíånativeÊñπÊ≥ïÈô§Â§ñÔºâ„ÄÇÂüü‰ø°ÊÅØÂüüFieldÊàë‰ª¨‰πüÂ∏∏Áß∞‰∏∫Â±ûÊÄßÔºåÂ≠óÊÆµ„ÄÇÂüü‰ø°ÊÅØÂåÖÂê´ÔºöÂüüÁöÑÂ£∞ÊòéÈ°∫Â∫èÔºõÂüüÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂåÖÊã¨ÂêçÁß∞„ÄÅÁ±ªÂûã„ÄÅ‰øÆÈ•∞Á¨¶ÔºàpublicÔºåprivateÔºåprotectedÔºåstaticÔºåfinalÔºåvolatileÔºåtransientÔºâ„ÄÇJIT‰ª£Á†ÅÁºìÂ≠òËøôÈÉ®ÂàÜÂú®üëáÊâßË°åÂºïÊìé‰∏≠ÂÜçÂÅöËØ¥Êòé„ÄÇËøêË°åÊó∂Â∏∏ÈáèÊ±†Âú®‰∏äÈù¢ËôöÊãüÊú∫Ê†àÁöÑ‰ªãÁªç‰∏≠ÔºåÊàë‰ª¨Áü•ÈÅìÁ±ªÂ≠óËäÇÁ†ÅÂèçÁºñËØëÂêéÔºå‰ºöÊúâ‰∏Ä‰∏™constant poolÁöÑÁªìÊûÑÔºå‰øóÁß∞‰∏∫Â∏∏ÈáèÊ±†ÔºåÊâÄÊúâÁöÑÂèòÈáèÂíåÊñπÊ≥ïÂºïÁî®ÈÉΩ‰Ωú‰∏∫Á¨¶Âè∑ÂºïÁî®‰øùÂ≠òÂú®classÊñá‰ª∂ÁöÑÂ∏∏ÈáèÊ±†Èáå„ÄÇËôöÊãüÊú∫Ê†àÁöÑÂä®ÊÄÅÈìæÊé•Â∞±ÊòØÂ∞ÜÁ¨¶Âè∑ÂºïÁî®ÔºàËøô‰∫õÁ¨¶Âè∑ÂºïÁî®ÁöÑÈõÜÂêàÂ∞±ÊòØÂ∏∏ÈáèÊ±†ÔºâËΩ¨Êç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÔºàÁ¨¶Âè∑ÂºïÁî®ÂØπÂ∫îÁöÑÂÖ∑‰Ωì‰ø°ÊÅØÔºåËøô‰∫õÂÖ∑‰Ωì‰ø°ÊÅØÁöÑÈõÜÂêàÂ∞±ÊòØËøêË°åÊó∂Â∏∏ÈáèÊ±†ÔºåÂ≠òÂú®ÊñπÊ≥ïÂå∫‰∏≠ÔºâÁöÑËøáÁ®ã„ÄÇÈùôÊÄÅÂèòÈáèÈùôÊÄÅÂèòÈáèÂ∞±ÊòØ‰ΩøÁî®static‰øÆÈ•∞ÁöÑÂüü‰ø°ÊÅØ„ÄÇÈùôÊÄÅÂèòÈáèÂíåÁ±ªÂÖ≥ËÅîÂú®‰∏ÄËµ∑ÔºåÈöèÁùÄÁ±ªÁöÑÂä†ËΩΩËÄåÂä†ËΩΩÔºåÂÆÉ‰ª¨Êàê‰∏∫Á±ªÊï∞ÊçÆÂú®ÈÄªËæë‰∏äÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÈùôÊÄÅÂèòÈáè‰πüÊàê‰∏∫Á±ªÂèòÈáèÔºåÁ±ªÂèòÈáèË¢´Á±ªÁöÑÊâÄÊúâÂÆû‰æãÂÖ±‰∫´ÔºåÂç≥‰ΩøÊ≤°ÊúâÁ±ªÂÆû‰æãÊó∂‰Ω†‰πüÂèØ‰ª•ËÆøÈóÆÂÆÉÔºö1234567891011121314public class Test &#123; private static String hello = "hello"; private static void hello() &#123; System.out.println("hello"); &#125; public static void main(String[] args) &#123; Test test = null; test.hello(); System.out.println(test.hello); &#125;&#125;‰∏äÈù¢Á®ãÂ∫èËøêË°åÂπ∂‰∏ç‰ºöÊä•Á©∫ÊåáÈíàÂºÇÂ∏∏„ÄÇÈÄöËøáfinal‰øÆÈ•∞ÁöÑÈùôÊÄÅÂèòÈáèÊàë‰ª¨‰øóÁß∞Â∏∏Èáè„ÄÇÂ∏∏ÈáèÂú®ÁºñËØëÁöÑÊó∂ÂÄôÂ∞±‰ºöË¢´ÂàÜÈÖçÂÖ∑‰ΩìÂÄºÔºö12345public class Test &#123; private static String hello = "hello"; private static final String HELLO = "hello";&#125;ÈÄöËøájavap -v -p Test.classÊü•ÁúãÂÖ∂Â≠óËäÇÁ†ÅÔºöÈÄöËøá‰∏äÈù¢ÁöÑÂ≠¶‰π†Êàë‰ª¨Áü•ÈÅìÔºåÈùôÊÄÅÂèòÈáèÔºàÁ±ªÂèòÈáèÔºâÂú®Á±ªÂä†ËΩΩËøáÁ®ãÁöÑÂàùÂßãÂåñÈò∂ÊÆµÊâç‰ºöË¢´ËµãÂÄº„ÄÇÊºîÁ§∫ÊñπÊ≥ïÂå∫ÂÜÖÈÉ®ÁªìÊûÑ‰∏ãÈù¢ÈÄöËøáÂ≠óËäÇÁ†ÅÂÜÖÂÆπÊù•Êü•Áúã‰∏äÈù¢Ëøô‰∫õ‰ø°ÊÅØÔºåÁé∞ÊúâÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234567891011121314151617181920public class Test extends Object implements Cloneable, Serializable &#123; private static String hello = "hello"; private static final String HELLO = "hello"; public int a = 0; public void method1() &#123; System.out.println("method1"); &#125; public static String method2(String name) &#123; try &#123; int a = 1; int b = a / 0; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return name; &#125;&#125;ÈÄöËøájavap -v -p Test.classÊü•ÁúãÂÖ∂Â≠óËäÇÁ†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171Classfile /Users/mrbird/idea workspace/JVM-Learn/target/classes/cc/mrbird/jvm/learn/Test.class Last modified 2019-4-01; size 1016 bytes MD5 checksum ab0309674b0f0b5fbd0766af035efe0a Compiled from "Test.java"// Á±ªÂûã‰ø°ÊÅØpublic class cc.mrbird.jvm.learn.Test implements java.lang.Cloneable,java.io.Serializable minor version: 0 major version: 52 // Á±ªÁöÑ‰øÆÈ•∞Á¨¶ flags: ACC_PUBLIC, ACC_SUPER// Â∏∏ÈáèÊ±†Constant pool: #1 = Methodref #11.#38 // java/lang/Object."&lt;init&gt;":()V #2 = Fieldref #10.#39 // cc/mrbird/jvm/learn/Test.a:I #3 = Fieldref #40.#41 // java/lang/System.out:Ljava/io/PrintStream; #4 = String #27 // method1 #5 = Methodref #42.#43 // java/io/PrintStream.println:(Ljava/lang/String;)V #6 = Class #44 // java/lang/Exception #7 = Methodref #6.#45 // java/lang/Exception.printStackTrace:()V #8 = String #14 // hello #9 = Fieldref #10.#46 // cc/mrbird/jvm/learn/Test.hello:Ljava/lang/String; #10 = Class #47 // cc/mrbird/jvm/learn/Test #11 = Class #48 // java/lang/Object #12 = Class #49 // java/lang/Cloneable #13 = Class #50 // java/io/Serializable #14 = Utf8 hello #15 = Utf8 Ljava/lang/String; #16 = Utf8 HELLO #17 = Utf8 ConstantValue #18 = Utf8 a #19 = Utf8 I #20 = Utf8 &lt;init&gt; #21 = Utf8 ()V #22 = Utf8 Code #23 = Utf8 LineNumberTable #24 = Utf8 LocalVariableTable #25 = Utf8 this #26 = Utf8 Lcc/mrbird/jvm/learn/Test; #27 = Utf8 method1 #28 = Utf8 method2 #29 = Utf8 (Ljava/lang/String;)Ljava/lang/String; #30 = Utf8 e #31 = Utf8 Ljava/lang/Exception; #32 = Utf8 name #33 = Utf8 StackMapTable #34 = Class #44 // java/lang/Exception #35 = Utf8 &lt;clinit&gt; #36 = Utf8 SourceFile #37 = Utf8 Test.java #38 = NameAndType #20:#21 // "&lt;init&gt;":()V #39 = NameAndType #18:#19 // a:I #40 = Class #51 // java/lang/System #41 = NameAndType #52:#53 // out:Ljava/io/PrintStream; #42 = Class #54 // java/io/PrintStream #43 = NameAndType #55:#56 // println:(Ljava/lang/String;)V #44 = Utf8 java/lang/Exception #45 = NameAndType #57:#21 // printStackTrace:()V #46 = NameAndType #14:#15 // hello:Ljava/lang/String; #47 = Utf8 cc/mrbird/jvm/learn/Test #48 = Utf8 java/lang/Object #49 = Utf8 java/lang/Cloneable #50 = Utf8 java/io/Serializable #51 = Utf8 java/lang/System #52 = Utf8 out #53 = Utf8 Ljava/io/PrintStream; #54 = Utf8 java/io/PrintStream #55 = Utf8 println #56 = Utf8 (Ljava/lang/String;)V #57 = Utf8 printStackTrace&#123; // Âüü‰ø°ÊÅØ private static java.lang.String hello; descriptor: Ljava/lang/String; flags: ACC_PRIVATE, ACC_STATIC // Âüü‰ø°ÊÅØ private static final java.lang.String HELLO; descriptor: Ljava/lang/String; flags: ACC_PRIVATE, ACC_STATIC, ACC_FINAL ConstantValue: String hello // Âüü‰ø°ÊÅØ public int a; descriptor: I flags: ACC_PUBLIC // ÊñπÊ≥ï‰ø°ÊÅØ public cc.mrbird.jvm.learn.Test(); descriptor: ()V flags: ACC_PUBLIC Code: stack=2, locals=1, args_size=1 0: aload_0 1: invokespecial #1 // Method java/lang/Object."&lt;init&gt;":()V 4: aload_0 5: iconst_0 6: putfield #2 // Field a:I 9: return LineNumberTable: line 5: 0 line 9: 4 LocalVariableTable: Start Length Slot Name Signature 0 10 0 this Lcc/mrbird/jvm/learn/Test; // ÊñπÊ≥ï‰ø°ÊÅØ public void method1(); descriptor: ()V flags: ACC_PUBLIC Code: // Êìç‰ΩúÊï∞Ê†àÂ§ßÂ∞èÔºåÂ±ÄÈÉ®ÂèòÈáèË°®Â§ßÂ∞èÔºåÂèÇÊï∞‰∏™Êï∞ stack=2, locals=1, args_size=1 0: getstatic #3 // Field java/lang/System.out:Ljava/io/PrintStream; 3: ldc #4 // String method1 5: invokevirtual #5 // Method java/io/PrintStream.println:(Ljava/lang/String;)V 8: return LineNumberTable: line 12: 0 line 13: 8 LocalVariableTable: Start Length Slot Name Signature 0 9 0 this Lcc/mrbird/jvm/learn/Test; // ÊñπÊ≥ï‰ø°ÊÅØ public static java.lang.String method2(java.lang.String); descriptor: (Ljava/lang/String;)Ljava/lang/String; flags: ACC_PUBLIC, ACC_STATIC Code: stack=2, locals=3, args_size=1 0: iconst_1 1: istore_1 2: iload_1 3: iconst_0 4: idiv 5: istore_2 6: goto 14 9: astore_1 10: aload_1 11: invokevirtual #7 // Method java/lang/Exception.printStackTrace:()V 14: aload_0 15: areturn // ÂºÇÂ∏∏Ë°® Exception table: from to target type 0 6 9 Class java/lang/Exception LineNumberTable: line 17: 0 line 18: 2 line 21: 6 line 19: 9 line 20: 10 line 22: 14 // Â±ÄÈÉ®ÂèòÈáèË°® LocalVariableTable: Start Length Slot Name Signature 2 4 1 a I 10 4 1 e Ljava/lang/Exception; 0 16 0 name Ljava/lang/String; StackMapTable: number_of_entries = 2 frame_type = 73 /* same_locals_1_stack_item */ stack = [ class java/lang/Exception ] frame_type = 4 /* same */ static &#123;&#125;; descriptor: ()V flags: ACC_STATIC Code: stack=1, locals=0, args_size=0 0: ldc #8 // String hello 2: putstatic #9 // Field hello:Ljava/lang/String; 5: return LineNumberTable: line 7: 0&#125;SourceFile: "Test.java"ÊñπÊ≥ïÂå∫ÁöÑÊºîËøõÈöèÁùÄJDKÁöÑËø≠‰ª£ÂçáÁ∫ßÔºåHotspot‰∏≠ÊñπÊ≥ïÂå∫ÁöÑÂ≠òÂÇ®ÁöÑÂÜÖÂÆπÂèëÁîü‰∫ÜÂ¶Ç‰∏ãÂèòÂåñÔºà‰∏äÈù¢‰ªãÁªçÁöÑÊñπÊ≥ïÂå∫ÁöÑÂÜÖÈÉ®ÁªìÊûÑÊòØÁªèÂÖ∏ÊÉÖÂÜµ‰∏ãÁöÑÔºåÂÖ∑‰ΩìËøòÊòØÈúÄË¶ÅÁúãJDKÊòØ‰ªÄ‰πàÁâàÊú¨ÔºâÔºöÁâàÊú¨ÊèèËø∞jdk1.6Âèä‰πãÂâçÊúâÊ∞∏‰πÖ‰ª£Ôºàpermanent generationÔºâÔºåÈùôÊÄÅÂèòÈáèÂ≠òÊîæÂú®Ê∞∏‰πÖ‰ª£‰∏äjdk1.7ÊúâÊ∞∏‰πÖ‰ª£Ôºå‰ΩÜÂ∑≤ÁªèÈÄêÊ≠•‚ÄúÂéªÊ∞∏‰πÖ‰ª£‚ÄùÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†„ÄÅÈùôÊÄÅÂèòÈáèÁßªÈô§Ôºå‰øùÂ≠òÂú®Â†Ü‰∏≠jdk1.8Âèä‰πãÂêéÊó†Ê∞∏‰πÖ‰ª£ÔºåÁ±ªÂûã‰ø°ÊÅØ„ÄÅÂ≠óÊÆµ„ÄÅÊñπÊ≥ï„ÄÅÂ∏∏Èáè‰øùÂ≠òÂú®Êú¨Âú∞ÂÜÖÂ≠òÁöÑÂÖÉÁ©∫Èó¥Ôºå‰ΩÜÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†„ÄÅÈùôÊÄÅÂèòÈáè‰ªçÁÑ∂‰øùÂ≠òÂú®Â†Ü‰∏≠‰∏äÈù¢ËØ¥ÁöÑÈùôÊÄÅÂèòÈáèÂú®JDK1.6‰πãÂâçÂ≠òÊîæÂú®Ê∞∏‰πÖ‰ª£ÔºåJDK1.7ÂêéÁßªÂä®Âà∞Â†ÜÁ©∫Èó¥ÊåáÁöÑÊòØÂèòÈáèÊú¨Ë∫´ÔºåÂèòÈáèÂØπÂ∫îÁöÑÂØπË±°ÂÆû‰æã‰∏ÄÁõ¥ÈÉΩÊòØÂú®Â†ÜÁ©∫Èó¥ÂàÜÈÖçÁöÑ„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö123456789101112131415public class StaticObjTest &#123; static class Test &#123; static ObjectHolder staticObj = new ObjectHolder(); ObjectHolder instanceObj = new ObjectHolder(); void foo() &#123; ObjectHolder localObj = new ObjectHolder(); &#125; &#125; private static class ObjectHolder &#123; &#125;&#125;Ëøô‰∏™‰æãÂ≠ê‰∏≠Ôºå‰∏â‰∏™new ObjectHolder()ÁöÑÂàõÂª∫ÔºåÈÉΩÊòØÂú®Â†Ü‰∏≠ÂàÜÈÖçÁöÑÔºålocalObjÊòØÊñπÊ≥ïfooÂÜÖÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºåÂ≠òÊîæÂú®ËôöÊãüÊú∫Ê†àÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÔºõinstanceObj‰∏∫ÊàêÂëòÂèòÈáèÔºåÈöèÁùÄÂØπË±°ÂÆû‰æãÁöÑÂàõÂª∫‰πüÂàÜÈÖçÂú®Â†Ü‰∏≠ÔºõÈùôÊÄÅÂèòÈáèstaticObjÊ†πÊçÆJDKÁâàÊú¨ÁöÑ‰∏çÂêåÂ≠òÊîæ‰ΩçÁΩÆ‰πü‰∏çÂêåÔºåJDK1.6Âèä‰πãÂâçÔºåÂ≠òÊîæÂú®Ê∞∏‰πÖ‰ª£‰∏≠ÔºåJDK1.7Âèä‰πãÂêéÂ≠òÊîæÂà∞Â†Ü‰∏≠„ÄÇÊ∞∏‰πÖ‰ª£‰∏∫‰ªÄ‰πà‰ºöË¢´ÂÖÉÁ©∫Èó¥Êõø‰ª£ÔºüÂõ†‰∏∫Ê∞∏‰πÖ‰ª£ÁöÑÂ§ßÂ∞èÊòØÂæàÈöæÁ°ÆÂÆöÁöÑÔºåÂ¶ÇÊûú‰∏Ä‰∏™Á®ãÂ∫èÂä®ÊÄÅÂä†ËΩΩÁöÑÁ±ªËøáÂ§öÂ∞±ÂæàÂÆπÊòìËß¶ÂèëÊ∞∏‰πÖ‰ª£ÁöÑFull GCÔºàFull GC‰ª£‰ª∑Â§ßÔºåËÄóÊó∂ÈïøÔºåÂΩ±ÂìçÁ®ãÂ∫èÊÄßËÉΩÔºâÁîöËá≥OOMÔºåÁ®ãÂ∫èÁõ¥Êé•Â•îÊ∫ÉÔºõËÄåÂÖÉÁ©∫Èó¥ÂíåÊ∞∏‰πÖ‰ª£‰πãÈó¥ÊúÄÂ§ßÁöÑÂå∫Âà´Âú®‰∫éÔºöÂÖÉÁ©∫Èó¥Âπ∂‰∏çÂú®ËôöÊãüÊú∫‰∏≠ÔºåËÄåÊòØ‰ΩøÁî®Êú¨Âú∞ÂÜÖÂ≠òÔºåËøôÊ†∑ÂÖÉÁ©∫Èó¥Â∞±Âü∫Êú¨‰∏ç‰ºöÂõ†‰∏∫Ëß¶ÂèëFull GCÂíåOOM‰∫Ü„ÄÇÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†ÔºàStringTableÔºâ‰∏∫‰ªÄ‰πàË¶ÅÊîæÂà∞Â†Ü‰∏≠ÔºüÂõ†‰∏∫Â¶ÇÊûúÂ∞ÜStringTableÊîæÂú®Ê∞∏‰πÖ‰ª£ÁöÑËØùÂõûÊî∂ÊïàÁéáÂæà‰ΩéÔºåÂú®Full GCÁöÑÊó∂ÂÄôÊâç‰ºöËß¶Âèë„ÄÇËÄåFull GCÊòØËÄÅÂπ¥‰ª£ÁöÑÁ©∫Èó¥‰∏çË∂≥„ÄÅÊ∞∏‰πÖ‰ª£‰∏çË∂≥Êó∂Êâç‰ºöËß¶Âèë„ÄÇËøôÂ∞±ÂØºËá¥ StringTableÂõûÊî∂ÊïàÁéá‰∏çÈ´ò„ÄÇËÄåÊàë‰ª¨ÂºÄÂèë‰∏≠‰ºöÊúâÂ§ßÈáèÁöÑÂ≠óÁ¨¶‰∏≤Ë¢´ÂàõÂª∫ÔºåÂõûÊî∂ÊïàÁéá‰ΩéÔºåÂØºËá¥Ê∞∏‰πÖ‰ª£ÂÜÖÂ≠ò‰∏çË∂≥„ÄÇÊîæÂà∞Â†ÜÈáåÔºåËÉΩÂèäÊó∂ÂõûÊî∂ÂÜÖÂ≠ò„ÄÇÊñπÊ≥ïÂå∫ÂûÉÂúæÂõûÊî∂ÊñπÊ≥ïÂå∫‰πüÂ≠òÂú®ÂûÉÂúæÂõûÊî∂ÔºåÊñπÊ≥ïÂå∫ÁöÑÂûÉÂúæÊî∂ÈõÜ‰∏ªË¶ÅÂõûÊî∂‰∏§ÈÉ®ÂàÜÂÜÖÂÆπÔºöÂ∏∏ÈáèÊ±†‰∏≠Â∫üÂºÉÁöÑÂ∏∏ÈáèÂíå‰∏çÂÜç‰ΩøÁî®ÁöÑÁ±ªÂûã„ÄÇÊâßË°åÂºïÊìéÁ±ªÂä†ËΩΩÂô®Âä†ËΩΩÁöÑÂ≠óËäÇÁ†ÅÂπ∂‰∏çËÉΩÂ§üÁõ¥Êé•ËøêË°åÂú®Êìç‰ΩúÁ≥ªÁªü‰πã‰∏äÔºåÂõ†‰∏∫Â≠óËäÇÁ†ÅÊåá‰ª§‰∏çÊòØÊú¨Âú∞Êú∫Âô®Êåá‰ª§ÔºåÊâßË°åÂºïÊìéÔºàExecute EngineÔºâÁöÑ‰ªªÂä°Â∞±ÊòØËÆ≤Â≠óËäÇÁ†ÅÊåá‰ª§Ëß£Èáä‰∏∫ÂØπÂ∫îÂπ≥Âè∞‰∏äÁöÑÊú¨Âú∞Êú∫Âô®Êåá‰ª§„ÄÇÈÄö‰øóÂú∞ËÆ≤ÔºåÊâßË°åÂºïÊìéÂ∞±ÊòØÂ∞ÜÈ´òÁ∫ßËØ≠Ë®ÄÁøªËØë‰∏∫Êú¨Âú∞Êú∫Âô®ËØ≠Ë®ÄÁöÑÁøªËØëÂÆò„ÄÇËß£ÈáäÂô®ÂíåJITÁºñËØëÂô®Ëß£ÈáäÂô®ÔºàInterpreterÔºâÔºöJVMÂú®Á®ãÂ∫èËøêË°åÊó∂ÈÄöËøáËß£ÈáäÂô®ÈÄêË°åÂ∞ÜÂ≠óËäÇÁ†ÅËΩ¨‰∏∫Êú¨Âú∞Êú∫Âô®Êåá‰ª§ÊâßË°åÔºõJITÁºñËØëÂô®ÔºàJust In Time CompilerÔºåÂç≥Êó∂ÁºñËØëÂô®ÔºâÔºöËß£ÈáäÂô®ÁöÑ‰ºòÁÇπÊòØÁ®ãÂ∫è‰∏ÄÂêØÂä®Â∞±ÂèØ‰ª•È©¨‰∏äÂèëÊå•‰ΩúÁî®ÔºåÈÄêË°åÁøªËØëÂ≠óËäÇÁ†ÅÊâßË°åÁ®ãÂ∫è„ÄÇËÄåÂØπ‰∫é‰∏Ä‰∫õÈ´òÈ¢ëÁöÑ‰ª£Á†ÅÔºàÂ¶ÇÂæ™ÁéØ‰ΩìÂÜÖ‰ª£Á†ÅÂíåÈ´òÈ¢ëË∞ÉÁî®ÊñπÊ≥ïÁ≠âÔºâÔºåÂ¶ÇÊûúÊØèÊ¨°ÊâßË°åÈÉΩÁî®Ëß£ÈáäÂô®ÈÄêË°åÂ∞ÜÂ≠óËäÇÁ†ÅÁøªËØë‰∏∫Êú∫Âô®Êåá‰ª§ÁöÑËØùÔºåÂäøÂøÖ‰ºöÈÄ†ÊàêÊµ™Ë¥πÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂç≥Êó∂ÁºñËØëÂô®Â∞ÜËøôÈÉ®ÂàÜÈ´òÈ¢ë‰ª£Á†ÅÁõ¥Êé•ÁºñËØë‰∏∫Êú∫Âô®Êåá‰ª§ÁÑ∂ÂêéÁºìÂ≠òÂú®ÊñπÊ≥ïÂå∫‰∏≠Ôºà‰∏äÈù¢‰ªãÁªçÊñπÊ≥ïÂå∫ÂÜÖÈÉ®ÁªÑÊàêÊó∂ÊèêÂà∞ËøáJIT‰ª£Á†ÅÁºìÂ≠òÔºâÔºå‰ª•Ê≠§ÊèêÈ´òÊâßË°åÊïàÁéá„ÄÇÂíåËß£ÈáäÂô®Áõ∏ÊØîÔºåÂç≥Êó∂ÁºñËØëÂô®ÁöÑÁº∫ÁÇπÂ∞±ÊòØÁºñËØëÈúÄË¶ÅËÄóË¥π‰∏ÄÂÆöÊó∂Èó¥„ÄÇÊ≠£Âõ†‰∏∫JVMÂú®ÊâßË°åJava‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºåÈÄöÂ∏∏‰ºöÂ∞ÜËß£ÈáäÊâßË°åÂíåÁºñËØëÊâßË°å‰∫åËÄÖÁªìÂêàËµ∑Êù•ËøõË°åÔºåÊâÄ‰ª•Java‰πüÂèØ‰ª•ËØ¥ÊòØ‰∏ÄÁßçÂçäÁºñËØëÂçäËß£ÈáäÂûãËØ≠Ë®Ä„ÄÇÁÉ≠ÁÇπ‰ª£Á†ÅhotspotÈÄöËøá‰∏§ÁßçÊñπÂºèÊù•Á°ÆÂÆöÂΩìÂâç‰ª£Á†ÅÊòØÂê¶‰∏∫ÁÉ≠ÁÇπ‰ª£Á†ÅÔºöÊñπÊ≥ïË∞ÉÁî®ËÆ°Êï∞Âô®ÔºöÁªüËÆ°ÊñπÊ≥ïË∞ÉÁî®ÁöÑÊ¨°Êï∞ÔºõÂõûËæπËÆ°Êï∞Âô®ÔºöÁªüËÆ°Âæ™ÁéØ‰ΩìÊâßË°åÁöÑÂæ™ÁéØÊ¨°Êï∞„ÄÇÂΩì‰∏Ä‰∏™ÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂Ôºå‰ºöÂÖàÊ£ÄÊü•ËØ•ÊñπÊ≥ïÊòØÂê¶Â≠òÂú®Ë¢´JITÁºñËØëÂô®ÁºñËØëËøáÁöÑÁâàÊú¨ÔºåÂ¶ÇÊûúÂ≠òÂú®ÔºåÂàô‰ΩøÁî®ÁºñËØëÂêéÁöÑÊú¨Âú∞‰ª£Á†ÅÊâßË°åÔºõÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàôÂ∞ÜÊñπÊ≥ïÁöÑË∞ÉÁî®ËÆ°Êï∞Âô®Âä†1ÔºåÁÑ∂ÂêéÂà§Êñ≠ÊñπÊ≥ïË∞ÉÁî®ËÆ°Êï∞Âô®ÂíåÂõûËæπËÆ°Êï∞Âô®‰πãÂíåÊòØÂê¶Ë∂ÖËøáÊñπÊ≥ïË∞ÉÁî®ËÆ°Êï∞Âô®ÁöÑÈòàÂÄº„ÄÇÂ¶ÇÊûúË∂ÖËøáÔºåÂàô‰ºöÂêëJITÁºñËØëÂô®Êèê‰∫§‰∏Ä‰∏™ËØ•ÊñπÊ≥ïÁöÑ‰ª£Á†ÅÁºñËØëËØ∑Ê±Ç„ÄÇ‰∏äÈù¢ÁöÑÈòàÂÄºÂèØ‰ª•‰ΩøÁî®-XX:CompileThresholdËÆæÂÆöÔºåÈªòËÆ§ÂÄºÂú®ClientÊ®°Âºè‰∏ãÊòØ1500ÔºåÂú®ServerÊ®°Âºè‰∏ãÊòØ10000„ÄÇÊñπÊ≥ïË∞ÉÁî®ËÆ°Êï∞Âô®ÁªüËÆ°ÁöÑÂπ∂‰∏çÊòØÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑÁªùÂØπÊ¨°Êï∞ÔºåËÄåÊòØÂú®‰∏ÄÂÆöÊó∂Èó¥ËåÉÂõ¥ÂÜÖÁöÑÊ¨°Êï∞„ÄÇË∂ÖËøáËøô‰∏™Êó∂Èó¥ËåÉÂõ¥ÔºåËøô‰∏™ÊñπÊ≥ïËÆ°Êï∞Âô®Â∞±‰ºöÂáèÂ∞ë‰∏ÄÂçäÔºåËøô‰∏™ËøáÁ®ãÁß∞‰∏∫ÁÉ≠Â∫¶Ë°∞ÂáèÔºåËøô‰∏™Êó∂Èó¥Âë®ÊúüÁß∞‰∏∫ÂçäË°∞Âë®Êúü„ÄÇÂèØ‰ª•ÈÄöËøá-XX:CounterHalfLifeTimeËÆæÁΩÆÂçäË°∞Âë®ÊúüÔºàÂçï‰ΩçSÔºâÔºå-XX:-UseCounterDecayÊù•ÂÖ≥Èó≠ÁÉ≠Â∫¶Ë°∞Âáè„ÄÇÊ®°ÂºèËÆæÁΩÆÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåhotspotÈááÁî®Ê∑∑ÂêàÊ®°ÂºèÊû∂ÊûÑÔºàÂç≥Ëß£ÈáäÂô®ÂíåJITÁºñËØëÂô®Âπ∂Â≠òÁöÑÊû∂ÊûÑÔºâÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢Ëøô‰∫õÊåá‰ª§Êù•ÂàáÊç¢Ê®°ÂºèÔºö-XintÔºöÂÆåÂÖ®ÈááÁî®Ëß£ÈáäÂô®Ê®°ÂºèÊâßË°åÁ®ãÂ∫èÔºõ-XcompÔºöÂÆåÂÖ®ÈááÁî®Âç≥Êó∂ÁºñËØëÂô®Ê®°ÂºèÊâßË°åÁ®ãÂ∫èÔºåÂ¶ÇÊûúÂç≥Êó∂ÁºñËØëÂô®Âá∫Áé∞ÈóÆÈ¢òÔºåËß£ÈáäÂô®‰ºö‰ªãÂÖ•ÊâßË°åÔºõ-XmixedÔºöÊ∑∑ÂêàÊ®°Âºè„ÄÇJITÁºñËØëÂô®ÂàÜÁ±ªhotspotÂÜÖÁΩÆ‰∏§ÁßçJITÁºñËØëÂô®ÔºöClient CompilerÂíåServer CompilerÔºå‰πüÁß∞‰∏∫C1ÁºñËØëÂô®ÂíåC2ÁºñËØëÂô®„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢Ëøô‰∫õÊåá‰ª§Êù•ÊåáÂÆö‰ΩøÁî®Âì™ÁßçJITÁºñËØëÂô®Ôºö-clientÔºöÊåáÂÆöJavaËôöÊãüÊú∫ËøêË°åÂú®ClientÊ®°Âºè‰∏ãÔºåÂπ∂‰ΩøÁî®C1ÁºñËØëÂô®„ÄÇC1ÁºñËØëÂô®‰ºöÂØπÂ≠óËäÇÁ†ÅËøõË°åÁÆÄÂçïÂíåÂèØÈù†ÁöÑ‰ºòÂåñÔºåËÄóÊó∂Áü≠ÔºåÂ∑≤ËææÂà∞Êõ¥Âø´ÁöÑÁºñËØëÈÄüÂ∫¶Ôºõ-serverÔºöÊåáÂÆöJavaËôöÊãüÊú∫ËøêË°åÂú®ServerÊ®°Âºè‰∏ãÔºåÂπ∂‰ΩøÁî®C2ÁºñËØëÂô®„ÄÇC2ÁºñËØëÂô®ËøõË°åËÄóÊó∂ËæÉÈïøÁöÑ‰ºòÂåñÔºå‰ª•ÂèäÊøÄËøõ‰ºòÂåñÔºåËôΩÁÑ∂ÁºñËØëËÄóÊó∂Êõ¥ÈïøÔºå‰ΩÜ‰ª£Á†ÅÊâßË°åÊïàÁéáÊõ¥È´òÔºà64‰ΩçJDKÂè™ÊîØÊåÅServerÊ®°ÂºèÔºâ„ÄÇÂèÇËÄÉÊñáÁ´†Ôºöhttps://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.htmlhttps://docs.oracle.com/en/java/javase/11/tools/java.htmlhttps://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.htmlhttp://www.atguigu.com/download_detail.shtml?v=279]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java BlockingQueue && BlockingDeque]]></title>
    <url>%2FJava-BlockingQueue.html</url>
    <content type="text"><![CDATA[BlockingQueueÂç≥ÈòªÂ°ûÈòüÂàóÔºå‰∏Ä‰∏™ÈòªÂ°ûÈòüÂàóÂú®Êï∞ÊçÆÁªìÊûÑ‰∏≠Ëµ∑Âà∞ÁöÑ‰ΩúÁî®Â§ßËá¥Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö‰∏äÂõæ‰∏≠ÔºåÁ∫øÁ®ã1ÂæÄÈòªÂ°ûÈòüÂàó‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†ÔºåÁ∫øÁ®ã2‰ªéÈòªÂ°ûÈòüÂàó‰∏≠ÁßªÂá∫ÂÖÉÁ¥†„ÄÇÂΩìÈòªÂ°ûÈòüÂàóÊòØÁ©∫ÁöÑÊó∂ÂÄôÔºå‰ªéÈòüÂàó‰∏≠Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÊìç‰ΩúÂ∞Ü‰ºöË¢´ÈòªÂ°ûÔºõÂΩìÈòªÂ°ûÈòüÂàóÊòØÊª°ÁöÑÊó∂ÂÄôÔºåÂæÄÈòüÂàó‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÂ∞Ü‰ºöË¢´ÈòªÂ°û„ÄÇ‰ΩøÁî®BlockingQueueÁöÑÂ•ΩÂ§ÑÊòØÔºåÊàë‰ª¨‰∏çÈúÄË¶ÅÂÖ≥ÂøÉ‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÈòªÂ°ûÁ∫øÁ®ãÔºå‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÂî§ÈÜíÁ∫øÁ®ãÔºåËøô‰∫õÈÉΩÁî±BlockingQueueËá™Âä®ÂÆåÊàê„ÄÇ7Â§ßÂÆûÁé∞Á±ªBlockingQueueÊòØ‰∏Ä‰∏™Êé•Âè£Á±ªÔºå‰∏ªË¶ÅÊúâ7ÁßçÂÆûÁé∞Á±ªÂûãÔºåUMLÁ±ªÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöArrayBlockingQueueÔºöÁî±Êï∞ÁªÑÊú∫ÊûÑÁªÑÊàêÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàóÔºõLinkedBlockingQueueÔºöÁî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÊúâÁïåÔºàÈªòËÆ§Â§ßÂ∞èÈùûÂ∏∏Â§ßÔºå‰∏∫Integer.MAX_VALUEÔºâÈòªÂ°ûÈòüÂàóÔºõPriorityBlockingQueueÔºö‰∏Ä‰∏™ÊîØÊåÅ‰ºòÂÖàÁ∫ßÊéíÂ∫èÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàóÔºõDelayQueueÔºö‰∏Ä‰∏™‰ΩøÁî®‰ºòÂÖàÁ∫ßÈòüÂàóÂÆûÁé∞ÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàóÔºõSynchronousQueueÔºö‰∏Ä‰∏™‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÁöÑÈòªÂ°ûÈòüÂàóÔºõLinkedTransferQueueÔºö‰∏Ä‰∏™Áî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàóÔºõLinkedBlockingDequeÔºö‰∏Ä‰∏™Áî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÂèåÂêëÈòªÂ°ûÈòüÂàó„ÄÇÂâçÂÖ≠ÁßçÈÉΩÊòØÂçïÂêëÈòüÂàóÔºåÂÆûÁé∞ÁöÑÊòØBlockingQueueÊé•Âè£ÔºåLinkedBlockingDequeÊòØ‰∏Ä‰∏™ÂèåÂêëÈòüÂàóÔºåÂÆûÁé∞ÁöÑÊòØBlockDequeÊé•Âè£ÔºåËØ•Êé•Âè£ÁªßÊâø‰∫ÜBlockingQueueÊé•Âè£„ÄÇÂ∏∏Áî®ÊñπÊ≥ïBlockingQueueÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ãÂõõÁßçÁ±ªÂûãÔºöÊñπÊ≥ïÊèèËø∞ÊäõÂá∫ÂºÇÂ∏∏ËøîÂõûÁâπÊÆäÁöÑÂÄº‰∏ÄÁõ¥ÈòªÂ°ûË∂ÖÊó∂ÈÄÄÂá∫ÊèíÂÖ•Êï∞ÊçÆadd(e)offer(e)put(e)offer(e,time,unit)Ëé∑ÂèñÂπ∂ÁßªÈô§ÈòüÂàóÁöÑÂ§¥remove()poll()take()poll(time,unit)Ëé∑Âèñ‰ΩÜ‰∏çÁßªÈô§ÈòüÂàóÁöÑÂ§¥element()peek()‰∏çÂèØÁî®‰∏çÂèØÁî®ÊäõÂá∫ÂºÇÂ∏∏ÔºöÂΩìÈòªÂ°ûÈòüÂàóÊª°Êó∂ÔºåÂÜçÂæÄÈòüÂàóÈáåaddÊèíÂÖ•ÂÖÉÁ¥†Â∞±‰ºöÊäõÂá∫IllegalStateException: Queue fullÔºõÂΩìÈòªÂ°ûÈòüÂàóÁ©∫Êó∂ÔºåÂÜçÂæÄÈòüÂàóÈáåremoveÁßªÂá∫ÂÖÉÁ¥†Â∞±‰ºöÊäõÂá∫NoSuchElementExceptionÔºõËøîÂõûÁâπÊÆäÂÄºÔºöÊèíÂÖ•ÊñπÊ≥ïÔºåÊàêÂäüÊó∂ËøîÂõûtrueÔºåÂ§±Ë¥•Êó∂ËøîÂõûfalseÔºõÁßªÂá∫ÊñπÊ≥ïÔºåÊàêÂäüÊó∂ÂÄôËøîÂõûÁßªÂá∫ÈòüÂàóÁöÑÂÖÉÁ¥†ÔºåÊ≤°ÊúâÂÖÉÁ¥†Â∞±ËøîÂõûnullÔºõ‰∏ÄÁõ¥ÈòªÂ°ûÔºöÂΩìÈòªÂ°ûÈòüÂàóÊª°Êó∂ÔºåÂ¶ÇÊûúÁîü‰∫ßËÄÖÁ∫øÁ®ãÂæÄÈòüÂàóÈáåputÂÖÉÁ¥†ÔºåÈòüÂàó‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÁîü‰∫ßËÄÖÁ∫øÁ®ãÔºåÁõ¥Âà∞Ê∂àË¥πËÄÖÂèñÂá∫Êï∞ÊçÆÔºåÊàñËÄÖÂìçÂ∫î‰∏≠Êñ≠ÈÄÄÂá∫„ÄÇÂΩìÈòüÂàóÁ©∫Êó∂ÔºåÊ∂àË¥πËÄÖÁ∫øÁ®ãËØïÂõæ‰ªéÈòüÂàóÈáåtakeÂÖÉÁ¥†ÔºåÈòüÂàó‰πü‰ºöÈòªÂ°ûÊ∂àË¥πËÄÖÁ∫øÁ®ãÔºåÁõ¥Âà∞ÈòüÂàóÂèØÁî®ÔºõË∂ÖÊó∂ÈÄÄÂá∫ÔºöÂΩìÈòªÂ°ûÈòüÂàóÊª°Êó∂ÔºåÈòüÂàó‰ºöÈòªÂ°ûÁîü‰∫ßËÄÖÁ∫øÁ®ã‰∏ÄÊÆµÊó∂Èó¥ÔºåÂ¶ÇÊûúË∂ÖËøá‰∏ÄÂÆöÁöÑÊó∂Èó¥ÔºåÁîü‰∫ßËÄÖÁ∫øÁ®ãÂ∞±‰ºöÈÄÄÂá∫„ÄÇÂΩìÈòªÂ°ûÈòüÂàó‰∏∫Á©∫Êó∂ÔºåÈòüÂàó‰ºöÈòªÂ°ûÊ∂àË¥πËÄÖÁ∫øÁ®ã‰∏ÄÊÆµÊó∂Èó¥ÔºåÂ¶ÇÊûúË∂ÖËøá‰∏ÄÂÆöÊó∂Èó¥ÔºåÊ∂àË¥πËÄÖÁ∫øÁ®ãÂ∞±‰ºöÈÄÄÂá∫„ÄÇBlockDeque‰πüÊèê‰æõ‰∫ÜËøôÂõõÁßçÁ±ªÂûãÂØπÂ∫îÁöÑÊñπÊ≥ïÔºå‰∏çËøáÁî±‰∫éÊòØÂèåÂêëÈòüÂàóÔºåÊâÄ‰ª•Ëøô‰∫õÊñπÊ≥ïÂèØ‰ª•ÂàÜ‰∏∫Â§¥ÈÉ®Êìç‰ΩúÂíåÂ∞æÈÉ®Êìç‰ΩúÔºöÂ§¥ÈÉ®Êìç‰ΩúÔºöÊñπÊ≥ïÊèèËø∞ÊäõÂá∫ÂºÇÂ∏∏ËøîÂõûÁâπÊÆäÁöÑÂÄº‰∏ÄÁõ¥ÈòªÂ°ûË∂ÖÊó∂ÈÄÄÂá∫ÊèíÂÖ•Êï∞ÊçÆaddFirst(e)offerFirst(e)putFirst(e)offerFirst(e, time, unit)Ëé∑ÂèñÂπ∂ÁßªÈô§ÈòüÂàóÁöÑÂ§¥removeFirst()pollFirst()takeFirst()pollFirst(time, unit)Ëé∑Âèñ‰ΩÜ‰∏çÁßªÈô§ÈòüÂàóÁöÑÂ§¥getFirst()peekFirst()‰∏çÈÄÇÁî®‰∏çÈÄÇÁî®Â∞æÈÉ®Êìç‰ΩúÔºöÊñπÊ≥ïÊèèËø∞ÊäõÂá∫ÂºÇÂ∏∏ËøîÂõûÁâπÊÆäÁöÑÂÄº‰∏ÄÁõ¥ÈòªÂ°ûË∂ÖÊó∂ÈÄÄÂá∫ÊèíÂÖ•Êï∞ÊçÆaddLast(e)offerLast(e)putLast(e)offerLast(e, time, unit)Ëé∑ÂèñÂπ∂ÁßªÈô§ÈòüÂàóÁöÑÂ§¥removeLast()pollLast()takeLast()pollLast(time, unit)Ëé∑Âèñ‰ΩÜ‰∏çÁßªÈô§ÈòüÂàóÁöÑÂ§¥getLast()peekLast()‰∏çÈÄÇÁî®‰∏çÈÄÇÁî®ÁÆÄÂçï‰ªãÁªçArrayBlockingQueueArrayBlockingQueueÊòØ‰∏Ä‰∏™Áî®Êï∞ÁªÑÂÆûÁé∞ÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàó„ÄÇÊ≠§ÈòüÂàóÊåâÁÖßÂÖàËøõÂÖàÂá∫ÔºàFIFOÔºâÁöÑÂéüÂàôÂØπÂÖÉÁ¥†ËøõË°åÊéíÂ∫è„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏ç‰øùËØÅËÆøÈóÆËÄÖÂÖ¨Âπ≥ÁöÑËÆøÈóÆÈòüÂàóÔºåÊâÄË∞ìÂÖ¨Âπ≥ËÆøÈóÆÈòüÂàóÊòØÊåáÈòªÂ°ûÁöÑÊâÄÊúâÁîü‰∫ßËÄÖÁ∫øÁ®ãÊàñÊ∂àË¥πËÄÖÁ∫øÁ®ãÔºåÂΩìÈòüÂàóÂèØÁî®Êó∂ÔºåÂèØ‰ª•ÊåâÁÖßÈòªÂ°ûÁöÑÂÖàÂêéÈ°∫Â∫èËÆøÈóÆÈòüÂàóÔºåÂç≥ÂÖàÈòªÂ°ûÁöÑÁîü‰∫ßËÄÖÁ∫øÁ®ãÔºåÂèØ‰ª•ÂÖàÂæÄÈòüÂàóÈáåÊèíÂÖ•ÂÖÉÁ¥†ÔºåÂÖàÈòªÂ°ûÁöÑÊ∂àË¥πËÄÖÁ∫øÁ®ãÔºåÂèØ‰ª•ÂÖà‰ªéÈòüÂàóÈáåËé∑ÂèñÂÖÉÁ¥†„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ã‰∏∫‰∫Ü‰øùËØÅÂÖ¨Âπ≥ÊÄß‰ºöÈôç‰ΩéÂêûÂêêÈáè„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂàõÂª∫‰∏Ä‰∏™ÂÖ¨Âπ≥ÁöÑÈòªÂ°ûÈòüÂàóÔºö1ArrayBlockingQueue&lt;String&gt; fairArrayBlockingQueue = new ArrayBlockingQueue&lt;&gt;(5, true);‰∏äÈù¢‰ª£Á†ÅÊåáÂÆö‰∫Ü‰∏Ä‰∏™ÂàùÂßãÂ§ßÂ∞è‰∏∫5ÁöÑÂÖ¨Âπ≥ÁöÑArrayBlockingQueue„ÄÇËÆøÈóÆËÄÖÁöÑÂÖ¨Âπ≥ÊÄßÊòØ‰ΩøÁî®ÂèØÈáçÂÖ•ÈîÅÂÆûÁé∞ÁöÑÔºåÊûÑÈÄ†Âô®Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºöLinkedBlockingQueueLinkedBlockingQueueÊòØ‰∏Ä‰∏™Áî®ÈìæË°®ÂÆûÁé∞ÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàó„ÄÇÊ≠§ÈòüÂàóÊåâÁÖßÂÖàËøõÂÖàÂá∫ÁöÑÂéüÂàôÂØπÂÖÉÁ¥†ËøõË°åÊéíÂ∫è„ÄÇÊ≠§ÈòüÂàóÁöÑÈªòËÆ§ÂíåÊúÄÂ§ßÈïøÂ∫¶‰∏∫Integer.MAX_VALUEÔºöÊâÄ‰ª•Êé®ËçêÁöÑÂÅöÊ≥ïÊòØ‰∏çË¶Å‰ΩøÁî®Êó†ÂèÇÊûÑÈÄ†Âô®ÔºåËÄåÊòØÈÄöËøáÊúâÂèÇÊûÑÈÄ†Âô®ÊåáÂÆöÂÆπÂô®ÁöÑÂàùÂßãÂ§ßÂ∞è„ÄÇPriorityBlockingQueuePriorityBlockingQueueÊòØ‰∏Ä‰∏™ÊîØÊåÅ‰ºòÂÖàÁ∫ßÁöÑÊó†ÁïåÈòüÂàó„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂÖÉÁ¥†ÈááÂèñËá™ÁÑ∂È°∫Â∫èÊéíÂàóÔºå‰πüÂèØ‰ª•ÈÄöËøáÊØîËæÉÂô®comparatorÊù•ÊåáÂÆöÂÖÉÁ¥†ÁöÑÊéíÂ∫èËßÑÂàô„ÄÇ‰∏çÊåáÂÆöÊéíÂ∫èÊó∂Ôºö1234567891011121314public class PriorityBlockingQueueTest &#123; public static void main(String[] args) &#123; PriorityBlockingQueue&lt;String&gt; queue = new PriorityBlockingQueue&lt;&gt;(3); IntStream.range(0, 3).forEach(i -&gt; queue.add(i + "hello")); queue.forEach(s -&gt; &#123; try &#123; System.out.println(queue.take()); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); &#125;&#125;ËæìÂá∫Ôºö1230hello1hello2helloÊåáÂÆöÊéíÂ∫èËßÑÂàôÊó∂Ôºö123456789101112131415public class PriorityBlockingQueueTest &#123; public static void main(String[] args) &#123; PriorityBlockingQueue&lt;String&gt; queue = new PriorityBlockingQueue&lt;&gt;(3, Comparator.comparingInt(String::hashCode).reversed()); IntStream.range(0, 3).forEach(i -&gt; queue.add(i + "hello")); queue.forEach(s -&gt; &#123; try &#123; System.out.println(queue.take()); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); &#125;&#125;ËæìÂá∫Ôºö1232hello1hello0helloÊ≠§Â§ñÔºåÂõ†‰∏∫PriorityBlockingQueueÊòØ‰∏Ä‰∏™Êó†ÁïåÈòüÂàóÔºåÊâÄ‰ª•ÂèØ‰ª•Ê∑ªÂä†Êó†Êï∞‰∏™ÂÖÉÁ¥†Ôºö1234567891011121314public class PriorityBlockingQueueTest &#123; public static void main(String[] args) &#123; PriorityBlockingQueue&lt;String&gt; queue = new PriorityBlockingQueue&lt;&gt;(1); IntStream.range(0, 5).forEach(i -&gt; queue.add(i + "hello")); queue.forEach(s -&gt; &#123; try &#123; System.out.println(queue.take()); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); &#125;&#125;ËæìÂá∫Ôºö123450hello1hello2hello3hello4helloÂõ†‰∏∫ÊòØÊó†ÁïåÈòüÂàóÔºåÊâÄ‰ª•‰∏äËø∞‰æãÂ≠êÂπ∂Ê≤°ÊúâÊäõÂá∫java.lang.IllegalStateException: Queue fullÂºÇÂ∏∏„ÄÇDelayQueueDelayQueue‰πüÊòØ‰∏Ä‰∏™Êó†ÁïåÈòªÂ°ûÈòüÂàóÔºåÂè™ÊúâÂú®Âª∂ËøüÊúüÊª°Êó∂ÊâçËÉΩ‰ªé‰∏≠ÊèêÂèñÂÖÉÁ¥†„ÄÇDelayQueueÁöÑÊâÄÊúâÊñπÊ≥ïÂè™ËÉΩÊìç‰Ωú‚ÄúÂà∞ÊúüÁöÑÂÖÉÁ¥†‚ÄúÔºå‰æãÂ¶ÇÔºåpoll()„ÄÅremove()„ÄÅsize()Á≠âÊñπÊ≥ïÔºåÈÉΩ‰ºöÂøΩÁï•ÊéâÊú™Âà∞ÊúüÁöÑÂÖÉÁ¥†„ÄÇ Êàë‰ª¨ÂèØ‰ª•Â∞ÜDelayQueueËøêÁî®Âú®‰ª•‰∏ãÂ∫îÁî®Âú∫ÊôØÔºöÁºìÂ≠òÁ≥ªÁªüÁöÑËÆæËÆ°ÔºöÂèØ‰ª•Áî®DelayQueue‰øùÂ≠òÁºìÂ≠òÂÖÉÁ¥†ÁöÑÊúâÊïàÊúüÔºå‰ΩøÁî®‰∏Ä‰∏™Á∫øÁ®ãÂæ™ÁéØÊü•ËØ¢DelayQueueÔºå‰∏ÄÊó¶ËÉΩ‰ªéDelayQueue‰∏≠Ëé∑ÂèñÂÖÉÁ¥†Êó∂ÔºåË°®Á§∫ÁºìÂ≠òÊúâÊïàÊúüÂà∞‰∫ÜÔºõÂÆöÊó∂‰ªªÂä°Ë∞ÉÂ∫¶„ÄÇ‰ΩøÁî®DelayQueue‰øùÂ≠òÂΩìÂ§©Â∞Ü‰ºöÊâßË°åÁöÑ‰ªªÂä°ÂíåÊâßË°åÊó∂Èó¥Ôºå‰∏ÄÊó¶‰ªéDelayQueue‰∏≠Ëé∑ÂèñÂà∞‰ªªÂä°Â∞±ÂºÄÂßãÊâßË°å„ÄÇDelayQueueÁöÑÂÆûÁé∞ÊòØÂü∫‰∫éPriorityQueueÔºåÊòØ‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÈòüÂàóÔºåÊòØ‰ª•Âª∂Êó∂Êó∂Èó¥ÁöÑÈïøÁü≠ËøõË°åÊéíÂ∫èÁöÑ„ÄÇÊâÄ‰ª•ÔºåDelayQueueÈúÄË¶ÅÁü•ÈÅìÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂª∂Êó∂Êó∂Èó¥ÔºåËÄåËøô‰∏™Âª∂Êó∂Êó∂Èó¥ÊòØÁî±DelayedÊé•Âè£ÁöÑgetDelay()ÊñπÊ≥ïËé∑ÂèñÁöÑ„ÄÇÊâÄ‰ª•ÔºåDelayQueueÁöÑÂÖÉÁ¥†ÂøÖÈ°ªÂÆûÁé∞DelayedÊé•Âè£„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÂÖàÂàõÂª∫‰∏Ä‰∏™ÈòüÂàóÂÖÉÁ¥†Á±ªItemÔºåÂÆûÁé∞DelayedÊé•Âè£Ôºö1234567891011121314151617181920212223242526272829303132public class Item implements Delayed &#123; private final String value; private final long expireTime; public Item(String value, long delayTime) &#123; this.value = value; this.expireTime = System.currentTimeMillis() + delayTime; &#125; @Override public long getDelay(TimeUnit unit) &#123; // Ëé∑ÂèñÂª∂ËøüÊó∂Èó¥ long diff = expireTime - System.currentTimeMillis(); return unit.convert(diff, TimeUnit.MILLISECONDS); &#125; @Override public int compareTo(@Nonnull Delayed o) &#123; Item item = (Item) o; // ÊåâÂª∂ËøüÊó∂Èó¥‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫è return Long.compare(this.expireTime, item.getExpireTime()); &#125; public String getValue() &#123; return value; &#125; public long getExpireTime() &#123; return expireTime; &#125;&#125;getDelayÊñπÊ≥ïÁî®‰∫éËé∑ÂèñÂª∂ËøüÊó∂Èó¥ÔºåcompareToÊñπÊ≥ïÁî®‰∫éÊåáÂÆöÊéíÂ∫èËßÑÂàô„ÄÇDelayQueueÂÜÖÈÉ®‰ΩøÁî®PriorityBlockingQueueÂÆûÁé∞ÊéíÂ∫è„ÄÇÂàõÂª∫‰∏Ä‰∏™ÊµãËØïÁî®‰æãÔºö1234567891011121314151617181920public class DelayQueueTest &#123; private static Logger log = LoggerFactory.getLogger(DelayQueueTest.class); public static void main(String[] args) throws InterruptedException &#123; DelayQueue&lt;Item&gt; delayQueue = new DelayQueue&lt;&gt;(); Item item1 = new Item("item1 - Âª∂Ëøü1Áßí", 1000); Item item2 = new Item("item2 - Âª∂Ëøü4Áßí", 4000); Item item3 = new Item("item3 - Âª∂Ëøü2Áßí", 2000); delayQueue.add(item1); delayQueue.add(item2); delayQueue.add(item3); log.info("start"); while (delayQueue.size() &gt; 0) &#123; log.info(delayQueue.take().getValue()); &#125; &#125;&#125;Á®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö123414:11:32.488 [main] INFO cc.mrbird.wwj.blocking.DelayQueueTest - start14:11:33.490 [main] INFO cc.mrbird.wwj.blocking.DelayQueueTest - item1 - Âª∂Ëøü1Áßí14:11:34.488 [main] INFO cc.mrbird.wwj.blocking.DelayQueueTest - item3 - Âª∂Ëøü2Áßí14:11:36.490 [main] INFO cc.mrbird.wwj.blocking.DelayQueueTest - item2 - Âª∂Ëøü4ÁßíÂèØ‰ª•ÁúãÂà∞ÔºåÈòüÂàóÂÜÖÂÖÉÁ¥†ÊòØÊåâÂª∂ËøüÊó∂Èó¥‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫èÁöÑÔºåÂª∂Ëøü1ÁßíÂêétakeÊñπÊ≥ï‰ªéÈòüÂàóÈáåËé∑ÂèñÂà∞‰∫Üitem1ÔºåÂª∂Ëøü2ÁßíÂêéËé∑ÂèñÂà∞‰∫Üitem3ÔºåÂª∂Ëøü4ÁßíÂêéËé∑ÂèñÂà∞‰∫Üitem2„ÄÇÂ¶ÇÊûúÊàë‰ª¨Â∞ÜÊéíÂ∫èËßÑÂàôÊîπ‰∏∫ÊåâÂª∂ËøüÊó∂Èó¥‰ªéÂ§ßÂà∞Â∞èÊéíÂàóÔºå‰ºöÂèëÁîü‰ªÄ‰πàÂë¢Ôºü1234567891011public class Item implements Delayed &#123; ...... @Override public int compareTo(@Nonnull Delayed o) &#123; Item item = (Item) o; // ÊåâÂª∂ËøüÊó∂Èó¥‰ªéÂ§ßÂà∞Â∞èÊéíÂ∫è return Long.compare(item.getExpireTime(), this.expireTime); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö123414:15:01.721 [main] INFO cc.mrbird.wwj.blocking.DelayQueueTest - start14:15:05.722 [main] INFO cc.mrbird.wwj.blocking.DelayQueueTest - item2 - Âª∂Ëøü4Áßí14:15:05.723 [main] INFO cc.mrbird.wwj.blocking.DelayQueueTest - item3 - Âª∂Ëøü2Áßí14:15:05.723 [main] INFO cc.mrbird.wwj.blocking.DelayQueueTest - item1 - Âª∂Ëøü1ÁßíÂèØ‰ª•ÁúãÂà∞ÔºåÁ®ãÂ∫èÂª∂Ëøü4ÁßíÂêéÔºåtakeÊñπÊ≥ï‰ªéÈòüÂàó‰∏≠Ëé∑ÂèñÂà∞‰∫Üitem2ÔºåÂõ†‰∏∫item3Âíåitem1ÁöÑÂª∂ËøüÊó∂Èó¥Â∞è‰∫é4ÁßíÔºåÊâÄ‰ª•4ÁßíÂêéÔºåÂèØ‰ª•Áõ¥Êé•ÂèñÂá∫„ÄÇSynchronousQueueSynchronousQueueÊòØ‰∏Ä‰∏™‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÁöÑÈòªÂ°ûÈòüÂàó„ÄÇÊØè‰∏Ä‰∏™putÊìç‰ΩúÂøÖÈ°ªÁ≠âÂæÖ‰∏Ä‰∏™takeÊìç‰ΩúÔºåÂê¶Âàô‰∏çËÉΩÁªßÁª≠Ê∑ªÂä†ÂÖÉÁ¥†„ÄÇSynchronousQueueÂèØ‰ª•ÁúãÊàêÊòØ‰∏Ä‰∏™‰º†ÁêÉÊâãÔºåË¥üË¥£ÊääÁîü‰∫ßËÄÖÁ∫øÁ®ãÂ§ÑÁêÜÁöÑÊï∞ÊçÆÁõ¥Êé•‰º†ÈÄíÁªôÊ∂àË¥πËÄÖÁ∫øÁ®ã„ÄÇÈòüÂàóÊú¨Ë∫´Âπ∂‰∏çÂ≠òÂÇ®‰ªª‰ΩïÂÖÉÁ¥†ÔºåÈùûÂ∏∏ÈÄÇÂêà‰∫é‰º†ÈÄíÊÄßÂú∫ÊôØ,ÊØîÂ¶ÇÂú®‰∏Ä‰∏™Á∫øÁ®ã‰∏≠‰ΩøÁî®ÁöÑÊï∞ÊçÆÔºå‰º†ÈÄíÁªôÂè¶Â§ñ‰∏Ä‰∏™Á∫øÁ®ã‰ΩøÁî®„ÄÇLinkedTransferQueueLinkedTransferQueueÊòØ‰∏Ä‰∏™Áî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÊó†ÁïåÈòªÂ°ûTransferQueueÈòüÂàó„ÄÇÁõ∏ÂØπ‰∫éÂÖ∂‰ªñÈòªÂ°ûÈòüÂàóLinkedTransferQueueÂ§ö‰∫ÜtryTransferÂíåtransferÊñπÊ≥ï„ÄÇtransferÊñπÊ≥ïÔºöÂ¶ÇÊûúÂΩìÂâçÊúâÊ∂àË¥πËÄÖÊ≠£Âú®Á≠âÂæÖÊé•Êî∂ÂÖÉÁ¥†ÔºàÊ∂àË¥πËÄÖ‰ΩøÁî®take()ÊñπÊ≥ïÊàñÂ∏¶Êó∂Èó¥ÈôêÂà∂ÁöÑpoll()ÊñπÊ≥ïÊó∂ÔºâÔºåtransferÊñπÊ≥ïÂèØ‰ª•ÊääÁîü‰∫ßËÄÖ‰º†ÂÖ•ÁöÑÂÖÉÁ¥†Á´ãÂàªtransferÔºà‰º†ËæìÔºâÁªôÊ∂àË¥πËÄÖ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊ∂àË¥πËÄÖÂú®Á≠âÂæÖÊé•Êî∂ÂÖÉÁ¥†ÔºåtransferÊñπÊ≥ï‰ºöÂ∞ÜÂÖÉÁ¥†Â≠òÊîæÂú®ÈòüÂàóÁöÑtailËäÇÁÇπÔºåÂπ∂Á≠âÂà∞ËØ•ÂÖÉÁ¥†Ë¢´Ê∂àË¥πËÄÖÊ∂àË¥π‰∫ÜÊâçËøîÂõû„ÄÇtryTransferÊñπÊ≥ï„ÄÇÂàôÊòØÁî®Êù•ËØïÊé¢‰∏ãÁîü‰∫ßËÄÖ‰º†ÂÖ•ÁöÑÂÖÉÁ¥†ÊòØÂê¶ËÉΩÁõ¥Êé•‰º†ÁªôÊ∂àË¥πËÄÖ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊ∂àË¥πËÄÖÁ≠âÂæÖÊé•Êî∂ÂÖÉÁ¥†ÔºåÂàôËøîÂõûfalse„ÄÇÂíåtransferÊñπÊ≥ïÁöÑÂå∫Âà´ÊòØtryTransferÊñπÊ≥ïÊó†ËÆ∫Ê∂àË¥πËÄÖÊòØÂê¶Êé•Êî∂ÔºåÊñπÊ≥ïÁ´ãÂç≥ËøîÂõû„ÄÇËÄåtransferÊñπÊ≥ïÊòØÂøÖÈ°ªÁ≠âÂà∞Ê∂àË¥πËÄÖÊ∂àË¥π‰∫ÜÊâçËøîÂõû„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®ÈáçËΩΩÊñπÊ≥ïtryTransfer(E e, long timeout, TimeUnit unit)ÊåáÂÆöË∂ÖÊó∂Êó∂Èó¥„ÄÇLinkedBlockingDequeLinkedBlockingDequeÊòØ‰∏Ä‰∏™Áî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÂèåÂêëÈòªÂ°ûÈòüÂàó„ÄÇÊâÄË∞ìÂèåÂêëÈòüÂàóÊåáÁöÑ‰Ω†ÂèØ‰ª•‰ªéÈòüÂàóÁöÑ‰∏§Á´ØÊèíÂÖ•ÂíåÁßªÂá∫ÂÖÉÁ¥†„ÄÇÂèåÁ´ØÈòüÂàóÂõ†‰∏∫Â§ö‰∫Ü‰∏Ä‰∏™Êìç‰ΩúÈòüÂàóÁöÑÂÖ•Âè£ÔºåÂú®Â§öÁ∫øÁ®ãÂêåÊó∂ÂÖ•ÈòüÊó∂Ôºå‰πüÂ∞±ÂáèÂ∞ë‰∫Ü‰∏ÄÂçäÁöÑÁ´û‰∫â„ÄÇÁõ∏ÊØîÂÖ∂‰ªñÁöÑÈòªÂ°ûÈòüÂàóÔºåLinkedBlockingDequeÂ§ö‰∫Ü‰∏Ä‰∫õÈ¶ñÂ∞æÂÖÉÁ¥†ÁöÑÊìç‰ΩúÊñπÊ≥ïÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉ‰∏äÈù¢ÁöÑË°®Ê†º„ÄÇÂèÇËÄÉÊñáÁ´†http://ifeve.com/java-blocking-queue/https://www.cnblogs.com/jinggod/p/8495502.html]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Fork/Join‰ΩøÁî®Â≠¶‰π†]]></title>
    <url>%2FJDK7-Fork-Join.html</url>
    <content type="text"><![CDATA[JDK7Êèê‰æõ‰∫Ü‰∏Ä‰∏™Â∞Ü‰ªªÂä°‚ÄúÂàÜËÄåÊ≤ª‰πã‚ÄùÁöÑÊ°ÜÊû∂ ‚Äî Fork/Join„ÄÇÂÆÉÊää‰∏Ä‰∏™Â§ßÁöÑ‰ªªÂä°ÂàÜÂâ≤ÊàêË∂≥Â§üÂ∞èÁöÑÂ≠ê‰ªªÂä°ÔºåÂ¶ÇÊûúÂ≠ê‰ªªÂä°ÊØîËæÉÂ§ßÁöÑËØùËøòË¶ÅÂØπÂ≠ê‰ªªÂä°ËøõË°åÁªßÁª≠ÂàÜÂâ≤„ÄÇÂàÜÂâ≤ÁöÑÂ≠ê‰ªªÂä°ÂàÜÂà´ÊîæÂà∞ÂèåÁ´ØÈòüÂàóÈáåÔºåÁÑ∂ÂêéÂêØÂä®Á∫øÁ®ãÂàÜÂà´‰ªéÂèåÁ´ØÈòüÂàóÈáåËé∑Âèñ‰ªªÂä°ÊâßË°å„ÄÇÂ≠ê‰ªªÂä°ÊâßË°åÂÆåÁöÑÁªìÊûúÈÉΩÊîæÂú®Âè¶Â§ñ‰∏Ä‰∏™ÈòüÂàóÈáåÔºåÂêØÂä®‰∏Ä‰∏™Á∫øÁ®ã‰ªéÈòüÂàóÈáåÂèñÊï∞ÊçÆÔºåÁÑ∂ÂêéÂêàÂπ∂Ëøô‰∫õÊï∞ÊçÆ„ÄÇFork/JoinÁöÑÊÄùÊÉ≥Â¶Ç‰∏ãÊâÄÁ§∫Ôºö RecursiveTaskRecursiveTaskÈÄÇÁî®‰∫éÂ∞Ü‰ªªÂä°ÂàÜËÄåÊ≤ª‰πãÔºåÂπ∂‰∏îÊúâËøîÂõûÂÄºÁöÑÊÉÖÂÜµÔºå‰∏æ‰∏™ËÆ°ÁÆó1Âà∞100ÂíåÁöÑ‰æãÂ≠êÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class RecursiveTest &#123; // ÂÆö‰πâÊúÄÂ∞èÂå∫Èó¥‰∏∫10 private final static int MAX_THRESHOLD = 10; public static void main(String[] args) &#123; final ForkJoinPool forkJoinPool = new ForkJoinPool(); ForkJoinTask&lt;Integer&gt; future = forkJoinPool.submit(new CalculateRecursiveTask(1, 100)); try &#123; Integer result = future.get(); System.out.println(result); &#125; catch (InterruptedException | ExecutionException e) &#123; e.printStackTrace(); &#125; &#125; private static class CalculateRecursiveTask extends RecursiveTask&lt;Integer&gt; &#123; // Ëµ∑Âßã private int start; // ÁªìÊùü private int end; public CalculateRecursiveTask(int start, int end) &#123; this.start = start; this.end = end; &#125; @Override protected Integer compute() &#123; // Â¶ÇÊûúËµ∑ÂßãÂíåÁªìÊùüËåÉÂõ¥Â∞è‰∫éÊàë‰ª¨ÂÆö‰πâÁöÑÂå∫Èó¥ËåÉÂõ¥ÔºåÂàôÁõ¥Êé•ËÆ°ÁÆó if ((end - start) &lt;= MAX_THRESHOLD) &#123; return IntStream.rangeClosed(start, end).sum(); &#125; else &#123; // Âê¶ÂàôÔºåÂ∞ÜËåÉÂõ¥‰∏ÄÂàÜ‰∏∫‰∫åÔºåÂàÜÊàê‰∏§‰∏™Â≠ê‰ªªÂä° int middle = (start + end) / 2; CalculateRecursiveTask leftTask = new CalculateRecursiveTask(start, middle); CalculateRecursiveTask rightTask = new CalculateRecursiveTask(middle + 1, end); // ÊâßË°åÂ≠ê‰ªªÂä° leftTask.fork(); rightTask.fork(); // Ê±áÊÄªÂ≠ê‰ªªÂä° return leftTask.join() + rightTask.join(); &#125; &#125; &#125;&#125;ForkJoinPool‰ΩøÁî®submitÊàñinvokeÊèê‰∫§ÁöÑÂå∫Âà´ÔºöinvokeÊòØÂêåÊ≠•ÊâßË°åÔºåË∞ÉÁî®‰πãÂêéÈúÄË¶ÅÁ≠âÂæÖ‰ªªÂä°ÂÆåÊàêÔºåÊâçËÉΩÊâßË°åÂêéÈù¢ÁöÑ‰ª£Á†ÅÔºõsubmitÊòØÂºÇÊ≠•ÊâßË°åÔºåÂè™ÊúâÂú®FutureË∞ÉÁî®getÁöÑÊó∂ÂÄô‰ºöÈòªÂ°û„ÄÇÂêØÂä®Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºöÂÖ∂ÂÆûËøôÈáåÊâßË°åÂ≠ê‰ªªÂä°Ë∞ÉÁî®forkÊñπÊ≥ïÂπ∂‰∏çÊòØÊúÄ‰Ω≥ÁöÑÈÄâÊã©ÔºåÊúÄ‰Ω≥ÁöÑÈÄâÊã©ÊòØinvokeAllÊñπÊ≥ïÔºö123456// ÊâßË°åÂ≠ê‰ªªÂä°// leftTask.fork();// rightTask.fork();invokeAll(leftTask,rightTask);// Ê±áÊÄªÂ≠ê‰ªªÂä°return leftTask.join() + rightTask.join();RecursiveAction‰ΩøÁî®ÊñπÂºèÂíåRecursiveTaskÁ±ª‰ººÔºåÂè™‰∏çËøáÊ≤°ÊúâËøîÂõûÂÄºÔºö12345678910111213141516171819202122232425262728293031323334353637383940public class RecursiveActionTest &#123; // ÂÆö‰πâÊúÄÂ∞èÂå∫Èó¥‰∏∫10 private final static int MAX_THRESHOLD = 10; private final static AtomicInteger SUM = new AtomicInteger(0); public static void main(String[] args) throws InterruptedException &#123; final ForkJoinPool forkJoinPool = new ForkJoinPool(); forkJoinPool.submit(new CalculateRecursiveAction(0, 100)); forkJoinPool.awaitTermination(2, TimeUnit.SECONDS); System.out.println(SUM); &#125; private static class CalculateRecursiveAction extends RecursiveAction &#123; // Ëµ∑Âßã private final int start; // ÁªìÊùü private final int end; private CalculateRecursiveAction(int start, int end) &#123; this.start = start; this.end = end; &#125; @Override protected void compute() &#123; // Â¶ÇÊûúËµ∑ÂßãÂíåÁªìÊùüËåÉÂõ¥Â∞è‰∫éÊàë‰ª¨ÂÆö‰πâÁöÑÂå∫Èó¥ËåÉÂõ¥ÔºåÂàôÁõ¥Êé•ËÆ°ÁÆó if ((end - start) &lt;= MAX_THRESHOLD) &#123; SUM.addAndGet(IntStream.rangeClosed(start, end).sum()); &#125; else &#123; // Âê¶ÂàôÔºåÂ∞ÜËåÉÂõ¥‰∏ÄÂàÜ‰∏∫‰∫åÔºåÂàÜÊàê‰∏§‰∏™Â≠ê‰ªªÂä° int middle = (end + start) / 2; CalculateRecursiveAction leftAction = new CalculateRecursiveAction(start, middle); CalculateRecursiveAction rightAction = new CalculateRecursiveAction(middle + 1, end); // ÊâßË°åÂ≠ê‰ªªÂä° invokeAll(leftAction, rightAction); // Ê≤°ÊúâÊ±áÊÄªÂ≠ê‰ªªÂä°ÁªìÊûúËøáÁ®ãÔºåÂõ†‰∏∫Ê≤°ÊúâËøîÂõûÂÄº„ÄÇ &#125; &#125; &#125;&#125;ËæìÂá∫ÁªìÊûú‰πüÊòØ5050„ÄÇ‰ªÄ‰πàÊó∂ÂÄôÁî®‰∏äÈù¢Âè™ÊòØ‰∏∫‰∫ÜÊºîÁ§∫Fork/JoinÁöÑÁî®Ê≥ïÔºåÂÆûÈôÖÊòØÈááÁî®ËøôÁßçÊñπÂºèËÆ°ÁÆóÂèçËÄåÊõ¥Âä†Ë¥πÊó∂ÔºåÂõ†‰∏∫ÂàáÂâ≤‰ªªÂä°ÔºåÂàÜÈÖçÁ∫øÁ®ãÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂºÄÈîÄ„ÄÇÂÖ∂ÂÆû‰ªÄ‰πàÊó∂ÂÄôÁî®‰∏çÂøÖÂ§™Á∫†ÁªìÔºå‰∏Ä‰∏™Ë∂≥Â§üÂ§ßÁöÑ‰ªªÂä°ÔºåÂ¶ÇÊûúÈááÁî®Fork/JoinÊù•Â§ÑÁêÜÊØî‰º†ÁªüÂ§ÑÁêÜÊñπÂºèÂø´ÁöÑËØùÔºåÈÇ£Â∞±ÊØ´‰∏çÁäπË±´ÁöÑÈÄâÊã©ÂÆÉÂêßÔºÅÂèÇËÄÉÊñáÁ´†Ôºöhttps://www.imooc.com/article/24822]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•Â≠¶‰π†JavaÁ∫øÁ®ãÊ±†]]></title>
    <url>%2FJava-Thread-Pool.html</url>
    <content type="text"><![CDATA[Âú®ÂâçÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÈÉΩÊòØÈÄöËøánew ThreadÊù•ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÔºåÁî±‰∫éÁ∫øÁ®ãÁöÑÂàõÂª∫ÂíåÈîÄÊØÅÈÉΩÈúÄË¶ÅÊ∂àËÄó‰∏ÄÂÆöÁöÑCPUËµÑÊ∫êÔºåÊâÄ‰ª•Âú®È´òÂπ∂Âèë‰∏ãËøôÁßçÂàõÂª∫Á∫øÁ®ãÁöÑÊñπÂºèÂ∞Ü‰∏•ÈáçÂΩ±Âìç‰ª£Á†ÅÊâßË°åÊïàÁéá„ÄÇËÄåÁ∫øÁ®ãÊ±†ÁöÑ‰ΩúÁî®Â∞±ÊòØËÆ©‰∏Ä‰∏™Á∫øÁ®ãÊâßË°åÁªìÊùüÂêé‰∏çÈ©¨‰∏äÈîÄÊØÅÔºåÁªßÁª≠ÊâßË°åÊñ∞ÁöÑ‰ªªÂä°ÔºåËøôÊ†∑Â∞±ËäÇÁúÅ‰∫Ü‰∏çÊñ≠ÂàõÂª∫Á∫øÁ®ãÂíåÈîÄÊØÅÁ∫øÁ®ãÁöÑÂºÄÈîÄ„ÄÇThreadPoolExecutorÂàõÂª∫JavaÁ∫øÁ®ãÊ±†ÊúÄ‰∏∫Ê†∏ÂøÉÁöÑÁ±ª‰∏∫ThreadPoolExecutorÔºöÂÆÉÊèê‰æõ‰∫ÜÂõõÁßçÊûÑÈÄ†ÂáΩÊï∞Êù•ÂàõÂª∫Á∫øÁ®ãÊ±†ÔºåÂÖ∂‰∏≠ÊúÄ‰∏∫Ê†∏ÂøÉÁöÑÊûÑÈÄ†ÂáΩÊï∞Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler)Ëøô7‰∏™ÂèÇÊï∞ÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºöcorePoolSize Á∫øÁ®ãÊ±†Ê†∏ÂøÉÁ∫øÁ®ãÊï∞„ÄÇÂç≥Á∫øÁ®ãÊ±†‰∏≠‰øùÁïôÁöÑÁ∫øÁ®ã‰∏™Êï∞ÔºåÂç≥‰ΩøËøô‰∫õÁ∫øÁ®ãÊòØÁ©∫Èó≤ÁöÑÔºå‰πü‰∏ç‰ºöË¢´ÈîÄÊØÅÔºåÈô§ÈùûÈÄöËøáThreadPoolExecutorÁöÑallowCoreThreadTimeOut(true)ÊñπÊ≥ïÂºÄÂêØ‰∫ÜÊ†∏ÂøÉÁ∫øÁ®ãÁöÑË∂ÖÊó∂Á≠ñÁï•ÔºõmaximumPoolSize Á∫øÁ®ãÊ±†‰∏≠ÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÁ∫øÁ®ã‰∏™Êï∞ÔºõkeepAliveTime Áî®‰∫éËÆæÁΩÆÈÇ£‰∫õË∂ÖÂá∫Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ÈáèÁöÑÁ∫øÁ®ãÁöÑÊúÄÂ§ßÁ≠âÂæÖÊó∂Èó¥ÔºåË∂ÖËøáËøô‰∏™Êó∂Èó¥ËøòÊ≤°ÊúâÊñ∞‰ªªÂä°ÁöÑËØùÔºåË∂ÖÂá∫ÁöÑÁ∫øÁ®ãÂ∞ÜË¢´ÈîÄÊØÅÔºõunit Ë∂ÖÊó∂Êó∂Èó¥Âçï‰ΩçÔºõworkQueue Á∫øÁ®ãÈòüÂàó„ÄÇÁî®‰∫é‰øùÂ≠òÈÄöËøáexecuteÊñπÊ≥ïÊèê‰∫§ÁöÑÔºåÁ≠âÂæÖË¢´ÊâßË°åÁöÑ‰ªªÂä°ÔºõthreadFactory Á∫øÁ®ãÂàõÂª∫Â∑•Á®ãÔºåÂç≥ÊåáÂÆöÊÄéÊ†∑ÂàõÂª∫Á∫øÁ®ãÔºõhandler ÊãíÁªùÁ≠ñÁï•„ÄÇÂç≥ÊåáÂÆöÂΩìÁ∫øÁ®ãÊèê‰∫§ÁöÑÊï∞ÈáèË∂ÖÂá∫‰∫ÜmaximumPoolSizeÂêéÔºåËØ•‰ΩøÁî®‰ªÄ‰πàÁ≠ñÁï•Â§ÑÁêÜË∂ÖÂá∫ÁöÑÁ∫øÁ®ã„ÄÇÂú®ÈÄöËøáËøô‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÂàõÂª∫Á∫øÁ®ãÊ±†ÁöÑÊó∂ÂÄôÔºåËøôÂá†‰∏™ÂèÇÊï∞ÂøÖÈ°ªÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂ÔºåÂê¶ÂàôÂ∞ÜÊäõÂá∫IllegalArgumentExceptionÂºÇÂ∏∏ÔºöcorePoolSize‰∏çËÉΩÂ∞è‰∫é0ÔºõkeepAliveTime‰∏çËÉΩÂ∞è‰∫é0ÔºõmaximumPoolSize ‰∏çËÉΩÂ∞è‰∫éÁ≠â‰∫é0ÔºõmaximumPoolSize‰∏çËÉΩÂ∞è‰∫écorePoolSizeÔºõÊ≠§Â§ñÔºåworkQueue„ÄÅthreadFactoryÂíåhandler‰∏çËÉΩ‰∏∫nullÔºåÂê¶ÂàôÂ∞ÜÊäõÂá∫Á©∫ÊåáÈíàÂºÇÂ∏∏„ÄÇ‰∏ãÈù¢‰∏æ‰∫õ‰æãÂ≠êÊù•Ê∑±ÂÖ•ÁêÜËß£ËøôÂá†‰∏™ÂèÇÊï∞ÁöÑÂê´‰πâ„ÄÇ‰ΩøÁî®‰∏äÈù¢ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊ±†Ôºö123456789101112131415161718192021ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 1, 2, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy());System.out.println("Á∫øÁ®ãÊ±†ÂàõÂª∫ÂÆåÊØï");int activeCount = -1;int queueSize = -1;while (true) &#123; if (activeCount != threadPoolExecutor.getActiveCount() || queueSize != threadPoolExecutor.getQueue().size()) &#123; System.out.println("Ê¥ªË∑ÉÁ∫øÁ®ã‰∏™Êï∞ " + threadPoolExecutor.getActiveCount()); System.out.println("Ê†∏ÂøÉÁ∫øÁ®ã‰∏™Êï∞ " + threadPoolExecutor.getCorePoolSize()); System.out.println("ÈòüÂàóÁ∫øÁ®ã‰∏™Êï∞ " + threadPoolExecutor.getQueue().size()); System.out.println("ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ " + threadPoolExecutor.getMaximumPoolSize()); System.out.println("------------------------------------"); activeCount = threadPoolExecutor.getActiveCount(); queueSize = threadPoolExecutor.getQueue().size(); &#125;&#125;‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂàõÂª∫‰∫Ü‰∏Ä‰∏™Ê†∏ÂøÉÁ∫øÁ®ãÊï∞Èáè‰∏∫1ÔºåÂÖÅËÆ∏ÊúÄÂ§ßÁ∫øÁ®ãÊï∞Èáè‰∏∫2ÔºåÊúÄÂ§ßÊ¥ªË∑ÉÊó∂Èó¥‰∏∫10ÁßíÔºåÁ∫øÁ®ãÈòüÂàóÈïøÂ∫¶‰∏∫1ÁöÑÁ∫øÁ®ãÊ±†„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÈÄöËøáexecuteÊñπÊ≥ïÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§1‰∏™‰ªªÂä°ÔºåÁúãÁúãÁªìÊûúÂ¶Ç‰ΩïÔºö1234567891011121314151617181920212223ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 1, 2, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy());System.out.println("Á∫øÁ®ãÊ±†ÂàõÂª∫ÂÆåÊØï");threadPoolExecutor.execute(() -&gt; sleep(100));int activeCount = -1;int queueSize = -1;while (true) &#123; if (activeCount != threadPoolExecutor.getActiveCount() || queueSize != threadPoolExecutor.getQueue().size()) &#123; System.out.println("Ê¥ªË∑ÉÁ∫øÁ®ã‰∏™Êï∞ " + threadPoolExecutor.getActiveCount()); System.out.println("Ê†∏ÂøÉÁ∫øÁ®ã‰∏™Êï∞ " + threadPoolExecutor.getCorePoolSize()); System.out.println("ÈòüÂàóÁ∫øÁ®ã‰∏™Êï∞ " + threadPoolExecutor.getQueue().size()); System.out.println("ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ " + threadPoolExecutor.getMaximumPoolSize()); System.out.println("------------------------------------"); activeCount = threadPoolExecutor.getActiveCount(); queueSize = threadPoolExecutor.getQueue().size(); &#125;&#125;ThreadPoolExecutorÁöÑexecuteÂíåsubmitÊñπÊ≥ïÈÉΩÂèØ‰ª•ÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§‰ªªÂä°ÔºåÂå∫Âà´ÊòØÔºåsubmitÊñπÊ≥ïËÉΩÂ§üËøîÂõûÊâßË°åÁªìÊûúÔºåËøîÂõûÂÄºÁ±ªÂûã‰∏∫FuturesleepÊñπÊ≥ï‰ª£Á†ÅÔºö12345678private static void sleep(long value) &#123; try &#123; System.out.println(Thread.currentThread().getName() + "Á∫øÁ®ãÊâßË°åsleepÊñπÊ≥ï"); TimeUnit.SECONDS.sleep(value); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125;&#125;ÂêØÂä®Á®ãÂ∫èÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö Á∫øÁ®ãÊ±†Ê†∏ÂøÉÁ∫øÁ®ãÊï∞Èáè‰∏∫1ÔºåÈÄöËøáexecuteÊèê‰∫§‰∫Ü‰∏Ä‰∏™‰ªªÂä°ÂêéÔºåÁî±‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊòØÁ©∫Èó≤ÁöÑÔºåÊâÄ‰ª•‰ªªÂä°Ë¢´ÊâßË°å‰∫Ü„ÄÇÁî±‰∫éËøô‰∏™‰ªªÂä°ÁöÑÈÄªËæëÊòØ‰ºëÁú†100ÁßíÔºåÊâÄ‰ª•Âú®Ëøô100ÁßíÂÜÖÔºåÁ∫øÁ®ãÊ±†ÁöÑÊ¥ªË∑ÉÁ∫øÁ®ãÊï∞Èáè‰∏∫1„ÄÇÊ≠§Â§ñÔºåÂõ†‰∏∫Êèê‰∫§ÁöÑ‰ªªÂä°Ë¢´Ê†∏ÂøÉÁ∫øÁ®ãÊâßË°å‰∫ÜÔºåÊâÄ‰ª•Âπ∂Ê≤°ÊúâÁ∫øÁ®ãÈúÄË¶ÅË¢´ÊîæÂà∞Á∫øÁ®ãÈòüÂàóÈáåÁ≠âÂæÖÔºåÁ∫øÁ®ãÈòüÂàóÈïøÂ∫¶‰∏∫0„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÈÄöËøáexecuteÊñπÊ≥ïÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§2‰∏™‰ªªÂä°ÔºåÁúãÁúãÁªìÊûúÂ¶Ç‰ΩïÔºö12threadPoolExecutor.execute(() -&gt; sleep(100));threadPoolExecutor.execute(() -&gt; sleep(100));Á∫øÁ®ãÊ±†Ê†∏ÂøÉÁ∫øÁ®ãÊï∞Èáè‰∏∫1ÔºåÈÄöËøáexecuteÊèê‰∫§‰∫Ü2‰∏™‰ªªÂä°ÂêéÔºå‰∏ÄÂºÄÂßãÊ†∏ÂøÉÁ∫øÁ®ãÊòØÁ©∫Èó≤ÁöÑÔºåThread-0Ë¢´ÊâßË°å„ÄÇÁî±‰∫éËøô‰∏™‰ªªÂä°ÁöÑÈÄªËæëÊòØ‰ºëÁú†100ÁßíÔºåÊâÄ‰ª•Âú®Ëøô100ÁßíÂÜÖÔºåÁ∫øÁ®ãÊ±†ÁöÑÊ¥ªË∑ÉÁ∫øÁ®ãÊï∞Èáè‰∏∫1„ÄÇÂõ†‰∏∫Ê†∏ÂøÉÁ∫øÁ®ãÊï∞Èáè‰∏∫1ÔºåÊâÄ‰ª•Âè¶Â§ñ‰∏Ä‰∏™‰ªªÂä°Âú®Ëøô100ÁßíÂÜÖ‰∏çËÉΩË¢´ÊâßË°åÔºå‰∫éÊòØË¢´ÊîæÂà∞Á∫øÁ®ãÈòüÂàóÈáåÁ≠âÂæÖÔºåÁ∫øÁ®ãÈòüÂàóÈïøÂ∫¶‰∏∫1„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÈÄöËøáexecuteÊñπÊ≥ïÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§3‰∏™‰ªªÂä°ÔºåÁúãÁúãÁªìÊûúÂ¶Ç‰ΩïÔºö123threadPoolExecutor.execute(() -&gt; sleep(100));threadPoolExecutor.execute(() -&gt; sleep(100));threadPoolExecutor.execute(() -&gt; sleep(100));Ëøô‰∏â‰∏™‰ªªÂä°ÈÉΩÊòØ‰ºëÁú†100ÁßíÔºåÊâÄ‰ª•Ê†∏ÂøÉÁ∫øÁ®ãÊ±†‰∏≠Á¨¨‰∏Ä‰∏™‰ªªÂä°Ê≠£Âú®Ë¢´ÊâßË°åÔºåÁ¨¨‰∫å‰∏™‰ªªÂä°Ë¢´ÊîæÂÖ•Âà∞‰∫ÜÁ∫øÁ®ãÈòüÂàó„ÄÇËÄåÂΩìÁ¨¨‰∏â‰∏™‰ªªÂä°Ë¢´Êèê‰∫§ËøõÊù•Êó∂ÔºåÁ∫øÁ®ãÈòüÂàóÊª°‰∫ÜÔºàÊàë‰ª¨ÂÆö‰πâÁöÑÈïøÂ∫¶‰∏∫1ÔºâÔºåÁî±‰∫éËØ•Á∫øÁ®ãÊ±†ÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞Èáè‰∏∫2ÔºåÊâÄ‰ª•Á∫øÁ®ãÊ±†ËøòÂèØ‰ª•ÂÜçÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊù•ÊâßË°åÂè¶Â§ñ‰∏Ä‰∏™‰ªªÂä°Ôºå‰∫éÊòØ‰πé‰πãÂâçÂú®Á∫øÁ®ãÈòüÂàóÈáåÁöÑÁ∫øÁ®ãË¢´ÂèñÂá∫ÊâßË°åÔºàFIFOÔºâÔºåÁ¨¨‰∏â‰∏™‰ªªÂä°Ë¢´ÊîæÂÖ•Âà∞‰∫ÜÁ∫øÁ®ãÈòüÂàó„ÄÇÊîπÂèòÁ¨¨‰∫å‰∏™ÂíåÁ¨¨‰∏â‰∏™‰ªªÂä°ÁöÑÁù°Áú†Êó∂Èó¥ÔºåËßÇÂØüËæìÂá∫Ôºö123threadPoolExecutor.execute(() -&gt; sleep(100));threadPoolExecutor.execute(() -&gt; sleep(5));threadPoolExecutor.execute(() -&gt; sleep(5));Á¨¨‰∫å‰∏™‰ªªÂä°Êèê‰∫§5ÁßíÂêéÔºå‰ªªÂä°ÊâßË°åÂÆåÊØïÔºåÊâÄ‰ª•Á∫øÁ®ãÈòüÂàóÈáåÁöÑ‰ªªÂä°Ë¢´ÊâßË°åÔºå‰∫éÊòØÈòüÂàóÁ∫øÁ®ã‰∏™Êï∞‰∏∫0ÔºåÊ¥ªË∑ÉÁ∫øÁ®ãÊï∞Èáè‰∏∫2ÔºàÁ¨¨‰∏Ä‰∏™ÂíåÁ¨¨‰∏â‰∏™‰ªªÂä°Ôºâ„ÄÇÂÜçËøá5ÁßíÂêéÔºåÁ¨¨‰∏â‰∏™‰ªªÂä°ÊâßË°åÂÆåÊØïÔºå‰∫éÊòØÊ¥ªË∑ÉÁ∫øÁ®ãÊï∞Èáè‰∏∫1ÔºàÁ¨¨‰∏Ä‰∏™100ÁßíËøòÊ≤°ÊâßË°åÂÆåÊØïÔºâ„ÄÇÂú®Á¨¨‰∏â‰∏™‰ªªÂä°ÁªìÊùüÁöÑÁû¨Èó¥ÔºåÊàë‰ª¨ËßÇÂØüÁ∫øÁ®ãÂø´ÁÖß:ÂèØ‰ª•ÁúãÂà∞ÔºåÁ∫øÁ®ãÊ±†‰∏≠Êúâ‰∏§‰∏™Á∫øÁ®ãÔºåThread-0Âú®ÊâßË°åÁ¨¨‰∏Ä‰∏™‰ªªÂä°Ôºà‰ºëÁú†100ÁßíÔºåËøòÊ≤°ÁªìÊùüÔºâÔºåThread-1ÊâßË°åÂÆåÁ¨¨‰∏â‰∏™‰ªªÂä°ÂêéÂπ∂Ê≤°ÊúâÈ©¨‰∏äË¢´ÈîÄÊØÅ„ÄÇËøáÊÆµÊó∂Èó¥ÂêéÔºà10ÁßíÈíüÂêéÔºâÂÜçËßÇÂØüÁ∫øÁ®ãÂø´ÁÖß:ÂèØ‰ª•ÁúãÂà∞ÔºåThread-1Ëøô‰∏™Á∫øÁ®ãË¢´ÈîÄÊØÅ‰∫ÜÔºåÂõ†‰∏∫Êàë‰ª¨Âú®ÂàõÂª∫Á∫øÁ®ãÊ±†ÁöÑÊó∂ÂÄôÔºåÊåáÂÆökeepAliveTime ‰∏∫10ÁßíÔºå10ÁßíÂêéÔºåË∂ÖÂá∫Ê†∏ÂøÉÁ∫øÁ®ãÊ±†Á∫øÁ®ãÂ§ñÁöÑÈÇ£‰∫õÁ∫øÁ®ãÂ∞ÜË¢´ÈîÄÊØÅ„ÄÇÂÅáÂ¶Ç‰∏ÄÊ¨°ÊÄßÊèê‰∫§4‰∏™‰ªªÂä°ÔºåÁúãÁúã‰ºöÊÄéÊ†∑Ôºö1234threadPoolExecutor.execute(() -&gt; sleep(100));threadPoolExecutor.execute(() -&gt; sleep(100));threadPoolExecutor.execute(() -&gt; sleep(100));threadPoolExecutor.execute(() -&gt; sleep(100));Âõ†‰∏∫Êàë‰ª¨ËÆæÁΩÆÁöÑÊãíÁªùÁ≠ñÁï•‰∏∫AbortPolicyÔºåÊâÄ‰ª•ÊúÄÂêéÊèê‰∫§ÁöÑÈÇ£‰∏™‰ªªÂä°Áõ¥Êé•Ë¢´ÊãíÁªù‰∫Ü„ÄÇÊõ¥Â§öÊãíÁªùÁ≠ñÁï•‰∏ãÈù¢‰ºö‰ªãÁªçÂà∞„ÄÇÂÖ≥Èó≠Á∫øÁ®ãÊ±†Á∫øÁ®ãÊ±†ÂåÖÂê´‰ª•‰∏ãÂá†‰∏™Áä∂ÊÄÅÔºöÂΩìÁ∫øÁ®ãÊ±†‰∏≠ÊâÄÊúâ‰ªªÂä°ÈÉΩÂ§ÑÁêÜÂÆåÊØïÂêéÔºåÁ∫øÁ®ãÂπ∂‰∏ç‰ºöËá™Â∑±ÂÖ≥Èó≠„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáË∞ÉÁî®shutdownÂíåshutdownNowÊñπÊ≥ïÊù•ÂÖ≥Èó≠Á∫øÁ®ãÊ±†„ÄÇ‰∏§ËÄÖÁöÑÂå∫Âà´Âú®‰∫éÔºöshutdownÊñπÊ≥ïÂ∞ÜÁ∫øÁ®ãÊ±†ÁΩÆ‰∏∫shutdownÁä∂ÊÄÅÔºåÊãíÁªùÊñ∞ÁöÑ‰ªªÂä°Êèê‰∫§Ôºå‰ΩÜÁ∫øÁ®ãÊ±†Âπ∂‰∏ç‰ºöÈ©¨‰∏äÂÖ≥Èó≠ÔºåËÄåÊòØÁ≠âÂæÖÊâÄÊúâÊ≠£Âú®ÊâßË°åÁöÑÂíåÁ∫øÁ®ãÈòüÂàóÈáåÁöÑ‰ªªÂä°ÈÉΩÊâßË°åÂÆåÊØïÂêéÔºåÁ∫øÁ®ãÊ±†Êâç‰ºöË¢´ÂÖ≥Èó≠„ÄÇÊâÄ‰ª•Ëøô‰∏™ÊñπÊ≥ïÊòØÂπ≥ÊªëÁöÑÂÖ≥Èó≠Á∫øÁ®ãÊ±†„ÄÇshutdownNowÊñπÊ≥ïÂ∞ÜÁ∫øÁ®ãÊ±†ÁΩÆ‰∏∫stopÁä∂ÊÄÅÔºåÊãíÁªùÊñ∞ÁöÑ‰ªªÂä°Êèê‰∫§Ôºå‰∏≠Êñ≠Ê≠£Âú®ÊâßË°åÁöÑÈÇ£‰∫õ‰ªªÂä°ÔºåÂπ∂‰∏îÊ∏ÖÈô§Á∫øÁ®ãÈòüÂàóÈáåÁöÑ‰ªªÂä°Âπ∂ËøîÂõû„ÄÇÊâÄ‰ª•Ëøô‰∏™ÊñπÊ≥ïÊòØÊØîËæÉ‚ÄúÊö¥Âäõ‚ÄùÁöÑ„ÄÇ‰∏æ‰∏§‰∏™‰æãÂ≠êËßÇÂØü‰∏ã‰∏§ËÄÖÁöÑÂå∫Âà´Ôºöshutdown‰æãÂ≠ê:123456789101112131415161718192021222324252627282930313233343536373839public static void main(String[] args) &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 4, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(2), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy()); threadPoolExecutor.execute(new shortTask()); threadPoolExecutor.execute(new longTask()); threadPoolExecutor.execute(new longTask()); threadPoolExecutor.execute(new shortTask()); threadPoolExecutor.shutdown(); System.out.println("Â∑≤ÁªèÊâßË°å‰∫ÜÁ∫øÁ®ãÊ±†shutdownÊñπÊ≥ï");&#125;static class shortTask implements Runnable &#123; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(1); System.out.println(Thread.currentThread().getName() + "ÊâßË°åshortTaskÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("shortTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;static class longTask implements Runnable &#123; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread().getName() + "ÊâßË°ålongTaskÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("longTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;ÂêØÂä®Á®ãÂ∫èÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåËôΩÁÑ∂Âú®‰ªªÂä°ÈÉΩË¢´Êèê‰∫§ÂêéÈ©¨‰∏äÊâßË°å‰∫ÜshutdownÊñπÊ≥ïÔºå‰ΩÜÊòØÂπ∂‰∏ç‰ºöÈ©¨‰∏äÂÖ≥Èó≠Á∫øÁ®ãÊ±†ÔºåËÄåÊòØÁ≠âÂæÖÊâÄÊúâË¢´Êèê‰∫§ÁöÑ‰ªªÂä°ÈÉΩÊâßË°åÂÆå‰∫ÜÊâçÂÖ≥Èó≠„ÄÇshutdownNow‰æãÂ≠êÔºö1234567891011121314151617181920212223242526272829303132333435363738394041public static void main(String[] args) &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 4, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(2), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy()); threadPoolExecutor.execute(new shortTask()); threadPoolExecutor.execute(new longTask()); threadPoolExecutor.execute(new longTask()); threadPoolExecutor.execute(new shortTask()); List&lt;Runnable&gt; runnables = threadPoolExecutor.shutdownNow(); // È©¨‰∏äÂÖ≥Èó≠ÔºåÂπ∂ËøîÂõûËøòÊú™Ë¢´ÊâßË°åÁöÑ‰ªªÂä° System.out.println(runnables); System.out.println("Â∑≤ÁªèÊâßË°å‰∫ÜÁ∫øÁ®ãÊ±†shutdownNowÊñπÊ≥ï");&#125;static class shortTask implements Runnable &#123; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(1); System.out.println(Thread.currentThread().getName() + "ÊâßË°åshortTaskÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("shortTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;static class longTask implements Runnable &#123; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread().getName() + "ÊâßË°ålongTaskÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("longTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;ÂêØÂä®Á®ãÂ∫èÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö ÂèØ‰ª•ÁúãÂà∞ÔºåÂú®ÊâßË°åshutdownNowÊñπÊ≥ïÂêéÔºåÁ∫øÁ®ãÊ±†È©¨‰∏äÂ∞±Ë¢´ÂÖ≥Èó≠‰∫ÜÔºåÊ≠£Âú®ÊâßË°å‰∏≠ÁöÑ‰∏§‰∏™‰ªªÂä°Ë¢´ÊâìÊñ≠ÔºåÂπ∂‰∏îËøîÂõû‰∫ÜÁ∫øÁ®ãÈòüÂàó‰∏≠Á≠âÂæÖË¢´ÊâßË°åÁöÑ‰∏§‰∏™‰ªªÂä°„ÄÇÈÄöËøá‰∏äÈù¢‰∏§‰∏™‰æãÂ≠êÊàë‰ª¨ËøòÂèØ‰ª•ÁúãÂà∞shutdownÂíåshutdownNowÊñπÊ≥ïÈÉΩ‰∏çÊòØÈòªÂ°ûÁöÑ„ÄÇÂ∏∏‰∏éshutdownÊê≠ÈÖçÁöÑÊñπÊ≥ïÊúâawaitTermination„ÄÇawaitTerminationÊñπÊ≥ïÊé•Êî∂timeoutÂíåTimeUnit‰∏§‰∏™ÂèÇÊï∞ÔºåÁî®‰∫éËÆæÂÆöË∂ÖÊó∂Êó∂Èó¥ÂèäÂçï‰Ωç„ÄÇÂΩìÁ≠âÂæÖË∂ÖËøáËÆæÂÆöÊó∂Èó¥Êó∂Ôºå‰ºöÁõëÊµãExecutorServiceÊòØÂê¶Â∑≤ÁªèÂÖ≥Èó≠ÔºåËã•ÂÖ≥Èó≠ÂàôËøîÂõûtrueÔºåÂê¶ÂàôËøîÂõûfalse„ÄÇËØ•ÊñπÊ≥ïÊòØÈòªÂ°ûÁöÑÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445public static void main(String[] args) throws InterruptedException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 4, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(2), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy()); threadPoolExecutor.execute(new shortTask()); threadPoolExecutor.execute(new longTask()); threadPoolExecutor.execute(new longTask()); threadPoolExecutor.execute(new shortTask()); threadPoolExecutor.shutdown(); boolean isShutdown = threadPoolExecutor.awaitTermination(3, TimeUnit.SECONDS); if (isShutdown) &#123; System.out.println("Á∫øÁ®ãÊ±†Âú®3ÁßíÂÜÖÊàêÂäüÂÖ≥Èó≠"); &#125; else &#123; System.out.println("Á≠â‰∫Ü3ÁßíËøòÊ≤°ÂÖ≥Èó≠Ôºå‰∏çÁ≠â‰∫Ü‚ï∞Ôºà‚Äµ‚ñ°‚Ä≤Ôºâ‚ïØ"); &#125; System.out.println("------------");&#125;static class shortTask implements Runnable &#123; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(1); System.out.println(Thread.currentThread().getName() + "ÊâßË°åshortTaskÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("shortTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;static class longTask implements Runnable &#123; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread().getName() + "ÊâßË°ålongTaskÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("longTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;ÂêØÂä®Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö4Â§ßÊãíÁªùÁ≠ñÁï•ÂΩìÁ∫øÁ®ãÊ±†Êó†Ê≥ïÂÜçÊé•Êî∂Êñ∞ÁöÑ‰ªªÂä°ÁöÑÊó∂ÂÄôÔºåÂèØÈááÂèñÂ¶Ç‰∏ãÂõõÁßçÁ≠ñÁï•Ôºö CallerRunsPolicyCallerRunsPolicyÁ≠ñÁï•ÔºöÁî±Ë∞ÉÁî®Á∫øÁ®ãÂ§ÑÁêÜËØ•‰ªªÂä°Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public static void main(String[] args) throws InterruptedException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 3, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.CallerRunsPolicy()); threadPoolExecutor.execute(new shortTask("‰ªªÂä°1")); threadPoolExecutor.execute(new longTask("‰ªªÂä°2")); threadPoolExecutor.execute(new longTask("‰ªªÂä°3")); threadPoolExecutor.execute(new shortTask("‰ªªÂä°4")); threadPoolExecutor.execute(new shortTask("‰ªªÂä°5")); threadPoolExecutor.shutdown();&#125;static class shortTask implements Runnable &#123; private String name; public shortTask(String name) &#123; this.name = name; &#125; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(1); System.out.println(Thread.currentThread().getName() + "ÊâßË°åshortTask-name-" + name + "ÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("shortTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;static class longTask implements Runnable &#123; private String name; public longTask(String name) &#123; this.name = name; &#125; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread().getName() + "ÊâßË°ålongTask-name-" + name + "ÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("longTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;‰∏äÈù¢ÁöÑÁ∫øÁ®ãÊ±†ÊúÄÂ§öÂè™ËÉΩ‰∏ÄÊ¨°ÊÄßÊèê‰∫§4‰∏™‰ªªÂä°ÔºåÁ¨¨5‰∏™‰ªªÂä°Êèê‰∫§Âêé‰ºöË¢´ÊãíÁªùÁ≠ñÁï•Â§ÑÁêÜ„ÄÇÂêØÂä®Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÁ¨¨5‰∏™Êèê‰∫§ÁöÑ‰ªªÂä°Áî±Ë∞ÉÁî®Á∫øÁ®ãÔºàÂç≥mainÁ∫øÁ®ãÔºâÂ§ÑÁêÜËØ•‰ªªÂä°„ÄÇAbortPolicyAbortPolicyÁ≠ñÁï•Ôºö‰∏¢ÂºÉ‰ªªÂä°ÔºåÂπ∂ÊäõÂá∫RejectedExecutionExceptionÂºÇÂ∏∏„ÄÇÂâçÈù¢ÁöÑ‰æãÂ≠êÂ∞±ÊòØ‰ΩøÁî®ËØ•Á≠ñÁï•ÔºåÊâÄ‰ª•‰∏çÂÜçÊºîÁ§∫„ÄÇDiscardOldestPolicyDiscardOldestPolicyÁ≠ñÁï•Ôºö‰∏¢ÂºÉÊúÄÊó©Ë¢´ÊîæÂÖ•Âà∞Á∫øÁ®ãÈòüÂàóÁöÑ‰ªªÂä°ÔºåÂ∞ÜÊñ∞Êèê‰∫§ÁöÑ‰ªªÂä°ÊîæÂÖ•Âà∞Á∫øÁ®ãÈòüÂàóÊú´Á´ØÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public static void main(String[] args) throws InterruptedException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 3, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.DiscardOldestPolicy()); threadPoolExecutor.execute(new shortTask("‰ªªÂä°1")); threadPoolExecutor.execute(new longTask("‰ªªÂä°2")); threadPoolExecutor.execute(new longTask("‰ªªÂä°3")); threadPoolExecutor.execute(new shortTask("‰ªªÂä°4")); threadPoolExecutor.execute(new shortTask("‰ªªÂä°5")); threadPoolExecutor.shutdown();&#125;static class shortTask implements Runnable &#123; private String name; public shortTask(String name) &#123; this.name = name; &#125; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(1); System.out.println(Thread.currentThread().getName() + "ÊâßË°åshortTask-name-" + name + "ÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("shortTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;static class longTask implements Runnable &#123; private String name; public longTask(String name) &#123; this.name = name; &#125; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread().getName() + "ÊâßË°ålongTask-name-" + name + "ÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("longTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;ÂêØÂä®Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÊúÄÂêéÊèê‰∫§ÁöÑ‰ªªÂä°Ë¢´ÊâßË°å‰∫ÜÔºåËÄåÁ¨¨3‰∏™‰ªªÂä°ÊòØÁ¨¨‰∏Ä‰∏™Ë¢´ÊîæÂà∞Á∫øÁ®ãÈòüÂàóÁöÑ‰ªªÂä°ÔºåË¢´‰∏¢ÂºÉ‰∫Ü„ÄÇDiscardPolicyDiscardPolicyÁ≠ñÁï•ÔºöÁõ¥Êé•‰∏¢ÂºÉÊñ∞ÁöÑ‰ªªÂä°Ôºå‰∏çÊäõÂºÇÂ∏∏Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public static void main(String[] args) throws InterruptedException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 3, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.DiscardPolicy()); threadPoolExecutor.execute(new shortTask("‰ªªÂä°1")); threadPoolExecutor.execute(new longTask("‰ªªÂä°2")); threadPoolExecutor.execute(new longTask("‰ªªÂä°3")); threadPoolExecutor.execute(new shortTask("‰ªªÂä°4")); threadPoolExecutor.execute(new shortTask("‰ªªÂä°5")); threadPoolExecutor.shutdown();&#125;static class shortTask implements Runnable &#123; private String name; public shortTask(String name) &#123; this.name = name; &#125; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(1); System.out.println(Thread.currentThread().getName() + "ÊâßË°åshortTask-name-" + name + "ÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("shortTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;static class longTask implements Runnable &#123; private String name; public longTask(String name) &#123; this.name = name; &#125; @Override public void run() &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread().getName() + "ÊâßË°ålongTask-name-" + name + "ÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; System.err.println("longTaskÊâßË°åËøáÁ®ã‰∏≠Ë¢´ÊâìÊñ≠" + e.getMessage()); &#125; &#125;&#125;ÂêØÂä®Á®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºö Á¨¨5‰∏™‰ªªÂä°Áõ¥Êé•Ë¢´ÊãíÁªù‰∏¢ÂºÉ‰∫ÜÔºåËÄåÊ≤°ÊúâÊäõÂá∫‰ªª‰ΩïÂºÇÂ∏∏„ÄÇÁ∫øÁ®ãÊ±†Â∑•ÂéÇÊñπÊ≥ïÈô§‰∫Ü‰ΩøÁî®ThreadPoolExecutorÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂàõÂª∫Á∫øÁ®ãÊ±†Â§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®ExecutorsÊèê‰æõÁöÑÂ∑•ÂéÇÊñπÊ≥ïÊù•ÂàõÂª∫‰∏çÂêåÁ±ªÂûãÁöÑÁ∫øÁ®ãÊ±†ÔºönewFixedThreadPoolÊü•ÁúãnewFixedThreadPoolÊñπÊ≥ïÊ∫êÁ†ÅÔºö12345public static ExecutorService newFixedThreadPool(int nThreads) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÈÄöËøánewFixedThreadPoolÂàõÂª∫ÁöÑÊòØ‰∏Ä‰∏™Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÁ∫øÁ®ãÊ±†ÔºåÂ§ßÂ∞èÁî±nThreadsÂèÇÊï∞ÊåáÂÆöÔºåÂÆÉÂÖ∑ÊúâÂ¶Ç‰∏ãÂá†‰∏™ÁâπÁÇπ:Âõ†‰∏∫corePoolSizeÂíåmaximumPoolSizeÁöÑÂÄºÈÉΩ‰∏∫nThreadsÔºåÊâÄ‰ª•Á∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊï∞ÈáèÊ∞∏ËøúÁ≠â‰∫énThreadsÔºå‰∏çÂèØËÉΩÊñ∞Âª∫Èô§‰∫ÜÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ÁöÑÁ∫øÁ®ãÊù•Â§ÑÁêÜ‰ªªÂä°ÔºåÂç≥keepAliveTimeÂÆûÈôÖ‰∏äÂú®ËøôÈáåÊòØÊó†ÊïàÁöÑ„ÄÇLinkedBlockingQueueÊòØ‰∏Ä‰∏™Êó†ÁïåÈòüÂàóÔºàÊúÄÂ§ßÈïøÂ∫¶‰∏∫Integer.MAX_VALUEÔºâÔºåÊâÄ‰ª•Ëøô‰∏™Á∫øÁ®ãÊ±†ÁêÜËÆ∫ÊòØÂèØ‰ª•Êó†ÈôêÁöÑÊé•Êî∂Êñ∞ÁöÑ‰ªªÂä°ÔºåËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πà‰∏äÈù¢Ê≤°ÊúâÊåáÂÆöÊãíÁªùÁ≠ñÁï•ÁöÑÂéüÂõ†„ÄÇnewCachedThreadPoolÊü•ÁúãnewCachedThreadPoolÊñπÊ≥ïÊ∫êÁ†ÅÔºö12345public static ExecutorService newCachedThreadPool() &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());&#125;ËøôÊòØ‰∏Ä‰∏™ÁêÜËÆ∫‰∏äÊó†ÈôêÂ§ßÂ∞èÁöÑÁ∫øÁ®ãÊ±†ÔºöÊ†∏ÂøÉÁ∫øÁ®ãÊï∞‰∏∫0ÔºåSynchronousQueueÈòüÂàóÊòØÊ≤°ÊúâÈïøÂ∫¶ÁöÑÈòüÂàóÔºåÊâÄ‰ª•ÂΩìÊúâÊñ∞ÁöÑ‰ªªÂä°Êèê‰∫§ÔºåÂ¶ÇÊûúÊúâÁ©∫Èó≤ÁöÑËøòÊú™Ë∂ÖÊó∂ÁöÑÔºàÊúÄÂ§ßÁ©∫Èó≤Êó∂Èó¥60ÁßíÔºâÁ∫øÁ®ãÂàôÊâßË°åËØ•‰ªªÂä°ÔºåÂê¶ÂàôÊñ∞Â¢û‰∏Ä‰∏™Á∫øÁ®ãÊù•Â§ÑÁêÜËØ•‰ªªÂä°„ÄÇÂõ†‰∏∫Á∫øÁ®ãÊï∞ÈáèÊ≤°ÊúâÈôêÂà∂ÔºåÁêÜËÆ∫‰∏äÂèØ‰ª•Êé•Êî∂Êó†Èôê‰∏™Êñ∞‰ªªÂä°ÔºåÊâÄ‰ª•ËøôÈáå‰πüÊ≤°ÊúâÊåáÂÆöÊãíÁªùÁ≠ñÁï•„ÄÇnewSingleThreadExecutorÊü•ÁúãnewSingleThreadExecutorÊ∫êÁ†ÅÔºö123456public static ExecutorService newSingleThreadExecutor() &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()));&#125;Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ÂíåÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÈÉΩ‰∏∫1ÔºåÊØèÊ¨°Âè™ËÉΩÊúâ‰∏Ä‰∏™Á∫øÁ®ãÂ§ÑÁêÜ‰ªªÂä°„ÄÇLinkedBlockingQueueÈòüÂàóÂèØ‰ª•Êé•Êî∂Êó†Èôê‰∏™Êñ∞‰ªªÂä°„ÄÇnewScheduledThreadPoolÊü•ÁúãnewScheduledThreadPoolÊ∫êÁ†ÅÔºö123456789public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize) &#123; return new ScheduledThreadPoolExecutor(corePoolSize);&#125;......public ScheduledThreadPoolExecutor(int corePoolSize) &#123; super(corePoolSize, Integer.MAX_VALUE, 0, NANOSECONDS, new DelayedWorkQueue());&#125;ÊâÄ‰ª•newScheduledThreadPoolÁêÜËÆ∫ÊòØ‰πüÊòØÂèØ‰ª•Êé•Êî∂Êó†Èôê‰∏™‰ªªÂä°ÔºåDelayedWorkQueue‰πüÊòØ‰∏Ä‰∏™Êó†ÁïåÈòüÂàó„ÄÇ‰ΩøÁî®newScheduledThreadPoolÂàõÂª∫ÁöÑÁ∫øÁ®ãÊ±†Èô§‰∫ÜÂèØ‰ª•Â§ÑÁêÜÊôÆÈÄöÁöÑRunnable‰ªªÂä°Â§ñÔºåÂÆÉËøòÂÖ∑ÊúâË∞ÉÂ∫¶ÁöÑÂäüËÉΩÔºö1.Âª∂ËøüÊåáÂÆöÊó∂Èó¥ÂêéÊâßË°åÔºö123ScheduledExecutorService executorService = Executors.newScheduledThreadPool(1);// Âª∂Ëøü5ÁßíÊâßË°åexecutorService.schedule(() -&gt; System.out.println("hello"), 5, TimeUnit.SECONDS);2.ÊåâÊåáÂÆöÁöÑÈÄüÁéáÊâßË°åÔºö12345ScheduledExecutorService executorService = Executors.newScheduledThreadPool(1);// Âª∂Ëøü1ÁßíÊâßË°åÔºåÁÑ∂ÂêéÊØè5ÁßíÊâßË°å‰∏ÄÊ¨°executorService.scheduleAtFixedRate( () -&gt; System.out.println(LocalTime.now()), 1, 5, TimeUnit.SECONDS);3.ÊåâÊåáÂÆöÁöÑÊó∂Âª∂ÊâßË°åÔºö1234ScheduledExecutorService executorService = Executors.newScheduledThreadPool(1);executorService.scheduleWithFixedDelay( () -&gt; System.out.println(LocalTime.now()), 1, 5, TimeUnit.SECONDS);‰πç‰∏ÄÁúãÔºåscheduleAtFixedRateÂíåscheduleWithFixedDelayÊ≤°Âï•Âå∫Âà´ÔºåÂÆûÈôÖÂÆÉ‰ª¨ËøòÊòØÊúâÂå∫Âà´ÁöÑÔºöscheduleAtFixedRateÊåâÁÖßÂõ∫ÂÆöÈÄüÁéáÊâßË°å‰ªªÂä°ÔºåÊØîÂ¶ÇÊØè5ÁßíÊâßË°å‰∏Ä‰∏™‰ªªÂä°ÔºåÂç≥‰Ωø‰∏ä‰∏Ä‰∏™‰ªªÂä°Ê≤°ÊúâÁªìÊùüÔºå5ÁßíÂêé‰πü‰ºöÂºÄÂßãÂ§ÑÁêÜÊñ∞ÁöÑ‰ªªÂä°ÔºõscheduleWithFixedDelayÊåâÁÖßÂõ∫ÂÆöÁöÑÊó∂Âª∂Â§ÑÁêÜ‰ªªÂä°ÔºåÊØîÂ¶ÇÊØèÂª∂Ëøü5ÁßíÊâßË°å‰∏Ä‰∏™‰ªªÂä°ÔºåÊó†ËÆ∫‰∏ä‰∏Ä‰∏™‰ªªÂä°Â§ÑÁêÜ‰∫Ü1ÁßíÔºå1ÂàÜÈíüËøòÊòØ1Â∞èÊó∂Ôºå‰∏ã‰∏Ä‰∏™‰ªªÂä°ÊÄªÊòØÂú®‰∏ä‰∏Ä‰∏™‰ªªÂä°ÊâßË°åÂÆåÊØïÂêé5ÁßíÈíüÂêéÂºÄÂßãÊâßË°å„ÄÇÂØπ‰∫éËøô‰∫õÁ∫øÁ®ãÊ±†Â∑•ÂéÇÊñπÊ≥ïÁöÑ‰ΩøÁî®ÔºåÈòøÈáåÂ∑¥Â∑¥ÁºñÁ®ãËßÑÁ®ãÊåáÂá∫ÔºöÂõ†‰∏∫ËøôÂá†‰∏™Á∫øÁ®ãÊ±†ÁêÜËÆ∫ÊòØÈÉΩÂèØ‰ª•Êé•Êî∂Êó†Èôê‰∏™‰ªªÂä°ÔºåÊâÄ‰ª•ËøôÂ∞±ÊúâÂÜÖÂ≠òÊ∫¢Âá∫ÁöÑÈ£éÈô©„ÄÇÂÆûÈôÖ‰∏äÂè™Ë¶ÅÊàë‰ª¨ÊéåÊè°‰∫ÜThreadPoolExecutorÊûÑÈÄ†ÂáΩÊï∞7‰∏™ÂèÇÊï∞ÁöÑÂê´‰πâÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Ê†πÊçÆ‰∏çÂêåÁöÑ‰∏öÂä°Êù•ÂàõÂª∫Âá∫Á¨¶ÂêàÈúÄÊ±ÇÁöÑÁ∫øÁ®ãÊ±†„ÄÇ‰∏ÄËà¨Á∫øÁ®ãÊ±†ÁöÑÂàõÂª∫ÂèØ‰ª•ÂèÇËÄÉÂ¶Ç‰∏ãËßÑÂàôÔºöIOÂØÜÈõÜÂûã‰ªªÂä°ÔºöIOÂØÜÈõÜÂûã‰ªªÂä°Á∫øÁ®ãÂπ∂‰∏çÊòØ‰∏ÄÁõ¥Âú®ÊâßË°å‰ªªÂä°ÔºåÂ∫îËØ•ÈÖçÁΩÆÂ∞ΩÂèØËÉΩÂ§öÁöÑÁ∫øÁ®ãÔºåÁ∫øÁ®ãÊ±†Á∫øÁ®ãÊï∞ÈáèÊé®ËçêËÆæÁΩÆ‰∏∫2 * CPUÊ†∏ÂøÉÊï∞ÔºõÂØπÂºàIOÂØÜÈõÜÂûã‰ªªÂä°ÔºåÁΩëÁªú‰∏ä‰πüÊúâÂè¶‰∏ÄÁßçÁ∫øÁ®ãÊ±†Êï∞ÈáèËÆ°ÁÆóÂÖ¨ÂºèÔºöCPUÊ†∏ÂøÉÊï∞/(1 - ÈòªÂ°ûÁ≥ªÊï∞)ÔºåÈòªÂ°ûÁ≥ªÊï∞ÂèñÂÄº0.8~0.9ÔºåËá≥‰∫éËøô‰∏§ÁßçÂÖ¨Âºè‰ΩøÁî®Âì™‰∏Ä‰∏™ÔºåÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÁéØÂ¢ÉÊµãËØïÊØîËæÉÂæóÂá∫ÔºõËÆ°ÁÆóÂØÜÈõÜÂûã‰ªªÂä°ÔºöÊ≠§Á±ªÂûãÈúÄË¶ÅCPUÁöÑÂ§ßÈáèËøêÁÆóÔºåÊâÄ‰ª•Â∞ΩÂèØËÉΩÁöÑÂéªÂéãÊ¶®CPUËµÑÊ∫êÔºåÁ∫øÁ®ãÊ±†Á∫øÁ®ãÊï∞ÈáèÊé®ËçêËÆæÁΩÆ‰∏∫CPUÊ†∏ÂøÉÊï∞ + 1„ÄÇCPUÊ†∏ÂøÉÊï∞ÂèØ‰ª•‰ΩøÁî®RuntimeËé∑ÂæóÔºö1Runtime.getRuntime().availableProcessors()‰∏Ä‰∫õAPIÁöÑÁî®Ê≥ïThreadPoolExecutorÊèê‰æõ‰∫ÜÂá†‰∏™Âà§Êñ≠Á∫øÁ®ãÊ±†Áä∂ÊÄÅÁöÑÊñπÊ≥ïÔºö12345678910111213141516171819202122public static void main(String[] args) throws InterruptedException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 1, 2, 5, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy() ); threadPoolExecutor.execute(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(5); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); threadPoolExecutor.shutdown(); System.out.println("Á∫øÁ®ãÊ±†‰∏∫shutdownÁä∂ÊÄÅÔºö" + threadPoolExecutor.isShutdown()); System.out.println("Á∫øÁ®ãÊ±†Ê≠£Âú®ÂÖ≥Èó≠Ôºö" + threadPoolExecutor.isTerminating()); System.out.println("Á∫øÁ®ãÊ±†Â∑≤ÁªèÂÖ≥Èó≠Ôºö" + threadPoolExecutor.isTerminated()); threadPoolExecutor.awaitTermination(6, TimeUnit.SECONDS); System.out.println("Á∫øÁ®ãÊ±†Â∑≤ÁªèÂÖ≥Èó≠" + threadPoolExecutor.isTerminated());&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºöÂâçÈù¢Êàë‰ª¨ÊèêÂà∞ÔºåÁ∫øÁ®ãÊ±†Ê†∏ÂøÉÁ∫øÁ®ãÂç≥‰ΩøÊòØÁ©∫Èó≤Áä∂ÊÄÅ‰πü‰∏ç‰ºöË¢´ÈîÄÊØÅÔºåÈô§Èùû‰ΩøÁî®allowCoreThreadTimeOutËÆæÁΩÆ‰∫ÜÂÖÅËÆ∏Ê†∏ÂøÉÁ∫øÁ®ãË∂ÖÊó∂Ôºö12345678910111213141516public static void main(String[] args) throws InterruptedException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 1, 2, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy() ); threadPoolExecutor.allowCoreThreadTimeOut(true); threadPoolExecutor.execute(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println("‰ªªÂä°ÊâßË°åÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); &#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö5ÁßíÂêé‰ªªÂä°ÊâßË°åÂÆåÊØïÔºåÊ†∏ÂøÉÁ∫øÁ®ãÂ§Ñ‰∫éÁ©∫Èó≤ÁöÑÁä∂ÊÄÅ„ÄÇÂõ†‰∏∫ÈÄöËøáallowCoreThreadTimeOutÊñπÊ≥ïËÆæÁΩÆ‰∫ÜÂÖÅËÆ∏Ê†∏ÂøÉÁ∫øÁ®ãË∂ÖÊó∂ÔºåÊâÄ‰ª•3ÁßíÂêéÔºàkeepAliveTimeËÆæÁΩÆ‰∏∫3ÁßíÔºâÔºåÊ†∏ÂøÉÁ∫øÁ®ãË¢´ÈîÄÊØÅ„ÄÇÊ†∏ÂøÉÁ∫øÁ®ãË¢´ÈîÄÊØÅÂêéÔºåÁ∫øÁ®ãÊ±†‰πüÂ∞±Ê≤°Êúâ‰ΩúÁî®‰∫ÜÔºå‰∫éÊòØÂ∞±Ëá™Âä®ÂÖ≥Èó≠‰∫Ü„ÄÇÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãÊ±†Ë∞ÉÁî®‰∫ÜallowCoreThreadTimeOut(true)ÊñπÊ≥ïÔºåÈÇ£‰πàÂÆÉÁöÑkeepAliveTime‰∏çËÉΩ‰∏∫0„ÄÇThreadPoolExecutorÊèê‰æõ‰∫Ü‰∏ÄremoveÊñπÊ≥ïÔºåÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºö12345public boolean remove(Runnable task) &#123; boolean removed = workQueue.remove(task); tryTerminate(); // In case SHUTDOWN and now empty return removed;&#125;ÂèØÁúãÂà∞ÔºåÂÆÉÂà†Èô§ÁöÑÊòØÁ∫øÁ®ãÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°ÔºåËÄåÈùûÊ≠£Âú®Ë¢´ÊâßË°åÁöÑ‰ªªÂä°„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö123456789101112131415161718192021public static void main(String[] args) throws InterruptedException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 1, 2, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy() ); threadPoolExecutor.execute(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println("‰ªªÂä°ÊâßË°åÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); Runnable r = () -&gt; System.out.println("ÁúãÁúãÊàëÊòØÂê¶‰ºöË¢´Âà†Èô§"); threadPoolExecutor.execute(r); threadPoolExecutor.remove(r); threadPoolExecutor.shutdown();&#125;ÊâßË°åÁ®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºöÂèØÁúãÂà∞‰ªªÂä°Âπ∂Ê≤°ÊúâË¢´ÊâßË°åÔºåÂ∑≤ÁªèË¢´Âà†Èô§ÔºåÂõ†‰∏∫ÂîØ‰∏Ä‰∏Ä‰∏™Ê†∏ÂøÉÁ∫øÁ®ãÂ∑≤ÁªèÂú®ÊâßË°å‰ªªÂä°‰∫ÜÔºåÊâÄ‰ª•ÂêéÊèê‰∫§ÁöÑËøô‰∏™‰ªªÂä°Ë¢´ÊîæÂà∞‰∫ÜÁ∫øÁ®ãÈòüÂàóÈáåÔºåÁÑ∂ÂêéÈÄöËøáremoveÊñπÊ≥ïÂà†Èô§„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂè™ÊúâÂΩìÂæÄÁ∫øÁ®ãÊ±†ÈáåÊèê‰∫§‰∫Ü‰ªªÂä°ÂêéÔºåÁ∫øÁ®ãÊ±†Êâç‰ºöÂêØÂä®Ê†∏ÂøÉÁ∫øÁ®ãÂ§ÑÁêÜ‰ªªÂä°„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáË∞ÉÁî®prestartCoreThreadÊñπÊ≥ïÔºåËÆ©Ê†∏ÂøÉÁ∫øÁ®ãÂç≥‰ΩøÊ≤°Êúâ‰ªªÂä°Êèê‰∫§Ôºå‰πüÂ§Ñ‰∫éÁ≠âÂæÖÊâßË°å‰ªªÂä°ÁöÑÊ¥ªË∑ÉÁä∂ÊÄÅÔºö1234567891011121314public static void main(String[] args) throws InterruptedException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 2, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy() ); System.out.println("Ê¥ªË∑ÉÁ∫øÁ®ãÊï∞: " + threadPoolExecutor.getActiveCount()); threadPoolExecutor.prestartCoreThread(); System.out.println("Ê¥ªË∑ÉÁ∫øÁ®ãÊï∞: " + threadPoolExecutor.getActiveCount()); threadPoolExecutor.prestartCoreThread(); System.out.println("Ê¥ªË∑ÉÁ∫øÁ®ãÊï∞: " + threadPoolExecutor.getActiveCount()); threadPoolExecutor.prestartCoreThread(); System.out.println("Ê¥ªË∑ÉÁ∫øÁ®ãÊï∞: " + threadPoolExecutor.getActiveCount());&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫ÔºöËØ•ÊñπÊ≥ïËøîÂõûbooleanÁ±ªÂûãÂÄºÔºåÂ¶ÇÊûúÊâÄ‰ª•Ê†∏ÂøÉÁ∫øÁ®ãÈÉΩÂêØÂä®‰∫ÜÔºåËøîÂõûfalseÔºåÂèç‰πãËøîÂõûtrue„ÄÇËøòÊúâ‰∏Ä‰∏™ÂíåÂÆÉÁ±ª‰ººÁöÑprestartAllCoreThreadsÊñπÊ≥ïÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØ‰∏ÄÊ¨°ÊÄßÂêØÂä®ÊâÄÊúâÊ†∏ÂøÉÁ∫øÁ®ãÔºåËÆ©ÂÖ∂Â§Ñ‰∫éÊ¥ªË∑ÉÂú∞Á≠âÂæÖÊâßË°å‰ªªÂä°ÁöÑÁä∂ÊÄÅ„ÄÇThreadPoolExecutorÁöÑinvokeAnyÊñπÊ≥ïÁî®‰∫éÈöèÊú∫ÊâßË°å‰ªªÂä°ÈõÜÂêà‰∏≠ÁöÑÊüê‰∏™‰ªªÂä°ÔºåÂπ∂ËøîÂõûÊâßË°åÁªìÊûúÔºåËØ•ÊñπÊ≥ïÊòØÂêåÊ≠•ÊñπÊ≥ïÔºö123456789101112131415161718public static void main(String[] args) throws InterruptedException, ExecutionException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 5, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy() ); // ‰ªªÂä°ÈõÜÂêà List&lt;Callable&lt;Integer&gt;&gt; tasks = IntStream.range(0, 4).boxed().map(i -&gt; (Callable&lt;Integer&gt;) () -&gt; &#123; TimeUnit.SECONDS.sleep(ThreadLocalRandom.current().nextInt(5)); return i; &#125;).collect(Collectors.toList()); // ÈöèÊú∫ÊâßË°åÁªìÊûú Integer result = threadPoolExecutor.invokeAny(tasks); System.out.println("-------------------"); System.out.println(result); threadPoolExecutor.shutdownNow();&#125;ÂêØÂä®Á®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºöThreadPoolExecutorÁöÑinvokeAllÂàôÊòØÊâßË°å‰ªªÂä°ÈõÜÂêà‰∏≠ÁöÑÊâÄÊúâ‰ªªÂä°ÔºåËøîÂõûFutureÈõÜÂêàÔºö1234567891011121314151617181920212223public static void main(String[] args) throws InterruptedException, ExecutionException &#123; ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor( 2, 5, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(1), (ThreadFactory) Thread::new, new ThreadPoolExecutor.AbortPolicy() ); List&lt;Callable&lt;Integer&gt;&gt; tasks = IntStream.range(0, 4).boxed().map(i -&gt; (Callable&lt;Integer&gt;) () -&gt; &#123; TimeUnit.SECONDS.sleep(ThreadLocalRandom.current().nextInt(5)); return i; &#125;).collect(Collectors.toList()); List&lt;Future&lt;Integer&gt;&gt; futureList = threadPoolExecutor.invokeAll(tasks); futureList.stream().map(f-&gt;&#123; try &#123; return f.get(); &#125; catch (InterruptedException | ExecutionException e) &#123; return null; &#125; &#125;).forEach(System.out::println); threadPoolExecutor.shutdownNow();&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö ÊÄªÁªì‰∏ãËøô‰∫õÊñπÊ≥ïÔºöÊñπÊ≥ïÊèèËø∞allowCoreThreadTimeOut(boolean value)ÊòØÂê¶ÂÖÅËÆ∏Ê†∏ÂøÉÁ∫øÁ®ãÁ©∫Èó≤ÂêéË∂ÖÊó∂ÔºåÊòØÁöÑËØùË∂ÖÊó∂ÂêéÊ†∏ÂøÉÁ∫øÁ®ãÂ∞ÜÈîÄÊØÅÔºåÁ∫øÁ®ãÊ±†Ëá™Âä®ÂÖ≥Èó≠awaitTermination(long timeout, TimeUnit unit)ÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÔºåÁ≠âÂæÖÁ∫øÁ®ãÊ±†ÂÖ≥Èó≠ÔºåtimeoutÁî®‰∫éÊåáÂÆöÁ≠âÂæÖÊó∂Èó¥„ÄÇexecute(Runnable command)ÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§‰ªªÂä°ÔºåÊ≤°ÊúâËøîÂõûÂÄºsubmit(Runnable task)ÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§‰ªªÂä°ÔºåËøîÂõûFutureisShutdown()Âà§Êñ≠Á∫øÁ®ãÊ±†ÊòØÂê¶‰∏∫shutdownÁä∂ÊÄÅisTerminating()Âà§Êñ≠Á∫øÁ®ãÊ±†ÊòØÂê¶Ê≠£Âú®ÂÖ≥Èó≠isTerminated()Âà§Êñ≠Á∫øÁ®ãÊ±†ÊòØÂê¶Â∑≤ÁªèÂÖ≥Èó≠remove(Runnable task)ÁßªÈô§Á∫øÁ®ãÈòüÂàó‰∏≠ÁöÑÊåáÂÆö‰ªªÂä°prestartCoreThread()ÊèêÂâçËÆ©‰∏Ä‰∏™Ê†∏ÂøÉÁ∫øÁ®ãÂ§Ñ‰∫éÊ¥ªË∑ÉÁä∂ÊÄÅÔºåÁ≠âÂæÖÊâßË°å‰ªªÂä°prestartAllCoreThreads()ÊèêÂâçËÆ©ÊâÄÊúâÊ†∏ÂøÉÁ∫øÁ®ãÂ§Ñ‰∫éÊ¥ªË∑ÉÁä∂ÊÄÅÔºåÁ≠âÂæÖÊâßË°å‰ªªÂä°getActiveCount()Ëé∑ÂèñÁ∫øÁ®ãÊ±†Ê¥ªË∑ÉÁ∫øÁ®ãÊï∞getCorePoolSize()Ëé∑ÂèñÁ∫øÁ®ãÊ±†Ê†∏ÂøÉÁ∫øÁ®ãÊï∞threadPoolExecutor.getQueue()Ëé∑ÂèñÁ∫øÁ®ãÊ±†Á∫øÁ®ãÈòüÂàógetMaximumPoolSize()Ëé∑ÂèñÁ∫øÁ®ãÊ±†ÊúÄÂ§ßÁ∫øÁ®ãÊï∞shutdown()ËÆ©Á∫øÁ®ãÊ±†Â§Ñ‰∫éshutdownÁä∂ÊÄÅÔºå‰∏çÂÜçÊé•Êî∂‰ªªÂä°ÔºåÁ≠âÂæÖÊâÄÊúâÊ≠£Âú®ËøêË°å‰∏≠ÁöÑ‰ªªÂä°ÁªìÊùüÂêéÔºåÂÖ≥Èó≠Á∫øÁ®ãÊ±†„ÄÇshutdownNow()ËÆ©Á∫øÁ®ãÊ±†Â§Ñ‰∫éstopÁä∂ÊÄÅÔºå‰∏çÂÜçÊé•Âèó‰ªªÂä°ÔºåÂ∞ùËØïÊâìÊñ≠Ê≠£Âú®ËøêË°å‰∏≠ÁöÑ‰ªªÂä°ÔºåÂπ∂ÂÖ≥Èó≠Á∫øÁ®ãÊ±†ÔºåËøîÂõûÁ∫øÁ®ãÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈõÜÂêàÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò]]></title>
    <url>%2F%E9%9B%86%E5%90%88%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98.html</url>
    <content type="text"><![CDATA[Â∏∏Áî®ÁöÑÈõÜÂêàÁ±ªÂûãÂ¶ÇArrayListÔºåHashMapÔºåHashSetÁ≠âÔºåÂú®Âπ∂ÂèëÁéØÂ¢É‰∏ã‰øÆÊîπÊìç‰ΩúÈÉΩÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÔºå‰ºöÊäõÂá∫java.util.ConcurrentModificationExceptionÂºÇÂ∏∏ÔºåËøôËäÇ‰∏ªË¶ÅËÆ∞ÂΩïÂ¶Ç‰ΩïÂú®Âπ∂ÂèëÁéØÂ¢É‰∏ãÂÆâÂÖ®Âú∞‰øÆÊîπÈõÜÂêàÊï∞ÊçÆ„ÄÇList‰∏æ‰∏™ArrayListÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑ‰æãÂ≠êÔºö12345678910public class CollectionTest &#123; public static void main(String[] args) &#123; List&lt;String&gt; data = new ArrayList&lt;&gt;(); IntStream.range(0, 30).forEach( i -&gt; new Thread(() -&gt; data.add(String.valueOf(i)), String.valueOf(i)).start() ); System.out.println(data); &#125;&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÊúâ30‰∏™Á∫øÁ®ãÂØπdataËøõË°å‰øÆÊîπÊìçÁ∫µÔºåÂ§öËøêË°åÂá†Ê¨°‰∏äÈù¢ÁöÑÁ®ãÂ∫èÔºåÊéßÂà∂Âè∞‰æø‰ºöÊäõÂá∫Â¶Ç‰∏ãÂºÇÂ∏∏Ôºö‰πãÊâÄ‰ª•‰ºöÊäõÂá∫java.util.ConcurrentModificationExceptionÂºÇÂ∏∏ÔºåÊòØÂõ†‰∏∫Â§ö‰∏™Á∫øÁ®ãÂπ∂Âèë‰∫âÊä¢‰øÆÊîπdataÂØºËá¥ÔºåÂΩì‰∏Ä‰∏™Á∫øÁ®ãÊ≠£Âú®ÂÜôÂÖ•‰ΩÜËøòÊú™ÂÜôÂÆåÊó∂ÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊä¢Â§∫ÂÜôÂÖ•ÔºåËøô‰æøÂØºËá¥‰∫ÜÊï∞ÊçÆÂºÇÂ∏∏„ÄÇË¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰∏âÁßçÊñπÊ≥ïÔºö1. ‰ΩøÁî®VectorÔºö12345678910public class CollectionTest &#123; public static void main(String[] args) &#123; List&lt;String&gt; data = new Vector&lt;&gt;(); IntStream.range(0, 30).forEach( i -&gt; new Thread(() -&gt; data.add(String.valueOf(i)), String.valueOf(i)).start() ); System.out.println(data); &#125;&#125;VectorÁ±ªÁöÑaddÊñπÊ≥ïÊòØÈÄöËøáÂä†ÂêåÊ≠•ÈîÅÊù•ÂÆûÁé∞Á∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÊü•ÁúãÊ∫êÁ†ÅÔºö2. ‰ΩøÁî®CollectionsÂ∑•ÂÖ∑Á±ªÁöÑsynchronizedListÊñπÊ≥ïÔºö12345678910public class CollectionTest &#123; public static void main(String[] args) &#123; List&lt;String&gt; data = Collections.synchronizedList(new ArrayList&lt;&gt;()); IntStream.range(0, 30).forEach( i -&gt; new Thread(() -&gt; data.add(String.valueOf(i)), String.valueOf(i)).start() ); System.out.println(data); &#125;&#125;ÂÖ∂Êú¨Ë¥®ËøòÊòØÈÄöËøáÂêåÊ≠•ÈîÅÊù•Ëß£ÂÜ≥Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºö3. ‰ΩøÁî®CopyOnWriteArrayListÔºö12345678910public class CollectionTest &#123; public static void main(String[] args) &#123; List&lt;String&gt; data = new CopyOnWriteArrayList&lt;&gt;(); IntStream.range(0, 30).forEach( i -&gt; new Thread(() -&gt; data.add(String.valueOf(i)), String.valueOf(i)).start() ); System.out.println(data); &#125;&#125;Êü•ÁúãCopyOnWriteArrayListÁ±ªÁöÑaddÊñπÊ≥ïÊ∫êÁ†ÅÔºå‰ºöÂèëÁé∞ÂÆÉÊòØÈÄöËøáÂèØÈáçÂÖ•ÈîÅÊù•Ëß£ÂÜ≥Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÁöÑÔºö‰∏äÈù¢ÊñπÊ≥ïÁöÑÊ∫êÁ†Å‰ΩøÁî®‰∫ÜÂÜôÊó∂Â§çÂà∂ÁöÑÊÄùÊÉ≥ÔºàCopyOnWriteÔºâÔºöÂæÄ‰∏Ä‰∏™ÂÆπÂô®Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºå‰∏çÁõ¥Êé•ÂæÄÂΩìÂâçÂÆπÂô®Object[]Ê∑ªÂä†ÔºåËÄåÊòØÂÖàÂ∞ÜÂΩìÂâçÂÆπÂô®Object[]ËøõË°åÂ§çÂà∂ÔºåÂ§çÂà∂Âá∫‰∏Ä‰∏™Êñ∞ÁöÑÂÆπÂô®Object[] newElementsÔºåÁÑ∂ÂêéÂæÄÊñ∞ÁöÑÂÆπÂô®Object[] newElementsÈáåÊ∑ªÂä†Êñ∞ÁöÑÂÖÉÁ¥†„ÄÇÊ∑ªÂä†ÂÆåÂêéÔºåÂÜçÂ∞ÜÂéüÂÆπÂô®ÁöÑÂºïÁî®ÊåáÂêëÊñ∞ÁöÑÂÆπÂô®ÔºàÂç≥Ê∫êÁ†Å‰∏≠ÁöÑsetArray(newElements)Ôºâ„ÄÇËøôÁßçÂÅöÊ≥ïÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•ÂØπCopyOnWriteÁöÑÂÆπÂô®ËøõË°åÂπ∂ÂèëÁöÑËØªÔºåËÄå‰∏çÈúÄË¶ÅÂä†ÈîÅÔºåÂõ†‰∏∫ÂΩìÂâçÂÆπÂô®‰∏ç‰ºöÊ∑ªÂä†‰ªª‰ΩïÂÖÉÁ¥†„ÄÇÊâÄ‰ª•Ëøô‰πüÊòØ‰∏ÄÁßçËØªÂÜôÂàÜÁ¶ªÁöÑÊÄùÊÉ≥ÔºåÂç≥ËØªÂíåÂÜôÁöÑÂÆπÂô®ÊòØ‰∏çÂêåÁöÑÂÆπÂô®„ÄÇ‰∏äÈù¢Ëøô‰∏âÁßçËß£ÂÜ≥ÂäûÊ≥ï‰∏≠ÔºåÊõ¥Êé®Ëçê‰ΩøÁî®CopyOnWriteArrayList„ÄÇSetHashSetÂú®Âπ∂Âèë‰∏ã‰øÆÊîπ‰πü‰ºöÂá∫Áé∞Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇËß£ÂÜ≥ÂäûÊ≥ïÂêåÊ†∑ÂèØ‰ª•ÈÄöËøáCollections#synchronizedSetÂíåCopyOnWriteArraySetËß£ÂÜ≥ÔºåËøáÁ®ãÂíå‰∏äËø∞Á±ª‰ººÔºåÊâÄ‰ª•‰∏çÂÜçËµòËø∞„ÄÇMapHashMapÂú®Âπ∂ÂèëÁéØÂ¢É‰∏ã‰øÆÊîπÊó∂ÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÂêåÊ†∑ÂèØ‰ª•ÈÄöËøáCollections.synchronizedMapËß£ÂÜ≥„ÄÇÊ≠§Â§ñÂπ∂Ê≤°ÊúâÊâÄË∞ìÁöÑCopyOnWriteHashMapÔºåÁ∫øÁ®ãÂÆâÂÖ®ÁöÑHashMapÂèØ‰ª•‰ΩøÁî®ConcurrentHashMapÔºö12345678910public class CollectionTest &#123; public static void main(String[] args) &#123; Map&lt;String, String&gt; data = new ConcurrentHashMap&lt;&gt;(); IntStream.range(0, 30).forEach( i -&gt; new Thread(() -&gt; data.put(String.valueOf(i), String.valueOf(i)), String.valueOf(i)).start() ); System.out.println(data); &#125;&#125;]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Concurrency Lock]]></title>
    <url>%2FJava-Concurrency-Lock.html</url>
    <content type="text"><![CDATA[LockÈîÅÊòØÁî®Êù•ÊéßÂà∂Â§ö‰∏™Á∫øÁ®ãËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÁöÑÊñπÂºèÔºå‰∏ÄËà¨Êù•ËØ¥Ôºå‰∏Ä‰∏™ÈîÅËÉΩÂ§üÈò≤Ê≠¢Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÔºà‰ΩÜÊòØÊúâ‰∫õÈîÅÂèØ‰ª•ÂÖÅËÆ∏Â§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëÁöÑËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÔºåÊØîÂ¶ÇËØªÂÜôÈîÅÔºâ„ÄÇÂú®LockÊé•Âè£Âá∫Áé∞‰πãÂâçÔºåJavaÁ®ãÂ∫èÊòØÈù†synchronizedÂÖ≥ÈîÆÂ≠óÂÆûÁé∞ÈîÅÂäüËÉΩÁöÑÔºåËÄåJava SE 5‰πãÂêéÔºåÂπ∂ÂèëÂåÖ‰∏≠Êñ∞Â¢û‰∫ÜLockÊé•Âè£Ôºà‰ª•ÂèäÁõ∏ÂÖ≥ÂÆûÁé∞Á±ªÔºâÁî®Êù•ÂÆûÁé∞ÈîÅÂäüËÉΩÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏ésynchronizedÂÖ≥ÈîÆÂ≠óÁ±ª‰ººÁöÑÂêåÊ≠•ÂäüËÉΩÔºåÂè™ÊòØÂú®‰ΩøÁî®Êó∂ÈúÄË¶ÅÊòæÂºèÂú∞Ëé∑ÂèñÂíåÈáäÊîæÈîÅ„ÄÇËôΩÁÑ∂ÂÆÉÁº∫Â∞ë‰∫ÜÔºàÈÄöËøásynchronizedÂùóÊàñËÄÖÊñπÊ≥ïÊâÄÊèê‰æõÁöÑÔºâÈöêÂºèËé∑ÂèñÈáäÊîæÈîÅÁöÑ‰æøÊç∑ÊÄßÔºå‰ΩÜÊòØÂç¥Êã•Êúâ‰∫ÜÈîÅËé∑Âèñ‰∏éÈáäÊîæÁöÑÂèØÊìç‰ΩúÊÄß„ÄÅÂèØ‰∏≠Êñ≠ÁöÑËé∑ÂèñÈîÅ‰ª•ÂèäË∂ÖÊó∂Ëé∑ÂèñÈîÅÁ≠âÂ§öÁßçsynchronizedÂÖ≥ÈîÆÂ≠óÊâÄ‰∏çÂÖ∑Â§áÁöÑÂêåÊ≠•ÁâπÊÄß„ÄÇReentrantLockReentrantLockÂ≠óÈù¢‰∏äÊÑèÊÄùÂ∞±ÊòØÂèØÈáçÂÖ•ÈîÅÔºàÂèàÁß∞‰∏∫ÈÄíÂΩíÈîÅÔºâÔºåË°®Á§∫ËØ•ÈîÅËÉΩÂ§üÊîØÊåÅ‰∏Ä‰∏™Á∫øÁ®ãÂØπËµÑÊ∫êÁöÑÈáçÂ§çÂä†ÈîÅ„ÄÇÂÆö‰πâ‰∏Ä‰∏™ReentrantLockÔºö1ReentrantLock lock = new ReentrantLock();ÈªòËÆ§Êó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÂàõÂª∫ÁöÑÊòØÈùûÂÖ¨Âπ≥ÈîÅÔºåÊûÑÈÄ†ÂáΩÊï∞ÈáçËΩΩÊñπÊ≥ïReentrantLock(boolean fair)ÊîØÊåÅ‰º†ÂÖ•trueÂàõÂª∫ÂÖ¨Âπ≥ÈîÅ„ÄÇÂÖ¨Âπ≥ÈîÅÁöÑÊÑèÊÄùÊòØÂ§öÁ∫øÁ®ãÂú®Ëé∑ÂèñÈîÅÁöÑÊó∂ÂÄôÊòØÂÖ¨Âπ≥ÁöÑÔºå‰πüÂ∞±ÊòØÁ≠âÂæÖÊó∂Èó¥ÊúÄÈïøÁöÑÁ∫øÁ®ãÊúÄ‰ºòÂÖàËé∑ÂèñÈîÅÔºåÁ±ª‰ººFIFO„ÄÇ‰ΩøÁî®ReentrantLockÂèØ‰ª•ÂÆûÁé∞Âíåsynchronized‰∏ÄÊ†∑ÁöÑÂäüËÉΩÔºö123456789101112131415161718public class ReentrantLockTest &#123; private static final ReentrantLock lock = new ReentrantLock(); public static void main(String[] args) throws InterruptedException &#123; IntStream.range(0, 2).forEach(i -&gt; new Thread(ReentrantLockTest::needLock).start()); &#125; public static void needLock() &#123; try &#123; lock.lock(); System.out.println(Thread.currentThread().getName() + "ÂºÄÂßãÂ∑•‰Ωú"); TimeUnit.SECONDS.sleep(5); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; &#125;&#125;Á°Æ‰øùÂú®finallyÈáåÈáäÊîæÈîÅÔºåÂê¶ÂàôÂÆπÊòìÈÄ†ÊàêÊ≠ªÈîÅ„ÄÇ‰∏äÈù¢‰æãÂ≠êÂêå‰∏ÄÊó∂ÂàªÂè™ËÉΩÊúâ‰∏Ä‰∏™Á∫øÁ®ãÂèØ‰ª•Ëé∑ÂæóÈîÅlockÔºåÂà´ÁöÑÁ∫øÁ®ãÂøÖÈ°ªÁ≠âÂæÖÈîÅË¢´ÈáäÊîæÔºàunlockÔºâÊâçËÉΩÂºÄÂßãÁ´û‰∫âËé∑ÂèñÈîÅ„ÄÇÁ®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöneedLockÊñπÊ≥ïÂíå‰∏ãÈù¢ÈÄöËøásynchronizedÂÖ≥ÈîÆÂ≠óÂÆûÁé∞ÈîÅÊñπÊ≥ïÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑÔºö12345678910public static void needLockBySync() &#123; synchronized (ReentrantLockTest.class) &#123; try &#123; System.out.println(Thread.currentThread().getName() + "ÂºÄÂßãÂ∑•‰Ωú"); TimeUnit.SECONDS.sleep(5); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125;‰∏∫‰ªÄ‰πàReentrantLockÂèàÁß∞‰∏∫ÈÄíÂΩíÈîÅÂë¢ÔºüËøôÊòØÂõ†‰∏∫Ôºö‰∏Ä‰∏™Á∫øÁ®ãÂ¶ÇÊûúËé∑Âèñ‰∫ÜÊüê‰∏™ÊñπÊ≥ïÁöÑÈîÅÔºåËøô‰∏™ÊñπÊ≥ïÂÜÖÈÉ®Âç≥‰ΩøË∞ÉÁî®‰∫ÜÂà´ÁöÑÈúÄË¶ÅËé∑ÂèñÈîÅÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàËøô‰∏™Á∫øÁ®ã‰∏çÈúÄË¶ÅÂÜçÊ¨°Á≠âÂæÖËé∑ÂèñÈîÅÔºåÂèØ‰ª•Áõ¥Êé•ËøõÂéª„ÄÇËØ¥ÁùÄÂèØËÉΩÊúâÁÇπÊäΩË±°Ôºå‰∏ãÈù¢‰∏æ‰∏™‰æãÂ≠êÔºö1234567891011121314151617181920212223242526public class Test &#123; private static Lock lock = new ReentrantLock(); public static void main(String[] args) &#123; IntStream.rangeClosed(0,1).forEach(i-&gt; new Thread(Test::method1, String.valueOf(i)).start()); &#125; public static void method1() &#123; lock.lock(); try &#123; System.out.println(Thread.currentThread().getName() + " invoked method1"); method2(); &#125; finally &#123; lock.unlock(); &#125; &#125; public static void method2() &#123; lock.lock(); try &#123; System.out.println(Thread.currentThread().getName() + " invoked method2"); &#125; finally &#123; lock.unlock(); &#125; &#125;&#125;Á®ãÂ∫èËøêË°åÁªìÊûúÔºö12340 invoked method10 invoked method21 invoked method11 invoked method2‰∏äÈù¢‰æãÂ≠ê‰∏≠Ôºåmethod1Âíåmethod2ÈÉΩÂä†‰∫ÜÈîÅÔºåÁ∫øÁ®ã0Ëé∑ÂèñÂà∞‰∫Ümethod1ÁöÑÈîÅÂêéÔºåÂÜÖÈÉ®ÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®method2ÔºåÊó†ÈúÄÈáçÊñ∞Ëé∑ÂèñÈîÅÂØπË±°„ÄÇsynchronized‰πüÂÖ∑ÊúâÁõ∏ÂêåÁöÑÁâπÊÄß„ÄÇReentrantLockÂèØ‰ª•ÂØπ‰∏Ä‰∏™ÊñπÊ≥ï‰∏çÈôêÊ¨°ÁöÑÈáçÂ§çÂä†ÈîÅÔºå‰ΩÜËß£ÈîÅÊ¨°Êï∞ÂøÖÈ°ªÂíåÂä†ÈîÅÊ¨°Êï∞‰∏ÄËá¥ÔºåÂê¶ÂàôÈîÅÊ∞∏Ëøú‰∏ç‰ºöË¢´ÈáäÊîæÔºåÂà´ÁöÑÁ∫øÁ®ãÂ∞ÜÊó†Ê≥ïËé∑ÂèñËØ•ÊñπÊ≥ïÁöÑÈîÅÔºåÊØîÂ¶ÇÔºö123456789101112131415161718192021222324public class Test &#123; private static Lock lock = new ReentrantLock(); public static void main(String[] args) &#123; IntStream.rangeClosed(0,1).forEach(i-&gt; new Thread(Test::method1, String.valueOf(i)).start()); &#125; public static void method1() &#123; // Âä†ÈîÅ4Ê¨° lock.lock(); lock.lock(); lock.lock(); lock.lock(); try &#123; System.out.println(Thread.currentThread().getName() + " invoked method1"); &#125; finally &#123; // Ëß£ÈîÅ3Ê¨° lock.unlock(); lock.unlock(); lock.unlock(); &#125; &#125;&#125;Á®ãÂ∫èËøêË°åÁªìÊûúÔºö Á∫øÁ®ã1‰∏ÄÁõ¥Â§Ñ‰∫éWAITINGÁä∂ÊÄÅÔºåÂõ†‰∏∫Á∫øÁ®ã0Âä†ÈîÅ‰∫Ü4Ê¨°Ôºå‰ΩÜÂè™ÈáäÊîæ‰∫Ü3Ê¨°ÈîÅÔºåÊâÄ‰ª•Á∫øÁ®ã1‰∏ÄÁõ¥Êó†Ê≥ïËé∑ÂèñÂà∞ÈîÅ„ÄÇlockÊñπÊ≥ïÊòØ‰∏çÂèØË¢´ÊâìÊñ≠ÁöÑÔºåÂç≥Ë∞ÉÁî®Á∫øÁ®ãÁöÑinterruptÊñπÊ≥ï‰∏çËµ∑‰ΩúÁî®Ôºö123456789101112131415161718192021222324public class ReentrantLockTest &#123; private static final ReentrantLock lock = new ReentrantLock(); public static void main(String[] args) throws InterruptedException &#123; Thread thread1 = new Thread(ReentrantLockTest::testLockUnInterruptibly); thread1.start(); TimeUnit.SECONDS.sleep(1); Thread thread2 = new Thread(ReentrantLockTest::testLockUnInterruptibly); thread2.start(); TimeUnit.SECONDS.sleep(1); thread2.interrupt(); &#125; public static void testLockUnInterruptibly() &#123; try &#123; lock.lock(); // ‰∏çÂèØ‰ª•Ë¢´ÊâìÊñ≠ System.out.println(Thread.currentThread().getName() + "ÂºÄÂßãÂ∑•‰Ωú"); while (true) &#123; &#125; &#125; finally &#123; lock.unlock(); &#125; &#125;&#125;ËøêË°åÁªìÊûú:thread2(Thread-1)‰æùÊóßÂú®ÁªßÁª≠Á≠âÂæÖËé∑ÂèñÈîÅÔºåÊ≤°ÊúâË¢´ÊâìÊñ≠„ÄÇReentrantLockÊèê‰æõ‰∫ÜÂèØÊâìÊñ≠Ëé∑ÂèñÈîÅÁöÑÊñπÊ≥ïlockInterruptiblyÔºö12345678910111213141516171819202122232425262728public class ReentrantLockTest &#123; private static final ReentrantLock lock = new ReentrantLock(); public static void main(String[] args) throws InterruptedException &#123; Thread thread1 = new Thread(ReentrantLockTest::testLockInterruptibly); thread1.start(); TimeUnit.SECONDS.sleep(1); Thread thread2 = new Thread(ReentrantLockTest::testLockInterruptibly); thread2.start(); TimeUnit.SECONDS.sleep(1); thread2.interrupt(); &#125; public static void testLockInterruptibly() &#123; try &#123; lock.lockInterruptibly(); // ÂèØ‰ª•Ë¢´ÊâìÊñ≠ System.out.println(Thread.currentThread().getName() + "ÂºÄÂßãÂ∑•‰Ωú"); while (true) &#123; &#125; &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; &#125;&#125;thread2Âú®Á≠âÂæÖËé∑ÂèñÈîÅÊó∂Ë¢´ÊâìÊñ≠ÔºåÊäõÂá∫InterruptedExceptionÂºÇÂ∏∏„ÄÇReentrantLockÁöÑtryLockÊñπÊ≥ïÁî®‰∫éÂ∞ùËØïËé∑ÂèñÈîÅÔºåËøîÂõûbooleanÁ±ªÂûãÔºåË°®Á§∫Ëé∑ÂèñÈîÅÊàêÂäü‰∏éÂê¶Ôºö123456789101112131415161718192021222324public class ReentrantLockTest &#123; private static final ReentrantLock lock = new ReentrantLock(); public static void main(String[] args) throws InterruptedException &#123; Thread thread1 = new Thread(ReentrantLockTest::testTryLock, "thread1"); thread1.start(); TimeUnit.SECONDS.sleep(1); Thread thread2 = new Thread(ReentrantLockTest::testTryLock, "thread2"); thread2.start(); &#125; public static void testTryLock() &#123; if (lock.tryLock()) &#123; try &#123; System.out.println(Thread.currentThread().getName() + "ÂºÄÂßãÂ∑•‰Ωú"); while (true) &#123; &#125; &#125; finally &#123; lock.unlock(); &#125; &#125; else &#123; System.out.println(Thread.currentThread().getName() + "Ê≤°ÊúâËé∑ÂèñÂà∞ÈîÅ"); &#125; &#125;&#125;thread1Êä¢Âà∞ÈîÅÂêéËøõÂÖ•Ê≠ªÂæ™ÁéØÔºå‰∏ÄÁõ¥‰∏çÈáäÊîæÈîÅ„ÄÇthread2Â∞ùËØïËé∑ÂèñÈîÅÂ§±Ë¥•ÂêéÁõ¥Êé•ÊîæÂºÉ„ÄÇtryLockÁöÑÈáçËΩΩÊñπÊ≥ïtryLock(long timeout, TimeUnit unit)ÂèØ‰ª•ËÆæÁΩÆÂ∞ùËØïËé∑ÂèñÈîÅÁöÑÊó∂Èó¥ËåÉÂõ¥ÔºåË∂ÖËøáËøô‰∏™Êó∂Èó¥Ê≤°ÊúâËé∑ÂèñÂà∞ÈîÅÂàôËøîÂõûfalse„ÄÇReentrantLock‰∏Ä‰∫õÂà´ÁöÑÊñπÊ≥ïÔºöÊñπÊ≥ïÂê´‰πâgetQueueLength()Á≠âÂæÖËé∑ÂèñÈîÅÁ∫øÁ®ãÊï∞ÈáèhasQueuedThreads()ÊòØÂê¶ÊúâÂú®Á≠âÂæÖËé∑ÂèñÈîÅÁöÑÁ∫øÁ®ãhasQueuedThread(Thread thread)Á≠âÂæÖËé∑ÂèñÈîÅÁöÑÁ∫øÁ®ãÈòüÂàóÈáåÊòØÂåÖÂê´ÊåáÂÆöÁöÑÁ∫øÁ®ãisLockedÂΩìÂâçÈîÅÊòØÂê¶Ë¢´‰ªªÊÑè‰∏Ä‰∏™Á∫øÁ®ãËé∑ÂèñÂà∞‰∫ÜSpin LockJUC‰∏≠Âπ∂Ê≤°ÊúâËá™ÊóãÈîÅÂØπÂ∫îÁöÑÁ±ªÔºåËÄåÊâÄË∞ìÁöÑËá™ÊóãÈîÅÂ∞±ÊòØÔºöÂ∞ùËØïËé∑ÂèñÈîÅÁöÑÁ∫øÁ®ã‰∏ç‰ºöÈ©¨‰∏äÈòªÂ°ûÔºåËÄåÊòØÈááÁî®Âæ™ÁéØÁöÑÊñπÂºèÂéªÂ∞ùËØïËé∑ÂèñÈîÅ„ÄÇËøôÁßçÊñπÂºèÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•ÂáèÂ∞ëÁ∫øÁ®ã‰∏ä‰∏ãÊñáÂàáÊç¢ÁöÑÊ∂àËÄóÔºåÁº∫ÁÇπÊòØÂæ™ÁéØ‰ºöÊ∂àËÄóCPUËµÑÊ∫ê„ÄÇ‰∏Ä‰∏™ÁªèÂÖ∏ÁöÑËá™ÊóãÈîÅ‰æãÂ≠êÂ∞±ÊòØunsafeÁ±ªÈáåÁöÑCASÊÄùÊÉ≥ÔºöÊàë‰ª¨ÂèØ‰ª•Âà©Áî®CASÂÆûÁé∞‰∏Ä‰∏™Ëá™ÊóãÈîÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class SpinLock &#123; AtomicReference&lt;Thread&gt; reference = new AtomicReference&lt;&gt;(); public void lock() &#123; Thread thread = Thread.currentThread(); System.out.println(thread.getName() + "Â∞ùËØïËé∑ÂèñÈîÅ"); while (!reference.compareAndSet(null, thread)) &#123; // Ëá™ÊóãÈîÅÂ∞±ÊòØÂà©Áî®CASÊÄùÊÉ≥Âà∂ÈÄ†Âæ™ÁéØÔºåblock‰Ωè‰ª£Á†Å &#125; System.out.println(thread.getName() + "Ëé∑ÂèñÂà∞‰∫ÜÈîÅ"); &#125; public void unlock() &#123; Thread thread = Thread.currentThread(); reference.compareAndSet(thread, null); System.out.println(thread.getName() + "ÈáäÊîæÈîÅ"); &#125; public static void main(String[] args) &#123; SpinLock lock = new SpinLock(); new Thread(() -&gt; &#123; lock.lock(); try &#123; System.out.println(Thread.currentThread().getName() + "ÂÅöÊüê‰∫ã..."); TimeUnit.SECONDS.sleep(5); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; &#125;, "Á∫øÁ®ã1").start(); new Thread(() -&gt; &#123; lock.lock(); try &#123; System.out.println(Thread.currentThread().getName() + "ÂÅöÊüê‰∫ã..."); TimeUnit.SECONDS.sleep(5); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; &#125;, "Á∫øÁ®ã2").start(); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12345678Á∫øÁ®ã1Â∞ùËØïËé∑ÂèñÈîÅÁ∫øÁ®ã1Ëé∑ÂèñÂà∞‰∫ÜÈîÅÁ∫øÁ®ã1ÂÅöÊüê‰∫ã...Á∫øÁ®ã2Â∞ùËØïËé∑ÂèñÈîÅÁ∫øÁ®ã1ÈáäÊîæÈîÅÁ∫øÁ®ã2Ëé∑ÂèñÂà∞‰∫ÜÈîÅÁ∫øÁ®ã2ÂÅöÊüê‰∫ã...Á∫øÁ®ã2ÈáäÊîæÈîÅReadWriteLockReadWriteLock‰∏∫ËØªÂÜôÈîÅ„ÄÇReentrantLock‰∏∫Êéí‰ªñÈîÅÔºåÂêå‰∏ÄÊó∂ÂàªÂè™ÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãËøõË°åËÆøÈóÆÔºåËÄåËØªÂÜôÈîÅÂú®Âêå‰∏ÄÊó∂ÂàªÂèØ‰ª•ÂÖÅËÆ∏Â§ö‰∏™ËØªÁ∫øÁ®ãËÆøÈóÆÔºå‰ΩÜÊòØÂú®ÂÜôÁ∫øÁ®ãËÆøÈóÆÊó∂ÔºåÊâÄÊúâÁöÑËØªÁ∫øÁ®ãÂíåÂÖ∂‰ªñÂÜôÁ∫øÁ®ãÂùáË¢´ÈòªÂ°û„ÄÇËØªÂÜôÈîÅÁª¥Êä§‰∫Ü‰∏ÄÂØπÈîÅÔºå‰∏Ä‰∏™ËØªÈîÅÂíå‰∏Ä‰∏™ÂÜôÈîÅÔºåÈÄöËøáÂàÜÁ¶ªËØªÈîÅÂíåÂÜôÈîÅÔºå‰ΩøÂæóÂπ∂ÂèëÊÄßÁõ∏ÊØî‰∏ÄËà¨ÁöÑÊéí‰ªñÈîÅÊúâ‰∫ÜÂæàÂ§ßÊèêÂçá„ÄÇÁÆÄËÄåË®Ä‰πãÔºåReadWriteLockÂåÖÂê´ËØªÂÜôÈîÅÔºåÈÅµÂæ™‰ª•‰∏ãËßÑÂàôÔºöÂÜôÁöÑÊó∂ÂÄô‰∏çËÉΩËØªÂÜôÁöÑÊó∂ÂÄô‰∏çËÉΩÂÜôËØªÁöÑÊó∂ÂÄô‰∏çËÉΩÂÜôËØªÁöÑÊó∂ÂÄôÂèØ‰ª•ËØªReadWriteLock‰∏∫Êé•Âè£ÔºåÊàë‰ª¨‰ΩøÁî®ÂÆÉÁöÑÂÆûÁé∞Á±ªReentrantReadWriteLockÂàõÂª∫ËØªÂÜôÈîÅÂÆû‰æãÔºö123ReentrantReadWriteLock lock = new ReentrantReadWriteLock(true);ReentrantReadWriteLock.ReadLock readLock = lock.readLock();ReentrantReadWriteLock.WriteLock writeLock = lock.writeLock();‰ΩøÁî®ËØªÂÜôÈîÅÂàõÂª∫‰∏Ä‰∏™ËØªÂÜôÁöÑ‰æãÂ≠êÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950public class ReadWriteLockTest &#123; private static ReentrantReadWriteLock lock = new ReentrantReadWriteLock(true); // ËØªÈîÅ private static ReentrantReadWriteLock.ReadLock readLock = lock.readLock(); // ÂÜôÈîÅ private static ReentrantReadWriteLock.WriteLock writeLock = lock.writeLock(); // Â≠òÊîæÊï∞ÊçÆ private static List&lt;Long&gt; data = new ArrayList&lt;&gt;(); public static void main(String[] args) throws InterruptedException &#123; new Thread(() -&gt; &#123; while (true) &#123; write(); &#125; &#125;, "writer").start(); new Thread(() -&gt; &#123; while (true) &#123; read(); &#125; &#125;, "reader").start(); &#125; public static void write() &#123; try &#123; writeLock.lock(); // ÂÜôÈîÅ TimeUnit.SECONDS.sleep(1); long value = System.currentTimeMillis(); data.add(value); System.out.println(Thread.currentThread().getName() + " ÂÜôÂÖ•value: " + value); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; writeLock.unlock(); // ÈáäÊîæÂÜôÈîÅ &#125; &#125; public static void read() &#123; try &#123; readLock.lock(); // Ëé∑ÂèñËØªÈîÅ TimeUnit.SECONDS.sleep(1); String value = data.stream().map(String::valueOf).collect(Collectors.joining(",")); System.out.println(Thread.currentThread().getName() + "ËØªÂèñdata: " + value); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; readLock.unlock(); // ÈáäÊîæËØªÈîÅ &#125; &#125;&#125;ReentrantReadWriteLockËøòÂåÖÂê´‰∫Ü‰∏Ä‰∫õÂà´ÁöÑÂÆûÁî®ÊñπÊ≥ïÔºöÂäüËÉΩÂíå‰∏äÈù¢‰ªãÁªçÁöÑReentrantLockÂ∑Æ‰∏çÂ§öÔºåÊñπÊ≥ïÂêçËßÅÂêçÁü•ÂÖ∂ÊÑèÔºå‰∏çÂÜçÊºîÁ§∫‰∫Ü„ÄÇJDK8 StampedLockJDK8 Êñ∞Â¢û‰∫Ü‰∏Ä‰∏™ÈîÅStampedLockÔºåÂÆÉÊòØÂØπReadWriteLockÁöÑÊîπËøõ„ÄÇ‰ΩøÁî®ReadWriteLockÁöÑÊó∂ÂÄôÔºåÂΩìËØªÁ∫øÁ®ãÊï∞ÈáèËøúÂ§ß‰∫éÂÜôÁ∫øÁ®ãÊï∞ÈáèÁöÑÊó∂ÂÄôÂ∞±‰ºöÂá∫Áé∞‚ÄúÂÜôÈ••È•ø‚ÄùÁé∞Ë±°„ÄÇÂõ†‰∏∫ÈîÅÂ§ßÊ¶ÇÁéáÈÉΩË¢´ËØªÁ∫øÁ®ãÊä¢Ëµ∞‰∫ÜÔºåÂÜôÁ∫øÁ®ãÂæàÈöæÊä¢Âà∞ÈîÅÔºåËøôÂ∞Ü‰ΩøÂæóËØªÂÜôÊïàÁéáÈùûÂ∏∏‰Ωé‰∏ã„ÄÇJDK8ÁöÑStampedLockÂ∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òËÄåËÆæËÆ°ÁöÑÔºåStampedLockÂåÖÂê´‰πêËßÇÈîÅÂíåÊÇ≤ËßÇÈîÅÔºö‰πêËßÇÈîÅÔºöÊØèÊ¨°ÂéªÊãøÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂπ∂‰∏çËé∑ÂèñÈîÅÂØπË±°ÔºåËÄåÊòØÂà§Êñ≠Ê†áËÆ∞‰ΩçÔºàstampÔºâÊòØÂê¶ÊúâË¢´‰øÆÊîπÔºåÂ¶ÇÊûúÊúâ‰øÆÊîπÂ∞±ÂÜçÂéªËØª‰∏ÄÊ¨°„ÄÇÊÇ≤ËßÇÈîÅÔºöÊØèÊ¨°ÊãøÊï∞ÊçÆÁöÑÊó∂ÂÄôÈÉΩÂéªËé∑ÂèñÈîÅ„ÄÇÈÄöËøá‰πêËßÇÈîÅÔºåÂΩìÂÜôÁ∫øÁ®ãÊ≤°ÊúâÂÜôÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÊ†áÂøó‰ΩçstampÂπ∂Ê≤°ÊúâÊîπÂèòÔºåÊâÄ‰ª•Âç≥‰ΩøÊúâÂÜçÂ§öÁöÑËØªÁ∫øÁ®ãÂú®ËØªÂèñÊï∞ÊçÆÔºåÂÆÉ‰ª¨ÈÉΩÂèØ‰ª•Áõ¥Êé•ÂéªËØªÊï∞ÊçÆÔºåËÄåÊó†ÈúÄËé∑ÂèñÈîÅÔºåËøôÂ∞±‰∏ç‰ºö‰ΩøÂæóÂÜôÁ∫øÁ®ãÊä¢‰∏çÂà∞ÈîÅ‰∫Ü„ÄÇstampÁ±ª‰ºº‰∏Ä‰∏™Êó∂Èó¥Êà≥ÁöÑ‰ΩúÁî®ÔºåÊØèÊ¨°ÂÜôÁöÑÊó∂ÂÄôÂØπÂÖ∂+1Êù•ÊîπÂèòË¢´Êìç‰ΩúÂØπË±°ÁöÑstampÂÄº„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÈÄöËøá‰∏Ä‰∏™‰æãÂ≠êÊù•Ê®°ÊãüÂÜôÈ••È•øÁöÑÊÉÖÂÜµÔºöÂàõÂª∫20‰∏™Á∫øÁ®ãÔºåÂÖ∂‰∏≠19‰∏™Á∫øÁ®ãÁî®‰∫éËØªÊï∞ÊçÆÔºå1‰∏™Á∫øÁ®ãÁî®‰∫éÂÜôÊï∞ÊçÆÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445public class StampedLockTest &#123; private static StampedLock lock = new StampedLock(); private static List&lt;Long&gt; data = new ArrayList&lt;&gt;(); public static void main(String[] args) &#123; ExecutorService executorService = Executors.newFixedThreadPool(20); Runnable read = StampedLockTest::read; Runnable write = StampedLockTest::write; IntStream.range(0, 19).forEach(i -&gt; executorService.submit(read)); executorService.submit(write); executorService.shutdown(); &#125; private static void read() &#123; long stamped = -1; try &#123; stamped = lock.readLock(); // Ëé∑ÂèñÊÇ≤ËßÇÈîÅÔºåÈòªÂ°ûÂÜôÁ∫øÁ®ã TimeUnit.SECONDS.sleep(1); String collect = data.stream().map(String::valueOf).collect(Collectors.joining(",")); System.out.println(Thread.currentThread().getName() + " read value: " + collect); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlockRead(stamped); &#125; &#125; private static void write() &#123; long stamped = -1; try &#123; stamped = lock.writeLock(); TimeUnit.SECONDS.sleep(1); long value = System.currentTimeMillis(); data.add(value); System.out.println(Thread.currentThread().getName() + " write value: " + value); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlockWrite(stamped); &#125; &#125;&#125;‰∏äÈù¢‰æãÂ≠êÈÄöËøáStampedLockË∞ÉÁî®writeLock„ÄÅunlockWrite„ÄÅreadLockÂíåunlockReadÁöÑÊó∂ÂÄôÈÉΩ‰ºöÂØºËá¥StampedLockÁöÑstampÂÄºÁöÑÂèòÂåñÔºåÂç≥ÊØèÊ¨°+1ÔºåÁõ¥Âà∞Âä†Âà∞ÊúÄÂ§ßÂÄºÔºåÁÑ∂Âêé‰ªé0ÈáçÊñ∞ÂºÄÂßã„ÄÇ‰∏äÈù¢Á®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö ÂèØ‰ª•ÁúãÂà∞ÂÜôÁ∫øÁ®ãÊúÄÂêéÊâçÊä¢Âà∞ÈîÅÂπ∂ÂÜôÂÖ•Êï∞ÊçÆ„ÄÇÊàë‰ª¨ÈÄöËøá‰πêËßÇÈîÅÊù•ÊîπÂñÑËøô‰∏™‰æãÂ≠êÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657public class StampedLockTest2 &#123; private static StampedLock lock = new StampedLock(); private static List&lt;Long&gt; data = new ArrayList&lt;&gt;(); public static void main(String[] args) &#123; ExecutorService executorService = Executors.newFixedThreadPool(20); Runnable read = StampedLockTest2::read; Runnable write = StampedLockTest2::write; IntStream.range(0, 19).forEach(i -&gt; executorService.submit(read)); executorService.submit(write); executorService.shutdown(); &#125; private static void read() &#123; long stamped = lock.tryOptimisticRead(); // Ëé∑Âèñ‰πêËßÇÈîÅ try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; // Áõ¥Êé•ËØªÂèñÂÄº String collect = data.stream().map(String::valueOf).collect(Collectors.joining(",")); // Â¶ÇÊûúÊà≥Ë¢´ÊîπÂèòÔºåÊñπÊ≥ïËøîÂõûfalseÔºåËØ¥ÊòéstampedË¢´‰øÆÊîπËøá‰∫ÜÔºàË¢´writeÊñπÊ≥ï‰øÆÊîπËøá‰∫ÜÔºåÊúâÊñ∞ÁöÑÊï∞ÊçÆÂÜôÂÖ•ÔºâÔºå // ÈÇ£‰πàÈáçÊñ∞Ëé∑ÂèñÈîÅÂπ∂ÂéªËØªÂèñÂÄºÔºåÂê¶ÂàôÁõ¥Êé•‰ΩøÁî®‰∏äÈù¢ËØªÂèñÁöÑÂÄº„ÄÇ if (!lock.validate(stamped)) &#123; try &#123; stamped = lock.readLock(); TimeUnit.SECONDS.sleep(1); collect = data.stream().map(String::valueOf).collect(Collectors.joining(",")); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlockRead(stamped); &#125; &#125; System.out.println(Thread.currentThread().getName() + " read value: " + collect); &#125; private static void write() &#123; long stamped = -1; try &#123; stamped = lock.writeLock(); TimeUnit.SECONDS.sleep(1); long value = System.currentTimeMillis(); data.add(value); System.out.println(Thread.currentThread().getName() + " write value: " + value); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlockWrite(stamped); &#125; &#125;&#125;Êàë‰ª¨ÈáçÁÇπÂÖ≥Ê≥®readÊñπÊ≥ï„ÄÇreadÊñπÊ≥ï‰∏ÄÂºÄÂßãÈÄöËøáË∞ÉÁî®StampedLockÁöÑtryOptimisticReadÊñπÊ≥ïÊù•Ëé∑ÂèñÊ†áÂøó‰ΩçstampÔºåËé∑Âèñ‰πêËßÇÈîÅÂπ∂‰∏ç‰ºöÁúüÊ≠£ÁöÑÂéªËé∑ÂèñÈîÅÔºàÊâÄ‰ª•‰∏ç‰ºöÈòªÂ°ûÂÜôÊìç‰ΩúÔºâÔºåÁÑ∂ÂêéÁõ¥Êé•ÂéªËØªÊï∞ÊçÆ„ÄÇÊé•ÁùÄÈÄöËøáStampedLockÁöÑvalidateÊñπÊ≥ïÂà§Êñ≠Ê†áÂøó‰ΩçstampÊòØÂê¶Ë¢´‰øÆÊîπ‰∫ÜÔºàwriteÊñπÊ≥ïÈáå‰ºö‰øÆÊîπÊ†áÂøó‰ΩçÁöÑÂÄºÔºâÔºåÂ¶ÇÊûúÊñπÊ≥ïËøîÂõûtrueÔºåÂàôËØ¥ÊòéÊï∞ÊçÆÊ≤°ÊúâË¢´‰øÆÊîπËøáÔºåÁõ¥Êé•‰ΩøÁî®ÂâçÈù¢ËØªÂèñÁöÑÊï∞ÊçÆÂç≥ÂèØÔºõÂê¶ÂàôÈúÄË¶ÅÂéªËé∑ÂèñÈîÅÈáçÊñ∞ÂéªËØªÊï∞ÊçÆÔºåÈòªÊ≠¢ÂÜôÊìç‰Ωú„ÄÇ‰∏äÈù¢‰æãÂ≠êËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂÜôÊìç‰Ωú‰∏ÄÂºÄÂßãÂ∞±Êä¢Âà∞‰∫ÜÈîÅÔºåÂπ∂ÂÜôÂÖ•‰∫ÜÊï∞ÊçÆ„ÄÇÁÆÄËÄåË®Ä‰πãÔºåStampedLockËß£ÂÜ≥‰∫ÜÂú®Ê≤°ÊúâÊñ∞Êï∞ÊçÆÂÜôÂÖ•Êó∂ÔºåÁî±‰∫éËøáÂ§öËØªÊìç‰ΩúÊä¢Â§∫ÈîÅËÄå‰ΩøÂæóÂÜôÊìç‰Ωú‰∏ÄÁõ¥Ëé∑Âèñ‰∏çÂà∞ÈîÅÊó†Ê≥ïÂÜôÂÖ•Êñ∞Êï∞ÊçÆÁöÑÈóÆÈ¢ò„ÄÇConditionConditionÊé•Âè£Êèê‰æõ‰∫ÜÁ±ª‰ººObjectÁöÑwait„ÄÅnotifyÂíånotifyAllÊñπÊ≥ïÔºå‰∏éLockÈÖçÂêàÂèØ‰ª•ÂÆûÁé∞Áîü‰∫ß/Ê∂àË¥πÊ®°ÂºèÔºå‰ΩÜÊòØËøô‰∏§ËÄÖÂú®‰ΩøÁî®ÊñπÂºè‰ª•ÂèäÂäüËÉΩÁâπÊÄß‰∏äËøòÊòØÊúâÂ∑ÆÂà´ÁöÑ„ÄÇ‰ΩøÁî®CoditionÂÆûÁé∞‰∏Ä‰∏™Áîü‰∫ßÊ∂àË¥πÁöÑ‰æãÂ≠êÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657public class ConditionTest &#123; private static ReentrantLock lock = new ReentrantLock(); private static Condition condition = lock.newCondition(); // ÂàùÂßãÊï∞ÊçÆ private static int data = 0; // ÊòØÂê¶Ë¢´Ê∂àË¥π private static volatile boolean consumed = false; public static void main(String[] args) &#123; new Thread(() -&gt; &#123; while (true) &#123; produceData(); &#125; &#125;,"producer").start(); new Thread(() -&gt; &#123; while (true) &#123; consumeData(); &#125; &#125;,"consumer").start(); &#125; public static void produceData() &#123; try &#123; lock.lock(); // Ëé∑ÂèñÈîÅ while (!consumed) &#123; // Âà§Êñ≠Êï∞ÊçÆÊòØÂê¶Ë¢´Ê∂àË¥π condition.await(); // Â¶ÇÊûúÊ≤°ÊúâË¢´Ê∂àË¥πÂàôËøõÂÖ•Á≠âÂæÖ &#125; TimeUnit.SECONDS.sleep(1); data++; System.out.println(Thread.currentThread().getName() + " produce data = " + data); consumed = false; // Áîü‰∫ßÂÆåÊï∞ÊçÆÂ∞ÜÊ∂àË¥πÊ†áËØÜÁΩÆ‰∏∫false condition.signal(); // Ëß£Èô§awaitÔºåÁî®‰∫éÈÄöÁü•Ê∂àË¥πËÄÖÂèØ‰ª•ÂºÄÂßãÊ∂àË¥π‰∫Ü &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); // ÈáäÊîæÈîÅ &#125; &#125; public static void consumeData() &#123; try &#123; lock.lock(); // Ëé∑ÂèñÈîÅ while (consumed) &#123; // Âà§Êñ≠Êï∞ÊçÆÊòØÂê¶Ë¢´Ê∂àË¥π condition.await(); // Â¶ÇÊûúË¢´Ê∂àË¥π‰∫ÜÂàôËøõÂÖ•Á≠âÂæÖ &#125; TimeUnit.MICROSECONDS.sleep(500); System.out.println(Thread.currentThread().getName() + " consume data = " + data); consumed = true; // Ê∂àË¥πÂÆåÂ∞ÜÊ∂àË¥πÊ†áËØÜÁΩÆ‰∏∫true condition.signal(); // Ëß£Èô§awaitÔºåÁî®‰∫éÈÄöÁü•Áîü‰∫ßËÄÖÂèØ‰ª•ÂºÄÂßãÁîü‰∫ß‰∫Ü &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); // ÈáäÊîæÈîÅ &#125; &#125;&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÈÄöËøáconsumedÂà§Êñ≠Êï∞ÊçÆÊòØÂê¶Ë¢´Ê∂àË¥π„ÄÇproduceDataÊñπÊ≥ïÂú®Ëé∑ÂèñÈîÅÂêéÔºåÂà§Êñ≠Êï∞ÊçÆÊòØÂê¶Ë¢´Ê∂àË¥πÔºåÂ¶ÇÊûúÊ≤°ÊúâË¢´Ê∂àË¥πÔºåÂàôË∞ÉÁî®ConditionÁöÑawaitÊñπÊ≥ïËøõÂÖ•Á≠âÂæÖÔºåÁõ¥Âà∞ConditionÂØπË±°ÁöÑsignalÊñπÊ≥ïË¢´Ë∞ÉÁî®ÔºõconsumeDataÊñπÊ≥ïÈÄªËæëÂíåproduceData‰∏ÄËá¥„ÄÇConditionÊ†∏ÂøÉÁî®Ê≥ïÂ∞±ÊòØÈÄöËøáawaitÊñπÊ≥ïËÆ©Á∫øÁ®ãËøõÂÖ•ÈòªÂ°ûÁ≠âÂæÖÁä∂ÊÄÅÔºåÈÄöËøásignalËß£Èô§ÈòªÂ°ûÁä∂ÊÄÅ„ÄÇ‰∏äÈù¢ÁöÑ‰æãÂ≠êËøêË°åÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂØπÂ∫î‰∏äÈù¢ÁöÑ‰æãÂ≠êÊàë‰ª¨ÂèØ‰ª•ÊÄùËÄÉ‰∏ãÈù¢‰∏â‰∏™ÈóÆÈ¢òÔºöÊòØÂê¶ÂèØ‰ª•Âè™‰ΩøÁî®LockËÄå‰∏ç‰ΩøÁî®ConditionÔºüÁîü‰∫ßËÄÖÊä¢Âà∞‰∫ÜÈîÅËøõÂÖ•awaitÔºåÂπ∂Ê≤°ÊúâÈáäÊîæÈîÅÔºå‰∏∫‰ªÄ‰πàÊ∂àË¥πËÄÖÂèØ‰ª•Ëé∑ÂæóÈîÅÔºüÊòØÂê¶ÂèØ‰ª•Âè™‰ΩøÁî®Condition‰∏ç‰ΩøÁî®LockÔºüÂØπ‰∫éÁ¨¨‰∏Ä‰∏™ÈóÆÈ¢òÔºöÊòØÂê¶ÂèØ‰ª•Âè™‰ΩøÁî®LockËÄå‰∏ç‰ΩøÁî®ConditionÔºüËôΩÁÑ∂Êàë‰ª¨ÂèØ‰ª•ÂÆö‰πâÂÖ¨Âπ≥ÁöÑReentrantLockÔºå‰ΩÜÊòØÂÆûÈôÖ‰∏äÂπ∂‰∏çËÉΩÁ°Æ‰øù100%ÂÖ¨Âπ≥ÔºåÂè™ÊòØÂ∞ΩÂèØËÉΩÁöÑÂÖ¨Âπ≥„ÄÇÁîü‰∫ßÊ∂àË¥πÊ®°ÂûãÂøÖÈ°ª‰∏∫Áîü‰∫ßËÄÖÁîüÊàêÂÆå‰∫ÜÊï∞ÊçÆÈÄöÁü•Ê∂àË¥πËÄÖÊ∂àË¥πÔºåÊ∂àË¥πËÄÖÊ∂àË¥πÂÆå‰∫ÜÈÄöÁü•Áîü‰∫ßËÄÖÁîü‰∫ßÔºåËøôÊòØÁéØÁéØÁõ∏Êâ£ÁöÑÔºå‰∏çÂÖÅËÆ∏Âá∫Áé∞Âà´ÁöÑÊÉÖÂÜµ„ÄÇÂØπ‰∫éÁ¨¨‰∫å‰∏™ÈóÆÈ¢òÔºöÁîü‰∫ßËÄÖÊä¢Âà∞‰∫ÜÈîÅËøõÂÖ•awaitÔºåÂπ∂Ê≤°ÊúâÈáäÊîæÈîÅÔºå‰∏∫‰ªÄ‰πàÊ∂àË¥πËÄÖÂèØ‰ª•Ëé∑ÂæóÈîÅÔºüÂÅáÂ¶Ç‰∏ÄÂºÄÂßãproduceDataÊñπÊ≥ïÂÖàÈÄöËøálock.lock()Ëé∑ÂèñÂà∞‰∫ÜÈîÅÔºåconsumedÂàùÂßãÂÄº‰∏∫falseÔºåÊâÄ‰ª•Êé•ÁùÄÊñπÊ≥ï‰ºöË∞ÉÁî®condition.await()ËøõÂÖ•ÈòªÂ°ûÁ≠âÂæÖ„ÄÇawaitÊñπÊ≥ï‰ºö‰ΩøÂæóÂΩìÂâçÁ∫øÁ®ãÈáäÊîæÈîÅÂØπË±°ÔºåÁÑ∂ÂêéËøõÂÖ•‰ºëÁú†Áä∂ÊÄÅÔºåÁõ¥Âà∞ÂèëÁîü‰∏ãÈù¢‰∏âÁßçÊÉÖÂÜµ‰πã‰∏ÄÊâç‰ºöË¢´Ëß£Èô§‰ºëÁú†ÔºöConditionÁöÑsignalÊñπÊ≥ïË¢´Ë∞ÉÁî®ÔºõConditionÁöÑsignalAllÊñπÊ≥ïË¢´Ë∞ÉÁî®ÔºõÂÖ∂‰ªñÁ∫øÁ®ãË∞ÉÁî®‰∫ÜÂΩìÂâçÁ∫øÁ®ãÁöÑinterruptÊñπÊ≥ï„ÄÇÂØπ‰∫éÁ¨¨‰∏â‰∏™ÈóÆÈ¢òÔºöÊòØÂê¶ÂèØ‰ª•Âè™‰ΩøÁî®Condition‰∏ç‰ΩøÁî®LockÔºüÊó¢ÁÑ∂await‰ºö‰ΩøÂæóÁ∫øÁ®ãËøõÂÖ•ÈòªÂ°ûÁ≠âÂæÖÁä∂ÊÄÅÔºåÈÇ£‰πàÊòØÂê¶ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®awaitÔºåËÄå‰∏ç‰ΩøÁî®LockÂë¢ÔºüÊàë‰ª¨ÊîπÈÄ†‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÂéªÊéâËé∑ÂèñÂíåÈáäÊîæÈîÅÁöÑÁõ∏ÂÖ≥‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class ConditionTest &#123; // ÂÖ¨Âπ≥ÈîÅ private static ReentrantLock lock = new ReentrantLock(true); private static Condition condition = lock.newCondition(); // ÂàùÂßãÊï∞ÊçÆ private static int data = 0; // ÊòØÂê¶Ë¢´Ê∂àË¥π private static volatile boolean consumed = false; public static void main(String[] args) throws InterruptedException &#123; new Thread(() -&gt; &#123; while (true) &#123; produceData(); &#125; &#125;).start(); new Thread(() -&gt; &#123; while (true) &#123; consumeData(); &#125; &#125;).start(); &#125; public static void produceData() &#123; try &#123; while (!consumed) &#123; condition.await(); &#125; TimeUnit.SECONDS.sleep(1); data++; System.out.println(Thread.currentThread().getName() + " produce data = " + data); consumed = false; condition.signal(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; public static void consumeData() &#123; try &#123; while (consumed) &#123; condition.await(); &#125; TimeUnit.MICROSECONDS.sleep(500); System.out.println(Thread.currentThread().getName() + " consume data = " + data); consumed = true; condition.signal(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÁ®ãÂ∫èÊäõÂá∫IllegalMonitorStateExceptionÂºÇÂ∏∏ÔºåÊâÄ‰ª•ConditionÂøÖÈ°ªÈÖçÂêàLock‰ΩøÁî®„ÄÇÊ≠£Â¶ÇÂâçÈù¢ËØ¥ÁöÑÔºåConditionÁöÑÂäüËÉΩÁ±ª‰ºº‰∫éObjectÂØπË±°ÁöÑwaitÂíånotifyÊñπÊ≥ïÔºå‰∏ãÈù¢Êàë‰ª¨‰ΩøÁî®ObjectÂØπË±°ÁöÑwaitÂíånotifyÊñπÊ≥ïÂÆûÁé∞‰∏Ä‰∏™Á±ª‰ºº‰∏äÈù¢Áîü‰∫ßÊ∂àË¥πÁöÑÂäüËÉΩÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class WaitNotifyExample &#123; private static int data = 0; private static volatile boolean used = false; private final static Object MONITOR = new Object(); public static void main(String[] args) &#123; new Thread(() -&gt; &#123; while (true) &#123; produceData(); &#125; &#125;, "thread1").start(); new Thread(() -&gt; &#123; while (true) &#123; consumeData(); &#125; &#125;, "thread2").start(); &#125; public static void produceData() &#123; synchronized (MONITOR) &#123; while (!used) &#123; try &#123; MONITOR.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; data++; System.out.println(Thread.currentThread().getName() + " Áîü‰∫ßdata = " + data); used = false; MONITOR.notifyAll(); &#125; &#125; public static void consumeData() &#123; synchronized (MONITOR) &#123; while (used) &#123; try &#123; MONITOR.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println(Thread.currentThread().getName() + " Ê∂àË¥πdata = " + data); used = true; MONITOR.notifyAll(); &#125; &#125;&#125;ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöConditionËøòÂèØ‰ª•ÁªëÂÆöÂ§ö‰∏™Êù°‰ª∂ÔºåÂπ∂Âî§ÈÜíÊåáÂÆöÁöÑÁ∫øÁ®ãÔºå‰∏æ‰∏™‰∏â‰∏™Á∫øÁ®ãÂæ™ÁéØÂπ≤Ê¥ªÁöÑ‰æãÂ≠êÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465public class Loop &#123; private volatile String value = "a"; private Lock lock = new ReentrantLock(); // Êù°‰ª∂1 private Condition condition1 = lock.newCondition(); // Êù°‰ª∂2 private Condition condition2 = lock.newCondition(); // Êù°‰ª∂3 private Condition condition3 = lock.newCondition(); public void printA() &#123; try &#123; lock.lock(); while (!value.equals("a")) &#123; condition1.await(); &#125; System.out.println(Thread.currentThread().getName() + " print a"); value = "b"; condition2.signal(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; &#125; public void printB() &#123; try &#123; lock.lock(); while (!value.equals("b")) &#123; condition2.await(); &#125; System.out.println(Thread.currentThread().getName() + " print b"); value = "c"; condition3.signal(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; &#125; public void printC() &#123; try &#123; lock.lock(); while (!value.equals("c")) &#123; condition3.await(); &#125; System.out.println(Thread.currentThread().getName() + " print c"); value = "a"; condition1.signal(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; lock.unlock(); &#125; &#125; public static void main(String[] args) &#123; Loop loop = new Loop(); IntStream.rangeClosed(0, 2).forEach(i -&gt; new Thread(loop::printA, "Á∫øÁ®ãA").start()); IntStream.rangeClosed(0, 2).forEach(i -&gt; new Thread(loop::printB, "Á∫øÁ®ãB").start()); IntStream.rangeClosed(0, 2).forEach(i -&gt; new Thread(loop::printC, "Á∫øÁ®ãC").start()); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö123456789Á∫øÁ®ãA print aÁ∫øÁ®ãB print bÁ∫øÁ®ãC print cÁ∫øÁ®ãA print aÁ∫øÁ®ãB print bÁ∫øÁ®ãC print cÁ∫øÁ®ãA print aÁ∫øÁ®ãB print bÁ∫øÁ®ãC print csynchronizedÂíåLockÂå∫Âà´synchronizedÂíåLockÈÉΩÊòØÁî®‰∫éÊéßÂà∂Â§ö‰∏™Á∫øÁ®ãËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÁöÑÊñπÂºèÔºå‰ΩÜ‰ªñ‰ª¨ËøòÊòØÊúâÂå∫Âà´ÁöÑÔºå‰∏ªË¶ÅÂèØ‰ª•‰ªé‰∏ãÈù¢Âá†‰∏™ÊñπÈù¢ÊØîËæÉÔºö1.ÊûÑÊàê‰∏ç‰∏ÄÊ†∑synchronizedÊòØJavaÂÖ≥ÈîÆÂ≠óÔºåÂ±û‰∫éJVMÂ±ÇÈù¢ÔºåÂ∫ïÂ±ÇÊòØÁî±monitorenterÂíåmonitorexitÊåá‰ª§ÂÆåÊàêÔºàÊü•ÁúãÂ≠óËäÇÁ†ÅËØÅÂÆûÔºâÔºöËÄåLockÊòØJUC‰∏ãÁöÑJavaÊé•Âè£Á±ªÔºåÊòØAPIÂ±ÇÈù¢ÁöÑüîê„ÄÇ2.‰ΩøÁî®ÊñπÂºè‰∏çÂêåsynchronized‰∏çÈúÄË¶ÅÊàë‰ª¨ÊâãÂä®ÈáäÊîæÈîÅÔºåÂΩìsynchronized‰ª£Á†ÅÊâßË°åÂÆåÂêéÔºåÂΩìÂâçÁ∫øÁ®ã‰ºöËá™Âä®ÈáäÊîæÈîÅÔºõReentrantLockÈúÄË¶ÅÊâãÂä®ÈáäÊîæÈîÅÔºå‰∏çÁÑ∂‰ºöÈÄ†ÊàêÊ≠ªÈîÅ„ÄÇ3.ÂèØ‰∏≠Êñ≠ÊÄßsynchronizedÊòØ‰∏çÂèØ‰∏≠Êñ≠ÁöÑÔºåÈô§ÈùûÂêåÊ≠•ÊñπÊ≥ïÂÜÖÊäõÂá∫ÂºÇÂ∏∏ÊàñËÄÖÁ®ãÂ∫èÊ≠£Â∏∏ËøêË°åÂÆåÊàêÔºõ ReentrantLockÊòØÂèØ‰ª•‰∏≠Êñ≠ÁöÑÔºåÊØîÂ¶ÇlockInterruptibly()ÊñπÊ≥ï„ÄÇ4.ÂÖ¨Âπ≥Âê¶synchronizedÊòØÈùûÂÖ¨Âπ≥ÈîÅÔºõReentrantLockÂèØ‰ª•ÈÄöËøáÊûÑÈÄ†ÊñπÊ≥ïReentrantLock(boolean fair)ËÆæÁΩÆÂÖ¨Âπ≥‰∏éÂê¶„ÄÇ5.ÁÅµÊ¥ªÊÄßsynchronized‰∏çÂèØ‰ª•ËÆæÁΩÆÊù°‰ª∂ÔºõReentrantLockÂèØ‰ª•ÈÄöËøáconditionÁªëÂÆöÂ§öÊù°‰ª∂ÔºåÁ≤æÁ°ÆÂî§ÈÜíÊåáÂÆöÁ∫øÁ®ã„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ThreadLocal‰ΩøÁî®Â≠¶‰π†]]></title>
    <url>%2FThreadLocal.html</url>
    <content type="text"><![CDATA[ThreadLocalÂ≠óÈù¢‰∏äÁöÑÊÑèÊÄùÊòØÂ±ÄÈÉ®Á∫øÁ®ãÂèòÈáèÔºåÊØè‰∏™Á∫øÁ®ãÈÄöËøáThreadLocalÁöÑgetÂíåsetÊñπÊ≥ïÊù•ËÆøÈóÆÂíå‰øÆÊîπÁ∫øÁ®ãËá™Â∑±Áã¨ÊúâÁöÑÂèòÈáè„ÄÇÁÆÄÂçïÂú∞ËØ¥ÔºåThreadLocalÁöÑ‰ΩúÁî®Â∞±ÊòØ‰∏∫ÊØè‰∏Ä‰∏™Á∫øÁ®ãÊèê‰æõ‰∫Ü‰∏Ä‰∏™Áã¨Á´ãÁöÑÂèòÈáèÂâØÊú¨ÔºåÊØè‰∏Ä‰∏™Á∫øÁ®ãÈÉΩÂèØ‰ª•Áã¨Á´ãÂú∞ÊîπÂèòËá™Â∑±ÁöÑÂâØÊú¨ÔºåËÄå‰∏ç‰ºöÂΩ±ÂìçÂÖ∂ÂÆÉÁ∫øÁ®ãÊâÄÂØπÂ∫îÁöÑÂâØÊú¨„ÄÇThreadLocalÁöÑÂü∫Êú¨‰ΩøÁî®ThreadLocalÊòØ‰∏Ä‰∏™Ê≥õÂûãÁ±ªÔºåÂú®ÂàõÂª∫ÁöÑÊó∂ÂÄôÈúÄË¶ÅÊåáÂÆöÂèòÈáèÁöÑÁ±ªÂûãÔºö1private static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;();ThreadLocalÊèê‰æõ‰∫ÜsetÊñπÊ≥ïÊù•ËÆæÁΩÆÂèòÈáèÁöÑÂÄºÔºågetÊñπÊ≥ïËé∑ÂèñÂèòÈáèÁöÑÂÄºÔºåremoveÊñπÊ≥ïÁßªÈô§ÂèòÈáèÔºö1234567891011public class ThreadLocalTest &#123; private static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;(); public static void main(String[] args) throws InterruptedException &#123; threadLocal.set("mrbird"); System.out.println(threadLocal.get()); threadLocal.remove(); System.out.println(threadLocal.get()); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö Êàë‰ª¨‰πüÂèØ‰ª•ÁªôThreadLocalËÆæÁΩÆÂàùÂßãÂÄºÔºåËÆæÁΩÆÂàùÂßãÂÄºÊúâ‰∏§ÁßçÊñπÂºèÔºöÈáçÂÜôinitialValueÊñπÊ≥ïÔºö1234567891011public class ThreadLocalTest &#123; private static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;String&gt;()&#123; @Override protected String initialValue() &#123; return "ÂàùÂßãÂÄº"; &#125; &#125;; public static void main(String[] args) throws InterruptedException &#123; System.out.println(threadLocal.get()); // ÂàùÂßãÂÄº &#125;&#125;‰ΩøÁî®ThreadLocalÁöÑwithInitialÊñπÊ≥ïÔºö123456public class ThreadLocalTest &#123; private static ThreadLocal&lt;String&gt; threadLocal = ThreadLocal.withInitial(() -&gt; "ÂàùÂßãÂÄº"); public static void main(String[] args) throws InterruptedException &#123; System.out.println(threadLocal.get()); // ÂàùÂßãÂÄº &#125;&#125;ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØremoveÊó†Ê≥ïÁßªÈô§ÂàùÂßãÂÄºÔºö1234567public class ThreadLocalTest &#123; private static ThreadLocal&lt;String&gt; threadLocal = ThreadLocal.withInitial(() -&gt; "ÂàùÂßãÂÄº"); public static void main(String[] args) throws InterruptedException &#123; threadLocal.remove(); System.out.println(threadLocal.get()); // ÂàùÂßãÂÄº &#125;&#125;ÊºîÁ§∫Â§öÁ∫øÁ®ãÈó¥Áã¨Á´ãÂú®Â§ö‰∏™Á∫øÁ®ã‰∏≠‰ΩøÁî®ThreadLocalÔºö12345678910111213141516171819202122232425262728293031323334public class ThreadLocalTest2 &#123; private static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;(); private static Random random = new Random(System.currentTimeMillis()); public static void main(String[] args) throws InterruptedException &#123; Thread thread1 = new Thread(() -&gt; &#123; threadLocal.set("thread t1"); try &#123; TimeUnit.MICROSECONDS.sleep(random.nextInt(1000)); System.out.println(Thread.currentThread().getName() + " " + threadLocal.get()); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;, "thread1"); Thread thread2 = new Thread(() -&gt; &#123; threadLocal.set("thread t2"); try &#123; TimeUnit.MICROSECONDS.sleep(random.nextInt(1000)); System.out.println(Thread.currentThread().getName() + " " + threadLocal.get()); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;, "thread2"); thread1.start(); thread2.start(); thread1.join(); thread2.join(); System.out.println(Thread.currentThread().getName() + " " + threadLocal.get()); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºöÁªìÊûúËØÅÊòé‰∫ÜThreadLocalÂú®ÊØè‰∏™Á∫øÁ®ãÈó¥ÊòØÁõ∏‰∫íÁã¨Á´ãÁöÑÔºåthreadLocalÂú®thread1„ÄÅthread2ÂíåmainÁ∫øÁ®ãÈó¥ÈÉΩÊúâ‰∏Ä‰ªΩÁã¨Á´ãÊã∑Ë¥ù„ÄÇThreadLocalÂü∫Êú¨ÂéüÁêÜÂú®ThreadLocalÁ±ª‰∏≠Êúâ‰∏Ä‰∏™ÈùôÊÄÅÂÜÖÈÉ®Á±ªThreadLocalMap(Ê¶ÇÂøµ‰∏äÁ±ª‰ºº‰∫éMap)ÔºåÁî®ÈîÆÂÄºÂØπÁöÑÂΩ¢ÂºèÂ≠òÂÇ®ÊØè‰∏Ä‰∏™Á∫øÁ®ãÁöÑÂèòÈáèÂâØÊú¨ÔºåThreadLocalMap‰∏≠ÂÖÉÁ¥†ÁöÑkey‰∏∫ÂΩìÂâçThreadLocalÂØπË±°ÔºåËÄåvalueÂØπÂ∫îÁ∫øÁ®ãÁöÑÂèòÈáèÂâØÊú¨„ÄÇÊàë‰ª¨‰ΩøÁî®MapÊù•‰ª£ÊõøThreadLocalMapÔºåÂàõÂª∫‰∏Ä‰∏™ÁÆÄÊòìÁöÑÁ±ªThreadLocalÂÆûÁé∞Ôºö123456789101112131415161718192021222324252627public class MyThreadLocal&lt;T&gt; &#123; private final Map&lt;Thread, T&gt; threadLocalMap = new HashMap&lt;&gt;(); public void set(T t) &#123; synchronized (this) &#123; Thread key = Thread.currentThread(); threadLocalMap.put(key, t); &#125; &#125; public T get() &#123; synchronized (this) &#123; Thread key = Thread.currentThread(); T t = threadLocalMap.get(key); if (t == null) &#123; return initalValue(); &#125; else &#123; return t; &#125; &#125; &#125; public T initalValue() &#123; return null; &#125;&#125;‰ΩøÁî®ÊñπÂºèÂíå‰πãÂâçÁöÑ‰æãÂ≠ê‰∏ÄËá¥Ôºö123456789101112131415161718192021222324252627282930313233343536373839public class ThreadLocalTest3 &#123; private static MyThreadLocal&lt;String&gt; threadLocal = new MyThreadLocal&lt;String&gt;() &#123; @Override public String initalValue() &#123; return "initalValue"; &#125; &#125;; private static Random random = new Random(System.currentTimeMillis()); public static void main(String[] args) throws InterruptedException &#123; Thread thread1 = new Thread(() -&gt; &#123; threadLocal.set("thread t1"); try &#123; TimeUnit.MICROSECONDS.sleep(random.nextInt(1000)); System.out.println(Thread.currentThread().getName() + " " + threadLocal.get()); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;, "thread1"); Thread thread2 = new Thread(() -&gt; &#123; threadLocal.set("thread t2"); try &#123; TimeUnit.MICROSECONDS.sleep(random.nextInt(1000)); System.out.println(Thread.currentThread().getName() + " " + threadLocal.get()); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;, "thread2"); thread1.start(); thread2.start(); thread1.join(); thread2.join(); System.out.println(Thread.currentThread().getName() + " " + threadLocal.get()); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö‰ΩøÁî®Âª∫ËÆÆÂ∞ÜThreadLocalÂèòÈáèÊåáÂÆö‰∏∫private staticÔºõ‰ΩøÁî®ÂÆåÊØïÂêéÊòæÂºèÂú∞Ë∞ÉÁî®removeÊñπÊ≥ïÁßªÈô§„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•Â≠¶‰π†CAS]]></title>
    <url>%2FCAS.html</url>
    <content type="text"><![CDATA[Âú®Ê∑±ÂÖ•ÁêÜËß£volatileÂÖ≥ÈîÆÂ≠ó‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨ÊèêÂà∞volatileÂπ∂‰∏çËÉΩÁ°Æ‰øùÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÔºåË¶ÅËß£ÂÜ≥ÊñáÁ´†‰∏≠ÊèêÂà∞ÁöÑÁ¥ØÂä†‰æãÂ≠êÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî®ÂêåÊ≠•ÈîÅÔºàsynchronizedÔºâÂíåAtomicÁ±ªÂûã„ÄÇ‰ΩÜÂ∞±ÈÇ£‰∏™‰æãÂ≠êÊù•ËØ¥Ôºå‰ΩøÁî®synchronizedÂêåÊ≠•ÈîÅÊúâÁÇπÂ∞èÈ¢òÂ§ß‰ΩúÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄâÊã©Êõ¥‰∏∫ËΩªÈáèÁöÑAtomicIntegerÊù•Ëß£ÂÜ≥„ÄÇÂ∞ÜÂâçÈù¢ÁöÑ‰æãÂ≠êÊîπÂÜô‰∏∫Ôºö1234567891011121314public class AtomticIntegerTest &#123; private static AtomicInteger value = new AtomicInteger(0); public static void main(String[] args) throws InterruptedException &#123; Thread thread1 = new Thread(() -&gt; IntStream.range(0, 500).forEach(i -&gt; value.getAndIncrement())); Thread thread2 = new Thread(() -&gt; IntStream.range(0, 500).forEach(i -&gt; value.getAndIncrement())); thread1.start(); thread2.start(); thread1.join(); thread2.join(); System.out.println(value); &#125;&#125;Êàë‰ª¨Â∞ÜvalueÁ±ªÂûã‰ªévolatile‰øÆÈ•∞ÁöÑintÁ±ªÂûãÊîπ‰∏∫AtomicIntegerÁ±ªÂûãÔºåËøô‰∏™‰æãÂ≠êÊó†ËÆ∫ËøêË°åÂ§öÂ∞ëÊ¨°ÔºåÁªìÊûúÈÉΩÊòØÊàë‰ª¨ÊúüÊúõÁöÑ1000ÔºöAtomicÁ±ªÂûãÂÜÖÈÉ®Âπ∂Ê≤°ÊúâÈÄöËøáÈîÅÊù•‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÔºåÈÇ£‰πàÂÆÉ‰ª¨ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÂë¢ÔºüËøôÂ∞±ÊòØÊú¨ËäÇË¶ÅËÆ®ËÆ∫ÁöÑCAS„ÄÇ‰ªÄ‰πàÊòØCASCASÊòØCompare-And-SwapÁöÑÁº©ÂÜôÔºåÊÑèÊÄù‰∏∫ÊØîËæÉÂπ∂‰∫§Êç¢„ÄÇ‰ª•AtomicInteger‰∏∫‰æãÔºåÂÖ∂Êèê‰æõ‰∫ÜcompareAndSet(int expect, int update)ÊñπÊ≥ïÔºåexpect‰∏∫ÊúüÊúõÂÄºÔºàË¢´‰øÆÊîπÁöÑÂÄºÂú®‰∏ªÂÜÖÂ≠ò‰∏≠ÁöÑÊúüÊúõÂÄºÔºâÔºåupdate‰∏∫‰øÆÊîπÂêéÁöÑÂÄº„ÄÇcompareAndSetÊñπÊ≥ïËøîÂõûÂÄºÁ±ªÂûã‰∏∫Â∏ÉÂ∞îÁ±ªÂûãÔºå‰øÆÊîπÊàêÂäüÂàôËøîÂõûtrueÔºå‰øÆÊîπÂ§±Ë¥•ËøîÂõûfalse„ÄÇ‰∏æ‰∏™compareAndSetÊñπÊ≥ïÁöÑ‰æãÂ≠êÔºö123456789public class AtomticIntegerTest &#123; public static void main(String[] args) &#123; AtomicInteger atomicInteger = new AtomicInteger(0); boolean result = atomicInteger.compareAndSet(0, 1); System.out.println(result); System.out.println(atomicInteger.get()); &#125;&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÈÄöËøáAtomicInteger(int initialValue)ÊûÑÈÄ†ÊñπÊ≥ïÊåáÂÆö‰∫ÜAtomicIntegerÁ±ªÊàêÂëòÂèòÈáèvalueÁöÑÂàùÂßãÂÄº‰∏∫0Ôºö123456789101112131415public class AtomicInteger extends Number implements java.io.Serializable &#123; ...... private volatile int value; /** * Creates a new AtomicInteger with the given initial value. * * @param initialValue the initial value */ public AtomicInteger(int initialValue) &#123; value = initialValue; &#125; ......&#125;Êé•ÁùÄÊâßË°åcompareAndSetÊñπÊ≥ïÔºåmainÁ∫øÁ®ã‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠Êã∑Ë¥ù‰∫ÜvalueÁöÑÂâØÊú¨Âà∞Â∑•‰ΩúÁ∫øÁ®ãÔºåÂÄº‰∏∫0ÔºåÂπ∂Â∞ÜËøô‰∏™ÂÄº‰øÆÊîπ‰∏∫1„ÄÇÂ¶ÇÊûúÊ≠§Êó∂‰∏ªÂÜÖÂ≠ò‰∏≠valueÁöÑÂÄºËøòÊòØ‰∏∫0ÁöÑËØùÔºàË®ÄÂ§ñ‰πãÊÑèÂ∞±ÊòØÊ≤°ÊúâË¢´ÂÖ∂‰ªñÁ∫øÁ®ã‰øÆÊîπËøáÔºâÔºåÂàôÂ∞Ü‰øÆÊîπÂêéÁöÑÂâØÊú¨ÂÄºÂà∑Âõû‰∏ªÂÜÖÂ≠òÊõ¥Êñ∞valueÁöÑÂÄº„ÄÇÊâÄ‰ª•‰∏äÈù¢ÁöÑ‰æãÂ≠êËøêË°åÁªìÊûúÂ∫îËØ•ÊòØtrueÂíå1ÔºöÂ∞Ü‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰øÆÊîπ‰∏∫Ôºö1234567891011public class AtomticIntegerTest &#123; public static void main(String[] args) &#123; AtomicInteger atomicInteger = new AtomicInteger(0); boolean firstResult = atomicInteger.compareAndSet(0, 1); boolean secondResult = atomicInteger.compareAndSet(0, 1); System.out.println(firstResult); System.out.println(secondResult); System.out.println(atomicInteger.get()); &#125;&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåmainÁ∫øÁ®ãÁ¨¨‰∫åÊ¨°Ë∞ÉÁî®compareAndSetÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåvalueÁöÑÂÄºÂ∑≤ÁªèË¢´‰øÆÊîπ‰∏∫1‰∫ÜÔºå‰∏çÁ¨¶ÂêàÂÖ∂expectÁöÑÂÄºÔºåÊâÄ‰ª•‰øÆÊîπÂ∞ÜÂ§±Ë¥•„ÄÇ‰∏äÈù¢‰æãÂ≠êËæìÂá∫Â¶Ç‰∏ãÔºöCASÂ∫ïÂ±ÇÂéüÁêÜÊü•ÁúãcompareAndSetÊñπÊ≥ïÊ∫êÁ†ÅÔºöËØ•ÊñπÊ≥ïÈÄöËøáË∞ÉÁî®unsafeÁ±ªÁöÑcompareAndSwapIntÊñπÊ≥ïÂÆûÁé∞Áõ∏ÂÖ≥ÂäüËÉΩ„ÄÇcompareAndSwapIntÊñπÊ≥ïÂåÖÂê´Âõõ‰∏™ÂèÇÊï∞ÔºöthisÔºåÂΩìÂâçÂØπË±°ÔºõvalueOffsetÔºåvalueÊàêÂëòÂèòÈáèÁöÑÂÜÖÂ≠òÂÅèÁßªÈáèÔºà‰πüÂ∞±ÊòØÂÜÖÂ≠òÂú∞ÂùÄÔºâÔºö12345678private static final long valueOffset;static &#123; try &#123; valueOffset = unsafe.objectFieldOffset (AtomicInteger.class.getDeclaredField("value")); &#125; catch (Exception ex) &#123; throw new Error(ex); &#125;&#125;expectÔºåÊúüÂæÖÂÄºÔºõupdateÔºåÊõ¥Êñ∞ÂÄº„ÄÇÊâÄ‰ª•Ëøô‰∏™ÊñπÊ≥ïÁöÑÂê´‰πâ‰∏∫ÔºöËé∑ÂèñÂΩìÂâçÂØπË±°valueÊàêÂëòÂèòÈáèÂú®‰∏ªÂÜÖÂ≠ò‰∏≠ÁöÑÂÄºÔºåÂíå‰º†ÂÖ•ÁöÑÊúüÂæÖÂÄºÁõ∏ÊØîÔºåÂ¶ÇÊûúÁõ∏Á≠âÂàôËØ¥ÊòéËøô‰∏™ÂÄºÊ≤°ÊúâË¢´Âà´ÁöÑÁ∫øÁ®ã‰øÆÊîπËøáÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂‰øÆÊîπ‰∏∫Êõ¥Êñ∞ÂÄº„ÄÇÈÇ£‰πàunsafeÂèàÊòØ‰ªÄ‰πàÔºüÂÆÉÁöÑcompareAndSwapIntÊñπÊ≥ïÊòØÂéüÂ≠êÊÄßÁöÑ‰πàÔºüÊü•ÁúãËØ•ÊñπÊ≥ïÁöÑÊ∫êÁ†ÅÔºöËØ•ÊñπÊ≥ïÂπ∂Ê≤°ÊúâÂÖ∑‰ΩìJava‰ª£Á†ÅÂÆûÁé∞ÔºåÊñπÊ≥ïÈÄöËøánativeÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞„ÄÇÁî±‰∫éJavaÊñπÊ≥ïÊó†Ê≥ïÁõ¥Êé•ËÆøÈóÆÂ∫ïÂ±ÇÁ≥ªÁªüÔºåUnsafeÁ±ªÁõ∏ÂΩì‰∫é‰∏Ä‰∏™ÂêéÈó®ÔºåÂèØ‰ª•ÈÄöËøáËØ•Á±ªÁöÑÊñπÊ≥ïÁõ¥Êé•Êìç‰ΩúÁâπÂÆöÂÜÖÂ≠òÁöÑÊï∞ÊçÆ„ÄÇUnsafeÁ±ªÂ≠òÂú®‰∫ésun.msicÂåÖ‰∏≠ÔºåJVM‰ºöÂ∏ÆÊàë‰ª¨ÂÆûÁé∞Âá∫Áõ∏Â∫îÁöÑÊ±áÁºñÊåá‰ª§„ÄÇUnsafeÁ±ª‰∏≠ÁöÑCASÊñπÊ≥ïÊòØ‰∏ÄÊù°CPUÂπ∂ÂèëÂéüËØ≠ÔºåÁî±Ëã•Âπ≤Êù°Êåá‰ª§ÁªÑÊàêÔºåÁî®‰∫éÂÆåÊàêÊüê‰∏™ÂäüËÉΩÁöÑ‰∏Ä‰∏™ËøáÁ®ã„ÄÇÂéüËØ≠ÁöÑÊâßË°åÂøÖÈ°ªÊòØËøûÁª≠ÁöÑÔºåÂú®ÊâßË°åËøáÁ®ã‰∏≠‰∏çÂÖÅËÆ∏Ë¢´‰∏≠Êñ≠Ôºå‰∏ç‰ºöÂ≠òÂú®Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇgetAndIncrementÊñπÊ≥ïÂâñÊûê‰∫ÜËß£‰∫ÜCASÂéüÁêÜÂêéÔºåÊàë‰ª¨ÂõûÂ§¥Áúã‰∏ãAtomicIntegerÁöÑgetAndIncrementÊñπÊ≥ïÊ∫êÁ†ÅÔºöËØ•ÊñπÊ≥ïÈÄöËøáË∞ÉÁî®unsafeÁ±ªÁöÑgetAndAddIntÊñπÊ≥ïÂÆûÁé∞Áõ∏ÂÖ≥ÂäüËÉΩ„ÄÇÁªßÁª≠Êü•ÁúãgetAndAddIntÊñπÊ≥ïÁöÑÊ∫êÁ†ÅÔºöÁªìÂêàËøô‰∏§Âº†ÂõæÔºåÊàë‰ª¨‰æøÂèØ‰ª•ÂæàÁõ¥ËßÇÂú∞ÁúãÂá∫‰∏∫‰ªÄ‰πàAtomicIntegerÁöÑgetAndIncrementÊñπÊ≥ïÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ‰∫ÜÔºö‰∏äÂõæ‰∏≠Ôºåvar1ÊòØAtomicIntegerÂØπË±°Êú¨Ë∫´Ôºõvar2ÊòØAtomicIntegerÂØπË±°ÁöÑÊàêÂëòÂèòÈáèvalueÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºõvar4ÊòØÈúÄË¶ÅÂèòÊõ¥ÁöÑÊï∞ÈáèÔºõvar5ÊòØÈÄöËøáunsafeÁöÑgetIntVolatileÊñπÊ≥ïËé∑ÂæóAtomicIntegerÂØπË±°ÁöÑÊàêÂëòÂèòÈáèvalueÂú®‰∏ªÂÜÖÂ≠ò‰∏≠ÁöÑÂÄº„ÄÇdo whileÂæ™ÁéØ‰∏≠ÁöÑÈÄªËæë‰∏∫ÔºöÁî®ÂΩìÂâçÂØπË±°ÁöÑÂÄºÂíåvar5ÊØîËæÉÔºåÂ¶ÇÊûúÁõ∏ÂêåÔºåËØ¥ÊòéËØ•ÂÄºÊ≤°ÊúâË¢´Âà´ÁöÑÁ∫øÁ®ã‰øÆÊîπËøáÔºåÊõ¥Êñ∞‰∏∫var5+var4ÔºåÂπ∂ËøîÂõûtrueÔºàCASÔºâÔºõÂê¶ÂàôÁªßÁª≠Ëé∑ÂèñÂÄºÂπ∂ÊØîËæÉÔºåÁõ¥Âà∞Êõ¥Êñ∞ÂÆåÊàê„ÄÇCASÁöÑÁº∫ÁÇπCASÂπ∂‰∏çÊòØÂÆåÁæéÁöÑÔºåÂÖ∂Â≠òÂú®‰ª•‰∏ãËøô‰∫õÁº∫ÁÇπÔºöÂ¶ÇÊûúÂàöÂ•ΩwhileÈáåÁöÑCASÊìç‰Ωú‰∏ÄÁõ¥‰∏çÊàêÂäüÔºåÈÇ£‰πàÂØπCPUÁöÑÂºÄÈîÄÂ§ßÔºõÂè™ËÉΩÁ°Æ‰øù‰∏Ä‰∏™ÂÖ±‰∫´ÂèòÈáèÁöÑÂéüÂ≠êÊìç‰ΩúÔºõÂ≠òÂú®ABAÈóÆÈ¢ò„ÄÇCASÂÆûÁé∞ÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂâçÊèêÊòØÈúÄË¶ÅÂèñÂá∫Êüê‰∏ÄÊó∂ÂàªÁöÑÊï∞ÊçÆÂπ∂Âú®ÂΩì‰∏ãÊó∂ÂàªÊØîËæÉ‰∫§Êç¢ÔºåËøô‰πãÈó¥ÁöÑÊó∂Èó¥Â∑Æ‰ºöÂØºËá¥Êï∞ÊçÆÁöÑÂèòÂåñ„ÄÇÊØîÂ¶ÇÔºöthread1Á∫øÁ®ã‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠ÂèñÂá∫‰∫ÜÂèòÈáèaÁöÑÂÄº‰∏∫AÔºåthread2È°µ‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠ÂèñÂá∫‰∫ÜÂèòÈáèaÁöÑÂÄº‰∏∫A„ÄÇÁî±‰∫éÁ∫øÁ®ãË∞ÉÂ∫¶ÁöÑ‰∏çÁ°ÆÂÆöÊÄßÔºåËøôÊó∂ÂÄôthread1ÂèØËÉΩË¢´Áü≠ÊöÇÊåÇËµ∑‰∫ÜÔºåthread2ËøõË°å‰∫Ü‰∏Ä‰∫õÊìç‰ΩúÂ∞ÜÂÄº‰øÆÊîπ‰∏∫‰∫ÜBÔºåÁÑ∂ÂêéÂèàËøõË°å‰∫Ü‰∏Ä‰∫õÊìç‰ΩúÂ∞ÜÂÄº‰øÆÊîπÂõû‰∫ÜAÔºåËøôÊó∂ÂÄôÂΩìthread1ÈáçÊñ∞Ëé∑ÂèñCPUÊó∂Èó¥ÁâáÈáçÊñ∞ÊâßË°åCASÊìç‰ΩúÊó∂Ôºå‰ºöÂèëÁé∞ÂèòÈáèaÂú®‰∏ªÂÜÖÂ≠ò‰∏≠ÁöÑÂÄº‰ªçÁÑ∂ÊòØAÔºåÊâÄ‰ª•CASÊìç‰ΩúÊàêÂäü„ÄÇËß£ÂÜ≥ABAÈóÆÈ¢òÈÇ£‰πàÂ¶Ç‰ΩïËß£ÂÜ≥CASÁöÑABAÈóÆÈ¢òÂë¢ÔºüÁî±‰∏äÈù¢ÁöÑÈòêËø∞ËØæ‰ª∂ÔºåÂÖâÈÄöËøáÂà§Êñ≠ÂÄºÊòØÂê¶Áõ∏Á≠âÂπ∂‰∏çËÉΩÁ°Æ‰øùÂú®‰∏ÄÂÆöÊó∂Èó¥Â∑ÆÂÜÖÂÄºÊ≤°ÊúâÂèòÊõ¥ËøáÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™È¢ùÂ§ñÁöÑÊåáÊ†áÊù•ËæÖÂä©Âà§Êñ≠ÔºåÁ±ª‰ºº‰∫éÊó∂Èó¥Êà≥ÔºåÁâàÊú¨Âè∑Á≠â„ÄÇJUC‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™AtomicStampedReferenceÁ±ªÔºåÈÄöËøáÊü•ÁúãÂÆÉÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂ∞±ÂèØ‰ª•ÁúãÂá∫ÔºåÈô§‰∫ÜÊåáÂÆöÂàùÂßãÂÄºÂ§ñÔºåËøòÈúÄÊåáÂÆö‰∏Ä‰∏™ÁâàÊú¨Âè∑ÔºàÊà≥ÔºâÔºöÊàë‰ª¨Â∞±Áî®Ëøô‰∏™Á±ªÊù•Ëß£ÂÜ≥ABAÈóÆÈ¢òÔºåÈ¶ñÂÖàÊ®°Êãü‰∏Ä‰∏™ABAÈóÆÈ¢òÂú∫ÊôØÔºö1234567891011121314151617181920212223242526public class AtomticIntegerTest &#123; public static void main(String[] args) &#123; AtomicReference&lt;String&gt; atomicReference = new AtomicReference&lt;&gt;("A"); new Thread(() -&gt; &#123; // Ê®°Êãü‰∏ÄÊ¨°ABAÊìç‰Ωú atomicReference.compareAndSet("A", "B"); atomicReference.compareAndSet("B", "A"); System.out.println(Thread.currentThread().getName() + "Á∫øÁ®ãÂÆåÊàê‰∫Ü‰∏ÄÊ¨°ABAÊìç‰Ωú"); &#125;, "thread1").start(); new Thread(() -&gt; &#123; // ËÆ©thread2ÂÖàÁù°Áú†2ÁßíÈíüÔºåÁ°Æ‰øùthread1ÁöÑABAÊìç‰ΩúÂÆåÊàê try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; boolean result = atomicReference.compareAndSet("A", "B"); if (result) &#123; System.out.println(Thread.currentThread().getName() + "Á∫øÁ®ã‰øÆÊîπÂÄºÊàêÂäüÔºåÂΩìÂâçÂÄº‰∏∫Ôºö" + atomicReference.get()); &#125; &#125;, "thread2").start(); &#125;&#125;ËøêË°åÁ®ãÂ∫èÔºåËæìÂá∫Â¶Ç‰∏ãÔºö‰ΩøÁî®AtomicStampedReferenceËß£ÂÜ≥ABAÈóÆÈ¢òÔºö123456789101112131415161718192021222324252627282930313233343536373839public class AtomticIntegerTest &#123; public static void main(String[] args) &#123; // ÂàùÂßãÂÄº‰∏∫AÔºåÁâàÊú¨Âè∑‰∏∫1 AtomicStampedReference&lt;String&gt; reference = new AtomicStampedReference&lt;&gt;("A", 1); new Thread(() -&gt; &#123; int stamp = reference.getStamp(); System.out.println(Thread.currentThread().getName() + "ÂΩìÂâçÁâàÊú¨Âè∑‰∏∫Ôºö" + stamp); // ‰ºëÁú†1ÁßíÔºåËÆ©thread2‰πüÊãøÂà∞ÂàùÂßãÁöÑÁâàÊú¨Âè∑ try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; // Ê®°Êãü‰∏ÄÊ¨°ABAÊìç‰Ωú reference.compareAndSet("A", "B", reference.getStamp(), reference.getStamp() + 1); reference.compareAndSet("B", "A", reference.getStamp(), reference.getStamp() + 1); System.out.println(Thread.currentThread().getName() + "Á∫øÁ®ãÂÆåÊàê‰∫Ü‰∏ÄÊ¨°ABAÊìç‰Ωú"); &#125;, "thread1").start(); new Thread(() -&gt; &#123; int stamp = reference.getStamp(); System.out.println(Thread.currentThread().getName() + "ÂΩìÂâçÁâàÊú¨Âè∑‰∏∫Ôºö" + stamp); // ËÆ©thread2ÂÖàÁù°Áú†2ÁßíÈíüÔºåÁ°Æ‰øùthread1ÁöÑABAÊìç‰ΩúÂÆåÊàê try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; boolean result = reference.compareAndSet("A", "B", stamp, stamp + 1); if (result) &#123; System.out.println(Thread.currentThread().getName() + "Á∫øÁ®ã‰øÆÊîπÂÄºÊàêÂäüÔºåÂΩìÂâçÂÄº‰∏∫Ôºö" + reference.getReference()); &#125; else &#123; System.out.println(Thread.currentThread().getName() + "Á∫øÁ®ã‰øÆÊîπÂÄºÂ§±Ë¥•ÔºåÂΩìÂâçÂÄº‰∏∫Ôºö" + reference.getReference() + "ÔºåÁâàÊú¨Âè∑‰∏∫Ôºö" + reference.getStamp()); &#125; &#125;, "thread2").start(); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JUC‰πãSemaphore]]></title>
    <url>%2FJUC-Semaphore.html</url>
    <content type="text"><![CDATA[JUCÁöÑSemaphore‰øóÁß∞‰ø°Âè∑ÈáèÔºåÂèØÁî®Êù•ÊéßÂà∂ÂêåÊó∂ËÆøÈóÆÁâπÂÆöËµÑÊ∫êÁöÑÁ∫øÁ®ãÊï∞Èáè„ÄÇÈÄöËøáÂÆÉÁöÑÊûÑÈÄ†ÂáΩÊï∞Êàë‰ª¨ÂèØ‰ª•ÊåáÂÆö‰ø°Âè∑ÈáèÔºàÁß∞‰∏∫ËÆ∏ÂèØËØÅpermitsÂèØËÉΩÊõ¥‰∏∫ÊòéÁ°ÆÔºâÁöÑÊï∞ÈáèÔºåÁ∫øÁ®ãÂèØ‰ª•Ë∞ÉÁî®SemaphoreÂØπË±°ÁöÑacquireÊñπÊ≥ïËé∑Âèñ‰∏Ä‰∏™ËÆ∏ÂèØËØÅÔºåË∞ÉÁî®releaseÊù•ÂΩíËøò‰∏Ä‰∏™ËÆ∏ÂèØËØÅ„ÄÇ‰∏ãÈù¢‰∏æ‰∏™SemaphoreÁöÑÂü∫Êú¨‰ΩøÁî®Á§∫‰æã„ÄÇSemaphoreÁ§∫‰æã123456789101112131415161718192021222324public class SemaphoreTest &#123; public static void main(String[] args) throws InterruptedException &#123; // ÂÆö‰πâËÆ∏ÂèØËØÅÊï∞Èáè final Semaphore semaphore = new Semaphore(2); IntStream.range(0, 4).forEach(i -&gt; &#123; new Thread(() -&gt; &#123; System.out.println(Thread.currentThread().getName() + "ÂºÄÂßã"); try &#123; semaphore.acquire(); // ‰∏ÄÊ¨°Êãø‰∏Ä‰∏™ËÆ∏ÂèØËØÅ System.out.println(Thread.currentThread().getName() + "Ëé∑ÂèñËÆ∏ÂèØËØÅ"); TimeUnit.SECONDS.sleep(3); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; System.out.println(Thread.currentThread().getName() + "ÈáäÊîæËÆ∏ÂèØËØÅ"); semaphore.release(); &#125; System.out.println(Thread.currentThread().getName() + "ÁªìÊùü"); &#125;, "thread" + (i + 1)).start(); &#125;); &#125;&#125;‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÂÆö‰πâËÆ∏ÂèØËØÅÁöÑÊï∞Èáè‰∏∫2‰∏™ÔºåÁÑ∂Âêé4‰∏™Á∫øÁ®ãÈÄöËøáacquireÊñπÊ≥ïÂéªËé∑ÂèñËÆ∏ÂèØËØÅÔºåÁªìÊùüË°åÈÄöËøáreleaseÊñπÊ≥ïÈáäÊîæËÆ∏ÂèØËØÅ„ÄÇacquireÊñπÊ≥ïÈªòËÆ§‰∏ÄÊ¨°Âè™Êãø‰∏Ä‰∏™ËÆ∏ÂèØËØÅÔºåÊâÄ‰ª•‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÂêå‰∏ÄÊó∂ÂàªÊúÄÂ§öÂè™Êúâ‰∏§‰∏™Á∫øÁ®ãÂêåÊó∂ÊâßË°å„ÄÇÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö acquireÁöÑÈáçËΩΩÊñπÊ≥ïacquire(int permits)ÂÖÅËÆ∏Á∫øÁ®ã‰∏ÄÊ¨°ÊÄßËé∑ÂèñN‰∏™ËÆ∏ÂèØËØÅÔºõÂêåÊ†∑ÁöÑreleaseÁöÑÈáçËΩΩÊñπÊ≥ïrelease(int permits)ÂÖÅËÆ∏Á∫øÁ®ã‰∏ÄÊ¨°ÊÄßÈáäÊîæN‰∏™ËÆ∏ÂèØËØÅ„ÄÇSemaphoreËøòÊúâ‰∏Ä‰∏™tryAcquireÔºåÂÆÉÂÖÅËÆ∏Á∫øÁ®ãÂ∞ùËØïÂéªËé∑Âèñ1‰∏™ËÆ∏ÂèØËØÅÔºåÂ¶ÇÊûúËÆ∏ÂèØËØÅ‰∏çË∂≥Ê≤°ÊúâËé∑ÂèñÂà∞ÁöÑËØùÔºåÁ∫øÁ®ã‰πü‰ºöÁªßÁª≠ÊâßË°åÔºåËÄåÈùûÈòªÂ°ûÁ≠âÂæÖ„ÄÇtryAcquireÊñπÊ≥ïÁöÑÈáçËΩΩÊñπÊ≥ïtryAcquire(long timeout, TimeUnit unit)ÂèØ‰ª•ÊåáÂÆöÂ∞ùËØïËé∑ÂèñËÆ∏ÂèØËØÅÁöÑË∂ÖÊó∂Êó∂Èó¥„ÄÇacquireUninterruptibly‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠êÊàë‰ª¨‰ºöÂèëÁé∞acquireÊñπÊ≥ï‰ºöÊäõÂá∫InterruptedExceptionÂºÇÂ∏∏ÔºåËØ¥ÊòéËøô‰∏™ÊñπÊ≥ïÊòØÂèØ‰ª•Ë¢´ÊâìÊñ≠ÁöÑÔºö123456789101112131415161718public class SemaphoreTest &#123; public static void main(String[] args) throws InterruptedException &#123; final Semaphore semaphore = new Semaphore(1); Thread thread1 = new Thread(() -&gt; &#123; try &#123; semaphore.acquire(2); &#125; catch (InterruptedException e) &#123; System.err.println("semaphore InterruptedException"); e.printStackTrace(); &#125; &#125;); thread1.start(); TimeUnit.MICROSECONDS.sleep(500); thread1.interrupt(); &#125;&#125;‰∏äÈù¢‰æãÂ≠êthread1Á∫øÁ®ãËé∑Âèñ2‰∏™ËÆ∏ÂèØËØÅÔºå‰ΩÜËÆ∏ÂèØËØÅÊÄªÊï∞Âè™Êúâ1‰∏™ÔºåÊâÄ‰ª•‰ºöÈòªÂ°ûÁ≠âÂæÖ„ÄÇmainÁ∫øÁ®ãÈÄöËøáË∞ÉÁî®thread1ÁöÑinterruptÊñπÊ≥ïÂéªÊâìÊñ≠thread1Á∫øÁ®ãÔºåÁªìÊûúÂ¶Ç‰∏ãÔºöËÄåÈÄöËøáacquireUninterruptiblyÊñπÊ≥ïÂéªËé∑ÂèñËÆ∏ÂèØËØÅÊòØ‰∏çÂèØË¢´ÊâìÊñ≠ÁöÑÔºö123456789101112public class SemaphoreTest &#123; public static void main(String[] args) throws InterruptedException &#123; final Semaphore semaphore = new Semaphore(1); Thread thread1 = new Thread(() -&gt; &#123; semaphore.acquireUninterruptibly(2); &#125;); thread1.start(); TimeUnit.MICROSECONDS.sleep(500); thread1.interrupt(); &#125;&#125;‰∏äÈù¢Á®ãÂ∫èÂπ∂‰∏ç‰ºöÊäõÂá∫InterruptedExceptionÔºåthread1‰ºö‰∏ÄÁõ¥Â§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ„ÄÇdrainPermitsdrainPermitsÊñπÊ≥ï‰∏ÄÊ¨°ÊÄßËé∑ÂèñÊâÄÊúâËÆ∏ÂèØËØÅÔºàdrainÊäΩÂπ≤Ê¶®Âπ≤üòÆÔºâÔºö12345678910111213141516171819public class SemaphoreTest &#123; public static void main(String[] args) throws InterruptedException &#123; final Semaphore semaphore = new Semaphore(5); new Thread(() -&gt; &#123; System.out.println("availablePermits: " + semaphore.availablePermits()); semaphore.drainPermits(); // Ëé∑ÂèñÊâÄÊúâËÆ∏ÂèØËØÅÔºåÊäΩÂπ≤ System.out.println("availablePermits: " + semaphore.availablePermits()); try &#123; TimeUnit.SECONDS.sleep(4); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; semaphore.release(5); System.out.println(Thread.currentThread().getName() + "ÁªìÊùü"); &#125;, "thread1").start(); &#125;&#125;availablePermitsÊñπÊ≥ïÁî®‰∫éËé∑ÂèñÂΩìÂâçÂèØÁî®ËÆ∏ÂèØËØÅÊï∞ÈáèÁöÑÈ¢Ñ‰º∞ÂÄº„ÄÇÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºöÂà´ÁöÑAPIhasQueuedThreadsÊñπÊ≥ïÁî®‰∫éÂà§Êñ≠ÊòØÂê¶ÊúâÂ§Ñ‰∫éÁ≠âÂæÖËé∑ÂèñËÆ∏ÂèØËØÅÁä∂ÊÄÅÁöÑÁ∫øÁ®ãÔºõgetQueueLengthÁî®‰∫éËé∑ÂèñÂ§Ñ‰∫éÁ≠âÂæÖËé∑ÂèñËÆ∏ÂèØËØÅÁä∂ÊÄÅÁöÑÁ∫øÁ®ãÁöÑÊï∞ÈáèÔºõgetQueuedThreadsÁî®‰∫éËé∑ÂèñÂ§Ñ‰∫éÁ≠âÂæÖËé∑ÂèñËÆ∏ÂèØËØÅÁä∂ÊÄÅÁöÑÁ∫øÁ®ãÈõÜÂêà„ÄÇgetQueuedThreadsÊòØprotectedÁöÑÔºåÊâÄ‰ª•Ë¶Å‰ΩøÁî®ÂÆÉÔºåÊàë‰ª¨ÂæóËá™ÂÆö‰πâ‰∏Ä‰∏™SemaphoreÁöÑÂ≠êÁ±ªÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849public class SemaphoreTest &#123; public static void main(String[] args) &#123; // ÂÆö‰πâËÆ∏ÂèØËØÅÊï∞Èáè final MySemaphore semaphore = new MySemaphore(1); IntStream.range(0, 4).forEach(i -&gt; &#123; new Thread(() -&gt; &#123; System.out.println(Thread.currentThread().getName() + "ÂºÄÂßã"); try &#123; semaphore.acquire(); System.out.println(Thread.currentThread().getName() + "Ëé∑ÂèñËÆ∏ÂèØËØÅ"); TimeUnit.SECONDS.sleep(3); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; System.out.println(Thread.currentThread().getName() + "ÈáäÊîæËÆ∏ÂèØËØÅ"); semaphore.release(); &#125; System.out.println(Thread.currentThread().getName() + "ÁªìÊùü"); &#125;, "thread" + (i + 1)).start(); &#125;); while (true) &#123; if (semaphore.hasQueuedThreads()) &#123; System.out.println("Á≠âÂæÖÁ∫øÁ®ãÊï∞ÈáèÔºö" + semaphore.getQueueLength()); Collection&lt;Thread&gt; queuedThreads = semaphore.getQueuedThreads(); System.out.println("Á≠âÂæÖÁ∫øÁ®ãÔºö" + queuedThreads.stream().map(Thread::getName).collect(Collectors.joining(","))); &#125; &#125; &#125; static class MySemaphore extends Semaphore &#123; private static final long serialVersionUID = -2595494765642942297L; public MySemaphore(int permits) &#123; super(permits); &#125; public MySemaphore(int permits, boolean fair) &#123; super(permits, fair); &#125; public Collection&lt;Thread&gt; getQueuedThreads() &#123; return super.getQueuedThreads(); &#125; &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫ÔºàÊà™Âèñ‰∏ÄÈÉ®ÂàÜÔºâÔºö ApiÊÄªÁªìÊÄªÁªì‰∏ãSemaphoreÂ∏∏Áî®ÁöÑÊñπÊ≥ïÔºöÊñπÊ≥ïÊèèËø∞acquire()Ëé∑Âèñ‰∏Ä‰∏™ËÆ∏ÂèØËØÅÔºåÂèØ‰ª•Ë¢´ÊâìÊñ≠ÔºåÊ≤°ÊúâË∂≥Â§üÁöÑËÆ∏ÂèØËØÅÊó∂ÈòªÂ°ûÁ≠âÂæÖacquire(int permits)Ëé∑ÂèñÊåáÂÆöÊï∞ÈáèÁöÑËÆ∏ÂèØËØÅÔºåÂèØ‰ª•Ë¢´ÊâìÊñ≠ÔºåÊ≤°ÊúâË∂≥Â§üÁöÑËÆ∏ÂèØËØÅÊó∂ÈòªÂ°ûÁ≠âÂæÖacquireUninterruptibly()Ëé∑Âèñ‰∏Ä‰∏™ËÆ∏ÂèØËØÅÔºå‰∏çÂèØË¢´ÊâìÊñ≠ÔºåÊ≤°ÊúâË∂≥Â§üÁöÑËÆ∏ÂèØËØÅÊó∂ÈòªÂ°ûÁ≠âÂæÖacquireUninterruptibly(int permits)Ëé∑ÂèñÊåáÂÆöÊï∞ÈáèÁöÑËÆ∏ÂèØËØÅÔºå‰∏çÂèØË¢´ÊâìÊñ≠ÔºåÊ≤°ÊúâË∂≥Â§üÁöÑËÆ∏ÂèØËØÅÊó∂ÈòªÂ°ûÁ≠âÂæÖtryAcquire()Â∞ùËØïËé∑Âèñ‰∏Ä‰∏™ËÆ∏ÂèØËØÅÔºåÊ≤°ÊúâË∂≥Â§üÁöÑËÆ∏ÂèØËØÅÊó∂Á®ãÂ∫èÁªßÁª≠ÊâßË°åÔºå‰∏ç‰ºöË¢´ÈòªÂ°ûtryAcquire(int permits)Â∞ùËØïËé∑ÂèñÊåáÂÆöÊï∞ÈáèÁöÑËÆ∏ÂèØËØÅÔºåÊ≤°ÊúâË∂≥Â§üÁöÑËÆ∏ÂèØËØÅÊó∂Á®ãÂ∫èÁªßÁª≠ÊâßË°åÔºå‰∏ç‰ºöË¢´ÈòªÂ°ûtryAcquire(long timeout, TimeUnit unit)Âú®ÊåáÂÆöÁöÑÊó∂Èó¥ËåÉÂõ¥ÂÜÖÂ∞ùËØïËé∑Âèñ1‰∏™ËÆ∏ÂèØËØÅÔºåÊ≤°ÊúâË∂≥Â§üÁöÑËÆ∏ÂèØËØÅÊó∂Á®ãÂ∫èÁªßÁª≠ÊâßË°åÔºå‰∏ç‰ºöË¢´ÈòªÂ°ûÔºåÂú®ËØ•Êó∂Èó¥Êñπ‰ΩçÂÜÖÂèØ‰ª•Ë¢´ÊâìÊñ≠tryAcquire(int permits, long timeout, TimeUnit unit)Âú®ÊåáÂÆöÁöÑÊó∂Èó¥ËåÉÂõ¥ÂÜÖÂ∞ùËØïËé∑ÂèñÊåáÂÆöÊï∞ÈáèÁöÑËÆ∏ÂèØËØÅÔºåÊ≤°ÊúâË∂≥Â§üÁöÑËÆ∏ÂèØËØÅÊó∂Á®ãÂ∫èÁªßÁª≠ÊâßË°åÔºå‰∏ç‰ºöË¢´ÈòªÂ°ûÔºåÂú®ËØ•Êó∂Èó¥Êñπ‰ΩçÂÜÖÂèØ‰ª•Ë¢´ÊâìÊñ≠release()ÈáäÊîæ‰∏Ä‰∏™ËÆ∏ÂèØËØÅdrainPermits()‰∏ÄÊ¨°ÊÄßËé∑ÂèñÊâÄÊúâÂèØÁî®ÁöÑËÆ∏ÂèØËØÅavailablePermits()Ëé∑ÂèñÂΩìÂâçÂèØÁî®ËÆ∏ÂèØËØÅÊï∞ÈáèÁöÑÈ¢Ñ‰º∞ÂÄºhasQueuedThreads()Âà§Êñ≠ÊòØÂê¶ÊúâÂ§Ñ‰∫éÁ≠âÂæÖËé∑ÂèñËÆ∏ÂèØËØÅÁä∂ÊÄÅÁöÑÁ∫øÁ®ãgetQueueLength()Ëé∑ÂèñÂ§Ñ‰∫éÁ≠âÂæÖËé∑ÂèñËÆ∏ÂèØËØÅÁä∂ÊÄÅÁöÑÁ∫øÁ®ãÁöÑÊï∞ÈáèÁöÑÈ¢Ñ‰º∞ÂÄºgetQueuedThreads()Ëé∑ÂèñÂ§Ñ‰∫éÁ≠âÂæÖËé∑ÂèñËÆ∏ÂèØËØÅÁä∂ÊÄÅÁöÑÁ∫øÁ®ãÈõÜÂêà]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•ÁêÜËß£volatileÂÖ≥ÈîÆÂ≠ó]]></title>
    <url>%2Fvolatile.html</url>
    <content type="text"><![CDATA[volatileÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞ÁöÑÊàêÂëòÂèòÈáèÂÖ∑Êúâ‰∏§Â§ßÁâπÊÄßÔºö‰øùËØÅ‰∫ÜËØ•ÊàêÂëòÂèòÈáèÂú®‰∏çÂêåÁ∫øÁ®ã‰πãÈó¥ÁöÑÂèØËßÅÊÄßÔºõÁ¶ÅÊ≠¢ÂØπËØ•ÊàêÂëòÂèòÈáèËøõË°åÈáçÊéíÂ∫èÔºå‰πüÂ∞±‰øùËØÅ‰∫ÜÂÖ∂ÊúâÂ∫èÊÄß„ÄÇ‰ΩÜÊòØvolatile‰øÆÈ•∞ÁöÑÊàêÂëòÂèòÈáèÂπ∂‰∏çÂÖ∑ÊúâÂéüÂ≠êÊÄßÔºåÂú®Âπ∂Âèë‰∏ãÂØπÂÆÉÁöÑ‰øÆÊîπÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑ„ÄÇ‰∏ãÈù¢ÂàÜÂà´‰∏æ‰æãÊù•ÊºîÁ§∫Ëøô‰∏§‰∏™ÁâπÊÄßÔºåÂπ∂‰∏îÂàÜÊûê‰∏∫‰ªÄ‰πàvolatile‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÂèØËßÅÊÄßÈÄöËøáÂØπJMMÁöÑÂ≠¶‰π†ÔºåÊàë‰ª¨ÈÉΩÁü•ÈÅìÁ∫øÁ®ãÂØπ‰∏ªÂÜÖÂ≠ò‰∏≠ÂÖ±‰∫´ÂèòÈáèÁöÑ‰øÆÊîπÈ¶ñÂÖà‰ºö‰ªé‰∏ªÂÜÖÂ≠òËé∑ÂèñÂÄºÁöÑÊã∑Ë¥ùÔºåÁÑ∂Âêé‰øùÂ≠òÂà∞Á∫øÁ®ãÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠„ÄÇÊé•ÁùÄÂú®Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÂØπÂÄºËøõË°å‰øÆÊîπÔºåÊúÄÁªàÂà∑Âõû‰∏ªÂÜÖÂ≠ò„ÄÇÁî±‰∫é‰∏çÂêåÁ∫øÁ®ãÊã•ÊúâÂêÑËá™ÁöÑÂ∑•‰ΩúÂÜÖÂ≠òÔºåÊâÄ‰ª•ÂÆÉ‰ª¨ÂØπÊüê‰∏™ÂÖ±‰∫´ÂèòÈáèÂÄºÁöÑ‰øÆÊîπÂú®Ê≤°ÊúâÂà∑Âõû‰∏ªÂÜÖÂ≠òÁöÑÊó∂ÂÄôÂè™ÂØπËá™Â∑±ÂèØËßÅ„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÂÅáÂ¶ÇÊúâ‰∏§‰∏™Á∫øÁ®ãÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Á∫øÁ®ãÁî®‰∫é‰øÆÊîπÂÖ±‰∫´ÂèòÈáèvalueÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÁî®‰∫éËé∑Âèñ‰øÆÊîπÂêéÁöÑvalueÔºö1234567891011121314151617181920212223242526272829public class VolatileTest &#123; private static int INIT_VALUE = 0; private final static int LIMIT = 5; public static void main(String[] args) &#123; new Thread(() -&gt; &#123; int value = INIT_VALUE; while (value &lt; LIMIT) &#123; if (value != INIT_VALUE) &#123; System.out.println("Ëé∑ÂèñÊõ¥Êñ∞ÂêéÁöÑÂÄºÔºö" + INIT_VALUE); value = INIT_VALUE; &#125; &#125; &#125;, "reader").start(); new Thread(() -&gt; &#123; int value = INIT_VALUE; while (INIT_VALUE &lt; LIMIT) &#123; System.out.println("Â∞ÜÂÄºÊõ¥Êñ∞‰∏∫Ôºö" + ++value); INIT_VALUE = value; try &#123; TimeUnit.MILLISECONDS.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;, "writer").start(); &#125;&#125;writerÁ∫øÁ®ãÊØèÈöî0.5ÁßíÂ∞ÜINIT_VALUEÂÄºÈÄíÂ¢ûÔºåÁõ¥Âà∞INIT_VALUEÂ§ß‰∫éÁ≠â‰∫é5„ÄÇËÄåreaderÁ∫øÁ®ãÂàôÊòØ‰∏çÂÅúÁöÑÂéªËé∑ÂèñINIT_VALUEÁöÑÂÄºÔºåÁõ¥Âà∞INIT_VALUEÁöÑÂÄºÂ§ß‰∫éÁ≠â‰∫é5„ÄÇÁ®ãÂ∫èÊâßË°åÁªìÊûúÂ¶Ç‰∏ãÔºöÂ§öÊâßË°åÂá†Ê¨°ÂèØËÉΩÊØèÊ¨°ÁªìÊûúÈÉΩ‰∏ç‰∏ÄÊ†∑Ôºå‰ΩÜÊòØÂèØ‰ª•Á°ÆÂÆöÁöÑÊòØÔºåwriterÂØπÂÄºÁöÑ‰øÆÊîπreaderÂπ∂‰∏çËÉΩÊÑüÁü•Âà∞ÔºàÂ¶ÇÊûúËÉΩÊÑüÁü•Âà∞ÁöÑËØùÔºåreaderÁ∫øÁ®ãÂ∞±‰∏ç‰ºöÂÅú‰∏ç‰∏ãÊù•‰∫ÜÔºâ„ÄÇ‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞‰∏äÈù¢ÁöÑÁªìÊûúÂë¢ÔºüÂõ†‰∏∫writerÁ∫øÁ®ãÂú®Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠‰øÆÊîπ‰∫ÜINIT_VALUEÁöÑÂÄºÔºåÂç≥‰ΩøÂÆÉÂà∑Âõû‰∏ªÂÜÖÂ≠ò‰∫ÜÔºå‰ΩÜÊòØreaderÁ∫øÁ®ãÂú®Ê≠§‰πãÂâçÂ∑≤Áªè‰ªé‰∏ªÂÜÖÂ≠òËé∑Âèñ‰∫ÜINIT_VALUEÁöÑÂÄºÔºàÂõ†‰∏∫Á∫øÁ®ãËé∑ÂèñCPUÊó∂Èó¥Áâá‰∏çÁ°ÆÂÆöÊÄßÔºåËøô‰∏™ÂÄºÂèØËÉΩÊòØ0Ôºå‰πüÂèØËÉΩÊòØË¢´writer‰øÆÊîπÂêéÁöÑÂÄºÔºå‰ΩÜwriterÁ∫øÁ®ãÊòØÊØèÈöî0.5ÊØ´ÁßíÊâç‰ºöÂéª‰øÆÊîπÂÄºÔºåÊâÄ‰ª•readerËé∑ÂèñÂà∞ÁöÑINIT_VALUEÁöÑÂÄº‰∏ÄËà¨‰∏ç‰ºöÊòØwriter‰øÆÊîπÁöÑÊúÄÁªàÂÄº5ÔºâÔºåÂπ∂‰øùÂ≠òÂà∞‰∫ÜreaderÁ∫øÁ®ãÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠„ÄÇreaderÁ∫øÁ®ãÈÄöËøáwhile‰∏çÊñ≠ÁöÑËΩÆËØ¢Âà§Êñ≠valueÂíåINIT_VALUEÁöÑÂÄºÊòØÂê¶Áõ∏Á≠âÔºå‰ΩÜÊòØÁî±‰∫éreaderÁ∫øÁ®ãÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠Â∑≤ÁªèÊúâINIT_VALUEÁöÑÂÄºÁöÑÊã∑Ë¥ù‰∫ÜÔºåÊâÄ‰ª•readerÂπ∂‰∏ç‰ºöÈáçÊñ∞‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠Ëé∑ÂèñË¢´writer‰øÆÊîπÂêéÁöÑINIT_VALUEÁöÑÂÄºÔºåreaderÁ∫øÁ®ãÈáåwhileÊù°‰ª∂‰∏ÄÁõ¥ÊàêÁ´ãÔºåËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πàreaderÁ∫øÁ®ã‰∏ç‰ºöÊ≠£Â∏∏ÂÅúÊ≠¢Âπ∂‰∏îÊ≤°ÊúâËæìÂá∫‰øÆÊîπÂêéÁöÑÂÄºÁöÑÂéüÂõ†„ÄÇ‰øÆÊîπ‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÂ∞ÜINIT_VALUEÊàêÂëòÂèòÈáè‰ΩøÁî®volatileÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞Ôºö1234567891011121314151617181920212223242526272829public class VolatileTest &#123; private volatile static int INIT_VALUE = 0; private final static int LIMIT = 5; public static void main(String[] args) &#123; new Thread(() -&gt; &#123; int value = INIT_VALUE; while (value &lt; LIMIT) &#123; if (value != INIT_VALUE) &#123; System.out.println("Ëé∑ÂèñÊõ¥Êñ∞ÂêéÁöÑÂÄºÔºö" + INIT_VALUE); value = INIT_VALUE; &#125; &#125; &#125;, "reader").start(); new Thread(() -&gt; &#123; int value = INIT_VALUE; while (INIT_VALUE &lt; LIMIT) &#123; System.out.println("Â∞ÜÂÄºÊõ¥Êñ∞‰∏∫Ôºö" + ++value); INIT_VALUE = value; try &#123; TimeUnit.MICROSECONDS.sleep(500); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;, "writer").start(); &#125;&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåreaderÁ∫øÁ®ãÂ∑≤ÁªèÂèØ‰ª•Ê≠£Â∏∏ÂÅúÊ≠¢‰∫ÜÔºåÂõ†‰∏∫ÊúÄÁªàINIT_VALUEÁöÑÂÄºËÇØÂÆöÊòØ5ÔºåÂπ∂‰∏îreaderÂèØ‰ª•ÊÑüÁü•Âà∞Ëøô‰∏™ÂÄºË¢´‰øÆÊîπ‰∏∫5‰∫Ü„ÄÇ‰∏∫‰ªÄ‰πàvolatile‰øÆÈ•∞ÁöÑÊàêÂëòÂèòÈáèÂú®Á∫øÁ®ãÈó¥ÂÖ∑ÊúâÂèØËßÅÊÄßÂë¢ÔºüÂõ†‰∏∫ÈÄöËøávolatile‰øÆÈ•∞ÔºåÂØπÊ≠§ÂèòÈáèËøõË°åÂÜôÊìç‰ΩúÊó∂ÔºåÊ±áÁºñÊåá‰ª§‰∏≠‰ºöÊúâ‰∏Ä‰∏™LOCKÂâçÁºÄÊåá‰ª§ÔºåÂä†‰∫ÜËøô‰∏™Êåá‰ª§ÂêéÔºå‰ºöÂºïÂèë‰∏§‰ª∂‰∫ãÊÉÖÔºöÂ∞ÜÂΩìÂâçÂ§ÑÁêÜÂô®ÁºìÂ≠òË°åÁöÑÂÜÖÂÆπÂÜôÂõûÂà∞Á≥ªÁªüÂÜÖÂ≠òÔºå‰πüÂ∞±ÊòØÂº∫Âà∂Â∞ÜÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑÂÄºÂà∑Âõû‰∏ªÂÜÖÂ≠òÔºõËøô‰∏™ÂÜôÂõûÂà∞ÂÜÖÂ≠òÁöÑÊìç‰Ωú‰ºö‰ΩøÂæóÂú®ÂÖ∂‰ªñCPUÈáåÁºìÂ≠ò‰∫ÜËØ•ÂÜÖÂ≠òÂú∞ÂùÄÁöÑÊï∞ÊçÆÂ§±Êïà„ÄÇÂÖ∂‰ªñCPUÁºìÂ≠òÊï∞ÊçÆÂ§±ÊïàÔºåÂàô‰ºöÈáçÊñ∞ÂéªÂÜÖÂ≠ò‰∏≠ËØªÂèñÂÄºÔºå‰πüÂ∞±ÊòØË¢´‰øÆÊîπÁöÑÊï∞ÊçÆ„ÄÇÈÄöËøá‰∏äÈù¢Ëøô‰∏§‰∏™ÁâπÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•Á°ÆÂÆöÁöÑÊòØÔºåwriterÂØπÂÄºËøõË°å‰øÆÊîπÂπ∂Âà∑Âõû‰∏ªÂÜÖÂ≠òÂêéÔºåreaderÈáåINIT_VALUEÂÄºÁöÑÊã∑Ë¥ùÂ∞±Â§±Êïà‰∫ÜÔºåÊâÄ‰ª•readerÁ∫øÁ®ã‰ºöÂÜçÊ¨°‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠Ëé∑ÂèñINIT_VALUEÁöÑÂÄºÔºåËøôÊó∂ÂÄôËøô‰∏™ÂÄºÂ∑≤ÁªèÊòØË¢´writerÁ∫øÁ®ã‰øÆÊîπÂà∑Êñ∞ÂêéÁöÑÂÄº‰∫Ü„ÄÇÊúâÂ∫èÊÄßÊù•Áúã‰∏Ä‰∏™Á∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÂçï‰æãÂÆûÁé∞ÔºàÂèåÈáçÂêåÊ≠•ÈîÅÂçï‰æãÊ®°ÂºèÔºåÊõ¥Â§öÂÖ≥‰∫éÂçï‰æãÁöÑ‰ªãÁªçÂèØ‰ª•ÂèÇËÄÉÂçï‰æãÁöÑÂá†ÁßçÂÜôÊ≥ïÂíåÂØπÊØîÔºâ:123456789101112131415161718public class SingletonTest &#123; // ÁßÅÊúâÂåñÊûÑÈÄ†ÂáΩÊï∞ÔºåËÆ©Â§ñÈÉ®Ê≤°ÂäûÊ≥ïÁõ¥Êé•ÈÄöËøánewÊù•ÂàõÂª∫ private SingletonTest() &#123; &#125; // Âçï‰æãÂØπË±° private static SingletonTest instance = null; // ÈùôÊÄÅÂ∑•ÂéÇÊñπÊ≥ï public static SingletonTest getInstance() &#123; if (instance == null) &#123; // ÂèåÈáçÊ£ÄÊµã synchronized (SingletonTest.class) &#123; // ÂêåÊ≠•ÈîÅ if (instance == null) &#123; instance = new SingletonTest(); &#125; &#125; &#125; return instance; &#125;&#125;‰∏äÈù¢ÁöÑ‰æãÂ≠êËôΩÁÑ∂Âä†‰∫ÜÂêåÊ≠•ÈîÅÔºå‰ΩÜÊòØÂú®Â§öÁ∫øÁ®ã‰∏ãÂπ∂‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÁ¨¨12Ë°åinstance = new SingletonTest()Âú®ÂÆûÈôÖÊâßË°åÁöÑÊó∂ÂÄô‰ºöË¢´ÊãÜÂàÜ‰∏∫‰ª•‰∏ã‰∏â‰∏™Ê≠•È™§:ÂàÜÈÖçÂ≠òÂÇ®SingletonTestÂØπË±°ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºõÂàùÂßãÂåñSingletonTestÂØπË±°ÔºõÂ∞ÜinstanceÊåáÂêëÂàöÂàöÂàÜÈÖçÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÈÄöËøáJMMÁöÑÂ≠¶‰π†Êàë‰ª¨ÈÉΩÁü•ÈÅìÔºåÂú®ÊâßË°åÁ®ãÂ∫èÊó∂Ôºå‰∏∫‰∫ÜÊèêÈ´òÊÄßËÉΩÔºåÁºñËØëÂô®ÂíåÂ§ÑÁêÜÂô®Â∏∏Â∏∏‰ºöÂØπÊåá‰ª§ÂÅöÈáçÊéíÂ∫èÔºåÂõ†‰∏∫Á¨¨2Ê≠•ÂíåÁ¨¨3Ê≠•Âπ∂Ê≤°Êúâ‰æùËµñÂÖ≥Á≥ªÔºåÊâÄ‰ª•ÂèØËÉΩÂèëÁîüÈáçÊéíÂ∫èÔºåÊéíÂ∫èÂêéÁöÑÊ≠•È™§‰∏∫ÔºöÂàÜÈÖçÂ≠òÂÇ®SingletonTestÂØπË±°ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºõÂ∞ÜinstanceÊåáÂêëÂàöÂàöÂàÜÈÖçÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºõÂàùÂßãÂåñSingletonTestÂØπË±°„ÄÇÁªèËøáÈáçÊéíÂ∫èÂêéÔºå‰∏äÈù¢ÁöÑ‰æãÂ≠êÂú®Â§öÁ∫øÁ®ã‰∏ãÂ∞±‰ºöÂá∫Áé∞ÈóÆÈ¢ò„ÄÇÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏§‰∏™Á∫øÁ®ãAÂíåBÂêåÊó∂Ë∞ÉÁî®SingletonTest#getInstanceÔºåÁ∫øÁ®ãAÊâßË°åÂà∞‰∫Ü‰ª£Á†ÅÁöÑÁ¨¨12Ë°åinstance = new SingletonTest()ÔºåÂ∑≤ÁªèÂÆåÊàê‰∫ÜÂØπË±°ÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÂàÜÈÖçÂπ∂Â∞ÜinstanceÊåáÂêë‰∫ÜËØ•ÂÜÖÂ≠òÁ©∫Èó¥ÔºåÁ∫øÁ®ãBÊâßË°åÂà∞‰∫ÜÁ¨¨9Ë°åÔºåÂèëÁé∞instanceÂπ∂‰∏çÊòØnullÔºàÂõ†‰∏∫Â∑≤ÁªèÊåáÂêë‰∫ÜÂÜÖÂ≠òÁ©∫Èó¥ÔºâÔºåÊâÄ‰ª•Â∞±Áõ¥Êé•ËøîÂõûinstance‰∫Ü„ÄÇ‰ΩÜÊòØÁ∫øÁ®ãAÂπ∂ËøòÊ≤°ÊúâÊâßË°åÂàùÂßãÂåñSingletonTestÊìç‰ΩúÔºåÊâÄ‰ª•ÂÆûÈôÖÁ∫øÁ®ãBÊãøÂà∞ÁöÑSingletonTestÂÆû‰æãÊòØÁ©∫ÁöÑÔºåÈÇ£‰πàÁ∫øÁ®ãBÂêéÁª≠ÂØπSingletonTestÊìçÊéßÂ∞ÜÊäõÂá∫Á©∫ÊåáÈíàÂºÇÂ∏∏„ÄÇË¶ÅËÆ©‰∏äÈù¢ÁöÑ‰æãÂ≠êÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂè™ÈúÄË¶ÅÁî®volatile‰øÆÈ•∞Âçï‰æãÂØπË±°Âç≥ÂèØÔºö123456789101112131415161718public class SingletonTest &#123; // ÁßÅÊúâÂåñÊûÑÈÄ†ÂáΩÊï∞ÔºåËÆ©Â§ñÈÉ®Ê≤°ÂäûÊ≥ïÁõ¥Êé•ÈÄöËøánewÊù•ÂàõÂª∫ private SingletonTest() &#123; &#125; // Âçï‰æãÂØπË±° private volatile static SingletonTest instance = null; // ÈùôÊÄÅÂ∑•ÂéÇÊñπÊ≥ï public static SingletonTest getInstance() &#123; if (instance == null) &#123; // ÂèåÈáçÊ£ÄÊµã synchronized (SingletonTest.class) &#123; // ÂêåÊ≠•ÈîÅ if (instance == null) &#123; instance = new SingletonTest(); &#125; &#125; &#125; return instance; &#125;&#125;Âõ†‰∏∫ÈÄöËøávolatile‰øÆÈ•∞ÁöÑÊàêÂëòÂèòÈáè‰ºöÊ∑ªÂä†ÂÜÖÂ≠òÂ±èÈöúÊù•ÈòªÊ≠¢JVMËøõË°åÊåá‰ª§ÈáçÊéí‰ºòÂåñ„ÄÇÁ∫øÁ®ã‰∏çÂÆâÂÖ®‰∏æ‰∏™ÈÄíÂ¢ûÁöÑ‰æãÂ≠êÔºö1234567891011121314public class VolatileTest2 &#123; private volatile static int value; public static void main(String[] args) throws InterruptedException &#123; Thread thread1 = new Thread(() -&gt; IntStream.range(0, 500).forEach(i -&gt; value += 1)); Thread thread2 = new Thread(() -&gt; IntStream.range(0, 500).forEach(i -&gt; value += 1)); thread1.start(); thread2.start(); thread1.join(); thread2.join(); System.out.println(value); &#125;&#125;Â§öÊ¨°ËøêË°å‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºöÂèØ‰ª•ÁúãÂà∞ÊúÄÁªàÁöÑÂÄºÊúâÂèØËÉΩÂ∞è‰∫é1000„ÄÇvolatileÂèØ‰ª•‰øùËØÅ‰øÆÊîπÁöÑÂÄºËÉΩÂ§üÈ©¨‰∏äÊõ¥Êñ∞Âà∞‰∏ªÂÜÖÂ≠òÔºåÂÖ∂‰ªñÁ∫øÁ®ã‰πü‰ºöÊçïÊçâÂà∞Ë¢´‰øÆÊîπÂêéÁöÑÂÄºÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πà‰∏çËÉΩ‰øùËØÅÂéüÂ≠êÊÄßÂë¢ÔºüÂõ†‰∏∫Âú®Java‰∏≠ÔºåÂè™ÊúâÂØπÂü∫Êú¨Á±ªÂûãÁöÑËµãÂÄºÂíå‰øÆÊîπÊâçÊòØÂéüÂ≠êÊÄßÁöÑÔºåËÄåÂØπÂÖ±‰∫´ÂèòÈáèÁöÑ‰øÆÊîπÂπ∂‰∏çÊòØÂéüÂ≠êÊÄßÁöÑ„ÄÇÈÄöËøáJMMÂÜÖÂ≠ò‰∫§‰∫íÂçèËÆÆÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅìÔºå‰∏Ä‰∏™Á∫øÁ®ã‰øÆÊîπÂÖ±‰∫´ÂèòÈáèÁöÑÂÄºÈúÄË¶ÅÁªèËøá‰∏ãÈù¢Ëøô‰∫õÊ≠•È™§ÔºöÁ∫øÁ®ã‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠ËØªÂèñÔºàreadÔºâÂÖ±‰∫´ÂèòÈáèÁöÑÂÄºÔºåÁÑ∂ÂêéËΩΩÂÖ•ÔºàloadÔºâÂà∞Á∫øÁ®ãÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑÂèòÈáèÔºõ‰ΩøÁî®ÔºàuseÔºâÂ∑•‰ΩúÂÜÖÂ≠òÂèòÈáèÁöÑÂÄºÔºåÊâßË°åÂä†ÂáèÊìç‰ΩúÔºåÁÑ∂ÂêéÂ∞Ü‰øÆÊîπÂêéÁöÑÂÄºËµãÂÄºÔºàassignÔºâÁªôÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑÂèòÈáèÔºõÂ∞ÜÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠‰øÆÊîπÂêéÁöÑÂèòÈáèÁöÑÂÄºÂ≠òÂÇ®ÔºàstoreÔºâÂà∞‰∏ªÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂ÊâßË°åÂÜôÂÖ•ÔºàwriteÔºâÊìç‰Ωú„ÄÇÊâÄ‰ª•‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÂèØËÉΩÂá∫Áé∞‰∏ãÈù¢ËøôÁßçÊÉÖÂÜµÔºöthread1Âíåthread2ÂêåÊó∂Ëé∑Âèñ‰∫ÜvalueÁöÑÂÄºÔºåÊØîÂ¶Ç‰∏∫100„ÄÇthread1ÊâßË°å‰∫Ü+1Êìç‰ΩúÔºåÁÑ∂ÂêéÂÜôÂõû‰∏ªÂÜÖÂ≠òÔºåËøô‰∏™Êó∂ÂÄôthread2ÂàöÂ•ΩÊâßË°åÂÆåuseÊìç‰ΩúÔºà+1ÔºâÔºåÂáÜÂ§áÊâßË°åassignÔºàÂ∞Ü+1ÂêéÁöÑÂÄºÂÜôÂõûÂ∑•‰ΩúÂÜÖÂ≠òÂØπÂ∫îÁöÑÂèòÈáè‰∏≠ÔºâÊìç‰Ωú„ÄÇËôΩÁÑ∂ËøôÊó∂ÂÄôthread2Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠valueÂÄºÁöÑÊã∑Ë¥ùÊó†Êïà‰∫ÜÔºàÂõ†‰∏∫volatileÁöÑÁâπÊÄßÔºâÔºå‰ΩÜÊòØthread2Â∑≤ÁªèÊâßË°åÂÆå+1Êìç‰Ωú‰∫ÜÔºåÂÆÉÂπ∂‰∏çÈúÄË¶ÅÂÜç‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠Ëé∑ÂèñvalueÁöÑÂÄºÔºåÊâÄ‰ª•thread2ÂèØ‰ª•È°∫Âà©Âú∞Â∞Ü+1ÂêéÁöÑÂÄºËµãÂÄºÁªôÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑÂèòÈáèÔºåÁÑ∂ÂêéÂà∑Âõû‰∏ªÂ≠ò„ÄÇËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πà‰∏äÈù¢ÁöÑÁ¥ØÂä†ÁªìÊûúÂèØËÉΩ‰ºöÂ∞è‰∫é1000ÁöÑÂéüÂõ†„ÄÇË¶ÅËÆ©‰∏äÈù¢ÁöÑ‰æãÂ≠êÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑËØùÂèØ‰ª•Âä†ÂêåÊ≠•ÈîÅÔºåÊàñËÄÖ‰ΩøÁî®atomicÁ±ªÔºåÂêéÁª≠‰ºö‰ªãÁªçÂà∞„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JUC‰πãExchanger]]></title>
    <url>%2FJUC-Exchanger.html</url>
    <content type="text"><![CDATA[JUC‰∏≠ÁöÑExchangerÂÖÅËÆ∏ÊàêÂØπÁöÑÁ∫øÁ®ãÂú®ÊåáÂÆöÁöÑÂêåÊ≠•ÁÇπ‰∏äÈÄöËøáexchangeÊñπÊ≥ïÊù•‰∫§Êç¢Êï∞ÊçÆ„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™Á∫øÁ®ãÂÖàÊâßË°åexchangeÊñπÊ≥ïÔºåÂÆÉ‰ºö‰∏ÄÁõ¥Á≠âÂæÖÁ¨¨‰∫å‰∏™Á∫øÁ®ã‰πü ÊâßË°åexchangeÊñπÊ≥ïÔºåÂΩì‰∏§‰∏™Á∫øÁ®ãÈÉΩÂà∞ËææÂêåÊ≠•ÁÇπÊó∂ÔºåËøô‰∏§‰∏™Á∫øÁ®ãÂ∞±ÂèØ‰ª•‰∫§Êç¢Êï∞ÊçÆÔºåÂ∞ÜÂΩìÂâçÁ∫øÁ®ãÁîü‰∫ß Âá∫Êù•ÁöÑÊï∞ÊçÆ‰º†ÈÄíÁªôÂØπÊñπ„ÄÇExchangerÁ§∫‰æã‰∏§‰∏™Á∫øÁ®ãÈÄöËøáExchanger‰∫§Êç¢Êï∞ÊçÆÁöÑÁÆÄÂçïÁ§∫‰æãÔºö123456789101112131415161718192021222324252627public class ExchangerTest &#123; public static void main(String[] args) &#123; final Exchanger&lt;String&gt; exchanger = new Exchanger&lt;&gt;(); new Thread(() -&gt; &#123; System.out.println("thread1ÂºÄÂßã"); try &#123; String exchange = exchanger.exchange("Êù•Ëá™thread1ÁöÑÊï∞ÊçÆ"); System.out.println("Êé•Êî∂thread2ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread1ÁªìÊùü"); &#125;, "thread1").start(); new Thread(() -&gt; &#123; System.out.println("thread2ÂºÄÂßã"); try &#123; String exchange = exchanger.exchange("Êù•Ëá™thread2ÁöÑÊï∞ÊçÆ"); System.out.println("Êé•Êî∂thread1ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread2ÁªìÊùü"); &#125;, "thread2").start(); &#125;&#125;Âú®ÂÆö‰πâExchangerÁöÑÊó∂ÂÄôÈúÄË¶ÅÊåáÂÆö‰∫§Êç¢ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåËøôÈáå‰∏∫StringÁ±ªÂûã„ÄÇexchangeÊñπÊ≥ïÁî®‰∫éÂêëÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂèëÈÄÅÊï∞ÊçÆÔºåÊñπÊ≥ïÁöÑËøîÂõûÂÄº‰∏∫Âè¶‰∏Ä‰∏™Á∫øÁ®ãÂèëÈÄÅËøáÊù•ÁöÑÊï∞ÊçÆ„ÄÇ‰∏äÈù¢‰æãÂ≠êËæìÂá∫Â¶Ç‰∏ãÔºö123456thread1ÂºÄÂßãthread2ÂºÄÂßãÊé•Êî∂thread2ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºöÊù•Ëá™thread2ÁöÑÊï∞ÊçÆthread1ÁªìÊùüÊé•Êî∂thread1ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºöÊù•Ëá™thread1ÁöÑÊï∞ÊçÆthread2ÁªìÊùü‰∏äÈù¢ËØ¥ËøáÔºåÂè™ÊúâÂΩìÊàêÂØπÁöÑÁ∫øÁ®ãÈÉΩÂà∞ËææÂêåÊ≠•ÁÇπÁöÑÊó∂ÂÄôÔºåÊâç‰ºöÊâßË°åÊï∞ÊçÆ‰∫§Êç¢Êìç‰Ωú„ÄÇÁé∞Âú®Êàë‰ª¨ËÆ©thread2‰ºëÁú†‰∏Ä‰ºöÂÑøÔºåÁúãÁúãthread1ÊòØÂê¶‰ºöËøõÂÖ•Á≠âÂæÖÔºö12345678910111213141516171819202122232425262728public class ExchangerTest &#123; public static void main(String[] args) &#123; final Exchanger&lt;String&gt; exchanger = new Exchanger&lt;&gt;(); new Thread(() -&gt; &#123; System.out.println("thread1ÂºÄÂßã"); try &#123; String exchange = exchanger.exchange("Êù•Ëá™thread1ÁöÑÊï∞ÊçÆ"); System.out.println("Êé•Êî∂thread2ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread1ÁªìÊùü"); &#125;, "thread1").start(); new Thread(() -&gt; &#123; System.out.println("thread2ÂºÄÂßã"); try &#123; TimeUnit.SECONDS.sleep(3); // thread1‰πü‰ºöËøõÂÖ•Á≠âÂæÖÔºåÁõ¥Âà∞ÂèåÊñπÈÉΩÂáÜÂ§áÂ•Ω‰∫§Êç¢Êï∞ÊçÆ„ÄÇ String exchange = exchanger.exchange("Êù•Ëá™thread2ÁöÑÊï∞ÊçÆ"); System.out.println("Êé•Êî∂thread1ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread2ÁªìÊùü"); &#125;, "thread2").start(); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫ÔºöÈÇ£‰πàÂ¶ÇÊûúÁ∫øÁ®ã‰∏çÊàêÂØπ‰ºöÂá∫Áé∞‰ªÄ‰πàÊÉÖÂÜµÂë¢ÔºüÊàë‰ª¨Ê∑ªÂä†thread3Á∫øÁ®ãÔºö1234567891011121314151617181920212223242526272829303132333435363738public class ExchangerTest &#123; public static void main(String[] args) &#123; final Exchanger&lt;String&gt; exchanger = new Exchanger&lt;&gt;(); new Thread(() -&gt; &#123; System.out.println("thread1ÂºÄÂßã"); try &#123; String exchange = exchanger.exchange("ÂèëÈÄÅÊï∞ÊçÆ-thread1"); System.out.println("Êé•Êî∂Êï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread1ÁªìÊùü"); &#125;, "thread1").start(); new Thread(() -&gt; &#123; System.out.println("thread2ÂºÄÂßã"); try &#123; String exchange = exchanger.exchange("ÂèëÈÄÅÊï∞ÊçÆ-thread2"); System.out.println("Êé•Êî∂Êï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread2ÁªìÊùü"); &#125;, "thread2").start(); new Thread(() -&gt; &#123; System.out.println("thread3ÂºÄÂßã"); try &#123; String exchange = exchanger.exchange("ÂèëÈÄÅÊï∞ÊçÆ-thread3"); System.out.println("Êé•Êî∂Êï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread3ÁªìÊùü"); &#125;, "thread3").start(); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567thread1ÂºÄÂßãthread3ÂºÄÂßãÊé•Êî∂Êï∞ÊçÆÔºöÂèëÈÄÅÊï∞ÊçÆ-thread1thread3ÁªìÊùüthread2ÂºÄÂßãÊé•Êî∂Êï∞ÊçÆÔºöÂèëÈÄÅÊï∞ÊçÆ-thread3thread1ÁªìÊùüÂèØÁúãÂà∞thread1Âíåthread3‰∫§Êç¢‰∫ÜÊï∞ÊçÆÁÑ∂ÂêéÊ≠£Â∏∏ÂÅúÊ≠¢‰∫ÜÔºåËÄåthread2Áî±‰∫éÊ≤°ÊúâÁ∫øÁ®ãÂíåÂÆÉ‰∫§Êç¢Êï∞ÊçÆËÄåËã¶Ëã¶Á≠âÂæÖÔºåÁ∫øÁ®ãÊ∞∏Ëøú‰∏ç‰ºöÂÅúÊ≠¢„ÄÇÊü•ÁúãÁ∫øÁ®ãÂø´ÁÖßÂèØ‰ª•ËØÅÊòéËøôÁÇπÔºöÁ∫øÁ®ãÂåπÈÖçÊòØÈöèÊú∫ÁöÑÔºåÊâÄ‰ª•‰πüÊúâÂèØËÉΩthread1Âíåthread2ÂåπÈÖçÔºåthread3ËøõÂÖ•Êó†‰ºëÊ≠¢ÁöÑÁ≠âÂæÖÔºåËøôÂ∞±Á±ª‰ºº‰∫é‚Ä¶Âè¶‰∏Ä‰∏™ÂÄºÂæó‰∏ÄÊèêÁöÑÁÇπÂ∞±ÊòØÈÄöËøáExchanger‰∫§Êç¢ÁöÑÊòØÂêå‰∏Ä‰∏™ÂØπË±°ÔºåËÄå‰∏çÊòØÂØπË±°ÁöÑÊã∑Ë¥ùÔºö12345678910111213141516171819202122232425262728293031public class ExchangerTest &#123; public static void main(String[] args) &#123; final Exchanger&lt;Object&gt; exchanger = new Exchanger&lt;&gt;(); new Thread(() -&gt; &#123; System.out.println("thread1ÂºÄÂßã"); Object object = new Object(); System.out.println("thread1ÂèëÈÄÅÊï∞ÊçÆÔºö" + object); try &#123; Object exchange = exchanger.exchange(object); System.out.println("Êé•Êî∂thread2ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread1ÁªìÊùü"); &#125;, "thread1").start(); new Thread(() -&gt; &#123; System.out.println("thread2ÂºÄÂßã"); Object object = new Object(); System.out.println("thread2ÂèëÈÄÅÊï∞ÊçÆÔºö" + object); try &#123; Object exchange = exchanger.exchange(object); System.out.println("Êé•Êî∂thread1ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread2ÁªìÊùü"); &#125;, "thread2").start(); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12345678thread1ÂºÄÂßãthread2ÂºÄÂßãthread2ÂèëÈÄÅÊï∞ÊçÆÔºöjava.lang.Object@6d559005thread1ÂèëÈÄÅÊï∞ÊçÆÔºöjava.lang.Object@7702c19Êé•Êî∂thread2ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºöjava.lang.Object@6d559005Êé•Êî∂thread1ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºöjava.lang.Object@7702c19thread2ÁªìÊùüthread1ÁªìÊùüÂèØ‰ª•ÁúãÂà∞thread1ÂèëÈÄÅÁöÑÂØπË±°Âíåthread2Êé•Êî∂ÁöÑÂØπË±°Âè•ÊüÑÊòØ‰∏ÄËá¥ÁöÑ„ÄÇËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥Â¶ÇÊûú‰∏çÊÉ≥Á∫øÁ®ãÂú®‰∫§Êç¢Êï∞ÊçÆÁöÑÊó∂ÂÄôÁ≠âÂæÖËøáÈïøÁöÑÊó∂Èó¥ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®exchangerÁöÑÈáçËΩΩÊñπÊ≥ïexchange(V x, long timeout, TimeUnit unit)Êù•ÊåáÂÆöË∂ÖÊó∂Êó∂Èó¥Ôºö12345678910111213141516171819202122232425262728public class ExchangerTest &#123; public static void main(String[] args) &#123; final Exchanger&lt;String&gt; exchanger = new Exchanger&lt;&gt;(); new Thread(() -&gt; &#123; System.out.println("thread1ÂºÄÂßã"); try &#123; String exchange = exchanger.exchange("Êù•Ëá™thread1ÁöÑÊï∞ÊçÆ", 5, TimeUnit.SECONDS); System.out.println("Êé•Êî∂thread2ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException | TimeoutException e) &#123; e.printStackTrace(); &#125; System.out.println("thread1ÁªìÊùü"); &#125;, "thread1").start(); new Thread(() -&gt; &#123; System.out.println("thread2ÂºÄÂßã"); try &#123; TimeUnit.SECONDS.sleep(10); String exchange = exchanger.exchange("Êù•Ëá™thread2ÁöÑÊï∞ÊçÆ"); System.out.println("Êé•Êî∂thread1ÂèëÈÄÅÁöÑÊï∞ÊçÆÔºö" + exchange); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println("thread2ÁªìÊùü"); &#125;, "thread2").start(); &#125;&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠Ôºåthread2‰ºëÁú†10ÁßíÂêéÊâçÂºÄÂßã‰∫§Êç¢Êï∞ÊçÆÔºåËÄåthread1Âú®Á≠âÂæÖ5ÁßíÂêéÊ≤°ËÉΩÊàêÂäü‰∫§Êç¢Êï∞ÊçÆÂ∞±ÊäõÂá∫TimeoutExceptionÂºÇÂ∏∏‰∫Ü„ÄÇ10ÁßíÂêéÁî±‰∫éÊ≤°ÊúâÁ∫øÁ®ãÂÜçÂíåthread2‰∫§Êç¢Êï∞ÊçÆÔºåÊâÄ‰ª•thread2‰ºö‰∏ÄÁõ¥Á≠âÂæÖÔºö]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JUC‰πãCyclicBarrier]]></title>
    <url>%2FJUC-CyclicBarrier.html</url>
    <content type="text"><![CDATA[CyclicBarrierÁöÑÂ≠óÈù¢ÊÑèÊÄùÊòØÂèØÂæ™ÁéØ‰ΩøÁî®ÔºàCyclicÔºâÁöÑÂ±èÈöúÔºàBarrierÔºâ„ÄÇÂÆÉË¶ÅÂÅöÁöÑ‰∫ãÊÉÖÊòØÔºåËÆ©‰∏ÄÁªÑÁ∫øÁ®ãÂà∞Ëææ‰∏Ä‰∏™Â±èÈöúÔºà‰πüÂèØ‰ª•Âè´ÂêåÊ≠•ÁÇπÔºâÊó∂Ë¢´ÈòªÂ°ûÔºåÁõ¥Âà∞ÊúÄÂêé‰∏Ä‰∏™Á∫øÁ®ãÂà∞ËææÂ±èÈöúÊó∂ÔºåÂ±èÈöúÊâç‰ºöÂºÄÈó®ÔºåÊâÄÊúâË¢´Â±èÈöúÊã¶Êà™ÁöÑÁ∫øÁ®ãÊâç‰ºöÁªßÁª≠ËøêË°å„ÄÇCyclicBarrierÈªòËÆ§ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÊòØCyclicBarrier(int parties)ÔºåÂÖ∂ÂèÇÊï∞Ë°®Á§∫Â±èÈöúÊã¶Êà™ÁöÑÁ∫øÁ®ãÊï∞ÈáèÔºåÊØè‰∏™Á∫øÁ®ãË∞ÉÁî®awaitÊñπÊ≥ïÂëäËØâCyclicBarrierÊàëÂ∑≤ÁªèÂà∞Ëææ‰∫ÜÂ±èÈöúÔºåÁÑ∂ÂêéÂΩìÂâçÁ∫øÁ®ãË¢´ÈòªÂ°û„ÄÇCyclicBarrierÁ§∫‰æã‰ΩøÁî®‚Äú‰∫∫Êª°ÂèëËΩ¶‚ÄùÁöÑ‰æãÂ≠êÊù•ÊºîÁ§∫CyclicBarrierÔºö12345678910111213141516171819202122232425262728public class CyclicBarrierTest &#123; public static void main(String[] args) &#123; CyclicBarrier barrier = new CyclicBarrier(2); System.out.println("Âø´‰∏äËΩ¶Êù•‰∏çÂèäËß£Èáä‰∫Ü"); new Thread(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread() + "Â∑≤‰∏äËΩ¶"); barrier.await(); System.out.println("ÊâÄÊúâ‰∫∫Â∑≤‰∏äËΩ¶ÔºåÂèëËΩ¶"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "Jane").start(); new Thread(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(3); System.out.println(Thread.currentThread() + "Â∑≤‰∏äËΩ¶"); barrier.await(); System.out.println("ÊâÄÊúâ‰∫∫Â∑≤‰∏äËΩ¶ÔºåÂèëËΩ¶"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "Mike").start(); &#125;&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠Êàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Á≠âÂæÖ2‰∏™Á∫øÁ®ãÂÆåÊàêÁöÑCyclicBarrierÔºåÂú®‰∏§‰∏™Á∫øÁ®ãÂÜÖÈÉ®Ë∞ÉÁî®‰∫ÜawaitÊñπÊ≥ïÔºåËÆ©ÂÖ∂ÈòªÂ°ûÁ≠âÂæÖÔºåÂπ∂ÂëäÁü•CyclicBarrierÊàëÂ∑≤ÁªèÂà∞ËææÂ±èÈöú‰∫Ü„ÄÇÂè™ÊúâÂΩì‰∏§‰∏™Á∫øÁ®ãÈÉΩÊâßË°åÂà∞barrier.await()Ëøô‰∏ÄË°åÊó∂ÔºåÂ±èÈöúÂºÄÂêØÔºåÁ∫øÁ®ãÊâç‰ºöÁªßÁª≠ÂæÄ‰∏ãÊâßË°å„ÄÇÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö12345Âø´‰∏äËΩ¶Êù•‰∏çÂèäËß£Èáä‰∫ÜThread[Mike,5,main]Â∑≤‰∏äËΩ¶Thread[Jane,5,main]Â∑≤‰∏äËΩ¶ÊâÄÊúâ‰∫∫Â∑≤‰∏äËΩ¶ÔºåÂèëËΩ¶ÊâÄÊúâ‰∫∫Â∑≤‰∏äËΩ¶ÔºåÂèëËΩ¶CyclicBarrierÁöÑÊûÑÈÄ†ÂáΩÊï∞ÊîØÊåÅ‰º†ÂÖ•‰∏Ä‰∏™ÂõûË∞ÉÊñπÊ≥ïÔºö123CyclicBarrier barrier = new CyclicBarrier(n, () -&gt; &#123; System.out.println("ÂΩìÊâÄÊúâÁ∫øÁ®ãÂà∞ËææÂ±èÈöúÊó∂ÔºåÊâßË°åËØ•ÂõûË∞É");&#125;);ÊîπÈÄ†‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºö12345678910111213141516171819202122232425262728293031public class CyclicBarrierTest &#123; public static void main(String[] args) &#123; CyclicBarrier barrier = new CyclicBarrier(2, new Thread(() -&gt; &#123; System.out.println("ÂèëËΩ¶ÔºåÂòüÂòüÂòü"); &#125;)); System.out.println("Âø´‰∏äËΩ¶Êù•‰∏çÂèäËß£Èáä‰∫Ü"); new Thread(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(5); System.out.println(Thread.currentThread() + "Â∑≤‰∏äËΩ¶"); barrier.await(); System.out.println("ÊâÄÊúâ‰∫∫Â∑≤‰∏äËΩ¶"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "Jane").start(); new Thread(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(3); System.out.println(Thread.currentThread() + "Â∑≤‰∏äËΩ¶"); barrier.await(); System.out.println("ÊâÄÊúâ‰∫∫Â∑≤‰∏äËΩ¶"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "Mike").start(); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö123456Âø´‰∏äËΩ¶Êù•‰∏çÂèäËß£Èáä‰∫ÜThread[Mike,5,main]Â∑≤‰∏äËΩ¶Thread[Jane,5,main]Â∑≤‰∏äËΩ¶ÂèëËΩ¶ÔºåÂòüÂòüÂòüÊâÄÊúâ‰∫∫Â∑≤‰∏äËΩ¶ÔºåÂèëËΩ¶ÊâÄÊúâ‰∫∫Â∑≤‰∏äËΩ¶ÔºåÂèëËΩ¶ËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥awaitÁöÑÈáçËΩΩÊñπÊ≥ïÔºöawait(long timeout, TimeUnit unit)ÂèØ‰ª•ËÆæÁΩÆÊúÄÂ§ßÁ≠âÂæÖÊó∂ÈïøÔºåË∂ÖÂá∫Ëøô‰∏™Êó∂Èó¥Â±èÈöúËøòÊ≤°ÊúâÂºÄÂêØÁöÑËØùÂàôÊäõÂá∫TimeoutExceptionÔºö1234567891011121314151617181920212223242526public class CyclicBarrierTest2 &#123; public static void main(String[] args) throws InterruptedException &#123; CyclicBarrier barrier = new CyclicBarrier(2); new Thread(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(3); barrier.await(); System.out.println(Thread.currentThread() + "ÁªßÁª≠ÊâßË°å"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "thread1").start(); new Thread(() -&gt; &#123; try &#123; barrier.await(1, TimeUnit.SECONDS); System.out.println(Thread.currentThread() + "ÁªßÁª≠ÊâßË°å"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; catch (TimeoutException e) &#123; e.printStackTrace(); &#125; &#125;, "thread2").start(); &#125;&#125;BrokenBarrierExceptionÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏Êó∂Ë°®Á§∫Â±èÈöúÁ†¥ÊçüÔºåÊ≠§Êó∂Ê†áÂøó‰Ωçbroken=true„ÄÇÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏ÁöÑÊÉÖÂÜµ‰∏ªË¶ÅÊúâÔºöÂÖ∂‰ªñÁ≠âÂæÖÁöÑÁ∫øÁ®ãË¢´‰∏≠Êñ≠ÔºåÂàôÂΩìÂâçÁ∫øÁ®ãÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏ÔºõÂÖ∂‰ªñÁ≠âÂæÖÁöÑÁ∫øÁ®ãË∂ÖÊó∂ÔºåÂàôÂΩìÂâçÁ∫øÁ®ãÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏ÔºõÂΩìÂâçÁ∫øÁ®ãÂú®Á≠âÂæÖÊó∂ÔºåÂÖ∂‰ªñÁ∫øÁ®ãË∞ÉÁî®CyclicBarrier.reset()ÊñπÊ≥ïÔºåÂàôÂΩìÂâçÁ∫øÁ®ãÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏„ÄÇÊ®°ÊãüÁ¨¨1ÁßçÊÉÖÂÜµÔºåÂÖ∂‰ªñÁ≠âÂæÖÁöÑÁ∫øÁ®ãË¢´‰∏≠Êñ≠ÔºåÂàôÂΩìÂâçÁ∫øÁ®ãÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏Ôºö12345678910111213141516171819202122232425262728293031public class CyclicBarrierTest2 &#123; public static void main(String[] args) throws InterruptedException &#123; CyclicBarrier barrier = new CyclicBarrier(2); new Thread(() -&gt; &#123; try &#123; System.out.println(Thread.currentThread() + "ÂºÄÂßãÊâßË°å"); TimeUnit.SECONDS.sleep(3); barrier.await(); System.out.println(Thread.currentThread() + "ÁªßÁª≠ÊâßË°å"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "thread1").start(); Thread thread2 = new Thread(() -&gt; &#123; try &#123; System.out.println(Thread.currentThread() + "ÂºÄÂßãÊâßË°å"); TimeUnit.SECONDS.sleep(1); barrier.await(); System.out.println(Thread.currentThread() + "ÁªßÁª≠ÊâßË°å"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "thread2"); thread2.start(); TimeUnit.SECONDS.sleep(2); thread2.interrupt(); &#125;&#125;ËæìÂá∫Ôºö‰∏äÈù¢‰æãÂ≠ê‰∏≠thread2Á∫øÁ®ãÁù°Áú†1ÁßíÂêéÂÖàÂà∞ËææÂ±èÈöúÁÇπÔºåÁÑ∂ÂêéËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅ„ÄÇ2ÁßíÂêémainÁ∫øÁ®ãÊâßË°åthread2.interrupt()‰∏≠Êñ≠Á≠âÂæÖ‰∏≠ÁöÑthread2Á∫øÁ®ãÔºåÊâÄ‰ª•Á®ãÂ∫èÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏„ÄÇ3ÁßíÂêéthread1Á∫øÁ®ãÂà∞ËææÂ±èÈöúÁÇπÔºåÊ≠§Êó∂Â±èÈöúÂ∑≤ÁªèË¢´Á†¥Âùè‰∫ÜÔºåÊâÄ‰ª•‰πüÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏„ÄÇÊ®°ÊãüÁ¨¨2ÁßçÊÉÖÂÜµÔºöÂÖ∂‰ªñÁ≠âÂæÖÁöÑÁ∫øÁ®ãË∂ÖÊó∂ÔºåÂàôÂΩìÂâçÁ∫øÁ®ãÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏Ôºö123456789101112131415161718192021222324252627public class CyclicBarrierTest2 &#123; public static void main(String[] args) throws InterruptedException &#123; CyclicBarrier barrier = new CyclicBarrier(2); new Thread(() -&gt; &#123; try &#123; System.out.println(Thread.currentThread() + "ÂºÄÂßãÊâßË°å"); TimeUnit.SECONDS.sleep(3); barrier.await(); System.out.println(Thread.currentThread() + "ÁªßÁª≠ÊâßË°å"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "thread1").start(); new Thread(() -&gt; &#123; try &#123; System.out.println(Thread.currentThread() + "ÂºÄÂßãÊâßË°å"); TimeUnit.SECONDS.sleep(1); barrier.await(1, TimeUnit.SECONDS); System.out.println(Thread.currentThread() + "ÁªßÁª≠ÊâßË°å"); &#125; catch (InterruptedException | BrokenBarrierException | TimeoutException e) &#123; e.printStackTrace(); &#125; &#125;, "thread2").start(); &#125;&#125;ËæìÂá∫Ôºö‰∏äÈù¢‰æãÂ≠ê‰∏≠thread2Áù°Áú†1ÁßíÂêéÂà∞ËææÂ±èÈöúÁÇπÔºåÁÑ∂ÂêéËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅÔºàÊúÄÂ§öÁ≠âÂæÖ1ÁßíÔºâÔºåÁÑ∂ËÄåÂõ†‰∏∫thread1Ë¶Å3ÁßíÂêéÊâçËÉΩÂà∞ËææÂ±èÈöúÁÇπÔºåÊâÄ‰ª•thread2Â∞ÜÊäõÂá∫TimeoutException„ÄÇ3ÁßíÂêéÔºåthread1Âà∞ËææÂ±èÈöúÁÇπÔºå‰ΩÜËøôÊó∂ÂÄôÁî±‰∫éthread2ÁöÑawaitÊñπÊ≥ïÊäõÂá∫ÁöÑÂºÇÂ∏∏Á†¥Âùè‰∫ÜÂ±èÈöúÔºåÊâÄ‰ª•thread1Â∞ÜÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏„ÄÇÊ®°ÊãüÁ¨¨3‰∏≠ÊÉÖÂÜµÔºöÂΩìÂâçÁ∫øÁ®ãÂú®Á≠âÂæÖÊó∂ÔºåÂÖ∂‰ªñÁ∫øÁ®ãË∞ÉÁî®CyclicBarrier.reset()ÊñπÊ≥ïÔºåÂàôÂΩìÂâçÁ∫øÁ®ãÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏Ôºö1234567891011121314151617181920212223242526272829303132public class CyclicBarrierTest2 &#123; public static void main(String[] args) throws InterruptedException &#123; CyclicBarrier barrier = new CyclicBarrier(2); new Thread(() -&gt; &#123; try &#123; System.out.println(Thread.currentThread() + "ÂºÄÂßãÊâßË°å"); TimeUnit.SECONDS.sleep(3); barrier.await(); System.out.println(Thread.currentThread() + "ÁªßÁª≠ÊâßË°å"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "thread1").start(); new Thread(() -&gt; &#123; try &#123; System.out.println(Thread.currentThread() + "ÂºÄÂßãÊâßË°å"); TimeUnit.SECONDS.sleep(1); barrier.await(); System.out.println(Thread.currentThread() + "ÁªßÁª≠ÊâßË°å"); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; &#125;, "thread2").start(); TimeUnit.SECONDS.sleep(2); System.out.println(barrier.getNumberWaiting()); barrier.reset(); &#125;&#125;ËæìÂá∫Ôºö‰∏äÈù¢‰æãÂ≠ê‰∏≠Ôºåthread2Áù°Áú†1ÁßíÂêéÂà∞ËææÂ±èÈöúÁÇπÔºåÁÑ∂ÂêéËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅ„ÄÇ2ÁßíÂêémainÁ∫øÁ®ãË∞ÉÁî®resetÊñπÊ≥ïÈáçÁΩÆ‰∫ÜÂ±èÈöúÔºåÊâÄ‰ª•Âú®Á≠âÂæÖÁä∂ÊÄÅ‰∏≠ÁöÑthread2ÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏„ÄÇ3ÁßíÂêéÔºåthread1Âà∞ËææÂ±èÈöúÁÇπÔºåÁî±‰∫éresetÊñπÊ≥ïÈáçÁΩÆ‰∫ÜÂ±èÈöúÔºåÊâÄ‰ª•thread1Âπ∂‰∏ç‰ºöÊäõÂá∫BrokenBarrierExceptionÂºÇÂ∏∏ÔºåËÄåÊòØ‰∏ÄÁõ¥Âú®Â±èÈöúÁÇπËøõË°åÁ≠âÂæÖÂà´ÁöÑÁ∫øÁ®ãÂà∞ËææÂ±èÈöúÁÇπ„ÄÇ‰ªé‰∏äÈù¢ÁöÑ‰∏â‰∏™‰æãÂ≠ê‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÊó†ËÆ∫ÊòØÂì™ÁßçÊÉÖÂÜµÂØºËá¥Â±èÈöúÁ†¥ÂùèÔºåÂ±èÈöúÁÇπÂêéÈù¢ÁöÑ‰ª£Á†ÅÈÉΩÊ≤°ÊúâË¢´ÊâßË°åÔºåmainÊñπÊ≥ï‰πüÊ≤°ÊúâÈÄÄÂá∫„ÄÇÂíåCountDownLatchÂå∫Âà´CountDownLatchÔºö‰∏Ä‰∏™Á∫øÁ®ã(ÊàñËÄÖÂ§ö‰∏™)ÔºåÁ≠âÂæÖÂè¶Â§ñN‰∏™Á∫øÁ®ãÂÆåÊàêÊüê‰∏™‰∫ãÊÉÖ‰πãÂêéÊâçËÉΩÊâßË°åÔºõCyclicBarrierÔºöN‰∏™Á∫øÁ®ãÁõ∏‰∫íÁ≠âÂæÖÔºå‰ªª‰Ωï‰∏Ä‰∏™Á∫øÁ®ãÂÆåÊàê‰πãÂâçÔºåÊâÄÊúâÁöÑÁ∫øÁ®ãÈÉΩÂøÖÈ°ªÁ≠âÂæÖ„ÄÇCountDownLatchÔºö‰∏ÄÊ¨°ÊÄßÁöÑÔºõCyclicBarrierÔºöÂèØ‰ª•ÈáçÂ§ç‰ΩøÁî®„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JUC‰πãCountDownLatch]]></title>
    <url>%2FJUC-CountDownLatch.html</url>
    <content type="text"><![CDATA[CountDownLatchÂÖÅËÆ∏‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÁ≠âÂæÖÂÖ∂‰ªñÁ∫øÁ®ãÂÆåÊàêÊìç‰Ωú„ÄÇÂÆö‰πâCountDownLatchÁöÑÊó∂ÂÄôÔºåÈúÄË¶Å‰º†ÂÖ•‰∏Ä‰∏™Ê≠£Êï∞Êù•ÂàùÂßãÂåñËÆ°Êï∞Âô®ÔºàËôΩÁÑ∂‰º†ÂÖ•0‰πüÂèØ‰ª•Ôºå‰ΩÜËøôÊ†∑ÁöÑËØùCountDownLatchÊ≤°‰ªÄ‰πàÂÆûÈôÖÊÑè‰πâÔºâ„ÄÇÂÖ∂countDownÊñπÊ≥ïÁî®‰∫éÈÄíÂáèËÆ°Êï∞Âô®ÔºåawaitÊñπÊ≥ï‰ºö‰ΩøÂΩìÂâçÁ∫øÁ®ãÈòªÂ°ûÔºåÁõ¥Âà∞ËÆ°Êï∞Âô®ÈÄíÂáè‰∏∫0„ÄÇÊâÄ‰ª•CountDownLatchÂ∏∏Áî®‰∫éÂ§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÁöÑÂçèË∞ÉÂ∑•‰Ωú„ÄÇCountDownLatchÁ§∫‰æãÂÅáËÆæÊàë‰ª¨Áé∞Âú®ÊúâËøôÊ†∑‰∏Ä‰∏™ÈúÄÊ±ÇÔºö‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÊï∞ÊçÆÂØπËøôÊâπÊï∞ÊçÆËøõË°åÂ§ÑÁêÜ‰øùÂ≠òËøôÊâπÊï∞ÊçÆ‰∏∫‰∫ÜËÆ©Á®ãÂ∫èÊâßË°åÊïàÁéáÊõ¥È´òÔºåÁ¨¨2Ê≠•‰∏≠Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â§öÁ∫øÁ®ãÊù•Âπ∂Ë°åÂ§ÑÁêÜËøôÊâπÊï∞ÊçÆÔºåÂ§ßËá¥ËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324252627282930313233public class CountDownLatchTest &#123; public static void main(String[] args) throws InterruptedException &#123; // 1. Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÊï∞ÊçÆ int[] data = query(); System.out.println("Ëé∑ÂèñÊï∞ÊçÆÂÆåÊØï"); // 2. Êï∞ÊçÆÂ§ÑÁêÜ IntStream.range(0, data.length).forEach(i -&gt; &#123; ExecutorService.execute(() -&gt; &#123; System.out.println(Thread.currentThread() + "Â§ÑÁêÜÁ¨¨" + (i + 1) + "Êù°Êï∞ÊçÆ"); int value = data[i]; if (value % 2 == 0) &#123; data[i] = value * 2; &#125; else &#123; data[i] = value * 10; &#125; &#125;); &#125;); System.out.println("ÊâÄÊúâÊï∞ÊçÆÈÉΩÂ§ÑÁêÜÂÆå‰∫Ü"); // ÂÖ≥Èó≠Á∫øÁ®ãÊ±† ExecutorService.shutdown(); // 3. ‰øùÂ≠òÊï∞ÊçÆ save(data); &#125; private static int[] query() &#123; return new int[]&#123;1, 2, 3, 4, 5, 6, 7, 8, 9, 10&#125;; &#125; private static void save(int[] data) &#123; System.out.println("‰øùÂ≠òÊï∞ÊçÆ - " + Arrays.toString(data)); &#125;&#125;Áî±‰∫éÁ∫øÁ®ãËé∑ÂèñCPUÊó∂Èó¥ÁâáÁöÑ‰∏çÁ°ÆÂÆöÊÄßÔºåÊâÄ‰ª•ÊúâÂèØËÉΩÊï∞ÊçÆËøòÊ≤°ÊúâÂ§ÑÁêÜÂÆåÊØïÔºåÁ¨¨3Ê≠•Â∞±ÊâßË°åÂÆå‰∫ÜÔºö12345678910111213Ëé∑ÂèñÊï∞ÊçÆÂÆåÊØïÊâÄÊúâÊï∞ÊçÆÈÉΩÂ§ÑÁêÜÂÆå‰∫Ü‰øùÂ≠òÊï∞ÊçÆ - [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]Thread[pool-1-thread-2,5,main]Â§ÑÁêÜÁ¨¨2Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨1Êù°Êï∞ÊçÆThread[pool-1-thread-2,5,main]Â§ÑÁêÜÁ¨¨3Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨4Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨6Êù°Êï∞ÊçÆThread[pool-1-thread-2,5,main]Â§ÑÁêÜÁ¨¨5Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨7Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨9Êù°Êï∞ÊçÆThread[pool-1-thread-2,5,main]Â§ÑÁêÜÁ¨¨8Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨10Êù°Êï∞ÊçÆÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä©CountDownLatchËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºö12345678910111213141516171819202122232425262728293031323334353637public class CountDownLatchTest &#123; private static ExecutorService ExecutorService = Executors.newFixedThreadPool(2); private static CountDownLatch latch = new CountDownLatch(10); public static void main(String[] args) throws InterruptedException &#123; // 1. Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÊï∞ÊçÆ int[] data = query(); System.out.println("Ëé∑ÂèñÊï∞ÊçÆÂÆåÊØï"); // 2. Êï∞ÊçÆÂ§ÑÁêÜ IntStream.range(0, data.length).forEach(i -&gt; &#123; ExecutorService.execute(() -&gt; &#123; System.out.println(Thread.currentThread() + "Â§ÑÁêÜÁ¨¨" + (i + 1) + "Êù°Êï∞ÊçÆ"); int value = data[i]; if (value % 2 == 0) &#123; data[i] = value * 2; &#125; else &#123; data[i] = value * 10; &#125; latch.countDown(); &#125;); &#125;); latch.await(); System.out.println("ÊâÄÊúâÊï∞ÊçÆÈÉΩÂ§ÑÁêÜÂÆå‰∫Ü"); // ÂÖ≥Èó≠Á∫øÁ®ãÊ±† ExecutorService.shutdown(); // 3. ‰øùÂ≠òÊï∞ÊçÆ save(data); &#125; private static int[] query() &#123; return new int[]&#123;1, 2, 3, 4, 5, 6, 7, 8, 9, 10&#125;; &#125; private static void save(int[] data) &#123; System.out.println("‰øùÂ≠òÊï∞ÊçÆ - " + Arrays.toString(data)); &#125;&#125;Êàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™CountDownLatchÔºåËÆ°Êï∞Âô®ÂÄº‰∏∫10ÔºåÂíåÊï∞ÊçÆÈáè‰∏ÄËá¥„ÄÇÁÑ∂ÂêéÂú®Á¨¨2Ê≠•‰∏≠ÔºåÂΩìÊØè‰∏™Á∫øÁ®ãÊâßË°åÂÆåÊØïÁöÑÊó∂ÂÄôË∞ÉÁî®countDownÊñπÊ≥ïÔºåËÆ©ËÆ°Êï∞Âô®Âáè1„ÄÇÂú®Á¨¨3Ê≠•ÂâçË∞ÉÁî®awaitÊñπÊ≥ïËÆ©mainÁ∫øÁ®ãÈòªÂ°ûÁ≠âÂæÖÔºåÁõ¥Âà∞ËÆ°Êï∞Âô®Ë¢´Âáè‰∏∫0„ÄÇÊâÄ‰ª•ËøôÂ∞±‰øùËØÅ‰∫ÜÂè™ÊúâÂΩìÊâÄÊúâÊï∞ÊçÆÂä†Â∑•ÂÆåÊØïÊâçÊâßË°å‰øùÂ≠òÊï∞ÊçÆÊìç‰Ωú„ÄÇÊâßË°åÊñπÊ≥ïÔºåÁ®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213Ëé∑ÂèñÊï∞ÊçÆÂÆåÊØïThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨1Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨3Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨4Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨5Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨6Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨7Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨8Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨9Êù°Êï∞ÊçÆThread[pool-1-thread-1,5,main]Â§ÑÁêÜÁ¨¨10Êù°Êï∞ÊçÆThread[pool-1-thread-2,5,main]Â§ÑÁêÜÁ¨¨2Êù°Êï∞ÊçÆÊâÄÊúâÊï∞ÊçÆÈÉΩÂ§ÑÁêÜÂÆå‰∫Ü‰øùÂ≠òÊï∞ÊçÆ - [10, 4, 30, 8, 50, 12, 70, 16, 90, 20]awaitÊúâÈáçËΩΩÊñπÊ≥ïÔºöawait(long timeout, TimeUnit unit)ÔºåËÆæÁΩÆÊúÄÂ§ßÁ≠âÂæÖÊó∂Èó¥ÔºåË∂ÖËøáËøô‰∏™Êó∂Èó¥Á®ãÂ∫èÂ∞ÜÁªßÁª≠ÊâßË°å‰∏çÂÜçË¢´ÈòªÂ°ûÔºö123456789101112131415161718public class CountDownLatchTest &#123; public static void main(String[] args) throws InterruptedException &#123; final CountDownLatch latch = new CountDownLatch(1); new Thread(() -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(4); System.out.println(Thread.currentThread() + "Á∫øÁ®ãÊâßË°åÂÆåÊØï"); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; finally &#123; latch.countDown(); &#125; &#125;, "thread1").start(); latch.await(3, TimeUnit.SECONDS); // ÊúÄÂ§öÁ≠âÂæÖ 3Áßí System.out.println("mainÁ∫øÁ®ãÊâßË°åÂÆåÊØï"); &#125;&#125;ËæìÂá∫Â¶Ç‰∏ãÔºö12mainÁ∫øÁ®ãÊâßË°åÂÆåÊØïThread[thread1,5,main]Á∫øÁ®ãÊâßË°åÂÆåÊØï]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java ÂÜÖÂ≠òÊ®°Âûã]]></title>
    <url>%2FJava-Memory-model.html</url>
    <content type="text"><![CDATA[ÁêÜËß£JavaÂÜÖÂ≠òÊ®°ÂûãÊòØÊ∑±ÂÖ•Â≠¶‰π†JavaÂπ∂Âèë‰∏çÂèØÊàñÁº∫ÁöÑÈÉ®ÂàÜ„ÄÇJavaÂÜÖÂ≠òÊ®°ÂûãÂç≥Java Memory ModelÔºåÁÆÄÁß∞‰∏∫JMMÔºåÂÆö‰πâ‰∫ÜÂ§öÁ∫øÁ®ã‰πãÈó¥ÂÖ±‰∫´ÂèòÈáèÁöÑÂèØËßÅÊÄß‰ª•ÂèäÂ¶Ç‰ΩïÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÂØπÂÖ±‰∫´ÂèòÈáèËøõË°åÂêåÊ≠•„ÄÇJMMËßÑÂÆöJavaÁ∫øÁ®ãÈó¥ÁöÑÈÄö‰ø°ÈááÁî®ÂÖ±‰∫´ÂÜÖÂ≠òÁöÑÊñπÂºè„ÄÇÂú®Java‰∏≠ÔºåÊâÄÊúâÊàêÂëòÂèòÈáè„ÄÅÈùôÊÄÅÂèòÈáèÂíåÊï∞ÁªÑÂÖÉÁ¥†ÈÉΩÂ≠òÂÇ®Âú®Â†ÜÂÜÖÂ≠ò‰∏≠ÔºåÂ†ÜÂÜÖÂ≠òÂú®Á∫øÁ®ã‰πãÈó¥ÂÖ±‰∫´ÔºåÊâÄ‰ª•ÂÆÉ‰ª¨ÈÄöÂ∏∏‰πüÁß∞‰∏∫ÂÖ±‰∫´ÂèòÈáè„ÄÇJMMÂÆö‰πâ‰∫ÜÁ∫øÁ®ãÂíå‰∏ªÂÜÖÂ≠ò‰πãÈó¥ÁöÑÊäΩ Ë±°ÂÖ≥Á≥ªÔºöÁ∫øÁ®ã‰πãÈó¥ÁöÑÂÖ±‰∫´ÂèòÈáèÂ≠òÂÇ®Âú®‰∏ªÂÜÖÂ≠òÔºàMain MemoryÔºâ‰∏≠ÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâ‰∏Ä‰∏™ÁßÅÊúâÁöÑÊú¨Âú∞ÂÜÖÂ≠òÔºàLocal MemoryÔºåÊàñËÄÖ‰πüÂèØ‰ª•Áß∞‰∏∫Â∑•‰ΩúÂÜÖÂ≠ò Work MemoryÔºâÔºåÊú¨Âú∞ÂÜÖÂ≠ò‰∏≠Â≠òÂÇ®‰∫ÜËØ•Á∫øÁ®ã‰ª•ËØª/ÂÜôÂÖ±‰∫´ÂèòÈáèÁöÑÂâØÊú¨„ÄÇÊú¨Âú∞ÂÜÖÂ≠òÊòØJMMÁöÑ‰∏Ä‰∏™ÊäΩË±°Ê¶ÇÂøµÔºåÂπ∂‰∏çÁúüÂÆûÂ≠òÂú®„ÄÇÂÆÉÊ∂µÁõñ‰∫ÜÁºìÂ≠ò„ÄÅÂÜôÁºìÂÜ≤Âå∫„ÄÅÂØÑÂ≠òÂô®‰ª•ÂèäÂÖ∂‰ªñÁöÑÁ°¨‰ª∂ÂíåÁºñËØëÂô®‰ºòÂåñ„ÄÇJMMÊäΩË±°JMMÁöÑÊäΩË±°Á§∫ÊÑèÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂ÂØπÂêå‰∏Ä‰∏™ÂÖ±‰∫´ÂèòÈáèËøõË°åËØªÂÜôÁöÑÊó∂ÂÄô‰ºö‰∫ßÁîüÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇÈÇ£‰∏∫‰ªÄ‰πàCPU‰∏çÁõ¥Êé•Êìç‰ΩúÂÜÖÂ≠òÔºåËÄåË¶ÅÂú®CPUÂíåÂÜÖÂ≠òÈó¥Âä†‰∏äÂêÑÁßçÁºìÂ≠òÂíåÂØÑÂ≠òÂô®Á≠âÁºìÂÜ≤Âå∫Âë¢ÔºüÂõ†‰∏∫CPUÁöÑËøêÁÆóÈÄüÂ∫¶Ë¶ÅÊØîÂÜÖÂ≠òÁöÑËØªÂÜôÈÄüÂ∫¶Âø´ÂæóÂ§öÔºåÂ¶ÇÊûúCPUÁõ¥Êé•Êìç‰ΩúÂÜÖÂ≠òÁöÑËØùÂäøÂøÖ‰ºöËä±Ë¥πÂæàÈïøÊó∂Èó¥Á≠âÂæÖÊï∞ÊçÆÂà∞Êù•ÔºåÊâÄ‰ª•ÁºìÂ≠òÁöÑÂá∫Áé∞‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜËß£ÂÜ≥CPUËøêÁÆóÈÄüÂ∫¶‰∏éÂÜÖÂ≠òËØªÂÜôÈÄüÂ∫¶‰∏çÂåπÈÖçÁöÑÁüõÁõæ„ÄÇÂÜÖÂ≠òÈó¥‰∫§‰∫íÂçèËÆÆJMMËßÑÂÆö‰∫Ü‰∏ªÂÜÖÂ≠òÂíåÂ∑•‰ΩúÂÜÖÂ≠òÈó¥ÂÖ∑‰ΩìÁöÑ‰∫§‰∫íÂçèËÆÆÔºåÂç≥‰∏Ä‰∏™ÂèòÈáèÂ¶Ç‰Ωï‰ªé‰∏ªÂÜÖÂ≠òÊã∑Ë¥ùÂà∞Â∑•‰ΩúÂÜÖÂ≠ò„ÄÅÂ¶Ç‰Ωï‰ªéÂ∑•‰ΩúÂÜÖÂ≠òÂêåÊ≠•Âà∞‰∏ªÂÜÖÂ≠ò‰πãÈó¥ÁöÑÂÆûÁé∞ÁªÜËäÇÔºåËøô‰∏ªË¶ÅÂåÖÂê´‰∫Ü‰∏ãÈù¢8‰∏™Ê≠•È™§ÔºölockÔºàÈîÅÂÆöÔºâÔºö‰ΩúÁî®‰∫é‰∏ªÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÊää‰∏Ä‰∏™ÂèòÈáèÊ†áËØÜ‰∏∫‰∏ÄÊù°Á∫øÁ®ãÁã¨Âç†Áä∂ÊÄÅ„ÄÇunlockÔºàËß£ÈîÅÔºâÔºö‰ΩúÁî®‰∫é‰∏ªÂÜÖÂ≠òÂèòÈáèÔºåÊää‰∏Ä‰∏™Â§Ñ‰∫éÈîÅÂÆöÁä∂ÊÄÅÁöÑÂèòÈáèÈáäÊîæÂá∫Êù•ÔºåÈáäÊîæÂêéÁöÑÂèòÈáèÊâçÂèØ‰ª•Ë¢´ÂÖ∂‰ªñÁ∫øÁ®ãÈîÅÂÆö„ÄÇreadÔºàËØªÂèñÔºâÔºö‰ΩúÁî®‰∫é‰∏ªÂÜÖÂ≠òÂèòÈáèÔºåÊää‰∏Ä‰∏™ÂèòÈáèÂÄº‰ªé‰∏ªÂÜÖÂ≠ò‰º†ËæìÂà∞Á∫øÁ®ãÁöÑÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠Ôºå‰ª•‰æøÈöèÂêéÁöÑloadÂä®‰Ωú‰ΩøÁî®loadÔºàËΩΩÂÖ•ÔºâÔºö‰ΩúÁî®‰∫éÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÂÆÉÊääreadÊìç‰Ωú‰ªé‰∏ªÂÜÖÂ≠ò‰∏≠ÂæóÂà∞ÁöÑÂèòÈáèÂÄºÊîæÂÖ•Â∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÂâØÊú¨‰∏≠„ÄÇuseÔºà‰ΩøÁî®ÔºâÔºö‰ΩúÁî®‰∫éÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÊääÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™ÂèòÈáèÂÄº‰º†ÈÄíÁªôÊâßË°åÂºïÊìéÔºåÊØèÂΩìËôöÊãüÊú∫ÈÅáÂà∞‰∏Ä‰∏™ÈúÄË¶Å‰ΩøÁî®ÂèòÈáèÁöÑÂÄºÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§Êó∂Â∞Ü‰ºöÊâßË°åËøô‰∏™Êìç‰Ωú„ÄÇassignÔºàËµãÂÄºÔºâÔºö‰ΩúÁî®‰∫éÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÂÆÉÊää‰∏Ä‰∏™‰ªéÊâßË°åÂºïÊìéÊé•Êî∂Âà∞ÁöÑÂÄºËµãÂÄºÁªôÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÊØèÂΩìËôöÊãüÊú∫ÈÅáÂà∞‰∏Ä‰∏™ÁªôÂèòÈáèËµãÂÄºÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§Êó∂ÊâßË°åËøô‰∏™Êìç‰Ωú„ÄÇstoreÔºàÂ≠òÂÇ®ÔºâÔºö‰ΩúÁî®‰∫éÂ∑•‰ΩúÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÊääÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™ÂèòÈáèÁöÑÂÄº‰º†ÈÄÅÂà∞‰∏ªÂÜÖÂ≠ò‰∏≠Ôºå‰ª•‰æøÈöèÂêéÁöÑwriteÁöÑÊìç‰Ωú„ÄÇwriteÔºàÂÜôÂÖ•ÔºâÔºö‰ΩúÁî®‰∫é‰∏ªÂÜÖÂ≠òÁöÑÂèòÈáèÔºåÂÆÉÊäästoreÊìç‰Ωú‰ªéÂ∑•‰ΩúÂÜÖÂ≠ò‰∏≠‰∏Ä‰∏™ÂèòÈáèÁöÑÂÄº‰º†ÈÄÅÂà∞‰∏ªÂÜÖÂ≠òÁöÑÂèòÈáè‰∏≠„ÄÇlockÔºåunlockÈúÄË¶Å‰ª£Á†Å‰∏≠Áî®ÈîÅÂÆûÁé∞„ÄÇËøô8‰∏™Ê≠•È™§ÂøÖÈ°ªÁ¨¶Âêà‰∏ãËø∞ËßÑÂàôÔºö‰∏çÂÖÅËÆ∏readÂíåloadÔºåstoreÂíåwriteÊìç‰Ωú‰πã‰∏ÄÂçïÁã¨Âá∫Áé∞„ÄÇ‰∏çÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ã‰∏¢ÂºÉÂÆÉÊúÄËøëÁöÑassignÊìç‰Ωú„ÄÇÂç≥ÂèòÈáèÂú®Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠ÊîπÂèò‰∫ÜË¥¶Âè∑ÂøÖÈ°ªÊääÂèòÂåñÂêåÊ≠•Âõû‰∏ªÂÜÖÂ≠ò‰∏Ä‰∏™Êñ∞ÁöÑÂèòÈáèÂè™ÂÖÅËÆ∏Âú®‰∏ªÂÜÖÂ≠ò‰∏≠ËØûÁîüÔºå‰∏çÂÖÅËÆ∏Â∑•‰ΩúÂÜÖÂ≠òÁõ¥Êé•‰ΩøÁî®Êú™ÂàùÂßãÂåñÁöÑÂèòÈáè„ÄÇ‰∏Ä‰∏™ÂèòÈáèÂêå‰∏ÄÊó∂ÂàªÂè™ÂÖÅËÆ∏‰∏ÄÊù°Á∫øÁ®ãËøõË°ålockÊìç‰ΩúÔºå‰ΩÜÂêå‰∏ÄÁ∫øÁ®ãÂèØ‰ª•lockÂ§öÊ¨°ÔºålockÂ§öÊ¨°‰πãÂêéÂøÖÈ°ªÊâßË°åÂêåÊ†∑Ê¨°Êï∞ÁöÑunlockÊìç‰ΩúÂ¶ÇÊûúÂØπ‰∏Ä‰∏™ÂèòÈáèËøõË°ålockÊìç‰ΩúÔºåÈÇ£‰πàÂ∞Ü‰ºöÊ∏ÖÁ©∫Â∑•‰ΩúÂÜÖÂ≠ò‰∏≠Ê≠§ÂèòÈáèÁöÑÂÄº„ÄÇ‰∏çÂÖÅËÆ∏ÂØπÊú™lockÁöÑÂèòÈáèËøõË°åunlockÊìç‰ΩúÔºå‰πü‰∏çÂÖÅËÆ∏unlock‰∏Ä‰∏™Ë¢´ÂÖ∂ÂÆÉÁ∫øÁ®ãlockÁöÑÂèòÈáèÂ¶ÇÊûú‰∏Ä‰∏™ÂèòÈáèÊâßË°åunlockÊìç‰ΩúÔºåÂøÖÈ°ªÂÖàÊääÊ≠§ÂèòÈáèÂêåÊ≠•Âõû‰∏ªÂÜÖÂ≠ò‰∏≠„ÄÇÊåá‰ª§ÈáçÊéíÂú®ÊâßË°åÁ®ãÂ∫èÊó∂Ôºå‰∏∫‰∫ÜÊèêÈ´òÊÄßËÉΩÔºåÁºñËØëÂô®ÂíåÂ§ÑÁêÜÂô®Â∏∏Â∏∏‰ºöÂØπÊåá‰ª§ÂÅöÈáçÊéíÂ∫è„ÄÇ‰ªéJavaÊ∫ê‰ª£Á†ÅÂà∞ÊúÄÁªàÂÆûÈôÖÊâßË°åÁöÑÊåá‰ª§Â∫èÂàóÔºå‰ºöÂàÜÂà´ÁªèÂéÜ‰∏ãÈù¢3ÁßçÈáçÊéíÂ∫èÔºöÁºñËØëÂô®‰ºòÂåñÁöÑÈáçÊéíÂ∫è„ÄÇÁºñËØëÂô®Âú®‰∏çÊîπÂèòÂçïÁ∫øÁ®ãÁ®ãÂ∫èËØ≠‰πâÁöÑÂâçÊèê‰∏ãÔºåÂèØ‰ª•ÈáçÊñ∞ÂÆâÊéíËØ≠Âè•ÁöÑÊâßË°åÈ°∫Â∫è„ÄÇÊåá‰ª§Á∫ßÂπ∂Ë°åÁöÑÈáçÊéíÂ∫è„ÄÇÁé∞‰ª£Â§ÑÁêÜÂô®ÈááÁî®‰∫ÜÊåá‰ª§Á∫ßÂπ∂Ë°åÊäÄÊúØÔºàInstruction-LevelParallelismÔºåILPÔºâÊù•Â∞ÜÂ§öÊù°Êåá‰ª§ÈáçÂè†ÊâßË°å„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®Êï∞ÊçÆ‰æùËµñÊÄßÔºåÂ§ÑÁêÜÂô®ÂèØ‰ª•ÊîπÂèòËØ≠Âè•ÂØπÂ∫îÊú∫Âô®Êåá‰ª§ÁöÑÊâßË°åÈ°∫Â∫è„ÄÇÂÜÖÂ≠òÁ≥ªÁªüÁöÑÈáçÊéíÂ∫è„ÄÇÁî±‰∫éÂ§ÑÁêÜÂô®‰ΩøÁî®ÁºìÂ≠òÂíåËØª/ÂÜôÁºìÂÜ≤Âå∫ÔºåËøô‰ΩøÂæóÂä†ËΩΩÂíåÂ≠òÂÇ®Êìç‰ΩúÁúã‰∏äÂéªÂèØËÉΩÊòØÂú®‰π±Â∫èÊâßË°å„ÄÇÂ¶ÇÊûú‰∏§‰∏™Êìç‰ΩúËÆøÈóÆÂêå‰∏Ä‰∏™ÂèòÈáèÔºåÂÖ∂‰∏≠‰∏Ä‰∏™‰∏∫ÂÜôÊìç‰ΩúÔºåÊ≠§Êó∂Ëøô‰∏§‰∏™Êìç‰Ωú‰πãÈó¥Â≠òÂú®Êï∞ÊçÆ‰æùËµñÊÄß„ÄÇ ÁºñËØëÂô®ÂíåÂ§ÑÁêÜÂô®‰∏ç‰ºöÊîπÂèòÂ≠òÂú®Êï∞ÊçÆ‰æùËµñÊÄßÂÖ≥Á≥ªÁöÑ‰∏§‰∏™Êìç‰ΩúÁöÑÊâßË°åÈ°∫Â∫èÔºåÂç≥‰∏ç‰ºöÈáçÊéíÂ∫è„ÄÇ‰∏çÁÆ°ÊÄé‰πàÈáçÊéíÂ∫èÔºåÂçïÁ∫øÁ®ã‰∏ãÁöÑÊâßË°åÁªìÊûú‰∏çËÉΩË¢´ÊîπÂèòÔºåÁºñËØëÂô®„ÄÅruntimeÂíåÂ§ÑÁêÜÂô®ÈÉΩÂøÖÈ°ªÈÅµÂÆàas-if-serialËØ≠‰πâ„ÄÇÂÜÖÂ≠òÂ±èÈöúÈÄöËøáÊèíÂÖ•ÂÜÖÂ≠òÂ±èÈöúÔºàMemory BarrierÔºâÂèØ‰ª•ÈòªÊ≠¢ÁâπÂÆöÁ±ªÂûãÁöÑÊåá‰ª§ÈáçÊéí„ÄÇJMMÂ∞ÜÂÜÖÂ≠òÂ±èÈöúÂàíÂàÜ‰∏∫ÂõõÁßçÔºöÂ±èÈöúÁ±ªÂûãÁ§∫‰æãÊèèËø∞LoadLoad BarriersLoad1-LoadLoad-Load2Load1Êï∞ÊçÆË£ÖËΩΩËøáÁ®ãË¶ÅÂÖà‰∫éLoad2ÂèäÊâÄÊúâÂêéÁª≠ÁöÑÊï∞ÊçÆË£ÖËΩΩËøáÁ®ãStoreStore BarriersStore1-StoreStore-Store2Store1Âà∑Êñ∞Êï∞ÊçÆÂà∞ÂÜÖÂ≠òÁöÑËøáÁ®ãË¶ÅÂÖà‰∫éStrore2ÂèäÂêéÁª≠ÊâÄÊúâÂà∑Êñ∞Êï∞ÊçÆÂà∞ÂÜÖÂ≠òÁöÑËøáÁ®ãLoadStore BarriersLoad1-LoadStore-Store2Load1Êï∞ÊçÆË£ÖËΩΩË¶ÅÂÖà‰∫éStrore2ÂèäÂêéÁª≠ÊâÄÊúâÂà∑Êñ∞Êï∞ÊçÆÂà∞ÂÜÖÂ≠òÁöÑËøáÁ®ãStoreLoad BarriersStore1-StoreLoad-Load2Store1Âà∑Êñ∞Êï∞ÊçÆÂà∞ÂÜÖÂ≠òÁöÑËøáÁ®ãË¶ÅÂÖà‰∫éLoad2ÂèäÊâÄÊúâÂêéÁª≠ÁöÑÊï∞ÊçÆË£ÖËΩΩËøáÁ®ãJava‰∏≠volatileÂÖ≥ÈîÆÂ≠óÁöÑÂÆûÁé∞Â∞±ÊòØÈÄöËøáÂÜÖÂ≠òÂ±èÈöúÊù•ÂÆåÊàêÁöÑ„ÄÇhappens-before‰ªéjdk5ÂºÄÂßãÔºåjava‰ΩøÁî®Êñ∞ÁöÑJSR-133ÂÜÖÂ≠òÊ®°ÂûãÔºåÂü∫‰∫éhappens-beforeÁöÑÊ¶ÇÂøµÊù•ÈòêËø∞Êìç‰Ωú‰πãÈó¥ÁöÑÂÜÖÂ≠òÂèØËßÅÊÄß„ÄÇÂú®JMM‰∏≠ÔºåÂ¶ÇÊûú‰∏Ä‰∏™Êìç‰ΩúÁöÑÊâßË°åÁªìÊûúÈúÄË¶ÅÂØπÂè¶‰∏Ä‰∏™Êìç‰ΩúÂèØËßÅÔºåÈÇ£‰πàËøô‰∏§‰∏™Êìç‰Ωú‰πãÈó¥ÂøÖÈ°ªË¶ÅÂ≠òÂú®happens-beforeÂÖ≥Á≥ªÔºåËøô‰∏™ÁöÑ‰∏§‰∏™Êìç‰ΩúÊó¢ÂèØ‰ª•Âú®Âêå‰∏Ä‰∏™Á∫øÁ®ãÔºå‰πüÂèØ‰ª•Âú®‰∏çÂêåÁöÑ‰∏§‰∏™Á∫øÁ®ã‰∏≠„ÄÇ‰∏éÁ®ãÂ∫èÂëòÂØÜÂàáÁõ∏ÂÖ≥ÁöÑhappens-beforeËßÑÂàôÂ¶Ç‰∏ãÔºöÁ®ãÂ∫èÈ°∫Â∫èËßÑÂàôÔºö‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ÁöÑÊØè‰∏™Êìç‰ΩúÔºåhappens-before‰∫éËØ•Á∫øÁ®ã‰∏≠‰ªªÊÑèÁöÑÂêéÁª≠Êìç‰Ωú„ÄÇÁõëËßÜÂô®ÈîÅËßÑÂàôÔºöÂØπ‰∏Ä‰∏™ÈîÅÁöÑËß£ÈîÅÊìç‰ΩúÔºåhappens-before‰∫éÈöèÂêéÂØπËøô‰∏™ÈîÅÁöÑÂä†ÈîÅÊìç‰Ωú„ÄÇvolatileÂüüËßÑÂàôÔºöÂØπ‰∏Ä‰∏™volatileÂüüÁöÑÂÜôÊìç‰ΩúÔºåhappens-before‰∫é‰ªªÊÑèÁ∫øÁ®ãÂêéÁª≠ÂØπËøô‰∏™volatileÂüüÁöÑËØª„ÄÇ‰º†ÈÄíÊÄßËßÑÂàôÔºöÂ¶ÇÊûú A happens-before BÔºå‰∏î B happens-before CÔºåÈÇ£‰πàA happens-before C„ÄÇÊ≥®ÊÑèÔºö‰∏§‰∏™Êìç‰Ωú‰πãÈó¥ÂÖ∑Êúâhappens-beforeÂÖ≥Á≥ªÔºåÂπ∂‰∏çÊÑèÂë≥Ââç‰∏Ä‰∏™Êìç‰ΩúÂøÖÈ°ªË¶ÅÂú®Âêé‰∏Ä‰∏™Êìç‰Ωú‰πãÂâçÊâßË°åÔºÅ‰ªÖ‰ªÖË¶ÅÊ±ÇÂâç‰∏Ä‰∏™Êìç‰ΩúÁöÑÊâßË°åÁªìÊûúÔºåÂØπ‰∫éÂêé‰∏Ä‰∏™Êìç‰ΩúÊòØÂèØËßÅÁöÑÔºå‰∏îÂâç‰∏Ä‰∏™Êìç‰ΩúÊåâÈ°∫Â∫èÊéíÂú®Âêé‰∏Ä‰∏™Êìç‰Ωú‰πãÂâç„ÄÇÂèÇËÄÉËá™ÔºöJavaÂπ∂ÂèëÁºñÁ®ãÁöÑËâ∫ÊúØ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Guava ÊùÇÈ°πÁ¨îËÆ∞]]></title>
    <url>%2FGuava-Miscellaneous-notes.html</url>
    <content type="text"><![CDATA[ËøôÈáå‰∏ªË¶ÅËÆ∞ÂΩïGuavaÊèê‰æõÁöÑ‰∏Ä‰∫õÂ∑•ÂÖ∑Á±ªÁöÑÁî®Ê≥ï„ÄÇStringsÁ©∫ÂíånullÁõ∏‰∫íËΩ¨Êç¢Ôºö1234String s1 = Strings.emptyToNull("");System.out.println(s1); // nullString s2 = Strings.nullToEmpty(null);System.out.println(s2); //Ëé∑ÂèñÁõ∏ÂêåÁöÑÂâçÁºÄÂíåÂêéÁºÄÔºö1234String s3 = Strings.commonPrefix("mrbird", "mr.right");System.out.println(s3); // mrString s4 = Strings.commonSuffix("mrbird", "third");System.out.println(s4); // irdrepeatÈáçÂ§çÊìç‰ΩúÔºö12String s5 = Strings.repeat("mrbird", 3);System.out.println(s5); // mrbirdmrbirdmrbirdÂà§Êñ≠Â≠óÁ¨¶‰∏≤ÊòØÂê¶‰∏∫Á©∫ÊàñnullÔºö12boolean nullOrEmpty = Strings.isNullOrEmpty(null);System.out.println(nullOrEmpty); // trueÂ∑¶‰æßÂ°´ÂÖÖÂíåÂè≥‰æßÂ°´ÂÖÖÔºö1234String s6 = Strings.padStart("01", 5, '0');System.out.println(s6); // 00001String s7 = Strings.padEnd("1.0", 5, '0');System.out.println(s7); // 1.000StopWatcherStopWatcherÁî®‰∫éÁõëÊµã‰∏ÄÊÆµÁ®ãÂ∫èÁöÑÊâßË°åËÄóÊó∂„ÄÇÊàë‰ª¨‰πãÂâçÈÄöÂ∏∏ÁöÑÂÅöÊ≥ïÊòØÔºö1234System.out.println("Á®ãÂ∫èÂºÄÂßãÂ§ÑÁêÜ");long start = System.currentTimeMillis();TimeUnit.SECONDS.sleep(2);System.out.println("Á®ãÂ∫èÂ§ÑÁêÜÁªìÊùüÔºåËÄóÊó∂" + (System.currentTimeMillis() - start) + "ÊØ´Áßí"); // Á®ãÂ∫èÂ§ÑÁêÜÁªìÊùüÔºåËÄóÊó∂2.002 s‰ΩøÁî®StopWatcherÊñπ‰æø‰πãÂ§ÑÂú®‰∫éÂÆÉ‰ºöÂ∏ÆÊàë‰ª¨ÈÄâÂèñÂêàÈÄÇÁöÑÊó∂Èó¥Âçï‰ΩçÔºö1234System.out.println("Á®ãÂ∫èÂºÄÂßãÂ§ÑÁêÜ");Stopwatch stopwatch = Stopwatch.createStarted();TimeUnit.SECONDS.sleep(2);System.out.println("Á®ãÂ∫èÂ§ÑÁêÜÁªìÊùüÔºåËÄóÊó∂" + stopwatch.stop()); // Á®ãÂ∫èÂ§ÑÁêÜÁªìÊùüÔºåËÄóÊó∂2.002 sPreconditionsÊñ≠Ë®ÄÊñ≠Ë®ÄÂ∏∏Áî®‰∫éÁ±ªÂ∫ìËÆæËÆ°‰∏≠ÊñπÊ≥ïÂèÇÊï∞ÁöÑÂà§Êñ≠ÔºåÂΩìÂèÇÊï∞‰∏çÁ¨¶ÂêàË¶ÅÊ±ÇÊó∂ÔºåËÆ©Á®ãÂ∫èÊèêÂâçÊäõÂºÇÂ∏∏ÁªìÊùü„ÄÇPreconditionsÊòØGuavaÊèê‰æõÁöÑÊñ≠Ë®ÄÁ±ª„ÄÇÈùûÁ©∫Ê†°È™åÂà§Êñ≠ÊòØÂê¶‰∏∫Á©∫Ôºå‰∏∫Á©∫ÁöÑËØùÊäõÂá∫NullPointerExceptionÔºö12List&lt;String&gt; list = null;Preconditions.checkNotNull(list);Ëá™ÂÆö‰πâÊèèËø∞Ôºö12List&lt;String&gt; list = null;Preconditions.checkNotNull(list, "list‰∏çËÉΩ‰∏∫Á©∫");Ëá™ÂÆö‰πâÊèèËø∞ + ÈïøÂ∫¶Ê†°È™åÔºö12List&lt;String&gt; list = null;Preconditions.checkNotNull(list, "listÈïøÂ∫¶ÂøÖÈ°ª‰∏∫%s", 2);ÂèÇÊï∞Ê†°È™åÊ†°È™å‰∏çÈÄöËøáÊó∂ÔºåÊäõÂá∫IllegalArgumentExceptionÔºö12String value = "hello";Preconditions.checkArgument("world".equals(value), "ÂèÇÊï∞ÂÜÖÂÆπÂøÖÈ°ª‰∏∫world");Áä∂ÊÄÅÊ†°È™åÊ†°È™å‰∏çÈÄöËøáÊó∂ÔºåÊäõÂá∫IllegalStateExceptionÔºö12String state = "on";Preconditions.checkState("off".equals(state), "Áä∂ÊÄÅÂøÖÈ°ª‰∏∫off");Ê†°È™åÂÖÉÁ¥†‰∏™Êï∞Ê†°È™å‰∏çÈÄöËøáÔºåÊäõÂá∫IndexOutOfBoundsExceptionÔºö12List&lt;String&gt; list = ImmutableList.of();Preconditions.checkElementIndex(10, list.size(), "‰∏ãÊ†áË∂äÁïåÔºå‰∏çÂ≠òÂú®Á¨¨10‰∏™ÂÖÉÁ¥†");IOÊìç‰ΩúÊºîÁ§∫‰πãÂâçÂÖàÂàõÂª∫‰∏Ä‰∏™source.txtÊñá‰ª∂Ôºö12Guava I/O operationGuava I/O Êìç‰ΩúÁõ∏ÂÖ≥Â∏∏ÈáèÔºö12private static final String SOURCE_FILE = "C:\\Users\\Administrator\\Desktop\\guavatest\\src\\test\\java\\cc\\mrbird\\resources\\source.txt";private static final String TARGET_FILE = "C:\\Users\\Administrator\\Desktop\\guavatest\\src\\test\\java\\cc\\mrbird\\resources\\target.txt";Êñá‰ª∂Êã∑Ë¥ù123File targetFile = new File(TARGET_FILE);Files.copy(new File(SOURCE_FILE), targetFile);System.out.println(targetFile.exists()); // trueÊñá‰ª∂ÁßªÂä®1Files.move(new File(SOURCE_FILE), new File(TARGET_FILE));Êñá‰ª∂ÁßªÂä®ÂíåÊñá‰ª∂Êã∑Ë¥ùÁöÑÂå∫Âà´ÊòØÔºåÊñá‰ª∂ÁßªÂä®‰ºöÂà†Èô§Ê∫êÊñá‰ª∂ÔºöËØªÂèñÊñá‰ª∂ÂÜÖÂÆπÂ∞ÜÊñá‰ª∂ÂÜÖÂÆπËØªÂèñÂà∞StringÈõÜÂêà‰∏≠Ôºö12List&lt;String&gt; list = Files.readLines(new File(SOURCE_FILE), Charsets.UTF_8);list.forEach(System.out::println);ËØªÁöÑËøáÁ®ã‰∏≠ËøõË°å‰∏Ä‰∫õÂä†Â∑•Ôºö12345678910111213141516LineProcessor&lt;List&lt;String&gt;&gt; lineProcessor = new LineProcessor&lt;List&lt;String&gt;&gt;() &#123; List&lt;String&gt; result = Lists.newArrayList(); @Override public boolean processLine(String line) &#123; if (line.length() != 0) &#123; result.add(line + "„ÄÇ"); &#125; return true; &#125; @Override public List&lt;String&gt; getResult() &#123; return result; &#125;&#125;;List&lt;String&gt; result = Files.asCharSource(new File(SOURCE_FILE), Charsets.UTF_8).readLines(lineProcessor);System.out.println(result); // [Guava I/O operation„ÄÇ, Guava I/O Êìç‰Ωú„ÄÇ]ÂÜôÊìç‰ΩúËøΩÂä†Êìç‰ΩúÔºö1234567File file = new File(SOURCE_FILE);String value = "Ê∑ªÂä†‰∏Ä‰∫õÂÜÖÂÆπ";CharSink charSink = Files.asCharSink(file, Charsets.UTF_8, FileWriteMode.APPEND); // ËøΩÂä†charSink.write(value);String read = Files.asCharSource(file, Charsets.UTF_8).read();System.out.println(read);Ë¶ÜÁõñÊìç‰ΩúÔºö1234567File file = new File(SOURCE_FILE);String value = "Ê∑ªÂä†‰∏Ä‰∫õÂÜÖÂÆπ";CharSink charSink = Files.asCharSink(file, Charsets.UTF_8); // Ë¶ÜÁõñcharSink.write(value);String read = Files.asCharSource(file, Charsets.UTF_8).read();System.out.println(read);Êñá‰ª∂ËΩ¨‰∏∫ÂìàÂ∏åÁ†Å123File file = new File(SOURCE_FILE);HashCode hash = Files.asByteSource(file).hash(Hashing.sha256());System.out.println(hash); // c46982603d4b2ba5032d73dc1fffbe1aea1f11d75921b2839632c56636673d31Êñá‰ª∂ÂàõÂª∫12345String TOUCH_FILE = "C:\\Users\\Administrator\\Desktop\\guavatest\\src\\test\\java\\cc\\mrbird\\resources\\new.txt";File file = new File(TOUCH_FILE);Files.touch(file);boolean exists = file.exists();System.out.println(exists); // trueÈÄíÂΩíÊìç‰ΩúÁî±ÊµÖÂÖ•Ê∑±Ôºö12345678910File file = new File("C:\\Users\\Administrator\\Desktop\\guavatest\\src\\test\\java\\cc\\mrbird");// depthFirstPreOrder Áî±ÊµÖÂÖ•Ê∑±Iterable&lt;File&gt; files = Files.fileTraverser().depthFirstPreOrder(file);files.forEach(f -&gt; &#123; if (f.isDirectory()) &#123; System.out.println("directory: " + f); &#125; else &#123; System.out.println("file: " + f); &#125;&#125;);Áî±Ê∑±ÂÖ•ÊµÖÔºö12345678910File file = new File("C:\\Users\\Administrator\\Desktop\\guavatest\\src\\test\\java\\cc\\mrbird");// depthFirstPostOrder Áî±Ê∑±ÂÖ•ÊµÖIterable&lt;File&gt; files = Files.fileTraverser().depthFirstPostOrder(file);files.forEach(f -&gt; &#123; if (f.isDirectory()) &#123; System.out.println("directory: " + f); &#125; else &#123; System.out.println("file: " + f); &#125;&#125;);]]></content>
      <tags>
        <tag>guava</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NIO2Êé•Âè£ÊñπÊ≥ï]]></title>
    <url>%2FNIO2%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95.html</url>
    <content type="text"><![CDATA[JDK7ÂØπNIOËøõË°å‰∫ÜÊûÅÂ§ßÁöÑÊâ©Â±ïÔºåÂ¢ûÂº∫‰∫ÜÂØπÊñá‰ª∂Â§ÑÁêÜÂíåÊñá‰ª∂Á≥ªÁªüÁâπÊÄßÁöÑÊîØÊåÅÔºå‰ª•Ëá≥‰∫éÊàë‰ª¨Áß∞‰ªñ‰ª¨‰∏∫ NIO.2„ÄÇÂõ†‰∏∫NIO Êèê‰æõÁöÑ‰∏Ä‰∫õÂäüËÉΩÔºåNIOÂ∑≤ÁªèÊàê‰∏∫Êñá‰ª∂Â§ÑÁêÜ‰∏≠Ë∂äÊù•Ë∂äÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇPath ‰∏é Pathsjava.nio.file.PathÊé•Âè£‰ª£Ë°®‰∏Ä‰∏™Âπ≥Âè∞Êó†ÂÖ≥ÁöÑÂπ≥Âè∞Ë∑ØÂæÑÔºåÊèèËø∞‰∫ÜÁõÆÂΩïÁªìÊûÑ‰∏≠Êñá‰ª∂ÁöÑ‰ΩçÁΩÆ„ÄÇPathsÊèê‰æõÁöÑget()ÊñπÊ≥ïÁî®Êù•Ëé∑ÂèñPathÂØπË±°ÔºöPath get(String first, String ‚Ä¶ more)ÔºöÁî®‰∫éÂ∞ÜÂ§ö‰∏™Â≠óÁ¨¶‰∏≤‰∏≤ËøûÊàêË∑ØÂæÑ„ÄÇPathÂ∏∏Áî®ÊñπÊ≥ïÔºöboolean endsWith(String path)Ôºö Âà§Êñ≠ÊòØÂê¶‰ª• path Ë∑ØÂæÑÁªìÊùüÔºõboolean startsWith(String path)ÔºöÂà§Êñ≠ÊòØÂê¶‰ª• path Ë∑ØÂæÑÂºÄÂßãÔºõboolean isAbsolute()Ôºö Âà§Êñ≠ÊòØÂê¶ÊòØÁªùÂØπË∑ØÂæÑÔºõPath getFileName()Ôºö ËøîÂõû‰∏éË∞ÉÁî® Path ÂØπË±°ÂÖ≥ËÅîÁöÑÊñá‰ª∂ÂêçÔºõPath getName(int idx)ÔºöËøîÂõûÁöÑÊåáÂÆöÁ¥¢Âºï‰ΩçÁΩÆ idx ÁöÑË∑ØÂæÑÂêçÁß∞Ôºõint getNameCount()ÔºöËøîÂõûPath Ê†πÁõÆÂΩïÂêéÈù¢ÂÖÉÁ¥†ÁöÑÊï∞ÈáèÔºõPath getParent() ÔºöËøîÂõûPathÂØπË±°ÂåÖÂê´Êï¥‰∏™Ë∑ØÂæÑÔºå‰∏çÂåÖÂê´ Path ÂØπË±°ÊåáÂÆöÁöÑÊñá‰ª∂Ë∑ØÂæÑÔºõPath getRoot() ÔºöËøîÂõûË∞ÉÁî® Path ÂØπË±°ÁöÑÊ†πË∑ØÂæÑÔºõPath resolve(Path p) ÔºöÂ∞ÜÁõ∏ÂØπË∑ØÂæÑËß£Êûê‰∏∫ÁªùÂØπË∑ØÂæÑÔºõPath toAbsolutePath()Ôºö‰Ωú‰∏∫ÁªùÂØπË∑ØÂæÑËøîÂõûË∞ÉÁî® Path ÂØπË±°ÔºõString toString()ÔºöËøîÂõûË∞ÉÁî® Path ÂØπË±°ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫ÂΩ¢Âºè„ÄÇFiles Á±ªjava.nio.file.Files Áî®‰∫éÊìç‰ΩúÊñá‰ª∂ÊàñÁõÆÂΩïÁöÑÂ∑•ÂÖ∑Á±ª„ÄÇFilesÂ∏∏Áî®ÊñπÊ≥ïÔºàÂ¢ûÂà†ÊîπÔºâÔºöPath copy(Path src, Path dest, CopyOption ‚Ä¶ how)ÔºöÊñá‰ª∂ÁöÑÂ§çÂà∂ÔºõPath createDirectory(Path path, FileAttribute&lt;?&gt; ‚Ä¶ attr)ÔºöÂàõÂª∫‰∏Ä‰∏™ÁõÆÂΩïÔºõPath createFile(Path path, FileAttribute&lt;?&gt; ‚Ä¶ arr)ÔºöÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂Ôºõvoid delete(Path path)ÔºöÂà†Èô§‰∏Ä‰∏™Êñá‰ª∂ÔºõPath move(Path src, Path dest, CopyOption‚Ä¶how)ÔºöÂ∞Ü src ÁßªÂä®Âà∞ dest ‰ΩçÁΩÆÔºõlong size(Path path)ÔºöËøîÂõû path ÊåáÂÆöÊñá‰ª∂ÁöÑÂ§ßÂ∞è„ÄÇFilesÂ∏∏Áî®ÊñπÊ≥ïÔºàÂà§Êñ≠Á±ªÔºâÔºöboolean exists(Path path, LinkOption ‚Ä¶ opts)ÔºöÂà§Êñ≠Êñá‰ª∂ÊòØÂê¶Â≠òÂú®Ôºõboolean isDirectory(Path path, LinkOption ‚Ä¶ opts)ÔºöÂà§Êñ≠ÊòØÂê¶ÊòØÁõÆÂΩïÔºõboolean isExecutable(Path path)ÔºöÂà§Êñ≠ÊòØÂê¶ÊòØÂèØÊâßË°åÊñá‰ª∂Ôºõboolean isHidden(Path path)ÔºöÂà§Êñ≠ÊòØÂê¶ÊòØÈöêËóèÊñá‰ª∂Ôºõboolean isReadable(Path path)ÔºöÂà§Êñ≠Êñá‰ª∂ÊòØÂê¶ÂèØËØªÔºõboolean isWritable(Path path)ÔºöÂà§Êñ≠Êñá‰ª∂ÊòØÂê¶ÂèØÂÜôÔºõboolean notExists(Path path, LinkOption ‚Ä¶ opts)ÔºöÂà§Êñ≠Êñá‰ª∂ÊòØÂê¶‰∏çÂ≠òÂú®Ôºõpublic static &lt;A extends BasicFileAttributes&gt; A readAttributes(Path path,Class&lt;A&gt; type,LinkOption... options)ÔºöËé∑Âèñ‰∏é path ÊåáÂÆöÁöÑÊñá‰ª∂Áõ∏ÂÖ≥ËÅîÁöÑÂ±ûÊÄß„ÄÇFilesÂ∏∏Áî®ÊñπÊ≥ïÔºàÂÜÖÂÆπÊìç‰ΩúÔºâÔºöSeekableByteChannel newByteChannel(Path path, OpenOption‚Ä¶how)ÔºöËé∑Âèñ‰∏éÊåáÂÆöÊñá‰ª∂ÁöÑËøûÊé•Ôºåhow ÊåáÂÆöÊâìÂºÄÊñπÂºè„ÄÇDirectoryStream newDirectoryStream(Path path)ÔºöÊâìÂºÄ path ÊåáÂÆöÁöÑÁõÆÂΩïInputStream newInputStream(Path path, OpenOption‚Ä¶how)ÔºöËé∑Âèñ InputStream ÂØπË±°OutputStream newOutputStream(Path path, OpenOption‚Ä¶how)ÔºöËé∑Âèñ OutputStream ÂØπË±°]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Guava RateLimiter]]></title>
    <url>%2FGuava-RateLimiter.html</url>
    <content type="text"><![CDATA[Google GuavaÊèê‰æõÁöÑRateLimiter‰ΩøÁî®ÁöÑÊòØ‰ª§ÁâåÊ°∂ÁÆóÊ≥ï„ÄÇ‰ª§ÁâåÊ°∂ÁÆóÊ≥ïÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÊòØ‰ª•Âõ∫ÂÆöÁöÑÈÄüÁéáÁîüÊàê‰ª§ÁâåÔºåÂú®ÊâßË°åËØ∑Ê±Ç‰πãÂâçÈÉΩÈúÄË¶Å‰ªé‰ª§ÁâåÊ°∂ÈáåËé∑ÂèñË∂≥Â§üÁöÑ‰ª§Áâå„ÄÇÂΩì‰ª§ÁâåÊï∞Èáè‰∏çË∂≥ÁöÑÊó∂ÂÄôÔºåËØ∑Ê±ÇÂ∞ÜË¢´ÈòªÂ°ûËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅÊàñËÄÖÁõ¥Êé•ËøîÂõûÂ§±Ë¥•„ÄÇRateLimiterÂ∏∏Áî®‰∫éÈôêÂà∂ËÆøÈóÆËµÑÊ∫êÁöÑÈÄüÁéá„ÄÇRateLimiter‰ΩøÁî®Á§∫‰æã‰∏ãÈù¢ÊòØ‰∏Ä‰∏™RateLimiterÁöÑÁÆÄÂçï‰ΩøÁî®Á§∫‰æãÔºö1234567891011121314public class RateLimiterTest &#123; // 1ÁßíÈíü‰∫ßÁîü0.5Âº†‰ª§Áâå private final static RateLimiter limiter = RateLimiter.create(0.5); public static void main(String[] args) &#123; ExecutorService service = Executors.newFixedThreadPool(5); IntStream.range(0, 5).forEach(i -&gt; service.submit(RateLimiterTest::testLimiter)); service.shutdown(); &#125; private static void testLimiter() &#123; System.out.println(Thread.currentThread() + " waiting " + limiter.acquire()); &#125;&#125;Êàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™RateLimiterÂÆû‰æãÔºåÊØèÁßíÈíü‰∫ßÁîü0.5Âº†‰ª§ÁâåÔºåÂç≥ÊØè2ÁßíÈíü‰∫ßÁîü1Âº†‰ª§Áâå„ÄÇtestLimiterÊñπÊ≥ï‰∏≠ÈÄöËøálimiter.acquire()ÊñπÊ≥ïËé∑Âèñ‰ª§ÁâåÔºà‰∏çÂ∏¶ÂèÇÊï∞Êó∂ÈªòËÆ§Ëé∑Âèñ1Âº†‰ª§ÁâåÔºâ„ÄÇExecutors.newFixedThreadPool(5)ÁîüÊàê‰∫î‰∏™Á∫øÁ®ãÔºåÂπ∂ÂèëË∞ÉÁî®testLimiterÊñπÊ≥ïÔºåÊâßË°å‰ª£Á†ÅÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö12345Thread[pool-1-thread-1,5,main] waiting 0.0Thread[pool-1-thread-5,5,main] waiting 1.908947Thread[pool-1-thread-4,5,main] waiting 3.908935Thread[pool-1-thread-3,5,main] waiting 5.908919Thread[pool-1-thread-2,5,main] waiting 7.908808ÂèØ‰ª•ÁúãÂà∞ÊØè‰∏™Á∫øÁ®ãË∞ÉÁî®Êó∂Èó¥Áõ∏ÈöîÂ§ßÁ∫¶‰∏∫2ÁßíÈíü„ÄÇÂèØËÉΩ‰Ω†‰ºöÈóÆÔºå‰∏∫‰ªÄ‰πàÁ¨¨‰∏Ä‰∏™Á∫øÁ®ãÊ≤°ÊúâÁ≠âÂæÖ2ÁßíÔºåÁõ¥Êé•Â∞±Ëé∑ÂèñÂà∞‰∫Ü‰ª§ÁâåÁÑ∂ÂêéÊâßË°å‰∫ÜÂë¢ÔºüGuava RateLimiterÂÖÅËÆ∏ÊüêÊ¨°ËØ∑Ê±ÇËé∑ÂèñË∂ÖÂá∫Ââ©‰Ωô‰ª§ÁâåÊï∞ÁöÑ‰ª§ÁâåÔºå‰ΩÜÊòØ‰∏ã‰∏ÄÊ¨°ËØ∑Ê±ÇÂ∞Ü‰∏∫Ê≠§‰ªòÂá∫‰ª£‰ª∑Ôºå‰∏ÄÁõ¥Á≠âÂà∞‰ª§Áâå‰∫èÁ©∫Ë°•‰∏ä„ÄÇÂÜçÊù•Áúã‰∏Ä‰∏™RateLimiterÁöÑ‰æãÂ≠êÔºö123456789public class RateLimiterTest &#123; public static void main(String[] args) &#123; RateLimiter limiter = RateLimiter.create(1); System.out.println(limiter.acquire(4)); System.out.println(limiter.acquire(3)); System.out.println(limiter.acquire(2)); System.out.println(limiter.acquire(1)); &#125;&#125;Á®ãÂ∫èËæìÂá∫Â¶Ç‰∏ãÔºö12340.03.9966022.9974482.000229‰∏äÈù¢‰æãÂ≠êÈíüÔºå‰∏ÄÁßíÈíü‰∫ßÁîü‰∏ÄÂº†‰ª§ÁâåÔºåÁ¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇÁõ¥Êé•ÂèñÂá∫4Âº†‰ª§ÁâåÔºåÊâÄ‰ª•Á¨¨‰∫åÊ¨°ËØ∑Ê±ÇÈúÄË¶ÅÁ≠âÂæÖ4/1ÁßíÊâçËÉΩÂèñÂà∞‰ª§Áâå„ÄÇÁªèËøáÂ§ßÁ∫¶4ÁßíÂêéÔºåÁ¨¨‰∫åÊ¨°ËØ∑Ê±ÇÁõ¥Êé•ÂèñÂá∫3Âº†‰ª§ÁâåÔºåÊâÄ‰ª•Á¨¨‰∏âÊ¨°ËØ∑Ê±ÇÈúÄË¶ÅÁ≠âÂæÖ3/1ÁßíÂêéÊâçËÉΩÂèñÂà∞‰ª§ÁâåÔºå‰æùÊ≠§Á±ªÊé®„ÄÇËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥Êàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆÁ≠âÂæÖ‰ª§ÁâåÁöÑË∂ÖÊó∂Êó∂Èó¥ÔºåÂ¶ÇÊûúÁ≠âÂæÖ‰ª§ÁâåÁöÑÊó∂Èó¥Â§ß‰∫éË∂ÖÊó∂Êó∂Èó¥ÔºåÂ∞ÜÁõ¥Êé•ËøîÂõûfalseÔºå‰∏çÂÜçÁ≠âÂæÖÔºö1234567public class RateLimiterTest &#123; public static void main(String[] args) &#123; RateLimiter limiter = RateLimiter.create(1); System.out.println(limiter.acquire(3)); System.out.println(limiter.tryAcquire(1, 2, TimeUnit.SECONDS)); &#125;&#125;‰∏äÈù¢‰æãÂ≠êlimiter.tryAcquireËÆæÁΩÆ‰∫ÜË∂ÖÊó∂Êó∂Èó¥‰∏∫2ÁßíÔºåÁî±‰∫éÁ¨¨‰∏ÄÊ¨°ËØ∑Ê±Ç‰∏ÄÊ¨°ÊÄßËé∑Âèñ‰∫Ü3Âº†‰ª§ÁâåÔºåÊâÄ‰ª•ËøôÈáåÈúÄË¶ÅÁ≠âÂæÖÂ§ßÁ∫¶3ÁßíÈíüÔºåË∂ÖÂá∫‰∫Ü2ÁßíÁöÑË∂ÖÊó∂Êó∂Èó¥ÔºåÊâÄ‰ª•limiter.tryAcquire‰∏ç‰ºöÁ≠âÂæÖ3ÁßíÔºåËÄåÊòØÁõ¥Êé•ËøîÂõûfalse„ÄÇ]]></content>
      <tags>
        <tag>guava</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Guava ÁºìÂ≠ò]]></title>
    <url>%2FGuava-Cache.html</url>
    <content type="text"><![CDATA[GuavaÁºìÂ≠òÊòØËΩªÈáèÁ∫ßÁöÑÔºåÂÆÉÂ∞ÜÂÜÖÂÆπÁºìÂ≠òÂà∞ËøêË°åÂÜÖÂ≠ò‰∏≠„ÄÇÂ¶ÇÊûúÁ≥ªÁªü‰∏≠Êüê‰∫õÂÄºÔºàÊØîÂ¶Ç‰∏Ä‰∫õÈÖçÁΩÆË°®ÔºâË¢´È¢ëÁπÅÊü•ËØ¢‰ΩøÁî®ÔºåÂπ∂‰∏îÊàë‰ª¨ÊÑøÊÑèÊ∂àËÄó‰∏Ä‰∫õÂÜÖÂ≠òÁ©∫Èó¥Êù•ÊèêÂçáÂ∫îÁî®ÁöÑÈÄüÂ∫¶ÔºåÂáèËΩªÊï∞ÊçÆÂ∫ìÂéãÂäõÁöÑËØùÔºåGuavaÁºìÂ≠òÂ∞Ü‰ºöÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©„ÄÇÁî±‰∫éÁºìÂ≠òÊòØÂ≠òÂÇ®Âú®ËøêË°åÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÁ°Æ‰øùÁºìÂ≠òÁöÑÂ§ßÂ∞è‰∏çË∂ÖÂá∫ÂÜÖÂ≠òÁöÑÂÆπÈáè„ÄÇÂàõÂª∫ÁºìÂ≠òÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÂàõÂª∫GuavaÁºìÂ≠òÂØπË±°ÔºåËÄå‰∏ç‰ΩøÁî®‰ªª‰ΩïÁöÑCacheLoaderÔºö1234Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().build();cache.put("hello", "world");System.out.println(cache.getIfPresent("hello")); // worldkeyÂÄºÊòØÂ§ßÂ∞èÂÜôÊïèÊÑüÁöÑÔºåÊâÄ‰ª•‰ΩøÁî®cache.getIfPresent(&quot;HELLO&quot;)Â∞ÜËøîÂõûnullÂÄº„ÄÇÊé•‰∏ãÊù•ÁúãÁúãÂ¶Ç‰Ωï‰ΩøÁî®CacheLoaderÂàõÂª∫ÁºìÂ≠òÂØπË±°Ôºö123456789101112131415CacheLoader&lt;String, String&gt; loader = new CacheLoader&lt;String, String&gt;() &#123; @Override public String load(String key) &#123; return sayHello(key); &#125;&#125;;LoadingCache&lt;String, String&gt; cache = CacheBuilder.newBuilder().build(loader);String mrbird = cache.getUnchecked("mrbird");System.out.println(mrbird); // hello mrbird...private String sayHello(String key) &#123; return String.format("hello %s", key);&#125;ÊñπÊ≥ïgetUnchecked‰ΩúÁî®‰∏∫ÔºöÂΩìÂÄº‰∏çÂ≠òÂú®Êó∂Ôºå‰ºöÈÄöËøáCacheLoaderËÆ°ÁÆóÂá∫ÂÄºÔºåÁÑ∂ÂêéÂ≠òÂà∞ÁºìÂ≠ò‰∏≠„ÄÇÈ©±ÈÄêÊú∫Âà∂Êàë‰ª¨ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∫õÈ©±ÈÄêÁºìÂ≠òÁöÑÊú∫Âà∂Êù•ÈôêÂà∂ÁºìÂ≠òÁöÑÂ§ßÂ∞è„ÄÇÈôêÂà∂ÁºìÂ≠òÊï∞ÁõÆÊàë‰ª¨ÂèØ‰ª•ÈÄöËøámaximumSizeÊù•ÈôêÂà∂ÁºìÂ≠òÁöÑÊù°ÁõÆÔºö12345678910Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().maximumSize(3).build();cache.put("k1", "v1");cache.put("k2", "v2");cache.put("k3", "v3");cache.put("k4", "v4");System.out.println(cache.size()); // 3System.out.println(cache.getIfPresent("k1")); // nullSystem.out.println(cache.asMap()); // &#123;k3=v3, k4=v4, k2=v2&#125;Êàë‰ª¨ÈôêÂà∂ÊúÄÂ§öÂè™ËÉΩÂ≠òÂÇ®3‰∏™ÂÄºÔºåÊâÄ‰ª•k4ÁöÑÂ≠òÂÖ•ÊääÊúÄÊó©ÁöÑk1ÁªôÈ©±ÈÄêÂá∫Âéª‰∫ÜÔºåÁ±ª‰ºº‰∫éFIFO„ÄÇÈôêÂà∂ÁºìÂ≠òÂ§ßÂ∞èÊàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâÊùÉÈáçÂáΩÊï∞Êù•ÈôêÂà∂ÁºìÂ≠òÁöÑÂ§ßÂ∞èÔºö123456789101112Weigher&lt;String, String&gt; weigher = (key, value) -&gt; value.length();Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().maximumWeight(15).weigher(weigher).build();cache.put("k1", "11111");cache.put("k2", "22222");cache.put("k3", "33333");cache.put("k4", "4444");cache.put("k5", "5555");System.out.println(cache.size()); // 3System.out.println(cache.getIfPresent("k1")); // nullSystem.out.println(cache.asMap()); // &#123;k3=33333, k5=5555, k4=4444&#125;‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÈÄöËøámaximumWeight(15)ÊåáÂÆö‰∫ÜÁºìÂ≠òÁöÑÊúÄÂ§ßÂÆπÈáèÔºåÊùÉÈáçËßÑÂàô‰∏∫valueÁöÑÈïøÂ∫¶„ÄÇk3Ôºåk4Âíåk5ÁöÑvalueÈïøÂ∫¶Âä†Ëµ∑Êù•‰∏∫13ÔºåÊâÄ‰ª•k1Âíåk2ÁöÑÂÄºÂ≠ò‰∏ç‰∏ã‰∫ÜÔºåË¢´È©±ÈÄê„ÄÇËÆæÁΩÆÁºìÂ≠òÊó∂Èó¥Êàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆÁºìÂ≠òÁöÑÊúâÊïàÊó∂Èó¥ÂíåÁºìÂ≠òÁöÑÊ¥ªË∑ÉÊó∂Èó¥„ÄÇËÆæÁΩÆÁºìÂ≠òÁöÑÊ¥ªË∑ÉÊó∂Èó¥‰∏∫2sÔºö1234567891011121314Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().expireAfterAccess(2, TimeUnit.SECONDS).build();cache.put("k1", "v1");cache.put("k2", "v2");cache.getIfPresent("k1");TimeUnit.SECONDS.sleep(1);cache.getIfPresent("k1");TimeUnit.SECONDS.sleep(1);System.out.println(cache.getIfPresent("k1")); // v1System.out.println(cache.getIfPresent("k2")); // nullSystem.out.println(cache.size()); // 1System.out.println(cache.asMap()); // &#123;k1=v1&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøácache.getIfPresent(&quot;k1&quot;)Ëé∑Âèñ‰∫Ük1ÁöÑÂÄºÔºåÁÑ∂ÂêéËÆ©Á∫øÁ®ãÈòªÂ°û1ÁßíÔºåËøôÊó∂ÂÄôk1Âíåk2ÁöÑÊúâÊïàÊó∂Èó¥Â§ßÁ∫¶‰∏∫1ÁßíÂ∑¶Âè≥„ÄÇÊé•ÁùÄÂèàËé∑Âèñ‰∫Ük1ÁöÑÂÄºÔºåÊâÄ‰ª•k1ÁöÑÊúâÊïàÊó∂Èó¥ËøòÊòØ2ÁßíÔºåk2‰∏∫1ÁßíÔºåÂÜçÊ¨°ËÆ©Á∫øÁ®ãÈòªÂ°û1ÁßíÂêéÔºåk1ÁöÑÊúâÊïàÊó∂Èó¥‰∏∫1ÁßíÔºåk2Â∑≤ÁªèÂ§±Êïà‰∫Ü„ÄÇÊâìÂç∞ËæìÂá∫ÁöÑÁªìÊûúÂíåÊàë‰ª¨È¢ÑÊúüÁöÑ‰∏ÄËá¥„ÄÇËÆæÁΩÆÁºìÂ≠òÁöÑÊúâÊïàÊó∂Èó¥‰∏∫2sÔºö1234567891011121314 Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().expireAfterWrite(2, TimeUnit.SECONDS).build();cache.put("k1", "v1");cache.put("k2", "v2");cache.getIfPresent("k1");TimeUnit.SECONDS.sleep(1);cache.getIfPresent("k1");TimeUnit.SECONDS.sleep(1);System.out.println(cache.getIfPresent("k1")); // nullSystem.out.println(cache.getIfPresent("k2")); // nullSystem.out.println(cache.size()); // 0System.out.println(cache.asMap()); // &#123;&#125;Âõ†‰∏∫Êàë‰ª¨ËÆæÁΩÆÁºìÂ≠òÊúâÊïàÊó∂Èó¥‰∏∫2ÁßíÔºåÊâÄ‰ª•2ÁßíÂêéÊâÄÊúâÁºìÂ≠òÈÉΩËøáÊúüÂ§±Êïà‰∫ÜÔºåÊó†ËÆ∫ÊúüÈó¥Ëé∑ÂèñËøáÂ§öÂ∞ëÊ¨°ÁºìÂ≠ò„ÄÇweakKeys&amp;softValuesÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåGuavaÁºìÂ≠òÈîÆÂÄºÈÉΩÊúâÂº∫ÂºïÁî®ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®weakKeysÂíåsoftValuesÊù•ËÆ©ÈîÆÂÄºÂèò‰∏∫Âº±ÂºïÁî®ÔºåËøôÊ†∑ÂûÉÂúæÊî∂ÈõÜÂô®Âú®ÂøÖË¶ÅÁöÑÊÉÖÂÜµ‰∏ãÂ∞Ü‰ºöÂ∑•‰ΩúÔºö1Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().weakKeys().softValues().build();Âà∑Êñ∞ÁºìÂ≠òÂèØ‰ª•ÈÄöËøárefreshAfterWriteËÆæÁΩÆÁºìÂ≠òËá™Âä®Âà∑Êñ∞Èó¥ÈöîÔºåÊàñËÄÖÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®refreshÊñπÊ≥ïÊù•ÊâãÂä®Âà∑Êñ∞ÁºìÂ≠òÔºö1Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().refreshAfterWrite(1,TimeUnit.SECONDS).build();Ê∑ªÂä†Â§ö‰∏™ÁºìÂ≠òÂèØ‰ª•ÈÄöËøáputAllÊù•‰∏ÄÊ¨°ÊÄßÊ∑ªÂä†Â§ö‰∏™ÁºìÂ≠òÔºö12345678910Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().build();Map&lt;String, String&gt; map = Maps.newHashMap();map.put("k1", "v1");map.put("k2", "v2");map.put("k3", "v3");cache.putAll(map);System.out.println(cache.size()); // 3System.out.println(cache.asMap()); // &#123;k3=v3, k1=v1, k2=v2&#125;Âà†Èô§ÁºìÂ≠òCache.invalidate(key)ÊñπÊ≥ïÈÄöËøákeyÊù•Âà†Èô§ÁºìÂ≠òÔºö123456789Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().build();Map&lt;String, String&gt; map = Maps.newHashMap();map.put("k1", "v1");cache.putAll(map);System.out.println(cache.asMap()); // &#123;k1=v1&#125;cache.invalidate("k1");System.out.println(cache.asMap()); // &#123;&#125;Èô§Ê≠§‰πãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáCache.invalidateAll(keys)‰∏ÄÊ¨°ÊÄßÂà†Èô§Â§ö‰∏™ÁºìÂ≠òÊàñËÄÖCache.invalidateAll()Âà†Èô§ÂÖ®ÈÉ®ÁºìÂ≠ò„ÄÇÊàë‰ª¨ËøòÂèØ‰ª•ÁªôÂà†Èô§‰∫ã‰ª∂Ê∑ªÂä†ÁõëÂê¨Âô®Ôºö1234567RemovalListener&lt;String, String&gt; listener = notification -&gt; System.out.println("ÁõëÂê¨Âà∞Âà†Èô§‰∫ã‰ª∂Ôºåkey=" + notification.getKey() + "Ôºåvalue=" + notification.getValue());Cache&lt;String, String&gt; cache = CacheBuilder.newBuilder().removalListener(listener).build();cache.put("k1", "v1");cache.invalidate("k1"); // ÁõëÂê¨Âà∞Âà†Èô§‰∫ã‰ª∂Ôºåkey=k1Ôºåvalue=v1Â¢ûÂà†ÊîπÊü•ÁÆÄÂçïÂ∞ÅË£Ö‰∏Ä‰∏™GuavaÁºìÂ≠òÂ∑•ÂÖ∑Á±ªÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283public class GuavaCacheUtil &#123; private static Logger logger = LoggerFactory.getLogger(GuavaCacheUtil.class); private static Cache&lt;String, String&gt; cache; static &#123; RemovalListener&lt;String, String&gt; listener = n -&gt; logger.info("ÁõëÂê¨Âà∞Âà†Èô§‰∫ã‰ª∂Ôºåkey=&#123;&#125;Ôºåvalue=&#123;&#125;", n.getKey(), n.getValue()); cache = CacheBuilder.newBuilder() .removalListener(listener).build(); &#125; /** * Ê∑ªÂä†ÁºìÂ≠ò * * @param key ÈîÆ * @param value ÂÄº */ public void put(String key, String value) &#123; if (StringUtils.isNotBlank(key) &amp;&amp; StringUtils.isNotBlank(value)) &#123; cache.put(key, value); &#125; &#125; /** * ÊâπÈáèÊ∑ªÂä†ÁºìÂ≠ò * * @param map key,valueÈõÜÂêà */ public void putAll(Map&lt;String, String&gt; map) &#123; cache.putAll(map); &#125; /** * Âà†Èô§ÁºìÂ≠ò * * @param key ÈîÆ */ public void remove(String key) &#123; if (StringUtils.isNotBlank(key)) &#123; cache.invalidate(key); &#125; &#125; /** * ÊâπÈáèÂà†Èô§ÁºìÂ≠ò * * @param keys keyÈõÜÂêà */ public void remove(List&lt;String&gt; keys) &#123; if (CollectionUtils.isNotEmpty(keys)) &#123; cache.invalidateAll(keys); &#125; &#125; /** * Ê∏ÖÁ©∫ÁºìÂ≠ò */ public void removeAll() &#123; cache.invalidateAll(); &#125; /** * Ëé∑ÂèñÁºìÂ≠ò * * @param key ÈîÆ * @return ÂÄº */ public String get(String key) &#123; return StringUtils.isNotBlank(key) ? cache.getIfPresent(key) : null; &#125; /** * ÊâπÈáèËé∑ÂèñÁºìÂ≠ò * * @param keys ÈîÆÈõÜÂêà * @return ÂÄºÈõÜÂêà */ public ImmutableMap&lt;String, String&gt; get(List&lt;String&gt; keys) &#123; return CollectionUtils.isNotEmpty(keys) ? cache.getAllPresent(keys) : null; &#125;&#125;]]></content>
      <tags>
        <tag>guava</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Guava ÈõÜÂêàÊìç‰Ωú]]></title>
    <url>%2FGuava-Collection.html</url>
    <content type="text"><![CDATA[‰∏çÂèØÂèòÈõÜÂêà‰∏çÂèØÂèòÈõÜÂêà‰æãÂ≠êÔºö12ImmutableSet&lt;String&gt; FRUITS = ImmutableSet.of("apple", "watermelon", "cherry", "mango");FRUITS.remove("apple");Â∞ÜÊäõÂá∫java.lang.UnsupportedOperationExceptionÂºÇÂ∏∏Ôºö ÂàõÂª∫‰∏çÂèØÂèòÈõÜÂêàof12ImmutableList&lt;String&gt; immutableList = ImmutableList.of("a", "b", "c");ImmutableMap&lt;Integer, String&gt; immutableMap = ImmutableMap.of(1, "v1", 2, "v2", 3, "v3")copyOf12Map&lt;String, String&gt; map = Maps.newHashMap();ImmutableMap&lt;String, String&gt; immutableMap = ImmutableMap.copyOf(map);builder12345678910Map&lt;String, String&gt; map = Maps.newHashMap();ImmutableMap&lt;String, String&gt; immutableMap = ImmutableMap.&lt;String, String&gt;builder() .putAll(map) .put("k1", "v1") .build();List&lt;String&gt; list = Lists.newArrayList();ImmutableList&lt;String&gt; immutableList = ImmutableList.&lt;String&gt;builder() .addAll(list) .build();Èô§Ê≠§‰πãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰ªéJava 8 Stream‰∏≠ÂàõÂª∫‰∏çÂèØÂèòÈõÜÂêàÔºö12345678import static java.util.stream.Collectors.*;...List&lt;String&gt; list = Arrays.asList("a", "b", "c");List&lt;String&gt; immutableList = list.stream() .collect(collectingAndThen(toList(), ImmutableList::copyOf));System.out.println(immutableList.getClass()); // class com.google.common.collect.RegularImmutableList‰∏äÈù¢ÁöÑ‰æãÂ≠êÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®GuavaÊèê‰æõÁöÑÊî∂ÈõÜÂô®Ôºö12345List&lt;String&gt; list = Arrays.asList("a", "b", "c");List&lt;String&gt; immutableList = list.stream() .collect(ImmutableList.toImmutableList());System.out.println(immutableList.getClass()); // class com.google.common.collect.RegularImmutableList‰∏çÂèØÂèòÈõÜÂêà‰ºòÁÇπÂΩìÂØπË±°Ë¢´‰∏çÂèØ‰ø°ÁöÑÂ∫ìË∞ÉÁî®Êó∂Ôºå‰∏çÂèØÂèòÂΩ¢ÂºèÊòØÂÆâÂÖ®ÁöÑÔºõ‰∏çÂèØÂèòÂØπË±°Ë¢´Â§ö‰∏™Á∫øÁ®ãË∞ÉÁî®Êó∂Ôºå‰∏çÂ≠òÂú®Á´ûÊÄÅÊù°‰ª∂ÈóÆÈ¢ò‰∏çÂèØÂèòÈõÜÂêà‰∏çÈúÄË¶ÅËÄÉËôëÂèòÂåñÔºåÂõ†Ê≠§ÂèØ‰ª•ËäÇÁúÅÊó∂Èó¥ÂíåÁ©∫Èó¥„ÄÇÊâÄÊúâ‰∏çÂèØÂèòÁöÑÈõÜÂêàÈÉΩÊØîÂÆÉ‰ª¨ÁöÑÂèØÂèòÂΩ¢ÂºèÊúâÊõ¥Â•ΩÁöÑÂÜÖÂ≠òÂà©Áî®ÁéáÔºàÂàÜÊûêÂíåÊµãËØïÁªÜËäÇÔºâÔºõ‰∏çÂèØÂèòÂØπË±°Âõ†‰∏∫ÊúâÂõ∫ÂÆö‰∏çÂèòÔºåÂèØ‰ª•‰Ωú‰∏∫Â∏∏ÈáèÊù•ÂÆâÂÖ®‰ΩøÁî®„ÄÇÊñ∞ÈõÜÂêàÁ±ªÂûãGuavaÊèê‰æõ‰∫ÜËÆ∏Â§öJDKÊ≤°ÊúâÁöÑÈõÜÂêàÁ±ªÂûã„ÄÇRangeSetRangeSet‰∏ÄÁªÑ‰∏çÁõ∏ËøûÁöÑ„ÄÅÈùûÁ©∫ÁöÑÂå∫Èó¥ÔºåÂü∫Êú¨ÂÆûÁé∞‰∏∫TreeRangeSetÔºåÁúã‰∏™RangeSetÁöÑ‰æãÂ≠êÔºö123456789101112131415RangeSet&lt;Integer&gt; rangeSet = TreeRangeSet.create();rangeSet.add(Range.closed(1, 10));System.out.println(rangeSet); // [[1..10]]rangeSet.add(Range.closedOpen(11, 15));System.out.println(rangeSet); // ‰∏çÁõ∏ËøûÂå∫Èó¥ [[1..10], [11..15)]rangeSet.add(Range.closedOpen(15, 20));System.out.println(rangeSet); // Áõ∏ËøûÂå∫Èó¥ [[1..10], [11..20)]rangeSet.add(Range.openClosed(0, 0));System.out.println(rangeSet); // Á©∫Âå∫Èó¥ [[1..10], [11..20)]rangeSet.remove(Range.open(5, 10)); System.out.println(rangeSet); // Âå∫Èó¥ÂàÜÂâ≤ [[1..5], [10..10], [11..20)]Êü•ÁúãRangeSetÁöÑËåÉÂõ¥Ë∑®Â∫¶Ôºö1234567RangeSet&lt;Integer&gt; rangeSet = TreeRangeSet.create();rangeSet.add(Range.closed(1, 10));rangeSet.add(Range.closedOpen(11, 15));Range&lt;Integer&gt; span = rangeSet.span();System.out.println(span.lowerEndpoint().intValue()); // 1System.out.println(span.upperEndpoint().intValue()); // 15‰ªéÂ∑≤ÊúâÁöÑRangeSetËé∑Âèñ‰∏Ä‰∏™Â≠êËåÉÂõ¥RangeSetÔºö123456789RangeSet&lt;Integer&gt; numberRangeSet = TreeRangeSet.create();numberRangeSet.add(Range.closed(0, 2));numberRangeSet.add(Range.closed(3, 5));numberRangeSet.add(Range.closed(5, 8));RangeSet&lt;Integer&gt; numberSubRangeSet = numberRangeSet.subRangeSet(Range.closed(4, 14));System.out.println(numberRangeSet); // [[0..2], [3..8]]System.out.println(numberSubRangeSet); // [[4..8]]Ëé∑ÂèñÈô§‰∫ÜRangeSetËåÉÂõ¥Â§ñÁöÑRangeSetÔºö123456789RangeSet&lt;Integer&gt; numberRangeSet = TreeRangeSet.create();numberRangeSet.add(Range.closed(0, 2));numberRangeSet.add(Range.closed(3, 5));numberRangeSet.add(Range.closed(6, 8));RangeSet&lt;Integer&gt; numberRangeComplementSet = numberRangeSet.complement();System.out.println(numberRangeSet); // [[0..2], [3..5], [6..8]]System.out.println(numberRangeComplementSet); // [(-‚àû..0), (2..3), (5..6), (8..+‚àû)]Âà§Êñ≠‰∏Ä‰∏™RangeSetÊòØÂê¶ÂíåÂè¶‰∏Ä‰∏™ËåÉÂõ¥Êúâ‰∫§ÈõÜÔºö12345678RangeSet&lt;Integer&gt; numberRangeSet = TreeRangeSet.create();numberRangeSet.add(Range.closed(0, 2));numberRangeSet.add(Range.closed(3, 10));numberRangeSet.add(Range.closed(15, 18));System.out.println(numberRangeSet); // [[0..2], [3..10], [15..18]]System.out.println(numberRangeSet.intersects(Range.closed(4, 17))); // trueÈÅçÂéÜRangeSetÁöÑËåÉÂõ¥Âå∫Èó¥Ôºö12345678RangeSet&lt;Integer&gt; numberRangeSet = TreeRangeSet.create();numberRangeSet.add(Range.closed(0, 2));numberRangeSet.add(Range.closed(3, 10));numberRangeSet.add(Range.closed(15, 18));Set&lt;Range&lt;Integer&gt;&gt; ranges = numberRangeSet.asRanges();ranges.forEach(System.out::print); // [0..2][3..10][15..18]‰ªéRangeSet‰∏≠Ëé∑ÂèñÂåÖÂê´Êüê‰∏™ÂÄºÁöÑËÆøÈóÆÂå∫Èó¥Ôºö1234567RangeSet&lt;Integer&gt; numberRangeSet = TreeRangeSet.create();numberRangeSet.add(Range.closed(0, 2));numberRangeSet.add(Range.closed(3, 10));numberRangeSet.add(Range.closed(15, 18));System.out.println(numberRangeSet.rangeContaining(7)); // [3..10]RangeMapRangeMapÊòØ‰∏ÄÁªÑ‰∏çÁõ∏ËøûÁöÑ„ÄÅÈùûÁ©∫ÁöÑÂå∫Èó¥‰∏éÊåáÂÆöÂÄºÁöÑÊò†Â∞ÑÔºåÂü∫Êú¨ÂÆûÁé∞‰∏∫TreeRangeMapÂÖâËøôÊ†∑ËØ¥ÊúâÁÇπÊäΩË±°ÔºåÁúã‰∫õ‰æãÂ≠ê:123456789101112RangeMap&lt;Integer, String&gt; rangeMap = TreeRangeMap.create();rangeMap.put(Range.closed(1, 10), "foo");System.out.println(rangeMap); // [[1..10]=foo]rangeMap.put(Range.open(3, 6), "bar");System.out.println(rangeMap); // [[1..3]=foo, (3..6)=bar, [6..10]=foo]rangeMap.put(Range.open(10, 20), "eoo");System.out.println(rangeMap); // [[1..3]=foo, (3..6)=bar, [6..10]=foo, (10..20)=eoo]rangeMap.remove(Range.closed(5, 11));System.out.println(rangeMap); // [[1..3]=foo, (3..5)=bar, (11..20)=eoo]‰ªéRangeMap‰∏≠Ëé∑Âèñ‰∏Ä‰∏™EntryÔºö123456789RangeMap&lt;Integer, String&gt; rangeMap = TreeRangeMap.create();rangeMap.put(Range.closed(0, 2), "foo");rangeMap.put(Range.closed(3, 5), "bar");rangeMap.put(Range.closed(6, 8), "eoo");Map.Entry&lt;Range&lt;Integer&gt;, String&gt; entry = rangeMap.getEntry(7);System.out.println(entry.getKey()); // [6..8]System.out.println(entry.getValue()); // eooÂâ©‰∏ãÁöÑÊìç‰ΩúÂíåRangeSetÂ∑Æ‰∏çÂ§ö„ÄÇBiMapBiMapÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑÔºåÂèåÂêëÊò†Â∞ÑÁöÑMapÔºåÂèØ‰ª•Á°Æ‰øù‰∏ç‰ºöÂá∫Áé∞ÈáçÂ§çÁöÑÂÄºÂπ∂‰∏îÊàë‰ª¨ÊÄªÊòØÂèØ‰ª•ÂÆâÂÖ®Âú∞ÈÄöËøákeyËé∑ÂèñÂà∞value„ÄÇBiMapÁöÑÂü∫Êú¨ÂÆûÁé∞‰∏∫HashBiMap„ÄÇÁúãÁúã‰æãÂ≠êÔºö12345678BiMap&lt;String, String&gt; biMap = HashBiMap.create();biMap.put("k1", "v1");biMap.put("k2", "v2");biMap.put("k3", "v3");System.out.println(biMap); // &#123;k1=v1, k2=v2, k3=v3&#125;BiMap&lt;String, String&gt; inverse = biMap.inverse();System.out.println(inverse); // &#123;v1=k1, v2=k2, v3=k3&#125;ÈÄöËøáinverseÂèØ‰ª•ÂæóÂà∞ÂÄºÔºåÈîÆÊò†Â∞ÑÁöÑBiMap„ÄÇÂæÄBiMapÈáåÊ∑ªÂä†ÈáçÂ§çÁöÑÂÄºÂ∞Ü‰ºöÊä•ÈîôÔºö1234BiMap&lt;String, String&gt; biMap = HashBiMap.create();biMap.put("k1", "v1");biMap.put("k2", "v2");biMap.put("k3", "v1");Â¶ÇÊûúÈùûË¶ÅÊ∑ªÂä†ÈáçÂ§çÁöÑÂÄºÁöÑËØùÔºåÂèØ‰ª•Áî®forcePutÊñπÊ≥ïÔºö12345BiMap&lt;String, String&gt; biMap = HashBiMap.create();biMap.put("k1", "v1");biMap.put("k2", "v2");biMap.forcePut("k3", "v1");System.out.println(biMap); // &#123;k2=v2, k3=v1&#125;TableTableÊòØ‰∏Ä‰∏™ÂåÖÂê´Ë°åÔºåÂàóÂíåÂçïÂÖÉÊ†ºÁöÑÈõÜÂêàÁ±ªÂûãÔºåË°åÂíåÂàóÁªÑÊàêÊúâÂ∫èÈîÆÂØπ„ÄÇÂàõÂª∫‰∏Ä‰∏™HashBasedTableÔºàÂÜÖÈÉ®‰ΩøÁî®LinkedHashMapÔºâÔºö1Table&lt;String, String, Integer&gt; hashBasedTable = HashBasedTable.create();Â¶ÇÊûúÈúÄË¶ÅÂØπtableÁöÑË°åÂíåÂàóÊåâÁÖßËá™ÁÑ∂È°∫Â∫èÊàñËÄÖÊèê‰æõÁöÑÊéíÂ∫èËßÑÂàôËøõË°åÊéíÂ∫èÁöÑËØùÔºåÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™TreeBasedTableÔºö1Table&lt;String, String, Integer&gt; treeBasedTable = TreeBasedTable.create();Â¶ÇÊûú‰∫ãÂÖàÁü•ÈÅìË°åÂíåÂàóÁöÑÂÄºÔºåÂπ∂‰∏îtableÂ§ßÂ∞èÊòØÂõ∫ÂÆöÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî®ArrayTableÔºö1234List&lt;String&gt; row = Lists.newArrayList("r1", "r2");List&lt;String&gt; column = Lists.newArrayList("c1", "c2", "c3");Table&lt;String, String, Integer&gt; arrayTable = ArrayTable.create(row, column);System.out.println(arrayTable); // &#123;r1=&#123;c1=null, c2=null, c3=null&#125;, r2=&#123;c1=null, c2=null, c3=null&#125;&#125;‰∏äÈù¢‰æãÂ≠êÂàõÂª∫‰∫Ü‰∏Ä‰∏™‰∏§Ë°å‰∏âÂàóÁöÑtable„ÄÇÂàõÂª∫‰∏çÂèØÂèòtableÔºö123Table&lt;String, String, String&gt; immutableTable = ImmutableTable.&lt;String, String, String&gt; builder() .put("r1", "c1", "hello") .build();ÈÄöËøáË°åÂíåÂàóËé∑ÂèñÂçïÂÖÉÊ†ºÁöÑÂÄºÔºö12345678910111213Table&lt;String, String, String&gt; hashBasedTable = HashBasedTable.create();hashBasedTable.put("r1", "c1", "hello");hashBasedTable.put("r1", "c2", "world");hashBasedTable.put("r2", "c1", "good");hashBasedTable.put("r2", "c2", "bye");System.out.println(hashBasedTable); // &#123;r1=&#123;c1=hello, c2=world&#125;, r2=&#123;c1=good, c2=bye&#125;&#125;String v1 = hashBasedTable.get("r1", "c1");String v2 = hashBasedTable.get("r2", "c3");System.out.println(v1); // helloSystem.out.println(v2); // nullÊàë‰ª¨ÂèØ‰ª•Ê£ÄÊµãtableÊòØÂê¶ÂåÖÂê´Êüê‰∏™Ë°åÈîÆÔºåÊüê‰∏™ÂàóÈîÆÔºåÊüê‰∏™ÂÄºÂíåÊüê‰∏™Ë°åÂíåÂàóÁªÑÂêàÁöÑÈîÆÔºö12345678910Table&lt;String, String, String&gt; hashBasedTable = HashBasedTable.create();hashBasedTable.put("r1", "c1", "hello");hashBasedTable.put("r1", "c2", "world");hashBasedTable.put("r2", "c1", "good");hashBasedTable.put("r2", "c2", "bye");boolean b1 = hashBasedTable.contains("r1", "c2"); // trueboolean b2 = hashBasedTable.containsColumn("c3"); // falseboolean b3 = hashBasedTable.containsRow("r2"); // trueboolean b4 = hashBasedTable.containsValue("world"); // trueÈÄöËøáË°åÂíåÂàóÂà†Èô§ÂçïÂÖÉÊ†ºÔºåËøîÂõûË¢´Âà†Èô§ÁöÑÂÄºÔºö12345678910Table&lt;String, String, String&gt; hashBasedTable = HashBasedTable.create();hashBasedTable.put("r1", "c1", "hello");hashBasedTable.put("r1", "c2", "world");hashBasedTable.put("r2", "c1", "good");hashBasedTable.put("r2", "c2", "bye");String removeValue = hashBasedTable.remove("r1", "c1");System.out.println(removeValue); // helloSystem.out.println(hashBasedTable); // &#123;r1=&#123;c2=world&#125;, r2=&#123;c1=good, c2=bye&#125;&#125;Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáË°åÊàñÂàóÂæóÂà∞‰∏Ä‰∏™MapÔºåÂ¶ÇÊûúÈÄöËøáË°åÂæóÂà∞MapÔºåÈÇ£‰πàMapÁöÑÈîÆ‰∏∫ÂàóÂÄºÔºåMapÁöÑÂÄº‰∏∫ÂØπÂ∫îÂçïÂÖÉÊ†ºÁöÑÂÄºÔºåÂÖâËØ¥ÊúâÁÇπÊäΩË±°ÔºåÁúã‰∏™‰æãÂ≠êÔºö123456789101112Table&lt;String, String, String&gt; hashBasedTable = HashBasedTable.create();hashBasedTable.put("r1", "c1", "hello");hashBasedTable.put("r1", "c2", "world");hashBasedTable.put("r2", "c1", "good");hashBasedTable.put("r2", "c2", "bye");Map&lt;String, String&gt; c2Map = hashBasedTable.column("c2");Map&lt;String, String&gt; r1Map = hashBasedTable.row("r1");System.out.println(c2Map); // &#123;r1=world, r2=bye&#125;System.out.println(r1Map); // &#123;c1=hello, c2=world&#125;System.out.println(c2Map.get("r1")); // worldÊàë‰ª¨ËøòÂèØ‰ª•ÂçïÁã¨Ëé∑ÂèñÊâÄÊúâË°åÊàñËÄÖÊâÄÊúâÂàóÁªÑÊàêÁöÑMapÔºö1234567891011Table&lt;String, String, String&gt; hashBasedTable = HashBasedTable.create();hashBasedTable.put("r1", "c1", "hello");hashBasedTable.put("r1", "c2", "world");hashBasedTable.put("r2", "c1", "good");hashBasedTable.put("r2", "c2", "bye");Map&lt;String, Map&lt;String, String&gt;&gt; columnMap = hashBasedTable.columnMap();Map&lt;String, Map&lt;String, String&gt;&gt; rowMap = hashBasedTable.rowMap();System.out.println(columnMap); // &#123;c1=&#123;r1=hello, r2=good&#125;, c2=&#123;r1=world, r2=bye&#125;&#125;System.out.println(rowMap); // &#123;r1=&#123;c1=hello, c2=world&#125;, r2=&#123;c1=good, c2=bye&#125;&#125;Ëé∑ÂèñÊâÄÊúâË°åÈîÆ„ÄÅÂàóÈîÆÊàñËÄÖÂÄºÁöÑÈõÜÂêàÔºö12345678910111213Table&lt;String, String, String&gt; hashBasedTable = HashBasedTable.create();hashBasedTable.put("r1", "c1", "hello");hashBasedTable.put("r1", "c2", "world");hashBasedTable.put("r2", "c1", "good");hashBasedTable.put("r2", "c2", "bye");Set&lt;String&gt; rowKeySet = hashBasedTable.rowKeySet();Set&lt;String&gt; columnKeySet = hashBasedTable.columnKeySet();Set&lt;Table.Cell&lt;String, String, String&gt;&gt; cells = hashBasedTable.cellSet();System.out.println(rowKeySet); // [r1, r2]System.out.println(columnKeySet); // [c1, c2]System.out.println(cells); // [(r1,c1)=hello, (r1,c2)=world, (r2,c1)=good, (r2,c2)=bye]MultisetMultisetÂíåjava.util.setÁ±ª‰ººÔºå‰∏çËøáMutisetÂèØ‰ª•Ê∑ªÂä†ÈáçÂ§çÁöÑÂÄºÔºö123456789101112HashMultiset&lt;String&gt; hashMultiset = HashMultiset.create();hashMultiset.add("are you ok?");hashMultiset.add("are you ok?");hashMultiset.add("are you ok?");System.out.println(hashMultiset); // [are you ok? x 3]hashMultiset.remove("are you ok?");System.out.println(hashMultiset); // [are you ok? x 2]hashMultiset.setCount("are you ok?", 10); // Áõ¥Êé•ËÆæÁΩÆÂÖÉÁ¥†‰∏™Êï∞System.out.println(hashMultiset); // [are you ok? x 10]Âú®Âπ∂ÂèëÁéØÂ¢É‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ConcurrentHashMultisetÔºåÂÆÉÁöÑaddÂíåremoveÊñπÊ≥ïÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÂîØ‰∏ÄÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂú®Âπ∂ÂèëÁéØÂ¢É‰∏ã‰ΩøÁî®setCountÊñπÊ≥ïÊó∂ÂÄôÔºåÈúÄ‰ΩøÁî®‰∏ãÈù¢ËøôÁßçÊñπÂºèÔºö12345HashMultiset&lt;String&gt; hashMultiset = HashMultiset.create();hashMultiset.setCount("are you ok?", 0, 5);hashMultiset.setCount("are you ok?", 10, 5);System.out.println(hashMultiset); // [are you ok? x 5]Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ÈúÄË¶ÅÊ∑ªÂä†ÁöÑÂÄºÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ÂΩìÂâçMultisetÈáåÂÖÉÁ¥†‰∏™Êï∞ÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞‰∏∫ÈúÄË¶ÅÊ∑ªÂä†ÁöÑÂÖÉÁ¥†‰∏™Êï∞„ÄÇÂè™ÊúâÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÁöÑÂÄºÊ≠£Á°ÆÁöÑÊó∂ÂÄôÔºåsetCountÊâçÊúâÊïàÔºåÊâÄ‰ª•hashMultiset.setCount(&quot;are you ok?&quot;, 10, 5)ÂÆûÈôÖ‰∏äÊòØ‰∏çÁîüÊïàÁöÑ„ÄÇMultimapMultimapÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™ÈîÆÊò†Â∞ÑÂ§ö‰∏™ÂÄºÔºö1234567String key = "hello";ArrayListMultimap&lt;String, String&gt; multimap = ArrayListMultimap.create();multimap.put(key, "world");multimap.put(key, "java");System.out.println(multimap); // &#123;hello=[world, java]&#125;System.out.println(multimap.get(key)); // [world, java]ClassToInstanceMap‰ΩøÁî®Á±ªÂûã‰Ωú‰∏∫ÈîÆÔºö1234567MutableClassToInstanceMap&lt;Object&gt; classToInstanceMap = MutableClassToInstanceMap.create();classToInstanceMap.put(String.class, "hello");classToInstanceMap.put(Integer.class, 777);classToInstanceMap.put(Double.class, 43.96);System.out.println(classToInstanceMap); // &#123;class java.lang.Double=43.96, class java.lang.String=hello, class java.lang.Integer=777&#125;System.out.println(classToInstanceMap.get(Double.class)); // 43.96Lists„ÄÅMaps&amp;SetsListsÂàõÂª∫‰∏Ä‰∏™ListÔºö1ArrayList&lt;String&gt; list = Lists.newArrayList("a", "b", "c");ÂèçËΩ¨ListÔºö1234ArrayList&lt;String&gt; list = Lists.newArrayList("a", "b", "c");List&lt;String&gt; reverse = Lists.reverse(list);System.out.println(reverse); // [c, b, a]ÈÄöËøáÂ≠óÁ¨¶‰∏≤ÁîüÊàêÂ≠óÁ¨¶ÈõÜÂêàÔºö12List&lt;Character&gt; characters = Lists.charactersOf("mrbird");System.out.println(characters); // [m, r, b, i, r, d]Â∞ÜÈõÜÂêàÊåâÁÖßÊåáÂÆöÂå∫ÂùóÂ§ßÂ∞èÂàÜÂå∫Ôºö1234List&lt;String&gt; list = Lists.newArrayList("java", "php", "go", "python", "c#", "javascript");List&lt;List&lt;String&gt;&gt; partition = Lists.partition(list, 2);System.out.println(partition); // [[java, php], [go, python], [c#, javascript]]‰∏Ä‰∏™Âà†Èô§List‰∏≠ÈáçÂ§çÈ°πÁöÑÊäÄÂ∑ßÔºö1234List&lt;String&gt; list = Lists.newArrayList("a", "p", "p", "l", "e");ImmutableList&lt;String&gt; newList = ImmutableSet.copyOf(list).asList();System.out.println(newList); // [a, p, l, e]‰ªéÈõÜÂêà‰∏≠Âà†Èô§nullÂÄºÔºö1234List&lt;String&gt; list = Lists.newArrayList("java", null," python");Iterables.removeIf(list, Objects::isNull);System.out.println(list); // [java, python]SetsÈÄöËøáSetsÂàõÂª∫setÔºö1Set&lt;Object&gt; hashSet = Sets.newHashSet();ÂêàÂπ∂‰∏§‰∏™SetÔºö12345Set&lt;String&gt; set1 = ImmutableSet.of("a", "b", "c");Set&lt;String&gt; set2 = ImmutableSet.of("b", "c", "d");Set&lt;String&gt; union = Sets.union(set1, set2);System.out.println(union); // [a, b, c, d]ÂèØ‰ª•ÈÄöËøáSets.cartesianProduct()Ëé∑Âèñ‰∏§‰∏™SetÁöÑÁ¨õÂç°Â∞îÁßØÔºö12345Set&lt;Character&gt; first = ImmutableSet.of('a', 'b');Set&lt;Character&gt; second = ImmutableSet.of('c', 'd');Set&lt;List&lt;Character&gt;&gt; result = Sets.cartesianProduct(first, second);System.out.println(result); // [[a, c], [a, d], [b, c], [b, d]]Ëé∑Âèñ‰∏§‰∏™SetÁöÑ‰∫§ÈõÜÔºö12345Set&lt;Character&gt; first = ImmutableSet.of('a', 'b', 'c');Set&lt;Character&gt; second = ImmutableSet.of('c', 'd', 'e');Set&lt;Character&gt; intersection = Sets.intersection(first, second);System.out.println(intersection); // [c]Ëé∑Âèñ‰∏§‰∏™SetÁöÑÂ∑ÆÈõÜÔºö12345Set&lt;Character&gt; first = ImmutableSet.of('a', 'b', 'c');Set&lt;Character&gt; second = ImmutableSet.of('c', 'd', 'e');Set&lt;Character&gt; difference = Sets.symmetricDifference(first, second);System.out.println(difference); // [a, b, d, e]MapsÈÄöËøáMapsÂàõÂª∫MapÔºö1HashMap&lt;Object, Object&gt; map = Maps.newHashMap();ÂàõÂª∫ÊúüÊúõÂ§ßÂ∞èÁöÑMapÔºö1HashMap&lt;Object, Object&gt; map = Maps.newHashMapWithExpectedSize(5);Joiner‰∏éSplitterJoinerJoinerÁî®‰∫éËøûÊé•Êìç‰Ωú„ÄÇÊØîÂ¶ÇÂ∞ÜListÈáåÁöÑÂÖÉÁ¥†ÈÄöËøá‚Äú,‚ÄùËøûÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Ôºö1234List&lt;String&gt; list = Lists.newArrayList("a", "b", "c");String join = Joiner.on(",").join(list);System.out.println(join); // a,b,c‰ΩøÁî®JoinerÂ∞ÜMapËΩ¨Êç¢‰∏∫StringÔºö123456HashMap&lt;String, Integer&gt; map = Maps.newHashMap();map.put("mrbird", 18);map.put("scott", 28);String join = Joiner.on(",").withKeyValueSeparator("~").join(map);System.out.println(join); // mrbird~18,scott~28Âú®‰ΩøÁî®JoinerÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÈõÜÂêà‰∏≠Âê´ÊúânullÂÄºÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄâÊã©Ë∑≥ËøáÂÆÉÔºö1234List&lt;String&gt; list = Lists.newArrayList("a", null, "b", "c", "d");String result = Joiner.on(",").skipNulls().join(list);System.out.println(result); // a,b,c,dÊàñËÄÖ‰ΩøÁî®ÊåáÂÆöÂÄºÊõø‰ª£nullÔºö1234List&lt;String&gt; list = Lists.newArrayList("a", null, "b", "c", "d");String result = Joiner.on(",").useForNull("Á©∫").join(list);System.out.println(result); // a,Á©∫,b,c,dSplitterSplitterÁî®‰∫éÂ∞ÜStringÊãÜÂàÜ‰∏∫ÈõÜÂêàÁ±ªÂûãÔºåÁúã‰∏™‰æãÂ≠ê:1234String value = "a,b,c,d ";List&lt;String&gt; list = Splitter.on(",").trimResults().splitToList(value);System.out.println(list); // [a, b, c, d]‰ΩøÁî®SplitterÂ∞ÜStringÊãÜÂàÜ‰∏∫MapÔºö1234 String value = "mrbird=18,scott=28";Map&lt;String, String&gt; map = Splitter.on(",").withKeyValueSeparator("=").split(value);System.out.println(map); // &#123;mrbird=18, scott=28&#125;ÂàÜÂâ≤ÂÖ∑ÊúâÂ§öÁßçÂàÜÈöîÁ¨¶ÁöÑStringÔºö1234String value = "a.b,,c,,..";List&lt;String&gt; result = Splitter.onPattern("[.,]").omitEmptyStrings().splitToList(value);System.out.println(result); // [a, b, c]omitEmptyStringsÁî®‰∫éÂøΩÁï•Á©∫Â≠óÁ¨¶‰∏≤„ÄÇÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáÊåáÂÆöÈïøÂ∫¶Êù•ÊãÜÂàÜÂ≠óÁ¨¶‰∏≤Ôºö1234String value = "‰∫∫‰ª¨ÈÉΩËØ¥Ôºö‚ÄúÊ°ÇÊûóÂ±±Ê∞¥Áî≤Â§©‰∏ã‚ÄùÔºåÊàë‰ª¨‰πòÁùÄÊú®ËàπËç°ÊºæÂú®ÊºìÊ±ü‰∏äÔºåÊù•ËßÇËµèÊ°ÇÊûóÁöÑÂ±±Ê∞¥„ÄÇ";List&lt;String&gt; list = Splitter.fixedLength(3).splitToList(value);System.out.println(list); // [‰∫∫‰ª¨ÈÉΩ, ËØ¥Ôºö‚Äú, Ê°ÇÊûóÂ±±, Ê∞¥Áî≤Â§©, ‰∏ã‚ÄùÔºå, Êàë‰ª¨‰πò, ÁùÄÊú®Ëàπ, Ëç°ÊºæÂú®, ÊºìÊ±ü‰∏ä, ÔºåÊù•ËßÇ, ËµèÊ°ÇÊûó, ÁöÑÂ±±Ê∞¥, „ÄÇ]‰πüÂèØ‰ª•ÊåáÂÆöÊãÜÂàÜÈ°πÁöÑÈïøÂ∫¶Ôºö1234String value = "a-b-c-d-e";List&lt;String&gt; result = Splitter.on("-").limit(4).splitToList(value);System.out.println(result); // [a, b, c, d-e]ÂèØ‰ª•ÁúãÂà∞d-eÊ≤°ÊúâË¢´ÊãÜÂàÜ„ÄÇFilter&amp;TransformFilterÂèØ‰ª•ÈÄöËøáGuavaÊèê‰æõÁöÑPredicatesÊù•ÂÆûÁé∞ÂêÑÁßçÈõÜÂêàËøáÊª§Êìç‰Ωú„ÄÇÊØîÂ¶ÇÊâæÂá∫ÈõÜÂêà‰∏≠ÂåÖÂê´aÁöÑÂÖÉÁ¥†Ôºö1234List&lt;String&gt; list = Lists.newArrayList("java", "javascript", "c#", "golang");Iterable&lt;String&gt; result = Iterables.filter(list, Predicates.containsPattern("a"));System.out.println(result); // [java, javascript, golang]‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰πüÂèØ‰ª•ÈÄöËøáCollections2.filterÊù•ÂÆûÁé∞Ôºö1234List&lt;String&gt; list = Lists.newArrayList("java", "javascript", "c#", "golang");Collection&lt;String&gt; result = Collections2.filter(list, Predicates.containsPattern("a"));System.out.println(result);Êàë‰ª¨‰πüÂèØ‰ª•ÁºñÂÜôËá™ÂÆö‰πâÁöÑËøáÊª§ËßÑÂàôÔºö1234567891011121314 Predicate&lt;String&gt; predicate = new Predicate&lt;String&gt;() &#123; @Override public boolean apply(@Nullable String input) &#123; return input.endsWith("a") || input.contains("#"); &#125; @Override public boolean test(String input) &#123; return this.apply(input); &#125;&#125;;List&lt;String&gt; list = Lists.newArrayList("java", "javascript", "c#", "golang");Collection&lt;String&gt; result = Collections2.filter(list, predicate);System.out.println(result); // [java, c#]ÁªÑÂêàÂ§ö‰∏™ËøáÊª§Êù°‰ª∂Ôºö1234567List&lt;String&gt; list = Lists.newArrayList("java", "javascript", "c#", "golang");Collection&lt;String&gt; result = Collections2.filter(list, Predicates.or( Predicates.containsPattern("a"), Predicates.containsPattern("#") ));System.out.println(result); // [java, javascript, c#, golang]ËøáÊª§ÊéâÈõÜÂêà‰∏≠ÁöÑnullÔºö1234List&lt;String&gt; list = Lists.newArrayList("java", null," python");Collection&lt;String&gt; result = Collections2.filter(list, Predicates.&lt;String&gt;notNull());System.out.println(result); // [java, python]Ê£ÄÊµãÈõÜÂêà‰∏≠ÊòØÂê¶ÊúâÂåÖÂê´aÂ≠óÁ¨¶ÁöÑÂÖÉÁ¥†Ôºö1234List&lt;String&gt; list = Lists.newArrayList("java", "c#"," python");boolean result = Iterables.any(list, Predicates.containsPattern("a"));System.out.println(result); // trueTransformÂ∞ÜÈõÜÂêàËΩ¨Êç¢‰∏∫ÂÖÉÁ¥†ÈïøÂ∫¶ÁöÑÈõÜÂêàÔºö1234567891011Function&lt;String, Integer&gt; function = new Function&lt;String, Integer&gt;() &#123; @Nullable @Override public Integer apply(@Nullable String s) &#123; return s.length(); &#125;&#125;;List&lt;String&gt; list = Lists.newArrayList("java", "c#", " python");Iterable&lt;Integer&gt; result = Iterables.transform(list, function);System.out.println(result); // [4, 2, 7]‰∏äÈù¢ÁöÑ‰æãÂ≠êÂêåÊ†∑ÂèØ‰ª•‰ΩøÁî®Collections2.transformÊù•‰ª£ÊõøIterables.transform„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáFunctions.forPredicateÊù•ÂàõÂª∫ÁÆÄÂçïÁöÑËΩ¨Êç¢ÂáΩÊï∞FunctionÔºö1234List&lt;String&gt; list = Lists.newArrayList("java", "c#", " python");Iterable&lt;Boolean&gt; result = Iterables.transform(list, Functions.forPredicate(Predicates.containsPattern("#")));System.out.println(result); // [false, true, false]ÁªÑÂêàÂ§ö‰∏™ËΩ¨Êç¢ÂáΩÊï∞Ôºö1234567891011121314151617Function&lt;String, String&gt; f1 = new Function&lt;String, String&gt;() &#123; @Override public String apply(String input) &#123; return "i like " + input; &#125;&#125;;Function&lt;String, String&gt; f2 = new Function&lt;String, String&gt;() &#123; @Override public String apply(String input) &#123; return input.toUpperCase(); &#125;&#125;;List&lt;String&gt; list = Lists.newArrayList("java", "c#", " python");Iterable&lt;String&gt; result = Iterables.transform(list, Functions.compose(f2, f1));System.out.println(result); // [I LIKE JAVA, I LIKE C#, I LIKE PYTHON]Êàë‰ª¨‰πüÂèØ‰ª•Â∞ÜËøáÊª§ÂíåËΩ¨Êç¢ÁªÑÂêàÂú®‰∏ÄËµ∑‰ΩøÁî®Ôºö12345678910111213141516171819202122232425Predicate&lt;String&gt; predicate = new Predicate&lt;String&gt;() &#123; @Override public boolean apply(String input) &#123; return input.startsWith("j"); &#125; @Override public boolean test(String input) &#123; return this.apply(input); &#125;&#125;;Function&lt;String, String&gt; function = new Function&lt;String,String&gt;()&#123; @Override public String apply(String input) &#123; return input.toUpperCase(); &#125;&#125;;List&lt;String&gt; list = Lists.newArrayList("java", "c#", "javascript", "python");ImmutableList&lt;String&gt; result = FluentIterable.from(list) .filter(predicate) .transform(function) .toList();System.out.println(result); // [JAVA, JAVASCRIPT]IterablesÈô§‰∫Ü‰∏äÈù¢Ê∂âÂèäÁöÑIterablesÁöÑÁî®Ê≥ïÂ§ñÔºåÂÖ∂ËøòÊèê‰æõ‰∫ÜËÆ∏Â§öÂà´ÁöÑÂ•ΩÁî®ÁöÑÊñπÊ≥ï„ÄÇremoveAllËØ•ÊñπÊ≥ïÁî®‰∫é‰ªéÁâπÂÆöÈõÜÂêà‰∏≠Âà†Èô§ÁªôÂÆöÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†Ôºö123456List&lt;String&gt; removeFrom = Lists.newArrayList("a", "b", "c");List&lt;String&gt; elementsToRemove = Lists.newArrayList("b", "c");boolean result = Iterables.removeAll(removeFrom, elementsToRemove);System.out.println(result); // trueSystem.out.println(removeFrom); // [a]retainAllretainAllÁöÑÂäüËÉΩÂíåremoveAllÁõ∏ÂèçÔºö123456List&lt;String&gt; removeFrom = Lists.newArrayList("a", "b", "c");List&lt;String&gt; elementsToRetain = Lists.newArrayList("b", "c");boolean result = Iterables.retainAll(removeFrom, elementsToRetain);System.out.println(result); // trueSystem.out.println(removeFrom); // [b, c]addAlladdAllÁî®‰∫éÂ∞ÜÁªôÂÆöÈõÜÂêàÊ∑ªÂä†Âà∞Áé∞ÊúâÈõÜÂêà‰∏≠Ôºö12345List&lt;String&gt; list1 = Lists.newArrayList("a", "b", "c");List&lt;String&gt; list2 = Lists.newArrayList("b", "c");boolean b = Iterables.addAll(list1, list2); // trueSystem.out.println(list1); // [a, b, c, b, c]concatconcatÁî®‰∫éÂêàÂπ∂ÈõÜÂêàÔºåÁªÑÊàê‰∏Ä‰∏™Êñ∞ÁöÑÈõÜÂêàÂØπË±°Ôºö12345List&lt;String&gt; list1 = Lists.newArrayList("a", "b", "c");List&lt;String&gt; list2 = Lists.newArrayList("b", "c");Iterable&lt;String&gt; result = Iterables.concat(list1,list2);System.out.println(result); // [a, b, c, b, c]IterablesËøòÂåÖÂê´ËÆ∏Â§öÂà´ÁöÑÂÆûÁî®ÊñπÊ≥ïÔºöËøôÈáåÂ∞±‰∏ç‰∏Ä‰∏ÄÊºîÁ§∫‰∫ÜÔºåÊ∫ú‰∫Ü„ÄÇÊõ¥ËØ¶ÁªÜÁöÑÂÜÖÂÆπÂèØ‰ª•ÂèÇËÄÉguavaÂÆòÊñπwikiÔºöhttps://github.com/google/guava/wiki]]></content>
      <tags>
        <tag>guava</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FEBS-VueÊñáÊ°£]]></title>
    <url>%2FFEBS-Vue-Document.html</url>
    <content type="text"><![CDATA[FEBS-Vue‰∏∫FEBS-ShiroÁöÑÂâçÂêéÁ´ØÂàÜÁ¶ªÁâàÊú¨ÔºåÂâçÁ´Ø‰ΩøÁî®VueÂÖ®ÂÆ∂Ê°∂ÔºåÁªÑ‰ª∂Â∫ìÈááÁî®Ant-Design-Vue„ÄÇÊñáÊ°£Èáå‰ªãÁªçÁöÑÁ§∫‰æãÊòØÂú®Windows10Êìç‰ΩúÁ≥ªÁªü‰∏ãÂÆåÊàêÁöÑÔºåÂêéÁ´ØÁºñËæëÂô®‰ΩøÁî®IDEAÔºåÂâçÁ´ØÁºñËæëÂô®‰ΩøÁî®WebStorm„ÄÇÈ°πÁõÆÂØºÂÖ•‰∏∫‰∫ÜÊñπ‰æøÔºåÊàëÁõ¥Êé•Âú®Ê°åÈù¢‰∏äÈÄöËøágit bashÂÖãÈöÜÈ°πÁõÆÔºö1git clone https://github.com/wuyouzhuguli/FEBS-Vue.gitÂÖãÈöÜÂêéÔºåÊ°åÈù¢‰∏äÂ§öÂá∫‰∏Ä‰∏™FEBS-VueÊñá‰ª∂Â§πÔºöbackend‰∏∫ÂêéÁ´ØÈ°πÁõÆÊ∫êÁ†ÅÔºåfrontend‰∏∫ÂâçÁ´ØÈ°πÁõÆÊ∫êÁ†ÅÔºåsql‰∏∫Êï∞ÊçÆÂ∫ìÂàùÂßãÂåñËÑöÊú¨„ÄÇJDKÂõ†‰∏∫È°πÁõÆÁî®Âà∞‰∫ÜJDK 8ÁöÑ‰∏Ä‰∫õÁâπÊÄßÔºåÊâÄ‰ª•JDKÊúÄ‰ΩéÁâàÊú¨‰∏çËÉΩ‰Ωé‰∫é8„ÄÇJDK 8ÂÆòÊñπ‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://www.oracle.com/technetwork/java/javase/downloads„ÄÇÂÆâË£ÖNode.jsNode.js‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://nodejs.cn/download/ÔºåÁõ¥Êé•ÂÆâË£ÖÂç≥ÂèØÔºåÂÆâË£ÖÂêéÊü•ÁúãÂÖ∂ÁâàÊú¨ÔºöNode.jsÈõÜÊàê‰∫ÜnpmÔºåÊâÄ‰ª•ÂÆâË£ÖÂ•ΩNode.jsÂêénpmÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫ÜÔºöÂÆâË£ÖyarnÂú®CMD‰∏≠ÊâßË°ånpm install -g yarnÔºöÂõ†‰∏∫Êàë‰πãÂâçÂ∑≤ÁªèÂÆâË£ÖËøá‰∫ÜÔºåÊâÄ‰ª•ËøôÈáåÂ∞±Áõ∏ÂΩì‰∫éÊõ¥Êñ∞Êìç‰Ωú‰∫Ü„ÄÇÂÆâË£ÖRedisÈ°πÁõÆÁºìÂ≠òÊï∞ÊçÆÂ∫ì‰ΩøÁî®ÁöÑÊòØRedisÔºåÊâÄ‰ª•Âú®ÂØºÂÖ•È°πÁõÆÂâçÈúÄÂÖàÂÆâË£ÖRedis„ÄÇRedis WindowsÁâàÊú¨‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://github.com/MicrosoftArchive/redis/releases„ÄÇÁõ¥Êé•‰∏ãËΩΩzipÁâàÊú¨Ëß£ÂéãÂà∞‰ªªÊÑèÁõÆÂΩïÂç≥ÂèØ„ÄÇ‰∏ãËΩΩÂêéÔºå‰ΩøÁî®cmdÂëΩ‰ª§ÂàáÊç¢Âà∞RedisÊ†πÁõÆÂΩïÔºåÁÑ∂ÂêéËøêË°åredis-server.exe redis.windows.confÂêØÂä®Âç≥ÂèØÔºöÂÆâË£ÖMySQLÈ°πÁõÆÊï∞ÊçÆÂ∫ìÈááÁî®MySQLÁ§æÂå∫ÁâàÔºåÁâàÊú¨‰∏∫5.7.x„ÄÇ‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://dev.mysql.com/downloads/windows/installer/5.7.htmlÂØºÂÖ•SQL‰ΩøÁî®NavicatÊñ∞Âª∫‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÔºöÁÑ∂ÂêéÂØºÂÖ•SQLËÑöÊú¨Âç≥ÂèØ„ÄÇÂØºÂÖ•ÂêéÁ´ØÈ°πÁõÆIDEAÈÄâÊã©backendÔºö ÂØºÂÖ•È°πÁõÆÂêéÂÆâË£ÖlombokÊèí‰ª∂Ôºà‰∏çÊáÇlombokÂèØ‰ª•Ëá™Ë°åÁôæÂ∫¶ÔºâÔºöÂÆâË£ÖÂÆåÈáçÂêØIDEAÊâçËÉΩÁîüÊïà„ÄÇÊé•ÁùÄ‰øÆÊîπapplication.yml‰∏≠ÁöÑÊï∞ÊçÆÂ∫ìÂíåRedisÈÖçÁΩÆÔºå‰øÆÊîπÂÆåÂêéÈÄöËøáSpring BootÂÖ•Âè£Á±ªFebsApplicationÂêØÂä®Âç≥ÂèØÔºöÊé•ÁùÄÂºÄÂßãÂØºÂÖ•ÂâçÁ´ØÈ°πÁõÆ„ÄÇÂØºÂÖ•ÂâçÁ´ØÈ°πÁõÆ‰ΩøÁî®WebStormÊâìÂºÄfrontendÔºöÂú®ÁªàÁ´ØËæìÂÖ•yarn installÂëΩ‰ª§ÂÆâË£Ö‰æùËµñÔºöÁ®çÁ≠âÁâáÂàªÔºåÂùê‰∏éÊîæÂÆΩ„ÄÇ‰æùËµñ‰∏ãËΩΩÂÆåÊØïÂêéÔºåËæìÂÖ•yarn startÂêØÂä®ÂâçÁ´ØÈ°πÁõÆÔºöÊµèËßàÂô®ËÆøÈóÆhttp://localhost:8081ÔºöÈ°πÁõÆÈÉ®ÁΩ≤‰∏ãÈù¢ÊºîÁ§∫Â¶Ç‰ΩïÂú®Linux‰∏äÈÉ®ÁΩ≤È°πÁõÆÔºà‰æãÂ≠êÈááÁî®CentOS7Ôºâ„ÄÇVagrantÂàõÂª∫CentOSÂ¶ÇÊûúÊ≤°ÊúâCentOS7ÁéØÂ¢ÉÂèØ‰ª•‰ΩøÁî®VagrantÂø´ÈÄüÊûÑÂª∫‰∏Ä‰∏™CentOSËôöÊãüÊú∫ÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉÔºöhttps://mrbird.cc/Create-Virtual-Machine-By-Vagrant.html„ÄÇÊàëÁöÑCentOSËôöÊãüÊú∫IP‰∏∫Ôºö192.168.33.11„ÄÇ‰ΩøÁî®ÂëΩ‰ª§timedatectl set-timezone Asia/ShanghaiËÆæÁΩÆCentOSÁöÑÊó∂Âå∫Ôºå‰ª•ÈÅøÂÖçÂõ†Êó∂Âå∫Â∏¶Êù•ÁöÑBUG„ÄÇJavaÁéØÂ¢ÉÈÖçÁΩÆ‰∏ãËΩΩJDK8Ôºö‰∏ãËΩΩÂêéÈÄöËøáVagrantÂÖ±‰∫´Âà∞CentOS‰∏äÔºàÊàëÁöÑVagrantfileÂÖ±‰∫´ÈÖçÁΩÆ‰∏∫config.vm.synced_folder &quot;./sync&quot;, &quot;/vagrant&quot;, create:true, owner: &quot;root&quot;, group: &quot;root&quot;ÔºâÔºöÂÆâË£ÖJDK8Ôºö1rpm -ivh jdk-8u201-linux-x64.rpmÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè1vim /etc/profileËæìÂÖ•‰ª•‰∏ãÂÜÖÂÆπÔºö12345JAVA_HOME=/usr/java/jdk1.8.0_201JRE_HOME=/usr/java/jdk1.8.0_201/jrePATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/binCLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/libexport JAVA_HOME JRE_HOME PATH CLASSPATHÁÑ∂ÂêéÊâßË°å‰ª•‰∏ãÂëΩ‰ª§ÁîüÊïàÔºö1source /etc/profileÂÆâË£ÖDockerÂÆòÊñπÂÆâË£ÖÊïôÁ®ãÔºöhttps://docs.docker.com/install/linux/docker-ce/centos/ÂÆâË£ÖÂ•ΩÂêéÔºöDockerÂÆâË£ÖMySQLÊãâÂèñMySQLÈïúÂÉèÔºöÂàõÂª∫ÁõÆÂΩï/home/febs/mysqlÔºåÁî®‰∫éÊåÇËΩΩMySQL volume:ÂàõÂª∫MySQLÂÆπÂô®Ôºö12docker run -d --name mysql -p 3306:3306 \ -v $(pwd):/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 mysql:5.7.25‰ΩøÁî®NavicatËøûÊé•MySQLÔºåÂàõÂª∫Êï∞ÊçÆÂ∫ìÂπ∂ÂØºÂÖ•Êï∞ÊçÆÔºöËøûÊé•ÔºöÊñ∞Â¢ûÊï∞ÊçÆÂ∫ìÔºöÂØºÂÖ•SQLÔºöDockerÂÆâË£ÖRedisÊãâÂèñRedisÈïúÂÉè:ÂàõÂª∫Êñá‰ª∂/home/febs/redis/conf/redis.confÔºåÁî®‰∫éÊåÇËΩΩRedisÈÖçÁΩÆÊñá‰ª∂ÔºöÂàõÂª∫RedisÂÆπÂô®Ôºö123docker run -d -p 6379:6379 \ -v /home/febs/redis/conf/redis.conf:/usr/local/etc/redis/redis.conf \ --name redis redis:4.0.14ÊµãËØïËøûÊé•ÔºöDockerÂÆâË£ÖNginxÊãâÂèñNginxÈïúÂÉè:ÂàõÂª∫ÁõÆÂΩï/home/febs/nginx/html„ÄÅ/home/febs/nginx/logsÂíåÊñá‰ª∂/home/febs/nginx/conf/nginx.confÔºåÂàÜÂà´Áî®‰∫éÊåÇËΩΩNginx html,logsÂíåÈÖçÁΩÆÊñá‰ª∂Ôºö ‰øÆÊîπNginxÈÖçÁΩÆÔºö1vim /home/febs/nginx/conf/nginx.conf1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465worker_processes auto;error_log /var/log/nginx/error.log;pid /run/nginx.pid;events &#123; worker_connections 1024;&#125;http &#123; include mime.types; default_type application/octet-stream; server_names_hash_bucket_size 512; client_header_buffer_size 32k; large_client_header_buffers 4 32k; client_max_body_size 50m; sendfile on; tcp_nopush on; keepalive_timeout 60; tcp_nodelay on; fastcgi_connect_timeout 300; fastcgi_send_timeout 300; fastcgi_read_timeout 300; fastcgi_buffer_size 64k; fastcgi_buffers 4 64k; fastcgi_busy_buffers_size 128k; fastcgi_temp_file_write_size 256k; fastcgi_intercept_errors on; gzip on; gzip_min_length 1k; gzip_buffers 16 8k; gzip_http_version 1.1; gzip_comp_level 6; gzip_types text/plain application/javascript application/x-javascript text/javascript text/css application/xml; gzip_vary on; gzip_proxied expired no-cache no-store private auth; gzip_disable "MSIE [1-6]\."; limit_conn_zone $binary_remote_addr zone=perip:10m; limit_conn_zone $server_name zone=perserver:10m; server_tokens off; access_log off; server &#123; listen 80; server_name localhost; charset utf-8; location / &#123; root html; index index.html index.htm; &#125; location = /50x.html &#123; root html; &#125; &#125;&#125;ÂàõÂª∫NginxÂÆπÂô®Ôºö1234docker run --name nginx -d -p 80:80 \-v /home/febs/nginx/conf/nginx.conf:/etc/ng inx/nginx.conf \-v /home/febs/nginx/html:/etc/nginx/html \-v /home/febs/nginx/logs:/var/log/nginx nginx:1.14.2ÂêéÁ´ØÈÉ®ÁΩ≤‰øÆÊîπapplication.yml‰∏≠Êï∞ÊçÆÂ∫ìÂíåredisÁöÑËøûÊé•ÈÖçÁΩÆÔºåÁÑ∂ÂêéÂ∞ÜÈ°πÁõÆÊâìÂåÖÊàêjarÊñá‰ª∂ÔºöÂ∞ÜÂÖ∂‰∏ä‰º†Âà∞CentOSËôöÊãüÊú∫ÁöÑ/home/febs/backendÁõÆÂΩï‰∏ãÔºöÁºñÂÜô‰∏Ä‰∏™ÂêØÂä®È°πÁõÆÁöÑshellËÑöÊú¨Ôºö1vim start.shÂÜÖÂÆπÔºö1nohup java -jar febs_shiro_jwt-1.0.0-release.jar &amp;ÁºñÂÜô‰∏Ä‰∏™ÂÖ≥ÂÅúÈ°πÁõÆÁöÑshellËÑöÊú¨Ôºö1vim stop.shÂÜÖÂÆπÔºö12345678PID=`ps -ef | grep febs_shiro_jwt-1.0.0-release.jar | grep -v grep | awk &apos;&#123;print $2&#125;&apos;`if [ -z &quot;$PID&quot; ]then echo Application is already stoppedelse echo kill $PID kill -9 $PIDfiÊéàÊùÉÔºåËÆ©ÂÖ∂ÂèØÊâßË°åÔºöÂêØÂä®È°πÁõÆÔºö123./start.shtail -f nohup.outÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫ÁöÑÊó∂ÂÄôËØ¥ÊòéÂêéÁ´ØÈ°πÁõÆÂêØÂä®ÊàêÂäüÔºöÂâçÁ´ØÈÉ®ÁΩ≤ÁÇπÂáªbuildÔºöbuildÊàêÂäüÂêéÔºåÈ°πÁõÆÁõÆÂΩï‰∏ã‰ºöÂ§öÂá∫‰∏™distÊñá‰ª∂Â§πÔºöÂ∞ÜËøô‰∏™ÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂‰∏ä‰º†Âà∞CentOSËôöÊãüÊú∫ÁöÑ/home/febs/nginx/htmlÁõÆÂΩï‰∏ãÔºöÊµèËßàÂô®ËÆøÈóÆhttp://192.168.33.11/#/loginÔºöÈÉ®ÁΩ≤ÊàêÂäü„ÄÇÂêéÁ´ØÈ°πÁõÆ‰ªãÁªçÈ°πÁõÆÁªìÊûÑÂêéÁ´ØÈ°πÁõÆÁõÆÂΩïÂê´‰πâÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöCommonÊ®°ÂùóÊñá‰ª∂Âê´‰πâÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂÖ∂‰ªñÊ®°ÂùóÊñá‰ª∂ËæÉ‰∏∫ÁÆÄÂçïÔºåÁï•„ÄÇÈ°πÁõÆÈÖçÁΩÆapplication.yml‰∏≠Èô§‰∫ÜÂêÑ‰∏™Êèí‰ª∂ÁöÑÈÖçÁΩÆÂ§ñÔºå‰∏ãÈù¢ËøôÊÆµÈÖçÁΩÆ‰∏∫Á≥ªÁªüÈÖçÁΩÆÔºö123456789febs: openAopLog: true max: batch: insert: num: 1000 shiro: anonUrl: /login,/logout/**,/regist,/user/check/** jwtTimeOut: 3600febs.opAopLogÔºöBooleanÁ±ªÂûãÔºåÂèñÂÄºtrueÊàñËÄÖfalseÔºå‰∏∫trueÊó∂Ë°®Á§∫ÂºÄÂêØAopËÆ∞ÂΩïÁî®Êà∑ÁöÑÊìç‰ΩúÊó•ÂøóÔºåÈúÄÂíå@LogÊ≥®Ëß£Êê≠ÈÖç‰ΩøÁî®„ÄÇfebs.max.batch.insert.numÔºöÂ§ß‰∫é0ÁöÑIntegerÁ±ªÂûãÔºåË°®Á§∫ExcelÂØºÂÖ•Êï∞ÊçÆÂΩìÊ¨°ÊúÄÂ§ßÂÖ•Â∫ìÊï∞ÊçÆÈáè„ÄÇÊØîÂ¶ÇÈÖçÁΩÆ‰∏∫1000Êó∂Ë°®Á§∫ÂÖ•Â∫ìÊï∞ÊçÆ‰∏∫0 - 1000 Êó∂Âè™‰ºöÊâßË°å‰∏ÄÊ¨°Êï∞ÊçÆÂ∫ìcommitÊìç‰Ωú„ÄÇfebs.shiro.anonUrlÔºöÈÄóÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤ÔºåË°®Á§∫Êó†ÈúÄËÆ§ËØÅÁöÑËµÑÊ∫êË∑ØÂæÑ„ÄÇfebs.shiro.jwtTimeOutÔºöÂÆö‰πâtokenÁöÑÊúâÊïàÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÁßíÔºåÊØîÂ¶ÇÈÖçÁΩÆ‰∏∫3600Ë°®Á§∫token‰∏Ä‰∏™Â∞èÊó∂ÂÜÖÊúâÊïàÔºåË∂ÖËøá‰∏Ä‰∏™Â∞èÊó∂ÂêéÈúÄË¶ÅÈáçÊñ∞ËÆ§ËØÅ„ÄÇRESTfulÈ£éÊ†ºÁ≥ªÁªüControllerÊö¥Èú≤ÁöÑÊé•Âè£È£éÊ†º‰∏∫RESTfulÔºåÈÄöËøáHTTPËØ∑Ê±ÇmethodÂØπÂ∫îÂ¢ûÂà†ÊîπÊü•Á±ªÂûãÔºåÂìçÂ∫î‰ª•HTTP Code‰∏∫Âà§Êñ≠‰æùÊçÆ„ÄÇ‰ª•UserController‰∏∫‰æãÂ≠êÔºöÊèèËø∞ËØ∑Ê±ÇURIHTTP MethodÂØπÂ∫îÊ≥®Ëß£Êü•ËØ¢ÊâÄÊúâÁî®Êà∑/userGET@GetMappingÈÄöËøáÁî®Êà∑ÂêçÊü•ÊâæÁî®Êà∑/user/{username}GET@GetMappingÊñ∞Â¢ûÁî®Êà∑/userPOST@PostMapping‰øÆÊîπÁî®Êà∑/userPUT@PutMappingÂà†Èô§Áî®Êà∑/user/{userIds}DELETE@DeleteMappingControllerÊñπÊ≥ïÈªòËÆ§ËøîÂõû200Áä∂ÊÄÅÁ†ÅÔºåÂΩìControllerÊäõÂá∫ÂºÇÂ∏∏Êó∂ÔºåÂ∞ÜË¢´GlobalExceptionHandlerÊçïËé∑ÔºåÊ†πÊçÆÂºÇÂ∏∏Á±ªÂûãÔºåËøîÂõû‰∏çÂêåÁöÑHTTPÁä∂ÊÄÅÁ†ÅÔºöÂºÇÂ∏∏Á±ªÂûãÂºÇÂ∏∏ÊèèËø∞Áä∂ÊÄÅÁ†ÅÂØπÂ∫îÂ∏∏ÈáèUnauthorizedExceptionÊú™ÊéàÊùÉÂºÇÂ∏∏ÔºåÊùÉÈôê‰∏çË∂≥ÂºÇÂ∏∏403HttpStatus.FORBIDDENLimitAccessExceptionÈôêÂà∂ËÆøÈóÆÂºÇÂ∏∏ÔºåËÆøÈóÆÊé•Âè£È¢ëÁéáË∂ÖÈôê429HttpStatus.TOO_MANY_REQUESTSConstraintViolationExceptionÂèÇÊï∞Ê†°È™åÂºÇÂ∏∏ÔºàÊôÆÈÄö‰º†ÂèÇÔºâ400HttpStatus.BAD_REQUESTBindExceptionÂèÇÊï∞Ê†°È™åÂºÇÂ∏∏ÔºàÂÆû‰ΩìÂØπË±°‰º†ÂèÇÔºâ400HttpStatus.BAD_REQUESTFebsExceptionFebsÁ≥ªÁªüÂºÇÂ∏∏500HttpStatus.INTERNAL_SERVER_ERRORExceptionÂâ©‰∏ãÁöÑÂà´ÁöÑÂºÇÂ∏∏500HttpStatus.INTERNAL_SERVER_ERRORÊï∞ÊçÆÂ±Ç‰ªãÁªçÈ¶ñÂÖàÁúãÁúãË°®ÁªìÊûÑÔºåÊï∞ÊçÆË°®ÂàÜ‰∏∫‰∏§Â§ßÁ±ªÔºöÂÆöÊó∂‰ªªÂä°Ë°®ÂíåÁ≥ªÁªüË°®„ÄÇ‰ª•qrtz_ÂºÄÂ§¥ÁöÑ‰∏∫ÂÆöÊó∂‰ªªÂä°Ë°®ÔºåÂÆöÊó∂‰ªªÂä°ÊúâÂü∫‰∫éÂÜÖÂ≠òÂíåÂü∫‰∫éÊï∞ÊçÆÂ∫ìÁöÑÔºåÊú¨È°πÁõÆ‰ΩøÁî®ÁöÑÊòØÂü∫‰∫éÊï∞ÊçÆÂ∫ìÊåÅ‰πÖÂåñÁöÑÊñπÊ°à„ÄÇË¶ÅËØ¶ÁªÜ‰∫ÜËß£Ëøô‰∫õË°®ÂèØ‰ª•ÂèÇËÄÉÊñáÁ´†Ôºöhttp://www.ibloger.net/article/2650.html„ÄÇ‰ª•t_ÂºÄÂ§¥ÁöÑ‰∏∫Á≥ªÁªüË°®Ôºå‰ªñ‰ª¨ÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãÊâÄÁ§∫:ÂÖ∂‰∏≠Áî®Êà∑ÔºåËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÁöÑÂÖ≥Á≥ª‰ΩøÁî®ÁöÑÊòØÁªèÂÖ∏ÁöÑRBACÔºàRole-Based Access ControlÔºåÂü∫‰∫éËßíËâ≤ÁöÑËÆøÈóÆÊéßÂà∂ÔºâÊ®°Âûã„ÄÇÁÆÄÂçïÂú∞ËØ¥Ôºå‰∏Ä‰∏™Áî®Êà∑Êã•ÊúâËã•Âπ≤ËßíËâ≤ÔºåÊØè‰∏Ä‰∏™ËßíËâ≤Êã•ÊúâËã•Âπ≤ÊùÉÈôê„ÄÇËøôÊ†∑ÔºåÂ∞±ÊûÑÈÄ†Êàê‚ÄúÁî®Êà∑-ËßíËâ≤-ÊùÉÈôê‚ÄùÁöÑÊéàÊùÉÊ®°Âûã„ÄÇÂú®ËøôÁßçÊ®°Âûã‰∏≠ÔºåÁî®Êà∑‰∏éËßíËâ≤‰πãÈó¥ÔºåËßíËâ≤‰∏éÊùÉÈôê‰πãÈó¥Ôºå‰∏ÄËà¨ËÄÖÊòØÂ§öÂØπÂ§öÁöÑÂÖ≥Á≥ª„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊØîÂ¶ÇËé∑ÂèñÁî®Êà∑Âêç‰∏∫mrbridÁöÑÁî®Êà∑ÊùÉÈôêËøáÁ®ã‰∏∫ÔºöÈÄöËøámrbridÁöÑuser_id‰ªét_user_roleË°®Ëé∑ÂèñÂØπÂ∫îÁöÑrole_idÔºõÈÄöËøáÁ¨¨1Ê≠•Ëé∑ÂèñÁöÑrole_id‰ªét_role_menuË°®Ëé∑ÂèñÂØπÂ∫îÁöÑmenu_idÔºõÈÄöËøáÁ¨¨2Ê≠•Ëé∑ÂèñÁöÑmenu_id‰ªét_menuËé∑ÂèñmenuÁõ∏ÂÖ≥‰ø°ÊÅØÔºàt_menuË°®ÁöÑpermission‰∏∫ÊùÉÈôê‰ø°ÊÅØÔºâ„ÄÇÊï∞ÊçÆÂ±ÇÊ°ÜÊû∂ÈááÁî®ÁöÑÊòØMybatisPlusÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉÂÖ∂ÂÆòÊñπÊñáÊ°£„ÄÇÁôªÂΩïÈÄªËæëÁôªÂΩïÈÄªËæëÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöËøôÈáåËØ¶ÁªÜËØ¥Êòé‰∏ãÁôªÂΩïÊàêÂäüÂêéÁöÑÁ¨¨2Ê≠•„ÄÅÁ¨¨3Ê≠•ÂíåÁ¨¨4Ê≠•ËøáÁ®ãÔºöÁôªÂΩïÊàêÂäüÂêéÔºåÊûÑÂª∫‰∏Ä‰∏™ActiveUserÂØπË±°ÔºåÂØπÂ∫îLoginControllerÁöÑsaveTokenToRedisÊñπÊ≥ïÔºö123456789// ÊûÑÂª∫Âú®Á∫øÁî®Êà∑ActiveUser activeUser = new ActiveUser();activeUser.setUsername(user.getUsername());activeUser.setIp(ip);activeUser.setToken(token.getToken());activeUser.setLoginAddress(AddressUtil.getCityInfo(DbSearcher.BTREE_ALGORITHM, ip));// zset Â≠òÂÇ®ÁôªÂΩïÁî®Êà∑Ôºåscore ‰∏∫ËøáÊúüÊó∂Èó¥Êà≥this.redisService.zadd(FebsConstant.ACTIVE_USERS_ZSET_PREFIX, Double.valueOf(token.getExipreAt()), mapper.writeValueAsString(activeUser));ÁÑ∂ÂêéÂ∞ÜactiveUserÈÄöËøáObjectMapperÂ∫èÂàóÂåñÔºåÂ≠òÂÇ®Âà∞RedisÁöÑZsetÁªìÊûÑ‰∏≠Ôºåkey‰∏∫FebsConstant.ACTIVE_USERS_ZSET_PREFIXÔºàÂç≥febs.user.activeÔºâÔºåscore‰∏∫ËØ•Áî®Êà∑ÁöÑÁôªÂΩïËøáÊúüÊó∂Èó¥ÁÇπÔºàÂç≥TokeanÂ§±ÊïàÊó∂Èó¥ÔºâÔºåvalue‰∏∫activeUserÂ∫èÂàóÂåñÂÄº„ÄÇZsetÂÆÉÂú®setÁöÑÂü∫Á°Ä‰∏äÂ¢ûÂä†‰∫Ü‰∏Ä‰∏™È°∫Â∫èÂ±ûÊÄß(score)ÔºåËøô‰∏ÄÂ±ûÊÄßÂú®Ê∑ªÂä†‰øÆÊîπÂÖÉÁ¥†Êó∂ÂÄôÂèØ‰ª•ÊåáÂÆöÔºåÊØèÊ¨°ÊåáÂÆöÂêéÔºåzset‰ºöËá™Âä®ÈáçÊñ∞ÊåâÊñ∞ÁöÑÂÄºË∞ÉÊï¥È°∫Â∫è„ÄÇÂèØ‰ª•ÁêÜËß£‰∏∫Êúâ‰∏§ÂàóÂ≠óÊÆµÁöÑÊï∞ÊçÆË°®Ôºå‰∏ÄÂàóÂ≠òvalue,‰∏ÄÂàóÂ≠òÈ°∫Â∫èÁºñÂè∑„ÄÇZsetÁõ∏ÂÖ≥RedisÂëΩ‰ª§ÔºöÊØîÂ¶ÇÂΩìÁî®Êà∑mrbirdÂíåscottÁôªÂΩïÊàêÂäüÂêéÔºåÊü•ÁúãRedis‰∏≠key‰∏∫febs.user.activeÁöÑÂÄº:Â∞ÜTokenÂ≠òÂÇ®Âà∞Redis‰∏≠Ôºökey‰∏∫febs.cache.token.tokenÂÄº.IPÂú∞ÂùÄÔºåvalue‰∏∫tokenÂÄºÔºåÊúâÊïàÊúü‰∏∫tokenÁöÑÊúâÊïàÊó∂ÈïøÔºåÂØπÂ∫îÁöÑÊ∫êÁ†Å‰∏∫Ôºö1this.redisService.set(FebsConstant.TOKEN_CACHE_PREFIX + token.getToken() + StringPool.DOT + ip, token.getToken(), properties.getShiro().getJwtTimeOut() * 1000);ËøîÂõûÂâçÁ´ØÊï∞ÊçÆÂåÖÊã¨:1.tokenÔºötokenÔºõ2.exipreTimeÔºötokenËøáÊúüÊó∂Èó¥Ôºõ3.rolesÔºöÁî®Êà∑ËßíËâ≤Ôºõ4.permissionsÔºöÁî®Êà∑ÊùÉÈôêÔºõ5.configÔºöÁî®Êà∑ÂâçÁ´ØÁ≥ªÁªüÁöÑ‰∏™ÊÄßÂåñÈÖçÁΩÆÔºõ6.userÔºöÁî®Êà∑‰ø°ÊÅØÔºà‰∏çÂåÖÊã¨ÂØÜÁ†ÅÔºâ„ÄÇÊØîÂ¶ÇÔºåÂΩìscottÁôªÂΩïÊàêÂäüÂêéÔºåÊé•Âè£ËøîÂõûÊï∞ÊçÆÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&#123; "data": &#123; "permissions": [ "user:view", "dept:add", "job:export", "role:add", "weather:view", "dict:add", "role:export", "menu:export", "dict:view", "dept:export", "menu:view", "role:view", "user:export", "job:add", "dept:view", "article:view", "log:view", "jobLog:view", "job:view", "menu:add", "redis:view", "log:export", "movie:coming", "movie:hot", "dict:export", "jobLog:export", "user:online" ], "roles": [ "Ê≥®ÂÜåÁî®Êà∑" ], "exipreTime": "20190408164521", "config": &#123; "userId": 2, "theme": "light", "layout": "side", "multiPage": "0", "fixSiderbar": "1", "fixHeader": "1", "color": "rgb(24, 144, 255)" &#125;, "user": &#123; "userId": 2, "username": "scott", "password": "it's a secret", "deptId": 6, "deptName": null, "email": "scott@qq.com", "mobile": "15134627380", "status": "1", "createTime": "2017-12-30 00:16:39", "modifyTime": "2019-01-18 08:59:09", "lastLoginTime": "2019-01-23 15:34:28", "ssex": "0", "description": "ÊàëÊòØscottÔºåÂóØÂóØ", "avatar": "gaOngJwsRYRaVAuXXcmB.png", "roleId": null, "roleName": null, "sortField": null, "sortOrder": null, "createTimeFrom": null, "createTimeTo": null, "id": "YBeNsMJ0ZJm9GLJP1rlO", "authCacheKey": 2 &#125;, "token": "b25e39b47e774b4a05b3cb1555fc377f209457c3fd339d373d3fca7b1ea8be56fdc6ed05b7ffb0700e7300d242fb83b57b35f45ee1b155b380 50a0671bc7ec54c2f2c5bb1aee0651db69ce657e8ab4cb79c7806209103eda8a3bc96aa043a0144ae3c06a5c549ac168183c37384cf4347e450bf11644d0 62c31ffc3059e63722f849a5de4540b0d1" &#125;, "message": "ËÆ§ËØÅÊàêÂäü"&#125;RedisÁºìÂ≠ò‰ΩøÁî®Âú®Á≥ªÁªüÂêØÂä®ËøáÁ®ã‰∏≠Ôºå‰ºöÊâßË°åÁºìÂ≠òÂàùÂßãÂåñÊìç‰ΩúÔºåÂØπÂ∫îCacheInitRunnerÔºö123456789101112131415161718192021@Slf4j@Componentpublic class CacheInitRunner implements ApplicationRunner &#123; @Autowired private UserService userService; @Autowired private UserManager userManager; @Override public void run(ApplicationArguments args) &#123; try &#123; ... List&lt;User&gt; list = this.userService.list(); for (User user : list) &#123; userManager.loadUserRedisCache(user); &#125; &#125; catch (Exception e) &#123; ... &#125; &#125;&#125;loadUserRedisCacheÊñπÊ≥ïÊ∫êÁ†ÅÔºö123456789101112131415/** * Â∞ÜÁî®Êà∑Áõ∏ÂÖ≥‰ø°ÊÅØÊ∑ªÂä†Âà∞ RedisÁºìÂ≠ò‰∏≠ * * @param user user */public void loadUserRedisCache(User user) throws Exception &#123; // ÁºìÂ≠òÁî®Êà∑ cacheService.saveUser(user.getUsername()); // ÁºìÂ≠òÁî®Êà∑ËßíËâ≤ cacheService.saveRoles(user.getUsername()); // ÁºìÂ≠òÁî®Êà∑ÊùÉÈôê cacheService.savePermissions(user.getUsername()); // ÁºìÂ≠òÁî®Êà∑‰∏™ÊÄßÂåñÈÖçÁΩÆ cacheService.saveUserConfigs(String.valueOf(user.getUserId()));&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåËøô‰∏ÄËøáÁ®ãÁºìÂ≠ò‰∫ÜÁî®Êà∑‰ø°ÊÅØÔºåÁî®Êà∑ËßíËâ≤‰ø°ÊÅØÔºåÁî®Êà∑ÊùÉÈôê‰ø°ÊÅØÔºåÁî®Êà∑ÁöÑ‰∏™ÊÄßÂåñÈÖçÁΩÆ‰ø°ÊÅØÔºåÁºìÂ≠òÁöÑÂÖ∑‰ΩìkeyÔºåvalueÂèØ‰ª•Êü•Áúã‰∏äËø∞ÊñπÊ≥ïÁöÑÊ∫êÁ†Å„ÄÇÈÄöËøáËøô‰∫õÁºìÂ≠òÔºåÂèØ‰ª•‰∏ÄÂÆöÁ®ãÂ∫¶ÂáèËΩªÊï∞ÊçÆÂ∫ìÂéãÂäõ„ÄÇ‰∏∫‰∫ÜÁ°Æ‰øùÁºìÂ≠òÊï∞ÊçÆÂíåÊï∞ÊçÆÂ∫ìÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºåÊàë‰ª¨ÂøÖÈ°ªÂú®Áõ∏Â∫îÁöÑÂ¢ûÂà†ÊîπÊñπÊ≥ï‰∏≠ÂØπÁºìÂ≠òËøõË°åÁõ∏Â∫îÁöÑÊìç‰Ωú„ÄÇÊØîÂ¶ÇÂú®Êõ¥Êñ∞Áî®Êà∑ÂêéÔºåÊàë‰ª¨ÂøÖÈ°ªÊõ¥Êñ∞Áõ∏Â∫îÁöÑÁºìÂ≠òÔºö12345678910@Override@Transactionalpublic void updateUser(User user) throws Exception &#123; ... // ÈáçÊñ∞Â∞ÜÁî®Êà∑‰ø°ÊÅØÔºåÁî®Êà∑ËßíËâ≤‰ø°ÊÅØÔºåÁî®Êà∑ÊùÉÈôê‰ø°ÊÅØ Âä†ËΩΩÂà∞ redis‰∏≠ cacheService.saveUser(user.getUsername()); cacheService.saveRoles(user.getUsername()); cacheService.savePermissions(user.getUsername());&#125;ÊÄªËÄåË®Ä‰πãÔºåÁî±‰∫éÊàë‰ª¨Âú®ÂêØÂä®Á≥ªÁªüÁöÑÊó∂ÂÄôÁºìÂ≠ò‰∫ÜÁî®Êà∑‰ø°ÊÅØÔºåÁî®Êà∑ËßíËâ≤‰ø°ÊÅØÔºåÁî®Êà∑ÊùÉÈôê‰ø°ÊÅØÔºåÁî®Êà∑ÁöÑ‰∏™ÊÄßÂåñÈÖçÁΩÆ‰ø°ÊÅØÔºå‰πãÂêéÂá°ÊòØÊ∂âÂèäÂà∞Áî®Êà∑ÔºåÁî®Êà∑ËßíËâ≤ÔºåÁî®Êà∑ÊùÉÈôêÂíåÁî®Êà∑‰∏™ÊÄßÂåñÈÖçÁΩÆÁöÑÁõ∏ÂÖ≥Â¢ûÂà†ÊîπÊìç‰ΩúÈÉΩÂ∫îËØ•ÂèäÊó∂Êõ¥Êñ∞Áõ∏Â∫îÁöÑÁºìÂ≠ò„ÄÇÂä®ÊÄÅË∑ØÁî±ÊûÑÂª∫‰∏çÂêåÁöÑÁî®Êà∑Êã•Êúâ‰∏çÂêåÁöÑËßíËâ≤Ôºå‰∏çÂêåÁöÑËßíËâ≤ÂØπÂ∫î‰∏çÂêåÁöÑËèúÂçïÊùÉÈôêÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÈÄöËøáÁî®Êà∑Êü•ËØ¢Âá∫ÂØπÂ∫îÁöÑËèúÂçïÂàóË°®ÔºåÁÑ∂ÂêéÂ∞ÜÂàóË°®ÊûÑÂª∫ÊàêÂâçÁ´ØÈúÄË¶ÅÁöÑË∑ØÁî±ÔºàÂâçÁ´ØÊ†πÊçÆË∑ØÁî±‰ø°ÊÅØÊûÑÂª∫Áõ∏Â∫îÁöÑËèúÂçïÔºâ„ÄÇËé∑ÂèñÁî®Êà∑Ë∑ØÁî±ÁöÑÊñπÊ≥ï‰∏∫UserManage#getUserRoutersÔºö12345678910111213141516171819202122/** * ÈÄöËøáÁî®Êà∑ÂêçÊûÑÂª∫ VueË∑ØÁî± * * @param username Áî®Êà∑Âêç * @return Ë∑ØÁî±ÈõÜÂêà */public ArrayList&lt;VueRouter&lt;Menu&gt;&gt; getUserRouters(String username) &#123; List&lt;VueRouter&lt;Menu&gt;&gt; routes = new ArrayList&lt;&gt;(); List&lt;Menu&gt; menus = this.menuService.findUserMenus(username); menus.forEach(menu -&gt; &#123; VueRouter&lt;Menu&gt; route = new VueRouter&lt;&gt;(); route.setId(menu.getMenuId().toString()); route.setParentId(menu.getParentId().toString()); route.setIcon(menu.getIcon()); route.setPath(menu.getPath()); route.setComponent(menu.getComponent()); route.setName(menu.getMenuName()); route.setMeta(new RouterMeta(true, null)); routes.add(route); &#125;); return TreeUtil.buildVueRouter(routes);&#125;ÊØîÂ¶ÇÁî®Êà∑mrbirdÂØπÂ∫îÁöÑÂâçÁ´ØË∑ØÁî±‰∏∫Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277[ &#123; "path": "/", "name": "‰∏ªÈ°µ", "component": "MenuView", "icon": "none", "redirect": "/home", "children": [ &#123; "path": "/home", "name": "Á≥ªÁªü‰∏ªÈ°µ", "component": "HomePageView", "icon": "home", "meta": &#123; "closeable": false, "isShow": true &#125; &#125;, &#123; "path": "/system", "name": "Á≥ªÁªüÁÆ°ÁêÜ", "component": "PageView", "icon": "appstore-o", "meta": &#123; "closeable": true &#125;, "children": [ &#123; "path": "/system/user", "name": "Áî®Êà∑ÁÆ°ÁêÜ", "component": "system/user/User", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/system/role", "name": "ËßíËâ≤ÁÆ°ÁêÜ", "component": "system/role/Role", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/system/menu", "name": "ËèúÂçïÁÆ°ÁêÜ", "component": "system/menu/Menu", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/system/dept", "name": "ÈÉ®Èó®ÁÆ°ÁêÜ", "component": "system/dept/Dept", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/system/dict", "name": "Â≠óÂÖ∏ÁÆ°ÁêÜ", "component": "system/dict/Dict", "icon": "", "meta": &#123; "closeable": true &#125; &#125; ] &#125;, &#123; "path": "/monitor", "name": "Á≥ªÁªüÁõëÊéß", "component": "PageView", "icon": "dashboard", "meta": &#123; "closeable": true &#125;, "children": [ &#123; "path": "/monitor/online", "name": "Âú®Á∫øÁî®Êà∑", "component": "monitor/Online", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/monitor/systemlog", "name": "Á≥ªÁªüÊó•Âøó", "component": "monitor/SystemLog", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/monitor/redis/info", "name": "RedisÁõëÊéß", "component": "monitor/RedisInfo", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/monitor/httptrace", "name": "ËØ∑Ê±ÇËøΩË∏™", "component": "monitor/Httptrace", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/monitor/system", "name": "Á≥ªÁªü‰ø°ÊÅØ", "component": "EmptyPageView", "meta": &#123; "closeable": true &#125;, "children": [ &#123; "path": "/monitor/system/jvminfo", "name": "JVM‰ø°ÊÅØ", "component": "monitor/JvmInfo", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/monitor/system/tomcatinfo", "name": "Tomcat‰ø°ÊÅØ", "component": "monitor/TomcatInfo", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/monitor/system/info", "name": "ÊúçÂä°Âô®‰ø°ÊÅØ", "component": "monitor/SystemInfo", "meta": &#123; "closeable": true &#125; &#125; ] &#125; ] &#125;, &#123; "path": "/job", "name": "‰ªªÂä°Ë∞ÉÂ∫¶", "component": "PageView", "icon": "clock-circle-o", "meta": &#123; "closeable": true &#125;, "children": [ &#123; "path": "/job/job", "name": "ÂÆöÊó∂‰ªªÂä°", "component": "quartz/job/Job", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/job/log", "name": "Ë∞ÉÂ∫¶Êó•Âøó", "component": "quartz/log/JobLog", "icon": "", "meta": &#123; "closeable": true &#125; &#125; ] &#125;, &#123; "path": "/web", "name": "ÁΩëÁªúËµÑÊ∫ê", "component": "PageView", "icon": "compass", "meta": &#123; "closeable": true &#125;, "children": [ &#123; "path": "/web/weather", "name": "Â§©Ê∞îÊü•ËØ¢", "component": "web/Weather", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/web/dailyArticle", "name": "ÊØèÊó•‰∏ÄÊñá", "component": "web/DailyArticle", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/web/movie", "name": "ÂΩ±ËßÜËµÑËÆØ", "component": "EmptyPageView", "meta": &#123; "closeable": true &#125;, "children": [ &#123; "path": "/web/movie/hot", "name": "Ê≠£Âú®ÁÉ≠Êò†", "component": "web/MovieHot", "icon": "", "meta": &#123; "closeable": true &#125; &#125;, &#123; "path": "/web/movie/coming", "name": "Âç≥Â∞Ü‰∏äÊò†", "component": "web/MovieComing", "icon": "", "meta": &#123; "closeable": true &#125; &#125; ] &#125; ] &#125;, &#123; "path": "/others", "name": "ÂÖ∂‰ªñÊ®°Âùó", "component": "PageView", "icon": "coffee", "meta": &#123; "closeable": true &#125;, "children": [ &#123; "path": "/others/excel", "name": "ÂØºÂÖ•ÂØºÂá∫", "component": "others/Excel", "meta": &#123; "closeable": true &#125; &#125; ] &#125;, &#123; "path": "/profile", "name": "‰∏™‰∫∫‰∏≠ÂøÉ", "component": "personal/Profile", "icon": "none", "meta": &#123; "closeable": true, "isShow": false &#125; &#125; ] &#125;, &#123; "path": "*", "name": "404", "component": "error/404" &#125;]ÂÖ≥‰∫éVue RouterÂèØ‰ª•ÂèÇËÄÉÔºöhttps://router.vuejs.org/zh/„ÄÇÊùÉÈôêÊéßÂà∂Êàë‰ª¨ÂèØ‰ª•Âú®ControllerÁöÑÊñπÊ≥ï‰∏äÈÄöËøáShiroÁõ∏ÂÖ≥ÁöÑÊùÉÈôêÊ≥®Ëß£ËøõË°åÊùÉÈôêÊéßÂà∂ÔºåÊØîÂ¶Ç‰∏ãÈù¢Ëøô‰∏™ÊñπÊ≥ïÂè™ÊúâÂΩìÁî®Êà∑Êã•Êúâuser:addÊùÉÈôêÊâçËÉΩËÆøÈóÆÔºö12345@PostMapping("/user")@RequiresPermissions("user:add")public void addUser(@Valid User user) &#123; ...&#125;ÂΩìÁî®Êà∑Ê≤°Êúâuser:addÊùÉÈôêÊó∂ÔºåÁ≥ªÁªüÂ∞ÜÊäõÂá∫UnauthorizedExceptionÂºÇÂ∏∏ÔºåÁî±GlobalExceptionHandlerÊçïËé∑ÔºåËøîÂõû403Áä∂ÊÄÅÁ†Å„ÄÇÊõ¥Â§öShiroÊèê‰æõÁöÑÊùÉÈôêÊ≥®Ëß£ÂèØ‰ª•ÂèÇËÄÉÔºö1234567891011121314// Ë°®Á§∫ÂΩìÂâçSubjectÂ∑≤ÁªèÈÄöËøáloginËøõË°å‰∫ÜË∫´‰ªΩÈ™åËØÅÔºõÂç≥Subject.isAuthenticated()ËøîÂõûtrue„ÄÇ@RequiresAuthentication // Ë°®Á§∫ÂΩìÂâçSubjectÂ∑≤ÁªèË∫´‰ªΩÈ™åËØÅÊàñËÄÖÈÄöËøáËÆ∞‰ΩèÊàëÁôªÂΩïÁöÑ„ÄÇ@RequiresUser // Ë°®Á§∫ÂΩìÂâçSubjectÊ≤°ÊúâË∫´‰ªΩÈ™åËØÅÊàñÈÄöËøáËÆ∞‰ΩèÊàëÁôªÂΩïËøáÔºåÂç≥ÊòØÊ∏∏ÂÆ¢Ë∫´‰ªΩ„ÄÇ@RequiresGuest // Ë°®Á§∫ÂΩìÂâçSubjectÈúÄË¶ÅËßíËâ≤adminÂíåuser„ÄÇ @RequiresRoles(value=&#123;"admin", "user"&#125;, logical= Logical.AND) // Ë°®Á§∫ÂΩìÂâçSubjectÈúÄË¶ÅÊùÉÈôêuser:aÊàñuser:b„ÄÇ@RequiresPermissions (value=&#123;"user:a", "user:b"&#125;, logical= Logical.OR)Â§öÊï∞ÊçÆÊ∫êÂ§öÊï∞ÊçÆÊ∫êÈááÁî®ÁöÑÊòØMyBatis PlusÊèê‰æõÁöÑÊñπÊ°àÔºöhttps://mp.baomidou.com/guide/dynamic-datasource.html‰ª£Á†ÅÁîüÊàêÁõÆÂâçÂè™ÊúâÂêéÁ´Ø‰ª£Á†ÅÁîüÊàêÂô®ÔºåÈááÁî®ÁöÑÊòØMyBatis PlusÊèê‰æõÁöÑÊñπÊ°àÔºåÂØπÂ∫îÊ∫êÁ†Åcc.mrbird.febs.common.generator.CodeGeneratorÔºåÊâßË°åÂÖ∂mainÊñπÊ≥ïÔºåÁÑ∂ÂêéËæìÂÖ•Ë°®ÂêçÔºåÂ∞±ÂèØ‰ª•ÁîüÊàêÁõ∏Â∫îÁöÑdomain„ÄÅdao„ÄÅservice„ÄÅcontroller„ÄÅmapper.xml„ÄÇExcelÂØºÂÖ•ÂØºÂá∫ExcelÂØºÂÖ•ÂØºÂá∫‰ΩøÁî®ÁöÑÊèí‰ª∂‰∏∫Ôºöhttps://gitee.com/wuwenze/ExcelKitÔºåÂÖ∑‰ΩìÊìç‰ΩúËßÑÂàôÂèØ‰ª•‰ªîÁªÜÈòÖËØªËøô‰∏™È°πÁõÆÁöÑReadme.mdÁªü‰∏ÄÂèÇÊï∞Ê†°È™åÁªü‰∏ÄÂèÇÊï∞Ê†°È™åÂèØ‰ª•ÂèÇËÄÉÊàëÁöÑÂçöÂÆ¢ÔºöSpring BootÈÖçÂêàHibernate ValidatorÂèÇÊï∞Ê†°È™å„ÄÇSQLÊâìÂç∞SQLÊâìÂç∞ÈááÁî®ÁöÑÊèí‰ª∂‰∏∫p6spyÔºåË¶ÅÂºÄÂêØp6spyÁöÑSQLÊâìÂç∞ÂäüËÉΩÔºåÂè™ÈúÄÂ∞ÜÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠ÁöÑspring.datasource.dynamic.p6spyÊîπ‰∏∫trueÂç≥ÂèØ„ÄÇÂú®p6spy.propertiesÊñá‰ª∂‰∏≠ÂèØ‰ª•ÈÖçÁΩÆÊâìÂç∞ËßÑÂàôÔºö123456789101112# ‰ΩøÁî®Êó•ÂøóÁ≥ªÁªüËÆ∞ÂΩï sqlappender=com.p6spy.engine.spy.appender.Slf4JLogger# Ëá™ÂÆö‰πâÊó•ÂøóÊâìÂç∞logMessageFormat=cc.mrbird.febs.common.config.P6spySqlFormatConfig# ÊòØÂê¶ÂºÄÂêØÊÖ¢ SQLËÆ∞ÂΩïoutagedetection=true# ÊÖ¢ SQLËÆ∞ÂΩïÊ†áÂáÜ 2 Áßíoutagedetectioninterval=2# ÂºÄÂêØËøáÊª§filter=true# ÂåÖÂê´ QRTZÁöÑ‰∏çÊâìÂç∞exclude=QRTZSQLÊâìÂç∞ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011122019-04-08 15:29:50 | INFO | http-nio-9527-exec-1 | p6spy | 2019-04-08 15:29:50 | ËÄóÊó∂ 73 ms | SQL ËØ≠Âè•ÔºöUPDATE t_user SET last_login_time=&apos;2019-04-08T15:29:50.724+0800&apos; WHERE username = &apos;mrbird&apos;;2019-04-08 15:29:50 | INFO | http-nio-9527-exec-1 | p6spy | 2019-04-08 15:29:50 | ËÄóÊó∂ 0 ms | SQL ËØ≠Âè•ÔºöSELECT USER_ID,username,password,dept_id,email,mobile,status,create_time,modify_time,last_login_time,ssex,description,avatar FROM t_user WHERE username = &apos;mrbird&apos;;2019-04-08 15:29:52 | INFO | http-nio-9527-exec-1 | p6spy | 2019-04-08 15:29:52 | ËÄóÊó∂ 489 ms | SQL ËØ≠Âè•ÔºöINSERT INTO t_login_log ( username, login_time, location, ip ) VALUES ( &apos;mrbird&apos;, &apos;2019-04-08T15:29:50.874+0800&apos;, &apos;&apos;, &apos;127.0.0.1&apos; );2019-04-08 15:45:20 | INFO | http-nio-9527-exec-7 | p6spy | 2019-04-08 15:45:20 | ËÄóÊó∂ 1 ms | SQL ËØ≠Âè•ÔºöUPDATE t_user SET last_login_time=&apos;2019-04-08T15:45:20.193+0800&apos; WHERE username = &apos;scott&apos;;2019-04-08 15:45:20 | INFO | http-nio-9527-exec-7 | p6spy | 2019-04-08 15:45:20 | ËÄóÊó∂ 0 ms | SQL ËØ≠Âè•ÔºöSELECT USER_ID,username,password,dept_id,email,mobile,status,create_time,modify_time,last_login_time,ssex,description,avatar FROM t_user WHERE username = &apos;scott&apos;;2019-04-08 15:45:21 | INFO | http-nio-9527-exec-7 | p6spy | 2019-04-08 15:45:21 | ËÄóÊó∂ 89 ms | SQL ËØ≠Âè•ÔºöINSERT INTO t_login_log ( username, login_time, location, ip ) VALUES ( &apos;scott&apos;, &apos;2019-04-08T15:45:20.466+0800&apos;, &apos;&apos;, &apos;127.0.0.1&apos; );ÂºÄÂêØËøô‰∏™ÂäüËÉΩÊñπ‰æøÊàë‰ª¨ÂºÄÂèëË∞ÉËØïÔºåÁîü‰∫ßÁéØÂ¢ÉÊúÄÂ•ΩÂÖ≥Èó≠Ëøô‰∏™ÂäüËÉΩÔºåÂõ†‰∏∫ÂÆÉÂú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏ä‰ºöÈÄ†ÊàêÊÄßËÉΩËÄóÊçü„ÄÇÊõ¥Â§öp6psyÁöÑÈÖçÁΩÆÂèØ‰ª•ÂèÇËÄÉÔºöhttps://p6spy.readthedocs.io/en/latest/configandusage.htmlAOPËÆ∞ÂΩïÊìç‰ΩúÊó•ÂøóÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉÊàëÁöÑÂçöÂÆ¢ÔºöSpring Boot AOPËÆ∞ÂΩïÁî®Êà∑Êìç‰ΩúÊó•Âøó„ÄÇËÆ∞ÂΩïÊìç‰ΩúÊó•ÂøóÁöÑËøáÁ®ãÂèØ‰ª•Êîπ‰∏∫ÂºÇÊ≠•ÁöÑÊñπÂºèÔºåËøôÊ†∑‰∏ç‰ºöÈÄ†ÊàêÊé•Âè£ÊÄßËÉΩÊçüËÄóÔºåÂèØ‰ª•ÂèÇËÄÉÊàëÁöÑÂçöÂÆ¢ÔºöSpring Boot ‰∏≠ÁöÑÂºÇÊ≠•Ë∞ÉÁî®„ÄÇÊé•Âè£ÈôêÊµÅÈ°πÁõÆ‰∏≠@LimitÊ≥®Ëß£ÂèØ‰ª•ÂÆûÁé∞Êé•Âè£ÁöÑÈôêÊµÅ„ÄÇÂç≥ËßÑÂÆö‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊúÄÂ§öÂèØ‰ª•ËÆøÈóÆËØ•Êé•Âè£ÁöÑÊ¨°Êï∞ÔºåË∂ÖËøáËøô‰∏™Ê¨°Êï∞ÂàôÊäõÂá∫LimitAccessExceptionÂºÇÂ∏∏„ÄÇ@LimitÊ≥®Ëß£Â¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819import cc.mrbird.common.domain.LimitType;import java.lang.annotation.*;@Target(ElementType.METHOD)@Retention(RetentionPolicy.RUNTIME)public @interface Limit &#123; // ËµÑÊ∫êÂêçÁß∞ÔºåÁî®‰∫éÊèèËø∞Êé•Âè£ÂäüËÉΩ String name() default ""; // ËµÑÊ∫ê key String key() default ""; // key prefix String prefix() default ""; // Êó∂Èó¥ÁöÑÔºåÂçï‰ΩçÁßí int period(); // ÈôêÂà∂ËÆøÈóÆÊ¨°Êï∞ int count(); // ÈôêÂà∂Á±ªÂûã LimitType limitType() default LimitType.CUSTOMER;&#125;ÂÖ∂‰∏≠ÔºålimitTypeÂåÖÂê´‰º†ÁªüÁ±ªÂûãÈôêÊµÅÂíåÊ†πÊçÆIPÈôêÊµÅÔºåÂÖ∂‰∏∫Êûö‰∏æÁ±ªÂûãÔºö123456public enum LimitType &#123; // ‰º†ÁªüÁ±ªÂûã CUSTOMER, // Ê†πÊçÆ IP ÈôêÂà∂ IP;&#125;‰∏ãÈù¢‰∏æ‰∏™‰ΩøÁî®Á§∫‰æãÔºö1234567891011121314151617import cc.mrbird.common.annotation.Limit;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RestController;import java.util.concurrent.atomic.AtomicInteger;@RestControllerpublic class TestController &#123; private static final AtomicInteger ATOMIC_INTEGER = new AtomicInteger(); @Limit(key = "test", period = 600, count = 10, name = "resource", prefix = "limit") @GetMapping("/test") public int testLimiter() &#123; return ATOMIC_INTEGER.incrementAndGet(); &#125;&#125;‰∏äÈù¢ÈÖçÁΩÆË°®Á§∫‰ΩøÁî®‰º†ÁªüÈôêÊµÅÁöÑÊñπÂºèÔºåtestLimiterÊñπÊ≥ïÂú®600ÁßíÂÜÖÊúÄÂ§öÂè™ËÉΩËÆøÈóÆ10Ê¨°„ÄÇÂΩì600ÁßíÂÜÖÁ¨¨11Ê¨°ËÆøÈóÆËØ•Êé•Âè£Êó∂ÔºåÊé•Âè£Â∞ÜÊäõÂá∫LimitAccessExceptionÂºÇÂ∏∏„ÄÇShiroÊïôÁ®ãApache ShiroÁÆÄ‰ªãSpring Boot ShiroÁî®Êà∑ËÆ§ËØÅSpring Boot Shiro Ê∑ªÂä†ËÆ∞‰ΩèÊàëÂäüËÉΩSpring Boot ShiroÊùÉÈôêÊéßÂà∂Spring Boot Shiro‰∏≠‰ΩøÁî®ÁºìÂ≠òSpring Boot Thymeleaf‰∏≠‰ΩøÁî®ShiroÊ†áÁ≠æSpring Boot ShiroÂú®Á∫ø‰ºöËØùÁÆ°ÁêÜShiroÂ¶Ç‰ΩïÊï¥ÂêàJWTShiroÂ¶Ç‰ΩïÊï¥ÂêàJWTÂèØ‰ª•ÂèÇËÄÉÔºöhttps://gitlab.com/wuyouzhuguli/shiro_jwt‰∏∫‰∫ÜÁÆÄÂåñËøáÁ®ãÔºå‰æãÂ≠êÊ≤°Êúâ‰ΩøÁî®Êï∞ÊçÆÂ∫ìÂíåRedisÔºåÂú®ÂÜÖÂ≠ò‰∏≠Ê®°Êãü‰∫Ü‰∏§‰∏™Áî®Êà∑Ôºö12345678910111213141516171819202122/** * Ê®°Êãü‰∏§‰∏™Áî®Êà∑ * * @return List&lt;User&gt; */private static List&lt;User&gt; users() &#123; List&lt;User&gt; users = new ArrayList&lt;&gt;(); // Ê®°Êãü‰∏§‰∏™Áî®Êà∑Ôºö // 1. Áî®Êà∑Âêç adminÔºåÂØÜÁ†Å 123456ÔºåËßíËâ≤ adminÔºàÁÆ°ÁêÜÂëòÔºâÔºåÊùÉÈôê "user:add"Ôºå"user:view" // 1. Áî®Êà∑Âêç scottÔºåÂØÜÁ†Å 123456ÔºåËßíËâ≤ registÔºàÊ≥®ÂÜåÁî®Êà∑ÔºâÔºåÊùÉÈôê "user:view" users.add(new User( "admin", "bfc62b3f67a4c3e57df84dad8cc48a3b", new HashSet&lt;&gt;(Collections.singletonList("admin")), new HashSet&lt;&gt;(Arrays.asList("user:add", "user:view")))); users.add(new User( "scott", "11bd73355c7bbbac151e4e4f943e59be", new HashSet&lt;&gt;(Collections.singletonList("regist")), new HashSet&lt;&gt;(Collections.singletonList("user:view")))); return users;&#125;ÂèØ‰ª•‰ΩøÁî®PostManËøõË°åÊé•Âè£ÊµãËØï„ÄÇÂâçÁ´ØÈ°πÁõÆ‰ªãÁªçÈ°πÁõÆÁªìÊûÑÈ°πÁõÆÊú∫ÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊï∞ÊçÆÂ≠òÂÇ®Âú®Áî®Êà∑ÁôªÂΩïÊàêÂäüÂêéÔºåÈ°πÁõÆ‰ºöÈÄöËøáVuexÂíålocalstorageÂ≠òÂÇ®‰∏Ä‰∫õÊï∞ÊçÆ‰æõÈ°πÁõÆÂÖ®Â±Ä‰ΩøÁî®„ÄÇÊ≠£Â¶ÇÂâçÈù¢ÊâÄËØ¥ÔºåÂΩìÁî®Êà∑ÁôªÂΩïÊàêÂäüÂêéÔºåÂêéÁ´Ø‰ºöËøîÂõûÂ¶Ç‰∏ãÊï∞ÊçÆÔºötokenÔºötokenÔºõexipreTimeÔºötokenËøáÊúüÊó∂Èó¥ÔºõrolesÔºöÁî®Êà∑ËßíËâ≤ÔºõpermissionsÔºöÁî®Êà∑ÊùÉÈôêÔºõconfigÔºöÁî®Êà∑ÂâçÁ´ØÁ≥ªÁªüÁöÑ‰∏™ÊÄßÂåñÈÖçÁΩÆÔºõuserÔºöÁî®Êà∑‰ø°ÊÅØÔºà‰∏çÂåÖÊã¨ÂØÜÁ†ÅÔºâ„ÄÇÂú®src/views/login/Login.vueÊñá‰ª∂‰∏≠‰Ω†‰ºöÁúãÂà∞Â¶Ç‰∏ã‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526...mapMutations(&#123; setToken: 'account/setToken', setExpireTime: 'account/setExpireTime', setPermissions: 'account/setPermissions', setRoles: 'account/setRoles', setUser: 'account/setUser', setTheme: 'setting/setTheme', setLayout: 'setting/setLayout', setMultipage: 'setting/setMultipage', fixSiderbar: 'setting/fixSiderbar', fixHeader: 'setting/fixHeader', setColor: 'setting/setColor'&#125;),saveLoginData (data) &#123; this.setToken(data.token) this.setExpireTime(data.exipreTime) this.setUser(data.user) this.setPermissions(data.permissions) this.setRoles(data.roles) this.setTheme(data.config.theme) this.setLayout(data.config.layout) this.setMultipage(data.config.multiPage === '1') this.fixSiderbar(data.config.fixSiderbar === '1') this.fixHeader(data.config.fixHeader === '1') this.setColor(data.config.color)&#125;ËøôÂ∞ÜÊääÁôªÂΩïÊé•Âè£ËøîÂõûÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âà∞VuexÂíåÊµèËßàÂô®ÁöÑlocalstorage‰∏≠„ÄÇÂ≠òÂÇ®TokenÁöÑÂéüÂõ†ÊòØÔºåÂêéÁª≠ÈúÄË¶ÅËÆ§ËØÅÁöÑËØ∑Ê±ÇÔºåÈÉΩ‰ºöÂú®ËØ∑Ê±ÇÂ§¥‰∏≠Êê∫Â∏¶Ëøô‰∏™TokenÔºõÂ≠òÂÇ®ExpireTimeÁöÑÂéüÂõ†ÊòØ‰∏∫‰∫Ü‰ºòÂåñËÆ§ËØÅËøáÊúüÊó∂ÁöÑÁî®Êà∑‰ΩìÈ™åÔºõÂ≠òÂÇ®Áî®Êà∑‰ø°ÊÅØÁöÑÂéüÂõ†ÊòØ‰∏∫‰∫Ü‰æõ‰∏™‰∫∫‰∏≠ÂøÉÂíåÁ≥ªÁªü‰∏ªÈ°µ‰ΩøÁî®ÔºõÂ≠òÂÇ®ËßíËâ≤ÂíåÊùÉÈôêÊòØ‰∏∫‰∫ÜÂà§Êñ≠È°µÈù¢ÊåâÈíÆÊ∏≤Êüì‰∏éÂê¶ÔºõÂ≠òÂÇ®Áî®Êà∑‰∏™ÊÄßÂåñÈÖçÁΩÆÁöÑÂéüÂõ†ÊòØ‰∏∫‰∫ÜÈÄöËøáËøô‰∫õÈÖçÁΩÆÊ∏≤Êüì‰∏çÂêåÁöÑÁ≥ªÁªüÁïåÈù¢„ÄÇË∑ØÁî±ÂØºËà™ÂÆàÂç´Ë∑ØÁî±ÂØºËà™ÂÆàÂç´‰ª£Á†Å‰ΩçÁΩÆÔºöfrontend/src/router/index.jsÔºö12345678910111213141516171819202122232425262728293031323334353637383940...const whiteList = ['/login']let asyncRouter// ÂØºËà™ÂÆàÂç´ÔºåÊ∏≤ÊüìÂä®ÊÄÅË∑ØÁî±router.beforeEach((to, from, next) =&gt; &#123; if (whiteList.indexOf(to.path) !== -1) &#123; next() &#125; let token = db.get('USER_TOKEN') let user = db.get('USER') let userRouter = get('USER_ROUTER') if (token.length &amp;&amp; user) &#123; if (!asyncRouter) &#123; if (!userRouter) &#123; request.get(`menu/$&#123;user.username&#125;`).then((res) =&gt; &#123; asyncRouter = res.data save('USER_ROUTER', asyncRouter) go(to, next) &#125;) &#125; else &#123; asyncRouter = userRouter go(to, next) &#125; &#125; else &#123; next() &#125; &#125; else &#123; next('/login') &#125;&#125;)function go (to, next) &#123; asyncRouter = filterAsyncRouter(asyncRouter) router.addRoutes(asyncRouter) next(&#123;...to, replace: true&#125;)&#125;...‰∏ªË¶ÅÈÄªËæëÂàÜ‰∏∫‰∏ãÈù¢Âá†Ê≠•ÔºöÂà§Êñ≠Ë¶ÅË∑≥ËΩ¨ÁöÑË∑ØÁî±Âú∞ÂùÄÊòØÂê¶Âú®Ë∑ØÁî±ÁôΩÂêçÂçïÂÜÖÔºåÊòØÁöÑËØùÊîæË°åÔºå‰∏çÊòØÁöÑËØùËøõË°åÁ¨¨2Ê≠•Ôºõ‰ªéÂÜÖÂ≠ò‰∏≠Ëé∑ÂèñtokenÂíåÁî®Êà∑‰ø°ÊÅØÔºåÂ¶ÇÊûúÂ≠òÂú®ÂàôËøõË°åÁ¨¨3Ê≠•Ôºå‰∏çÂ≠òÂú®Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÔºõÂà§Êñ≠Âä®ÊÄÅË∑ØÁî±‰ø°ÊÅØÊòØÂê¶Â≠òÂú®ÔºåÂ≠òÂú®ÂàôÊîæË°åÔºå‰∏çÂ≠òÂú®ÂàôËøõË°åÁ¨¨4Ê≠•ÔºõÂà§Êñ≠Áî®Êà∑Ë∑ØÁî±ÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩÔºåÊòØÁöÑËØùÂ∞ÜÁî®Êà∑Ë∑ØÁî±ËµãÂÄºÁªôÂä®ÊÄÅË∑ØÁî±ÔºåÂπ∂ÊâßË°åË∑ØÁî±Ê∑ªÂä†Êìç‰ΩúÔºåÁÑ∂ÂêéË∑≥ËΩ¨ÔºõÂ¶ÇÊûúÁî®Êà∑Ë∑ØÁî±‰∏çÂ≠òÂú®ÔºåÂàôÊâßË°åÁ¨¨5Ê≠•ÔºõÊ†πÊçÆÁî®Êà∑Âêç‰ªéÂêéÂè∞Ëé∑ÂèñÁî®Êà∑Ë∑ØÁî±‰ø°ÊÅØÔºåÂπ∂Â∞ÜÂÖ∂‰øùÂ≠òÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂÜçÊâßË°åË∑ØÁî±Ê∑ªÂä†Êìç‰ΩúÔºåÁÑ∂ÂêéË∑≥ËΩ¨„ÄÇÊùÉÈôêÊéßÂà∂Âú®ÂâçÁ´ØÈ°µÈù¢‰∏≠ÔºåÊàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫ÜÈÄöËøá‰∏çÂêåÁî®Êà∑Ëé∑Âèñ‰∏çÂêåÁöÑË∑ØÁî±Ôºå‰ª•Ê≠§Ê∏≤ÊüìÂá∫‰∏çÂêåÁöÑËèúÂçïÂàóË°®ÂäüËÉΩÔºåÊ≠§Â§ñÈ°µÈù¢‰∏äÁöÑÊìç‰ΩúÊåâÈíÆ‰πüÂøÖÈ°ªËøõË°åÊùÉÈôêÊéßÂà∂„ÄÇÊ≠£Â¶ÇÂâçÈù¢ÊâÄËø∞ÔºåÂú®ÁôªÂΩïÊàêÂäüÂêéÔºåÁ≥ªÁªü‰ºöÊääÁî®Êà∑ÁöÑËßíËâ≤ÂíåÊùÉÈôê‰ø°ÊÅØÂ≠òÂÇ®Âà∞‰∫ÜÂÜÖÂ≠ò‰∏≠ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáËøô‰∫õ‰ø°ÊÅØÁªìÂêà Ëá™ÂÆö‰πâVueÊåá‰ª§ ÁöÑÊñπÂºèÊù•ÂÆûÁé∞ÊåâÈíÆÁöÑÊùÉÈôêÊéßÂà∂„ÄÇÁõÆÂâçÊîØÊåÅÁöÑÂíåÊùÉÈôêÁõ∏ÂÖ≥ÁöÑVueÊåá‰ª§ÊúâÔºöÊåá‰ª§Âê´‰πâÁ§∫‰æãv-hasPermissionÂΩìÁî®Êà∑Êã•ÊúâÂàóÂá∫ÁöÑÊùÉÈôêÁöÑÊó∂ÂÄôÔºåÊ∏≤ÊüìËØ•ÂÖÉÁ¥†&lt;template v-hasPermission=&quot;&#39;user:add&#39;,&#39;user:update&#39;&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/template&gt;v-hasAnyPermissionÂΩìÁî®Êà∑Êã•ÊúâÂàóÂá∫ÁöÑ‰ªªÊÑè‰∏ÄÈ°πÊùÉÈôêÁöÑÊó∂ÂÄôÔºåÊ∏≤ÊüìËØ•ÂÖÉÁ¥†&lt;template v-hasAnyPermission=&quot;&#39;user:add&#39;,&#39;user:update&#39;&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/template&gt;v-hasRoleÂΩìÁî®Êà∑Êã•ÊúâÂàóÂá∫ÁöÑËßíËâ≤ÁöÑÊó∂ÂÄôÔºåÊ∏≤ÊüìËØ•ÂÖÉÁ¥†&lt;template v-hasRole=&quot;&#39;admin&#39;,&#39;register&#39;&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/template&gt;v-hasAnyRoleÂΩìÁî®Êà∑Êã•ÊúâÂàóÂá∫ÁöÑ‰ªªÊÑè‰∏Ä‰∏™ËßíËâ≤ÁöÑÊó∂ÂÄôÔºåÊ∏≤ÊüìËØ•ÂÖÉÁ¥†&lt;template v-hasAnyRole=&quot;&#39;admin&#39;,&#39;register&#39;&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/template&gt;hasNoPermissionÂΩìÁî®Êà∑Ê≤°ÊúâÂàóÂá∫ÁöÑÊùÉÈôêÁöÑÊó∂ÂÄôÔºåÊ∏≤ÊüìËØ•ÂÖÉÁ¥†&lt;template v-hasNoPermission=&quot;&#39;user:add&#39;,&#39;register&#39;&quot;&gt;&lt;span&gt;Êó†Êìç‰ΩúÊùÉÈôê&lt;/span&gt;&lt;/template&gt;‰ª•v-hasPermission=&quot;user:add&quot;‰∏∫‰æãÔºåËØ¶ÁªÜ‰ªãÁªç‰∏ãËá™ÂÆö‰πâÊùÉÈôêVueÊåá‰ª§ÁöÑÂÆûÁé∞ËøáÁ®ãÔºöÂú®src/utils/permissionDirect.js‰∏≠ÂÆö‰πâÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234567891011121314151617181920212223 export const hasPermission = &#123; install (Vue) &#123; Vue.directive('hasPermission', &#123; bind (el, binding, vnode) &#123; let permissions = vnode.context.$store.state.account.permissions let value = binding.value.split(',') let flag = true for (let v of value) &#123; if (!permissions.includes(v)) &#123; flag = false &#125; &#125; if (!flag) &#123; if (!el.parentNode) &#123; el.style.display = 'none' &#125; else &#123; el.parentNode.removeChild(el) &#125; &#125; &#125; &#125;) &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨‰ªéVuex‰∏≠Ëé∑Âèñ‰∫ÜÁî®Êà∑ÊâÄÊã•ÊúâÁöÑÊùÉÈôêÔºåÁÑ∂ÂêéÂà§Êñ≠Ëøô‰∫õÊùÉÈôê‰∏≠ÊòØÂê¶ÂåÖÂê´user:addÔºåÂ¶ÇÊûú‰∏çÂåÖÂê´ÔºåÂàôÂ∞ÜÂØπÂ∫îÁöÑÂÖÉÁ¥†ÔºàelÔºâÁßªÈô§ÊàñËÄÖÈöêËóè„ÄÇÊâÄ‰ª•ÂΩìÁî®Êà∑Ê≤°Êúâuser:addÊùÉÈôêÊó∂Ôºå‰∏ãÈù¢ÁöÑÊåâÈíÆÂ∞Ü‰∏ç‰ºöË¢´Ê∏≤ÊüìÂú®È°µÈù¢‰∏äÔºö1&lt;template v-hasPermission="'user:add'"&gt;&lt;button&gt;Êñ∞Â¢ûÁî®Êà∑&lt;/button&gt;&lt;/template&gt;Ë¶ÅËÆ©Ëá™ÂÆö‰πâVueÊåá‰ª§ÁîüÊïàÔºåËøòÈúÄË¶ÅÂú®src/utils/install.js‰∏≠Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞PluginsÂàóË°®„ÄÇAxiosÂ∞ÅË£ÖÈ°πÁõÆ‰ΩøÁî®AxiosÊèí‰ª∂Êù•ÂèëÈÄÅHTTPËØ∑Ê±ÇÔºåÂπ∂ÂØπÂÆÉËøõË°å‰∫ÜÂ∞ÅË£ÖÔºàfrontend/src/utils/request.jsÔºâÔºåËøôÈáå‰∏ªË¶ÅËÆ≤Ëø∞‰∏ãrequest.js‰∏≠‰∏ªË¶ÅÈÄªËæë„ÄÇ123456789// Áªü‰∏ÄÈÖçÁΩÆlet FEBS_REQUEST = axios.create(&#123; baseURL: 'http://127.0.0.1:9527/', responseType: 'json', validateStatus (status) &#123; // 200 Â§ñÁöÑÁä∂ÊÄÅÁ†ÅÈÉΩËÆ§ÂÆö‰∏∫Â§±Ë¥• return status === 200 &#125;&#125;)‰∏äÈù¢ËøôÊÆµ‰ª£Á†ÅÂØπËØ∑Ê±ÇËøõË°å‰∫ÜÁªü‰∏ÄÈÖçÁΩÆÔºåbaseURLÂÆö‰πâ‰∫ÜÂêéÁ´ØÂú∞ÂùÄÁöÑÂü∫Á°ÄË∑ØÂæÑÔºåresponseTypeÂÆö‰πâ‰∫ÜÂìçÂ∫îÊï∞ÊçÆÁ±ªÂûã‰∏∫JSONÔºåÂè™ÊúâÁä∂ÊÄÅÁ†Å‰∏∫200Êó∂ÊâçËÆ§ÂÆöËØ∑Ê±ÇÊàêÂäü„ÄÇ1234567891011121314151617181920212223242526272829// Êã¶Êà™ËØ∑Ê±ÇFEBS_REQUEST.interceptors.request.use((config) =&gt; &#123; let expireTime = store.state.account.expireTime let now = moment().format('YYYYMMDDHHmmss') // ËÆ©tokenÊó©10ÁßíÁßçËøáÊúüÔºåÊèêÂçá‚ÄúËØ∑ÈáçÊñ∞ÁôªÂΩï‚ÄùÂºπÁ™ó‰ΩìÈ™å if (now - expireTime &gt;= -10) &#123; Modal.error(&#123; title: 'ÁôªÂΩïÂ∑≤ËøáÊúü', content: 'ÂæàÊä±Ê≠âÔºåÁôªÂΩïÂ∑≤ËøáÊúüÔºåËØ∑ÈáçÊñ∞ÁôªÂΩï', okText: 'ÈáçÊñ∞ÁôªÂΩï', mask: false, onOk: () =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; // ‰∏∫‰ªÄ‰πà‰∏çÁõ¥Êé•Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÂë¢ÔºüÈÇ£ÊòØÂõ†‰∏∫VueÊ≤°ÊúâÊèê‰æõÊ∏ÖÁ©∫Ë∑ØÁî±ÁöÑÊñπÊ≥ïÔºåÂè™ËÉΩÈÄöËøáÂà∑Êñ∞È°µÈù¢ÁöÑÊñπÂºè // Êù•Ê∏ÖÈô§‰πãÂâçÂä®ÊÄÅÊ∑ªÂä†ÁöÑË∑ØÁî±‰ø°ÊÅØ„ÄÇ db.clear() location.reload() &#125;) &#125; &#125;) &#125; // Êúâ tokenÂ∞±Â∏¶‰∏ä if (store.state.account.token) &#123; config.headers.Authentication = store.state.account.token &#125; return config&#125;, (error) =&gt; &#123; return Promise.reject(error)&#125;)Âú®AxiosÁöÑÂâçÁΩÆÊã¶Êà™‰∏≠ÔºåÊàë‰ª¨È¶ñÂÖàÂà§Êñ≠‰∫ÜtokenÊòØÂê¶Â∑≤ÁªèËøáÊúüÔºåÂ¶ÇÊûúËøáÊúü‰∫ÜÂàôÊ∏ÖÁ©∫Âú®ÁôªÂΩïÊó∂‰øùÂ≠òÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏îÂà∑Êñ∞È°µÈù¢„ÄÇËøôÊó∂ÂÄôÈÄöËøáË∑ØÁî±ÂØºËà™ÂÆàÂç´ÔºåÈ°µÈù¢‰ºöË¢´ÈáçÂÆöÂêëÂà∞ÁôªÂΩïÈ°µÈù¢ÔºåÂºïÂØºÁî®Êà∑ÈáçÊñ∞ÁôªÂΩï„ÄÇÂ¶ÇÊûútokenÊ≤°ÊúâËøáÊúüÔºåÂàôÂú®ËØ∑Ê±ÇÂ§¥‰∏äÂ∏¶‰∏ätoken‰ø°ÊÅØ„ÄÇheaders.AuthenticationÂíåÂêéÁ´Ø‰ª£Á†Å‰∏≠ÁöÑTOKENÂêçÁß∞Áõ∏ÂØπÂ∫îÔºö123456789101112131415161718192021222324252627282930313233// Êã¶Êà™ÂìçÂ∫îFEBS_REQUEST.interceptors.response.use((config) =&gt; &#123; return config&#125;, (error) =&gt; &#123; if (error.response) &#123; let errorMessage = error.response.data === null ? 'Á≥ªÁªüÂÜÖÈÉ®ÂºÇÂ∏∏ÔºåËØ∑ËÅîÁ≥ªÁΩëÁ´ôÁÆ°ÁêÜÂëò' : error.response.data.message switch (error.response.status) &#123; case 404: notification.error(&#123; message: 'Á≥ªÁªüÊèêÁ§∫', description: 'ÂæàÊä±Ê≠âÔºåËµÑÊ∫êÊú™ÊâæÂà∞', duration: 4 &#125;) break case 403: case 401: notification.warn(&#123; message: 'Á≥ªÁªüÊèêÁ§∫', description: 'ÂæàÊä±Ê≠âÔºåÊÇ®Êó†Ê≥ïËÆøÈóÆËØ•ËµÑÊ∫êÔºåÂèØËÉΩÊòØÂõ†‰∏∫Ê≤°ÊúâÁõ∏Â∫îÊùÉÈôêÊàñËÄÖÁôªÂΩïÂ∑≤Â§±Êïà', duration: 4 &#125;) break default: notification.error(&#123; message: 'Á≥ªÁªüÊèêÁ§∫', description: errorMessage, duration: 4 &#125;) break &#125; &#125; return Promise.reject(error)&#125;)‰∏äÈù¢‰ª£Á†Å‰∏≠Êàë‰ª¨ÂÆûÁé∞‰∫ÜÂºÇÂ∏∏ÂìçÂ∫îÁöÑÁªü‰∏ÄÂ§ÑÁêÜÔºåÊ†πÊçÆ‰∏çÂêåÁöÑÁä∂ÊÄÅÁ†ÅÁªô‰∫à‰∏çÂêåÁöÑÊèêÁ§∫‰ø°ÊÅØ„ÄÇÊ≠§Â§ñÔºåÈ°πÁõÆËøòÂØπÂêÑÁßçHTTPËØ∑Ê±ÇËøõË°å‰∫ÜÂ∞ÅË£ÖÔºå‰∏ãÈù¢‰∏Ä‰∏ÄÂàó‰∏æÂá∫ÂÆÉ‰ª¨ÁöÑÁî®Ê≥ïÔºöGETËØ∑Ê±ÇÊñπÂºè‰∏ÄÔºö12345this.$get('user', &#123; ...params&#125;).then((r) =&gt; &#123; console.log(r)&#125;)Âõ†‰∏∫Êàë‰ª¨Âú®ÂâçÈù¢Â∑≤ÁªèÂÆö‰πâ‰∫ÜÂêéÁ´ØÂú∞ÂùÄÁöÑÂü∫Á°ÄË∑ØÂæÑÔºåÊâÄ‰ª•‰∏äÈù¢Ëøô‰∏™ËØ∑Ê±ÇÁöÑÂÆûÈôÖÂú∞ÂùÄ‰∏∫Ôºöhttp://127.0.0.1:9527/user„ÄÇÂú®ÂâçÈù¢Êàë‰ª¨Â∑≤ÁªèÂØπÂºÇÂ∏∏ÂìçÂ∫îËøõË°åÁªü‰∏ÄÂ§ÑÁêÜÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•ÈÄöËøácatchÊù•Ë¶ÜÁõñÔºö1234567this.$get('user', &#123; ...params&#125;).then((r) =&gt; &#123; console.log(r)&#125;).catch((error) =&gt; &#123; alert('Âá∫ÈîôÂï¶')&#125;)ÊñπÂºè‰∫åÔºàË∑ØÂæÑ‰º†ÂèÇÔºâÔºö123this.$get(`menu/$&#123;user.username&#125;`).then((r) =&gt; &#123; console.log(r)&#125;)ÊñπÂºè‰∏âÔºö123this.$get(`user?username=$&#123;user.username&#125;`).then((r) =&gt; &#123; console.log(r)&#125;)POSTËØ∑Ê±Ç12345this.$post('user', &#123; ...params&#125;).then((r) =&gt; &#123; console.log(r)&#125;)PUTËØ∑Ê±Ç12345this.$put('user', &#123; ...params&#125;).then((r) =&gt; &#123; console.log(r)&#125;)DELETEËØ∑Ê±Ç123this.$delete('user/$&#123;user.userId&#125;').then((r) =&gt; &#123; console.log(r)&#125;)‰∏ãËΩΩÊñá‰ª∂1this.$download('file', &#123; ...params &#125;, 'xxx.xx')xxx.xx‰∏∫‰∏ãËΩΩÁöÑÊñá‰ª∂ÂêçÔºåÊØîÂ¶Ç‰∏ãËΩΩxlsxÊñá‰ª∂ÁöÑËØù‰∏∫ ExcelÊñá‰ª∂.xlsxÔºåÂêéÁ´ØÊé•Âè£ËøîÂõûÊï∞ÊçÆÊµÅÂç≥ÂèØ„ÄÇ‰∏ä‰º†Êñá‰ª∂1234let formData = new FormData($("#form")[0]);this.$upload('upload', formData).then((r) =&gt; &#123; console.log(r)&#125;)ÂêéÁ´Ø‰ª•MultipartFileÊé•Êî∂Êñá‰ª∂Âç≥ÂèØ„ÄÇË∑ØÂæÑÈÖçÁΩÆÂú®build/webpack.base.conf.js‰∏≠ÔºåÊàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∫õË∑ØÂæÑÂèòÈáèÔºö12345678910111213module.exports = &#123; ... resolve: &#123; ... alias: &#123; 'vue$': 'vue/dist/vue.esm.js', '@': resolve('src'), '~': resolve('src/components'), 'utils': resolve('src/utils') &#125; &#125;, ...&#125;ÊØîÂ¶Ç~‰ª£Ë°®src/componentsË∑ØÂæÑÔºåÂú®È°πÁõÆ‰∏≠ÔºåÂ¶ÇÊûúË¶ÅÂºïÂÖ•src/components/test.vueÂè™ÈúÄË¶ÅËøôÊ†∑ÂÅöÂç≥ÂèØÔºö1import ~/test.vueÂΩìÁÑ∂Ôºå‰Ω†‰πüÂèØ‰ª•‰ΩøÁî®Áõ∏ÂØπË∑ØÂæÑÂíåÁªùÂØπË∑ØÂæÑÔºåËÄå‰∏ç‰ΩøÁî®Ëøô‰∫õÂèòÈáè„ÄÇÁ¨¨‰∏âÊñπÁªÑ‰ª∂‰ªãÁªçAnt Design VueÂ∑≤ÁªèÊèê‰æõ‰∫ÜÈùûÂ∏∏‰∏∞ÂØåÁöÑÁªÑ‰ª∂ÔºåÈô§Ê≠§‰πãÂ§ñÔºåÈ°πÁõÆÈáå‰ΩøÁî®ÁöÑÂõæË°®Êèí‰ª∂‰∏∫Ôºöapexcharts.jsÔºåÂÖ∂ÂÆòÊñπÊñáÊ°£Êèê‰æõ‰∫ÜÂæàÂ§öÁ§∫‰æãÔºåËøôÈáåÂ∞±‰∏çËµòËø∞‰∫Ü„ÄÇÂºÄÂèëÂª∫ËÆÆÁõ∏‰ø°Ê≠£Âú®ÈòÖËØªÊñáÊ°£ÁöÑ‰Ω†ÂçÅÊúâÂÖ´‰πùÊòØ‰∏ÄÂêçÂêéÁ´ØÂºÄÂèëËÄÖÔºåÂèØËÉΩÂØπÂâçÁ´ØÁâπÂà´ÊòØÂØπVue‰∏çÂ§™ÁÜüÊÇâÔºåËøôÈáåÁªôÂá∫Âá†ÁÇπÊîπÈÄ†frontendÁöÑÂª∫ËÆÆÔºöË¶ÅÊúâ‰∏ÄÂÆöÁöÑES6ËØ≠Ê≥ïÂü∫Á°ÄÔºåÂèØ‰ª•ÂèÇËÄÉ ES6Â≠¶‰π†Á¨îËÆ∞ ÔºåÂ¶ÇÊûúË¶ÅÁ≥ªÁªüÂ≠¶‰π†ES6ÔºåÊé®ËçêÈòÆ‰∏ÄÂ≥∞ÁöÑÔºö ECMAScript 6 ÂÖ•Èó® „ÄÇVueÁöÑÂÆòÊñπÊñáÊ°£ËøòÊòØÊå∫ËØ¶ÁªÜÁöÑÔºåÂª∫ËÆÆ‰ªîÁªÜÈòÖËØªÔºåÊàëÂú®Â≠¶‰π†VueÁöÑÊó∂ÂÄô‰πüÂÅö‰∫Ü‰∏Ä‰∫õÁ¨îËÆ∞ÔºåÂèØ‰ª•ÂèÇËÄÉÔºöhttps://mrbird.cc/Vue-Learn-Note.html„ÄÇVueÁöÑÂ≠¶‰π†Ë∑ØÁ∫øÔºöVueÂü∫Á°ÄËØ≠Ê≥ï -&gt; Vuex -&gt; Vue Router„ÄÇÂâçÁ´ØÁªÑ‰ª∂Áî®ÁöÑÊòØAnt Design VueÔºåÊâÄ‰ª•Âú®‰ΩøÁî®ÂÆÉÊèê‰æõÁöÑÁªÑ‰ª∂ÁöÑÊó∂ÂÄôÔºåÂ§öÈòÖËØªÂÆÉÁöÑ‰ΩøÁî®ÊñáÊ°£„ÄÇÂºÄÂèëÁ§∫‰æãÊñ∞Âª∫‰∏Ä‰∏™È°µÈù¢Âú®frontendÂ∑•Á®ãÁöÑsrc/views‰∏ãÊñ∞Âª∫‰∏Ä‰∏™testÁõÆÂΩïÔºåÂú®ËØ•ÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏Ä‰∏™test.vueÊñá‰ª∂Ôºö ÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617181920&lt;template&gt; &lt;div class="test"&gt;&#123;&#123;hello&#125;&#125;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'test', data () &#123; return &#123; hello: 'hello world' &#125; &#125;&#125;&lt;/script&gt;&lt;style lang="less" scoped&gt; .test &#123; color: #42b984; font-size: 1.1rem; font-weight: 600; &#125;&lt;/style&gt;ÂêØÂä®È°πÁõÆÔºå‰ΩøÁî®ÁÆ°ÁêÜÂëòË¥¶Âè∑ÁôªÂΩïÔºåÁÑ∂ÂêéÂú®ËèúÂçïÁÆ°ÁêÜ‰∏≠Êñ∞Âª∫‰∏Ä‰∏™ËèúÂçïÔºöËèúÂçïURLÔºöËøôÈáåÂ°´ÂÜô/testÁöÑËØùÔºåÂú®ËÆøÈóÆËøô‰∏™È°µÈù¢ÁöÑÊó∂ÂÄôÔºåÊµèËßàÂô®Âú∞ÂùÄÊ†è‰∏∫http://localhost:8081/#/testÔºåÂè™Ë¶ÅÁ°Æ‰øùËøô‰∏™ÂÄº‰∏çÈáçÂ§çÂç≥ÂèØÔºõÁªÑ‰ª∂Âú∞ÂùÄÔºöÂØπÂ∫îË¶ÅÊ∏≤ÊüìÁöÑVueÁªÑ‰ª∂Âú∞ÂùÄÔºåÂú®Ë∑ØÁî±ÂØºËà™ÂÆàÂç´‰∏≠ÊúâÂ¶Ç‰∏ã‰∏ÄÊÆµ‰ª£Á†ÅÔºöÊâÄ‰ª•ËøôÈáåÂ°´test/testÔºåÂØπÂ∫î@/views/test/test.vueÁªÑ‰ª∂„ÄÇÁõ∏ÂÖ≥ÊùÉÈôêÔºöËÆøÈóÆËøô‰∏™È°µÈù¢ÈúÄË¶Åtest:viewÊùÉÈôê„ÄÇÁÇπÂáªÁ°ÆÂÆöÂêéÔºåËøô‰∏™ËèúÂçïÂ∞±Ë¢´Âª∫Â•Ω‰∫ÜÔºöÊé•ÁùÄ‰øÆÊîπÁÆ°ÁêÜÂëòËßíËâ≤ÔºåÂ∞ÜÂàöÂàöÊñ∞Âª∫ÁöÑËèúÂçïÊéàÊùÉÁªôÁÆ°ÁêÜÂëòÔºöÁÇπÂáªÁ°ÆÂÆö‰øÆÊîπÂêéÔºåÈáçÊñ∞ÁôªÂΩïÁ≥ªÁªüÔºöÂ¶Ç‰ΩïÊñ∞Âª∫‰∏Ä‰∏™Â§öÁ∫ßËèúÂçïÂú®Êñ∞Â¢ûÂ§öÁ∫ßËèúÂçïÂâçÔºåÂÖà‰∫ÜËß£‰∏ãÁ≥ªÁªü‰∏≠ÁöÑ‰∏Ä‰∏™Á∫¶ÂÆöÔºöÂú®‰∏Ä‰∏™Â§öÁ∫ßËèúÂçï‰∏≠ÔºåÈ°∂Á∫ßËèúÂçïÂØπÂ∫îÁöÑÁªÑ‰ª∂‰∏∫PageViewÔºåÊú´Á∫ßËèúÂçïÂØπÂ∫îÁöÑÁªÑ‰ª∂‰∏∫ÈúÄË¶ÅÊ∏≤ÊüìÁöÑÈ°µÈù¢ÁªÑ‰ª∂ÔºåÂâ©‰∏ãÁöÑÔºàÈùûÈ°∂Á∫ßÔºåÈùûÊú´Á∫ßÁöÑ‰∏≠Èó¥ËèúÂçïÂØπÂ∫îÁöÑÁªÑ‰ª∂‰∏∫EmptyPageViewÔºâ„ÄÇÊàë‰ª¨Êù•Âª∫‰∏Ä‰∏™ÂõõÁ∫ßËèúÂçïÔºåÈ¶ñÂÖàÊñ∞Â¢û‰∏Ä‰∏™È°∂Á∫ßËèúÂçïÔºöÂõ†‰∏∫ÊòØÈ°∂Á∫ßËèúÂçïÔºåÊâÄ‰ª•ÂØπÂ∫îÁªÑ‰ª∂Â°´PageView„ÄÇÊé•ÁùÄÊñ∞Â¢ûÁ¨¨‰∫åÁ∫ßËèúÂçïÔºöÂõ†‰∏∫ÂÆÉÊï∞ÊçÆ‰∏≠Èó¥ËèúÂçïÔºàÈùûÈ°∂Á∫ßÈùûÊú´Á∫ßÔºâÊâÄ‰ª•ÂØπÂ∫îÁªÑ‰ª∂Â°´EmptyPageViewÔºå‰∏äÁ∫ßËèúÂçïÂãæÈÄâÂàöÂàöÊñ∞Âª∫ÁöÑ‰∏ÄÁ∫ßËèúÂçï„ÄÇÁªßÁª≠Êñ∞Â¢û‰∏âÁ∫ßËèúÂçïÔºöÂõ†‰∏∫ÂÆÉ‰πüÊòØ‰∏Ä‰∏™‰∏≠Èó¥ËèúÂçïÔºåÊâÄ‰ª•ÂØπÂ∫îÁªÑ‰ª∂Â°´EmptyPageViewÔºå‰∏äÁ∫ßËèúÂçïÂãæÈÄâÂàöÂàöÊñ∞Âª∫ÁöÑ‰∫åÁ∫ßËèúÂçï„ÄÇÊúÄÂêéÂ∞ÜÊàë‰ª¨ÂâçÈù¢Âª∫Â•ΩÁöÑÊµãËØïÈ°µÈù¢‰Ωú‰∏∫Êú´Á∫ßÔºåÁÇπÂáªÊµãËØïÈ°µÈù¢ÂêéÈù¢ÁöÑÂ∞èÈΩøËΩÆÊåâÈíÆÔºåËøõË°å‰øÆÊîπÔºöÁÇπÂáªÁ°ÆÂÆöÂêé‰∏Ä‰∏™ÂõõÁ∫ßËèúÂçïÂ∞±Âª∫Â•Ω‰∫ÜÔºöÊúÄÂêé‰∏ÄÊ≠•ÊéàÊùÉÔºÅ‰øÆÊîπÁÆ°ÁêÜÂëòËßíËâ≤Ôºö‰øÆÊîπÂêéÔºåÈáçÊñ∞ÁôªÂΩïÁ≥ªÁªüÔºöÂõ†‰∏∫ÊàëÊ≤°ÊúâËÆæÁΩÆÊéíÂ∫èÔºåÊâÄ‰ª•ÈªòËÆ§ÊéíÂú®ÊúÄÂâçÈù¢‰∫Ü„ÄÇÂ¶Ç‰ΩïÈöêËóèË∑ØÁî±ÊúâÁöÑÊó∂ÂÄôÔºå‰∏Ä‰∫õË∑ØÁî±Âπ∂‰∏çÈúÄË¶ÅÊ∏≤ÊüìÊàêËèúÂçïÔºåÊØîÂ¶Ç‰∏™‰∫∫‰∏≠ÂøÉËøôÁ±ªÈ°µÈù¢„ÄÇËÄåËøô‰∫õÈ°µÈù¢‰∏ÄËà¨ÈÉΩÊòØÊâÄÊúâÁî®Êà∑ÂÖ±ÊúâÁöÑÔºåÊâÄ‰ª•Âú®ÂêéÂè∞Á≥ªÁªüÈáåÊûÑÂª∫Ë∑ØÁî±ÁöÑÊó∂ÂÄôÂÜôÊ≠ªÂç≥ÂèØ„ÄÇË¶ÅÈöêËóèË∑ØÁî±Âè™ÈúÄË¶ÅÂ∞ÜË∑ØÁî±metaÁöÑisShowÂ±ûÊÄßËÆæÁΩÆ‰∏∫falseÂç≥ÂèØÔºöÂèÇËÄÉÂêéÂè∞‰ª£Á†Åcc.mrbird.febs.common.utils.TreeUtilÔºöÂ¶Ç‰ΩïÂàÜÈÖçÊùÉÈôêÊùÉÈôêÊòØÂíåËßíËâ≤ÁªëÂÆöÁöÑÔºåÊâÄ‰ª•Ë¶ÅÂàÜÈÖçÊùÉÈôêÂÆûÈôÖÂ∞±ÊòØÂØπËßíËâ≤ÁöÑÂ¢ûÂà†Êîπ„ÄÇÂÅáÂ¶ÇÁé∞Âú®Ë¶ÅÈÖçÁΩÆ‰∏Ä‰∏™ËßíËâ≤ ‚Äî‚Äî‚Äî Á≥ªÁªüÁõëÊéßÁÆ°ÁêÜÂëòÔºåË¥üË¥£Á≥ªÁªüÁõëÊéßÊ®°ÂùóÁöÑÊü•ÁúãÔºöÁÑ∂ÂêéÊñ∞Â¢û‰∏Ä‰∏™Áî®Êà∑ ‚Äî‚Äî‚Äî yuukiÔºåËßíËâ≤‰∏∫Á≥ªÁªüÁõëÊéßÁÆ°ÁêÜÂëòÔºöÊñ∞Âª∫Â•ΩÂêéÔºå‰ΩøÁî®yuukiÁöÑË¥¶Âè∑ÁôªÂΩïÔºöÂèØ‰ª•ÁúãÂà∞ÔºåyuukiÂè™ÊúâÁ≥ªÁªüÁõëÊéßÊ®°ÂùóÁöÑÊùÉÈôê„ÄÇÂâçÁ´ØÂ¶Ç‰ΩïÊ∑ªÂä†‰æùËµñÂú®https://www.npmjs.com/ÊêúÁ¥¢ÈúÄË¶ÅÂÆâË£ÖÁöÑ‰æùËµñÔºåÊØîÂ¶ÇjQueryÔºöÊØîÂ¶ÇÊàëÈúÄË¶ÅÂÆâË£ÖjQuery 3.3.1ÁâàÊú¨ÔºåÂè™ÈúÄË¶ÅÂú®ÁªàÁ´ØËæìÂÖ•Â¶Ç‰∏ãÂëΩ‰ª§Âç≥ÂèØÔºöÂÆâË£ÖÂ•ΩÂêéÔºåÂú®package.jsonÁöÑ‰æùËµñÂàóË°®Èáå‰ºöÂ§öÂá∫‰∏Ä‰∏™jquery 3.3.1ÔºöÂ¶Ç‰ΩïÂ§ÑÁêÜÊéíÂ∫èÂØπ‰∫éÂâçÁ´ØÊù•ËØ¥ÔºåÈúÄË¶Å‰∏äÈÄÅ‰∏§‰∏™ÂèÇÊï∞ÔºösortFieldÔºöÈúÄË¶ÅÊéíÂ∫èÁöÑÂ≠óÊÆµÔºõsortOrderÔºöÊéíÂ∫èËßÑÂàôÔºåascendÊàñËÄÖdescend„ÄÇÂØπ‰∫éÂêéÁ´ØÊù•ËØ¥ÔºåÊéíÂ∫è‰∏ªË¶ÅÂàÜ‰∏∫ÂõõÁßçÊÉÖÂÜµÔºöÁªìÊûúÈúÄË¶ÅÂàÜÈ°µÁöÑÔºåÂπ∂‰∏îÊòØÈÄöËøáxmlÂÆö‰πâÁöÑSQLÊü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÔºö1SortUtil.handlePageSort(request, page, "userId", FebsConstant.ORDER_ASC, false);userIdÂíåFebsConstant.ORDER_ASCÊåáÂÆö‰∫ÜÈªòËÆ§ÁöÑÊéíÂ∫èËßÑÂàôÔºåÂç≥ÈªòËÆ§ÊåâÁÖßuserIdÂ≠óÊÆµÂçáÂ∫èÊéíÂ∫è„ÄÇÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞Ë°®Á§∫ÊòØÂê¶ÈúÄË¶ÅÂºÄÂêØÈ©ºÂ≥∞ËΩ¨‰∏ãÂàíÁ∫øÔºåËøôÁßçÊÉÖÂÜµ‰∏ã‰∏çÈúÄË¶ÅÔºåfalseÂç≥ÂèØ„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉcc.mrbird.febs.system.service.impl.UserServiceImpl#findUserDetail„ÄÇÂ¶ÇÊûú‰∏çÈúÄË¶ÅÊåáÂÆöÈªòËÆ§ÊéíÂ∫èËßÑÂàôÔºå‰ΩøÁî®handlePageSortÁöÑÈáçËΩΩÊñπÊ≥ïÂç≥ÂèØÔºö1SortUtil.handlePageSort(request, page, false);ÁªìÊûúÈúÄË¶ÅÂàÜÈ°µÁöÑÔºåÂπ∂‰∏îÊòØÈÄöËøáMybatis PlusÊèí‰ª∂Êü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÔºö1SortUtil.handlePageSort(request, page, true);ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÂÄºÂøÖÈ°ª‰∏∫true„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉcc.mrbird.febs.system.service.impl.DictServiceImpl#findDicts„ÄÇ1Âíå2‰∏ªË¶ÅÂå∫Âà´Â∞±ÊòØÊòØÂê¶ÈúÄË¶ÅÂºÄÂêØÈ©ºÂ≥∞ËΩ¨‰∏ãÂàíÁ∫ø„ÄÇÁªìÊûú‰∏çÈúÄË¶ÅÂàÜÈ°µÔºåÂπ∂‰∏îÊòØÈÄöËøáxmlÂÆö‰πâÁöÑSQLÊü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÔºö1SortUtil.handleWrapperSort(request, queryWrapper, "orderNum", FebsConstant.ORDER_ASC, false);ÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉÔºöcc.mrbird.febs.system.service.impl.DeptServiceImpl#findDeptsÁªìÊûú‰∏çÈúÄË¶ÅÂàÜÈ°µÔºåÂπ∂‰∏îÊòØÈÄöËøáMybatis PlusÊèí‰ª∂Êü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÔºö1SortUtil.handleWrapperSort(request, queryWrapper, "orderNum", FebsConstant.ORDER_ASC, true);ÊÄª‰πãÔºåÂØπ‰∫éÂ§ÑÁêÜÊéíÂ∫èÁöÑÊñπÊ≥ïÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏ÄÂÆöÊòØcc.mrbird.febs.common.domain.QueryRequest„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞Â¶ÇÊûúÈúÄË¶ÅÂàÜÈ°µÔºåÂàô‰º†ÈÄícom.baomidou.mybatisplus.extension.plugins.pagination.PageÔºå‰∏çÈúÄË¶ÅÂàÜÈ°µÂàô‰º†ÈÄícom.baomidou.mybatisplus.core.conditions.query.QueryWrapper„ÄÇÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞Â¶ÇÊûúÊü•ËØ¢ÁªìÊûúÊòØMybatis PlusÊü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÔºåÂàôÈúÄËÆæÁΩÆ‰∏∫trueÔºåÂê¶Âàô‰∏∫false„ÄÇÂêéÁ´ØÊé•Âè£ÊµãËØïÁî±‰∫éÂêéÁ´ØÊé•Âè£‰∏∫RESTfulÊé•Âè£ÔºåÊâÄ‰ª•‰∏çËÉΩ‰ΩøÁî®ÊµèËßàÂô®Êù•ÊµãËØïÔºåÂèØ‰ª•‰ΩøÁî®PostManÊàñËÄÖChromeÊèí‰ª∂RestLetÊù•ÊµãËØïÂêéÁ´ØÊé•Âè£„ÄÇÊñáÊ°£‰ª•PostMan‰∏∫‰æã„ÄÇÂõ†‰∏∫ÂêéÂè∞Êé•Âè£Â§ßÈÉ®ÂàÜÈÉΩÈúÄË¶ÅÁî®Êà∑ËÆ§ËØÅÂêéÊâçËÉΩËÆøÈóÆÔºåÊâÄ‰ª•Âú®ÊµãËØï‰πãÂâçÈúÄË¶ÅÈÄöËøáÁôªÂΩïÊé•Âè£Ëé∑Âèñ‰∏Ä‰∏™ÂèØÁî®ÁöÑtoken„ÄÇÊàêÂäüËé∑ÂèñÂà∞‰∫Ütoken„ÄÇÊµãËØïËé∑ÂèñmrbirdÁöÑÂâçÁ´ØË∑ØÁî±‰ø°ÊÅØÔºöÂú®HeadersËÆæÁΩÆ‰∏Ä‰∏™ÈîÆÂÄºÂØπÔºåkey‰∏∫AuthenticationÔºåvalue‰∏∫ÂàöÂàöËé∑ÂèñÂà∞ÁöÑtokenÔºåÂèëÈÄÅËØ∑Ê±Ç‰æøÂèØ‰ª•Ëé∑ÂèñÂà∞mrbirdÁöÑË∑ØÁî±‰ø°ÊÅØ„ÄÇÂÖ∂‰ªñÊé•Âè£ÊµãËØï‰ª•Ê≠§Á±ªÊé®„ÄÇÂ¶ÇÊûútokenÂ°´ÈîôÊàñËÄÖ‰∏çÂ°´ÔºöÂêéÁ´ØÂ∞ÜËøîÂõû401„ÄÇÂ∏∏ËßÅÈóÆÈ¢òÂØºÂÖ•È°πÁõÆÁºñËØëÂá∫ÈîôÔºå‰ª£Á†ÅÊòØÂê¶‰∏çÂÖ®ÔºüÁºñËæëÂô®ÂÆâË£ÖlombokÊèí‰ª∂Âç≥ÂèØ„ÄÇÂØºÂÖ•SQL‰∏∫‰ΩïÂá∫ÈîôÔºüMySQLÊï∞ÊçÆÂ∫ìËØ∑‰ΩøÁî®5.7.xÁâàÊú¨Ôºå‰∏çÂêåÁâàÊú¨SQLËØ≠Ê≥ïÊúâÂ∑ÆÂºÇ„ÄÇÂ¶ÇÊûú‰Ω†SQLÊäÄÊúØËøáÁ°¨ÂèØ‰ª•ÈÄöËøáÈîôËØØ‰ø°ÊÅØÂéª‰øÆÊîπÂá∫ÈîôÁöÑSQLÔºåÊõ¥Êé®ËçêÁöÑÂÅöÊ≥ïÊòØÂÆâË£ÖÊé®ËçêÁâàÊú¨ÁöÑMySQLÊï∞ÊçÆÂ∫ì„ÄÇip2regionÊòØÂï•Áé©ÊÑèÔºåÊâìÂºÄÊÄé‰πà‰π±Á†ÅÔºüÈÄöËøáipËé∑ÂèñÂú∞ÂùÄÁöÑÂºÄÊ∫êËΩØ‰ª∂Êï∞ÊçÆÂ∫ìÊñá‰ª∂Ôºå‰∏çË¶ÅÁõ¥Êé•ÊâìÂºÄ„ÄÇip2regionÂú∞ÂùÄÔºöhttps://github.com/lionsoul2014/ip2region„ÄÇÈ°πÁõÆÁº∫Èô∑ÂâçÁ´ØÈ°µÈù¢‰∏çÊîØÊåÅÁßªÂä®Á´ØÔºà‰∏çËÉΩËá™ÈÄÇÂ∫îÔºâÔºõÂâçÁ´ØÊâìÂåÖÂêévendor.jsËæÉÂ§ßÔºåÈÄöËøánginxÂéãÁº©ÂêéÂú®591kbÂ∑¶Âè≥ÔºåÂú®ÊàëÁöÑÊ∏£Ê∏£ÊúçÂä°Âô®Ôºà1Ê†∏1G1MÔºâ‰∏ãÔºåËÆøÈóÆÊó∂Èó¥Â§ßÁ∫¶‰∏∫7 - 8ÁßíÂ∑¶Âè≥ÔºöÂ¶ÇÊûú‰Ω†ÁöÑÊúçÂä°Âô®Â∏¶ÂÆΩÂ§üÂ§ßÔºåÊàñËÄÖÊòØÈÉ®ÁΩ≤Âú®ÂÖ¨Âè∏Â±ÄÂüüÁΩëÂÜÖÁöÑËØùÔºåËøô‰∏™ÈóÆÈ¢òÂèØ‰ª•ÂøΩÁï•„ÄÇÂ¶ÇÊûúË¶ÅÂú®Ê†πÊ∫ê‰∏äËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò‰∏™‰∫∫ËßâÂæóÂèØ‰ª•‰ªéËøôÂá†‰∏™Âú∞ÊñπÂÖ•ÊâãÔºöAnt DesignÈááÁî®SVGÊ†ºÂºèÁöÑÂõæÊ†áÂêéÔºåÂØºËá¥È°πÁõÆÊâìÂåÖ‰ΩìÁßØËøáÂ§ßÔºåÂèØ‰ª•ÂèÇËÄÉÂÆòÊñπissueÁöÑËÆ®ËÆ∫Ôºöhttps://github.com/vueComponent/ant-design-vue/issues/325Âíåhttps://github.com/ant-design/ant-design/issues/12011ÔºõÂèØ‰ª•Â∞Ü‰æùËµñÈÄöËøáCDNÊù•Âä†ËΩΩÔºåÂèÇËÄÉËøûÊé•Ôºöhttps://blog.csdn.net/qq_35844177/article/details/78599064ÔºõwebpackÊâìÂåÖÈÖçÁΩÆÂèØËÉΩÂ≠òÂú®ÂèØ‰ºòÂåñÁöÑÂú∞Êñπ„ÄÇÁî±‰∫éÊàëÊâçÁñèÂ≠¶ÊµÖÔºåÂâçÁ´ØÊäÄËÉΩËñÑÂº±ÔºåÊâÄ‰ª•Ê≤°ËÉΩÂ§üÂæàÂ•ΩÂú∞Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇÊ¨¢ËøéÊù•Ëá™‰∫îÊπñÂõõÊµ∑ÁöÑËÉΩ‰∫∫ÂøóÂ£´pull requestÊù•ÊîπÂñÑËøô‰∏™ÈóÆÈ¢òÔºåÊÑüÊøÄ‰∏çÂ∞Ω„ÄÇ]]></content>
      <tags>
        <tag>FEBS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot WebFluxÂ¢ûÂà†ÊîπÊü•Ê†∑‰æã]]></title>
    <url>%2FSpring-Boot-WebFlux-CRUD.html</url>
    <content type="text"><![CDATA[Âú® Spring Boot 2.0 WebFluxÁºñÁ®ã ‰∏ÄËäÇÊàë‰ª¨Â§ßËá¥‰∫ÜËß£‰∫ÜWebFluxÁöÑÁî®Ê≥ïÔºåËøôËäÇÊàë‰ª¨Â∞ÜÁªìÂêàMongo DBÂú®WebFluxÁöÑÊû∂ÊûÑ‰∏ãÂÆûÁé∞Â¢ûÂà†ÊîπÊü•Ê†∑‰æã„ÄÇÂíå Spring BootÊï¥ÂêàMongo DB ‰∏çÂêåÁöÑÊòØÔºåÊàë‰ª¨‰ΩøÁî®ÁöÑÊòØReactive Mongo DB‰æùËµñÔºåÊâÄÊúâÂ¢ûÂà†ÊîπÊü•ÊñπÊ≥ïËøîÂõûÂÄºÁ±ªÂûã‰∏∫FluxÊàñËÄÖMono„ÄÇÈ°πÁõÆÂáÜÂ§áÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.1.3.RELEASEÔºåÂπ∂ÂºïÂÖ•webfluxÂíåreactive mongodb‰æùËµñÔºö12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;&lt;/dependency&gt;Ë¶ÅÂºÄÂêØReactive Mongo DBÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆÔºåÈúÄË¶ÅÂú®Spring BootÂêØÂä®Á±ª‰∏äÊ∑ªÂä†@EnableReactiveMongoRepositoriesÊ≥®Ëß£Ôºö1234567@SpringBootApplication@EnableReactiveMongoRepositoriespublic class WebfluxApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(WebfluxApplication.class, args); &#125;&#125;Êé•ÁùÄÂú®ÈÖçÁΩÆÊñá‰ª∂application.ymlÈáåÈÖçÁΩÆMongo DBËøûÊé•Ôºö123456spring: data: mongodb: host: localhost port: 27017 database: webflux‰ΩøÁî®ÁöÑÊòØwebfluxÊï∞ÊçÆÂ∫ìÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú®Mongo DBÈáåÊñ∞Âª∫‰∏Ä‰∏™webfluxÊï∞ÊçÆÂ∫ìÔºàÂπ∂ÂàõÂª∫userÊñáÊ°£/Ë°®Ôºå‰ª•‰æõÂæÖ‰ºö‰ΩøÁî®ÔºâÔºöÂàõÂª∫UserÂÆû‰ΩìÁ±ª:1234567891011@Document(collection = "user")public class User &#123; @Id private String id; private String name; private Integer age; private String description; // get set Áï•&#125;ÁÆÄÂçïÂ¢ûÂà†ÊîπÊü•ÂàõÂª∫UserDaoÊé•Âè£ÔºåÁªßÊâøËá™ReactiveMongoRepositoryÔºö123@Repositorypublic interface UserDao extends ReactiveMongoRepository&lt;User, String&gt; &#123;&#125;Âíå Spring BootÊï¥ÂêàMongo DB ‰∏çÂêåÁöÑÊòØÔºåÊàë‰ª¨ÁªßÊâøÁöÑÊòØReactiveMongoRepositoryËÄåÈùûMongoRepositoryÔºåÂÆÉÊâÄÊèê‰æõÁöÑÊñπÊ≥ïÈÉΩÊòØÂìçÂ∫îÂºèÁöÑÔºöÂú®UserServiceÈáåÈÄöËøáUserDaoÂÆö‰πâÁÆÄÂçïÂ¢ûÂà†ÊîπÊü•ÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233@Servicepublic class UserService &#123; @Autowired private UserDao userDao; public Flux&lt;User&gt; getUsers() &#123; return userDao.findAll(); &#125; public Mono&lt;User&gt; getUser(String id) &#123; return this.userDao.findById(id); &#125; public Mono&lt;User&gt; createUser(User user) &#123; return userDao.save(user); &#125; public Mono&lt;Void&gt; deleteUser(String id) &#123; return this.userDao.findById(id) .flatMap(user -&gt; this.userDao.delete(user)); &#125; public Mono&lt;User&gt; updateUser(String id, User user) &#123; return this.userDao.findById(id) .flatMap(u -&gt; &#123; u.setName(user.getName()); u.setAge(user.getAge()); u.setDescription(user.getDescription()); return this.userDao.save(u); &#125;); &#125;&#125;Â§ßËá¥‰∏äÂíå Spring BootÊï¥ÂêàMongo DB ‰∏≠ÁöÑUserServiceÂ∑Æ‰∏çÂ§öÔºå‰∏çÂêåÁöÑÊòØËøîÂõûÂÄºÁ±ªÂûã‰∏∫FluxÊàñËÄÖMonoÔºåÂç≥ÂÆÉ‰ª¨ÊòØÂìçÂ∫îÂºèÈùûÈòªÂ°ûÁöÑÊñπÊ≥ï„ÄÇÁºñÂÜôRESTfulUserControllerÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960@RestController@RequestMapping("user")public class UserController &#123; @Autowired private UserService userService; /** * ‰ª•Êï∞ÁªÑÁöÑÂΩ¢Âºè‰∏ÄÊ¨°ÊÄßËøîÂõûÊâÄÊúâÊï∞ÊçÆ */ @GetMapping public Flux&lt;User&gt; getUsers() &#123; return userService.getUsers(); &#125; /** * ‰ª• Server sent eventsÂΩ¢ÂºèÂ§öÊ¨°ËøîÂõûÊï∞ÊçÆ */ @GetMapping(value = "/stream", produces = MediaType.TEXT_EVENT_STREAM_VALUE) public Flux&lt;User&gt; getUsersStream() &#123; return userService.getUsers(); &#125; @PostMapping public Mono&lt;User&gt; createUser(User user) &#123; return userService.createUser(user); &#125; /** * Â≠òÂú®ËøîÂõû 200Ôºå‰∏çÂ≠òÂú®ËøîÂõû 404 */ @DeleteMapping("/&#123;id&#125;") public Mono&lt;ResponseEntity&lt;Void&gt;&gt; deleteUser(@PathVariable String id) &#123; return userService.deleteUser(id) .then(Mono.just(new ResponseEntity&lt;Void&gt;(HttpStatus.OK))) .defaultIfEmpty(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND)); &#125; /** * Â≠òÂú®ËøîÂõû‰øÆÊîπÂêéÁöÑ User * ‰∏çÂ≠òÂú®ËøîÂõû 404 */ @PutMapping("/&#123;id&#125;") public Mono&lt;ResponseEntity&lt;User&gt;&gt; updateUser(@PathVariable String id, User user) &#123; return userService.updateUser(id, user) .map(u -&gt; new ResponseEntity&lt;&gt;(u, HttpStatus.OK)) .defaultIfEmpty(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND)); &#125; /** * Ê†πÊçÆÁî®Êà∑ idÊü•Êâæ * Â≠òÂú®ËøîÂõûÔºå‰∏çÂ≠òÂú®ËøîÂõû 404 */ @GetMapping("/&#123;id&#125;") public Mono&lt;ResponseEntity&lt;User&gt;&gt; getUser(@PathVariable String id) &#123; return userService.getUser(id) .map(user -&gt; new ResponseEntity&lt;&gt;(user, HttpStatus.OK)) .defaultIfEmpty(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND)); &#125;&#125;ÂØπ‰∫éËøîÂõûÂÄº‰∏∫Flux&lt;T&gt;Á±ªÂûãÁöÑÊñπÊ≥ïÔºåÊé®ËçêÂÆö‰πâ‰∏§‰∏™‰∏ÄÊ†∑ÁöÑÊñπÊ≥ïÔºå‰∏Ä‰∏™‰ª•ÊôÆÈÄöÂΩ¢ÂºèËøîÂõûÔºå‰∏Ä‰∏™‰ª•Server Sent EventÁöÑÂΩ¢ÂºèËøîÂõû„ÄÇÂØπ‰∫é‰øÆÊîπÂíåÂà†Èô§ÔºåÂ¶ÇÊûúÈúÄË¶Å‰øÆÊîπÂíåÂà†Èô§ÁöÑÁî®Êà∑‰∏çÂ≠òÂú®ÔºåÊàë‰ª¨ËøîÂõû404„ÄÇÂØπ‰∫éFluxÂíåMonoÁöÑÊìç‰ΩúÔºåÂú® Spring Boot 2.0 WebFluxÁºñÁ®ã ‰∏ÄËäÇ‰∏≠Â∑≤Áªè‰ªãÁªçËøá‰∫ÜÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞‰∫Ü„ÄÇÊéíÂ∫è‰∏éÂàÜÈ°µÂú® Spring BootÊï¥ÂêàMongo DB ‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáMongoTemplateÂÆûÁé∞‰∫ÜÊéíÂ∫è‰∏éÂàÜÈ°µ„ÄÇ‰∏éMongoTemplateÂØπ‰∫éÁöÑÂìçÂ∫îÂºèÁöÑÂØπË±°‰∏∫ReactiveMongoTemplateÔºåÊâÄ‰ª•Êàë‰ª¨ÁÖßËë´Ëä¶ÁîªÁì¢Ôºå‰ªøÁÖßMongoTemplateÁöÑÂÜôÊ≥ïÊù•ÂÆûÁé∞Ôºö123456789101112131415161718192021222324252627282930313233/** * ÂàÜÈ°µÊü•ËØ¢ÔºåÂè™ËøîÂõûÂàÜÈ°µÂêéÁöÑÊï∞ÊçÆÔºåcountÂÄºÈúÄË¶ÅÈÄöËøá getUserByConditionCount * ÊñπÊ≥ïËé∑Âèñ */public Flux&lt;User&gt; getUserByCondition(int size, int page, User user) &#123; Query query = getQuery(user); Sort sort = new Sort(Sort.Direction.DESC, "age"); Pageable pageable = PageRequest.of(page, size, sort); return template.find(query.with(pageable), User.class);&#125;/** * ËøîÂõû countÔºåÈÖçÂêà getUserByCondition‰ΩøÁî® */public Mono&lt;Long&gt; getUserByConditionCount(User user) &#123; Query query = getQuery(user); return template.count(query, User.class);&#125;private Query getQuery(User user) &#123; Query query = new Query(); Criteria criteria = new Criteria(); if (!StringUtils.isEmpty(user.getName())) &#123; criteria.and("name").is(user.getName()); &#125; if (!StringUtils.isEmpty(user.getDescription())) &#123; criteria.and("description").regex(user.getDescription()); &#125; query.addCriteria(criteria); return query;&#125;‰πãÊâÄ‰ª•ÊãÜÂàÜÊòØÂõ†‰∏∫Ê≤°ÊâæÂà∞‰∏éPageableExecutionUtilsÁ±ªÁöÑgetPageÊñπÊ≥ïÁ±ª‰ººÁöÑÊñπÊ≥ïÔºåÂ¶ÇÊûúÊòØÂìçÂ∫îÂºèÁöÑËØùÔºåËøîÂõûÂÄºÁ±ªÂûãÂ∫îËØ•ÊòØMono&lt;Page&lt;User&gt;&gt;Ôºå‰∏çÊáÇÂ§ßÂÆ∂ÊúâÊ≤°Âà´ÁöÑÊõ¥Â•ΩÁöÑÂÆûÁé∞ÊñπÊ≥ïÔºüÊ∫êÁ†ÅÂíåPostManÊµãËØïÊ†∑‰æãÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/58.Spring-Boot-WebFlux-crud]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
        <tag>MongoDB</tag>
        <tag>WebFlux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud ConsulÊúçÂä°Ê≤ªÁêÜ]]></title>
    <url>%2FSpring-Cloud-Consul.html</url>
    <content type="text"><![CDATA[ConsulÊòØ‰∏ÄÊ¨æÁî±HashiCorpÂÖ¨Âè∏ÂºÄÊ∫êÁöÑÔºåÁî®‰∫éÊúçÂä°Ê≤ªÁêÜÁöÑËΩØ‰ª∂ÔºåSpring Cloud ConsulÂØπÂÖ∂ËøõË°å‰∫ÜÂ∞ÅË£Ö„ÄÇConsulÂÖ∑ÊúâÂ¶Ç‰∏ãÁâπÁÇπ:ÊúçÂä°Ê≥®ÂÜå - Ëá™Âä®Ê≥®ÂÜåÂíåÂèñÊ∂àÊ≥®ÂÜåÊúçÂä°ÂÆû‰æãÁöÑÁΩëÁªú‰ΩçÁΩÆËøêË°åÁä∂ÂÜµÊ£ÄÊü• - Ê£ÄÊµãÊúçÂä°ÂÆû‰æã‰ΩïÊó∂ÂêØÂä®Âπ∂ËøêË°åÂàÜÂ∏ÉÂºèÈÖçÁΩÆ - Á°Æ‰øùÊâÄÊúâÊúçÂä°ÂÆû‰æã‰ΩøÁî®Áõ∏ÂêåÁöÑÈÖçÁΩÆConsul agentÊúâ‰∏§ÁßçËøêË°åÊ®°ÂºèÔºöServerÂíåClient„ÄÇËøôÈáåÁöÑServerÂíåClientÂè™ÊòØConsulÈõÜÁæ§Â±ÇÈù¢ÁöÑÂå∫ÂàÜÔºå‰∏éÊê≠Âª∫Âú®Cluster‰πã‰∏ä ÁöÑÂ∫îÁî®ÊúçÂä°Êó†ÂÖ≥„ÄÇ ‰ª•ServerÊ®°ÂºèËøêË°åÁöÑConsul agentËäÇÁÇπÁî®‰∫éÁª¥Êä§ConsulÈõÜÁæ§ÁöÑÁä∂ÊÄÅÔºåÂÆòÊñπÂª∫ËÆÆÊØè‰∏™Consul ClusterËá≥Â∞ëÊúâ3‰∏™Êàñ‰ª•‰∏äÁöÑËøêË°åÂú®Server modeÁöÑAgentÔºåClientËäÇÁÇπ‰∏çÈôê„ÄÇÂÆâË£ÖConsulConsul‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://www.consul.io/downloads.htmlÔºåÊú¨ÊñáÈÄâÊã©Linux 64bit ÁâàÊú¨ËøõË°åÊºîÁ§∫„ÄÇ‰∏ãËΩΩÂêéËß£ÂéãÔºåÁÑ∂ÂêéÂú®Ëß£ÂéãÁõÆÂΩï‰∏ãËøêË°å./consulÂëΩ‰ª§ÔºöÂèØ‰ª•ÁúãÂà∞ConsulÊâÄÂåÖÂê´ÁöÑÂëΩ‰ª§Ôºå‰ΩøÁî®consul [ÂëΩ‰ª§] --helpÂèØ‰ª•Êü•ÁúãÊüê‰∏™ÂëΩ‰ª§ÁöÑÂÖ∑‰ΩìÁî®Ê≥ï„ÄÇÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Êù•ÂêØÂä®‰∏Ä‰∏™Consul agentÔºö1./consul agent -dev -client 192.168.140.215-devË°®Á§∫ÂàõÂª∫‰∏Ä‰∏™ÂºÄÂèëÁéØÂ¢É‰∏ãÁöÑserverËäÇÁÇπÔºåÂú®ËØ•Ê®°Âºè‰∏ã‰∏ç‰ºöÊúâ‰ªª‰ΩïÊåÅ‰πÖÂåñÊìç‰ΩúÔºåÂç≥‰∏ç‰ºöÊúâ‰ªª‰ΩïÊï∞ÊçÆÂÜôÂÖ•Âà∞Á£ÅÁõòÔºåÊâÄ‰ª•Ëøô‰∏™Ê®°ÂºèÈÄÇÂêàÁî®‰∫éÂºÄÂèëËøáÁ®ãÔºåËÄå‰∏çÈÄÇÁî®‰∫éÁîü‰∫ßÁéØÂ¢É„ÄÇ-client 192.168.140.215Ë°®Á§∫ËøêË°åÂÆ¢Êà∑Á´Ø‰ΩøÁî®ipÂú∞ÂùÄ192.168.140.215ÔºàÊú¨ÊñáLinuxÁéØÂ¢ÉIPÂú∞ÂùÄÔºâÂéªËÆøÈóÆ„ÄÇÂêØÂä®ÂêéÔºåÈªòËÆ§ÁöÑÁ´ØÂè£Âè∑‰∏∫8500ÔºåËÆøÈóÆhttp://192.168.140.215:8500ÂΩìÂâçÂ∞±‰∏Ä‰∏™consulÊúçÂä°„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨ÂºÄÂßãÂàõÂª∫ÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖ„ÄÇServer-ProviderÂàõÂª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.0.2.RELEASEÔºåartifactId‰∏∫server-providerÔºåSpring CloudÁâàÊú¨‰∏∫Finchley.RELEASEÔºö123456789101112131415161718192021222324252627&lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;spring-cloud.version&gt;Finchley.RELEASE&lt;/spring-cloud.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;ÁÑ∂ÂêéÂú®ÈÖçÁΩÆÊñá‰ª∂ÈáåÊ∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö1234567891011121314server: port: 9000spring: application: name: server-provider cloud: consul: host: 192.168.140.215 port: 8500 discovery: health-check-interval: 10s service-name: $&#123;spring.application.name&#125; register-health-check: true health-check-path: /checkspring.cloud.consul.hostÂíåspring.cloud.consul.portÈÖçÁΩÆ‰∫ÜconsulÁöÑipÂíåÁ´ØÂè£Ôºõspring.cloud.consul.discovery.service-nameÈÖçÁΩÆ‰∫ÜËØ•ÊúçÂä°Âú®consulÈáåÊ≥®ÂÜåÁöÑÊúçÂä°ÂêçÁß∞Ôºõspring.cloud.consul.discovery.register-health-checkÁî®‰∫éÂºÄÂêØÂÅ•Â∫∑Ê£ÄÊü•Ôºåspring.cloud.consul.discovery.health-check-intervalÈÖçÁΩÆ‰∫ÜÂÅ•Â∫∑Ê£ÄÊü•ÁöÑÂë®Êúü‰∏∫10ÁßíÔºåspring.cloud.consul.discovery.health-check-pathÈÖçÁΩÆ‰∫ÜÂÅ•Â∫∑Ê£ÄÊü•Ë∑ØÂæÑ„ÄÇÊé•ÁùÄÊñ∞Âª∫TestControllerÔºö12345678910111213141516@RestControllerpublic class TestController &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @GetMapping("check") private String check() &#123; logger.info("health check"); return "ok"; &#125; @GetMapping("hello") public String hello() &#123; logger.info("hello"); return "hello from server provider"; &#125;&#125;checkÊñπÊ≥ïÁî®‰∫éÁõëÊéßÊ£ÄÊü•ÔºåTestControllerËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™helloÊñπÊ≥ïÔºå‰ª•‰æõÂêéÁª≠ÊúçÂä°Ê∂àË¥πËÄÖË∞ÉÁî®„ÄÇspring.cloud.consul.discovery.health-check-pathÁöÑÈªòËÆ§ÂÄº‰∏∫/actuator/healthÔºåÂ¶ÇÊûúÈááÁî®ËØ•ÈªòËÆ§ÂÄºÁöÑËØùÔºåËøòÈúÄË¶ÅÂØºÂÖ•spring-boot-starter-actuator‰æùËµñ„ÄÇÊúÄÂêéÔºåË¶ÅÂºÄÂêØÊúçÂä°Ê≥®ÂÜå‰∏éÂèëË°åÔºåÈúÄË¶ÅÂú®Spring BootÂÖ•Âè£Á±ª‰∏äÊ∑ªÂä†@EnableDiscoveryClientÊ≥®Ëß£Ôºö1234567@EnableDiscoveryClient@SpringBootApplicationpublic class ServerProviderApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ServerProviderApplication.class, args); &#125;&#125;ÂáÜÂ§áÂÆåÊØïÂêéÔºåÊâìÂåÖÈ°πÁõÆÔºåÁÑ∂ÂêéÂêØÂä®‰∏§‰∏™ÂÆû‰æãÔºåÁ´ØÂè£Âè∑ÂàÜÂà´‰∏∫9000Âíå9001ÔºåÂêØÂä®ÂêéÔºåÂÜçÊ¨°ËÆøÈóÆconsulÁÆ°ÁêÜÁïåÈù¢ÔºöÊúçÂä°Êèê‰æõËÄÖÊ≥®ÂÜåÊàêÂäüÔºåÊé•‰∏ãÊù•ÂºÄÂßãÊê≠Âª∫ÊúçÂä°Ê∂àË¥πËÄÖ„ÄÇServer-ConsumerÂàõÂª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.0.2.RELEASEÔºåartifactId‰∏∫server-providerÔºåSpring CloudÁâàÊú¨‰∏∫Finchley.RELEASEÔºö12345678910111213141516171819202122232425262728293031&lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;spring-cloud.version&gt;Finchley.RELEASE&lt;/spring-cloud.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;ÂºïÂÖ•spring-boot-starter-actuatorÁî®‰∫éÈªòËÆ§ÁöÑÂÅ•Â∫∑Ê£ÄÊü•„ÄÇÈÖçÁΩÆapplication.ymlÔºö12345678910111213server: port: 9002spring: application: name: server-consumer cloud: consul: host: 192.168.140.215 port: 8500 discovery: service-name: $&#123;spring.application.name&#125;ÂêåÊ†∑ÁöÑÔºåÈúÄË¶ÅÂºÄÂêØÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞ÈúÄË¶ÅÂú®ÂÖ•Âè£Á±ª‰∏äÊ∑ªÂä†@EnableDiscoveryClientÊ≥®Ëß£„ÄÇÊé•ÁùÄÂàõÂª∫TestControllerÊù•Ê∂àË¥πServer-ProviderÊèê‰æõÁöÑhelloÊúçÂä°Ôºö1234567891011121314151617181920212223242526272829@RestControllerpublic class TestController &#123; private Logger loggr = LoggerFactory.getLogger(this.getClass()); @Autowired private DiscoveryClient discoveryClient; @Autowired private LoadBalancerClient loadBalancerClient; private final RestTemplate restTemplate = new RestTemplate(); private static final String SERVER_ID = "server-provider"; @GetMapping("uri") public List&lt;URI&gt; getServerUris() &#123; return this.discoveryClient.getInstances(SERVER_ID) .stream() .map(ServiceInstance::getUri).collect(Collectors.toList()); &#125; @GetMapping("hello") public String hello() &#123; ServiceInstance instance = loadBalancerClient.choose(SERVER_ID); String url = instance.getUri().toString() + "/hello"; loggr.info("remote server urlÔºö&#123;&#125;", url); return restTemplate.getForObject(url, String.class); &#125;&#125;SERVER_IDÁöÑÂÄº‰∏∫ÊúçÂä°Êèê‰æõËÄÖÂú®consulÊ≥®ÂÜå‰∏≠ÂøÉÁöÑÂÆû‰æãÂêçÁß∞ÔºåÂç≥server-provider„ÄÇÈÄöËøáDiscoveryClientÊàë‰ª¨ÂèØ‰ª•Ëé∑ÂèñÂà∞ÊâÄÊúâÂêçÁß∞‰∏∫server-providerÁöÑÊúçÂä°ÂÆû‰æã‰ø°ÊÅØ„ÄÇÈÄöËøáLoadBalancerClientÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°Âú∞ÂéªËé∑ÂèñÊúçÂä°ÂÆû‰æãÔºåÂπ∂ÈÄöËøáRestTemplateÂéªË∞ÉÁî®ÊúçÂä°„ÄÇÊâìÂåÖÈÉ®ÁΩ≤È°πÁõÆÔºåÁÑ∂ÂêéÊü•ÁúãconsulÊéßÂà∂Âè∞ÔºöËÆøÈóÆÔºöhttp://192.168.140.215:9002/uriÔºöÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÊàêÂäüËé∑ÂèñÂà∞‰∫ÜÊúçÂä°ÂêçÁß∞‰∏∫server-providerÁöÑ‰∏§‰∏™ÂÖ∑‰ΩìÂÆû‰æã„ÄÇÂ§öÊ¨°Ë∞ÉÁî®http://192.168.140.215:9002/helloÔºöÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÊúçÂä°Ë∞ÉÁî®ÊòØÂùáË°°ÁöÑ„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåconsulÂÜÖÁΩÆ‰∫ÜRibbonÔºåÊâÄ‰ª•Êàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøá@LoadBalancedÊ†áÊ≥®ÁöÑRestTemplateÊù•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÊúçÂä°Ë∞ÉÁî®Ôºö12345678910111213141516@Autowiredprivate RestTemplate restTemplate;private static final String SERVER_ID = "server-provider";@Bean@LoadBalancedpublic RestTemplate restTemplate() &#123; return new RestTemplate();&#125;@GetMapping("hello")public String hello() &#123; String url = "http://" + SERVER_ID + "/hello"; return restTemplate.getForObject(url, String.class);&#125;ÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇconsulÈõÜÁæ§‰∏äÈù¢Êàë‰ª¨Âè™ÊòØ‰ª•-devÊ®°ÂºèÂºÄÂêØ‰∫Ü‰∏Ä‰∏™ÂçïËäÇÁÇπconsul agentÔºåÁîü‰∫ßÁéØÂ¢É‰∏ãÈúÄË¶ÅÊê≠Âª∫consulÈõÜÁæ§Êù•Á°Æ‰øùÈ´òÂèØÁî®„ÄÇÊê≠Âª∫consulÈõÜÁæ§Êó∂Â∏∏Áî®ÁöÑÂëΩ‰ª§Êúâ:ÂëΩ‰ª§Ëß£ÈáäÁ§∫‰æãagentËøêË°å‰∏Ä‰∏™consul agentconsul agent -devjoinÂ∞ÜagentÂä†ÂÖ•Âà∞consulÈõÜÁæ§consul join IPmembersÂàóÂá∫consul clusterÈõÜÁæ§‰∏≠ÁöÑmembersconsul membersleaveÂ∞ÜËäÇÁÇπÁßªÈô§ÊâÄÂú®ÈõÜÁæ§consul leaveÂáÜÂ§á‰∫Ü‰∏âÂè∞LinuxÊúçÂä°Âô®ÔºåÈÖçÁΩÆÂ¶Ç‰∏ãÔºöÂ∫èÂè∑ËäÇÁÇπipËäÇÁÇπÂêçÁß∞ËßíËâ≤1192.168.140.215consul-server-215server2192.168.140.213consul-server-213server3192.168.140.216consul-server-216server &amp; web uiÂú®Ëøô‰∏âÂè∞ÊúçÂä°Âô®‰∏ä‰∏ãËΩΩÂπ∂Ëß£ÂéãconsulÔºåÁÑ∂ÂêéÂú®Ëß£ÂéãÁöÑÊ†πÁõÆÂΩï‰∏äÂàõÂª∫‰∏Ä‰∏™dataÁõÆÂΩï„ÄÇÁî±‰∫éÊàë‰ª¨‰πãÂâçÂ∑≤ÁªèÂú®215‰∏äÂêØÂä®‰∫ÜconsulÔºåÊâÄ‰ª•ÂÖàÊâßË°åkillall consulÊù•ÊùÄÊéâËøõÁ®ãÔºåÁÑ∂ÂêéÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Ôºö1nohup ./consul agent -server -bind 192.168.140.215 -client=0.0.0.0 -bootstrap-expect=3 -data-dir=data -node=consul-server-215 &amp;Ëß£Èáä‰∏Ä‰∏ã‰∏äÈù¢ËøôÊù°ÂëΩ‰ª§ÁöÑÂê´‰πâ:-serverË°®Á§∫‰ª•ÊúçÂä°ÁöÑÂΩ¢ÂºèÂêØÂä®agent-bindË°®Á§∫ÁªëÂÆöÂà∞ÂΩìÂâçLinuxÁöÑipÔºàÊúâ‰∫õÊúçÂä°Âô®‰ºöÁªëÂÆöÂ§öÂùóÁΩëÂç°ÔºåÂèØ‰ª•ÈÄöËøábindÂèÇÊï∞Âº∫Âà∂ÊåáÂÆöÁªëÂÆöÁöÑipÔºâ-clientÊåáÂÆöÂÆ¢Êà∑Á´ØËÆøÈóÆÁöÑipÔºàconsulÊúâ‰∏∞ÂØåÁöÑapiÊé•Âè£ÔºåËøôÈáåÁöÑÂÆ¢Êà∑Á´ØÊåáÊµèËßàÂô®ÊàñË∞ÉÁî®ÊñπÔºâÔºå0.0.0.0Ë°®Á§∫‰∏çÈôêÂÆ¢Êà∑Á´Øip-bootstrap-expect=3Ë°®Á§∫serverÈõÜÁæ§ÊúÄ‰ΩéËäÇÁÇπÊï∞‰∏∫3Ôºå‰Ωé‰∫éËøô‰∏™ÂÄºÂ∞ÜÂ∑•‰Ωú‰∏çÊ≠£Â∏∏(Ê≥®ÔºöÁ±ª‰ººzookeeper‰∏ÄÊ†∑ÔºåÈÄöÂ∏∏ÈõÜÁæ§Êï∞‰∏∫Â•áÊï∞ÔºåÊñπ‰æøÈÄâ‰∏æÔºåconsulÈááÁî®ÁöÑÊòØraftÁÆóÊ≥ï)-data-dirË°®Á§∫ÊåáÂÆöÊï∞ÊçÆÁöÑÂ≠òÊîæÁõÆÂΩïÔºàËØ•ÁõÆÂΩïÂøÖÈ°ªÂ≠òÂú®Ôºâ-nodeË°®Á§∫ËäÇÁÇπÁöÑÂêçÁß∞Êé•ÁùÄÂú®213ÊúçÂä°Âô®‰∏äÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Ôºö1nohup ./consul agent -server -bind 192.168.140.213 -client=0.0.0.0 -bootstrap-expect=3 -data-dir=data -node=consul-server-213 &amp;ÊúÄÂêéÂú®216‰∏äÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Ôºö1nohup ./consul agent -server -bind 192.168.140.216 -client=0.0.0.0 -bootstrap-expect=3 -data-dir=data -node=consul-server-216 -ui &amp;ÂíåÂâç‰∏§Êù°ÂëΩ‰ª§Áõ∏ÊØîÔºåËøôÊù°ÂëΩ‰ª§Â§ö‰∫Ü-uiÈÄâÈ°πÔºåË°®Á§∫ÂºÄÂêØÁÆ°ÁêÜÁïåÈù¢UI„ÄÇÁÑ∂ÂêéÂàÜÂà´Âú®213Âíå215‰∏ãÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Ôºö1./consul join 192.168.140.216ËøôÊ†∑213Âíå215ÊàêÂäüÂä†ÂÖ•Âà∞‰∫Ü216ÊûÑÊàê‰∫Ü‰∏Ä‰∏™‰∏âËäÇÁÇπÈõÜÁæ§ÔºåËøêË°å./consul membersÊü•ÁúãÔºöËÆøÈóÆhttp://192.168.140.216:8500ÔºöËÆøÈóÆhttp://192.168.140.215:9002/helloÔºöËøôÊó∂ÂÄôÂú®215ÊâßË°åkillall consulÂëΩ‰ª§ÔºåÊùÄÊ≠ªconsulÊúçÂä°ÔºåÁÑ∂ÂêéÂú®216‰∏äÊâßË°å./consul membersÔºöÂèØ‰ª•ÁúãÂà∞215ËäÇÁÇπÂ∑≤ÁªèÊåÇ‰∫ÜÔºåÂÜçÊ¨°ËÆøÈóÆhttp://192.168.140.215:9002/helloÔºöÊúçÂä°‰æùÊóßËé∑ÂèñÊàêÂäü„ÄÇÂèØËßÅÔºåËôΩÁÑ∂Êàë‰ª¨Âú®application.yml‰∏≠ÈÖçÁΩÆconsulÁöÑÂú∞ÂùÄÊòØ192.168.140.215:8500Ôºå‰ΩÜÁî±‰∫éÊàë‰ª¨ÊûÑÂª∫ÁöÑÊòØconsulÈõÜÁæ§ÔºåÊâÄ‰ª•ÂæÆÊúçÂä°ÂêØÂä®Êó∂‰ºöËé∑ÂèñÂà∞Êï¥‰∏™ÈõÜÁæ§‰ø°ÊÅØÔºåÂç≥‰Ωø215Ëøô‰∏™ËäÇÁÇπÊåÇ‰∫ÜÔºåÂæÆÊúçÂä°ÂèØ‰ª•‰ªéÂà´ÁöÑconsulËäÇÁÇπ‰∏äËé∑ÂèñÊ≥®ÂÜåÁöÑÊúçÂä°‰ø°ÊÅØ„ÄÇÂèÇËÄÉÊñáÊ°£Ôºöhttps://learn.hashicorp.com/consul/getting-started/install.htmlhttps://cloud.spring.io/spring-cloud-consul/spring-cloud-consul.html#spring-cloud-consul-hystrixÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/55.Spring-Cloud-Consul]]></content>
      <tags>
        <tag>Spring Cloud</tag>
        <tag>Consul</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÊï¥ÂêàKafka]]></title>
    <url>%2FSpring-Boot-Kafka.html</url>
    <content type="text"><![CDATA[KafkaÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁöÑ„ÄÅÂèØÂàÜÂå∫ÁöÑ„ÄÅÂèØÂ§çÂà∂ÁöÑÊ∂àÊÅØÁ≥ªÁªüÔºå‰∏ãÈù¢ÊòØKafkaÁöÑÂá†‰∏™Âü∫Êú¨ÊúØËØ≠ÔºöKafkaÂ∞ÜÊ∂àÊÅØ‰ª•topic‰∏∫Âçï‰ΩçËøõË°åÂΩíÁ∫≥ÔºõÂ∞ÜÂêëKafka topicÂèëÂ∏ÉÊ∂àÊÅØÁöÑÁ®ãÂ∫èÊàê‰∏∫producersÔºõÂ∞ÜÈ¢ÑËÆ¢topicsÂπ∂Ê∂àË¥πÊ∂àÊÅØÁöÑÁ®ãÂ∫èÊàê‰∏∫consumerÔºõKafka‰ª•ÈõÜÁæ§ÁöÑÊñπÂºèËøêË°åÔºåÂèØ‰ª•Áî±‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊúçÂä°ÁªÑÊàêÔºåÊØè‰∏™ÊúçÂä°Âè´ÂÅö‰∏Ä‰∏™broker„ÄÇproducersÈÄöËøáÁΩëÁªúÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞KafkaÈõÜÁæ§ÔºåÈõÜÁæ§ÂêëÊ∂àË¥πËÄÖÊèê‰æõÊ∂àÊÅØÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂàõÂª∫‰∏Ä‰∏™topicÊó∂ÔºåÂèØ‰ª•ÊåáÂÆöpartitionsÔºàÂàÜÂå∫ÔºâÊï∞ÁõÆÔºåpartitionsÊï∞Ë∂äÂ§öÔºåÂÖ∂ÂêûÂêêÈáè‰πüË∂äÂ§ßÔºå‰ΩÜÊòØÈúÄË¶ÅÁöÑËµÑÊ∫ê‰πüË∂äÂ§öÔºåÂêåÊó∂‰πü‰ºöÂØºËá¥Êõ¥È´òÁöÑ‰∏çÂèØÁî®ÊÄßÔºåkafkaÂú®Êé•Êî∂Âà∞producersÂèëÈÄÅÁöÑÊ∂àÊÅØ‰πãÂêéÔºå‰ºöÊ†πÊçÆÂùáË°°Á≠ñÁï•Â∞ÜÊ∂àÊÅØÂ≠òÂÇ®Âà∞‰∏çÂêåÁöÑpartitions‰∏≠ÔºöÂú®ÊØè‰∏™partitions‰∏≠ÔºåÊ∂àÊÅØ‰ª•È°∫Â∫èÂ≠òÂÇ®ÔºåÊúÄÊôöÊé•Êî∂ÁöÑÁöÑÊ∂àÊÅØ‰ºöÊúÄÂêéË¢´Ê∂àË¥π„ÄÇproducersÂú®ÂêëkafkaÈõÜÁæ§ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÈÄöËøáÊåáÂÆöpartitionsÊù•ÂèëÈÄÅÂà∞ÊåáÂÆöÁöÑpartitions‰∏≠„ÄÇ‰πüÂèØ‰ª•ÈÄöËøáÊåáÂÆöÂùáË°°Á≠ñÁï•Êù•Â∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞‰∏çÂêåÁöÑpartitions‰∏≠„ÄÇÂ¶ÇÊûú‰∏çÊåáÂÆöÔºåÂ∞±‰ºöÈááÁî®ÈªòËÆ§ÁöÑÈöèÊú∫ÂùáË°°Á≠ñÁï•ÔºåÂ∞ÜÊ∂àÊÅØÈöèÊú∫ÁöÑÂ≠òÂÇ®Âà∞‰∏çÂêåÁöÑpartitions‰∏≠„ÄÇÂú®consumerÊ∂àË¥πÊ∂àÊÅØÊó∂Ôºåkafka‰ΩøÁî®offsetÊù•ËÆ∞ÂΩïÂΩìÂâçÊ∂àË¥πÁöÑ‰ΩçÁΩÆÔºöÂú®kafkaÁöÑËÆæËÆ°‰∏≠ÔºåÂèØ‰ª•ÊúâÂ§ö‰∏™‰∏çÂêåÁöÑgroupÊù•ÂêåÊó∂Ê∂àË¥πÂêå‰∏Ä‰∏™topic‰∏ãÁöÑÊ∂àÊÅØÔºåÂ¶ÇÂõæÔºåÊàë‰ª¨Êúâ‰∏§‰∏™‰∏çÂêåÁöÑgroupÂêåÊó∂Ê∂àË¥πÔºå‰ªñ‰ª¨ÁöÑÁöÑÊ∂àË¥πÁöÑËÆ∞ÂΩï‰ΩçÁΩÆoffsetÂêÑ‰∏çÈ°πÁõÆÔºå‰∏ç‰∫íÁõ∏Âπ≤Êâ∞„ÄÇÂØπ‰∫é‰∏Ä‰∏™groupËÄåË®ÄÔºåconsumerÁöÑÊï∞Èáè‰∏çÂ∫îËØ•Â§ö‰∫épartitionsÁöÑÊï∞ÈáèÔºåÂõ†‰∏∫Âú®‰∏Ä‰∏™group‰∏≠ÔºåÊØè‰∏™partitionsËá≥Â§öÂè™ËÉΩÁªëÂÆöÂà∞‰∏Ä‰∏™consumer‰∏äÔºåÂç≥‰∏Ä‰∏™consumerÂèØ‰ª•Ê∂àË¥πÂ§ö‰∏™partitionsÔºå‰∏Ä‰∏™partitionsÂè™ËÉΩÁªô‰∏Ä‰∏™consumerÊ∂àË¥π„ÄÇÂõ†Ê≠§ÔºåËã•‰∏Ä‰∏™group‰∏≠ÁöÑconsumerÊï∞ÈáèÂ§ß‰∫épartitionsÊï∞ÈáèÁöÑËØùÔºåÂ§ö‰ΩôÁöÑconsumerÂ∞Ü‰∏ç‰ºöÊî∂Âà∞‰ªª‰ΩïÊ∂àÊÅØ„ÄÇKafkaÂÆâË£Ö‰ΩøÁî®ËøôÈáåÊºîÁ§∫Âú®Windows‰∏ãKafkaÂÆâË£Ö‰∏é‰ΩøÁî®„ÄÇKafka‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://kafka.apache.org/downloadsÔºåÈÄâÊã©‰∫åËøõÂà∂Êñá‰ª∂‰∏ãËΩΩÔºàBinary downloadsÔºâÔºåÁÑ∂ÂêéËß£ÂéãÂç≥ÂèØ„ÄÇKafkaÁöÑÈÖçÁΩÆÊñá‰ª∂‰Ωç‰∫éconfigÁõÆÂΩï‰∏ãÔºåÂõ†‰∏∫KafkaÈõÜÊàê‰∫ÜZookeeperÔºàKafkaÂ≠òÂÇ®Ê∂àÊÅØÁöÑÂú∞ÊñπÔºâÔºåÊâÄ‰ª•configÁõÆÂΩï‰∏ãÈô§‰∫ÜÊúâKafkaÁöÑÈÖçÁΩÆÊñá‰ª∂server.propertiesÂ§ñÔºåËøòÂèØ‰ª•ÁúãÂà∞‰∏Ä‰∏™ZookeeperÈÖçÁΩÆÊñá‰ª∂zookeeper.propertiesÔºöÊâìÂºÄserver.propertiesÔºåÂ∞Übroker.idÁöÑÂÄº‰øÆÊîπ‰∏∫1ÔºåÊØè‰∏™brokerÁöÑidÈÉΩÂøÖÈ°ªËÆæÁΩÆ‰∏∫IntegerÁ±ªÂûãÔºå‰∏î‰∏çËÉΩÈáçÂ§ç„ÄÇZookeeperÁöÑÈÖçÁΩÆ‰øùÊåÅÈªòËÆ§Âç≥ÂèØ„ÄÇÊé•‰∏ãÊù•ÂºÄÂßã‰ΩøÁî®Kafka„ÄÇÂêØÂä®ZookeeperÂú®Windows‰∏ãÊâßË°å‰∏ãÈù¢Ëøô‰∫õÂëΩ‰ª§ÂèØËÉΩ‰ºöÂá∫Áé∞Êâæ‰∏çÂà∞ÊàñÊó†Ê≥ïÂä†ËΩΩ‰∏ªÁ±ªÁöÑÈóÆÈ¢òÔºåËß£ÂÜ≥ÊñπÊ°àÂèØÂèÇËÄÉÔºöhttps://blog.csdn.net/cx2932350/article/details/78870135„ÄÇÂú®KafkaÊ†πÁõÆÂΩï‰∏ã‰ΩøÁî®cmdÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§ÔºåÂêØÂä®ZKÔºö1bin\windows\zookeeper-server-start.bat config\zookeeper.propertiesÂú®Linux‰∏ãÔºåÂèØ‰ª•‰ΩøÁî®ÂêéÂè∞ËøõÁ®ãÁöÑÊñπÂºèÂêØÂä®ZKÔºö1bin/zookeeper-server-start.sh -daemon config/zookeeper.propertiesÂêØÂä®KafkaÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§ÂêØÂä®KafkaÔºö1bin\windows\kafka-server-start.bat config\server.propertiesLinuxÂØπÂ∫îÂëΩ‰ª§Ôºö1bin/kafka-server-start.sh config/server.propertiesÂΩìÁúãÂà∞ÂëΩ‰ª§Ë°åÊâìÂç∞Â¶Ç‰∏ã‰ø°ÊÅØÔºåËØ¥ÊòéÂêØÂä®ÂÆåÊØï:ÂàõÂª∫TopicÊâßË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§ÂàõÂª∫‰∏Ä‰∏™Topic1bin\windows\kafka-topics.bat --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic testËøôÊù°ÂëΩ‰ª§ÁöÑÊÑèÊÄùÊòØÔºåÂàõÂª∫‰∏Ä‰∏™TopicÂà∞ZKÔºàÊåáÂÆöZKÁöÑÂú∞ÂùÄÔºâÔºåÂâØÊú¨‰∏™Êï∞‰∏∫1ÔºåÂàÜÂå∫Êï∞‰∏∫1ÔºåTopicÁöÑÂêçÁß∞‰∏∫test„ÄÇLinuxÂØπÂ∫îÁöÑÂëΩ‰ª§‰∏∫:1bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic testÂàõÂª∫Â•ΩÂêéÊàë‰ª¨ÂèØ‰ª•Êü•ÁúãKafkaÈáåÁöÑTopicÂàóË°®Ôºö1bin\windows\kafka-topics.bat --list --zookeeper localhost:2181ÂèØÁúãÂà∞ÁõÆÂâçÂè™ÂåÖÂê´‰∏Ä‰∏™Êàë‰ª¨ÂàöÂàõÂª∫ÁöÑtest Topic„ÄÇLinuxÂØπÂ∫îÁöÑÂëΩ‰ª§‰∏∫Ôºö1bin/kafka-topics.sh --list --zookeeper localhost:2181Êü•Áúãtest TopicÁöÑÂÖ∑‰Ωì‰ø°ÊÅØÔºö1bin\windows\kafka-topics.bat --describe --zookeeper localhost:2181 --topic testLinuxÂØπÂ∫îÁöÑÂëΩ‰ª§‰∏∫Ôºö1bin/kafka-topics.sh --describe --zookeeper localhost:2181 --topic testÁîü‰∫ßÊ∂àÊÅØÂíåÊ∂àË¥πÊ∂àÊÅØÂêØÂä®Producers1bin\windows\kafka-console-producer.bat --broker-list localhost:9092 --topic test9092‰∏∫Áîü‰∫ßËÄÖÁöÑÈªòËÆ§Á´ØÂè£Âè∑„ÄÇËøôÈáåÂêØÂä®‰∫ÜÁîü‰∫ßËÄÖÔºåÂáÜÂ§áÂæÄtest TopicÈáåÂèëÈÄÅÊï∞ÊçÆ„ÄÇLinux‰∏ãÂØπÂ∫îÁöÑÂëΩ‰ª§‰∏∫Ôºö1bin/kafka-console-producer.sh --broker-list localhost:9092 --topic testÂêØÂä®ConsumersÊé•ÁùÄÂêØÂä®‰∏Ä‰∏™Ê∂àË¥πËÄÖÁî®‰∫éÊ∂àË¥πÁîü‰∫ßËÄÖÁîü‰∫ßÁöÑÊï∞ÊçÆÔºåÊñ∞Âª∫‰∏Ä‰∏™cmdÁ™óÂè£ÔºåËæìÂÖ•‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Ôºö1bin\windows\kafka-console-consumer.bat --bootstrap-server localhost:9092 --topic test --from-beginningfrom-beginningË°®Á§∫‰ªéÂ§¥ÂºÄÂßãËØªÂèñÊï∞ÊçÆ„ÄÇLinux‰∏ãÂØπÂ∫îÁöÑÂëΩ‰ª§‰∏∫Ôºö1bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginningÂêØÂä®Â•ΩÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÂêéÊàë‰ª¨Âú®Áîü‰∫ßËÄÖÈáåÁîü‰∫ßÂá†Êù°Êï∞ÊçÆ:Ê∂àË¥πËÄÖÊàêÂäüÊé•Êî∂Âà∞Êï∞ÊçÆÔºöSpring BootÊï¥ÂêàKafaka‰∏äÈù¢ÁÆÄÂçï‰ªãÁªç‰∫ÜKafkaÁöÑ‰ΩøÁî®Ôºå‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßãÂú®Spring BootÈáå‰ΩøÁî®Kafka„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.1.3.RELEASEÔºåÂπ∂ÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñ:12345678 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt; &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;&lt;/dependency&gt;Áîü‰∫ßËÄÖÈÖçÁΩÆÊñ∞Âª∫‰∏Ä‰∏™JavaÈÖçÁΩÆÁ±ªKafkaProducerConfigÔºåÁî®‰∫éÈÖçÁΩÆÁîü‰∫ßËÄÖÔºö1234567891011121314151617181920212223242526@Configurationpublic class KafkaProducerConfig &#123; @Value("$&#123;spring.kafka.bootstrap-servers&#125;") private String bootstrapServers; @Bean public ProducerFactory&lt;String, String&gt; producerFactory() &#123; Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;(); configProps.put( ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers); configProps.put( ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class); configProps.put( ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class); return new DefaultKafkaProducerFactory&lt;&gt;(configProps); &#125; @Bean public KafkaTemplate&lt;String, String&gt; kafkaTemplate() &#123; return new KafkaTemplate&lt;&gt;(producerFactory()); &#125;&#125;È¶ñÂÖàÊàë‰ª¨ÈÖçÁΩÆ‰∫Ü‰∏Ä‰∏™producerFactoryÔºåÊñπÊ≥ïÈáåÈÖçÁΩÆ‰∫ÜKafka ProducerÂÆû‰æãÁöÑÁ≠ñÁï•„ÄÇbootstrapServers‰∏∫KafkaÁîü‰∫ßËÄÖÁöÑÂú∞ÂùÄÔºåÊàë‰ª¨Âú®ÈÖçÁΩÆÊñá‰ª∂application.ymlÈáåÈÖçÁΩÆÂÆÉÔºö123spring: kafka: bootstrap-servers: localhost:9092ProducerConfig.KEY_SERIALIZER_CLASS_CONFIGÂíåProducerConfig.VALUE_SERIALIZER_CLASS_CONFIGÊåáÂÆö‰∫ÜkeyÔºåvalueÂ∫èÂàóÂåñÁ≠ñÁï•ÔºåËøôÈáåÊåáÂÆö‰∏∫KafkaÊèê‰æõÁöÑStringSerializerÔºåÂõ†‰∏∫Êàë‰ª¨ÊöÇÊó∂Âè™ÂèëÈÄÅÁÆÄÂçïÁöÑStringÁ±ªÂûãÁöÑÊ∂àÊÅØ„ÄÇÊé•ÁùÄÊàë‰ª¨‰ΩøÁî®producerFactoryÈÖçÁΩÆ‰∫ÜkafkaTemplateÔºåÂÖ∂ÂåÖÂê´‰∫ÜÂèëÈÄÅÊ∂àÊÅØÁöÑ‰æøÊç∑ÊñπÊ≥ïÔºåÂêéÈù¢Êàë‰ª¨Â∞±Áî®Ëøô‰∏™ÂØπË±°Êù•ÂèëÈÄÅÊ∂àÊÅØ„ÄÇÂèëÂ∏ÉÊ∂àÊÅØÈÖçÁΩÆÂ•ΩÁîü‰∫ßËÄÖÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂºÄÂßãÂèëÂ∏ÉÊ∂àÊÅØ‰∫Ü„ÄÇÊñ∞Âª∫‰∏Ä‰∏™SendMessageControllerÔºö1234567891011@RestControllerpublic class SendMessageController &#123; @Autowired private KafkaTemplate&lt;String, String&gt; kafkaTemplate; @GetMapping("send/&#123;message&#125;") public void send(@PathVariable String message) &#123; this.kafkaTemplate.send("test", message); &#125;&#125;Êàë‰ª¨Ê≥®ÂÖ•‰∫ÜkafkaTemplateÂØπË±°Ôºåkey-valueÈÉΩ‰∏∫StringÁ±ªÂûãÔºåÂπ∂ÈÄöËøáÂÆÉÁöÑsendÊñπÊ≥ïÊù•ÂèëÈÄÅÊ∂àÊÅØ„ÄÇÂÖ∂‰∏≠test‰∏∫TopicÁöÑÂêçÁß∞Ôºå‰∏äÈù¢Êàë‰ª¨Â∑≤Áªè‰ΩøÁî®ÂëΩ‰ª§ÂàõÂª∫ËøáËøô‰∏™Topic‰∫Ü„ÄÇsendÊñπÊ≥ïÊòØ‰∏Ä‰∏™ÂºÇÊ≠•ÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂõûË∞ÉÁöÑÊñπÂºèÊù•Á°ÆÂÆöÊ∂àÊÅØÊòØÂê¶ÂèëÈÄÅÊàêÂäüÔºåÊàë‰ª¨ÊîπÈÄ†SendMessageControllerÔºö123456789101112131415161718192021222324@RestControllerpublic class SendMessageController &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @Autowired private KafkaTemplate&lt;String, String&gt; kafkaTemplate; @GetMapping("send/&#123;message&#125;") public void send(@PathVariable String message) &#123; ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = this.kafkaTemplate.send("test", message); future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() &#123; @Override public void onSuccess(SendResult&lt;String, String&gt; result) &#123; logger.info("ÊàêÂäüÂèëÈÄÅÊ∂àÊÅØÔºö&#123;&#125;Ôºåoffset=[&#123;&#125;]", message, result.getRecordMetadata().offset()); &#125; @Override public void onFailure(Throwable ex) &#123; logger.error("Ê∂àÊÅØÔºö&#123;&#125; ÂèëÈÄÅÂ§±Ë¥•ÔºåÂéüÂõ†Ôºö&#123;&#125;", message, ex.getMessage()); &#125; &#125;); &#125;&#125;Ê∂àÊÅØÂèëÈÄÅÊàêÂäüÂêéÔºå‰ºöÂõûË∞ÉonSuccessÊñπÊ≥ïÔºåÂèëÈÄÅÂ§±Ë¥•ÂêéÂõûË∞ÉonFailureÊñπÊ≥ï„ÄÇÊ∂àË¥πËÄÖÈÖçÁΩÆÊé•ÁùÄÊàë‰ª¨Êù•ÈÖçÁΩÆÊ∂àË¥πËÄÖÔºåÊñ∞Âª∫‰∏Ä‰∏™JavaÈÖçÁΩÆÁ±ªKafkaConsumerConfigÔºö123456789101112131415161718192021222324252627282930313233343536373839404142@EnableKafka@Configurationpublic class KafkaConsumerConfig &#123; @Value("$&#123;spring.kafka.bootstrap-servers&#125;") private String bootstrapServers; @Value("$&#123;spring.kafka.consumer.group-id&#125;") private String consumerGroupId; @Value("$&#123;spring.kafka.consumer.auto-offset-reset&#125;") private String autoOffsetReset; @Bean public ConsumerFactory&lt;String, String&gt; consumerFactory() &#123; Map&lt;String, Object&gt; props = new HashMap&lt;&gt;(); props.put( ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers); props.put( ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId); props.put( ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, autoOffsetReset); props.put( ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class); props.put( ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class); return new DefaultKafkaConsumerFactory&lt;&gt;(props); &#125; @Bean public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() &#123; ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;(); factory.setConsumerFactory(consumerFactory()); return factory; &#125;&#125;consumerGroupIdÂíåautoOffsetResetÈúÄË¶ÅÂú®application.ymlÈáåÈÖçÁΩÆÔºö12345spring: kafka: consumer: group-id: test-consumer auto-offset-reset: latestÂÖ∂‰∏≠group-idÂ∞ÜÊ∂àË¥πËÄÖËøõË°åÂàÜÁªÑÔºà‰Ω†‰πüÂèØ‰ª•‰∏çËøõË°åÂàÜÁªÑÔºâÔºåÁªÑÂêç‰∏∫test-consumerÔºåÂπ∂ÊåáÂÆö‰∫ÜÊ∂àÊÅØËØªÂèñÁ≠ñÁï•ÔºåÂåÖÂê´Âõõ‰∏™ÂèØÈÄâÂÄºÔºöearliest:ÂΩìÂêÑÂàÜÂå∫‰∏ãÊúâÂ∑≤Êèê‰∫§ÁöÑoffsetÊó∂Ôºå‰ªéÊèê‰∫§ÁöÑoffsetÂºÄÂßãÊ∂àË¥πÔºõÊó†Êèê‰∫§ÁöÑoffsetÊó∂Ôºå‰ªéÂ§¥ÂºÄÂßãÊ∂àË¥πlatest:ÂΩìÂêÑÂàÜÂå∫‰∏ãÊúâÂ∑≤Êèê‰∫§ÁöÑoffsetÊó∂Ôºå‰ªéÊèê‰∫§ÁöÑoffsetÂºÄÂßãÊ∂àË¥πÔºõÊó†Êèê‰∫§ÁöÑoffsetÊó∂ÔºåÊ∂àË¥πÊñ∞‰∫ßÁîüÁöÑËØ•ÂàÜÂå∫‰∏ãÁöÑÊï∞ÊçÆnone:topicÂêÑÂàÜÂå∫ÈÉΩÂ≠òÂú®Â∑≤Êèê‰∫§ÁöÑoffsetÊó∂Ôºå‰ªéoffsetÂêéÂºÄÂßãÊ∂àË¥πÔºõÂè™Ë¶ÅÊúâ‰∏Ä‰∏™ÂàÜÂå∫‰∏çÂ≠òÂú®Â∑≤Êèê‰∫§ÁöÑoffsetÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏exception:Áõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏Âú®KafkaConsumerConfig‰∏≠Êàë‰ª¨ÈÖçÁΩÆ‰∫ÜConsumerFactoryÂíåKafkaListenerContainerFactory„ÄÇÂΩìËøô‰∏§‰∏™BeanÊàêÂäüÊ≥®ÂÜåÂà∞Spring IOCÂÆπÂô®‰∏≠ÂêéÔºåÊàë‰ª¨‰æøÂèØ‰ª•‰ΩøÁî®@KafkaListenerÊ≥®Ëß£Êù•ÁõëÂê¨Ê∂àÊÅØ‰∫Ü„ÄÇÈÖçÁΩÆÁ±ª‰∏äÈúÄË¶Å@EnableKafkaÊ≥®ÈáäÊâçËÉΩÂú®SpringÊâòÁÆ°Bean‰∏äÊ£ÄÊµã@KafkaListenerÊ≥®Ëß£„ÄÇÊ∂àÊÅØÊ∂àË¥πÈÖçÁΩÆÂ•ΩÊ∂àË¥πËÄÖÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂºÄÂßãÊ∂àË¥πÊ∂àÊÅØ‰∫ÜÔºåÊñ∞Âª∫KafkaMessageListenerÔºö12345678910@Componentpublic class KafkaMessageListener &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @KafkaListener(topics = "test", groupId = "test-consumer") public void listen(String message) &#123; logger.info("Êé•Êî∂Ê∂àÊÅØ: &#123;&#125;", message); &#125;&#125;Êàë‰ª¨ÈÄöËøá@KafkaListenerÊ≥®Ëß£Êù•ÁõëÂê¨ÂêçÁß∞‰∏∫testÁöÑTopicÔºåÊ∂àË¥πËÄÖÂàÜÁªÑÁöÑÁªÑÂêç‰∏∫test-consumer„ÄÇÊºîÁ§∫ÂêØÂä®Spring BootÈ°πÁõÆÔºåÂêØÂä®ËøáÁ®ã‰∏≠ÔºåÊéßÂà∂Âè∞‰ºöËæìÂá∫KafkaÁöÑÈÖçÁΩÆÔºåÂêØÂä®Â•ΩÂêéÔºåËÆøÈóÆhttp://localhost:8080/send/hello,mrbirdÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö@KafkaListenerËØ¶Ëß£@KafkaListenerÈô§‰∫ÜÂèØ‰ª•ÊåáÂÆöTopicÂêçÁß∞ÂíåÂàÜÁªÑidÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÂêåÊó∂ÁõëÂê¨Êù•Ëá™Â§ö‰∏™TopicÁöÑÊ∂àÊÅØ:1@KafkaListener(topics = "topic1, topic2")Êàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøá@HeaderÊ≥®Ëß£Êù•Ëé∑ÂèñÂΩìÂâçÊ∂àÊÅØÊù•Ëá™Âì™‰∏™ÂàÜÂå∫ÔºàpartitionsÔºâ:12345@KafkaListener(topics = "test", groupId = "test-consumer")public void listen(@Payload String message, @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition) &#123; logger.info("Êé•Êî∂Ê∂àÊÅØ: &#123;&#125;ÔºåpartitionÔºö&#123;&#125;", message, partition);&#125;ÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8080/send/hello,mrbirdÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÂõ†‰∏∫Êàë‰ª¨Ê≤°ÊúâËøõË°åÂàÜÂå∫ÔºåÊâÄ‰ª•test TopicÂè™Êúâ‰∏Ä‰∏™Âå∫Ôºå‰∏ãÊ†á‰∏∫0„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá@KafkaListenerÊù•ÊåáÂÆöÂè™Êé•Êî∂Êù•Ëá™ÁâπÂÆöÂàÜÂå∫ÁöÑÊ∂àÊÅØÔºö123456789@KafkaListener(groupId = "test-consumer", topicPartitions = @TopicPartition(topic = "test", partitionOffsets = &#123; @PartitionOffset(partition = "0", initialOffset = "0") &#125;))public void listen(@Payload String message, @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition) &#123; logger.info("Êé•Êî∂Ê∂àÊÅØ: &#123;&#125;ÔºåpartitionÔºö&#123;&#125;", message, partition);&#125;Â¶ÇÊûú‰∏çÈúÄË¶ÅÊåáÂÆöinitialOffsetÔºå‰∏äÈù¢‰ª£Á†ÅÂèØ‰ª•ÁÆÄÂåñ‰∏∫Ôºö12@KafkaListener(groupId = "test-consumer", topicPartitions = @TopicPartition(topic = "test", partitions = &#123; "0", "1" &#125;))Ê∂àÊÅØËøáÊª§Âô®Êàë‰ª¨ÂèØ‰ª•‰∏∫Ê∂àÊÅØÁõëÂê¨Ê∑ªÂä†ËøáÊª§Âô®Êù•ËøáÊª§‰∏Ä‰∫õÁâπÂÆöÁöÑ‰ø°ÊÅØ„ÄÇÊàë‰ª¨Âú®Ê∂àË¥πËÄÖÈÖçÁΩÆÁ±ªKafkaConsumerConfigÁöÑkafkaListenerContainerFactoryÊñπÊ≥ïÈáåÈÖçÁΩÆËøáÊª§ËßÑÂàôÔºö1234567891011@Beanpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() &#123; ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;(); factory.setConsumerFactory(consumerFactory()); // ------- ËøáÊª§ÈÖçÁΩÆ -------- factory.setRecordFilterStrategy( r -&gt; r.value().contains("fuck") ); return factory;&#125;setRecordFilterStrategyÊé•Êî∂RecordFilterStrategy&lt;K, V&gt;Ôºå‰ªñÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂºèÊé•Âè£Ôºö123public interface RecordFilterStrategy&lt;K, V&gt; &#123; boolean filter(ConsumerRecord&lt;K, V&gt; var1);&#125;ÊâÄ‰ª•Êàë‰ª¨Áî®lambdaË°®ËææÂºèÊåáÂÆö‰∫Ü‰∏äÈù¢ËøôÊù°ËßÑÂàôÔºåÂç≥Â¶ÇÊûúÊ∂àÊÅØÂÜÖÂÆπÂåÖÂê´fuckËøô‰∏™Á≤óÈÑô‰πãËØ≠ÁöÑÊó∂ÂÄôÔºåÂàô‰∏çÊé•ÂèóÊ∂àÊÅØ„ÄÇÈÖçÁΩÆÂ•ΩÂêéÊàë‰ª¨ÈáçÂêØÈ°πÁõÆÔºåÂàÜÂà´ÂèëÈÄÅ‰∏ãÈù¢Ëøô‰∏§Êù°ËØ∑Ê±ÇÔºöhttp://localhost:8080/send/fuck,mrbirdhttp://localhost:8080/send/love,mrbirdËßÇÂØüÊéßÂà∂Âè∞ÔºöÂèØ‰ª•ÁúãÂà∞Ôºåfuck,mrbirdËøôÊù°Ê∂àÊÅØÊ≤°ÊúâË¢´Êé•Êî∂„ÄÇÂèëÈÄÅÂ§çÊùÇÁöÑÊ∂àÊÅØÊà™Ëá≥ÁõÆÂâç‰ΩçÁΩÆÊàë‰ª¨Âè™ÂèëÈÄÅ‰∫ÜÁÆÄÂçïÁöÑÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÊ∂àÊÅØÔºåÊàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâÊ∂àÊÅØËΩ¨Êç¢Âô®Êù•ÂèëÈÄÅÂ§çÊùÇÁöÑÊ∂àÊÅØ„ÄÇÂÆö‰πâÊ∂àÊÅØÂÆû‰ΩìÂàõÂª∫‰∏Ä‰∏™MessageÁ±ªÔºö1234567891011121314151617181920212223242526public class Message implements Serializable &#123; private static final long serialVersionUID = 6678420965611108427L; private String from; private String message; public Message() &#123; &#125; public Message(String from, String message) &#123; this.from = from; this.message = message; &#125; @Override public String toString() &#123; return "Message&#123;" + "from='" + from + '\'' + ", message='" + message + '\'' + '&#125;'; &#125; // get set Áï•&#125;ÊîπÈÄ†Ê∂àÊÅØÁîü‰∫ßËÄÖÈÖçÁΩÆ1234567891011121314151617181920212223242526@Configurationpublic class KafkaProducerConfig &#123; @Value("$&#123;spring.kafka.bootstrap-servers&#125;") private String bootstrapServers; @Bean public ProducerFactory&lt;String, Message&gt; producerFactory() &#123; Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;(); configProps.put( ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers); configProps.put( ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class); configProps.put( ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class); return new DefaultKafkaProducerFactory&lt;&gt;(configProps); &#125; @Bean public KafkaTemplate&lt;String, Message&gt; kafkaTemplate() &#123; return new KafkaTemplate&lt;&gt;(producerFactory()); &#125;&#125;Êàë‰ª¨Â∞ÜvalueÂ∫èÂàóÂåñÁ≠ñÁï•ÊåáÂÆö‰∏∫‰∫ÜKafkaÊèê‰æõÁöÑJsonSerializerÔºåÂπ∂‰∏îkafkaTemplateËøîÂõûÁ±ªÂûã‰∏∫KafkaTemplate&lt;String, Message&gt;„ÄÇÂèëÈÄÅÊñ∞ÁöÑÊ∂àÊÅØÂú®SendMessageControllerÈáåÂèëÈÄÅÂ§çÊùÇÁöÑÊ∂àÊÅØ:1234567@Autowiredprivate KafkaTemplate&lt;String, Message&gt; kafkaTemplate;@GetMapping("send/&#123;message&#125;")public void sendMessage(@PathVariable String message) &#123; this.kafkaTemplate.send("test", new Message("mrbird", message));&#125;‰øÆÊîπÊ∂àË¥πËÄÖÈÖçÁΩÆ‰øÆÊîπÊ∂àË¥πËÄÖÈÖçÁΩÆKafkaConsumerConfigÔºö123456789101112131415161718192021222324252627282930313233343536373839@EnableKafka@Configurationpublic class KafkaConsumerConfig &#123; @Value("$&#123;spring.kafka.bootstrap-servers&#125;") private String bootstrapServers; @Value("$&#123;spring.kafka.consumer.group-id&#125;") private String consumerGroupId; @Value("$&#123;spring.kafka.consumer.auto-offset-reset&#125;") private String autoOffsetReset; @Bean public ConsumerFactory&lt;String, Message&gt; consumerFactory() &#123; Map&lt;String, Object&gt; props = new HashMap&lt;&gt;(); props.put( ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers); props.put( ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId); props.put( ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, autoOffsetReset); return new DefaultKafkaConsumerFactory&lt;&gt;( props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(Message.class)); &#125; @Bean public ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; kafkaListenerContainerFactory() &#123; ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;(); factory.setConsumerFactory(consumerFactory()); return factory; &#125;&#125;‰øÆÊîπÊ∂àÊÅØÁõëÂê¨‰øÆÊîπKafkaMessageListenerÔºö1234@KafkaListener(topics = "test", groupId = "test-consumer")public void listen(Message message) &#123; logger.info("Êé•Êî∂Ê∂àÊÅØ: &#123;&#125;", message);&#125;ÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/send/helloÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÊõ¥Â§öÈÖçÁΩÆ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394spring.kafka.admin.client-id= # ID to pass to the server when making requests. Used for server-side logging.spring.kafka.admin.fail-fast=false # Whether to fail fast if the broker is not available on startup.spring.kafka.admin.properties.*= # Additional admin-specific properties used to configure the client.spring.kafka.admin.ssl.key-password= # Password of the private key in the key store file.spring.kafka.admin.ssl.key-store-location= # Location of the key store file.spring.kafka.admin.ssl.key-store-password= # Store password for the key store file.spring.kafka.admin.ssl.key-store-type= # Type of the key store.spring.kafka.admin.ssl.protocol= # SSL protocol to use.spring.kafka.admin.ssl.trust-store-location= # Location of the trust store file.spring.kafka.admin.ssl.trust-store-password= # Store password for the trust store file.spring.kafka.admin.ssl.trust-store-type= # Type of the trust store.spring.kafka.bootstrap-servers= # Comma-delimited list of host:port pairs to use for establishing the initial connections to the Kafka cluster. Applies to all components unless overridden.spring.kafka.client-id= # ID to pass to the server when making requests. Used for server-side logging.spring.kafka.consumer.auto-commit-interval= # Frequency with which the consumer offsets are auto-committed to Kafka if 'enable.auto.commit' is set to true.spring.kafka.consumer.auto-offset-reset= # What to do when there is no initial offset in Kafka or if the current offset no longer exists on the server.spring.kafka.consumer.bootstrap-servers= # Comma-delimited list of host:port pairs to use for establishing the initial connections to the Kafka cluster. Overrides the global property, for consumers.spring.kafka.consumer.client-id= # ID to pass to the server when making requests. Used for server-side logging.spring.kafka.consumer.enable-auto-commit= # Whether the consumer's offset is periodically committed in the background.spring.kafka.consumer.fetch-max-wait= # Maximum amount of time the server blocks before answering the fetch request if there isn't sufficient data to immediately satisfy the requirement given by "fetch-min-size".spring.kafka.consumer.fetch-min-size= # Minimum amount of data the server should return for a fetch request.spring.kafka.consumer.group-id= # Unique string that identifies the consumer group to which this consumer belongs.spring.kafka.consumer.heartbeat-interval= # Expected time between heartbeats to the consumer coordinator.spring.kafka.consumer.key-deserializer= # Deserializer class for keys.spring.kafka.consumer.max-poll-records= # Maximum number of records returned in a single call to poll().spring.kafka.consumer.properties.*= # Additional consumer-specific properties used to configure the client.spring.kafka.consumer.ssl.key-password= # Password of the private key in the key store file.spring.kafka.consumer.ssl.key-store-location= # Location of the key store file.spring.kafka.consumer.ssl.key-store-password= # Store password for the key store file.spring.kafka.consumer.ssl.key-store-type= # Type of the key store.spring.kafka.consumer.ssl.protocol= # SSL protocol to use.spring.kafka.consumer.ssl.trust-store-location= # Location of the trust store file.spring.kafka.consumer.ssl.trust-store-password= # Store password for the trust store file.spring.kafka.consumer.ssl.trust-store-type= # Type of the trust store.spring.kafka.consumer.value-deserializer= # Deserializer class for values.spring.kafka.jaas.control-flag=required # Control flag for login configuration.spring.kafka.jaas.enabled=false # Whether to enable JAAS configuration.spring.kafka.jaas.login-module=com.sun.security.auth.module.Krb5LoginModule # Login module.spring.kafka.jaas.options= # Additional JAAS options.spring.kafka.listener.ack-count= # Number of records between offset commits when ackMode is "COUNT" or "COUNT_TIME".spring.kafka.listener.ack-mode= # Listener AckMode. See the spring-kafka documentation.spring.kafka.listener.ack-time= # Time between offset commits when ackMode is "TIME" or "COUNT_TIME".spring.kafka.listener.client-id= # Prefix for the listener's consumer client.id property.spring.kafka.listener.concurrency= # Number of threads to run in the listener containers.spring.kafka.listener.idle-event-interval= # Time between publishing idle consumer events (no data received).spring.kafka.listener.log-container-config= # Whether to log the container configuration during initialization (INFO level).spring.kafka.listener.monitor-interval= # Time between checks for non-responsive consumers. If a duration suffix is not specified, seconds will be used.spring.kafka.listener.no-poll-threshold= # Multiplier applied to "pollTimeout" to determine if a consumer is non-responsive.spring.kafka.listener.poll-timeout= # Timeout to use when polling the consumer.spring.kafka.listener.type=single # Listener type.spring.kafka.producer.acks= # Number of acknowledgments the producer requires the leader to have received before considering a request complete.spring.kafka.producer.batch-size= # Default batch size.spring.kafka.producer.bootstrap-servers= # Comma-delimited list of host:port pairs to use for establishing the initial connections to the Kafka cluster. Overrides the global property, for producers.spring.kafka.producer.buffer-memory= # Total memory size the producer can use to buffer records waiting to be sent to the server.spring.kafka.producer.client-id= # ID to pass to the server when making requests. Used for server-side logging.spring.kafka.producer.compression-type= # Compression type for all data generated by the producer.spring.kafka.producer.key-serializer= # Serializer class for keys.spring.kafka.producer.properties.*= # Additional producer-specific properties used to configure the client.spring.kafka.producer.retries= # When greater than zero, enables retrying of failed sends.spring.kafka.producer.ssl.key-password= # Password of the private key in the key store file.spring.kafka.producer.ssl.key-store-location= # Location of the key store file.spring.kafka.producer.ssl.key-store-password= # Store password for the key store file.spring.kafka.producer.ssl.key-store-type= # Type of the key store.spring.kafka.producer.ssl.protocol= # SSL protocol to use.spring.kafka.producer.ssl.trust-store-location= # Location of the trust store file.spring.kafka.producer.ssl.trust-store-password= # Store password for the trust store file.spring.kafka.producer.ssl.trust-store-type= # Type of the trust store.spring.kafka.producer.transaction-id-prefix= # When non empty, enables transaction support for producer.spring.kafka.producer.value-serializer= # Serializer class for values.spring.kafka.properties.*= # Additional properties, common to producers and consumers, used to configure the client.spring.kafka.ssl.key-password= # Password of the private key in the key store file.spring.kafka.ssl.key-store-location= # Location of the key store file.spring.kafka.ssl.key-store-password= # Store password for the key store file.spring.kafka.ssl.key-store-type= # Type of the key store.spring.kafka.ssl.protocol= # SSL protocol to use.spring.kafka.ssl.trust-store-location= # Location of the trust store file.spring.kafka.ssl.trust-store-password= # Store password for the trust store file.spring.kafka.ssl.trust-store-type= # Type of the trust store.spring.kafka.streams.application-id= # Kafka streams application.id property; default spring.application.name.spring.kafka.streams.auto-startup=true # Whether or not to auto-start the streams factory bean.spring.kafka.streams.bootstrap-servers= # Comma-delimited list of host:port pairs to use for establishing the initial connections to the Kafka cluster. Overrides the global property, for streams.spring.kafka.streams.cache-max-size-buffering= # Maximum memory size to be used for buffering across all threads.spring.kafka.streams.client-id= # ID to pass to the server when making requests. Used for server-side logging.spring.kafka.streams.properties.*= # Additional Kafka properties used to configure the streams.spring.kafka.streams.replication-factor= # The replication factor for change log topics and repartition topics created by the stream processing application.spring.kafka.streams.ssl.key-password= # Password of the private key in the key store file.spring.kafka.streams.ssl.key-store-location= # Location of the key store file.spring.kafka.streams.ssl.key-store-password= # Store password for the key store file.spring.kafka.streams.ssl.key-store-type= # Type of the key store.spring.kafka.streams.ssl.protocol= # SSL protocol to use.spring.kafka.streams.ssl.trust-store-location= # Location of the trust store file.spring.kafka.streams.ssl.trust-store-password= # Store password for the trust store file.spring.kafka.streams.ssl.trust-store-type= # Type of the trust store.spring.kafka.streams.state-dir= # Directory location for the state store.spring.kafka.template.default-topic= # Default topic to which messages are sent.Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/54.Spring-Boot-Kafka]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 2.0 WebFluxÁºñÁ®ã]]></title>
    <url>%2FSpring-Boot-2-0-WebFlux.html</url>
    <content type="text"><![CDATA[Spring MVC WebÊû∂ÊûÑÊòØÂü∫‰∫éÈòªÂ°ûÂºèServlet APIÊûÑÂª∫ÁöÑ„ÄÇServlet 3.1ÂêéÊèê‰æõ‰∫ÜÈùûÈòªÂ°ûAPIÔºåSpring 5.0ÂêéÂü∫‰∫éËøô‰∫õAPIÊûÑÂª∫‰∫Ü‰∏ÄÂ•óÂÖ®Êñ∞ÁöÑÈùûÈòªÂ°ûWebÊ°ÜÊû∂ ‚Äî‚Äî WebFlux„ÄÇSpring Boot 2.0Âü∫‰∫éSpring 5.0ÊûÑÂª∫ÔºåÊâÄ‰ª•Ë¶ÅÂú®Spring Boot‰∏≠‰ΩøÁî®WebFluxÊû∂ÊûÑÔºåÁâàÊú¨ÂøÖÈ°ªÂ§ß‰∫é2.0„ÄÇÈÄöËøá‰∏ãÈù¢ËøôÂº†Âõæ‰∫ÜËß£‰∏ãSpring MVCÂíåSpring WebFluxÁöÑÂå∫Âà´Ôºö https://www.cnblogs.com/javabg/p/7976977.htmlÂèØ‰ª•ÁúãÂà∞ÔºåSpring WebFluxÊòØÈùûÈòªÂ°ûÂºèÁöÑÔºåÊîØÊåÅ Reactive StreamsËÉåÂéãÔºåÂπ∂Âú®NettyÔºåUndertowÂíåServlet 3.1+ÂÆπÂô®Á≠âÊúçÂä°Âô®‰∏äËøêË°å„ÄÇÂÖ∂ÁõÆÂâçÂè™ÊîØÊåÅÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåÂ¶ÇMongoÔºåRedisÁ≠â„ÄÇÈùûÈòªÂ°ûÂºèÁöÑÁºñÁ®ãÊ®°ÂûãÂèØ‰ª•ÊèêÈ´òÁ®ãÂ∫èÁöÑÂπ∂ÂèëÈáèÔºåÊèêÂçáÊÄßËÉΩÂíåÂêûÂêêÈáè„ÄÇÂºÇÊ≠•ServletÊó¢ÁÑ∂WebFluxÊòØÂü∫‰∫éÂºÇÊ≠•Servelt APIÊûÑÂª∫ÁöÑÔºåÈÇ£‰πàÊàë‰ª¨ÂÖàÊù•ÁúãÁúã‰ªÄ‰πàÊòØÂºÇÊ≠•Servlet„ÄÇ‰ΩøÁî®IDEAÂàõÂª∫‰∏Ä‰∏™‰º†ÁªüÁöÑJava WebÂ∫îÁî®ÔºàÂèØ‰ª•ÂèÇËÄÉhttps://www.cnblogs.com/javabg/p/7976977.htmlÔºâÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™SyncServletÔºö12345678910111213141516171819202122232425262728@WebServlet(urlPatterns = "/sync")public class SyncServlet extends HttpServlet &#123; private static final long serialVersionUID = 7583536145022393360L; private Logger log = Logger.getLogger(SyncServlet.class.getName()); @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) &#123; long start = System.currentTimeMillis(); this.execute(request, response); log.info("ÊÄªËÄóÊó∂Ôºö" + (System.currentTimeMillis() - start) + "ms"); &#125; private void execute(HttpServletRequest request, HttpServletResponse response) &#123; try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; try &#123; response.getWriter().append("hello"); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125;doGetÊñπÊ≥ï‰∏≠Á∫øÁ®ãÈòªÂ°û2ÁßíÔºåÁÑ∂ÂêéÊâìÂç∞hello„ÄÇÈÉ®ÁΩ≤È°πÁõÆÂà∞TomcatÔºåcontext-path‰∏∫/servletÔºåÂêØÂä®ÂêéËÆøÈóÆhttp://localhost:8080/servlet/sync:‰º†ÁªüÁöÑServlet APIÊòØÈòªÂ°ûÁöÑÔºålog.info(&quot;ÊÄªËÄóÊó∂Ôºö&quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;)ËøôË°å‰ª£Á†ÅÂøÖÈ°ªÁ≠âÂæÖthis.execute()ÊâßË°åÂÆåÊØïÂêéÊâçÂºÄÂßãÊâßË°å„ÄÇÊé•‰∏ãÊù•ÁúãÁúãÈùûÈòªÂ°ûServlet APIÊòØÊÄé‰πàÊêûÁöÑ„ÄÇÊñ∞Âª∫‰∏Ä‰∏™AsyncServletÔºö123456789101112131415161718192021222324252627282930313233@WebServlet(urlPatterns = "/async", asyncSupported = true)public class AsyncServlet extends HttpServlet &#123; private static final long serialVersionUID = 393375716683413545L; private Logger log = Logger.getLogger(AsyncServlet.class.getName()); @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) &#123; long start = System.currentTimeMillis(); AsyncContext asyncContext = request.startAsync(); CompletableFuture.runAsync(() -&gt; execute( asyncContext, asyncContext.getRequest(), asyncContext.getResponse()) ); log.info("ÊÄªËÄóÊó∂Ôºö" + (System.currentTimeMillis() - start) + "ms"); &#125; private void execute(AsyncContext asyncContext, ServletRequest request, ServletResponse response) &#123; try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; try &#123; response.getWriter().append("hello"); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; asyncContext.complete(); &#125;&#125;Âú®Á±ª‰∏ä‰ΩøÁî®@WebServlet(asyncSupported = true)ÂºÄÂêØÂºÇÊ≠•ÊîØÊåÅÔºåÈÄöËøáAsyncContext asyncContext = request.startAsync();Ëé∑ÂèñÂºÇÊ≠•‰∏ä‰∏ãÊñáAsyncContextÔºåAsyncContextÁöÑcompleteÊñπÊ≥ïÁî®‰∫éÊ†áËØÜÂºÇÊ≠•Ë∞ÉÁî®ÁªìÊùü„ÄÇCompletableFuture‰∏∫Java 8Êèê‰æõÁöÑFutureÊé•Âè£ÂÆûÁé∞Á±ªÔºåÂèØ‰ª•Êñπ‰æøÁöÑÂ§ÑÁêÜÂºÇÊ≠•Ë∞ÉÁî®„ÄÇÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/servlet/asyncÔºåÂìçÂ∫îËÄóÊó∂‰πüÂú®2ÁßíÂ∑¶Âè≥Ôºå‰ΩÜÊòØËøô‰∏™ËøáÁ®ãÊòØÂºÇÊ≠•ÁöÑÔºåÊü•ÁúãÊéßÂà∂Âè∞Êó•ÂøóÂ∞±ÂèØ‰ª•ËØÅÊòéËøôÁÇπÔºöÊâÄ‰ª•ÔºåÂºÇÊ≠•Ë∞ÉÁî®ÈÄÇÁî®‰∫éÈÇ£‰∫õÂØπÊñπÊ≥ïËøîÂõûÂÄºÊ≤°ÊúâÂΩ±ÂìçÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇÂºÇÊ≠•ËÆ∞ÂΩïÁî®Êà∑Êìç‰ΩúÊó•ÂøóÁ≠â„ÄÇÂ¶ÇÊûúÊñπÊ≥ïÁöÑËøîÂõûÂÄº‰æùËµñ‰∫éÂºÇÊ≠•Ë∞ÉÁî®ÁöÑÁªìÊûúÔºåÈÇ£‰πàÊñπÊ≥ïËÄóÊó∂Âú®ÂêåÊ≠•ÂíåÂºÇÊ≠•‰∏äÊòØÊ≤°ÊúâÂå∫Âà´ÁöÑ„ÄÇMonoÂíåFlux‰∫ÜËß£‰∫ÜÂºÇÊ≠•ServletÂêéÔºåÊàë‰ª¨ÂõûÂà∞WebFluxÔºåÊñ∞Âª∫‰∏Ä‰∏™SpringBootÁ®ãÂ∫èÔºåÁâàÊú¨‰∏∫2.1.3.RELEASEÔºåÂπ∂ÂºïÂÖ•spring-boot-starter-webflux‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;&lt;/dependency&gt;Reactor ÊòØSpring WebFluxÊâÄ‰ΩøÁî®ÁöÑÂìçÂ∫îÂºèÂ∫ìÔºåÂÖ∂Êèê‰æõ‰∫Ü‰∏§‰∏™ÁâπÊÆäÁöÑÁ±ªMonoÂíåFlux„ÄÇMonoÂíåFluxÂú®ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏≠ÈÉΩÂ±û‰∫éÂèëÂ∏ÉËÄÖÔºà‰∏çÊ∏ÖÊ•öÁöÑÂèØ‰ª•ÂèÇËÄÉJava 9 Flow APIÂ≠¶‰π†ÔºâÔºåÊü•ÁúãÊ∫êÁ†Å‰ºöÂèëÁé∞ÂÆÉ‰ª¨ÈÉΩÂÆûÁé∞‰∫ÜPublisherÊé•Âè£„ÄÇMonoË°®Á§∫0 ~ 1‰∏™ÂÖÉÁ¥†ÁöÑÊï∞ÊçÆÂèëÂ∏ÉËÄÖÔºåFluxË°®Á§∫ 0 ~ N‰∏™ÂÖÉÁ¥†ÁöÑÊï∞ÊçÆÂèëÂ∏ÉËÄÖ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™‰æãÂ≠êÊù•‰∫ÜËß£MonoÂíåFluxÔºåÂàõÂª∫MonoFluxTestÁ±ªÔºö12345678910111213141516171819202122232425262728293031323334353637383940public class MonoFluxTest &#123; public static void main(String[] args) &#123; Subscriber&lt;Integer&gt; subscriber = new Subscriber&lt;Integer&gt;() &#123; private Subscription subscription; @Override public void onSubscribe(Subscription subscription) &#123; this.subscription = subscription; this.subscription.request(1); &#125; @Override public void onNext(Integer item) &#123; System.out.println("Êé•ÂèóÂà∞Êï∞ÊçÆ: " + item); try &#123; TimeUnit.SECONDS.sleep(3); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; this.subscription.request(1); &#125; @Override public void onError(Throwable throwable) &#123; throwable.printStackTrace(); this.subscription.cancel(); &#125; @Override public void onComplete() &#123; System.out.println("Â§ÑÁêÜÂÆå‰∫Ü!"); &#125; &#125;; String[] strs = &#123;"1", "2", "3"&#125;; Flux.fromArray(strs).map(Integer::parseInt).subscribe(subscriber); Mono.fromSupplier(() -&gt; 1).map(s -&gt; s + 1).subscribe(subscriber); &#125;&#125;Á®ãÂ∫èÈ¶ñÂÖàÂàõÂª∫‰∫Ü‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖÔºàÂèÇËÄÉJava 9 Flow APIÂ≠¶‰π†ÔºâÔºåÁÑ∂ÂêéÂàÜÂà´‰ΩøÁî®Flux.fromArrayÂíåMono.fromSupplierÊûÑÈÄ†‰∫ÜFluxÁ±ªÂûãÂèëÂ∏ÉËÄÖÂíåMonoÁ±ªÂûãÂèëÂ∏ÉËÄÖÔºåÂπ∂ÂíåËÆ¢ÈòÖËÄÖ‰øùÊåÅËÆ¢ÈòÖÂÖ≥Á≥ª„ÄÇËøêË°åmainÊñπÊ≥ïÔºåÊéßÂà∂Âè∞ËæìÂá∫Ôºö‰∫ÜËß£‰∫ÜMonoÂíåFluxÂêéÔºåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™TestControllerÔºö1234567891011121314151617181920212223242526272829@RestControllerpublic class TestController &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @GetMapping("sync") public String sync() &#123; logger.info("sync method start"); String result = this.execute(); logger.info("sync method end"); return result; &#125; @GetMapping("async/mono") public Mono&lt;String&gt; asyncMono() &#123; logger.info("async method start"); Mono&lt;String&gt; result = Mono.fromSupplier(this::execute); logger.info("async method end"); return result; &#125; private String execute() &#123; try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; return "hello"; &#125;&#125;executeÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ÂÄºhelloÔºåÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®MonoÊù•Â§ÑÁêÜËøîÂõûÂÄºÔºå‰ΩøÂÆÉÊàê‰∏∫‰∏Ä‰∏™ÂºÇÊ≠•ÊñπÊ≥ï„ÄÇasyncMonoÊñπÊ≥ïËøîÂõûMono&lt;String&gt;Á±ªÂûãÔºå‰πüÂ∞±ÊòØ‰∏Ä‰∏™StringÁ±ªÂûãÁöÑÊï∞ÊçÆÂèëÂ∏ÉËÄÖÔºåÊàë‰ª¨‰∏çÁî®ÂéªÊâãÂä®Â§ÑÁêÜËÆ¢ÈòÖÂÖ≥Á≥ªÔºåSpring‰ºöÂ∏ÆÊàë‰ª¨Â§ÑÁêÜÔºåÊàë‰ª¨Áõ¥Êé•ËøîÂõûÂç≥ÂèØ„ÄÇÂêØÂä®È°πÁõÆÔºåÂèØ‰ª•ÁúãÂà∞WebFluxÈªòËÆ§‰ΩøÁî®ÁöÑÊòØNettyÊúçÂä°Âô®ÔºöÂàÜÂà´ËÆøÈóÆhttp://localhost:8080/syncÂíåhttp://localhost:8080/async/monoÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞asyncMonoÊñπÊ≥ïÈáåÁöÑMono&lt;String&gt; result = Mono.fromSupplier(this::execute)ÊòØÂºÇÊ≠•ÈùûÈòªÂ°ûÁöÑÔºåÂπ∂‰∏îhttp://localhost:8080/async/monoËøîÂõûÁöÑÂÄº‰∏∫Â≠óÁ¨¶‰∏≤hello„ÄÇ‰∏ãÈù¢Êàë‰ª¨Êù•Áúã‰∏Ä‰∏™ËøîÂõûÁ±ªÂûã‰∏∫Flux&lt;String&gt;Á±ªÂûãÁöÑ‰æãÂ≠ê„ÄÇServer Sent EventsËøîÂõûÂÄºÁ±ªÂûã‰∏∫FluxÁöÑÊó∂ÂÄôÔºåÂÆÉÊòØ‰∏Ä‰∏™Êï∞ÊçÆÊµÅÔºå‰∏çÊòØ‰∏ÄÊ¨°ÊÄßÊï∞ÊçÆÂåÖÔºåÊúçÂä°Á´Ø‰ºö‰∏çÊñ≠Âú∞ÔºàÂÅáÂ¶ÇFluxÊï∞ÊçÆÈïøÂ∫¶Â§ß‰∫é1ÔºâÂæÄÂÆ¢Êà∑Á´ØÂèëÈÄÅÊï∞ÊçÆ„ÄÇËøôÊó∂ÔºåÂÆ¢Êà∑Á´Ø‰∏ç‰ºöÂÖ≥Èó≠ËøûÊé•Ôºå‰ºö‰∏ÄÁõ¥Á≠âÁùÄÊúçÂä°Âô®ÂèëËøáÊù•ÁöÑÊñ∞ÁöÑÊï∞ÊçÆÊµÅ„ÄÇËøôÁßçÊ®°ÂºèÁß∞‰∏∫Server-Sent Events„ÄÇÂú®TestControllerÊñ∞Â¢û‰∏Ä‰∏™asyncFluxÊñπÊ≥ïÔºö1234567891011121314@GetMapping(value = "async/flux", produces = MediaType.TEXT_EVENT_STREAM_VALUE)public Flux&lt;String&gt; asyncFlux() &#123; logger.info("async method start"); Flux&lt;String&gt; result = Flux.fromStream(IntStream.range(1, 5).mapToObj(i -&gt; &#123; try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; return "int valueÔºö" + i; &#125;)); logger.info("async method end"); return result;&#125;@GetMappingÂøÖÈ°ªÈÄöËøáproducesÊåáÂÆöÊï∞ÊçÆÁ±ªÂûã‰∏∫text/event-streamÔºåÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/async/fluxÔºöÂâçÁ´ØÂèØ‰ª•ÈÄöËøáH5ÁöÑEventSourceÊù•Êé•Êî∂„ÄÇÂºïÂÖ•thymeleaf‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®resources/templates‰∏ãÊñ∞Âª∫flux.htmlÔºö123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;test sse&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;script&gt; var es = new EventSource("async/flux"); es.onmessage = function (evt) &#123; console.log(evt.data); if (evt.data === "int valueÔºö4") &#123; es.close(); &#125; &#125;;&lt;/script&gt;&lt;/html&gt;ÈúÄË¶ÅË∞ÉÁî®es.close()Êù•ÂÖ≥Èó≠‰∫ã‰ª∂ÊµÅÔºå‰∏çÁÑ∂EventSource‰ºöÂú®Êï∞ÊçÆ‰º†ËæìÂÆåÊØï‰ºöËá™Âä®ÈáçËøûÔºåËøôÊ†∑Â∞±‰ºö‰∏çÈó¥Êñ≠ÁöÑË∞ÉÁî®localhost:8080/async/fluxËØ∑Ê±Ç‰∫Ü„ÄÇÊ∑ªÂä†‰∏Ä‰∏™ViewControllerÔºåÁî®Êù•ËÆøÈóÆflux.htmlÔºö12345678@Controllerpublic class ViewController &#123; @GetMapping("flux") public String flux() &#123; return "flux"; &#125;&#125;ÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/fluxÔºåÊµèËßàÂô®ÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫:Mono,FluxÂ∏∏Áî®ÊñπÊ≥ïÈÄöËøá‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÊàë‰ª¨ÁÆÄÂçï‰∫ÜËß£‰∫ÜMonoÂíåFluxÁöÑÁî®Ê≥ïÂíåÂå∫Âà´Ôºå‰∏ãÈù¢Êàë‰ª¨Âàó‰∏æ‰∏Ä‰∫õÂÆÉ‰ª¨ÁöÑÂ∏∏Áî®ÊñπÊ≥ï„ÄÇÊ∫êÂ§¥Êìç‰ΩúFluxÂèØ‰ª•ÈÄöËøáFluxÁ±ªÁöÑÈùôÊÄÅÊñπÊ≥ïÊù•ÁîüÊàêÔºöjust()ÔºöÂèØ‰ª•ÊåáÂÆöÂ∫èÂàó‰∏≠ÂåÖÂê´ÁöÑÂÖ®ÈÉ®ÂÖÉÁ¥†„ÄÇÂàõÂª∫Âá∫Êù•ÁöÑ Flux Â∫èÂàóÂú®ÂèëÂ∏ÉËøô‰∫õÂÖÉÁ¥†‰πãÂêé‰ºöËá™Âä®ÁªìÊùü„ÄÇfromArray()ÔºåfromIterable()Âíå fromStream()ÔºöÂèØ‰ª•‰ªé‰∏Ä‰∏™Êï∞ÁªÑ„ÄÅIterable ÂØπË±°Êàñ Stream ÂØπË±°‰∏≠ÂàõÂª∫ Flux ÂØπË±°„ÄÇempty()ÔºöÂàõÂª∫‰∏Ä‰∏™‰∏çÂåÖÂê´‰ªª‰ΩïÂÖÉÁ¥†ÔºåÂè™ÂèëÂ∏ÉÁªìÊùüÊ∂àÊÅØÁöÑÂ∫èÂàó„ÄÇerror(Throwable error)ÔºöÂàõÂª∫‰∏Ä‰∏™Âè™ÂåÖÂê´ÈîôËØØÊ∂àÊÅØÁöÑÂ∫èÂàó„ÄÇnever()ÔºöÂàõÂª∫‰∏Ä‰∏™‰∏çÂåÖÂê´‰ªª‰ΩïÊ∂àÊÅØÈÄöÁü•ÁöÑÂ∫èÂàó„ÄÇrange(int start, int count)ÔºöÂàõÂª∫ÂåÖÂê´‰ªé start Ëµ∑ÂßãÁöÑ count ‰∏™Êï∞ÈáèÁöÑ Integer ÂØπË±°ÁöÑÂ∫èÂàó„ÄÇinterval(Duration period)Âíå interval(Duration delay, Duration period)ÔºöÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´‰∫Ü‰ªé 0 ÂºÄÂßãÈÄíÂ¢ûÁöÑ Long ÂØπË±°ÁöÑÂ∫èÂàó„ÄÇÂÖ∂‰∏≠ÂåÖÂê´ÁöÑÂÖÉÁ¥†ÊåâÁÖßÊåáÂÆöÁöÑÈó¥ÈöîÊù•ÂèëÂ∏É„ÄÇÈô§‰∫ÜÈó¥ÈöîÊó∂Èó¥‰πãÂ§ñÔºåËøòÂèØ‰ª•ÊåáÂÆöËµ∑ÂßãÂÖÉÁ¥†ÂèëÂ∏É‰πãÂâçÁöÑÂª∂ËøüÊó∂Èó¥„ÄÇ‰∏æ‰∫õ‰æãÂ≠êÔºö123456789public static void main(String[] args) throws InterruptedException &#123; Flux.just("Hello", "World").subscribe(System.out::println); Flux.fromArray(new Integer[] &#123;1, 2, 3&#125;).subscribe(System.out::println); Flux.empty().subscribe(System.out::println); Flux.range(1, 4).subscribe(System.out::println); Flux.interval(Duration.of(1, ChronoUnit.SECONDS)).subscribe(System.out::println); // Á∫øÁ®ãÂª∂ËøüÂÖ≥Èó≠Ôºå‰∏çÁÑ∂ÊúÄÂêé‰∏Ä‰∏™‰æãÂ≠êÊú®ÊúâËæìÂá∫ Thread.currentThread().join(10000);&#125;ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö ‰∏äÈù¢ÁöÑËøô‰∫õÈùôÊÄÅÊñπÊ≥ïÈÄÇÂêà‰∫éÁÆÄÂçïÁöÑFluxÂ∫èÂàóÁîüÊàêÔºåÂΩìÂ∫èÂàóÁöÑÁîüÊàêÈúÄË¶ÅÂ§çÊùÇÁöÑÈÄªËæëÊó∂ÔºåÂàôÂ∫îËØ•‰ΩøÁî®generate()Êàñcreate()ÊñπÊ≥ï„ÄÇgenerate()generate()ÊñπÊ≥ïÈÄöËøáÂêåÊ≠•ÂíåÈÄê‰∏ÄÁöÑÊñπÂºèÊù•‰∫ßÁîü Flux Â∫èÂàó„ÄÇÂ∫èÂàóÁöÑ‰∫ßÁîüÊòØÈÄöËøáË∞ÉÁî®ÊâÄÊèê‰æõÁöÑ SynchronousSink ÂØπË±°ÁöÑ next()Ôºåcomplete()Âíå error(Throwable)ÊñπÊ≥ïÊù•ÂÆåÊàêÁöÑÔºö12345678910111213141516Flux.generate(sink -&gt; &#123; sink.next("Hello"); sink.complete();&#125;).subscribe(System.out::println);final Random random = new Random();Flux.generate(ArrayList::new, (list, sink) -&gt; &#123; int value = random.nextInt(100); list.add(value); sink.next(value); if (list.size() == 10) &#123; sink.complete(); &#125; return list;&#125;).subscribe(System.out::println);ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫:Â¶ÇÊûú‰∏çË∞ÉÁî® complete()ÊñπÊ≥ïÔºåÊâÄ‰∫ßÁîüÁöÑÊòØ‰∏Ä‰∏™Êó†ÈôêÂ∫èÂàó„ÄÇcreate()create()ÊñπÊ≥ï‰∏é generate()ÊñπÊ≥ïÁöÑ‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÊâÄ‰ΩøÁî®ÁöÑÊòØ FluxSink ÂØπË±°„ÄÇFluxSink ÊîØÊåÅÂêåÊ≠•ÂíåÂºÇÊ≠•ÁöÑÊ∂àÊÅØ‰∫ßÁîüÔºåÂπ∂‰∏îÂèØ‰ª•Âú®‰∏ÄÊ¨°Ë∞ÉÁî®‰∏≠‰∫ßÁîüÂ§ö‰∏™ÂÖÉÁ¥†Ôºö123456Flux.create(sink -&gt; &#123; for (int i = 0; i &lt; 10; i++) &#123; sink.next(i); &#125; sink.complete();&#125;).subscribe(System.out::println);MonoMono ÁöÑÂàõÂª∫ÊñπÂºè‰∏é‰πãÂâç‰ªãÁªçÁöÑ Flux ÊØîËæÉÁõ∏‰ºº„ÄÇMono Á±ª‰∏≠‰πüÂåÖÂê´‰∫Ü‰∏Ä‰∫õ‰∏é Flux Á±ª‰∏≠Áõ∏ÂêåÁöÑÈùôÊÄÅÊñπÊ≥ï„ÄÇËøô‰∫õÊñπÊ≥ïÂåÖÊã¨ just()Ôºåempty()Ôºåerror()Âíå never()Á≠â„ÄÇÈô§‰∫ÜËøô‰∫õÊñπÊ≥ï‰πãÂ§ñÔºåMono ËøòÊúâ‰∏Ä‰∫õÁã¨ÊúâÁöÑÈùôÊÄÅÊñπÊ≥ïÔºöfromCallable()„ÄÅfromCompletionStage()„ÄÅfromFuture()„ÄÅfromRunnable()Âíå fromSupplier()ÔºöÂàÜÂà´‰ªé Callable„ÄÅCompletionStage„ÄÅCompletableFuture„ÄÅRunnable Âíå Supplier ‰∏≠ÂàõÂª∫ Mono„ÄÇdelay(Duration duration)ÔºöÂàõÂª∫‰∏Ä‰∏™ Mono Â∫èÂàóÔºåÂú®ÊåáÂÆöÁöÑÂª∂ËøüÊó∂Èó¥‰πãÂêéÔºå‰∫ßÁîüÊï∞Â≠ó 0 ‰Ωú‰∏∫ÂîØ‰∏ÄÂÄº„ÄÇignoreElements(Publisher&lt;T&gt; source)ÔºöÂàõÂª∫‰∏Ä‰∏™ Mono Â∫èÂàóÔºåÂøΩÁï•‰Ωú‰∏∫Ê∫êÁöÑ Publisher ‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÔºåÂè™‰∫ßÁîüÁªìÊùüÊ∂àÊÅØ„ÄÇjustOrEmpty(Optional&lt;? extends T&gt; data)Âíå justOrEmpty(T data)Ôºö‰ªé‰∏Ä‰∏™ Optional ÂØπË±°ÊàñÂèØËÉΩ‰∏∫ null ÁöÑÂØπË±°‰∏≠ÂàõÂª∫ Mono„ÄÇÂè™Êúâ Optional ÂØπË±°‰∏≠ÂåÖÂê´ÂÄºÊàñÂØπË±°‰∏ç‰∏∫ null Êó∂ÔºåMono Â∫èÂàóÊâç‰∫ßÁîüÂØπÂ∫îÁöÑÂÖÉÁ¥†„ÄÇ‰∏æ‰∫õ‰æãÂ≠ê:1234Mono.just("are").subscribe(System.out::println);Mono.empty().subscribe(System.out::println);Mono.fromSupplier(() -&gt; "you").subscribe(System.out::println);Mono.justOrEmpty(Optional.of("ok")).subscribe(System.out::println);ËæìÂá∫:ËøòÂèØ‰ª•ÈÄöËøá create()ÊñπÊ≥ïÊù•‰ΩøÁî® MonoSink Êù•ÂàõÂª∫ MonoÔºö1Mono.create(sink -&gt; sink.success("Hello")).subscribe(System.out::println);‰∏≠Èó¥Êìç‰ΩúfilterÂØπÊµÅ‰∏≠ÂåÖÂê´ÁöÑÂÖÉÁ¥†ËøõË°åËøáÊª§ÔºåÂè™Áïô‰∏ãÊª°Ë∂≥ Predicate ÊåáÂÆöÊù°‰ª∂ÁöÑÂÖÉÁ¥†Ôºö1Flux.range(1, 10).filter(i -&gt; i % 2 == 0).subscribe(System.out::println);ËæìÂá∫Ââç10ÂÅ∂Êï∞„ÄÇtaketake Á≥ªÂàóÊìç‰ΩúÁ¨¶Áî®Êù•‰ªéÂΩìÂâçÊµÅ‰∏≠ÊèêÂèñÂÖÉÁ¥†„ÄÇÊèêÂèñÁöÑÊñπÂºèÂèØ‰ª•ÊúâÂæàÂ§öÁßç„ÄÇtake(long n)ÔºöÊåâÁÖßÊåáÂÆöÁöÑÊï∞ÈáèÊù•ÊèêÂèñ„ÄÇtakeLast(long n)ÔºöÊèêÂèñÊµÅ‰∏≠ÁöÑÊúÄÂêé N ‰∏™ÂÖÉÁ¥†„ÄÇtakeUntil(Predicate&lt;? super T&gt; predicate)ÔºöÊèêÂèñÂÖÉÁ¥†Áõ¥Âà∞ Predicate ËøîÂõû true„ÄÇ4 takeWhile(Predicate&lt;? super T&gt; continuePredicate)Ôºö ÂΩì Predicate ËøîÂõû true Êó∂ÊâçËøõË°åÊèêÂèñ„ÄÇ‰∏æ‰∫õ‰æãÂ≠êÔºö1234Flux.range(1, 20).take(10).subscribe(System.out::println);Flux.range(1, 20).takeLast(10).subscribe(System.out::println);Flux.range(1, 20).takeWhile(i -&gt; i &lt; 10).subscribe(System.out::println);Flux.range(1, 20).takeUntil(i -&gt; i == 10).subscribe(System.out::println);reduce Âíå reduceWithreduce Âíå reduceWith Êìç‰ΩúÁ¨¶ÂØπÊµÅ‰∏≠ÂåÖÂê´ÁöÑÊâÄÊúâÂÖÉÁ¥†ËøõË°åÁ¥ØÁßØÊìç‰ΩúÔºåÂæóÂà∞‰∏Ä‰∏™ÂåÖÂê´ËÆ°ÁÆóÁªìÊûúÁöÑ Mono Â∫èÂàó„ÄÇÁ¥ØÁßØÊìç‰ΩúÊòØÈÄöËøá‰∏Ä‰∏™ BiFunction Êù•Ë°®Á§∫ÁöÑ„ÄÇÂú®Êìç‰ΩúÊó∂ÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÂàùÂßãÂÄº„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂàùÂßãÂÄºÔºåÂàôÂ∫èÂàóÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†‰Ωú‰∏∫ÂàùÂßãÂÄº„ÄÇÊØîÂ¶ÇÔºö12Flux.range(1, 10).reduce((x, y) -&gt; x + y).subscribe(System.out::println);Flux.range(1, 10).reduceWith(() -&gt; 10, (x, y) -&gt; x + y).subscribe(System.out::println);Á¨¨‰∏ÄË°åËØ≠Âè•ÂØπÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ËøõË°åÁõ∏Âä†Êìç‰ΩúÔºåÁªìÊûú‰∏∫ 55ÔºõÁ¨¨‰∫åË°åËØ≠Âè•ÂêåÊ†∑‰πüÊòØËøõË°åÁõ∏Âä†Êìç‰ΩúÔºå‰∏çËøáÈÄöËøá‰∏Ä‰∏™ Supplier ÁªôÂá∫‰∫ÜÂàùÂßãÂÄº‰∏∫ 10ÔºåÊâÄ‰ª•ÁªìÊûú‰∏∫ 65„ÄÇmergemergeÊìç‰ΩúÁ¨¶Áî®Êù•ÊääÂ§ö‰∏™ÊµÅÂêàÂπ∂Êàê‰∏Ä‰∏™ Flux Â∫èÂàóÔºö1234Flux.merge( Flux.interval(Duration.of(500, ChronoUnit.MILLIS)).take(2), Flux.interval(Duration.of(500, ChronoUnit.MILLIS)).take(2)).toStream().forEach(System.out::println);ËæìÂá∫ 0 0 1 1„ÄÇbufferÁõ¥Êé•Áúã‰æãÂ≠êÂêßÔºö123Flux.range(1, 100).buffer(20).subscribe(System.out::println);Flux.range(1, 10).bufferUntil(i -&gt; i % 2 == 0).subscribe(System.out::println);Flux.range(1, 10).bufferWhile(i -&gt; i % 2 == 0).subscribe(System.out::println);ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫ÔºöÁ±ª‰ºº‰∫éÊï∞ÊçÆÊµÅÂàÜÂå∫„ÄÇzipWithÂ∞Ü‰∏§‰∏™ÊµÅÁöÑÂÖÉÁ¥†ÂÆâË£ÖÂÖÉÁ¥†‰ΩçÁΩÆ‰∏Ä‰∏ÄÁªÑÂêàÔºö123Flux.just("a", "b", "c", "d") .zipWith(Flux.just("e", "f", "g", "h", "i")) .subscribe(System.out::println);ËæìÂá∫ÔºöÊ≤°ÊúâÈÖçÂØπ‰∏äÁöÑË¢´‰∏¢ÂºÉ„ÄÇÂè¶Â§ñ‰∏Ä‰∏™‰æãÂ≠êÔºö123Flux.just("a", "b", "c", "d") .zipWith(Flux.just("e", "f", "g", "h", "i"), (s1, s2) -&gt; String.format("%s-%s", s1, s2)) .subscribe(System.out::println);ËæìÂá∫Â¶Ç‰∏ã:flatMapÊääÊµÅ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ËΩ¨Êç¢Êàê‰∏Ä‰∏™ÊµÅÔºåÂÜçÊääÊâÄÊúâÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ËøõË°åÂêàÂπ∂„ÄÇÊØîÂ¶ÇÔºö123Flux.just(5, 10).flatMap( x -&gt; Flux.range(1, x).take(x) ).subscribe(System.out::println);ÁªàÁ´ØÂ§ÑÁêÜÈÄöËøásubscribe()ÊñπÊ≥ïÂ§ÑÁêÜÊ≠£Â∏∏ÂíåÈîôËØØÊ∂àÊÅØÔºö123Flux.just(1, 2) .concatWith(Mono.error(new IllegalStateException())) .subscribe(System.out::println, System.err::println);ËæìÂá∫:12312java.lang.IllegalStateExceptionÂá∫Áé∞ÈîôËØØÊó∂ËøîÂõûÈªòËÆ§ÂÄºÔºö1234Flux.just(1, 2) .concatWith(Mono.error(new IllegalStateException())) .onErrorReturn(0) .subscribe(System.out::println);ËæìÂá∫Ôºö123120Âá∫Áé∞ÈîôËØØÊó∂‰ΩøÁî®Âè¶Â§ñÁöÑÊµÅÔºö12345678910Flux.just(1, 2) .concatWith(Mono.error(new IllegalArgumentException())) .onErrorResume(e -&gt; &#123; if (e instanceof IllegalStateException) &#123; return Mono.just(0); &#125; else if (e instanceof IllegalArgumentException) &#123; return Mono.just(-1); &#125; return Mono.empty(); &#125;).subscribe(System.out::println);ËæìÂá∫Â¶Ç‰∏ã:12312-1Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/57.Spring-Boot-WebFluxÂèÇËÄÉÈìæÊé•:https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#spring-webfluxhttps://developer.mozilla.org/zh-CN/docs/Server-sent_events/Using_server-sent_eventshttp://www.ruanyifeng.com/blog/2017/05/server-sent_events.htmlhttps://projectreactor.io/docs/core/release/reference/#fluxhttps://www.ibm.com/developerworks/cn/java/j-cn-with-reactor-response-encode/index.html]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
        <tag>WebFlux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÊï¥ÂêàMongo DB]]></title>
    <url>%2FSpring-Boot-Mongo-DB-CRUD.html</url>
    <content type="text"><![CDATA[ËøôËäÇÊàë‰ª¨Â∞ÜÊï¥ÂêàSpring Boot‰∏éMongo DBÂÆûÁé∞Â¢ûÂà†ÊîπÊü•ÁöÑÂäüËÉΩÔºåÂπ∂‰∏îÂÆûÁé∞Â∫èÂàóÈÄíÂ¢û„ÄÇMongo DB‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://www.mongodb.com/download-center/community„ÄÇMongo DBÁöÑÂü∫Êú¨‰ªãÁªçÂíåÂ¢ûÂà†ÊîπÊü•ÁöÑÁî®Ê≥ïÂèØ‰ª•ÂèÇËÄÉÊàë‰πãÂâçÁöÑÊñáÁ´†Ôºö MongoDB shell „ÄÅ MongoDBÊñáÊ°£CUD Âíå MongoDB ÊñáÊ°£Êü•ËØ¢ „ÄÇÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.1.3.RELEASEÔºåÂπ∂ÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂèØ‰ª•ÈÄöËøáMongo ShellÊàñËÄÖMongo CompassÂ∑•ÂÖ∑ÂàõÂª∫‰∏Ä‰∏™ÂêçÁß∞‰∏∫testdbÁöÑÊï∞ÊçÆÂ∫ìÔºåÂπ∂Êñ∞Â¢ûuserÊñáÊ°£ÔºàÊñáÊ°£ÔºåÁ±ª‰ºº‰∏éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÈáåÁöÑÊï∞ÊçÆË°®ÔºâÔºöÂú®ÈÖçÁΩÆÊñá‰ª∂application.ymlÈáåÈÖçÁΩÆMongo DBÔºö123456spring: data: mongodb: host: localhost port: 27017 database: testdbMongo DBÁöÑÈªòËÆ§Á´ØÂè£‰∏∫27017Ôºå‰ΩøÁî®ÁöÑÊï∞ÊçÆÂ∫ì‰∏∫ÂàöÂàöÂàõÂª∫ÁöÑtestdb„ÄÇÂàõÂª∫UserÂÆû‰ΩìÁ±ªÔºö1234567891011121314@Document(collection = "user")public class User &#123; @Id private String id; private String name; private Integer age; private String description; // get set Áï•&#125;@Document(collection = &quot;user&quot;)Ë°®ÊòéËøôÊòØ‰∏Ä‰∏™ÊñáÊ°£ÂØπË±°ÔºåÂêçÁß∞‰∏∫userÔºåÂØπÂ∫îMongo DBÈáåÁöÑuserË°®„ÄÇ@IdÊ†áÊ≥®‰∏ªÈîÆÂ≠óÊÆµÔºåStringÁ±ªÂûãÁöÑ‰∏ªÈîÆÂÄºÂú®ÊèíÂÖ•ÁöÑÊó∂ÂÄôMongo DB‰ºöÂ∏ÆÊàë‰ª¨Ëá™Âä®ÁîüÊàê„ÄÇÂ¶ÇÊûúÂØπË±°‰∏≠ÁöÑÊüê‰∏™Â±ûÊÄß‰∏∫ÈùûË°®Â≠óÊÆµÔºåÂèØ‰ª•‰ΩøÁî®Ê≥®Ëß£@TransientËøõË°åÊéíÈô§„ÄÇÂáÜÂ§áÂ•ΩËøô‰∫õÂêéÔºåÊàë‰ª¨ÂºÄÂßãÁºñÂÜô‰∏Ä‰∫õÁÆÄÂçïÁöÑÂ¢ûÂà†ÊîπÊü•Ê†∑‰æã„ÄÇÁÆÄÂçïÂ¢ûÂà†ÊîπÊü•ÂàõÂª∫‰∏Ä‰∏™UserDaoÊé•Âè£Ôºö123@Repositorypublic interface UserDao extends MongoRepository&lt;User, String&gt; &#123;&#125;Êé•Âè£ÁªßÊâøËá™MongoRepositoryÔºåÊ≥õÂûãÂàÜÂà´‰∏∫ÂÆû‰ΩìÂØπË±°Âíå‰∏ªÈîÆÁ±ªÂûã„ÄÇÈÄöËøáÁªßÊâøMongoRepositoryÔºåUserDaoÂåÖÂê´‰∫Ü‰∏Ä‰∫õÂ¢ûÂà†ÊîπÊü•ÁöÑÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊé•ÁùÄÁºñÂÜôUserServiceÔºå‰∏∫‰∫ÜÊñπ‰æøËøôÈáå‰∏çÂÜçÁºñÂÜôÊé•Âè£Ôºö12345678910111213141516171819202122232425262728293031323334353637383940@Servicepublic class UserService &#123; @Autowired private UserDao userDao; public List&lt;User&gt; getUsers() &#123; return userDao.findAll(); &#125; public Optional&lt;User&gt; getUser(String id) &#123; return this.userDao.findById(id); &#125; /** * Êñ∞Â¢ûÂíå‰øÆÊîπÈÉΩÊòØ saveÊñπÊ≥ïÔºå * id Â≠òÂú®‰∏∫‰øÆÊîπÔºåid ‰∏çÂ≠òÂú®‰∏∫Êñ∞Â¢û */ public User createUser(User user) &#123; user.setId(null); return userDao.save(user); &#125; public void deleteUser(String id) &#123; this.userDao.findById(id) .ifPresent(user -&gt; this.userDao.delete(user)); &#125; public void updateUser(String id, User user) &#123; this.userDao.findById(id) .ifPresent( u -&gt; &#123; u.setName(user.getName()); u.setAge(user.getAge()); u.setDescription(user.getDescription()); this.userDao.save(u); &#125; ); &#125;&#125;‰∏äÈù¢Êàë‰ª¨ÁºñÂÜô‰∫ÜÂü∫Êú¨ÁöÑÂ¢ûÂà†ÊîπÊü•Ê†∑‰æãÔºåÊñ∞Â¢ûÂíå‰øÆÊîπÈÉΩÊòØÈÄöËøásaveÊñπÊ≥ïÂÆåÊàêÁöÑÔºåÂΩì‰∏ªÈîÆÂ≠òÂú®Êó∂Âàô‰∏∫‰øÆÊîπÔºå‰∏ªÈîÆ‰∏çÂ≠òÂú®Âàô‰∏∫Êñ∞Â¢û„ÄÇÊúÄÂêéÁºñÂÜô‰∏Ä‰∏™RESTfulÁöÑUserControllerÔºà‰∏∫‰∫ÜÊñπ‰æøÔºåÊ≤°ÊúâÂØπÂèÇÊï∞ËøõË°åÊ†°È™åÔºâÔºö123456789101112131415161718192021222324252627282930313233343536@RestController@RequestMapping("user")public class UserController &#123; @Autowired private UserService userService; @GetMapping public List&lt;User&gt; getUsers() &#123; return userService.getUsers(); &#125; @PostMapping public User createUser(User user) &#123; return userService.createUser(user); &#125; @DeleteMapping("/&#123;id&#125;") public void deleteUser(@PathVariable String id) &#123; userService.deleteUser(id); &#125; @PutMapping("/&#123;id&#125;") public void updateUser(@PathVariable String id, User user) &#123; userService.updateUser(id, user); &#125; /** * Ê†πÊçÆÁî®Êà∑ idÊü•Êâæ * Â≠òÂú®ËøîÂõûÔºå‰∏çÂ≠òÂú®ËøîÂõû null */ @GetMapping("/&#123;id&#125;") public User getUser(@PathVariable String id) &#123; return userService.getUser(id).orElse(null); &#125;&#125;ÂêØÂä®È°πÁõÆÔºå‰ΩøÁî®postmanÊù•ÊµãËØïÊé•Âè£ÁöÑÂèØÁî®ÊÄß„ÄÇÊµãËØïÊñ∞Â¢ûÁî®Êà∑ÔºöÊñ∞Â¢ûÊàêÂäüÔºåÊü•ÁúãÊï∞ÊçÆÂ∫ìÔºöÊµãËØïÊü•ËØ¢Áî®Êà∑ÔºöÊü•ËØ¢ÊàêÂäü„ÄÇÊµãËØïÈÄöËøáÁî®IDÊü•ÊâæÁî®Êà∑ÔºöÊõ¥Êñ∞Áî®Êà∑ÔºöÊü•ÁúãÊï∞ÊçÆÂ∫ìÊòØÂê¶Êõ¥Êñ∞ÊàêÂäüÔºöÊõ¥Êñ∞ÊàêÂäü„ÄÇÊúÄÂêéÊµãËØïÈÄöËøáÁî®Êà∑IDÂà†Èô§Áî®Êà∑ÔºöËøîÂõûÁä∂ÊÄÅÁ†Å200ÔºåÂà†Èô§ÊàêÂäü„ÄÇÊü•ÁúãÊï∞ÊçÆÂ∫ìÔºåÂà†Èô§ÊàêÂäüÔºöÂ§öÊù°‰ª∂Êü•ËØ¢ÂÖ∂ÂÆûUserDaoÈÄöËøáÁªßÊâøMongoRepositoryÂ∑≤ÁªèÂÖ∑Êúâ‰∫ÜJPAÁöÑÁâπÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊñπÊ≥ïÂêçÊù•ÊûÑÂª∫Â§öÊü•ËØ¢Êù°‰ª∂ÁöÑSQL„ÄÇÊØîÂ¶ÇÈÄöËøáÁî®Êà∑ÁöÑÂπ¥ÈæÑÊÆµÊù•Êü•ËØ¢Ôºö123456789101112@Repositorypublic interface UserDao extends MongoRepository&lt;User, String&gt; &#123; /** * Ê†πÊçÆÂπ¥ÈæÑÊÆµÊù•Êü•Êâæ * * @param from from * @param to to * @return List&lt;User&gt; */ List&lt;User&gt; findByAgeBetween(Integer from, Integer to);&#125;Âú®ËæìÂÖ•findByÂêéÔºåIDEA‰ºöÊ†πÊçÆÂÆû‰ΩìÂØπË±°ÁöÑÂ±ûÊÄßÂíåSQLÁöÑÂêÑÁßçÂÖ≥ÈîÆÂ≠óËá™Âä®ÁªÑÂêàÊèêÁ§∫ÔºöÊØîÂ¶ÇÂÜçÂú®ÂàõÂª∫‰∏Ä‰∏™ÈÄöËøáÂπ¥ÈæÑÊÆµÔºåÁî®Êà∑ÂêçÂíåÊèèËø∞ÔºàÊ®°Á≥äÊü•ËØ¢ÔºâÊü•ËØ¢Áî®Êà∑ÁöÑÊñπÊ≥ïÔºö12345678910/** * ÈÄöËøáÂπ¥ÈæÑÊÆµÔºåÁî®Êà∑ÂêçÔºåÊèèËø∞ÔºàÊ®°Á≥äÊü•ËØ¢Ôºâ * * @param from from * @param to to * @param name name * @param description description * @return List&lt;User&gt; */List&lt;User&gt; findByAgeBetweenAndNameEqualsAndDescriptionIsLike(Integer from, Integer to, String name, String description);ÊñπÊ≥ïÂèÇÊï∞‰∏™Êï∞ÈúÄË¶ÅÂíåÊñπÊ≥ïÂêç‰∏≠ÊâÄÈúÄË¶ÅÁöÑÂèÇÊï∞‰∏™Êï∞ÂØπÂ∫î‰∏ä„ÄÇÊéíÂ∫è‰∏éÂàÜÈ°µÊéíÂ∫èÂíåÂàÜÈ°µÈúÄË¶Å‰ΩøÁî®MongoTemplateÂØπË±°Êù•ÂÆåÊàêÔºåÂú®UserServiceÈáåÊñ∞Â¢û‰∏Ä‰∏™getUserByConditionÊñπÊ≥ïÔºö12345678910111213141516171819202122@Autowiredprivate MongoTemplate template;public Page&lt;User&gt; getUserByCondition(int size, int page, User user) &#123; Query query = new Query(); Criteria criteria = new Criteria(); if (!StringUtils.isEmpty(user.getName())) &#123; criteria.and("name").is(user.getName()); &#125; if (!StringUtils.isEmpty(user.getDescription())) &#123; criteria.and("description").regex(user.getDescription()); &#125; query.addCriteria(criteria); Sort sort = new Sort(Sort.Direction.DESC, "age"); Pageable pageable = PageRequest.of(page, size, sort); List&lt;User&gt; users = template.find(query.with(pageable), User.class); return PageableExecutionUtils.getPage(users, pageable, () -&gt; template.count(query, User.class));&#125;sizeË°®Á§∫ÊØèÈ°µÊòæÁ§∫ÁöÑÊù°Êï∞ÔºåpageË°®Á§∫ÂΩìÂâçÈ°µÁ†ÅÊï∞Ôºå0Ë°®Á§∫Á¨¨‰∏ÄÈ°µ„ÄÇ‰∏äÈù¢ÁöÑÊñπÊ≥ïÈÄöËøánameÂíådescriptionÔºàÊ®°Á≥äÊü•ËØ¢ÔºâÊù•Êü•ËØ¢Áî®Êà∑ÂàÜÈ°µ‰ø°ÊÅØÔºåÂπ∂‰∏îÊü•ËØ¢ÁªìÊûú‰ΩøÁî®ageÂ≠óÊÆµÈôçÂ∫èÊéíÂ∫è„ÄÇÊñπÊ≥ïËøîÂõûPageÂØπË±°„ÄÇÂú®UserControllerÈáåÊ∑ªÂä†Ôºö1234@GetMapping("/condition")public Page&lt;User&gt; getUserByCondition(int size, int page, User user) &#123; return userService.getUserByCondition(size, page, user);&#125;ÈáçÂêØÈ°πÁõÆÔºåÊàë‰ª¨ÂæÄÊï∞ÊçÆÂ∫ìÈáåÂ§öÂä†Âá†Êù°Êï∞ÊçÆÔºöËé∑ÂèñÁ¨¨1È°µÊï∞ÊçÆÔºåÊØèÈ°µÊòæÁ§∫10Êù°ÔºöËøîÂõûÊï∞ÊçÆÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&#123; "content": [ &#123; "id": "5ca56ae2f08f0b6048fd470d", "name": "jane", "age": 26, "description": "web developer" &#125;, &#123; "id": "5ca56ad1f08f0b6048fd470c", "name": "scott", "age": 23, "description": "ui designer" &#125;, &#123; "id": "5ca56afaf08f0b6048fd470e", "name": "mike", "age": 21, "description": "python developer" &#125;, &#123; "id": "5ca56b38f08f0b6048fd470f", "name": "mrbird", "age": 18, "description": "java noob" &#125; ], "pageable": &#123; "sort": &#123; "sorted": true, "unsorted": false, "empty": false &#125;, "offset": 0, "pageSize": 10, "pageNumber": 0, "unpaged": false, "paged": true &#125;, "last": true, "totalPages": 1, "totalElements": 4, "number": 0, "size": 10, "sort": &#123; "sorted": true, "unsorted": false, "empty": false &#125;, "numberOfElements": 4, "first": true, "empty": false&#125;Ââ©‰∏ãÂèØ‰ª•Ëá™Â∑±ÊµãËØï„ÄÇpostmanÊµãËØïÊ†∑‰æãÂèäÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/56.Spring-Boot-MongoDB-crud]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java 9 Flow API Â≠¶‰π†]]></title>
    <url>%2FJava-9-Flow-API-Learn.html</url>
    <content type="text"><![CDATA[ÂìçÂ∫îÂºèÁºñÁ®ãÔºàReactive ProgrammingÔºâÂèØ‰ª•ÁêÜËß£‰∏∫‰∏ÄÁßçÂ§ÑÁêÜÊï∞ÊçÆÈ°πÔºàData ItemÔºâÁöÑÂºÇÊ≠•ÊµÅÔºåÂç≥Âú®Êï∞ÊçÆÈ°π‰∫ßÁîüÁöÑÊó∂ÂÄôÔºåÊé•Êî∂ËÄÖÂ∞±ÂØπÂÖ∂ËøõË°åÂìçÂ∫î„ÄÇÂú®ÂìçÂ∫îÂºèÁºñÁ®ã‰∏≠Ôºå‰ºöÊúâ‰∏Ä‰∏™Êï∞ÊçÆÂèëÂ∏ÉËÄÖÔºàPublisherÔºâÂíåÊï∞ÊçÆËÆ¢ÈòÖËÄÖÔºàSubscriberÔºâÔºåÂêéËÄÖÁî®‰∫éÂºÇÊ≠•Êé•Êî∂ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÁöÑÊï∞ÊçÆ„ÄÇÂú®ËØ•Ê®°Âºè‰∏≠ÔºåËøòÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Êõ¥È´òÁ∫ßÁöÑÁâπÊÄßÔºöÊï∞ÊçÆÂ§ÑÁêÜÂô®ÔºàProcessorÔºâÔºåÂÆÉÁî®‰∫éÂ∞ÜÊï∞ÊçÆÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÁöÑÊï∞ÊçÆËøõË°åÊüê‰∫õËΩ¨Êç¢Êìç‰ΩúÔºåÁÑ∂ÂêéÂÜçÂèëÂ∏ÉÁªôÊï∞ÊçÆËÆ¢ÈòÖËÄÖ„ÄÇÊÄª‰πãÔºåÂìçÂ∫îÂºèÁºñÁ®ãÊòØÂºÇÊ≠•ÈùûÈòªÂ°ûÁºñÁ®ãÔºåËÉΩÂ§üÊèêÂçáÁ®ãÂ∫èÊÄßËÉΩÔºåÂèØ‰ª•Ëß£ÂÜ≥‰º†ÁªüÁºñÁ®ãÊ®°ÂûãÈÅáÂà∞ÁöÑÂõ∞Â¢É„ÄÇÂü∫‰∫éËøô‰∏™Ê®°ÂûãÂÆûÁé∞ÁöÑÊúâJava 9 Flow API„ÄÅRxJavaÂíåReactorÁ≠âÔºåËøôÈáå‰∏ªË¶Å‰ªãÁªçÁöÑÊòØJava 9 Flow APIÁöÑ‰ΩøÁî®„ÄÇFlowÊé•Âè£Ê¶ÇËßàJava 9 Êñ∞Â¢û‰∫Ü‰∏Ä‰∏™FlowÊé•Âè£Ôºå‰Ωç‰∫éjava.util.concurrentË∑ØÂæÑ‰∏ãÔºåÊûÑÊàêÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂÖ∂‰∏≠Publisher‰∏∫Êï∞ÊçÆÂèëÂ∏ÉËÄÖÔºåSubscriber‰∏∫Êï∞ÊçÆËÆ¢ÈòÖËÄÖÔºåSubscription‰∏∫ÂèëÂ∏ÉËÄÖÂíåËÆ¢ÈòÖËÄÖ‰πãÈó¥ÁöÑËÆ¢ÈòÖÂÖ≥Á≥ªÔºåProcessor‰∏∫Êï∞ÊçÆÂ§ÑÁêÜÂô®„ÄÇPublisherPublisherÈÉ®ÂàÜÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫:ÂÆÉÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂºèÊé•Âè£ÔºåÂè™ÂåÖÂê´‰∏Ä‰∏™subscribeÊñπÊ≥ïÔºåÈÄöËøáËøô‰∏™ÊñπÊ≥ïÂ∞ÜÊï∞ÊçÆÂèëÂ∏ÉÂá∫Âéª„ÄÇSubscriberSubscriberÈÉ®ÂàÜÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫: ËØ•Êé•Âè£ÂåÖÂê´‰∫ÜÂõõ‰∏™ÊñπÊ≥ïÔºöÊñπÊ≥ïÊèèËø∞onSubscribeËÆ¢ÈòÖÊàêÂäüÁöÑÂõûË∞ÉÊñπÊ≥ïÔºåÁî®‰∫éÂàùÂßãÂåñSubscriptionÔºåÂπ∂‰∏îË°®ÊòéÂèØ‰ª•ÂºÄÂßãÊé•Êî∂ËÆ¢ÈòÖÊï∞ÊçÆ‰∫ÜonNextÊé•Êî∂‰∏ã‰∏ÄÈ°πËÆ¢ÈòÖÊï∞ÊçÆÁöÑÂõûË∞ÉÊñπÊ≥ïonErrorÂú®PublisherÊàñSubcriberÈÅáÂà∞‰∏çÂèØÊÅ¢Â§çÁöÑÈîôËØØÊó∂Ë∞ÉÁî®Ê≠§ÊñπÊ≥ïÔºåSubscriber‰∏çÂÜçÊé•Êî∂ËÆ¢ÈòÖÊ∂àÊÅØonCompleteÂΩìÊé•Êî∂ÂÆåÊâÄÊúâËÆ¢ÈòÖÊï∞ÊçÆÔºåÂπ∂‰∏îÂèëÂ∏ÉËÄÖÂ∑≤ÁªèÂÖ≥Èó≠Âêé‰ºöÂõûË∞ÉËøô‰∏™ÊñπÊ≥ïSubscriptionSubscriptionÈÉ®ÂàÜÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËØ•Êé•Âè£ÂåÖÂê´‰∫Ü‰∏§‰∏™ÊñπÊ≥ïÔºöÊñπÊ≥ïÊèèËø∞requestÁî®‰∫éÂêëÊï∞ÊçÆÂèëÂ∏ÉËÄÖËØ∑Ê±Çn‰∏™Êï∞ÊçÆÈ°πcancelÂèñÊ∂àÊ∂àÊÅØËÆ¢ÈòÖÔºåËÆ¢ÈòÖËÄÖÂ∞Ü‰∏çÂÜçÊé•Êî∂Êï∞ÊçÆProcessorProcessorÈÉ®ÂàÜÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂÆÉÊòØ‰∏Ä‰∏™Á©∫Êé•Âè£Ôºå‰ΩÜÊòØÂÆÉÁªßÊâø‰∫ÜPublisherÂíåSubscriberÔºåÊâÄ‰ª•ÂÆÉÊó¢ËÉΩÂèëÂ∏ÉÊï∞ÊçÆ‰πüËÉΩËÆ¢ÈòÖÊï∞ÊçÆ„ÄÇÂü∫‰∫éËøô‰∏™ÁâπÊÄßÔºåÂÆÉÂèØ‰ª•ÂÖÖÂΩìÊï∞ÊçÆËΩ¨Êç¢ÁöÑËßíËâ≤ÔºåÂÖà‰ªéÊï∞ÊçÆÂèëÂ∏ÉËÄÖÈÇ£Êé•Êî∂Êï∞ÊçÆÈ°πÔºåÁÑ∂ÂêéÁªèËøáÂ§ÑÁêÜÂêéÂÜçÂèëÂ∏ÉÁªôÊúÄÁªàÁöÑÊï∞ÊçÆËÆ¢ÈòÖËÄÖ„ÄÇÂèëÂ∏ÉËÆ¢ÈòÖÁ§∫‰æãÊé•‰∏ãÊù•Êàë‰ª¨‰∏æ‰∏™Êï∞ÊçÆÂèëÂ∏ÉÂíåÊï∞ÊçÆËÆ¢ÈòÖÁöÑÁÆÄÂçïÁ§∫‰æãÔºå‰ª•Ê≠§‰∫ÜËß£Java 9 Flow APIÁöÑ‰ΩøÁî®„ÄÇÂÖàÂÖ•‰∏∫‰∏ªÔºåÁõ¥Êé•Ë¥¥Âá∫Êï¥‰∏™Á§∫‰æã‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667public class FlowApiTest &#123; public static void main(String[] args) throws InterruptedException &#123; // 1. ÂÆö‰πâ String Á±ªÂûãÁöÑÊï∞ÊçÆÂèëÂ∏ÉËÄÖÔºåJDK 9Ëá™Â∏¶ÁöÑ // SubmissionPublisher ÂÆûÁé∞‰∫Ü Publisher SubmissionPublisher&lt;String&gt; publisher = new SubmissionPublisher&lt;&gt;(); // 2. ÂàõÂª∫‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖÔºåÁî®‰∫éÊé•Êî∂ÂèëÂ∏ÉËÄÖÁöÑÊ∂àÊÅØ Subscriber&lt;String&gt; subscriber = new Subscriber&lt;&gt;() &#123; private Subscription subscription; @Override public void onSubscribe(Subscription subscription) &#123; // ÈÄöËøá Subscription ÂíåÂèëÂ∏ÉËÄÖ‰øùÊåÅËÆ¢ÈòÖÂÖ≥Á≥ªÔºåÂπ∂Áî®ÂÆÉÊù•ÁªôÂèëÂ∏ÉËÄÖÂèçÈ¶à this.subscription = subscription; // ËØ∑Ê±Ç‰∏Ä‰∏™Êï∞ÊçÆ this.subscription.request(1); &#125; @Override public void onNext(String item) &#123; // Êé•Êî∂ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÁöÑÊ∂àÊÅØ System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊé•Êî∂Ê∂àÊÅØ &lt;------ " + item); // Êé•Êî∂ÂêéÂÜçÊ¨°ËØ∑Ê±Ç‰∏Ä‰∏™Êï∞ÊçÆ this.subscription.request(1); // Â¶ÇÊûú‰∏çÊÉ≥ÂÜçÊé•Êî∂Êï∞ÊçÆÔºå‰πüÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî® cancelÔºåË°®Á§∫‰∏çÂÜçÊé•Êî∂‰∫Ü // this.subscription.cancel(); &#125; @Override public void onError(Throwable throwable) &#123; // ËøáÁ®ã‰∏≠Âá∫Áé∞ÂºÇÂ∏∏‰ºöÂõûË∞ÉËøô‰∏™ÊñπÊ≥ï System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊï∞ÊçÆÊé•Êî∂Âá∫Áé∞ÂºÇÂ∏∏Ôºå" + throwable); // Âá∫Áé∞ÂºÇÂ∏∏ÔºåÂèñÊ∂àËÆ¢ÈòÖÔºåÂëäËØâÂèëÂ∏ÉËÄÖÊàë‰∏çÂÜçÊé•Êî∂Êï∞ÊçÆ‰∫Ü // ÂÆûÈôÖÊµãËØïÂèëÁé∞ÔºåÂè™Ë¶ÅËÆ¢ÈòÖËÄÖÊé•Êî∂Ê∂àÊÅØÂá∫Áé∞ÂºÇÂ∏∏ÔºåËøõÂÖ•‰∫ÜËøô‰∏™ÂõûË∞É // ËÆ¢ÈòÖËÄÖÂ∞±‰∏ç‰ºöÂÜçÁªßÁª≠Êé•Êî∂Ê∂àÊÅØ‰∫Ü this.subscription.cancel(); &#125; @Override public void onComplete() &#123; // ÂΩìÂèëÂ∏ÉËÄÖÂèëÂá∫ÁöÑÊï∞ÊçÆÈÉΩË¢´Êé•Êî∂‰∫ÜÔºå // Âπ∂‰∏îÂèëÂ∏ÉËÄÖÂÖ≥Èó≠ÂêéÔºå‰ºöÂõûË∞ÉËøô‰∏™ÊñπÊ≥ï System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊï∞ÊçÆÊé•Êî∂ÂÆåÊØï"); &#125; &#125;; // 3. ÂèëÂ∏ÉËÄÖÂíåËÆ¢ÈòÖËÄÖÈúÄË¶ÅÂª∫Á´ãÂÖ≥Á≥ª publisher.subscribe(subscriber); // 4. ÂèëÂ∏ÉËÄÖÂºÄÂßãÂèëÂ∏ÉÊï∞ÊçÆ for (int i = 0; i &lt; 10; i++) &#123; String message = "hello flow api " + i; System.out.println("„ÄêÂèëÂ∏ÉËÄÖ„ÄëÂèëÂ∏ÉÊ∂àÊÅØ ------&gt; " + message); publisher.submit(message); &#125; // 5. ÂèëÂ∏ÉÁªìÊùüÂêéÔºåÂÖ≥Èó≠ÂèëÂ∏ÉËÄÖ publisher.close(); // mainÁ∫øÁ®ãÂª∂ËøüÂÖ≥Èó≠Ôºå‰∏çÁÑ∂ËÆ¢ÈòÖËÄÖËøòÊ≤°Êé•Êî∂ÂÆåÊ∂àÊÅØÔºåÁ∫øÁ®ãÂ∞±Ë¢´ÂÖ≥Èó≠‰∫Ü Thread.currentThread().join(2000); &#125;&#125;‰∏äÈù¢‰ΩøÁî®JDK Ëá™Â∏¶ÁöÑPublisherÂÆûÁé∞Á±ªSubmissionPublisherÊù•ÂèëÂ∏É StringÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéÁî®ÂåøÂêçÂÆûÁé∞Á±ªÁöÑÊñπÂºèÂàõÂª∫‰∫Ü‰∏Ä‰∏™SubscriberÂÆûÁé∞Á±ª„ÄÇÊé•ÁùÄ‰ΩøÁî®SubmissionPublisherÁöÑsubscribeÊñπÊ≥ïÊù•‰∏∫ÂèëÂ∏ÉËÄÖÂíåËÆ¢ÈòÖËÄÖÂª∫Á´ãÂÖ≥Á≥ª„ÄÇÂª∫Á´ãÂÖ≥Á≥ªÂêéÔºåÂèëÂ∏ÉËÄÖÂ∞±ÂèØ‰ª•ÂèëÂ∏ÉÊï∞ÊçÆÔºåÊé•Êî∂ËÄÖ‰πüÂºÄÂßãÊé•Êî∂Êï∞ÊçÆ„ÄÇËØ¶ÁªÜÁöÑËØ¥ÊòéÊ≥®ÈáäÈáåÈÉΩÂÜô‰∫ÜÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞‰ª£Á†ÅÁöÑÈÄªËæë‰∫Ü„ÄÇÁ®ãÂ∫èÁöÑËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫ÔºöÊ®°ÊãüËÉåÂéãÊâÄË∞ìÁöÑËÉåÂéãÔºàBackpressureÔºâÈÄö‰øóÁöÑËÆ≤Â∞±ÊòØÊï∞ÊçÆÊé•Êî∂ËÄÖÁöÑÂéãÂäõÔºå‰º†ÁªüÊ®°Âºè‰∏ãÔºåÂèëÂ∏ÉËÄÖÂè™ÂÖ≥ÂøÉÊï∞ÊçÆÁöÑÂàõÈÄ†‰∏éÂèëÂ∏ÉÔºåËÄåÂΩìÊï∞ÊçÆÂèëÂ∏ÉÈÄüÁéáËøúÈ´ò‰∫éÊï∞ÊçÆÊé•Êî∂ÈÄüÁéáÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆÊé•Êî∂ËÄÖÁºìÂÜ≤Âå∫Â∞ÜË¢´Â°´Êª°ÔºåÊó†Ê≥ïÂÜçÊé•Êî∂Êï∞ÊçÆ„ÄÇÂèëÂ∏ÉËÄÖÂπ∂‰∏çÂÖ≥ÂøÉËøô‰∫õÔºå‰æùÊóß‰∏çÊñ≠Âú∞ÂèëÈÄÅÊï∞ÊçÆÔºåÊâÄ‰ª•Â∞±ÈÄ†Êàê‰∫ÜIOÈòªÂ°û„ÄÇÂü∫‰∫éÂìçÂ∫îÂºèÊ®°ÂûãÂÆûÁé∞ÁöÑFlow APIÂèØ‰ª•ÂæàÂ•ΩÂú∞Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇÂú®Java 9ÁöÑFlow APIÂÆö‰πâ‰∏≠ÔºåSubscriber‰ºöÂ∞ÜPublisherÂèëÂ∏ÉÁöÑÊï∞ÊçÆÁºìÂÜ≤Âú®Subscription‰∏≠ÔºåÂÖ∂ÈïøÂ∫¶ÈªòËÆ§‰∏∫256ÔºöÂÅáÂ¶ÇÂΩìËøô‰∏™ÁºìÂÜ≤Âå∫ÈÉΩË¢´Â°´Êª°ÂêéÔºåPublisherÂ∞Ü‰ºöÂÅúÊ≠¢ÂèëÈÄÅÊï∞ÊçÆÔºåÁõ¥Âà∞SubscriberÊé•Êî∂‰∫ÜÊï∞ÊçÆSubscriptionÊúâÁ©∫Èó≤‰ΩçÁΩÆÁöÑÊó∂ÂÄôÔºåPublisherÊâç‰ºöÁªßÁª≠ÂèëÂ∏ÉÊï∞ÊçÆÔºåËÄåÈùû‰∏ÄÂë≥Âú∞Âèë‰∏™‰∏çÂÅú„ÄÇ‰∏ãÈù¢Áî®‰ª£Á†ÅÊù•ÊºîÁ§∫Ëøô‰∏™ÊÉÖÂÜµÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475public class FlowApiTest &#123; public static void main(String[] args) throws InterruptedException &#123; // 1. ÂÆö‰πâStringÁ±ªÂûãÁöÑÊï∞ÊçÆÂèëÂ∏ÉËÄÖÔºåJDK 9Ëá™Â∏¶ÁöÑ // SubmissionPublisherÂÆûÁé∞‰∫Ü Publisher SubmissionPublisher&lt;String&gt; publisher = new SubmissionPublisher&lt;&gt;(); // 2. ÂàõÂª∫‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖÔºåÁî®‰∫éÊé•Êî∂ÂèëÂ∏ÉËÄÖÁöÑÊ∂àÊÅØ Subscriber&lt;String&gt; subscriber = new Subscriber&lt;&gt;() &#123; private Subscription subscription; @Override public void onSubscribe(Subscription subscription) &#123; // ÈÄöËøá Subscription ÂíåÂèëÂ∏ÉËÄÖ‰øùÊåÅËÆ¢ÈòÖÂÖ≥Á≥ªÔºåÂπ∂Áî®ÂÆÉÊù•ÁªôÂèëÂ∏ÉËÄÖÂèçÈ¶à this.subscription = subscription; // ËØ∑Ê±Ç‰∏Ä‰∏™Êï∞ÊçÆ this.subscription.request(1); &#125; @Override public void onNext(String item) &#123; // Êé•Êî∂ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÁöÑÊ∂àÊÅØ System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊé•Êî∂Ê∂àÊÅØ &lt;------ " + item); // Ê®°ÊãüÊé•Êî∂Êï∞ÊçÆÁºìÊÖ¢ÔºåËÆ©ÁºìÂÜ≤Ê±†Â°´Êª° try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; // Êé•Êî∂ÂêéÂÜçÊ¨°ËØ∑Ê±Ç‰∏Ä‰∏™Êï∞ÊçÆÔºåË°®Á§∫ÊàëÂ∑≤ÁªèÂ§ÑÁêÜÂÆå‰∫ÜÔºå‰Ω†ÂèØ‰ª•ÂÜçÂèëÊï∞ÊçÆËøáÊù•‰∫Ü this.subscription.request(1); // Â¶ÇÊûú‰∏çÊÉ≥ÂÜçÊé•Êî∂Êï∞ÊçÆÔºå‰πüÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®cancelÔºåË°®Á§∫‰∏çÂÜçÊé•Êî∂‰∫Ü // this.subscription.cancel(); &#125; @Override public void onError(Throwable throwable) &#123; // ËøáÁ®ã‰∏≠Âá∫Áé∞ÂºÇÂ∏∏‰ºöÂõûË∞ÉËøô‰∏™ÊñπÊ≥ï System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊï∞ÊçÆÊé•Êî∂Âá∫Áé∞ÂºÇÂ∏∏Ôºå" + throwable); // Âá∫Áé∞ÂºÇÂ∏∏ÔºåÂèñÊ∂àËÆ¢ÈòÖÔºåÂëäËØâÂèëÂ∏ÉËÄÖÊàë‰∏çÂÜçÊé•Êî∂Êï∞ÊçÆ‰∫Ü // ÂÆûÈôÖÊµãËØïÂèëÁé∞ÔºåÂè™Ë¶ÅËÆ¢ÈòÖËÄÖÊé•Êî∂Ê∂àÊÅØÂá∫Áé∞ÂºÇÂ∏∏ÔºåËøõÂÖ•‰∫ÜËøô‰∏™ÂõûË∞É // ËÆ¢ÈòÖËÄÖÂ∞±‰∏ç‰ºöÂÜçÁªßÁª≠Êé•Êî∂Ê∂àÊÅØ‰∫Ü this.subscription.cancel(); &#125; @Override public void onComplete() &#123; // ÂΩìÂèëÂ∏ÉËÄÖÂèëÂá∫ÁöÑÊï∞ÊçÆÈÉΩË¢´Êé•Êî∂‰∫ÜÔºå // Âπ∂‰∏îÂèëÂ∏ÉËÄÖÂÖ≥Èó≠ÂêéÔºå‰ºöÂõûË∞ÉËøô‰∏™ÊñπÊ≥ï System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊï∞ÊçÆÊé•Êî∂ÂÆåÊØï"); &#125; &#125;; // 3. ÂèëÂ∏ÉËÄÖÂíåËÆ¢ÈòÖËÄÖÈúÄË¶ÅÂª∫Á´ãÂÖ≥Á≥ª publisher.subscribe(subscriber); // 4. ÂèëÂ∏ÉËÄÖÂºÄÂßãÂèëÂ∏ÉÊï∞ÊçÆ for (int i = 0; i &lt; 500; i++) &#123; String message = "hello flow api " + i; System.out.println("„ÄêÂèëÂ∏ÉËÄÖ„ÄëÂèëÂ∏ÉÊ∂àÊÅØ ------&gt; " + message); publisher.submit(message); &#125; // 5. ÂèëÂ∏ÉÁªìÊùüÂêéÔºåÂÖ≥Èó≠ÂèëÂ∏ÉËÄÖ publisher.close(); // mainÁ∫øÁ®ãÂª∂ËøüÂÖ≥Èó≠Ôºå‰∏çÁÑ∂ËÆ¢ÈòÖËÄÖËøòÊ≤°Êé•Êî∂ÂÆåÊ∂àÊÅØÔºåÁ∫øÁ®ãÂ∞±Ë¢´ÂÖ≥Èó≠‰∫Ü Thread.currentThread().join(20000); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨Âú®SubscriberÁöÑonNextÊñπÊ≥ï‰∏≠Áî®‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊ®°ÊãüÂª∂ËøüÔºåËÆ©Êï∞ÊçÆÂ§ÑÁêÜËøáÁ®ãÁª¥ÊåÅÂú®2ÁßíÂ∑¶Âè≥Ôºö12345try &#123; TimeUnit.SECONDS.sleep(2);&#125; catch (InterruptedException e) &#123; e.printStackTrace();&#125;ÁÑ∂ÂêéÊï∞ÊçÆÂèëÂ∏ÉÈáèË∞ÉÊï¥Âà∞‰∫Ü500ÔºåÂΩìÁ®ãÂ∫èÂêØÂä®ÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÊï∞ÊçÆÂèëÂ∏ÉÁöÑÈÄüÂ∫¶ÈùûÂ∏∏Âø´ÔºàÊôÆÈÄöforÂæ™ÁéØÔºâÔºåÊâÄ‰ª•Êï∞ÊçÆËÆ¢ÈòÖËÄÖÁöÑÊï∞ÊçÆÁºìÂÜ≤Âå∫Áû¨Èó¥Ë¢´Â°´Êª°Ôºå‰∫éÊòØ‰Ω†‰ºöÁúãÂà∞‰∏ãÈù¢Ëøô‰∏™ÊÉÖÂÜµÔºåÂè™ÊúâÂΩìÊï∞ÊçÆËÆ¢ÈòÖËÄÖÂ§ÑÁêÜ‰∫Ü‰∏Ä‰∏™Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆÂèëÂ∏ÉËÄÖÊâç‰ºöÁõ∏Â∫îÂú∞ÂÜçÊ¨°ÂèëÂ∏É‰∏Ä‰∏™Êñ∞Êï∞ÊçÆÔºöProcessorÁ§∫‰æãProcessorÁöÑ‰ΩøÁî®‰πüÂæàÁÆÄÂçïÔºåÂÖ∂ÂÆûÂÆÉÂ∞±ÊòØPublisherÂíåSubscriberÁöÑÁªìÂêà‰ΩìÔºåÂÖÖÂΩìÊï∞ÊçÆÂ§ÑÁêÜÁöÑËßíËâ≤ÔºåÈÄöÂ∏∏ÁöÑÂÅöÊ≥ïÊòØÁî®ÂÆÉÊù•Êé•Êî∂ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÁöÑÊ∂àÊÅØÔºåÁÑ∂ÂêéËøõË°åÁõ∏Â∫îÁöÑÂ§ÑÁêÜÔºåÂÜçÂ∞ÜÊï∞ÊçÆÂèëÂ∏ÉÂá∫ÂéªÔºå‰æõÊ∂àÊÅØËÆ¢ÈòÖËÄÖÊé•Êî∂„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ProcessorÁî®Ê≥ïÁöÑÁÆÄÂçïÁ§∫‰æãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106public class FlowApiTest2 &#123; static class MyProcessor extends SubmissionPublisher&lt;String&gt; implements Processor&lt;String, String&gt; &#123; private Subscription subscription; @Override public void onSubscribe(Subscription subscription) &#123; // ÈÄöËøá Subscription ÂíåÂèëÂ∏ÉËÄÖ‰øùÊåÅËÆ¢ÈòÖÂÖ≥Á≥ªÔºåÂπ∂Áî®ÂÆÉÊù•ÁªôÂèëÂ∏ÉËÄÖÂèçÈ¶à this.subscription = subscription; // ËØ∑Ê±Ç‰∏Ä‰∏™Êï∞ÊçÆ this.subscription.request(1); &#125; @Override public void onNext(String item) &#123; // Êé•Êî∂ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÁöÑÊ∂àÊÅØ System.out.println("„ÄêÂ§ÑÁêÜÂô®„ÄëÊé•Êî∂Ê∂àÊÅØ &lt;------ " + item); // Â§ÑÁêÜÂô®Â∞ÜÊ∂àÊÅØËøõË°åËΩ¨Êç¢ String newItem = "„ÄêÂ§ÑÁêÜÂô®Âä†Â∑•ÂêéÁöÑÊï∞ÊçÆ: " + item + "„Äë"; this.submit(newItem); // Êé•Êî∂ÂêéÂÜçÊ¨°ËØ∑Ê±Ç‰∏Ä‰∏™Êï∞ÊçÆÔºåË°®Á§∫ÊàëÂ∑≤ÁªèÂ§ÑÁêÜÂÆå‰∫ÜÔºå‰Ω†ÂèØ‰ª•ÂÜçÂèëÊï∞ÊçÆËøáÊù•‰∫Ü this.subscription.request(1); // Â¶ÇÊûú‰∏çÊÉ≥ÂÜçÊé•Êî∂Êï∞ÊçÆÔºå‰πüÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®cancelÔºåË°®Á§∫‰∏çÂÜçÊé•Êî∂‰∫Ü // this.subscription.cancel(); &#125; @Override public void onError(Throwable throwable) &#123; // ËøáÁ®ã‰∏≠Âá∫Áé∞ÂºÇÂ∏∏‰ºöÂõûË∞ÉËøô‰∏™ÊñπÊ≥ï System.out.println("„ÄêÂ§ÑÁêÜÂô®„ÄëÊï∞ÊçÆÊé•Êî∂Âá∫Áé∞ÂºÇÂ∏∏Ôºå" + throwable); // Âá∫Áé∞ÂºÇÂ∏∏ÔºåÂèñÊ∂àËÆ¢ÈòÖÔºåÂëäËØâÂèëÂ∏ÉËÄÖÊàë‰∏çÂÜçÊé•Êî∂Êï∞ÊçÆ‰∫Ü this.subscription.cancel(); &#125; @Override public void onComplete() &#123; System.out.println("„ÄêÂ§ÑÁêÜÂô®„ÄëÊï∞ÊçÆÂ§ÑÁêÜÂÆåÊØï"); // Â§ÑÁêÜÂô®Â§ÑÁêÜÂÆåÊï∞ÊçÆÂêéÂÖ≥Èó≠ this.close(); &#125; &#125; public static void main(String[] args) throws InterruptedException &#123; // 1. ÂÆö‰πâStringÁ±ªÂûãÁöÑÊï∞ÊçÆÂèëÂ∏ÉËÄÖÔºåJDK 9Ëá™Â∏¶ÁöÑ // SubmissionPublisherÂÆûÁé∞‰∫Ü Publisher SubmissionPublisher&lt;String&gt; publisher = new SubmissionPublisher&lt;&gt;(); // 2. ÂàõÂª∫Â§ÑÁêÜÂô®ÔºåÁî®‰∫éÊé•Êî∂ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÁöÑÊ∂àÊÅØÔºå // ËΩ¨Êç¢ÂêéÂÜçÂèëÈÄÅÁªôËÆ¢ÈòÖËÄÖ MyProcessor processor = new MyProcessor(); // 3. ÂèëÂ∏ÉËÄÖÂíåÂ§ÑÁêÜÂô®Âª∫Á´ãËÆ¢ÈòÖÁöÑÂÖ≥Á≥ª publisher.subscribe(processor); // 4.ÂàõÂª∫‰∏Ä‰∏™ËÆ¢ÈòÖËÄÖÔºåÁî®‰∫éÊé•Êî∂Â§ÑÁêÜÂô®ÁöÑÊ∂àÊÅØ Subscriber&lt;String&gt; subscriber = new Subscriber&lt;&gt;() &#123; private Subscription subscription; @Override public void onSubscribe(Subscription subscription) &#123; this.subscription = subscription; this.subscription.request(1); &#125; @Override public void onNext(String item) &#123; System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊé•Êî∂Ê∂àÊÅØ &lt;------ " + item + ""); this.subscription.request(1); &#125; @Override public void onError(Throwable throwable) &#123; System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊï∞ÊçÆÊé•Êî∂Âá∫Áé∞ÂºÇÂ∏∏Ôºå" + throwable); this.subscription.cancel(); &#125; @Override public void onComplete() &#123; System.out.println("„ÄêËÆ¢ÈòÖËÄÖ„ÄëÊï∞ÊçÆÊé•Êî∂ÂÆåÊØï"); &#125; &#125;; // 5. Â§ÑÁêÜÂô®ÂíåËÆ¢ÈòÖËÄÖÂª∫Á´ãËÆ¢ÈòÖÂÖ≥Á≥ª processor.subscribe(subscriber); // 6. ÂèëÂ∏ÉËÄÖÂºÄÂßãÂèëÂ∏ÉÊï∞ÊçÆ for (int i = 0; i &lt; 10; i++) &#123; String message = "hello flow api " + i; System.out.println("„ÄêÂèëÂ∏ÉËÄÖ„ÄëÂèëÂ∏ÉÊ∂àÊÅØ ------&gt; " + message); publisher.submit(message); &#125; // 7. ÂèëÂ∏ÉÁªìÊùüÂêéÔºåÂÖ≥Èó≠ÂèëÂ∏ÉËÄÖ publisher.close(); // mainÁ∫øÁ®ãÂª∂ËøüÂÖ≥Èó≠Ôºå‰∏çÁÑ∂ËÆ¢ÈòÖËÄÖËøòÊ≤°Êé•Êî∂ÂÆåÊ∂àÊÅØÔºåÁ∫øÁ®ãÂ∞±Ë¢´ÂÖ≥Èó≠‰∫Ü Thread.currentThread().join(2000); &#125;&#125;Á®ãÂ∫èËøêË°åÁªìÊûúÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂèÇËÄÉÊñáÊ°£Ôºöhttps://community.oracle.com/docs/DOC-1006738]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 9</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java 10 Êñ∞ÁâπÊÄß‰πãvar]]></title>
    <url>%2FJava10-new-feature-var.html</url>
    <content type="text"><![CDATA[‰ªäÂπ¥3ÊúàÔºåJava 10 Â¶ÇÊúüÂèëÂ∏ÉÔºåJava 10 ÊòØÈááÁî®Êñ∞ÂèëÂ∏ÉÂë®ÊúüÁöÑÁ¨¨‰∏Ä‰∏™ÁâàÊú¨ÔºåÊèê‰æõ‰∫Ü 109 È°πÊñ∞ÁâπÊÄßÔºåÂÖ∂‰∏≠ÊúÄÂ§áÂèóÂÖ≥Ê≥®ÁöÑËé´Ëøá‰∫éÂ±ÄÈÉ®ÂèòÈáèÁöÑÁ±ªÂûãÊé®Êñ≠„ÄÇÊâÄ‰ª•ËøôÈáå‰∏ªË¶ÅËÆ∞ÂΩï‰∏Ä‰∏ãËøô‰∏™ÁâπÊÄßÁöÑÁî®Ê≥ï„ÄÇÁúãÂá†‰∏™Java 10‰πãÂâçÂ£∞ÊòéÂèòÈáèÁöÑ‰æãÂ≠ê:12345List&lt;String&gt; list = new ArrayList&lt;&gt;();Stream&lt;String&gt; stream = list.stream();InputStreamReader reader = new InputStreamReader(System.in);HttpClient httpClient = HttpClient.newHttpClient();Âú®Java 10 ‰∏≠ÔºåÂè™Ë¶ÅÊòØÁºñËØëÂô®ËÉΩÂ§üÈÄöËøáÂØπË±°Á±ªÂûãÊù•Á°ÆÂÆöÂèòÈáèÁ±ªÂûãÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèòÈáèÁ±ªÂûãÂ£∞ÊòéÂèØ‰ª•‰ΩøÁî®var‰øùÁïôÂ≠ó‰ª£ÊõøÔºö12345var list = new ArrayList&lt;&gt;();var stream = list.stream();var reader = new InputStreamReader(System.in);var httpClient = HttpClient.newHttpClient();ÂºïÂÖ•Ëøô‰∏™ÁâπÊÄß‰ΩøÂæóÊàë‰ª¨ÁöÑJava ‰ª£Á†ÅÂèòÂæóÊõ¥Âä†ÁöÑÁÆÄÊ¥ÅÊòìËØª„ÄÇÈô§Ê≠§‰πãÂ§ñÊàë‰ª¨‰πüÂèØ‰ª•Âú®Â¢ûÂº∫forÂæ™ÁéØ‰∏≠‰ΩøÁî®varÔºö12345var list = new ArrayList&lt;&gt;();list.add("hello");list.add("java 10");for (var s : list) System.out.println(s);ÂΩìÁÑ∂ÔºåvarÂπ∂‰∏çÊòØÂú®‰ΩïÊó∂‰ΩïÂú∞ÈÉΩËÉΩ‰ΩøÁî®ÔºåÁî®‰∫éÂèòÈáèÂ£∞ÊòéÊó∂Ôºå‰ªÖÂ±ÄÈôê‰∫éÂÖ∑ÊúâÊûÑÈÄ†Âô®ÁöÑÂèòÈáèÊàñÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåÊØîÂ¶Ç‰∏ãÈù¢Ëøô‰∫õ‰æãÂ≠êÁºñËØëÊòØ‰∏çÈÄöËøáÁöÑÔºö1234var a;a = "hello world";var b = &#123;1, 2, 3&#125;;ÁºñËØëÂô®Â∞Ü‰ºöÂëäË≠¶Ôºö]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 10</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java 9 Êñ∞ÁâπÊÄßÂ≠¶‰π†]]></title>
    <url>%2FJava-9-Feature.html</url>
    <content type="text"><![CDATA[Âú®Java 8 ÂèëÂ∏É3Âπ¥Â§öÂêéÔºåJava 9 Áªà‰∫éÂú®2017Âπ¥9Êúà21Êó•Ê≠£ÂºèÂèëÂ∏É„ÄÇJava 9 Êèê‰æõ‰∫ÜË∂ÖËøá150È°πÊñ∞ÂäüËÉΩÁâπÊÄßÔºåÂåÖÊã¨Â§áÂèóÊúüÂæÖÁöÑÊ®°ÂùóÂåñÁ≥ªÁªü„ÄÅ ÂèØ‰∫§‰∫íÁöÑREPLÂ∑•ÂÖ∑jShell„ÄÅJDKÁºñËØëÂ∑•ÂÖ∑„ÄÅJavaÂÖ¨ÂÖ±APIÂíåÁßÅÊúâ‰ª£Á†ÅÔºå‰ª•ÂèäÂÆâÂÖ®Â¢ûÂº∫„ÄÅÊâ©Â±ïÊèêÂçáÂíåÊÄßËÉΩÁÆ°ÁêÜÊîπÂñÑÁ≠â„ÄÇÂú®Â≠¶‰π†Ëøô‰∫õÊñ∞ÁâπÊÄß‰πãÂâçÔºåÊàë‰ª¨ÂæóÂÖàÂÆâË£ÖÂ•ΩJDK 9ÔºåJDK 9 ‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://www.oracle.com/technetwork/cn/java/javase/downloads/jdk9-downloads-3848520-zhs.html„ÄÇÊ®°ÂùóÂåñJava 9 ‰∏≠ÁöÑÊ®°ÂùóÂåñÔºàModuleÔºâÁ±ª‰ºº‰∫éES6‰∏≠ÁöÑÊ®°ÂùóÂåñÔºåÈÉΩÊòØ‰∏∫‰∫ÜËß£ÂÜ≥È°πÁõÆ‰∏≠ÂáèÂ∞ëÂÜÖÂ≠òÁöÑÂºÄÈîÄÔºåÊèê‰æõÂèØÁª¥Êä§ÊÄßÂíåÁ≥ªÁªüÊÄßËÉΩËÄåÊèêÂá∫ÁöÑ„ÄÇÈÄö‰øóÂú∞ËØ¥ÔºåJava 9 ÁöÑÊ®°ÂùóÂåñÊú¨Ë¥®‰∏äÂ∞±ÊòØÂú®ÂåÖÔºàpackageÔºâ‰∏äÂÜçÂåÖË£π‰∏ÄÂ±ÇÔºàModuleÔºâÔºåÈªòËÆ§Ê®°ÂùóÈáåÁöÑÂÜÖÂÆπÈÉΩÊòØÈöêËóèÁöÑÔºåÂè™ËÉΩÈÄöËøáÔºàexportsÔºâÂÖ≥ÈîÆÂ≠óÊù•Êö¥Èú≤Ê®°ÂùóÈáåÁöÑÂÜÖÂÆπÔºåËÄåÂà´ÁöÑÊ®°ÂùóÈúÄË¶ÅÁî®Âà∞Ëøô‰∫õÂÜÖÂÆπÂàôÈúÄË¶Å‰ΩøÁî®ÔºàrequiresÔºâÂÖ≥ÈîÆÂ≠óÊù•ÂØºÂÖ•„ÄÇ‰∏ãÈù¢Êàë‰ª¨Áî®‰ª£Á†ÅÊù•ÊºîÁ§∫Ëøô‰∏Ä‰∏™Êñ∞ÁâπÊÄß„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Java Â∑•Á®ãÔºåÁÑ∂ÂêéÂú®Â∑•Á®ã‰∏ãÈù¢ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ModuleOneÁöÑÊ®°ÂùóÔºöÂêåÊ†∑ÁöÑÔºåÊàë‰ª¨ÂÜçÂàõÂª∫‰∏Ä‰∏™ModuleTwoÊ®°ÂùóÔºåÂàõÂª∫ÂÆåÂêéÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÊé•ÁùÄÊàë‰ª¨Âú®ModuleOneÁöÑsrcÁõÆÂΩï‰∏ãÂàõÂª∫cc.mrbird.domainÂåÖÔºåÂπ∂ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫PersonÁöÑÁ±ªÔºö1234567891011121314151617181920212223242526272829303132333435package cc.mrbird.domain;public class Person &#123; private String name; private int age; public Person(String name, int age) &#123; this.name = name; this.age = age; &#125; @Override public String toString() &#123; return "Person&#123;" + "name='" + name + '\'' + ", age=" + age + '&#125;'; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125;&#125;ÁÑ∂ÂêéÂú®ModuleTwoÁöÑsrcÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™cc.mrbid.testÂåÖÔºåÂπ∂‰∏îÂàõÂª∫‰∏Ä‰∏™TestÁ±ªÔºåÁî®‰∫éÂæÖ‰ºöÊµãËØï„ÄÇËá≥Ê≠§ÔºåÂ∑•Á®ãÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫:Êàë‰ª¨Âú®ModuleTwoÁöÑTestÁ±ª‰∏ãËØïÂõæÂºïÂÖ•ModuleOneÁöÑPersonÁ±ªÔºå‰ºöÂèëÁé∞ÊòØË°å‰∏çÈÄöÁöÑÔºöÊ≠£Â¶Ç‰∏äÈù¢ÊâÄËØ¥ÔºåÊ®°ÂùóÈáåÁöÑ‰∏úË•øÈªòËÆ§ÈÉΩÊòØÈöêËóèÁöÑÔºåË¶ÅËÆ©ÂÖ∂ÂèØ‰ª•Ë¢´Âà´ÁöÑÊ®°Âùó‰ΩøÁî®ÔºåÈúÄË¶ÅÈÄöËøáexportsÂÖ≥ÈîÆÂ≠óÊù•Êö¥Èú≤ÂÆÉ‰ª¨„ÄÇÂú®ModuleOneÊ®°Âùó‰∏ãÁöÑsrc‰∏äÂè≥ÈîÆÔºåÊñ∞Âª∫‰∏Ä‰∏™module-info.javaÔºö‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫:1234module ModuleOne &#123; // ÂØºÂá∫ÂåÖ exports cc.mrbird.domain;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÂØºÂá∫‰∫Ücc.mrbird.domainÂåÖ‰∏ãÁöÑÊâÄÊúâÂÜÖÂÆπÔºåÂØπÂà´ÁöÑÊ®°ÂùóÊù•ËØ¥ÔºåÂÆÉ‰ª¨ÊòØÂèØËßÅÁöÑ‰∫Ü„ÄÇÁÑ∂ÂêéÂêåÊ†∑Âú∞Âú®ModuleTwoÊ®°Âùó‰∏ãÁöÑsrc‰∏äÂè≥ÈîÆÔºå‰πüÊñ∞Âª∫‰∏Ä‰∏™module-info.javaÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫:1234module ModuleTwo &#123; // ÂØºÂÖ•Ê®°Âùó requires ModuleOne;&#125;ËøôÈáåÊàë‰ª¨‰∏ªË¶ÅÂÅöÁöÑÊòØÂ∞ÜModuleOneÂØºÂÖ•ËøõÊù•ÔºåÊâÄ‰ª•ÂÖ∂Êö¥Èú≤ÁöÑcc.mrbird.domainÂåÖ‰∏ãÁöÑÂÜÖÂÆπÂ∞±ÂèØ‰ª•Âú®ModuleTwo‰∏ãË¢´‰ΩøÁî®‰∫Ü„ÄÇËøôÊó∂ÂÄôÂõûÂà∞ModuleTwoÊ®°Âùó‰∏ãÁöÑTestÁ±ªÔºåIDEA‰ºöËá™Âä®Â∏ÆÊàë‰ª¨ÂØºÂÖ•ÈúÄË¶ÅÁöÑÁ±ªÔºå‰ª£Á†ÅÂ∞±‰∏ç‰ºöÊä•Èîô‰∫ÜÔºöÊàë‰ª¨ÁªßÁª≠Âú®TestÁ±ª‰∏≠Âä†ÂÖ•‰∏Ä‰∫õÂÜÖÂÆπÔºö‰∏äÈù¢Êàë‰ª¨‰ΩøÁî®‰∫Üjava.util.logging.LoggerÊù•ÊâìÂç∞Êó•ÂøóÔºå‰ΩÜÊòØ‰ª£Á†ÅÁºñËØëÊòØ‰∏çÈÄöËøáÁöÑÔºå‰ΩøÁî®Alt+EnterÂø´Êç∑ÈîÆÂêéÈÄâÊã©Á¨¨‰∏ÄÈ°πÔºåIDEA‰ºöËá™Âä®Â∏ÆÊàë‰ª¨Âú®module-info.javaÊñá‰ª∂‰∏≠ÂØºÂÖ•ÈúÄË¶ÅÁöÑÂåÖÔºåÈùûÂ∏∏Êñπ‰æø„ÄÇÂØºÂÖ•ÂêéÔºåmodule-info.java‰∏ãÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345module ModuleTwo &#123; // ÂØºÂÖ•Ê®°Âùó requires ModuleOne; requires java.logging;&#125;ÊÄªÁöÑÊù•ËØ¥ÔºåÈÄöËøáÊ®°ÂùóÂåñÊù•ÊûÑÂª∫È°πÁõÆÂèØ‰ª•Â∏¶Êù•‰ª•‰∏ãÂ•ΩÂ§Ñ:ÂáèÂ∞ëÂÜÖÂ≠òÁöÑÂºÄÈîÄÔºõÁÆÄÂåñÂêÑÁßçÁ±ªÂ∫ìÂíåÂ§ßÂûãÂ∫îÁî®ÁöÑÂºÄÂèëÂíåÁª¥Êä§ÔºõÊîπËøõÂÖ∂ÂÆâÂÖ®ÊÄßÔºåÂèØÁª¥Êä§ÊÄßÔºåÊèêÈ´òÊÄßËÉΩ„ÄÇjshellÂëΩ‰ª§Âú®Java 9 ‰πãÂâçÔºåÊàë‰ª¨Ë¶ÅÊÉ≥‰ΩøÁî®JavaÊù•ËæìÂá∫‰∏ÄÂè•hello worldÊàñËÄÖËÆ°ÁÆó‰∏§‰∏™Êï∞ÁöÑÂíåÈÉΩÂøÖÈ°ªÂàõÂª∫‰∏Ä‰∏™JavaÈ°πÁõÆÔºåÁÑ∂ÂêéÂàõÂª∫Á±ªÂú®ÈáåÈù¢ÂÜômainÊñπÊ≥ïÊù•ËøêË°å„ÄÇJava 9 ÂêéÂ∞±‰∏çÂøÖËøôÊ†∑‰∫ÜÔºåÂÖ∂Êèê‰æõ‰∫ÜREPLÂ∑•ÂÖ∑Ôºöjshell„ÄÇÂà©Áî® jshell Âú®Ê≤°ÊúâÂàõÂª∫Á±ªÁöÑÊÉÖÂÜµ‰∏ãÁõ¥Êé•Â£∞ÊòéÂèòÈáèÔºåËÆ°ÁÆóË°®ËææÂºèÔºåÊâßË°åËØ≠Âè•„ÄÇÂç≥ÂºÄÂèëÊó∂ÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°åÈáåÁõ¥Êé•ËøêË°å Java ÁöÑ‰ª£Á†ÅÔºåËÄåÊó†ÈúÄÂàõÂª∫ Java Êñá‰ª∂„ÄÇÂú®JDK 9 ÁöÑbinÁõÆÂΩï‰∏ãÊúâ‰∏™jshell.exeÊñá‰ª∂ÔºåÊàë‰ª¨ËøêË°åÂÆÉÔºö‰∏ãÈù¢ÊºîÁ§∫‰∏Ä‰∫õjshellÁöÑÂ∏∏Áî®Êìç‰Ωú„ÄÇÂü∫Êú¨‰ΩøÁî®Âú®jshell‰∏≠Ôºå‰ª£Á†ÅÊú´Â∞æÁöÑ;ÊòØÂèØÈÄâÁöÑ„ÄÇÂØºÂåÖÊìç‰ΩúÊü•ÁúãÊâÄÊúâÂ∑≤ÁªèÂØºÂÖ•ÁöÑÂåÖ‰ΩøÁî®TabÈîÆË°•ÂÖ®‰ª£Á†ÅÊü•ÁúãÂΩìÂâçÁéØÂ¢É‰∏ãÊâÄÊúâÊúâÊïà‰ª£Á†ÅÊü•ÁúãÂΩìÂâçÁéØÂ¢É‰∏ãÊâÄÊúâÂèòÈáèÊü•ÁúãÂΩìÂâçÁéØÂ¢É‰∏ãÊâÄÊúâÊñπÊ≥ï‰ΩøÁî®Â§ñÈÉ®‰ª£Á†ÅÁºñËæëÂô®Êù•‰øÆÊîπaddÊñπÊ≥ïÁïåÈù¢ÂºπÂá∫Ôºö‰øÆÊîπÂÆåÊØïÁÇπÂáªAcceptÂíåExitÊåâÈíÆÂç≥ÂèØÔºöÂä†ËΩΩÂ§ñÈÉ®‰ª£Á†ÅÂú®Ê°åÈù¢Êñ∞Âª∫‰∏Ä‰∏™Hello.javaÊñá‰ª∂Ôºö1234public void hello() &#123; System.out.println("hello world");&#125;hello();ÁÑ∂Âêé‰ΩøÁî®/openÂëΩ‰ª§ÊâßË°åËøô‰∏™Êñá‰ª∂ÔºöÊõ¥Â§öÂÖ≥‰∫éjshellÁöÑÂäüËÉΩ‰ªãÁªçÔºåÂèØ‰ª•‰ΩøÁî®/helpÂëΩ‰ª§Êù•Êü•Áúã„ÄÇÊé•Âè£‰∏≠ÁöÑÁßÅÊúâÊñπÊ≥ïÊàë‰ª¨ÈÉΩÁü•ÈÅìÔºåÂú®JDK 8‰πãÂâçÔºåÊé•Âè£Âè™ËÉΩÂåÖÂê´public static finalÁöÑÊàêÂëòÂèòÈáèÂíåpublic abstract‰øÆÈ•∞ÁöÑÊäΩË±°ÊñπÊ≥ïÔºõËÄåÂú®JDK 8‰∏≠ÔºåÊé•Âè£‰∏≠ÂèØ‰ª•ÂÆö‰πâÈùôÊÄÅÊñπÊ≥ïÂíåÈªòËÆ§ÊñπÊ≥ï‰∫ÜÔºõJDK 9ÁöÑÊé•Âè£ÂèàÂä†‰∫ÜÊñ∞ÁöÑÁâπÊÄßÔºåÂÖ∂ÂÖÅËÆ∏Êé•Âè£‰∏≠ÂåÖÂê´ÁßÅÊúâÁöÑÊñπÊ≥ïÔºå‰∏ãÈù¢Ëøô‰∏™Êé•Âè£ÂÆö‰πâÂú®JDK 9 ‰∏≠ÊòØÂêàÊ≥ïÁöÑÔºö123456789101112131415161718public interface TestInterface &#123; // before jdk 7 : void method1(); // jdk 8: static void method2() &#123; System.out.println("mehtod2"); &#125; default void method3() &#123; System.out.println("mehtod3"); &#125; // jdk 9: private void method4() &#123; System.out.println("mehtod4"); &#125;&#125;Diamond Operator‰ΩøÁî®ÂçáÁ∫ßÂú®Java 9 ‰πãÂâçÁöÑÁâàÊú¨‰∏≠ÔºåÊàë‰ª¨‰∏çËÉΩÂ∞ÜÈíªÁü≥Êìç‰ΩúÁ¨¶ÔºàDiamond OperatorÔºâÂíåÂåøÂêçÂÆûÁé∞Á±ªÊîæÂú®‰∏ÄËµ∑‰ΩøÁî®ÔºåÊØîÂ¶Ç‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠êÂú®Java 9 ‰πãÂâçÁöÑÁâàÊú¨‰∏≠ÁºñËØëÊòØ‰∏çÈÄöËøáÁöÑÔºöËÄåÂú®Java 9‰∏≠ÂèñÊ∂à‰∫ÜËøô‰∏™ÈôêÂà∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáËøô‰∏™ÁâπÊÄßÊù•ËøõË°å‰∏Ä‰∫õÂàùÂßãÂåñÊìç‰Ωú:try‰ΩøÁî®ÂçáÁ∫ßÂú®Java 9 ‰πãÂâçÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ËøôÁßç‰ºòÈõÖÁöÑÊñπÂºèÊù•ËøõË°åÊµÅÁöÑÂÖ≥Èó≠Êìç‰ΩúÔºö12345try (InputStreamReader reader = new InputStreamReader(System.in)) &#123; reader.read();&#125; catch (IOException e) &#123; e.printStackTrace();&#125;Âú®tryÂêéÈù¢ÁöÑÊã¨Âè∑‰∏≠Â£∞ÊòéÂàùÂßãÂåñÁöÑÊµÅJava‰ºöËá™Âä®Â∏ÆÊàë‰ª¨ËøõË°åÂÖ≥Èó≠Êìç‰Ωú„ÄÇJava 9 ÂØπËøô‰∏™ÁâπÊÄßËøõË°å‰∫ÜÂçáÁ∫ßÔºåÊàë‰ª¨ÂèØ‰ª•Âú®tryÂêéÈù¢ÁöÑÊã¨Âè∑‰∏≠‰ΩøÁî®Â∑≤ÁªèÂàùÂßãÂåñËøáÁöÑËµÑÊ∫êÔºåÊ≠§Êó∂ÁöÑËµÑÊ∫êÊòØfinalÁöÑÔºö123456InputStreamReader reader = new InputStreamReader(System.in);try (reader) &#123; reader.read();&#125; catch (IOException e) &#123; e.printStackTrace();&#125;Â¶ÇÊûúÂØπreaderÂÜçÊ¨°ËøõË°åËµãÂÄºÊìç‰ΩúÔºåÁºñËØëÂ∞Ü‰∏çÈÄöËøáÔºö‰∏ãÂàíÁ∫øÊ†áËØÜÁ¨¶ÁöÑÈôêÂà∂Java 8 ‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏ãÂàíÁ∫ø_‰Ωú‰∏∫Ê†áËØÜÁ¨¶‰ΩøÁî®ÔºåÊØîÂ¶Ç‰∏ãÈù¢ËøôÊÆµ‰ª£Á†ÅÊòØÂêàÊ≥ïÁöÑÔºö12String _ = "mrbird";System.out.println(_);ËÄåÂú®Java 9 ‰∏≠Ôºå‰∏ãÂàíÁ∫ø_Â∑≤Áªè‰∏çËÉΩÁî®‰∫éÊ†áËØÜÁ¨¶‰∫ÜÔºöStringÂ≠òÂÇ®ÁªìÊûÑÂèòÊõ¥Java 9 ‰πãÂâçÔºåÂ≠óÁ¨¶‰∏≤ÁöÑÂ∫ïÂ±ÇÊòØÁî®char[]ËøõË°åÂ≠òÂÇ®ÁöÑÔºåJava 9 ‰∏≠ÔºåÂ≠óÁ¨¶‰∏≤ÊîπÁî®Êàê‰∫Übyte[]ËøõË°åÂ≠òÂÇ®:‰πãÊâÄ‰ª•ÂÅöÂá∫Ëøô‰∏™ÊîπÂèòÊòØÂõ†‰∏∫ÔºöÂ§ßÂ§öÊï∞StringÁ±ªÂûãÂØπË±°Â≠òÂÇ®ÁöÑÈÉΩÊòØÊãâ‰∏ÅÂ≠óÁ¨¶ÔºåËøô‰∫õÂ≠óÁ¨¶Âè™Âç†‰∏Ä‰∏™Â≠óËäÇÔºåËÄåcharËÉΩÂ§üÂ≠òÂÇ®‰∏§‰∏™Â≠óËäÇÔºåÊâÄ‰ª•Â§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÈÉΩÊµ™Ë¥π‰∫Ü‰∏ÄÂçäÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇJava 9 Â∞ÜStringÁ±ªÁöÑÂÜÖÈÉ®Ë°®Á§∫‰ªéUTF-16ÁöÑcharÊï∞ÁªÑÊõ¥Êîπ‰∏∫byteÊï∞ÁªÑÂä†‰∏äencoding-flagÂ≠óÊÆµ„ÄÇÊñ∞StringÁ±ªÂ∞ÜÊ†πÊçÆÂ≠óÁ¨¶‰∏≤ÁöÑÂÜÖÂÆπÂ≠òÂÇ®ÁºñÁ†Å‰∏∫ISO-8859-1 / Latin-1ÔºàÊØè‰∏™Â≠óÁ¨¶‰∏Ä‰∏™Â≠óËäÇÔºâÊàñUTF-16ÔºàÊØè‰∏™Â≠óÁ¨¶‰∏§‰∏™Â≠óËäÇÔºâÁöÑÂ≠óÁ¨¶„ÄÇencoding-flagÁºñÁ†ÅÊ†áÂøóÂ∞ÜÊåáÁ§∫‰ΩøÁî®Âì™ÁßçÁºñÁ†Å„ÄÇÂü∫‰∫éStringÁöÑÁ±ªÂ¶ÇStringBufferÂíåStringBuilderÁ≠â‰πüÊòØÂÅöÂá∫‰∫ÜÁõ∏ÂêåÁöÑÊîπÂèò„ÄÇÂÖ∑‰ΩìÂèØÂèÇËÄÉÔºöhttp://openjdk.java.net/jeps/254„ÄÇÈõÜÂêàÁöÑofÊñπÊ≥ïJava 9 ‰πãÂâçÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÊñπÂºèÊù•ÂàõÂª∫‰∏çÂèØÂèòÈõÜÂêàÔºö12345678List&lt;Integer&gt; list = Collections.unmodifiableList(Arrays.asList(1, 2, 3));Set&lt;Integer&gt; set = Collections.unmodifiableSet(new HashSet&lt;&gt;(Arrays.asList(1, 2, 3)));Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();map.put("mrbird", 18);map.put("kangkang", 20);Map&lt;String, Object&gt; map1 = Collections.unmodifiableMap(map);Java 9 ‰∏≠ÁöÑÈõÜÂêàÁ±ªÈÉΩÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™ofÊñπÊ≥ïÔºåÂèØ‰ª•Âø´ÈÄüÁöÑÊûÑÈÄ†‰∏çÂèØÂèòÈõÜÂêàÔºö123List&lt;Integer&gt; list = List.of(1, 2, 3);Set&lt;Integer&gt; set = Set.of(1, 2, 3);Map&lt;String, Object&gt; map1 = Map.of("mrbird", 18, "kangkang", 20);ÂØπ‰∏çÂèØÂèòÈõÜÂêàËøõË°åËµãÂÄºÊìç‰ΩúÂ∞ÜÊäõÂá∫ÂºÇÂ∏∏ÔºöÂ¢ûÂº∫ÁöÑSteam APIÂú® Java 9 ‰∏≠ÔºåStream APIÂèòÂæóÊõ¥Â•ΩÔºåStreamÊé•Âè£‰∏≠Ê∑ªÂä†‰∫Ü 4 ‰∏™Êñ∞ÁöÑÊñπÊ≥ïÔºödropWhile, takeWhile, ofNullableÔºåËøòÊúâ‰∏™ iterateÊñπÊ≥ïÁöÑÊñ∞ÈáçËΩΩÊñπÊ≥ïÔºåÂèØ‰ª•ËÆ©‰Ω†Êèê‰æõ‰∏Ä‰∏™PredicateÔºàÂà§Êñ≠Êù°‰ª∂ÔºâÊù•ÊåáÂÆö‰ªÄ‰πàÊó∂ÂÄôÁªìÊùüËø≠‰ª£„ÄÇ‰∏ãÈù¢‰∏æ‰æãÊù•ÊºîÁ§∫ËøôÂá†‰∏™ÁöÑÁî®Ê≥ïÔºötakeWhiletakeWhileÁî®‰∫é‰ªéStream‰∏≠Ëé∑Âèñ‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÔºåÊé•Êî∂‰∏Ä‰∏™PredicateÊù•ËøõË°åÈÄâÊã©„ÄÇÂú®ÊúâÂ∫èÁöÑStream‰∏≠ÔºåtakeWhileËøîÂõû‰ªéÂºÄÂ§¥ÂºÄÂßãÁöÑÂ∞ΩÈáèÂ§öÁöÑÂÖÉÁ¥†„ÄÇ12List&lt;Integer&gt; list = Arrays.asList(45, 43, 76, 87, 42, 77, 90, 73, 67, 88);list.stream().takeWhile(x -&gt; x &lt; 50).forEach(System.out::println);ÁªìÊûúËæìÂá∫:Á®ãÂ∫è‰ªéÂ§¥ÂºÄÂßãÂà§Êñ≠ÂΩìÂâçÂÄºÊòØÂê¶Â∞è‰∫é50ÔºåÂΩìÂà§Êñ≠Âà∞Á¨¨‰∏â‰∏™ÂÖÉÁ¥†76Êó∂ÔºåÂèëÁé∞‰∏çÊª°Ë∂≥Ôºå‰∫éÊòØÁ®ãÂ∫èÂ∞±ÁªìÊùü‰∫Ü„ÄÇÊâÄ‰ª•takeWhile‰∏çÂêå‰∫éËøáÊª§Âô®„ÄÇdropWhiledropWhileÁöÑË°å‰∏∫‰∏étakeWhileÁõ∏ÂèçÔºåËøîÂõûÂâ©‰ΩôÁöÑÂÖÉÁ¥†Ôºö12List&lt;Integer&gt; list = Arrays.asList(45, 43, 76, 87, 42, 77, 90, 73, 67, 88);list.stream().dropWhile(x -&gt; x &lt; 50).forEach(System.out::println);Á®ãÂ∫èËæìÂá∫:ofNullableJava 8 ‰∏≠Stream‰∏çËÉΩÂÆåÂÖ®‰∏∫nullÔºàÂè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Ôºå‰∏î‰∏∫nullÔºâÔºåÂê¶Âàô‰ºöÊä•Á©∫ÊåáÈíàÂºÇÂ∏∏„ÄÇËÄåJava 9 ‰∏≠ÁöÑofNullable ÊñπÊ≥ïÂÖÅËÆ∏Êàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ÂçïÂÖÉÁ¥† StreamÔºåÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™ÈùûÁ©∫ÂÖÉÁ¥†Ôºå‰πüÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™Á©∫ StreamÔºö1234567891011121314151617181920// Êä• NullPointerException// Stream&lt;Object&gt; stream1 = Stream.of(null);// System.out.println(stream1.count());// ‰∏çÊä•ÂºÇÂ∏∏ÔºåÂÖÅËÆ∏ÈÄöËøáStream&lt;String&gt; stringStream = Stream.of("AA", "BB", null);System.out.println(stringStream.count()); // 3// ‰∏çÊä•ÂºÇÂ∏∏ÔºåÂÖÅËÆ∏ÈÄöËøáList&lt;String&gt; list = new ArrayList&lt;&gt;();list.add("AA");list.add(null);System.out.println(list.stream().count()); // 2// ofNullable()ÔºöÂÖÅËÆ∏ÂÄºÂÆåÂÖ®‰∏∫ nullStream&lt;Object&gt; stream1 = Stream.ofNullable(null);System.out.println(stream1.count()); // 0Stream&lt;String&gt; stream = Stream.ofNullable("hello world");System.out.println(stream.count()); // 1Steam iteratorÁöÑÈáçËΩΩÊñπÊ≥ï1234// Java 8 ‰∏≠ÁöÑStream.iterate(0, x -&gt; x + 1).limit(10).forEach(System.out::println);// Á≠â‰ª∑‰∫é Java 9 ‰∏≠ÁöÑStream.iterate(0, x -&gt; x &lt; 10, x -&gt; x + 1).forEach(System.out::println);Èô§‰∫Ü‰∏äÈù¢Âá†‰∏™Êñ∞ÁâπÊÄßÂ§ñÔºåJava 9 ËøòÊîØÊåÅÂ∞ÜoptionalËΩ¨Êç¢‰∏∫ÊµÅÁöÑÊìç‰ΩúÔºö1234567891011121314List&lt;String&gt; list = new ArrayList&lt;&gt;();list.add("mrbird");list.add("kangkang");list.add("maria");Optional&lt;List&lt;String&gt;&gt; optional = Optional.of(list);// ÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†‰∏∫ listStream&lt;List&lt;String&gt;&gt; stream = optional.stream();stream.forEach(System.out::println);// ÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†‰∏∫ list‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†Stream&lt;String&gt; stringStream = optional.stream().flatMap(Collection::stream);stringStream.forEach(System.out::println);Á®ãÂ∫èËæìÂá∫ÔºöHTTP ClientJava 9 ‰∏≠Êñ∞Â¢û‰∫ÜÂÖ®Êñ∞ÁöÑHttpClientÊù•Êõø‰ª£HttpURLConnectionÔºåÂÖ∂ÂèØ‰ª•‰ªéjdk.incubator.httpclientÊ®°Âùó‰∏≠Ëé∑Âèñ„ÄÇÂõ†‰∏∫Âú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËøô‰∏™Ê®°ÂùóÊòØ‰∏çËÉΩÊ†πÊçÆclasspathËé∑ÂèñÁöÑÔºåÈúÄË¶Å‰ΩøÁî®add modulesÂëΩ‰ª§ÈÄâÈ°πÈÖçÁΩÆËøô‰∏™Ê®°ÂùóÔºåÂ∞ÜËøô‰∏™Ê®°ÂùóÊ∑ªÂä†Âà∞ classpath‰∏≠„ÄÇÊàë‰ª¨Âú®src‰∏ãÁöÑmodule-info.java‰∏≠ÂºïÂÖ•Ëøô‰∏™Ê®°ÂùóÔºö1requires jdk.incubator.httpclient;ÂÜô‰∏™Âü∫‰∫éHttpClientÁöÑ‰æãÂ≠ê:12345678HttpClient client = HttpClient.newHttpClient();HttpRequest req = HttpRequest.newBuilder(URI.create("https://mrbird.cc")) .GET() .build();HttpResponse&lt;String&gt; response = client.send(req, HttpResponse.BodyHandler.asString());System.out.println(response.statusCode());System.out.println(response.version().name());System.out.println(response.body());ËæìÂá∫ÁªìÊûúÔºöÂèÇËÄÉËá™Ôºöhttps://www.jianshu.com/u/5f70a16b98e7]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 9</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker Compose]]></title>
    <url>%2FDocker-Compose.html</url>
    <content type="text"><![CDATA[ÈÉ®ÁΩ≤‰∏Ä‰∏™Â∫îÁî®ÂèØËÉΩÈúÄË¶ÅÁî®Âà∞Â§ö‰∏™DockerÂÆπÂô®ÔºåÊØîÂ¶ÇMySQLÔºåRedisÔºåNginxÁ≠âÔºåÂçïÁã¨ÁöÑÂéªÁÆ°ÁêÜÊØè‰∏™ÂÆπÂô®ÂèØËÉΩ‰ºöÊØîËæÉÈ∫ªÁÉ¶„ÄÇDocker ComposeÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™ymlÊñá‰ª∂Êù•Áªü‰∏ÄÁÆ°ÁêÜËøô‰∫õÂÆπÂô®ÔºåÂèØ‰ª•ÊûÅÂ§ßÁÆÄÂåñÊàë‰ª¨ÁöÑÂ∫îÁî®ÈÉ®ÁΩ≤ËøáÁ®ã„ÄÇËøôÈáå‰ª•ÈÉ®ÁΩ≤WordPress‰∏∫‰æãÔºå‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®Docker ComposeÂéªÁªü‰∏ÄÁÆ°ÁêÜÂ§ö‰∏™DockerÂÆπÂô®„ÄÇÂÖàÊù•ÁúãÁúã‰∏çÁî®Docker ComposeÊó∂ÈÉ®ÁΩ≤WordPressÁöÑÊ≠•È™§„ÄÇDockerÈÉ®ÁΩ≤WordPressÂÆâË£ÖMySQLDockerÊãâÂèñMySQLÈïúÂÉèÔºö1docker pull mysql:5.7.25ÂàõÂª∫MySQLÂÆπÂô®:1docker run -d --name mysql -v mysql:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -e MYSQL_DATABASE=wordpress -p 3306:3306 mysql:5.7.25ÂÆâË£ÖWordPressDockerÊãâÂèñWordPressÈïúÂÉèÔºö1docker pull wordpressÂàõÂª∫WordPressÂÆπÂô®Ôºö1docker run -d -p 8080:80 --link mysql -e WORDPRESS_DB_HOST=mysql:3306 -e WORDPRESS_DB_USER=root -e WORDPRESS_DB_PASSWORD=123456 -e WORDPRESS_DB_NAME=wordpress wordpressÊü•ÁúãÊòØÂê¶ÊàêÂäüÔºöDocker ComposeÈÉ®ÁΩ≤WordPressÊé•‰∏ãÊù•Áúã‰∏Ä‰∏ãÂ¶Ç‰Ωï‰ΩøÁî®Docker ComposeÈÉ®ÁΩ≤WordPress„ÄÇÂú®Ê≠§‰πãÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂÖàÂà†Èô§‰∏äÈù¢ÂàõÂª∫ÁöÑ‰∏§‰∏™ÂÆπÂô®ÔºåÁÑ∂ÂêéÂÆâË£ÖDocker ComposeÔºåÂÆâË£ÖÊïôÁ®ãÔºöhttps://docs.docker.com/compose/install/„ÄÇÊü•ÁúãÊòØÂê¶ÂÆâË£ÖÊàêÂäüÔºöÁºñÂÜô‰∏Ä‰∏™docker-compose.ymlÔºö1vim docker-compose.ymlÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233version: '3'services: wordpress: image: wordpress ports: - 8080:80 environment: WORDPRESS_DB_HOST: mysql:3306 WORDPRESS_DB_NAME: wordpress WORDPRESS_DB_USER: root WORDPRESS_DB_PASSWORD: 123456 networks: - my-bridge mysql: image: mysql:5.7.25 ports: - 3306:3306 environment: MYSQL_ROOT_PASSWORD: 123456 MYSQL_DATABASE: wordpress volumes: - mysql-data:/var/lib/mysql networks: - my-bridgevolumes: mysql-data:networks: my-bridge: driver: bridgeÁÑ∂ÂêéÊâßË°åÂëΩ‰ª§docker-compose up -dËøêË°åÔºöÊü•ÁúãWordPressÊòØÂê¶ÈÉ®ÁΩ≤ÊàêÂäüÔºödocker-compose.yml‰∏äÈù¢‰æãÂ≠ê‰∏≠Êàë‰ª¨ÈÄöËøá‰∏Ä‰∏™docker-compose.ymlÊñá‰ª∂ÔºåËøêË°ådocker-compose upÂëΩ‰ª§‰∏ÄÊ¨°ÊÄßÂàõÂª∫‰∫Ü‰∏§‰∏™ÂÆπÂô®Ôºödocker-compose.yml‰∏ÄËà¨ÂåÖÂê´‰∏â‰∏™ÈÉ®ÂàÜ:services„ÄÅnetworksÂíåvolumes„ÄÇservices‰∏Ä‰∏™service‰ª£Ë°®‰∏Ä‰∏™containerÔºåÂèØ‰ª•‰ªéDocker HubÁöÑimageÂàõÂª∫Ôºå‰πüÂèØ‰ª•ÈÄöËøáÊú¨Âú∞ÁöÑdockerfileÂàõÂª∫ÁöÑimageÊù•ÂàõÂª∫„ÄÇserviceÁ±ª‰ºº‰∫édocker runÔºådocker runÊîØÊåÅÁöÑÈÄâÈ°π service‰πüÂèØ‰ª•Áî®„ÄÇ‰∏æ‰∏§‰∏™‰æãÂ≠ê:Âü∫‰∫éÈïúÂÉèÔºö1234567services: db: image: mysql:5.7.25 volumes: - mysql-data:/var/lib/mysql networks: - my-bridgeÁ±ª‰ºº‰∫éÂëΩ‰ª§Ôºö1docker run -d --network my-bridge -v mysql-data:/var/lib/mysql mysql:5.7.25Âü∫‰∫édockerfileÔºö12345678services: worker: build: ./worker links: - db - redis networks: - my-bridgeÂü∫‰∫éÂΩìÂâçÁõÆÂΩï‰∏ãworker/Êñá‰ª∂Â§πÈáåÁöÑdockerfileÊûÑÂª∫container„ÄÇnetworks‰∏Ä‰∏™networksÁöÑ‰æãÂ≠êÔºö123networks: my-bridge: driver: bridgeÁ≠â‰ª∑‰∫éÔºö1docker network create -d bridge my-bridgevolumes‰∏Ä‰∏™volumesÁöÑ‰æãÂ≠êÔºö12volumes: mysql-data:Á≠â‰ª∑‰∫é1docker volume create mysql-dataÁé∞Âú®ÂõûÂ§¥ÁúãÁúãÂàöÂàöÁöÑymlÊñá‰ª∂:version: 3Ë°®Á§∫Âü∫‰∫éÁ¨¨‰∏âÁâàÊú¨docker-compose.ymlËØ≠Ê≥ïÊûÑÂª∫ÔºåÁÑ∂ÂêéÂàõÂª∫‰∫Ü‰∏§‰∏™ÂÆπÂô®wordpressÂíåmysqlÔºå‰∏Ä‰∏™volume‚Äî‚Äîmysql-dataÔºå‰∏Ä‰∏™networkÔºåÂêçÁß∞‰∏∫my-bridgeÔºåÈááÁî®bridgeÁΩëÁªúÊ®°Âºè„ÄÇÂú®wordpressÁöÑÂÆö‰πâ‰∏≠Ôºå‰ΩøÁî®imageÊåáÂÆö‰∫ÜÂü∫‰∫éwordpressÈïúÂÉèÊûÑÂª∫ÔºåportsËøõË°åÁ´ØÂè£Êò†Â∞ÑÔºåenvironmentÈÖçÁΩÆ‰∫ÜwordpressÈïúÂÉèÊîØÊåÅÁöÑÁéØÂ¢ÉÂèòÈáèÔºåÊåáÂÆöÁΩëÁªú‰∏∫my-bridge„ÄÇmysqlÁöÑÂÆö‰πâÂíåwordpressÁ±ª‰ººÔºå‰∏çÂÜçËµòËø∞„ÄÇÊõ¥Â§ödocker-compose.ymlÊîØÊåÅÁöÑÂëΩ‰ª§ÂèØ‰ª•ÂèÇËÄÉÔºöhttps://www.jianshu.com/p/2217cfed29d7„ÄÇdocker-composeÂëΩ‰ª§ÁúãÁúãdocker-composeÊîØÊåÅÂì™‰∫õÂëΩ‰ª§Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657[root@mrbird vagrant]# docker-composeDefine and run multi-container applications with Docker.Usage: docker-compose [-f &lt;arg&gt;...] [options] [COMMAND] [ARGS...] docker-compose -h|--helpOptions: -f, --file FILE Specify an alternate compose file (default: docker-compose.yml) -p, --project-name NAME Specify an alternate project name (default: directory name) --verbose Show more output --log-level LEVEL Set log level (DEBUG, INFO, WARNING, ERROR, CRITICAL) --no-ansi Do not print ANSI control characters -v, --version Print version and exit -H, --host HOST Daemon socket to connect to --tls Use TLS; implied by --tlsverify --tlscacert CA_PATH Trust certs signed only by this CA --tlscert CLIENT_CERT_PATH Path to TLS certificate file --tlskey TLS_KEY_PATH Path to TLS key file --tlsverify Use TLS and verify the remote --skip-hostname-check Don't check the daemon's hostname against the name specified in the client certificate --project-directory PATH Specify an alternate working directory (default: the path of the Compose file) --compatibility If set, Compose will attempt to convert keys in v3 files to their non-Swarm equivalentCommands: build Build or rebuild services bundle Generate a Docker bundle from the Compose file config Validate and view the Compose file create Create services down Stop and remove containers, networks, images, and volumes events Receive real time events from containers exec Execute a command in a running container help Get help on a command images List images kill Kill containers logs View output from containers pause Pause services port Print the public port for a port binding ps List containers pull Pull service images push Push service images restart Restart services rm Remove stopped containers run Run a one-off command scale Set number of containers for a service start Start services stop Stop services top Display the running processes unpause Unpause services up Create and start containers version Show the Docker-Compose version informationÊü•ÁúãËøêË°å‰∏≠ÁöÑÂÆπÂô®Ôºö1docker-compose psÂÅúÊ≠¢Ôºö1docker-compose stopÂêØÂä®Ôºö1docker-compose startÂÅúÊ≠¢Âπ∂Âà†Èô§ÔºàÂà†Èô§ÂàõÂª∫ÁöÑnetworkÔºåvolumeÔºåcontainerÔºâÔºö1docker-compose downÂèÇËÄÉüîóÔºöhttps://docs.docker.com/compose/compose-file/]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DockerÂ≠òÂÇ®]]></title>
    <url>%2FDocker-Volume.html</url>
    <content type="text"><![CDATA[DockerÂÆπÂô®Âú®ËøêË°åÁöÑÊó∂ÂÄô‰ºö‰∫ßÁîüÊï∞ÊçÆÔºå‰∏∫‰∫Ü‰∏çËÆ©Ëøô‰∫õÊï∞ÊçÆÈöèÁùÄÂÆπÂô®ÁöÑÂà†Èô§ËÄåÂà†Èô§ÔºåDockerÊîØÊåÅÊï∞ÊçÆÊåÅ‰πÖÂåñ„ÄÇDockerÊï∞ÊçÆÊåÅ‰πÖÂåñ‰∏ªË¶ÅÊúâ‰∏§ÁßçÊñπÂºèÔºövolumeÂíåbind mount„ÄÇ‰ΩøÁî®volumeÊï∞ÊçÆÂ∞ÜÊåÅ‰πÖÂåñÂú®DockerÁÆ°ÁêÜÁöÑvolume‰∏≠Ôºà‰øùÂ≠òÂú®/var/lib/docker/volumesÁõÆÂΩï‰∏ãÔºâÔºå‰ΩøÁî®bind mountÔºåÊï∞ÊçÆÂ∞ÜÊåÅ‰πÖÂåñÂú®Êàë‰ª¨ÊåáÂÆöÁöÑÂÆø‰∏ªÊú∫ÁöÑÊüê‰∏™ÁõÆÂΩï‰∏≠„ÄÇÂíåÊï∞ÊçÆÊåÅ‰πÖÂåñÁõ∏ÂÖ≥ÁöÑDockerÂëΩ‰ª§Ôºö1234567891011121314root@mrbird vagrant]# docker volume --helpUsage: docker volume COMMANDManage volumesCommands: create Create a volume inspect Display detailed information on one or more volumes ls List volumes prune Remove all unused local volumes rm Remove one or more volumesRun 'docker volume COMMAND --help' for more information on a command.volume‰ª•MySQL‰∏∫‰æãÂ≠êÔºåÊü•Áúã5.7.25ÁâàÊú¨ÁöÑ MySQL DockerfileÔºå‰ºöÁúãÂà∞Êú´Â∞æÂ§ÑÊúâËøô‰πà‰∏ÄË°åÔºö1VOLUME /var/lib/mysqlÊÑèÊÄùÊòØÂú®DockerÂàõÂª∫MySQLÂÆπÂô®Êó∂ÔºåDocker‰ºöËá™Âä®ÂàõÂª∫‰∏Ä‰∏™volumeÔºåMySQLÂÆπÂô®‰∏≠/var/lib/mysqlÁõÆÂΩï‰∏ãÁöÑÂÜÖÂÆπÂ∞ÜÂêåÊ≠•Âà∞Ëøô‰∏™volume‰∏≠„ÄÇÊàë‰ª¨Êù•ÂàõÂª∫‰∏Ä‰∏™MySQLÂÆπÂô®Ôºö1docker run -d --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql:5.7.25ÁÑ∂ÂêéÊü•ÁúãÊòØÂê¶ÂàõÂª∫‰∫ÜvolumeÔºövolumeÈªòËÆ§ÁöÑÂêçÁß∞Â•ΩÈïøÂì¶ÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÂàõÂª∫ÂÆπÂô®ÁöÑÊó∂ÂÄôÊåáÂÆövolumeÁöÑÂêçÁß∞ÔºåÊàë‰ª¨Âà†ÊéâMySQLËøô‰∏™ÂÆπÂô®ÔºåÈáçÊñ∞ÂàõÂª∫‰∏™ÔºåÂπ∂ÊåáÂÆövolumeÁöÑÂêçÁß∞‰∏∫mysqlÔºö1docker run -d --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -v mysql:/var/lib/mysql mysql:5.7.25-v mysql:/var/lib/mysqlÁöÑÊÑèÊÄùÊòØ‰ΩøÁî®ÂêçÁß∞‰∏∫mysqlÁöÑvolumeÔºàÊ≤°ÊúâÂàôÂàõÂª∫ÔºâÔºåÂ≠òÂÇ®ÂÆπÂô®/var/lib/mysqlÁõÆÂΩï‰∏ãÁöÑÂÜÖÂÆπÔºàÂíåMySQL Dockerfile‰∏≠‰ΩøÁî®VOLUMEÊåáÂÆöÁöÑÁõÆÂΩï‰∏ÄËá¥Ôºâ„ÄÇÊü•ÁúãvolumeÔºöÂèØ‰ª•ÁúãÂà∞Â§ö‰∫Ü‰∏™ÂêçÁß∞‰∏∫mysqlÁöÑvolume„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨ÂÅö‰∏™ÂÆûÈ™åÔºöËøõÂÖ•Âà∞MySQLÂÆπÂô®‰∏≠ÔºåÂàõÂª∫‰∏Ä‰∏™ÂêçÁß∞‰∏∫dockerÁöÑÊï∞ÊçÆÂ∫ìÔºöÈÄÄÂá∫ÂÆπÂô®Âπ∂Âà†Èô§ËØ•ÂÆπÂô®ÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑMySQLÂÆπÂô®ÔºåvolumeÊåáÂÆö‰∏∫mysqlÔºöÂèØ‰ª•ÁúãÂà∞dockerËøô‰∏™Êï∞ÊçÆÂ∫ìËøòÂú®ÔºåËØ¥ÊòéÊï∞ÊçÆÊÅ¢Â§ç‰∫Ü„ÄÇbind mountbind mount‰æãÂ≠êÔºö1docker run -v /home/aaa:/root/aaaÂÆø‰∏ªÊú∫ÁöÑ/home/aaaÂ∞ÜÂíåÂÆπÂô®‰∏≠ÁöÑ/root/aaaÂêåÊ≠•ÔºåÂÆø‰∏ªÊú∫/home/aaaÁõÆÂΩï‰∏ãÊñá‰ª∂ÂÅö‰∫Ü‰øÆÊîπÔºåÂÆπÂô®‰∏≠/root/aaaÁõÆÂΩï‰∏ãÊñá‰ª∂‰πü‰ºöË¢´‰øÆÊîπÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ‰ª•Nginx‰∏∫‰æãÔºåÊãâÂèñNginx stableÈïúÂÉèÔºö1docker pull nginx:1.14.2ÂàõÂª∫NginxÂÆπÂô®:1docker run -d --name nginx -p 80:80 -v $(pwd):/usr/share/nginx/html nginx:1.14.2ÈÄöËøá$(pwd):/usr/share/nginx/htmlÊàë‰ª¨Â∞ÜÂÆø‰∏ªÊú∫ÁöÑÂΩìÂâçÁõÆÂΩïÂíåNginxÂÆπÂô®ÂÜÖÈÉ®ÁöÑ/usr/share/nginx/htmlÁõÆÂΩïËøõË°å‰∫ÜÂêåÊ≠•„ÄÇÊàë‰ª¨Âú®ÂÆø‰∏ªÊú∫ÂΩìÂâçÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏Ä‰∏™hello.htmlÔºöÁÑ∂ÂêéËøõÂÖ•Âà∞NginxÂÆπÂô®ÂÜÖÁöÑ/usr/share/nginx/htmlÁõÆÂΩïÔºöÂêåÊ≠•ÊòØokÁöÑÔºåÂú®ÂÆø‰∏ªÊú∫Â§ñËÆøÈóÆ http://192.168.33.10/hello.html ÁúãÁúãÔºàÊàëÁöÑÂÆø‰∏ªÊú∫IP‰∏∫192.168.33.10ÔºâÔºöÂèÇËÄÉüîóÔºöhttps://docs.docker.com/storage/volumes/]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DockerÁΩëÁªúÈÖçÁΩÆ]]></title>
    <url>%2FDocker-network.html</url>
    <content type="text"><![CDATA[Âú®ÂÆâË£ÖÂ•ΩDockerÂêéÔºåÂÖ∂ÈªòËÆ§Êèê‰æõ‰∫Ü‰∏âÁßçÁΩëÁªúÊ®°ÂºèÔºöbridge„ÄÅhostÂíånone„ÄÇÂÖ∂‰∏≠bridgeÊòØDockerÈªòËÆ§ÁöÑÁΩëÁªúÊ®°ÂºèÔºåÂú®ËØ•Ê®°Âºè‰∏ãÔºåÂÆπÂô®Êã•ÊúâËá™Â∑±ÁöÑIP namespaceÔºåÂÆπÂô®ÂèØ‰ª•ÈÄöËøáÂÆø‰∏ªÊú∫‰∏äÁöÑdocker0ÁΩëÊ°•‰∏éÂà´ÁöÑÂÆπÂô®„ÄÅÂÆø‰∏ªÊú∫ÊàñËÄÖÂ§ñÈÉ®ÁΩëÁªúËøõË°åÈÄö‰ø°„ÄÇÊ≠§Â§ñÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáÁ´ØÂè£Êò†Â∞ÑÁöÑÊñπÂºèËÆ©Â§ñÈÉ®ÁéØÂ¢É‰πüËÉΩËÆøÈóÆÂà∞ÂÆπÂô®ÂÜÖÈÉ®„ÄÇDockerÈªòËÆ§ÁöÑÁΩëÁªúÊ®°ÂºèÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöbridgeÁΩëÁªúÊ®°ÂºèDocker‰∏âÁßçÁΩëÁªúÊ®°ÂºèÔºö‰∏ãÈù¢Êàë‰ª¨ÈÄöËøábusyboxÊù•ËøõË°åÊºîÁ§∫„ÄÇBusyBox ÊòØ‰∏Ä‰∏™ÈõÜÊàê‰∫Ü‰∏ÄÁôæÂ§ö‰∏™ÊúÄÂ∏∏Áî® Linux ÂëΩ‰ª§ÂíåÂ∑•ÂÖ∑ÔºàÂ¶Ç cat„ÄÅecho„ÄÅgrep„ÄÅmount„ÄÅtelnet „ÄÅping„ÄÅifconfig Á≠âÔºâÁöÑÁ≤æÁÆÄÂ∑•ÂÖ∑ÁÆ±ÔºåÂÆÉÂè™ÈúÄË¶ÅÂá† MB ÁöÑÂ§ßÂ∞èÔºåÂæàÊñπ‰æøËøõË°åÂêÑÁßçÂø´ÈÄüÈ™åËØÅÔºåË¢´Ë™â‰∏∫‚ÄúLinux Á≥ªÁªüÁöÑÁëûÂ£´ÂÜõÂàÄ‚Äù„ÄÇ‰∏ãËΩΩbusyboxÈïúÂÉè:ÈÄöËøáËØ•ÈïúÂÉèÂàõÂª∫‰∏§‰∏™ÂÆπÂô®test1Âíåtest2Ôºö‰ΩøÁî®docker network inspect bridgeÂëΩ‰ª§Êü•ÁúãbridgeÁΩëÁªúËØ¶ÊÉÖÔºöÂèØ‰ª•ÁúãÂà∞test1Âíåtest2ÈÉΩËøûÊé•Âà∞‰∫ÜbridgeÔºàÂõ†‰∏∫ÊòØDockerÈªòËÆ§ÁöÑÁΩëÁªúÊ®°ÂºèÔºâÔºåÂπ∂‰∏îtest1ÂÜÖÈÉ®IP‰∏∫172.17.0.2Ôºåtest2ÂÜÖÈÉ®IP‰∏∫172.17.0.3„ÄÇÊàë‰ª¨Áúã‰∏ãÂú®test1ÂÆπÂô®ÂÜÖÈÉ®ÊòØÂê¶ÂèØ‰ª•pingÈÄötest2ÁöÑIPÔºöÂèØ‰ª•ÁúãÂà∞ÊòØÊ≤°ÈóÆÈ¢òÁöÑ„ÄÇÁúã‰∏ãtest1ÂÜÖÈÉ®pingÂÆø‰∏ªÊú∫IPÔºà192.168.33.10ÔºâÂíåÂ§ñÈÉ®ÁΩëÁªúÊòØÂê¶ÂèØË°åÔºölinkÊàë‰ª¨ÂèØ‰ª•Âú®ÂàõÂª∫ÂÆπÂô®ÁöÑ‰ΩøÁî®‰ΩøÁî®--linkÊù•ËÆ©ÂÆπÂô®Èó¥ÁöÑÁΩëÁªúÂª∫Á´ãÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇÊàë‰ª¨Âà†Èô§test2ÂÆπÂô®ÔºåÈáçÊñ∞ÂàõÂª∫test2ÂÆπÂô®ÔºåÂπ∂‰∏îËÆ©ÂÖ∂Âíåtest1Âª∫Á´ãÁΩëÁªúÊò†Â∞ÑÂÖ≥Á≥ªÔºöËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Âú®test2ÂÆπÂô®ÂÜÖÈÉ®‰ΩøÁî®ping test1pingÈÄötest1ÁΩëÁªú‰∫ÜÔºöÂàõÂª∫Ëá™ÂÆö‰πâÁΩëÊ°•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøádocker network createÊù•ÂàõÂª∫Ëá™ÂÆö‰πâÁöÑÁΩëÊ°•ÔºåÊØîÂ¶ÇÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁΩëÊ°•ÔºåÂêçÁß∞‰∏∫my-bridgeÔºöÊ®°ÂºèÈÄâÊã©ÁöÑÊòØbridge„ÄÇÊàë‰ª¨ËÆ©test1Âíåtest2ÂÆπÂô®ÈÉΩËøûÊé•Âà∞Ëøô‰∏™Êñ∞ÁöÑÁΩëÊ°•‰∏äÔºà‰πüÂèØ‰ª•Âú®ÂàõÂª∫ÂÆπÂô®ÁöÑÊó∂ÂÄô‰ΩøÁî®--networkÊù•ÊåáÂÆöÈúÄË¶ÅËøûÊé•ÁöÑÁΩëÊ°•ÔºâÔºöÊü•Áúãmy-bridgeËØ¶ÊÉÖÔºöÂèØ‰ª•ÁúãÂà∞test1Âíåtest2ÈÉΩËøûÊé•‰∏äÊù•‰∫Ü„ÄÇ‰ΩøÁî®Ëá™ÂÆö‰πâÁΩëÊ°•Êúâ‰∏™ÊòéÊòæÁöÑÂ•ΩÂ§ÑÊòØÔºåÂÆπÂô®Èó¥ÂèØ‰ª•ÈÄöËøáÂÆπÂô®ÂêçÁß∞ËøõË°åÁΩëÁªúÈÄö‰ø°ÔºàÊó†ÈúÄÂú®ÂàõÂª∫ÂÆπÂô®ÁöÑÊó∂ÂÄô‰ΩøÁî®--linkÊù•ÊåáÂÆöÔºâ„ÄÇÊàë‰ª¨Âú®ÂàõÂª∫test1ÂÆπÂô®ÁöÑÊó∂ÂÄôÂπ∂Ê≤°Êúâ‰ΩøÁî®--link test2Êù•ËøûÊé•test2ÔºåÊàë‰ª¨ÁúãÁúãÂú®ËøûÊé•Âà∞my-bridgeÂêéÔºåtest1ÂÜÖÈÉ®ÊòØÂê¶ÂèØ‰ª•ÈÄöËøáping test2pingÈÄötest2 IPÔºöÂèØ‰ª•ÁúãÂà∞ÊòØÊ≤°ÈóÆÈ¢òÁöÑ„ÄÇÁ´ØÂè£Êò†Â∞ÑÂú®ÂÆø‰∏ªÊú∫‰∏äÊàë‰ª¨ÊòØÊó†Ê≥ïËÆøÈóÆDockerÂÆπÂô®ÂÜÖÈÉ®ÁΩëÁªúÁöÑÔºå‰∏çËøáÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁ´ØÂè£Êò†Â∞ÑÁöÑÊñπÂºèÊù•ÂÆûÁé∞Ëøô‰∏™ÈúÄÊ±Ç„ÄÇ‰ª•MySQL‰∏∫‰æãÂ≠êÔºåÊàë‰ª¨ÊãâÂèñMySQLÈïúÂÉèÔºö1docker pull mysql:5.7.25Âú®ÂàõÂª∫MySQLÂÆπÂô®ÁöÑÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®-pÊàñ-PËÆ©ÂÆπÂô®Êö¥Èú≤ÁöÑÁ´ØÂè£ÂíåÂÆø‰∏ªÊú∫ÁöÑÁ´ØÂè£ËøõË°åÊò†Â∞ÑÔºö-eÊåáÂÆöÁéØÂ¢ÉÂèòÈáè„ÄÇ-p 3306:3306ÔºàÂÜíÂè∑ÂâçÈù¢ÁöÑÁ´ØÂè£‰∏∫ÂÆø‰∏ªÊú∫Á´ØÂè£ÔºåÂêéÈù¢ÁöÑÁ´ØÂè£‰∏∫ÂÆπÂô®Á´ØÂè£ÔºâÁöÑÊÑèÊÄùÊòØÔºåËÆ©ÂÆπÂô®Êö¥Èú≤ÁöÑ3306Á´ØÂè£Êò†Â∞ÑÂà∞ÂÆø‰∏ªÊú∫ÁöÑ3306Á´ØÂè£ÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Âú®ÂÆø‰∏ªÊú∫Â§ñÈÉ®ÈÄöËøá192.168.33.10:3306Êù•ËøûÊé•MySQLÂÆπÂô®‰∫ÜÔºöDockerÁöÑhostÂíånoneÁΩëÁªúÊ®°Âºè‰ΩøÁî®ËæÉÂ∞ëËøôÈáåÂ∞±‰∏ç‰ªãÁªç‰∫Ü„ÄÇÂèÇËÄÉüîóÔºöhttps://docs.docker.com/v17.09/engine/userguide/networking/#set-the-environment-variables-manually]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â≠¶‰π†Dockerfile]]></title>
    <url>%2FDockerfile.html</url>
    <content type="text"><![CDATA[Âú® Docker ÈïúÂÉè‰∏éÂÆπÂô® ‰∏ÄËäÇ‰∏≠Êàë‰ª¨ÈÄöËøáDockerfileÊûÑÂª∫‰∫ÜÈïúÂÉèÔºåËøôËäÇÊàë‰ª¨Êù•‰∫ÜËß£‰∏ãDockerfileÁöÑËØ≠Ê≥ï„ÄÇDockerfileÂåÖÂê´‰∫ÜËØ∏Â§öÂÖ≥ÈîÆÂ≠óÔºåÊâÄ‰ª•Ë¶ÅÂ≠¶‰π†DockerfileÁöÑÁî®Ê≥ïÔºåÂæóÂÖà‰ªéËøô‰∫õÂÖ≥ÈîÆÂ≠óÂÖ•Êâã„ÄÇFROM‰Ωç‰∫éDockerfileÂºÄÂ§¥ÔºåË°®Á§∫Âü∫‰∫é‰ªÄ‰πàÈïúÂÉèÊûÑÂª∫Ôºö12FROM scratch # Âà∂‰Ωúbase imageFROM ubuntu:16.04 #‰ΩøÁî®ubuntu:16.04Ëøô‰∏™imageÂá∫‰∫éÂÆâÂÖ®ËÄÉËôëÔºåÊúÄÂ•Ω‰ΩøÁî®ÂÆòÊñπÁöÑimage‰Ωú‰∏∫base image„ÄÇLABELDockerfileÁöÑÂÖÉÊï∞ÊçÆÔºåÊèèËø∞‰ΩúÁî®„ÄÇ1LABEL version=&quot;1.0&quot; author=&quot;mrbird&quot; description=&quot;dockerfile demo&quot;DockerfileÊúÄÂ•ΩÈÉΩË¶ÅÊúâÂÖÉÊï∞ÊçÆÔºåËøôÊ†∑Êõ¥Êòì‰∫éÁêÜËß£„ÄÇRUNËøêË°åÂëΩ‰ª§ÔºåÊØèÊ¨°runÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™ÂõæÂ±ÇÔºåÊâÄ‰ª•ÊúÄÂ•ΩÂ∞ÜÂëΩ‰ª§ÂêàÂπ∂:123FROM ubuntuRUN apt-get update \ &amp;&amp; apt-get install -y vim\Êç¢Ë°åWORKDIRÁî®‰∫éÊåáÂÆöÂ∑•‰ΩúÁõÆÂΩïÔºåÂàáÊç¢Ë∑ØÂæÑÔºö1234FROM ubuntuWORKDIR /test # Ê≤°ÊúâÂàôËá™Âä®ÂàõÂª∫testÁõÆÂΩïWORKDIR demoRUN pwdËæìÂá∫ /test/demo„ÄÇÊúÄÂ•Ω‰∏çË¶ÅÁî®RUN cdÊù•ÂàáÊç¢ÁõÆÂΩïÔºåËÄå‰ΩøÁî®WORKDIRÔºåËøôÊ†∑ÂèØ‰ª•ÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑÂõæÂ±ÇÔºåÂ∞ΩÈáè‰ΩøÁî®ÁªùÂØπÁõÆÂΩï„ÄÇADD &amp; COPYADD ÂíåCOPYÈÉΩÂèØ‰ª•Â∞ÜÊûÑÂª∫ÁéØÂ¢É‰∏≠ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÂ§çÂà∂Âà∞ÈïúÂÉè‰∏≠ÔºåÊØîÂ¶Ç12WORKDIR /demoADD test test/12WORKDIR /demoCOPY test test/ÊúÄÁªàÈÉΩ‰ºöÂ∞ÜtestÊñá‰ª∂Ê∑ªÂä†Âà∞/demo/test/ÁõÆÂΩï‰∏ã„ÄÇÂå∫Âà´ÔºöADD Ê∑ªÂä†ÁöÑÊñá‰ª∂ÊòØÂéãÁº©Êñá‰ª∂ÁöÑËØùÔºå‰ºöËá™Âä®Ëß£Âéã„ÄÇCOPY Âè™ËÉΩÂ§çÂà∂ÊûÑÂª∫ÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÔºåADDÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™ÊûÑÂª∫‰∏ä‰∏ãÊñá‰∏≠ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÔºå‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™URLÔºåÂ¶ÇÔºö1ADD http://wordpress.org/latest.zip /ENVËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÂ∏∏Èáè„ÄÇ12ENV MYSQL_VERSION 5.7RUN apt-get install -y mysql-server=&quot;$&#123;MYSQL_VERSION&#125;&quot;ÈÄöËøáËÆæÂÆöÂ∏∏ÈáèÔºåÂèØ‰ª•ÊèêÈ´òÂèØÁª¥Êä§ÊÄß„ÄÇVOLUME &amp; EXPOSEÂ≠òÂÇ®ÂíåÁΩëÁªúÔºåËøôÈáåÂÖàÁï•ÔºåÂêéÈù¢Â≠¶‰π†Âà∞Ëøô‰∏ÄÂùóÂÜçËØ¥„ÄÇCMDËÆæÁΩÆÂÆπÂô®ÂêØÂä®ÂêéÈªòËÆ§ÊâßË°åÁöÑÂëΩ‰ª§ÂíåÂèÇÊï∞„ÄÇdocker runÊåáÂÆö‰∫ÜÂÖ∂‰ªñÂëΩ‰ª§ÔºåCMDÂëΩ‰ª§‰ºöË¢´ÂøΩÁï•„ÄÇÂÆö‰πâ‰∫ÜÂ§ö‰∏™CMDÔºåÂè™ÊúâÊúÄÂêé‰∏Ä‰∏™ÊúâÊïà„ÄÇÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãDockerfileÔºö1234FROM ubuntuENV name mrbirdCMD echo &quot;hello docker&quot;CMD echo &quot;hello $name&quot;ÊûÑÂª∫ÈïúÂÉèÔºåËøêË°åÔºö1docker run [image]ËæìÂá∫ hello mrbird„ÄÇÂ¶ÇÊûúËøêË°åÔºö1docker run -it [image] /bin/bashÂàôÊ≤°ÊúâËæìÂá∫„ÄÇENTRYPOINTËÆæÁΩÆÂÆπÂô®ÂêØÂä®Êó∂ËøêË°åÁöÑÂëΩ‰ª§„ÄÇ‰∏ç‰ºöË¢´ÂøΩÁï•Ôºå‰∏ÄÂÆö‰ºöÊâßË°å„ÄÇ‰∏ÄËà¨ÂÜô‰∏Ä‰∏™shellËÑöÊú¨‰Ωú‰∏∫ENTRYPOINT„ÄÇÊØîÂ¶ÇmongodbÂÆòÊñπDockerfileÊú´Â∞æ‰∏ÄÊÆµÔºö12345COPY docker-entrypoint.sh /usr/local/bin/ENTRYPOINT [&quot;docker-entrypoint.sh&quot;]EXPOSE 27017CMD [&quot;mongod&quot;]ENTRYPOINTÂíåCMDÁªìÂêà‰ΩøÁî®Êúâ‰∏Ä‰∏™ÊäÄÂ∑ßÔºöÊØîÂ¶ÇÊúâÂ¶Ç‰∏ã‰∏Ä‰∏™DockerfileÔºö123FROM ubuntuENTRYPOINT [&quot;/bin/ls&quot;]CMD []ÊÑèÊÄùÊòØÂú®ubuntuËøô‰∏™ÈïúÂÉè‰∏äÊûÑÂª∫ÔºåÈÄöËøáENTRYPOINTËøêË°å/bin/lsÂëΩ‰ª§ÔºåÁÑ∂ÂêéCMD []ËøôË°åÂèØ‰ª•‰ªãÁªçÈ¢ùÂ§ñÁöÑÂèÇÊï∞ÈÄâÈ°π„ÄÇÈÄöËøáËøô‰∏™DockerfileÊûÑÂª∫ÈïúÂÉèÂêé(image id‰∏∫95c35bb00761)ÔºåÂàÜÂà´ËøêË°å‰∏ãÈù¢Ëøô‰∫õÂëΩ‰ª§Êù•ÂàõÂª∫ÂÆπÂô®ÔºöÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÈÄöËøáÁõ∏ÂêåÁöÑÈïúÂÉèÊûÑÂª∫Âá∫‰∫Ü‰∏çÂêåÁöÑÂÆπÂô®„ÄÇShellÂíåExecÊ†ºÂºèÂú®Dockerfile‰∏≠ÔºåÂëΩ‰ª§ÁöÑÂÜôÊ≥ïÊúâShellÊ†ºÂºèÂíåExecÊ†ºÂºèÔºöShellÊ†ºÂºèÁöÑDockerfileÂ¶Ç‰∏ãÔºö123RUN apt-get install -y vimCMD echo &quot;hello world&quot;ENTRYPOINTT echo &quot;hello world&quot;ExecÊ†ºÂºèÂ¶Ç‰∏ãÊâÄÁ§∫:123RUN [&quot;apt-get&quot;,&quot;install&quot;,&quot;-y&quot;,&quot;vim&quot;]CMD [&quot;/bin/echo&quot;,&quot;hello world&quot;]ENTRYPOINTT [&quot;/bin/echo&quot;,&quot;hello world&quot;]Âú®‰ΩøÁî®ExecÊ†ºÂºèÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ≥®ÊÑèÂíåÂ∏∏ÈáèÁöÑÊê≠ÈÖç‰ΩøÁî®ÈóÆÈ¢òÔºåÊØîÂ¶ÇÂú®ShellÊ†ºÂºè‰∏ãÔºö123FROM ubuntuENV name mrbirdENTRYPOINTER echo &quot;hello $name&quot;ÂàõÂª∫ÈïúÂÉèÔºåËøêË°åÂÆπÂô®ÂêéËæìÂá∫Ôºöhello mrbird„ÄÇ‰ΩÜÊòØÂú®ExecÊ†ºÂºè‰∏ãÔºö123FROM ubuntuENV name mrbirdENTRYPOINTER [&quot;/bin/echo&quot;,&quot;hello $name&quot;]ÂàõÂª∫ÈïúÂÉèÔºåËøêË°åÂÆπÂô®ÂêéËæìÂá∫Ôºöhello $name„ÄÇÊ≠£Á°ÆÁöÑÂÜôÊ≥ïÊòØ:123FROM ubuntuENV name mrbirdENTRYPOINTER [&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;echo hello $name&quot;]ÂèÇËÄÉÊñáÊ°£Ôºöhttps://docs.docker.com/engine/reference/builder/]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker ÈïúÂÉè‰∏éÂÆπÂô®]]></title>
    <url>%2FDocker-Image-Container.html</url>
    <content type="text"><![CDATA[ÂºÄÂßã‰πãÂâçÔºåÂèØ‰ª•ÈÄöËøá VagrantÊûÑÂª∫‰∏Ä‰∏™CentOSÁéØÂ¢É ÔºåÁÑ∂ÂêéÊ†πÊçÆ ÂÆòÊñπÊñáÊ°£ Êù•ÂÆâË£ÖDokcerÔºå‰∏ãÈù¢ÁöÑ‰æãÂ≠êËøêË°åÂú®CentOS7ÁéØÂ¢É‰∏ã„ÄÇDocker Image‰øóÁß∞DockerÈïúÂÉèÔºåÂÆÉÊòØÁî±‰∏ÄÁ≥ªÂàóÂõæÂ±ÇÔºàLayerÔºâÊûÑÊàêÁöÑÔºåÊØè‰∏™ÂõæÂ±Ç‰ª£Ë°®DockerfileÔºàÈÄöËøáDockerfileÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫ÈïúÂÉèÔºâ‰∏≠ÁöÑ‰∏ÄË°åÊåá‰ª§ÔºåÈïúÂÉèÊòØÂè™ËØªÁöÑ„ÄÇÈÇ£‰ªÄ‰πàÊòØDockerfileÂë¢Ôºå‰∏æ‰∏™ÁÆÄÂçïÁöÑDockerfileÁ§∫‰æãÔºö12FROM centosRUN yum install -y vim‰∏äÈù¢ÁöÑDockerfileÂåÖÂê´‰∏§Ë°åÂëΩ‰ª§ÔºàÊâÄ‰ª•ÂÆÉÂØπÂ∫î‰∏§‰∏™ÂõæÂ±ÇÔºâÔºåÁ¨¨‰∏ÄË°åË°®Á§∫‰ªécentosËøô‰∏™ÈïúÂÉè‰∏≠ÂàõÂª∫‰∏Ä‰∏™ÂõæÂ±ÇÔºåÁÑ∂ÂêéÁ¨¨‰∫åË°åË°®Á§∫Êé•ÁùÄËøêË°åyum install -y vimÊù•ÂÆâË£Övim„ÄÇÈÄöËøáËøô‰∏™DockerfileÊàë‰ª¨ÂèØ‰ª•ÊûÑÂª∫‰∏Ä‰∏™ÈïúÂÉèÔºåÈÄöËøáÈïúÂÉèÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÂÆπÂô®ÔºàContainerÔºâ„ÄÇ‰ªÄ‰πàÊòØDockerÂÆπÂô®ÔºüÂÆπÂô®ÊòØÈÄöËøáÈïúÂÉèÊûÑÂª∫ÁöÑ‰∏Ä‰∏™ÈöîÁ¶ªÁöÑÂ∫îÁî®Âπ≥Âè∞ÔºåÂÆÉÂåÖÂê´‰∫ÜËøêË°åÂ∫îÁî®Á®ãÂ∫èÊâÄÈúÄË¶ÅÁöÑ‰∏ÄÂàá„ÄÇÂíåÈïúÂÉèÁõ∏ÊØîÔºåÂÆÉÂú®È°∂ÈÉ®Â§ö‰∫Ü‰∏ÄÂ±ÇÂèØËØªÂÜôÂõæÂ±ÇÔºåÂ∞±Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÈïúÂÉèÂíåÂÆπÂô®ÁöÑÂÖ≥Á≥ªÂ∞±ÂÉèÊòØJavaÈáåÁ±ª‰∏éÂØπË±°ÁöÑÂÖ≥Á≥ªÈÇ£Ê†∑ÔºåÈïúÂÉèÊòØÊûÑÂª∫ÂÆπÂô®ÁöÑÊ®°ÊùøÔºåÂÆπÂô®ÊòØÈïúÂÉèÊûÑÂª∫Âá∫Êù•ÁöÑÂÆû‰æã„ÄÇDockerÈïúÂÉèÈÄöËøádocker image lsÊü•ÁúãÂΩìÂâçÊúâÂì™‰∫õÈïúÂÉèÔºàÁ≠â‰ª∑‰∫édocker imagesÔºâÔºöÂΩìÂâçÊöÇÊó†ÈïúÂÉèÔºåÂèØ‰ª•ÈÄöËøádocker pull [OPTIONS] NAME[:TAG|@DIGEST]Êù•‰ªé DockerHub ÊãâÂèñÈïúÂÉèÔºåÊØîÂ¶ÇÊãâÂèñ‰∏Ä‰∏™UbuntuÈïúÂÉèÔºö‰∏çÂ∏¶tagÂàôÊòØÊãâÂèñÊúÄÊñ∞ÁöÑÈïúÂÉèÔºåÂèØ‰ª•ÈÄöËøátagÊù•ÊåáÂÆöÊãâÂèñÁöÑÁâàÊú¨ÔºåÊØîÂ¶ÇÊãâÂèñUbuntu16.04Ôºö1docker pull ubuntu:16.04ÂèØ‰ª•ÈÄöËøádocker history [OPTIONS] IMAGEÊù•Êü•ÁúãimageÁöÑÊûÑÂª∫ÂéÜÂè≤ÔºàÂõæÂ±ÇÔºâÔºöÂèØ‰ª•ÈÄöËøáÈïúÂÉèÁöÑÂêçÁß∞ÊàñËÄÖÈïúÂÉèIDÊù•ÊåáÂÆö„ÄÇ‰ΩøÁî®ÈïúÂÉèIDÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•Âè™ÊåáÂÆöÂâçÂá†‰ΩçÔºåÂè™Ë¶ÅËÉΩÂîØ‰∏ÄÊ†áËØÜ‰∏Ä‰∏™ÈïúÂÉèÂç≥ÂèØÔºåÊâÄ‰ª•‰∏äÈù¢ÁöÑ94e814e2efa8ÂèØ‰ª•ÁÆÄÂÜô‰∏∫94e„ÄÇÂà†Èô§ÈïúÂÉè‰ΩøÁî®ÁöÑÂëΩ‰ª§‰∏∫docker image rm [OPTIONS] IMAGE [IMAGE...]ÔºåÁ≠â‰ª∑‰∫édocker rmi [OPTIONS] IMAGE [IMAGE...]„ÄÇÊõ¥Â§öÂÖ≥‰∫éÈïúÂÉèÁöÑÂëΩ‰ª§ÂèØ‰ª•‰ΩøÁî®docker image --helpÊù•Êü•ÁúãÔºöDockerÂÆπÂô®ÂèØ‰ª•ÈÄöËøádocker run [OPTIONS] IMAGE [COMMAND] [ARG...]ÂëΩ‰ª§Êù•ËøêË°åÈïúÂÉèÔºåÁîüÊàêÂÆπÂô®ÔºåÊØîÂ¶ÇËøêË°åÂàöÂàöÊãâÂéª‰∏ãÊù•ÁöÑubuntuÈïúÂÉèÔºåÁÑ∂ÂêéÈÄöËøádocker container lsÂëΩ‰ª§Êü•ÁúãÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑÂÆπÂô®ÔºöÊ≤°ÊúâÊ≠£Âú®ËøêË°åÁöÑÂÆπÂô®ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøádocker container ls -aÂëΩ‰ª§Êù•Êü•ÁúãÊâÄÊúâÁä∂ÊÄÅ‰∏ãÁöÑÂÆπÂô®ÔºàÂèØÁÆÄÂÜô‰∏∫docker ps -aÔºâÔºöÂèØÁúãÂà∞ÔºåubuntuËøô‰∏™ÂÆπÂô®Áä∂ÊÄÅ‰∏∫ExitedÈÄÄÂá∫Áä∂ÊÄÅÔºåË¶ÅËÆ©ËøêË°åÂÆπÂô®Â∏∏È©ªÔºåÂèØ‰ª•‰ΩøÁî®docker run -itÂëΩ‰ª§ÔºöÊàë‰ª¨Â∑≤ÁªèËøõÂÖ•Âà∞ubuntuÂÆπÂô®ÁéØÂ¢ÉÈáå‰∫ÜÔºåÂèØ‰ª•Âú®‰∏äÈù¢ÊâßË°å‰ªª‰ΩïubuntuÊîØÊåÅÁöÑÊìç‰Ωú„ÄÇËøôÊó∂ÂÄôÊñ∞ÂºÄ‰∏Ä‰∏™cmdÁ™óÂè£ÔºåÊü•ÁúãÁõÆÂâçÂÆπÂô®ÁöÑÁä∂ÊÄÅÔºö‰∏äÈù¢ÂåÖÂê´‰∫Ü‰∏ÄÂºÄÂßãÂàõÂª∫ÁöÑexitedÁä∂ÊÄÅÁöÑÂÆπÂô®‰ª•ÂèäÂ∏∏È©ªÂÜÖÂ≠òÁöÑÁä∂ÊÄÅ‰∏∫upÁöÑÂÆπÂô®„ÄÇÈÄÄÂá∫ÂÆπÂô®ÁéØÂ¢É‰ΩøÁî®exitÂëΩ‰ª§Âç≥ÂèØ„ÄÇÂèØ‰ª•‰ΩøÁî®docker container rm [OPTIONS] CONTAINER [CONTAINER...]ÂëΩ‰ª§Êù•Âà†Èô§ÂÆπÂô®Ôºö‰∏äÈù¢ÁöÑÂëΩ‰ª§‰πüÂèØ‰ª•ÁÆÄÂåñ‰∏∫docker rm dd1„ÄÇÂèØ‰ª•ÈÄöËøádocker rm $(docker container ls -aq)ÂëΩ‰ª§Êù•‰∏ÄÊ¨°ÊÄßÂà†Èô§ÂÖ®ÈÉ®ÁöÑcontainerÔºådocker container ls -aq‰ΩúÁî®‰∏∫ÂàóÂá∫ÊâÄÊúâcontainer id„ÄÇÂèØ‰ª•‰ΩøÁî®docker rm $(docker container ls -f &quot;status=xxx&quot; -q)Êù•Âà†Èô§ÊåáÂÆöÁä∂ÊÄÅÁöÑÂÆπÂô®ÔºåÊØîÂ¶Ç‰ªÖÂà†Èô§Áä∂ÊÄÅ‰∏∫ExitedÁöÑÂÆπÂô®Ôºö1docker rm $(docker container ls -f "status=exited" -q)ÂÆπÂô®Áä∂ÊÄÅÊîπÂèòÂØπ‰∫éExitedÁä∂ÊÄÅÁöÑÂÆπÂô®ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®docker container startÊù•ÂêØÂä®ÂÆπÂô®ÔºöËøõÂÖ•ËøêË°å‰∏≠ÁöÑÂÆπÂô®ÁöÑÂëΩ‰ª§‰∏∫ÔºöÊöÇÂÅúÂÆπÂô®ÔºöÊÅ¢Â§çÂÆπÂô®ÔºöÂÅúÊ≠¢ÂÆπÂô®:‰∏ãÂõæÂ±ïÁ§∫‰∫ÜDockerÂÆπÂô®ÁöÑÂÆåÊï¥ÁîüÂëΩÂë®ÊúüÔºöÊõ¥Â§öÂÖ≥‰∫écontainerÁöÑÂëΩ‰ª§ÂèØ‰ª•‰ΩøÁî®docker container --helpÊù•Êü•ÁúãÔºöDockerÈïúÂÉèÁöÑÊûÑÂª∫DockerÈïúÂÉèÁöÑÊûÑÂª∫Êúâ‰∏§ÁßçÊñπÂºèÔºöÂü∫‰∫éÂÆπÂô®commitÂíåÈÄöËøáDockerfileÊûÑÂª∫„ÄÇÂü∫‰∫éÂÆπÂô®ÊØîÂ¶ÇÊàë‰ª¨Âú®ÂàöÂàöËøêË°å‰∏≠ÁöÑunubtuÂÆπÂô®‰∏≠ÂÆâË£ÖvimÊèí‰ª∂ÔºöÁÑ∂ÂêéexitÈÄÄÂá∫Ôºå‰ΩøÁî®docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]ÂëΩ‰ª§Êù•ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈïúÂÉèÔºöÊü•ÁúãËØ•ÈïúÂÉèÁöÑhistoryÔºöÂÅúÊ≠¢ÂÆπÂô®ÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂÆÉÊòØÂú®id‰∏∫94e814e2efa8ÈïúÂÉè‰∏äÂä†‰∫Ü‰∏ÄÂ±ÇÂõæÂ±ÇÔºåid‰∏∫cc7609287eaaÔºå‰πüÂ∞±ÊòØÊñ∞ÁöÑÈïúÂÉèÁöÑid„ÄÇ‰∏ÄËà¨‰∏çÊé®ËçêËøôÁßçÊñπÂºèÊù•ÊûÑÂª∫ÈïúÂÉèÔºåÂõ†‰∏∫ÈÄöËøá‰øÆÊîπÂÆπÂô®commitÊù•ÊûÑÂª∫Êñ∞ÁöÑÈïúÂÉèÔºåÊàë‰ª¨‰∏çÊ∏ÖÊ•öÂéüÊù•ÁöÑÂÆπÂô®Ë¢´‰øÆÊîπ‰∫Ü‰ªÄ‰πàÔºàÊØîÂ¶ÇÂÆâË£ÖÊÅ∂ÊÑèËΩØ‰ª∂Ôºâ„ÄÇÊé®ËçêÁöÑÂÅöÊ≥ïÊòØÈÄöËøáDockerfileÊù•ÊûÑÂª∫ÈïúÂÉè„ÄÇÂü∫‰∫éDockerfileÊñ∞Âª∫‰∏Ä‰∏™ÁõÆÂΩïÔºö1mkdir ubuntu-vimÁÑ∂ÂêéÂú®ËØ•ÁõÆÂΩï‰∏ãÁºñËæëDockerfile12cd ubuntu-vimvim DockerfileDockerfileÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234FROM ubuntuRUN apt-get updateRUN apt-get installRUN apt-get install -y vimÊÑèÊÄùÊòØÂú®ubuntuËøô‰∏™ÈïúÂÉèÂü∫Á°Ä‰∏äÔºåÂàÜÂà´ËøêË°åapt-get updateÔºåapt-get installÂíåapt-get install -y vimÔºà-yÊåáÁöÑÊòØÂú®ÂëΩ‰ª§Ë°å‰∫§‰∫íÊèêÁ§∫‰∏≠ÔºåÁõ¥Êé•ËæìÂÖ• yesÔºâ„ÄÇÂàõÂª∫Â•ΩËøô‰∏™DockerfileÂêéÔºåËøêË°å‰∏ãÈù¢ËøôÊù°ÂëΩ‰ª§Êù•ÊûÑÂª∫ÈïúÂÉèÔºöÊÑèÊÄùÊòØÈÄöËøáÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑDockerfileÊûÑÂª∫ËøõË°åÔºåÈïúÂÉèÂêçÁß∞‰∏∫mrbird/ubuntu-vim-dk„ÄÇÊûÑÂª∫Â•ΩÂêéÔºåÊü•ÁúãÂΩìÂâçÈïúÂÉèÂàóË°®ÔºöÂÖ∂Â§ßÂ∞èÂíåÊàë‰πãÂâçÈÄöËøá‰øÆÊîπÂÆπÂô®ÁöÑÊñπÂºèÊûÑÂª∫ÁöÑÈïúÂÉè‰∏ÄÊ†∑„ÄÇÊü•ÁúãÂÖ∂historyÔºöÂèØ‰ª•ÁúãÂà∞DockerfileÁöÑÊØè‰∏ÄË°åRUNÊåá‰ª§ÈÉΩÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂõæÂ±ÇÔºåÈÄöËøáËøôÁßçÊñπÂºèÊù•ÊûÑÂª∫ÈïúÂÉèÁöÑÂ•ΩÂ§ÑÊòØÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂàÜ‰∫´DockerfileÁöÑÊñπÂºèÊù•ÂàÜ‰∫´ÂÆπÂô®ÔºåÂπ∂‰∏îÂØπÂéüÈïúÂÉèÁöÑ‰øÆÊîπËøáÁ®ã‰∏ÄÁõÆ‰∫ÜÁÑ∂„ÄÇÂèëÂ∏ÉÈïúÂÉèÊàë‰ª¨ÂèØ‰ª•Â∞ÜÊú¨Âú∞ÊûÑÂª∫ÁöÑÈïúÂÉèÂèëÂ∏ÉÂà∞ Docker Hub ‰∏ä„ÄÇÈ¶ñÂÖàÂæóÂú® Docker Hub ‰∏äÊ≥®ÂÜå‰∏™Ë¥¶Âè∑ÔºöÊàëÁöÑid‰∏∫wuyouzhuguli„ÄÇÁÑ∂ÂêéÊñ∞Âª∫‰∏Ä‰∏™ÁõÆÂΩïÔºåÂπ∂ÂàõÂª∫‰∏Ä‰∏™DockerfileÔºö123mkdir hellocd hellovim Dockerfile123FROM centosLABEL user=&quot;mrbird&quot; email=&quot;852252810@qq.com&quot; description=&quot;hello demo&quot;CMD echo &quot;hello docker by mrbird&quot;Êé•ÁùÄÈÄöËøáËøô‰∏™DockerfileÊûÑÂª∫ÈïúÂÉè:tagÈÉ®ÂàÜÂøÖÈ°ªÂíå‰∏äÈù¢Ê≥®ÂÜåË¥¶Âè∑‰∏ÄËá¥„ÄÇÁÑ∂Âêé‰ΩøÁî®ÂëΩ‰ª§docker loginÁôªÂΩï DockerÔºöÁôªÂΩïÊàêÂäüÔºåÂºÄÂßãpushÊìç‰ΩúÔºöpushÊàêÂäüÔºåÊü•Áúã Docker HubÔºöÂÖ≥ËÅîGithubÂàõÂª∫Èô§‰∫ÜÈÄöËøádocker pushÂæÄDocker Hub‰∏ä‰º†ÈïúÂÉèÂ§ñÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÖ≥ËÅîGithub‰ªìÂ∫ìÁöÑÊñπÂºèÊù•ÂàõÂª∫ÈïúÂÉè„ÄÇÈ¶ñÂÖàÂú®Github‰∏ãÊñ∞Âª∫‰∏Ä‰∏™‰ªìÂ∫ìÔºåÁÑ∂Âêé‰∏ä‰º†DockerfileÔºöÁÑ∂ÂêéÂõûÂà∞Docker HubÔºåÊñ∞Âª∫‰∏Ä‰∏™‰ªìÂ∫ìÔºöÂÖ≥ËÅîGithubË¥¶Âè∑ÔºåÁÑ∂ÂêéÁÇπÂáªCreateÔºåÁÑ∂ÂêéÂú®BuildsÈÄâÈ°πÂç°ÈáåÈÄâÊã©GithubÔºöÁÑ∂ÂêéÈÄâÊã©GithubÁöÑDockerfiles‰ªìÂ∫ìÔºåË∑ØÂæÑÈÄâÊã©helloÔºöÁÇπÂáªsave and buildÊåâÈíÆÂêéÔºåDocker Hub‰ºöÊ†πÊçÆÂÖ≥ËÅîÁöÑGithub‰ªìÂ∫ì‰∏ãÁöÑDockerfileÊù•ÊûÑÂª∫‰∏Ä‰∏™ÈïúÂÉèÔºö‰∏ÄËà¨Êé®ËçêËøôÁßçÊñπÂºè„ÄÇÂèÇËÄÉÈìæÊé•Ôºöhttps://docs.docker.com/v17.09/engine/userguide/storagedriver/imagesandcontainers/#images-and-layershttps://stackoverflow.com/questions/21498832/in-docker-whats-the-difference-between-a-container-and-an-image]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®VagrantÂàõÂª∫CentOSËôöÊãüÊú∫]]></title>
    <url>%2FCreate-Virtual-Machine-By-Vagrant.html</url>
    <content type="text"><![CDATA[VagrantÊòØ‰∏ÄÊ¨æÁî±HashiCorpÂÖ¨Âè∏Êèê‰æõÁöÑÔºåÁî®‰∫éÂø´ÈÄüÊûÑÂª∫ËôöÊãüÊú∫ÁéØÂ¢ÉÁöÑËΩØ‰ª∂„ÄÇÊú¨ËäÇÊàë‰ª¨Â∞Ü‰ΩøÁî®VagrantÁªìÂêàOracle VM VirtualBoxÂø´ÈÄüÂú∞Âú®win10ÁéØÂ¢É‰∏ãÊûÑÂª∫CentOS7ËôöÊãüÊú∫„ÄÇÂú®Ê≠§‰πãÂâçÈúÄË¶ÅÂÖàÂÆâË£ÖÂ•Ω Vagrant Âíå VirtualBox„ÄÇÊûÑÂª∫CentOS7ËôöÊãüÊú∫Âú®https://app.vagrantup.com/boxes/search‰∏ãÊêúÁ¥¢centosÔºöÁÑ∂ÂêéÂú®win10‰ªªÊÑèÁõòÁ¨¶‰∏ãÂàõÂª∫vagrant_vmÁõÆÂΩïÔºàÊ≥®ÊÑèÁõÆÂΩïÊúÄÂ•Ω‰∏çË¶ÅÊúâ‰∏≠ÊñáÂíåÁ©∫Ê†ºÔºâÔºåÁÑ∂ÂêéÂú®ËØ•ÁõÆÂΩï‰∏ã‰ΩøÁî®cmdÊâßË°åvagrant init centos/7ÂëΩ‰ª§ÔºöÁÑ∂ÂêéÊâßË°åvagrant upÂêØÂä®ÔºàËøôÊó∂ÂÄôÊúÄÂ•Ω‰πüÊâìÂºÄVirtualBoxÔºâÔºöÊûÑÂª∫ÂÆåÊØïÔºåËøôÊó∂ÂÄôVirtualBoxÁöÑÂàóË°®Èáå‰ºöÂá∫Áé∞‰∏ÄÂè∞Ê≠£Âú®ËøêË°åÁöÑËôöÊãüÊú∫ÔºöËøôÂ∞±ÊòØÊàë‰ª¨ÂàöÂàöÈÄöËøáVagrantÊûÑÂª∫ÁöÑCentOS7ËôöÊãüÊú∫‰∫Ü„ÄÇÂ¶ÇÊûúÂΩì‰Ω†ÊâßË°åvagrant upÂëΩ‰ª§ÂêéÔºåËôöÊãüÊú∫Êñá‰ª∂‰∏ãËΩΩÈùûÂ∏∏ÁöÑÊÖ¢ÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ËøôÁßçÊñπÂºèÊù•ÊûÑÂª∫ÔºöÂú®‰∏äÈù¢ÁöÑÊó•Âøó‰∏≠ÂèØ‰ª•ÊâæÂà∞Ëøô‰πà‰∏ÄË°åÔºö1Downloading: https://vagrantcloud.com/centos/boxes/7/versions/1902.01/providers/virtualbox.boxÂêéÈù¢Ëøô‰∏™URLÂ∞±ÊòØ‰∏ãËΩΩÂú∞ÂùÄ‰∫ÜÔºåÂ∞ÜÂÆÉÈªèË¥¥Âà∞ËøÖÈõ∑Á≠â‰∏ãËΩΩÂ∑•ÂÖ∑‰∏ãËΩΩÂç≥ÂèØ„ÄÇÁÑ∂ÂêéÂ∞Ü‰∏ãËΩΩÂ•ΩÂêéÁöÑxxx.boxÊñá‰ª∂Â§çÂà∂Âà∞vagrant_vmÁõÆÂΩï‰∏ãÔºåÂπ∂‰∏îÈáçÂëΩÂêç‰∏∫centos7.boxÔºàÂà†Èô§centos7.box‰πãÂ§ñÁöÑÊñá‰ª∂ÂíåÁõÆÂΩïÔºåÂè™‰øùÁïôcentos7.box‰∏Ä‰∏™Êñá‰ª∂Ôºâ„ÄÇÊé•ÁùÄËøêË°åvagrant box add -name &#39;centos/7&#39; centos7.boxÂëΩ‰ª§ÔºöÊ∑ªÂä†ÊàêÂäüÂêéÊâßË°åvagrant init centos/7ÂàùÂßãÂåñÔºöÂàùÂßãÂåñÊàêÂäüÂêéÊâßË°åvagrant upÂêØÂä®ÔºöÊûÑÂª∫ÊàêÂäüÔºåÊïàÊûúÂíå‰∏ÄÂºÄÂßãÂú®Á∫ø‰∏ãËΩΩÊûÑÂª∫ÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇËøûÊé•ËôöÊãüÊú∫Êàë‰ª¨ÂÖàÁî®vagrant statusÂëΩ‰ª§Êü•Áúã‰∏Ä‰∏ãËôöÊãüÊú∫ÁöÑÁä∂ÊÄÅÔºöÂèØ‰ª•ÁúãÂà∞ËôöÊãüÊú∫ÊòØËøêË°å‰∏≠ÁöÑÁä∂ÊÄÅÔºåÊàë‰ª¨ÂèØ‰ª•ÊâßË°åvagrant haltÊù•ÂÖ≥Èó≠ËôöÊãüÊú∫ÔºöÂêØÂä®ËôöÊãüÊú∫ÁöÑÂëΩ‰ª§‰∏∫vagrant upÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®vagrant suspendÂëΩ‰ª§Êù•ÊöÇÂÅúËøêË°å‰∏≠ÁöÑËôöÊãüÊú∫Ôºå‰ª•‰øùÊåÅÂÆÉÁöÑËøêË°åÁä∂ÊÄÅÔºöÊöÇÂÅúÂêéÂèØ‰ª•‰ΩøÁî®vagrant resumeÂëΩ‰ª§Êù•ÊÅ¢Â§çËôöÊãüÊú∫ÔºöËøûÊé•Ê≠£Âú®ËøêË°å‰∏≠ÁöÑËôöÊãüÊú∫ÁöÑÂëΩ‰ª§‰∏∫vagrant sshÔºöÈáçÂêØËôöÊãüÊú∫‰ΩøÁî®ÁöÑÂëΩ‰ª§‰∏∫vagrant reload„ÄÇÂ¶ÇÊûú‰Ω†‰∏çÊÉ≥Ë¶ÅËøô‰∏™ËôöÊãüÊú∫ÁöÑËØùÂèØ‰ª•‰ΩøÁî®vagrant distroyÂëΩ‰ª§ËøõË°åÈîÄÊØÅ„ÄÇÁõÆÂΩïÂÖ±‰∫´VagrantÁöÑÊ†πÁõÆÂΩïÔºàÂ∞±ÊòØÊàë‰ª¨‰∏ÄÂºÄÂßãÂàõÂª∫ÁöÑvagrant_vmÔºâÂíåËôöÊãüÊú∫ÈáåÁöÑ/vagrantÁõÆÂΩïÊòØÂÖ±‰∫´ÁöÑ„ÄÇÊàë‰ª¨Âú®vagrant_vmÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏Ä‰∏™hello.txtÊñá‰ª∂ÔºåÂÜÖÂÆπ‰∏∫helloÔºöÁÑ∂ÂêéËøûÊé•ËôöÊãüÊú∫ÔºåÊü•ÁúãËôöÊãüÊú∫/vagrantÁõÆÂΩï‰∏ãÊúâ‰ªÄ‰πàÂÜÖÂÆπ:ËØ¥ÊòéÂêåÊ≠•ÊàêÂäü„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•Ëá™ÂÆö‰πâÂÖ±‰∫´Ë∑ØÂä≤ÔºåÁºñËæëvagrant_vmÊñá‰ª∂Â§π‰∏ãÁöÑVagrantfileÊñá‰ª∂ÔºöÂú®ËøôË°å‰∏ãÈù¢Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö1config.vm.synced_folder &quot;./data&quot;, &quot;/share&quot;, create:true, owner: &quot;root&quot;, group: &quot;root&quot;Ëøô‰∏™ÈÖçÁΩÆÁöÑÊÑèÊÄùÊòØÂ∞ÜÂΩìÂâçË∑ØÂæÑ‰∏ãÁöÑdataÊñá‰ª∂Â§πÂíåËôöÊãüÊú∫ÁöÑ/shareÁõÆÂΩïÂÖ±‰∫´ÔºåÊã•ÊúâËÄÖ‰∏∫rootÔºåÁæ§ÁªÑ‰∏∫rootÔºåÂ¶ÇÊûúË∑ØÂæÑ‰∏çÂ≠òÂú®ÂàôÂàõÂª∫„ÄÇ‰øÆÊîπ‰∫ÜVagrantfileÊñá‰ª∂ÈúÄË¶ÅÊâßË°å vagrant reloadÈáçÂêØ„ÄÇÈáçÂêØÂêéÊàë‰ª¨Âú®dataÊñá‰ª∂Â§π‰∏ãÊñ∞Âª∫‰∏Ä‰∏™world.txtÊñá‰ª∂ÔºåÁÑ∂ÂêéËøûÊé•ËôöÊãüÊú∫ÁúãÁúãÊòØÂê¶ÂÖ±‰∫´ÊàêÂäüÔºöÂÖ±‰∫´ÊàêÂäüÔºÅÂú®ËøôÈÄî‰∏≠ÔºåÈÅáÂà∞‰∫ÜÂ¶Ç‰∏ãÈóÆÈ¢ò:Vagrant was unable to mount VirtualBox shared folders. This is usually because the filesystem ‚Äúvboxsf‚Äù is not available. This filesystem is made available via the VirtualBox Guest Additions and kernel module. Please verify that these guest additions are properly installed in the guest. This is not a bug in Vagrant and is usually caused by a faulty Vagrant box. For context, the command attempted was‚Ä¶The error output from the command was: mount: unknown filesystem type ‚Äòvboxsf‚ÄôÂÆâË£Ö‰∏ãÈù¢Ëøô‰∏™Êèí‰ª∂ÂèØËß£ÂÜ≥ÈóÆÈ¢òÔºö1vagrant plugin install vagrant-vbguestÁΩëÁªúÈÖçÁΩÆËôöÊãüÊú∫ÁßÅÊúâÁΩëÁªúÂú®VagrantfileÈáåÊâìÂºÄ‰∏ãÈù¢ËøôË°åÈÖçÁΩÆÔºöÁÑ∂Âêé‰ΩøÁî®ÂëΩ‰ª§vagrant reloadÈáçÂêØËôöÊãüÊú∫ÔºåÈáçÂêØÂêéÊàë‰ª¨‰ΩøÁî®pingÂëΩ‰ª§ÁúãÊòØÂê¶ÂèØ‰ª•Âú®windows‰∏äËÆøÈóÆÂà∞Ëøô‰∏™ipÔºöËÆøÈóÆÊàêÂäüÔºåËøûÊé•ËôöÊãüÊú∫Ôºå‰ΩøÁî®ifconfigÊü•ÁúãÂÖ∂IPÔºöÊ≠£ÊòØÊàë‰ª¨ÂàöÂàöÈÖçÁΩÆÁöÑÈÇ£‰∏™IP„ÄÇËôöÊãüÊú∫ÂÖ¨ÊúâÁΩëÁªúÁºñËæëVagrantfileÔºåÂ∞ÜÊàë‰ª¨ÂàöÂàöÂºÄÂêØÁöÑÁßÅÊúâÁΩëÁªúÈÖçÁΩÆÊ≥®ÈáäÔºåÁÑ∂ÂêéÂºÄÂêØ‰∏ãÈù¢ËøôË°åÈÖçÁΩÆÔºöÁÑ∂ÂêéÈáçÂêØËôöÊãüÊú∫ÔºåÈáçÂêØËøáÁ®ã‰∏≠‰ºöÁÑ∂‰Ω†Ê†πÊçÆÂΩìÂâçÁΩëÁªúÁéØÂ¢ÉÈÄâÊã©ÔºöÂõ†‰∏∫ÊàëÁîµËÑëËøûÊé•ÁöÑÊòØÂÆ∂ÈáåwifiÊâÄ‰ª•ÈÄâÊã©Á¨¨Âõõ‰∏™ÈÄâÈ°πÔºåÈáçÂêØÂ•ΩÂêéËøûÊé•ËôöÊãüÊú∫ÔºåÊü•ÁúãÂÖ∂IPÔºöÊñ∞ÂºÄ‰∏Ä‰∏™cmdÁ™óÂè£Ôºåping Ëøô‰∏™Âú∞ÂùÄÁúãÊòØÂê¶ËÉΩÈÄö:ÂÖ¨ÊúâÁΩëÁªúÂíåÁßÅÊúâÁΩëÁªúÁöÑÂå∫Âà´ÊòØÔºåÂÖ¨ÊúâÁΩëÁªúÊòØÊó†Á∫øË∑ØÁî±Âô®Ëá™Âä®ÂàÜÈÖçÁöÑIPÂú∞ÂùÄÔºåÂπ∂‰∏îÂú®Âêå‰∏Ä‰∏™wifiÁΩëÁªú‰∏ãÁöÑÂÖ∂‰ªñËÆæÂ§á‰πüÊòØÂèØ‰ª•ËÆøÈóÆËøô‰∏™IPÂú∞ÂùÄÁöÑ„ÄÇÊØîÂ¶ÇÊàë‰ª¨Âú®windowsÊµèËßàÂô®ÈáåËæìÂÖ•http://192.168.28.83/ÔºöÁÑ∂ÂêéËÆ©ÊâãÊú∫ËøûÊé•ÂíåÁîµËÑëÁõ∏ÂêåÁöÑwifiÁΩëÁªúÔºåÂπ∂‰∏îËÆøÈóÆhttp://192.168.28.83/ÔºöÁªìÊûúËØ¥ÊòéÂÖ¨ÊúâÁΩëÁªúÈÖçÁΩÆÊàêÂäü„ÄÇÂ§ö‰∏ªÊú∫ÈÖçÁΩÆ‰ΩøÁî®VagrantÂèØ‰ª•ËΩªÊùæÂú∞ÂàõÂª∫Â§öÂè∞ËôöÊãü‰∏ªÊú∫„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßãÈÄöËøáVagrantÊù•ÂàõÂª∫‰∏§Âè∞Êñ∞ÁöÑËôöÊãü‰∏ªÊú∫‚Äúprod‚ÄùÂíå‚Äúdev‚Äù„ÄÇÂú®vagrant_vmÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏Ä‰∏™ÁõÆÂΩïÔºåÂêçÁß∞‰∏∫multiÔºåÁÑ∂ÂêéÈÄöËøáÁé∞ÊúâÁöÑboxÊù•ÂàùÂßãÂåñ‰∏Ä‰∏™VagrantfileÈÖçÁΩÆÔºöÊé•ÁùÄÁºñËæëmultiÁõÆÂΩï‰∏ãÁöÑVagrantfileÊñá‰ª∂ÔºåÊñ∞Â¢û‰∏ãÈù¢‰∏§È°πÈÖçÁΩÆÔºöËøêË°åvagrant statusÔºöÂèØ‰ª•ÁúãÂà∞Â§ö‰∫Ü‰∏§Âè∞Áä∂ÊÄÅ‰∏∫not createdÁöÑËôöÊãüÊú∫ÔºåÂêçÁß∞ÂàÜÂà´‰∏∫‚Äúprod‚ÄùÂíå‚Äúdev‚Äù„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®vagrant upÊù•ÂêØÂä®‰∏§Âè∞‰∏ªÊú∫Ôºå‰πüÂèØ‰ª•ÈÄöËøávagrant up prodÊù•ÂçïÁã¨ÂêØÂä®‚Äúprod‚ÄùËøôÂè∞ËôöÊãü‰∏ªÊú∫„ÄÇÂêØÂä®ÂêéÔºàÁ¨¨‰∏ÄÊ¨°ÂêØÂä®ËÄóÊó∂ÂèØËÉΩÊØîËæÉÈïøÔºâÔºå‰ΩøÁî®vagrant statusÊù•Êü•ÁúãÂÆÉ‰ª¨ÁöÑÁä∂ÊÄÅÔºöÈÄöËøávagrant ssh ‰∏ªÊú∫ÂêçÂ∞±ÂèØ‰ª•ËøûÊé•‰∏äÂÆÉ‰ª¨‰∫Ü„ÄÇÁΩëÁªúÈÖçÁΩÆÊé•‰∏ãÊù•ÂºÄÂßãÈÖçÁΩÆÁΩëÁªúÔºåËÆ©ÂÆÉ‰ª¨‰πãÈó¥ÂèØ‰ª•ÈÄöËÆØ„ÄÇÊàë‰ª¨ÊåâÁÖß‰∏äÈù¢‰ªãÁªçÁΩëÁªúÈÖçÁΩÆÁöÑÊñπÂºèÊù•‰∏∫Ëøô‰∏§Âè∞ËôöÊãü‰∏ªÊú∫ÈÖçÁΩÆÁßÅÊúâÁΩëÁªúÔºöÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂú®ÈÖçÁΩÆÁßÅÊúâÁΩëÁªúÁöÑÊó∂ÂÄôÔºåIPÁΩëÊÆµ‰∏çËÉΩÂíåWindows‰∏ªÊú∫Áõ∏Âêå„ÄÇÈÖçÁΩÆÂ•ΩÂêéÈáçÂêØËøô‰∏§Âè∞ËôöÊãüÊú∫ÔºåÁÑ∂ÂêéÂàÜÂà´ËøûÊé•Ëøô‰∏§Âè∞ËôöÊãüÊú∫ÔºåÁúãÊòØÂê¶ËÉΩÂ§üpingÈÄöÔºöÈÖçÁΩÆÊàêÂäü„ÄÇËá™ÂÆö‰πâ‰∏ªÊú∫ÂêçÁºñËæëVagrantfileÔºåÊ∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºöÈáçÂêØÂêéÔºåËøûÊé•ËôöÊãüÊú∫ÔºåÂèØ‰ª•ÁúãÂà∞hostnameÂ∑≤Áªè‰øÆÊîπ‰∏∫Êàë‰ª¨ËÆæÁΩÆÁöÑÂêçÁß∞‰∫ÜÔºöÂ§ö‰∏ªÊú∫ÁöÑÂÖ±‰∫´ÁõÆÂΩïÈªòËÆ§ÁöÑËøô‰∏§Âè∞ËôöÊãü‰∏ªÊú∫ÁöÑ/vagrantÂíåÂΩìÂâçÁõÆÂΩïmulti/ÊòØÂÖ±‰∫´ÁöÑ„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•ÂàÜÂà´‰∏∫ÂÆÉ‰ª¨ËÆæÁΩÆ‰∏çÂêåÁöÑÂÖ±‰∫´ÁõÆÂΩï„ÄÇÁºñËæëVagrantfileÔºåÊ∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºöÁÑ∂ÂêéÈáçÂêØËøô‰∏§Âè∞ËôöÊãü‰∏ªÊú∫Â∞±Â•Ω‰∫Ü„ÄÇÊõ¥Â§öVagrantÁöÑÈÖçÁΩÆÂèØ‰ª•Êü•ÁúãÂÆòÊñπÊñáÊ°£Ôºöhttps://www.vagrantup.com/docs/]]></content>
      <tags>
        <tag>Vagrant</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot ‰∏≠ÁöÑÂºÇÊ≠•Ë∞ÉÁî®]]></title>
    <url>%2FSpring-Boot-Async.html</url>
    <content type="text"><![CDATA[ÈÄöÂ∏∏Êàë‰ª¨ÂºÄÂèëÁöÑÁ®ãÂ∫èÈÉΩÊòØÂêåÊ≠•Ë∞ÉÁî®ÁöÑÔºåÂç≥Á®ãÂ∫èÊåâÁÖß‰ª£Á†ÅÁöÑÈ°∫Â∫è‰∏ÄË°å‰∏ÄË°åÁöÑÈÄêÊ≠•ÂæÄ‰∏ãÊâßË°åÔºåÊØè‰∏ÄË°å‰ª£Á†ÅÈÉΩÂøÖÈ°ªÁ≠âÂæÖ‰∏ä‰∏ÄË°å‰ª£Á†ÅÊâßË°åÂÆåÊØïÊâçËÉΩÂºÄÂßãÊâßË°å„ÄÇËÄåÂºÇÊ≠•ÁºñÁ®ãÂàôÊ≤°ÊúâËøô‰∏™ÈôêÂà∂Ôºå‰ª£Á†ÅÁöÑË∞ÉÁî®‰∏çÂÜçÊòØÈòªÂ°ûÁöÑ„ÄÇÊâÄ‰ª•Âú®‰∏Ä‰∫õÊÉÖÊôØ‰∏ãÔºåÈÄöËøáÂºÇÊ≠•ÁºñÁ®ãÂèØ‰ª•ÊèêÈ´òÊïàÁéáÔºåÊèêÂçáÊé•Âè£ÁöÑÂêûÂêêÈáè„ÄÇËøôËäÇÂ∞Ü‰ªãÁªçÂ¶Ç‰ΩïÂú®Spring Boot‰∏≠ËøõË°åÂºÇÊ≠•ÁºñÁ®ã„ÄÇÂºÄÂêØÂºÇÊ≠•Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.1.0.RELEASEÔºåÂπ∂ÂºïÂÖ•spring-boot-starter-web‰æùËµñÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöË¶ÅÂºÄÂêØÂºÇÊ≠•ÊîØÊåÅÔºåÈ¶ñÂÖàÂæóÂú®Spring BootÂÖ•Âè£Á±ª‰∏äÂä†‰∏ä@EnableAsyncÊ≥®Ëß£Ôºö1234567@SpringBootApplication@EnableAsyncpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;Êé•‰∏ãÊù•ÂºÄÂßãÁºñÂÜôÂºÇÊ≠•ÊñπÊ≥ï„ÄÇÂú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫serviceÂåÖÔºåÂπ∂ÂàõÂª∫TestServiceÔºö1234567891011121314151617181920212223@Servicepublic class TestService &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @Async public void asyncMethod() &#123; sleep(); logger.info("ÂºÇÊ≠•ÊñπÊ≥ïÂÜÖÈÉ®Á∫øÁ®ãÂêçÁß∞Ôºö&#123;&#125;", Thread.currentThread().getName()); &#125; public void syncMethod() &#123; sleep(); &#125; private void sleep() &#123; try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125;‰∏äÈù¢ÁöÑService‰∏≠ÂåÖÂê´‰∏Ä‰∏™ÂºÇÊ≠•ÊñπÊ≥ïasyncMethodÔºàÂºÄÂêØÂºÇÊ≠•ÊîØÊåÅÂêéÔºåÂè™ÈúÄË¶ÅÂú®ÊñπÊ≥ï‰∏äÂä†‰∏ä@AsyncÊ≥®Ëß£‰æøÊòØÂºÇÊ≠•ÊñπÊ≥ï‰∫ÜÔºâÂíåÂêåÊ≠•ÊñπÊ≥ïsyncMethod„ÄÇsleepÊñπÊ≥ïÁî®‰∫éËÆ©ÂΩìÂâçÁ∫øÁ®ãÈòªÂ°û2ÁßíÈíü„ÄÇÊé•ÁùÄÂú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫TestControllerÔºö1234567891011121314151617181920212223242526272829303132@RestControllerpublic class TestController &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @Autowired private TestService testService; @GetMapping("async") public void testAsync() &#123; long start = System.currentTimeMillis(); logger.info("ÂºÇÊ≠•ÊñπÊ≥ïÂºÄÂßã"); testService.asyncMethod(); logger.info("ÂºÇÊ≠•ÊñπÊ≥ïÁªìÊùü"); long end = System.currentTimeMillis(); logger.info("ÊÄªËÄóÊó∂Ôºö&#123;&#125; ms", end - start); &#125; @GetMapping("sync") public void testSync() &#123; long start = System.currentTimeMillis(); logger.info("ÂêåÊ≠•ÊñπÊ≥ïÂºÄÂßã"); testService.syncMethod(); logger.info("ÂêåÊ≠•ÊñπÊ≥ïÁªìÊùü"); long end = System.currentTimeMillis(); logger.info("ÊÄªËÄóÊó∂Ôºö&#123;&#125; ms", end - start); &#125;&#125;ÂêØÂä®È°πÁõÆÔºåËÆøÈóÆ http://localhost:8080/sync ËØ∑Ê±ÇÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÂèØÁúãÂà∞ÈªòËÆ§Á®ãÂ∫èÊòØÂêåÊ≠•ÁöÑÔºåÁî±‰∫ésleepÊñπÊ≥ïÈòªÂ°ûÁöÑÂéüÂõ†ÔºåtestSyncÊñπÊ≥ïÊâßË°å‰∫Ü2ÁßíÈíü‰ª•‰∏ä„ÄÇËÆøÈóÆ http://localhost:8080/async ÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÂèØÁúãÂà∞testAsyncÊñπÊ≥ïËÄóÊó∂ÊûÅÂ∞ëÔºåÂõ†‰∏∫ÂºÇÊ≠•ÁöÑÂéüÂõ†ÔºåÁ®ãÂ∫èÂπ∂Ê≤°ÊúâË¢´sleepÊñπÊ≥ïÈòªÂ°ûÔºåËøôÂ∞±ÊòØÂºÇÊ≠•Ë∞ÉÁî®ÁöÑÂ•ΩÂ§Ñ„ÄÇÂêåÊó∂ÂºÇÊ≠•ÊñπÊ≥ïÂÜÖÈÉ®‰ºöÊñ∞ÂêØ‰∏Ä‰∏™Á∫øÁ®ãÊù•ÊâßË°åÔºåËøôÈáåÁ∫øÁ®ãÂêçÁß∞‰∏∫task - 1„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÁöÑÂºÇÊ≠•Á∫øÁ®ãÊ±†ÈÖçÁΩÆ‰ΩøÂæóÁ∫øÁ®ã‰∏çËÉΩË¢´ÈáçÁî®ÔºåÊØèÊ¨°Ë∞ÉÁî®ÂºÇÊ≠•ÊñπÊ≥ïÈÉΩ‰ºöÊñ∞Âª∫‰∏Ä‰∏™Á∫øÁ®ãÔºåÊàë‰ª¨ÂèØ‰ª•Ëá™Â∑±ÂÆö‰πâÂºÇÊ≠•Á∫øÁ®ãÊ±†Êù•‰ºòÂåñ„ÄÇËá™ÂÆö‰πâÂºÇÊ≠•Á∫øÁ®ãÊ±†Âú®com.example.demo‰∏ãÊñ∞Âª∫configÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫AsyncPoolConfigÈÖçÁΩÆÁ±ªÔºö1234567891011121314151617181920@Configurationpublic class AsyncPoolConfig &#123; @Bean public ThreadPoolTaskExecutor asyncThreadPoolTaskExecutor()&#123; ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor(); executor.setCorePoolSize(20); executor.setMaxPoolSize(200); executor.setQueueCapacity(25); executor.setKeepAliveSeconds(200); executor.setThreadNamePrefix("asyncThread"); executor.setWaitForTasksToCompleteOnShutdown(true); executor.setAwaitTerminationSeconds(60); executor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy()); executor.initialize(); return executor; &#125;&#125;‰∏äÈù¢Êàë‰ª¨ÈÄöËøáThreadPoolTaskExecutorÁöÑ‰∏Ä‰∫õÊñπÊ≥ïËá™ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Á∫øÁ®ãÊ±†ÔºåËøô‰∫õÊñπÊ≥ïÁöÑÂê´‰πâÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöcorePoolSizeÔºöÁ∫øÁ®ãÊ±†Ê†∏ÂøÉÁ∫øÁ®ãÁöÑÊï∞ÈáèÔºåÈªòËÆ§ÂÄº‰∏∫1ÔºàËøôÂ∞±ÊòØÈªòËÆ§ÊÉÖÂÜµ‰∏ãÁöÑÂºÇÊ≠•Á∫øÁ®ãÊ±†ÈÖçÁΩÆ‰ΩøÂæóÁ∫øÁ®ã‰∏çËÉΩË¢´ÈáçÁî®ÁöÑÂéüÂõ†Ôºâ„ÄÇmaxPoolSizeÔºöÁ∫øÁ®ãÊ±†Áª¥Êä§ÁöÑÁ∫øÁ®ãÁöÑÊúÄÂ§ßÊï∞ÈáèÔºåÂè™ÊúâÂΩìÊ†∏ÂøÉÁ∫øÁ®ãÈÉΩË¢´Áî®ÂÆåÂπ∂‰∏îÁºìÂÜ≤ÈòüÂàóÊª°ÂêéÔºåÊâç‰ºöÂºÄÂßãÁî≥Ë∂ÖËøáËØ∑Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ÁöÑÁ∫øÁ®ãÔºåÈªòËÆ§ÂÄº‰∏∫Integer.MAX_VALUE„ÄÇqueueCapacityÔºöÁºìÂÜ≤ÈòüÂàó„ÄÇkeepAliveSecondsÔºöË∂ÖÂá∫Ê†∏ÂøÉÁ∫øÁ®ãÊï∞Â§ñÁöÑÁ∫øÁ®ãÂú®Á©∫Èó≤Êó∂ÂÄôÁöÑÊúÄÂ§ßÂ≠òÊ¥ªÊó∂Èó¥ÔºåÈªòËÆ§‰∏∫60Áßí„ÄÇthreadNamePrefixÔºöÁ∫øÁ®ãÂêçÂâçÁºÄ„ÄÇwaitForTasksToCompleteOnShutdownÔºöÊòØÂê¶Á≠âÂæÖÊâÄÊúâÁ∫øÁ®ãÊâßË°åÂÆåÊØïÊâçÂÖ≥Èó≠Á∫øÁ®ãÊ±†ÔºåÈªòËÆ§ÂÄº‰∏∫false„ÄÇawaitTerminationSecondsÔºöwaitForTasksToCompleteOnShutdownÁöÑÁ≠âÂæÖÁöÑÊó∂ÈïøÔºåÈªòËÆ§ÂÄº‰∏∫0ÔºåÂç≥‰∏çÁ≠âÂæÖ„ÄÇrejectedExecutionHandlerÔºöÂΩìÊ≤°ÊúâÁ∫øÁ®ãÂèØ‰ª•Ë¢´‰ΩøÁî®Êó∂ÁöÑÂ§ÑÁêÜÁ≠ñÁï•ÔºàÊãíÁªù‰ªªÂä°ÔºâÔºåÈªòËÆ§Á≠ñÁï•‰∏∫abortPolicyÔºåÂåÖÂê´‰∏ãÈù¢ÂõõÁßçÁ≠ñÁï•ÔºöcallerRunsPolicyÔºöÁî®‰∫éË¢´ÊãíÁªù‰ªªÂä°ÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂÆÉÁõ¥Êé•Âú® execute ÊñπÊ≥ïÁöÑË∞ÉÁî®Á∫øÁ®ã‰∏≠ËøêË°åË¢´ÊãíÁªùÁöÑ‰ªªÂä°ÔºõÂ¶ÇÊûúÊâßË°åÁ®ãÂ∫èÂ∑≤ÂÖ≥Èó≠ÔºåÂàô‰ºö‰∏¢ÂºÉËØ•‰ªªÂä°„ÄÇabortPolicyÔºöÁõ¥Êé•ÊäõÂá∫java.util.concurrent.RejectedExecutionExceptionÂºÇÂ∏∏„ÄÇdiscardOldestPolicyÔºöÂΩìÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÊï∞ÈáèÁ≠â‰∫éÊúÄÂ§ßÁ∫øÁ®ãÊï∞Êó∂„ÄÅÊäõÂºÉÁ∫øÁ®ãÊ±†‰∏≠ÊúÄÂêé‰∏Ä‰∏™Ë¶ÅÊâßË°åÁöÑ‰ªªÂä°ÔºåÂπ∂ÊâßË°åÊñ∞‰º†ÂÖ•ÁöÑ‰ªªÂä°„ÄÇdiscardPolicyÔºöÂΩìÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÊï∞ÈáèÁ≠â‰∫éÊúÄÂ§ßÁ∫øÁ®ãÊï∞Êó∂Ôºå‰∏çÂÅö‰ªª‰ΩïÂä®‰Ωú„ÄÇË¶Å‰ΩøÁî®ËØ•Á∫øÁ®ãÊ±†ÔºåÂè™ÈúÄË¶ÅÂú®@AsyncÊ≥®Ëß£‰∏äÊåáÂÆöÁ∫øÁ®ãÊ±†BeanÂêçÁß∞Âç≥ÂèØÔºö12345678910@Servicepublic class TestService &#123; ...... @Async("asyncThreadPoolTaskExecutor") public void asyncMethod() &#123; ...... &#125; ......&#125;ÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆ http://localhost:8080/async ÔºåÊéßÂà∂Âè∞ËæìÂá∫ÂÖ•‰∏ãÔºöÂ§ÑÁêÜÂºÇÊ≠•ÂõûË∞ÉÂ¶ÇÊûúÂºÇÊ≠•ÊñπÊ≥ïÂÖ∑ÊúâËøîÂõûÂÄºÁöÑËØùÔºåÈúÄË¶Å‰ΩøÁî®FutureÊù•Êé•Êî∂ÂõûË∞ÉÂÄº„ÄÇÊàë‰ª¨‰øÆÊîπTestServiceÁöÑasyncMethodÊñπÊ≥ïÔºåÁªôÂÖ∂Ê∑ªÂä†ËøîÂõûÂÄºÔºö123456@Async("asyncThreadPoolTaskExecutor")public Future&lt;String&gt; asyncMethod() &#123; sleep(); logger.info("ÂºÇÊ≠•ÊñπÊ≥ïÂÜÖÈÉ®Á∫øÁ®ãÂêçÁß∞Ôºö&#123;&#125;", Thread.currentThread().getName()); return new AsyncResult&lt;&gt;("hello async");&#125;Ê≥õÂûãÊåáÂÆöËøîÂõûÂÄºÁöÑÁ±ªÂûãÔºåAsyncResult‰∏∫SpringÂÆûÁé∞ÁöÑFutureÂÆûÁé∞Á±ªÔºöÊé•ÁùÄÊîπÈÄ†TestControllerÁöÑtestAsyncÊñπÊ≥ïÔºö123456789101112131415@GetMapping("async")public String testAsync() throws Exception &#123; long start = System.currentTimeMillis(); logger.info("ÂºÇÊ≠•ÊñπÊ≥ïÂºÄÂßã"); Future&lt;String&gt; stringFuture = testService.asyncMethod(); String result = stringFuture.get(); logger.info("ÂºÇÊ≠•ÊñπÊ≥ïËøîÂõûÂÄºÔºö&#123;&#125;", result); logger.info("ÂºÇÊ≠•ÊñπÊ≥ïÁªìÊùü"); long end = System.currentTimeMillis(); logger.info("ÊÄªËÄóÊó∂Ôºö&#123;&#125; ms", end - start); return stringFuture.get();&#125;FutureÊé•Âè£ÁöÑgetÊñπÊ≥ïÁî®‰∫éËé∑ÂèñÂºÇÊ≠•Ë∞ÉÁî®ÁöÑËøîÂõûÂÄº„ÄÇÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆ http://localhost:8080/async ÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫:ÈÄöËøáËøîÂõûÁªìÊûúÊàë‰ª¨ÂèØ‰ª•ÁúãÂá∫FutureÁöÑgetÊñπÊ≥ï‰∏∫ÈòªÂ°ûÊñπÊ≥ïÔºåÂè™ÊúâÂΩìÂºÇÊ≠•ÊñπÊ≥ïËøîÂõûÂÜÖÂÆπ‰∫ÜÔºåÁ®ãÂ∫èÊâç‰ºöÁªßÁª≠ÂæÄ‰∏ãÊâßË°å„ÄÇgetËøòÊúâ‰∏Ä‰∏™get(long timeout, TimeUnit unit)ÈáçËΩΩÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáËøô‰∏™ÈáçËΩΩÊñπÊ≥ïËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥ÔºåÂç≥ÂºÇÊ≠•ÊñπÊ≥ïÂú®ËÆæÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâËøîÂõûÂÄºÁöÑËØùÔºåÁõ¥Êé•ÊäõÂá∫java.util.concurrent.TimeoutExceptionÂºÇÂ∏∏„ÄÇÊØîÂ¶ÇËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥‰∏∫60ÁßíÔºö1String result = stringFuture.get(60, TimeUnit.SECONDS);Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/49.Spring-Boot-Async]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot ‰∏≠Â§ÑÁêÜË∑®Âüü]]></title>
    <url>%2FSpring-Boot-Deal-CORS.html</url>
    <content type="text"><![CDATA[HTML 5‰∏≠Êñ∞Â¢ûÁöÑË∑®ÂüüËµÑÊ∫êËÆøÈóÆÔºàCross-Origin Resource SharingÔºâÁâπÊÄßÂèØ‰ª•ËÆ©Êàë‰ª¨Âú®ÂºÄÂèëÂêéÁ´ØÁ≥ªÁªüÁöÑÊó∂ÂÄôÂÜ≥ÂÆöËµÑÊ∫êÊòØÂê¶ÂÖÅËÆ∏Ë¢´Ë∑®ÂüüËÆøÈóÆ„ÄÇÊâÄË∞ìË∑®ÂüüÊåáÁöÑÊòØÂüüÂêç‰∏çÂêåÊàñËÄÖÁ´ØÂè£‰∏çÂêåÊàñËÄÖÂçèËÆÆ‰∏çÂêåÔºåÊØîÂ¶ÇÂΩì‰ªémrbrid.ccÁΩëÁ´ôËÆøÈóÆmrbird.cc:8080ÁΩëÁ´ôËµÑÊ∫êÂ∞±‰ºöÂ≠òÂú®Ë∑®ÂüüÈóÆÈ¢ò„ÄÇSpring‰ªé4.2ÁâàÊú¨ÂºÄÂßãÂ∞±Êèê‰æõ‰∫ÜË∑®ÂüüÁöÑÊîØÊåÅÔºåÂºÄÁÆ±Âç≥Áî®„ÄÇËøôÈáå‰ªãÁªçÂ¶Ç‰ΩïÂú®Spring BootÂºÄÂèë‰∏≠Ëß£ÂÜ≥Ë∑®ÂüüÁöÑÈóÆÈ¢òÔºå‰∏ªË¶ÅÂàÜ‰∏∫Ê≥®Ëß£È©±Âä®ÂíåÊé•Âè£ÁºñÁ®ãÁöÑÊñπÂºè„ÄÇÊ®°ÊãüË∑®ÂüüË¶ÅËß£ÂÜ≥Ë∑®ÂüüÈóÆÈ¢òÔºåÊàë‰ª¨Â∞±ÂæóÂÖàÊ®°Êãü‰∏Ä‰∏™Ë∑®ÂüüÊÉÖÊôØ„ÄÇÊñ∞Âª∫Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.1.0.RELEASEÔºåÂπ∂ÂºïÂ¶Ç‰∏ã‰æùËµñÔºö12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt;È°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÂπ∂ÂàõÂª∫TestControllerÔºö1234567891011121314@Controllerpublic class TestController &#123; @RequestMapping("index") public String index () &#123; return "index"; &#125; @RequestMapping("hello") @ResponseBody public String hello()&#123; return "hello"; &#125;&#125;ÁÑ∂ÂêéÂú®resources/templates‰∏ãÊñ∞Âª∫index.htmlÔºö123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Ë∑®ÂüüÊµãËØï&lt;/title&gt; &lt;script src="http://libs.baidu.com/jquery/1.11.3/jquery.min.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id="hello"&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; $(function () &#123; $.get("http://test.mrbird.cc:8080/hello", function (data) &#123; $("#hello").text(data); &#125;) &#125;)&lt;/script&gt;&lt;/html&gt;ÁºñËæëÊú¨Âú∞hostsÊñá‰ª∂ÔºåÂ∞Ühttp://test.mrbird.ccÁΩëÂùÄÊò†Â∞ÑÂà∞127.0.0.1‰∏äÔºöÂêØÂä®È°πÁõÆËÆøÈóÆhttp://localhost:8080/Ôºå‰ºöÂèëÁé∞È°µÈù¢Âπ∂Ê≤°ÊúâÊàêÂäüÊòæÁ§∫helloÔºåÂπ∂‰∏îF12ËßÇÂØüÊµèËßàÂô®ÊéßÂà∂Âè∞‰ºöÂèëÁé∞ÂÖ∂Êä•Èîô‰∫ÜÔºöËøôÊòØÂõ†‰∏∫Êàë‰ª¨Âú®http://localhost:8080/ÂüüÂêç‰∏ãËØïÂõæËÆøÈóÆhttp://test.mrbird.cc:8080‰∏ãÁöÑhelloÊé•Âè£ÔºåËøôÂ∞±Â≠òÂú®Ë∑®ÂüüÈóÆÈ¢òÔºåÊé•‰∏ãÊù•Êàë‰ª¨Êù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇÊ≥®Ëß£È©±Âä®Spring 4.2ÂêéÊèê‰æõ‰∫Ü@CrossOriginÊ≥®Ëß£ÔºåËØ•Ê≥®Ëß£ÂèØ‰ª•Ê†áÊ≥®‰∫éÊñπÊ≥ïÊàñËÄÖÁ±ª‰∏äÔºåÂåÖÂê´‰∫Ü‰ª•‰∏ãÂ±ûÊÄß:Â±ûÊÄßÂê´‰πâvalueÊåáÂÆöÊâÄÊîØÊåÅÂüüÁöÑÈõÜÂêàÔºå*Ë°®Á§∫ÊâÄÊúâÂüüÈÉΩÊîØÊåÅÔºåÈªòËÆ§ÂÄº‰∏∫*„ÄÇËøô‰∫õÂÄºÂØπÂ∫îHTTPËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑAccess-Control-Allow-OriginoriginsÂêåvalueallowedHeadersÂÖÅËÆ∏ËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑheaderÔºåÈªòËÆ§ÈÉΩÊîØÊåÅexposedHeadersÂìçÂ∫îÂ§¥‰∏≠ÂÖÅËÆ∏ËÆøÈóÆÁöÑheaderÔºåÈªòËÆ§‰∏∫Á©∫methodsÊîØÊåÅËØ∑Ê±ÇÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇGETÔºåPOSTÔºåPUTÁ≠âÔºåÈªòËÆ§ÂíåController‰∏≠ÁöÑÊñπÊ≥ï‰∏äÊ†áÊ≥®ÁöÑ‰∏ÄËá¥„ÄÇallowCredentialsÊòØÂê¶ÂÖÅËÆ∏cookieÈöèËØ∑Ê±ÇÂèëÈÄÅÔºå‰ΩøÁî®Êó∂ÂøÖÈ°ªÊåáÂÆöÂÖ∑‰ΩìÁöÑÂüümaxAgeÈ¢ÑËØ∑Ê±ÇÁöÑÁªìÊûúÁöÑÊúâÊïàÊúüÔºåÈªòËÆ§30ÂàÜÈíüÊàë‰ª¨Êù•ÊîπÈÄ†TestController‰∏≠ÁöÑhelloÊñπÊ≥ïÔºö123456@RequestMapping("hello")@ResponseBody@CrossOrigin(value = "*")public String hello() &#123; return "hello";&#125;Ë°®Á§∫ÂÖÅËÆ∏ÊâÄÊúâÂüüÈÉΩÊîØÊåÅÔºåÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8080/ÔºöÊé•Âè£ÁºñÁ®ãÈô§‰∫Ü‰ΩøÁî®@CrossOriginÊ≥®Ëß£Â§ñÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Êé•Âè£ÁºñÁ®ãÁöÑÊñπÂºèËøõË°åÁªü‰∏ÄÈÖçÁΩÆ„ÄÇÂú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫configÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫WebConfigurerÔºåÂÆûÁé∞WebMvcConfigurerÔºåÈáçÂÜôaddCorsMappingsÈªòËÆ§ÂÆûÁé∞Ôºö12345678910@Configurationpublic class WebConfigurer implements WebMvcConfigurer &#123; @Override public void addCorsMappings(CorsRegistry registry) &#123; registry.addMapping("/**") .allowedOrigins("*") .allowedMethods("GET"); &#125;&#125;‰∏äÈù¢ÈÖçÁΩÆË°®Á§∫ÂÖÅËÆ∏ÊâÄÊúâËØ∑Ê±ÇÊîØÊåÅË∑®ÂüüËÆøÈóÆÔºåÂπ∂‰∏î‰∏çÈôêÂÆöÂüüÔºå‰ΩÜÊòØÊîØÊåÅÊåÅGETÊñπÊ≥ï„ÄÇÂ∞ÜhelloÊñπÊ≥ï‰∏äÁöÑ@CrossOriginÊ≥®Ëß£Ê≥®ÈáäÊéâÔºåÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8080/ÔºåÁªìÊûú‰πüÊòØOKÁöÑ„ÄÇËøáÊª§Âô®ÂÆûÁé∞Êü•ÁúãÂÆòÊñπÊñáÊ°£ÔºåÂèëÁé∞ÂÖ∂ËøòÊèê‰æõ‰∫ÜÂü∫‰∫éËøáÊª§Âô®ÁöÑÂÆûÁé∞ÊñπÂºèÔºö1234567891011@Beanpublic FilterRegistrationBean corsFilter() &#123; UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(); CorsConfiguration config = new CorsConfiguration(); config.setAllowCredentials(true); config.addAllowedOrigin("*"); source.registerCorsConfiguration("/**", config); FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source)); bean.setOrder(0); return bean;&#125;ActuatorË∑®ÂüüÂ¶ÇÊûúÈ°πÁõÆÈáåÈõÜÊàê‰∫ÜActuatorÁõ∏ÂÖ≥ÂäüËÉΩÔºåÂÖ∂Êö¥Èú≤ÁöÑÊé•Âè£‰πüÊîØÊåÅË∑®ÂüüÔºåÂè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÂç≥ÂèØÔºöENDPOINTS CORS CONFIGURATION (CorsEndpointProperties)123456management.endpoints.web.cors.allow-credentials= # Whether credentials are supported. When not set, credentials are not supported.management.endpoints.web.cors.allowed-headers= # Comma-separated list of headers to allow in a request. &apos;*&apos; allows all headers.management.endpoints.web.cors.allowed-methods= # Comma-separated list of methods to allow. &apos;*&apos; allows all methods. When not set, defaults to GET.management.endpoints.web.cors.allowed-origins= # Comma-separated list of origins to allow. &apos;*&apos; allows all origins. When not set, CORS support is disabled.management.endpoints.web.cors.exposed-headers= # Comma-separated list of headers to include in a response.management.endpoints.web.cors.max-age=1800s # How long the response from a pre-flight request can be cached by clients. If a duration suffix is not specified, seconds will be used.Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/48.Spring-Boot-CORS-Support]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâSpring Boot ÂÜÖÂÆπÂçèÂïÜ]]></title>
    <url>%2FSpring-Boot-Diy-Resolver.html</url>
    <content type="text"><![CDATA[ÂÜÖÂÆπÂçèÂïÜÊú∫Âà∂ÊòØÊåáÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Á´ØÂ∞±ÂìçÂ∫îÁöÑËµÑÊ∫êÂÜÖÂÆπËøõË°å‰∫§Ê∂âÔºåÁÑ∂ÂêéÊèê‰æõÁªôÂÆ¢Êà∑Á´ØÊúÄ‰∏∫ÈÄÇÂêàÁöÑËµÑÊ∫ê„ÄÇÂÜÖÂÆπÂçèÂïÜ‰ºö‰ª•ÂìçÂ∫îËµÑÊ∫êÁöÑËØ≠Ë®Ä„ÄÅÂ≠óÁ¨¶ÈõÜ„ÄÅÁºñÁ†ÅÊñπÂºèÁ≠â‰Ωú‰∏∫Âà§Êñ≠ÁöÑÂü∫ÂáÜ„ÄÇHTTPËØ∑Ê±ÇÂ§¥‰∏≠Content-TypeÔºåAcceptÁ≠âÂÜÖÂÆπÂ∞±ÊòØÂÜÖÂÆπÂçèÂïÜÂà§Êñ≠ÁöÑÊ†áÂáÜ„ÄÇÂú®Spring Boot‰∏≠Ôºå‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂÜÖÂÆπÂçèÂïÜËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöËøô‰∏™ËøáÁ®ãÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÔºöÁªÑ‰ª∂ÂêçÁß∞ËØ¥ÊòéContentNegotiationManagerÂÜÖÂÆπÂçèÂïÜÁÆ°ÁêÜÂô®ContentNegotiationStrategy ÊéßÂà∂Á≠ñÁï•MediaTypeÂ™í‰ΩìÁ±ªÂûãHTTP Ê∂àÊÅØÂ™í‰ΩìÁ±ªÂûãÔºåÂ¶Ç text/html@RequestMapping#consumesÊ∂àË¥πÂ™í‰ΩìÁ±ªÂûãËØ∑Ê±ÇÂ§¥ Content-Type Â™í‰ΩìÁ±ªÂûãÊò†Â∞Ñ@RequestMapping#producesÁîü‰∫ßÂ™í‰ΩìÁ±ªÂûãÂìçÂ∫îÂ§¥ Content-Type Â™í‰ΩìÁ±ªÂûãÊò†Â∞ÑHttpMessageConverterHTTPÊ∂àÊÅØËΩ¨Êç¢Âô®Êé•Âè£HTTP Ê∂àÊÅØËΩ¨Êç¢Âô®ÔºåÁî®‰∫éÂèçÂ∫èÂàóÂåñ HTTP ËØ∑Ê±ÇÊàñÂ∫èÂàóÂåñÂìçÂ∫îWebMvcConfigurerWeb MVC ÈÖçÁΩÆÂô®ÈÖçÁΩÆ REST Áõ∏ÂÖ≥ÁöÑÁªÑ‰ª∂HandlerMethodÂ§ÑÁêÜÊñπÊ≥ï@RequestMapping Ê†áÊ≥®ÁöÑÊñπÊ≥ïHandlerMethodArgumentResolverÂ§ÑÁêÜÊñπÊ≥ïÂèÇÊï∞Ëß£ÊûêÂô®Áî®‰∫é HTTP ËØ∑Ê±Ç‰∏≠Ëß£Êûê HandlerMethod ÂèÇÊï∞ÂÜÖÂÆπHandlerMethodReturnValueHandlerÂ§ÑÁêÜÊñπÊ≥ïËøîÂõûÂÄºËß£ÊûêÂô®Áî®‰∫é HandlerMethod ËøîÂõûÂÄºËß£Êûê‰∏∫ HTTP ÂìçÂ∫îÂÜÖÂÆπHttpMessageConverter‰∏∫HTTPÊ∂àÊÅØËΩ¨Êç¢Êé•Âè£ÔºåSpringÊ†πÊçÆ‰∏çÂêåÁöÑÂ™í‰ΩìÁ±ªÂûãËøõË°å‰∫ÜÁõ∏Â∫îÁöÑÂÆûÁé∞„ÄÇÊØîÂ¶Ç‰∏äÂõæ‰∏≠Accept‰∏∫application/jsonÔºåÊâÄ‰ª•Âú®Á¨¨7Ê≠•‰∏≠Ôºå‰ºöÈÄâÊã©‰ΩøÁî®HttpMessageConverterÁöÑÂÆûÁé∞Á±ªMappingJackson2HttpMessageConverterÊù•Â§ÑÁêÜËøîÂõûÂÄº„ÄÇËá™ÂÆö‰πâHttpMessageConverterÈô§‰∫ÜSpringÁªôÊàë‰ª¨Êèê‰æõÁöÑHttpMessageConverterÂÆûÁé∞Â§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ëá™ÂÆö‰πâHttpMessageConverterÁöÑÂÆûÁé∞ÔºåÊù•Â§ÑÁêÜ‰∏Ä‰∫õÂÆûÈôÖ‰∏öÂä°ÈúÄÊ±Ç„ÄÇÂÅáÂ¶ÇÁé∞Âú®Ë¶ÅÂÆûÁé∞‰∏Ä‰∏™Áî®‰∫éÂ§ÑÁêÜ Content-Type ‰∏∫ text/properties Â™í‰ΩìÁ±ªÂûãÁöÑ HttpMessageConverter ÂÆûÁé∞Á±ª PropertiesHttpMessageConverterÔºåÂΩìÊàë‰ª¨Âú®ËØ∑Ê±Ç‰Ωì‰∏≠‰º†Ëæì‰∏ãÈù¢ÂÜÖÂÆπÊó∂Ôºö12name:mrbridage:18ËÉΩÂ§üËá™Âä®ËΩ¨Êç¢‰∏∫PropertiesÂØπË±°„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂèÇÁÖßMappingJackson2HttpMessageConverterÁöÑÂÆûÁé∞ÊñπÂºèÊù•ËøõË°åÂÆûÁé∞ÔºåÊü•ÁúãMappingJackson2HttpMessageConverterÁöÑÂéüÂûãÂõæÔºöÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁªßÊâøAbstractGenericHttpMessageConverterÁöÑÊñπÂºèÊù•ÂÆûÁé∞HttpMessageConverterÊé•Âè£„ÄÇÊñ∞Âª∫Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.1.0.RELEASEÔºåÂπ∂ÂºïÂÖ•spring-boot-starter-web‰æùËµñÔºåÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫:Êàë‰ª¨Âú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫converterÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫PropertiesHttpMessageConverterÔºåÁªßÊâøAbstractGenericHttpMessageConverterÔºö1234567891011121314public class PropertiesHttpMessageConverter extends AbstractGenericHttpMessageConverter&lt;Properties&gt; &#123; @Override protected void writeInternal(Properties properties, Type type, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException &#123; &#125; @Override protected Properties readInternal(Class&lt;? extends Properties&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException &#123; return null; &#125; @Override public Properties read(Type type, Class&lt;?&gt; contextClass, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException &#123; return null; &#125;&#125;ÂÖ∂‰∏≠readxxx‰∏∫ÂèçÂ∫èÂàóÂåñËøáÁ®ãÔºåÂç≥Â∞ÜHTTPËØ∑Ê±ÇÂèçÂ∫èÂàóÂåñ‰∏∫ÂèÇÊï∞ÁöÑËøáÁ®ãÔºõwriteInternal‰∏∫Â∫èÂàóÂåñËøáÁ®ãÔºåÂ∞ÜÂìçÂ∫îÂ∫èÂàóÂåñ„ÄÇÂèçÂ∫èÂàóÂåñËøáÁ®ãÊàë‰ª¨ÁªßÁª≠ÁºñÂÜôPropertiesHttpMessageConverterÔºö1234567891011121314151617181920212223242526272829303132333435public class PropertiesHttpMessageConverter extends AbstractGenericHttpMessageConverter&lt;Properties&gt; &#123; @Override protected void writeInternal(Properties properties, Type type, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException &#123; &#125; @Override protected Properties readInternal(Class&lt;? extends Properties&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException &#123; Properties properties = new Properties(); // Ëé∑ÂèñËØ∑Ê±ÇÂ§¥ HttpHeaders headers = inputMessage.getHeaders(); // Ëé∑Âèñ content-type MediaType contentType = headers.getContentType(); // Ëé∑ÂèñÁºñÁ†Å Charset charset = null; if (contentType != null) &#123; charset = contentType.getCharset(); &#125; charset = charset == null ? Charset.forName("UTF-8") : charset; // Ëé∑ÂèñËØ∑Ê±Ç‰Ωì InputStream body = inputMessage.getBody(); InputStreamReader inputStreamReader = new InputStreamReader(body, charset); properties.load(inputStreamReader); return properties; &#125; @Override public Properties read(Type type, Class&lt;?&gt; contextClass, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException &#123; return readInternal(null, inputMessage); &#125;&#125;Âú®readInternalÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨Ëé∑Âèñ‰∫ÜHTTPËØ∑Ê±Ç‰Ωì‰∏≠ÁöÑËæìÂÖ•ÊµÅÂíåÁºñÁ†ÅÔºåÁÑ∂ÂêéË∞ÉÁî®PropertiesÂØπË±°ÁöÑloadÊñπÊ≥ïÊù•Â∞ÜÊµÅËΩ¨Êç¢‰∏∫PropertiesÂØπË±°„ÄÇÂèçÂ∫èÂàóÂåñËøáÁ®ãÂÆåÊàê‰∫ÜÔºåÊàë‰ª¨ËøòÈúÄÂ∞ÜPropertiesHttpMessageConverterÊ∑ªÂä†Âà∞HttpMessageConverterÈõÜÂêà‰∏≠„ÄÇÂú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫configÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫WebConfigurerÈÖçÁΩÆÁ±ªÔºö1234567@Configurationpublic class WebConfigurer implements WebMvcConfigurer &#123; public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) &#123; converters.add(new PropertiesHttpMessageConverter()); &#125;&#125;extendMessageConvertersÊñπÊ≥ï‰∏∫WebMvcConfigurerÁöÑÈªòËÆ§ÊñπÊ≥ïÔºåËøôÈáåÊàë‰ª¨ÈáçÂÜôËøô‰∏™ÊñπÊ≥ïÔºåÁî®‰∫éÂ∞ÜPropertiesHttpMessageConverterÊ∑ªÂä†Âà∞Ê∂àÊÅØËΩ¨Êç¢Âô®ÈõÜÂêà‰∏≠„ÄÇÊé•ÁùÄÂàõÂª∫‰∏Ä‰∏™ControllerÊù•ÊµãËØï‰∏ÄÊ≥¢ÔºåÂú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫TestControllerÔºö12345678@RestControllerpublic class TestController &#123; @GetMapping(value = "test", consumes = "text/properties") public Properties test(@RequestBody Properties properties) &#123; return properties; &#125;&#125;Êàë‰ª¨ÈÄöËøá@GetMappingÊ≥®Ëß£ÁöÑconsumesÂ±ûÊÄßÊåáÂÆö‰∫ÜÊñπÊ≥ïÊé•Êî∂ÁöÑÂ™í‰ΩìÁ±ªÂûã‰∏∫text/propertiesÔºåÂ¶ÇÊûúÊñπÊ≥ïËÉΩÂ§üÊàêÂäüË¢´Ë∞ÉÁî®ÔºåÂπ∂‰∏îÂèØ‰ª•ËøîÂõûPropertiesÂØπË±°ÔºåÂàôËØ¥ÊòéÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑHTTPÊ∂àÊÅØËΩ¨Êç¢Âô®ÊòØÂèØË°åÁöÑ„ÄÇÂêØÂä®È°πÁõÆÔºå‰ΩøÁî®PostManËÆøÈóÆÔºöËØ∑Ê±ÇÂ§¥‰∏≠ÊåáÂÆöContent-Type‰∏∫text/propertiesÔºåËØ∑Ê±Ç‰ΩìÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫:ËÆøÈóÆÂêéÔºåÊéßÂà∂Âè∞ËæìÂá∫ÈîôËØØÂ¶Ç‰∏ãÔºö1Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public java.util.Properties com.example.demo.controller.TestController.test(java.util.Properties)]‰∏∫‰ªÄ‰πàÂë¢ÔºüÂõ†‰∏∫Êàë‰ª¨Âú®Ëá™ÂÆö‰πâPropertiesHttpMessageConverterÁöÑÊó∂ÂÄôÈúÄË¶ÅÂú®ÂÖ∂ÊûÑÈÄ†Âô®‰∏≠ÊåáÂÆöÂÆÉËÉΩÂ§üÂ§ÑÁêÜÁöÑÂ™í‰ΩìÁ±ªÂûãÔºåÊàë‰ª¨Êü•ÁúãMappingJackson2HttpMessageConverterÁöÑÊûÑÈÄ†Âô®ÔºåÁúãÁúãÂÆÉÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºöÊâÄ‰ª•Êàë‰ª¨Âú®PropertiesHttpMessageConverterÁöÑÊûÑÈÄ†Âô®‰∏≠Ê∑ªÂä†Áõ∏Â∫îÁöÑÂ™í‰ΩìÁ±ªÂûãÔºö123public PropertiesHttpMessageConverter() &#123; super(new MediaType("text", "properties"));&#125;ËøôÊó∂ÂÄôÔºåÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆ‰∏äÈù¢ÁöÑËØ∑Ê±ÇÔºåÂèØÁúãÂà∞ÂìçÂ∫îÂ¶Ç‰∏ãÊâÄÁ§∫:Â∫èÂàóÂåñËøáÁ®ãÂ∫èÂàóÂåñÁöÑËøáÁ®ãÂ∞±ÊòØÂ§ÑÁêÜHTTPÂìçÂ∫îÁöÑËøáÁ®ãÔºåÂØπÂ∫îPropertiesHttpMessageConverterÁöÑwriteInternalÊñπÊ≥ï„ÄÇÈÇ£‰∏∫‰ªÄ‰πàÊàë‰ª¨ÈÉΩËøòÂÆûÁé∞Ëøô‰∏™ÊñπÊ≥ïÔºå‰∏äÈù¢ÁöÑControllerËØ∑Ê±ÇÂç¥ËÉΩËøîÂõûÊ≠£Â∏∏ÁöÑJSONÂÜÖÂÆπÂë¢Ôºü‰∏§‰∏™ÂéüÂõ†ÔºöËøôÈáåÊàë‰ª¨ÂÆö‰πâÁöÑÊòØRESTÊé•Âè£ÔºåÊâÄ‰ª•ÂìçÂ∫îÈªòËÆ§‰ºöË¢´Â∫èÂàóÂåñ‰∏∫JSONÊ†ºÂºèÔºõÁî±‰∫é‰ΩøÁî®converters.add(new PropertiesHttpMessageConverter());ËøôÁßçÊñπÂºèÊù•Ê∑ªÂä†Ëá™ÂÆö‰πâHTTPÊ∂àÊÅØÂ§ÑÁêÜÂô®ÈªòËÆ§‰ºöË¢´Ê∑ªÂä†Âà∞ÈõÜÂêàÁöÑÊú´Â∞æÔºåÂú®Â§ÑÁêÜJSONÂìçÂ∫îÁöÑÊó∂ÂÄôË¢´ÊéíÂú®ÂâçÈù¢ÁöÑMappingJackson2HttpMessageConverter‰ºòÂÖàÂ§ÑÁêÜ‰∫Ü„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøádebugÊù•Êü•ÁúãPropertiesHttpMessageConverterÊòØÂê¶ÁúüÁöÑË¢´Ê∑ªÂä†Âà∞ÈõÜÂêàÊú´Â∞æ‰∫ÜÔºöÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÊç¢‰∏ãÈù¢ËøôÁßçÊñπÂºèÊù•Ê∑ªÂä†Ëá™ÂÆö‰πâHTTPÂ§ÑÁêÜÂô®Ôºö123456789@Configurationpublic class WebConfigurer implements WebMvcConfigurer &#123; public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) &#123; // converters.add(new PropertiesHttpMessageConverter()); // ÊåáÂÆöÈ°∫Â∫èÔºåËøôÈáå‰∏∫Á¨¨‰∏Ä‰∏™ converters.add(0, new PropertiesHttpMessageConverter()); &#125;&#125;Êàë‰ª¨ÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°debugÔºöÂèØÁúãÂà∞ÔºåPropertiesHttpMessageConverterÂ∑≤ÁªèÊéíÂú®Á¨¨‰∏Ä‰∏™‰∫Ü„ÄÇËøôÊó∂ÂÄôÂÜçÊ¨°ËÆøÈóÆ‰∏äÈù¢ÁöÑËØ∑Ê±ÇÔºåÂìçÂ∫îÂ¶Ç‰∏ãÊâÄÁ§∫:Ê≤°Êúâ‰ªª‰ΩïËøîÂõûÂÄºÔºåËøôÊòØÂõ†‰∏∫Êàë‰ª¨ËøòÊ≤°ÂÆûÁé∞writeInternalÂë¢„ÄÇÁªßÁª≠ÂÆûÁé∞writeInternalÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627public class PropertiesHttpMessageConverter extends AbstractGenericHttpMessageConverter&lt;Properties&gt; &#123; ... @Override protected void writeInternal(Properties properties, Type type, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException &#123; // Ëé∑ÂèñËØ∑Ê±ÇÂ§¥ HttpHeaders headers = outputMessage.getHeaders(); // Ëé∑Âèñ content-type MediaType contentType = headers.getContentType(); // Ëé∑ÂèñÁºñÁ†Å Charset charset = null; if (contentType != null) &#123; charset = contentType.getCharset(); &#125; charset = charset == null ? Charset.forName("UTF-8") : charset; // Ëé∑ÂèñËØ∑Ê±Ç‰Ωì OutputStream body = outputMessage.getBody(); OutputStreamWriter outputStreamWriter = new OutputStreamWriter(body, charset); properties.store(outputStreamWriter, "Serialized by PropertiesHttpMessageConverter#writeInternal"); &#125; ...&#125;ËøáÁ®ãÂíåÂèçÂ∫èÂåñÂ∑Æ‰∏çÂ§öÔºåËøôÈáåÊòØÈÄöËøáPropertiesÂØπË±°ÁöÑstoreÊñπÊ≥ïÊù•ËøõË°åÂÜôÊìç‰Ωú„ÄÇÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆ‰∏äÈù¢ÁöÑËØ∑Ê±ÇÔºåÂìçÂ∫îÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËá™ÂÆö‰πâHandlerMethodArgumentResolver‰∏äÈù¢ËøôÁßçÊñπÂºèÂøÖÈ°ª‰æùËµñ‰∫é@RequestBodyÂíå@ResponseBodyÊ≥®Ëß£ÔºåÈô§Ê≠§‰πãÂ§ñÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáËá™ÂÆö‰πâHandlerMethodArgumentResolverÂíåHandlerMethodReturnValueHandlerÂÆûÁé∞Á±ªÁöÑÊñπÂºèÊù•Â§ÑÁêÜÂÜÖÂÆπÂçèÂïÜ„ÄÇHandlerMethodArgumentResolver‰øóÁß∞ÊñπÊ≥ïÂèÇÊï∞Ëß£ÊûêÂô®ÔºåÁî®‰∫éËß£ÊûêÁî±@RequestMappingÊ≥®Ëß£ÔºàÊàñÂÖ∂Ê¥æÁîüÁöÑÊ≥®Ëß£ÔºâÊâÄÊ†áÊ≥®ÁöÑÊñπÊ≥ïÁöÑÂèÇÊï∞„ÄÇËøôÈáåÊàë‰ª¨ÂºÄÂßãÈÄöËøáÂÆûÁé∞HandlerMethodArgumentResolverÁöÑÊñπÂºèÊù•Â∞ÜHTTPËØ∑Ê±Ç‰ΩìÁöÑÂÜÖÂÆπËá™Âä®Ëß£Êûê‰∏∫PropertiesÂØπË±°„ÄÇÂú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫resolverÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫PropertiesHandlerMethodReturnValueHandlerÂÆûÁé∞HandlerMethodArgumentResolverÊé•Âè£Ôºö12345678910111213141516171819202122232425public class PropertiesHandlerMethodArgumentResolver implements HandlerMethodArgumentResolver &#123; @Override public boolean supportsParameter(MethodParameter parameter) &#123; return Properties.class.equals(parameter.getParameterType()); &#125; @Override public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception &#123; ServletWebRequest servletWebRequest = (ServletWebRequest) webRequest; HttpServletRequest request = servletWebRequest.getRequest(); String contentType = request.getHeader("Content-Type"); MediaType mediaType = MediaType.parseMediaType(contentType); // Ëé∑ÂèñÁºñÁ†Å Charset charset = mediaType.getCharset() == null ? Charset.forName("UTF-8") : mediaType.getCharset(); // Ëé∑ÂèñËæìÂÖ•ÊµÅ InputStream inputStream = request.getInputStream(); InputStreamReader inputStreamReader = new InputStreamReader(inputStream, charset); // ËæìÂÖ•ÊµÅËΩ¨Êç¢‰∏∫ Properties Properties properties = new Properties(); properties.load(inputStreamReader); return properties; &#125;&#125;ÊñπÊ≥ïsupportsParameterÁî®‰∫éÊåáÂÆöÊîØÊåÅËß£ÊûêÁöÑÂèÇÊï∞Á±ªÂûãÔºåËøôÈáå‰∏∫PropertiesÁ±ªÂûã„ÄÇresolveArgumentÊñπÊ≥ïÁî®‰∫éÂÆûÁé∞Ëß£ÊûêÈÄªËæëÔºåËß£ÊûêËøáÁ®ãÂíå‰∏äÈù¢ÂÆö‰πâÁöÑPropertiesHttpMessageConverterÁöÑreadInternalÊñπÊ≥ïÁ±ª‰ºº„ÄÇÊé•ÁùÄÔºåÊàë‰ª¨ËøòÈúÄÂ∞ÜPropertiesHandlerMethodArgumentResolverÊ∑ªÂä†Âà∞SpringËá™Â∏¶ÁöÑHandlerMethodArgumentResolverÂÆûÁé∞Á±ªÈõÜÂêà‰∏≠„ÄÇÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨‰∏çËÉΩÂú®ÈÖçÁΩÆÁ±ªWebMvcConfigurer‰∏≠ÈÄöËøáÈáçÂÜôaddArgumentResolversÁöÑÊñπÂºèÊù•Ê∑ªÂä†ÔºåÊü•ÁúãËØ•ÊñπÊ≥ïÊ∫êÁ†Å‰∏äÁöÑÊ≥®ÈáäÔºöÂ§ßËá¥ÊÑèÊÄùÊòØÈÄöËøáËøô‰∏™ÊñπÊ≥ïÊù•Ê∑ªÂä†ÁöÑÊñπÊ≥ïÂèÇÊï∞Ëß£ÊûêÂô®‰∏ç‰ºöË¶ÜÁõñSpringÂÜÖÁΩÆÁöÑÊñπÊ≥ïÂèÇÊï∞Ëß£ÊûêÂô®ÔºåÂ¶ÇÊûúÈúÄË¶ÅËøô‰πàÂÅöÁöÑËØùÔºåÂèØ‰ª•Áõ¥Êé•ÈÄöËøá‰øÆÊîπRequestMappingHandlerAdapterÊù•ÂÆûÁé∞„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢Ëøô‰∏™ÊñπÂºèÊù•ÂÆûÁé∞Ôºö1234567891011121314151617181920@Configurationpublic class WebConfigurer implements WebMvcConfigurer &#123; @Autowired private RequestMappingHandlerAdapter requestMappingHandlerAdapter; @PostConstruct public void init() &#123; // Ëé∑ÂèñÂΩìÂâç RequestMappingHandlerAdapter ÊâÄÊúâÁöÑ ArgumentResolverÂØπË±° List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = requestMappingHandlerAdapter.getArgumentResolvers(); List&lt;HandlerMethodArgumentResolver&gt; newArgumentResolvers = new ArrayList&lt;&gt;(argumentResolvers.size() + 1); // Ê∑ªÂä† PropertiesHandlerMethodArgumentResolver Âà∞ÈõÜÂêàÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆ newArgumentResolvers.add(0, new PropertiesHandlerMethodArgumentResolver()); // Â∞ÜÂéü ArgumentResolver Ê∑ªÂä†Âà∞ÈõÜÂêà‰∏≠ newArgumentResolvers.addAll(argumentResolvers); // ÈáçÊñ∞ËÆæÁΩÆ ArgumentResolverÂØπË±°ÈõÜÂêà requestMappingHandlerAdapter.setArgumentResolvers(newArgumentResolvers); &#125;&#125;Êàë‰ª¨Âú®WebConfigurerÈÖçÁΩÆÁ±ªË£ÖÈÖçÂÆåÊØïÁöÑÊó∂ÂÄôÔºåÈÄöËøárequestMappingHandlerAdapterÂØπË±°ÁöÑsetArgumentResolversÊñπÊ≥ïÊù•ÈáçÊñ∞ËÆæÁΩÆÊñπÊ≥ïËß£ÊûêÂô®ÈõÜÂêàÔºåÂ∞ÜPropertiesHandlerMethodArgumentResolverÊ∑ªÂä†Âà∞ÈõÜÂêàÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆ„ÄÇ‰πãÊâÄ‰ª•Ë¶ÅÂ∞ÜPropertiesHandlerMethodArgumentResolverÊ∑ªÂä†Âà∞Á¨¨‰∏Ä‰∏™‰ΩçÁΩÆÊòØÂõ†‰∏∫PropertiesÊú¨Ë¥®‰πüÊòØ‰∏Ä‰∏™MapÂØπË±°ÔºåËÄåSpringÂÜÖÁΩÆÁöÑMapMethodProcessorÂ∞±ÊòØÁî®‰∫éÂ§ÑÁêÜMapÂèÇÊï∞Á±ªÂûãÁöÑÔºåÂ¶ÇÊûú‰∏çÂ∞ÜPropertiesHandlerMethodArgumentResolver‰ºòÂÖàÁ∫ßÊèêÈ´òÔºåÈÇ£‰πàPropertiesÁ±ªÂûãÂèÇÊï∞‰ºöË¢´MapMethodProcessorËß£ÊûêÔºå‰ªéËÄåÂá∫Èîô„ÄÇÈÖçÁΩÆÂÆåÊØïÂêéÔºåÊàë‰ª¨ÊîπÈÄ†‰∏Ä‰∏ãTestControllerÔºö12345678910111213141516// @RestController@Controllerpublic class TestController &#123; @GetMapping(value = "test", consumes = "text/properties") @ResponseBody public Properties test(@RequestBody Properties properties) &#123; return properties; &#125; @GetMapping(value = "test1", consumes = "text/properties") @ResponseBody public Properties test1(Properties properties) &#123; return properties; &#125;&#125;test1ÊñπÊ≥ïÁöÑÂèÇÊï∞Ê≤°ÊúâË¢´@RequestBodyÊ†áÊ≥®ÔºåÂêØÂä®È°πÁõÆÔºåËÆøÈóÆ‰∏ãÈù¢Ëøô‰∏™ËØ∑Ê±ÇÔºöÂèØ‰ª•ÁúãÂà∞ÊñπÊ≥ïÊàêÂäüÊâßË°åÔºåÂπ∂‰∏îËøîÂõû‰∫ÜÊ≠£Á°ÆÁöÑÂÜÖÂÆπÔºåËØ¥ÊòéÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑÊñπÊ≥ïÂèÇÊï∞Ëß£ÊûêÂô®PropertiesHandlerMethodArgumentResolverÊòØÂèØË°åÁöÑ„ÄÇ‰ΩÜÊòØÊñπÊ≥ïÁöÑËøîÂõûÂÄºËøòÊòØÁî±PropertiesHttpMessageConverterÁöÑwriteInternalÊñπÊ≥ïËß£ÊûêÁöÑÔºåÂπ∂‰∏î‰æùËµñ‰∫é@ResponseBodyÊ≥®Ëß£ÔºåÊé•ÁùÄÊàë‰ª¨ÂºÄÂßãÂÆûÁé∞Ëá™ÂÆö‰πâÊñπÊ≥ïËøîÂõûÂÄºËß£ÊûêÂô®ÔºåÂπ∂‰∏î‰∏ç‰æùËµñ‰∫é@ResponseBodyÊ≥®Ëß£„ÄÇËá™ÂÆö‰πâHandlerMethodReturnValueHandlerHandlerMethodArgumentResolver‰øóÁß∞ÊñπÊ≥ïËøîÂõûÂÄºËß£ÊûêÂô®ÔºåÁî®‰∫éËß£ÊûêÁî±@RequestMappingÊ≥®Ëß£ÔºàÊàñÂÖ∂Ê¥æÁîüÁöÑÊ≥®Ëß£ÔºâÊâÄÊ†áÊ≥®ÁöÑÊñπÊ≥ïÁöÑËøîÂõûÂÄº„ÄÇËøôÈáåÊàë‰ª¨ÂºÄÂßãÈÄöËøáÂÆûÁé∞HandlerMethodReturnValueHandlerÁöÑÊñπÂºèÊù•Ëá™ÂÆö‰πâ‰∏Ä‰∏™Áî®‰∫éÂ§ÑÁêÜËøîÂõûÂÄºÁ±ªÂûã‰∏∫PropertiesÁ±ªÂûãÁöÑËß£ÊûêÂô®„ÄÇÂú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫handlerÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫PropertiesHandlerMethodReturnValueHandlerÂÆûÁé∞HandlerMethodReturnValueHandlerÔºö1234567891011121314151617181920212223242526272829303132333435public class PropertiesHandlerMethodReturnValueHandler implements HandlerMethodReturnValueHandler &#123; @Override public boolean supportsReturnType(MethodParameter returnType) &#123; return Properties.class.equals(returnType.getMethod().getReturnType()); &#125; @Override public void handleReturnValue(Object returnValue, MethodParameter returnType, ModelAndViewContainer mavContainer, NativeWebRequest webRequest) throws Exception &#123; Properties properties = (Properties) returnValue; ServletWebRequest servletWebRequest = (ServletWebRequest) webRequest; HttpServletResponse response = servletWebRequest.getResponse(); ServletServerHttpResponse servletServerHttpResponse = new ServletServerHttpResponse(response); // Ëé∑ÂèñËØ∑Ê±ÇÂ§¥ HttpHeaders headers = servletServerHttpResponse.getHeaders(); MediaType contentType = headers.getContentType(); // Ëé∑ÂèñÁºñÁ†Å Charset charset = null; if (contentType != null) &#123; charset = contentType.getCharset(); &#125; charset = charset == null ? Charset.forName("UTF-8") : charset; // Ëé∑ÂèñËØ∑Ê±Ç‰Ωì OutputStream body = servletServerHttpResponse.getBody(); OutputStreamWriter outputStreamWriter = new OutputStreamWriter(body, charset); properties.store(outputStreamWriter, "Serialized by PropertiesHandlerMethodReturnValueHandler#handleReturnValue"); &#125;&#125;supportsReturnTypeÊñπÊ≥ïÊåáÂÆö‰∫ÜÂ§ÑÁêÜËøîÂõûÂÄºÁöÑÁ±ªÂûãÔºåhandleReturnValueÊñπÊ≥ïÁî®‰∫éÂ§ÑÁêÜËøîÂõûÂÄºÔºåËøôÈáåÁöÑÈÄªËæëÂíåPropertiesHttpMessageConverterÁöÑwriteInternalÊñπÊ≥ïÂü∫Êú¨‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞„ÄÇÊé•ÁùÄÂ∞ÜPropertiesHandlerMethodReturnValueHandlerÊ∑ªÂä†Âà∞Âà∞SpringËá™Â∏¶ÁöÑHandlerMethodReturnValueHandlerÂÆûÁé∞Á±ªÈõÜÂêà‰∏≠ÔºåÊ∑ªÂä†ÊñπÂºèÂíåËá™ÂÆö‰πâHandlerMethodArgumentResolver‰∏ÄËá¥Ôºö123456789101112131415161718192021222324252627282930@Configurationpublic class WebConfigurer implements WebMvcConfigurer &#123; @Autowired private RequestMappingHandlerAdapter requestMappingHandlerAdapter; @PostConstruct public void init() &#123; // Ëé∑ÂèñÂΩìÂâç RequestMappingHandlerAdapter ÊâÄÊúâÁöÑ ArgumentResolverÂØπË±° List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers = requestMappingHandlerAdapter.getArgumentResolvers(); List&lt;HandlerMethodArgumentResolver&gt; newArgumentResolvers = new ArrayList&lt;&gt;(argumentResolvers.size() + 1); // Ê∑ªÂä† PropertiesHandlerMethodArgumentResolver Âà∞ÈõÜÂêàÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆ newArgumentResolvers.add(0, new PropertiesHandlerMethodArgumentResolver()); // Â∞ÜÂéü ArgumentResolver Ê∑ªÂä†Âà∞ÈõÜÂêà‰∏≠ newArgumentResolvers.addAll(argumentResolvers); // ÈáçÊñ∞ËÆæÁΩÆ ArgumentResolverÂØπË±°ÈõÜÂêà requestMappingHandlerAdapter.setArgumentResolvers(newArgumentResolvers); // Ëé∑ÂèñÂΩìÂâç RequestMappingHandlerAdapter ÊâÄÊúâÁöÑ returnValueHandlersÂØπË±° List&lt;HandlerMethodReturnValueHandler&gt; returnValueHandlers = requestMappingHandlerAdapter.getReturnValueHandlers(); List&lt;HandlerMethodReturnValueHandler&gt; newReturnValueHandlers = new ArrayList&lt;&gt;(returnValueHandlers.size() + 1); // Ê∑ªÂä† PropertiesHandlerMethodReturnValueHandler Âà∞ÈõÜÂêàÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆ newReturnValueHandlers.add(0, new PropertiesHandlerMethodReturnValueHandler()); // Â∞ÜÂéü returnValueHandlers Ê∑ªÂä†Âà∞ÈõÜÂêà‰∏≠ newReturnValueHandlers.addAll(returnValueHandlers); // ÈáçÊñ∞ËÆæÁΩÆ ReturnValueHandlersÂØπË±°ÈõÜÂêà requestMappingHandlerAdapter.setReturnValueHandlers(newReturnValueHandlers); &#125;&#125;ÈÖçÁΩÆÂ•ΩÂêéÔºåÊàë‰ª¨Â∞ÜTestControllerÁöÑtest1ÊñπÊ≥ïÁöÑ@ResponseBodyÊ≥®Ëß£ÂéªÊéâÔºåÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆ:ÂèØ‰ª•ÁúãÂà∞ÔºåËøîÂõûÂÄºÊàêÂäüË¢´PropertiesHandlerMethodReturnValueHandlerÁöÑhandleReturnValueÊñπÊ≥ïËß£Êûê‰∫Ü„ÄÇ‰ΩÜÊòØËøôÈáåËøòÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨Êü•ÁúãÊéßÂà∂Âè∞Ôºå‰ºöÂèëÁé∞Â¶Ç‰∏ãÂºÇÂ∏∏:1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950javax.servlet.ServletException: Circular view path [test1]: would dispatch back to the current handler URL [/test1] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.) at org.springframework.web.servlet.view.InternalResourceView.prepareForRendering(InternalResourceView.java:209) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:147) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:890) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.12.jar:9.0.12] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.12.jar:9.0.12] at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.12.jar:9.0.12] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_171] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_171] at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.12.jar:9.0.12] at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]ËøôÊòØÂõ†‰∏∫ÔºåÂú®Spring‰∏≠Â¶ÇÊûúController‰∏≠ÁöÑÊñπÊ≥ïÊ≤°ÊúâË¢´@ResponseBodyÊ†áÊ≥®ÁöÑËØùÔºåÈªòËÆ§‰ºöÊääËøîÂõûÂÄºÂΩìÊàêËßÜÂõæÁöÑÂêçÁß∞ÔºåËÄåËøôÈáåÊàë‰ª¨Âπ∂‰∏çÂ∏åÊúõËß£ÊûêÁöÑPropertiesÂÄºË¢´ÂΩìÊàêËßÜÂõæÂêçÁß∞ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂú®PropertiesHandlerMethodReturnValueHandlerÁöÑhandleReturnValueÊñπÊ≥ïÊúÄÂêé‰∏ÄË°åÊ∑ªÂä†Â¶Ç‰∏ã‰ª£Á†ÅÔºö12// ÂëäËØâ Spring MVC ËØ∑Ê±ÇÂ∑≤ÁªèÂ§ÑÁêÜÂÆåÊØïmavContainer.setRequestHandled(true);ËøôË°å‰ª£Á†ÅÂëäËØâSpringÔºåËØ∑Ê±ÇÂ∑≤ÁªèÊàêÂäüÂÆåÊàê‰∫ÜÔºåÊó†ÈúÄËøõË°åÂêéÁª≠ÁöÑÂ§ÑÁêÜ„ÄÇÈáçÂêØÈ°πÁõÆÂÜçÊ¨°ËÆøÈóÆ‰∏äÈù¢ÁöÑËØ∑Ê±ÇÔºåÊéßÂà∂Âè∞‰æø‰∏çÂÜçÊäõÂºÇÂ∏∏‰∫Ü„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/47.Spring-Boot-Content-Negotiation]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÈÖçÂêàHibernate ValidatorÂèÇÊï∞Ê†°È™å]]></title>
    <url>%2FSpring-Boot-Hibernate-Validator-Params-Check.html</url>
    <content type="text"><![CDATA[Spring Boot‰∏≠ÁªìÂêàHibernate ValidatorÂèØ‰ª•ÂÆûÁé∞‰ºòÈõÖÁöÑÂèÇÊï∞Ê†°È™åÔºåËÄå‰∏çÂøÖÂú®‰∏öÂä°‰ª£Á†Å‰∏≠ÂÜô‰∏ÄÂ§ßÂ†ÜÁöÑÂèÇÊï∞Ê†°È™åÈÄªËæë„ÄÇHibernate ValidatorÁöÑÂü∫Êú¨‰ΩøÁî®ÂèØ‰ª•ÂèÇËÄÉSpringË°®ÂçïÊ†°È™åÔºåËøôÈáå‰ªãÁªç‰∏ÄÁßçÁªìÂêàÂÖ®Â±ÄÂºÇÂ∏∏ÊçïËé∑ÁöÑÊñπÂºèÊù•ÂÆûÁé∞‰ΩéËÄ¶ÂêàÁÆÄÊ¥ÅÁöÑÂèÇÊï∞Ê†°È™åËß£ÂÜ≥ÊñπÊ°à„ÄÇÊñπÊ≥ïÂèÇÊï∞Ê†°È™åÊñ∞Âª∫‰∏Ä‰∏™Spring BootÂ∑•Á®ãÔºåÁâàÊú¨‰∏∫2.1.0.RELEASEÔºåartifactId‰∏∫validatorÔºåÂπ∂ÂºïÂÖ•spring-boot-starter-webÂíåcommons-lang3‰æùËµñÔºö1234567891011 &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;È°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫Ôºöspring-boot-starter-webÂ∑≤ÁªèÂåÖÂê´‰∫Ühibernate-validatorÔºåÊâÄ‰ª•Êó†ÈúÄÂçïÁã¨ÂºïÂÖ•Ôºö Âú®com.example.demo‰∏ãÊñ∞Âª∫controllerÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫TestControllerÔºåÂÆö‰πâ‰∏Ä‰∏™test1ÊñπÊ≥ïÔºö1234567891011@RestController@Validatedpublic class TestController &#123; @GetMapping("test1") public String test1( @NotBlank(message = "&#123;required&#125;") String name, @Email(message = "&#123;invalid&#125;") String email) &#123; return "success"; &#125;&#125;test1ÊñπÊ≥ïÁöÑnameÂèÇÊï∞‰ΩøÁî®@NotBlankÊ†áÊ≥®ÔºåË°®Á§∫‰∏çËÉΩ‰∏∫Á©∫ÔºåÊèêÁ§∫‰ø°ÊÅØ‰∏∫{required}Âç†‰ΩçÁ¨¶ÈáåÁöÑÂÜÖÂÆπÔºõemailÂèÇÊï∞‰ΩøÁî®@EmailÊ≥®Ëß£Ê†áÊ≥®ÔºåË°®Á§∫ÂøÖÈ°ª‰∏∫‰∏Ä‰∏™ÂêàÊ≥ïÁöÑÈÇÆÁÆ±ÂÄºÔºàÂèØ‰ª•‰∏∫Á©∫ÔºâÔºåÊèêÁ§∫‰ø°ÊÅØ‰∏∫{invalid}Âç†‰ΩçÁ¨¶ÈáåÁöÑÂÜÖÂÆπ„ÄÇË¶ÅËÆ©ÂèÇÊï∞Ê†°È™åÁîüÊïàÔºåÊàë‰ª¨ËøòÈúÄÂú®Á±ª‰∏ä‰ΩøÁî®@ValidatedÊ≥®Ëß£Ê†áÊ≥®„ÄÇÊé•‰∏ãÊù•ÂÆö‰πâ‰∏äÈù¢‰∏§‰∏™Âç†‰ΩçÁ¨¶ÁöÑÂÜÖÂÆπ„ÄÇÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫ValidationMessages.propertiesÊñá‰ª∂ÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÔºö12required=\u4e0d\u80fd\u4e3a\u7a7ainvalid=\u683c\u5f0f\u4e0d\u5408\u6cd5ÂÜÖÂÆπ‰∏∫‰∏≠ÊñáËΩ¨UnicodeÂêéÁöÑÂÄºÔºåÂèØ‰ª•‰ΩøÁî®http://tool.chinaz.com/tools/unicode.aspxÁΩëÁ´ôËΩ¨Êç¢Ôºå\u4e0d\u80fd\u4e3a\u7a7aËΩ¨‰∏∫‰∏≠Êñá‰∏∫‚Äú‰∏çËÉΩ‰∏∫Á©∫‚ÄùÔºå\u683c\u5f0f\u4e0d\u5408\u6cd5ËΩ¨‰∏∫‰∏≠Êñá‰∏∫‚ÄúÊ†ºÂºè‰∏çÂêàÊ≥ï‚Äù„ÄÇÂêØÂä®È°πÁõÆÔºå‰ΩøÁî®PostmanËøõË°åÊµãËØïÔºåÂèÇÊï∞ÂÜÖÂÆπÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËøôÈáånameÂèÇÊï∞ÂÄº‰∏∫Á©∫ÔºåemailÂèÇÊï∞ÂÄº‰∏∫123ÔºåËÆøÈóÆÂêéÔºåÊéßÂà∂Âè∞ËæìÂá∫ÂºÇÂ∏∏Â¶Ç‰∏ãÔºöÂèØËßÅÔºå‰ΩøÁî®ËøôÁßçÊñπÂºèÂèÇÊï∞Ê†°È™å‰∏çÈÄöËøáÊó∂Ôºå‰ºöÊäõÂá∫javax.validation.ConstraintViolationExceptionÔºåÊàë‰ª¨‰ΩøÁî®ÂÖ®Â±ÄÂºÇÂ∏∏ÊçïËé∑Êù•Â§ÑÁêÜËøôÁßçÂºÇÂ∏∏ÔºöÂú®com.example.demo‰∏ãÊñ∞Âª∫handlerÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫GlobalExceptionHandlerÔºö123456789101112131415161718192021222324@RestControllerAdvice@Order(value = Ordered.HIGHEST_PRECEDENCE)public class GlobalExceptionHandler &#123; /** * Áªü‰∏ÄÂ§ÑÁêÜËØ∑Ê±ÇÂèÇÊï∞Ê†°È™å(ÊôÆÈÄö‰º†ÂèÇ) * * @param e ConstraintViolationException * @return FebsResponse */ @ExceptionHandler(value = ConstraintViolationException.class) @ResponseStatus(HttpStatus.BAD_REQUEST) public String handleConstraintViolationException(ConstraintViolationException e) &#123; StringBuilder message = new StringBuilder(); Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations(); for (ConstraintViolation&lt;?&gt; violation : violations) &#123; Path path = violation.getPropertyPath(); String[] pathArr = StringUtils.splitByWholeSeparatorPreserveAllTokens(path.toString(), "."); message.append(pathArr[1]).append(violation.getMessage()).append(","); &#125; message = new StringBuilder(message.substring(0, message.length() - 1)); return message.toString(); &#125;&#125;‰∏äÈù¢‰∏ªË¶ÅÁöÑÈÄªËæëÊòØËé∑ÂèñÊ†°È™å‰∏çÈÄöËøáÁöÑÂèÇÊï∞ÂêçÁß∞ÔºåÁÑ∂ÂêéÊãºÊé•‰∏äÊèêÁ§∫‰ø°ÊÅØÔºåÂπ∂‰∏îHTTPËøîÂõûÁä∂ÊÄÅÁ†Å‰∏∫400„ÄÇÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆÂàöÂàöÁöÑÈìæÊé•ÔºåÂìçÂ∫îÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö‰ΩøÁî®ÂÆû‰Ωì‰º†ÂèÇÂΩìÂèÇÊï∞ËæÉÂ∞ëÁöÑÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®‰∏äÈù¢ËøôÁßçÊñπÂºèÔºå‰ΩÜÂ¶ÇÊûúÂèÇÊï∞‰ºóÂ§ö‰∏äÈù¢ÁöÑÊñπÂºèÂ∞±Áï•ÊòæÁπÅÁêê‰∫Ü„ÄÇËøôÊó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂÆû‰ΩìÂØπË±°Êù•ËøõË°å‰º†ÂèÇ„ÄÇ‰∏∫‰∫ÜÊ®°ÊãüËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨Âú®com.example.demoË∑ØÂæÑ‰∏ãÊñ∞Âª∫domainÂåÖÔºåÁÑ∂ÂêéÊñ∞Âª∫UserÁ±ªÔºö12345678910111213141516171819202122232425public class User implements Serializable &#123; private static final long serialVersionUID = -2731598327208972274L; @NotBlank(message = "&#123;required&#125;") private String name; @Email(message = "&#123;invalid&#125;") private String email; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getEmail() &#123; return email; &#125; public void setEmail(String email) &#123; this.email = email; &#125;&#125;Êé•ÁùÄÂú®TestControllerÈáåÂàõÂª∫‰∏Ä‰∏™test2ÊñπÊ≥ï:1234@GetMapping("test2")public String test2(@Valid User user) &#123; return "success";&#125;‰ΩøÁî®ÂÆû‰ΩìÂØπË±°‰º†ÂèÇÁöÑÊñπÂºèÂèÇÊï∞Ê†°È™åÈúÄË¶ÅÂú®Áõ∏Â∫îÁöÑÂèÇÊï∞ÂâçÂä†‰∏ä@ValidÊ≥®Ëß£„ÄÇÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆ‰∏ãÈù¢Ëøô‰∏™ËØ∑Ê±ÇÔºö ÊéßÂà∂Âè∞‰ºöËæìÂá∫Â¶Ç‰∏ã‰ø°ÊÅØ:123Resolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 2 errorsField error in object &apos;user&apos; on field &apos;name&apos;: rejected value []; codes [NotBlank.user.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.name,name]; arguments []; default message [name]]; default message [‰∏çËÉΩ‰∏∫Á©∫]Field error in object &apos;user&apos; on field &apos;email&apos;: rejected value [123]; codes [Email.user.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.email,email]; arguments []; default message [email],[Ljavax.validation.constraints.Pattern$Flag;@5fb82092,org.springframework.validation.beanvalidation.SpringValidatorAdapter$ResolvableAttribute@cc0c307]; default message [Ê†ºÂºè‰∏çÂêàÊ≥ï]]ËøôÊó∂ÂÄôÊàë‰ª¨ÈúÄË¶ÅÂú®GlobalExceptionHandlerÊçïËé∑org.springframework.validation.BindExceptionÂºÇÂ∏∏Ôºö123456789101112131415161718/** * Áªü‰∏ÄÂ§ÑÁêÜËØ∑Ê±ÇÂèÇÊï∞Ê†°È™å(ÂÆû‰ΩìÂØπË±°‰º†ÂèÇ) * * @param e BindException * @return FebsResponse */@ExceptionHandler(BindException.class)@ResponseStatus(HttpStatus.BAD_REQUEST)public String validExceptionHandler(BindException e) &#123; StringBuilder message = new StringBuilder(); List&lt;FieldError&gt; fieldErrors = e.getBindingResult().getFieldErrors(); for (FieldError error : fieldErrors) &#123; message.append(error.getField()).append(error.getDefaultMessage()).append(","); &#125; message = new StringBuilder(message.substring(0, message.length() - 1)); return message.toString();&#125;ÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆÂàöÂàöÁöÑËØ∑Ê±ÇÔºåÂìçÂ∫îÂ¶Ç‰∏ãÊâÄÁ§∫:Êàë‰ª¨Â∞ÜËØ∑Ê±ÇÂèÇÊï∞Êîπ‰∏∫ÂêàÊ≥ïÁöÑÂÜÖÂÆπÔºöÁÇπÂáªËÆøÈóÆÔºåÂìçÂ∫îÂ¶Ç‰∏ãÊâÄÁ§∫:Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/46.Spring-Boot-Hibernate-Validator]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•Â≠¶‰π†Spring Boot‰∏≠ÁöÑSpringApplication]]></title>
    <url>%2Fdeepin-springboot-application.html</url>
    <content type="text"><![CDATA[Âú®Spring BootÁöÑÂÖ•Âè£Á±ª‰∏≠ÔºåÊàë‰ª¨ÈÄöÂ∏∏ÊòØÈÄöËøáË∞ÉÁî®SpringApplicationÁöÑrunÊñπÊ≥ïÊù•ÂêØÂä®Spring BootÈ°πÁõÆ„ÄÇËøôËäÇÊàë‰ª¨Êù•Ê∑±ÂÖ•Â≠¶‰π†‰∏ãSpringApplicationÁöÑ‰∏Ä‰∫õÁªÜËäÇ„ÄÇËá™ÂÆö‰πâSpringApplicationÈªòËÆ§ÁöÑÊàë‰ª¨ÈÉΩÊòØÁõ¥Êé•ÈÄöËøáSpringApplicationÁöÑrunÊñπÊ≥ïÊù•Áõ¥Êé•ÂêØÂä®Spring BootÔºåÂÖ∂ÂÆûÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∫õAPIÊù•Ë∞ÉÊï¥Êüê‰∫õË°å‰∏∫„ÄÇÈÄöËøáSpringApplication APIË∞ÉÊï¥Êàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™SpringBootÈ°πÁõÆÔºåSpring BootÁâàÊú¨‰∏∫2.1.0.RELEASEÔºåartifactId‰∏∫SpringApplicationÔºåÂπ∂ÂºïÂÖ•spring-boot-starter-web‰æùËµñ„ÄÇÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫:Êàë‰ª¨Â∞ÜÂÖ•Âè£Á±ªÁöÑ‰ª£Á†ÅÊîπ‰∏∫Ôºö12345SpringApplication application = new SpringApplication(DemoApplication.class);application.setBannerMode(Banner.Mode.OFF);application.setWebApplicationType(WebApplicationType.NONE);application.setAdditionalProfiles("dev");application.run(args);ÈÄöËøáË∞ÉÁî®SpringApplicationÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨ÂÖ≥Èó≠‰∫ÜBannerÁöÑÊâìÂç∞ÔºåËÆæÁΩÆÂ∫îÁî®ÁéØÂ¢É‰∏∫ÈùûWEBÂ∫îÁî®ÔºåprofilesÊåáÂÆö‰∏∫dev„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåSpringApplicationËøòÂåÖÂê´‰∫ÜËÆ∏Â§öÂà´ÁöÑÊñπÊ≥ïÔºåÂÖ∑‰ΩìÂèØ‰ª•Êü•ÁúãÊ∫êÁ†ÅÊàñËÄÖÂÆòÊñπÊñáÊ°£ÔºöÈÄöËøáSpringApplicationBuilder APIË∞ÉÊï¥SpringApplicationBuilderÊèê‰æõ‰∫ÜFluent APIÔºåÂèØ‰ª•ÂÆûÁé∞ÈìæÂºèË∞ÉÁî®Ôºå‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂíå‰∏äÈù¢ÁöÑÊïàÊûú‰∏ÄËá¥Ôºå‰ΩÜÂú®ÁºñÂÜô‰∏äËæÉ‰∏∫Êñπ‰æøÔºö12345new SpringApplicationBuilder(DemoApplication.class) .bannerMode(Banner.Mode.OFF) .web(WebApplicationType.NONE) .profiles("dev") .run(args);SpringApplicationÂáÜÂ§áÈò∂ÊÆµSpringApplicationÁöÑÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫ÂáÜÂ§áÈò∂ÊÆµÂíåËøêË°åÈò∂ÊÆµ„ÄÇÊàë‰ª¨ÈÄöËøáÊ∫êÁ†ÅÊù•Êü•ÁúãSpringApplicationÁöÑÊúâÂèÇÊûÑÈÄ†Âô®ÔºöÈÄöËøáÊúâÂèÇÊûÑÈÄ†Âô®ÈáåÁöÑ‰ª£Á†ÅÊàë‰ª¨ÂèØ‰ª•Â∞ÜSpringApplicationÁöÑÂáÜÂ§áÈò∂ÊÆµÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§ÔºöÈÖçÁΩÆÊ∫êÊûÑÈÄ†Âô®‰∏≠this.primarySources = new LinkedHashSet&lt;&gt;(Arrays.asList(primarySources));ËøôË°å‰ª£Á†ÅÁî®‰∫éÂä†ËΩΩÊàë‰ª¨ÈÖçÁΩÆÁöÑSpring Boot BeanÊ∫ê„ÄÇÈÄöÂ∏∏Êàë‰ª¨‰ΩøÁî®SpringApplicationÊàñËÄÖSpringApplicationBuilderÁöÑÊûÑÈÄ†Âô®Êù•Áõ¥Êé•ÊåáÂÆöÊ∫ê„ÄÇÊâÄË∞ìÁöÑSpring Boot BeanÊ∫êÊåáÁöÑÊòØÊüê‰∏™Ë¢´@SpringBootApplicationÊ≥®Ëß£Ê†áÊ≥®ÁöÑÁ±ªÔºåÊØîÂ¶ÇÂÖ•Âè£Á±ªÔºöÊàë‰ª¨‰πüÂèØ‰ª•Â∞Ü‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊîπ‰∏∫‰∏ãÈù¢ËøôÁßçÊñπÂºèÔºö123456789101112public class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication application = new SpringApplication(ApplicationResource.class); application.run(args); &#125; @SpringBootApplication public static class ApplicationResource &#123; &#125;&#125;ËøôÊ†∑‰πüÊòØÂèØË°åÁöÑ„ÄÇÊü•ÁúãSpringApplicationÁöÑÂçï‰∏™ÂèÇÊï∞ÊûÑÈÄ†Âô®ÔºöËØ¥ÊòéÊàë‰ª¨Èô§‰∫ÜÈÖçÁΩÆÂçï‰∏™Ê∫êÂ§ñÔºåËøòÂèØ‰ª•ÈÖçÁΩÆÂ§ö‰∏™Ê∫ê„ÄÇÊé®Êñ≠Â∫îÁî®Á±ªÂûãÊûÑÈÄ†Âô®‰∏≠ËøôË°åthis.webApplicationType = WebApplicationType.deduceFromClasspath();‰ª£Á†ÅÁî®‰∫éÊé®Êñ≠ÂΩìÂâçSpring BootÂ∫îÁî®Á±ªÂûã„ÄÇSpring Boot 2.0ÂêéÔºåÂ∫îÁî®ÂèØ‰ª•ÂàÜ‰∏∫‰∏ãÈù¢‰∏âÁßçÁ±ªÂûãÔºöWebApplicationType.NONEÔºöÈùûWEBÁ±ªÂûãÔºõWebApplicationType.REACTIVEÔºöWeb ReactiveÁ±ªÂûãÔºõWebApplicationType.SERVLETÔºöWeb ServletÁ±ªÂûã„ÄÇWebApplicationType.deduceFromClasspath()ÊñπÊ≥ïÊ†πÊçÆÂΩìÂâçÂ∫îÁî®ClassPath‰∏≠ÊòØÂê¶Â≠òÂú®Áõ∏ÂÖ≥ÁöÑÂÆûÁé∞Á±ªÊù•Âà§Êñ≠Â∫îÁî®Á±ªÂûãÂà∞Â∫ïÊòØÂì™‰∏™ÔºådeduceFromClasspathÊñπÊ≥ïÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫:Êàë‰ª¨‰πüÂèØ‰ª•Áõ¥Êé•ÈÄöËøáSpringApplicationÁöÑsetWebApplicationTypeÊñπÊ≥ïÊàñËÄÖSpringApplicationBuilderÁöÑwebÊñπÊ≥ïÊù•ÊåáÂÆöÂΩìÂâçÂ∫îÁî®ÁöÑÁ±ªÂûã„ÄÇÂä†ËΩΩÂ∫îÁî®‰∏ä‰∏ãÊñáÂàùÂßãÂô®Êé•ÁùÄ‰∏ã‰∏ÄË°å‰ª£Á†ÅsetInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class));Áî®‰∫éÂä†ËΩΩÂ∫îÁî®‰∏ä‰∏ãÊñáÂàùÂßãÂô®ApplicationContextInitializer„ÄÇgetSpringFactoriesInstancesÊñπÊ≥ïÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö‰∏äÈù¢‰ª£Á†ÅÂà©Áî®SpringÂ∑•ÂéÇÂä†ËΩΩÊú∫Âà∂ÔºåÂÆû‰æãÂåñApplicationContextInitializerÂÆûÁé∞Á±ªÔºåÂπ∂ËøõË°åÊéíÂ∫è„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞ApplicationContextInitializerÊé•Âè£Áî®‰∫éÂú®Spring BootÂ∫îÁî®ÂàùÂßãÂåñ‰πãÂâçÊâßË°å‰∏Ä‰∫õËá™ÂÆö‰πâÊìç‰Ωú„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÂú®com.example.demo‰∏ãÊñ∞Âª∫initializerÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™HelloApplicationContextInitializerÁ±ªÔºåÂÆûÁé∞ApplicationContextInitializerÊé•Âè£Ôºö1234567@Order(Ordered.HIGHEST_PRECEDENCE)public class HelloApplicationContextInitializer implements ApplicationContextInitializer &#123; @Override public void initialize(ConfigurableApplicationContext applicationContext) &#123; System.out.println("ConfigurableApplicationContext.id - " + applicationContext.getId()); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÂÆûÁé∞‰∫ÜinitializeÊñπÊ≥ïÔºåÂπ∂‰∏î‰ΩøÁî®@OrderÊ≥®Ëß£ÊåáÂÆö‰ºòÂÖàÁ∫ß„ÄÇÂÖ∂‰∏≠Ordered.HIGHEST_PRECEDENCEÁ≠â‰∫éInteger.MIN_VALUEÔºåOrdered.LOWEST_PRECEDENCEÁ≠â‰∫éInteger.MAX_VALUE„ÄÇÊâÄ‰ª•Êï∞ÂÄºË∂äÂ∞èÔºå‰ºòÂÖàÁ∫ßË∂äÈ´ò„ÄÇÈô§‰∫Ü‰ΩøÁî®@OrderÊ≥®Ëß£Êù•ÊåáÂÆö‰ºòÂÖàÁ∫ßÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáÂÆûÁé∞org.springframework.core.OrderedÊé•Âè£ÁöÑgetOrderÊñπÊ≥ïÊù•ÊåáÂÆö‰ºòÂÖàÁ∫ß„ÄÇÊé•ÁùÄÊàë‰ª¨Êù•ÂàõÂª∫‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÊØîHelloApplicationContextInitializer‰ΩéÁöÑInitializer ‚Äî‚Äî AfterHelloApplicationContextInitializerÔºö1234567891011public class AfterHelloApplicationContextInitializer implements ApplicationContextInitializer, Ordered &#123; @Override public void initialize(ConfigurableApplicationContext applicationContext) &#123; System.out.println("AfterHelloApplicationContextInitializer: " + applicationContext.getId()); &#125; @Override public int getOrder() &#123; return Ordered.LOWEST_PRECEDENCE; &#125;&#125;‰∏äÈù¢ÈÄöËøágetOrderÊñπÊ≥ïÊù•ÊåáÂÆö‰∫Ü‰ºòÂÖàÁ∫ß‰∏∫ÊúÄ‰Ωé‰ºòÂÖàÁ∫ß„ÄÇÂàõÂª∫Â•ΩÂêéÔºåÊàë‰ª¨ËøòÈúÄÂú®Â∑•ÂéÇÈÖçÁΩÆÊñá‰ª∂ÈáåÈÖçÁΩÆËøô‰∏§‰∏™ÂÆûÁé∞Á±ª„ÄÇÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫META-INFÁõÆÂΩïÔºåÂπ∂ÂàõÂª∫spring.factoriesÊñá‰ª∂Ôºö1234# Initializersorg.springframework.context.ApplicationContextInitializer=\com.example.demo.initializer.HelloApplicationContextInitializer,\com.example.demo.initializer.AfterHelloApplicationContextInitializerËøôÊó∂ÂÄôÔºåÂêØÂä®Spring BootÈ°πÁõÆÔºå‰ºöÂèëÁé∞ÊéßÂà∂Âè∞Âú®ÊâìÂç∞BannerÂêéÂ∞±ÊâßË°å‰∫ÜËøô‰∏§‰∏™ÂàùÂßãÂåñÂô®ÔºåÂπ∂‰∏îHelloApplicationContextInitializerÁöÑinitializeÊñπÊ≥ïÊâßË°åÊó∂Êú∫ÂÖà‰∫éAfterHelloApplicationContextInitializerÁöÑinitializeÊñπÊ≥ïÔºöÂä†ËΩΩÂ∫îÁî®‰∫ã‰ª∂ÁõëÂê¨Âô®Âú®Âä†ËΩΩÂÆåÂ∫îÁî®‰∏ä‰∏ãÊñáÂàùÂßãÂô®ÂêéÔºå‰∏ã‰∏ÄË°åÁöÑsetListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class));‰ª£Á†ÅÂä†ËΩΩ‰∫ÜÂ∫îÁî®‰∫ã‰ª∂ÁõëÂê¨Âô®„ÄÇ‰∏éÂä†ËΩΩ‰∫ã‰ª∂‰∏ä‰∏ãÊñáÂàùÂßãÂô®Á±ª‰ººÔºåSpring Boot‰πüÊòØÈÄöËøáSpringÁöÑÂ∑•ÂéÇÊñπÊ≥ïÊù•ÂÆû‰æãÂåñApplicationListenerÁöÑÂÆûÁé∞Á±ªÔºåÂπ∂ËøõË°åÊéíÂ∫è„ÄÇÊó¢ÁÑ∂ÊòØ‰∫ã‰ª∂ÁõëÂê¨ÔºåÈÇ£‰πàÂÖ∂ÂèØ‰ª•ÁõëÂê¨‰ªÄ‰πà‰∫ã‰ª∂Âë¢ÔºüÂÖ∂ÁõëÂê¨ÁöÑÊòØApplicationEventÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÔºåÊàë‰ª¨Êü•Áúã‰∏Ä‰∏ãÈÉΩÊúâÂì™‰∫õ‰∫ã‰ª∂ÂÆûÁé∞‰∫ÜËøô‰∏™Êé•Âè£ÔºöËøôÈáåÊàë‰ª¨‰ª•ContextClosedEvent‰∏∫‰æãÂ≠êÊù•ÁºñÂÜôËá™ÂÆö‰πâÁöÑÂ∫îÁî®‰∫ã‰ª∂ÁõëÂê¨Âô®ÔºåÁõëÂê¨Spring‰∏ä‰∏ãÊñáÂÖ≥Èó≠‰∫ã‰ª∂„ÄÇÂú®com.example.demo‰∏ãÊñ∞Âª∫listenerÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ContextClosedEventListenerÁ±ªÔºåÂÆûÁé∞ApplicationListenerÊé•Âè£Ôºö12345678@Order(Ordered.HIGHEST_PRECEDENCE)public class ContextClosedEventListener implements ApplicationListener&lt;ContextClosedEvent&gt; &#123; @Override public void onApplicationEvent(ContextClosedEvent event) &#123; System.out.println("ContextClosedEvent: " + event.getApplicationContext().getId()); &#125;&#125;‰∏äÈù¢‰ª£Á†ÅÂÆûÁé∞‰∫ÜÂØπContextClosedEvent‰∫ã‰ª∂ÁöÑÁõëÂê¨ÔºåÂπ∂‰∏îÂàÜÈÖç‰∫ÜÊúÄÈ´ò‰ºòÂÖàÁ∫ß„ÄÇÊé•ÁùÄÂàõÂª∫‰∏Ä‰∏™‰ºòÂÖàÁ∫ßÊØîContextClosedEventListener‰ΩéÁöÑÁõëÂê¨Âô®AfterContextClosedEventListenerÔºö1234567891011public class AfterContextClosedEventListener implements ApplicationListener&lt;ContextClosedEvent&gt;, Ordered &#123; @Override public void onApplicationEvent(ContextClosedEvent event) &#123; System.out.println("AfterContextClosedEventr: " + event.getApplicationContext().getId()); &#125; @Override public int getOrder() &#123; return Ordered.HIGHEST_PRECEDENCE + 1; &#125;&#125;ÊúÄÂêéÔºåÂà´Âøò‰∫ÜÂú®SpringÂ∑•ÂéÇÈÖçÁΩÆÊñá‰ª∂ÈáåËøõË°åÈÖçÁΩÆÔºö1234# Application Listenersorg.springframework.context.ApplicationListener=\com.example.demo.listener.ContextClosedEventListener,\com.example.demo.listener.AfterContextClosedEventListenerÂú®Spring BootÂÖ•Âè£Á±ª‰∏≠Â∞ÜÁéØÂ¢ÉÊåáÂÆö‰∏∫ÈùûWEBÁéØÂ¢ÉÔºàËøôÊ†∑Âú®ÂêØÂä®ÂêéÂ∫îÁî®‰ºöÈ©¨‰∏äÂÖ≥Èó≠Ôºâ:123new SpringApplicationBuilder(DemoApplication.class) .web(WebApplicationType.NONE) .run(args);ËøêË°åSpring BootÂÖ•Âè£Á±ªÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö Êé®Êñ≠ÂÖ•Âè£Á±ªÊé•ÁùÄÊûÑÈÄ†Âô®ÈáåÁöÑ‰ª£Á†Å‰∏ã‰∏ÄË°åthis.mainApplicationClass = deduceMainApplicationClass();Áî®‰∫éÊé®Êñ≠ËøêË°åSpring BootÂ∫îÁî®ÁöÑÂÖ•Âè£Á±ª„ÄÇÊü•ÁúãdeduceMainApplicationClassÊñπÊ≥ïÊ∫êÁ†ÅÔºö‰ª£Á†Å‰∏ªË¶ÅÈÄªËæëÊòØÊ†πÊçÆMainÁ∫øÁ®ãÊâßË°åÂ†ÜÊ†àÂà§Êñ≠ÂÆûÈôÖÁöÑÂÖ•Âè£Á±ª„ÄÇÂáÜÂ§áÈò∂ÊÆµ‰ªãÁªçÂÆåÊØïÂêéÔºåÊé•‰∏ãÊù•ÂºÄÂßã‰ªãÁªçËøêË°åÈò∂ÊÆµ„ÄÇSpringApplicationËøêË°åÈò∂ÊÆµSpringApplicationÁöÑËøêË°åÈò∂ÊÆµÂØπÂ∫îSpringApplicationÁöÑrunÊñπÊ≥ïÔºåÊàë‰ª¨Êü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; Collection&lt;SpringBootExceptionReporter&gt; exceptionReporters = new ArrayList&lt;&gt;(); configureHeadlessProperty(); SpringApplicationRunListeners listeners = getRunListeners(args); listeners.starting(); try &#123; ApplicationArguments applicationArguments = new DefaultApplicationArguments( args); ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); configureIgnoreBeanInfo(environment); Banner printedBanner = printBanner(environment); context = createApplicationContext(); exceptionReporters = getSpringFactoriesInstances( SpringBootExceptionReporter.class, new Class[]&#123;ConfigurableApplicationContext.class&#125;, context); prepareContext(context, environment, listeners, applicationArguments, printedBanner); refreshContext(context); afterRefresh(context, applicationArguments); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; listeners.started(context); callRunners(context, applicationArguments); &#125; catch (Throwable ex) &#123; handleRunFailure(context, ex, exceptionReporters, listeners); throw new IllegalStateException(ex); &#125; try &#123; listeners.running(context); &#125; catch (Throwable ex) &#123; handleRunFailure(context, ex, exceptionReporters, null); throw new IllegalStateException(ex); &#125; return context;&#125;ËøêË°åÈò∂ÊÆµÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫‰∏ãÈù¢ËøôÂá†‰∏™ËøáÁ®ãÔºöÂºÄÂêØÊó∂Èó¥ÁõëÂê¨runÊñπÊ≥ïÂºÄÂ§¥ÁöÑËøô‰∏§Ë°å‰ª£Á†ÅÁî®‰∫éÂºÄÂêØÊó∂Èó¥ÁõëÂê¨Ôºö12StopWatch stopWatch = new StopWatch();stopWatch.start();‰∏äÈù¢‰ª£Á†ÅÁî®‰∫éÂºÄÂêØSpring BootÂ∫îÁî®ÂêØÂä®Êó∂Èó¥ÁõëÂê¨ÔºåÈÖçÂêà‰∏ãÈù¢ÁöÑstopWatch.stop();‰æøÂèØ‰ª•ËÆ°ÁÆóÂá∫ÂÆåÊï¥ÁöÑÂêØÂä®Êó∂Èó¥„ÄÇÂºÄÂêØËøêË°åÁõëÂê¨Âô®runÊñπÊ≥ïÁöÑËøôÂá†Ë°å‰ª£Á†ÅÁî®‰∫éÂä†ËΩΩSpringÂ∫îÁî®ËøêË°åÁõëÂê¨Âô®ÔºàSpringApplicationRunListenerÔºâÔºö12SpringApplicationRunListeners listeners = getRunListeners(args);listeners.started();getRunListenersÊñπÊ≥ïÊ∫êÁ†ÅÔºö12345private SpringApplicationRunListeners getRunListeners(String[] args) &#123; Class&lt;?&gt;[] types = new Class&lt;?&gt;[] &#123; SpringApplication.class, String[].class &#125;; return new SpringApplicationRunListeners(logger, getSpringFactoriesInstances( SpringApplicationRunListener.class, types, this, args));&#125;‰∏äÈù¢‰ª£Á†ÅÈÄöËøáSpringFactoriesLoaderÊ£ÄÁ¥¢META-INF/spring.factoriesÊâæÂà∞Â£∞ÊòéÁöÑÊâÄÊúâSpringApplicationRunListenerÁöÑÂÆûÁé∞Á±ªÂπ∂Â∞ÜÂÖ∂ÂÆû‰æãÂåñÔºåÁÑ∂ÂêéË£ÖÈÖçÂà∞List&lt;SpringApplicationRunListener&gt;ËøêË°åÁõëÂê¨Âô®ÈõÜÂêà‰∏≠„ÄÇlisteners.started();Áî®‰∫éÈÅçÂéÜËøêË°åÁõëÂê¨Âô®ÈõÜÂêà‰∏≠ÁöÑÊâÄÊúâSpringApplicationRunListenerÁöÑÂÆûÁé∞Á±ªÔºåÂπ∂ÈÄê‰∏ÄË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑstartingÊñπÊ≥ïÔºåÂπøÊí≠Spring BootÂ∫îÁî®Ë¶ÅÂºÄÂßãÂêØÂä®‰∫Ü„ÄÇÂú®Spring Boot‰∏≠SpringApplicationRunListenerÊé•Âè£Áî®‰∫éÁõëÂê¨Êï¥‰∏™Spring BootÂ∫îÁî®ÁîüÂëΩÂë®ÊúüÔºåÂÖ∂‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415public interface SpringApplicationRunListener &#123; void starting(); void environmentPrepared(ConfigurableEnvironment environment); void contextPrepared(ConfigurableApplicationContext context); void contextLoaded(ConfigurableApplicationContext context); void started(ConfigurableApplicationContext context); void running(ConfigurableApplicationContext context); void failed(ConfigurableApplicationContext context, Throwable exception);&#125;Ëøô‰∫õÊñπÊ≥ïÂØπÂ∫îÁùÄSpring BootÂ∫îÁî®ÁîüÂëΩÂë®ÊúüÁöÑÂêÑ‰∏™Èò∂ÊÆµÔºöÊñπÊ≥ïÂêçÁß∞ÂØπÂ∫îÁîüÂëΩÂë®ÊúüSpring BootËµ∑ÂßãÁâàÊú¨starting()Spring Â∫îÁî®ÂàöÂêØÂä®1.0environmentPrepared(ConfigurableEnvironment)ConfigurableEnvironment ÂáÜÂ§áÂÆåÊØïÔºåÂÖÅËÆ∏Â∞ÜÂÖ∂Ë∞ÉÊï¥1.0contextPrepared(ConfigurableApplicationContext)ConfigurableApplicationContext ÂáÜÂ§áÂÆåÊØïÔºåÂÖÅËÆ∏Â∞ÜÂÖ∂Ë∞ÉÊï¥1.0contextLoaded(ConfigurableApplicationContext)ConfigurableApplicationContext Â∑≤Ë£ÖËΩΩÔºå‰ΩÜ‰ªçÊú™ÂêØÂä®1.0started(ConfigurableApplicationContext)ConfigurableApplicationContext Â∑≤ÂêØÂä®ÔºåÊ≠§Êó∂ Spring Bean Â∑≤ÂàùÂßãÂåñÂÆåÊàê2.0running(ConfigurableApplicationContext)Spring Â∫îÁî®Ê≠£Âú®ËøêË°å2.0failed(ConfigurableApplicationContext,Throwable)Spring Â∫îÁî®ËøêË°åÂ§±Ë¥•2.0Êàë‰ª¨Âú®com.example.demo.linstener‰∏ãËá™ÂÆö‰πâ‰∏Ä‰∏™SpringApplicationRunListenerÊé•Âè£ÂÆûÁé∞Á±ªHelloSpringApplicationRunListenerÔºö12345678910111213141516171819202122232425262728293031323334353637383940public class HelloApplicationRunListener implements SpringApplicationRunListener &#123; public HelloApplicationRunListener(SpringApplication application, String[] args) &#123; &#125; @Override public void starting() &#123; System.out.println("HelloApplicationRunListener starting......"); &#125; @Override public void environmentPrepared(ConfigurableEnvironment environment) &#123; &#125; @Override public void contextPrepared(ConfigurableApplicationContext context) &#123; &#125; @Override public void contextLoaded(ConfigurableApplicationContext context) &#123; &#125; @Override public void started(ConfigurableApplicationContext context) &#123; &#125; @Override public void running(ConfigurableApplicationContext context) &#123; &#125; @Override public void failed(ConfigurableApplicationContext context, Throwable exception) &#123; &#125;&#125;ÈÄöËøáËøô‰∏™ÂÆûÁé∞Á±ªÔºåÊàë‰ª¨ÂèØ‰ª•Âú®Spring BootÂ∫îÁî®ÂàöÂêØÂä®ÁöÑÊó∂ÂÄôÂú®ÊéßÂà∂Âè∞ËæìÂá∫HelloApplicationRunListener starting......„ÄÇÂõ†‰∏∫ÂÖ∂Âü∫‰∫éSpringÁöÑÂ∑•ÂéÇÊñπÊ≥ïÊù•ÂÆûÁé∞ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂú®spring.factoriesÊñá‰ª∂ÈáåÈÖçÁΩÆËøô‰∏™ÂÆûÁé∞Á±ª:123# Run Listenersorg.springframework.boot.SpringApplicationRunListener=\com.example.demo.run.HelloApplicationRunListenerÂêØÂä®Spring BootÂ∫îÁî®‰æøÂèØ‰ª•Âú®ÊéßÂà∂Âè∞ÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫‰∫ÜÔºöÂàõÂª∫ EnvironmentrunÊñπÊ≥ï‰∏≠ÁöÑËøôË°å‰ª£Á†ÅÁî®‰∫éÂàõÂª∫Âπ∂ÈÖçÁΩÆÂΩìÂâçSpringBootÂ∫îÁî®Â∞ÜË¶Å‰ΩøÁî®ÁöÑEnvironmentÔºàÂåÖÊã¨ÈÖçÁΩÆË¶Å‰ΩøÁî®ÁöÑPropertySource‰ª•ÂèäProfileÔºâÔºö1ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments);Êàë‰ª¨Â∑≤ÁªèÂú®ÂáÜÂ§áÈò∂ÊÆµÈáåÊé®Êñ≠Âá∫‰∫ÜÂ∫îÁî®Á±ªÂûãÔºåËøôÈáåÂè™Ë¶ÅÊ†πÊçÆÁõ∏Â∫îÁöÑÂ∫îÁî®Á±ªÂûãÊù•ÂàõÂª∫Áõ∏Â∫îÁöÑÂ∫îÁî®ÁéØÂ¢ÉÂç≥ÂèØÔºåÁ±ªÂûãÂíåÁéØÂ¢ÉÂØπÂ∫îÂÖ≥Á≥ªÂ¶Ç‰∏ãÔºöWeb ReactiveÔºö StandardReactiveWebEnvironmentWeb ServletÔºö StandardServletEnvironmentÈùû WebÔºö StandardEnvironmentÂú®prepareEnvironmentÊñπÊ≥ï‰∏≠‰ºöÊâßË°ålisteners.environmentPrepared(environment);ÔºåÁî®‰∫éÈÅçÂéÜË∞ÉÁî®ÊâÄÊúâSpringApplicationRunListenerÂÆûÁé∞Á±ªÁöÑenvironmentPrepared()ÊñπÊ≥ïÔºåÂπøÊí≠EnvironmentÂáÜÂ§áÂÆåÊØï„ÄÇÊòØÂê¶ÊâìÂç∞BannerrunÊñπÊ≥ï‰∏≠ÁöÑËøôË°å‰ª£Á†Å‰ºöÊ†πÊçÆÊàë‰ª¨ÁöÑÈÖçÁΩÆÊù•ÂÜ≥ÂÆöÊòØÂê¶ÊâìÂç∞BannerÔºö1Banner printedBanner = printBanner(environment);ÂàõÂª∫ContextrunÊñπÊ≥ï‰∏≠ÁöÑËøôË°å‰ª£Á†ÅÁî®‰∫éÂàõÂª∫ApplicationContextÔºö1context = createApplicationContext();‰∏çÂêåÁöÑÁéØÂ¢ÉÂØπÂ∫î‰∏çÂêåÁöÑApplicationContextÔºöWeb ReactiveÔºö AnnotationConfigReactiveWebServerApplicationContextWeb ServletÔºö AnnotationConfigServletWebServerApplicationContextÈùû WebÔºö AnnotationConfigApplicationContextË£ÖÈÖçContextrunÊñπÊ≥ï‰∏≠ÁöÑËøôË°å‰ª£Á†ÅÁî®‰∫éË£ÖÈÖçContextÔºö1prepareContext(context, environment, listeners, applicationArguments, printedBanner);ÊñπÊ≥ïprepareContextÁöÑÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫:123456789101112131415161718192021222324252627private void prepareContext(ConfigurableApplicationContext context, ConfigurableEnvironment environment, SpringApplicationRunListeners listeners, ApplicationArguments applicationArguments, Banner printedBanner) &#123; context.setEnvironment(environment); postProcessApplicationContext(context); applyInitializers(context); listeners.contextPrepared(context); if (this.logStartupInfo) &#123; logStartupInfo(context.getParent() == null); logStartupProfileInfo(context); &#125; // Add boot specific singleton beans ConfigurableListableBeanFactory beanFactory = context.getBeanFactory(); beanFactory.registerSingleton("springApplicationArguments", applicationArguments); if (printedBanner != null) &#123; beanFactory.registerSingleton("springBootBanner", printedBanner); &#125; if (beanFactory instanceof DefaultListableBeanFactory) &#123; ((DefaultListableBeanFactory) beanFactory) .setAllowBeanDefinitionOverriding(this.allowBeanDefinitionOverriding); &#125; // Load the sources Set&lt;Object&gt; sources = getAllSources(); Assert.notEmpty(sources, "Sources must not be empty"); load(context, sources.toArray(new Object[0])); listeners.contextLoaded(context);&#125;prepareContextÊñπÊ≥ïÂºÄÂ§¥‰∏∫ApplicationContextÂä†ËΩΩ‰∫ÜenvironmentÔºå‰πãÂêéÈÄöËøáapplyInitializersÊñπÊ≥ïÈÄê‰∏™ÊâßË°åApplicationContextInitializerÁöÑinitializeÊñπÊ≥ïÊù•Ëøõ‰∏ÄÊ≠•Â∞ÅË£ÖApplicationContextÔºåÂπ∂Ë∞ÉÁî®ÊâÄÊúâÁöÑSpringApplicationRunListenerÂÆûÁé∞Á±ªÁöÑcontextPreparedÊñπÊ≥ïÔºåÂπøÊí≠ApplicationContextÂ∑≤ÁªèÂáÜÂ§áÂÆåÊØï‰∫Ü„ÄÇ‰πãÂêéÂàùÂßãÂåñIOCÂÆπÂô®ÔºåÂπ∂Ë∞ÉÁî®SpringApplicationRunListenerÂÆûÁé∞Á±ªÁöÑcontextLoadedÊñπÊ≥ïÔºåÂπøÊí≠ApplicationContextÂä†ËΩΩÂÆåÊàêÔºåËøôÈáåÂ∞±ÂåÖÊã¨ÈÄöËøá@EnableAutoConfigurationÂØºÂÖ•ÁöÑÂêÑÁßçËá™Âä®ÈÖçÁΩÆÁ±ª„ÄÇRefresh ContextrunÊñπÊ≥ï‰∏≠ÁöÑËøôË°å‰ª£Á†ÅÁî®‰∫éÂàùÂßãÂåñÊâÄÊúâËá™Âä®ÈÖçÁΩÆÁ±ªÔºåÂπ∂Ë∞ÉÁî®ApplicationContextÁöÑrefreshÊñπÊ≥ïÔºö1refreshContext(context);ÂπøÊí≠Â∫îÁî®Â∑≤ÂêØÂä®runÊñπÊ≥ï‰∏≠ÁöÑËøôË°å‰ª£Á†ÅÁî®‰∫éÂπøÊí≠Spring BootÂ∫îÁî®Â∑≤ÂêØÂä®Ôºö1listeners.started(context);startedÊñπÊ≥ï‰ºöË∞ÉÁî®ÊâÄÊúâÁöÑSpringApplicationRunListenerÁöÑfinishedÊñπÊ≥ïÔºåÂπøÊí≠SpringBootÂ∫îÁî®Â∑≤ÁªèÊàêÂäüÂêØÂä®„ÄÇÊâßË°åRunnerrunÊñπÊ≥ï‰∏≠ÁöÑËøôË°å‰ª£Á†ÅcallRunners(context, applicationArguments);ÈÅçÂéÜÊâÄÊúâApplicationRunnerÂíåCommandLineRunnerÁöÑÂÆûÁé∞Á±ªÔºåÂπ∂ÊâßË°åÂÖ∂runÊñπÊ≥ï„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞Ëá™Â∑±ÁöÑApplicationRunnerÊàñËÄÖCommandLineRunnerÔºåÊù•ÂØπSpring BootÁöÑÂêØÂä®ËøáÁ®ãËøõË°åÊâ©Â±ï„ÄÇÊàë‰ª¨Âú®com.example.demo‰∏ãÊñ∞Âª∫runnerÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ApplicationRunnerÁöÑÂÆûÁé∞Á±ªHelloApplicationRunnerÔºö1234567@Componentpublic class HelloApplicationRunner implements ApplicationRunner &#123; @Override public void run(ApplicationArguments args) &#123; System.out.println("HelloApplicationRunner: hello spring boot"); &#125;&#125;ËøôÈáåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜHelloApplicationRunner‰ΩøÁî®@ComponentÊ≥®Ëß£Ê†áÊ≥®ÔºåËÆ©ÂÖ∂Ê≥®ÂÜåÂà∞IOCÂÆπÂô®‰∏≠„ÄÇÁÑ∂ÂêéÂÜçÂàõÂª∫‰∏Ä‰∏™CommandLineRunnerÁöÑÂÆûÁé∞Á±ªHelloCommandLineRunnerÔºö1234567@Componentpublic class HelloCommandLineRunner implements CommandLineRunner &#123; @Override public void run(String... args) &#123; System.out.println("HelloCommandLineRunner: hello spring boot"); &#125;&#125;ÂêØÂä®Spring BootÂ∫îÁî®Ôºå‰æøÂèØ‰ª•Âú®Â∫îÁî®ÂàöÂêØÂä®Â•ΩÂêéÁúãÂà∞Â¶Ç‰∏ãËæìÂá∫ÔºöÂπøÊí≠Â∫îÁî®ËøêË°å‰∏≠runÊñπÊ≥ï‰∏≠ÁöÑËøôË°å‰ª£Á†Ålisteners.running(context);Áî®‰∫éË∞ÉÁî®SpringApplicationRunListenerÁöÑrunningÊñπÊ≥ïÔºåÂπøÊí≠Spring BootÂ∫îÁî®Ê≠£Âú®ËøêË°å‰∏≠„ÄÇÂΩìrunÊñπÊ≥ïËøêË°åÂá∫Áé∞ÂºÇÂ∏∏Êó∂Ôºå‰æø‰ºöË∞ÉÁî®handleRunFailureÊñπÊ≥ïÊù•Â§ÑÁêÜÂºÇÂ∏∏ÔºåËØ•ÊñπÊ≥ïÈáå‰ºöÈÄöËøálisteners.failed(context, exception);Êù•Ë∞ÉÁî®SpringApplicationRunListenerÁöÑfailedÊñπÊ≥ïÔºåÂπøÊí≠Â∫îÁî®ÂêØÂä®Â§±Ë¥•ÔºåÂπ∂Â∞ÜÂºÇÂ∏∏Êâ©Êï£Âá∫Âéª„ÄÇ‰∏äÈù¢ÊâÄÊúâÁöÑÂπøÊí≠‰∫ã‰ª∂ÈÉΩÊòØ‰ΩøÁî®SpringÁöÑÂ∫îÁî®‰∫ã‰ª∂ÂπøÊí≠Âô®Êé•Âè£ApplicationEventMulticasterÁöÑÂÆûÁé∞Á±ªSimpleApplicationEventMulticasterÊù•ËøõË°åÂπøÊí≠ÁöÑ„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/45.Spring-Boot-SpringApplication]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•Â≠¶‰π†Spring BootËá™Âä®Ë£ÖÈÖç]]></title>
    <url>%2Fdeepin-springboot-autoconfig.html</url>
    <content type="text"><![CDATA[Ê®°ÂºèÊ≥®Ëß£Stereotype Annotation‰øóÁß∞‰∏∫Ê®°ÂºèÊ≥®Ëß£ÔºåSpring‰∏≠Â∏∏ËßÅÁöÑÊ®°ÂºèÊ≥®Ëß£Êúâ@ServiceÔºå@RepositoryÔºå@ControllerÁ≠âÔºåÂÆÉ‰ª¨ÈÉΩ‚ÄúÊ¥æÁîü‚ÄùËá™@ComponentÊ≥®Ëß£„ÄÇÊàë‰ª¨ÈÉΩÁü•ÈÅìÔºåÂá°ÊòØË¢´@ComponentÊ†áÊ≥®ÁöÑÁ±ªÈÉΩ‰ºöË¢´SpringÊâ´ÊèèÂπ∂Á∫≥ÂÖ•Âà∞IOCÂÆπÂô®‰∏≠ÔºåÈÇ£‰πàÁî±@ComponentÊ¥æÁîüÁöÑÊ≥®Ëß£ÊâÄÊ†áÊ≥®ÁöÑÁ±ª‰πü‰ºöË¢´Êâ´ÊèèÂà∞IOCÂÆπÂô®‰∏≠„ÄÇ‰∏ãÈù¢Êàë‰ª¨‰∏ªË¶ÅÈÄöËøáËá™ÂÆö‰πâÊ®°ÂºèÊ≥®Ëß£Êù•‰∫ÜËß£@ComponentÁöÑ‚ÄúÊ¥æÁîüÊÄß‚ÄùÂíå‚ÄúÂ±ÇÊ¨°ÊÄß‚Äù„ÄÇ@Component ‚ÄúÊ¥æÁîüÊÄß‚ÄùÊñ∞Âª∫‰∏Ä‰∏™Spring BootÂ∑•Á®ãÔºåSpring BootÁâàÊú¨‰∏∫2.1.0.RELEASEÔºåartifactId‰∏∫autoconfigÔºåÂπ∂ÂºïÂÖ•spring-boot-starter-web‰æùËµñ„ÄÇÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫:Âú®com.example.demo‰∏ãÊñ∞Âª∫annotationÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™FirstLevelServiceÊ≥®Ëß£Ôºö1234567@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Servicepublic @interface FirstLevelService &#123; String value() default "";&#125;Ëøô‰∏™Ê≥®Ëß£ÂÆö‰πâÁî±@ServiceÊ†áÊ≥®ÔºåÊü•Áúã@ServiceÁöÑÊ∫êÁ†Å‰ºöÂèëÁé∞ÂÖ∂Ë¢´@ComponentÊ≥®Ëß£Ê†áÊ≥®ÔºåÊâÄ‰ª•ÂÆÉ‰ª¨ÁöÑÂ±ÇÊ¨°ÂÖ≥Á≥ª‰∏∫:123‚îî‚îÄ@Component ‚îî‚îÄ@Service ‚îî‚îÄ@FirstLevelServiceÂç≥@FirstLevelService‰∏∫@ComponentÊ¥æÁîüÂá∫Êù•ÁöÑÊ®°ÂºèÊ≥®Ëß£ÔºåÊàë‰ª¨Êù•ÊµãËØï‰∏Ä‰∏ãË¢´ÂÆÉÊ†áÊ≥®ÁöÑÁ±ªÊòØÂê¶ËÉΩÂ§üË¢´Êâ´ÊèèÂà∞IOCÂÆπÂô®‰∏≠ÔºöÂú®com.example.demo‰∏ãÊñ∞Âª∫serviceÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™TestServiceÁ±ªÔºö123@FirstLevelServicepublic class TestService &#123;&#125;Âú®com.example.demo‰∏ãÊñ∞Âª∫bootstrapÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ServiceBootStrapÁ±ªÔºåÁî®‰∫éÊµãËØïÊ≥®ÂÜåTestServiceÂπ∂‰ªéIOCÂÆπÂô®‰∏≠Ëé∑ÂèñÂÆÉÔºö123456789101112@ComponentScan("com.example.demo.service")public class ServiceBootstrap &#123; public static void main(String[] args) &#123; ConfigurableApplicationContext context = new SpringApplicationBuilder(ServiceBootstrap.class) .web(WebApplicationType.NONE) .run(args); TestService testService = context.getBean("testService", TestService.class); System.out.println("TestService Bean: " + testService); context.close(); &#125;&#125;ËøêË°åËØ•Á±ªÁöÑmainÊñπÊ≥ïÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö@Component ‚ÄúÂ±ÇÊ¨°ÊÄß‚ÄùÊàë‰ª¨Âú®com.example.demo.annotationË∑ØÂæÑ‰∏ãÂÜçÂàõÂª∫‰∏Ä‰∏™SecondLevelServiceÊ≥®Ëß£ÂÆö‰πâÔºåËØ•Ê≥®Ëß£Áî±‰∏äÈù¢ÁöÑ@FirstLevelServiceÊ†áÊ≥®Ôºö1234567@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@FirstLevelServicepublic @interface SecondLevelService &#123; String value() default "";&#125;ËøôÊó∂ÂÄôÂ±ÇÊ¨°ÂÖ≥Á≥ª‰∏∫Ôºö1234‚îî‚îÄ@Component ‚îî‚îÄ@Service ‚îî‚îÄ@FirstLevelService ‚îî‚îÄ@SecondLevelServiceÊàë‰ª¨Â∞ÜTestService‰∏äÁöÑÊ≥®Ëß£Êç¢Êàê@SecondLevelServiceÔºåÁÑ∂ÂêéÂÜçÊ¨°ËøêË°åServiceBootStrapÁöÑmainÊñπÊ≥ïÔºåËæìÂá∫Â¶Ç‰∏ãÔºöÂèØËßÅÁªìÊûú‰πüÊòØÊàêÂäüÁöÑ„ÄÇËøôÈáåÊúâ‰∏ÄÁÇπÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºö@ComponentÊ≥®Ëß£Âè™ÂåÖÂê´‰∏Ä‰∏™valueÂ±ûÊÄßÂÆö‰πâÔºåÊâÄ‰ª•ÂÖ∂‚ÄúÊ¥æÁîü‚ÄùÁöÑÊ≥®Ëß£‰πüÂè™ËÉΩÂåÖÂê´‰∏Ä‰∏™valueÂ±ûÊÄßÂÆö‰πâ„ÄÇ@EnableÊ®°ÂùóÈ©±Âä®@EnableÊ®°ÂùóÈ©±Âä®Âú®Spring Framework 3.1ÂêéÂºÄÂßãÊîØÊåÅ„ÄÇËøôÈáåÁöÑÊ®°ÂùóÈÄö‰øóÁöÑÊù•ËØ¥Â∞±ÊòØ‰∏Ä‰∫õ‰∏∫‰∫ÜÂÆûÁé∞Êüê‰∏™ÂäüËÉΩÁöÑÁªÑ‰ª∂ÁöÑÈõÜÂêà„ÄÇÈÄöËøá@EnableÊ®°ÂùóÈ©±Âä®ÔºåÊàë‰ª¨ÂèØ‰ª•ÂºÄÂêØÁõ∏Â∫îÁöÑÊ®°ÂùóÂäüËÉΩ„ÄÇ@EnableÊ®°ÂùóÈ©±Âä®ÂèØ‰ª•ÂàÜ‰∏∫‚ÄúÊ≥®Ëß£È©±Âä®‚ÄùÂíå‚ÄúÊé•Âè£ÁºñÁ®ã‚Äù‰∏§ÁßçÂÆûÁé∞ÊñπÂºèÔºå‰∏ãÈù¢ÈÄê‰∏ÄËøõË°åÊºîÁ§∫ÔºöÊ≥®Ëß£È©±Âä®Spring‰∏≠ÔºåÂü∫‰∫éÊ≥®Ëß£È©±Âä®ÁöÑÁ§∫‰æãÂèØ‰ª•Êü•Áúã@EnableWebMvcÊ∫êÁ†ÅÔºö123456@Retention(RetentionPolicy.RUNTIME)@Target(&#123;ElementType.TYPE&#125;)@Documented@Import(&#123;DelegatingWebMvcConfiguration.class&#125;)public @interface EnableWebMvc &#123;&#125;ËØ•Ê≥®Ëß£ÈÄöËøá@ImportÂØºÂÖ•‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªDelegatingWebMvcConfigurationÔºöËØ•ÈÖçÁΩÆÁ±ªÂèàÁªßÊâøËá™WebMvcConfigurationSupportÔºåÈáåÈù¢ÂÆö‰πâ‰∫Ü‰∏Ä‰∫õBeanÁöÑÂ£∞Êòé„ÄÇÊâÄ‰ª•ÔºåÂü∫‰∫éÊ≥®Ëß£È©±Âä®ÁöÑ@EnableÊ®°ÂùóÈ©±Âä®ÂÖ∂ÂÆûÂ∞±ÊòØÈÄöËøá@ImportÊù•ÂØºÂÖ•‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºå‰ª•Ê≠§ÂÆûÁé∞Áõ∏Â∫îÊ®°ÂùóÁöÑÁªÑ‰ª∂Ê≥®ÂÜåÔºåÂΩìËøô‰∫õÁªÑ‰ª∂Ê≥®ÂÜåÂà∞IOCÂÆπÂô®‰∏≠ÔºåËøô‰∏™Ê®°ÂùóÂØπÂ∫îÁöÑÂäüËÉΩ‰πüÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫Ü„ÄÇÊàë‰ª¨Êù•ÂÆö‰πâ‰∏Ä‰∏™Âü∫‰∫éÊ≥®Ëß£È©±Âä®ÁöÑ@EnableÊ®°ÂùóÈ©±Âä®„ÄÇÂú®com.example.demo‰∏ãÊñ∞Âª∫configurationÂåÖÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™HelloWorldConfigurationÈÖçÁΩÆÁ±ªÔºö12345678@Configurationpublic class HelloWorldConfiguration &#123; @Bean public String hello() &#123; return "hello world"; &#125;&#125;Ëøô‰∏™ÈÖçÁΩÆÁ±ªÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫helloÁöÑBeanÔºåÂÜÖÂÆπ‰∏∫hello world„ÄÇÂú®com.example.demo.annotation‰∏ãÂàõÂª∫‰∏Ä‰∏™EnableHelloWorldÊ≥®Ëß£ÂÆö‰πâÔºö123456@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Import(HelloWorldConfiguration.class)public @interface EnableHelloWorld &#123;&#125;Êàë‰ª¨Âú®ËØ•Ê≥®Ëß£Á±ª‰∏äÈÄöËøá@ImportÂØºÂÖ•‰∫ÜÂàöÂàöÂàõÂª∫ÁöÑÈÖçÁΩÆÁ±ª„ÄÇÊé•ÁùÄÂú®com.example.demo.bootstrap‰∏ãÂàõÂª∫‰∏Ä‰∏™TestEnableBootstapÂêØÂä®Á±ªÊù•ÊµãËØï@EnableHelloWorldÊ≥®Ëß£ÊòØÂê¶ÁîüÊïàÔºö1234567891011@EnableHelloWorldpublic class TestEnableBootstap &#123; public static void main(String[] args) &#123; ConfigurableApplicationContext context = new SpringApplicationBuilder(TestEnableBootstap.class) .web(WebApplicationType.NONE) .run(args); String hello = context.getBean("hello", String.class); System.out.println("hello Bean: " + hello); context.close(); &#125;&#125;ËøêË°åËØ•Á±ªÁöÑmainÊñπÊ≥ïÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöËØ¥ÊòéÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑÂü∫‰∫éÊ≥®Ëß£È©±Âä®ÁöÑ@EnableHelloWorldÊòØÂèØË°åÁöÑ„ÄÇÊé•Âè£ÁºñÁ®ãÈô§‰∫Ü‰ΩøÁî®‰∏äÈù¢Ëøô‰∏™ÊñπÂºèÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáÊé•Âè£ÁºñÁ®ãÁöÑÊñπÂºèÊù•ÂÆûÁé∞@EnableÊ®°ÂùóÈ©±Âä®„ÄÇSpring‰∏≠ÔºåÂü∫‰∫éÊé•Âè£ÁºñÁ®ãÊñπÂºèÁöÑÊúâ@EnableCachingÊ≥®Ëß£ÔºåÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºö1234567891011@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Import(&#123;CachingConfigurationSelector.class&#125;)public @interface EnableCaching &#123; boolean proxyTargetClass() default false; AdviceMode mode() default AdviceMode.PROXY; int order() default 2147483647;&#125;EnableCachingÊ≥®Ëß£ÈÄöËøá@ImportÂØºÂÖ•‰∫ÜCachingConfigurationSelectorÁ±ªÔºåËØ•Á±ªÈó¥Êé•ÂÆûÁé∞‰∫ÜImportSelectorÊé•Âè£ÔºåÂú® Ê∑±ÂÖ•Â≠¶‰π†SpringÁªÑ‰ª∂Ê≥®ÂÜå ‰∏≠ÔºåÊàë‰ª¨Êõæ‰ªãÁªç‰∫ÜÂèØ‰ª•ÈÄöËøáImportSelectorÊù•ÂÆûÁé∞ÁªÑ‰ª∂Ê≥®ÂÜå„ÄÇÊâÄ‰ª•ÈÄöËøáÊé•Âè£ÁºñÁ®ãÂÆûÁé∞@EnableÊ®°ÂùóÈ©±Âä®ÁöÑÊú¨Ë¥®ÊòØÔºöÈÄöËøá@ImportÊù•ÂØºÂÖ•Êé•Âè£ImportSelectorÂÆûÁé∞Á±ªÔºåËØ•ÂÆûÁé∞Á±ªÈáåÂèØ‰ª•ÂÆö‰πâÈúÄË¶ÅÊ≥®ÂÜåÂà∞IOCÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂Ôºå‰ª•Ê≠§ÂÆûÁé∞Áõ∏Â∫îÊ®°ÂùóÂØπÂ∫îÁªÑ‰ª∂ÁöÑÊ≥®ÂÜå„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨Ê†πÊçÆËøô‰∏™ÊÄùË∑ØÊù•Ëá™‰∏™ÂÆûÁé∞‰∏ÄÈÅçÔºöÂú®com.example.demo‰∏ãÊñ∞Âª∫selectorÂåÖÔºåÁÑ∂ÂêéÂú®ËØ•Ë∑ØÂæÑ‰∏ãÊñ∞Âª∫‰∏Ä‰∏™HelloWorldImportSelectorÂÆûÁé∞ImportSelectorÊé•Âè£Ôºö123456public class HelloWorldImportSelector implements ImportSelector &#123; @Override public String[] selectImports(AnnotationMetadata importingClassMetadata) &#123; return new String[]&#123;HelloWorldConfiguration.class.getName()&#125;; &#125;&#125;Â¶ÇÊûúÁúã‰∏çÊáÇ‰∏äÈù¢ËøôÊÆµ‰ª£Á†ÅÂê´‰πâÁöÑÊúãÂèãÂèØ‰ª•ÈòÖËØªÊ∑±ÂÖ•Â≠¶‰π†SpringÁªÑ‰ª∂Ê≥®ÂÜå‰∏ÄÊñá„ÄÇÊé•ÁùÄÊàë‰ª¨‰øÆÊîπEnableHelloWorldÔºö123456@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Import(HelloWorldImportSelector.class)public @interface EnableHelloWorld &#123;&#125;‰∏äÈù¢ÂØºÂÖ•ÁöÑÊòØHelloWorldImportSelectorÔºåËÄåÈùûHelloWorldConfiguration„ÄÇÂÜçÊ¨°ËøêË°åTestEnableBootstapÁöÑmainÊñπÊ≥ïÔºå‰Ω†‰ºöÂèëÁé∞ËæìÂá∫ÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇËá™Âä®Ë£ÖÈÖçSpring Boot‰∏≠ÁöÑËá™Âä®Ë£ÖÈÖçÊäÄÊúØÂ∫ïÂ±Ç‰∏ªË¶ÅÁî®Âà∞‰∫Ü‰∏ãÈù¢Ëøô‰∫õÊäÄÊúØ:Spring Ê®°ÂºèÊ≥®Ëß£Ë£ÖÈÖçSpring @Enable Ê®°ÂùóË£ÖÈÖçSpring Êù°‰ª∂Ë£ÖÈÖçË£ÖÔºàÊ∑±ÂÖ•Â≠¶‰π†SpringÁªÑ‰ª∂Ê≥®ÂÜå‰∏≠Êúâ‰ªãÁªçÔºâSpring Â∑•ÂéÇÂä†ËΩΩÊú∫Âà∂Spring Â∑•ÂéÇÂä†ËΩΩÊú∫Âà∂ÁöÑÂÆûÁé∞Á±ª‰∏∫SpringFactoriesLoaderÔºåÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºöËØ•Á±ªÁöÑÊñπÊ≥ï‰ºöËØªÂèñMETA-INFÁõÆÂΩï‰∏ãÁöÑspring.factoriesÈÖçÁΩÆÊñá‰ª∂ÔºåÊàë‰ª¨Êü•Áúãspring-boot-autoconfigure-2.1.0.RELEASE.jar‰∏ãÁöÑËØ•Êñá‰ª∂ÔºöÂΩìÂêØÂä®Á±ªË¢´@EnableAutoConfigurationÊ†áÊ≥®ÂêéÔºå‰∏äÈù¢Êà™Âõæ‰∏≠ÁöÑÊâÄÊúâÁ±ªSpringÈÉΩ‰ºöÂéªÊâ´ÊèèÔºåÁúãÊòØÂê¶ÂèØ‰ª•Á∫≥ÂÖ•Âà∞IOCÂÆπÂô®‰∏≠ËøõË°åÁÆ°ÁêÜ„ÄÇÊØîÂ¶ÇÊàë‰ª¨Êü•Áúãorg.springframework.boot.autoconfigure.data.redis.RedisAutoConfigurationÁöÑÊ∫êÁ†ÅÔºöÂèØÁúãÂà∞ËØ•Á±ª‰∏äÊ†áÊ≥®‰∫Ü‰∏Ä‰∫õÊ≥®Ëß£ÔºåÂÖ∂‰∏≠@Configuration‰∏∫Ê®°ÂºèÊ≥®Ëß£Ôºå@EnableConfigurationProperties‰∏∫Ê®°ÂùóË£ÖÈÖçÊäÄÊúØÔºåConditionalOnClass‰∏∫Êù°‰ª∂Ë£ÖÈÖçÊäÄÊúØ„ÄÇËøôÂíåÊàë‰ª¨‰∏äÈù¢ÂàóÂá∫ÁöÑSpring BootËá™Âä®Ë£ÖÈÖçÂ∫ïÂ±Ç‰∏ªË¶ÅÊäÄÊúØ‰∏ÄËá¥ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Ê†πÊçÆËøô‰∏™ÊÄùË∑ØÊù•Ëá™ÂÆö‰πâ‰∏Ä‰∏™Ëá™Âä®Ë£ÖÈÖçÂÆûÁé∞„ÄÇÊñ∞Âª∫‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªHelloWorldAutoConfigurationÔºö12345@Configuration@EnableHelloWorld@ConditionalOnProperty(name = "helloworld", havingValue = "true")public class HelloWorldAutoConfiguration &#123;&#125;ÁÑ∂ÂêéÂú®resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫META-INFÁõÆÂΩïÔºåÂπ∂ÂàõÂª∫spring.factoriesÊñá‰ª∂Ôºö123# Auto Configureorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\com.example.demo.configuration.HelloWorldAutoConfigurationÊé•ÁùÄÂú®ÈÖçÁΩÆÊñá‰ª∂application.properties‰∏≠Ê∑ªÂä†helloworld=trueÈÖçÁΩÆ1helloworld=trueÊúÄÂêéÂàõÂª∫EnableAutoConfigurationBootstrapÔºåÊµãËØï‰∏ãHelloWorldAutoConfigurationÊòØÂê¶ÁîüÊïàÔºö123456789101112@EnableAutoConfigurationpublic class EnableAutoConfigurationBootstrap &#123; public static void main(String[] args) &#123; ConfigurableApplicationContext context = new SpringApplicationBuilder(EnableAutoConfigurationBootstrap.class) .web(WebApplicationType.NONE) .run(args); String hello = context.getBean("hello", String.class); System.out.println("hello Bean: " + hello); context.close(); &#125;&#125;ËøêË°åËØ•mainÊñπÊ≥ïÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöËØ¥ÊòéÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑËá™Âä®Ë£ÖÈÖçÂ∑≤ÁªèÊàêÂäü‰∫Ü„ÄÇ‰∏ãÈù¢ÁÆÄË¶ÅÂàÜÊûê‰∏ã‰ª£Á†ÅÁöÑËøêË°åÈÄªËæëÔºöSpring ÁöÑÂ∑•ÂéÇÂä†ËΩΩÊú∫Âà∂‰ºöËá™Âä®ËØªÂèñMETA-INFÁõÆÂΩï‰∏ãspring.factoriesÊñá‰ª∂ÂÜÖÂÆπÔºõÊàë‰ª¨Âú®spring.factoriesÂÆö‰πâ‰∫ÜÔºö12org.springframework.boot.autoconfigure.EnableAutoConfiguration=\com.example.demo.configuration.HelloWorldAutoConfigurationÊàë‰ª¨Âú®ÊµãËØïÁ±ª‰∏ä‰ΩøÁî®‰∫Ü@EnableAutoConfigurationÊ≥®Ëß£Ê†áÊ≥®ÔºåÈÇ£‰πàHelloWorldAutoConfigurationÂ∞±‰ºöË¢´SpringÊâ´ÊèèÔºåÁúãÊòØÂê¶Á¨¶ÂêàË¶ÅÊ±ÇÔºåÂ¶ÇÊûúÁ¨¶ÂêàÂàôÁ∫≥ÂÖ•Âà∞IOCÂÆπÂô®‰∏≠ÔºõHelloWorldAutoConfiguration‰∏äÁöÑ@ConditionalOnPropertyÁöÑÊ≥®Ëß£‰ΩúÁî®‰∏∫ÔºöÂΩìÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆ‰∫Ühelloworld=trueÔºàÊàë‰ª¨Á°ÆÂÆûÊ∑ªÂä†‰∫ÜËøô‰∏™ÈÖçÁΩÆÔºåÊâÄ‰ª•Á¨¶ÂêàË¶ÅÊ±ÇÔºâÂàôËøô‰∏™Á±ªÁ¨¶ÂêàÊâ´ÊèèËßÑÂàôÔºõ@EnableHelloWorldÊ≥®Ëß£ÊòØÊàë‰ª¨ÂâçÈù¢‰æãÂ≠ê‰∏≠Ëá™ÂÆö‰πâÁöÑÊ®°ÂùóÈ©±Âä®Ê≥®Ëß£ÔºåÂÖ∂ÂºïÂÖ•‰∫ÜhelloËøô‰∏™BeanÔºåÊâÄ‰ª•IOCÂÆπÂô®‰∏≠‰æø‰ºöÂ≠òÂú®helloËøô‰∏™Bean‰∫ÜÔºõÈÄöËøá‰∏äÈù¢ÁöÑÊ≠•È™§ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøá‰∏ä‰∏ãÊñáËé∑ÂèñÂà∞helloËøô‰∏™Bean‰∫Ü„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºö https://github.com/wuyouzhuguli/SpringAll/tree/master/44.Spring-Boot-Autoconfiguration]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•Â≠¶‰π†Spring BeanÁîüÂëΩÂë®Êúü]]></title>
    <url>%2FSpring-Bean-Lifecycle.html</url>
    <content type="text"><![CDATA[ÊâÄË∞ìSpring BeanÁöÑÁîüÂëΩÂë®ÊúüÊåáÁöÑÊòØBean‰ªéÂàõÂª∫Âà∞ÂàùÂßãÂåñÂÜçÂà∞ÈîÄÊØÅÁöÑËøáÁ®ãÔºåËøô‰∏™ËøáÁ®ãÁî±IOCÂÆπÂô®ÁÆ°ÁêÜ„ÄÇ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑBeanÁîüÂëΩÂë®ÊúüÂèØ‰ª•ÂèÇËÄÉSpring BeanÁîüÂëΩÂë®Êúü„ÄÇËøôÈáåÊàë‰ª¨‰∏ªË¶ÅËÆ∞ÂΩï‰∏Ä‰∫õÂíåBeanÁîüÂëΩÂë®ÊúüÁõ∏ÂÖ≥ÁöÑÁªÜËäÇ„ÄÇBeanÁöÑÂàùÂßãÂåñÂíåÈîÄÊØÅÂú®Êï¥‰∏™ÁîüÂëΩÂë®ÊúüËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâBeanÁöÑÂàùÂßãÂåñÂíåÈîÄÊØÅÈí©Â≠êÂáΩÊï∞ÔºåÂΩìBeanÁöÑÁîüÂëΩÂë®ÊúüÂà∞ËææÁõ∏Â∫îÁöÑÈò∂ÊÆµÁöÑÊó∂ÂÄôÔºåSpring‰ºöË∞ÉÁî®Êàë‰ª¨Ëá™ÂÆö‰πâÁöÑBeanÁöÑÂàùÂßãÂåñÂíåÈîÄÊØÅÊñπÊ≥ï„ÄÇËá™ÂÆö‰πâBeanÂàùÂßãÂåñÂíåÈîÄÊØÅÊñπÊ≥ïÊúâÂ§öÁßçÊñπÂºèÔºå‰∏ãÈù¢ÈÄê‰∏Ä‰ªãÁªç„ÄÇ@Bean‰∏ä‰∏ÄËäÇ‰∏≠‰ªãÁªç‰∫ÜÂèØ‰ª•Âú®ÈÖçÁΩÆÁ±ª‰∏≠ÈÄöËøá@BeanÊ≥®Ëß£Êù•Ê≥®ÂÜåBeanÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáÂÆÉÊù•ÊåáÂÆöBeanÁöÑÂàùÂßãÂåñÂíåÊñπÊ≥ï„ÄÇ‰∏∫‰∫ÜÊºîÁ§∫ÔºåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™UserÁ±ªÔºö1234567891011public class User &#123; public User() &#123; System.out.println("Ë∞ÉÁî®Êó†ÂèÇÊûÑÈÄ†Âô®ÂàõÂª∫User"); &#125; public void init() &#123; System.out.println("ÂàùÂßãÂåñUser"); &#125; public void destory() &#123; System.out.println("ÈîÄÊØÅUser"); &#125;&#125;ÁÑ∂ÂêéÂú®ÈÖçÁΩÆÁ±ªÈáåÊ≥®ÂÜåËØ•ÁªÑ‰ª∂ÔºåÂπ∂ÊåáÂÆöÂàùÂßãÂåñÂíåÈîÄÊØÅÊñπÊ≥ïÔºö12345678@Configurationpublic class WebConfig &#123; @Bean(initMethod = "init", destroyMethod = "destory") public User user() &#123; return new User(); &#125;&#125;ÂÖ∂‰∏≠initMethod = &quot;init&quot;ÂíådestroyMethod = &quot;destory&quot;‰∏éUserÁ±ªÈáåÁöÑinitÔºådestoryÊñπÊ≥ïÁõ∏ÂØπÂ∫î„ÄÇÂú®Spring BootÂÖ•Âè£Á±ª‰∏≠ÊµãËØï:12345// ËøîÂõû IOC ÂÆπÂô®Ôºå‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆÔºå‰º†ÂÖ•ÈÖçÁΩÆÁ±ªAnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);User user = context.getBean(User.class);// ÂÖ≥Èó≠ IOC ÂÆπÂô®context.close();ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫:‰ªé‰∏äÈù¢ÁöÑËæìÂá∫Êàë‰ª¨ÁúãÂá∫Âú®ÂÆπÂô®ÂêØÂä®‰πãÂâçÔºåÂÖàË∞ÉÁî®ÂØπË±°ÁöÑÊó†ÂèÇÊûÑÈÄ†Âô®ÂàõÂª∫ÂØπË±°ÔºåÁÑ∂ÂêéË∞ÉÁî®ÂàùÂßãÂåñÊñπÊ≥ïÔºåÂú®ÂÆπÂô®ÂÖ≥Èó≠ÁöÑÊó∂ÂÄôË∞ÉÁî®ÈîÄÊØÅÊñπÊ≥ï„ÄÇ‰∏äÈù¢ÁöÑÊÉÖÂÜµÊòØÂØπ‰∫éÂçï‰æãËÄåË®ÄÁöÑÔºåÂ¶ÇÊûúÁªÑ‰ª∂ÊòØÂ§ö‰æãÊ®°ÂºèÂèàÊòØ‰ªÄ‰πàÊÉÖÂÜµÂë¢ÔºüÊàë‰ª¨Êää‰∏äÈù¢ÁöÑÁªÑ‰ª∂Ê≥®ÂÜåÈÖçÁΩÆÊîπ‰∏∫Â§ö‰æãÔºåÁÑ∂ÂêéÂÜçÊ¨°ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫:ÊéßÂà∂Âè∞ÁöÑËæìÂá∫ÂíåÊàë‰ª¨‰∏äËäÇËÆ®ËÆ∫ÁöÑ‰∏ÄËá¥ÔºåÂç≥Âú®Â§ö‰æãÊ®°Âºè‰∏ãÔºåIOCÂÆπÂô®ÂêØÂä®ÁöÑÊó∂ÂÄôÂπ∂‰∏ç‰ºöÂéªÂàõÂª∫ÂØπË±°ÔºåËÄåÊòØÂú®ÊØèÊ¨°Ëé∑ÂèñÁöÑÊó∂ÂÄôÊâç‰ºöÂéªË∞ÉÁî®ÊñπÊ≥ïÂàõÂª∫ÂØπË±°ÔºåÂàõÂª∫ÂÆåÂØπË±°ÂêéÂÜçË∞ÉÁî®ÂàùÂßãÂåñÊñπÊ≥ï„ÄÇ‰ΩÜÂú®ÂÆπÂô®ÂÖ≥Èó≠ÂêéÔºåSpringÂπ∂Ê≤°ÊúâË∞ÉÁî®Áõ∏Â∫îÁöÑÈîÄÊØÅÊñπÊ≥ïÔºåËøôÊòØÂõ†‰∏∫Âú®Â§ö‰æãÊ®°Âºè‰∏ãÔºåÂÆπÂô®‰∏ç‰ºöÁÆ°ÁêÜËøô‰∏™ÁªÑ‰ª∂ÔºàÂè™Ë¥üË¥£Âú®‰Ω†ÈúÄË¶ÅÁöÑÊó∂ÂÄôÂàõÂª∫Ëøô‰∏™ÁªÑ‰ª∂ÔºâÔºåÊâÄ‰ª•ÂÆπÂô®Âú®ÂÖ≥Èó≠ÁöÑÊó∂ÂÄôÂπ∂‰∏ç‰ºöË∞ÉÁî®Áõ∏Â∫îÁöÑÈîÄÊØÅÊñπÊ≥ï„ÄÇInitializingBean&amp;DisposableBeanÈô§‰∫Ü‰∏äÈù¢ËøôÁßçÊñπÂºèÊåáÂÆöÂàùÂßãÂåñÂíåÈîÄÊØÅÊñπÊ≥ïÂ§ñÔºåSpringËøò‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÂíåÂàùÂßãÂåñÔºåÈîÄÊØÅÁõ∏ÂØπÂ∫îÁöÑÊé•Âè£ÔºöInitializingBeanÊé•Âè£ÂåÖÂê´‰∏Ä‰∏™afterPropertiesSetÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞ËØ•Êé•Âè£ÔºåÁÑ∂ÂêéÂú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠ÁºñÂÜôÂàùÂßãÂåñÈÄªËæë„ÄÇDisposableBeanÊé•Âè£ÂåÖÂê´‰∏Ä‰∏™destoryÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞ËØ•Êé•Âè£ÔºåÁÑ∂ÂêéÂÜçËøô‰∏™ÊñπÊ≥ï‰∏≠ÁºñÂÜôÈîÄÊØÅÈÄªËæë„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Á±ªÔºåÂêçÁß∞‰∏∫BirdÔºåÁÑ∂ÂêéÂÆûÁé∞Ëøô‰∏§‰∏™Êé•Âè£Ôºö123456789101112131415public class Bird implements InitializingBean, DisposableBean &#123; public Bird() &#123; System.out.println("Ë∞ÉÁî®Êó†ÂèÇÊûÑÈÄ†Âô®ÂàõÂª∫Bird"); &#125; @Override public void destroy() &#123; System.out.println("ÈîÄÊØÅBird"); &#125; @Override public void afterPropertiesSet() &#123; System.out.println("ÂàùÂßãÂåñBird"); &#125;&#125;Âú®ÈÖçÁΩÆÁ±ª‰∏≠Ê≥®ÂÜåËøô‰∏™ÁªÑ‰ª∂:1234@Beanpublic Bird bird() &#123; return new Bird();&#125;ÊµãËØï‰∏ÄÊ≥¢Ôºö123AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);System.out.println("ÂÆπÂô®ÂàõÂª∫ÂÆåÊØï");context.close();ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫:@PostConstruct&amp;@PreDestroyÈô§‰∫Ü‰∏äÈù¢‰∏§ÁßçÊåáÂÆöÂàùÂßãÂåñÂíåÈîÄÊØÅÊñπÊ≥ïÁöÑÊñπÂºèÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®@PostConstructÂíå@PreDestroyÊ≥®Ëß£‰øÆÈ•∞ÊñπÊ≥ïÊù•ÊåáÂÆöÁõ∏Â∫îÁöÑÂàùÂßãÂåñÂíåÈîÄÊØÅÊñπÊ≥ï„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Á±ªÔºåÂêçÁß∞‰∏∫FishÔºö123456789101112131415public class Fish &#123; public Fish() &#123; System.out.println("Ë∞ÉÁî®Êó†ÂèÇÊûÑÈÄ†Âô®ÂàõÂª∫Fish"); &#125; @PostConstruct public void init() &#123; System.out.println("ÂàùÂßãÂåñFish"); &#125; @PreDestroy public void destory() &#123; System.out.println("ÈîÄÊØÅFish"); &#125;&#125;Âú®ÈÖçÁΩÆÁ±ª‰∏≠Ê≥®ÂÜåËøô‰∏™ÁªÑ‰ª∂:1234@Beanpublic Fish fish()&#123; return new Fish();&#125;ÊµãËØï‰∏ÄÊ≥¢Ôºö123AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);System.out.println("ÂÆπÂô®ÂàõÂª∫ÂÆåÊØï");context.close();ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫:ÊïàÊûúÂíå‰∏äÈù¢‰∏§ÁßçÊñπÂºè‰∏ÄËá¥„ÄÇËøô‰∏§‰∏™Ê≥®Ëß£Âπ∂ÈùûSpringÊèê‰æõÔºåËÄåÊòØJSR250ËßÑËåÉÊèê‰æõ„ÄÇBeanPostProcessorSpringÊèê‰æõ‰∫Ü‰∏Ä‰∏™BeanPostProcessorÊé•Âè£Ôºå‰øóÁß∞BeanÂêéÁΩÆÈÄöÁü•Â§ÑÁêÜÂô®ÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏§‰∏™ÊñπÊ≥ïpostProcessBeforeInitializationÂíåpostProcessAfterInitialization„ÄÇÂÖ∂‰∏≠postProcessBeforeInitializationÂú®ÁªÑ‰ª∂ÁöÑÂàùÂßãÂåñÊñπÊ≥ïË∞ÉÁî®‰πãÂâçÊâßË°åÔºåpostProcessAfterInitializationÂú®ÁªÑ‰ª∂ÁöÑÂàùÂßãÂåñÊñπÊ≥ïË∞ÉÁî®‰πãÂêéÊâßË°å„ÄÇÂÆÉ‰ª¨ÈÉΩÂåÖÂê´‰∏§‰∏™ÂÖ•ÂèÇÔºöbeanÔºöÂΩìÂâçÁªÑ‰ª∂ÂØπË±°ÔºõbeanNameÔºöÂΩìÂâçÁªÑ‰ª∂Âú®ÂÆπÂô®‰∏≠ÁöÑÂêçÁß∞„ÄÇ‰∏§‰∏™ÊñπÊ≥ïÈÉΩËøîÂõû‰∏Ä‰∏™ObjectÁ±ªÂûãÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ËøîÂõûÂΩìÂâçÁªÑ‰ª∂ÂØπË±°ÔºåÊàñËÄÖÂåÖË£ÖÂêéËøîÂõû„ÄÇÊàë‰ª¨Êù•ÂÆö‰πâ‰∏Ä‰∏™BeanPostProcessorÊé•Âè£ÁöÑÂÆûÁé∞Á±ªMyBeanPostProcessorÔºö123456789101112public class MyBeanPostProcessor implements BeanPostProcessor &#123; @Override public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123; System.out.println(beanName + " ÂàùÂßãÂåñ‰πãÂâçË∞ÉÁî®"); return bean; &#125; @Override public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123; System.out.println(beanName + " ÂàùÂßãÂåñ‰πãÂêéË∞ÉÁî®"); return bean; &#125;&#125;Âú®ÈÖçÁΩÆÁ±ª‰∏≠Ê≥®ÂÜåËØ•ÁªÑ‰ª∂:1234@Beanpublic MyBeanPostProcessor myBeanPostProcessor () &#123; return new MyBeanPostProcessor();&#125;ÂÜçÊ¨°ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫:Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/51.Spring-Bean-Lifecycle]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê∑±ÂÖ•Â≠¶‰π†SpringÁªÑ‰ª∂Ê≥®ÂÜå]]></title>
    <url>%2FSpring-Bean-Regist.html</url>
    <content type="text"><![CDATA[Êé•Ëß¶ËøáSpringÁöÑÂêåÂ≠¶ËÇØÂÆöÈÉΩÂê¨ËøáIOC„ÄÇÂú®‰º†ÁªüÁöÑJavaÁºñÁ®ã‰∏≠ÔºåÂΩìÈúÄË¶ÅÁî®Âà∞Êüê‰∏™ÂØπË±°ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈÉΩÊòØ‰∏ªÂä®ÊòæÂºèÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÂÆû‰æãÔºànewÔºâ„ÄÇ‰ΩøÁî®SpringÂêéÂ∞±‰∏çÈúÄË¶ÅËøôÊ†∑ÂÅö‰∫ÜÔºåÂõ†‰∏∫Spring‰ºöÂ∏ÆÊàë‰ª¨Âú®ÈúÄË¶ÅÁî®Âà∞Êüê‰∫õÂØπË±°ÁöÑÂú∞ÊñπËá™Âä®Ê≥®ÂÖ•ËØ•ÂØπË±°ÔºåËÄåÊó†È°ªÊàë‰ª¨Ëá™Â∑±ÂéªÂàõÂª∫„ÄÇËøôÁßçÊ®°Âºè‰øóÁß∞ÊéßÂà∂ÂèçËΩ¨ÔºåÂç≥IOCÔºàInversion of ControlÔºâ„ÄÇÈÇ£‰πàSpringÊòØ‰ªé‰ªÄ‰πàÂú∞ÊñπËé∑ÂèñÂà∞Êàë‰ª¨ÊâÄÈúÄË¶ÅÁöÑÂØπË±°Âë¢ÔºüÂÖ∂ÂÆûSpringÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™IOCÂÆπÂô®ÔºåÈáåÈù¢ÁÆ°ÁêÜÁùÄÊâÄÊúâÊàë‰ª¨ÈúÄË¶ÅÁöÑÂØπË±°ÔºåÁªÑ‰ª∂Ê≥®ÂÜåÂ∞±ÊòØÊàë‰ª¨ÂéªÂëäËØâSpringÂì™‰∫õÁ±ªÈúÄË¶Å‰∫§ÁªôIOCÂÆπÂô®ÁÆ°ÁêÜ„ÄÇËøôÈáå‰∏ªË¶ÅËÆ∞ÂΩïÁªÑ‰ª∂Ê≥®ÂÜåÁöÑ‰∏Ä‰∫õÁªÜËäÇ„ÄÇÈÄöËøá@BeanÊ≥®ÂÜåÁªÑ‰ª∂Âú®ËæÉÊó©ÁâàÊú¨ÁöÑSpring‰∏≠ÔºåÊàë‰ª¨ÈÉΩÊòØÈÄöËøáXMLÁöÑÊñπÂºèÊù•ÂæÄIOCÂÆπÂô®‰∏≠Ê≥®ÂÜåÁªÑ‰ª∂ÁöÑÔºå‰∏ãÈù¢ËøôÊÆµ‰ª£Á†ÅÂ§ßÂÆ∂ËÇØÂÆö‰∏ç‰ºöÈôåÁîüÔºö123// ËøîÂõû IOC ÂÆπÂô®ÔºåÂü∫‰∫é XMLÈÖçÁΩÆÔºå‰º†ÂÖ•ÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩçÁΩÆApplicationContext applicationContext = new ClassPathXmlApplicationContext("xxx.xml");User user = (User) applicationContext.getBean("user");Spring 4ÂêéÊé®ËçêÊàë‰ª¨‰ΩøÁî®Java ConfigÁöÑÊñπÂºèÊù•Ê≥®ÂÜåÁªÑ‰ª∂„ÄÇ‰∏∫‰∫ÜÊºîÁ§∫ÔºåÊàë‰ª¨ÈÄöËøáhttp://start.spring.io/Êê≠Âª∫‰∏Ä‰∏™ÁÆÄÂçïSpring BootÂ∫îÁî®ÔºåÁÑ∂ÂêéÂºïÂÖ•Lombok‰æùËµñÔºàÁºñËæëÂô®‰πüÈúÄË¶ÅÂÆâË£ÖLombokÊèí‰ª∂ÔºâÔºö12345&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™UserÁ±ªÔºö1234567@ToString@AllArgsConstructor@Datapublic class User &#123; private String name; private Integer age;&#125;Êé•ÁùÄÂàõÂª∫‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºåÂú®ÈáåÈù¢ÈÄöËøá@BeanÊ≥®Ëß£Ê≥®ÂÜåUserÁ±ªÔºö1234567@Configurationpublic class WebConfig &#123; @Bean() public User user() &#123; return new User("mrbird", 18); &#125;&#125;ÈÄöËøá@BeanÊ≥®Ëß£ÔºåÊàë‰ª¨ÂêëIOCÂÆπÂô®Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™ÂêçÁß∞‰∏∫userÔºàBeanÂêçÁß∞ÈªòËÆ§‰∏∫ÊñπÊ≥ïÂêçÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøá@Bean(&quot;myUser&quot;)ÊñπÂºèÊù•Â∞ÜÁªÑ‰ª∂ÂêçÁß∞ÊåáÂÆö‰∏∫myUserÔºâ„ÄÇÁªÑ‰ª∂Ê≥®ÂÜåÂÆåÊØïÂêéÔºåÊàë‰ª¨ÊµãËØï‰∏Ä‰∏ã‰ªéIOCÂÆπÂô®‰∏≠Ëé∑ÂèñËøô‰∏™ÁªÑ‰ª∂„ÄÇÂú®Spring BootÂÖ•Âè£Á±ª‰∏≠ÁºñÂÜôÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234567891011@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); // ËøîÂõû IOC ÂÆπÂô®Ôºå‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆÔºå‰º†ÂÖ•ÈÖçÁΩÆÁ±ª ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class); User user = context.getBean(User.class); System.out.println(user); &#125;&#125;Âõ†‰∏∫Êàë‰ª¨ÊòØÈÄöËøáÊ≥®Ëß£ÊñπÂºèÊù•Ê≥®ÂÜåÁªÑ‰ª∂ÁöÑÔºåÊâÄ‰ª•ÈúÄË¶Å‰ΩøÁî®AnnotationConfigApplicationContextÊù•Ëé∑ÂèñÁõ∏Â∫îÁöÑIOCÂÆπÂô®ÔºåÂÖ•ÂèÇ‰∏∫ÈÖçÁΩÆÁ±ª„ÄÇÂêØÂä®È°πÁõÆÔºåÁúã‰∏ãÊéßÂà∂Âè∞ËæìÂá∫ÔºöËØ¥ÊòéÁªÑ‰ª∂Ê≥®ÂÜåÊàêÂäü„ÄÇÊàë‰ª¨Â∞ÜÁªÑ‰ª∂ÁöÑÂêçÁß∞Êîπ‰∏∫myUserÔºåÁÑ∂ÂêéÁúãÁúãIOCÂÆπÂô®‰∏≠ÔºåUserÁ±ªÂûãÁªÑ‰ª∂ÊòØÂê¶Âè´myUserÔºö1234567891011@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class); // Êü•Áúã User Ëøô‰∏™Á±ªÂú® Spring ÂÆπÂô®‰∏≠Âè´Âï•Áé©ÊÑè String[] beanNames = context.getBeanNamesForType(User.class); Arrays.stream(beanNames).forEach(System.out::println); &#125;&#125;ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫:‰ΩøÁî®@ComponentScanÊâ´ÊèèÂú®‰ΩøÁî®XMLÈÖçÁΩÆÁªÑ‰ª∂Êâ´ÊèèÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈÉΩÊòØËøôÊ†∑ÈÖçÁΩÆÁöÑÔºö1&lt;context:component-scan base-package=""&gt;&lt;/context:component-scan&gt;ÂÖ∂‰∏≠base-packageÊåáÂÆö‰∫ÜÊâ´ÊèèÁöÑË∑ØÂæÑ„ÄÇË∑ØÂæÑ‰∏ãÊâÄÊúâË¢´@Controller„ÄÅ@Service„ÄÅ@RepositoryÂíå@ComponentÊ≥®Ëß£Ê†áÊ≥®ÁöÑÁ±ªÈÉΩ‰ºöË¢´Á∫≥ÂÖ•IOCÂÆπÂô®‰∏≠„ÄÇÁé∞Âú®Êàë‰ª¨ËÑ±Á¶ªXMLÈÖçÁΩÆÂêéÔºåÂèØ‰ª•‰ΩøÁî®@ComponentScanÊ≥®Ëß£Êù•Êâ´ÊèèÁªÑ‰ª∂Âπ∂Ê≥®ÂÜå„ÄÇÂú®‰ΩøÁî®@ComponentScanÊâ´Êèè‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂàõÂª∫‰∏Ä‰∏™ControllerÔºå‰∏Ä‰∏™ServiceÔºå‰∏Ä‰∏™DaoÔºåÂπ∂Ê†áÊ≥®‰∏äÁõ∏Â∫îÁöÑÊ≥®Ëß£„ÄÇÁÑ∂Âêé‰øÆÊîπÈÖçÁΩÆÁ±ªÔºö123456789@Configuration@ComponentScan("cc.mrbird.demo")public class WebConfig &#123; // @Bean("myUser") // public User user() &#123; // return new User("mrbird", 18); // &#125;&#125;Âú®ÈÖçÁΩÆÁ±ª‰∏≠ÔºåÊàë‰ª¨ÈÄöËøá@ComponentScan(&quot;cc.mrbird.demo&quot;)ÈÖçÁΩÆ‰∫ÜÊâ´ÊèèË∑ØÂæÑÔºåÂπ∂‰∏îÂ∞ÜUserÁªÑ‰ª∂Ê≥®ÂÜåÊ≥®ÈáäÊéâ‰∫ÜÔºåÂèñËÄå‰ª£‰πãÁöÑÊòØÂú®UserÁ±ª‰∏äÂä†‰∏ä@ComponentÊ≥®Ëß£Ôºö123456789@ToString@AllArgsConstructor@NoArgsConstructor@Data@Componentpublic class User &#123; private String name; private Integer age;&#125;ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨‰∏çËÉΩÂ∞ÜSpring BootÁöÑÂÖ•Âè£Á±ªÁ∫≥ÂÖ•Êâ´ÊèèËåÉÂõ¥‰∏≠ÔºåÂê¶ÂàôÈ°πÁõÆÂêØÂä®Â∞ÜÂá∫Èîô„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨Áúã‰∏ãÂú®Âü∫‰∫éÊ≥®Ëß£ÁöÑIOCÂÆπÂô®‰∏≠ÊòØÂê¶ÂåÖÂê´‰∫ÜËøô‰∫õÁªÑ‰ª∂Ôºö1234567891011@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class); // Êü•ÁúãÂü∫‰∫éÊ≥®Ëß£ÁöÑ IOCÂÆπÂô®‰∏≠ÊâÄÊúâÁªÑ‰ª∂ÂêçÁß∞ String[] beanNames = context.getBeanDefinitionNames(); Arrays.stream(beanNames).forEach(System.out::println); &#125;&#125;ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ÔºöÂèØËßÅÔºåÁªÑ‰ª∂Â∑≤ÁªèÊàêÂäüË¢´Êâ´ÊèèËøõÂéª‰∫ÜÔºåÂπ∂‰∏îÂêçÁß∞ÈªòËÆ§‰∏∫Á±ªÂêçÈ¶ñÂ≠óÊØçÂ∞èÂÜô„ÄÇËøôÈáåÔºåÈÖçÁΩÆÁ±ªWebConfig‰πüË¢´Êâ´ÊèèÂπ∂Ê≥®ÂÜå‰∫ÜÔºåÊü•Áúã@ConfigurationÊ∫êÁ†ÅÂ∞±‰ºöÂèëÁé∞ÂéüÂõ†Ôºö1234567@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Componentpublic @interface Configuration &#123; String value() default "";&#125;ÊåáÂÆöÊâ´ÊèèÁ≠ñÁï•@ComponentScanÊ≥®Ëß£ÂÖÅËÆ∏Êàë‰ª¨ÊåáÂÆöÊâ´ÊèèÁ≠ñÁï•ÔºåÂç≥ÊåáÂÆöÂì™‰∫õË¢´Êâ´ÊèèÔºåÂì™‰∫õ‰∏çË¢´Êâ´ÊèèÔºåÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÂèØÂèëÁé∞Ëøô‰∏§‰∏™Â±ûÊÄßÔºö1234567891011121314151617/** * Specifies which types are eligible for component scanning. * &lt;p&gt;Further narrows the set of candidate components from everything in &#123;@link #basePackages&#125; * to everything in the base packages that matches the given filter or filters. * &lt;p&gt;Note that these filters will be applied in addition to the default filters, if specified. * Any type under the specified base packages which matches a given filter will be included, * even if it does not match the default filters (i.e. is not annotated with &#123;@code @Component&#125;). * @see #resourcePattern() * @see #useDefaultFilters() */Filter[] includeFilters() default &#123;&#125;;/** * Specifies which types are not eligible for component scanning. * @see #resourcePattern */Filter[] excludeFilters() default &#123;&#125;;ÂÖ∂‰∏≠Filter‰πüÊòØ‰∏Ä‰∏™Ê≥®Ëß£:1234567891011121314151617/** * Declares the type filter to be used as an &#123;@linkplain ComponentScan#includeFilters * include filter&#125; or &#123;@linkplain ComponentScan#excludeFilters exclude filter&#125;. */@Retention(RetentionPolicy.RUNTIME)@Target(&#123;&#125;)@interface Filter &#123; FilterType type() default FilterType.ANNOTATION; @AliasFor("classes") Class&lt;?&gt;[] value() default &#123;&#125;; @AliasFor("value") Class&lt;?&gt;[] classes() default &#123;&#125;; String[] pattern() default &#123;&#125;;&#125;Êé•‰∏ãÊù•Êàë‰ª¨‰ΩøÁî®excludeFiltersÊù•ÊéíÈô§‰∏Ä‰∫õÁªÑ‰ª∂ÁöÑÊâ´ÊèèÔºö12345678910@Configuration@ComponentScan(value = "cc.mrbird.demo", excludeFilters = &#123; @Filter(type = FilterType.ANNOTATION, classes = &#123;Controller.class, Repository.class&#125;), @Filter(type = FilterType.ASSIGNABLE_TYPE, classes = User.class) &#125;)public class WebConfig &#123;&#125;‰∏äÈù¢Êàë‰ª¨ÊåáÂÆö‰∫Ü‰∏§ÁßçÊéíÈô§Êâ´ÊèèÁöÑËßÑÂàôÔºöÊ†πÊçÆÊ≥®Ëß£Êù•ÊéíÈô§Ôºàtype = FilterType.ANNOTATIONÔºâ,Ëøô‰∫õÊ≥®Ëß£ÁöÑÁ±ªÂûã‰∏∫classes = {Controller.class, Repository.class}„ÄÇÂç≥ControllerÂíåRepositoryÊ≥®Ëß£Ê†áÊ≥®ÁöÑÁ±ª‰∏çÂÜçË¢´Á∫≥ÂÖ•Âà∞IOCÂÆπÂô®‰∏≠„ÄÇÊ†πÊçÆÊåáÂÆöÁ±ªÂûãÁ±ªÊéíÈô§Ôºàtype = FilterType.ASSIGNABLE_TYPEÔºâÔºåÊéíÈô§Á±ªÂûã‰∏∫User.classÔºåÂÖ∂Â≠êÁ±ªÔºåÂÆûÁé∞Á±ªÈÉΩ‰ºöË¢´ÊéíÈô§„ÄÇÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ÔºöÂèØËßÅÊéíÈô§ÊàêÂäü„ÄÇÈô§‰∫Ü‰∏äÈù¢‰∏§ÁßçÂ∏∏Áî®ÁöÑËßÑÂàôÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®Âà´ÁöÑËßÑÂàôÔºåÊü•ÁúãFilterTypeÊ∫êÁ†ÅÔºö1234567891011121314151617181920212223242526272829303132333435public enum FilterType &#123; /** * Filter candidates marked with a given annotation. * * @see org.springframework.core.type.filter.AnnotationTypeFilter */ ANNOTATION, /** * Filter candidates assignable to a given type. * * @see org.springframework.core.type.filter.AssignableTypeFilter */ ASSIGNABLE_TYPE, /** * Filter candidates matching a given AspectJ type pattern expression. * * @see org.springframework.core.type.filter.AspectJTypeFilter */ ASPECTJ, /** * Filter candidates matching a given regex pattern. * * @see org.springframework.core.type.filter.RegexPatternTypeFilter */ REGEX, /** * Filter candidates using a given custom * &#123;@link org.springframework.core.type.filter.TypeFilter&#125; implementation. */ CUSTOM&#125;ÂèØÁúãÂà∞ÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáASPECTJË°®ËææÂºèÔºåREGEXÊ≠£ÂàôË°®ËææÂºèÂíåCUSTOMËá™ÂÆö‰πâËßÑÂàôÔºà‰∏ãÈù¢ËØ¶ÁªÜ‰ªãÁªçÔºâÊù•ÊåáÂÆöÊâ´ÊèèÁ≠ñÁï•„ÄÇincludeFiltersÁöÑ‰ΩúÁî®ÂíåexcludeFiltersÁõ∏ÂèçÔºåÂÖ∂ÊåáÂÆöÁöÑÊòØÂì™‰∫õÁªÑ‰ª∂ÈúÄË¶ÅË¢´Êâ´ÊèèÔºö12345678@Configuration@ComponentScan(value = "cc.mrbird.demo", includeFilters = &#123; @Filter(type = FilterType.ANNOTATION, classes = Service.class) &#125;, useDefaultFilters = false)public class WebConfig &#123;&#125;‰∏äÈù¢ÈÖçÁΩÆ‰∫ÜÂè™Â∞ÜServiceÁ∫≥ÂÖ•IOCÂÆπÂô®ÔºåÂπ∂‰∏îÈúÄË¶ÅÁî®useDefaultFilters = falseÊù•ÂÖ≥Èó≠SpringÈªòËÆ§ÁöÑÊâ´ÊèèÁ≠ñÁï•ÊâçËÉΩËÆ©Êàë‰ª¨ÁöÑÈÖçÁΩÆÁîüÊïàÔºàSpring BootÂÖ•Âè£Á±ªÁöÑ@SpringBootApplicationÊ≥®Ëß£ÂåÖÂê´‰∫Ü‰∏Ä‰∫õÈªòËÆ§ÁöÑÊâ´ÊèèÁ≠ñÁï•Ôºâ„ÄÇÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ÔºöÂèØÁúãÂà∞ÔºåIOCÂÆπÂô®‰∏≠Â∞Ü‰∏çÂÜçÂåÖÂê´daoÔºåcontroller„ÄÇÂ§öÊâ´ÊèèÁ≠ñÁï•ÈÖçÁΩÆÂú®Java 8‰πãÂâçÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®@ComponentScansÊù•ÈÖçÁΩÆÂ§ö‰∏™@ComponentScan‰ª•ÂÆûÁé∞Â§öÊâ´ÊèèËßÑÂàôÈÖçÁΩÆÔºöËÄåÂú®Java 8‰∏≠ÔºåÊñ∞Â¢û‰∫Ü@RepeatableÊ≥®Ëß£Ôºå‰ΩøÁî®ËØ•Ê≥®Ëß£‰øÆÈ•∞ÁöÑÊ≥®Ëß£ÂèØ‰ª•ÈáçÂ§ç‰ΩøÁî®ÔºåÊü•Áúã@ComponentScanÊ∫êÁ†Å‰ºöÂèëÁé∞ÂÖ∂Â∑≤ÁªèË¢´ËØ•Ê≥®Ëß£Ê†áÊ≥®ÔºöÊâÄ‰ª•Èô§‰∫Ü‰ΩøÁî®@ComponentScansÊù•ÈÖçÁΩÆÂ§öÊâ´ÊèèËßÑÂàôÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáÂ§öÊ¨°‰ΩøÁî®@ComponentScanÊù•ÊåáÂÆöÂ§ö‰∏™‰∏çÂêåÁöÑÊâ´ÊèèËßÑÂàô„ÄÇËá™ÂÆö‰πâÊâ´ÊèèÁ≠ñÁï•Ëá™ÂÆö‰πâÊâ´ÊèèÁ≠ñÁï•ÈúÄË¶ÅÊàë‰ª¨ÂÆûÁé∞org.springframework.core.type.filter.TypeFilterÊé•Âè£ÔºåÂàõÂª∫MyTypeFilterÂÆûÁé∞ËØ•Êé•Âè£Ôºö123456public class MyTypeFilter implements TypeFilter &#123; @Override public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException &#123; return false; &#125;&#125;ËØ•Êé•Âè£ÂåÖÂê´matchÊñπÊ≥ïÔºåÂÖ∂‰∏§‰∏™ÂÖ•ÂèÇMetadataReaderÂíåMetadataReaderFactoryÂê´‰πâÂ¶Ç‰∏ãÔºöMetadataReaderÔºöÂΩìÂâçÊ≠£Âú®Êâ´ÊèèÁöÑÁ±ªÁöÑ‰ø°ÊÅØÔºõMetadataReaderFactoryÔºöÂèØ‰ª•ÈÄöËøáÂÆÉÊù•Ëé∑ÂèñÂÖ∂‰ªñÁ±ªÁöÑ‰ø°ÊÅØ„ÄÇÂΩìmatchÊñπÊ≥ïËøîÂõûtrueÊó∂ËØ¥ÊòéÂåπÈÖçÊàêÂäüÔºåfalseÂàôËØ¥ÊòéÂåπÈÖçÂ§±Ë¥•„ÄÇÁªßÁª≠ÂÆåÂñÑËøô‰∏™ËøáÊª§ËßÑÂàôÔºö1234567891011121314public class MyTypeFilter implements TypeFilter &#123; @Override public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) &#123; // Ëé∑ÂèñÂΩìÂâçÊ≠£Âú®Êâ´ÊèèÁöÑÁ±ªÁöÑÊ≥®Ëß£‰ø°ÊÅØ AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata(); // Ëé∑ÂèñÂΩìÂâçÊ≠£Âú®Êâ´ÊèèÁöÑÁ±ªÁöÑÁ±ª‰ø°ÊÅØ ClassMetadata classMetadata = metadataReader.getClassMetadata(); // Ëé∑ÂèñÂΩìÂâçÊ≠£Âú®Êâ´ÊèèÁöÑÁ±ªÁöÑË∑ØÂæÑÁ≠â‰ø°ÊÅØ Resource resource = metadataReader.getResource(); String className = classMetadata.getClassName(); return StringUtils.hasText("er"); &#125;&#125;‰∏äÈù¢ÊåáÂÆö‰∫ÜÂΩìË¢´Êâ´ÊèèÁöÑÁ±ªÂêçÂåÖÂê´erÊó∂ÂÄôÔºåÂåπÈÖçÊàêÂäüÔºåÈÖçÂêàexcludeFilters‰ΩøÁî®ÊÑèÊåáÂΩìË¢´Êâ´ÊèèÁöÑÁ±ªÂêçÂåÖÂê´erÊó∂ÔºåËØ•Á±ª‰∏çË¢´Á∫≥ÂÖ•IOCÂÆπÂô®‰∏≠„ÄÇÊàë‰ª¨Âú®@ComponentScan‰∏≠‰ΩøÁî®Ëøô‰∏™Ëá™ÂÆö‰πâÁöÑËøáÊª§Á≠ñÁï•Ôºö1234567@Configuration@ComponentScan(value = "cc.mrbird.demo", excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = MyTypeFilter.class) &#125;)public class WebConfig &#123;&#125;ÂêØÂä®È°πÁõÆÔºåËßÇÂØüËæìÂá∫Ôºö Âõ†‰∏∫UserÔºåUserMapperÔºåUserServiceÂíåUserControllerÁ≠âÁ±ªÁöÑÁ±ªÂêçÈÉΩÂåÖÂê´erÔºåÊâÄ‰ª•ÂÆÉ‰ª¨ÈÉΩÊ≤°ÊúâË¢´Á∫≥ÂÖ•Âà∞IOCÂÆπÂô®‰∏≠„ÄÇÁªÑ‰ª∂‰ΩúÁî®Âüü@ScopeÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂú®SpringÁöÑIOCÂÆπÂô®‰∏≠ÊØè‰∏™ÁªÑ‰ª∂ÈÉΩÊòØÂçï‰æãÁöÑÔºåÂç≥Êó†ËÆ∫Âú®‰ªª‰ΩïÂú∞ÊñπÊ≥®ÂÖ•Â§öÂ∞ëÊ¨°ÔºåËøô‰∫õÂØπË±°ÈÉΩÊòØÂêå‰∏Ä‰∏™ÔºåÊàë‰ª¨Êù•Áúã‰∏ã‰æãÂ≠ê„ÄÇÈ¶ñÂÖàÂ∞ÜUserÂØπË±°‰∏≠ÁöÑ@ComponentÊ≥®Ëß£ÂéªÈô§ÔºåÁÑ∂ÂêéÂú®ÈÖçÁΩÆÁ±ª‰∏≠ÈÖçÁΩÆUser BeanÔºö1234567@Configurationpublic class WebConfig &#123; @Bean public User user() &#123; return new User("mrbird", 18); &#125;&#125;Êé•ÁùÄÂ§öÊ¨°‰ªéIOCÂÆπÂô®‰∏≠Ëé∑ÂèñËøô‰∏™ÁªÑ‰ª∂ÔºåÁúãÁúãÊòØÂê¶‰∏∫Âêå‰∏Ä‰∏™Ôºö12345// ËøîÂõû IOC ÂÆπÂô®Ôºå‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆÔºå‰º†ÂÖ•ÈÖçÁΩÆÁ±ªApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);Object user1 = context.getBean("user");Object user2 = context.getBean("user");System.out.println(user1 == user2);ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫:ÁªìÊûúËØÅÂÆû‰∫Ü‰∏äÈù¢ÁöÑËßÇÁÇπ„ÄÇÂú®Spring‰∏≠Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®@ScopeÊ≥®Ëß£Êù•ÊîπÂèòÁªÑ‰ª∂ÁöÑ‰ΩúÁî®ÂüüÔºösingletonÔºöÂçïÂÆû‰æãÔºàÈªòËÆ§Ôºâ,Âú®Spring IOCÂÆπÂô®ÂêØÂä®ÁöÑÊó∂ÂÄô‰ºöË∞ÉÁî®ÊñπÊ≥ïÂàõÂª∫ÂØπË±°ÁÑ∂ÂêéÁ∫≥ÂÖ•Âà∞IOCÂÆπÂô®‰∏≠Ôºå‰ª•ÂêéÊØèÊ¨°Ëé∑ÂèñÈÉΩÊòØÁõ¥Êé•‰ªéIOCÂÆπÂô®‰∏≠Ëé∑ÂèñÔºàmap.get()ÔºâÔºõprototypeÔºöÂ§öÂÆû‰æãÔºåIOCÂÆπÂô®ÂêØÂä®ÁöÑÊó∂ÂÄôÂπ∂‰∏ç‰ºöÂéªÂàõÂª∫ÂØπË±°ÔºåËÄåÊòØÂú®ÊØèÊ¨°Ëé∑ÂèñÁöÑÊó∂ÂÄôÊâç‰ºöÂéªË∞ÉÁî®ÊñπÊ≥ïÂàõÂª∫ÂØπË±°ÔºõrequestÔºö‰∏Ä‰∏™ËØ∑Ê±ÇÂØπÂ∫î‰∏Ä‰∏™ÂÆû‰æãÔºõsessionÔºöÂêå‰∏Ä‰∏™sessionÂØπÂ∫î‰∏Ä‰∏™ÂÆû‰æã„ÄÇÊáíÂä†ËΩΩ@LazyÊáíÂä†ËΩΩÊòØÈíàÂØπÂçï‰æãÊ®°ÂºèËÄåË®ÄÁöÑÔºåÊ≠£Â¶ÇÂâçÈù¢ÊâÄËØ¥ÔºåIOCÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂ÈªòËÆ§ÊòØÂçï‰æãÁöÑÔºåÂÆπÂô®ÂêØÂä®ÁöÑÊó∂ÂÄô‰ºöË∞ÉÁî®ÊñπÊ≥ïÂàõÂª∫ÂØπË±°ÁÑ∂ÂêéÁ∫≥ÂÖ•Âà∞IOCÂÆπÂô®‰∏≠„ÄÇÂú®User BeanÊ≥®ÂÜåÁöÑÂú∞ÊñπÂä†ÂÖ•‰∏ÄÂè•ËØù‰ª•ËßÇÂØüÔºö12345678@Configurationpublic class WebConfig &#123; @Bean public User user() &#123; System.out.println("ÂæÄIOCÂÆπÂô®‰∏≠Ê≥®ÂÜåuser bean"); return new User("mrbird", 18); &#125;&#125;ÊµãËØïÔºö12ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);System.out.println("ÂÆπÂô®ÂàõÂª∫ÂÆåÊØï");ÂêØÂä®È°πÁõÆËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫:ÂèØ‰ª•ÁúãÂà∞ÔºåÂú®IOCÂÆπÂô®ÂàõÂª∫ÂÆåÊØï‰πãÂâçÔºåÁªÑ‰ª∂Â∑≤ÁªèÊ∑ªÂä†Âà∞ÂÆπÂô®‰∏≠‰∫Ü„ÄÇÂ∞ÜUser BeanÊîπ‰∏∫ÊáíÂä†ËΩΩÁöÑÊñπÂºèÔºö123456789@Configurationpublic class WebConfig &#123; @Bean @Lazy public User user() &#123; System.out.println("ÂæÄIOCÂÆπÂô®‰∏≠Ê≥®ÂÜåuser bean"); return new User("mrbird", 18); &#125;&#125;ÂÜçÊ¨°ÂêØÂä®È°πÁõÆÔºåËßÇÂØüËæìÂá∫ÔºöÂèØÁúãÂà∞ÔºåÂÆπÂô®ÂàõÂª∫ÂÆåÁöÑÊó∂ÂÄôÔºåUser BeanËøô‰∏™ÁªÑ‰ª∂Âπ∂Êú™Ê∑ªÂä†Âà∞ÂÆπÂô®‰∏≠„ÄÇÊâÄ‰ª•ÊáíÂä†ËΩΩÁöÑÂäüËÉΩÊòØÔºåÂú®Âçï‰æãÊ®°Âºè‰∏≠ÔºåIOCÂÆπÂô®ÂàõÂª∫ÁöÑÊó∂ÂÄô‰∏ç‰ºöÈ©¨‰∏äÂéªË∞ÉÁî®ÊñπÊ≥ïÂàõÂª∫ÂØπË±°Âπ∂Ê≥®ÂÜåÔºåÂè™ÊúâÂΩìÁªÑ‰ª∂Á¨¨‰∏ÄÊ¨°Ë¢´‰ΩøÁî®ÁöÑÊó∂ÂÄôÊâç‰ºöË∞ÉÁî®ÊñπÊ≥ïÂàõÂª∫ÂØπË±°Âπ∂Âä†ÂÖ•Âà∞ÂÆπÂô®‰∏≠„ÄÇÊµãËØï‰∏Ä‰∏ãÔºö1234ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);System.out.println("ÂÆπÂô®ÂàõÂª∫ÂÆåÊØï");Object user1 = context.getBean("user");Object user2 = context.getBean("user");ÂêØÂä®È°πÁõÆÔºåËßÇÂØüËæìÂá∫:ÁªìÊûúËØÅÂÆû‰∫ÜÊàë‰ª¨ÁöÑËßÇÁÇπ„ÄÇÊù°‰ª∂Ê≥®ÂÜåÁªÑ‰ª∂@Conditional‰ΩøÁî®@ConditionalÊ≥®Ëß£Êàë‰ª¨ÂèØ‰ª•ÊåáÂÆöÁªÑ‰ª∂Ê≥®ÂÜåÁöÑÊù°‰ª∂ÔºåÂç≥Êª°Ë∂≥ÁâπÂÆöÊù°‰ª∂ÊâçÂ∞ÜÁªÑ‰ª∂Á∫≥ÂÖ•Âà∞IOCÂÆπÂô®‰∏≠„ÄÇÂú®‰ΩøÁî®ËØ•Ê≥®Ëß£‰πãÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Á±ªÔºåÂÆûÁé∞ConditionÊé•Âè£Ôºö123456public class MyCondition implements Condition &#123; @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; return false; &#125;&#125;ËØ•Êé•Âè£ÂåÖÂê´‰∏Ä‰∏™matchesÊñπÊ≥ïÔºåÂåÖÂê´‰∏§‰∏™ÂÖ•ÂèÇ:ConditionContextÔºö‰∏ä‰∏ãÊñá‰ø°ÊÅØÔºõAnnotatedTypeMetadataÔºöÊ≥®Ëß£‰ø°ÊÅØ„ÄÇÁÆÄÂçïÂÆåÂñÑ‰∏Ä‰∏ãËøô‰∏™ÂÆûÁé∞Á±ª:1234567public class MyCondition implements Condition &#123; @Override public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; String osName = context.getEnvironment().getProperty("os.name"); return osName != null &amp;&amp; osName.contains("Windows"); &#125;&#125;Êé•ÁùÄÂ∞ÜËøô‰∏™Êù°‰ª∂Ê∑ªÂä†Âà∞User BeanÊ≥®ÂÜåÁöÑÂú∞ÊñπÔºö12345@Bean@Conditional(MyCondition.class)public User user() &#123; return new User("mrbird", 18);&#125;Âú®WindowsÁéØÂ¢É‰∏ãÔºåUserËøô‰∏™ÁªÑ‰ª∂Â∞ÜË¢´ÊàêÂäüÊ≥®ÂÜåÔºåÂ¶ÇÊûúÊòØÂà´ÁöÑÊìç‰ΩúÁ≥ªÁªüÔºåËøô‰∏™ÁªÑ‰ª∂Â∞Ü‰∏ç‰ºöË¢´Ê≥®ÂÜåÂà∞IOCÂÆπÂô®‰∏≠„ÄÇ@Profile@ProfileÂèØ‰ª•Ê†πÊçÆ‰∏çÂêåÁöÑÁéØÂ¢ÉÂèòÈáèÊù•Ê≥®ÂÜå‰∏çÂêåÁöÑÁªÑ‰ª∂Ôºå‰∏ãÈù¢Êàë‰ª¨Êù•Â≠¶‰∏Ä‰∏ãÂÆÉÁöÑÁî®Ê≥ï„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Êé•Âè£CalculateServiceÔºö123public interface CalculateService &#123; Integer sum(Integer... value);&#125;Êé•ÁùÄÊ∑ªÂä†‰∏§‰∏™ÂÆûÁé∞Java7CalculateServiceImplÂíåJava8CalculateServiceImpl:12345678910111213@Service@Profile("java7")public class Java7CalculateServiceImpl implements CalculateService &#123; @Override public Integer sum(Integer... value) &#123; System.out.println("Java 7ÁéØÂ¢É‰∏ãÊâßË°å"); int result = 0; for (int i = 0; i &lt;= value.length; i++) &#123; result += i; &#125; return result; &#125;&#125;123456789@Service@Profile("java8")public class Java8CalculateServiceImpl implements CalculateService &#123; @Override public Integer sum(Integer... value) &#123; System.out.println("Java 8ÁéØÂ¢É‰∏ãÊâßË°å"); return Arrays.stream(value).reduce(0, Integer::sum); &#125;&#125;ÈÄöËøá@ProfileÊ≥®Ëß£Êàë‰ª¨ÂÆûÁé∞‰∫ÜÔºöÂΩìÁéØÂ¢ÉÂèòÈáèÂåÖÂê´java7ÁöÑÊó∂ÂÄôÔºåJava7CalculateServiceImplÂ∞Ü‰ºöË¢´Ê≥®ÂÜåÂà∞IOCÂÆπÂô®‰∏≠ÔºõÂΩìÁéØÂ¢ÉÂèòÈáèÂåÖÂê´java8ÁöÑÊó∂ÂÄôÔºåJava8CalculateServiceImplÂ∞Ü‰ºöË¢´Ê≥®ÂÜåÂà∞IOCÂÆπÂô®‰∏≠„ÄÇÊµãËØï‰∏Ä‰∏ãÔºö1234567ConfigurableApplicationContext context1 = new SpringApplicationBuilder(DemoApplication.class) .web(WebApplicationType.NONE) .profiles("java8") .run(args);CalculateService service = context1.getBean(CalculateService.class);System.out.println("Ê±ÇÂêàÁªìÊûúÔºö " + service.sum(1, 2, 3, 4, 5, 6, 7, 8, 9, 10));ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÂ¶ÇÊûúÂ∞Ü.profiles(&quot;java8&quot;)Êîπ‰∏∫.profiles(&quot;java7&quot;)ÁöÑËØùÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÂØºÂÖ•ÁªÑ‰ª∂@ImportÂà∞ÁõÆÂâç‰∏∫Ê≠¢ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂåÖÊâ´ÊèèÂíå@BeanÊù•ÂÆûÁé∞ÁªÑ‰ª∂Ê≥®ÂÜå„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®@ImportÊù•Âø´ÈÄüÂú∞ÂæÄIOCÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂„ÄÇÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ±ªHelloÔºö12public class Hello &#123;&#125;ÁÑ∂ÂêéÂú®ÈÖçÁΩÆÁ±ª‰∏≠ÂØºÂÖ•Ëøô‰∏™ÁªÑ‰ª∂Ôºö12345@Configuration@Import(&#123;Hello.class&#125;)public class WebConfig &#123; ...&#125;Êü•ÁúãIOCÂÆπÂô®‰∏≠ÊâÄÊúâÁªÑ‰ª∂ÁöÑÂêçÁß∞Ôºö123ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);String[] beanNames = context.getBeanDefinitionNames();Arrays.stream(beanNames).forEach(System.out::println);ÂêØÂä®È°πÁõÆÔºåÊéßÂà∂Âè∞ËæìÂá∫:ÂèØÁúãÂà∞ÔºåÈÄöËøá@ImportÊàë‰ª¨ÂèØ‰ª•Âø´ÈÄüÂú∞ÂæÄIOCÂÆπÂô®‰∏≠Ê∑ªÂä†ÁªÑ‰ª∂ÔºåIdÈªòËÆ§‰∏∫ÂÖ®Á±ªÂêç„ÄÇImportSelectorÈÄöËøá@ImportÊàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫ÜÁªÑ‰ª∂ÁöÑÂØºÂÖ•ÔºåÂ¶ÇÊûúÈúÄË¶Å‰∏ÄÊ¨°ÊÄßÂØºÂÖ•ËæÉÂ§öÁªÑ‰ª∂ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ImportSelectorÊù•ÂÆûÁé∞„ÄÇÊñ∞Â¢û‰∏â‰∏™Á±ªAppleÔºåBananaÂíåWatermelonÔºå‰ª£Á†ÅÁï•„ÄÇÊü•ÁúãImportSelectorÊ∫êÁ†ÅÔºö12345678public interface ImportSelector &#123; /** * Select and return the names of which class(es) should be imported based on * the &#123;@link AnnotationMetadata&#125; of the importing @&#123;@link Configuration&#125; class. */ String[] selectImports(AnnotationMetadata importingClassMetadata);&#125;ImportSelectorÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂåÖÂê´‰∏Ä‰∏™selectImportsÊñπÊ≥ïÔºåÊñπÊ≥ïËøîÂõûÁ±ªÁöÑÂÖ®Á±ªÂêçÊï∞ÁªÑÔºàÂç≥ÈúÄË¶ÅÂØºÂÖ•Âà∞IOCÂÆπÂô®‰∏≠ÁªÑ‰ª∂ÁöÑÂÖ®Á±ªÂêçÊï∞ÁªÑÔºâÔºåÂåÖÂê´‰∏Ä‰∏™AnnotationMetadataÁ±ªÂûãÂÖ•ÂèÇÔºåÈÄöËøáËøô‰∏™ÂèÇÊï∞Êàë‰ª¨ÂèØ‰ª•Ëé∑ÂèñÂà∞‰ΩøÁî®ImportSelectorÁöÑÁ±ªÁöÑÂÖ®ÈÉ®Ê≥®Ëß£‰ø°ÊÅØ„ÄÇÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™ImportSelectorÂÆûÁé∞Á±ªMyImportSelectorÔºö12345678910public class MyImportSelector implements ImportSelector &#123; @Override public String[] selectImports(AnnotationMetadata importingClassMetadata) &#123; return new String[]&#123; "cc.mrbird.demo.domain.Apple", "cc.mrbird.demo.domain.Banana", "cc.mrbird.demo.domain.Watermelon" &#125;; &#125;&#125;‰∏äÈù¢ÊñπÊ≥ïËøîÂõû‰∫ÜÊñ∞Â¢ûÁöÑ‰∏â‰∏™Á±ªÁöÑÂÖ®Á±ªÂêçÊï∞ÁªÑÔºåÊé•ÁùÄÊàë‰ª¨Âú®ÈÖçÁΩÆÁ±ªÁöÑ@ImportÊ≥®Ëß£‰∏ä‰ΩøÁî®MyImportSelectorÊù•ÊääËøô‰∏â‰∏™ÁªÑ‰ª∂Âø´ÈÄüÂú∞ÂØºÂÖ•Âà∞IOCÂÆπÂô®‰∏≠Ôºö1234@Import(&#123;MyImportSelector.class&#125;)public class WebConfig &#123; ...&#125;Êü•ÁúãÂÆπÂô®‰∏≠ÊòØÂê¶Â∑≤ÁªèÊúâËøô‰∏â‰∏™ÁªÑ‰ª∂:123ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);String[] beanNames = context.getBeanDefinitionNames();Arrays.stream(beanNames).forEach(System.out::println);ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ÔºöÁªÑ‰ª∂Â∑≤ÁªèÊàêÂäüÂØºÂÖ•„ÄÇImportBeanDefinitionRegistrarÈô§‰∫Ü‰∏äÈù¢‰∏§ÁßçÂæÄIOCÂÆπÂô®ÂØºÂÖ•ÁªÑ‰ª∂ÁöÑÊñπÊ≥ïÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®ImportBeanDefinitionRegistrarÊù•ÊâãÂä®ÂæÄIOCÂÆπÂô®ÂØºÂÖ•ÁªÑ‰ª∂„ÄÇÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÔºö123public interface ImportBeanDefinitionRegistrar &#123; public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry);&#125;ImportBeanDefinitionRegistrarÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂåÖÂê´‰∏Ä‰∏™registerBeanDefinitionsÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÂåÖÂê´‰∏§‰∏™ÂÖ•ÂèÇÔºöAnnotationMetadataÔºöÂèØ‰ª•ÈÄöËøáÂÆÉËé∑ÂèñÂà∞Á±ªÁöÑÊ≥®Ëß£‰ø°ÊÅØÔºõBeanDefinitionRegistryÔºöBeanÂÆö‰πâÊ≥®ÂÜåÂô®ÔºåÂåÖÂê´‰∫Ü‰∏Ä‰∫õÂíåBeanÊúâÂÖ≥ÁöÑÊñπÊ≥ïÔºö123456789101112131415 public interface BeanDefinitionRegistry extends AliasRegistry &#123; void registerBeanDefinition(String var1, BeanDefinition var2) throws BeanDefinitionStoreException; void removeBeanDefinition(String var1) throws NoSuchBeanDefinitionException; BeanDefinition getBeanDefinition(String var1) throws NoSuchBeanDefinitionException; boolean containsBeanDefinition(String var1); String[] getBeanDefinitionNames(); int getBeanDefinitionCount(); boolean isBeanNameInUse(String var1);&#125;ËøôÈáåÊàë‰ª¨ÈúÄË¶ÅÂÄüÂä©BeanDefinitionRegistryÁöÑregisterBeanDefinitionÊñπÊ≥ïÊù•ÂæÄIOCÂÆπÂô®‰∏≠Ê≥®ÂÜåBean„ÄÇËØ•ÊñπÊ≥ïÂåÖÂê´‰∏§‰∏™ÂÖ•ÂèÇÔºåÁ¨¨‰∏Ä‰∏™‰∏∫ÈúÄË¶ÅÊ≥®ÂÜåÁöÑBeanÂêçÁß∞ÔºàIdÔºâ,Á¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫BeanÁöÑÂÆö‰πâ‰ø°ÊÅØÔºåÂÆÉÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂÖ∂ÂÆûÁé∞Á±ªRootBeanDefinitionÊù•ÂÆåÊàêÔºö‰∏∫‰∫ÜÊºîÁ§∫ImportBeanDefinitionRegistrarÁöÑ‰ΩøÁî®ÔºåÊàë‰ª¨ÂÖàÊñ∞Â¢û‰∏Ä‰∏™Á±ªÔºåÂêçÁß∞‰∏∫StrawberryÔºå‰ª£Á†ÅÁï•„ÄÇÁÑ∂ÂêéÊñ∞Â¢û‰∏Ä‰∏™ImportBeanDefinitionRegistrarÂÆûÁé∞Á±ªMyImportBeanDefinitionRegistrarÔºö1234567891011public class MyImportBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar &#123; @Override public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) &#123; final String beanName = "strawberry"; boolean contain = registry.containsBeanDefinition(beanName); if (!contain) &#123; RootBeanDefinition rootBeanDefinition = new RootBeanDefinition(Strawberry.class); registry.registerBeanDefinition(beanName, rootBeanDefinition); &#125; &#125;&#125;Âú®‰∏äÈù¢ÁöÑÂÆûÁé∞Á±ª‰∏≠ÔºåÊàë‰ª¨ÂÖàÈÄöËøáBeanDefinitionRegistryÁöÑcontainsBeanDefinitionÊñπÊ≥ïÂà§Êñ≠IOCÂÆπÂô®‰∏≠ÊòØÂê¶ÂåÖÂê´‰∫ÜÂêçÁß∞‰∏∫strawberryÁöÑÁªÑ‰ª∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôÊâãÂä®ÈÄöËøáBeanDefinitionRegistryÁöÑregisterBeanDefinitionÊñπÊ≥ïÊ≥®ÂÜå‰∏Ä‰∏™„ÄÇÂÆö‰πâÂ•ΩMyImportBeanDefinitionRegistrarÂêéÔºåÊàë‰ª¨ÂêåÊ†∑Âú∞Âú®ÈÖçÁΩÆÁ±ªÁöÑ@Import‰∏≠‰ΩøÁî®ÂÆÉÔºö12345@Configuration@Import(&#123;MyImportBeanDefinitionRegistrar.class&#125;)public class WebConfig &#123; ...&#125;Êü•ÁúãÂÆπÂô®‰∏≠ÊòØÂê¶Â∑≤ÁªèÊúâËøô‰∏™ÁªÑ‰ª∂:123ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);String[] beanNames = context.getBeanDefinitionNames();Arrays.stream(beanNames).forEach(System.out::println);ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ÔºöÁªÑ‰ª∂Â∑≤ÁªèÊ≥®ÂÜåÊàêÂäü„ÄÇ‰ΩøÁî®FactoryBeanÊ≥®ÂÜåÁªÑ‰ª∂SpringËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™FactoryBeanÊé•Âè£ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞ËØ•Êé•Âè£Êù•Ê≥®ÂÜåÁªÑ‰ª∂ÔºåËØ•Êé•Âè£ÂåÖÂê´‰∫Ü‰∏§‰∏™ÊäΩË±°ÊñπÊ≥ïÂíå‰∏Ä‰∏™ÈªòËÆ§ÊñπÊ≥ïÔºö‰∏∫‰∫ÜÊºîÁ§∫FactoryBeanÁöÑ‰ΩøÁî®ÔºåÊàë‰ª¨Êñ∞Â¢û‰∏Ä‰∏™CherryÁ±ªÔºå‰ª£Á†ÅÁï•„ÄÇÁÑ∂ÂêéÂàõÂª∫FactoryBeanÁöÑÂÆûÁé∞Á±ªCherryFactoryBean:12345678910111213141516public class CherryFactoryBean implements FactoryBean&lt;Cherry&gt; &#123; @Override public Cherry getObject() &#123; return new Cherry(); &#125; @Override public Class&lt;?&gt; getObjectType() &#123; return Cherry.class; &#125; @Override public boolean isSingleton() &#123; return false; &#125;&#125;getObjectËøîÂõûÈúÄË¶ÅÊ≥®ÂÜåÁöÑÁªÑ‰ª∂ÂØπË±°ÔºågetObjectTypeËøîÂõûÈúÄË¶ÅÊ≥®ÂÜåÁöÑÁªÑ‰ª∂Á±ªÂûãÔºåisSingletonÊåáÊòéËØ•ÁªÑ‰ª∂ÊòØÂê¶‰∏∫Âçï‰æã„ÄÇÂ¶ÇÊûú‰∏∫Â§ö‰æãÁöÑËØùÔºåÊØèÊ¨°‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñËØ•ÁªÑ‰ª∂ÈÉΩ‰ºöË∞ÉÁî®ÂÖ∂getObjectÊñπÊ≥ï„ÄÇÂÆö‰πâÂ•ΩCherryFactoryBeanÂêéÔºåÊàë‰ª¨Âú®ÈÖçÁΩÆÁ±ª‰∏≠Ê≥®ÂÜåËøô‰∏™Á±ªÔºö1234@Beanpublic CherryFactoryBean cherryFactoryBean() &#123; return new CherryFactoryBean();&#125;ÊµãËØï‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÔºö123ApplicationContext context = new AnnotationConfigApplicationContext(WebConfig.class);Object cherry = context.getBean("cherryFactoryBean");System.out.println(cherry.getClass());ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫ÔºöÂèØÁúãÂà∞ÔºåËôΩÁÑ∂Êàë‰ª¨Ëé∑ÂèñÁöÑÊòØId‰∏∫cherryFactoryBeanÁöÑÁªÑ‰ª∂Ôºå‰ΩÜÂÖ∂Ëé∑ÂèñÂà∞ÁöÑÂÆûÈôÖÊòØgetObjectÊñπÊ≥ïÈáåËøîÂõûÁöÑÂØπË±°„ÄÇÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅËé∑ÂèñcherryFactoryBeanÊú¨Ë∫´ÔºåÂàôÂèØ‰ª•ËøôÊ†∑ÂÅöÔºö12Object cherryFactoryBean = context.getBean("&amp;cherryFactoryBean");System.out.println(cherryFactoryBean.getClass());ÂêØÂä®È°πÁõÆÔºåËßÇÂØüÊéßÂà∂Âè∞Ôºö‰∏∫‰ªÄ‰πàÂä†‰∏ä&amp;ÂâçÁºÄÂ∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞Áõ∏Â∫îÁöÑÂ∑•ÂéÇÁ±ª‰∫ÜÂë¢ÔºåÊü•ÁúãBeanFactoryÁöÑÊ∫êÁ†Å‰ºöÂèëÁé∞ÂéüÂõ†:Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/50.Spring-Regist-Bean]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DubboÁöÑÈ´òÂèØÁî®]]></title>
    <url>%2FDubbo-High-Availability.html</url>
    <content type="text"><![CDATA[DubboÁöÑ‰∏Ä‰∫õËá™Ë∫´ÁâπÊÄßÁ°Æ‰øù‰∫ÜDubboÁöÑÈ´òÂèØÁî®ÔºåÊØîÂ¶ÇÂΩìÊ≥®ÂÜå‰∏≠ÂøÉÂÆïÊú∫ÂêéÔºåÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖ‰ªçËÉΩÈÄöËøáÊú¨Âú∞ÁºìÂ≠òÈÄöËÆØÔºõÊ≥®ÂÜå‰∏≠ÂøÉÂØπÁ≠âÈõÜÁæ§Ôºå‰ªªÊÑè‰∏ÄÂè∞ÂÆïÊéâÂêéÔºåÂ∞ÜËá™Âä®ÂàáÊç¢Âà∞Âè¶‰∏ÄÂè∞ÔºõÂΩìÊúâÂ§öÂè∞ÊúçÂä°Êèê‰æõËÄÖÊèê‰æõÊúçÂä°Êó∂ÔºåDubboÂÜÖÁΩÆ‰∫ÜÂá†ÁßçË¥üËΩΩÂùáË°°ÁÆóÊ≥ïÔºåÂπ∂‰∏îÊúçÂä°Êèê‰æõËÄÖÊòØÊó†Áä∂ÊÄÅÁöÑÔºå‰ªªÊÑè‰∏ÄÂè∞ÂÆïÊéâÂêéÔºå‰∏çÂΩ±Âìç‰ΩøÁî®ÔºõÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáÊï¥ÂêàHystrixÊù•ÂÆûÁé∞ÊúçÂä°ÈôçÁ∫ß„ÄÇÊ≥®ÂÜå‰∏≠ÂøÉËøôÈáåÊ®°Êãü‰∏Ä‰∏ãÂΩìÊâÄÊúâÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÂÆïÊú∫ÂêéÔºåÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖÊòØÂê¶ËÉΩÂ§üÊ≠£Â∏∏ÈÄöËÆØ„ÄÇÂú®‰∏ä‰∏ÄËäÇÁöÑ‰æãÂ≠ê‰∏äÔºåÂêØÂä®ZookeeperÔºåÁÑ∂ÂêéÂàÜÂà´ÂêØÂä®server-proivderÂíåserver-consumerÔºåÂêØÂä®Â•ΩÂêéÂÖ≥Èó≠ZookeeperÔºåËøôÊó∂ÂÄôÊ≥®ÂÜå‰∏≠ÂøÉÊòØÂÆïÊú∫ÁöÑÁä∂ÊÄÅÔºöËÆøÈóÆhttp://localhost:8081/hello/mrbirdÁúãÊòØÂê¶ÂèØ‰ª•ÊàêÂäüÊ∂àË¥πÊúçÂä°ÔºöÂèØ‰ª•ÁúãÂà∞ÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖÈÄöËÆØÊòØÊ≠£Â∏∏ÁöÑÔºåÂõ†‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉË¥üË¥£ÊúçÂä°Âú∞ÂùÄÁöÑÊ≥®ÂÜå‰∏éÊü•ÊâæÔºåÁõ∏ÂΩì‰∫éÁõÆÂΩïÊúçÂä°ÔºåÊúçÂä°Êèê‰æõËÄÖÂíåÊ∂àË¥πËÄÖÂè™Âú®ÂêØÂä®Êó∂‰∏éÊ≥®ÂÜå‰∏≠ÂøÉ‰∫§‰∫íÔºåÊ≥®ÂÜå‰∏≠ÂøÉÂÖ®ÈÉ®ÂÆïÊú∫Ôºå‰∏çÂΩ±ÂìçÂ∑≤ËøêË°åÁöÑÊèê‰æõËÄÖÂíåÊ∂àË¥πËÄÖÔºåÊ∂àË¥πËÄÖÂú®Êú¨Âú∞ÁºìÂ≠ò‰∫ÜÊèê‰æõËÄÖÂàóË°®„ÄÇDubboÁõ¥Ëøû‰ΩøÁî®Ê≥®ÂÜå‰∏≠ÂøÉÊù•Áª¥Êä§ÊúçÂä°ÂèØ‰ª•Èôç‰ΩéÂêéÊúüÁª¥Êä§ÂíåÊãìÂ±ïÁöÑÂ§çÊùÇÂ∫¶ÔºåÈôç‰ΩéËÄ¶Âêà„ÄÇ‰∏çËøáDubbo‰πüÊèê‰æõ‰∫ÜÁªïËøáÊ≥®ÂÜå‰∏≠ÂøÉÁöÑÊñπÊ≥ïÔºåÂç≥ÊúçÂä°Ê∂àË¥πËÄÖ‰∏çÈÄöËøáÊ≥®ÂÜå‰∏≠ÂøÉÔºåËÄåÊòØÁõ¥Êé•ÂèñËÆøÈóÆÊúçÂä°Êèê‰æõËÄÖÊù•Ëé∑ÂèñÊúçÂä°ÔºåËøôÁßçÊñπÂºè‰πüÁß∞‰∏∫DubboÁõ¥Ëøû„ÄÇÊàë‰ª¨Âú®ÊúçÂä°Ê∂àË¥πËÄÖÁöÑ@ReferenceÊ≥®Ëß£‰∏äÁõ¥Êé•ÊåáÂÆöÊúçÂä°Êèê‰æõËÄÖÁöÑÂú∞ÂùÄÔºåÂç≥ÂèØÂÆûÁé∞DubboÁõ¥ËøûÔºö12@Reference(url = "http://127.0.0.1:8080")private HelloService helloService;Ë¥üËΩΩÂùáË°°DubboÊèê‰æõ‰∫ÜÂõõÁßçË¥üËΩΩÂùáË°°Êú∫Âà∂ÔºöRandomLoadBalanceÔºåLeastActiveLoadBalanceÔºåConsistentHashLoadBalanceÂíåRoundRobinLoadBalance„ÄÇRandomLoadBalanceRandomLoadBalanceÊòØÂü∫‰∫éÊùÉÈáçÁöÑË¥üËΩΩÂùáË°°Êú∫Âà∂„ÄÇÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™Áî±‰∏â‰∏™ÊúçÂä°Êèê‰æõËÄÖÊûÑÊàêÁöÑÈõÜÁæ§ÔºåServer1ÁöÑÊùÉÈáç‰∏∫100ÔºåServer2ÁöÑÊùÉÈáç‰∏∫200ÔºåServer3ÁöÑÊùÉÈáç‰∏∫300ÔºåÈÇ£‰πàÂΩì‰∏Ä‰∏™ÊúçÂä°Ê∂àË¥πËØ∑Ê±ÇÂèëÈÄÅËøáÊù•Êó∂ÔºåÊúâ1/6ÁöÑÂá†ÁéáÂëΩ‰∏≠Server1Ôºå1/3ÁöÑËÆ∞ÂΩïÂëΩ‰∏≠Server2Ôºå1/2ÁöÑËÆ∞ÂΩïÂëΩ‰∏≠Server3„ÄÇLeastActiveLoadBalanceLeastActiveLoadBalance‰øóÁß∞ÊúÄÂ∞èÊ¥ªË∑ÉÊï∞Ë¥üËΩΩÂùáË°°ÔºåÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™Áî±Server1„ÄÅServer2ÂíåServer3‰∏â‰∏™ÊúçÂä°Êèê‰æõËÄÖÊûÑÊàêÁöÑÈõÜÁæ§ÔºåÂú®‰∏ä‰∏ÄÊ¨°ËØ∑Ê±Ç‰∏≠ÔºåServer1ÁöÑËÄóÊó∂‰∏∫100msÔºåServer2ÁöÑËÄóÊó∂‰∏∫200msÔºåServer3ÁöÑËÄóÊó∂‰∏∫300msÔºåÈÇ£‰πàÂΩì‰∏Ä‰∏™Êñ∞ÁöÑËØ∑Ê±ÇÂà∞Êù•Êó∂Ôºå‰ºöÂëΩ‰∏≠ËÄóÊó∂ÊúÄÂ∞ëÁöÑÈÇ£‰∏™ÊúçÂä°ÔºåÂç≥Server1„ÄÇConsistentHashLoadBalanceËØ¶ËßÅÂÆòÊñπÊñáÊ°£‰ªãÁªçÔºöhttp://dubbo.apache.org/zh-cn/docs/source_code_guide/loadbalance.html„ÄÇRoundRobinLoadBalanceRoundRobinLoadBalanceÊòØÂü∫‰∫éÊùÉÈáçÁöÑËΩÆËØ¢Ë¥üËΩΩÂùáË°°Êú∫Âà∂ÔºåÂç≥ÊúçÂä°ËØ∑Ê±ÇÂú®ËΩÆËØ¢ÁöÑÂêåÊó∂ËøòÂæóËÄÉËôëÊùÉÈáç„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºöÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™Áî±‰∏â‰∏™ÊúçÂä°Êèê‰æõËÄÖÊûÑÊàêÁöÑÈõÜÁæ§ÔºåServer1ÁöÑÊùÉÈáç‰∏∫100ÔºåServer2ÁöÑÊùÉÈáç‰∏∫200ÔºåServer3ÁöÑÊùÉÈáç‰∏∫300ÔºåÁé∞Âú®Êúâ6‰∏™ÊúçÂä°Ê∂àË¥πËØ∑Ê±Ç‰æùÊ≥ïÂèëÈÄÅËøáÊù•ÔºåÊåâÁÖßËΩÆËØ¢Êú∫Âà∂ÔºåÁ¨¨1‰∏™ËØ∑Ê±ÇÂëΩ‰∏≠Server1ÔºåÁ¨¨2‰∏™ËØ∑Ê±ÇÂëΩ‰∏≠Server2ÔºåÁ¨¨3‰∏™ËØ∑Ê±ÇÂëΩ‰∏≠Server3ÔºåÂà∞ËøôÈáå‰∏â‰∏™ÊúçÂä°Êèê‰æõËÄÖÂ∑≤ÁªèËΩÆËØ¢ÂÆå‰∏ÄÊ¨°ÔºåÁ¨¨4‰∏™ËØ∑Ê±ÇÊú¨Â∫îËØ•‰ªéÊñ∞ÂºÄÂßãËΩÆËØ¢ÔºåÂëΩ‰∏≠Server1Ôºå‰ΩÜÊòØÁî±‰∫éServer1ÁöÑÊùÉÈáç‰∏∫100ÔºàÂç†1/6ÔºåÂç≥6Ê¨°Âè™‰ºöÂëΩ‰∏≠‰∏ÄÊ¨°ÔºâÔºåÊâÄ‰ª•Á¨¨4‰∏™ËØ∑Ê±Ç‰ºöË¢´ÂàÜÈÖçÂà∞Server2„ÄÇÊé•ÁùÄËΩÆËØ¢ÔºåÁ¨¨5‰∏™ËØ∑Ê±ÇÂ∞ÜÂëΩ‰∏≠Server3ÔºåÁ¨¨6‰∏™ËØ∑Ê±ÇÂëΩ‰∏≠Server2„ÄÇÊâÄ‰ª•Ëøô6‰∏™ËØ∑Ê±ÇÂëΩ‰∏≠ÁöÑÈ°∫Â∫è‰∏∫123232ÔºåËøô‰∏™Ê¶ÇÁéáÂíåÊúçÂä°Êèê‰æõËÄÖÁöÑÊùÉÈáçÊØîÁõ∏ÂåπÈÖç„ÄÇÊú∫Âà∂ÈÄâÊã©ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåDubboÈááÁî®RandomLoadBalanceË¥üËΩΩÂùáË°°Êú∫Âà∂„ÄÇÊàë‰ª¨ÂèØ‰ª•Âú®ÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖ‰∏äÊåáÂÆö‰ΩøÁî®Âì™ÁßçË¥üËΩΩÂùáË°°ÔºöÂú®ÂÆ¢Êà∑Á´ØÁöÑ@ReferenceÊ≥®Ëß£‰∏äÊåáÂÆöÔºö12@Reference(loadbalance = RoundRobinLoadBalance.NAME)private HelloService helloService;Âú®ÊúçÂä°Á´ØÁöÑ@ServerÊ≥®Ëß£‰∏äÊåáÂÆöÔºö1@Service(interfaceClass = HelloService.class, loadbalance = RoundRobinLoadBalance.NAME)ÊùÉÈáçÂàÜÈÖçÊàë‰ª¨ÂèØ‰ª•Âú®DubboÊèê‰æõÁöÑ@ServerÊ≥®Ëß£‰∏äÊåáÂÆöÊö¥Èú≤ÊúçÂä°ÁöÑÊùÉÈáçÔºö1@Service(interfaceClass = HelloService.class, weight = 100)ËøôÊó∂ÂÄôÂú®Dubbo AdminÈáåÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™ÊúçÂä°ÁöÑÊùÉÈáçÂ∞±‰∏∫100‰∫ÜÔºöÊàë‰ª¨ÂèØ‰ª•ÂèØ‰ª•ÈÄöËøáDubbo AdminÊù•Âä®ÊÄÅË∞ÉËäÇÊúçÂä°ÁöÑÊùÉÈáç:ÈõÜÁæ§ÂÆπÈîôDubboÊîØÊåÅÂ§öÁßçÂÆπÈîôÊ®°ÂºèÔºöhttp://dubbo.apache.org/zh-cn/docs/user/demos/fault-tolerent-strategy.htmlÊúçÂä°ÈôçÁ∫ßDubboÈªòËÆ§ÊîØÊåÅ‰∏§ÁßçÈôçÁ∫ßÁ≠ñÁï•:mock=force:return+null Ë°®Á§∫Ê∂àË¥πÊñπÂØπËØ•ÊúçÂä°ÁöÑÊñπÊ≥ïË∞ÉÁî®ÈÉΩÁõ¥Êé•ËøîÂõû null ÂÄºÔºå‰∏çÂèëËµ∑ËøúÁ®ãË∞ÉÁî®„ÄÇÁî®Êù•Â±èËîΩ‰∏çÈáçË¶ÅÊúçÂä°‰∏çÂèØÁî®Êó∂ÂØπË∞ÉÁî®ÊñπÁöÑÂΩ±Âìç„ÄÇËøòÂèØ‰ª•Êîπ‰∏∫ mock=fail:return+null Ë°®Á§∫Ê∂àË¥πÊñπÂØπËØ•ÊúçÂä°ÁöÑÊñπÊ≥ïË∞ÉÁî®Âú®Â§±Ë¥•ÂêéÔºåÂÜçËøîÂõû null ÂÄºÔºå‰∏çÊäõÂºÇÂ∏∏„ÄÇÁî®Êù•ÂÆπÂøç‰∏çÈáçË¶ÅÊúçÂä°‰∏çÁ®≥ÂÆöÊó∂ÂØπË∞ÉÁî®ÊñπÁöÑÂΩ±Âìç„ÄÇÊàë‰ª¨ÂèØ‰ª•Âú®Dubbo AdminÊéßÂà∂Âè∞‰∏äÊù•Â§ÑÁêÜÈôçÁ∫ß„ÄÇ‰∏∫‰∫ÜÊ®°ÊãüÈîôËØØÊÉÖÂÜµÔºåÊàë‰ª¨ÊîπÈÄ†ÊúçÂä°Êèê‰æõËÄÖÂÆûÁé∞ÁöÑhelloÊñπÊ≥ïÔºö12345678910@Overridepublic String hello(String message) &#123; System.out.println("Ë∞ÉÁî® cc.mrbird.provider.service.HelloServiceImpl#hello"); try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; return "hello," + message;&#125;ÊñπÊ≥ï‰∏≠ËÆ©Á∫øÁ®ãÈòªÂ°û‰∫Ü2Áßí„ÄÇÊé•ÁùÄÊîπÈÄ†ÊúçÂä°Ê∂àË¥πËÄÖÔºåÂú®@ReferenceÊ≥®Ëß£‰∏äÈÖçÁΩÆË∂ÖÊó∂Êó∂Èó¥Ôºö12@Reference(timeout = 1000)private HelloService helloService;Âú®‰∏çËøõË°åÊúçÂä°ÈôçÁ∫ßÁöÑÊÉÖÂÜµ‰∏ãÔºåËÆøÈóÆhttp://localhost:8081/hello/mrbirdÂ∞ÜÁúãÊäõÂá∫ÂºÇÂ∏∏:Âú®Dubbo AdminÊ∂àË¥πËÄÖÂàóË°®‰∏äÁöÑÂ±èËîΩÊåâÈíÆÂØπÂ∫îmock=force:return+nullÁ≠ñÁï•ÔºåÂç≥‰∏çË∞ÉÁî®ÊúçÂä°ÔºåÁõ¥Êé•ËøîÂõûnullÔºåÁÇπÂáªÂ±èËîΩÂêéÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8081/hello/mrbirdÔºöÊúçÂä°Êèê‰æõËÄÖÁöÑÊéßÂà∂Âè∞‰πüÊ≤°Êúâ‰ªª‰ΩïË∞ÉÁî®Êó•Âøó:ËÄåÂÆπÈîôÊåâÈíÆÂàôÂØπÂ∫îmock=fail:return+nullÊú∫Âà∂„ÄÇÁÇπÂáªÂÆπÈîôÊåâÈíÆÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8081/hello/mrbirdÔºö‰∏äËø∞ÁªìÊûúËØÅÊòé‰∫ÜÂú®mock=fail:return+nullÁ≠ñÁï•‰∏ãÔºåÊ∂àË¥πÊñπÂØπËØ•ÊúçÂä°ÁöÑÊñπÊ≥ïË∞ÉÁî®Âú®Â§±Ë¥•ÂêéÔºåÂÜçËøîÂõû null ÂÄºÔºà‰πãÊâÄ‰ª•‰ºöËæìÂá∫Â§öÊ¨°Ë∞ÉÁî®Êó•ÂøóÔºåÊòØÂõ†‰∏∫DubboÁöÑÈáçËØïÊú∫Âà∂Ôºâ„ÄÇÊï¥ÂêàHystrixÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊï¥ÂêàSpring-Cloud-HystrixÂíåDubboÊù•ÊãìÂ±ïÊúçÂä°ÈôçÁ∫ß„ÄÇÂú®server-providerÈáåÂºïÂÖ•Hystrix‰æùËµñÔºö12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt; &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂÜçserver-providerÁöÑÂÖ•Âè£Á±ª‰∏ä‰ΩøÁî®@EnableHystrixÊ≥®Ëß£ÂºÄÂêØHystrixÂäüËÉΩ„ÄÇÊé•ÁùÄÊîπÈÄ†server-providerÁöÑHelloServiceImplÔºö1234567891011121314151617@Service(interfaceClass = HelloService.classE)@Componentpublic class HelloServiceImpl implements HelloService &#123; @Override @HystrixCommand(fallbackMethod = "defaultHello") public String hello(String message) &#123; System.out.println("Ë∞ÉÁî® cc.mrbird.provider.service.HelloServiceImpl#hello"); String a = null; a.toString(); return "hello," + message; &#125; public String defaultHello(String message) &#123; return "hello anonymous"; &#125;&#125;Âú®helloÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨Âà∂ÈÄ†‰∏Ä‰∏™Á©∫ÊåáÈíàÂºÇÂ∏∏ÔºåÈÄöËøá@HystrixCommand(fallbackMethod = &quot;defaultHello&quot;)ÊåáÂÆö‰∫ÜÈôçÁ∫ßÁöÑÊñπÊ≥ï‰∏∫defaultHello„ÄÇÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÈôçÁ∫ßÊñπÊ≥ïÁöÑÊñπÊ≥ïÂèÇÊï∞ÂíåËøîÂõûÁ±ªÂûãÂøÖÈ°ªÂíåÂéüÊñπÊ≥ï‰øùÊåÅ‰∏ÄËá¥Ôºå‰∏çÁÜüÊÇâÁöÑËØªËÄÖÂèØ‰ª•ÂèÇËÄÉhttps://mrbird.cc/Spring-Cloud-Hystrix-Circuit-Breaker.html„ÄÇÊîπÈÄ†Â•ΩÂêéÔºåÈáçÂêØÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖÔºåËÆøÈóÆhttp://localhost:8081/hello/mrbirdÔºöÂèØËßÅÊúçÂä°Â∑≤ÁªèÊàêÂäüÈôçÁ∫ß„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/53.Dubbo-High-Availability]]></content>
      <tags>
        <tag>Dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁõëÊéßDubboÊúçÂä°]]></title>
    <url>%2Fdubbo-mointor.html</url>
    <content type="text"><![CDATA[DubboÁªôÊàë‰ª¨Êèê‰æõ‰∫Üdubbo-adminÂíådubbo-monitor-simpleÁî®‰∫éÁõëÊéßDubboÊúçÂä°ÔºåÂèØ‰ª•Áî®Êù•ÁõëÊéßÊé•Âè£Êö¥Èú≤ÔºåÊ≥®ÂÜåÊÉÖÂÜµÔºå‰πüÂèØ‰ª•ÊòæÁ§∫Êé•Âè£ÁöÑË∞ÉÁî®ÊòéÁªÜÂíåË∞ÉÁî®Êó∂Èó¥„ÄÇdubbo-adminÂíådubbo-monitor-simpleÁöÑ‰∏ãËΩΩÂú∞ÂùÄ‰∏∫Ôºöhttps://github.com/apache/incubator-dubbo-admin/tree/masterÔºåËøôÈáåÁÆÄÂçï‰ªãÁªçÂÆÉ‰ª¨Â¶Ç‰Ωï‰ΩøÁî®„ÄÇÂáÜÂ§áË¶ÅÁõëÊéßDubboÊúçÂä°ÔºåÈ¶ñÂÖàÊàë‰ª¨ÂøÖÈ°ªÂú®DubboÂ∫îÁî®‰∏äÊèê‰æõËøûÊé•ÁõëÊéß‰∏≠ÂøÉÁöÑÈÖçÁΩÆÔºåDubboÊîØÊåÅ‰∏§ÁßçÊñπÂºèÔºöÂ±ûÊÄßÂØπÂ∫îURLÂèÇÊï∞Á±ªÂûãÊòØÂê¶ÂøÖÂ°´Áº∫ÁúÅÂÄº‰ΩúÁî®ÊèèËø∞ÂÖºÂÆπÊÄßprotocolprotocolstringÂèØÈÄâdubboÊúçÂä°Ê≤ªÁêÜÁõëÊéß‰∏≠ÂøÉÂçèËÆÆÔºåÂ¶ÇÊûú‰∏∫protocol=‚Äùregistry‚ÄùÔºåË°®Á§∫‰ªéÊ≥®ÂÜå‰∏≠ÂøÉÂèëÁé∞ÁõëÊéß‰∏≠ÂøÉÂú∞ÂùÄÔºåÂê¶ÂàôÁõ¥ËøûÁõëÊéß‰∏≠ÂøÉ„ÄÇ2.0.9‰ª•‰∏äÁâàÊú¨address&lt;url&gt;stringÂèØÈÄâN/AÊúçÂä°Ê≤ªÁêÜÁõ¥ËøûÁõëÊéß‰∏≠ÂøÉÊúçÂä°Âô®Âú∞ÂùÄÔºåaddress=‚Äù10.20.130.230:12080‚Äù1.0.16‰ª•‰∏äÁâàÊú¨ËøôÈáåÊàë‰ª¨ÈááÁî®Á¨¨‰∏ÄÁßçÊñπÂºèÔºåÂú®‰∏ä‰∏ÄËäÇ‰∏≠ÁöÑserver-providerÂíåserver-consumerÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆ:123dubbo: monitor: protocol: registryÈÖçÁΩÆÂ•ΩÂêéÔºå‰æùÊ¨°ÂêØÂä®server-providerÂíåserver-consumerÔºåÊé•‰∏ãÊù•ÂºÄÂßãÊê≠Âª∫ÁõëÊéß‰∏≠ÂøÉ„ÄÇdubbo-monitor-simple‰∏ãËΩΩhttps://github.com/apache/incubator-dubbo-admin/tree/masterÊ∫êÁ†ÅÂêéÔºå‰ΩøÁî®IDEAÂØºÂÖ•dubbo-monitor-simpleÂ∫îÁî®Ôºå‰øÆÊîπÂÖ∂ÈÖçÁΩÆÊñá‰ª∂dubbo.propertiesÂÜÖÂÆπÔºö1234567891011dubbo.container=log4j,spring,registry,jetty-monitordubbo.application.name=simple-monitordubbo.application.owner=dubbodubbo.registry.address=zookeeper://127.0.0.1:2181dubbo.protocol.port=7070dubbo.jetty.port=7000dubbo.jetty.directory=$&#123;user.home&#125;/monitordubbo.charts.directory=$&#123;user.home&#125;/monitor/chartsdubbo.statistics.directory=$&#123;user.home&#125;/monitor/statisticsdubbo.log4j.file=logs/dubbo-monitor-simple.logdubbo.log4j.level=WARN‰∏äÈù¢‰∏ªË¶ÅÊåáÂÆö‰∫ÜÊ≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄ‰∏∫zookeeper://127.0.0.1:2181ÔºåÁõëÊéß‰∏≠ÂøÉÂçèËÆÆÁ´ØÂè£‰∏∫7070‰ª•ÂèäÁõëÊéßÂ∫îÁî®ËÆøÈóÆÁ´ØÂè£‰∏∫7000„ÄÇÈÖçÁΩÆÂ•ΩÂêéÔºåËøêË°åÂêØÂä®Á±ªMonitorStarterÁöÑmainÊñπÊ≥ïÊù•ÂêØÂä®Â∫îÁî®ÔºåÂêØÂä®ÂêéÔºåËÆøÈóÆhttp://localhost:7000‰æøÂèØÁúãÂà∞Â¶Ç‰∏ãÈ°µÈù¢ÔºöÂú®Á∫øÂ∫îÁî®‰ø°ÊÅØ:Â§öÊ¨°ËÆøÈóÆhttp://localhost:8081/hello/mrbirdÂêéÔºå‰æøÂèØ‰ª•Âú®ÁõëÊéß‰∏≠ÂøÉÊü•ÁúãÊúçÂä°Ë∞ÉÁî®ÊÉÖÂÜµÔºödubbo-admin‰ΩøÁî®IDEAÂØºÂÖ•dubbo-adminÂ∫îÁî®Ôºå‰øÆÊîπÂÖ∂ÈÖçÁΩÆÊñá‰ª∂application.propertiesÔºö12345678910server.port=7001spring.velocity.cache=falsespring.velocity.charset=UTF-8spring.velocity.layout-url=/templates/default.vmspring.messages.fallback-to-system-locale=falsespring.messages.basename=i18n/messagespring.root.password=rootspring.guest.password=guestdubbo.registry.address=zookeeper://127.0.0.1:2181‰∏äÈù¢ÈÖçÁΩÆ‰∏ªË¶ÅÈÖçÁΩÆ‰∫ÜÊ≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄ‰∏∫zookeeper://127.0.0.1:2181ÔºåÂ∫îÁî®Á´ØÂè£Âè∑‰∏∫7001ÔºårootÂíåguestË¥¶Êà∑ÁöÑÂØÜÁ†Å„ÄÇÈÖçÁΩÆÂ•ΩÂêéÔºåÂêØÂä®Â∫îÁî®Ôºàdubbo-admin‰ΩøÁî®Spring BootÊûÑÂª∫ÔºåÂêØÂä®ÂÖ•Âè£Á±ªÂç≥ÂèØÔºâÔºåËÆøÈóÆhttp://localhost:7001ÔºöduuboÊèê‰æõ‰∫ÜÊñ∞ÁâàÁöÑdubbo-adminÔºåÈááÁî®ÂâçÂêéÁ´ØÂàÜÁ¶ªÁöÑÊñπÂºèÔºåÂâçÁ´ØÁî±Vue.jsÊûÑÂª∫ÔºåUIÊõ¥‰∏∫niceÔºå‰∏çËøáËøò‰∏çÂÆåÂñÑÔºåÊâÄ‰ª•ËøôÈáåÂ∞±‰∏ç‰ªãÁªç‰∫Ü„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/52.Dubbo-OPS-Mointor]]></content>
      <tags>
        <tag>Dubbo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÊï¥ÂêàDubbo&Zookeeper]]></title>
    <url>%2FSpring-Boot-Dubbo-Zookeeper.html</url>
    <content type="text"><![CDATA[DubboÊòØ‰∏ÄÊ¨æÁî±ÈòøÈáåÂ∑¥Â∑¥ÂºÄÂèëÁöÑËøúÁ®ãÊúçÂä°Ë∞ÉÁî®Ê°ÜÊû∂ÔºàRPCÔºâÔºåÂÖ∂ÂèØ‰ª•ÈÄèÊòéÂåñÁöÑË∞ÉÁî®ËøúÁ®ãÊúçÂä°ÔºåÂ∞±ÂÉèË∞ÉÁî®Êú¨Âú∞ÊúçÂä°‰∏ÄÊ†∑ÁÆÄÂçï„ÄÇÊà™Ëá≥ÁõÆÂâçÔºåDubboÂèëÂ∏É‰∫ÜÂü∫‰∫éSpring BootÊûÑÂª∫ÁöÑÁâàÊú¨ÔºåÁâàÊú¨Âè∑‰∏∫0.2.0ÔºåËøô‰ΩøÂæóÂÖ∂‰∏éSpring BootÈ°πÁõÆÊï¥ÂêàÂèòÂæóÊõ¥‰∏∫ÁÆÄÂçïÊñπ‰æø„ÄÇËÄåZookeeperÂú®ËøôÈáåÂÖÖÂΩìÁöÑÊòØÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÁöÑËßíËâ≤ÔºåÊàë‰ª¨Â∞ÜÂêÑ‰∏™ÂæÆÊúçÂä°Êèê‰æõÁöÑÊúçÂä°ÈÄöËøáDubboÊ≥®ÂÜåÂà∞Zookeeper‰∏≠ÔºåÁÑ∂ÂêéÊúçÂä°Ê∂àË¥πËÄÖÈÄöËøáDubbo‰ªéZookeeper‰∏≠Ëé∑ÂèñÁõ∏Â∫îÊúçÂä°Âπ∂Ê∂àË¥π„ÄÇÊú¨ÊñáÊ°à‰æãÁöÑÊû∂ÊûÑÂõæÂèØ‰ª•ÁÆÄÂçïÁî®‰∏ãÂõæË°®Á§∫Ôºö Êú¨ÊñáÊ°à‰æãÊúÄÁªàÈ°πÁõÆÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÈ°πÁõÆÈááÁî®MavenÊûÑÂª∫ÔºåÂêÑÊ®°ÂùóÁöÑ‰ΩúÁî®ÔºöÊ®°ÂùóÊèèËø∞common-apiÁªü‰∏ÄÂÆö‰πâÊé•Âè£Ôºå‰æõÂÖ∂‰ΩôÂ≠êÊ®°ÂùóÂºïÁî®server-providerÊúçÂä°Êèê‰æõËÄÖÔºåÂÆûÁé∞common-apiÊ®°Âùó‰∏≠ÁöÑÊé•Âè£ÔºåÁÑ∂ÂêéÊö¥Èú≤Âà∞Zookeeper‰∏≠Ôºå‰æõÊúçÂä°Ê∂àË¥πËÄÖ‰ΩøÁî®server-consumerÊúçÂä°Ê∂àË¥πËÄÖÔºåÈÄöËøáDubbo‰ªéZookeeper‰∏≠Ëé∑ÂèñÊúçÂä°Âπ∂Ê∂àË¥πÁéØÂ¢ÉÂáÜÂ§áZookeeperÂÆâË£ÖÂú®Êê≠Âª∫È°πÁõÆ‰πãÂâçÈúÄË¶ÅÂêØÂä®ZookeeperÊúçÂä°ÔºåZookeeper‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://zookeeper.apache.org/releases.html#download„ÄÇ‰∏ãËΩΩÂêéËß£ÂéãÔºåÂ∞ÜconfigÁõÆÂΩï‰∏ãÁöÑzoo_sample.cfgÈáçÂëΩÂêç‰∏∫zoo.cfg(ZookeeperÈÖçÁΩÆÊñá‰ª∂ÔºåÈªòËÆ§Á´ØÂè£‰∏∫2181ÔºåÂèØÊ†πÊçÆÂÆûÈôÖËøõË°å‰øÆÊîπ)„ÄÇÁÑ∂ÂêéÂèåÂáªbinÁõÆÂΩï‰∏ãÁöÑzkServer.cmdÂêØÂä®Âç≥ÂèØ„ÄÇÊûÑÂª∫Áà∂Ê®°ÂùóÊñ∞Âª∫‰∏Ä‰∏™MavenÈ°πÁõÆÔºågroupId‰∏∫cc.mrbirdÔºåartifactId‰∏∫dubbo-bootÔºåpackagingÊåáÂÆö‰∏∫pom„ÄÇÁÑ∂ÂêéÂºïÂÖ•Spring BootÔºådubbo-spring-boot-starterÂíåZookeeperÁõ∏ÂÖ≥‰æùËµñÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;dubbo-boot&lt;/artifactId&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;name&gt;dubbo-boot&lt;/name&gt; &lt;description&gt;Spring Boot-Dubbo-ZooKeeper&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.4.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;project.version&gt;1.0&lt;/project.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- dubbo --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.boot&lt;/groupId&gt; &lt;artifactId&gt;dubbo-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;0.2.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- zookeeper --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;3.4.8&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.101tec&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;0.10&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;$&#123;java.version&#125;&lt;/source&gt; &lt;target&gt;$&#123;java.version&#125;&lt;/target&gt; &lt;encoding&gt;$&#123;project.build.sourceEncoding&#125;&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;ÊûÑÂª∫Common-apiÊñ∞Âª∫‰∏Ä‰∏™MavenÊ®°ÂùóÔºåartifactId‰∏∫common-apiÔºåÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫Ôºöpom.xmlÔºö12345678910111213&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;parent&gt; &lt;artifactId&gt;dubbo-boot&lt;/artifactId&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;/parent&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;artifactId&gt;common-api&lt;/artifactId&gt;&lt;/project&gt;È°πÁõÆÂè™ÂåÖÂê´‰∏Ä‰∏™HelloServiceÊé•Âè£Ôºö12345package cc.mrbird.common.api;public interface HelloService &#123; String hello(String message);&#125;Ëá≥Ê≠§Êàë‰ª¨ÂèØ‰ª•ÂºÄÂßãÊûÑÂª∫ÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖ‰∫Ü„ÄÇÊûÑÂª∫Server-ProviderÊñ∞Âª∫‰∏Ä‰∏™MavenÊ®°ÂùóÔºåÁî®‰∫éÊö¥Èú≤DubboÊúçÂä°ÔºåartifactId‰∏∫server-providerÔºåÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöpomÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123456789101112131415161718192021&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;parent&gt; &lt;artifactId&gt;dubbo-boot&lt;/artifactId&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;/parent&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;artifactId&gt;server-provider&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;common-api&lt;/artifactId&gt; &lt;version&gt;$&#123;project.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt;ËøôÈáåÊàë‰ª¨ÂºïÂÖ•‰∫Ücommon-apiÊ®°ÂùóÔºåÁî®‰∫éÂêéÁª≠ÂÆûÁé∞Áõ∏Â∫îÁöÑÊúçÂä°„ÄÇÂú®Spring BootÂêØÂä®Á±ª‰∏≠Êàë‰ª¨Âä†ÂÖ•@EnableDubboÊ≥®Ëß£ÔºåË°®Á§∫Ë¶ÅÂºÄÂêØdubboÂäüËÉΩ:123456789101112import com.alibaba.dubbo.config.spring.context.annotation.EnableDubbo;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@EnableDubbo@SpringBootApplicationpublic class ProviderApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ProviderApplication.class, args); System.out.println("complete"); &#125;&#125;Êé•ÁùÄÂú®application.yml‰∏≠ÈÖçÁΩÆDubboÔºö12345678910111213141516server: port: 8080dubbo: application: # ÊúçÂä°ÂêçÁß∞Ôºå‰øùÊåÅÂîØ‰∏Ä name: server-provider # zookeeperÂú∞ÂùÄÔºåÁî®‰∫éÂêëÂÖ∂Ê≥®ÂÜåÊúçÂä° registry: address: zookeeper://127.0.0.1:2181 #Êö¥Èú≤ÊúçÂä°ÊñπÂºè protocol: # dubboÂçèËÆÆÔºåÂõ∫ÂÆöÂÜôÊ≥ï name: dubbo # Êö¥Èú≤ÊúçÂä°Á´ØÂè£ ÔºàÈªòËÆ§ÊòØ20880Ôºå‰∏çÂêåÁöÑÊúçÂä°Êèê‰æõËÄÖÁ´ØÂè£‰∏çËÉΩÈáçÂ§çÔºâ port: 20880Â¶ÇÊûúZookeeperÊòØÈõÜÁæ§ÁöÑËØùÔºåspring.dubbo.registry.addressÈÖçÁΩÆ‰∏∫Ôºö1234spring: dubbo: registry: address: zookeeper://127.0.0.1:2181?backup=127.0.0.1:2180,127.0.0.1:2182Êé•‰∏ãÊù•Êàë‰ª¨Âú®cc.mrbird.provider.serviceË∑ØÂæÑ‰∏ãÂàõÂª∫‰∏Ä‰∏™HelloServiceÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÔºö123456789101112import cc.mrbird.common.api.HelloService;import com.alibaba.dubbo.config.annotation.Service;import org.springframework.stereotype.Component;@Service(interfaceClass = HelloService.class)@Componentpublic class HelloServiceImpl implements HelloService &#123; @Override public String hello(String message) &#123; return "hello," + message; &#125;&#125;ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØ@ServiceÊ≥®Ëß£‰∏∫DubboÊèê‰æõÁöÑcom.alibaba.dubbo.config.annotation.ServiceÔºåËÄåÈùûSpringÁöÑÈÇ£‰∏™„ÄÇÂÖ∂‰∏≠interfaceClassÊòØÊåáË¶ÅÂèëÂ∏ÉÊúçÂä°ÁöÑÊé•Âè£„ÄÇÈÄöËøá‰∏äÈù¢ÁöÑÈÖçÁΩÆÔºåÊàë‰ª¨Â∑≤ÁªèÂ∞ÜHelloServiceÊé•Âè£ÁöÑÂÆûÁé∞Êö¥Èú≤Âà∞Zookeeper‰∏≠‰∫ÜÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÁªßÁª≠ÂàõÂª∫‰∏Ä‰∏™ÊúçÂä°Ê∂àË¥πËÄÖÔºåÊù•Ê∂àË¥πËøô‰∏™ÊúçÂä°„ÄÇÊê≠Âª∫Server-ConsumerÊñ∞Âª∫‰∏Ä‰∏™MavenÊ®°ÂùóÔºåÁî®‰∫éÊ∂àË¥πDubboÊúçÂä°ÔºåartifactId‰∏∫server-consumerÔºåÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöpomÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123456789101112131415161718192021&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;parent&gt; &lt;artifactId&gt;dubbo-boot&lt;/artifactId&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;/parent&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;artifactId&gt;server-consumer&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;common-api&lt;/artifactId&gt; &lt;version&gt;$&#123;project.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt;ÂêåÊ†∑ÁöÑÔºåÊàë‰ª¨‰πüÂú®Spring BootÂêØÂä®Á±ª‰∏≠Êàë‰ª¨Âä†ÂÖ•@EnableDubboÊ≥®Ëß£ÔºåË°®Á§∫Ë¶ÅÂºÄÂêØdubboÂäüËÉΩ„ÄÇÊé•ÁùÄÂú®application.yml‰∏≠ÈÖçÁΩÆDubboÔºö12345678910111213server: port: 8081dubbo: application: # ÊúçÂä°ÂêçÁß∞Ôºå‰øùÊåÅÂîØ‰∏Ä name: server-consumer # zookeeperÂú∞ÂùÄÔºåÁî®‰∫é‰ªé‰∏≠Ëé∑ÂèñÊ≥®ÂÜåÁöÑÊúçÂä° registry: address: zookeeper://127.0.0.1:2181 protocol: # dubboÂçèËÆÆÔºåÂõ∫ÂÆöÂÜôÊ≥ï name: dubboÂêåÊúçÂä°Êèê‰æõËÄÖÔºåÊàë‰ª¨ÈúÄË¶ÅÊåáÂÆöZookeeperÁöÑÂú∞ÂùÄÔºåÂçèËÆÆ‰∏∫dubbo„ÄÇÊé•ÁùÄÊàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™TestControllerÔºåÊºîÁ§∫ÊúçÂä°Ê∂àË¥πÔºö1234567891011121314151617import cc.mrbird.common.api.HelloService;import com.alibaba.dubbo.config.annotation.Reference;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class HelloController &#123; @Reference private HelloService helloService; @GetMapping("/hello/&#123;message&#125;") public String hello(@PathVariable String message) &#123; return this.helloService.hello(message); &#125;&#125;ÈÄöËøáDubboÁöÑ@ReferenceÊ≥®Ëß£Ê≥®ÂÖ•ÈúÄË¶Å‰ΩøÁî®ÁöÑinterfaceÔºåÁ±ª‰ºº‰∫éSpringÁöÑ@Autowired„ÄÇÊµãËØïÂàÜÂà´ÂêØÂä®Server-ProviderÂíåServer-ConsumerÔºåËÆøÈóÆhttp://localhost:8081/hello/mrbirdÔºöËØ¥ÊòéËøúÁ®ãÊúçÂä°Ë∞ÉÁî®Â∑≤ÁªèÊàêÂäü„ÄÇËøôÈáåÂè™ÊòØÈÄöËøáSpring BootÂíåDubboÁöÑÊï¥ÂêàÊù•ÁÆÄÂçï‰∫ÜËß£DubboÁöÑ‰ΩøÁî®Ôºå‰ªÖ‰ΩúÊäõÁ†ñÂºïÁéâÔºåÊõ¥‰∏∫ËØ¶ÁªÜÁöÑDubboÈÖçÁΩÆÂèØ‰ª•Êü•ÁúãÂÆòÊñπÊñáÊ°£Ôºöhttp://dubbo.apache.org/zh-cn/docs/user/quick-start.htmlÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/40.Spring-Boot-Dubbo-Zookeeper]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Dubbo</tag>
        <tag>Spring Boot</tag>
        <tag>Zookeeper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®WireMockÂø´ÈÄü‰º™ÈÄ†RESTfulÊúçÂä°]]></title>
    <url>%2FWireMock-mock-RESTful.html</url>
    <content type="text"><![CDATA[ÂâçÂêéÁ´ØÂàÜÁ¶ªÁöÑÂºÄÂèëÊ®°ÂºèÂ∑≤ÁªèË∂äÊù•Ë∂äÊµÅË°åÔºå‰ΩÜÊòØÂâçÂêéÁ´ØÁöÑÂºÄÂèëËøõÂ∫¶Âπ∂‰∏çËÉΩÂÆåÂÖ®‰øùÊåÅ‰∏ÄËá¥ÔºåÂΩìÂâçÁ´ØÈúÄË¶ÅË∞ÉÁî®ÂêéÁ´ØÂ∞öÊú™ÂºÄÂèëÁöÑRESTfulÊé•Âè£Êó∂‰∏çÂæó‰∏çÁ≠âÂæÖÂêéÁ´ØÂºÄÂèëÂÆåÊØïÔºåËøôÂ∞ÜÂΩ±ÂìçÂπ∂Ë°åÂºÄÂèëÁöÑÊïàÁéá„ÄÇhttp://wiremock.orgÂ∞±ÊòØ‰∏ÄÊ¨æÁî®‰∫éËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÂºÄÊ∫êÊ°ÜÊû∂„ÄÇWireMockÂèØ‰ª•Âø´ÈÄüÁöÑ‰º™ÈÄ†RESTfulÊé•Âè£Âπ∂ËøîÂõû‰º™ÈÄ†ÁöÑJSONÊï∞ÊçÆ„ÄÇËøôÈáåÁÆÄÂçïËÆ∞ÂΩï‰∏ãWireMockÁöÑ‰ΩøÁî®ÊñπÊ≥ï„ÄÇÊê≠Âª∫WireMockÊúçÂä°Âô®Êàë‰ª¨Âú®Êú¨Âú∞Êê≠Âª∫‰∏Ä‰∏™WireMockÊúçÂä°Âô®„ÄÇÈÄöËøáhttp://repo1.maven.org/maven2/com/github/tomakehurst/wiremock-standalone/2.18.0/wiremock-standalone-2.18.0.jar‰∏ãËΩΩwiremock-standalone-x.xx.xx.jarÔºåÁÑ∂Âêé‰ΩøÁî®java -jarÂëΩ‰ª§ËøêË°åÔºö1java -jar wiremock-standalone-2.18.0.jar --port=8080ÂêØÂä®ÁïåÈù¢Ôºö WireMockÁöÑÁÆÄÂçï‰ΩøÁî®‰∏∫‰∫ÜÊñπ‰æøÔºåÊàë‰ª¨Âú®Spring BootÁéØÂ¢ÉÈáåËøõË°åÁºñÂÜô„ÄÇÂú®È°πÁõÆ‰∏≠ÂºïÂÖ•WireMock‰æùËµñÔºö12345&lt;dependency&gt; &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt; &lt;artifactId&gt;wiremock&lt;/artifactId&gt; &lt;version&gt;2.18.0&lt;/version&gt;&lt;/dependency&gt;Êñ∞Âª∫‰∏Ä‰∏™MockServerÁ±ªÔºåÂåÖÂê´mainÊñπÊ≥ïÔºåÂπ∂ÂºïÂÖ•com.github.tomakehurst.wiremock.client.WireMockÁöÑÊâÄÊúâÈùôÊÄÅÊñπÊ≥ïÔºö12345678910111213141516import static com.github.tomakehurst.wiremock.client.WireMock.*;public class MockService &#123; public static void main(String[] args) &#123; // ÈÖçÁΩÆWireMockÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ http://localhost:8080 configureFor("127.0.0.1", 8080); // Ê∏ÖÈô§WireMockÊúçÂä°Âô®Èáå‰πãÂâçÁöÑÈÖçÁΩÆ removeAllMappings(); //‰º™ÈÄ†‰∏Ä‰∏™getËØ∑Ê±ÇÔºåËØ∑Ê±ÇÂú∞ÂùÄ‰∏∫ /user/1ÔºåÁÑ∂ÂêéËøîÂõû‰ΩìÂåÖÂê´JSONÊï∞ÊçÆÔºåÁä∂ÊÄÅ‰∏∫200 stubFor(get(urlEqualTo("/user/1")) .willReturn(aResponse() .withBody("&#123;\"name\":\"mrbird\",\"url\":\"https://mrbird.cc\",\"age\":18&#125;") .withStatus(200))); &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏ªË¶ÅÂàÜ‰∏∫‰∏â‰∏™Ê≠•È™§Ôºö‰ΩøÁî®configureForÊñπÊ≥ïÈÖçÁΩÆWireMockÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ‰∏∫http://localhost:8080ÔºõË∞ÉÁî®removeAllMappingsÊ∏ÖÈô§WireMockÊúçÂä°Âô®ÈáåÊâÄÊúâÈÖçÁΩÆÔºõË∞ÉÁî®stubForÊâìÊ°©ÔºåÂπ∂Ê®°Êãü‰∫Ü‰∏Ä‰∏™HTTP GETËØ∑Ê±ÇÔºåÁÑ∂ÂêéËøîÂõû200Áä∂ÊÄÅÁ†ÅÔºåËøîÂõûÊä•ÊñáÂ§¥ÈÉ®ÂåÖÂê´JSON‰ø°ÊÅØ„ÄÇËøôÈáåURL‰ΩøÁî®ÊñπÊ≥ïurlEqualToÂÖ®ÂåπÈÖçÔºåWireMock‰πüÊèê‰æõ‰∫ÜÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçURLÁöÑÊñπÊ≥ï„ÄÇÂú®ÈÖçÁΩÆÂÆå‰∫ÜÂêéËøêË°åmainÊñπÊ≥ïÔºåÂ∞±ÂèØ‰ª•Â∞ÜÊàë‰ª¨ÁöÑÈÖçÁΩÆÂÜôÂà∞WireMockÊúçÂä°Âô®ÈáåÔºåËøôÊó∂ÂÄôÂú®ÊµèËßàÂô®‰∏≠Ë∞ÉÁî®http://localhost:8080/user/1‰æøËÉΩÁúãÂà∞Êàë‰ª¨Ê®°ÊãüÁöÑËæìÂá∫ÁªìÊûúÔºöËøôÈáåÊé®Ëçê‰∏™Âú®Á∫øJSONÁºñËæëÂô®Ôºöhttps://www.bejson.com/jsoneditoronline/„ÄÇÁÆÄÂçïÂ∞ÅË£ÖÊàë‰ª¨ÂèØ‰ª•ÂØπ‰∏äÈù¢ÁöÑ‰ª£Á†ÅËøõË°åÁÆÄÂçïÁöÑÂ∞ÅË£ÖÔºåÊñπ‰æøÈáçÁî®Ôºö123456789import org.apache.commons.io.FileUtils;import org.apache.commons.lang3.StringUtils;import org.springframework.core.io.ClassPathResource;private static void getMock(String url, String file) throws IOException &#123; ClassPathResource resource = new ClassPathResource("mock/response/" + file); String content = StringUtils.join(FileUtils.readLines(resource.getFile(), "UTF-8").toArray(), "\n"); stubFor(get(urlPathEqualTo(url)).willReturn(aResponse().withBody(content).withStatus(200)));&#125;‰∏äÈù¢‰ª£Á†ÅÂ∞ÅË£Ö‰∫Ü‰∏Ä‰∏™getMockÊñπÊ≥ïÔºåÁî®‰∫éÂ§ÑÁêÜgetÁ±ªÂûãÁöÑMockÔºåÂèÇÊï∞‰∏∫Ê®°ÊãüURLÂíåÊ®°ÊãüJSONÊñá‰ª∂„ÄÇÊàë‰ª¨Âú®src/main/resource/mock/responseÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™user.jsonÊñá‰ª∂Ôºö12345&#123; "name": "mrbird", "url": "https://mrbird.cc", "age": 18&#125;ÂêéÈù¢Êàë‰ª¨Âè™ÈúÄË¶ÅÂÉè‰∏ãÈù¢ËøôÊ†∑Ë∞ÉÁî®Â∞±Ë°å‰∫ÜÔºö1getMock("/user/1", "user.json");WireMockËøòÊèê‰æõ‰∫ÜËÆ∏Â§öÂà´ÁöÑÂäüËÉΩÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉÂÆòÊñπÊñáÊ°£ http://wiremock.org/docs/„ÄÇ]]></content>
      <tags>
        <tag>WireMock</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®Spring Cloud SleuthË∑üË∏™ÂæÆÊúçÂä°]]></title>
    <url>%2FSpring-Cloud-sleuth.html</url>
    <content type="text"><![CDATA[Âú®ÂæÆÊúçÂä°Êï∞ÈáèËæÉÂ§öÁöÑÁ≥ªÁªüÊû∂ÊûÑ‰∏≠Ôºå‰∏Ä‰∏™ÂÆåÊï¥ÁöÑHTTPËØ∑Ê±ÇÂèØËÉΩÈúÄË¶ÅÁªèËøáÂ•ΩÂá†‰∏™ÂæÆÊúçÂä°„ÄÇÂ¶ÇÊûúÊÉ≥Ë¶ÅË∑üË∏™‰∏ÄÊù°ÂÆåÊï¥ÁöÑHTTPËØ∑Ê±ÇÈìæË∑ØÊâÄ‰∫ßÁîüÁöÑÊó•ÂøóÔºåÊàë‰ª¨ÈúÄË¶ÅÂà∞ÂêÑ‰∏™ÂæÆÊúçÂä°‰∏äÂéªÊü•ÁúãÊó•ÂøóÂπ∂Ê£ÄÁ¥¢Âá∫Êàë‰ª¨ÈúÄË¶ÅÁöÑ‰ø°ÊÅØ„ÄÇÈöèÁùÄ‰∏öÂä°ÂèëÂ±ïÔºåÂæÆÊúçÂä°ÁöÑÊï∞Èáè‰πü‰ºöË∂äÊù•Ë∂äÂ§öÔºåËøô‰∏™ËøáÁ®ã‰πüÂèòÂæóÊÑàÂèëÂõ∞Èöæ„ÄÇ‰∏çËøá‰∏çÁî®ÊãÖÂøÉÔºåSpring Cloud Sleuth‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÂàÜÂ∏ÉÂºèÊúçÂä°Ë∑üË∏™ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ‰∏∫‰∫ÜÊºîÁ§∫Â¶Ç‰Ωï‰ΩøÁî®Spring Cloud SleuthÔºåÊàë‰ª¨ÈúÄË¶ÅÊûÑÂª∫‰∏Ä‰∏™Â∞èÂûãÁöÑÂæÆÊúçÂä°Á≥ªÁªü„ÄÇÂáÜÂ§áÂ∑•‰ΩúËøôÈáåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏§‰∏™ÂæÆÊúçÂä°Server-Provider1ÂíåServer-Provider2ÔºåÂÆÉ‰ª¨ÈÉΩÂÖ∑Êúâ‰∏Ä‰∏™Âêç‰∏∫helloÁöÑRESTÊé•Âè£ÔºåServer-Provider1ÁöÑhelloÊé•Âè£‰æùËµñ‰∫éServer-Provider2ÁöÑhelloÊé•Âè£„ÄÇÂπ∂Â∞ÜËøô‰∏§‰∏™ÊúçÂä°Ê≥®ÂÜåÂà∞Eureka-ServerÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÈõÜÁæ§„ÄÇEureka-ServerÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÈõÜÁæ§Áõ¥Êé•‰ΩøÁî®https://mrbird.cc/Spring-Cloud-Eureka.htmlÈáåÊûÑÂª∫ÁöÑÂç≥ÂèØÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇÂàõÂª∫Server-Provider1Êñ∞Âª∫‰∏Ä‰∏™Spring BootÂ∑•Á®ãÔºåartifactId‰∏∫Server-Provider1ÔºåÂπ∂ÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö123456789101112131415161718192021222324252627282930&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-ribbon&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;spring-cloud-starter-eurekaÁî®‰∫éÊ≥®ÂÜåÂæÆÊúçÂä°Ôºåspring-cloud-starter-ribbonÁî®‰∫éË∞ÉÁî®Server-Provider2Êèê‰æõÁöÑÊúçÂä°Ôºåspring-cloud-starter-sleuth‰∏∫Spring Cloud Sleuth‰æùËµñÔºåÁî®‰∫éË∑üË∏™ÂæÆÊúçÂä°ËØ∑Ê±Ç„ÄÇÊé•ÁùÄÂú®ÈÖçÁΩÆÊñá‰ª∂application.ymlÈáåÊ∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆ:12345678910spring: application: name: server-provider1server: port: 9000eureka: client: serviceUrl: defaultZone: http://mrbird:123456@peer1:8080/eureka/,http://mrbird:123456@peer2:8081/eureka/ÈÖçÁΩÆ‰∏≠ÊåáÂÆö‰∫ÜÂæÆÊúçÂä°ÂêçÁß∞‰∏∫server-provider1ÔºåÁ´ØÂè£Âè∑‰∏∫9000‰ª•ÂèäÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄ„ÄÇÁÑ∂ÂêéÊàë‰ª¨Âú®ÂÖ•Âè£Á±ª‰∏≠Ê∑ªÂä†@EnableDiscoveryClientÊ≥®Ëß£ÔºåÂºÄÂêØÊúçÂä°ÁöÑÊ≥®ÂÜå‰∏éÂèëÁé∞„ÄÇÂπ∂‰∏îÊ≥®ÂÜåRestTemplateÔºåÁî®‰∫éRibbonÊúçÂä°ËøúÁ®ãË∞ÉÁî®Ôºö1234567891011121314@SpringBootApplication@EnableDiscoveryClientpublic class DemoApplication &#123; @Bean @LoadBalanced RestTemplate restTemplate() &#123; return new RestTemplate(); &#125; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÊúÄÂêéÁºñÂÜôRESTÊé•Âè£Ôºö123456789101112131415@RestController@RequestMapping("hello")public class HelloController &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @Autowired private RestTemplate restTemplate; @GetMapping public String hello() &#123; logger.info("Ë∞ÉÁî®server-provider1ÁöÑhelloÊé•Âè£"); return this.restTemplate.getForEntity("http://server-provider2/hello", String.class).getBody(); &#125;&#125;Âú®helloÊé•Âè£‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáRestTemplateËøúÁ®ãË∞ÉÁî®‰∫Üserver-provider2ÁöÑhelloÊé•Âè£„ÄÇÂàõÂª∫Server-Provider2Êñ∞Âª∫‰∏Ä‰∏™Êñ∞Âª∫‰∏Ä‰∏™Spring BootÂ∑•Á®ãÔºåartifactId‰∏∫Server-Provider2Ôºå‰æùËµñÂíåServer-Provider1Áõ∏Âêå„ÄÇÂú®application.yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö12345678910spring: application: name: server-provider2server: port: 9001eureka: client: serviceUrl: defaultZone: http://mrbird:123456@peer1:8080/eureka/,http://mrbird:123456@peer2:8081/eureka/Âú®ÂÖ•Âè£Á±ª‰∏≠Ê∑ªÂä†@EnableDiscoveryClientÊ≥®Ëß£ÔºåÂºÄÂêØÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞„ÄÇÊúÄÂêéÁºñÂÜô‰∏Ä‰∏™RESTÊé•Âè£Ôºå‰æõServer-Provider1Ë∞ÉÁî®Ôºö123456789101112@RestController@RequestMapping("hello")public class HelloController &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @GetMapping public String hello() &#123; logger.info("Ë∞ÉÁî®server-provider2ÁöÑhelloÊé•Âè£"); return "hello world"; &#125;&#125;Ëá≥Ê≠§ÔºåServer-Provider2‰πüÊê≠Âª∫ÂÆå‰∫Ü„ÄÇÊµãËØïSpring Cloud SleuthÂêØÂä®8080Âíå8081Eureka-ServerÈõÜÁæ§ÔºåÁÑ∂ÂêéÂàÜÂà´ÂêØÂä®Server-Provider1ÂíåServer-Provider2„ÄÇËÆøÈóÆhttp://localhost:8080/Êü•ÁúãÊúçÂä°ÊòØÂê¶ÈÉΩÂêØÂä®ÊàêÂäüÔºöÂèØËßÅÊúçÂä°ÈÉΩÂêØÂä®ÊàêÂäü‰∫ÜÔºåÊàë‰ª¨ÂæÄServer-provider1ÂèëÈÄÅhttp://localhost:9000/helloËØ∑Ê±ÇÔºåÁÑ∂ÂêéËßÇÂØüÂêÑËá™ÁöÑÊó•ÂøóÔºöServer-Provider1Ôºö12018-06-25 10:13:40.921 INFO [server-provider1,939ca3c1d060ed40,939ca3c1d060ed40,false] 12516 --- [nio-9000-exec-6] c.e.demo.controller.HelloController : Ë∞ÉÁî®server-provider1ÁöÑhelloÊé•Âè£Server-Provider2Ôºö12018-06-25 10:13:40.931 INFO [server-provider2,939ca3c1d060ed40,3f31114e88154074,false] 6500 --- [nio-9001-exec-3] c.e.demo.controller.HelloController : Ë∞ÉÁî®server-provider2ÁöÑhelloÊé•Âè£ÂèØ‰ª•ÁúãÂà∞ÔºåÊó•ÂøóÈáåÂá∫Áé∞‰∫Ü[server-provider2,939ca3c1d060ed40,3f31114e88154074,false]‰ø°ÊÅØÔºåËøô‰∫õ‰ø°ÊÅØÁî±Spring Cloud SleuthÁîüÊàêÔºåÁî®‰∫éË∑üË∏™ÂæÆÊúçÂä°ËØ∑Ê±ÇÈìæË∑Ø„ÄÇËøô‰∫õ‰ø°ÊÅØÂåÖÂê´‰∫Ü4‰∏™ÈÉ®ÂàÜÁöÑÂÄºÔºåÂÆÉ‰ª¨ÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºöserver-provider2ÂæÆÊúçÂä°ÁöÑÂêçÁß∞Ôºå‰∏éspring.application.nameÂØπÂ∫îÔºõ939ca3c1d060ed40Áß∞‰∏∫Trace IDÔºåÂú®‰∏ÄÊù°ÂÆåÊï¥ÁöÑËØ∑Ê±ÇÈìæË∑Ø‰∏≠ÔºåËøô‰∏™ÂÄºÊòØÂõ∫ÂÆöÁöÑ„ÄÇËßÇÂØü‰∏äÈù¢ÁöÑÊó•ÂøóÂç≥ÂèØËØÅÂÆûËøô‰∏ÄÁÇπÔºõ3f31114e88154074Áß∞‰∏∫Span IDÔºåÂÆÉË°®Á§∫‰∏Ä‰∏™Âü∫Êú¨ÁöÑÂ∑•‰ΩúÂçïÂÖÉÔºõfalseË°®Á§∫ÊòØÂê¶Ë¶ÅÂ∞ÜËØ•‰ø°ÊÅØËæìÂá∫Âà∞ZipkinÁ≠âÊúçÂä°‰∏≠Êù•Êî∂ÈõÜÂíåÂ±ïÁ§∫ÔºåËøôÈáåÊàë‰ª¨ËøòÊ≤°ÊúâÈõÜÊàêZipkinÔºåÊâÄ‰ª•‰∏∫false„ÄÇÈõÜÊàêZipkinËôΩÁÑ∂Êàë‰ª¨Â∑≤ÁªèÂèØ‰ª•ÈÄöËøáTrace IDÊù•Ë∑üË∏™Êï¥‰ΩìËØ∑Ê±ÇÈìæË∑Ø‰∫ÜÔºå‰ΩÜÊòØÊàë‰ª¨ËøòÊòØÂæóÂéªÂêÑ‰∏™Á≥ªÁªü‰∏≠ÊçûÂèñÊó•Âøó„ÄÇÂú®Âπ∂ÂèëËæÉÈ´òÂæóÊó∂ÂÄôÔºåÊó•ÂøóÊòØÊµ∑ÈáèÁöÑÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä©ZipkinÊù•‰ª£ÊõøÊàë‰ª¨ÂÆåÊàêÊó•ÂøóËé∑Âèñ‰∏éÂàÜÊûê„ÄÇZipkinÊòØTwitterÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êÈ°πÁõÆÔºå‰∏ªË¶ÅÂåÖÂê´‰∫Ü‰ª•‰∏ãÂõõ‰∏™ÁªÑ‰ª∂ÔºöCollectorÔºöÊî∂ÈõÜÂô®ÔºåË¥üË¥£Êî∂ÈõÜÊó•Âøó‰ø°ÊÅØÔºå‰ª•‰æõÂêéÁª≠ÁöÑÂ≠òÂÇ®ÔºåÂàÜÊûê‰∏éÂ±ïÁ§∫ÔºõStorageÔºöÂ≠òÂÇ®Ê®°ÂùóÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆÉÂ∞ÜÊó•ÂøóÂ≠òÂÇ®Âà∞MySQL‰∏≠ÔºõRESTful APIÔºöAPIÁªÑ‰ª∂ÔºåÂÆÉ‰∏ªË¶ÅÁî®Êù•Êèê‰æõÂ§ñÈÉ®ËÆøÈóÆÊé•Âè£„ÄÇ ÊØîÂ¶ÇÁªôÂÆ¢Êà∑Á´ØÂ±ïÁ§∫Ë∑üË∏™‰ø°ÊÅØÔºåÊàñÊòØÂ§ñÊé•Á≥ªÁªüËÆøÈóÆ‰ª•ÂÆûÁé∞ÁõëÊéßÁ≠âÔºõWEB UIÔºöÈÄöËøáwebÈ°µÈù¢ÔºåÊàë‰ª¨ÂèØ‰ª•ËΩªÊùæÁöÑÂàÜÊûê‰∏éË∑üË∏™ËØ∑Ê±ÇÊó•Âøó„ÄÇÊê≠Âª∫Zipkin-ServerÂú®ÂÆåÊàêSpring Cloud Cleuth‰∏éZipkinÁöÑÊï¥Âêà‰πãÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÊê≠Âª∫‰∏Ä‰∏™ZipkinÊúçÂä°„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Spring BootÂ∫îÁî®ÔºåartifactId‰∏∫Zipkin-ServerÔºåÂπ∂ÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö1234567891011121314151617181920212223242526&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt; &lt;artifactId&gt;zipkin-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt; &lt;artifactId&gt;zipkin-autoconfigure-ui&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;Âú®ÂÖ•Âè£Á±ª‰∏≠Ê∑ªÂä†@EnableZipkinServerÊ≥®Ëß£ÔºåÁî®‰∫éÂêØÂä®ZipkinÊúçÂä°„ÄÇÊé•ÁùÄÂú®application.yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö12345spring: application: name: zipkin-serverserver: port: 9100ÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:9100ÔºöÂæÆÊúçÂä°ÂºïÂÖ•ZipkinÊé•ÁùÄÊàë‰ª¨ÈúÄË¶ÅÂú®Server-Provider1ÂíåServer-Provider2ÈáåÂºïÂÖ•ZipkinÊúçÂä°„ÄÇÂàÜÂà´Âú®Server-Provider1ÂíåServer-Provider2ÈáåÊ∑ªÂä†ZipkinÁõ∏ÂÖ≥‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂàÜÂà´Âú®Server-Provider1ÂíåServer-Provider2ÁöÑÈÖçÁΩÆÊñá‰ª∂ÈáåÊ∑ªÂä†ZipkinÊúçÂä°Âú∞ÂùÄÔºö123spring: zipkin: base-url: http://localhost:9100Ëá≥Ê≠§ÔºåÂæÆÊúçÂä°ÊîπÈÄ†ÂÆåÊØï„ÄÇÊµãËØïÂêØÂä®Server-Provider1ÂíåServer-Provider2ÔºåÂÜçÊ¨°ÂæÄServer-Provider1ÂèëÈÄÅÂ§ö‰∏™http://localhost:9000/helloËØ∑Ê±ÇÔºåÂΩìÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞‰∏∫trueÁöÑÊó∂ÂÄôÔºåËØ¥ÊòéËØ•Ë∑üË∏™‰ø°ÊÅØ‰ºöËæìÂá∫ÁªôZipkin ServerÔºöËøôÊó∂ÂÄôËÆøÈóÆhttp://localhost:9100ÔºåËßÇÂØüZipkin webÈ°µÈù¢ÔºöÁÇπÂáª‰∏ãÊñπÁöÑË∑üË∏™‰ø°ÊÅØÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Êï¥‰∏™ÈìæË∑ØÁªèËøá‰∫ÜÂì™‰∫õÊúçÂä°ÔºåÊÄªËÄóÊó∂Á≠â‰ø°ÊÅØÔºöÁÇπÂáª‚Äú‰æùËµñÂàÜÊûê‚Äù‰πüÂèØ‰ª•ÁúãÂà∞ËØ∑Ê±ÇÈáåÂæÆÊúçÂä°ÁöÑÂÖ≥Á≥ªÔºöËøôÈáå‰πãÊâÄ‰ª•Ë¶ÅÂæÄServer-Provider1ÂèëÈÄÅÂ§ö‰∏™http://localhost:9000/helloËØ∑Ê±ÇÊòØÂõ†‰∏∫spring.sleuth.sampler.percentageÈªòËÆ§ÂÄº‰∏∫0.1ÔºåÂç≥ÈááÊ†∑ÁéáÊâç1/10„ÄÇÂ¶ÇÊûúÊÉ≥ÊØèÊ¨°ËØ∑Ê±ÇÈÉΩË¢´ÈááÊ†∑ÔºåÂç≥ÊØèÊ¨°ËØ∑Ê±ÇË∑üË∏™‰ø°ÊÅØÁöÑÁ¨¨Âõõ‰∏™ÂèÇÊï∞ÈÉΩ‰∏∫trueÁöÑËØùÔºåÂèØ‰ª•Â∞ÜËøô‰∏™ÂÄºËÆæÁΩÆ‰∏∫1„ÄÇÊï∞ÊçÆÂ≠òÂÇ®Ëøô‰∫õË∑üË∏™‰ø°ÊÅØÂú®Zipkin-ServerÊúçÂä°ÈáçÂêØÂêé‰æø‰ºö‰∏¢Â§±ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜËøô‰∫õ‰ø°ÊÅØÂ≠òÂÇ®Âà∞MySQLÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇÊàë‰ª¨Âú®Zipkin-Server‰∏≠Ê∑ªÂä†MySQLÊï∞ÊçÆÂ∫ìÈ©±Âä®ÂíåJDBC‰æùËµñÔºö123456789101112&lt;dependency&gt; &lt;groupId&gt;io.zipkin.java&lt;/groupId&gt; &lt;artifactId&gt;zipkin-autoconfigure-storage-mysql&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®application.yml‰∏≠Ê∑ªÂä†Êï∞ÊçÆÂ∫ìËøûÊé•‰ø°ÊÅØÔºö123456789spring: datasource: url: jdbc:mysql://127.0.0.1:3306/zipkin?useUnicode=true&amp;characterEncoding=utf-8 driver-class-name: com.mysql.jdbc.Driver username: root password: 123456zipkin: storage: type: mysqlÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂêåÊó∂ÈÄöËøázipkin.storage.type=mysqlÊåáÂÆö‰∫ÜZipkinÁöÑÂ≠òÂÇ®ÊñπÂºè‰∏∫MySQL„ÄÇÊé•‰∏ãÊù•ÂàõÂª∫Êï∞ÊçÆÂ∫ìÂíåÊï∞ÊçÆÂ∫ìË°®ÔºåÊñ∞Âª∫‰∏Ä‰∏™Âêç‰∏∫zipkinÁöÑÊï∞ÊçÆÂ∫ìÔºöÁÑ∂ÂêéÂØºÂÖ•Â∫ìË°®ÔºåÂ∫ìË°®SQLÊñá‰ª∂Âú®io.zipkin.java:zipkin-storage-mysql:2.6.1‰æùËµñÈáåÂèØ‰ª•ÊâæÂà∞ÔºöÂàõÂª∫ÂÆåÂêéÔºåÊàë‰ª¨ÈáçÂêØZipkin-ServerÔºåÂèëÈÄÅhttp://localhost:9000/helloËØ∑Ê±ÇÔºåÁÑ∂ÂêéÊü•ÁúãÊï∞ÊçÆÂ∫ì‰ºöÂèëÁé∞Ë∑üË∏™‰ø°ÊÅØÂ∑≤ÁªèÂ≠òÂÇ®Âú®Â∫ìË°®Èáå‰∫ÜÔºöZipkin APIÊ≠£Â¶Ç‰∏äÈù¢ÊâÄËØ¥ÁöÑÔºåZipkinÊèê‰æõ‰∫ÜRESTful API‰æõÊàë‰ª¨Ë∞ÉÁî®ÔºåÂú®ÂêØÂä®Zipkin-ServerÁöÑÊó∂ÂÄôÔºåÊéßÂà∂Âè∞ÊâìÂç∞Êó•ÂøóÂåÖÂê´Â¶Ç‰∏ã‰ø°ÊÅØÔºöËøô‰∫õÊé•Âè£ÁöÑÂäüËÉΩÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöÊé•Âè£ËØ∑Ê±ÇÊñπÂºèÊèèËø∞/trace/{traceIdHex}GETÊ†πÊçÆTrace IDËé∑ÂèñÊåáÂÆöË∑üË∏™‰ø°ÊÅØÁöÑSpanÂàóË°®/tracesGETÊ†πÊçÆÊåáÂÆöÊù°‰ª∂Êü•ËØ¢Âπ∂ËøîÂõûÁ¨¶ÂêàÊù°‰ª∂ÁöÑtraceÊ∏ÖÂçï/dependenciesGETÁî®Êù•Ëé∑ÂèñÈÄöËøáÊî∂ÈõÜÂà∞ÁöÑSpanÂàÜÊûêÂá∫ÁöÑ‰æùËµñÂÖ≥Á≥ª/servicesGETÁî®Êù•Ëé∑ÂèñÊúçÂä°ÂàóË°®/spansGETÊ†πÊçÆÊúçÂä°ÂêçÊù•Ëé∑ÂèñÊâÄÊúâÁöÑSpanÂêç‰πüÂèØ‰ª•ÂèÇËÄÉhttps://zipkin.io/zipkin-api/„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/43.Spring-Cloud-Sleuth„ÄÇÂèÇËÄÉÊñáÁ´† Spring CloudÂæÆÊúçÂä°ÂÆûÊàò]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®Spring Cloud BusÂà∑Êñ∞ÈÖçÁΩÆ]]></title>
    <url>%2FSpring-Cloud-Bus.html</url>
    <content type="text"><![CDATA[Âú®‰∏ä‰∏ÄËäÇSpring Cloud ConfigÁªü‰∏ÄÈÖçÁΩÆÁÆ°ÁêÜ‰∏≠ÔºåÊàë‰ª¨ÂÆûÁé∞‰∫ÜÈÄöËøáÂæÄConfig-ClientÂèëÈÄÅ/refreshPOSTËØ∑Ê±ÇÊù•Âà∑Êñ∞ÈÖçÁΩÆ„ÄÇ‰∏çËøáËøôÁßçÊñπÂºèÂè™ÂØπÂçï‰∏™Config-ClientÊúâÊïàÔºàÂæÄÂì™‰∏™Config-ClientÂèëÈÄÅÂà∑Êñ∞ËØ∑Ê±ÇÔºåÂì™‰∏™ÈÖçÁΩÆÂ∞±ÂæóÂà∞Âà∑Êñ∞ÔºåÂâ©‰∏ãÁöÑConfig-ClientËé∑ÂèñÁöÑ‰ªçÊòØÊóßÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºâ„ÄÇÂΩìConfig-ClientÂÆû‰æãÈõÜÁæ§Êï∞ÈáèËæÉÂ§öÊó∂ÔºåÂ¶ÇÊûúÈÉΩË¶ÅÊâãÂä®‰∏Ä‰∏™‰∏Ä‰∏™ÂéªÂà∑Êñ∞ÈÖçÁΩÆÔºå‰∏ç‰ªÖÈ∫ªÁÉ¶ËøòÂÆπÊòìÈÅóÊºè„ÄÇÂÄºÂæóÂ∫ÜÂπ∏ÁöÑÊòØÔºåÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä©Spring Cloud BusÊù•Ëá™Âä®Âà∑Êñ∞ÈõÜÁæ§ÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇSpring Cloud Bus‰ΩøÁî®ËΩªÈáèÁ∫ßÁöÑÊ∂àÊÅØ‰ª£ÁêÜÔºàÂ¶ÇRabbitMQÔºåKafkaÔºâËøûÊé•ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑËäÇÁÇπÔºåÂèØ‰ª•‰ª•ÂπøÊí≠ÁöÑÂΩ¢ÂºèÂ∞Ü‰∏Ä‰∫õÂèòÊõ¥‰ø°ÊÅØÔºàÂ¶ÇÈÖçÁΩÆÁöÑÂèòÊõ¥ÔºâÊâ©Êï£Âà∞ÂàÜÂ∏ÉÂºèÈìæË∑Ø‰∏≠Âéª„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Âú®Config-ServerÂíåConfig-ClientÈõÜÁæ§‰∏≠Âä†ÂÖ•Spring Cloud BusÔºåÁÑ∂ÂêéÂæÄÊüê‰∏™Config-ServerÂÆû‰æãÂèëÈÄÅ/refreshËØ∑Ê±ÇÊù•Âà∑Êñ∞ÈõÜÁæ§‰∏≠ÊâÄÊúâÂÆû‰æãÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇÂú®ÂºïÂÖ•Spring Cloud Bus‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊù•ÁÆÄÂçïÈ™åËØÅ‰∏ãÂºÄÂ§¥ÁöÑÁªìËÆ∫„ÄÇÊàë‰ª¨Áî®‰∏ä‰∏ÄËäÇÁöÑÊ∫êÁ†Å‰∏∫Âü∫Á°ÄÔºåÊù•Êê≠Âª∫Eureka-Server„ÄÅConfig-ServerÂíåConfig-ClientÁöÑÈõÜÁæ§„ÄÇÂ∞ÜËøô‰∏â‰∏™È°πÁõÆÊâìÊàêjarÂåÖÂêéÔºåÂàÜÂà´‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êù•ÂêØÂä®‰∏Ä‰∏™ÂèåËäÇÁÇπÁöÑEureka-ServerÈõÜÁæ§Ôºö12java -jar Eureka-Service-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer1java -jar Eureka-Service-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer2ÁÑ∂ÂêéÂàÜÂà´‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êù•ÂêØÂä®‰∏Ä‰∏™ÂèåËäÇÁÇπÁöÑConfig-ServerÈõÜÁæ§Ôºö12java -jar Config-Server-0.0.1-SNAPSHOT.jar --server.port=12579java -jar Config-Server-0.0.1-SNAPSHOT.jar --server.port=12580ÊúÄÂêéÂàÜÂà´‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êù•ÂêØÂä®‰∏Ä‰∏™ÂèåËäÇÁÇπÁöÑConfig-ClientÈõÜÁæ§Ôºö12java -jar Config-Client-0.0.1-SNAPSHOT.jar --server.port=12581java -jar Config-Client-0.0.1-SNAPSHOT.jar --server.port=12582ËÆøÈóÆhttp://localhost:8080/Êü•ÁúãÈõÜÁæ§ËäÇÁÇπÊòØÂê¶ÈÉΩÂêØÂä®ÊàêÂäüÔºöËøôÊó∂ÂÄôÊàë‰ª¨ËÆøÈóÆhttp://localhost:12581/messageÊü•ÁúãmessageÁöÑÂÄºÔºöÊé•ÁùÄÊâãÂä®‰øÆÊîπGit‰ªìÂ∫ìÈáåÁöÑmessageÂÄº‰∏∫&#39;ÂëµÂëµÂëµÂëµ&#39;ÔºåÂπ∂ÂæÄ12581Á´ØÂè£ÁöÑConfig-ClientÂèëÈÄÅÂà∑Êñ∞ËØ∑Ê±ÇÔºö12&gt; curl -u mrbird:123456 -X POST http://localhost:12581/refresh[&quot;config.client.version&quot;,&quot;message&quot;]ÂÜçÊ¨°ËÆøÈóÆhttp://localhost:12581/messageÔºöÂèØ‰ª•ÁúãÂà∞12581Á´ØÂè£ÁöÑConfig-ClientËé∑ÂèñÁöÑÈÖçÁΩÆ‰ø°ÊÅØÂ∑≤ÁªèÂæóÂà∞‰∫ÜÊõ¥Êñ∞ÔºåÈÇ£12582Á´ØÂè£ÁöÑConfig-ClientÂë¢ÔºüËÆøÈóÆhttp://localhost:12582/messageÁúãÁúãÁªìÊûúÔºöÂèØÁúãÂà∞ÔºåÂÖ∂Ëé∑ÂèñÁöÑÈÖçÁΩÆ‰ªçÁÑ∂ÊòØÊóßÁöÑ„ÄÇËøô‰πüËØÅÂÆû‰∫ÜÊàë‰ª¨‰∏ÄÂºÄÂßãÁöÑÁªìËÆ∫„ÄÇÂºïÂÖ•Spring Cloud BusSpring Cloud BusÊîØÊåÅRabbitMQÂíåKafkaÁ≠âÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºåËøôÈáåÂè™‰ªãÁªçÈÖçÂêàRabbitMQÁöÑ‰ΩøÁî®ÊñπÂºè„ÄÇRabbitMQÁöÑÂÆâË£Ö‰∏éÂêØÂä®ÂèØ‰ª•ÂèÇËÄÉhttps://mrbird.cc/Spring-Cloud-Hystrix-Dashboard.html‰∏≠ÁöÑ‰ªãÁªç„ÄÇÂú®Config-ServerÂíåConfig-ClientÁöÑpom‰∏≠ÂºïÂÖ•spring-cloud-starter-bus-amqpÂíåspring-boot-starter-actuator‰æùËµñÔºö12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt;&lt;/dependency&gt;ÂÖ∂‰∏≠spring-cloud-starter-bus-amqpÊòØSpring Cloud BusÁöÑRabbitMQÂÆûÁé∞ÔºåÂà∑Êñ∞Áî®ÁöÑÁ´ØÁÇπÁî±spring-boot-starter-actuatorÊèê‰æõ„ÄÇÁÑ∂ÂêéÂú®Config-ServerÂíåConfig-ClientÁöÑapplication.yml‰∏≠ÂºïÂÖ•RabbitMQÁöÑËøûÊé•‰ø°ÊÅØÔºö12345678910spring: rabbitmq: # RabbitMQ IP host: localhost # RabbitMQ Port port: 5672 # default RabbitMQ username username: guest # default RabbitMQ password password: guestÂà∞ËøôÈáåÔºåÂØπConfig-ServerÂíåConfig-ClientÊîπÈÄ†Â∞±ÂÆåÊàê‰∫ÜÔºåÊ≤°ÈîôÂ∞±ÊòØËøô‰πàÁÆÄÂçïüôÇ„ÄÇÊàë‰ª¨ÈáçÊñ∞ÊâìÂåÖConfig-ServerÂíåConfig-ClientÔºåÁÑ∂ÂêéËøêË°å‰ª•‰∏ãÂëΩ‰ª§ÂêØÂä®ÂèåËäÇÁÇπConfig-ServerÈõÜÁæ§Ôºö12java -jar Config-Server-0.0.1-SNAPSHOT.jar --server.port=12579java -jar Config-Server-0.0.1-SNAPSHOT.jar --server.port=12580Êé•ÁùÄÂàÜÂà´‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êù•ÂêØÂä®‰∏Ä‰∏™ÂèåËäÇÁÇπÁöÑConfig-ClientÈõÜÁæ§Ôºö12java -jar Config-Client-0.0.1-SNAPSHOT.jar --server.port=12581java -jar Config-Client-0.0.1-SNAPSHOT.jar --server.port=12582ÂêØÂä®ÂêéÊàë‰ª¨ËÆøÈóÆRabbitMQÁöÑÊéßÂà∂È°µÈù¢Ôºöhttp://localhost:15672ÔºåÂèØÁúãÂà∞Âú®Queues‰∏≠Â§ö‰∫ÜÂõõ‰∏™springCloudBusÈòüÂàóÔºöÊâãÂä®‰øÆÊîπGit‰ªìÂ∫ìÈáåmessageÁöÑÈÖçÁΩÆÂÄº‰∏∫&#39;spring cloud bus&#39;ÔºåÁÑ∂ÂêéÂæÄ‰ªªÊÑè‰∏Ä‰∏™Config-ServerËäÇÁÇπÂèëÈÄÅ/bus/refreshPOSTËØ∑Ê±ÇÔºö1curl -u mrbird:123456 -X POST http://localhost:12580/bus/refreshÂàÜÂà´ËÆøÈóÆhttp://localhost:12581/messageÂíåhttp://localhost:12582/messageÔºöÈÖçÁΩÆÈÉΩÂ∑≤Âà∑Êñ∞ÊàêÂäü„ÄÇWebHooksÈÖçÂêàWebHooksÂèØ‰ª•ÂÆûÁé∞Ëá™Âä®ÈÖçÁΩÆÂà∑Êñ∞ÔºåÂú®ÈÖçÁΩÆÂæóÂà∞‰øÆÊîπÁöÑÊó∂ÂÄôÂÆÉÂèØ‰ª•‰ª£ÊõøÊàë‰ª¨ÂêëConfig-ServerÂèëÈÄÅÂà∑Êñ∞ËØ∑Ê±Ç„ÄÇ‰ª•Á†Å‰∫ë‰∏∫‰æãÔºåÊ∑ªÂä†‰∏Ä‰∏™WebHooksÔºöÁî±‰∫éËøôÈáåÊòØÂú®Êú¨Âú∞ËøêË°åÊµãËØïÊ≤°ÊúâÂÖ¨ÁΩëIPÔºåÊâÄ‰ª•Ê≤°Ê≥ïÊµãËØïÔºåËøôÈáåÂ∞±‰∏çÊºîÁ§∫‰∫Ü„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/42.Spring-Cloud-Bus]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud ConfigÁªü‰∏ÄÈÖçÁΩÆÁÆ°ÁêÜ]]></title>
    <url>%2FSpring-Cloud-Config.html</url>
    <content type="text"><![CDATA[Spring Cloud ConfigÂèØ‰ª•ÂØπÂæÆÊúçÂä°ÈÖçÁΩÆËøõË°åÁªü‰∏ÄÁöÑÂ§ñÈÉ®ÁÆ°ÁêÜÔºåÂπ∂‰∏îÈªòËÆ§ÈááÁî®GitÊù•ÁÆ°ÁêÜÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇÁõ∏ÂØπ‰∫é‰º†ÁªüÁöÑÊØè‰∏™ÂæÆÊúçÂä°ÂØπÂ∫î‰∏Ä‰ªΩËá™‰∏™ÂÑøÁöÑÈÖçÁΩÆÊñá‰ª∂Êù•ËØ¥ÔºåÈÄöËøáSpring Cloud ConfigÁªü‰∏ÄÁÆ°ÁêÜÊâÄÊúâÂæÆÊúçÂä°ÈÖçÁΩÆÂÖ∑ÊúâÂ¶Ç‰∏ã‰ºòÁÇπÔºö1.ÈõÜ‰∏≠ÁÆ°ÁêÜÂæÆÊúçÂä°ÈÖçÁΩÆÔºåÂΩìÂæÆÊúçÂä°Êï∞Èáè‰ºóÂ§öÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®ËøôÁßçÊñπÂºè‰ºöÊõ¥‰∏∫Êñπ‰æøÔºõ2.ÈÄöËøáGitÁÆ°ÁêÜÂæÆÊúçÂä°ÈÖçÁΩÆÔºåÊñπ‰æøËøΩË∏™ÈÖçÁΩÆ‰øÆÊîπËÆ∞ÂΩïÔºõ3.ÂèØ‰ª•Âú®Â∫îÁî®ËøêË°åÊúüÈó¥‰øÆÊîπÈÖçÁΩÆÔºåÂæÆÊúçÂä°ËÉΩÂ§üËá™Âä®Êõ¥Êñ∞ÈÖçÁΩÆ„ÄÇSpring Cloud ConfigÂåÖÂê´‰∫ÜÊúçÂä°Á´ØServerÂíåÂÆ¢Êà∑Á´ØClient„ÄÇÊúçÂä°Á´ØÁî®‰∫é‰ªéGit‰ªìÂ∫ì‰∏≠Âä†ËΩΩÈÖçÁΩÆÔºåÂπ∂‰∏îÁºìÂ≠òÂà∞Êú¨Âú∞ÔºõÂÆ¢Êà∑Á´ØÁî®‰∫é‰ªéÊúçÂä°Á´ØËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇÊâÄ‰ª•‰∏∫‰∫ÜÊºîÁ§∫Spring Cloud ConfigÔºåÊàë‰ª¨ÂÖàÊù•Êê≠Âª∫‰∏Ä‰∏™ÊúçÂä°Á´Ø„ÄÇÊê≠Âª∫Config-ServerÂú®Êê≠Âª∫Config-Server‰πãÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫Â•Ω‰∏Ä‰∏™Â≠òÂÇ®ÈÖçÁΩÆÊñá‰ª∂ÁöÑGit‰ªìÂ∫ì„ÄÇËøôÈáå‰ª•Á†Å‰∫ë‰∏∫‰æãÂ≠êÔºåÂàõÂª∫‰∏Ä‰∏™ÂêçÁß∞‰∏∫Spring-Cloud-ConfigÁöÑÂèÇËÄÉÔºåÁÑ∂ÂêéÂæÄ‰ªìÂ∫ìÁöÑmasterÂàÜÊîØpushÂõõ‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºöÂõõ‰∏™ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂàÜÂà´ÈÉΩÂåÖÂê´‰∫Ü‰∏Ä‰∏™messageÂ±ûÊÄßÔºöfebs.yml:1message: 'default properties (master v1.0)'febs-dev.yml:1message: 'dev properties (master v1.0)'febs-test.yml:1message: 'test properties (master v1.0)'febs-pro.yml:1message: 'pro properties (master v1.0)'Êé•ÁùÄÂàõÂª∫‰∏Ä‰∏™testÂàÜÊîØÔºåÂêåÊ†∑pushËøôÂõõ‰∏™ÈÖçÁΩÆÊñá‰ª∂Ôºå‰∏çËøáÈÖçÁΩÆÊñá‰ª∂‰∏≠messageÂ±ûÊÄßÁöÑÂÜÖÂÆπÊú´Â∞æÈÉΩÊîπ‰∏∫‰∫Ü(test v1.0)„ÄÇÂàõÂª∫Â•ΩÈÖçÁΩÆÊñá‰ª∂‰ªìÂ∫ìÂêéÔºåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactId‰∏∫Config-ServerÔºåÁÑ∂ÂêéÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö12345678910111213141516171819202122&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;Âú®ÂÖ•Âè£Á±ª‰∏≠Âä†ÂÖ•@EnableConfigServerÊ≥®Ëß£ÔºåÂºÄÂêØSpring Cloud ConfigÊúçÂä°Á´ØÂäüËÉΩ„ÄÇÊé•ÁùÄÈÖçÁΩÆapplication.ymlÔºö123456789101112spring: application: name: config-server cloud: config: server: git: uri: https://gitee.com/mrbird/spring-cloud-config username: xxx password: xxxserver: port: 12580uriÁöÑÊú´Â∞æÂä†‰∏çÂä†.gitÈÉΩÂèØ‰ª•„ÄÇÈÖçÁΩÆÂÖ∑‰ΩìÂê´‰πâÂ¶Ç‰∏ãÔºöspring.cloud.config.server.git.uriÔºöÈÖçÁΩÆ‰∫ÜGit‰ªìÂ∫ìÁöÑÂú∞ÂùÄÔºåËøôÈáåÁî®ÁöÑÊòØÁ†Å‰∫ëÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•‰ΩøÁî®Âà´ÁöÑGit‰ª£Á†ÅÊâòÁÆ°Âπ≥Âè∞Ôºõspring.cloud.config.server.git.usernameÔºö‰ªìÂ∫ìÁî®Êà∑ÂêçÔºåÂç≥GitÊâòÁÆ°Âπ≥Âè∞ÁöÑÁî®Êà∑ÂêçÔºõspring.cloud.config.server.git.passwordÔºö‰ªìÂ∫ìÂØÜÁ†ÅÔºåÂç≥GitÊâòÁÆ°Âπ≥Âè∞ÁöÑÂØÜÁ†Å„ÄÇËøôÈáåÊúçÂä°Á´ØÁöÑÁ´ØÂè£Âè∑‰∏∫12580„ÄÇÂêØÂä®Â∫îÁî®ÔºåÊàë‰ª¨‰æøÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢Ëøô‰∫õÊ†ºÂºèÊù•ËÆøÈóÆÈÖçÁΩÆ‰ø°ÊÅØ‰∫ÜÔºö/{application}/{profile}[/{label}]/{application}-{profile}.yml/{label}/{application}-{profile}.yml/{application}-{profile}.properties/{label}/{application}-{profile}.propertiesÊØîÂ¶ÇÂΩìÊàë‰ª¨ËÆøÈóÆhttp://localhost:12580/master/febs-testÊó∂ÔºåÂìçÂ∫î‰ø°ÊÅØÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËÆøÈóÆhttp://localhost:12580/master/febs-test.ymlÔºöËÆøÈóÆhttp://localhost:12580/test/febs-test.ymlÔºöËá≥Ê≠§ÊúçÂä°Á´ØÊê≠Âª∫ÊàêÂäü„ÄÇÊê≠Âª∫Config-ClientÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactId‰∏∫Config-ClientÔºåÁÑ∂ÂêéÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö1234567891011121314151617181920212223242526&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;ÁºñÂÜô‰∏Ä‰∏™ControllerÔºåÁî®‰∫éÊµãËØïËé∑ÂèñConfig-Server‰∏≠ÈÖçÁΩÆÊñá‰ª∂ÁöÑmessageÂ±ûÊÄßÂÄºÔºö1234567891011@RestControllerpublic class TestController &#123; @Value("$&#123;message&#125;") private String message; @GetMapping("message") public String getMessage() &#123; return this.message; &#125;&#125;Ë¶ÅÊÉ≥ËÆ©‰∏äÈù¢ÁöÑ‰ª£Á†ÅÈ°∫Âà©ÁöÑËé∑ÂèñÂà∞messageÂ±ûÊÄßÂÄºÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ËøõË°å‰∏Ä‰∫õÈ¢ùÂ§ñÈÖçÁΩÆÔºö1234567891011spring: application: name: febs cloud: config: profile: dev label: test uri: http://localhost:12580server: port: 12581ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåËøôÈáåÈÖçÁΩÆÊñá‰ª∂Âπ∂‰∏çÊòØÂè´application.ymlÔºåËÄåÊòØÂøÖÈ°ªÂëΩÂêç‰∏∫bootstrap.yml„ÄÇ‰∏äÈù¢ÈÖçÁΩÆÂê´‰πâÂ¶Ç‰∏ãÔºöspring.application.name: ÂØπÂ∫îÈÖçÁΩÆÊñá‰ª∂ËßÑÂàô‰∏≠ÁöÑ{application}Ôºõspring.cloud.config.profile: ÂØπÂ∫îÈÖçÁΩÆÊñá‰ª∂ËßÑÂàô‰∏≠ÁöÑ{profile}ÈÉ®ÂàÜÔºõspring.cloud.config.label: ÂØπÂ∫îÈÖçÁΩÆÊñá‰ª∂ËßÑÂàô‰∏≠ÁöÑ{label}ÈÉ®ÂàÜÔºõspring.cloud.config.uri: ÂØπÂ∫îConfig-ServerÁöÑÂú∞ÂùÄ„ÄÇÈÄöËøá‰∏äÈù¢ÁöÑÈÖçÁΩÆÔºåmessageÁöÑÂÜÖÂÆπÂ∫îËØ•ÊòØGit‰ªìÂ∫ì‰∏≠testÂàÜÊîØÔºåfebs-dev.yml‰∏≠ÁöÑmessageÂ±ûÊÄßÂÄº„ÄÇ‰∏ãÈù¢Êàë‰ª¨Êù•ËØÅÂÆû‰∏Ä‰∏ãËøô‰∏™Êé®Êµã„ÄÇÂêØÂä®Config-ClientÔºàConfig-ServerÊ≤°ÂêØÂä®ÁöÑËØùÂæóÂÖàÂêØÂä®Config-ServerÔºâÔºåËÆøÈóÆhttp://localhost:12581/messageÔºöÁªìÊûúËØÅÂÆû‰∫ÜÊàë‰ª¨ÁöÑÊé®Êµã„ÄÇConfig-ServerÈ¢ùÂ§ñÈÖçÁΩÆ‰∏äÈù¢Êàë‰ª¨ÁÆÄÂçïÁöÑÂú∞Êê≠Âª∫‰∫Ü‰∏Ä‰∏™Config-ServerÔºå‰∏ãÈù¢Êàë‰ª¨Êù•Ëøõ‰∏ÄÊ≠•‰∫ÜËß£Config-ServerÁöÑÂèØÁî®ÈÖçÁΩÆ„ÄÇÂç†‰ΩçÁ¨¶ÁöÑ‰ΩøÁî®Âú®Config-Server‰∏≠ÔºåÈô§‰∫ÜÂõ∫ÂÆöÈÖçÁΩÆ‰∏Ä‰∏™Git‰ªìÂ∫ìÂú∞ÂùÄÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®Âç†‰ΩçÁ¨¶Êù•ÁÅµÊ¥ªÁöÑÊåáÂÆöGit‰ªìÂ∫ìÂú∞ÂùÄ„ÄÇÂ∞Ü‰∏äÈù¢Config-ServerÁöÑGit‰ªìÂ∫ìÂú∞ÂùÄÊîπ‰∏∫Ôºö123456spring: cloud: config: server: git: uri: https://gitee.com/mrbird/&#123;application&#125;ËøôÈáå‰ΩøÁî®Âç†‰ΩçÁ¨¶{application}Êù•‰ª£Êõø‰∏äÈù¢ÁöÑspring-cloud-configÔºåÈÄöËøáËøôÁßçÈÖçÁΩÆÔºåÊàë‰ª¨ÂèØ‰ª•ËÆ©‰∏çÂêåÁöÑConfig-ClientÂéª‰∏çÂêåÁöÑGit‰ªìÂ∫ìËé∑ÂèñÈÖçÁΩÆ„ÄÇÊØîÂ¶ÇÔºåÂΩìConfig-ClientÁöÑÈ°πÁõÆÂêçÁß∞‰∏∫febsÁöÑÊó∂ÂÄôÔºåÂØπÂ∫îGit‰ªìÂ∫ìÂú∞ÂùÄ‰∏∫:https://gitee.com/mrbird/febsÔºåÂΩìÂêçÁß∞‰∏∫testÊó∂ÔºåÂØπÂ∫îGit‰ªìÂ∫ìÂú∞ÂùÄ‰∏∫:https://gitee.com/mrbird/test„ÄÇËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•‰∏∫‰∏çÂêåÁöÑÈ°πÁõÆÈÖçÁΩÆ‰∏çÂêåÁöÑGit‰ªìÂ∫ì„ÄÇÂ≠êÁõÆÂΩïÊîØÊåÅÈô§‰∫Ü‰ΩøÁî®Âç†‰ΩçÁ¨¶‰∏∫ÊØè‰∏™È°πÁõÆÂàõÂª∫ÂçïÁã¨ÁöÑGit‰ªìÂ∫ìÊù•Â≠òÂÇ®ÈÖçÁΩÆ‰ø°ÊÅØÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Âè™ÂàõÂª∫‰∏Ä‰∏™Git‰ªìÂ∫ìÊù•Â≠òÂÇ®ÈÖçÁΩÆÔºåÂè™‰∏çËøáÊòØÂ∞Ü‰∏çÂêåÁöÑÈ°πÁõÆÈÖçÁΩÆÊîæÁΩÆÂà∞‰∏çÂêåÁöÑÁõÆÂΩï‰∏ãÔºåÂè™ÈúÄË¶ÅÂÉè‰∏ãÈù¢ËøôÊ†∑ÈÖçÁΩÆÂç≥ÂèØÔºö123456789spring: cloud: config: server: git: uri: https://gitee.com/mrbird/spring-cloud-config/ username: xxxx password: xxxx search-paths: '&#123;application&#125;'ÈÄöËøá‰∏äÈù¢ÁöÑÈÖçÁΩÆÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞Âú®https://gitee.com/mrbird/spring-cloud-config/‰ªìÂ∫ì‰∏≠Ôºå‰∏Ä‰∏™Config-ClientÂØπÂ∫î‰∏Ä‰∏™ÈÖçÁΩÆÁõÆÂΩïÁöÑÊïàÊûúÔºåÂç≥ÂΩìConfig-ClientÁöÑÈ°πÁõÆÂêçÁß∞‰∏∫febsÁöÑÊó∂ÂÄôÔºåÂÖ∂ÊêúÁ¥¢ÈÖçÁΩÆÁöÑÁõÆÂΩï‰∏∫https://gitee.com/mrbird/spring-cloud-config/febs„ÄÇËøôÈáåsearch-pathsÁöÑÂç†‰ΩçÁ¨¶ÂøÖÈ°ªÂä†‰∏äÂçïÂºïÂè∑&#39;&#39;ÔºåÂê¶ÂàôÊ≤°ÂäûÊ≥ïÊ≠£Á°ÆËØªÂèñÈÖçÁΩÆÔºåÂÖ∑‰ΩìÂèØÂèÇËÄÉÔºöhttps://blog.csdn.net/weixin_35022258/article/details/79019033clone-on-startÈªòËÆ§ÊÉÖÂÜµ‰∏ãConfig-ServerÂú®ÂêØÂä®ÁöÑÊó∂ÂÄôÂπ∂‰∏ç‰ºöÈ©¨‰∏äÂ∞±ÂéªGitÂèÇËÄÉcloneÈÖçÁΩÆÊñá‰ª∂ÔºåÂè™ÊúâÂΩìConfig-Clinet‰ªéConfig-ServerËé∑ÂèñÁõ∏ÂÖ≥ÈÖçÁΩÆ‰ø°ÊÅØÁöÑÊó∂ÂÄôÔºåÂÖ∂Êâç‰ºöÂéªËøõË°åcloneÊìç‰Ωú„ÄÇÊàë‰ª¨ÂèØ‰ª•Â∞Üclone-on-startÂ±ûÊÄßËÆæÁΩÆ‰∏∫trueÔºåÂÖ∂Config-ServerÂú®ÂêØÂä®ÁöÑÊó∂ÂÄôÂ∞±ËøõË°åcloneÊìç‰ΩúÔºö123456spring cloud: config: server: git: clone-on-start: trueËøôÊ†∑ÂÅöÁöÑÂ•ΩÂ§ÑÂú®‰∫éÔºåÂΩìGitËøûÊé•‰ø°ÊÅØÊúâËØØÊó∂ÔºåÂèØ‰ª•È©¨‰∏äÂèëÁé∞„ÄÇÊï¥ÂêàSpring SecurityConfig-Server‰∏≠ÂåÖÂê´‰∫ÜGitËøûÊé•‰ø°ÊÅØÔºå‰∏∫‰∫Ü‰ΩøÂÖ∂Êõ¥Âä†ÂÆâÂÖ®ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáSpring SecurityÊù•ÂÅöÁî®Êà∑ÂêçÂØÜÁ†ÅËÆ§ËØÅ„ÄÇÂú®Config-Server‰∏≠Âä†ÂÖ•Spring Security‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®Config-ServerÁöÑÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠Âä†ÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºö1234security: user: name: mrbird password: 123456‰∏éÊ≠§ÂêåÊó∂ÔºåÊàë‰ª¨‰πüÈúÄË¶ÅÂú®Config-Client‰∏≠ÈÖçÁΩÆConfig-ServerÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÂê¶ÂàôÂú®Ëé∑ÂèñÈÖçÁΩÆÁöÑÊó∂ÂÄôÂ∞ÜÊä•401ÈîôËØØÔºö12345spring: cloud: config: username: mrbird password: 123456Âä†ÂØÜËß£ÂØÜÊà™Ëá≥ÁõÆÂâç‰∏∫Ê≠¢ÔºåConfig-Server‰∏≠Git‰ªìÂ∫ìÁöÑÂØÜÁ†ÅÊòØÁõ¥Êé•ÊòéÊñáÈÖçÁΩÆÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•ÂØπËøô‰∫õÊïèÊÑü‰ø°ÊÅØËøõË°åÂä†ÂØÜÂ§ÑÁêÜ„ÄÇÂú®Ê≠§‰πãÂâçÔºåÈúÄË¶ÅÂÖàÂÆâË£ÖJCEÔºàJava Cryptography ExtensionÔºâÔºåÊú¨Êñá‰ΩøÁî®ÁöÑÊòØJDK 8Ôºå‰∏é‰πãÂØπÂ∫îÁöÑJCE‰∏ãËΩΩÂú∞ÂùÄ‰∏∫Ôºöhttps://www.oracle.com/technetwork/java/javase/downloads/jce-all-download-5170447.htmlÔºöËß£ÂéãÂêéÔºåÂåÖÂê´‰∏â‰∏™Êñá‰ª∂ÔºöÊääÂÆÉ‰ª¨Â§çÂà∂Âà∞$JAVA HOME/jre/lib/securityÁõÆÂΩï‰∏ãÂç≥ÂèØ„ÄÇÂØπÁß∞Âä†ÂØÜ‰ΩøÁî®ÂØπÁß∞Âä†ÂØÜÁöÑÊñπÂºèÈúÄË¶ÅÂú®Config-Server‰∏≠ÈÖçÁΩÆÂä†ÂØÜÁî®ÁöÑÂØÜÈí•Ôºö12encrypt: key: helloÈÖçÁΩÆÂ•ΩÂêéÈáçÂêØConfig-ServerÔºåËÆøÈóÆhttp://localhost:12580/encrypt/statusÊü•ÁúãÂØÜÈí•ÊòØÂê¶ÈÖçÁΩÆÊàêÂäü:ÂèØËßÅÈÖçÁΩÆÂπ∂Êú™ÁîüÊïàÔºåÊü•ÁúãSpring-Cloud-ConfigÁöÑGithub issueÊâæÂà∞‰∫ÜËß£ÂÜ≥ÂäûÊ≥ïÔºöhttps://github.com/spring-cloud/spring-cloud-config/issues/767„ÄÇËß£ÂÜ≥ÂäûÊ≥ïÂ∞±ÊòØÈúÄË¶ÅÂ∞ÜÂØÜÈí•ÈÖçÁΩÆÂú®bootstrap.yml‰∏≠ÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:12580/encrypt/statusÔºöÂÅáÂ¶ÇÊàë‰ª¨Git‰ªìÂ∫ìÁöÑÂØÜÁ†Å‰∏∫mrbird123ÔºåË¶ÅÂØπÂÖ∂Âä†ÂØÜÁöÑËØùÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®curlÂëΩ‰ª§Êù•Ëé∑ÂèñÂä†ÂØÜÂêéÁöÑÂØÜÁ†ÅÔºöÂõ†‰∏∫Config-ServerËÆæÁΩÆ‰∫ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÊâÄ‰ª•Âú®‰ΩøÁî®curlÂëΩ‰ª§Êó∂ÔºåÈúÄË¶ÅÂ∏¶‰∏ä-u mrbird:123456„ÄÇÂèØÁúãÂà∞mrbird123Ë¢´Âä†ÂØÜÊàê‰∫Üf413c4d441a7a00ef82d9aedfab087dae51772276c0201a9d9b13df3e2a9b64cÔºåÂõ†‰∏∫ÊòØÂØπÁß∞Âä†ÂØÜÔºåÊâÄ‰ª•Êàë‰ª¨‰πüÂèØ‰ª•Â∞Üf413c4d441a7a00ef82d9aedfab087dae51772276c0201a9d9b13df3e2a9b64cËß£ÂØÜÔºöÊàë‰ª¨Áî®Âä†ÂØÜÂêéÁöÑÂØÜÁ†ÅÊõøÊç¢ÊéâGitËøûÊé•ÁöÑÊòéÊñáÂØÜÁ†ÅÔºö123456spring: cloud: config: server: git: password: '&#123;cipher&#125;155315857d26a3235027679a015aa7c71a15ca43ae77e2a11ce9d122d1f4bd043d18'‰ΩøÁî®{cipher}ÂºÄÂ§¥Ë°®ÊòéËøôÊòØ‰∏Ä‰∏™Âä†ÂØÜÁöÑÂÜÖÂÆπÔºåConfig-Server‰ºöËá™Âä®‰∏∫ÂÖ∂Ëß£ÂØÜ„ÄÇÂΩìÁÑ∂Ôºå‰Ω†ËøòÂèØ‰ª•‰∏∫‰ªª‰Ωï‰Ω†ÊÉ≥Âä†ÂØÜÁöÑÂ±ûÊÄßÂÄºËøõË°åÂä†ÂØÜÔºå‰∏çÈôê‰∫éÂØÜÁ†Å„ÄÇÈùûÂØπÁß∞Âä†ÂØÜ ÈùûÂØπÁß∞Âä†ÂØÜÁõ∏ÊØîÂØπÁß∞Âä†ÂØÜÊù•ËØ¥ÊòæÂæóÊõ¥Âä†ÂÆâÂÖ®ÔºåË¶ÅÁîüÊàêÈùûÂØπÁß∞Âä†ÂØÜÁöÑÂØÜÁ†ÅÔºåÈúÄË¶ÅÂÄüÂä©keytoolÂëΩ‰ª§Êù•ÁîüÊàêÂØÜÈí•„ÄÇkeytoolÊòØJDK‰∏≠ÁöÑ‰∏Ä‰∏™ÂØÜÈí•ÂíåËØÅ‰π¶ ÁÆ°ÁêÜÂ∑•ÂÖ∑„ÄÇ ‰Ωç‰∫é%JAVA_HOME%\bin\ÁõÆÂΩï‰∏ãÔºöÊàë‰ª¨‰ΩøÁî®Â¶Ç‰∏ãÂëΩ‰ª§Êù•ÁîüÊàê‰∏Ä‰∏™ÂØÜÈí•Êñá‰ª∂ÔºöÂëΩ‰ª§ÊâßË°åÁªìÊùüÂêéÔºå‰ºöÂú®%JAVA_HOME%\bin\ÁõÆÂΩï‰∏ãÁîüÊàê‰∏Ä‰∏™ config-server.keystoreÊñá‰ª∂„ÄÇÂØÜÈí•Êñá‰ª∂ÁöÑÊúâÊïàÊúüÈªòËÆ§‰∏∫90Â§©ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®-validity 365Êù•ÊîπÂèòÂÖ∂ÊúâÊïàÂ§©Êï∞‰∏∫365Â§©„ÄÇÊé•ÁùÄÂ∞ÜÂØÜÈí•Êñá‰ª∂Êã∑Ë¥ùÂà∞Config-ServerÁöÑresourcesÁõÆÂΩï‰∏ãÔºåÁÑ∂ÂêéÂú®bootstrap.yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö123456789#encrypt:## key: helloencrypt: key-store: location: classpath:config-server.keystore alias: Config-Server password: 123456 secret: 654321ÂÖ∂‰∏≠encrypt.key-store.password‰∏∫Á¨¨‰∏ÄÊ¨°ËæìÂÖ•ÁöÑÂè£‰ª§Ôºåencrypt.key-store.secret‰∏∫&lt;Config-Server&gt;ÁöÑÂØÜÈí•Âè£‰ª§ÁöÑÂØÜÈí•Âè£‰ª§„ÄÇÊàë‰ª¨Â∞ÜGitËøûÊé•ÁöÑÂØÜÁ†ÅÊîπÂõûÊòéÊñáÔºåÁÑ∂ÂêéÈáçÂêØConfig-ServerÔºåËøêË°åÂ¶Ç‰∏ãÂëΩ‰ª§ÈáçÊñ∞ÂØπGitËøûÊé•ÂØÜÁ†ÅËøõË°åÂä†ÂØÜÔºöÁÑ∂ÂêéÂ∞ÜÂä†ÂØÜÂêéÁöÑÂØÜÁ†ÅÊõøÊç¢ÊòéÊñáÂØÜÁ†ÅÂç≥ÂèØÔºö123456spring: cloud: config: server: git: password: '&#123;cipher&#125;AQAjzCKbjLdmgBt+Zm0/jznvbwbCAZ7j1hZKl1NtcmdEj2GFGzF02Bi5jIk9ETz92XOV3z9U5UZTEBMLblKFlZqEzFNooJAZSEmCdwDY9iI5mbhe5oGApxlhbzF4pccF9wtkt4YIW3ElQWCfg01FhDuBiDIZ8NPlMJXRDjIV+/rhla/MkdHVWaphWW3PbHlF95D7bjssCLlyeDB5BjF4orOMpVdVAT/BZA5ANy+xDbEUiOd54E9E9pYAwxG+0qW6a3PvK6OCFozVfPgvT5xorAiJ50AzIH64ZjqILSPonpk3hcIm1PlTguOE5x2BYvgxYmq/CnlkhML07yJVElVAaWh4sTIs8I5hAwQ58SvAcgq/oDE5QluF+dHvoZFn748yCe0='Config-ClientÈ¢ùÂ§ñÈÖçÁΩÆÂà∑Êñ∞ÈÖçÁΩÆÂú®Config-ServerÂíåConfig-ClientÈÉΩÂêØÂä®ÂêéÔºåÂ¶ÇÊûúËøôÊó∂ÂÄôGit‰ªìÂ∫ìÂ≠òÂÇ®ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÊîπÂèò‰∫ÜÔºåÂú®‰∏çÈáçÂêØConfig-ClientÁöÑÊÉÖÂÜµ‰∏ãÔºåÈÖçÁΩÆ‰ø°ÊÅØÊòØ‰∏ç‰ºöË∑üÁùÄÊõ¥Êñ∞ÁöÑ„ÄÇÈÇ£‰πàÂ¶Ç‰ΩïÂú®Git‰ªìÂ∫ìÂ≠òÂÇ®ÁöÑÈÖçÁΩÆÂæóÂà∞ÊîπÂèòÁöÑÊó∂ÂÄô‰πüÂà∑Êñ∞Config-Client‰∏≠Ëé∑ÂèñÂà∞ÁöÑÈÖçÁΩÆÂÄºÂë¢ÔºüÂæàÁÆÄÂçïÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂØπConfig-ClientËøõË°åÁÆÄÂçïÁöÑÊîπÈÄ†ÔºöÂú®Config-Client‰∏≠Ê∑ªÂä†spring-boot-starter-actuator‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&lt;/dependency&gt;ËØ•‰æùËµñÂåÖÂê´‰∫Ü/refreshÁ´ØÁÇπÔºåÂèØ‰ª•Áî®Êù•Âà∑Êñ∞ÈÖçÁΩÆ„ÄÇÁÑ∂ÂêéÂú®Ëé∑ÂèñÈÖçÁΩÆÁöÑController‰∏äÂä†ÂÖ•@RefreshScopeÊ≥®Ëß£Ôºö123456789101112@RestController@RefreshScopepublic class TestController &#123; @Value("$&#123;message&#125;") private String message; @GetMapping("message") public String getMessage() &#123; return this.message; &#125;&#125;ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®Config-ClientÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ÂÖ•Â¶Ç‰∏ãÈÖçÁΩÆÊù•ÂÖ≥Èó≠ËÆ§ËØÅÔºåÂê¶ÂàôÊàë‰ª¨Êó†ÊùÉËÆøÈóÆ/refreshÁ´ØÁÇπÔºåÂÖ∑‰ΩìÂèØËßÅhttps://github.com/spring-guides/gs-centralized-configuration/issues/5Ôºö123management: security: enabled: falseÈáçÂêØConfig-ClientÔºåËÆøÈóÆhttp://localhost:12581/message:ËøôÊó∂ÂÄôÊàë‰ª¨Â∞ÜGit‰ªìÂ∫ì‰∏≠ÂØπÂ∫îÁöÑÈÖçÁΩÆ‰ø°ÊÅØÊîπ‰∏∫ÊµãËØïÈÖçÁΩÆÂà∑Êñ∞ÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:12581/message‰ºöÂèëÁé∞ÂÄºËøòÊòØdev properties (master v1.0)„ÄÇÊé•ÁùÄÊàë‰ª¨‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êù•Âà∑Êñ∞ÈÖçÁΩÆÔºöËøôÊó∂ÂÄôÂÜçÊ¨°ËÆøÈóÆhttp://localhost:12581/messageÔºöÂèØÁúãÂà∞Âú®‰∏çÈáçÂêØConfig-ClientÁöÑÂâçÊèê‰∏ãÈÖçÁΩÆÂÄºÂ∑≤ÁªèÂæóÂà∞‰∫ÜÊõ¥Êñ∞„ÄÇÈõÜÁæ§ÈÖçÁΩÆÂ¶ÇÊûúConfig-ServerÂè™ÊòØÂçïÊú∫ÈÉ®ÁΩ≤ÁöÑËØùÔºåÂΩìÂÖ∂ÈÅáÂà∞ÈóÆÈ¢òÂÆïÊú∫ÂêéÔºåÊâÄÊúâ‰ªéConfig-ServerËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØÁöÑÂæÆÊúçÂä°ÈÉΩÊó†Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú‰∫ÜÔºåËøôÊòØÁÅæÈöæÊÄßÁöÑ„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂæàÊúâÂøÖË¶ÅÂØπConfig-ServerËøõË°åÈõÜÁæ§Â§ÑÁêÜ„ÄÇÈõÜÁæ§ÁöÑÊñπÂºèÊúâÂæàÂ§öÔºåËøôÈáå‰ªãÁªçÈÄöËøáÂ∞ÜConfig-ServerÊ≥®ÂÜåÂà∞EurekaÁöÑÊñπÂºèÊù•Êê≠Âª∫ÈõÜÁæ§„ÄÇÊàë‰ª¨‰ΩøÁî®Âú®Spring Cloud EurekaÊúçÂä°Ê≤ªÁêÜ‰∏ÄËäÇ‰∏≠ÁöÑEureka-ServiceÊù•ÊûÑÂª∫Eureka-ServerÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÔºå‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ÂêØÂä®Eureka-ServerÈõÜÁæ§Ôºö12java -jar Eureka-Service-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer1java -jar Eureka-Service-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer2ÂêØÂä®ÂêéÔºåËÆøÈóÆhttp://localhost:8080/:ËØ¥ÊòéEurekaÈõÜÁæ§ÂêØÂä®ÊàêÂäü„ÄÇ Êé•‰∏ãÊù•ÂºÄÂßãÂØπConfig-ServerËøõË°åÊîπÈÄ†ÔºåÂ∞ÜÂÖ∂Ê≥®ÂÜåÂà∞EurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ„ÄÇÂú®Config-Server‰∏≠Âä†ÂÖ•Eureka‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®Config-ServerÁöÑÂêØÂä®Á±ª‰∏≠Âä†ÂÖ•@EnableDiscoveryClientÊ≥®Ëß£ÔºåÁî®‰∫éÂ∞ÜÊúçÂä°Ê≥®ÂÜåÂà∞EurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ‰∏äÔºö12345678@SpringBootApplication@EnableConfigServer@EnableDiscoveryClientpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÊúÄÂêéÂú®ÈÖçÁΩÆÁ±ªapplication.yml‰∏≠ÊåáÂÆöEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÁöÑÂú∞ÂùÄÔºö1234eureka: client: serviceUrl: defaultZone: http://mrbird:123456@peer1:8080/eureka/,http://mrbird:123456@peer2:8081/eureka/Âõ†‰∏∫‰πãÂâçEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÊ∑ªÂä†‰∫ÜËÆ§ËØÅÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú®url‰∏≠ÊåáÂÆöÁî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇÊîπÈÄ†Â•ΩÂêéÔºåÂêØÂä®Config-ServerÔºåÂÜçÊ¨°ËÆøÈóÆEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄÔºöhttp://localhost:8080/ÔºöÂèØÁúãÂà∞Config-ServerÂ∑≤ÁªèÊàêÂäüÊ≥®ÂÜå‰∫Ü„ÄÇÊé•ÁùÄÂºÄÂßãÊîπÈÄ†Config-ClientÔºåÂú®ÂÖ∂pom‰∏≠ÂêåÊ†∑ÂºïÂÖ•Eureka‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®bootstrap.yml‰∏≠ÊåáÂÆöËé∑ÂèñConfig-ServerÊúçÂä°ÁöÑÂú∞ÂùÄÔºö1234567891011121314151617spring: application: name: febs cloud: config: profile: dev label: master username: mrbird password: 123456 discovery: enabled: true service-id: config-servereureka: client: serviceUrl: defaultZone: http://mrbird:123456@peer1:8080/eureka/,http://mrbird:123456@peer2:8081/eureka/ÂÖ∂‰∏≠eureka.client.serviceUrl.defaultZoneÊåáÂÆö‰∫ÜEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÁöÑÂú∞ÂùÄÔºõspring.cloud.config.discovery.enabledÊåáÂÆö‰∏∫trueÂºÄÂêØËé∑ÂèñÊúçÂä°ÁöÑÂäüËÉΩÔºåspring.cloud.config.discovery.service-idË°®ÊòéÈúÄË¶ÅËé∑ÂèñÊúçÂä°ÁöÑÂêçÁß∞‰∏∫config-server„ÄÇÊúÄÂêéÂú®Config-ClientÁöÑÂêØÂä®Á±ª‰∏≠ÂºïÂÖ•@EnableDiscoveryClientÊ≥®Ëß£Ôºö1234567@SpringBootApplication@EnableDiscoveryClientpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÂêØÂä®Config-ClientÔºåËÆøÈóÆÔºöhttp://localhost:12581/messageÂèØÁúãÂà∞ÔºåÈÖçÁΩÆ‰ø°ÊÅØÂêåÊ†∑Ëé∑ÂèñÊàêÂäü„ÄÇÂèÇËÄÉÊñáÁ´†ÔºöSpring CloudÂæÆÊúçÂä°ÂÆûÊàòhttp://cloud.spring.io/spring-cloud-static/spring-cloud-config/1.4.3.RELEASE/single/spring-cloud-config.htmlÊ∫êÁ†ÅÂú∞ÂùÄÔºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/41.Spring-Cloud-Config]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud ZuulÊúçÂä°ÁΩëÂÖ≥]]></title>
    <url>%2FSpring-Cloud-Zuul-Router.html</url>
    <content type="text"><![CDATA[Âú®ÂæÆÊúçÂä°ÁöÑÊû∂ÊûÑ‰∏≠ÔºåÊúçÂä°ÁΩëÂÖ≥Â∞±ÊòØ‰∏Ä‰∏™‰ªã‰∫éÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∏≠Èó¥Â±Ç„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂÆ¢Êà∑Á´ØÂè™ÈúÄË¶ÅË∑üÊúçÂä°ÁΩëÂÖ≥‰∫§‰∫íÔºåÊó†ÈúÄË∞ÉÁî®ÂÖ∑‰ΩìÁöÑÂæÆÊúçÂä°Êé•Âè£„ÄÇËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÂú®‰∫éÔºåÂÆ¢Êà∑Á´ØÂèØ‰ª•Èôç‰ΩéÂ§çÊùÇÊÄßÔºõÂØπ‰∫éÈúÄË¶ÅËÆ§ËØÅÁöÑÊúçÂä°ÔºåÂè™ÈúÄË¶ÅÂú®ÊúçÂä°ÁΩëÂÖ≥ÈÖçÁΩÆÂç≥ÂèØÔºõÂêåÊ†∑‰πüÊñπ‰æøÂêéÊúüÂæÆÊúçÂä°ÁöÑÂèòÊõ¥ÂíåÈáçÊûÑÔºåÂç≥ÂæÆÊúçÂä°Êé•Âè£ÂèòÊõ¥Âè™ÈúÄÂú®ÊúçÂä°ÁΩëÂÖ≥Ë∞ÉÊï¥ÈÖçÁΩÆÂç≥ÂèØÔºåÊó†ÈúÄÊõ¥ÊîπÂÆ¢Êà∑Á´Ø‰ª£Á†Å„ÄÇZuulÊòØ‰∏ÄÊ¨æÁî±NetflixÂºÄÂèëÁöÑÂæÆÊúçÂä°ÁΩëÂÖ≥ÂºÄÊ∫êËΩØ‰ª∂ÔºåÂèØ‰ª•ÂíåÂÖ∂Ëá™ÂÆ∂ÂºÄÂèëÁöÑEurekaÔºåRibbonÂíåHystrixÈÖçÂêà‰ΩøÁî®ÔºåSpring CloudÂØπÂÖ∂ËøõË°å‰∫ÜÂ∞ÅË£Ö„ÄÇSpring Cloud ZuulÂÖ•Èó®Âú®ÊûÑÂª∫ÂæÆÊúçÂä°ÁΩëÂÖ≥‰πãÂâçÔºåÊàë‰ª¨ÂÖàÂ∞ÜÁõ∏ÂÖ≥ÂæÆÊúçÂä°Êê≠Âª∫Â•Ω„ÄÇËøôÈáåÊàë‰ª¨Áõ¥Êé•‰ΩøÁî®ÂâçÈù¢ÁöÑ‰æãÂ≠êÔºåÂàÜÂà´ÂêØÂä®Â¶Ç‰∏ãÊúçÂä°ÔºöÂêØÂä®Eureka-ServerÈõÜÁæ§ÔºåÁ´ØÂè£Âè∑‰∏∫8080Âíå8081ÔºõÂêØÂä®‰∏Ä‰∏™Eureka-ClientÔºåÁ´ØÂè£Âè∑‰∏∫8082ÔºõÂêØÂä®‰∏Ä‰∏™Feign-ConsumerÔºåÁ´ØÂè£Âè∑‰∏∫9000ÔºõÊü•Áúãhttp://localhost:8080/ÔºöÂÖ∂‰∏≠Feign-ConsumerËôΩÁÑ∂‰πãÂâçÊàë‰ª¨Â∞ÜÂÆÉÂÆö‰πâ‰∏∫ÊúçÂä°Ê∂àË¥πËÄÖÔºå‰ΩÜÂÖ∂‰πüÂèØ‰ª•ÂÖÖÂΩìÊúçÂä°Êèê‰æõËÄÖÁöÑËßíËâ≤„ÄÇÂêØÂä®Â•ΩËøô‰∫õÂæÆÊúçÂä°ÂêéÔºåÊàë‰ª¨ÂºÄÂßãÊûÑÂª∫‰∏Ä‰∏™ÂæÆÊúçÂä°ÁΩëÂÖ≥Zuul-Gateway„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactId‰∏∫Zuul-GatewayÔºåÁÑ∂ÂêéÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö123456789101112131415161718192021&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-zuul&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;Êü•Áúã‰æùËµñÂÖ≥Á≥ªÂèØÁúãÂà∞spring-cloud-starter-zuulÂåÖÂê´‰ª•‰∏ã‰æùËµñÔºöÂõ†‰∏∫spring-cloud-starter-zuul‰æùËµñÂ∑≤ÁªèÂåÖÂê´‰∫ÜHystrixÂíåRibbonÔºåÊâÄ‰ª•zuulÊîØÊåÅÂâçÈù¢‰ªãÁªçÁöÑHystrixÂíåRibbonÁõ∏ÂÖ≥ÈÖçÁΩÆ„ÄÇÊé•ÁùÄÂú®Spring BootÁöÑÂÖ•Âè£Á±ª‰∏äÊ†áÊ≥®@EnableZuulProxyÊ≥®Ëß£ÔºåÂºÄÂêØZuulÊúçÂä°ÁΩëÂÖ≥ÁöÑÂäüËÉΩÔºö1234567@EnableZuulProxy@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÊúÄÂêéÁÆÄÂçïÈÖçÁΩÆ‰∏ãapplication.ymlÔºö12345spring: application: name: Zuul-Gatewayserver: port: 12580Ëá≥Ê≠§‰∏Ä‰∏™ÁÆÄÂçïÁöÑZuulÂæÆÊúçÂä°ÁΩëÂÖ≥Â∞±Êê≠Âª∫Â•Ω‰∫ÜÔºå‰∏ãÈù¢ÂºÄÂßãÂØπË∑ØÁî±ËßÑÂàôËøõË°åÈÖçÁΩÆ„ÄÇË∑ØÁî±ÈÖçÁΩÆ‰º†ÁªüÈÖçÁΩÆ‰º†ÁªüÈÖçÁΩÆÂ∞±ÊòØÊâãÂä®ÊåáÂÆöÊúçÂä°ÁöÑËΩ¨ÂèëÂú∞ÂùÄÔºåÂ¶ÇÂú®yml‰∏≠ÈÖçÁΩÆÔºö12345zuul: routes: api-a: path: /api-a/** url: http://localhost:8082ÈÄöËøá‰∏äÈù¢ÁöÑÈÖçÁΩÆÔºåÊâÄÊúâÁ¨¶Âêà/api-a/**ËßÑÂàôÁöÑËÆøÈóÆÈÉΩÂ∞ÜË¢´Ë∑ØÁî±ËΩ¨ÂèëÂà∞http://localhost:8082/Âú∞ÂùÄ‰∏äÔºåÂç≥ÂΩìÊàë‰ª¨ÂêëÊúçÂä°ÁΩëÂÖ≥ËÆøÈóÆhttp://localhost:12580/api-a/helloËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåËØ∑Ê±ÇÂ∞ÜË¢´ËΩ¨ÂèëÂà∞http://localhost:8082/helloÊúçÂä°‰∏äÔºöÂü∫‰∫éÊúçÂä°ÂêçÁß∞ÈÖçÁΩÆ‰º†ÁªüÁöÑÈÖçÁΩÆÊñπÂºè‰∏ç‰æø‰πãÂ§ÑÂú®‰∫éÈúÄË¶ÅÁü•ÈÅìÊúçÂä°ÁöÑÂÖ∑‰ΩìÂú∞ÂùÄÂíåÁ´ØÂè£Âè∑Á≠â‰ø°ÊÅØÔºåÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä©EurekaÊù•ÂÆûÁé∞ÈÄöËøáÊúçÂä°ÂêçÁß∞ÈÖçÁΩÆË∑ØÁî±„ÄÇÂú®Zuul-GatewayÈ°πÁõÆ‰∏≠ÂºïÂÖ•Eureka‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®ÂÖ•Âè£Á±ª‰∏≠Âä†ÂÖ•@EnableDiscoveryClientÊ≥®Ëß£Ôºå‰ΩøÂÖ∂ÂÖ∑ÊúâËé∑ÂèñÊúçÂä°ÁöÑËÉΩÂäõ„ÄÇÊé•ÁùÄÂú®yml‰∏≠ÈÖçÁΩÆÂü∫‰∫éÊúçÂä°ÂêçÁß∞ÁöÑË∑ØÁî±Ôºö123456789101112eureka: client: serviceUrl: defaultZone: http://mrbird:123456@peer1:8080/eureka/,http://mrbird:123456@peer2:8081/eureka/zuul: routes: api-b: path: /api-b/** serviceId: server-provider api-c: path: /api-c/** serviceId: server-consumer‰∏äÈù¢Êàë‰ª¨È¶ñÂÖàÊåáÊòé‰∫ÜEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÁöÑÂú∞ÂùÄÔºåÁÑ∂ÂêéÈÖçÁΩÆ‰∫Üapi-bÂíåapi-cÁöÑË∑ØÁî±ÔºåÂÆÉ‰ª¨ÈÉΩÊòØÈÄöËøáserviceIdÊù•ÊåáÂÆöÊúçÂä°ÂêçÁß∞ÁöÑ„ÄÇÂêØÂä®Zuul-GatewayÔºåËÆøÈóÆÔºöhttp://localhost:12580/api-b/helloÔºöËÆøÈóÆÔºöhttp://localhost:12580/api-c/user/1ÔºöÂü∫‰∫éÊúçÂä°ÂêçÁß∞ÁöÑË∑ØÁî±ÈÖçÁΩÆËøòÂèØ‰ª•ËøõË°åÁÆÄÂåñÔºåÊ†ºÂºè‰∏∫zuul.routes.&lt;serviceid&gt;=&lt;path&gt;ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Â∞Üapi-bÂíåapi-cÁöÑË∑ØÁî±ÈÖçÁΩÆ‰øÆÊîπ‰∏∫Ôºö123456zuul: routes: server-provider: path: /api-b/** server-consumer: path: /api-c/**ÈªòËÆ§Ë∑ØÁî±ÈÖçÁΩÆËßÑÂàôÊàë‰ª¨Â∞ùËØïËÆøÈóÆhttp://localhost:12580/server-consumer/user/1:Êàë‰ª¨ÂéãÊ†πÊ≤°ÈÖçÁΩÆËøô‰∏™Ë∑ØÁî±ÂïäÔºå‰∏∫‰ªÄ‰πàÂèØ‰ª•Ê≠£Â∏∏ÂìçÂ∫îÔºüÔºüÂÖ∂ÂÆûZuulÈÖçÂêàEurekaÂêéÂ∞Ü‰ºöÊàê‰∏ÄÂ•óÈªòËÆ§ÁöÑÈÖçÁΩÆËßÑÂàô„ÄÇÂΩìÊàë‰ª¨‰ΩøÁî®ÊúçÂä°ÂêçÁß∞‰Ωú‰∏∫ËØ∑Ê±ÇÁöÑÂâçÁºÄË∑ØÂæÑÊó∂ÔºåÂÆûÈôÖ‰∏äÂ∞±‰ºöÂåπÈÖç‰∏äÁ±ª‰ºº‰∏ãÈù¢ÁöÑÈªòËÆ§Ë∑ØÁî±ÈÖçÁΩÆÔºö12345zuul: routes: server-consumer: path: /server-consumer/** serviceId: server-consumerÂ¶ÇÊûú‰∏çÊÉ≥ÂêØÂä®Ëøô‰∏™ÈªòËÆ§ÈÖçÁΩÆÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®zuul.ignored-servicesÈÖçÁΩÆÊù•ÂÖ≥Èó≠ÔºåÂ¶ÇÂú®yml‰∏≠Âä†ÂÖ•Â¶Ç‰∏ãÈÖçÁΩÆ‰πãÂêéÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:12580/server-consumer/user/1Â∞ÜËøîÂõû404Ôºö12zuul: ignored-services: server-consumerËÆæÁΩÆ‰∏∫zuul.ignored-services=*ÁöÑÊó∂ÂÄôÂ∞ÜÂÖ≥Èó≠ÊâÄÊúâÈªòËÆ§Ë∑ØÁî±ÈÖçÁΩÆËßÑÂàô„ÄÇ‰ºòÂÖàÁ∫ßÂÅáÂ¶ÇÊüê‰∏™ËØ∑Ê±ÇË∑ØÂæÑÂèØ‰ª•ÂíåÂ§ö‰∏™Ë∑ØÁî±ÈÖçÁΩÆËßÑÂàôÁõ∏ÂåπÈÖçÁöÑËØùÔºåZuulÊ†πÊçÆÂåπÈÖçÁöÑÂÖàÂêéÈ°∫Â∫èÊù•ÂÜ≥ÂÆöÊúÄÁªà‰ΩøÁî®Âì™‰∏™Ë∑ØÁî±ÈÖçÁΩÆ„ÄÇÊØîÂ¶ÇÔºö12345678zuul: routes: api-c: path: /api-c/** serviceId: server-consumer api-d: path: /api-c/user/1 serviceId: lolÂΩìÊàë‰ª¨ËÆøÈóÆhttp://localhost:12580/api-c/user/1ÁöÑÊó∂ÂÄôÔºåapi-cÂíåapi-dÁöÑË∑ØÁî±ÈÖçÁΩÆÈÉΩÂèØ‰ª•ÂåπÈÖç‰∏äÔºå‰ΩÜÁî±‰∫éapi-cÂÖà‰∫éapi-dÈÖçÁΩÆÔºåÊâÄ‰ª•ÊúÄÁªàÁîüÊïàÁöÑÊòØapi-cÁöÑÈÖçÁΩÆ„ÄÇÂÅáÂ¶ÇÂ∞Üapi-cÂíåapi-dÁöÑÈÖçÁΩÆÈ°∫Â∫èË∞ÉÊç¢ÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:12580/api-c/user/1Êó∂Â∞ÜÊäõÂá∫ÂºÇÂ∏∏ÔºåÂéüÂõ†ÊòØ‰∏çÂ≠òÂú®ÊúçÂä°Âêç‰∏∫lolÁöÑÊúçÂä°ÔºöCaused by: com.netflix.client.ClientException: Load balancer does not have available server for client: lolÂâçÁºÄÈÖçÁΩÆzuul.prefixÂèØ‰ª•‰∏∫ÁΩëÂÖ≥ÁöÑËØ∑Ê±ÇË∑ØÂæÑÂä†‰∏™ÂâçÁºÄÔºåÊØîÂ¶ÇÔºö12zuul: prefix: /gatewayËøôÊ†∑ÈÖçÁΩÆÂêéÔºåÊàë‰ª¨ÈÄöËøáZuulÁΩëÂÖ≥Ëé∑ÂèñÊúçÂä°ÁöÑÊó∂ÂÄôÔºåË∑ØÂæÑ‰πüÂæóÂä†‰∏äËøô‰∏™ÂâçÁºÄÔºåÂ¶Çhttp://localhost:12580/gateway/api-c/user/1„ÄÇÊú¨Âú∞Ë∑≥ËΩ¨ZuulÁΩëÂÖ≥Èô§‰∫ÜÊîØÊåÅÂ∞ÜÊúçÂä°ËΩ¨ÂèëÂà∞ÂêÑ‰∏™ÂæÆÊúçÂä°‰∏ä‰πãÂ§ñÔºåËøòÊîØÊåÅÂ∞ÜÊúçÂä°Ë∑≥ËΩ¨Âà∞ÁΩëÂÖ≥Êú¨Ë∫´ÁöÑÊúçÂä°‰∏äÔºåÊØîÂ¶ÇÁé∞Âú®yml‰∏≠ÊúâÂ¶Ç‰∏ã‰∏ÄÊÆµÈÖçÁΩÆ:12345zuul: routes: api-e: path: /api-e/** url: forward:/testÂΩìËÆøÈóÆhttp://localhost:12580/gateway/api-e/helloÊó∂ÔºåZuul‰ºö‰ªéÊú¨Âú∞/test/helloËé∑ÂèñÊúçÂä°„ÄÇÊàë‰ª¨Âú®Zuul-GatewayÂÖ•Âè£Á±ª‰∏≠Âä†‰∏äËØ•RESTÊúçÂä°Ôºö12345678910111213@EnableZuulProxy@EnableDiscoveryClient@SpringBootApplication@RestControllerpublic class DemoApplication &#123; @GetMapping("/test/hello") public String hello() &#123; return "hello zuul"; &#125; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂ§¥ÈÉ®ËøáÊª§ &amp; ÈáçÂÆöÂêëÂú®‰ΩøÁî®ZuulÁΩëÂÖ≥ÁöÑÊó∂ÂÄô‰Ω†ÂèØËÉΩ‰ºöÈÅáÂà∞Cookie‰∏¢Â§±ÁöÑÊÉÖÂÜµÔºåËøôÊòØÂõ†‰∏∫ÈªòËÆ§ÊÉÖÂÜµ‰∏ãZuul‰ºöËøáÊª§ÊéâHTTPËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑ‰∏Ä‰∫õÊïèÊÑü‰ø°ÊÅØÔºåËøô‰∫õÊïèÊÑü‰ø°ÊÅØÈÄöËøá‰∏ãÈù¢ÁöÑÈÖçÁΩÆËÆæÂÆöÔºö12zuul: sensitive-headers: Cookie,Set-Cookie,AuthorizationÂ¶ÇÊûúÊÉ≥ÂÖ≥Èó≠Ëøô‰∏™ÈªòËÆ§ÈÖçÁΩÆÔºåÈÄöËøáËÆæÁΩÆÂÖ®Â±ÄÂèÇÊï∞‰∏∫Á©∫Êù•Ë¶ÜÁõñÈªòËÆ§ÂÄºÔºö12zuul: sensitive-headers:Â¶ÇÊûúÂè™ÊÉ≥ÂÖ≥Èó≠Êüê‰∏™Ë∑ØÁî±ÁöÑHTTPËØ∑Ê±ÇÂ§¥ËøáÊª§ÔºåÂèØ‰ª•ËøôÊ†∑Ôºö1234zuul: routes: api-a: sensitive-headers:‰ΩøÁî®ZuulÂè¶‰∏Ä‰∏™Â∏∏ËßÅÈóÆÈ¢òÊòØÈáçÂÆöÂêëÁöÑÈóÆÈ¢òÔºåÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑËÆæÁΩÆËß£ÂÜ≥Ôºö12zuul: add-host-header: trueËøáÊª§Âô®ZuulÂè¶‰∏Ä‰∏™Ê†∏ÂøÉÁöÑÂäüËÉΩÂ∞±ÊòØËØ∑Ê±ÇËøáÊª§„ÄÇZuul‰∏≠ÈªòËÆ§ÂÆö‰πâ‰∫Ü4Áßç‰∏çÂêåÁîüÂëΩÂë®ÊúüÁöÑËøáÊª§Âô®Á±ªÂûãÔºåÂú®Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÂõæÁâáÊù•Ëá™‰∫é Zuul GitHubËøô4ÁßçËøáÊª§Âô®Â§Ñ‰∫é‰∏çÂêåÁöÑÁîüÂëΩÂë®ÊúüÔºåÊâÄ‰ª•ÂÖ∂ËÅåË¥£‰πüÂêÑ‰∏çÁõ∏ÂêåÔºöPREÔºöPREËøáÊª§Âô®Áî®‰∫éÂ∞ÜËØ∑Ê±ÇË∑ØÂæÑ‰∏éÈÖçÁΩÆÁöÑË∑ØÁî±ËßÑÂàôËøõË°åÂåπÈÖçÔºå‰ª•ÊâæÂà∞ÈúÄË¶ÅËΩ¨ÂèëÁöÑÁõÆÊ†áÂú∞ÂùÄÔºåÂπ∂ÂÅö‰∏Ä‰∫õÂâçÁΩÆÂä†Â∑•ÔºåÊØîÂ¶ÇËØ∑Ê±ÇÁöÑÊ†°È™åÁ≠âÔºõROUTINGÔºöROUTINGËøáÊª§Âô®Áî®‰∫éÂ∞ÜÂ§ñÈÉ®ËØ∑Ê±ÇËΩ¨ÂèëÂà∞ÂÖ∑‰ΩìÊúçÂä°ÂÆû‰æã‰∏äÂéªÔºõPOSTÔºöPOSTËøáÊª§Âô®Áî®‰∫éÂ∞ÜÂæÆÊúçÂä°ÁöÑÂìçÂ∫î‰ø°ÊÅØËøîÂõûÂà∞ÂÆ¢Êà∑Á´ØÔºåËøô‰∏™ËøáÁ®ãÁßçÂèØ‰ª•ÂØπËøîÂõûÊï∞ÊçÆËøõË°åÂä†Â∑•Â§ÑÁêÜÔºõERRORÔºö‰∏äËø∞ÁöÑËøáÁ®ãÂèëÁîüÂºÇÂ∏∏ÂêéÂ∞ÜË∞ÉÁî®ERRORËøáÊª§Âô®„ÄÇERRORËøáÊª§Âô®ÊçïËé∑Âà∞ÂºÇÂ∏∏ÂêéÈúÄË¶ÅÂ∞ÜÂºÇÂ∏∏‰ø°ÊÅØËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÊâÄ‰ª•ÊúÄÁªàËøòÊòØ‰ºöË∞ÉÁî®POSTËøáÊª§Âô®„ÄÇÊ†∏ÂøÉËøáÊª§Âô®Spring Cloud Zuul‰∏∫ÂêÑ‰∏™ÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÂÆûÁé∞‰∫Ü‰∏ÄÊâπËøáÊª§Âô®ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËøô‰∫õËøáÊª§Âô®ÁöÑ‰ºòÂÖàÁ∫ßÂíå‰ΩúÁî®Â¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöÁîüÂëΩÂë®Êúü‰ºòÂÖàÁ∫ßËøáÊª§Âô®ÂäüËÉΩÊèèËø∞pre-3ServletDetectionFilterÊ†áËÆ∞Â§ÑÁêÜServletÁöÑÁ±ªÂûãpre-2Servlet30WrapperFilterÂåÖË£ÖHttpServletRequestËØ∑Ê±Çpre-1FormBodyWrapperFilterÂåÖË£ÖËØ∑Ê±Ç‰Ωìroute1DebugFilterÊ†áËÆ∞Ë∞ÉËØïÊ†áÂøóroute5PreDecorationFilterÂ§ÑÁêÜËØ∑Ê±Ç‰∏ä‰∏ãÊñá‰æõÂêéÁª≠‰ΩøÁî®route10RibbonRoutingFilterserviceIdËØ∑Ê±ÇËΩ¨Âèëroute100SimpleHostRoutingFilterurlËØ∑Ê±ÇËΩ¨Âèëroute500SendForwardFilterforwardËØ∑Ê±ÇËΩ¨Âèëpost0SendErrorFilterÂ§ÑÁêÜÊúâÈîôËØØÁöÑËØ∑Ê±ÇÂìçÂ∫îpost1000SendResponseFilterÂ§ÑÁêÜÊ≠£Â∏∏ÁöÑËØ∑Ê±ÇÂìçÂ∫îÂÖ∂‰∏≠‰ºòÂÖàÁ∫ßÊï∞Â≠óË∂äÂ∞èÔºå‰ºòÂÖàÁ∫ßË∂äÈ´ò„ÄÇË¶ÅÂÖ≥Èó≠Ëøô‰∫õËøáÊª§Âô®ÂèØ‰ª•Âú®application.yml‰∏≠ÊåâÁÖßÊ†ºÂºèzuul.&lt;SimpleClassName&gt;.&lt;filterType&gt;.disable=trueÈÖçÁΩÆÂç≥ÂèØ„ÄÇÊØîÂ¶ÇÂÖ≥Èó≠SendResponseFilterËøáÊª§Âô®Ôºö12345zuul: SendResponseFilter: post: disable: trueËá™ÂÆö‰πâZuulËøáÊª§Âô®Êàë‰ª¨Ëá™ÂÆö‰πâ‰∏Ä‰∏™PreSendForwardFilterÁî®‰∫éËé∑ÂèñËØ∑Ê±ÇËΩ¨ÂèëÂâçÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØÔºö1234567891011121314151617181920212223import com.netflix.zuul.ZuulFilter;public class PreSendForwardFilter extends ZuulFilter &#123; @Override public String filterType() &#123; return null; &#125; @Override public int filterOrder() &#123; return 0; &#125; @Override public boolean shouldFilter() &#123; return false; &#125; @Override public Object run() &#123; return null; &#125;&#125;ÂèØ‰ª•ÁúãÂà∞Ëá™ÂÆö‰πâZuulËøáÊª§Âô®Âè™ÈúÄË¶ÅÁªßÊâøZuulFilterÔºåÁÑ∂ÂêéÂÆûÁé∞‰ª•‰∏ãÂõõ‰∏™ÊäΩË±°ÊñπÊ≥ïÂç≥ÂèØÔºöfilterTypeÔºöÂØπÂ∫îZuulÁîüÂëΩÂë®ÊúüÁöÑÂõõ‰∏™Èò∂ÊÆµÔºöpre„ÄÅpost„ÄÅrouteÂíåerrorÔºõfilterOrderÔºöËøáÊª§Âô®ÁöÑ‰ºòÂÖàÁ∫ßÔºåÊï∞Â≠óË∂äÂ∞èÔºå‰ºòÂÖàÁ∫ßË∂äÈ´òÔºõshouldFilterÔºöÊñπÊ≥ïËøîÂõûbooleanÁ±ªÂûãÔºåtrueÊó∂Ë°®Á§∫ÊòØÂê¶ÊâßË°åËØ•ËøáÊª§Âô®ÁöÑrunÊñπÊ≥ïÔºåfalseÂàôË°®Á§∫‰∏çÊâßË°åÔºõrunÔºöËøáÊª§Âô®ÁöÑËøáÊª§ÈÄªËæë„ÄÇÁªßÁª≠ÂÆåÂñÑPreSendForwardFilterÔºö123456789101112131415161718192021222324252627282930@Componentpublic class PreSendForwardFilter extends ZuulFilter &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @Override public String filterType() &#123; return "pre"; &#125; @Override public int filterOrder() &#123; return 1; &#125; @Override public boolean shouldFilter() &#123; return true; &#125; @Override public Object run() &#123; RequestContext requestContext = RequestContext.getCurrentContext(); HttpServletRequest request = requestContext.getRequest(); String host = request.getRemoteHost(); String method = request.getMethod(); String uri = request.getRequestURI(); log.info("ËØ∑Ê±ÇURIÔºö&#123;&#125;ÔºåHTTP MethodÔºö&#123;&#125;ÔºåËØ∑Ê±ÇIPÔºö&#123;&#125;", uri, method, host); return null; &#125;&#125;ËøôÊó∂ÂÄôËÆøÈóÆhttp://localhost:12580/api-a/helloÔºåÊéßÂà∂Âè∞Â∞ÜÊâìÂç∞Âá∫Ôºö1c.e.demo.filter.PreSendForwardFilter : ËØ∑Ê±ÇURIÔºö/api-a/helloÔºåHTTP MethodÔºöGETÔºåËØ∑Ê±ÇIPÔºö0:0:0:0:0:0:0:1Ê∫êÁ†ÅÈìæÊé• https://github.com/wuyouzhuguli/SpringAll/tree/master/39.Spring-Cloud-Zuul-RouterÂèÇËÄÉËµÑÊñôÔºö Spring CloudÂæÆÊúçÂä°ÂÆûÊàò]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
        <tag>Zuul</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud Feign Â£∞ÊòéÂºèÊúçÂä°Ë∞ÉÁî®]]></title>
    <url>%2FSpring-Cloud-Feign.html</url>
    <content type="text"><![CDATA[ÂâçÈù¢Êàë‰ª¨ÂàÜÂà´ÈÄöËøáSpring Cloud RibbonÂíåSpring Cloud HystrixÂÆûÁé∞‰∫ÜÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°ÂíåÊúçÂä°ÂÆπÈîôÔºåËÄåSpring Cloud Feign‰∏ç‰ΩÜÊï¥Âêà‰∫ÜËøô‰∏§ËÄÖÁöÑÂäüËÉΩÔºåËÄå‰∏îËøòÊèê‰æõ‰∫Ü‰∏ÄÁßçÊØîRibbonÊõ¥ÁÆÄÂçïÁöÑÊúçÂä°Ë∞ÉÁî®ÊñπÂºè ‚Äî‚Äî‚Äî Â£∞ÊòéÂºèÊúçÂä°Ë∞ÉÁî®„ÄÇÂú®Spring Cloud Feign‰∏≠ÁºñÂÜôÊúçÂä°Ë∞ÉÁî®‰ª£Á†ÅÈùûÂ∏∏ÁÆÄÂçïÔºåÂá†‰πéÂèØ‰ª•Áõ¥Êé•Â∞ÜÊúçÂä°Êèê‰æõËÄÖÁöÑ‰ª£Á†ÅÂ§çÂà∂ËøáÊù•ÔºåÊîπ‰∏∫Êé•Âè£Âç≥ÂèØÔºå‰∏ãÈù¢ÈÄöËøá‰æãÂ≠êÊù•ÊºîÁ§∫Ëøô‰∏™ÁâπÊÄß„ÄÇÊê≠Âª∫Feign ConsumerÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑSpring BootÂ∫îÁî®ÔºåÁâàÊú¨‰∏∫1.5.13.RELEASEÔºåartifactIdÊîπ‰∏∫Feign-ConsumerÔºåÂπ∂ÂºïÂÖ•‰∏ãÈù¢Ëøô‰∫õ‰æùËµñÔºö12345678910111213141516171819202122232425&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;Èô§‰∫Üspring-cloud-starter-feign‰æùËµñÂ§ñÔºåÊàë‰ª¨ËøòÂºïÂÖ•‰∫Üspring-cloud-starter-eurekaÔºåÁõÆÁöÑÊòØ‰∏∫‰∫Ü‰ªéEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉËé∑ÂèñÊúçÂä°„ÄÇÂú®Spring BootÁöÑÂÖ•Âè£Á±ª‰∏≠Âä†ÂÖ•@EnableFeignClientsÂíå@EnableDiscoveryClientÊ≥®Ëß£ÔºåÁî®‰∫éÂºÄÂêØSpring Cloud FeignÂíåÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞Ôºö12345678@EnableDiscoveryClient@EnableFeignClients@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;Âú®ÂâçÈù¢Âá†ËäÇ‰∏≠ÔºåÊàë‰ª¨ÊõæÂú®ÊúçÂä°Êèê‰æõËÄÖEureka-Client‰∏≠ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™UserControllerÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617181920212223242526272829303132333435@RestController@RequestMapping("user")public class UserController &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @GetMapping("/&#123;id:\\d+&#125;") public User get(@PathVariable Long id) &#123; log.info("Ëé∑ÂèñÁî®Êà∑id‰∏∫ " + id + "ÁöÑ‰ø°ÊÅØ"); return new User(id, "mrbird", "123456"); &#125; @GetMapping public List&lt;User&gt; get() &#123; List&lt;User&gt; list = new ArrayList&lt;&gt;(); list.add(new User(1L, "mrbird", "123456")); list.add(new User(2L, "scott", "123456")); log.info("Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ " + list); return list; &#125; @PostMapping public void add(@RequestBody User user) &#123; log.info("Êñ∞Â¢ûÁî®Êà∑ÊàêÂäü " + user); &#125; @PutMapping public void update(@RequestBody User user) &#123; log.info("Êõ¥Êñ∞Áî®Êà∑ÊàêÂäü " + user); &#125; @DeleteMapping("/&#123;id:\\d+&#125;") public void delete(@PathVariable Long id) &#123; log.info("Âà†Èô§Áî®Êà∑ÊàêÂäü " + id); &#125;&#125;Âú®Spring Cloud Ribbon‰∏≠ËÆøÈóÆËøô‰∫õÊúçÂä°ÈúÄË¶ÅÈÄöËøáRestTemplateÂØπË±°Êù•ÂÆûÁé∞ÔºåÂπ∂‰∏îÂèÇÊï∞ÁªëÂÆöÁöÑËøáÁ®ã‰πüÊØîËæÉÁπÅÁêê„ÄÇSpring Cloud FeignÂØπËøô‰∏™Ê≠•È™§ËøõË°å‰∫ÜËøõ‰∏ÄÊ≠•ÁöÑÂ∞ÅË£ÖÔºåÂú®Feign Consumer‰∏≠Ë∞ÉÁî®Ëøô‰∫õÊúçÂä°Âè™ÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™UserServiceÊé•Âè£ÔºåÁÑ∂ÂêéÂ∞ÜUserController‰∏≠ÁöÑ‰ª£Á†ÅÂ§çÂà∂ËøáÂπ∂Â∞ÜÊñπÊ≥ï‰ΩìÂéªÊéâÂç≥ÂèØÔºåÂ¶ÇÔºö123456789101112131415161718@FeignClient("Server-Provider")public interface UserService &#123; @GetMapping("user/&#123;id&#125;") public User get(@PathVariable("id") Long id); @GetMapping("user") public List&lt;User&gt; get(); @PostMapping("user") public void add(@RequestBody User user); @PutMapping("user") public void update(@RequestBody User user); @DeleteMapping("user/&#123;id&#125;") public void delete(@PathVariable("id") Long id);&#125;ÂØπÊØîFeign Consumer‰∏≠ÁöÑUserServiceÂíåEureka-Client‰∏≠UserController‰ª£Á†ÅÔºå‰∏§ËÄÖÊòØ‰∏çÊòØÂæàÁõ∏‰ººÔºüÂú®UserService‰∏≠ÔºåÊàë‰ª¨ÈÄöËøá@FeignClient(&quot;Server-Provider&quot;)Ê≥®Ëß£Êù•Ëé∑ÂèñÊàë‰ª¨ÈúÄË¶ÅÁöÑÊúçÂä°ÔºåÂÖ∂‰∏≠Server-Provider‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂú®ÂÆö‰πâÂêÑÂèÇÊï∞ÁªëÂÆöÊó∂Ôºå@RequestParam„ÄÅ@RequestHeaderÁ≠âÂèØ ‰ª•ÊåáÂÆöÂèÇÊï∞ÂêçÁß∞ÁöÑÊ≥®Ëß£ÔºåÂÆÉ‰ª¨ÁöÑvalueÂçÉ‰∏á‰∏çËÉΩÂ∞ë„ÄÇÂú®SpringMVC Á®ãÂ∫è‰∏≠ÔºåËøô‰∫õÊ≥®Ëß£‰ºöÊ†πÊçÆÂèÇÊï∞ÂêçÊù•‰Ωú‰∏∫ÈªòËÆ§ÂÄºÔºå‰ΩÜÊòØÂú®Feign‰∏≠ÁªëÂÆöÂèÇÊï∞ÂøÖÈ°ªÈÄöËøávalueÂ±ûÊÄßÊù•ÊåáÊòéÂÖ∑‰ΩìÁöÑÂèÇÊï∞ÂêçÔºå‰∏çÁÑ∂‰ºöÊäõÂá∫illegalStateExceptionÂºÇÂ∏∏Ôºåvalue Â±ûÊÄß‰∏çËÉΩ‰∏∫Á©∫„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨Âú®Feign Consumer‰∏≠ÂÆö‰πâ‰∏Ä‰∏™TestControllerÔºåÊù•Ë∞ÉÁî®UserService‰∏≠ÂÆö‰πâÁöÑÊúçÂä°Ôºö123456789101112131415161718192021222324252627282930313233@RestControllerpublic class TestController &#123; @Autowired private UserService userService; @GetMapping("user/&#123;id&#125;") public User getUser(@PathVariable Long id) &#123; return userService.get(id); &#125; @GetMapping("user") public List&lt;User&gt; getUsers() &#123; return userService.get(); &#125; @PostMapping("user") public void addUser() &#123; User user = new User(1L, "mrbird", "123456"); userService.add(user); &#125; @PutMapping("user") public void updateUser() &#123; User user = new User(1L, "mrbird", "123456"); userService.update(user); &#125; @DeleteMapping("user/&#123;id&#125;") public void deleteUser(@PathVariable Long id) &#123; userService.delete(id); &#125;&#125;ÊúÄÂêéÈÖçÁΩÆ‰∏Ä‰∏ãapplication.ymlÔºö1234567891011server: port: 9000 spring: application: name: Server-Consumer eureka: client: serviceUrl: defaultZone: http://mrbird:123456@peer1:8080/eureka/,http://mrbird:123456@peer2:8081/eureka/‰∏äÈù¢ÈÖçÁΩÆÊåáÂÆö‰∫ÜEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÁöÑÂú∞ÂùÄÔºåÁî®‰∫éËé∑ÂèñÊúçÂä°„ÄÇÊúÄÂêéÊàë‰ª¨ÂàÜÂà´ÂêØÂä®‰ª•‰∏ãÊúçÂä°ÔºöÂêØÂä®Eureka-ServerÈõÜÁæ§ÔºåÁ´ØÂè£Âè∑‰∏∫8080Âíå8081ÔºõÂêØÂä®‰∏§‰∏™Eureka-ClientÔºåÁ´ØÂè£Âè∑‰∏∫8082Âíå8083ÔºõÂêØÂä®Feign-ConsumerÔºåÁ´ØÂè£Âè∑‰∏∫9000„ÄÇÂ§öÊ¨°ËÆøÈóÆhttp://localhost:9000/user/1ÊúçÂä°ÔºåËßÇÂØü8082Âíå8083ÊúçÂä°ÁöÑÊéßÂà∂Âè∞Ôºö12345678910111213142018-06-10 14:27:38.105 INFO 10120 --- [nio-8082-exec-8] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:39.989 INFO 10120 --- [nio-8082-exec-7] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:41.197 INFO 10120 --- [nio-8082-exec-6] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:41.802 INFO 10120 --- [nio-8082-exec-5] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:42.224 INFO 10120 --- [nio-8082-exec-4] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:42.865 INFO 10120 --- [nio-8082-exec-3] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:43.296 INFO 10120 --- [nio-8082-exec-2] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:38.358 INFO 9104 --- [nio-8083-exec-8] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:40.754 INFO 9104 --- [nio-8083-exec-7] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:41.397 INFO 9104 --- [nio-8083-exec-6] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:42.006 INFO 9104 --- [nio-8083-exec-5] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:42.445 INFO 9104 --- [nio-8083-exec-4] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-10 14:27:43.073 INFO 9104 --- [nio-8083-exec-3] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ‰ΩøÁî®FeignÂÆûÁé∞ÁöÑÊ∂àË¥πËÄÖÔºå‰æùÁÑ∂ÊòØÂà©Áî®RibbonÁª¥Êä§‰∫ÜÈíàÂØπSeriver-ProviderÁöÑÊúçÂä°ÂàóË°®‰ø°ÊÅØÔºåÂπ∂‰∏îÈÄöËøáËΩÆËØ¢ÂÆûÁé∞‰∫ÜÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°„ÄÇËÄå‰∏éRibbon‰∏çÂêåÁöÑÊòØÔºåÈÄöËøáFeignÊàë‰ª¨Âè™ÈúÄÂÆö‰πâÊúçÂä°ÁªëÂÆöÊé•Âè£Ôºå‰ª•Â£∞ÊòéÂºèÁöÑÊñπÊ≥ïÔºå‰ºòÈõÖËÄåÁÆÄÂçïÂú∞ÂÆûÁé∞‰∫ÜÊúçÂä°Ë∞ÉÁî®„ÄÇRibbonÁõ∏ÂÖ≥ÈÖçÁΩÆSpring Cloud FeignÂÜÖÈÉ®ÁöÑÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°ÊòØÈÄöËøáRibbonÊù•ÂÆûÁé∞ÁöÑÔºåÊâÄ‰ª•Âú®Spring Cloud Feign‰∏≠ÈÖçÁΩÆRibbonÔºåÂíå‰πãÂâçÂú®Spring Cloud RibbonÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°‰∏≠‰ªãÁªçÁöÑSpring Cloud RibbonÈÖçÁΩÆ‰∏ÄÊ†∑ÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇHystrixÁõ∏ÂÖ≥ÈÖçÁΩÆË¶ÅÂú®Spring Cloud Feign‰∏≠ÂºÄÂêØHystrixÔºåÂèØ‰ª•Âú®yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö123feign: hystrix: enabled: trueÂâ©‰∏ãÁöÑHystrixÈÖçÁΩÆÂíå‰πãÂâçÂú®Spring Cloud HystrixÊúçÂä°ÂÆπÈîô‰∏≠‰ªãÁªçÁöÑHystrixÂ±ûÊÄßÈÖçÁΩÆ‰∏ÄÊ†∑„ÄÇÂú®Spring Cloud Feign‰∏≠ÈÖçÁΩÆÊúçÂä°ÈôçÁ∫ßÂíåÂú®Spring Cloud Hystrix‰∏≠ÈÖçÁΩÆÊúçÂä°ÈôçÁ∫ßÂå∫Âà´ÂæàÂ§ßÔºå‰∏ãÈù¢ÂÖ∑‰ΩìÊù•Áúã‰∏ãÊÄé‰πàÂú®Feign-Consumer‰∏≠ÈÖçÁΩÆÊúçÂä°ÈôçÁ∫ß„ÄÇÂÆö‰πâ‰∏Ä‰∏™Áî®‰∫éÂ§ÑÁêÜÊúçÂä°ÈôçÁ∫ßÊñπÊ≥ïÁöÑÁ±ªUserServiceFallbackÔºåÂπ∂‰∏îÂÆûÁé∞‰∏äÈù¢ÂÆö‰πâÁöÑUserServiceÊé•Âè£Ôºö1234567891011121314151617181920212223242526272829@Componentpublic class UserServiceFallback implements UserService &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @Override public User get(Long id) &#123; return new User(-1L, "default", "123456"); &#125; @Override public List&lt;User&gt; get() &#123; return null; &#125; @Override public void add(User user) &#123; log.info("test fallback"); &#125; @Override public void update(User user) &#123; log.info("test fallback"); &#125; @Override public void delete(Long id) &#123; log.info("test fallback"); &#125;&#125;Âú®UserServiceÁöÑ‰∏≠ÈÄöËøá@FeignClientÊ≥®Ëß£ÁöÑfallbackÂ±ûÊÄßÊù•ÊåáÂÆöÂØπÂ∫îÁöÑÊúçÂä°ÈôçÁ∫ßÂÆûÁé∞Á±ª:1234@FeignClient(value = "Server-Provider", fallback = UserServiceFallback.class)public interface UserService &#123; ...&#125;ÈáçÂêØFeign-ConsumerÔºåÂπ∂ÂÖ≥Èó≠Eureka ClientÊúçÂä°ÔºåËÆøÈóÆhttp://localhost:9000/user/1ÔºåÁî±‰∫éEureka-ClientÊúçÂä°Êèê‰æõËÄÖÈÉΩÂÖ≥Èó≠‰∫ÜÔºåÊâÄ‰ª•ËøôÈáå‰ºöÁõ¥Êé•Ëß¶ÂèëÊúçÂä°ÈôçÁ∫ßÔºåÂìçÂ∫îÁªìÊûúÂ¶Ç‰∏ãÔºöÂèØÁúãÂà∞ÂìçÂ∫î‰ø°ÊÅØ‰∏∫ÊúçÂä°ÈôçÁ∫ßÊñπÊ≥ï‰∏≠ÁöÑËøîÂõûÁªìÊûú„ÄÇÂÖ∂‰ΩôFeignÈÖçÁΩÆÈô§‰∫ÜRibbonÂíåHystrixÈÖçÁΩÆ‰πãÂ§ñÔºåFeign‰πüÊúâ‰∏Ä‰∫õËá™‰∏™ÂÑøÁöÑÈÖçÁΩÆ„ÄÇËØ∑Ê±ÇÂéãÁº©Spring Cloud FeignÊîØÊåÅÂØπËØ∑Ê±Ç‰∏éÂìçÂ∫îËøõË°åGZIPÂéãÁº©Ôºå‰ª•ÂáèÂ∞ëÈÄö‰ø°ËøáÁ®ã‰∏≠ÁöÑÊÄßËÉΩÊçüËÄóÔºö123456feign: compression: request: enabled: true response: enabled: trueÂêåÊó∂ÔºåÊàë‰ª¨ËøòËÉΩÂØπËØ∑Ê±ÇÂéãÁº©ÂÅö‰∏Ä‰∫õÊõ¥ÁªÜËá¥ÁöÑËÆæÁΩÆÔºåÊØîÂ¶Ç‰∏ãÈù¢ÁöÑÈÖçÁΩÆÂÜÖÂÆπÊåáÂÆö‰∫ÜÂéãÁº©ÁöÑËØ∑Ê±ÇÊï∞ÊçÆÁ±ªÂûãÔºåÂπ∂ËÆæÁΩÆ‰∫ÜËØ∑Ê±ÇÂéãÁº©ÁöÑÂ§ßÂ∞è‰∏ãÈôêÔºåÂè™ÊúâË∂ÖËøáËøô‰∏™Â§ßÂ∞èÁöÑËØ∑Ê±ÇÊâç‰ºöÂØπÂÖ∂ËøõË°åÂéãÁº©:123456feign: compression: request: enabled: true mime-types: text/xml,application/xml,application/json min-request-size: 2048Êó•ÂøóÈÖçÁΩÆFeignÊèê‰æõ‰∫ÜÊó•ÂøóÊâìÂç∞ÁöÑÂäüËÉΩÔºåFeignÁöÑÊó•ÂøóÁ∫ßÂà´ÂàÜ‰∏∫ÂõõÁßçÔºöNONE: ‰∏çËÆ∞ÂΩï‰ªª‰Ωï‰ø°ÊÅØ„ÄÇBASIC: ‰ªÖËÆ∞ÂΩïËØ∑Ê±ÇÊñπÊ≥ï„ÄÅURL‰ª•ÂèäÂìçÂ∫îÁä∂ÊÄÅÁ†ÅÂíåÊâßË°åÊó∂Èó¥„ÄÇHEADERS: Èô§‰∫ÜËÆ∞ÂΩïBASICÁ∫ßÂà´ÁöÑ‰ø°ÊÅØ‰πãÂ§ñÔºåËøò‰ºöËÆ∞ÂΩïËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÂ§¥‰ø°ÊÅØ„ÄÇFULL: ËÆ∞ÂΩïÊâÄÊúâËØ∑Ê±Ç‰∏éÂìçÂ∫îÁöÑÊòéÁªÜÔºåÂåÖÊã¨Â§¥‰ø°ÊÅØ„ÄÅËØ∑Ê±Ç‰Ωì„ÄÅÂÖÉÊï∞ÊçÆÁ≠â„ÄÇÊó•ÂøóÁ∫ßÂà´ÈªòËÆ§‰∏∫NONEÔºåË¶ÅÊîπÂèòÁ∫ßÂà´ÂèØ‰ª•Âú®ÂÖ•Âè£Á±ª‰∏≠ÂÆö‰πâ‰∏Ä‰∏™Êó•ÂøóÈÖçÁΩÆBeanÔºö123456789101112@EnableDiscoveryClient@EnableFeignClients@SpringBootApplicationpublic class DemoApplication &#123; @Bean Logger.Level feignLoggerLevel() &#123; return Logger.Level.FULL; &#125; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÁÑ∂ÂêéÂú®yml‰∏≠ÈÖçÁΩÆFeignÂÆ¢Êà∑Á´ØÁöÑÊó•ÂøóÁ∫ßÂà´‰∏∫debugÔºåFeignÊó•ÂøóËÆ∞ÂΩï‰ªÖÂìçÂ∫îdebugÁ∫ßÂà´Ôºö1234567logging: level: com: example: demo: service: UserService: debugÈáçÂêØÈ°πÁõÆËÆøÈóÆÔºåÂèØ‰ª•ÁúãÂà∞ÊéßÂà∂Âè∞ÊâìÂç∞Êó•ÂøóÂ¶Ç‰∏ãÔºö12345678[UserService#get] &lt;--- HTTP/1.1 200 (506ms)[UserService#get] content-type: application/json;charset=UTF-8[UserService#get] date: Stu, 10 Jun 2018 01:44:45 GMT[UserService#get] transfer-encoding: chunked[UserService#get] [UserService#get] &#123;&quot;id&quot;:1,&quot;username&quot;:&quot;mrbird&quot;,&quot;password&quot;:&quot;123456&quot;&#125;[UserService#get] &lt;--- END HTTP (48-byte body)Flipping property: Server-Provider.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647Ê∫êÁ†ÅÈìæÊé• https://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/33.Spring-Cloud-Feign-Declarative-REST-Client]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
        <tag>Feign</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud Hystrix Dashboard‰ª™Ë°®Áõò]]></title>
    <url>%2FSpring-Cloud-Hystrix-Dashboard.html</url>
    <content type="text"><![CDATA[HystrixÊèê‰æõ‰∫ÜHystrix DashboardÊù•ÂÆûÊó∂ÁõëÊéßHystrixÁöÑËøêË°åÊÉÖÂÜµÔºåÈÄöËøáHystrix DashboardÂèçÈ¶àÁöÑÂÆûÊó∂‰ø°ÊÅØÔºåÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨Âø´ÈÄüÂèëÁé∞Á≥ªÁªü‰∏≠Â≠òÂú®ÁöÑÈóÆÈ¢òÔºå‰ªéËÄåÂèäÊó∂Âú∞ÈááÂèñÂ∫îÂØπÊé™ÊñΩ„ÄÇSpring CloudÂØπHystrix DashboardËøõË°å‰∫ÜÊï¥ÂêàÔºåËøôÈáåÂ∞Ü‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®Hystrix DashboardÁõëÊéßÂçï‰∏™ÂíåÂ§ö‰∏™HystrixÂÆû‰æã„ÄÇÁõëÊéßÂçï‰∏™HystrixÂÆû‰æãÂàõÂª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåSpring BootÁâàÊú¨‰∏∫1.5.13.RELEASEÔºåartifactIdÂ°´Hystrix-DashboardÔºåÁÑ∂ÂêéÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö12345678910111213141516171819202122232425&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-hystrix&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-hystrix-dashboard&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;Á®çÂæÆÈÖçÁΩÆ‰∏ãymlÔºö12345spring: application: name: Hystrix-Dashboardserver: port: 9002ÁÑ∂ÂêéÂú®ÂÖ•Âè£Á±ª‰∏äÂä†ÂÖ•Ê≥®Ëß£@EnableHystrixDashboardÊù•ÂêØÁî®Hystrix DashboardÁöÑÂäüËÉΩ„ÄÇÂêØÂä®È°πÁõÆËÆøÈóÆhttp://localhost:9002/hystrixÂ∞±ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÈ°µÈù¢‰∫ÜÔºöÂèØ‰ª•ÁúãÂà∞È°µÈù¢‰∏äÊèê‰æõ‰∫Ü‰∏âÁßçÁõëÊéßÁöÑÊ®°ÂºèÔºöCluster via Turbine(default cluster)„ÄÅCluster via Turbine(custom cluster)ÂíåSingle Hystrix AppÔºöÂâç‰∏§ÁßçÈÉΩÊòØÈõÜÁæ§ÁõëÊéßÁöÑÔºå‰∏ãÈù¢ÂÜç‰ªãÁªçÔºåËøôÈáåÂÖà‰ªãÁªçÁ¨¨‰∏âÁßçÂçïÊú∫ÁõëÊéß„ÄÇÂú®‰∏ä‰∏ÄËäÇSpring Cloud HystrixÊúçÂä°ÂÆπÈîôÁöÑÂü∫Á°Ä‰∏äÔºåË¶ÅÂØπRibbon-ConsumerËøõË°åÁõëÊéßËøòÂøÖÈ°ªÂä†ÂÖ•spring-boot-starter-actuator‰æùËµñÔºåÁÑ∂ÂêéÂàÜÂà´ÂêØÂä®Eureka-ServeÈõÜÁæ§ÔºåEureka-ClientÔºåRibbon-ConsumerÔºåÂêØÂä®ÂêéÂú®ÂàöÂàöÁöÑÁõëÊéßÈ°µÈù¢‰∏äËæìÂÖ•Ôºöhttp://localhost:9000/hystrix.stream ÔºåÁÑ∂ÂêéÂæÄRibbon-ConsumerÂèëÂá†Êù°ËØ∑Ê±ÇÔºå‰æøÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁõëÊéßÈ°µÈù¢ÔºöËá≥‰∫éËøôÂº†Âõæ‰∏äÈù¢ÁöÑÊåáÊ†á‰ª£Ë°®‰ªÄ‰πàÂê´‰πâÔºåÊàë‰ª¨ÂèØ‰ª•ÂèÇËÄÉÂÆòÊñπÁªôÁöÑÂõæ‰æãÔºöÂà∞ËøôÈáåÊàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫Ü‰ΩøÁî®Hystrix DashboardÂØπÂçï‰∏™HystrixÂÆû‰æãËøõË°åÁõëÊéß‰∫ÜÔºåÁÑ∂ËÄåÂÆûÈôÖ‰∏≠‰∏ÄËà¨‰ºöÊúâÂ§ö‰∏™HystrixÂÆû‰æãÈúÄË¶ÅÂêåÊó∂ËøõË°åÁõëÊéßÔºå‰∏ãÈù¢Êàë‰ª¨‰ΩøÁî®TurbineÊù•ÂÆûÁé∞ÈõÜÁæ§ÁõëÊéß„ÄÇTurbineÈõÜÁæ§ÁõëÊéß‰ΩøÁî®TurbineÂÆûÁé∞ÂØπHystrixÁöÑÈõÜÁæ§ÁõëÊéßÁöÑÊÄùË∑ØÊòØÔºöTurbine‰ªéEurekaÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÈÄöËøáÊúçÂä°ÂêçRibbon-ConsumerËé∑ÂèñÊúçÂä°ÂÆû‰æãÔºåÁÑ∂ÂêéHystrix DashboardÂØπTurbineËøõË°åÁõëÊéßÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜHystrix DashboardÂêåÊó∂ÂØπÂ§ö‰∏™HystrixÔºàRibbon-consumerÔºâÂÆû‰æãÂêåÊó∂ËøõË°åÁõëÊéßÁöÑÂäüËÉΩ„ÄÇÂàõÂª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåSpring BootÁâàÊú¨‰∏∫1.5.13.RELEASEÔºåartifactIdÂ°´TurbineÔºåÁÑ∂ÂêéÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö1234567891011121314151617181920212223242526&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-turbine&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;ÁÑ∂ÂêéÂú®ÂÖ•Âè£Á±ª‰∏≠Âä†ÂÖ•@EnableTurbineÊù•ÂºÄÂêØTurbineÁöÑÂäüËÉΩÔºåÂπ∂‰∏îÂä†ÂÖ•@EnableDiscoveryClientÊ≥®Ëß£ÔºåÂºÄÂêØÊúçÂä°Ëé∑ÂèñÂäüËÉΩ„ÄÇÊúÄÂêéÂú®yml‰∏≠Âä†ÂÖ•‰∏Ä‰∫õÈÖçÁΩÆÔºö1234567891011121314spring: application: name: Turbineserver: port: 9003eureka: client: serviceUrl: defaultZone: http://mrbird:123456@peer1:8080/eureka/,http://mrbird:123456@peer2:8081/eureka/turbine: app-config: Ribbon-Consumer cluster-name-expression: new String('default') combine-host-port: true‰∏äÈù¢ÈÖçÁΩÆ‰∫ÜEureka-ServerÁöÑÈõÜÁæ§Âú∞ÂùÄÔºåÂπ∂‰∏îÊåáÂÆö‰∫ÜÁ´ØÂè£Âè∑‰∏∫9003ÔºåÂ∫îÁî®ÂêçÁß∞‰∏∫Turbine„ÄÇÂâ©‰∏ãÁöÑÈÖçÁΩÆ‰∏∫TurbineÁöÑÈÖçÁΩÆÔºåÂê´‰πâÂ¶Ç‰∏ãÔºöturbine.app-configÊåáÂÆö‰∫ÜÈúÄË¶ÅÊî∂ÈõÜÁõëÊéß‰ø°ÊÅØÁöÑÊúçÂä°ÂêçÔºåËøôÈáå‰∏∫Ribbon-ConsumerÔºõturbine.cluster-name-expressionÂèÇÊï∞ÊåáÂÆö‰∫ÜÈõÜÁæ§ÂêçÁß∞‰∏∫default, ÂΩìÊúçÂä°Êï∞ÈáèÈùûÂ∏∏Â§öÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÂêØÂä®Â§ö‰∏™Turbine ÊúçÂä°Êù•ÊûÑÂª∫‰∏çÂêåÁöÑËÅöÂêàÈõÜÁæ§Ôºå ËÄåËØ•ÂèÇÊï∞ÂèØ‰ª•Áî®Êù•Âå∫ÂàÜËøô‰∫õ‰∏çÂêåÁöÑËÅöÂêàÈõÜÁæ§ÔºåÂêåÊó∂ËØ•ÂèÇÊï∞ÂÄºÂèØ‰ª•Âú®Hystrix‰ª™Ë°®Áõò‰∏≠Áî®Êù•ÂÆö‰Ωç‰∏çÂêåÁöÑËÅöÂêàÈõÜÁæ§ÔºåÂè™ÈúÄÂú®Hystrix StreamÁöÑURL‰∏≠ÈÄöËøáclusterÂèÇÊï∞Êù•ÊåáÂÆö(Âç≥Cluster via Turbine(custom cluster))Ôºõturbine.combine-host-portÂèÇÊï∞ËÆæÁΩÆ‰∏∫‰∏Érue, ÂèØ‰ª•ËÆ©Âêå‰∏Ä‰∏ªÊú∫‰∏äÁöÑÊúçÂä°ÈÄöËøá‰∏ªÊú∫Âêç‰∏éÁ´ØÂè£Âè∑ÁöÑÁªÑÂêàÊù•ËøõË°åÂå∫ÂàÜÔºå ÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ºö‰ª•hostÊù•Âå∫ÂàÜ‰∏çÂêåÁöÑÊúçÂä°ÔºåËøô‰ºö‰ΩøÂæóÂú®Êú¨Âú∞Ë∞ÉËØïÁöÑÊó∂ÂÄôÔºåÊú¨Êú∫‰∏äÁöÑ‰∏çÂêåÊúçÂä°ËÅöÂêàÊàê‰∏Ä‰∏™ÊúçÂä°Êù•ÁªüËÆ°„ÄÇÈÖçÁΩÆÂÆåÊØïÂêéÔºåÊàë‰ª¨ÂàÜÂà´ÂêØÂä®‰∏ãÈù¢Ëøô‰∫õÊúçÂä°ÔºöÂêØÂä®Eureka-ServerÈõÜÁæ§ÔºåÁ´ØÂè£Âè∑‰∏∫8080Âíå8081ÔºõÂêØÂä®‰∏Ä‰∏™Eureka-ClientÔºåÁ´ØÂè£Âè∑‰∏∫8082ÔºõÂêØÂä®‰∏§‰∏™Ribbon-ConsumerÔºåÁ´ØÂè£Âè∑‰∏∫9000Âíå9001ÔºõÂêØÂä®TurbineÊúçÂä°ÔºåÁ´ØÂè£Âè∑‰∏∫9003ÔºõÊúÄÂêéÂêØÂä®Hystrix-DashboardÊúçÂä°ÔºåÁ´ØÂè£Âè∑‰∏∫9002„ÄÇÂêØÂä®Â•ΩËøô‰∫õÊúçÂä°ÂêéÔºåËÆøÈóÆEureka-serverÁöÑhttp://localhost:8080ÂèØÁúãÂà∞Ëøô‰∫õÂÆû‰æãÔºöËØ¥ÊòéÊúçÂä°ÈÉΩÂ∑≤ÂêØÂä®ÊàêÂäüÔºåÊàë‰ª¨ËßÇÂØüTurbineÁöÑÊéßÂà∂Âè∞ÔºåÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÊó•Âøó‰ø°ÊÅØÔºöÂç≥TurbineÂ∑≤Áªè‰ªéÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÊâæÂà∞‰∫Ü9000Âíå9001Á´ØÂè£ÁöÑRibbon-ConsumerÂÆû‰æã„ÄÇËøôÊó∂ÂÄôÊàë‰ª¨ËÆøÈóÆHystrix-dashboardÁöÑÂú∞ÂùÄhttp://localhost:9002/hystrixÔºåÂú®È°µÈù¢ÁöÑÂú∞ÂùÄÊ†èËæìÂÖ•http://localhost:9003/turbine.streamÔºåÁÑ∂ÂêéÂàÜÂà´ÂæÄ9000Âíå9001Á´ØÂè£ÁöÑRibbon-ConsumerÂÆû‰æãÂèëÈÄÅ‰∏Ä‰∫õËØ∑Ê±ÇÔºåËøôÊó∂ÂÄôÂèØ‰ª•ÁúãÂà∞DashboardÁöÑÁîªÈù¢Â¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞HostsÁöÑÂÄºÂ∑≤ÁªèÊòØ2‰∫ÜÔºåÂπ∂‰∏îÁî±‰∫é‰∏§‰∏™HystrixÂÆû‰æãÁöÑÂêçÁß∞ÈÉΩÊòØRibbon-ConsumerÔºåÊâÄ‰ª•Turbine ‰ºöÂ∞ÜÁõ∏ÂêåÂêçÁß∞ÁöÑÊúçÂä°‰Ωú‰∏∫Êï¥‰ΩìÊù•ÁúãÂæÖÔºåÊ±áÊÄªÊàê‰∏Ä‰∏™ÁõëÊéßÂõæ„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/31.Spring-Cloud-Hystrix-Dashboard-Turbine‰ΩøÁî®Ê∂àÊÅØ‰∏≠Èó¥‰ª∂Èô§‰∫ÜÁõ¥Êé•Áî®Turbine‰ªéÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉËé∑ÂèñRibbon-ConsumerÂÆû‰æãÁõëÊéßÊï∞ÊçÆÂ§ñÔºåËøòÂèØ‰ª•Â∞ÜRibbon-ConsumerÁöÑÁõëÊéßÊï∞ÊçÆÂèëÈÄÅÂà∞Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºåÁÑ∂ÂêéTurbine‰ªéÊ∂àÊÅØ‰∏≠Èó¥‰ª∂‰∏≠Ëé∑Âèñ„ÄÇËøôÈáåÊàë‰ª¨ÈÄâÊã©RabbitMQ‰Ωú‰∏∫Ê∂àÊÅØ‰∏≠Èó¥‰ª∂„ÄÇÂú®ÂÆâË£ÖRabbitMQ‰πãÂâçÔºåÈúÄË¶ÅÂÖàÂÆâË£ÖErlang/OTPÔºå‰∏ãËΩΩÂú∞ÂùÄ‰∏∫Ôºöhttp://www.erlang.org/downloads/Ôºå‰∏ãËΩΩexeÊñá‰ª∂ÂÆâË£ÖÂç≥ÂèØ„ÄÇÂÆâË£ÖÂÆåÊØïÂêéÔºå‰∏ãËΩΩRabbitMQÔºå‰∏ãËΩΩÂú∞ÂùÄ‰∏∫http://www.rabbitmq.com/install-windows.htmlÔºå‰∏ãËΩΩexeÊñá‰ª∂ÂÆâË£ÖÂç≥ÂèØ„ÄÇÂÆâË£ÖÂÆåRabbitMQ‰πãÂêéÔºåÊàë‰ª¨Âà∞RabbitMQÂÆâË£ÖÁõÆÂΩïÁöÑsbin‰∏ãÊâßË°åÂ¶Ç‰∏ãÂëΩ‰ª§Ôºö1rabbitmq-plugins enable rabbitmq_managementÁÑ∂ÂêéÂú®ÊµèËßàÂô®‰∏≠ËæìÂÖ•http://localhost:15672ÔºåÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÈÉΩÊòØguestÔºåÁôªÂΩïÂêéÂèØÁúãÂà∞ÔºöËØ¥ÊòéÂêØÂä®ÊàêÂäü„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨ÂØπRibbon-ConsumerËøõË°åÊîπÈÄ†ÔºåÂÆûÁé∞ÂÖ∂Â∞ÜÁõëÊéß‰ø°ÊÅØËæìÂá∫Âà∞RabbitMQÔºåÂú®pom‰∏≠Ê∑ªÂä†Â¶Ç‰∏ã‰æùËµñÔºö12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-netflix-hystrix-stream&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-stream-rabbit&lt;/artifactId&gt;&lt;/dependency&gt;‰øÆÊîπRibbon-ConsumerÁöÑymlÈÖçÁΩÆÊñá‰ª∂ÔºåÂä†ÂÖ•RabbitMQÁöÑËøûÊé•ÈÖçÁΩÆÔºö123456spring: rabbitmq: host: localhost port: 5672 username: guest password: guestÊúÄÂêéÊàë‰ª¨Êù•‰øÆÊîπTurbineÔºåËÆ©ÂÖ∂‰ªéRabbitMQ‰∏≠ËØªÂèñÁõëÊéß‰ø°ÊÅØ„ÄÇÂú®TurbineÈ°πÁõÆ‰∏≠ÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-turbine-stream&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-stream-rabbit&lt;/artifactId&gt;&lt;/dependency&gt;ÂêåÊó∂Âà†Èô§spring-cloud-starter-eurekaÂíåspring-cloud-starter-turbine‰æùËµñÔºåÂõ†‰∏∫Êàë‰ª¨‰∏çÂÜç‰ªéÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÂéªËé∑ÂèñÁõëÊéßÁöÑÊúçÂä°‰ø°ÊÅØ‰∫ÜÔºåÂπ∂‰∏îspring-cloud-starter-turbine-streamÂ∑≤ÁªèÂåÖÂê´‰∫Üspring-cloud-starter-turbine‰æùËµñ„ÄÇ‰øÆÊîπTurbineÁöÑÂÖ•Âè£Á±ªÔºåÂà†Èô§@EnableTurbineÂíå@EnableDiscoveryClientÊ≥®Ëß£ÔºåÊ∑ªÂä†@EnableTurbineStreamÊ≥®Ëß£„ÄÇÂ∞ÜTurbineÁöÑymlÈÖçÁΩÆ‰øÆÊîπ‰∏∫Ôºö12345678910spring: application: name: Turbine rabbitmq: host: localhost port: 5672 username: guest password: guestserver: port: 9003‰øÆÊîπÂÆåÊØïÂêéÔºåÊàë‰ª¨ÂàÜÂà´ÂêØÂä®‰∏ãÈù¢Ëøô‰∫õÊúçÂä°ÔºöÂêØÂä®Eureka-ServerÈõÜÁæ§ÔºåÁ´ØÂè£Âè∑‰∏∫8080Âíå8081ÔºõÂêØÂä®‰∏Ä‰∏™Eureka-ClientÔºåÁ´ØÂè£Âè∑‰∏∫8082ÔºõÂêØÂä®‰∏§‰∏™Ribbon-ConsumerÔºåÁ´ØÂè£Âè∑‰∏∫9000Âíå9001ÔºõÂêØÂä®TurbineÊúçÂä°ÔºåÁ´ØÂè£Âè∑‰∏∫9003ÔºõÊúÄÂêéÂêØÂä®Hystrix-DashboardÊúçÂä°ÔºåÁ´ØÂè£Âè∑‰∏∫9002„ÄÇÂêåÊ†∑ÁöÑÊàë‰ª¨ËÆøÈóÆHystrix-dashboardÁöÑÂú∞ÂùÄhttp://localhost:9002/hystrixÔºåÂú®È°µÈù¢ÁöÑÂú∞ÂùÄÊ†èËæìÂÖ•http://localhost:9003/turbine.streamÔºåÁÑ∂ÂêéÂàÜÂà´ÂæÄ9000Âíå9001Á´ØÂè£ÁöÑRibbon-ConsumerÂÆû‰æãÂèëÈÄÅ‰∏Ä‰∫õËØ∑Ê±ÇÔºåËøôÊó∂ÂÄôÂèØ‰ª•ÁúãÂà∞DashboardÁöÑÁîªÈù¢Â¶Ç‰∏ãÔºöÊïàÊûúÂíå‰ªéÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉËé∑ÂèñÊúçÂä°ÁöÑÁõëÊéß‰ø°ÊÅØ‰∏ÄËá¥„ÄÇÂπ∂‰∏îËøôÊó∂ÂÄôËßÇÂØüRabbitMQÁöÑÈ°µÈù¢ÔºöÂèØÁúãÂà∞Queued messagesÂ∑≤ÁªèÊúâÊï∞ÊçÆ‰∫Ü„ÄÇËá≥Ê≠§Êàë‰ª¨ÂÆåÊàê‰∫ÜTurbine‰ªéÊ∂àÊÅØ‰∏≠Èó¥‰ª∂RabbitMQÊù•Êî∂ÈõÜÁõëÊéß‰ø°ÊÅØÁöÑËøáÁ®ã„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/32.Spring-Cloud-Hystrix-Dashboard-Turbine-RabbitMQ]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
        <tag>Hystrix</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud HystrixÊúçÂä°ÂÆπÈîô]]></title>
    <url>%2FSpring-Cloud-Hystrix-Circuit-Breaker.html</url>
    <content type="text"><![CDATA[Âú®ÂæÆÊúçÂä°ÁöÑÊû∂ÊûÑ‰∏≠ÔºåÊúçÂä°Èó¥ÈÄöÂ∏∏‰ºöÂΩ¢ÊàêÁõ∏‰∫í‰æùËµñÁöÑÂÖ≥Á≥ªÔºåÊØîÂ¶ÇÁé∞Âú®Êúâ‰∏â‰∏™ÂæÆÊúçÂä°ËäÇÁÇπÔºöAÔºåBÂíåCÔºåB‰∏∫AÁöÑÊ∂àË¥πËÄÖÔºåC‰∏∫BÁöÑÊ∂àË¥πËÄÖ„ÄÇÂÅáÂ¶ÇÁî±‰∫éÁΩëÁªúÊ≥¢Âä®ÊàñËÄÖAÊúçÂä°Ëá™Ë∫´ÊïÖÈöúÔºåÂØºËá¥BË∞ÉÁî®AÊúçÂä°ÁöÑÁ∫øÁ®ãË¢´ÊåÇËµ∑ËøõÂÖ•ÈïøÊó∂Èó¥ÁöÑÁ≠âÂæÖ„ÄÇÂú®È´òÂπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÂèØËÉΩÂØºËá¥BÁöÑËµÑÊ∫êË¢´ËÄóÁ´≠Èöè‰πãÂ¥©Ê∫ÉÔºå‰ªéËÄåÂØºËá¥CÊúçÂä°‰πü‰∏çÂèØÁî®„ÄÇËøôÁßçËøûÁéØÂºèÁöÑÈõ™Â¥©ÊïàÂ∫îÂú®ÂæÆÊúçÂä°‰∏≠ËæÉ‰∏∫Â∏∏ËßÅÔºå‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊúçÂä°ÁÜîÊñ≠ÊäÄÊúØÂ∫îËøêËÄåÂá∫„ÄÇÁÜîÊñ≠‰∏ÄËØçÊù•Ëá™ÁîµË∑ØÂ≠¶ÔºåÊåáÁöÑÊòØÁîµË∑ØÂú®Âá∫Áé∞Áü≠Ë∑ØÁä∂ÂÜµÊó∂Ôºå‚ÄúÊñ≠Ë∑ØÂô®‚ÄùËÉΩÂ§üÂèäÊó∂Âú∞ÂàáÊñ≠ÊïÖÈöúÁîµË∑ØÔºåÈÅøÂÖçÁîµË∑ØËøáËΩΩÂèëÁÉ≠ÂºïÂèëÁÅ´ÁÅæ„ÄÇÁ±ª‰ººÁöÑÔºåÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÁöÑÊñ≠Ë∑ØÂô®ËÉΩÂ§üÂèäÊó∂Âú∞ÂèëÁé∞ÊïÖÈöúÊúçÂä°ÔºåÂπ∂ÂêëÊúçÂä°Ë∞ÉÁî®ÊñπËøîÂõûÈîôËØØÂìçÂ∫îÔºåËÄå‰∏çÊòØÈïøÊó∂Èó¥ÁöÑÁ≠âÂæÖ„ÄÇSpring Cloud HystrixÂú®HystrixÔºàÂèàÊòØ‰∏ÄÊ¨æÁî±NetflixÂºÄÂèëÁöÑÂºÄÊ∫êËΩØ‰ª∂ÔºåGithubÂú∞ÂùÄhttps://github.com/Netflix/HystrixÔºâÁöÑÂü∫Á°Ä‰∏äËøõË°å‰∫ÜÂ∞ÅË£ÖÔºåÊèê‰æõ‰∫ÜÊúçÂä°ÁÜîÊñ≠ÔºåÊúçÂä°ÈôçÁ∫ßÔºåÁ∫øÁ®ãÈöîÁ¶ªÁ≠âÂäüËÉΩÔºåÈÄöËøáËøô‰∫õÂäüËÉΩÂèØ‰ª•Êèê‰æõÊúçÂä°ÁöÑÂÆπÈîôÁéá„ÄÇ‰ΩøÁî®HystrixËøôÈáåÂ∞ÜÂú®‰∏ä‰∏ÄËäÇSpring Cloud RibbonÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°Ê∫êÁ†ÅÁöÑÂü∫Á°Ä‰∏äÈÖçÁΩÆHystrix„ÄÇÊàë‰ª¨ÂÖàÁúã‰∏ãÂú®Ê≤°ÊúâÈÖçÁΩÆHystrix‰πãÂâçÔºåÂÖ≥Èó≠Eureka-ClientÊòØ‰ªÄ‰πàÊïàÊûú„ÄÇÂàÜÂà´‰ΩøÁî®peer1Âíåpeer2ÈÖçÁΩÆÂêØÂä®Eureka-ServerÈõÜÁæ§ÔºåÁÑ∂ÂêéÂêØÂä®‰∏§‰∏™Eureka-ClientÂÆû‰æãÔºåÁ´ØÂè£ÂàÜÂà´‰∏∫8082Âíå8083ÔºåÊúÄÂêéÂêØÂä®Ribbon-Consumer„ÄÇÂáÜÂ§áÂÆåÊØïÂêéÔºåÊàë‰ª¨ÂÖ≥Èó≠Á´ØÂè£‰∏∫8082ÁöÑEureka-ClientÔºåÁÑ∂ÂêéÂèëÈÄÅGETËØ∑Ê±Çhttp://localhost:9000/user/1ÔºåËøîÂõûÁªìÊûúÂ¶Ç‰∏ãÔºö‰∏ãÈù¢ÂºÄÂßã‰ΩøÁî®‰ΩøÁî®Spring Cloud HystrixÔºåÂú®È°πÁõÆRibbon-Consumer‰∏≠ÂºïÂÖ•Spring Cloud Hystrix‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-hystrix&lt;/artifactId&gt;&lt;/dependency&gt;Âú®ÂÖ•Âè£Á±ª‰∏äÂä†ÂÖ•@EnableHystrixÊàñËÄÖ@EnableCircuitBreakerÊ≥®Ëß£„ÄÇËøô‰∏§‰∏™Ê≥®Ëß£ÊòØÁ≠â‰ª∑ÁöÑÔºåÊü•Áúã@EnableHystrixÊ≥®Ëß£Ê∫êÁ†ÅÂ∞±ÂèØ‰ª•ËØÅÂÆûËøô‰∏ÄÁÇπÔºö1234567@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@EnableCircuitBreakerpublic @interface EnableHystrix &#123;&#125;Âú®ÂºïÂÖ•@EnableHystrixÊàñËÄÖ@EnableCircuitBreakerÊ≥®Ëß£ÂêéÔºåÊàë‰ª¨ÁöÑÂÖ•Âè£Á±ª‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213@EnableCircuitBreaker@EnableDiscoveryClient@SpringBootApplicationpublic class DemoApplication &#123; @Bean @LoadBalanced RestTemplate restTemplate() &#123; return new RestTemplate(); &#125; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÂÖ•Âè£Á±ª‰∏äÊÄªÂÖ±ÂåÖÂê´‰∫Ü‰∏â‰∏™Ê≥®Ëß£@EnableCircuitBreaker„ÄÅ@EnableDiscoveryClientÂíå@SpringBootApplicationÔºåËøô‰∏â‰∏™Ê≥®Ëß£ÁöÑÁªÑÂêàÂèØ‰ª•‰ΩøÁî®@SpringCloudApplicationÊù•‰ª£ÊõøÔºå@SpringCloudApplicationÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö123456789@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@SpringBootApplication@EnableDiscoveryClient@EnableCircuitBreakerpublic @interface SpringCloudApplication &#123;&#125;Êé•ÁùÄÂ∞ÜUserController‰∏≠ÁöÑÊñπÊ≥ïÊèêÂèñÂá∫Êù•ÔºåÂàõÂª∫‰∏Ä‰∏™UserServiceÔºà‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºå‰∏çÂÜçÂàõÂª∫ServiceÊé•Âè£ÔºâÔºö12345678910111213141516171819202122232425262728293031323334@Service("userService")public class UserService &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @Autowired private RestTemplate restTemplate; public User getUser(@PathVariable Long id) &#123; return restTemplate.getForObject("http://Server-Provider/user/&#123;id&#125;", User.class, id); &#125; public List&lt;User&gt; getUsers() &#123; return this.restTemplate.getForObject("http://Server-Provider/user", List.class); &#125; public String addUser() &#123; User user = new User(1L, "mrbird", "123456"); HttpStatus status = this.restTemplate.postForEntity("http://Server-Provider/user", user, null).getStatusCode(); if (status.is2xxSuccessful()) &#123; return "Êñ∞Â¢ûÁî®Êà∑ÊàêÂäü"; &#125; else &#123; return "Êñ∞Â¢ûÁî®Êà∑Â§±Ë¥•"; &#125; &#125; public void updateUser() &#123; User user = new User(1L, "mrbird", "123456"); this.restTemplate.put("http://Server-Provider/user", user); &#125; public void deleteUser(@PathVariable Long id) &#123; this.restTemplate.delete("http://Server-Provider/user/&#123;1&#125;", id); &#125;&#125;Êé•ÁùÄÊîπÈÄ†UserServiceÁöÑgetUserÊñπÊ≥ïÔºö1234567891011@HystrixCommand(fallbackMethod = "getUserDefault")public User getUser(@PathVariable Long id) &#123; return restTemplate.getForObject("http://Server-Provider/user/&#123;id&#125;", User.class, id);&#125;public User getUserDefault(Long id) &#123; User user = new User(); user.setId(-1L); user.setUsername("defaultUser"); user.setPassword("123456"); return user;&#125;Êàë‰ª¨Âú®getUserÊñπÊ≥ï‰∏äÂä†ÂÖ•‰∫Ü@HystrixCommandÊ≥®Ëß£ÔºåÊ≥®Ëß£ÁöÑfallbackMethodÂ±ûÊÄßÊåáÂÆö‰∫ÜË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ï‰∏çÂèØÁî®Êó∂ÁöÑÂõûË∞ÉÊñπÊ≥ïÔºàÊúçÂä°ÁÜîÊñ≠Êó∂ÁöÑÂõûË∞ÉÂ§ÑÁêÜÈÄªËæëÔºåÂç≥ÊúçÂä°ÈôçÁ∫ßÔºâÔºåËøôÈáå‰∏∫getUserDefaultÊñπÊ≥ïÔºàÂøÖÈ°ª‰∏égetUserÊñπÊ≥ïÁöÑÂèÇÊï∞ÂèäËøîÂõûÂÄºÁ±ªÂûã‰∏ÄËá¥Ôºâ„ÄÇÂú®UserController‰∏≠Ë∞ÉÁî®UserServiceÁöÑgetUserÊñπÊ≥ïÔºö123456789101112@RestControllerpublic class TestController &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @Autowired private UserService userService; @GetMapping("user/&#123;id&#125;") public User getUser(@PathVariable Long id) &#123; return userService.getUser(id); &#125;&#125;‰øÆÊîπÂÆåÂêéÂêØÂä®Ribbon-ConsumerÂπ∂ÈáçÈáçÊñ∞ÂêØÂä®8082Á´ØÂè£ÁöÑEureka-ClientÔºåÂèëÈÄÅÊï∞Ê¨°GETËØ∑Ê±Çhttp://localhost:9000/user/1ÂêéÔºåÂÜçÊ¨°ÂÖ≥Èó≠8082Á´ØÂè£ÁöÑEureka-Client„ÄÇÊñ≠ÂºÄÂêéÔºåÁªßÁª≠ÂèëÈÄÅGETËØ∑Ê±Çhttp://localhost:9000/user/1ÔºåÂΩìËΩÆËØ¢Âà∞8082Á´ØÂè£Êó∂ËøîÂõûÊï∞ÊçÆÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìËΩÆËØ¢Âà∞ÊúçÂä°‰∏çÂèØÁî®Êó∂ÔºåËß¶Âèë‰∫ÜÁÜîÊñ≠Êú∫Âà∂ÔºåÊé•Âè£ÂõûË∞É‰∫ÜfallbackMethodÊåáÂÆöÁöÑÊñπÊ≥ï„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•Ê®°ÊãüÊúçÂä°Ë∂ÖÊó∂ÁöÑÊÉÖÂÜµÔºåÂèØ‰ª•Âú®Eureka-ClientÊèê‰æõÁöÑÊé•Âè£ÊñπÊ≥ï‰∏≠ËÆæÁΩÆÁ∫øÁ®ãÁ≠âÂæÖÔºåÁ≠âÂæÖÊó∂Èó¥Â§ß‰∫é2000ÔºàHystrixÈªòËÆ§Ë∂ÖÊó∂Êó∂Èó¥‰∏∫2000 ÊØ´ÁßíÔºâÂç≥ÂèØËß¶ÂèëË∞ÉÁî®ÊñπRibbon-ConsumerÁöÑÊúçÂä°ÁÜîÊñ≠„ÄÇ@HystrixCommandËØ¶Ëß£@HystrixCommandÊ≥®Ëß£ËøòÂåÖÂê´ËÆ∏Â§öÂà´ÁöÑÂ±ûÊÄßÂäüËÉΩÔºå‰∏ãÈù¢‰ªãÁªç‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÂ±ûÊÄßÈÖçÁΩÆ„ÄÇÊúçÂä°ÈôçÁ∫ß‰∏äÈù¢TestController‰∏≠ÁöÑgetUser‰∏≠Êàë‰ª¨Áî®@HystrixCommandÊ≥®Ëß£ÊåáÂÆö‰∫ÜÊúçÂä°ÈôçÁ∫ßÊñπÊ≥ïgetUserDefault„ÄÇÂ¶ÇÊûúgetUserDefaultÊñπÊ≥ï‰πüÊäõÂá∫ÂºÇÂ∏∏ÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂÜçÊ¨°‰ΩøÁî®@HystrixCommandÊ≥®Ëß£ÊåáÂÆögetUserDefaultÊñπÊ≥ïÈôçÁ∫ßÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇÂÆö‰πâ‰∏Ä‰∏™getUserDefault2ÊñπÊ≥ïÔºö12345678910111213141516171819@HystrixCommand(fallbackMethod = "getUserDefault2")public User getUserDefault(Long id) &#123; String a = null; // ÊµãËØïÊúçÂä°ÈôçÁ∫ß a.toString(); User user = new User(); user.setId(-1L); user.setUsername("defaultUser"); user.setPassword("123456"); return user;&#125;public User getUserDefault2(Long id) &#123; User user = new User(); user.setId(-2L); user.setUsername("defaultUser2"); user.setPassword("123456"); return user;&#125;ÈáçÂêØRibbon-ConsumerÔºåÂπ∂ÂÖ≥Èó≠8082Á´ØÂè£ÁöÑEureka ClientÊúçÂä°ÔºåËÆøÈóÆhttp://localhost:9000/user/1ÔºöÂºÇÂ∏∏Â§ÑÁêÜÂú®‰ΩøÁî®@HystrixCommandÊ≥®Ëß£Ê†áÊ≥®ÁöÑÊñπÊ≥ï‰∏≠ÔºåÈô§‰∫ÜHystrixBadRequestExceptionÂºÇÂ∏∏Â§ñÔºåÂà´ÁöÑÂºÇÂ∏∏ÈÉΩ‰ºöËß¶ÂèëÊúçÂä°ÈôçÁ∫ß„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÊÉ≥ÊåáÂÆöÊüê‰∏™ÂºÇÂ∏∏‰∏çËß¶ÂèëÊúçÂä°ÈôçÁ∫ßÔºåÂèØ‰ª•‰ΩøÁî®@HystrixCommandÊ≥®Ëß£ÁöÑignoreExceptionsÂ±ûÊÄßËøõË°åÂøΩÁï•„ÄÇÂ¶ÇÔºö123456789101112@HystrixCommand(fallbackMethod = "getUserDefault2", ignoreExceptions = &#123;NullPointerException.class&#125;)public User getUserDefault(Long id) &#123; String a = null; // ÊµãËØïÊúçÂä°ÈôçÁ∫ß a.toString(); User user = new User(); user.setId(-1L); user.setUsername("defaultUser"); user.setPassword("123456"); throw new HystrixBadRequestException() return user;&#125;Ê≠§Â§ñÔºåÂØπ‰∫éÊñπÊ≥ïÊäõÂá∫ÁöÑÂºÇÂ∏∏‰ø°ÊÅØÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÊúçÂä°ÈôçÁ∫ßÁöÑÊñπÊ≥ï‰∏≠‰ΩøÁî®ThrowableÂØπË±°Ëé∑ÂèñÔºåÂ¶ÇÔºö123456789@HystrixCommand(fallbackMethod = "getUserDefault2")public User getUserDefault(Long id, Throwable e) &#123; System.out.println(e.getMessage()); User user = new User(); user.setId(-2L); user.setUsername("defaultUser2"); user.setPassword("123456"); return user;&#125;ÂëΩÂêç‰∏éÂàÜÁªÑÈÄöËøáÊåáÂÆö@HystrixCommandÊ≥®Ëß£ÁöÑcommandKey„ÄÅgroupKey‰ª•ÂèäthreadPoolKeyÂ±ûÊÄßÂèØ‰ª•ËÆæÁΩÆÂëΩ‰ª§ÂêçÁß∞„ÄÅÂàÜÁªÑ‰ª•ÂèäÁ∫øÁ®ãÊ±†ÂàíÂàÜÔºåÂ¶ÇÔºö123456@HystrixCommand(fallbackMethod = "getUserDefault", commandKey = "getUserById", groupKey = "userGroup", threadPoolKey = "getUserThread")public User getUser(@PathVariable Long id) &#123; log.info("Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ"); return restTemplate.getForObject("http://Server-Provider/user/&#123;id&#125;", User.class, id);&#125;‰∏äÈù¢ÁöÑÈÖçÁΩÆÊåáÂÆö‰∫ÜÂëΩ‰ª§ÁöÑÂêçÁß∞‰∏∫getUserByIdÔºåÁªÑÂêç‰∏∫userGroupÔºåÁ∫øÁ®ãÊ±†ÂêçÁß∞‰∏∫getUserThread„ÄÇÈÄöËøáËÆæÁΩÆÂëΩ‰ª§ÁªÑÔºåHystrix‰ºöÊ†πÊçÆÁªÑÊù•ÁªÑÁªáÂíåÁªüËÆ°ÂëΩ‰ª§ÁöÑÂëäË≠¶„ÄÅ‰ª™Ë°®ÁõòÁ≠â‰ø°ÊÅØ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåHystrixÂëΩ‰ª§ÈÄöËøáÁªÑÂêçÊù•ÂàíÂàÜÁ∫øÁ®ãÊ±†ÔºåÂç≥ÁªÑÂêçÁõ∏ÂêåÁöÑÂëΩ‰ª§ÊîæÂà∞Âêå‰∏Ä‰∏™Á∫øÁ®ãÊ±†ÈáåÔºåÂ¶ÇÊûúÈÄöËøáthreadPoolKeyËÆæÁΩÆ‰∫ÜÁ∫øÁ®ãÊ±†ÂêçÁß∞ÔºåÂàôÊåâÁÖßÁ∫øÁ®ãÊ±†ÂêçÁß∞ÂàíÂàÜ„ÄÇÂΩìgetUserÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂ÔºåÊó•ÂøóÊâìÂç∞Â¶Ç‰∏ãÔºö12018-06-06 15:32:55.945 INFO 16192 --- [getUserThread-1] com.example.demo.Service.UserService : Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂèØÁúãÂà∞Á∫øÁ®ãÂêçÁß∞‰∏∫getUserThread-1„ÄÇHystrixÁºìÂ≠òÊàë‰ª¨Âú®Controller‰∏≠Ë∞ÉÁî®‰∏âÊ¨°getUserÊñπÊ≥ïÔºåÂèÇÊï∞ÈÉΩ‰∏∫1LÔºö12345678910111213@RestControllerpublic class TestController &#123; @Autowired private UserService userService; @GetMapping("testCache") public void testCache()&#123; userService.getUser(1L); userService.getUser(1L); userService.getUser(1L); &#125;&#125;ÂΩìËÆøÈóÆhttp://localhost:9000/testCacheÊó∂ÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö ÂºÄÂêØÁºìÂ≠òÂèØ‰ª•ËÆ©getUserÊñπÊ≥ïÂè™Ë¢´Ë∞ÉÁî®‰∏ÄÊ¨°ÔºåÂâ©‰∏ã‰∏§Ê¨°Áõ¥Êé•‰ªéÁºìÂ≠òÈáåËé∑Âèñ„ÄÇÂºÄÂêØÁºìÂ≠òË¶ÅÂú®Hystrix‰∏≠ÂºÄÂêØÁºìÂ≠òÂæàÁÆÄÂçïÔºåÂè™ÈúÄ‰ΩøÁî®@CacheResultÊ≥®Ëß£Âç≥ÂèØÔºå‰øÆÊîπUserServiceÁöÑgetUserÊñπÊ≥ïÔºö1234@CacheResultpublic User getUser(@PathVariable Long id) &#123; return restTemplate.getForObject("http://Server-Provider/user/&#123;id&#125;", User.class, id);&#125;ÈÄöËøá‰∏äÈù¢ÁöÑËÆæÂÆöÔºåHystrix‰ºöÂ∞ÜËøîÂõûÁöÑUserÂØπË±°ËøõË°åÁºìÂ≠òÔºåÁºìÂ≠òÁöÑkeyÈªòËÆ§‰∏∫ÊñπÊ≥ïÁöÑÊâÄÊúâÂèÇÊï∞ÔºåËøôÈáåÂè™Êúâ‰∏Ä‰∏™idÂèÇÊï∞ÔºåÊâÄ‰ª•ÁºìÂ≠òÁöÑkey‰∏∫Áî®Êà∑id„ÄÇËøôÈáåÂú®ÊµãËØïÁöÑÊó∂ÂÄôÈÅáÂà∞‰∏Ä‰∏™ÂºÇÂ∏∏Ôºöjava.lang.IllegalStateException: Request caching is not available. Maybe you need to initialize the HystrixRequestContext? at com.netflix.hystrix.HystrixRequestCache.get(HystrixRequestCache.java:104) ~[hystrix-core-1.5.12.jar:1.5.12] at com.netflix.hystrix.AbstractCommand$7.call(AbstractCommand.java:478) ~[hystrix-core-1.5.12.jar:1.5.12] at com.netflix.hystrix.AbstractCommand$7.call(AbstractCommand.java:454) ~[hystrix-core-1.5.12.jar:1.5.12] ‚Ä¶Âú®HystrixÁöÑissue‰∏≠ÊâæÂà∞‰∫ÜÁ±ª‰ººÁöÑÊèêÈóÆÔºöhttps://github.com/Netflix/Hystrix/issues/1314„ÄÇÂ§ßËá¥ÊÑèÊÄùÊòØÂú®‰ΩøÁî®HytrixÁºìÂ≠ò‰πãÂâçÔºåÈúÄË¶ÅÈÄöËøáHystrixRequestContext.initializeContextÂàùÂßãÂåñHystrixËØ∑Ê±Ç‰∏ä‰∏ãÊñáÔºåËØ∑Ê±ÇÁªìÊùü‰πãÂêéÈúÄË¶ÅË∞ÉÁî®shutdownÊñπÊ≥ïÂÖ≥Èó≠ËØ∑Ê±Ç„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ËøáÊª§Âô®Êù•ÂÆûÁé∞Ëøô‰∏™ËøáÁ®ãÔºö123456789101112131415161718@Component@WebFilter(filterName = "hystrixRequestContextServletFilter", urlPatterns = "/*", asyncSupported = true)public class HystrixRequestContextServletFilter implements Filter &#123; @Override public void init(FilterConfig filterConfig) &#123; &#125; @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; HystrixRequestContext context = HystrixRequestContext.initializeContext(); filterChain.doFilter(servletRequest, servletResponse); context.close(); &#125; @Override public void destroy() &#123; &#125;&#125;Âà∞ËøôÈáåÔºåÊàëÊâçÊÑèËØÜÂà∞ÔºåÂÖ∂ÂÆûHystrixÁöÑÁºìÂ≠òËøòÊòØËõÆÈ∏°ËÇãÁöÑÔºåËØ∑Ê±ÇÁºìÂ≠ò‰∏çÊòØÂè™ÂÜôÂÖ•‰∏ÄÊ¨°ÁªìÊûúÂ∞±‰∏çÂÜçÂèòÂåñÁöÑÔºåËÄåÊòØÊØèÊ¨°ËØ∑Ê±ÇÂà∞ËææControllerÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈÉΩÈúÄË¶Å‰∏∫HystrixRequestContextËøõË°åÂàùÂßãÂåñÔºå‰πãÂâçÁöÑÁºìÂ≠ò‰πüÂ∞±ÊòØ‰∏çÂ≠òÂú®‰∫ÜÔºåÊàë‰ª¨ÊòØÂú®Âêå‰∏Ä‰∏™ËØ∑Ê±Ç‰∏≠‰øùËØÅÁªìÊûúÁõ∏ÂêåÔºåÂêå‰∏ÄÊ¨°ËØ∑Ê±Ç‰∏≠ÁöÑÁ¨¨‰∏ÄÊ¨°ËÆøÈóÆÂêéÂØπÁªìÊûúËøõË°åÁºìÂ≠òÔºåÁºìÂ≠òÁöÑÁîüÂëΩÂë®ÊúüÂè™Êúâ‰∏ÄÊ¨°ËØ∑Ê±ÇÔºÅÊîπÈÄ†ÂÆåÊØïÂêéÔºåÈáçÂêØÈ°πÁõÆÂÜçÊ¨°ËÆøÈóÆhttp://localhost:9000/testCacheÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöËÆæÂÆökeyÂÄºÊàë‰ª¨‰πüÂèØ‰ª•ÊòéÁ°ÆÁöÑÊåáÂÆöÁºìÂ≠òÁöÑkeyÂÄºÊòØ‰ªÄ‰πà„ÄÇÊåáÂÆökeyÁöÑÂÄºÊúâ‰∏§ÁßçÊñπÂºèÔºöÈÄöËøá@CacheKeyÊ≥®Ëß£ÊåáÂÆöÔºåÂ¶ÇÔºö1234567@CacheResult@HystrixCommand(fallbackMethod = "getUserDefault", commandKey = "getUserById", groupKey = "userGroup", threadPoolKey = "getUserThread")public User getUser(@CacheKey("id") @PathVariable Long id) &#123; log.info("Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ"); return restTemplate.getForObject("http://Server-Provider/user/&#123;id&#125;", User.class, id);&#125;‰πüÂèØ‰ª•ÊåáÂÆöÂèÇÊï∞ÂØπË±°ÂÜÖÈÉ®Â±ûÊÄß‰∏∫keyÂÄºÔºö1234567@CacheResult@HystrixCommand(fallbackMethod = "getUserDefault", commandKey = "getUserById", groupKey = "userGroup", threadPoolKey = "getUserThread")public User getUser(@CacheKey("id") User user) &#123; log.info("Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ"); return restTemplate.getForObject("http://Server-Provider/user/&#123;id&#125;", User.class, user.getId());&#125;ÈÄöËøáÊñπÊ≥ïÊù•ÊåáÂÆöÔºåÊñπÊ≥ïÁöÑËøîÂõûÂÄºÂøÖÈ°ªÊòØStringÁ±ªÂûãÔºö1234567891011public String getCacheKey(Long id) &#123; return String.valueOf(id);&#125;@CacheResult(cacheKeyMethod = "getCacheKey")@HystrixCommand(fallbackMethod = "getUserDefault", commandKey = "getUserById", groupKey = "userGroup", threadPoolKey = "getUserThread")public User getUser(Long id) &#123; log.info("Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ"); return restTemplate.getForObject("http://Server-Provider/user/&#123;id&#125;", User.class, id);&#125;ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÊñπÊ≥ï2ÁöÑ‰ºòÂÖàÁ∫ßÊØîÊñπÊ≥ï1È´ò„ÄÇÁºìÂ≠òÊ∏ÖÈô§Âú®Ê∂âÂèäÂà∞Êõ¥Êñ∞User‰ø°ÊÅØÁöÑÊñπÊ≥ï‰∏äÔºåÊàë‰ª¨Ë¶ÅÂèäÊó∂ÁöÑÊ∏ÖÈô§Áõ∏Â∫îÁöÑÁºìÂ≠òÔºåÂê¶ÂàôÂ∞Ü‰ºöÂØºËá¥ÁºìÂ≠òÊï∞ÊçÆÂíåÂÆûÈôÖÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇÊàë‰ª¨Âú®UserServiceÁöÑupdateUserÊñπÊ≥ï‰∏äÂÅöÁºìÂ≠òÊ∏ÖÈô§Êìç‰ΩúÔºö12345@CacheRemove(commandKey = "getUserById")@HystrixCommandpublic void updateUser(@CacheKey("id") User user) &#123; this.restTemplate.put("http://Server-Provider/user", user);&#125;@CacheRemoveÁöÑcommandKeyÂ±ûÊÄßÂíågetUserÈáåÂÆö‰πâÁöÑ‰∏ÄËá¥„ÄÇËØ∑Ê±ÇÂêàÂπ∂ËØ∑Ê±ÇÂêàÂπ∂Â∞±ÊòØÂ∞ÜÂ§ö‰∏™Âçï‰∏™ËØ∑Ê±ÇÂêàÂπ∂Êàê‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÂéªË∞ÉÁî®ÊúçÂä°Êèê‰æõËÄÖÔºå‰ªéËÄåÈôç‰ΩéÊúçÂä°Êèê‰æõËÄÖË¥üËΩΩÁöÑÔºå‰∏ÄÁßçÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËß£ÂÜ≥ÂäûÊ≥ï„ÄÇHystrix‰∏≠Êèê‰æõ‰∫Ü‰∏Ä‰∏™@HystrixCollapserÊ≥®Ëß£ÔºåËØ•Ê≥®Ëß£ÂèØ‰ª•Â∞ÜÂ§Ñ‰∫é‰∏Ä‰∏™ÂæàÁü≠ÁöÑÊó∂Èó¥ÊÆµÔºàÈªòËÆ§10 ÊØ´ÁßíÔºâÂÜÖÂØπÂêå‰∏Ä‰æùËµñÊúçÂä°ÁöÑÂ§ö‰∏™ËØ∑Ê±ÇËøõË°åÊï¥ÂêàÂπ∂‰ª•ÊâπÈáèÊñπÂºèÂèëËµ∑ËØ∑Ê±Ç„ÄÇ‰∏∫‰∫ÜÊºîÁ§∫@HystrixCollapserÊ≥®Ëß£ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºåÊàë‰ª¨ÊîπÈÄ†‰∏ãEureka-ClientÔºàÊúçÂä°Êèê‰æõËÄÖÔºâÁöÑUserControllerÊé•Âè£ÔºåÊèê‰æõ‰∏Ä‰∏™ÊâπÈáèÂ§ÑÁêÜÁöÑÊñπÊ≥ïÔºö12345678910111213141516@RestController@RequestMapping("user")public class UserController &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @GetMapping("users") public List&lt;User&gt; get(String ids) &#123; log.info("ÊâπÈáèËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ"); List&lt;User&gt; list = new ArrayList&lt;&gt;(); for (String id : ids.split(",")) &#123; list.add(new User(Long.valueOf(id), "user" + id, "123456")); &#125; return list; &#125; ...&#125;ÁÑ∂ÂêéÂú®Ribbon-ConsumerÁöÑUserServiceÈáåÊ∑ªÂä†‰∏§‰∏™ÊñπÊ≥ïÔºö12345678910111213141516171819@HystrixCollapser(batchMethod = "findUserBatch", collapserProperties = &#123; @HystrixProperty(name = "timerDelayInMilliseconds", value = "100")&#125;)public Future&lt;User&gt; findUser(Long id) &#123; log.info("Ëé∑ÂèñÂçï‰∏™Áî®Êà∑‰ø°ÊÅØ"); return new AsyncResult&lt;User&gt;() &#123; @Override public User invoke() &#123; return restTemplate.getForObject("http://Server-Provider/user/&#123;id&#125;", User.class, id); &#125; &#125;;&#125;@HystrixCommandpublic List&lt;User&gt; findUserBatch(List&lt;Long&gt; ids) &#123; log.info("ÊâπÈáèËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ,ids: " + ids); User[] users = restTemplate.getForObject("http://Server-Provider/user/users?ids=&#123;1&#125;", User[].class, StringUtils.join(ids, ",")); return Arrays.asList(users);&#125;@HystrixCollapserÊ≥®Ëß£ÁöÑbatchMethodÂ±ûÊÄßÊåáÂÆö‰∫ÜÊâπÈáèÂ§ÑÁêÜÁöÑÊñπÊ≥ï‰∏∫‰∏ãÈù¢ÂÆö‰πâÁöÑfindUserBatchÊñπÊ≥ïÔºåtimerDelayInMillisecondsÁöÑÂÄº‰∏∫100ÔºàÊØ´ÁßíÔºâÔºåÊÑèÊÄùÊòØÂú®100ÊØ´ÁßíËøô‰∏™Êó∂Èó¥ËåÉÂõ¥ÂÜÖÁöÑÊâÄÊúâÂØπfindUserÁöÑË∞ÉÁî®ÔºåÈÉΩÂ∞ÜË¢´ÂêàÂπ∂‰∏∫‰∏Ä‰∏™ÊâπÈáèÂ§ÑÁêÜÊìç‰ΩúÔºåËøõË°åÊâπÈáèÂ§ÑÁêÜÊìç‰ΩúÁöÑÊñπÊ≥ïÂ∞±ÊòØfindUserBatch„ÄÇÊàë‰ª¨Âú®TestController‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÊµãËØïÊñπÊ≥ïÔºö123456789101112@GetMapping("testRequestMerge")public void testRequerstMerge() throws InterruptedException, ExecutionException &#123; Future&lt;User&gt; f1 = userService.findUser(1L); Future&lt;User&gt; f2 = userService.findUser(2L); Future&lt;User&gt; f3 = userService.findUser(3L); f1.get(); f2.get(); f3.get(); Thread.sleep(200); Future&lt;User&gt; f4 = userService.findUser(4L); f4.get();&#125;‰∏äÈù¢ÁöÑÊµãËØïÊñπÊ≥ï‰∏≠ÂØπfindUserÊñπÊ≥ïËøõË°å‰∫Ü4Ê¨°ÁöÑË∞ÉÁî®ÔºåÊúÄÂêé‰∏ÄÊ¨°Ë∞ÉÁî®Ôºàf4Ôºâ‰πãÂâçÂÖàËÆ©Á∫øÁ®ãÁ≠âÂæÖ200ÊØ´ÁßíÔºàÂ§ß‰∫étimerDelayInMilliseconds‰∏≠ÂÆö‰πâÁöÑ100ÊØ´ÁßíÔºâÔºåÊâÄ‰ª•Êàë‰ª¨ÁöÑÈ¢ÑÊúüÊòØÂâç‰∏âÊ¨°Ë∞ÉÁî®‰ºöË¢´ÂêàÂπ∂ÔºåËÄåÊúÄÂêé‰∏ÄÊ¨°Ë∞ÉÁî®‰∏ç‰ºöË¢´ÂêàÂπ∂ËøõÂéª„ÄÇÂêØÂä®Ribbon-ConsumerÔºåËÆøÈóÆhttp://localhost:9000/testRequestMerge,ÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåÊéßÂà∂Âè∞ÁöÑËæìÂá∫Á¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåf1„ÄÅf2Âíåf3Ë¢´ÂêàÂπ∂Êàê‰∫Ü‰∏Ä‰∏™ËØ∑Ê±Ç„ÄÇËÄå‰∏îÂèØ‰ª•ÁúãÂà∞ÔºåÊéßÂà∂Âè∞Âπ∂Ê≤°ÊúâÊâìÂç∞Âá∫findUserÊñπÊ≥ï‰∏≠ÁöÑËé∑ÂèñÂçï‰∏™Áî®Êà∑‰ø°ÊÅØÁöÑÊó•ÂøóÔºåÂÆûÈôÖ‰∏äfindUserÊñπÊ≥ïÂπ∂‰∏ç‰ºöË¢´Ë∞ÉÁî®ÔºåÊâÄ‰ª•‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÁÆÄÂåñ‰∏∫Ôºö1234567891011121314 @HystrixCollapser(batchMethod = "findUserBatch", collapserProperties = &#123; @HystrixProperty(name = "timerDelayInMilliseconds", value = "100")&#125;)public Future&lt;User&gt; findUser(Long id) &#123; log.info("Ëé∑ÂèñÂçï‰∏™Áî®Êà∑‰ø°ÊÅØ"); return null;&#125;@HystrixCommandpublic List&lt;User&gt; findUserBatch(List&lt;Long&gt; ids) &#123; log.info("ÊâπÈáèËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ,ids: " + ids); User[] users = restTemplate.getForObject("http://Server-Provider/user/users?ids=&#123;1&#125;", User[].class, StringUtils.join(ids, ",")); return Arrays.asList(users);&#125;ËôΩÁÑ∂ÈÄöËøáËØ∑Ê±ÇÁöÑÂêàÂπ∂ÂèØ‰ª•ÂáèËΩªÂ∏¶ÂÆΩÂíåÊúçÂä°ÁöÑÂéãÂäõÔºå‰ΩÜÂêàÂπ∂ËØ∑Ê±ÇÁöÑËøáÁ®ã‰πü‰ºöÂ∏¶Êù•È¢ùÂ§ñÁöÑÂºÄÈîÄ„ÄÇÂ∞±Êãø‰∏äÈù¢ÁöÑtestCacheÊù•ËØ¥ÔºåÊØîÂ¶ÇÊàë‰ª¨ÂØπÂçï‰∏™findUserÁöÑÊñπÊ≥ïË∞ÉÁî®ËÄóÊó∂5msÔºåÈÇ£‰πàË∞ÉÁî®4Ê¨°ËÄóÊó∂ÂèØ‰ª•Á≤óÁï•ÁöÑ‰º∞ÁÆó‰∏∫20ms„ÄÇÂΩìÊàë‰ª¨‰ΩøÁî®HystrixÁöÑËØ∑Ê±ÇÂêàÂπ∂ÂäüËÉΩÂêéÔºåÂâç3Ê¨°ËØ∑Ê±ÇÔºàf1„ÄÅf2Âíåf3ÔºâËøõË°å‰∫ÜÂêàÂπ∂ÔºåÁ¨¨4Ê¨°ËØ∑Ê±ÇÔºàf4ÔºâÊ≤°ÊúâËøõË°åÂêàÂπ∂ÔºåÈÇ£‰πàËÄóÊó∂ÂèØ‰ª•Á≤óÁï•ÁöÑ‰º∞ÁÆó‰∏∫3*5+100+5=120msÔºà100‰∏∫‰∏äÈù¢timerDelayInMilliseconds‰∏≠ÊåáÂÆöÁöÑÊó∂Èó¥ËåÉÂõ¥ÔºåÂú®ËØ•Êó∂Èó¥ÊÆµËøáÂêéÔºåÊâç‰ºöË∞ÉÁî®Á¨¨4Ê¨°ËØ∑Ê±ÇÔºâÔºåÁªìÊûúÊòéÊòæÊØîÂçïÁã¨Ë∞ÉÁî®4Ê¨°Êù•ÂæóÈ´ò„ÄÇÊâÄ‰ª•ÂÆûÈôÖ‰∏≠ÊòØÂê¶ËØ•‰ΩøÁî®HystrixÁöÑËØ∑Ê±ÇÂêàÂπ∂ÂäüËÉΩÔºåÈúÄÁªìÂêàÂÆûÈôÖÈúÄÊ±ÇËøõË°åÊäâÊã©„ÄÇHystrixÂ±ûÊÄßÈô§‰∫Ü‰∏äÈù¢Ê∂âÂèäÂà∞ÁöÑHystrixÂ±ûÊÄßÈÖçÁΩÆÂ§ñÔºåÂÖ∂ËøòÂåÖÂê´‰∫ÜÂ§ßÈáèÁöÑÂà´ÁöÑÂèØÁî®ÈÖçÁΩÆ„ÄÇÈÖçÁΩÆÂèØ‰ª•ÂàÜ‰∏∫Âõõ‰∏™Á∫ßÂà´Ôºå‰ºòÂÖàÁ∫ß‰ªé‰ΩéÂà∞È´òÂàÜÂà´‰∏∫ÔºöÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ„ÄÅÂÖ®Â±ÄÈÖçÁΩÆ„ÄÅÂÆû‰æãÈªòËÆ§ÂÄº„ÄÅÂÆû‰æãÈÖçÁΩÆ„ÄÇCommondexecutionexecution.isolation.strategyÔºö ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÊâßË°åÁöÑÈöîÁ¶ªÁ≠ñÁï•ÔºåÂÆÉÊúâÂ¶Ç‰∏ã‰∏§‰∏™ÈÄâÈ°π„ÄÇTHREAD: ÈÄöËøáÁ∫øÁ®ãÊ±†ÈöîÁ¶ªÁöÑÁ≠ñÁï•„ÄÇÂÆÉÂú®Áã¨Á´ãÁöÑÁ∫øÁ®ã‰∏äÊâßË°åÔºå Âπ∂‰∏îÂÆÉÁöÑÂπ∂ÂèëÈôêÂà∂ÂèóÁ∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊï∞ÈáèÁöÑÈôêÂà∂„ÄÇSEMAPHORE: ÈÄöËøá‰ø°Âè∑ÈáèÈöîÁ¶ªÁöÑÁ≠ñÁï•„ÄÇÂÆÉÂú®Ë∞ÉÁî®Á∫øÁ®ã‰∏äÊâßË°åÔºå Âπ∂‰∏îÂÆÉÁöÑÂπ∂ÂèëÈôêÂà∂Âèó‰ø°Âè∑ÈáèËÆ°Êï∞ÁöÑÈôêÂà∂„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆTHREADÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.execution.isolation.strategyÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùexecution.isolation.strategy‚Äù, value=‚ÄùTHREAD‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.execution.isolation.strategyÂÆû‰æãÈÖçÁΩÆ‰∏≠ÁöÑHystrixCommandKeyÂØπÂ∫î@HystrixCommandÊ≥®Ëß£‰∏≠commandKey Â±ûÊÄßÊåáÂÆöÁöÑÂÄº„ÄÇexecution.isolation.thread.timeoutinMillisecondsÔºö ËØ•Â±ûÊÄßÁî®Êù•ÈÖçÁΩÆHystrixCommandÊâßË°åÁöÑË∂ÖÊó∂Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´Áßí„ÄÇÂΩìHystrixCommandÊâßË°åÊó∂Èó¥Ë∂ÖËøáËØ•ÈÖçÁΩÆÂÄº‰πãÂêéÔºå Hystrix‰ºöÂ∞ÜËØ•ÊâßË°åÂëΩ‰ª§Ê†áËÆ∞‰∏∫TIMEOUTÂπ∂ËøõÂÖ•ÊúçÂä°ÈôçÁ∫ßÂ§ÑÁêÜÈÄªËæë„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ1000‰∫≥ÁßíÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.execution.isolation.thread. timeoutinMillisecondsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùexecution.isolation.thread.timeoutinMilliseconds‚Äù,value=‚Äù2000‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.execution.isolation.thread.timeoutinMillisecondsexecution.timeout.enabled: ËØ•Â±ûÊÄßÁî®Êù•ÈÖçÁΩÆHystrixCommandÁöÑÊâßË°åÊòØÂê¶ÂêØÁî®Ë∂ÖÊó∂Êó∂Èó¥„ÄÇÈªòËÆ§‰∏∫true, Â¶ÇÊûúËÆæÁΩÆ‰∏∫false, ÈÇ£‰πàexecution.isolation.thread.timeoutinMillisecondsÂ±ûÊÄßÁöÑÈÖçÁΩÆÂ∞Ü‰∏çÂÜçËµ∑‰ΩúÁî®„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆtrueÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.execution.timeout.enabledÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùexecution.timeout.enabled‚Äù, value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.execution.timeout.enabledexecution.isolation.thread.interruptOnTimeout: ËØ•Â±ûÊÄßÁî®Êù•ÈÖçÁΩÆÂΩìHystrixCommandÊâßË°åË∂ÖÊó∂ÁöÑÊó∂ÂÄôÊòØÂê¶Ë¶ÅÂ∞ÜÂÆÉ‰∏≠Êñ≠„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆtrueÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.execution.isolation.thread.interruptOnTimeoutÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùexecution.isolation.thread.interruptOnTimeout‚Äù,value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.execution.isolation.thread.interruptOnTimeoutexecution.isolation.thread.interruptOnCancel: ËØ•Â±ûÊÄßÁî®Êù•ÈÖçÁΩÆÂΩìHystrixCommandÊâßË°åË¢´ÂèñÊ∂àÁöÑÊó∂ÂÄôÊòØÂê¶Ë¶ÅÂ∞ÜÂÆÉ‰∏≠Êñ≠„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆtrueÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.execution.isolation.thread.interruptOnCancelÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùexecution.isolation.thread.interruptOnCancel‚Äù,value= ‚Äúfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.execution.isolation.thread.interruptOnCancelexecution.isolation.semaphore.maxConcurrentRequests: ÂΩìHystrixCommandÁöÑÈöîÁ¶ªÁ≠ñÁï•‰ΩøÁî®‰ø°Âè∑ÈáèÁöÑÊó∂ÂÄôÔºåËØ•Â±ûÊÄßÁî®Êù•ÈÖçÁΩÆ‰ø°Âè∑ÈáèÁöÑÂ§ßÂ∞èÔºàÂπ∂ÂèëËØ∑Ê±ÇÊï∞Ôºâ„ÄÇÂΩìÊúÄÂ§ßÂπ∂ÂèëËØ∑Ê±ÇÊï∞ËææÂà∞ËØ•ËÆæÁΩÆÂÄºÊó∂ÔºåÂêéÁª≠ÁöÑËØ∑Ê±ÇÂ∞Ü‰ºöË¢´ÊãíÁªù„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ10ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.execution.isolation.semaphore.maxConcurrentRequestsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùexecution.isolation.semaphore.maxConcurrentRequests‚Äù, value=‚Äù2‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.execution.isolation.semaphore.maxConcurrentRequestsfallbackfallback.enabled: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÊúçÂä°ÈôçÁ∫ßÁ≠ñÁï•ÊòØÂê¶ÂêØÁî®ÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫false,ÈÇ£‰πàÂΩìËØ∑Ê±ÇÂ§±Ë¥•ÊàñËÄÖÊãíÁªùÂèëÁîüÊó∂ÔºåÂ∞Ü‰∏ç‰ºöË∞ÉÁî®ÈôçÁ∫ßÊúçÂä°„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆtrueÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.fallback.enabledÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name= ‚Äúfallback.enabled‚Äù, value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.fallback.enabledcircuitBreakerÊñ≠Ë∑ØÂô®circuitBreaker.enabled: ËØ•Â±ûÊÄßÁî®Êù•Á°ÆÂÆöÂΩìÊúçÂä°ËØ∑Ê±ÇÂëΩ‰ª§Â§±Ë¥•Êó∂Ôºå ÊòØÂê¶‰ΩøÁî®Êñ≠Ë∑ØÂô®Êù•Ë∑üË∏™ÂÖ∂ÂÅ•Â∫∑ÊåáÊ†áÂíåÁÜîÊñ≠ËØ∑Ê±Ç„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆtrueÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.circuitBreaker.enabledÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùcircutBreaker.enabled‚Äù,value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.circuitBreaker.enabledcircuitBreaker.requestVolumeThreshold: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂú®ÊªöÂä®Êó∂Èó¥Á™ó‰∏≠ÔºåÊñ≠Ë∑ØÂô®ÁÜîÊñ≠ÁöÑÊúÄÂ∞èËØ∑Ê±ÇÊï∞„ÄÇ‰æãÂ¶ÇÔºåÈªòËÆ§ËØ•ÂÄº‰∏∫20 ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊªöÂä®Êó∂Èó¥Á™óÔºàÈªòËÆ§10ÁßíÔºâÂÜÖ‰ªÖÊî∂Âà∞‰∫Ü19‰∏™ËØ∑Ê±ÇÔºå Âç≥‰ΩøËøô19‰∏™ËØ∑Ê±ÇÈÉΩÂ§±Ë¥•‰∫ÜÔºåÊñ≠Ë∑ØÂô®‰πü‰∏ç‰ºöÊâìÂºÄ„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ20ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.circuitBreaker.requestVolumeThresholdÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùcircuitBreaker.requestVolumeThreshold‚Äù, value=‚Äù30‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.comrnand.HystrixComrnandKey.circuitBreaker.requestVolumeThresholdcircuitBreaker.sleepWindowinMilliseconds: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂΩìÊñ≠Ë∑ØÂô®ÊâìÂºÄ‰πãÂêéÁöÑ‰ºëÁú†Êó∂Èó¥Á™ó„ÄÇ‰ºëÁú†Êó∂Èó¥Á™óÁªìÊùü‰πãÂêéÔºå‰ºöÂ∞ÜÊñ≠Ë∑ØÂô®ÁΩÆ‰∏∫‚ÄúÂçäÂºÄ‚Äù Áä∂ÊÄÅÔºå Â∞ùËØïÁÜîÊñ≠ÁöÑËØ∑Ê±ÇÂëΩ‰ª§ÔºåÂ¶ÇÊûú‰æùÁÑ∂Â§±Ë¥•Â∞±Â∞ÜÊñ≠Ë∑ØÂô®ÁªßÁª≠ËÆæÁΩÆ‰∏∫‚ÄúÊâìÂºÄ‚Äù Áä∂ÊÄÅÔºåÂ¶ÇÊûúÊàêÂäüÂ∞±ËÆæÁΩÆ‰∏∫‚ÄúÂÖ≥Èó≠‚Äù Áä∂ÊÄÅ„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ5000ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.circuitBreaker.sleepWindowinMillisecondsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùcircuitBreaker.sleepWindowinMilliseconds‚Äù,value=‚Äù3000‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.circuitBreaker.sleepWindowinMillisecondscircuitBreaker.errorThresholdPercentage: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÊñ≠Ë∑ØÂô®ÊâìÂºÄÁöÑÈîôËØØÁôæÂàÜÊØîÊù°‰ª∂„ÄÇ‰æãÂ¶ÇÔºåÈªòËÆ§ÂÄº‰∏∫5000 ÁöÑÊÉÖÂÜµ‰∏ãÔºåË°®Á§∫Âú®ÊªöÂä®Êó∂Èó¥Á™ó‰∏≠ÔºåÂú®ËØ∑Ê±ÇÊï∞ÈáèË∂ÖËøácircuitBreaker.requestVolumeThresholdÈòÖÂÄºÁöÑÂâçÊèê‰∏ãÔºåÂ¶ÇÊûúÈîôËØØËØ∑Ê±ÇÊï∞ÁöÑÁôæÂàÜÊØîË∂ÖËøá50, Â∞±ÊääÊñ≠Ë∑ØÂô®ËÆæÁΩÆ‰∏∫‚ÄúÊâìÂºÄ‚Äù Áä∂ÊÄÅÔºå Âê¶ÂàôÂ∞±ËÆæÁΩÆ‰∏∫‚ÄúÂÖ≥Èó≠‚Äù Áä∂ÊÄÅ„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ50ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.circuitBreaker.errorThresholdPercentageÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùcircuitBreaker.errorThresholdPercentage‚Äù, value=‚Äù40‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.circuitBreaker.errorThresholdPercentagecircuitBreaker.forceOpen: Â¶ÇÊûúÂ∞ÜËØ•Â±ûÊÄßËÆæÁΩÆ‰∏∫true, Êñ≠Ë∑ØÂô®Â∞ÜÂº∫Âà∂ËøõÂÖ•‚ÄúÊâìÂºÄ‚Äù Áä∂ÊÄÅÔºåÂÆÉ‰ºöÊãíÁªùÊâÄÊúâËØ∑Ê±Ç„ÄÇËØ•Â±ûÊÄß‰ºòÂÖà‰∫écircuitBreaker.forceClosedÂ±ûÊÄß„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆfalseÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.circuitBreaker.forceOpenÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty (name=‚ÄùcircuitBreaker.forceOpen‚Äù, value=‚Äùtrue‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.circuitBreaker.forceOpencircuitBreaker.forceClosed: Â¶ÇÊûúÂ∞ÜËØ•Â±ûÊÄßËÆæÁΩÆ‰∏∫true, Êñ≠Ë∑ØÂô®Â∞ÜÂº∫Âà∂ËøõÂÖ•‚ÄúÂÖ≥Èó≠‚Äù Áä∂ÊÄÅÔºå ÂÆÉ‰ºöÊé•Êî∂ÊâÄÊúâËØ∑Ê±Ç„ÄÇÂ¶ÇÊûúcircuitBreaker.forceOpenÂ±ûÊÄß‰∏∫true, ËØ•Â±ûÊÄß‰∏ç‰ºöÁîüÊïà„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆfalseÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.circuitBreaker.forceClosedÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùcircui‰∏ÉBreaker.forceClosed‚Äù, value=‚Äùtrue‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.comrnand.HystrixComrnandKey.circuitBreaker.forceClosedmetricsÈÖçÁΩÆËØ•ÈÖçÁΩÆ‰∏éHystrixCommandÊâßË°å‰∏≠ÊçïËé∑ÁöÑÊåáÊ†á‰ø°ÊÅØÊúâÂÖ≥„ÄÇmetrics.rollingStats.timeinMilliseconds: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÊªöÂä®Êó∂Èó¥Á™óÁöÑÈïøÂ∫¶Ôºå Âçï‰Ωç‰∏∫ÊØ´Áßí„ÄÇËØ•Êó∂Èó¥Áî®‰∫éÊñ≠Ë∑ØÂô®Âà§Êñ≠ÂÅ•Â∫∑Â∫¶Êó∂ÈúÄË¶ÅÊî∂ÈõÜ‰ø°ÊÅØÁöÑÊåÅÁª≠Êó∂Èó¥„ÄÇÊñ≠Ë∑ØÂô®Âú®Êî∂ÈõÜÊåáÊ†á‰ø°ÊÅØÁöÑÊó∂ÂÄô‰ºöÊ†πÊçÆËÆæÁΩÆÁöÑÊó∂Èó¥Á™óÈïøÂ∫¶ÊãÜÂàÜÊàêÂ§ö‰∏™‚ÄúÊ°∂‚Äù Êù•Á¥ØËÆ°ÂêÑÂ∫¶ÈáèÂÄºÔºåÊØè‰∏™‚ÄúÊ°∂‚Äù ËÆ∞ÂΩï‰∫Ü‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÁöÑÈááÈõÜÊåáÊ†á„ÄÇ‰æãÂ¶ÇÔºåÂΩìÈááÁî®ÈªòËÆ§ÂÄº10000ÊØ´ÁßíÊó∂Ôºå Êñ≠Ë∑ØÂô®ÈªòËÆ§Â∞ÜÂÖ∂ÊãÜÂàÜÊàê10‰∏™Ê°∂ÔºàÊ°∂ÁöÑÊï∞Èáè‰πüÂèØÈÄöËøámetrics.rollingStats.numBucketsÂèÇÊï∞ËÆæÁΩÆÔºâÔºåÊØè‰∏™Ê°∂ËÆ∞ÂΩï1000ÊØ´ÁßíÂÜÖÁöÑÊåáÊ†á‰ø°ÊÅØ„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ10000ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.metrics.rollingStats.timeinMillisecondsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùmetrics.rollingStats.timeinMilliseconds‚Äù,value=‚Äù20000‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.metrics.rollingStats.timeinMillisecondsmetrics.rollingstats.numBuckets: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÊªöÂä®Êó∂Èó¥Á™óÁªüËÆ°ÊåáÊ†á‰ø°ÊÅØÊó∂ÂàíÂàÜ‚ÄúÊ°∂‚Äù ÁöÑÊï∞Èáè„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ10ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.metrics.rollingStats.numBucketsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùmetrics.rollingStats.numBuckets‚Äù,value=‚Äù20‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.comrnand.HystrixComrnandKey.metrics.rollingStats.numBucketsmetrics.rollingPercentile.enabled: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂØπÂëΩ‰ª§ÊâßË°åÁöÑÂª∂ËøüÊòØÂê¶‰ΩøÁî®ÁôæÂàÜ‰ΩçÊï∞Êù•Ë∑üË∏™ÂíåËÆ°ÁÆó„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∏∫falseÔºåÈÇ£‰πàÊâÄÊúâÁöÑÊ¶ÇË¶ÅÁªüËÆ°ÈÉΩÂ∞ÜËøîÂõû-1„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆtrueÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.metrics.rollingPercentile.enabledÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùmetrics.rollingPercentile.enabled‚Äù, value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.metrics.rollingPercentile.enabledmetrics.rollingPercentile.timeinMilliseconds: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÁôæÂàÜ‰ΩçÁªüËÆ°ÁöÑÊªöÂä®Á™óÂè£ÁöÑÊåÅÁª≠Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´Áßí„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ60000ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.metrics.rollingPercentile.timeinMillisecondsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùmetrics.rollingPercentile.timeinMilliseconds‚Äù, value=‚Äù50000‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.metrics.rollingPercentile.timeinMillisecondsmetrics.rollingPercentile.numBuckets: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÁôæÂàÜ‰ΩçÁªüËÆ°ÊªöÂä®Á™óÂè£‰∏≠‰ΩøÁî®‚ÄúÊ°∂‚ÄùÁöÑÊï∞Èáè„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ6ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.metrics.rollingPercentile.numBucketsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùmetrics.rollingPercentilee.numBuckets‚Äù,value=‚Äù5‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.metrics.rollingPercentile.numBucketsmetrics.rollingPercentile.bucketSize: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂú®ÊâßË°åËøáÁ®ã‰∏≠ÊØè‰∏™‚ÄúÊ°∂‚Äù ‰∏≠‰øùÁïôÁöÑÊúÄÂ§ßÊâßË°åÊ¨°Êï∞„ÄÇÂ¶ÇÊûúÂú®ÊªöÂä®Êó∂Èó¥Á™óÂÜÖÂèëÁîüË∂ÖËøáËØ•ËÆæÂÆöÂÄºÁöÑÊâßË°åÊ¨°Êï∞ÔºåÂ∞±‰ªéÊúÄÂàùÁöÑ‰ΩçÁΩÆÂºÄÂßãÈáçÂÜô„ÄÇ‰æãÂ¶ÇÔºåÂ∞ÜËØ•ÂÄºËÆæÁΩÆ‰∏∫100, ÊªöÂä®Á™óÂè£‰∏∫10ÁßíÔºåËã•Âú®10ÁßíÂÜÖ‰∏Ä‰∏™‚ÄúÊ°∂‚Äù‰∏≠ÂèëÁîü‰∫Ü500Ê¨°ÊâßË°åÔºåÈÇ£‰πàËØ•‚ÄúÊ°∂‚Äù‰∏≠Âè™‰øùÁïôÊúÄÂêéÁöÑ100Ê¨°ÊâßË°åÁöÑÁªüËÆ°„ÄÇÂè¶Â§ñÔºåÂ¢ûÂä†ËØ•ÂÄºÁöÑÂ§ßÂ∞èÂ∞Ü‰ºöÂ¢ûÂä†ÂÜÖÂ≠òÈáèÁöÑÊ∂àËÄóÔºåÂπ∂Â¢ûÂä†ÊéíÂ∫èÁôæÂàÜ‰ΩçÊï∞ÊâÄÈúÄÁöÑËÆ°ÁÆóÊó∂Èó¥„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ100ÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.metrics.rollingPercentile.bucketSizeÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùmetrics.rollingPercentile.bucketSize‚Äù,value= ‚Äú120‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.metrics.rollingPercentile.bucketSizemetrics.healthSnapshot.intervalinMilliseconds: ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÈááÈõÜÂΩ±ÂìçÊñ≠Ë∑ØÂô®Áä∂ÊÄÅÁöÑÂÅ•Â∫∑Âø´ÁÖßÔºàËØ∑Ê±ÇÁöÑÊàêÂäü„ÄÅÈîôËØØÁôæÂàÜÊØîÔºâÁöÑÈó¥ÈöîÁ≠âÂæÖÊó∂Èó¥„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ500ÂÖ®Â±ÄÈÖçÁΩÆhystrix.comrnand.default.metrics.healthSnapshot.intervalinMillisecondsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚Äùmetrics.healthSnapshot.intervalinMilliseconds‚Äù,value=‚Äù600‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.metrics.healthSnapshot.intervalinMillisecondsrequestContextrequestCache.enabled: Ê≠§Â±ûÊÄßÁî®Êù•ÈÖçÁΩÆÊòØÂê¶ÂºÄÂêØËØ∑Ê±ÇÁºìÂ≠ò„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆtrueÂÖ®Â±ÄÈÖçÁΩÆhystrix.command.default.requestCache.enabledÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùrequestCache.enabled‚Äù, value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.command.HystrixCommandKey.requestCache.enabledcollapsermaxRequestsinBatch: ËØ•ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆ‰∏ÄÊ¨°ËØ∑Ê±ÇÂêàÂπ∂ÊâπÂ§ÑÁêÜ‰∏≠ÂÖÅËÆ∏ÁöÑÊúÄÂ§ßËØ∑Ê±ÇÊï∞„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆInteger.MAX_VALUEÂÖ®Â±ÄÈÖçÁΩÆhystrix.collapser.default.maxRequestsinBatchÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùmaxRequestsinBatch‚Äù,value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.collapser.HystrixCollapserKey.maxRequestsinBatchtimerDelayinMilliseconds: ËØ•ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆÊâπÂ§ÑÁêÜËøáÁ®ã‰∏≠ÊØè‰∏™ÂëΩ‰ª§Âª∂ËøüÁöÑÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´Áßí„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ10ÂÖ®Â±ÄÈÖçÁΩÆhystrix.collapser.default.timerDelayinMillisecondsÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùtimerDelayinMilliseconds‚Äù,value=‚Äù20‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.collapser.HystrixCollapserKey.timerDelayinMillisecondsrequest Cache.enabled: ËØ•ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆÊâπÂ§ÑÁêÜËøáÁ®ã‰∏≠ÊòØÂê¶ÂºÄÂêØËØ∑Ê±ÇÁºìÂ≠ò„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆtrueÂÖ®Â±ÄÈÖçÁΩÆhystrix.collapser.default.requestCache.enabledÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùrequestCache.enabled‚Äù, value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.collapser.HystrixCollapserKey.requestCache.enabledthreadPoolcoreSize: ËØ•ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆÊâßË°åÂëΩ‰ª§Á∫øÁ®ãÊ±†ÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ÔºåËØ•ÂÄº‰πüÂ∞±ÊòØÂëΩ‰ª§ÊâßË°åÁöÑÊúÄÂ§ßÂπ∂ÂèëÈáè„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ10ÂÖ®Â±ÄÈÖçÁΩÆhystrix.threadpool.default.coreSizeÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùcoreSize‚Äù, value=‚Äùfalse‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.threadpool.HystrixThreadPoolKey.coreSizemaxQueueSize: ËØ•ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆÁ∫øÁ®ãÊ±†ÁöÑÊúÄÂ§ßÈòüÂàóÂ§ßÂ∞è„ÄÇÂΩìËÆæÁΩÆ‰∏∫-1Êó∂ÔºåÁ∫øÁ®ãÊ±†Â∞Ü‰ΩøÁî®SynchronousQueueÂÆûÁé∞ÁöÑÈòüÂàóÔºåÂê¶ÂàôÂ∞Ü‰ΩøÁî®LinkedBlockingQueueÂÆûÁé∞ÁöÑÈòüÂàó„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ-1ÂÖ®Â±ÄÈÖçÁΩÆhystrix.threadpool.default.maxQueueSizeÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùmaxQueueSize‚Äù,value=‚ÄùlO‚Äù)ÂÆû‰æãÈÖçÁΩÆhystrix.threadpool.HystrixThreadPoolKey.maxQueueSizequeueSizeRejectionThreshold: ËØ•ÂèÇÊï∞Áî®Êù•‰∏∫ÈòüÂàóËÆæÁΩÆÊãíÁªùÈòàÂÄº„ÄÇÈÄöËøáËØ•ÂèÇÊï∞ÔºåÂç≥‰ΩøÈòüÂàóÊ≤°ÊúâËææÂà∞ÊúÄÂ§ßÂÄº‰πüËÉΩÊãíÁªùËØ∑Ê±Ç„ÄÇËØ•ÂèÇÊï∞‰∏ªË¶ÅÊòØÂØπLinkedBlockingQueueÈòüÂàóÁöÑË°•ÂÖÖÔºå Âõ†‰∏∫LinkedBlockingQueueÈòüÂàó‰∏çËÉΩÂä®ÊÄÅ‰øÆÊîπÂÆÉÁöÑÂØπË±°Â§ßÂ∞èÔºåËÄåÈÄöËøáËØ•Â±ûÊÄßÂ∞±ÂèØ‰ª•Ë∞ÉÊï¥ÊãíÁªùËØ∑Ê±ÇÁöÑÈòüÂàóÂ§ßÂ∞è‰∫Ü„ÄÇÂ±ûÊÄßÁ∫ßÂà´ÈªòËÆ§ÂÄº„ÄÅÈÖçÁΩÆÊñπÂºè„ÄÅÈÖçÁΩÆÂ±ûÊÄßÂÖ®Â±ÄÈªòËÆ§ÈÖçÁΩÆ5ÂÖ®Â±ÄÈÖçÁΩÆhystrix.threadpool.default.queueSizeRejectionThresholdÂÆû‰æãÈªòËÆ§ÂÄº@HystrixProperty(name=‚ÄùqueueSizeRejectionThreshold‚Äù, value=‚ÄùlO‚ÄùÂÆû‰æãÈÖçÁΩÆhystrix.threadpool.HystrixThreadPoolKey.queueSizeRejectionThreshold‰∏çÂæó‰∏çËØ¥ÔºåÈÖçÁΩÆÊòØÁúüÁöÑÂ§ö‚Ä¶‚Ä¶Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/30.Spring-Cloud-Hystrix-Circuit-BreakerÂèÇËÄÉÊñáÁ´† „ÄäSpring CloudÂæÆÊúçÂä°ÂÆûÊàò„Äã]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
        <tag>Hystrix</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud RibbonÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°]]></title>
    <url>%2FSpring-Cloud-Ribbon-LoadBalance.html</url>
    <content type="text"><![CDATA[‰∏∫‰∫ÜÊèêÈ´òÊúçÂä°ÁöÑÂèØÁî®ÊÄßÔºåÊàë‰ª¨‰∏ÄËà¨‰ºöÂ∞ÜÁõ∏ÂêåÁöÑÊúçÂä°ÈÉ®ÁΩ≤Â§ö‰∏™ÂÆû‰æãÔºåË¥üËΩΩÂùáË°°ÁöÑ‰ΩúÁî®Â∞±ÊòØ‰ΩøËé∑ÂèñÊúçÂä°ÁöÑËØ∑Ê±ÇË¢´ÂùáË°°ÁöÑÂàÜÈÖçÂà∞ÂêÑ‰∏™ÂÆû‰æã‰∏≠„ÄÇË¥üËΩΩÂùáË°°‰∏ÄËà¨ÂàÜ‰∏∫ÊúçÂä°Á´ØË¥üËΩΩÂùáË°°ÂíåÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°ÔºåÊúçÂä°Á´ØÁöÑË¥üËΩΩÂùáË°°ÈÄöËøáÁ°¨‰ª∂ÔºàÂ¶ÇF5ÔºâÊàñËÄÖËΩØ‰ª∂ÔºàÂ¶ÇNginxÔºâÊù•ÂÆûÁé∞ÔºåËÄåRibbonÂÆûÁé∞ÁöÑÊòØÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°„ÄÇÊúçÂä°Á´ØË¥üËΩΩÂùáË°°ÊòØÂú®Á°¨‰ª∂ËÆæÂ§áÊàñËÄÖËΩØ‰ª∂Ê®°Âùó‰∏≠Áª¥Êä§‰∏Ä‰ªΩÂèØÁî®ÊúçÂä°Ê∏ÖÂçïÔºåÁÑ∂ÂêéÂÆ¢Êà∑Á´ØÂèëÈÄÅÊúçÂä°ËØ∑Ê±ÇÂà∞Ëøô‰∫õË¥üËΩΩÂùáË°°ÁöÑËÆæÂ§á‰∏äÔºåËøô‰∫õËÆæÂ§áÊ†πÊçÆ‰∏Ä‰∫õÁÆóÊ≥ïÂùáË°°ÁöÑÂ∞ÜËØ∑Ê±ÇËΩ¨ÂèëÂá∫Âéª„ÄÇËÄåÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°ÂàôÊòØÂÆ¢Êà∑Á´ØËá™Â∑±‰ªéÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÔºàÂ¶Ç‰πãÂâçÊèêÂà∞ÁöÑEureka ServerÔºâ‰∏≠Ëé∑ÂèñÊúçÂä°Ê∏ÖÂçïÁºìÂ≠òÂà∞Êú¨Âú∞ÔºåÁÑ∂ÂêéÈÄöËøáRibbonÂÜÖÈÉ®ÁÆóÊ≥ïÂùáË°°ÁöÑÂéªËÆøÈóÆËøô‰∫õÊúçÂä°„ÄÇRibbonÁÆÄ‰ªãRibbonÊòØÁî±NetflixÂºÄÂèëÁöÑ‰∏ÄÊ¨æÂü∫‰∫éHTTPÂíåTCPÁöÑË¥üËΩΩÂùáË°°ÁöÑÂºÄÊ∫êËΩØ‰ª∂„ÄÇÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÁªôRibbonÈÖçÁΩÆÂ•ΩÊúçÂä°ÂàóË°®Ê∏ÖÂçïÔºå‰πüÂèØ‰ª•ÈÖçÂêàEureka‰∏ªÂä®ÁöÑÂéªËé∑ÂèñÊúçÂä°Ê∏ÖÂçïÔºåÈúÄË¶Å‰ΩøÁî®Âà∞Ëøô‰∫õÊúçÂä°ÁöÑÊó∂ÂÄôRibbonÈÄöËøáËΩÆËØ¢ÊàñËÄÖÈöèÊú∫Á≠âÂùáË°°ÁÆóÊ≥ïÂéªËé∑ÂèñÊúçÂä°„ÄÇÂú®Spring Cloud EurekaÊúçÂä°Ê≤ªÁêÜ‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨Â∑≤ÁªèÂú®Server-Consumer‰∏≠ÈÖçÁΩÆ‰∫ÜRibbonÔºåÂπ∂ÈÄöËøáÂä†‰∫Ü@LoadBalancedÊ≥®Ëß£ÁöÑRestTemplateÂØπË±°ÂéªÂùáË°°ÁöÑÊ∂àË¥πÊúçÂä°ÔºåÊâÄ‰ª•ËøôËäÇ‰∏ªË¶ÅËÆ∞ÂΩïÁöÑÊòØRestTemplateÁöÑËØ¶ÁªÜ‰ΩøÁî®ÊñπÊ≥ïÂíå‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑRibbonÈÖçÁΩÆ„ÄÇRestTemplateËØ¶Ëß£‰ªéÂêçÁß∞‰∏äÊù•ÁúãÂ∞±ÂèØ‰ª•Áü•ÈÅìÂÆÉÊòØ‰∏Ä‰∏™Áî®Êù•ÂèëÈÄÅRESTËØ∑Ê±ÇÁöÑÊë∏ÊùøÔºåÊâÄ‰ª•ÂåÖÂê´‰∫ÜGET,POST,PUT,DELETEÁ≠âHTTP MethodÂØπÂ∫îÁöÑÊñπÊ≥ï„ÄÇÂèëÈÄÅGetËØ∑Ê±ÇRestTemplate‰∏≠‰∏éGETËØ∑Ê±ÇÂØπÂ∫îÁöÑÊñπÊ≥ïÊúâgetForEntityÂíågetForObject„ÄÇgetForEntitygetForEntityÊñπÊ≥ïËøîÂõûResponseEntityÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∫ÜËøîÂõûÊä•ÊñáÂ§¥ÔºåÊä•Êñá‰ΩìÂíåÁä∂ÊÄÅÁ†ÅÁ≠â‰ø°ÊÅØ„ÄÇgetForEntityÊúâ‰∏â‰∏™ÈáçËΩΩÊñπÊ≥ïÔºögetForEntity(String url, Class&lt;T&gt; responseType, Object... uriVariables)ÔºõgetForEntity(String url, Class&lt;T&gt; responseType, Map&lt;String, ?&gt; uriVariables)ÔºõgetForEntity(URI url, Class&lt;T&gt; responseType)ÔºõÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫UrlÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ËøîÂõûÂÄºÁöÑÁ±ªÂûãÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞‰∏∫ËØ∑Ê±ÇÁöÑÂèÇÊï∞ÔºàÂèØ‰ª•ÊòØÊï∞ÁªÑÔºå‰πüÂèØ‰ª•ÊòØMapÔºâ„ÄÇ‰∏æ‰∏™getForEntity(String url, Class&lt;T&gt; responseType, Object... uriVariables)ÁöÑ‰ΩøÁî®‰æãÂ≠êÔºö1234@GetMapping("user/&#123;id:\\d+&#125;")public User getUser(@PathVariable Long id) &#123; return this.restTemplate.getForEntity("http://Server-Provider/user/&#123;name&#125;", User.class, id).getBody();&#125;{1}‰∏∫ÂèÇÊï∞ÁöÑÂç†‰ΩçÁ¨¶ÔºåÂåπÈÖçÂèÇÊï∞Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇÂõ†‰∏∫Á¨¨‰∫å‰∏™ÂèÇÊï∞ÊåáÂÆö‰∫ÜÁ±ªÂûã‰∏∫UserÔºåÊâÄ‰ª•Ë∞ÉÁî®getBodyÊñπÊ≥ïËøîÂõûÁ±ªÂûã‰πü‰∏∫User„ÄÇÊñπÊ≥ïÂèÇÊï∞Èô§‰∫ÜÂèØ‰ª•ÊîæÂú®Êï∞ÁªÑÈáåÂ§ñÔºå‰πüÂèØ‰ª•ÊîæÂú®MapÈáåÔºå‰∏æ‰∏™getForEntity(String url, Class&lt;T&gt; responseType, Map&lt;String, ?&gt; uriVariables)‰ΩøÁî®‰æãÂ≠êÔºö123456@GetMapping("user/&#123;id:\\d+&#125;")public User getUser(@PathVariable Long id) &#123; Map&lt;String, Object&gt; params = new HashMap&lt;&gt;(); params.put("id", id); return this.restTemplate.getForEntity("http://Server-Provider/user/&#123;id&#125;", User.class, params).getBody();&#125;Âè™Êúâ‰∏§‰∏™ÂèÇÊï∞ÁöÑÈáçËΩΩÊñπÊ≥ïgetForEntity(URI url, Class&lt;T&gt; responseType)Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Êé•Êî∂java.net.URIÁ±ªÂûãÔºåÂèØ‰ª•ÈÄöËøáorg.springframework.web.util.UriComponentsBuilderÊù•ÂàõÂª∫Ôºå‰∏æ‰∏™ËØ•ÊñπÊ≥ïÁöÑ‰ΩøÁî®‰æãÂ≠êÔºö12345678@GetMapping("user/&#123;id:\\d+&#125;")public User getUser(@PathVariable Long id) &#123; Map&lt;String, Object&gt; params = new HashMap&lt;&gt;(); params.put("id", id); URI uri = UriComponentsBuilder.fromUriString("http://Server-Provider/user/&#123;id&#125;") .build().expand(params).encode().toUri(); return this.restTemplate.getForEntity(uri, User.class).getBody();&#125;ÂÖ∂‰∏≠expandÊñπÊ≥ï‰πüÂèØ‰ª•Êé•Êî∂Êï∞ÁªÑÂíåMap‰∏§ÁßçÁ±ªÂûãÁöÑÂèÇÊï∞„ÄÇgetForObjectgetForObjectÊñπÊ≥ïÂíågetForEntityÊñπÊ≥ïÁ±ª‰ººÔºågetForObjectÊñπÊ≥ïÁõ∏ÂΩì‰∫égetForEntityÊñπÊ≥ïË∞ÉÁî®‰∫ÜgetBodyÊñπÊ≥ïÔºåÁõ¥Êé•ËøîÂõûÁªìÊûúÂØπË±°Ôºå‰∏∫‰∏çÊòØResponseEntityÂØπË±°„ÄÇgetForObjectÊñπÊ≥ïÂíågetForEntityÊñπÊ≥ï‰∏ÄÊ†∑Ôºå‰πüÊúâ‰∏â‰∏™ÈáçËΩΩÊñπÊ≥ïÔºåÂèÇÊï∞Á±ªÂûãÂíågetForEntityÊñπÊ≥ï‰∏ÄËá¥ÔºåÊâÄ‰ª•‰∏çÂÜçÂàóÂá∫„ÄÇÂèëÈÄÅPOSTËØ∑Ê±Ç‰ΩøÁî®RestTemplateÂèëÈÄÅPOSTËØ∑Ê±Ç‰∏ªË¶ÅÊúâpostForEntityÔºåpostForObjectÂíåpostForLocationÔºàËøô‰∏™ÁõÆÂâçËæÉÂ∞ë‰ΩøÁî®ÔºåÊâÄ‰ª•‰∏çÂÅö‰ªãÁªçÔºâ‰∏â‰∏™ÊñπÊ≥ï„ÄÇpostForEntityÂíåpostForObject‰πüÂàÜÂà´Êúâ‰∏â‰∏™ÈáçËΩΩÊñπÊ≥ïÔºåÊñπÊ≥ïÂèÇÊï∞Âíå‰ΩøÁî®ÊñπÂºèÂíå‰∏äÈù¢‰ªãÁªçÁöÑgetForEntityÂíågetForObject‰∏ÄÊ†∑ÔºåÊâÄ‰ª•‰∏çÂÜçËØ¶ÁªÜ‰ªãÁªç„ÄÇÁÆÄÂçï‰∏æ‰∏™getForObjectÁöÑ‰ΩøÁî®‰æãÂ≠êÔºö1234 @GetMapping("user")public List&lt;User&gt; getUsers() &#123; return this.restTemplate.getForObject("http://Server-Provider/user", List.class);&#125;ÂèëÈÄÅPUTËØ∑Ê±Ç‰ΩøÁî®RestTemplateÂèëÈÄÅPUTËØ∑Ê±ÇÔºå‰ΩøÁî®ÁöÑÊòØÂÆÉÁöÑputÊñπÊ≥ïÔºåputÊñπÊ≥ïËøîÂõûÂÄºÊòØvoidÁ±ªÂûãÔºåËØ•ÊñπÊ≥ï‰πüÊúâ‰∏â‰∏™ÈáçËΩΩÊñπÊ≥ïÔºöput(String url, Object request, Object... uriVariables)Ôºõput(String url, Object request, Map&lt;String, ?&gt; uriVariables)Ôºõput(URI url, Object request)„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö12345@GetMapping("user/update")public void updateUser() throws JsonProcessingException &#123; User user = new User(1L, "mrbird", "123456"); this.restTemplate.put("http://Server-Provider/user", user);&#125;Âú®RESTfulÈ£éÊ†ºÁöÑÊé•Âè£‰∏≠ÔºåÂà§Êñ≠ÊàêÂäüÂ§±Ë¥•‰∏çÂÜçÊòØÈÄöËøáËøîÂõûÂÄºÁöÑÊüê‰∏™Ê†áËØÜÊù•Âà§Êñ≠ÁöÑÔºåËÄåÊòØÈÄöËøáËøîÂõûÊä•ÊñáÁöÑÁä∂ÊÄÅÁ†ÅÊòØÂê¶‰∏∫200Êù•Âà§Êñ≠„ÄÇÂΩìËøô‰∏™ÊñπÊ≥ïÊàêÂäüÊâßË°åÂπ∂ËøîÂõûÊó∂ÔºåËøîÂõûÊä•ÊñáÁä∂ÊÄÅ‰∏∫200ÔºåÂç≥ÂèØÂà§Êñ≠ÊñπÊ≥ïÊâßË°åÊàêÂäü„ÄÇÂèëÈÄÅDELETEËØ∑Ê±Ç‰ΩøÁî®RestTemplateÂèëÈÄÅDELETEËØ∑Ê±ÇÔºå‰ΩøÁî®ÁöÑÊòØÂÆÉÁöÑdeleteÊñπÊ≥ïÔºådeleteÊñπÊ≥ïËøîÂõûÂÄºÊòØvoidÁ±ªÂûãÔºåËØ•ÊñπÊ≥ï‰πüÊúâ‰∏â‰∏™ÈáçËΩΩÊñπÊ≥ïÔºödelete(String url, Object... uriVariables)Ôºõdelete(String url, Map&lt;String, ?&gt; uriVariables);delete(URI url)„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö1234@GetMapping("user/delete/&#123;id:\\d+&#125;")public void deleteUser(@PathVariable Long id) &#123; this.restTemplate.delete("http://Server-Provider/user/&#123;1&#125;", id);&#125;RestTemplatesÂÆûÊàòÊàë‰ª¨Âú®Spring Cloud EurekaÊúçÂä°Ê≤ªÁêÜ‰∏≠ÁöÑEurekaÂÆ¢Êà∑Á´ØÔºàServer-ProviderÔºâ‰∏≠ÁºñÂÜô‰∏ÄÂ•óRESTfulÈ£éÊ†ºÁöÑÊµãËØïÊé•Âè£Ôºö1234567891011121314151617181920212223242526272829303132333435@RestController@RequestMapping("user")public class UserController &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @GetMapping("/&#123;id:\\d+&#125;") public User get(@PathVariable Long id) &#123; log.info("Ëé∑ÂèñÁî®Êà∑id‰∏∫ " + id + "ÁöÑ‰ø°ÊÅØ"); return new User(id, "mrbird", "123456"); &#125; @GetMapping public List&lt;User&gt; get() &#123; List&lt;User&gt; list = new ArrayList&lt;&gt;(); list.add(new User(1L, "mrbird", "123456")); list.add(new User(2L, "scott", "123456")); log.info("Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ " + list); return list; &#125; @PostMapping public void add(@RequestBody User user) &#123; log.info("Êñ∞Â¢ûÁî®Êà∑ÊàêÂäü " + user); &#125; @PutMapping public void update(@RequestBody User user) &#123; log.info("Êõ¥Êñ∞Áî®Êà∑ÊàêÂäü " + user); &#125; @DeleteMapping("/&#123;id:\\d+&#125;") public void delete(@PathVariable Long id) &#123; log.info("Âà†Èô§Áî®Êà∑ÊàêÂäü " + id); &#125;&#125;UserÂØπË±°‰ª£Á†ÅÔºö12345678910111213141516171819202122232425public class User implements Serializable &#123; private static final long serialVersionUID = 1339434510787399891L; private Long id; private String username; private String password; public User() &#123; &#125; public User(Long id, String username, String password) &#123; this.id = id; this.username = username; this.password = password; &#125; @Override public String toString() &#123; return "User&#123;" + "id=" + id + ", username='" + username + '\'' + ", password='" + password + '\'' + '&#125;'; &#125; // get,setÁï•&#125;ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåUserÂØπË±°ÂøÖÈ°ªÊúâÈªòËÆ§ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåÂê¶ÂàôÂú®JSON‰∏éÂÆû‰ΩìÂØπË±°ËΩ¨Êç¢ÁöÑÊó∂ÂÄô‰ºöÊäõÂá∫Â¶Ç‰∏ãÂºÇÂ∏∏ÔºöJSON parse error: Can not construct instance of model.Class: no suitable constructor foundÁÑ∂ÂêéÂú®Server-Consumer‰∏≠‰ΩøÁî®RestTemplatesÂàÜÂà´ÂéªËé∑ÂèñËøô‰∫õÊúçÂä°Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142@RestControllerpublic class TestController &#123; @Autowired private RestTemplate restTemplate; @GetMapping("user/&#123;id:\\d+&#125;") public User getUser(@PathVariable Long id) &#123; Map&lt;String, Object&gt; params = new HashMap&lt;&gt;(); params.put("id", id); URI uri = UriComponentsBuilder.fromUriString("http://Server-Provider/user/&#123;id&#125;") .build().expand(params).encode().toUri(); return this.restTemplate.getForEntity(uri, User.class).getBody(); &#125; @GetMapping("user") public List&lt;User&gt; getUsers() &#123; return this.restTemplate.getForObject("http://Server-Provider/user", List.class); &#125; @GetMapping("user/add") public String addUser() &#123; User user = new User(1L, "mrbird", "123456"); HttpStatus status = this.restTemplate.postForEntity("http://Server-Provider/user", user, null).getStatusCode(); if (status.is2xxSuccessful()) &#123; return "Êñ∞Â¢ûÁî®Êà∑ÊàêÂäü"; &#125; else &#123; return "Êñ∞Â¢ûÁî®Êà∑Â§±Ë¥•"; &#125; &#125; @GetMapping("user/update") public void updateUser() &#123; User user = new User(1L, "mrbird", "123456"); this.restTemplate.put("http://Server-Provider/user", user); &#125; @GetMapping("user/delete/&#123;id:\\d+&#125;") public void deleteUser(@PathVariable Long id) &#123; this.restTemplate.delete("http://Server-Provider/user/&#123;1&#125;", id); &#125;&#125;Êàë‰ª¨ÂàÜÂà´ÂêØÂä®‰∏§‰∏™Eureka ServerÁî®‰∫éÈõÜÁæ§Ôºå‰∏§‰∏™Eureka ClientÔºàServer-ProviderÔºâÂÆû‰æãÔºåÁÑ∂ÂêéÂêØÂä®Server-Consumer„ÄÇ‰ΩøÁî®Restlet ClientËÆøÈóÆhttp://localhost:9000/user/1ÔºàÂêéÈù¢ÊØè‰∏™ÊñπÊ≥ïÊàë‰ª¨ÈÉΩËÆøÈóÆ‰∏§Ê¨°ÔºåÁî®‰∫éËßÇÂØüË¥üËΩΩÂùáË°°ÔºâÔºåËøîÂõûÁªìÊûúÂ¶Ç‰∏ãÔºöÂâ©‰∏ãÁöÑÊñπÊ≥ïÊµãËØïÁªìÊûúËøôÈáå‰∏çË¥¥Âá∫Êù•‰∫ÜÔºåÂΩìÊàë‰ª¨ÂàÜÂà´ËÆøÈóÆ‰∏ãÈù¢ÁöÑËøûÊé•ÂêéÔºöhttp://localhost:9000/user/http://localhost:9000/user/addhttp://localhost:9000/user/updatehttp://localhost:9000/user/delete/1Êü•ÁúãEurekaÂÆ¢Êà∑Á´Ø8082Âíå8083ÁöÑÂêéÂè∞Êó•ÂøóÔºö123456789101112131415161718192021222324252018-06-03 18:17:26.231 INFO 11188 --- [ main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 80832018-06-03 18:17:26.236 INFO 11188 --- [ main] com.example.demo.DemoApplication : Started DemoApplication in 52.252 seconds (JVM running for 54.321)2018-06-03 18:21:29.097 INFO 11188 --- [io-8083-exec-10] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring FrameworkServlet &apos;dispatcherServlet&apos;2018-06-03 18:21:29.098 INFO 11188 --- [io-8083-exec-10] o.s.web.servlet.DispatcherServlet : FrameworkServlet &apos;dispatcherServlet&apos;: initialization started2018-06-03 18:21:29.177 INFO 11188 --- [io-8083-exec-10] o.s.web.servlet.DispatcherServlet : FrameworkServlet &apos;dispatcherServlet&apos;: initialization completed in 79 ms2018-06-03 18:21:29.312 INFO 11188 --- [io-8083-exec-10] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-03 18:21:50.798 INFO 11188 --- [nio-8083-exec-9] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ [User&#123;id=1, username=&apos;mrbird&apos;, password=&apos;123456&apos;&#125;, User&#123;id=2, username=&apos;scott&apos;, password=&apos;123456&apos;&#125;]2018-06-03 18:22:25.351 INFO 11188 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver : Resolving eureka endpoints via configuration2018-06-03 18:22:44.718 INFO 11188 --- [nio-8083-exec-8] c.e.demo.controller.UserController : Êñ∞Â¢ûÁî®Êà∑ÊàêÂäü User&#123;id=1, username=&apos;mrbird&apos;, password=&apos;123456&apos;&#125;2018-06-03 18:24:34.313 INFO 11188 --- [nio-8083-exec-6] c.e.demo.controller.UserController : Âà†Èô§Áî®Êà∑ÊàêÂäü 12018-06-03 18:17:21.296 INFO 16188 --- [ main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 80822018-06-03 18:17:21.303 INFO 16188 --- [ main] com.example.demo.DemoApplication : Started DemoApplication in 57.152 seconds (JVM running for 58.239)2018-06-03 18:21:27.517 INFO 16188 --- [io-8082-exec-10] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring FrameworkServlet &apos;dispatcherServlet&apos;2018-06-03 18:21:27.517 INFO 16188 --- [io-8082-exec-10] o.s.web.servlet.DispatcherServlet : FrameworkServlet &apos;dispatcherServlet&apos;: initialization started2018-06-03 18:21:27.567 INFO 16188 --- [io-8082-exec-10] o.s.web.servlet.DispatcherServlet : FrameworkServlet &apos;dispatcherServlet&apos;: initialization completed in 50 ms2018-06-03 18:21:27.732 INFO 16188 --- [io-8082-exec-10] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑id‰∏∫ 1ÁöÑ‰ø°ÊÅØ2018-06-03 18:21:49.639 INFO 16188 --- [nio-8082-exec-9] c.e.demo.controller.UserController : Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ [User&#123;id=1, username=&apos;mrbird&apos;, password=&apos;123456&apos;&#125;, User&#123;id=2, username=&apos;scott&apos;, password=&apos;123456&apos;&#125;]2018-06-03 18:22:12.313 INFO 16188 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver : Resolving eureka endpoints via configuration2018-06-03 18:22:46.111 INFO 16188 --- [nio-8082-exec-8] c.e.demo.controller.UserController : Êñ∞Â¢ûÁî®Êà∑ÊàêÂäü User&#123;id=1, username=&apos;mrbird&apos;, password=&apos;123456&apos;&#125;2018-06-03 18:23:55.732 INFO 16188 --- [nio-8082-exec-6] c.e.demo.controller.UserController : Êõ¥Êñ∞Áî®Êà∑ÊàêÂäü User&#123;id=1, username=&apos;mrbird&apos;, password=&apos;123456&apos;&#125;2018-06-03 18:23:58.297 INFO 16188 --- [nio-8082-exec-5] c.e.demo.controller.UserController : Êõ¥Êñ∞Áî®Êà∑ÊàêÂäü User&#123;id=1, username=&apos;mrbird&apos;, password=&apos;123456&apos;&#125;2018-06-03 18:24:37.266 INFO 16188 --- [nio-8082-exec-3] c.e.demo.controller.UserController : Âà†Èô§Áî®Êà∑ÊàêÂäü 12018-06-03 18:27:12.314 INFO 16188 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver : Resolving eureka endpoints via configurationÂèëÁé∞ÊñπÊ≥ïÈÉΩÊàêÂäüË∞ÉÁî®ÔºåÂπ∂‰∏îÊòØÂùáË°°ÁöÑ„ÄÇSpring Cloud RibbonÈÖçÁΩÆSpring Cloud RibbonÁöÑÈÖçÁΩÆÂàÜ‰∏∫ÂÖ®Â±ÄÂíåÊåáÂÆöÊúçÂä°ÂêçÁß∞„ÄÇÊØîÂ¶ÇÊàëË¶ÅÊåáÂÆöÂÖ®Â±ÄÁöÑÊúçÂä°ËØ∑Ê±ÇËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥‰∏∫200ÊØ´ÁßíÔºö12ribbon: ConnectTimeout: 200Â¶ÇÊûúÂè™ÊòØËÆæÁΩÆËé∑ÂèñServer ProviderÊúçÂä°ÁöÑËØ∑Ê±ÇËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆÊúÄÂâçÈù¢Âä†‰∏äÊúçÂä°ÂêçÁß∞Â∞±Ë°å‰∫ÜÔºåÂ¶ÇÔºö123Server-Provider: ribbon: ConnectTimeout: 200ËÆæÁΩÆËé∑ÂèñServer-ProviderÊúçÂä°ÁöÑË¥üËΩΩÂùáË°°ÁÆóÊ≥ï‰ªéËΩÆËØ¢Êîπ‰∏∫ÈöèÊú∫Ôºö123Server-Provider: ribbon: NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRuleËÆæÁΩÆÂ§ÑÁêÜServer-ProviderÊúçÂä°ÁöÑË∂ÖÊó∂Êó∂Èó¥Ôºö123Server-Provider: ribbon: ReadTimeout: 1000ÂºÄÂêØÈáçËØïÊú∫Âà∂ÔºåÂç≥Ëé∑ÂèñÊúçÂä°Â§±Ë¥•ÊòØÂê¶‰ªéÂè¶Â§ñ‰∏Ä‰∏™ËäÇÁÇπÈáçËØïÔºåÈªòËÆ§ÂÄº‰∏∫falseÔºö12345spring: cloud: loadbalancer: retry: enabled: trueÂØπServer-ProviderÁöÑÊâÄÊúâËØ∑Ê±ÇÂú®Â§±Ë¥•ÁöÑÊó∂ÂÄôÈÉΩËøõË°åÈáçËØïÔºö123Server-Provider: ribbon: OkToRetryOnAllOperations: trueÂàáÊç¢Server-ProviderÂÆû‰æãÁöÑÈáçËØïÊ¨°Êï∞Ôºö123Server-Provider: ribbon: MaxAutoRetriesNextServer: 1ÂØπServer-ProviderÂΩìÂâçÂÆû‰æãÁöÑÈáçËØïÊ¨°Êï∞Ôºö123Server-Provider: ribbon: MaxAutoRetries: 1Ê†πÊçÆÂ¶Ç‰∏äÈÖçÁΩÆÂΩìËÆøÈóÆServer-ProviderÊúçÂä°ÂÆû‰æãÔºàÊØîÂ¶ÇÊòØ8082ÔºâÈÅáÂà∞ÊïÖÈöúÁöÑÊó∂ÂÄôÔºåRibbon‰ºöÂÜçÂ∞ùËØïËÆøÈóÆ‰∏ÄÊ¨°ÂΩìÂâçÂÆû‰æãÔºàÊ¨°Êï∞Áî±MaxAutoRetriesÈÖçÁΩÆÔºâÔºåÂ¶ÇÊûú‰∏çË°åÔºåÂ∞±Êç¢Âà∞8083ÂÆû‰æãËøõË°åËÆøÈóÆÔºàÊõ¥Êç¢Ê¨°Êï∞Áî± MaxAutoRetriesNextServerÂÜ≥ÂÆöÔºâÔºåÂ¶ÇÊûúËøòÊòØ‰∏çË°åÔºåÈÇ£Â∞±GGÊÄùÂØÜËææÔºåËøîÂõûÂ§±Ë¥•„ÄÇÂ¶ÇÊûú‰∏çÂíåEurekaÊê≠ÈÖç‰ΩøÁî®ÁöÑËØùÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÊâãÂä®ÊåáÂÆöÊúçÂä°Ê∏ÖÂçïÁªôRibbonÔºö123Server-Provider: ribbon: listOfServers: localhost:8082,localhost:8083‰∏äÈù¢ÈÖçÁΩÆ‰∫ÜÂêçÁß∞‰∏∫Server-ProviderÁöÑÊúçÂä°ÔºåÊúâ‰∏§‰∏™ËäÇÁÇπÂèØ‰æõ‰ΩøÁî®Ôºà8082Âíå8083Ôºâ„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/29.Spring-Cloud-Ribbon-LoadBalanceÂèÇËÄÉÊñáÁ´† „ÄäSpring CloudÂæÆÊúçÂä°ÂÆûÊàò„Äã]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
        <tag>Ribbon</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloud EurekaÊúçÂä°Ê≤ªÁêÜ]]></title>
    <url>%2FSpring-Cloud-Eureka.html</url>
    <content type="text"><![CDATA[ËÄÉËôëÂΩìÂâçÊúâ‰∏§‰∏™ÂæÆÊúçÂä°ÂÆû‰æãAÂíåBÔºåAÊúçÂä°ÈúÄË¶ÅË∞ÉÁî®BÊúçÂä°ÁöÑÊüê‰∏™RESTÊé•Âè£„ÄÇÂÅáÂ¶ÇÊüê‰∏ÄÂ§©BÊúçÂä°ËøÅÁßªÂà∞‰∫ÜÂè¶Â§ñ‰∏ÄÂè∞ÊúçÂä°Âô®ÔºåIPÂíåÁ´ØÂè£‰πüÂèëÁîü‰∫ÜÂèòÂåñÔºåËøôÊó∂ÂÄôÊàë‰ª¨‰∏çÂæó‰∏çÂéª‰øÆÊîπAÊúçÂä°‰∏≠Ë∞ÉÁî®BÊúçÂä°RESTÊé•Âè£ÁöÑÈùôÊÄÅÈÖçÁΩÆ„ÄÇÈöèÁùÄÂÖ¨Âè∏‰∏öÂä°ÁöÑÂèëÂ±ïÔºåÂæÆÊúçÂä°ÁöÑÊï∞Èáè‰πüË∂äÊù•Ë∂äÂ§öÔºåÊúçÂä°Èó¥ÁöÑÂÖ≥Á≥ªÂèØËÉΩÂèòÂæóÈùûÂ∏∏Â§çÊùÇÔºå‰º†ÁªüÁöÑÂæÆÊúçÂä°Áª¥Êä§ÂèòÂæóÊÑàÂä†Âõ∞ÈöæÔºå‰πüÂæàÂÆπÊòìÂá∫Èîô„ÄÇÊâÄË∞ìÊúçÂä°Ê≤ªÁêÜÂ∞±ÊòØÁî®Êù•ÂÆûÁé∞ÂêÑ‰∏™ÂæÆÊúçÂä°ÂÆû‰æãÁöÑËá™Âä®ÂåñÊ≥®ÂÜå‰∏éÂèëÁé∞ÔºåÂú®ËøôÁßçÊ®°Âºè‰∏ãÔºåÊúçÂä°Èó¥ÁöÑË∞ÉÁî®‰∏çÂÜçÈÄöËøáÊåáÂÆöÂÖ∑‰ΩìÁöÑÂÆû‰æãÂú∞ÂùÄÊù•ÂÆûÁé∞ÔºåËÄåÊòØÈÄöËøáÂêëÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉËé∑ÂèñÊúçÂä°ÂêçÂπ∂ÂèëËµ∑ËØ∑Ê±ÇË∞ÉÁî®ÂÆûÁé∞„ÄÇEurekaÊòØÁî±NetflixÂºÄÂèëÁöÑ‰∏ÄÊ¨æÊúçÂä°Ê≤ªÁêÜÂºÄÊ∫êÊ°ÜÊû∂ÔºåSpring-cloudÂØπÂÖ∂ËøõË°å‰∫ÜÈõÜÊàê„ÄÇEurekaÊó¢ÂåÖÂê´‰∫ÜÊúçÂä°Á´Ø‰πüÂåÖÂê´‰∫ÜÂÆ¢Êà∑Á´ØÔºåEurekaÊúçÂä°Á´ØÊòØ‰∏Ä‰∏™ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ(Eureka Server)ÔºåÊèê‰æõÊúçÂä°ÁöÑÊ≥®ÂÜåÂíåÂèëÁé∞ÔºåÂç≥ÂΩìÂâçÊúâÂì™‰∫õÊúçÂä°Ê≥®ÂÜåËøõÊù•ÂèØ‰æõ‰ΩøÁî®ÔºõEurekaÂÆ¢Êà∑Á´Ø‰∏∫ÊúçÂä°Êèê‰æõËÄÖ(Server Provider)ÔºåÂÆÉÂ∞ÜËá™Â∑±Êèê‰æõÁöÑÊúçÂä°Ê≥®ÂÜåÂà∞EurekaÊúçÂä°Á´ØÔºåÂπ∂Âë®ÊúüÊÄßÂú∞ÂèëÈÄÅÂøÉË∑≥Êù•Êõ¥Êñ∞ÂÆÉÁöÑÊúçÂä°ÁßüÁ∫¶ÔºåÂêåÊó∂‰πüËÉΩ‰ªéÊúçÂä°Á´ØÊü•ËØ¢ÂΩìÂâçÊ≥®ÂÜåÁöÑÊúçÂä°‰ø°ÊÅØÂπ∂ÊääÂÆÉ‰ª¨ÁºìÂ≠òÂà∞Êú¨Âú∞Âπ∂Âë®ÊúüÊÄßÂú∞Âà∑Êñ∞ÊúçÂä°Áä∂ÊÄÅ„ÄÇËøôÊ†∑ÊúçÂä°Ê∂àË¥πËÄÖ(Server Consumer)‰æøÂèØ‰ª•‰ªéÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉËé∑ÂèñÊúçÂä°ÂêçÁß∞ÔºåÂπ∂Ê∂àË¥πÊúçÂä°„ÄÇ‰∏âËÄÖÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫:Êê≠Âª∫Eureka-ServerÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉËØ¥‰∫ÜÈÇ£‰πàÂ§öÔºåÊàë‰ª¨ÂÖàÊù•Êê≠Âª∫‰∏Ä‰∏™EurekaÊúçÂä°Á´ØÊù•ÂÖÖÂΩìÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactIdÂ°´Eureka-ServiceÔºåÁÑ∂ÂêéÂºïÂÖ•Spring Cloud Edgware.SR3Âíåspring-cloud-starter-eureka-server:123456789101112131415161718&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;Âú®ÂêØÂä®Á±ª‰∏äÊ∑ªÂä†@EnableEurekaServerÊ≥®Ëß£ÔºåË°®ÊòéËøôÊòØ‰∏Ä‰∏™EurekaÊúçÂä°Á´ØÔºö1234567@EnableEurekaServer@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;Êé•ÁùÄÂú®application.yml‰∏≠Ê∑ªÂä†‰∏Ä‰∫õÈÖçÁΩÆÔºö1234567891011server: port: 8080 eureka: instance: hostname: localhost client: register-with-eureka: false fetch-registry: false serviceUrl: defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/‰∏äÈù¢ÈÖçÁΩÆ‰∫ÜÊúçÂä°ÁöÑÁ´ØÂè£‰∏∫8080ÔºåÂâ©‰∏ãÂá†‰∏™‰∏∫EurekaÈÖçÁΩÆÔºöeureka.instance.hostnameÊåáÂÆö‰∫ÜEurekaÊúçÂä°Á´ØÁöÑIPÔºõeureka.client.register-with-eurekaË°®Á§∫ÊòØÂê¶Â∞ÜÊúçÂä°Ê≥®ÂÜåÂà∞EurekaÊúçÂä°Á´ØÔºåÁî±‰∫éËá™Ë∫´Â∞±ÊòØEurekaÊúçÂä°Á´ØÔºåÊâÄ‰ª•ËÆæÁΩÆ‰∏∫falseÔºõeureka.client.fetch-registryË°®Á§∫ÊòØÂê¶‰ªéEurekaÊúçÂä°Á´ØËé∑ÂèñÊúçÂä°‰ø°ÊÅØÔºåÂõ†‰∏∫ËøôÈáåÂè™Êê≠Âª∫‰∫Ü‰∏Ä‰∏™EurekaÊúçÂä°Á´ØÔºåÂπ∂‰∏çÈúÄË¶Å‰ªéÂà´ÁöÑEurekaÊúçÂä°Á´ØÂêåÊ≠•ÊúçÂä°‰ø°ÊÅØÔºåÊâÄ‰ª•ËøôÈáåËÆæÁΩÆ‰∏∫falseÔºõeureka.client.serviceUrl.defaultZoneÊåáÂÆöEurekaÊúçÂä°Á´ØÁöÑÂú∞ÂùÄÔºåÈªòËÆ§ÂÄº‰∏∫http://localhost:8761/eureka„ÄÇÈÖçÁΩÆÂÆåÊØïÂêéÂêØÂä®ÊúçÂä°ÔºåËÆøÈóÆhttp://localhost:8080/ÔºåÂèØÁúãÂà∞ÔºöÁî±‰∫éËøòÊ≤°ÊúâEurekaÂÆ¢Êà∑Á´ØÂ∞ÜÊúçÂä°Ê≥®ÂÜåËøõÊù•ÔºåÊâÄ‰ª•Instances currently registered with EurekaÂàóË°®ÊòØÁ©∫ÁöÑ„ÄÇ‰∏ãÈù¢Êàë‰ª¨Êé•ÁùÄÊê≠Âª∫‰∏Ä‰∏™EurekaÂÆ¢Êà∑Á´ØÊù•Êèê‰æõÊúçÂä°„ÄÇÊê≠Âª∫Eureka-ClientÊúçÂä°Êèê‰æõËÄÖÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactIdÂ°´Eureka-ClientÔºåÁÑ∂ÂêéÂºïÂÖ•‰ª•‰∏ã‰æùËµñÔºö123456789101112131415161718192021&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;Êé•ÁùÄÁºñÂÜô‰∏Ä‰∏™TestControllerÔºåÂØπÂ§ñÊèê‰æõ‰∏Ä‰∫õRESTÊúçÂä°Ôºö1234567891011121314151617181920@RestControllerpublic class TestController &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @Autowired private DiscoveryClient client; @GetMapping("/info") public String info() &#123; @SuppressWarnings("deprecation") ServiceInstance instance = client.getLocalServiceInstance(); String info = "hostÔºö" + instance.getHost() + "Ôºåservice_idÔºö" + instance.getServiceId(); log.info(info); return info; &#125; @GetMapping("/hello") public String hello() &#123; return "hello world"; &#125;&#125;‰∏äÈù¢‰ª£Á†ÅÊ≥®ÂÖ•‰∫Üorg.springframework.cloud.client.discovery.DiscoveryClientÂØπË±°ÔºåÂèØ‰ª•Ëé∑ÂèñÂΩìÂâçÊúçÂä°ÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØ„ÄÇÁºñÂÜôÂêØÂä®Á±ªÔºåÂú®ÂêØÂä®Á±ª‰∏äÂä†@EnableDiscoveryClientÊ≥®Ëß£ÔºåË°®ÊòéËøôÊòØ‰∏Ä‰∏™EurekaÂÆ¢Êà∑Á´ØÔºö1234567@EnableDiscoveryClient@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÊúÄÂêéÈÖçÁΩÆapplication.ymlÔºö12345678910111213server: port: 8082 spring: application: name: Server-Provider eureka: client: register-with-eureka: true fetch-registry: true serviceUrl: defaultZone: http://localhost:8080/eureka/Á®çÂæÆËØ¥Êòé‰∏ãËøô‰∫õÈÖçÁΩÆÁöÑÊÑèÊÄùÔºöserver.portÊåáÂÆö‰∫ÜÊúçÂä°ÁöÑÁ´ØÂè£‰∏∫8082Ôºõspring.application.nameÊåáÂÆöÊúçÂä°ÂêçÁß∞‰∏∫Server-ProviderÔºåÂêéÁª≠ÊúçÂä°Ê∂àË¥πËÄÖË¶ÅËé∑Âèñ‰∏äÈù¢TestController‰∏≠Êé•Âè£ÁöÑÊó∂ÂÄô‰ºöÁî®Âà∞Ëøô‰∏™ÊúçÂä°ÂêçÔºõeureka.client.serviceUrl.defaultZoneÊåáÂÆöEurekaÊúçÂä°Á´ØÁöÑÂú∞ÂùÄÔºåËøôÈáå‰∏∫‰∏äÈù¢ÂÆö‰πâÁöÑEurekaÊúçÂä°Á´ØÂú∞ÂùÄÔºõeureka.client.register-with-eurekaÂíåeureka.client.fetch-registry‰∏äÈù¢Â∑≤ÁªèËß£Èáä‰∫ÜÂÖ∂ÊÑèÊÄùÔºåËôΩÁÑ∂Ëøô‰∏§‰∏™ÈÖçÁΩÆÁöÑÈªòËÆ§ÂÄºÂ∞±ÊòØtrueÔºå‰ΩÜËøôÈáåËøòÊòØÊòæÂºèÈÖçÁΩÆ‰∏ãÔºå‰ΩøEurekaÂÆ¢Êà∑Á´ØÁöÑÂäüËÉΩÊõ¥‰∏∫Áõ¥ËßÇÔºàÂç≥ÂêëÊúçÂä°Á´ØÊ≥®ÂÜåÊúçÂä°Âπ∂ÂÆöÊó∂‰ªéÊúçÂä°Á´ØËé∑ÂèñÊúçÂä°ÁºìÂ≠òÂà∞Êú¨Âú∞Ôºâ„ÄÇÈÖçÁΩÆÂ•ΩÂêéÔºåÂêØÂä®Eureka-ClientÔºåÂèØ‰ª•‰ªéÊéßÂà∂Âè∞‰∏≠ÁúãÂà∞Ê≥®ÂÜåÊàêÂäüÁöÑÊ∂àÊÅØÔºö1234567891011121314Registered Applications size is zero : trueApplication version is -1: trueGetting all instance registry info from the eureka serverThe response status is 200Starting heartbeat executor: renew interval is: 30InstanceInfoReplicator onDemand update allowed rate per min is 4Discovery Client initialized at timestamp 1530667498944 with initial instances Registering application Server-Provider with eureka with status UPSaw local status change event StatusChangeEvent [timestamp=1530667498949, current=UP, previous=STARTING] DiscoveryClient_SERVER-PROVIDER/192.168.73.109:Server-Provider:8082: registering service... DiscoveryClient_SERVER-PROVIDER/192.168.73.109:Server-Provider:8082 - registration status: 204Tomcat started on port(s): 8082 (http)Updating port to 8082Started DemoApplication in 7.007 seconds (JVM running for 8.355)Á¨¨3Ôºå4Ë°åËæìÂá∫Ë°®Á§∫Â∑≤ÁªèÊàêÂäü‰ªéEurekaÊúçÂä°Á´ØËé∑ÂèñÂà∞‰∫ÜÊúçÂä°ÔºõÁ¨¨5Ë°åË°®Á§∫ÂèëÈÄÅÂøÉË∑≥ÁªôEurekaÊúçÂä°Á´ØÔºåÁª≠Á∫¶ÔºàrenewÔºâÊúçÂä°ÔºõÁ¨¨8Âà∞11Ë°åË°®Á§∫Â∑≤ÁªèÊàêÂäüÂ∞ÜÊúçÂä°Ê≥®ÂÜåÂà∞‰∫ÜEurekaÊúçÂä°Á´Ø„ÄÇÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8080/ÔºåÂèØÁúãÂà∞ÊúçÂä°ÂàóË°®ÈáåÂ∑≤ÁªèÂá∫Áé∞‰∫ÜÂêçÂ≠ó‰∏∫Server-providerdeÊúçÂä°‰∫ÜÔºöUPË°®Á§∫Âú®Á∫øÁöÑÊÑèÊÄùÔºàÂ¶ÇÊûúEurekaÂÆ¢Êà∑Á´ØÊ≠£Â∏∏ÂÖ≥Èó≠ÔºåÈÇ£‰πàËøôÈáåÁöÑÁä∂ÊÄÅÂ∞ÜÂèò‰∏∫DOWNÔºâÔºåÁÇπÂáªÂêéÈù¢ÁöÑÈìæÊé•192.168.73.109:Server-Provider:8082Â∞ÜËÆøÈóÆËØ•ÊúçÂä°ÁöÑ/infoÊé•Âè£ÔºöËøôÊó∂ÂÄôÂÖ≥Èó≠EurekaÂÆ¢Êà∑Á´ØÔºåÂÜçÊ¨°Âà∑Êñ∞http://localhost:8080/ÔºöÂèØÁúãÂà∞ËôΩÁÑ∂EurekaÂÆ¢Êà∑Á´ØÂ∑≤ÁªèÂÖ≥Èó≠‰∫ÜÔºå‰ΩÜÊòØEurekaÊúçÂä°Á´ØÈ°µÈù¢ÁöÑÊúçÂä°ÊúçÂä°ÂàóË°®‰∏≠‰æùÁÑ∂ËøòÊúâËØ•ÊúçÂä°ÔºåÂπ∂‰∏îÈ°µÈù¢Á∫¢Ëâ≤ÊñáÂ≠óÊèêÁ§∫ÔºöEMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY‚ÄôRE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE.Â§ßËá¥ÊÑèÊÄùÊòØEurekaÂ∑≤ÁªèËøõÂÖ•‰∫Ü‰øùÊä§Ê®°Âºè„ÄÇÂæÆÊúçÂä°Âú®ÈÉ®ÁΩ≤‰πãÂêéÂèØËÉΩÁî±‰∫éÁΩëÁªúÈóÆÈ¢òÈÄ†ÊàêEurekaÂÆ¢Êà∑Á´ØÊó†Ê≥ïÊàêÂäüÁöÑÂèëÈÄÅÂøÉË∑≥ÁªôEurekaÊúçÂä°Á´ØÔºåËøôÊó∂ÂÄôEurekaÊúçÂä°Á´ØËÆ§ÂÆöEurekaÂÆ¢Êà∑Á´ØÂ∑≤ÁªèÊåÇÊéâ‰∫ÜÔºåËôΩÁÑ∂ÂÆûÈôÖ‰∏äEurekaÂÆ¢Êà∑Á´ØËøòÂú®Ê≠£Â∏∏ÁöÑËøêË°åÁùÄ„ÄÇËÄå‰øùÊä§Ê®°ÂºèÂ∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂç≥ÂΩìEurekaÊúçÂä°Á´ØÂú®Áü≠Êó∂Èó¥ÂÜÖÂêåÊó∂‰∏¢Â§±‰∫ÜËøáÂ§öÁöÑEurekaÂÆ¢Êà∑Á´ØÊó∂ÔºåEurekaÊúçÂä°Á´Ø‰ºöËøõÂÖ•‰øùÊä§Ê®°ÂºèÔºå‰∏çÂéªÂâîÈô§Ëøô‰∫õÂÆ¢Êà∑Á´Ø„ÄÇÂõ†‰∏∫Êàë‰ª¨ËøôÈáåÂè™ÈÉ®ÁΩ≤‰∫Ü‰∏Ä‰∏™EurekaÂÆ¢Êà∑Á´ØÊúçÂä°ÔºåÊâÄ‰ª•ÂÖ≥Èó≠ÂÆ¢Êà∑Á´ØÂêéÊª°Ë∂≥‚ÄúÁü≠Êó∂Èó¥ÂÜÖ‰∏¢Â§±ËøáÂ§öEurekaÂÆ¢Êà∑Á´Ø‚ÄùÁöÑÊù°‰ª∂„ÄÇÂú®ÂºÄÂèë‰∏≠ÂèØ‰ª•ÂÖàÂ∞Ü‰øùÊä§Ê®°ÂºèÁªôÂÖ≥‰∫ÜÔºåÊàë‰ª¨Âú®EurekaÊúçÂä°Á´ØÂä†‰∏ä‰∏ÄÊù°ÈÖçÁΩÆ:123eureka: server: enable-self-preservation: falseEureka-ServerÈõÜÁæ§EurekaÊúçÂä°Á´ØÂÖÖÂΩì‰∫ÜÈáçË¶ÅÁöÑËßíËâ≤ÔºåÊâÄÊúâEurekaÂÆ¢Êà∑Á´ØÈÉΩÂ∞ÜËá™Â∑±Êèê‰æõÁöÑÊúçÂä°Ê≥®ÂÜåÂà∞EurekaÊúçÂä°Á´ØÔºåÁÑ∂Âêé‰æõÊâÄÊúâÊúçÂä°Ê∂àË¥πËÄÖ‰ΩøÁî®„ÄÇÂ¶ÇÊûúÂçïËäÇÁÇπÁöÑEurekaÊúçÂä°Á´ØÂÆïÊú∫‰∫ÜÔºåÈÇ£‰πàÊâÄÊúâÊúçÂä°ÈÉΩÊó†Ê≥ïÊ≠£Â∏∏ÁöÑËÆøÈóÆÔºåËøôÂøÖÂ∞ÜÊòØÁÅæÈöæÊÄßÁöÑ„ÄÇ‰∏∫‰∫ÜÊèêÈ´òEurekaÊúçÂä°Á´ØÁöÑÂèØÁî®ÊÄßÔºåÊàë‰ª¨‰∏ÄËà¨‰ºöÂØπÂÖ∂ÈõÜÁæ§ÈÉ®ÁΩ≤ÔºåÂç≥ÂêåÊó∂ÈÉ®ÁΩ≤Â§ö‰∏™EurekaÊúçÂä°Á´ØÔºåÂπ∂‰∏îÂèØ‰ª•Áõ∏‰∫íÈó¥ÂêåÊ≠•ÊúçÂä°„ÄÇÂú®Êê≠Âª∫EurekaÊúçÂä°Á´ØÁöÑÊó∂ÂÄôÊàë‰ª¨ÊõæÊää‰∏ãÈù¢‰∏§‰∏™ÈÖçÁΩÆÁªôÂÖ≥Èó≠‰∫ÜÔºö1234eureka: client: register-with-eureka: false fetch-registry: falseÂÆûÈôÖ‰∏äÂú®EurekaÈõÜÁæ§Ê®°Âºè‰∏≠ÔºåÂºÄÂêØËøô‰∏§‰∏™ÂèÇÊï∞ÂèØ‰ª•ËÆ©ÂΩìÂâçEurekaÊúçÂä°Á´ØÂ∞ÜËá™Â∑±‰πü‰Ωú‰∏∫ÊúçÂä°Ê≥®ÂÜåÂà∞Âà´ÁöÑEurekaÊúçÂä°Á´ØÔºåÂπ∂‰∏î‰ªéÂà´ÁöÑEurekaÊúçÂä°Á´ØËé∑ÂèñÊúçÂä°ËøõË°åÂêåÊ≠•„ÄÇÊâÄ‰ª•ËøôÈáåÊàë‰ª¨Â∞ÜËøô‰∏§‰∏™ÂèÇÊï∞ÁΩÆ‰∏∫trueÔºàÈªòËÆ§Â∞±ÊòØtrueÔºâÔºå‰∏ãÈù¢ÂºÄÂßãÊê≠Âª∫EurekaÊúçÂä°Á´ØÈõÜÁæ§Ôºå‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅËøôÈáåÂè™Êê≠Âª∫‰∏§‰∏™ËäÇÁÇπÁöÑEurekaÊúçÂä°Á´ØÈõÜÁæ§„ÄÇÂú®Eureka-ServerÈ°πÁõÆÁöÑsrc/main/resourceÁõÆÂΩï‰∏ãÊñ∞Âª∫application-peer1.ymlÔºåÈÖçÁΩÆÂ¶Ç‰∏ãÔºö123456789101112131415server: port: 8080spring: application: name: Eureka-Servereureka: instance: hostname: peer1 client: serviceUrl: defaultZone: http://peer2:8081/eureka/ server: enable-self-preservation: falseserver.port=8080ÊåáÂÆöÁ´ØÂè£‰∏∫8080Ôºõspring.application.name=Eureka-ServerÊåáÂÆö‰∫ÜÊúçÂä°ÂêçÁß∞‰∏∫Eureka-ServerÔºõeureka.instance.hostname=peer1ÊåáÂÆöÂú∞ÂùÄ‰∏∫peer1Ôºõeureka.client.serviceUrl.defaultZone=http://peer2:8081/eureka/ÊåáÂÆöEurekaÊúçÂä°Á´ØÁöÑÂú∞ÂùÄ‰∏∫Âè¶Â§ñ‰∏Ä‰∏™EurekaÊúçÂä°Á´ØÁöÑÂú∞ÂùÄpeer2„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÂàõÂª∫Âè¶Â§ñ‰∏Ä‰∏™EurekaÊúçÂä°Á´Øpeer2ÁöÑymlÈÖçÁΩÆapplication-peer2.ymlÔºö123456789101112131415server: port: 8081spring: application: name: Eureka-Servereureka: instance: hostname: peer2 client: serviceUrl: defaultZone: http://peer1:8080/eureka/ server: enable-self-preservation: falsepeer2‰∏≠ÁöÑserviceUrlÊàë‰ª¨ÊåáÂêëEurekaÊúçÂä°Á´Øpeer1„ÄÇ‰∏∫‰∫ÜËÆ©ËøôÁßçÂú®‰∏ÄÂè∞Êú∫Âô®‰∏äÈÖçÁΩÆ‰∏§‰∏™hostnameÁöÑÊñπÂºèÁîüÊïàÔºåÊàë‰ª¨ÈúÄË¶Å‰øÆÊîπ‰∏ãhostsÊñá‰ª∂Ôºà‰ΩçÁΩÆC:\Windows\System32\drivers\etcÔºâÔºö12127.0.0.1 peer1127.0.0.1 peer2Êàë‰ª¨Â∞ÜEureka-ServerÈ°πÁõÆÊâìÂåÖÊàêjarÔºåÁÑ∂ÂêéÂàÜÂà´ËøêË°å‰ª•‰∏ã‰∏§Êù°ÂëΩ‰ª§Êù•ÈÉ®ÁΩ≤peer1Âíåpeer2Ôºö12java -jar Eureka-Service-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer1java -jar Eureka-Service-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer2ÂêØÂä®ÂêéÔºåÊàë‰ª¨Êù•ËÆøÈóÆpeer1http://localhost:8080/ÔºöÂèØÁúãÂà∞DS Replicas(ÂâØÊú¨)ÊåáÂêë‰∫Üpeer2Ôºåregistered-replicasÂíåavailable-replicasÈÉΩÊåáÂêë‰∫Ühttp://peer2:8081/eureka/„ÄÇËÆøÈóÆhttp://localhost:8081/Êàë‰ª¨‰πüÂèØ‰ª•ÁúãÂà∞Á±ª‰ººÁöÑ‰ø°ÊÅØ„ÄÇÂõ†‰∏∫EurekaÊúçÂä°Á´ØÂÅö‰∫ÜÈõÜÁæ§Â§ÑÁêÜÔºåÊâÄ‰ª•EurekaÂÆ¢Êà∑Á´ØÊåáÂÆöÁöÑÊúçÂä°Á´ØÂú∞ÂùÄ‰πüË¶ÅËøõË°å‰øÆÊîπÔºö1234eureka: client: serviceUrl: defaultZone: http://peer1:8080/eureka/,http://peer2:8081/eureka/Êàë‰ª¨Â∞ÜEurekaÂÆ¢Êà∑Á´ØÔºàServer-ProviderÔºâÊâìÊàêjarÂåÖÔºåÁÑ∂ÂêéÂàÜÂà´Áî®Á´ØÂè£8082Âíå8083ÂêØÂä®‰∏§‰∏™ÊúçÂä°Ôºö12java -jar Eureka-Client-0.0.1-SNAPSHOT.jar --server.port=8082java -jar Eureka-Client-0.0.1-SNAPSHOT.jar --server.port=8083ÁÑ∂ÂêéËÆøÈóÆhttp://peer2:8080/eureka/ÊàñËÄÖhttp://peer2:8081/eureka/Ôºö Êê≠Âª∫Server-ConsumerÊúçÂä°Ê∂àË¥πËÄÖÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåEurekaÂÆ¢Êà∑Á´ØÂç≥ÊòØÊúçÂä°Êèê‰æõËÄÖÔºå‰πüÊòØÊúçÂä°Ê∂àË¥πËÄÖÔºåÂç≥Ëá™Ë∫´ÁöÑÊé•Âè£ÂèØËÉΩË¢´Âà´ÁöÑÊúçÂä°ËÆøÈóÆÔºåÂêåÊó∂‰πüÂèØËÉΩË∞ÉÁî®Âà´ÁöÑÊúçÂä°Êé•Âè£„ÄÇËøôÈáå‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÊºîÁ§∫ÔºåÊàë‰ª¨ÊääÊúçÂä°Ê∂àË¥πËÄÖÂçïÁã¨ÁöÑÂàÜÂºÄÊù•ÊºîÁ§∫„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåartifactIdÂ°´Server-ConsumerÔºåÂÖ∂‰∏ªË¶ÅÁöÑ‰ªªÂä°Â∞±ÊòØÂ∞ÜËá™Ë∫´ÁöÑÊúçÂä°Ê≥®ÂÜåÂà∞EurekaÊúçÂä°Á´ØÔºåÂπ∂‰∏îËé∑ÂèñEurekaÊúçÂä°Á´ØÊèê‰æõÁöÑÊúçÂä°Âπ∂ËøõË°åÊ∂àË¥π„ÄÇËøôÈáåÊúçÂä°ÁöÑÊ∂àË¥πÊàë‰ª¨Áî®RibbonÊù•ÂÆåÊàêÔºåRibbonÊòØ‰∏ÄÊ¨æÂÆûÁé∞ÊúçÂä°Ë¥üËΩΩÂùáË°°ÁöÑÂºÄÊ∫êËΩØ‰ª∂ÔºåËøôÈáå‰∏çÂÅöËØ¶ÁªÜ‰ªãÁªç„ÄÇÂºïÂÖ•EurekaÂÆ¢Êà∑Á´ØÂíåRibbon‰æùËµñÔºö12345678910111213141516171819202122232425&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Edgware.SR3&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-ribbon&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;ÂêåÊ†∑ÁöÑÔºåÂú®ÂÖ•Âè£Á±ª‰∏≠Âä†ÂÖ•@EnableDiscoveryClientÊ≥®Ëß£Áî®‰∫éÂèëÁé∞ÊúçÂä°ÂíåÊ≥®ÂÜåÊúçÂä°ÔºåÂπ∂ÈÖçÁΩÆ‰∏Ä‰∏™RestTemplate BeanÔºåÁÑ∂ÂêéÂä†‰∏ä@LoadBalancedÊ≥®Ëß£Êù•ÂºÄÂêØË¥üËΩΩÂùáË°°Ôºö1234567891011121314151617181920import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cloud.client.discovery.EnableDiscoveryClient;import org.springframework.cloud.client.loadbalancer.LoadBalanced;import org.springframework.context.annotation.Bean;import org.springframework.web.client.RestTemplate;@EnableDiscoveryClient@SpringBootApplicationpublic class DemoApplication &#123; @Bean @LoadBalanced RestTemplate restTemplate() &#123; return new RestTemplate(); &#125; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;Êé•ÁùÄÁºñÂÜô‰∏Ä‰∏™TestControllerÔºåÁî®‰∫éÊ∂àË¥πÊúçÂä°Ôºö12345678910@RestControllerpublic class TestController &#123; @Autowired private RestTemplate restTemplate; @GetMapping("/info") public String getInfo() &#123; return this.restTemplate.getForEntity("http://Server-Provider/info", String.class).getBody(); &#125;&#125;‰∏äÈù¢‰ª£Á†ÅÊ≥®ÂÖ•‰∫ÜRestTemplateÔºågetInfo‰∏≠‰ΩøÁî®RestTemplateÂØπË±°ÂùáË°°ÁöÑÂéªËé∑ÂèñÊúçÂä°Âπ∂Ê∂àË¥π„ÄÇÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨‰ΩøÁî®ÊúçÂä°ÂêçÁß∞ÔºàServer-ProviderÔºâÂéªËé∑ÂèñÊúçÂä°ÁöÑÔºåËÄå‰∏çÊòØ‰ΩøÁî®‰º†ÁªüÁöÑIPÂä†Á´ØÂè£ÁöÑÂΩ¢Âºè„ÄÇËøôÂ∞±‰ΩìÁé∞‰∫Ü‰ΩøÁî®EurekaÂéªËé∑ÂèñÊúçÂä°ÁöÑÂ•ΩÂ§ÑÔºåÊàë‰ª¨Âè™Ë¶Å‰øùËØÅËøô‰∏™ÊúçÂä°ÂêçÁß∞‰∏çÂèòÂç≥ÂèØÔºåIPÂíåÁ´ØÂè£‰∏çÂÜçÊòØÊàë‰ª¨ÂÖ≥ÂøÉÁöÑÁÇπ„ÄÇÊúÄÂêéÁºñÂÜô‰∏ãÈÖçÁΩÆÊñá‰ª∂application.ymlÔºö1234567891011server: port: 9000 spring: application: name: Server-Consumer eureka: client: serviceUrl: defaultZone: http://peer1:8080/eureka/,http://peer2:8081/eureka/Á´ØÂè£‰∏∫9000ÔºåÊúçÂä°ÂêçÁß∞‰∏∫Server-ConsumerÂπ∂ÊåáÂÆö‰∫ÜEurekaÊúçÂä°Á´ØÁöÑÂú∞ÂùÄ„ÄÇÂêØÂä®ËØ•È°πÁõÆÔºåËÆøÈóÆhttp://localhost:9000/infoÔºöÊàêÂäüËé∑ÂèñÂà∞‰∫Ü‰ø°ÊÅØÔºåÊàë‰ª¨Â§öÊ¨°ËÆøÈóÆËøô‰∏™Êé•Âè£ÔºåÁÑ∂ÂêéËßÇÂØü8082Âíå8083EurekaÂÆ¢Êà∑Á´ØÁöÑÂêéÂè∞ÔºöÂèØ‰ª•ÁúãÂà∞ÂÆÉ‰ª¨ÁöÑÂêéÂè∞ÈÉΩÊâìÂç∞Âá∫‰∫Ü‰ø°ÊÅØÔºåËØ¥ÊòéÊàë‰ª¨‰ªé9000ÂéªËé∑ÂèñÊúçÂä°ÊòØÂùáË°°ÁöÑ„ÄÇËøôÊó∂ÂÄôÊàë‰ª¨ÂÖ≥Èó≠‰∏Ä‰∏™EurekaÊúçÂä°Á´ØÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:9000/infoÔºåËøòÊòØÂèØ‰ª•ÊàêÂäüËé∑ÂèñÂà∞‰ø°ÊÅØÔºåËøôÂ∞±ÊòØEurekaÊúçÂä°Á´ØÈõÜÁæ§ÁöÑÂ•ΩÂ§Ñ„ÄÇEureka-ServerÊ∑ªÂä†ËÆ§ËØÅÂá∫‰∫éÂÆâÂÖ®ÁöÑËÄÉËôëÔºåÊàë‰ª¨ÂèØËÉΩ‰ºöÂØπEurekaÊúçÂä°Á´ØÊ∑ªÂä†Áî®Êà∑ËÆ§ËØÅÁöÑÂäüËÉΩ„ÄÇÊàë‰ª¨Âú®Eureka-ServerÂºïÂÖ•Spring-Security‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®application.yml‰∏≠ÈÖçÁΩÆÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºö123456security: basic: enabled: true user: name: mrbird password: 123456EurekaÊúçÂä°Á´ØÈÖçÁΩÆ‰∫ÜÂØÜÁ†Å‰πãÂêéÔºåÊâÄÊúâeureka.client.serviceUrl.defaultZoneÁöÑÈÖçÁΩÆ‰πüÂøÖÈ°ªÈÖçÁΩÆ‰∏äÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÊ†ºÂºè‰∏∫Ôºöeureka.client.serviceUrl.defaultZone=http://${userName}:${password}@${hosetname}:${port}/eureka/ÔºåÂ¶ÇÔºö1234eureka: client: serviceUrl: defaultZone: http://mrbird:123456@peer2:8081/eureka/ÈáçÊñ∞ÊâìÂåÖÂπ∂ÈÉ®ÁΩ≤ÂêéÔºåËÆøÈóÆhttp://localhost:8080/ÔºåÈ°µÈù¢Â∞ÜÂºπÂá∫È™åËØÅÁ™óÂè£ÔºåËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂêéÂç≥ÂèØËÆøÈóÆ„ÄÇEurekaÈÖçÁΩÆ‰∏ãÈù¢Êàë‰ª¨ÊÄªÁªì‰∏Ä‰∏ãÂú®Eureka‰∏≠Â∏∏Áî®ÁöÑÈÖçÁΩÆÈÄâÈ°πÂèä‰ª£Ë°®ÁöÑÂê´‰πâÔºöÈÖçÁΩÆÂê´‰πâÈªòËÆ§ÂÄºeureka.client.enabledÊòØÂê¶ÂêØÁî®Eureka Clienttrueeureka.client.register-with-eurekaË°®Á§∫ÊòØÂê¶Â∞ÜËá™Â∑±Ê≥®ÂÜåÂà∞Eureka Servertrueeureka.client.fetch-registryË°®Á§∫ÊòØÂê¶‰ªéEureka ServerËé∑ÂèñÊ≥®ÂÜåÁöÑÊúçÂä°‰ø°ÊÅØtrueeureka.client.serviceUrl.defaultZoneÈÖçÁΩÆEureka ServerÂú∞ÂùÄÔºåÁî®‰∫éÊ≥®ÂÜåÊúçÂä°ÂíåËé∑ÂèñÊúçÂä°http://localhost:8761/eurekaeureka.client.registry-fetch-interval-secondsÈªòËÆ§ÂÄº‰∏∫30ÁßíÔºåÂç≥ÊØè30ÁßíÂéªEureka Server‰∏äËé∑ÂèñÊúçÂä°Âπ∂ÁºìÂ≠ò30eureka.instance.lease-renewal-interval-in-secondsÂêëEureka ServerÂèëÈÄÅÂøÉË∑≥ÁöÑÈó¥ÈöîÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÁßíÔºåÁî®‰∫éÊúçÂä°Áª≠Á∫¶30eureka.instance.lease-expiration-duration-in-secondsÂÆö‰πâÊúçÂä°Â§±ÊïàÊó∂Èó¥ÔºåÂç≥Eureka ServerÊ£ÄÊµãÂà∞Eureka ClientÊú®ÊúâÂøÉË∑≥ÂêéÔºàÂÆ¢Êà∑Á´ØÊÑèÂ§ñ‰∏ãÁ∫øÔºâÂ§öÂ∞ëÁßíÂ∞ÜÂÖ∂ÂâîÈô§90eureka.server.enable-self-preservationÁî®‰∫éÂºÄÂêØEureka ServerËá™Êàë‰øùÊä§ÂäüËÉΩtrueeureka.client.instance-info-replication-interval-secondsÊõ¥Êñ∞ÂÆû‰æã‰ø°ÊÅØÁöÑÂèòÂåñÂà∞EurekaÊúçÂä°Á´ØÁöÑÈó¥ÈöîÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫Áßí30eureka.client.eureka-service-url-poll-interval-secondsËΩÆËØ¢EurekaÊúçÂä°Á´ØÂú∞ÂùÄÊõ¥ÊîπÁöÑÈó¥ÈöîÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫Áßí„ÄÇ300eureka.instance.prefer-ip-addressË°®Á§∫‰ΩøÁî®IPËøõË°åÈÖçÁΩÆ‰∏∫‰∏çÊòØÂüüÂêçfalseeureka.client.healthcheck.enabledÈªòËÆ§Erueka ServerÊòØÈÄöËøáÂøÉË∑≥Êù•Ê£ÄÊµãEureka ClientÁöÑÂÅ•Â∫∑Áä∂ÂÜµÁöÑÔºåÈÄöËøáÁΩÆ‰∏∫trueÊîπÂèòEeureka ServerÂØπÂÆ¢Êà∑Á´ØÂÅ•Â∫∑Ê£ÄÊµãÁöÑÊñπÂºèÔºåÊîπÁî®ActuatorÁöÑ/healthÁ´ØÁÇπÊù•Ê£ÄÊµã„ÄÇfalseEurekaËøòÊúâËÆ∏Â§öÂà´ÁöÑÈÖçÁΩÆÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉEurekaClientConfigBeanÔºåEurekaServerConfigBeanÂíåEurekaInstanceConfigBeanÈÖçÁΩÆÁ±ªÁöÑÊ∫êÁ†Å„ÄÇÂèÇËÄÉÈìæÊé•Ôºöhttp://cloud.spring.io/spring-cloud-netflix/1.4.x/multi/multi__service_discovery_eureka_clients.htmlÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/28.Spring-Cloud-Eureka-Server-Discovery]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Cloud</tag>
        <tag>Eureka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Security OAuth2 SSO]]></title>
    <url>%2FSpring-Security-OAuth2-SSO.html</url>
    <content type="text"><![CDATA[SSOÔºàSingle Sign OnÔºâÂç≥ÂçïÁÇπÁôªÂΩïÔºåÊïàÊûúÊòØÂ§ö‰∏™Á≥ªÁªüÈó¥ÔºåÂè™Ë¶ÅÁôªÂΩï‰∫ÜÂÖ∂‰∏≠‰∏Ä‰∏™Á≥ªÁªüÔºåÂà´ÁöÑÁ≥ªÁªü‰∏çÁî®ÁôªÂΩïÊìç‰Ωú‰πüËÉΩËÆøÈóÆ„ÄÇÊØîÂ¶ÇÂú®ÊµèËßàÂô®‰∏äÂêåÊó∂ÊâìÂºÄÂ§©Áå´ÂíåÊ∑òÂÆùÈ°µÈù¢ÔºåÂú®Â§©Áå´È°µÈù¢ËøõË°åÁôªÂΩïÔºåÁÑ∂ÂêéÂõûÂà∞Ê∑òÂÆùÈ°µÈù¢Âà∑Êñ∞Âêé‰ºöÂèëÁé∞Ê∑òÂÆù‰πüÂ∑≤ÁªèÊòØÁôªÂΩïÁä∂ÊÄÅ‰∫Ü„ÄÇËøôËäÇÂ∞Ü‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®Spring Security OAuth2ÂÆûÁé∞ÂçïÁÇπÁôªÂΩï„ÄÇÊ°ÜÊû∂Êê≠Âª∫Êàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™mavenÂ§öÊ®°ÂùóÈ°πÁõÆÔºåÂåÖÂê´ËÆ§ËØÅÊúçÂä°Âô®Âíå‰∏§‰∏™ÂÆ¢Êà∑Á´Ø„ÄÇÊñ∞Âª∫‰∏Ä‰∏™mavenÈ°πÁõÆÔºå‰Ωú‰∏∫È°πÁõÆÁöÑÁà∂Ê®°ÂùóÔºåpomÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;modules&gt; &lt;module&gt;sso-application-one&lt;/module&gt; &lt;module&gt;sso-application-two&lt;/module&gt; &lt;module&gt;sso-server&lt;/module&gt; &lt;/modules&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.6.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;sso&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;sso&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;ÁÑ∂ÂêéÂú®ËØ•mavenÈ°πÁõÆ‰∏ãÊñ∞Âª∫‰∏Ä‰∏™moduleÔºåartifactId‰∏∫sso-serverÔºà‰Ωú‰∏∫ËÆ§ËØÅÊúçÂä°Âô®ÔºâÔºåpomÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;parent&gt; &lt;artifactId&gt;sso&lt;/artifactId&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;artifactId&gt;sso-server&lt;/artifactId&gt;&lt;/project&gt;Êé•ÁùÄÁªßÁª≠Êñ∞Â¢û‰∏Ä‰∏™moduleÊ®°ÂùóÔºåartifactId‰∏∫sso-application-oneÔºà‰Ωú‰∏∫ÂÆ¢Êà∑Á´Ø‰∏ÄÔºâÔºåpomÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;parent&gt; &lt;artifactId&gt;sso&lt;/artifactId&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;artifactId&gt;sso-application-one&lt;/artifactId&gt;&lt;/project&gt;Âè¶Â§ñ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂíåsso-application-one‰∏ÄËá¥ÔºåÂè™‰∏çËøáartifactId‰∏∫sso-application-two„ÄÇËá≥Ê≠§ÔºåÈ°πÁõÆÁöÑÂü∫Êú¨Ê°ÜÊû∂Êê≠Âª∫Â•Ω‰∫ÜÔºåÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫:ËÆ§ËØÅÊúçÂä°Âô®ÈÖçÁΩÆËÆ§ËØÅÊúçÂä°Âô®‰ΩúÁî®Â∞±ÊòØ‰Ωú‰∏∫Áªü‰∏Ä‰ª§ÁâåÂèëÊîæÂπ∂Ê†°È™åÁöÑÂú∞ÊñπÔºåÊâÄ‰ª•Êàë‰ª¨ÂÖàË¶ÅÁºñÂÜô‰∏Ä‰∫õÂü∫Êú¨ÁöÑSpring Security ÂÆâÂÖ®ÈÖçÁΩÆÁöÑ‰ª£Á†ÅÊåáÂÆöÂ¶Ç‰ΩïËøõË°åÁî®Êà∑ËÆ§ËØÅ„ÄÇÊñ∞Âª∫‰∏Ä‰∏™Spring SecurityÈÖçÁΩÆÁ±ªÔºåÁªßÊâøWebSecurityConfigurerAdapterÔºö12345678910111213141516@Configurationpublic class WebSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Bean public PasswordEncoder passwordEncoder() &#123; return new BCryptPasswordEncoder(); &#125; @Override protected void configure(HttpSecurity http) throws Exception &#123; http.formLogin() .and() .authorizeRequests() .anyRequest() .authenticated(); &#125;&#125;‰∏äÈù¢ÁÆÄÂçïÈÖçÁΩÆ‰∫ÜÂØÜÁ†ÅÂä†ÂØÜ‰ΩøÁî®bcryptÊñπÂºèÔºåÂπ∂‰∏îÊâÄÊúâËØ∑Ê±ÇÈÉΩÈúÄË¶ÅËÆ§ËØÅÔºåËÆ§ËØÅÊñπÂºè‰∏∫Spring SecurityËá™Â∏¶ÁöÑÁôªÂΩïÈ°µÈù¢ËÆ§ËØÅÔºà‰πüÂèØ‰ª•Ê†πÊçÆÂâçÈù¢ÊïôÁ®ãÊù•Ëá™ÂÆö‰πâÁôªÂΩïÈ°µÈù¢ÔºåËøôÈáå‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºåÂ∞±Áõ¥Êé•Áî®Ëá™Â∏¶ÁöÑÁôªÂΩïÈ°µ‰∫ÜÔºâ„ÄÇÊé•ÁùÄÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁî®Êà∑ÁôªÂΩïËÆ§ËØÅÁöÑÊúçÂä°Ôºö1234567891011121314151617@Configurationpublic class UserDetailService implements UserDetailsService &#123; @Autowired private PasswordEncoder passwordEncoder; @Override public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException &#123; MyUser user = new MyUser(); user.setUserName(username); user.setPassword(this.passwordEncoder.encode("123456")); return new User(username, user.getPassword(), user.isEnabled(), user.isAccountNonExpired(), user.isCredentialsNonExpired(), user.isAccountNonLocked(), AuthorityUtils.commaSeparatedStringToAuthorityList("user:add")); &#125;&#125;Âü∫Êú¨ÈÄªËæëÊòØÁî®Êà∑ÂêçÈöè‰æøÂÜôÔºåÂØÜÁ†Å‰∏∫123456ÔºåÂπ∂‰∏îÊã•Êúâuser:addÊùÉÈôê„ÄÇËøô‰∫õÂâçÈù¢ÈÉΩ‰ªãÁªçËøá‰∫ÜÔºåÂ∞±‰∏çÂÜçËØ¶ÁªÜËØ¥Êòé‰∫Ü„ÄÇMyUserÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516public class MyUser implements Serializable &#123; private static final long serialVersionUID = 3497935890426858541L; private String userName; private String password; private boolean accountNonExpired = true; private boolean accountNonLocked= true; private boolean credentialsNonExpired= true; private boolean enabled= true; // getÔºåsetÁï•&#125;Êé•ÁùÄÂºÄÂßãÁºñÂÜôËÆ§ËØÅÊúçÂä°Âô®ÈÖçÁΩÆ„ÄÇÊñ∞Âª∫SsoAuthorizationServerConfigÔºåÁªßÊâøAuthorizationServerConfigurerAdapterÔºö1234567891011121314151617181920212223242526272829303132333435363738@Configuration@EnableAuthorizationServerpublic class SsoAuthorizationServerConfig extends AuthorizationServerConfigurerAdapter &#123; @Autowired private PasswordEncoder passwordEncoder; @Autowired private UserDetailService userDetailService; @Bean public TokenStore jwtTokenStore() &#123; return new JwtTokenStore(jwtAccessTokenConverter()); &#125; @Bean public JwtAccessTokenConverter jwtAccessTokenConverter() &#123; JwtAccessTokenConverter accessTokenConverter = new JwtAccessTokenConverter(); accessTokenConverter.setSigningKey("test_key"); return accessTokenConverter; &#125; @Override public void configure(ClientDetailsServiceConfigurer clients) throws Exception &#123; // ËßÅ‰∏ãÊñπ &#125; @Override public void configure(AuthorizationServerEndpointsConfigurer endpoints) &#123; endpoints.tokenStore(jwtTokenStore()) .accessTokenConverter(jwtAccessTokenConverter()) .userDetailsService(userDetailService); &#125; @Override public void configure(AuthorizationServerSecurityConfigurer security) &#123; security.tokenKeyAccess("isAuthenticated()"); // Ëé∑ÂèñÂØÜÈí•ÈúÄË¶ÅË∫´‰ªΩËÆ§ËØÅ &#125;&#125;Token‰ΩøÁî®JWTÔºåËøô‰∫õÈÖçÁΩÆÈÉΩÂú®ÂâçÈù¢Âá†ËäÇOAuth2ÊïôÁ®ãÈáå‰ªãÁªçËøá‰∫ÜÂ∞±‰∏çÂÜçËµòËø∞‰∫ÜÔºåËøôÈáåËØ¶ÁªÜËØ¥‰∏ãconfigure(ClientDetailsServiceConfigurer clients)ÁöÑÈÖçÁΩÆÔºö1234567891011121314151617...@Overridepublic void configure(ClientDetailsServiceConfigurer clients) throws Exception &#123; clients.inMemory() .withClient("app-a") .secret(passwordEncoder.encode("app-a-1234")) .authorizedGrantTypes("refresh_token","authorization_code") .accessTokenValiditySeconds(3600) .scopes("all"); .and() .withClient("app-b") .secret(passwordEncoder.encode("app-b-1234")) .authorizedGrantTypes("refresh_token","authorization_code") .accessTokenValiditySeconds(7200) .scopes("all");&#125;...ËøôÈáåÂàÜÈÖç‰∫Ü‰∏§‰∏™ÂÆ¢Êà∑Á´ØÈÖçÁΩÆÔºåÂàÜÂà´‰∏∫app-aÂíåapp-bÔºåÂõ†‰∏∫‰ΩøÁî®ÈªòËÆ§ÁöÑSpring SecurityÁôªÂΩïÈ°µÈù¢Êù•ËøõË°åËÆ§ËØÅÔºåÊâÄ‰ª•ÈúÄË¶ÅÂºÄÂêØauthorization_codeÁ±ªÂûãËÆ§ËØÅÊîØÊåÅ„ÄÇËÆ§ËØÅÊúçÂä°Âô®ÁöÑapplication.ymlÈÖçÁΩÆÂ¶Ç‰∏ãÔºö1234server: port: 8080 servlet: context-path: /serverËÆ§ËØÅÊúçÂä°Âô®ÁöÑÊê≠Âª∫Â∞±Âëä‰∏ÄÊÆµËêΩ‰∫ÜÔºåÊé•‰∏ãÊù•ÂºÄÂßãÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÁºñÂÜô„ÄÇÂÆ¢Êà∑Á´ØÈÖçÁΩÆ‰∏§‰∏™ÂÆ¢Êà∑Á´ØÁöÑ‰ª£Á†ÅÂü∫Êú¨‰∏ÄËá¥ÔºåÊâÄ‰ª•ËøôÈáåÂè™‰ªãÁªçÂÖ∂‰∏≠‰∏Ä‰∏™ÔºåÂè¶‰∏Ä‰∏™ÂèØ‰ª•ÂèÇËÄÉÊ∫êÁ†Å„ÄÇÂú®ÂÆ¢Êà∑Á´ØSpringBootÂÖ•Âè£Á±ª‰∏äÊ∑ªÂä†@EnableOAuth2SsoÊ≥®Ëß£ÔºåÂºÄÂêØSSOÁöÑÊîØÊåÅÔºö12345678@EnableOAuth2Sso@SpringBootApplicationpublic class SsoApplicaitonOne &#123; public static void main(String[] args) &#123; new SpringApplicationBuilder(SsoApplicaitonOne.class).run(args); &#125;&#125;Êé•‰∏ãÊù•ÁöÑÈáçÁÇπÊòØÈÖçÁΩÆÊñá‰ª∂application.ymlÁöÑÈÖçÁΩÆÔºö1234567891011121314security: oauth2: client: client-id: app-a client-secret: app-a-1234 user-authorization-uri: http://127.0.0.1:8080/server/oauth/authorize access-token-uri: http://127.0.0.1:8080/server/oauth/token resource: jwt: key-uri: http://127.0.0.1:8080/server/oauth/token_keyserver: port: 9090 servlet: context-path: /app1security.oauth2.client.client-idÂíåsecurity.oauth2.client.client-secretÊåáÂÆö‰∫ÜÂÆ¢Êà∑Á´ØidÂíåÂØÜÁ†ÅÔºåËøôÈáåÂíåËÆ§ËØÅÊúçÂä°Âô®ÈáåÈÖçÁΩÆÁöÑclient‰∏ÄËá¥ÔºàÂè¶Â§ñ‰∏Ä‰∏™ÂÆ¢Êà∑Á´Ø‰∏∫app-bÔºâÔºõuser-authorization-uriÊåáÂÆö‰∏∫ËÆ§ËØÅÊúçÂä°Âô®ÁöÑ/oauth/authorizeÂú∞ÂùÄÔºåaccess-token-uriÊåáÂÆö‰∏∫ËÆ§ËØÅÊúçÂä°Âô®ÁöÑ/oauth/tokenÂú∞ÂùÄÔºåjwt.key-uriÊåáÂÆö‰∏∫ËÆ§ËØÅÊúçÂä°Âô®ÁöÑ/oauth/token_keyÂú∞ÂùÄ„ÄÇËøôÈáåÁ´ØÂè£ÊåáÂÆö‰∏∫9090Ôºåcontext-path‰∏∫app1ÔºåÂè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁ´ØÂè£ÊåáÂÆö‰∏∫9091Ôºåcontext-path‰∏∫app2„ÄÇÊé•ÁùÄÂú®resources/static‰∏ãÊñ∞Â¢û‰∏Ä‰∏™index.htmlÈ°µÈù¢ÔºåÁî®‰∫éË∑≥ËΩ¨Âà∞Âè¶Â§ñ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÔºö1234567891011&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;ÁÆ°ÁêÜÁ≥ªÁªü‰∏Ä&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;ÁÆ°ÁêÜÁ≥ªÁªü‰∏Ä&lt;/h1&gt; &lt;a href="http://127.0.0.1:9091/app2/index.html"&gt;Ë∑≥ËΩ¨Âà∞ÁÆ°ÁêÜÁ≥ªÁªü‰∫å&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;‰∏∫‰∫ÜÈ™åËØÅÊòØÂê¶ËÆ§ËØÅÊàêÂäüÔºåÊàë‰ª¨Êñ∞Â¢û‰∏Ä‰∏™ÊéßÂà∂Âô®Ôºö12345678@RestControllerpublic class UserController &#123; @GetMapping("user") public Principal user(Principal principal) &#123; return principal; &#125;&#125;Âè¶Â§ñ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁöÑ‰ª£Á†ÅÁï•ÔºåÂèØ‰ª•ÂèÇËÄÉÊ∫êÁ†Å„ÄÇÊµãËØïÊïàÊûúÂÖàÂêØÂä®ËÆ§ËØÅÊúçÂä°Âô®Ôºå‰ªª‰ΩïÂú®ÂêØÂä®‰∏§‰∏™ÂÆ¢Êà∑Á´Ø„ÄÇÂêØÂä®ÂêéÔºåËÆøÈóÆhttp://127.0.0.1:9090/app1/index.htmlÔºöÂèØ‰ª•ÁúãÂà∞È°µÈù¢Ë¢´ÈáçÂÆöÂêëÂà∞ËÆ§ËØÅÊúçÂä°Âô®ÁöÑÁôªÂΩïÈ°µÈù¢ÔºåÊ†πÊçÆÊàë‰ª¨ÂÆö‰πâÁöÑUserDetailServiceÔºåÁî®Êà∑ÂêçÈöè‰æøÂ°´ÔºåÂØÜÁ†Å‰∏∫123456„ÄÇÁôªÂΩïÂêéÈ°µÈù¢Ë∑≥ËΩ¨Âà∞ÔºöËøô‰∏™URL‰∏∫:http://127.0.0.1:8080/server/oauth/authorize?client_id=app-a&amp;redirect_uri=http://127.0.0.1:9090/app1/login&amp;response_type=code&amp;state=7DqcbrÈ°µÈù¢ÊèêÁ§∫ÁöÑÊÑèÊÄùÊòØÔºöÈùûÊ≥ïËØ∑Ê±ÇÔºåËá≥Â∞ëÈúÄË¶Å‰∏Ä‰∏™ÈáçÂÆöÂêëURLË¢´Ê≥®ÂÜåÂà∞client„ÄÇ‰ªéURL‰∏≠ÂèØ‰ª•ÁúãÂá∫Ôºåredirect_uri‰∏∫http://127.0.0.1:9090/app1/loginÔºåÊâÄ‰ª•Êàë‰ª¨‰øÆÊîπËÆ§ËØÅÊúçÂä°Âô®clientÁõ∏ÂÖ≥ÈÖçÁΩÆÂ¶Ç‰∏ãÔºö1234567891011121314151617@Overridepublic void configure(ClientDetailsServiceConfigurer clients) throws Exception &#123; clients.inMemory() .withClient("app-a") .secret(passwordEncoder.encode("app-a-1234")) .authorizedGrantTypes("refresh_token","authorization_code") .accessTokenValiditySeconds(3600) .scopes("all") .redirectUris("http://127.0.0.1:9090/app1/login") .and() .withClient("app-b") .secret(passwordEncoder.encode("app-b-1234")) .authorizedGrantTypes("refresh_token","authorization_code") .accessTokenValiditySeconds(7200) .scopes("all") .redirectUris("http://127.0.0.1:9091/app2/login");&#125;ÈáçÂêØËÆ§ËØÅÊúçÂä°Âô®ÔºåÈáçÂ§ç‰∏äÈù¢ÁöÑËøáÁ®ãÔºåËøôÊ¨°ÁôªÂΩïÂêéÔºåÈ°µÈù¢Ë∑≥ËΩ¨Âà∞‰∫ÜÊéàÊùÉÈ°µÈù¢ÔºöÁÇπÂáªAuthorizeÔºöËøôÊó∂ÂÄôapp-aÂØπÂ∫îÁöÑÂÆ¢Êà∑Á´ØÂ∑≤ÁªèÁôªÂΩï‰∫ÜÔºåÁÇπÂáªË∑≥ËΩ¨Âà∞Á≥ªÁªü‰∫åÔºöÈ°µÈù¢Áõ¥Êé•Êù•Âà∞ÊéàÊùÉÈ°µÔºåËÄå‰∏çÈúÄË¶ÅÈáçÊñ∞ËæìÂÖ•Áî®Êà∑ÂêçÂØÜÁ†ÅÔºåÁªßÁª≠ÁÇπÂáªAuthorizeÔºöÁ≥ªÁªü‰∫å‰πüÂ∑≤ÁªèÊàêÂäüÁôªÂΩïÔºåËÆøÈóÆhttp://127.0.0.1:9091/app2/userÁúãÊòØÂê¶ËÉΩÊàêÂäüËé∑ÂèñÂà∞Áî®Êà∑‰ø°ÊÅØÔºöÂà∞ËøôÈáåÊàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫ÜÂçïÁÇπÁôªÂΩïÁöÑÂü∫Êú¨ÂäüËÉΩ‰∫Ü„ÄÇ‰ΩÜÊòØÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÈúÄË¶ÅÁî®Êà∑ÁÇπÂáªAuthorizeÊéàÊùÉÔºå‰ΩìÈ™åÂπ∂‰∏çÊòØÂæàÂ•ΩÔºåÊàë‰ª¨ÂèØ‰ª•ÂéªÊéâÂÆÉ„ÄÇ‰øÆÊîπËÆ§ËØÅÊúçÂä°Âô®ClientÈÖçÁΩÆÂ¶Ç‰∏ãÔºö12345678910111213141516171819@Overridepublic void configure(ClientDetailsServiceConfigurer clients) throws Exception &#123; clients.inMemory() .withClient("app-a") .secret(passwordEncoder.encode("app-a-1234")) .authorizedGrantTypes("refresh_token","authorization_code") .accessTokenValiditySeconds(3600) .scopes("all") .autoApprove(true) .redirectUris("http://127.0.0.1:9090/app1/login") .and() .withClient("app-b") .secret(passwordEncoder.encode("app-b-1234")) .authorizedGrantTypes("refresh_token","authorization_code") .accessTokenValiditySeconds(7200) .scopes("all") .autoApprove(true) .redirectUris("http://127.0.0.1:9091/app2/login");&#125;autoApprove(true)Ëá™Âä®ÊéàÊùÉ„ÄÇ‰øÆÊîπÂêéÈáçÂêØÂç≥ÂèØÁúãÂà∞ÊïàÊûú„ÄÇÊùÉÈôêÊ†°È™åSpring SecurityÊùÉÈôêÊ†°È™åÂâçÈù¢‰ªãÁªçËøá‰∫ÜÔºåËøôÈáåÁúã‰∏ãÂú®ÂçïÁÇπÁôªÂΩïÊ®°Âºè‰∏ãÂ¶Ç‰ΩïËøõË°åÊùÉÈôêÊ†°È™å„ÄÇÂú®ÂÆ¢Êà∑Á´ØÊéßÂà∂Âô®ÈáåÂä†ÂÖ•Â¶Ç‰∏ã‰ª£Á†Å:1234567891011@GetMapping("auth/test1")@PreAuthorize("hasAuthority('user:add')")public String authTest1()&#123; return "ÊÇ®Êã•Êúâ'user:add'ÊùÉÈôê";&#125;@GetMapping("auth/test2")@PreAuthorize("hasAuthority('user:update')")public String authTest2()&#123; return "ÊÇ®Êã•Êúâ'user:update'ÊùÉÈôê";&#125;Âú®ÂÆ¢Êà∑Á´ØÊñ∞Â¢ûSpring SecurityÈÖçÁΩÆÁ±ª:1234@Configuration@EnableGlobalMethodSecurity(prePostEnabled = true)public class WebSecurityConfigurer extends WebSecurityConfigurerAdapter &#123;&#125;ÊîπÂÆåÂêéÔºåÂÖàÂêØÂä®ËÆ§ËØÅÊúçÂä°Âô®ÔºåÂú®ÂêØÂä®ÂÆ¢Êà∑Á´Ø„ÄÇÂú®ÂêØÂä®ÂÆ¢Êà∑Á´ØÁöÑÊó∂ÂÄôÂá∫Áé∞ÂºÇÂ∏∏Ôºö12345678910Caused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on cc.mrbird.sso.client.config.WebSecurityConfigurer$$EnhancerBySpringCGLIB$$aa470b71@34d45ec0, so it cannot be used on org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2SsoDefaultConfiguration$$EnhancerBySpringCGLIB$$6f69df92@18137eab too. at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:148) ~[spring-security-config-5.1.5.RELEASE.jar:5.1.5.RELEASE] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171] at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:708) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE] at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE] at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE] ... 16 common frames omittedÂ§ßËá¥ÊÑèÊÄùÊòØÔºåËÆ§ËØÅÊúçÂä°Âô®Â∑≤ÁªèÈÖçÁΩÆ‰∫ÜSpring SecurityÈÖçÁΩÆÔºåÂπ∂‰∏îÈ°∫Â∫è‰∏∫100ÔºåÂíåÂÆ¢Êà∑Á´ØÁöÑSpring SecurityÈÖçÁΩÆÂÜ≤Á™Å‰∫Ü„ÄÇÊâÄ‰ª•Êàë‰ª¨‰øÆÊîπ‰∏ãÂÆ¢Êà∑Á´ØÁöÑSpring SecurityÈÖçÁΩÆÈ°∫Â∫èÔºö12345@Order(101)@Configuration@EnableGlobalMethodSecurity(prePostEnabled = true)public class WebSecurityConfigurer extends WebSecurityConfigurerAdapter &#123;&#125;ËÆ©ÂÆÉÁöÑ‰ºòÂÖàÁ∫ßÂ∞è‰∫éËÆ§ËØÅÊúçÂä°Âô®ÁöÑSpring SecurityÈÖçÁΩÆ„ÄÇÈáçÊñ∞ÂêØÂä®ÂÆ¢Êà∑Á´ØÔºåËøõË°åÂçïÁÇπÁôªÂΩïÊìç‰ΩúÔºåÁôªÂΩïÊàêÂäüÂêéÔºåËÆøÈóÆhttp://127.0.0.1:9090/app1/auth/test1ÔºöËÆøÈóÆhttp://127.0.0.1:9090/app1/auth/test2ÔºöËøîÂõû403ÔºåÊ≤°ÊùÉÈôêÔºåËØ¥ÊòéÊùÉÈôêÊ≥®Ëß£ÁîüÊïà‰∫Ü„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/66.Spring-Security-OAuth2-SSO]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Cloud</tag>
        <tag>Spring Security</tag>
        <tag>OAuth2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ECMAScript 6Â≠¶‰π†Á¨îËÆ∞]]></title>
    <url>%2FES2015-Learn-Note.html</url>
    <content type="text"><![CDATA[ECMAScript 6.0Ôºà‰ª•‰∏ãÁÆÄÁß∞ ES6ÔºâÊòØ JavaScript ËØ≠Ë®ÄÁöÑ‰∏ã‰∏Ä‰ª£Ê†áÂáÜÔºåÂ∑≤ÁªèÂú® 2015 Âπ¥ 6 ÊúàÊ≠£ÂºèÂèëÂ∏É‰∫Ü„ÄÇÂÆÉÁöÑÁõÆÊ†áÔºåÊòØ‰ΩøÂæó JavaScript ËØ≠Ë®ÄÂèØ‰ª•Áî®Êù•ÁºñÂÜôÂ§çÊùÇÁöÑÂ§ßÂûãÂ∫îÁî®Á®ãÂ∫èÔºåÊàê‰∏∫‰ºÅ‰∏öÁ∫ßÂºÄÂèëËØ≠Ë®Ä„ÄÇËøôÈáå‰∏ªË¶ÅËÆ∞ÂΩï‰∏ãÂ≠¶‰π†ES6‰∏≠ÂÄºÂæóËÆ∞ÂΩïÁöÑÂú∞ÊñπÔºå‰ª•Â§áÂøò„ÄÇconstÊÅíÈáècontÈôêÂà∂ÁöÑÁªôÊÅíÈáèÂàÜÈÖçÂÄºÂæóÂä®‰ΩúÔºåËÄå‰∏çÊòØÈôêÂà∂ÊÅíÈáèÈáåÁöÑÂÄºÔºåÊØîÂ¶Ç‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠êÂ§±Ë¥•ÁöÑÔºö12345const fruit = 'üçé'console.log(fruit)const fruit = 'üçã'console.log(fruit)ËÄå‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠êÊòØÂèØË°åÁöÑÔºö123const fruit = []fruit.push('üçã')console.log(fruit)Ëß£ÊûÑËß£ÊûÑÂ∞±ÊòØÂ∞Ü‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑËøõË°åÂàÜËß£ÔºåÈÄöÂ∏∏ÂàÜ‰∏∫Êï∞ÁªÑËß£ÊûÑÔºåÂØπË±°Ëß£ÊûÑÂíåÂèÇÊï∞Ëß£ÊûÑ„ÄÇÊï∞ÁªÑËß£ÊûÑÂú®ES6‰πãÂâçÔºåË¶ÅÂ∞ÜÊï∞ÁªÑÈáåÁöÑÊØè‰∏™ÂÄºÂàÜÈÖçÁªô‰∏Ä‰∏™ÂèòÈáèÔºåÈúÄË¶ÅËøôÊ†∑ÂÅö:123456789function food() &#123; return ['üç∞', '‚òï', 'üçì']&#125;var temp = food()var dessert = temp[0]var drink = temp[1]var fruit = temp[2]console.log(dessert, drink, fruit)ES6ÂêéÂèØ‰ª•ËøôÊ†∑ÂÅöÔºö123456function food() &#123; return ['üç∞', '‚òï', 'üçì']&#125;let [dessert, drink, fruit] = food()console.log(dessert, drink, fruit)ËæìÂá∫ÁªìÊûúÊòØ‰∏ÄÊ†∑ÁöÑÔºåÊòØ‰∏çÊòØÂæàÊñπ‰æøÔºüÂØπË±°Ëß£ÊûÑÂ∞ÜfoodËøîÂõûÊîπ‰∏∫‰∏Ä‰∏™ÂØπË±°ÔºåÁÑ∂ÂêéËß£ÊûÑÔºö123456function food() &#123; return &#123;dessert: 'üç∞', drink: '‚òï', fruit: 'üçì'&#125;&#125;let &#123;dessert: dessert1, drink: drink1, fruit: fruit1&#125; = food()console.log(dessert1, drink1, fruit1)ËøôÈáåÂÅöÁöÑÊòØÂ∞ÜÂØπË±°ÈáåÁöÑdessertÂ±ûÊÄßÂÄºËµã‰∫àÁªôdessert1Ôºå‰æùÊ≠§Á±ªÊé®ÔºåÊúâÁÇπÈ¢†ÂÄíÁöÑÊÑüËßâÔºåÁªìÊûúÂ¶Ç‰∏ãÔºöÂèÇÊï∞Ëß£ÊûÑ‰ΩøÁî®ÂØπË±°Ëß£ÊûÑÁöÑÊñπÂºèÔºåÊàë‰ª¨ÂèØ‰ª•ÂæàÂÆπÊòìÁöÑÁªôÂáΩÊï∞‰º†ÈÄí‰∏Ä‰∏™ÂØπË±°ÂèÇÊï∞Ôºö12345function food(dessert, drink, &#123;location, restaurant&#125; = &#123;&#125;) &#123; console.log(dessert, drink, location, restaurant)&#125;food('üéÇ', '‚òï', &#123;location: 'fuzhou', restaurant: 'MrBird\'s Restaurant'&#125;)Ê®°ÊùøÂ≠óÁ¨¶‰∏≤ES6‰πãÂâçÁöÑÂ≠óÁ¨¶‰∏≤ÊãºÊé•Ôºö123456let weather = 'üåû', mood = 'üòÑ', drink = 'üç∏'let message = "‰ªäÂ§©Â§©Ê∞îÔºö" + weather + "ÔºåÂñù‰∫Ü‰∏ÄÊùØÔºö" + drink + "ÔºåÂøÉÊÉÖÔºö" + moodconsole.log(message)ES6ÂêéÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑ÂÅöÔºö123456let weather = 'üåû', mood = 'üòÑ', drink = 'üç∏'let message = `‰ªäÂ§©Â§©Ê∞îÔºö$&#123;weather&#125; ÔºåÂñù‰∫Ü‰∏ÄÊùØÔºö$&#123;drink&#125; ÔºåÂøÉÊÉÖÔºö$&#123;mood&#125;`console.log(message)Â∏¶Ê†áÁ≠æÁöÑÊ®°ÊùøÂ≠óÁ¨¶‰∏≤ÂèØ‰ª•Âú®Ê®°ÊùøÂ≠óÁ¨¶‰∏≤ÂâçÂä†‰∏™Ê†áÁ≠æÔºåËøô‰∏™Ê†áÁ≠æÊòØ‰∏™ÂáΩÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•Âú®Ëøô‰∏™ÂáΩÊï∞ÈáåËæìÂá∫‰∏Ä‰∫õÂÄºÔºö12345678910let weather = 'üåû', mood = 'üòÑ', drink = 'üç∏'let message = note`‰ªäÂ§©Â§©Ê∞îÔºö$&#123;weather&#125; ÔºåÂñù‰∫Ü‰∏ÄÊùØÔºö$&#123;drink&#125; ÔºåÂøÉÊÉÖÔºö$&#123;mood&#125;`function note(strings, ...params) &#123; console.log(strings) console.log(params)&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåstringsÈáåÁöÑÂÜÖÂÆπÊòØÊ®°ÊùøÂ≠óÁ¨¶‰∏≤ÁöÑÊØè‰∏Ä‰∏™ÈÉ®ÂàÜÔºå...paramsÂåÖÂê´ÁöÑÊòØÊ®°ÊùøÂ≠óÁ¨¶‰∏≤ÈáåÁöÑÊâÄÊúâÂèòÈáèÂÄº„ÄÇÂ≠óÁ¨¶‰∏≤Âá†‰∏™Êñ∞ÊñπÊ≥ï‰ª•‰ªÄ‰πàÂºÄÂ§¥startsWithÔºå‰ª•‰ªÄ‰πàÁªìÂ∞æendsWithÔºåÊòØÂê¶ÂåÖÂê´includesÔºö1234567891011let weather = 'üåû', mood = 'üòÑ', drink = 'üç∏'let message = `‰ªäÂ§©Â§©Ê∞îÔºö$&#123;weather&#125; ÔºåÂñù‰∫Ü‰∏ÄÊùØÔºö$&#123;drink&#125; ÔºåÂøÉÊÉÖÔºö$&#123;mood&#125;`console.log( message.startsWith('‰ªäÂ§©'), message.endsWith('üòÑ'), message.includes('üçâ'))ÂèÇÊï∞ÈªòËÆ§ÂÄºES6ÂêéÊàë‰ª¨ÂèØ‰ª•ÁªôÂáΩÊï∞ÂèÇÊï∞ÊåáÂÆöÈªòËÆ§ÂÄºÔºö123456789function food(dessert = 'üéÇ', drink = 'üçµ') &#123; return `$&#123;dessert&#125; and $&#123;drink&#125;`&#125;console.log( food(), '\n', food('üå≠', 'üç∫'))Êìç‰ΩúÁ¨¶...Â±ïÂºÄÊìç‰ΩúÁ¨¶Âú®Êï∞ÁªÑÂâçÂä†...ÔºåÁß∞‰∏∫Â±ïÂºÄÊìç‰ΩúÁ¨¶ÔºåÂèØ‰ª•Áî®‰∫éÂ±ïÂºÄÊï∞ÁªÑÔºö123456789101112let fruits = ['üçç', 'üçé'], foods = ['üçü', ...fruits]console.log( fruits, '\n', ...fruits, '\n', foods, '\n', ...foods)Ââ©‰ΩôÊìç‰ΩúÁ¨¶Âú®ÂáΩÊï∞ÂèÇÊï∞ÂâçÂä†...ÔºåÁß∞‰∏∫Ââ©‰ΩôÊìç‰ΩúÁ¨¶ÔºåÁî®‰∫éÊé•Êî∂ÂáΩÊï∞Ââ©‰∏ãÁöÑÂèÇÊï∞Ôºö12345function food(dessert,drink,...foods) &#123; console.log(dessert,drink,foods)&#125;food('üéÇ','üç∫','üçü','üç§','üçñ')Ââ©‰ΩôÁöÑÂèÇÊï∞Ë¢´ÊîæÂà∞‰∫Ü‰∏Ä‰∏™Êï∞ÁªÑÈáå„ÄÇÂáΩÊï∞ÁöÑÂêçÂ≠óES6ÂáΩÊï∞Êñ∞Â¢û‰∫ÜnameÂ±ûÊÄßÔºåÁî®‰∫éËæìÂá∫ÂáΩÊï∞ÁöÑÂêçÂ≠ó:123456789function food() &#123; &#125;var food_1 = function () &#123; &#125;var food_2 = function deliciousFood() &#123; &#125;console.log( food.name, food_1.name, food_2.name)ObjectÊñ∞Â¢ûÊñπÊ≥ïObject.is()Âà§Êñ≠‰∏§‰∏™‰∏úË•øÊòØ‰∏çÊòØÂêå‰∏Ä‰∏™Ôºö12345678console.log(+0 == -0)console.log(+0 === -0)console.log(NaN == NaN)console.log(NaN === NaN)console.log(Object.is(+0, -0))console.log(Object.is(NaN, NaN))Object.assign()‰ΩúÁî®Â∞±ÊòØÂ∞Ü‰∏Ä‰∏™ÂØπË±°ÁöÑÂÜÖÂÆπËµã‰∫àÁªôÂè¶Â§ñ‰∏Ä‰∏™ÂØπË±°Ôºö1234let food = &#123;dessert:'üç¶'&#125;Object.assign(food, &#123;drink: 'ü•£', fruit: 'ü•ù'&#125;)console.log(food)Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫Êé•Êî∂ËÄÖÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫Ëµã‰∫àËÄÖ„ÄÇObject.setPrototypeOf()ËÆæÁΩÆÂØπË±°ÁöÑprototypeÔºåÁªô‰∏™‰æãÂ≠ê‰Ωì‰ºöÔºö12345678910111213141516171819let breakfast = &#123; getFood() &#123; return 'üßÄ' &#125;&#125;let lunch = &#123; getFood() &#123; return 'üçú' &#125;&#125;let dinner = Object.create(lunch)console.log(dinner.getFood())console.log(Object.getPrototypeOf(dinner) === lunch)Object.setPrototypeOf(dinner, breakfast)console.log(dinner.getFood())console.log(Object.getPrototypeOf(dinner) === breakfast)__proto__Êàë‰ª¨ËøòÂèØ‰ª•Áî®__proto__ÔºàÂâçÂêéÂêÑ‰∏§‰∏™‰∏ãÂàíÁ∫øÔºâËÆæÁΩÆÂØπË±°ÁöÑprototypeÔºö123456789101112131415161718192021let breakfast = &#123; getFood() &#123; return 'üßÄ' &#125;&#125;let lunch = &#123; getFood() &#123; return 'üçú' &#125;&#125;let dinner = &#123; __proto__: lunch&#125;console.log(dinner.getFood())console.log(Object.getPrototypeOf(dinner) === lunch)dinner.__proto__ = breakfastconsole.log(dinner.getFood())console.log(Object.getPrototypeOf(dinner) === breakfast)superÁúã‰∏ãsuperÁöÑÁî®Ê≥ïÔºö12345678910111213let lunch = &#123; getFood() &#123; return 'üçú' &#125;&#125;let dinner = &#123; __proto__: lunch, getFood() &#123; return super.getFood() + ' and ü•ó' &#125;&#125;console.log(dinner.getFood())ÁîüÊàêËø≠‰ª£Âô®ES6‰∏≠Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®function*ÂíåyieldÁîüÊàê‰∏Ä‰∏™Ëø≠‰ª£Âô®Ôºö1234567891011function* cook(foods) &#123; for (value of foods) &#123; yield value &#125;&#125;let result = cook(['üåÆ', 'üçø', 'ü•ß'])console.log(result.next())console.log(result.next())console.log(result.next())console.log(result.next())classÁ±ªES6ÂÖÅËÆ∏Êàë‰ª¨Âú®JavaScript‰∏≠ÂÆö‰πâ‰∏Ä‰∏™Á±ªÔºö1234567891011class Cook &#123; constructor(food) &#123; this.food = food &#125; make() &#123; console.log(this.food) &#125;&#125;let mrbird = new Cook(['ü•û'])mrbird.make()Á±ªÈáåÂåÖÂê´‰∫Ü‰∏Ä‰∏™ÊúâÂèÇÊûÑÈÄ†Âô®ÂíåÊñπÊ≥ï„ÄÇget &amp;&amp; setÊàë‰ª¨ÂèØ‰ª•Âú®Á±ªÈáåÂÆö‰πâgetÂíåsetÔºö12345678910111213141516171819class Cook &#123; constructor(food) &#123; this.food = food &#125; get foods() &#123; return this.food &#125; set foods(value) &#123; this.food.push(value) &#125;&#125;let mrbird = new Cook(['ü•û'])mrbird.foods ='üç£'mrbird.foods ='ü•£'console.log(mrbird.foods)ÈùôÊÄÅÊñπÊ≥ïÊàë‰ª¨ÂèØ‰ª•Âú®Á±ªÈáåÂÆö‰πâÈùôÊÄÅÊñπÊ≥ïÔºåÈùôÊÄÅÊñπÊ≥ïÂ∞±ÊòØ‰∏çÈúÄË¶ÅÂÆû‰æãÂåñÁ±ªÂ∞±ËÉΩË∞ÉÁî®ÁöÑÊñπÊ≥ïÔºö12345678910class Cook &#123; constructor(food) &#123; this.food = food &#125; static make(food) &#123; console.log(food) &#125;&#125;Cook.make('üç™')ÁªßÊâøES6ÂÖÅËÆ∏Êàë‰ª¨ÁªßÊâøÁ±ªÔºö1234567891011121314151617class Person &#123; constructor(name, age) &#123; this.name = name this.age = age &#125; introduce() &#123; console.log(`$&#123;this.name&#125; is $&#123;this.age&#125; years old`) &#125;&#125;class HandsomeBoy extends Person &#123; constructor(name, age) &#123; super(name, age); &#125;&#125;new HandsomeBoy(&apos;MrBird&apos;, &apos;18&apos;).introduce()Set‰∏Ä‰∫õSetÁöÑÂ∏∏Áî®Êìç‰ΩúÔºö12345678910111213141516let foods = new Set('üßÄüçßüç®')console.log(foods)foods.add('üç≠')foods.add('üç≠')console.log(foods)console.log(foods.size)console.log(foods.has('üç®'))foods.delete('üßÄ')console.log(foods)foods.forEach(food =&gt; console.log(food))foods.clear()console.log(foods)Map‰∏Ä‰∫õMapÁöÑÂ∏∏Áî®Êìç‰ΩúÔºö1234567891011121314151617181920212223let food = new Map()let fruit = &#123;&#125;, cook = () =&gt; &#123;&#125;, dessert = 'ÁîúÁÇπ'food.set(fruit, 'üçà')food.set(cook, 'ü•Ñ')food.set(dessert, 'üç¶')console.log(food)console.log(food.size)console.log(food.get(fruit))console.log(food.get(cook))food.forEach((value, key) =&gt; &#123; console.log(`$&#123;key&#125; = $&#123;value&#125;`)&#125;)food.delete(dessert)console.log(food.has(dessert))food.clear()console.log(food)ÂÖàÂà∞ËøôÈáåÂêßÔºåËØ¶ÁªÜÁöÑËøòÊòØÂæóÂèÇËÄÉhttp://es6.ruanyifeng.com/ÊàñËÄÖhttps://babeljs.io/docs/en/learn]]></content>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÁîüÊÄÅÂ≠¶‰π†‰πãVuex,Vue-Router]]></title>
    <url>%2Fvuex-vuerouter.html</url>
    <content type="text"><![CDATA[ÊñáÁ´†Â∑≤Âä†ÂØÜÔºåËØ∑ËæìÂÖ•ÂØÜÁ†Å üòõÔºö ÂØÜÁ†ÅÈîôËØØ üò≠ No content to display! U2FsdGVkX19TZih8UTmGBJM5q5MJVu1P773cnGtxEXwnTCCgaBaSaJqAD9oyHdl51BMIYhTxcWBXq2p5jA9B9LRM2S4Sq5R4UY03KQyqA5cXNK3FnkwELOsKnakXnyR0JfOCQ6EugELuoCP6kn6M+vjCSMxf++JnwthITv6guHnd7Ml7H3jzuhm1YXpnPEKVUr2K+lK6gITlLZ3vo9P5UTcTuhMZiclpU/m8Wl6KomS/hrnzN2qJYIROw/oXSN+w9snd98Ejcu2ibCuUUK6Sf4IUmUa3VKPDX7joEXyPAw5Ox6jI1zjpQTAmutjhOOYOV5k23ElXKUDtJlU6AuSafP7WJsuJZ5oIFt03DuMLd1+WK45VDq87rq9d4fCgChrZjsKeKAzbin/+owenrVWF4oOLi7eMVz/PgvAAB+EJw/kzUMto08Biw2Q5YfdeB4oj9DZKsld334/IacSUcIOwwbqe4+IfaKZr5Z8ayj/qVtX1MwnuO103cZigTvK/MwJrkxde2Og31opnrb//yMrIxgUMxtL4Av3FVH6Dtl6dcF7jLp9LQPOz0L3+LMxWG73AaE0lIOWTP3IDNSp1NBG99H6Z0cuCwJXoBmXHsNOSW6/Jc7SBwCkTzsfyNoTc4v6x6afVaoYd+qCKVVBg6EySBzC1yiJxGIFz+Ki25uPDk1w=]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Security OAuth2Ëá™ÂÆö‰πâ‰ª§ÁâåÈÖçÁΩÆ]]></title>
    <url>%2FSpring-Security-OAuth2-Token-Config.html</url>
    <content type="text"><![CDATA[Âú®ÂâçÈù¢Âá†ËäÇ‰∏≠ÔºåÊàë‰ª¨Ëé∑ÂèñÂà∞ÁöÑ‰ª§ÁâåÈÉΩÊòØÂü∫‰∫éSpring Security OAuth2ÈªòËÆ§ÈÖçÁΩÆÁîüÊàêÁöÑÔºåSpring SecurityÂÖÅËÆ∏Êàë‰ª¨Ëá™ÂÆö‰πâ‰ª§ÁâåÈÖçÁΩÆÔºåÊØîÂ¶Ç‰∏çÂêåÁöÑclient_idÂØπÂ∫î‰∏çÂêåÁöÑ‰ª§ÁâåÔºå‰ª§ÁâåÁöÑÊúâÊïàÊó∂Èó¥Ôºå‰ª§ÁâåÁöÑÂ≠òÂÇ®Á≠ñÁï•Á≠âÔºõÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®JWTÊù•ÊõøÊç¢ÈªòËÆ§ÁöÑ‰ª§Áâå„ÄÇËá™ÂÆö‰πâ‰ª§ÁâåÈÖçÁΩÆÊàë‰ª¨ËÆ©ËÆ§ËØÅÊúçÂä°Âô®AuthorizationServerConfigÁªßÊâøAuthorizationServerConfigurerAdapterÔºåÂπ∂ÈáçÂÜôÂÆÉÁöÑconfigure(ClientDetailsServiceConfigurer clients)ÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526272829303132@Configuration@EnableAuthorizationServerpublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter &#123; ...... @Autowired private AuthenticationManager authenticationManager; @Autowired private UserDetailService userDetailService; @Override public void configure(AuthorizationServerEndpointsConfigurer endpoints) &#123; endpoints.authenticationManager(authenticationManager) .userDetailsService(userDetailService); &#125; @Override public void configure(ClientDetailsServiceConfigurer clients) throws Exception &#123; clients.inMemory() .withClient("test1") .secret("test1111") .accessTokenValiditySeconds(3600) .refreshTokenValiditySeconds(864000) .scopes("all", "a", "b", "c") .authorizedGrantTypes("password") .and() .withClient("test2") .secret("test2222") .accessTokenValiditySeconds(7200); &#125;&#125;ËÆ§ËØÅÊúçÂä°Âô®Âú®ÁªßÊâø‰∫ÜAuthorizationServerConfigurerAdapterÈÄÇÈÖçÂô®ÂêéÔºåÈúÄË¶ÅÈáçÂÜôconfigure(AuthorizationServerEndpointsConfigurer endpoints)ÊñπÊ≥ïÔºåÊåáÂÆö AuthenticationManagerÂíåUserDetailService„ÄÇÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈÖçÁΩÆÁ±ªSecurityConfigÔºåÂú®ÈáåÈù¢Ê≥®ÂÜåÊàë‰ª¨ÈúÄË¶ÅÁöÑAuthenticationManagerBeanÔºö123456789@Configurationpublic class SecurityConfig extends WebSecurityConfigurerAdapter &#123; @Bean(name = BeanIds.AUTHENTICATION_MANAGER) @Override public AuthenticationManager authenticationManagerBean() throws Exception &#123; return super.authenticationManagerBean(); &#125;&#125;Ê≠§Â§ñÔºåÈáçÂÜôconfigure(ClientDetailsServiceConfigurer clients)ÊñπÊ≥ï‰∏ªË¶ÅÈÖçÁΩÆ‰∫ÜÔºöÂÆö‰πâ‰∏§‰∏™client_idÔºåÂèäÂÆ¢Êà∑Á´ØÂèØ‰ª•ÈÄöËøá‰∏çÂêåÁöÑclient_idÊù•Ëé∑Âèñ‰∏çÂêåÁöÑ‰ª§ÁâåÔºõclient_id‰∏∫test1ÁöÑ‰ª§ÁâåÊúâÊïàÊó∂Èó¥‰∏∫3600ÁßíÔºåclient_id‰∏∫test2ÁöÑ‰ª§ÁâåÊúâÊïàÊó∂Èó¥‰∏∫7200ÁßíÔºõclient_id‰∏∫test1ÁöÑrefresh_tokenÔºà‰∏ãÈù¢‰ºö‰ªãÁªçÂà∞ÔºâÊúâÊïàÊó∂Èó¥‰∏∫864000ÁßíÔºåÂç≥10Â§©Ôºå‰πüÂ∞±ÊòØËØ¥Âú®Ëøô10Â§©ÂÜÖÈÉΩÂèØ‰ª•ÈÄöËøárefresh_tokenÊù•Êç¢ÂèñÊñ∞ÁöÑ‰ª§ÁâåÔºõÂú®Ëé∑Âèñclient_id‰∏∫test1ÁöÑ‰ª§ÁâåÁöÑÊó∂ÂÄôÔºåscopeÂè™ËÉΩÊåáÂÆö‰∏∫allÔºåaÔºåbÊàñc‰∏≠ÁöÑÊüê‰∏™ÂÄºÔºåÂê¶ÂàôÂ∞ÜËé∑ÂèñÂ§±Ë¥•ÔºõÂè™ËÉΩÈÄöËøáÂØÜÁ†ÅÊ®°Âºè(password)Êù•Ëé∑Âèñclient_id‰∏∫test1ÁöÑ‰ª§ÁâåÔºåËÄåtest2ÂàôÊó†ÈôêÂà∂„ÄÇÂêØÂä®È°πÁõÆÔºåÊºîÁ§∫Âá†‰∏™ÊïàÊûú„ÄÇÂêØÂä®È°πÁõÆÂêé‰ΩøÁî®ÂØÜÁ†ÅÊ®°ÂºèËé∑Âèñtest1ÁöÑ‰ª§ÁâåÔºöÂíåÂâçÈù¢‰ªãÁªçÁöÑÈÇ£Ê†∑ÔºåÂ§¥ÈÉ®ÈúÄË¶Å‰º†ÂÖ•test1:test1111ÁªèËøábase64Âä†ÂØÜÂêéÁöÑÂÄºÔºö ÁÇπÂáªÂèëÈÄÅÂêéÔºåÊÑèÂ§ñÁöÑËøîÂõû‰∫ÜÈîôËØØÔºÅÊéßÂà∂Âè∞ËæìÂá∫‰∫Ü Encoded password does not look like BCrypt ÁöÑÂëäË≠¶„ÄÇÊü•ÈòÖËµÑÊñôÂêéÂèëÁé∞ÔºåÂú®Êñ∞ÁâàÊú¨ÁöÑspring-cloud-starter-oauth2ÊåáÂÆöclient_secretÁöÑÊó∂ÂÄôÈúÄË¶ÅËøõË°åÂä†ÂØÜÂ§ÑÁêÜÔºö123456789101112131415161718192021@Configuration@EnableAuthorizationServerpublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter &#123; ...... @Override public void configure(ClientDetailsServiceConfigurer clients) throws Exception &#123; clients.inMemory() .withClient("test1") .secret(new BCryptPasswordEncoder().encode("test1111")) .accessTokenValiditySeconds(3600) .refreshTokenValiditySeconds(864000) .scopes("all", "a", "b", "c") .authorizedGrantTypes("password") .and() .withClient("test2") .secret(new BCryptPasswordEncoder().encode("test2222")) .accessTokenValiditySeconds(7200); &#125;&#125;Âú®ÂâçÈù¢Ëá™ÂÆö‰πâÁôªÂΩïËÆ§ËØÅËé∑Âèñ‰ª§Áâå‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨Âú®MyAuthenticationSucessHandlerÂà§Êñ≠‰∫Üclient_secretÁöÑÂÄºÊòØÂê¶Ê≠£Á°Æ„ÄÇÁî±‰∫éÊàë‰ª¨ËøôÈáåclient_secretÂä†ÂØÜ‰∫ÜÔºåÊâÄ‰ª•Âà§Êñ≠ÈÄªËæëÈúÄË¶ÅË∞ÉÊï¥‰∏∫‰∏ãÈù¢ËøôÊ†∑:123456...else if (!passwordEncoder.matches(clientSecret, clientDetails.getClientSecret())) &#123; throw new UnapprovedClientAuthenticationException("clientSecret‰∏çÊ≠£Á°Æ");&#125; ...Ë®ÄÂΩíÊ≠£‰º†Ôºå‰øÆÊîπÂêéÈáçÂêØÈ°πÁõÆÔºåÈáçÊñ∞‰ΩøÁî®ÂØÜÁ†ÅÊ®°ÂºèËé∑Âèñ‰ª§ÁâåÔºö123456&#123; "access_token": "c23376b0-efa3-4905-8356-8c9583c2a2a0", "token_type": "bearer", "expires_in": 3599, "scope": "all"&#125;ÂèØ‰ª•ÁúãÂà∞expires_inÁöÑÊó∂Èó¥ÊòØÊàë‰ª¨ÂÆö‰πâÁöÑ3600Áßí„ÄÇÂ∞ÜscopeÊåáÂÆö‰∏∫dÁúãÁúã‰ºöÊúâ‰ªÄ‰πàÁªìÊûú:Áî±‰∫éÊàë‰ª¨ÂÆö‰πâ‰∫ÜÂè™ËÉΩÈÄöËøáÂØÜÁ†ÅÊ®°ÂºèÊù•Ëé∑Âèñclient_id‰∏∫test1ÁöÑ‰ª§ÁâåÔºåÊâÄ‰ª•Êàë‰ª¨ÁúãÁúãÂ∞Ügrant_typeÊîπ‰∏∫xxoo‰ºöÊúâ‰ªÄ‰πàÁªìÊûú:ÈªòËÆ§‰ª§ÁâåÊòØÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÆÉ‰øùÂ≠òÂà∞Á¨¨‰∏âÊñπÂ≠òÂÇ®‰∏≠ÔºåÊØîÂ¶ÇRedis„ÄÇÂàõÂª∫TokenStoreConfigÔºö1234567891011@Configurationpublic class TokenStoreConfig &#123; @Autowired private RedisConnectionFactory redisConnectionFactory; @Bean public TokenStore redisTokenStore ()&#123; return new RedisTokenStore(redisConnectionFactory); &#125;&#125;ÁÑ∂ÂêéÂú®ËÆ§ËØÅÊúçÂä°Âô®ÈáåÊåáÂÆöËØ•‰ª§ÁâåÂ≠òÂÇ®Á≠ñÁï•„ÄÇÈáçÂÜôconfigure(AuthorizationServerEndpointsConfigurer endpoints)ÊñπÊ≥ïÔºö123456789101112131415@Configuration@EnableAuthorizationServerpublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter &#123; @Autowired private TokenStore redisTokenStore; @Override public void configure(AuthorizationServerEndpointsConfigurer endpoints) &#123; endpoints.authenticationManager(authenticationManager) .tokenStore(redisTokenStore); &#125; ......&#125;ÈáçÂêØÈ°πÁõÆËé∑Âèñ‰ª§ÁâåÂêéÔºåÊü•ÁúãRedis‰∏≠ÊòØÂê¶Â≠òÂÇ®‰∫Ü‰ª§ÁâåÁõ∏ÂÖ≥‰ø°ÊÅØÔºöÂèØ‰ª•ÁúãÂà∞Ôºå‰ª§Áâå‰ø°ÊÅØÂ∑≤ÁªèÂ≠òÂÇ®Âà∞RedisÈáå‰∫Ü„ÄÇ‰ΩøÁî®JWTÊõøÊç¢ÈªòËÆ§‰ª§Áâå‰ΩøÁî®JWTÊõøÊç¢ÈªòËÆ§ÁöÑ‰ª§ÁâåÔºàÈªòËÆ§‰ª§Áâå‰ΩøÁî®UUIDÁîüÊàêÔºâÂè™ÈúÄË¶ÅÊåáÂÆöTokenStore‰∏∫JwtTokenStoreÂç≥ÂèØ„ÄÇÂàõÂª∫‰∏Ä‰∏™JWTokenConfigÈÖçÁΩÆÁ±ªÔºö123456789101112131415@Configurationpublic class JWTokenConfig &#123; @Bean public TokenStore jwtTokenStore() &#123; return new JwtTokenStore(jwtAccessTokenConverter()); &#125; @Bean public JwtAccessTokenConverter jwtAccessTokenConverter() &#123; JwtAccessTokenConverter accessTokenConverter = new JwtAccessTokenConverter(); accessTokenConverter.setSigningKey("test_key"); // Á≠æÂêçÂØÜÈí• return accessTokenConverter; &#125;&#125;Á≠æÂêçÂØÜÈí•‰∏∫test_key„ÄÇÂú®ÈÖçÁΩÆÁ±ªÈáåÈÖçÁΩÆÂ•ΩJwtTokenStoreÂêéÔºåÊàë‰ª¨Âú®ËÆ§ËØÅÊúçÂä°Âô®ÈáåÊåáÂÆöÂÆÉÔºö1234567891011121314151617@Configuration@EnableAuthorizationServerpublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter &#123; @Autowired private TokenStore jwtTokenStore; @Autowired private JwtAccessTokenConverter jwtAccessTokenConverter; @Override public void configure(AuthorizationServerEndpointsConfigurer endpoints) &#123; endpoints.authenticationManager(authenticationManager) .tokenStore(jwtTokenStore) .accessTokenConverter(jwtAccessTokenConverter); &#125; ......&#125;ÈáçÂêØÊúçÂä°Ëé∑Âèñ‰ª§ÁâåÔºåÁ≥ªÁªüÂ∞ÜËøîÂõûÂ¶Ç‰∏ãÊ†ºÂºè‰ª§ÁâåÔºö1234567&#123; "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjE1MzI1MDEsInVzZXJfbmFtZSI6Im1yYmlyZCIsImF1dGhvcml0aWVzIjpbImFkbWluIl0sImp0aSI6IjJkZjY4MGNhLWFmN2QtNGU4Ni05OTdhLWI1ZmVkYzQxZmYwZSIsImNsaWVudF9pZCI6InRlc3QxIiwic2NvcGUiOltdfQ.dZ4SeuU3VWnSJKy5vELGQ0YkVRddcEydUlJAVovlycg", "token_type": "bearer", "expires_in": 3599, "scope": "all", "jti": "2df680ca-af7d-4e86-997a-b5fedc41ff0e"&#125;Â∞Üaccess_token‰∏≠ÁöÑÂÜÖÂÆπÂ§çÂà∂Âà∞https://jwt.io/ÁΩëÁ´ôËß£Êûê‰∏ãÔºö‰ΩøÁî®Ëøô‰∏™tokenËÆøÈóÆ/indexÂèØ‰ª•ÊàêÂäüËé∑ÂèñÂà∞‰ø°ÊÅØÔºåËøôÈáåÂ∞±‰∏çÊºîÁ§∫‰∫Ü„ÄÇÊãìÂ±ïJWT‰∏äÈù¢ÁöÑTokenËß£ÊûêÂæóÂà∞ÁöÑPAYLOADÂÜÖÂÆπ‰∏∫Ôºö12345678910&#123; "exp": 1561532501, "user_name": "mrbird", "authorities": [ "admin" ], "jti": "2df680ca-af7d-4e86-997a-b5fedc41ff0e", "client_id": "test1", "scope": ["all"]&#125;Â¶ÇÊûúÊÉ≥Âú®JWT‰∏≠Ê∑ªÂä†‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑ‰ø°ÊÅØÔºåÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞TokenEnhancerÔºàTokenÂ¢ûÂº∫Âô®ÔºâÔºö123456789public class JWTokenEnhancer implements TokenEnhancer &#123; @Override public OAuth2AccessToken enhance(OAuth2AccessToken oAuth2AccessToken, OAuth2Authentication oAuth2Authentication) &#123; Map&lt;String, Object&gt; info = new HashMap&lt;&gt;(); info.put("message", "hello world"); ((DefaultOAuth2AccessToken) oAuth2AccessToken).setAdditionalInformation(info); return oAuth2AccessToken; &#125;&#125;Êàë‰ª¨Âú®Token‰∏≠Ê∑ªÂä†‰∫Ümessage: hello world‰ø°ÊÅØ„ÄÇÁÑ∂ÂêéÂú®JWTokenConfigÈáåÊ≥®ÂÜåËØ•BeanÔºö123456789@Configurationpublic class JWTokenConfig &#123; ...... @Bean public TokenEnhancer tokenEnhancer() &#123; return new JWTokenEnhancer(); &#125;&#125;ÊúÄÂêéÂú®ËÆ§ËØÅÊúçÂä°Âô®ÈáåÈÖçÁΩÆËØ•Â¢ûÂº∫Âô®Ôºö12345678910111213141516171819202122232425@Configuration@EnableAuthorizationServerpublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter &#123; @Autowired private TokenStore jwtTokenStore; @Autowired private JwtAccessTokenConverter jwtAccessTokenConverter; @Autowired private TokenEnhancer tokenEnhancer; @Override public void configure(AuthorizationServerEndpointsConfigurer endpoints) &#123; TokenEnhancerChain enhancerChain = new TokenEnhancerChain(); List&lt;TokenEnhancer&gt; enhancers = new ArrayList&lt;&gt;(); enhancers.add(tokenEnhancer); enhancers.add(jwtAccessTokenConverter); enhancerChain.setTokenEnhancers(enhancers); endpoints.tokenStore(jwtTokenStore) .accessTokenConverter(jwtAccessTokenConverter) .tokenEnhancer(enhancerChain); &#125; ......&#125;ÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°Ëé∑Âèñ‰ª§ÁâåÔºåÁ≥ªÁªüËøîÂõûÔºö1234567&#123; "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJtcmJpcmQiLCJzY29wZSI6W10sImV4cCI6MTU2MTUzNDQ1MCwibWVzc2FnZSI6ImhlbGxvIHdvcmxkIiwiYXV0aG9yaXRpZXMiOlsiYWRtaW4iXSwianRpIjoiY2E1NDA3ZTEtMzBmZS00MzA3LThiYmItYjU2NGY5Y2ViOWUzIiwiY2xpZW50X2lkIjoidGVzdDEifQ.qW92ssifRKi_rxX2XIH2u4D5IUPVcKECv812hTpuUuA", "token_type": "bearer", "expires_in": 3599, "message": "hello world", "jti": "ca5407e1-30fe-4307-8bbb-b564f9ceb9e3"&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÂú®ËøîÂõûÁöÑJSONÂÜÖÂÆπÈáåÂ∑≤ÁªèÂ§ö‰∫ÜÊàë‰ª¨Ê∑ªÂä†ÁöÑmessage‰ø°ÊÅØÔºåÊ≠§Â§ñÂ∞Üaccess_tokenÂ§çÂà∂Âà∞jwt.ioÁΩëÁ´ôËß£ÊûêÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÔºö1234567891011&#123; "user_name": "mrbird", "scope": [], "exp": 1561534450, "message": "hello world", "authorities": [ "admin" ], "jti": "ca5407e1-30fe-4307-8bbb-b564f9ceb9e3", "client_id": "test1"&#125;Ëß£ÊûêÂêéÁöÑJWT‰πüÂåÖÂê´‰∫ÜÊàë‰ª¨Ê∑ªÂä†ÁöÑmessage‰ø°ÊÅØ„ÄÇJava‰∏≠Ëß£ÊûêJWTË¶ÅÂú®Java‰ª£Á†Å‰∏≠Ëß£ÊûêJWTÔºåÈúÄË¶ÅÊ∑ªÂä†Â¶Ç‰∏ã‰æùËµñÔºö12345&lt;dependency&gt; &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt; &lt;artifactId&gt;jjwt&lt;/artifactId&gt; &lt;version&gt;0.9.1&lt;/version&gt;&lt;/dependency&gt;‰øÆÊîπ/indexÔºö1234567@GetMapping("index")public Object index(@AuthenticationPrincipal Authentication authentication, HttpServletRequest request) &#123; String header = request.getHeader("Authorization"); String token = StringUtils.substringAfter(header, "bearer "); return Jwts.parser().setSigningKey("test_key".getBytes(StandardCharsets.UTF_8)).parseClaimsJws(token).getBody();&#125;signkeyÈúÄË¶ÅÂíåJwtAccessTokenConverter‰∏≠ÊåáÂÆöÁöÑÁ≠æÂêçÂØÜÈí•‰∏ÄËá¥„ÄÇÈáçÂêØÈ°πÁõÆÔºåËé∑Âèñ‰ª§ÁâåÂêéËÆøÈóÆ/indexÔºåËæìÂá∫ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123456789101112&#123; "exp": 1561557893, "user_name": "mrbird", "authorities": [ "admin" ], "jti": "3c29f89a-1344-40d8-bcfd-1b9c45fb8b89", "client_id": "test1", "scope": [ "all" ]&#125;Âà∑Êñ∞‰ª§Áâå‰ª§ÁâåËøáÊúüÂêéÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®refresh_tokenÊù•‰ªéÁ≥ªÁªü‰∏≠Êç¢Âèñ‰∏Ä‰∏™Êñ∞ÁöÑÂèØÁî®‰ª§Áâå„ÄÇ‰ΩÜÊòØ‰ªéÂâçÈù¢ÁöÑ‰æãÂ≠êÂèØ‰ª•ÁúãÂà∞ÔºåÂú®ËÆ§ËØÅÊàêÂäüÂêéËøîÂõûÁöÑJSON‰ø°ÊÅØÈáåÂπ∂Ê≤°ÊúâÂåÖÂê´refresh_tokenÔºåË¶ÅËÆ©Á≥ªÁªüËøîÂõûrefresh_tokenÔºåÈúÄË¶ÅÂú®ËÆ§ËØÅÊúçÂä°Âô®Ëá™ÂÆö‰πâÈÖçÁΩÆÈáåÊ∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö123456789101112131415161718192021@Configuration@EnableAuthorizationServerpublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter &#123; ...... @Override public void configure(ClientDetailsServiceConfigurer clients) throws Exception &#123; clients.inMemory() .withClient("test1") .secret(new BCryptPasswordEncoder().encode("test1111")) .authorizedGrantTypes("password", "refresh_token") .accessTokenValiditySeconds(3600) .refreshTokenValiditySeconds(864000) .scopes("all", "a", "b", "c") .and() .withClient("test2") .secret(new BCryptPasswordEncoder().encode("test2222")) .accessTokenValiditySeconds(7200); &#125;&#125;ÊéàÊùÉÊñπÂºèÈúÄË¶ÅÂä†‰∏ärefresh_tokenÔºåÈô§‰∫ÜÂõõÁßçÊ†áÂáÜÁöÑOAuth2Ëé∑Âèñ‰ª§ÁâåÊñπÂºèÂ§ñÔºåSpring Security OAuth2ÂÜÖÈÉ®Êäärefresh_tokenÂΩì‰Ωú‰∏ÄÁßçÊãìÂ±ïÁöÑËé∑Âèñ‰ª§ÁâåÊñπÂºè„ÄÇÈÄöËøá‰∏äÈù¢ÁöÑÈÖçÁΩÆÔºå‰ΩøÁî®test1Ëøô‰∏™client_idËé∑Âèñ‰ª§ÁâåÊó∂Â∞ÜËøîÂõûrefresh_tokenÔºårefresh_tokenÁöÑÊúâÊïàÊúü‰∏∫10Â§©ÔºåÂç≥10Â§©‰πãÂÜÖÈÉΩÂèØ‰ª•Áî®ÂÆÉÊç¢ÂèñÊñ∞ÁöÑÂèØÁî®‰ª§Áâå„ÄÇÈáçÂêØÈ°πÁõÆÔºåËÆ§ËØÅÊàêÂäüÂêéÔºåÁ≥ªÁªüËøîÂõûÂ¶ÇÔºö12345678&#123; "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjE1NTgwOTcsInVzZXJfbmFtZSI6Im1yYmlyZCIsImF1dGhvcml0aWVzIjpbImFkbWluIl0sImp0aSI6Ijg2NTdhMDBlLTFiM2MtNDA5NS1iMjNmLTJlMjUxOWExZmUwMiIsImNsaWVudF9pZCI6InRlc3QxIiwic2NvcGUiOlsiYWxsIl19.hrxKOz3NKY6Eq8k5QeOqKhXUQ4aAbicrb6J5y-LBRA0", "token_type": "bearer", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJtcmJpcmQiLCJzY29wZSI6WyJhbGwiXSwiYXRpIjoiODY1N2EwMGUtMWIzYy00MDk1LWIyM2YtMmUyNTE5YTFmZTAyIiwiZXhwIjoxNTYyNDE4NDk3LCJhdXRob3JpdGllcyI6WyJhZG1pbiJdLCJqdGkiOiI2MTNjMDVlNS1hNzUzLTRmM2UtOWViOC1hZGE4MTJmY2IyYWQiLCJjbGllbnRfaWQiOiJ0ZXN0MSJ9.efw9OePFUN9X6UGMF3h9BF_KO3zqyIfpvfmE8XklBDs", "expires_in": 3599, "scope": "all", "jti": "8657a00e-1b3c-4095-b23f-2e2519a1fe02"&#125;ÂÅáËÆæÁé∞Âú®access_tokenËøáÊúü‰∫ÜÔºåÊàë‰ª¨Áî®refresh_tokenÂéªÊç¢ÂèñÊñ∞ÁöÑ‰ª§Áâå„ÄÇ‰ΩøÁî®postmanÂèëÈÄÅÂ¶Ç‰∏ãËØ∑Ê±ÇÔºö12345678&#123; "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NjE1NTgyMzEsInVzZXJfbmFtZSI6Im1yYmlyZCIsImF1dGhvcml0aWVzIjpbImFkbWluIl0sImp0aSI6ImFmNjU5MTE3LWJkMTItNDNmZS04YzE2LTM0MDQxMTMyZDFlOCIsImNsaWVudF9pZCI6InRlc3QxIiwic2NvcGUiOlsiYWxsIl19.4ZD5bXxsXjSw62_1wVl2QpHUKYcC8_1phdNRP02Iihs", "token_type": "bearer", "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJtcmJpcmQiLCJzY29wZSI6WyJhbGwiXSwiYXRpIjoiYWY2NTkxMTctYmQxMi00M2ZlLThjMTYtMzQwNDExMzJkMWU4IiwiZXhwIjoxNTYyNDE4NDk3LCJhdXRob3JpdGllcyI6WyJhZG1pbiJdLCJqdGkiOiI2MTNjMDVlNS1hNzUzLTRmM2UtOWViOC1hZGE4MTJmY2IyYWQiLCJjbGllbnRfaWQiOiJ0ZXN0MSJ9.e4p3CRyk_cZ82cGzjCBOb4p_0bqRqXElczJjf0nB58o", "expires_in": 3599, "scope": "all", "jti": "af659117-bd12-43fe-8c16-34041132d1e8"&#125;postmanËØ∑Ê±ÇÂèäÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/65.Spring-Security-OAuth2-Config]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Cloud</tag>
        <tag>Spring Security</tag>
        <tag>OAuth2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Security OAuth2Ëá™ÂÆö‰πâTokenËé∑ÂèñÊñπÂºè]]></title>
    <url>%2FSpring-Security-OAuth2-Customize.html</url>
    <content type="text"><![CDATA[Âú®‰∏ä‰∏ÄËäÇSpring Security OAuth2ÂÖ•Èó®‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî®‰∫ÜSpring Security OAuth2Â∞ÅË£ÖÁöÑÊéàÊùÉÁ†ÅÂíåÂØÜÁ†ÅÊ®°ÂºèÊàêÂäüËé∑Âèñ‰∫Ü‰ª§ÁâåÔºåËøôËäÇËÆ∞ÂΩï‰∏ãÂ¶Ç‰ΩïÈÄöËøáËá™ÂÆö‰πâÁöÑÁî®Êà∑ÂêçÂØÜÁ†ÅÂíåÊâãÊú∫Áü≠‰ø°È™åËØÅÁ†ÅÁöÑÊñπÂºèÊù•Ëé∑Âèñ‰ª§Áâå„ÄÇËá™ÂÆö‰πâÁî®Êà∑ÂêçÂØÜÁ†ÅÊñπÂºèËé∑Âèñ‰ª§ÁâåÂú®‰∏ä‰∏ÄËäÇÁöÑÂü∫Á°Ä‰∏äÔºåÊàë‰ª¨ÂÖàÂú®ËµÑÊ∫êÊúçÂä°Âô®‰∏äÂä†ÂÖ•‰∏Ä‰∫õÂü∫Êú¨ÁöÑSpring SecurityÈÖçÁΩÆ:12345678910111213141516171819202122@Configuration@EnableResourceServerpublic class ResourceServerConfig extends ResourceServerConfigurerAdapter &#123; @Autowired private MyAuthenticationSucessHandler authenticationSucessHandler; @Autowired private MyAuthenticationFailureHandler authenticationFailureHandler; @Override public void configure(HttpSecurity http) throws Exception &#123; http.formLogin() // Ë°®ÂçïÁôªÂΩï .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and() .csrf().disable(); &#125;&#125;MyAuthenticationFailureHandlerÂ§±Ë¥•Â§ÑÁêÜÂô®ÁöÑÈÄªËæëÂæàÁÆÄÂçïÔºåÂ∞±ÊòØËÆ§ËØÅÂ§±Ë¥•ÊîæÂõûÁõ∏Â∫îÊèêÁ§∫Ôºö12345678910111213@Componentpublic class MyAuthenticationFailureHandler implements AuthenticationFailureHandler &#123; @Autowired private ObjectMapper mapper; @Override public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException &#123; response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value()); response.setContentType("application/json;charset=utf-8"); response.getWriter().write(mapper.writeValueAsString(exception.getMessage())); &#125;&#125;ÈóÆÈ¢òÁöÑÂÖ≥ÈîÆÊòØÔºåÂ¶Ç‰ΩïÂú®ÁôªÂΩïÊàêÂäüÂ§ÑÁêÜÂô®ÈáåËøîÂõû‰ª§Áâå„ÄÇÂú®Á†îÁ©∂Spring Security OAuth2Ëá™Â∏¶ÁöÑ‰ª§ÁâåËé∑ÂèñÊñπÂºèÂêéÔºå‰ºöÂèëÁé∞‰ª§ÁâåÁöÑ‰∫ßÁîüÂèØ‰ª•ÂΩíÁ∫≥‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§ÔºöÊàë‰ª¨ÂèØ‰ª•ÂèÇËÄÉËøô‰∏™ÊµÅÁ®ãÔºåÊù•ÂÆûÁé∞Âú®ÁôªÂΩïÊàêÂäüÂ§ÑÁêÜÂô®MyAuthenticationSucessHandlerÈáåÁîüÊàê‰ª§ÁâåÂπ∂ËøîÂõûÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970@Componentpublic class MyAuthenticationSucessHandler implements AuthenticationSuccessHandler &#123; private Logger log = LoggerFactory.getLogger(this.getClass()); @Autowired private ClientDetailsService clientDetailsService; @Autowired private AuthorizationServerTokenServices authorizationServerTokenServices; @Override public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException &#123; // 1. ‰ªéËØ∑Ê±ÇÂ§¥‰∏≠Ëé∑Âèñ ClientId String header = request.getHeader("Authorization"); if (header == null || !header.startsWith("Basic ")) &#123; throw new UnapprovedClientAuthenticationException("ËØ∑Ê±ÇÂ§¥‰∏≠Êó†client‰ø°ÊÅØ"); &#125; String[] tokens = this.extractAndDecodeHeader(header, request); String clientId = tokens[0]; String clientSecret = tokens[1]; TokenRequest tokenRequest = null; // 2. ÈÄöËøá ClientDetailsService Ëé∑Âèñ ClientDetails ClientDetails clientDetails = clientDetailsService.loadClientByClientId(clientId); // 3. Ê†°È™å ClientIdÂíå ClientSecretÁöÑÊ≠£Á°ÆÊÄß if (clientDetails == null) &#123; throw new UnapprovedClientAuthenticationException("clientId:" + clientId + "ÂØπÂ∫îÁöÑ‰ø°ÊÅØ‰∏çÂ≠òÂú®"); &#125; else if (!StringUtils.equals(clientDetails.getClientSecret(), clientSecret)) &#123; throw new UnapprovedClientAuthenticationException("clientSecret‰∏çÊ≠£Á°Æ"); &#125; else &#123; // 4. ÈÄöËøá TokenRequestÊûÑÈÄ†Âô®ÁîüÊàê TokenRequest tokenRequest = new TokenRequest(new HashMap&lt;&gt;(), clientId, clientDetails.getScope(), "custom"); &#125; // 5. ÈÄöËøá TokenRequestÁöÑ createOAuth2RequestÊñπÊ≥ïËé∑Âèñ OAuth2Request OAuth2Request oAuth2Request = tokenRequest.createOAuth2Request(clientDetails); // 6. ÈÄöËøá AuthenticationÂíå OAuth2RequestÊûÑÈÄ†Âá∫ OAuth2Authentication OAuth2Authentication auth2Authentication = new OAuth2Authentication(oAuth2Request, authentication); // 7. ÈÄöËøá AuthorizationServerTokenServices ÁîüÊàê OAuth2AccessToken OAuth2AccessToken token = authorizationServerTokenServices.createAccessToken(auth2Authentication); // 8. ËøîÂõû Token log.info("ÁôªÂΩïÊàêÂäü"); response.setContentType("application/json;charset=UTF-8"); response.getWriter().write(new ObjectMapper().writeValueAsString(token)); &#125; private String[] extractAndDecodeHeader(String header, HttpServletRequest request) &#123; byte[] base64Token = header.substring(6).getBytes(StandardCharsets.UTF_8); byte[] decoded; try &#123; decoded = Base64.getDecoder().decode(base64Token); &#125; catch (IllegalArgumentException var7) &#123; throw new BadCredentialsException("Failed to decode basic authentication token"); &#125; String token = new String(decoded, StandardCharsets.UTF_8); int delim = token.indexOf(":"); if (delim == -1) &#123; throw new BadCredentialsException("Invalid basic authentication token"); &#125; else &#123; return new String[]&#123;token.substring(0, delim), token.substring(delim + 1)&#125;; &#125; &#125;&#125;ÂêØÂä®È°πÁõÆÔºå‰ΩøÁî®postmanÂèëÈÄÅÁôªÂΩïËØ∑Ê±Çlocalhost:8080/loginÔºöÁÇπÂáªÂèëÈÄÅÂêé‰æøÂèØ‰ª•ÊàêÂäüËé∑ÂèñÂà∞‰ª§ÁâåÔºö123456&#123; "access_token": "88a3dd6c-ab27-41af-95ee-5cd406fe5ab1", "token_type": "bearer", "refresh_token": "b316177d-68e9-4fc9-9f4a-804a7367ebc9", "expires_in": 43199&#125;‰ΩøÁî®Ëøô‰∏™‰ª§Áâå‰æøÂèØ‰ª•ÊàêÂäüËÆøÈóÆ/indexÊé•Âè£ÔºåËøôÈáåÂ∞±‰∏çÊºîÁ§∫‰∫Ü„ÄÇÁü≠‰ø°È™åËØÅÁ†ÅËé∑Âèñ‰ª§ÁâåÂú®Spring SecurityÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩï‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨ÂÆûÁé∞‰∫ÜÈÄöËøáÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïÁ≥ªÁªüÁöÑÂäüËÉΩÔºåÈÄöËøáÁü≠‰ø°È™åËØÅÁ†ÅËé∑Âèñ‰ª§ÁâåÂíåÂÆÉÂîØ‰∏ÄÁöÑÂå∫Âà´Â∞±ÊòØÈ™åËØÅÁ†ÅÁöÑÂ≠òÂÇ®Á≠ñÁï•„ÄÇ‰πãÂâçÁöÑ‰æãÂ≠êÈ™åËØÅÁ†ÅÂ≠òÂÇ®Âú®Session‰∏≠ÔºåÁé∞Âú®‰ΩøÁî®‰ª§ÁâåÁöÑÊñπÂºèÂíåÁ≥ªÁªü‰∫§‰∫íÂêéSessionÂ∑≤Áªè‰∏çÈÄÇÁî®‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Á¨¨‰∏âÊñπÂ≠òÂÇ®Êù•‰øùÂ≠òÊàë‰ª¨ÁöÑÈ™åËØÅÁ†ÅÔºàÊó†ËÆ∫ÊòØÁü≠‰ø°È™åËØÅÁ†ÅËøòÊòØÂõæÂΩ¢È™åËØÅÁ†ÅÈÉΩÊòØ‰∏Ä‰∏™ÈÅìÁêÜÔºâÔºåÊØîÂ¶ÇRedisÁ≠â„ÄÇÂºïÂÖ•Redis‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt;ÂÆö‰πâ‰∏Ä‰∏™RedisCodeServiceÔºåÁî®‰∫éÈ™åËØÅÁ†ÅÁöÑÂ¢ûÂà†ÊîπÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * RedisÊìç‰ΩúÈ™åËØÅÁ†ÅÊúçÂä° */@Servicepublic class RedisCodeService &#123; private final static String SMS_CODE_PREFIX = "SMS_CODE:"; private final static Integer TIME_OUT = 300; @Autowired private StringRedisTemplate redisTemplate; /** * ‰øùÂ≠òÈ™åËØÅÁ†ÅÂà∞ redis * * @param smsCode Áü≠‰ø°È™åËØÅÁ†Å * @param request ServletWebRequest */ public void save(SmsCode smsCode, ServletWebRequest request, String mobile) throws Exception &#123; redisTemplate.opsForValue().set(key(request, mobile), smsCode.getCode(), TIME_OUT, TimeUnit.SECONDS); &#125; /** * Ëé∑ÂèñÈ™åËØÅÁ†Å * * @param request ServletWebRequest * @return È™åËØÅÁ†Å */ public String get(ServletWebRequest request, String mobile) throws Exception &#123; return redisTemplate.opsForValue().get(key(request, mobile)); &#125; /** * ÁßªÈô§È™åËØÅÁ†Å * * @param request ServletWebRequest */ public void remove(ServletWebRequest request, String mobile) throws Exception &#123; redisTemplate.delete(key(request, mobile)); &#125; private String key(ServletWebRequest request, String mobile) throws Exception &#123; String deviceId = request.getHeader("deviceId"); if (StringUtils.isBlank(deviceId)) &#123; throw new Exception("ËØ∑Âú®ËØ∑Ê±ÇÂ§¥‰∏≠ËÆæÁΩÆdeviceId"); &#125; return SMS_CODE_PREFIX + deviceId + ":" + mobile; &#125;&#125;ÁÑ∂ÂêéÂ∞ÜSpring SecurityÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩï‰∏ÄËäÇ‰∏≠ÁöÑÂÆûÁé∞ÈÉΩÊå™Âà∞Áé∞Âú®ÁöÑDemoÈáåÔºå‰øÆÊîπÁõ∏Â∫îÁöÑÂú∞ÊñπÔºàÊ∂âÂèäÂà∞È™åËØÅÁ†ÅÁöÑÂ¢ûÂà†ÊîπÁöÑÂú∞ÊñπÔºåÂÖ∑‰ΩìÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÊ∫êÁ†ÅÔºåËøôÈáåÂ∞±‰∏çËµòËø∞‰∫ÜÔºâ„ÄÇÂêØÂä®Á≥ªÁªüÔºå‰ΩøÁî®postmanÂèëÈÄÅÈ™åËØÅÁ†ÅÔºöËØ∑Ê±ÇÂ§¥‰∏≠Â∏¶‰∏ädeviceIdÔºàËøôÈáå‰∏∫Èöè‰æøÂ°´ÂÜôÁöÑÊ®°ÊãüÂÄºÔºâÔºöÁÇπÂáªÂèëÈÄÅÂêéÔºåÊéßÂà∂Âè∞ËæìÂá∫Ôºö1ÊâãÊú∫Âè∑17720202020ÁöÑÁôªÂΩïÈ™åËØÅÁ†Å‰∏∫Ôºö619963ÔºåÊúâÊïàÊó∂Èó¥‰∏∫120ÁßíÊé•ÁùÄÁî®Ëøô‰∏™È™åËØÅÁ†ÅÂéªÊç¢Âèñ‰ª§ÁâåÔºå‰ΩøÁî®postmanÂèëÈÄÅÂ¶Ç‰∏ãËØ∑Ê±ÇÔºöÂêåÊ†∑ËØ∑Ê±ÇÂ§¥‰∏≠Ë¶ÅÂ∏¶‰∏ädeviceIdÂíåÁªèËøábase64Âä†ÂØÜÁöÑclient_id:client_secretÔºöÁÇπÂáªÂèëÈÄÅÂêéÔºå‰æøÂèØ‰ª•ÊàêÂäüËé∑ÂèñÂà∞‰ª§ÁâåÔºö123456&#123; "access_token": "7fe22e67-1a11-4708-8707-0100555a9d1a", "token_type": "bearer", "refresh_token": "7c7a814f-2ace-4171-9748-56cb1994b04b", "expires_in": 41982&#125;Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/64.Spring-Security-OAuth2-Customize]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Cloud</tag>
        <tag>Spring Security</tag>
        <tag>OAuth2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VueÂÖ•Èó®Â≠¶‰π†]]></title>
    <url>%2FVue-Learn-Note.html</url>
    <content type="text"><![CDATA[Vue (ËØªÈü≥ /vjuÀê/ÔºåÁ±ª‰ºº‰∫é view) ÊòØ‰∏ÄÂ•óÁî®‰∫éÊûÑÂª∫Áî®Êà∑ÁïåÈù¢ÁöÑÊ∏êËøõÂºèÊ°ÜÊû∂„ÄÇ‰∏éÂÖ∂ÂÆÉÂ§ßÂûãÊ°ÜÊû∂‰∏çÂêåÁöÑÊòØÔºåVue Ë¢´ËÆæËÆ°‰∏∫ÂèØ‰ª•Ëá™Â∫ïÂêë‰∏äÈÄêÂ±ÇÂ∫îÁî®„ÄÇVue ÁöÑÊ†∏ÂøÉÂ∫ìÂè™ÂÖ≥Ê≥®ËßÜÂõæÂ±ÇÔºå‰∏ç‰ªÖÊòì‰∫é‰∏äÊâãÔºåËøò‰æø‰∫é‰∏éÁ¨¨‰∏âÊñπÂ∫ìÊàñÊó¢ÊúâÈ°πÁõÆÊï¥Âêà„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÂΩì‰∏éÁé∞‰ª£ÂåñÁöÑÂ∑•ÂÖ∑Èìæ‰ª•ÂèäÂêÑÁßçÊîØÊåÅÁ±ªÂ∫ìÁªìÂêà‰ΩøÁî®Êó∂ÔºåVue ‰πüÂÆåÂÖ®ËÉΩÂ§ü‰∏∫Â§çÊùÇÁöÑÂçïÈ°µÂ∫îÁî®Êèê‰æõÈ©±Âä®„ÄÇÊú¨ÁØáËÆ∞ÂΩïVueÂ≠¶‰π†ËøáÁ®ãÔºåÁî®‰∫éÂøÉÂæóÂ§áÂøòÔºåÂØπÂ§ñÂèØËØªÊÄßÂ∑ÆüôÉÔºåÂ≠¶‰π†VueËøòÊòØ‰ª•ÂÆòÊñπÊñáÊ°£‰∏∫‰∏ª„ÄÇVueÂÖ•Èó®ÈÄöËøá‰∏Ä‰∏™VueÂÆûÁé∞ÁöÑtodoListÊù•ÂÖ•Èó®ÔºöSee the Pen todo-list by wuyouzhuguli (@mrbird) on CodePen.var app = new Vue({})ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂÆû‰æãÔºåÈÄöËøáel: &quot;#app&quot;Êé•ÁÆ°‰∫ÜID‰∏∫appÁöÑdivÁöÑÊâÄÊúâÂÜÖÂÆπ„ÄÇdataÂ±ûÊÄßÁî®‰∫éË£ÖËΩΩÊï∞ÊçÆÔºåÂåÖÂê´listÂíåinputValue„ÄÇv-forÊåá‰ª§Áî®‰∫éÈÅçÂéÜÈõÜÂêàÔºåËøôÈáåÁî®‰∫éÈÅçÂéÜlistÊï∞ÁªÑ‰∏≠ÁöÑÂÄºÔºõv-modelÊåá‰ª§Áî®‰∫éÂèåÂêëÊï∞ÊçÆÁªëÂÆöÔºåÂç≥Âú®&lt;input type=&quot;text&quot; v-model=&quot;inputValue&quot;/&gt;‰∏≠ËæìÂÖ•ÁöÑÂÄº‰ºöÊîπÂèòVueÂÆû‰æã‰∏≠inputValueÁöÑÂÄºÔºåÈÄöËøáJSÊîπÂèòVueÂÆû‰æãinputValueÁöÑÂÄº‰πü‰ºöÊîπÂèò&lt;input type=&quot;text&quot; v-model=&quot;inputValue&quot;/&gt;‰∏≠ÁöÑÂÄº„ÄÇ@clickÊåá‰ª§Áî®‰∫éÁªëÂÆö‰∫ã‰ª∂ÔºåËøôÈáåÁªëÂÆö‰∫ÜcreateTodoList‰∫ã‰ª∂ÔºåÂØπÂ∫îVueÂÆû‰æãmethods‰∏≠ÁöÑcreateTodoList„ÄÇVueÁªÑ‰ª∂Êàë‰ª¨ÂèØ‰ª•ÂØπ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑHTMLÁâáÊÆµÊäΩÂèñÂá∫Êù•ÁªÑË£ÖÊàê‰∏Ä‰∏™VueÁªÑ‰ª∂ÔºåVueÁªÑ‰ª∂ÂàÜ‰∏∫ÂÖ®Â±ÄÁªÑ‰ª∂ÂíåÂ±ÄÈÉ®ÁªÑ‰ª∂„ÄÇÂÖ®Â±ÄVueÁªÑ‰ª∂ÂÆö‰πâ‰∏Ä‰∏™ÂÖ®Â±ÄVueÁªÑ‰ª∂ÊîπÈÄ†‰∏äÈù¢ÁöÑtodoListÔºöSee the Pen todo-list2 by wuyouzhuguli (@mrbird) on CodePen.ËøôÈáåÊàë‰ª¨‰ΩøÁî®Vue.component(&#39;TodoItem&#39;,{})ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂêçÁß∞‰∏∫TodoItemÂÖ®Â±ÄVueÁªÑ‰ª∂ÔºåÂèØ‰ª•Âú®‰ªª‰ΩïVueÁÆ°ÁêÜÁöÑDom‰∏≠‰ΩøÁî®ÔºöTodoItemÁªÑ‰ª∂ÂèØ‰ª•‰ΩøÁî®&lt;todo-item&gt;ÁöÑÊñπÂºè‰ΩøÁî®ÔºåÂç≥Â§ßÂÜôÂèØ‰ª•ËΩ¨Êç¢‰∏∫Â∞èÂÜôÔºåÁ¨¨‰∫å‰∏™Â§ßÂÜôÂ≠óÊØçËΩ¨Â∞èÂÜôÂêéÂøÖÈ°ªÂä†‰∏ä-ÂâçÁºÄÔºõv-bindÊåá‰ª§Áî®‰∫éÁªëÂÆöÂÄºÔºåËøôÈáåÈÄöËøáv-bind:contentÂ∞ÜcontentÂèòÈáèÁöÑÂÄºÁªëÂÆö‰∏∫item(Âç≥list‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÂÄº)ÔºåÈÄöËøáv-bind:indexÂ∞ÜindexÂèòÈáèÁöÑÂÄºÁªëÂÆö‰∏∫indexÔºàÂç≥ÂΩìÂâçÂæ™ÁéØÁöÑ‰∏ãÊ†áÔºâ„ÄÇv-bindÂèØ‰ª•ÁÆÄÂÜô‰∏∫:ÔºõpropsÂ±ûÊÄßÁî®‰∫éÂêëÂ≠êÁªÑ‰ª∂‰º†ÈÄíÊï∞ÊçÆÔºåËøôÈáåÊé•Êî∂‰∫ÜÁî±:bindÊåá‰ª§‰º†ÈÄí‰∫Ü‰ªéÁà∂ÁªÑ‰ª∂ÁªëÂÆöËøáÊù•ÁöÑindexÂíåcontentÂèòÈáèÔºõtemplateÂÆö‰πâ‰∫ÜÊ®°ÊùøÔºåÂç≥Ëøô‰∏™VueÁªÑ‰ª∂ÂëàÁé∞ÁöÑÊ†∑Â≠êÔºàÈÄöÂ∏∏ÈÉΩÊòØ‰∏ÄÊÆµHTMLÂä†‰∏äÁà∂ÁªÑ‰ª∂‰º†ÈÄíËøáÊù•ÁöÑÂèòÈáèÂÄºÔºâ„ÄÇÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨Èô§‰∫ÜÂ≠¶‰ºö‰∫ÜÊÄé‰πàÂÆö‰πâÂÖ®Â±ÄVueÁªÑ‰ª∂Â§ñÔºåËøòÂ≠¶‰ºö‰∫ÜÊÄé‰πà‰ªéÁà∂ÁªÑ‰ª∂‰∏≠ÂæÄÂ≠êÁªÑ‰ª∂‰º†ÂÄº„ÄÇ&lt;div id=&quot;app&quot;&gt;Ëøô‰∏™DomÁªìÊûÑÂ∑≤ÁªèË¢´VueÊé•ÁÆ°ÔºåÂÖ∂ÂÜÖÈÉ®ÂèàÂåÖÂê´‰∫Ü&lt;todo-item&gt;VueÁªÑ‰ª∂ÔºåÊâÄ‰ª•Êàë‰ª¨Â∞Ü&lt;div id=&quot;app&quot;&gt;Áß∞‰πã‰∏∫Áà∂ÁªÑ‰ª∂Ôºå&lt;todo-item&gt;Áß∞‰πã‰∏∫Â≠êÁªÑ‰ª∂„ÄÇÂ±ÄÈÉ®VueÁªÑ‰ª∂ÂÆö‰πâ‰∏Ä‰∏™Â±ÄÈÉ®ÁªÑ‰ª∂Êù•ÊîπÈÄ†‰∏äÈù¢ÁöÑtodoListÔºöSee the Pen todo-list3 by wuyouzhuguli (@mrbird) on CodePen.ËøôÈáåÊàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Â±ÄÈÉ®JSÂØπË±°TodoItemÔºåÁÑ∂ÂêéÂú®VueÂÆû‰æãapp‰∏≠ÁöÑcomponentsÂ±ûÊÄß‰∏≠ÂºïÂÖ•‰∫ÜËØ•ÂØπË±°ÔºåÂêçÁß∞‰æùÊóßÊòØTodoItemÔºåËøôÁßçÂ∞±ÊòØÂ±ÄÈÉ®VueÁªÑ‰ª∂„ÄÇËøôÈáå‰∏ªË¶ÅËÆ∞ÂΩï‰∏ãËØ•Â±ÄÈÉ®ÁªÑ‰ª∂‰∏≠handleItemClickÊñπÊ≥ïÁöÑÂÆûÁé∞ËøáÁ®ãÔºöÊàë‰ª¨Âú®Â≠êÁªÑ‰ª∂TodoItem‰∏≠ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™handleItemClickÊñπÊ≥ïÔºõhandleItemClickÊñπÊ≥ïÈáåÈÄöËøáthis.$emit(&#39;delete&#39;, this.index)ÂêëÁà∂ÁªÑ‰ª∂‰º†ÈÄí‰∏Ä‰∏™‰∫ã‰ª∂Ôºå‰∫ã‰ª∂ÂêçÁß∞‰∏∫delete,‰∫ã‰ª∂ÂåÖÂê´‰∏Ä‰∏™indexÂèÇÊï∞„ÄÇÂ≠êÁªÑ‰ª∂ÁöÑ@deleteÁõëÂê¨‰∫ã‰ª∂ÂØπÂ∫î2‰∏≠‰º†ÈÄíËøáÊù•ÁöÑdelete‰∫ã‰ª∂ÔºåÁõëÂê¨ÁöÑÊñπÊ≥ï‰∏∫Áà∂ÁªÑ‰ª∂ÁöÑdeleteTodoListÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰∏≠Êé•Âèó‰∫Ü2‰∏≠‰º†ÈÄíËøáÊù•ÁöÑindexÂèÇÊï∞ÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•Âú®ËØ•ÊñπÊ≥ï‰∏≠ÂÆûÁé∞ÊÉ≥Ë¶ÅÁöÑÈÄªËæë‰∫ÜÔºàËøôÈáå‰∏∫Âà†Èô§ÂØπÂ∫îÁöÑÁÇπÂáªÂØπË±°Ôºâ„ÄÇÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨Èô§‰∫ÜÂ≠¶‰ºö‰∫ÜÊÄé‰πàÂÆö‰πâÂ±ÄÈÉ®VueÁªÑ‰ª∂Â§ñÔºåËøòÂ≠¶‰ºö‰∫ÜÊÄé‰πà‰ªéÂ≠êÁªÑ‰ª∂‰∏≠ÂæÄÁà∂ÁªÑ‰ª∂‰º†ÂÄº„ÄÇemit: Ëã±[iÀàm…™t],Áæé[…™Ààm…™t] vt.ÂèëÂá∫; ÂèëÂ∞ÑVueÂÆû‰æãÁîüÂëΩÂë®ÊúüVueÂÆû‰æã‰ªéÂàõÂª∫Âà∞ÈîÄÊØÅÂåÖÂê´‰∫ÜÂ§ö‰∏™ÁîüÂëΩÂë®ÊúüÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöËøô‰∏™ËøáÁ®ã‰∏≠ÂåÖÂê´‰∫ÜÂ•ΩÂá†‰∏™ÁîüÂëΩÂë®ÊúüÂáΩÊï∞ÔºåÂú®Áõ∏Â∫îÁöÑÊó∂Èó¥ÁÇπ‰ºöËá™Âä®ÊâßË°åÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;vueÂÆû‰æãÁîüÂëΩÂë®ÊúüÂáΩÊï∞&lt;/title&gt; &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id="app"&gt;&lt;/div&gt;&lt;script&gt; var app = new Vue(&#123; el: "#app", template: '&lt;span&gt;&#123;&#123;test&#125;&#125;&lt;/span&gt;', data: &#123; test: 'hello world' &#125;, beforeCreate: function () &#123; console.log("beforeCreate"); &#125;, created: function () &#123; console.log("created"); &#125;, beforeMount: function () &#123; console.log(this.$el); console.log("beforeMount"); &#125;, mounted: function () &#123; console.log(this.$el); console.log("mounted"); &#125;, beforeUpdate: function () &#123; console.log("beforeUpdate") &#125;, updated: function () &#123; console.log("updated"); &#125;, beforeDestroy: function () &#123; console.log("beforeDestroy") &#125;, destroyed: function () &#123; console.log("destroyed"); &#125;, &#125;);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;ÂÖ∂ÂÆûÔºåÈô§‰∫Ü‰∏äÈù¢8‰∏™ÁîüÂëΩÂë®ÊúüÂáΩÊï∞Â§ñÔºåVueËøòÂåÖÂê´3‰∏™ÁâπÊÆäÁöÑÁîüÂëΩÂë®ÊúüÂáΩÊï∞ÔºöactivatedÔºådeactivated Âíå errorCaptured„ÄÇËÆ°ÁÆóÂ±ûÊÄßÔºåÊñπÊ≥ïÂíåÁõëÂê¨Âô®ËÆ°ÁÆóÂ±ûÊÄß‰∏Ä‰∏™ËÆ°ÁÆóÂ±ûÊÄßÁöÑ‰æãÂ≠êÔºöSee the Pen ËÆ°ÁÆóÂ±ûÊÄß by wuyouzhuguli (@mrbird) on CodePen.‰ΩøÁî®computedËÆ°ÁÆó‰∫ÜfullNameÂ±ûÊÄßÔºåÂÄº‰∏∫firstName+lastName„ÄÇËÆ°ÁÆóÂ±ûÊÄßÂÖ∑ÊúâÁºìÂ≠òÂäüËÉΩÔºåÂΩìfirstNameÂíålastNameÈÉΩ‰∏çÊîπÂèòÁöÑÊó∂ÂÄôÔºåfullName‰∏ç‰ºöÈáçÊñ∞ËÆ°ÁÆóÔºåÊØîÂ¶ÇÊàë‰ª¨ÊîπÂèòageÁöÑÂÄºÔºåfullNameÁöÑÂÄºÊòØ‰∏çÈúÄË¶ÅÈáçÊñ∞ËÆ°ÁÆóÁöÑÔºöÊñπÊ≥ï‰ΩøÁî®ÊñπÊ≥ï‰πüÂèØ‰ª•ÂÆûÁé∞‰∏äÈù¢ÁöÑÂäüËÉΩÔºöSee the Pen todo-list5 by wuyouzhuguli (@mrbird) on CodePen.‰∏çËøámethodsÂπ∂Ê≤°ÊúâÁºìÂ≠òÁâπÊÄßÔºåÊØîÂ¶ÇÊàë‰ª¨ÊîπÂèòageÁöÑÂÄºÔºåfullName()ÊñπÊ≥ï‰ºöË¢´ÊâßË°å‰∏ÄÈÅçÔºöÁõëÂê¨Âô®‰ΩøÁî®ÁõëÂê¨Âô®‰πüÂèØ‰ª•ÂÆûÁé∞‰∏äÈù¢ÁöÑÂäüËÉΩÔºöSee the Pen todo-list6 by wuyouzhuguli (@mrbird) on CodePen.ËøôÈáåÁõëÂê¨‰∫ÜfirstNameÂíålastNameÁöÑÂÄºÔºåÂΩìÂÆÉ‰ª¨‰ªª‰Ωï‰∏Ä‰∏™ÊîπÂèòÁöÑÊó∂‰æØfullName‰πüË∑üÂèòÔºåÊàë‰ª¨ÊîπÂèòageÁöÑÂÄºÔºåfullNameÁöÑÂÄº‰∏ç‰ºöË¢´ÈáçÊñ∞ËÆ°ÁÆóÔºå‰πüÂÖ∑ÊúâÁºìÂ≠òÁâπÊÄßÔºà‰∏çËøá‰ª£Á†ÅÊØîcomputedÂï∞Âó¶Ôºâ:ÂΩì‰∏Ä‰∏™ÂäüËÉΩÂèØ‰ª•Áî®‰∏äÈù¢‰∏â‰∏™ÊñπÊ≥ïÊù•ÂÆûÁé∞ÁöÑÊó∂ÂÄôÔºåÊòéÊòæ‰ΩøÁî®computedÊõ¥ÂêàÈÄÇÔºå‰ª£Á†ÅÁÆÄÂçï‰πüÊúâÁºìÂ≠òÁâπÊÄß„ÄÇcomputedÁöÑgetterÂíåsetterÂ∞Ü‰∏äÈù¢ËÆ°ÁÆóÂ±ûÊÄßÁöÑ‰æãÂ≠êÊîπ‰∏∫‰∏ãÈù¢ÁöÑÂΩ¢ÂºèÔºöSee the Pen get set by wuyouzhuguli (@mrbird) on CodePen.ÈÄöËøáËøôÁßçÊñπÂºèÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÊîπÂèòËÆ°ÁÆóÂ±ûÊÄßÂÄºÁöÑÂêåÊó∂‰πüÊîπÂèòÂíåËÆ°ÁÆóÂ±ûÊÄßÁõ∏ÂÖ≥ËÅîÁöÑÂ±ûÊÄßÂÄº„ÄÇÊ∑±ÂÖ•ÁêÜËß£VueÁªÑ‰ª∂isÂÖàÊù•Áúã‰∏Ä‰∏™bugÔºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑVueÁªÑ‰ª∂‰ΩøÁî®Ôºö123456789101112131415161718192021222324252627&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;title&lt;/title&gt; &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id="app"&gt; &lt;table&gt; &lt;tbody&gt; &lt;row&gt;&lt;/row&gt; &lt;row&gt;&lt;/row&gt; &lt;row&gt;&lt;/row&gt; &lt;/tbody&gt; &lt;/table&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; Vue.component('row', &#123; template: '&lt;tr&gt;&lt;td&gt;hello world&lt;/td&gt;&lt;/tr&gt;' &#125;); var app = new Vue(&#123; el: "#app" &#125;);&lt;/script&gt;&lt;/html&gt;ËôΩÁÑ∂ÂÖ∂Âú®È°µÈù¢‰∏äÁúã‰∏äÂéªÊòØÊ≠£Â∏∏ÁöÑÔºå‰ΩÜÊòØÊü•ÁúãÂô®DOMÁªìÊûÑÂ∞±ËÉΩÂèëÁé∞ÈóÆÈ¢òÔºöÂèØÁúãÂà∞tableÁöÑÁªìÊûÑÊòØÈîôËØØÁöÑÔºåÂõ†‰∏∫HTML5ËßÑËåÉÂè™ÂÖÅËÆ∏&lt;tbody&gt;‰∏ãÈù¢Á¥ßË∑üÁùÄ&lt;tr&gt;Ê†áÁ≠æÔºåÁ±ª‰ººÁöÑ&lt;ul&gt;‰∏ãÂè™ËÉΩÁ¥ßË∑üÁùÄ&lt;li&gt;Ê†áÁ≠æ„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•Áî®isÊù•ÊîπÂÜô‰ª£Á†ÅÔºöSee the Pen is by wuyouzhuguli (@mrbird) on CodePen.Â≠êÁªÑ‰ª∂‰∏≠ÁöÑdataÂ∫îËØ•‰∏∫functionÊîπ‰∏Ä‰∏ã‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºö1234567891011121314151617181920212223242526272829303132&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;title&lt;/title&gt; &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id="app"&gt; &lt;table&gt; &lt;tbody&gt; &lt;tr is="row"&gt;&lt;/tr&gt; &lt;tr is="row"&gt;&lt;/tr&gt; &lt;tr is="row"&gt;&lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt; Vue.component('row', &#123; data: function()&#123; return &#123; content: 'hello world.' &#125; &#125;, template: '&lt;tr&gt;&lt;td&gt;&#123;&#123;content&#125;&#125;&lt;/td&gt;&lt;/tr&gt;' &#125;); var app = new Vue(&#123; el: "#app" &#125;);&lt;/script&gt;&lt;/html&gt;Â¶ÇÊûúdataÂè™ÊòØ‰∏Ä‰∏™JSÂØπË±°ÁöÑËØùÔºåVueÂ∞ÜÊäõÂá∫ÂºÇÂ∏∏Ôºå‰πãÊâÄ‰ª•ÊúâËøôÊ†∑ÁöÑÈôêÂà∂ÊòØÂõ†‰∏∫Â≠êÁªÑ‰ª∂ÂèØËÉΩ‰ºöÂú®‰∏çÂêåÁöÑÂú∞ÊñπÂ§öÊ¨°ÂºïÁî®Ôºå‰∏∫‰∫Ü‰øùÊåÅÊï∞ÊçÆÁöÑ‰ΩúÁî®Âüü‰∏ç‰∏ÄÊ†∑ÔºàÁõ∏‰∫íÁã¨Á´ãÔºå‰∫í‰∏çÂΩ±ÂìçÔºâÔºåÊâÄ‰ª•‰ΩøÁî®ÂáΩÊï∞ÂåÖË£π‰∫Ü‰∏ã„ÄÇrefÂú®‰ΩøÁî®VueÁöÑÊó∂ÂÄôÔºåÊÄªÊúâ‰∏çÂæó‰∏çÂéªÊìç‰ΩúDOMÁöÑÊó∂ÂÄôÔºåËøôÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®refÊù•ÂÆåÊàê„ÄÇÂú®DOM‰∏≠‰ΩøÁî®Áõ¥Êé•‰∏æ‰∏™‰æãÂ≠êÔºå‰ΩøÁî®refÊù•Ëé∑ÂèñdivÊ†áÁ≠æ‰∏≠ÁöÑÂÜÖÂÆπÔºöSee the Pen ref1 by wuyouzhuguli (@mrbird) on CodePen.‰ΩøÁî®refËÆ©divÂèòÊàê‰∏Ä‰∏™ÂºïÁî®ÔºåÂêçÁß∞‰∏∫divÔºåÁÑ∂ÂêéÂú®hello()ÊñπÊ≥ï‰∏≠Ôºåthis.$refsË°®Á§∫ÂΩìÂâçVueÂÆû‰æã‰∏≠ÁöÑÊâÄÊúâÂºïÁî®Ôºåthis.$refs.divËøôÈáåËé∑ÂèñÁöÑÊòØ&lt;div ref=&quot;div&quot;&gt;Ëøô‰∏™DOMÂØπË±°„ÄÇÂú®VueÁªÑ‰ª∂‰∏≠‰ΩøÁî®Áî®VueÁºñÂÜô‰∏™Ê±ÇÂíåÁöÑ‰æãÂ≠êÔºöSee the Pen ref2 by wuyouzhuguli (@mrbird) on CodePen.ËøôÈáårefÁöÑÂºïÁî®ÊòØ‰∏Ä‰∏™VueÁªÑ‰ª∂„ÄÇÂèØ‰ª•Ëá™‰∏™consoleÊâìÂç∞ÁúãÁúã„ÄÇÁà∂ÁªÑ‰ª∂ÂêëÂ≠êÁªÑ‰ª∂‰º†ÂÄºVueËßÑÂÆöÔºåÂ≠êÁªÑ‰ª∂‰∏çËÉΩÁõ¥Êé•‰øÆÊîπÁà∂ÁªÑ‰ª∂‰∏≠‰º†ÈÄíËøáÊù•ÁöÑÂÄº„ÄÇÂõ†‰∏∫Â¶ÇÊûú‰º†ÈÄíÁöÑÊòØ‰∏Ä‰∏™ÂØπË±°ÁöÑËØùÔºå‰Ω†Âú®‰∏Ä‰∏™Â≠êÁªÑ‰ª∂‰∏≠‰øÆÊîπ‰∫ÜÂØπË±°ÁöÑÂ±ûÊÄßÂÄºÔºåÂæàÊúâÂèØËÉΩÂà´ÁöÑÂ≠êÁªÑ‰ª∂‰πüÁî®Âà∞‰∫ÜËøô‰∏™Â±ûÊÄßÔºåÈÇ£‰πàÂ∞±‰ºö‰∏ÄËµ∑‰øÆÊîπ‰∫Ü„ÄÇÂèòÈÄöÁöÑÊñπÊ≥ïÊòØÔºåÂ≠êÁªÑ‰ª∂ÂéªÂ§çÂà∂‰∏Ä‰ªΩÁà∂ÁªÑ‰ª∂‰º†ÈÄíËøáÊù•ÁöÑÊï∞ÊçÆÔºåÁÑ∂Âêé‰øÆÊîπËøô‰ªΩÊã∑Ë¥ù„ÄÇÁªÑ‰ª∂ÂèÇÊï∞Ê†°È™åÁà∂ÁªÑ‰ª∂ÂæÄÂ≠êÁªÑ‰ª∂‰º†ÈÄíÂèÇÊï∞ÁöÑÊó∂ÂÄôÔºåÂ≠êÁªÑ‰ª∂ÂèØ‰ª•ÂØπËøô‰∫õÂèÇÊï∞ÁöÑÂÄºËøõË°å‰∏Ä‰∫õËßÑÂàôÊ†°È™åÔºåÊ†°È™å‰∏çÈÄöËøáVue‰ºöÊäõÂá∫Ë≠¶ÂëäÔºö123456789101112131415161718192021222324252627282930313233Vue.component('my-component', &#123; props: &#123; // Âü∫Á°ÄÁöÑÁ±ªÂûãÊ£ÄÊü• (`null` ÂåπÈÖç‰ªª‰ΩïÁ±ªÂûã) propA: Number, // Â§ö‰∏™ÂèØËÉΩÁöÑÁ±ªÂûã propB: [String, Number], // ÂøÖÂ°´ÁöÑÂ≠óÁ¨¶‰∏≤ propC: &#123; type: String, required: true &#125;, // Â∏¶ÊúâÈªòËÆ§ÂÄºÁöÑÊï∞Â≠ó propD: &#123; type: Number, default: 100 &#125;, // Â∏¶ÊúâÈªòËÆ§ÂÄºÁöÑÂØπË±° propE: &#123; type: Object, // ÂØπË±°ÊàñÊï∞ÁªÑÈªòËÆ§ÂÄºÂøÖÈ°ª‰ªé‰∏Ä‰∏™Â∑•ÂéÇÂáΩÊï∞Ëé∑Âèñ default: function () &#123; return &#123; message: 'hello' &#125; &#125; &#125;, // Ëá™ÂÆö‰πâÈ™åËØÅÂáΩÊï∞ propF: &#123; validator: function (value) &#123; // Ëøô‰∏™ÂÄºÂøÖÈ°ªÂåπÈÖç‰∏ãÂàóÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑ‰∏Ä‰∏™ return ['success', 'warning', 'danger'].indexOf(value) !== -1 &#125; &#125; &#125;&#125;)ÁªôÁªÑ‰ª∂ÁªëÂÆöÂéüÁîü‰∫ã‰ª∂Â¶ÇÊûúÊàë‰ª¨Âú®ÁªÑ‰ª∂‰∏äÁªëÂÆö‰∏Ä‰∏™ÁõëÂê¨‰∫ã‰ª∂ÔºåÂÖ∂Âπ∂‰∏ç‰ºöÁõ¥Êé•Ë∞ÉÁî®Áà∂ÁªÑ‰ª∂ÁöÑÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºå‰∏ãÈù¢ÁöÑÁÇπÂáª‰∫ã‰ª∂ÊòØ‰∏ç‰ºöË¢´Ëß¶ÂèëÁöÑÔºöSee the Pen .native by wuyouzhuguli (@mrbird) on CodePen.Âõ†‰∏∫ËøôÊ†∑ÂÜôÂÆûÈôÖ‰∏ä@clickÊòØÂ≠êÁªÑ‰ª∂ÂêëÁà∂ÁªÑ‰ª∂ÊäõÂá∫ÁöÑ‰∏Ä‰∏™ÁõëÂê¨‰∫ã‰ª∂ÔºåËøôÈáåÂ≠êÁªÑ‰ª∂Âπ∂Ê≤°ÊúâÈÄöËøáthis.$emit(&#39;click&#39;)ÂêëÁà∂ÁªÑ‰ª∂‰º†ÈÄíËøô‰∏™‰∫ã‰ª∂„ÄÇÂ¶ÇÊûúÊÉ≥Ë¶ÅÂú®ÁªÑ‰ª∂‰∏äÁªëÂÆöÂéüÁîüÁöÑ‰∫ã‰ª∂ÔºåÂè™ÈúÄË¶ÅÊîπ‰∏∫`@click.native`Âç≥ÂèØÔºöSee the Pen .native2 by wuyouzhuguli (@mrbird) on CodePen.ÈùûÁà∂Â≠êÁªÑ‰ª∂‰º†ÂÄºÁà∂Â≠êÁªÑ‰ª∂‰º†ÂÄº‰∏äÈù¢Â∑≤Áªè‰ªãÁªç‰∫ÜÔºåÈÇ£ÈùûÁà∂Â≠êÁªÑ‰ª∂‰º†ÂÄºÔºà‰∏çÊòØÁõ¥Êé•ÁöÑÁà∂Â≠êÂÖ≥Á≥ªÔºâÂë¢ÔºüÊØîÂ¶ÇÔºöÁ¨¨‰∏ÄÂ±ÇÂ¶Ç‰Ωï‰∏éÁ¨¨‰∏âÂ±Ç‰πãÈó¥‰º†ÂÄºÂë¢ÔºüÁõ∏ÂêåÂ±ÇÁ∫ß‰πãÈó¥ÁöÑÁªÑ‰ª∂ÂèàÂ¶Ç‰ΩïÁõ∏‰∫í‰º†ÂÄºÂë¢ÔºüÊúâ‰∏§ÁßçÂäûÊ≥ïÔºövuexÔºàÂêéÈù¢ÂÜçËØ¥ÔºâÊÄªÁ∫øÊú∫Âà∂Ôºàbus/ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè/ËßÇÂØüËÄÖÊ®°ÂºèÔºâÁúã‰∏Ä‰∏™ÊÄªÁ∫øÊú∫Âà∂ÁöÑ‰æãÂ≠êÔºàÁÇπÂáªchild-one‰ºöÊäächild-oneÁöÑinnerHTMLÂÄº‰º†ÈÄíÁªôchild-twoÔºâÔºöSee the Pen bus by wuyouzhuguli (@mrbird) on CodePen.Ëß£Èáä‰∏Ä‰∏ã‰∏äÈù¢ÁöÑÂÆûÁé∞ËøáÁ®ãÔºöÈÄöËøáVue.prototype.bus = new Vue()ÂÆûÁé∞‰∫ÜÂú®ÊØè‰∏™VueÂÆû‰æã‰∏≠Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™busÂ±ûÊÄßÔºåËøô‰∏™busÂ±ûÊÄß‰∏∫‰∏Ä‰∏™VueÂÆû‰æãÔºåÊã•ÊúâVueÁöÑÊâÄÊúâÁâπÊÄß„ÄÇÊâÄ‰ª•Âú®ÊØè‰∏™VueÂÆû‰æã‰∏≠ÈÉΩ‰ºöÊúâ‰∏Ä‰∏™busÂ±ûÊÄßÔºåÂ±ûÊÄßÂÄºÈÉΩÊåáÂêëÂêå‰∏Ä‰∏™VueÂÆû‰æãÔºõÂàõÂª∫‰∫Ü‰∏§‰∏™ÂÖÑÂºüÂ≠êÁªÑ‰ª∂child-oneÂíåchild-twoÔºõÂú®Â≠êÁªÑ‰ª∂child-one‰∏≠Êúâ‰∏Ä‰∏™handleClick‰∫ã‰ª∂Ôºå‰∫ã‰ª∂ÈáåÈÄöËøáthis.bus.$emitÊäõÂá∫‰∫Ü‰∏Ä‰∏™change‰∫ã‰ª∂ÔºåÂπ∂Êê∫Â∏¶‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂÄº‰∏∫child-oneÁöÑinnerHTML„ÄÇ‰πãÊâÄ‰ª•ÂèØ‰ª•ÈÄöËøáthis.bus.$emitÊäõÂá∫ÔºåÊòØÂõ†‰∏∫Â¶Ç‰∏äÈù¢ÊâÄËØ¥ÁöÑÈÇ£Ê†∑ÔºåÊØè‰∏™VueÂÆû‰æãÈÉΩÊê∫Â∏¶‰∫Ü‰∏Ä‰∏™busÂ±ûÊÄßÔºåËØ•Â±ûÊÄßÊåáÂêë‰∏Ä‰∏™VueÂÆû‰æãÔºõchild-oneÊäõÂá∫ÁöÑchange‰∫ã‰ª∂ÂèØ‰ª•Âú®‰ªª‰ΩïÁöÑVueÂÆû‰æã‰∏≠ÈÄöËøáthis.bus.$onÊù•ÁõëÂê¨Âà∞„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Âú®child-twoÈáåÈÄöËøáË∞ÉÁî®this.bus.$onÊù•ÁõëÂê¨Ôºå‰ΩÜÂú®Âì™ÈáåÁõëÂê¨Ëøô‰∏™‰∫ã‰ª∂Â•ΩÂë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ÂÄüÂä©VueÁöÑÁîüÂëΩÂë®ÊúüÈí©Â≠êÂáΩÊï∞mountedÊù•ÁõëÂê¨change‰∫ã‰ª∂Ôºõ‰∏äÈù¢‰∏ªË¶ÅÊúâ‰∏§‰∏™ÊäÄÂ∑ßÔºö‚ë† ËÆ©ÊâÄÊúâVueÂÆû‰æãÊã•ÊúâÂêå‰∏Ä‰∏™Â±ûÊÄßÔºõ‚ë° Ëøô‰∏™Â±ûÊÄß‰πüÊòØ‰∏Ä‰∏™VueÂÆû‰æã„ÄÇÂÖ∂ÂÆûÂ∞±ÊòØÂº∫Ë°åËÆ©ÈùûÁà∂Â≠êÁªÑ‰ª∂ÊâØ‰∏äÂÖ≥Á≥ªÔºåÊê≠Âª∫Ëøô‰∏™ÂÖ≥Á≥ªÁöÑÊ°•Ê¢ÅÂ∞±ÊòØ‰∏äÈù¢ÂÆö‰πâÁöÑbus„ÄÇÂ¶ÇÊûúÂè™ÊòØÁÆÄÂçïÁöÑÈùûÁà∂Â≠êÁªÑ‰ª∂‰πãÈó¥ÁöÑÂÄºÁöÑ‰º†ÈÄíÁöÑËØùÔºåÂÖ®Â±ÄVueÂ±ûÊÄßbus‰πüÂèØ‰ª•ÊåáÂêë‰∏Ä‰∏™ÁÆÄÂçïÂØπË±°ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöSee the Pen bus1 by wuyouzhuguli (@mrbird) on CodePen.ÊïàÊûúÂ∞±ÊòØÔºåÁõ¥Êé•ÁÇπÂáªchild-twoÂºπÂá∫initÔºõÂÖàÁÇπÂáªchild-oneÊîπÂèòthis.bus.nameÁöÑÂÄº‰∏∫oneÔºåÂÜçÁÇπÂáªchild-twoÂ∞ÜÂºπÂá∫one„ÄÇÊèíÊßΩslotÊèíÊßΩË¶ÅÂÆûÁé∞ÁöÑÊòØÁà∂ÁªÑ‰ª∂‰ºòÈõÖÁöÑÂæÄÂ≠êÁªÑ‰ª∂‰º†ÈÄíDOMÁªìÊûÑ„ÄÇhttps://cn.vuejs.org/v2/guide/components-slots.html„ÄÇ‰ΩúÁî®ÂüüÊèíÊßΩÊúâÁöÑÊó∂ÂÄô‰Ω†Â∏åÊúõÊèê‰æõÁöÑÁªÑ‰ª∂Â∏¶Êúâ‰∏Ä‰∏™ÂèØ‰ªéÂ≠êÁªÑ‰ª∂Ëé∑ÂèñÊï∞ÊçÆÁöÑÂèØÂ§çÁî®ÁöÑÊèíÊßΩÔºåÂç≥‰ªéÂ≠êÁªÑ‰ª∂Ëé∑ÂèñÁöÑÊï∞ÊçÆÂú®Áà∂ÁªÑ‰ª∂‰∏≠ÂèØ‰ª•‰ª•‰ªª‰ΩïÂΩ¢ÂºèÂ±ïÁé∞ÔºåËøôÁßçÊèíÊßΩÂ∞±ÊòØ‰ΩúÁî®ÂüüÊèíÊßΩÔºåÁúã‰∏™‰æãÂ≠êÔºöSee the Pen slot1 by wuyouzhuguli (@mrbird) on CodePen.Â≠êÁªÑ‰ª∂ÈáåÂú®ÊèíÊßΩ‰∏≠‰ΩøÁî®:item=itemÁªëÂÆö‰∫Ülist‰∏≠ÁöÑÊØè‰∏ÄÈ°πÊï∞ÊçÆÔºåÁÑ∂ÂêéÁà∂ÁªÑ‰ª∂‰∏≠‰ΩøÁî®ËØ•ÊèíÊßΩÁöÑÊó∂ÂÄôÁî®slot-scope=&quot;props&quot;Êé•Êî∂‰∫ÜËøô‰∫õÊï∞ÊçÆ„ÄÇÂä®ÊÄÅÁªÑ‰ª∂Áúã‰∏™‰æãÂ≠êÔºöSee the Pen dynamic by wuyouzhuguli (@mrbird) on CodePen.&lt;component&gt;Ê†áÁ≠æÁî®‰∫éÂä†ËΩΩÂä®ÊÄÅÁªÑ‰ª∂ÔºåÂä†ËΩΩÂì™‰∏™ÂêçÂ≠óÁöÑÁªÑ‰ª∂Ê†πÊçÆ:isÊåáÂÆöÁöÑÂÄºÊù•ÈÄâÊã©„ÄÇËøôÈáåÈÄöËøáchange‰∫ã‰ª∂Êù•ÊîπÂèòtypeÁöÑÂÄº„ÄÇVueÂä®ÁîªÁâπÊïàVueÂÆòÊñπÊñáÊ°£ÂÜôÁöÑÂæàËØ¶ÁªÜÔºåhttps://cn.vuejs.org/v2/guide/transitions.html„ÄÇÊûÑÂª∫Á¨¨‰∏Ä‰∏™VueÈ°πÁõÆÁ¨¨‰∏ÄÊ≠•ÔºåÂÆâË£Övue-cliÔºö1cnpm install --global vue-cliÂÆâË£ÖÂ•ΩÂêéÔºåÂàùÂßãÂåñ‰∏Ä‰∏™ÁÆÄÂçïÁöÑVueÈ°πÁõÆÔºö1vue init webpack vue-project-testËøáÁ®ã‰∏≠ÈúÄË¶ÅÊ≠•È™§Á°ÆËÆ§ÔºöÂàùÂßãÂåñÂÆåÊØïÂêéÔºåÂêØÂä®È°πÁõÆÔºö12cd vue-project-testnpm run devËÆøÈóÆhttp://localhost:8080/ÔºöÈ°πÁõÆÊûÑÂª∫ÊàêÂäüÔºÅÂâçÁ´Ø‰πüÊå∫Â•ΩÁé©ÁöÑüòãÈ°πÁõÆÁªìÊûÑ‰ªãÁªçÊâìÂºÄ‰∏äÈù¢ÂàõÂª∫Â•ΩÁöÑvue-project-testÔºåÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂÖà‰ªéÂ§ñÈÉ®ÁöÑÊñá‰ª∂ËØ¥Ëµ∑Ôºöpackage.jsonÔºöÁ¨¨‰∏âÊñπ‰æùËµñÈÖçÁΩÆÔºõpackage-lock.jsonÔºöpackage.jsonÁöÑÈîÅÊñá‰ª∂ÔºåÁ°ÆÂÆöÁ¨¨‰∏âÊñπ‰æùËµñÁöÑÁâàÊú¨Ôºå‰øùÊåÅÂõ¢ÈòüÂçè‰Ωú‰∏äÁâàÊú¨ÁöÑÁªü‰∏ÄÔºõindex.htmlÔºöÈ°πÁõÆÈ¶ñÈ°µÊ®°ÊùøÔºõ.postcssrc.jsÔºöpostcssÈÖçÁΩÆÈ°πÔºàÊöÇÊó∂‰∏çÊáÇÂπ≤ÂòõÁöÑÔºâÔºõ.eslintrc.jsÔºöjsËØ≠Ê≥ïÊ£ÄÊü•Ôºõ.eslintignoreÔºöÈÖçÁΩÆÊéíÈô§jsÊ£ÄÊü•Ôºõ.editorconfigÔºöÁºñËæëÈÖçÁΩÆÔºõ.babelrcÔºöÂ∞ÜVueÊñá‰ª∂ËΩ¨Êç¢‰∏∫ÊµèËßàÂô®ËÉΩÂ§üËØÜÂà´ÁöÑhtmlÔºõÂÜçÊù•ÁúãÁõÆÂΩïÔºöstatic/ÔºöÈ°πÁõÆÈùôÊÄÅËµÑÊ∫êÂ≠òÊîæÔºåÈáåÈù¢ÁöÑËµÑÊ∫êÁõ¥Êé•ÂèØ‰ª•ÈÄöËøáURLËÆøÈóÆÔºõnode_modules/ÔºöÈ°πÁõÆ‰æùËµñÁöÑÁ¨¨‰∏âÊñπÂåÖÔºõsrc/ÔºöÂåÖÂê´È°πÁõÆÊñá‰ª∂ÔºåÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫Ôºömain.jsÔºöÊï¥‰∏™È°πÁõÆÂÖ•Âè£Êñá‰ª∂ÔºõApp.vueÔºöÈ°πÁõÆÁöÑÊ†πÁªÑ‰ª∂Ôºõrouter/ÔºöÈ°πÁõÆË∑ØÁî±ÈÖçÁΩÆÂ§ÑÔºõcomponents/ÔºöÂ≠òÊîæÈ°πÁõÆÊâÄÁî®Âà∞ÁöÑÁªÑ‰ª∂Ôºõassets/ÔºöÂ≠òÊîæÈ°πÁõÆÁî®Âà∞ÁöÑÂõæÁâáËµÑÊ∫êÔºõconfig/ÔºöÈ°πÁõÆÈÖçÁΩÆÊñá‰ª∂ÁõÆÂΩïÔºå‰øÆÊîπÈúÄË¶ÅÈáçÂêØÈ°πÁõÆÔºõbuild/ÔºöÈ°πÁõÆÊâìÂåÖwebpackÈÖçÁΩÆÂ§Ñ„ÄÇÂçïÊñá‰ª∂VueÁªÑ‰ª∂ÂΩì‰∏Ä‰∏™Êñá‰ª∂‰ª•.vueÁªìÂ∞æÁöÑÊó∂ÂÄôÔºå‰ªñÂ∞±ÊòØ‰∏Ä‰∏™ÂçïÊñá‰ª∂VueÁªÑ‰ª∂ÔºåÊØîÂ¶Ç‰∏äÈù¢ÁöÑApp.vue:1234567891011121314151617181920212223&lt;template&gt; &lt;div id="app"&gt; &lt;img src="./assets/logo.png"&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'App'&#125;&lt;/script&gt;&lt;style&gt;#app &#123; font-family: 'Avenir', Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-align: center; color: #2c3e50; margin-top: 60px;&#125;&lt;/style&gt;ÂèØ‰ª•ÁúãÂà∞ÔºåÂçïÊñá‰ª∂VueÁªÑ‰ª∂‰∏ªË¶ÅÂåÖÂê´‰∫Ü‰∏â‰∏™ÈÉ®ÂàÜÔºötemplage„ÄÅscriptÂíåstyle„ÄÇVueË∑ØÁî±Ë∑ØÁî±Â∞±ÊòØÊ†πÊçÆ‰∏çÂêåÁöÑURLËøîÂõû‰∏çÂêåÁöÑÂÜÖÂÆπÁªôÁî®Êà∑„ÄÇÂèØ‰ª•ÁúãÂà∞‰∏äÈù¢ÂçïÊñá‰ª∂VueÁªÑ‰ª∂ÈáåÊúâ‰∏™&lt;router-view/&gt;Ê†áÁ≠æÔºåÂÆÉÊòæÁ§∫ÁöÑÊòØÂΩìÂâçË∑ØÁî±Âú∞ÂùÄÂØπÂ∫îÁöÑÂÜÖÂÆπÔºåÂΩìÂâçÂú∞ÂùÄÂ∞±ÊòØhttp://localhost:8080/#/ÔºåÂÆÉÂØπÂ∫îÁöÑÂÜÖÂÆπÊòØ‰∏ãÈù¢Á∫¢Ê°ÜÈÉ®ÂàÜÔºöÈÇ£ÂÆÉ‰∏∫‰ªÄ‰πàÂ∞±‰ºöÊòæÁ§∫Âá∫Ëøô‰∏™ÈÉ®ÂàÜÁöÑÂÜÖÂÆπÂë¢Ôºü‰∏ãÈù¢ËÆ≤Ëß£‰∏ãÔºöÂú®main.js‰∏≠Ôºö123456789101112131415// The Vue build version to load with the `import` command// (runtime-only or standalone) has been set in webpack.base.conf with an alias.import Vue from 'vue'import App from './App'import router from './router'Vue.config.productionTip = false/* eslint-disable no-new */new Vue(&#123; el: '#app', router, components: &#123; App &#125;, template: '&lt;App/&gt;'&#125;)ËøôÈáåÊàë‰ª¨ÂºïÂÖ•‰∫ÜrouterÔºåÂπ∂Âú®VueÂÆû‰æã‰∏≠‰ΩøÁî®‰∫Ü„ÄÇES6ËØ≠Ê≥ïÔºåÂΩìÈîÆÂÄºÂØπÂêçÁß∞Áõ∏ÂêåÊó∂ÔºåÂèØ‰ª•ÁÆÄÂåñÔºåÊØîÂ¶Ç‰∏äÈù¢routerÊåáÁöÑÊòØrouter: routerÔºõcomponents: { App }ÊåáÁöÑÊòØcomponents: { App: App }import router from &#39;./router&#39;‰ºöÂ∏ÆÊàë‰ª¨ÂºïÂÖ•ÂΩìÂâçÁõÆÂΩï‰∏ãrouterÊñá‰ª∂Â§π‰∏ãÁöÑÂÜÖÂÆπÔºårouterÁõÆÂΩï‰∏ãÊòØ‰∏Ä‰∏™index.jsÔºö123456789101112131415import Vue from 'vue'import Router from 'vue-router'import HelloWorld from '@/components/HelloWorld'Vue.use(Router)export default new Router(&#123; routes: [ &#123; path: '/', name: 'HelloWorld', component: HelloWorld &#125; ]&#125;)‰∏äÈù¢ÈÖçÁΩÆ‰∫Ü‰∏Ä‰∏™Ë∑ØÁî±ËßÑÂàôÔºåÂΩìËÆøÈóÆÈ°πÁõÆÊ†πË∑ØÂæÑÁöÑÊó∂ÂÄôÔºåÂºïÂÖ•ÂêçÁß∞‰∏∫HelloworldÁöÑVueÁªÑ‰ª∂ÔºåËøô‰∏™ÁªÑ‰ª∂Êù•Ëá™&#39;@/components/HelloWorld&#39;ÔºåÂÖ∂‰∏≠@Ë°®Á§∫srcËøô‰∏™ÁõÆÂΩï„ÄÇHelloWorld.vueÊñá‰ª∂ÂÜÖÂÆπÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113&lt;template&gt; &lt;div class="hello"&gt; &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt; &lt;h2&gt;Essential Links&lt;/h2&gt; &lt;ul&gt; &lt;li&gt; &lt;a href="https://vuejs.org" target="_blank" &gt; Core Docs &lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href="https://forum.vuejs.org" target="_blank" &gt; Forum &lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href="https://chat.vuejs.org" target="_blank" &gt; Community Chat &lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href="https://twitter.com/vuejs" target="_blank" &gt; Twitter &lt;/a&gt; &lt;/li&gt; &lt;br&gt; &lt;li&gt; &lt;a href="http://vuejs-templates.github.io/webpack/" target="_blank" &gt; Docs for This Template &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Ecosystem&lt;/h2&gt; &lt;ul&gt; &lt;li&gt; &lt;a href="http://router.vuejs.org/" target="_blank" &gt; vue-router &lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href="http://vuex.vuejs.org/" target="_blank" &gt; vuex &lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href="http://vue-loader.vuejs.org/" target="_blank" &gt; vue-loader &lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href="https://github.com/vuejs/awesome-vue" target="_blank" &gt; awesome-vue &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'HelloWorld', data () &#123; return &#123; msg: 'Welcome to Your Vue.js App' &#125; &#125;&#125;&lt;/script&gt;&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;&lt;style scoped&gt;h1, h2 &#123; font-weight: normal;&#125;ul &#123; list-style-type: none; padding: 0;&#125;li &#123; display: inline-block; margin: 0 10px;&#125;a &#123; color: #6db33f;&#125;&lt;/style&gt;ÊâÄ‰ª•È¶ñÈ°µÁ∫¢Ê°ÜÂÜÖ‰ºöÊòæÁ§∫Ëøô‰∏™ÂÜÖÂÆπ„ÄÇÂáΩÊï∞ËäÇÊµÅÊØîÂ¶ÇÊàë‰ª¨ÁöÑÂú®ËæìÂÖ•ÁöÑÊó∂ÂÄôÈúÄË¶ÅÁõëÊéßkeypress‰∫ã‰ª∂ÔºåÂú®È°µÈù¢ÊªöÂä®ÁöÑÊó∂ÂÄôÁõëÊéßÈ°µÈù¢ÁöÑÊªöÂä®‰∫ã‰ª∂ÔºåËøôÊó∂ÂÄô‰∫ã‰ª∂ÊâßË°åÁöÑÈ¢ëÁéá‰ºöÈùûÂ∏∏‰πãÈ´òÔºåËøôÊó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•Áî®‰∏ãÈù¢Ëøô‰∏™ÊñπÊ≥ïÊù•ËäÇÊµÅÔºö12345678910111213141516data () &#123; return &#123; keyword: '', timer: null &#125;&#125;,watch: &#123; keyword () &#123; if (this.timer) &#123; clearTimeout(this.timer) &#125; this.timer = setTimeout(() =&gt; &#123; // to something &#125;, 100) &#125;&#125;‰∏äÈù¢VueÁõëÂê¨‰∫ÜkeywordÂèòÂåñÔºåÊàë‰ª¨Âú®ÁõëÂê¨ÂáΩÊï∞Èáå‰ΩøÁî®ÂÆöÊó∂Âô®ÁöÑÊñπÂºèÊù•ËäÇÊµÅÔºåËÆ©È¢ëÁπÅË∞ÉÁî®ÁöÑÊó∂Èó¥Âª∂Ëøü100ÊØ´ÁßíÔºåËøô‰∏™Êó∂Èó¥ËåÉÂõ¥ÂÜÖÂè™‰ºöÊâßË°å‰∏ÄÊ¨°ÁõëÊéß‰∫ã‰ª∂„ÄÇÂÆûÈôÖÂ∫îÁî®Êó∂ÔºåËøô‰∏™Êó∂Èó¥ËåÉÂõ¥Â∏¶Êù•ÁöÑËäÇÊµÅÂΩ±ÂìçËÇâÁúº‰∏äÁúã‰∏çÂá∫Âå∫Âà´Âç≥ÂèØ„ÄÇVuexÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´‰∏äÈù¢‰ªãÁªç‰∫Ü‰ΩøÁî®busÊù•ËøõË°åÈùûÁà∂Â≠êÁªÑ‰ª∂‰πãÈó¥ÁöÑ‰º†ÂÄºÔºåÁé∞Âú®Êàë‰ª¨ÁúãÁúãÊÄé‰πàÈÄöËøáVuexÊù•ÂÆûÁé∞ÔºàÂÆòÊñπÊé®ËçêÔºåÊõ¥‰∏∫Âº∫Â§ßÊñπ‰æøÔºâ„ÄÇÊù•Áúã‰∏ãÂõæ:ÂΩìÂ§ö‰∏™ÁªÑ‰ª∂‰πãÈó¥ÈúÄË¶Å‰º†ÈÄíÂ§çÊùÇÁöÑÂÄºÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂÄüÂä©VuexÊù•ÂÆûÁé∞„ÄÇVuexÁõ∏ÂΩì‰∫éÊòØ‰∏Ä‰∏™Â≠òÂÇ®ÂÖ¨ÂÖ±Êï∞ÊçÆÈÉ®ÂàÜÁöÑÂú∞ÊñπÔºàÁ±ª‰ºº‰∫é‰ªìÂ∫ìStoreÔºâÔºåÂΩì‰∏Ä‰∏™ÂÄºË¢´ÊîπÂèòÁöÑÊó∂ÂÄôÔºåÂà´ÁöÑÁî®Âà∞Ëøô‰∏™ÂÄºÁöÑÂú∞Êñπ‰πü‰ºöÊÑüÂ∫îÂà∞ÊîπÂèò„ÄÇ‰∏äÂõæÁªøËâ≤ËôöÁ∫øÈÉ®ÂàÜÂ∞±ÊòØVuexÂå∫Âüü„ÄÇÂÖ¨ÂÖ±Êï∞ÊçÆÂ≠òÂÇ®Âú®StateÈÉ®ÂàÜÔºåÁªÑ‰ª∂ÔºàVue compontentsÔºâÂèØ‰ª•Áõ¥Êé•ÈÄöËøáRenderÊñπÊ≥ïÂºïÁî®„ÄÇÁªÑ‰ª∂‰∏çËÉΩÁõ¥Êé•ÊîπÂèòËøô‰∏™Êï∞ÊçÆÔºåÈúÄË¶ÅÈÄöËøáË∞ÉÁî®DispatchÊñπÊ≥ïÊù•ÊîπÂèòActionsÔºåÁî±ÂÆÉÊù•ÈÄöËøáË∞ÉÁî®CommitÊñπÊ≥ïÊù•ÊîπÂèòMutationsÔºåÊúÄÂêéÁî±MutationsË∞ÉÁî®MutateÊñπÊ≥ïÊù•ÊîπÂèòÂÖ¨ÂÖ±Êï∞ÊçÆ„ÄÇËøô‰∏™ËøáÁ®ãÂ∞±ÂØπÂ∫î‰∏äÂõæÁöÑÂæ™ÁéØÂúà„ÄÇËøô‰∏™ËøáÁ®ã‰πü‰∏çÊòØÁªùÂØπÁöÑÔºåÊúâÁöÑÊó∂ÂÄôÁªÑ‰ª∂‰πüÂèØ‰ª•Áõ¥Êé•ÈÄöËøáË∞ÉÁî®CommitÊñπÊ≥ïÊù•ÊîπÂèòMutationsÔºåÂÜçÁî±MutationsË∞ÉÁî®MutateÊñπÊ≥ïÊù•ÊîπÂèòÂÖ¨ÂÖ±Êï∞ÊçÆ„ÄÇVuexÂÆâË£ÖÔºö1npm install vuexVuex‰ΩøÁî®ÂàõÂª∫‰∏Ä‰∏™Storesrc‰∏ãÊñ∞Âª∫‰∏Ä‰∏™storeÁõÆÂΩïÔºåÁÑ∂ÂêéÂú®‰∏ãÈù¢ÂàõÂª∫index.jsÔºö12345678910import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)export default new Vuex.Store(&#123; state: &#123; name: 'mrbird' &#125;&#125;)ËøôÈáåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™StoreÔºåÂπ∂ÂÆö‰πâ‰∫ÜstateÔºåÈáåÈù¢ÂåÖÂê´‰∏Ä‰∏™nameÂ±ûÊÄßÔºåÂÄº‰∏∫mrbird„ÄÇÂú®main.jsÈáåÂºïÂÖ•Store123456789...import store from './store'/* eslint-disable no-new */new Vue(&#123; el: '#app', store, ...&#125;)Êàë‰ª¨Âú®main.jsÈáåÂºïÂÖ•‰∫ÜStoreÔºåÂç≥Ê†πÁªÑ‰ª∂ÈáåÂºïÂÖ•‰∫ÜÔºåÊâÄ‰ª•‰ªª‰ΩïÂ≠êÁªÑ‰ª∂ÈÉΩÂèØ‰ª•‰ΩøÁî®‰∫Ü„ÄÇ‰ΩøÁî®StoreÈáåÂ≠òÁöÑÂÄºÂÉè‰∏ãÈù¢ËøôÊ†∑‰ΩøÁî®Ôºö1this.$store.state.nameËøôÊ†∑Â∞±ÂèØ‰ª•ÂèñÂá∫mrbird„ÄÇÊîπÂèòStoreÈáåÂ≠òÁöÑÂÄºÂú®ÈúÄË¶ÅÊîπÂèòÂÄºÁöÑÂú∞ÊñπÊ¥æÂèë‰∏Ä‰∏™ÊîπÂèò‰∫ã‰ª∂Ôºö1this.$store.dispatch('changeName', 'newName')ÁÑ∂ÂêéÂú®/store/index.js‰∏ãÊ∑ªÂä†actionsÔºö1234567891011121314151617181920import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)export default new Vuex.Store(&#123; state: &#123; name: 'mrbird' &#125;, actions: &#123; changeName (ctx, name) &#123; ctx.commit('changeName', name) &#125; &#125;, mutations: &#123; changeName (state, name) &#123; state.name = name &#125; &#125;&#125;)ÂèØÁúãÂà∞ÔºåactionsÈáåÂÆö‰πâÁöÑchangeNameÊñπÊ≥ïÂØπÂ∫îthis.$store.dispatch(&#39;changeName&#39;, name)Ê¥æÂèëÁöÑÊñπÊ≥ïÔºåÈÄöËøáÁ¨¨‰∏Ä‰∏™ÂÖ•ÂèÇctxÊâßË°åctx.commit(&#39;changeName&#39;, name)ÔºåËøôÈáåÁöÑchangeNameÂØπÂ∫îmutationsÈáåÁöÑchangeNameÊñπÊ≥ïÔºåÊúÄÁªàÊàë‰ª¨ÂèØ‰ª•Âú®Ëøô‰∏™ÊñπÊ≥ïÈáåÊîπÂèòstateÈáåÁöÑnameÁöÑÂÄº„ÄÇ‰∏äÈù¢Ëøô‰∏™ËøáÁ®ãÂØπÂ∫îÂõæÈáåÊµÅÁ®ãÔºåËøô‰∏™ËøáÁ®ã‰πüÂèØ‰ª•ÁÆÄÂåñüëáÂú®ÈúÄË¶ÅÊîπÂèòÂÄºÁöÑÂú∞ÊñπÊâßË°å‰∏ãÈù¢ËØ≠Âè•Ôºö1this.$store.commit('changeName', 'newName')ÁÑ∂Âêé/store/index.js‰∏ãÁõ¥Êé•ËøôÊ†∑ÂÜôÂç≥ÂèØÔºö123456789101112131415import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)export default new Vuex.Store(&#123; state: &#123; name: 'mrbird' &#125;, mutations: &#123; changeName (state, name) &#123; state.name = name &#125; &#125;&#125;)VuexÈ´òÁ∫ßÁâπÊÄß‰ªéVuexÈáåÂèñÂá∫stateÈáåÁöÑÂÄºÁöÑÊó∂ÂÄôÔºå‰∏äÈù¢ÊòØËøôÊ†∑ÂÜôÁöÑÔºö1this.$store.state.nameËøôÈáåÂèØ‰ª•ÁÆÄÂåñ‰∏ÄÊ≥¢Ôºö123456789import &#123; mapState &#125; from 'vuex'export default &#123; ... computed: &#123; ...mapState(['name']) &#125; ...&#125;ÁÑ∂ÂêéÂèñÂÄºÁöÑÂú∞ÊñπÁõ¥Êé•this.nameÂ∞±Ë°å‰∫Ü„ÄÇ‰πüÂèØ‰ª•ËøôÊ†∑Ôºö1234567891011import &#123; mapState &#125; from 'vuex'export default &#123; ... computed: &#123; ...mapState(&#123; currentUser: 'user' &#125;) &#125; ...&#125;ÁÑ∂ÂêéÂèñÂÄºÁöÑÂú∞ÊñπÁõ¥Êé•this.currentUserÂ∞±Ë°å‰∫Ü„ÄÇÂèñÂÄºÁöÑÂú∞ÊñπÂèØ‰ª•ÁÆÄÂåñÔºåÈÇ£‰πàÊîπÂèòÂÄºÁöÑÂú∞Êñπ‰πüÂèØ‰ª•ÁÆÄÂåñÔºàimportÁöÑÊó∂ÂÄô‰πüÂºïÂÖ•mapMutationsÔºâÔºö1import &#123; mapMutations &#125; from 'vuex'ÁÑ∂ÂêéÂú®methodsÈáåËøôÊ†∑Ôºö1234567methods: &#123; handleClick (name) &#123; // this.$store.commit('changeName', name) this.changeName(name) &#125;, ...mapMutations(['changeName'])&#125;ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåactionsÂíåmutationsÈáåÁöÑÂÜÖÂÆπ‰∏ÄËà¨ÈÉΩÈùûÂ∏∏Â§öÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Â∞ÜÂÆÉ‰ª¨Ââ•Á¶ªÂá∫Êù•ÔºåÁÑ∂ÂêéÂºïÂÖ•Âç≥ÂèØÔºåÂ∞±ÂÉè‰∏ãÈù¢ËøôÊ†∑ÔºöÊñ∞Âª∫mutations.jsÔºö123456export default &#123; changeName (state, name) &#123; state.name = name localStorage.name = name &#125;&#125;ÁÑ∂ÂêéÂú®store/index.jsÈáåÂºïÂÖ•Ôºö12345678910import Vue from 'vue'import Vuex from 'vuex'import mutations from './mutations'Vue.use(Vuex)export default new Vuex.Store(&#123; ... mutations&#125;)Vuex GetterGetterÁ±ª‰ºº‰∫éVuexÁâàÁöÑcomputedÔºåÂú®store/index.jsÈáåÂÆö‰πâGetterÔºö123456789101112131415import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)export default new Vuex.Store(&#123; state: &#123; name: 'mrbird' &#125;, getters: &#123; getMessage (state) &#123; return state.name + 'is so handsome' &#125; &#125;&#125;)ÂºïÁî®ÁöÑÂú∞ÊñπÔºö12345678import &#123; mapGetters &#125; from 'vuex'export default &#123; ... computed: &#123; ...mapGetters(['getMessage']) &#125;&#125;ÁÑ∂Âêéthis.getMessageÂ∞±‰ºöÂæóÂà∞mrbird is so handsome‰ø°ÊÅØ‰∫Ü„ÄÇGetterËØ¶ÁªÜÊñáÊ°£Ôºö https://vuex.vuejs.org/zh/guide/getters.htmlVuex ModuleÁî±‰∫é‰ΩøÁî®Âçï‰∏ÄÁä∂ÊÄÅÊ†ëÔºåÂ∫îÁî®ÁöÑÊâÄÊúâÁä∂ÊÄÅ‰ºöÈõÜ‰∏≠Âà∞‰∏Ä‰∏™ÊØîËæÉÂ§ßÁöÑÂØπË±°„ÄÇÂΩìÂ∫îÁî®ÂèòÂæóÈùûÂ∏∏Â§çÊùÇÊó∂Ôºåstore ÂØπË±°Â∞±ÊúâÂèØËÉΩÂèòÂæóÁõ∏ÂΩìËáÉËÇø„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥‰ª•‰∏äÈóÆÈ¢òÔºåVuex ÂÖÅËÆ∏Êàë‰ª¨Â∞Ü store ÂàÜÂâ≤ÊàêÊ®°ÂùóÔºàmoduleÔºâ„ÄÇÊØè‰∏™Ê®°ÂùóÊã•ÊúâËá™Â∑±ÁöÑ state„ÄÅmutation„ÄÅaction„ÄÅgetter„ÄÅÁîöËá≥ÊòØÂµåÂ•óÂ≠êÊ®°Âùó‚Äî‚Äî‰ªé‰∏äËá≥‰∏ãËøõË°åÂêåÊ†∑ÊñπÂºèÁöÑÂàÜÂâ≤Ôºö12345678910111213141516171819202122const moduleA = &#123; state: &#123; ... &#125;, mutations: &#123; ... &#125;, actions: &#123; ... &#125;, getters: &#123; ... &#125;&#125;const moduleB = &#123; state: &#123; ... &#125;, mutations: &#123; ... &#125;, actions: &#123; ... &#125;&#125;const store = new Vuex.Store(&#123; modules: &#123; a: moduleA, b: moduleB &#125;&#125;)store.state.a // -&gt; moduleA ÁöÑÁä∂ÊÄÅstore.state.b // -&gt; moduleB ÁöÑÁä∂ÊÄÅËØ¶ÁªÜÊñáÊ°£Ôºö https://vuex.vuejs.org/zh/guide/modules.htmlË∑ØÁî±Ë∑≥ËΩ¨Êàë‰ª¨Èô§‰∫ÜÂèØ‰ª•‰ΩøÁî®&lt;router-link&gt;ÂàõÂª∫ a Ê†áÁ≠æÊù•ÂÆö‰πâÂØºËà™ÈìæÊé•ÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÂÄüÂä© router ÁöÑÂÆû‰æãÊñπÊ≥ïÔºåÈÄöËøáÁºñÂÜô‰ª£Á†ÅÊù•ÂÆûÁé∞Ôºö1router.push('/home')ÂÖ∑‰ΩìÔºöhttps://router.vuejs.org/zh/guide/essentials/navigation.htmlË∑ØÁî±ÂèÇÊï∞‰º†ÈÄíÂΩìË∑ØÁî±path‰∏≠ÂåÖÂê´ÂèÇÊï∞ÁöÑÊó∂ÂÄôÔºåÊØîÂ¶ÇÔºö123456789export default new Router(&#123; routes: [ &#123; path: '/detail/:id', name: 'Detail', component: Detail &#125; ]&#125;)Âú®DetailÁªÑ‰ª∂‰∏≠ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•‰ΩøÁî®this.$route.params.idÊù•Ëé∑Âèñ‰∫Ü„ÄÇlocalStorageH5‰∏≠Êñ∞Â¢ûÁöÑÂèØ‰ª•Â≠òÂÇ®Êï∞ÊçÆÁöÑ‰∏ú‰∏úÔºåÁ±ª‰ººcookieÔºå‰ΩÜÊØîcookieÊõ¥ÁÆÄÂçï„ÄÇÊîπËøõ‰∏Ä‰∏ã‰∏äÈù¢VuexÁöÑ‰æãÂ≠êÔºö1234567891011export default new Vuex.Store(&#123; state: &#123; name: localStorage.name || 'mrbird' &#125;, mutations: &#123; changeName (state, name) &#123; state.name = name localStorage.name = name &#125; &#125;&#125;)Âú®mutations‰∏≠ÔºåÊàë‰ª¨‰∏ç‰ΩÜÊîπÂèò‰∫Üstate.nameÁöÑÂÄºÔºåËøòÊääÂÄºÂ≠òÂà∞‰∫ÜlocalStorage‰∏≠ÔºåËøôÊ†∑Âç≥‰ΩøÊµèËßàÂô®Âà∑Êñ∞‰πü‰∏ç‰ºöÈáçÁΩÆÂõû‚Äômrbird‚Äô„ÄÇÂíåcookieÁ±ª‰ººÔºålocalStorage‰πüÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®Á¶ÅÁî®ÔºåÊâÄ‰ª•Êàë‰ª¨Âú®‰ΩøÁî®localStorageÁöÑÊó∂ÂÄôË¶ÅÁî®try{}catch(){}Êù•Â§ÑÁêÜÔºåÈò≤Ê≠¢‰ª£Á†ÅÊäõÂá∫ÂºÇÂ∏∏Êó†Ê≥ïÊ≠£Â∏∏ËøêË°å„ÄÇkeep-alivehttps://cn.vuejs.org/v2/api/#keep-aliveÁªÑ‰ª∂ÁöÑÈÄíÂΩíÂΩì‰∏Ä‰∏™Êï∞ÊçÆÂÖ∑Êúâ‰∏ä‰∏ãÁ∫ßÔºåËÄå‰∏îÁ∫ßÊï∞Êó†Ê≥ïÁ°ÆÂÆöÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÈÄíÂΩíÁªÑ‰ª∂Êù•Â±ïÁ§∫Êàë‰ª¨ÁöÑÂ±ÇÁ∫ßÊï∞ÊçÆÔºåÁúã‰∏ãÈù¢Ëøô‰∏™Ê†óÂ≠êÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;template&gt; &lt;div&gt; &lt;div class="item" v-for="(item, index) of list" :key="index"&gt; &lt;div class="item-title border-bottom"&gt; &lt;span class="item-title-icon"&gt;&lt;/span&gt; &#123;&#123;item.title&#125;&#125; &lt;/div&gt; &lt;div v-if="item.children" class="item-chilren"&gt; &lt;detail-list :list="item.children"&gt;&lt;/detail-list&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'DetailList', data() &#123; return &#123; list: [ &#123; title: 'Áà∑Áà∑', children: [ &#123; title: 'Áà∏Áà∏' &#125;, &#123; title: 'Â¶àÂ¶à', children: [ &#123; title: 'Â∞èÊòé' &#125; ] &#125; ] &#125;, &#123; title: 'Â•∂Â•∂' &#125; ] &#125; &#125;&#125;&lt;/script&gt;Ëøô‰∏™ÁªÑ‰ª∂Âè´DetailListÔºåÂú®Âæ™ÁéØ‰∏≠ÔºåÈÄöËøáitem.childrenÊù•Âà§Êñ≠ÊòØÂê¶Êúâ‰∏ãÁ∫ßÔºåÊúâÁöÑËØùË∞ÉÁî®ÁªÑ‰ª∂Ëá™Ë∫´„ÄÇËøôÊ†∑Â∞±ÂèØ‰ª•ÂæàÁÆÄÂçïÁöÑÂÆûÁé∞ÈÄíÂΩí‰∫Ü„ÄÇVueÈ°πÁõÆÊâìÂåÖ‰∏äÁ∫ø‰øÆÊîπconfig/index.jsÔºöÁ∫¢Ê°ÜÈÉ®ÂàÜÊàë‰ª¨Â∞ÜassetsPublicPathÊåáÂÆö‰∏∫/vue„ÄÇÊé•ÁùÄÂú®È°πÁõÆÊ†πÁõÆÂΩïÊâßË°åÔºö1npm run buildÊâìÂåÖÂÆåÔºåÂëΩ‰ª§Ë°å‰ºöÊèêÁ§∫ÔºöÁÑ∂ÂêéÈ°πÁõÆÈáå‰ºöÂá∫Áé∞‰∏Ä‰∏™distÁõÆÂΩïÔºöÊàë‰ª¨Âú®tomcatÁöÑwebappsÁõÆÂΩï‰∏ã‰πüÊñ∞Âª∫‰∏Ä‰∏™vueÁõÆÂΩïÔºåÁÑ∂ÂêéÊäädistÈáåÁöÑÂÜÖÂÆπÊã∑Ë¥ùËøõÂéªÔºåÁÑ∂ÂêéÂêØÂä®tomcatÔºåËÆøÈóÆhttp://{ip}:{port}/vueÂ∞±ËÉΩÁúãÂà∞È°πÁõÆ‰∫Ü„ÄÇÂºÇÊ≠•ÁªÑ‰ª∂Âä†ËΩΩÊü•ÁúãÊâìÂåÖÁõÆÂΩï‰∏ãÁöÑjsÊñá‰ª∂Â§πÔºöÈ°πÁõÆÊâÄÊúâÁöÑÈÄªËæëÈÉΩË¢´ÊâìÂåÖÂú®‰∫ÜappXXXX.jsÈáå‰∫ÜÔºåÂç≥Âú®Âä†ËΩΩÈ¶ñÈ°µÁöÑÊó∂ÂÄôÔºåÊï¥‰∏™È°πÁõÆjsÈÄªËæëÈÉΩË¢´Âä†ËΩΩ‰∫Ü„ÄÇÂ¶ÇÊûúÈ°πÁõÆËßÑÊ®°ÂæàÂ§ßÔºåËøô‰∏™Êñá‰ª∂Â∞ÜÂèØËÉΩËææÂà∞MBÁ∫ßÂà´„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•Â∞ÜÁªÑ‰ª∂ËøõË°åÂºÇÊ≠•ÁöÑÂä†ËΩΩÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊØîÂ¶ÇÂú®Ë∑ØÁî±‰∏≠ÔºåÊàë‰ª¨ËøôÊ†∑ÂºïÁî®ÁªÑ‰ª∂Ôºö123456789101112131415161718192021222324import Vue from 'vue'import Router from 'vue-router'Vue.use(Router)export default new Router(&#123; routes: [ &#123; path: '/', name: 'home', component: () =&gt; import('@/pages/home/Home') &#125;, &#123; path: '/dept', name: 'dept', component: () =&gt; import('@/pages/dept/Dept') &#125;, &#123; path: '/detail/:id', name: 'Detail', component: () =&gt; import('@/pages/detail/Detail') &#125; ]&#125;)componentÈáåÊàë‰ª¨‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞Êù•ÂºïÂÖ•ÂØπÂ∫îÁöÑÁªÑ‰ª∂ÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜÂºÇÊ≠•Âä†ËΩΩÔºåÈáçÊñ∞ÊâìÂåÖÈ°πÁõÆÔºåÂÜçÊ¨°Êü•ÁúãjsÊñá‰ª∂Â§πÔºöÂèØ‰ª•ÁúãÂà∞appxxxx.jsÂ∑≤ÁªèË¢´ÊãÜÂàÜ‰∫Ü„ÄÇËá™ÂÆö‰πâVueÊèí‰ª∂ÂÖ∑‰ΩìÂèØÊü•ÁúãÔºöhttps://router.vuejs.org/zh/guide/advanced/lazy-loading.html]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Security OAuth2ÂÖ•Èó®]]></title>
    <url>%2FSpring-Security-OAuth2-Guide.html</url>
    <content type="text"><![CDATA[OAuthÊòØ‰∏ÄÁßçÁî®Êù•ËßÑËåÉ‰ª§ÁâåÔºàTokenÔºâÂèëÊîæÁöÑÊéàÊùÉÊú∫Âà∂Ôºå‰∏ªË¶ÅÂåÖÂê´‰∫ÜÂõõÁßçÊéàÊùÉÊ®°ÂºèÔºöÊéàÊùÉÁ†ÅÊ®°Âºè„ÄÅÁÆÄÂåñÊ®°Âºè„ÄÅÂØÜÁ†ÅÊ®°ÂºèÂíåÂÆ¢Êà∑Á´ØÊ®°Âºè„ÄÇSpring Security OAuth2ÂØπËøôÂõõÁßçÊéàÊùÉÊ®°ÂºèËøõË°å‰∫ÜÂÆûÁé∞„ÄÇËøôËäÇ‰∏ªË¶ÅËÆ∞ÂΩï‰∏ã‰ªÄ‰πàÊòØOAuth2‰ª•ÂèäSpring Security OAuth2ÁöÑÂü∫Êú¨‰ΩøÁî®„ÄÇÂõõÁßçÊéàÊùÉÊ®°ÂºèÂú®‰∫ÜËß£ËøôÂõõÁßçÊéàÊùÉÊ®°Âºè‰πãÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂÖàÂ≠¶‰π†‰∏Ä‰∫õÂíåOAuthÁõ∏ÂÖ≥ÁöÑÂêçËØç„ÄÇ‰∏æ‰∏™Á§æ‰∫§ÁôªÂΩïÁöÑ‰æãÂ≠êÂêßÔºåÊØîÂ¶ÇÂú®ÊµèËßàÂô®‰∏ä‰ΩøÁî®QQË¥¶Âè∑ÁôªÂΩïËôéÁâôÁõ¥Êí≠ÔºåËøô‰∏™ËøáÁ®ãÂèØ‰ª•ÊèêÂèñÂá∫‰ª•‰∏ãÂá†‰∏™ÂêçËØçÔºöThird-party application Á¨¨‰∏âÊñπÂ∫îÁî®Á®ãÂ∫èÔºåÊØîÂ¶ÇËøôÈáåÁöÑËôéÁâôÁõ¥Êí≠ÔºõHTTP service HTTPÊúçÂä°Êèê‰æõÂïÜÔºåÊØîÂ¶ÇËøôÈáåÁöÑQQÔºàËÖæËÆØÔºâ;Resource Owner ËµÑÊ∫êÊâÄÊúâËÄÖÔºåÂ∞±ÊòØQQÁöÑÊâÄÊúâ‰∫∫Ôºå‰Ω†ÔºõUser Agent Áî®Êà∑‰ª£ÁêÜÔºåËøôÈáåÊåáÊµèËßàÂô®ÔºõAuthorization server ËÆ§ËØÅÊúçÂä°Âô®ÔºåËøôÈáåÊåáQQÊèê‰æõÁöÑÁ¨¨‰∏âÊñπÁôªÂΩïÊúçÂä°ÔºõResource server ËµÑÊ∫êÊúçÂä°Âô®ÔºåËøôÈáåÊåáËôéÁâôÁõ¥Êí≠Êèê‰æõÁöÑÊúçÂä°ÔºåÊØîÂ¶ÇÈ´òÊ∏ÖÁõ¥Êí≠ÔºåÂºπÂπïÂèëÈÄÅÁ≠âÔºàÈúÄË¶ÅËÆ§ËØÅÂêéÊâçËÉΩ‰ΩøÁî®Ôºâ„ÄÇËÆ§ËØÅÊúçÂä°Âô®ÂíåËµÑÊ∫êÊúçÂä°Âô®ÂèØ‰ª•Âú®Âêå‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÔºåÊØîÂ¶ÇÂâçÂêéÁ´ØÂàÜÁ¶ªÁöÑÊúçÂä°ÂêéÂè∞ÔºåÂÆÉÂç≥‰æõËÆ§ËØÅÊúçÂä°ÔºàËÆ§ËØÅÊúçÂä°Âô®ÔºåÊèê‰æõ‰ª§ÁâåÔºâÔºåÂÆ¢Êà∑Á´ØÈÄöËøá‰ª§ÁâåÊù•‰ªéÂêéÂè∞Ëé∑ÂèñÊúçÂä°ÔºàËµÑÊ∫êÊúçÂä°Âô®ÔºâÔºõÂÆÉ‰ª¨‰πüÂèØ‰ª•‰∏çÂú®Âêå‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÔºåÊØîÂ¶Ç‰∏äÈù¢Á¨¨‰∏âÊñπÁôªÂΩïÁöÑ‰æãÂ≠ê„ÄÇÂ§ßËá¥‰∫ÜËß£‰∫ÜËøôÂá†‰∏™ÂêçËØçÂêéÔºåÊàë‰ª¨ÂºÄÂßã‰∫ÜËß£ÂõõÁßçÊéàÊùÉÊ®°Âºè„ÄÇÊéàÊùÉÁ†ÅÊ®°ÂºèÊéàÊùÉÁ†ÅÊ®°ÂºèÊòØÊúÄËÉΩ‰ΩìÁé∞OAuth2ÂçèËÆÆÔºåÊúÄ‰∏•Ê†ºÔºåÊµÅÁ®ãÊúÄÂÆåÊï¥ÁöÑÊéàÊùÉÊ®°ÂºèÔºåÊµÅÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöA. ÂÆ¢Êà∑Á´ØÂ∞ÜÁî®Êà∑ÂØºÂêëËÆ§ËØÅÊúçÂä°Âô®ÔºõB. Áî®Êà∑ÂÜ≥ÂÆöÊòØÂê¶ÁªôÂÆ¢Êà∑Á´ØÊéàÊùÉÔºõC. ÂêåÊÑèÊéàÊùÉÂêéÔºåËÆ§ËØÅÊúçÂä°Âô®Â∞ÜÁî®Êà∑ÂØºÂêëÂÆ¢Êà∑Á´ØÊèê‰æõÁöÑURLÔºåÂπ∂ÈôÑ‰∏äÊéàÊùÉÁ†ÅÔºõD. ÂÆ¢Êà∑Á´ØÈÄöËøáÈáçÂÆöÂêëURLÂíåÊéàÊùÉÁ†ÅÂà∞ËÆ§ËØÅÊúçÂä°Âô®Êç¢Âèñ‰ª§ÁâåÔºõE. Ê†°È™åÊó†ËØØÂêéÂèëÊîæ‰ª§Áâå„ÄÇÂÖ∂‰∏≠AÊ≠•È™§ÔºåÂÆ¢Êà∑Á´ØÁî≥ËØ∑ËÆ§ËØÅÁöÑURIÔºåÂåÖÂê´‰ª•‰∏ãÂèÇÊï∞Ôºöresponse_typeÔºöË°®Á§∫ÊéàÊùÉÁ±ªÂûãÔºåÂøÖÈÄâÈ°πÔºåÊ≠§Â§ÑÁöÑÂÄºÂõ∫ÂÆö‰∏∫‚Äùcode‚ÄùÔºåÊ†áËØÜÊéàÊùÉÁ†ÅÊ®°Âºèclient_idÔºöË°®Á§∫ÂÆ¢Êà∑Á´ØÁöÑIDÔºåÂøÖÈÄâÈ°πredirect_uriÔºöË°®Á§∫ÈáçÂÆöÂêëURIÔºåÂèØÈÄâÈ°πscopeÔºöË°®Á§∫Áî≥ËØ∑ÁöÑÊùÉÈôêËåÉÂõ¥ÔºåÂèØÈÄâÈ°πstateÔºöË°®Á§∫ÂÆ¢Êà∑Á´ØÁöÑÂΩìÂâçÁä∂ÊÄÅÔºåÂèØ‰ª•ÊåáÂÆö‰ªªÊÑèÂÄºÔºåËÆ§ËØÅÊúçÂä°Âô®‰ºöÂéüÂ∞Å‰∏çÂä®Âú∞ËøîÂõûËøô‰∏™ÂÄº„ÄÇDÊ≠•È™§‰∏≠ÔºåÂÆ¢Êà∑Á´ØÂêëËÆ§ËØÅÊúçÂä°Âô®Áî≥ËØ∑‰ª§ÁâåÁöÑHTTPËØ∑Ê±ÇÔºåÂåÖÂê´‰ª•‰∏ãÂèÇÊï∞Ôºögrant_typeÔºöË°®Á§∫‰ΩøÁî®ÁöÑÊéàÊùÉÊ®°ÂºèÔºåÂøÖÈÄâÈ°πÔºåÊ≠§Â§ÑÁöÑÂÄºÂõ∫ÂÆö‰∏∫‚Äùauthorization_code‚Äù„ÄÇcodeÔºöË°®Á§∫‰∏ä‰∏ÄÊ≠•Ëé∑ÂæóÁöÑÊéàÊùÉÁ†ÅÔºåÂøÖÈÄâÈ°π„ÄÇredirect_uriÔºöË°®Á§∫ÈáçÂÆöÂêëURIÔºåÂøÖÈÄâÈ°πÔºå‰∏îÂøÖÈ°ª‰∏éAÊ≠•È™§‰∏≠ÁöÑËØ•ÂèÇÊï∞ÂÄº‰øùÊåÅ‰∏ÄËá¥„ÄÇclient_idÔºöË°®Á§∫ÂÆ¢Êà∑Á´ØIDÔºåÂøÖÈÄâÈ°π„ÄÇÂØÜÁ†ÅÊ®°ÂºèÂú®ÂØÜÁ†ÅÊ®°Âºè‰∏≠ÔºåÁî®Êà∑ÂÉèÂÆ¢Êà∑Á´ØÊèê‰æõÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÂÆ¢Êà∑Á´ØÈÄöËøáÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂà∞ËÆ§ËØÅÊúçÂä°Âô®Ëé∑Âèñ‰ª§Áâå„ÄÇÊµÅÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöA. Áî®Êà∑ÂêëÂÆ¢Êà∑Á´ØÊèê‰æõÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºõB. ÂÆ¢Êà∑Á´ØÂêëËÆ§ËØÅÊúçÂä°Âô®Êç¢Âèñ‰ª§ÁâåÔºõC. ÂèëÊîæ‰ª§Áâå„ÄÇBÊ≠•È™§‰∏≠ÔºåÂÆ¢Êà∑Á´ØÂèëÂá∫ÁöÑHTTPËØ∑Ê±ÇÔºåÂåÖÂê´‰ª•‰∏ãÂèÇÊï∞Ôºögrant_typeÔºöË°®Á§∫ÊéàÊùÉÁ±ªÂûãÔºåÊ≠§Â§ÑÁöÑÂÄºÂõ∫ÂÆö‰∏∫‚Äùpassword‚ÄùÔºåÂøÖÈÄâÈ°π„ÄÇusernameÔºöË°®Á§∫Áî®Êà∑ÂêçÔºåÂøÖÈÄâÈ°π„ÄÇpasswordÔºöË°®Á§∫Áî®Êà∑ÁöÑÂØÜÁ†ÅÔºåÂøÖÈÄâÈ°π„ÄÇscopeÔºöË°®Á§∫ÊùÉÈôêËåÉÂõ¥ÔºåÂèØÈÄâÈ°π„ÄÇÂâ©‰∏ã‰∏§ÁßçÊéàÊùÉÊ®°ÂºèÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÂèÇËÄÉÈìæÊé•ÔºåËøôÈáåÂ∞±‰∏ç‰ªãÁªç‰∫Ü„ÄÇSpring Security OAuth2SpringÊ°ÜÊû∂ÂØπOAuth2ÂçèËÆÆËøõË°å‰∫ÜÂÆûÁé∞Ôºå‰∏ãÈù¢Â≠¶‰π†‰∏ã‰∏äÈù¢‰∏§ÁßçÊ®°ÂºèÂú®Spring Security OAuth2Áõ∏ÂÖ≥Ê°ÜÊû∂ÁöÑ‰ΩøÁî®„ÄÇSpring Security OAuth2‰∏ªË¶ÅÂåÖÂê´ËÆ§ËØÅÊúçÂä°Âô®ÂíåËµÑÊ∫êÊúçÂä°Âô®Ëøô‰∏§Â§ßÂùóÁöÑÂÆûÁé∞ÔºöËÆ§ËØÅÊúçÂä°Âô®‰∏ªË¶ÅÂåÖÂê´‰∫ÜÂõõÁßçÊéàÊùÉÊ®°ÂºèÁöÑÂÆûÁé∞ÂíåTokenÁöÑÁîüÊàê‰∏éÂ≠òÂÇ®ÔºåÊàë‰ª¨‰πüÂèØ‰ª•Âú®ËÆ§ËØÅÊúçÂä°Âô®‰∏≠Ëá™ÂÆö‰πâËé∑ÂèñTokenÁöÑÊñπÂºèÔºàÂêéÈù¢‰ºö‰ªãÁªçÂà∞ÔºâÔºõËµÑÊ∫êÊúçÂä°Âô®‰∏ªË¶ÅÊòØÂú®Spring SecurityÁöÑËøáÊª§Âô®Èìæ‰∏äÂä†‰∫ÜOAuth2AuthenticationProcessingFilterËøáÊª§Âô®ÔºåÂç≥‰ΩøÁî®OAuth2ÂçèËÆÆÂèëÊîæ‰ª§ÁâåËÆ§ËØÅÁöÑÊñπÂºèÊù•‰øùÊä§Êàë‰ª¨ÁöÑËµÑÊ∫ê„ÄÇÈÖçÁΩÆËÆ§ËØÅÊúçÂä°Âô®Êñ∞Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁâàÊú¨‰∏∫2.1.6.RELEASEÔºåÂπ∂ÂºïÂÖ•Áõ∏ÂÖ≥‰æùËµñÔºåpomÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.6.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;cc.mrbird&lt;/groupId&gt; &lt;artifactId&gt;security&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;security&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;Âú®ÂàõÂª∫ËÆ§ËØÅÊúçÂä°Âô®ÂâçÔºåÊàë‰ª¨ÂÖàÂÆö‰πâ‰∏Ä‰∏™MyUserÂØπË±°Ôºö1234567891011public class MyUser implements Serializable &#123; private static final long serialVersionUID = 3497935890426858541L; private String userName; private String password; private boolean accountNonExpired = true; private boolean accountNonLocked= true; private boolean credentialsNonExpired= true; private boolean enabled= true; // get set Áï•&#125;Êé•ÁùÄÂÆö‰πâUserDetailServiceÂÆûÁé∞org.springframework.security.core.userdetails.UserDetailsServiceÊé•Âè£Ôºö123456789101112131415@Servicepublic class UserDetailService implements UserDetailsService &#123; @Autowired private PasswordEncoder passwordEncoder; @Override public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException &#123; MyUser user = new MyUser(); user.setUserName(username); user.setPassword(this.passwordEncoder.encode("123456")); return new User(username, user.getPassword(), user.isEnabled(), user.isAccountNonExpired(), user.isCredentialsNonExpired(), user.isAccountNonLocked(), AuthorityUtils.commaSeparatedStringToAuthorityList("admin")); &#125;&#125;ËøôÈáåÁöÑÈÄªËæëÊòØÁî®‰ªÄ‰πàË¥¶Âè∑ÁôªÂΩïÈÉΩÂèØ‰ª•Ôºå‰ΩÜÊòØÂØÜÁ†ÅÂøÖÈ°ª‰∏∫123456ÔºåÂπ∂‰∏îÊã•Êúâ‚Äùadmin‚ÄùÊùÉÈôêÔºàËøô‰∫õÈÉΩÂú®ÂâçÈù¢ÁöÑSecurityÊïôÁ®ãÈáåËØ¥Ëøá‰∫ÜÔºåÂ∞±‰∏çÂÜçËØ¶ÁªÜËØ¥Êòé‰∫ÜÔºâ„ÄÇÊé•‰∏ãÊù•ÂºÄÂßãÂàõÂª∫‰∏Ä‰∏™ËÆ§ËØÅÊúçÂä°Âô®ÔºåÂπ∂‰∏îÂú®ÈáåÈù¢ÂÆö‰πâUserDetailServiceÈúÄË¶ÅÁî®Âà∞ÁöÑPasswordEncoder„ÄÇÂàõÂª∫ËÆ§ËØÅÊúçÂä°Âô®ÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®Spring SecurityÁöÑÈÖçÁΩÆÁ±ª‰∏ä‰ΩøÁî®@EnableAuthorizationServerÊ≥®Ëß£Ê†áÊ≥®Âç≥ÂèØ„ÄÇÂàõÂª∫AuthorizationServerConfigÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789@Configuration@EnableAuthorizationServerpublic class AuthorizationServerConfig extends WebSecurityConfigurerAdapter &#123; @Bean public PasswordEncoder passwordEncoder() &#123; return new BCryptPasswordEncoder(); &#125;&#125;ËøôÊó∂ÂÄôÂêØÂä®È°πÁõÆÔºå‰ºöÂèëÁé∞ÊéßÂà∂Âè∞ÊâìÂç∞Âá∫‰∫ÜÈöèÊú∫ÂàÜÈÖçÁöÑclient-idÂíåclient-secretÔºö‰∏∫‰∫ÜÊñπ‰æøÂêéÈù¢ÁöÑÊµãËØïÔºåÊàë‰ª¨ÂèØ‰ª•ÊâãÂä®ÊåáÂÆöËøô‰∏§‰∏™ÂÄº„ÄÇÂú®Spring BootÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆ:12345security: oauth2: client: client-id: test client-secret: test1234ÈáçÂêØÈ°πÁõÆÔºåÂèëÁé∞ÊéßÂà∂Âè∞ËæìÂá∫ÔºöËØ¥ÊòéÊõøÊç¢ÊàêÂäü„ÄÇÊéàÊùÉÁ†ÅÊ®°ÂºèËé∑Âèñ‰ª§ÁâåÊé•‰∏ãÊù•ÂºÄÂßãÂæÄËÆ§ËØÅÊúçÂä°Âô®ËØ∑Ê±ÇÊéàÊùÉÁ†Å„ÄÇÊâìÂºÄÊµèËßàÂô®ÔºåËÆøÈóÆhttp://localhost:8080/oauth/authorize?response_type=code&amp;client_id=test&amp;redirect_uri=http://mrbird.cc&amp;scope=all&amp;state=helloURL‰∏≠ÁöÑÂá†‰∏™ÂèÇÊï∞Âú®‰∏äÈù¢ÁöÑÊéàÊùÉÁ†ÅÊ®°ÂºèÁöÑAÊ≠•È™§ÈáåÈÉΩÊúâËØ¶ÁªÜËØ¥Êòé„ÄÇËøôÈáåresponse_typeÂøÖÈ°ª‰∏∫codeÔºåË°®Á§∫ÊéàÊùÉÁ†ÅÊ®°ÂºèÔºåclient_idÂ∞±ÊòØÂàöÂàöÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊâãÂä®ÊåáÂÆöÁöÑtestÔºåredirect_uriËøôÈáåÈöè‰æøÊåáÂÆö‰∏Ä‰∏™Âú∞ÂùÄÂç≥ÂèØÔºå‰∏ªË¶ÅÊòØÁî®Êù•ÈáçÂÆöÂêëËé∑ÂèñÊéàÊùÉÁ†ÅÁöÑÔºåscopeÊåáÂÆö‰∏∫allÔºåË°®Á§∫ÊâÄÊúâÊùÉÈôê„ÄÇËÆøÈóÆËøô‰∏™ÈìæÊé•ÂêéÔºåÈ°µÈù¢Â¶Ç‰∏ãÊâÄÁ§∫ÔºöÈúÄË¶ÅÁôªÂΩïËÆ§ËØÅÔºåÊ†πÊçÆÊàë‰ª¨ÂâçÈù¢ÂÆö‰πâÁöÑUserDetailServiceÈÄªËæëÔºåËøôÈáåÁî®Êà∑ÂêçÈöè‰æøËæìÔºåÂØÜÁ†Å‰∏∫123456Âç≥ÂèØ„ÄÇËæìÂÖ•ÂêéÔºåÈ°µÈù¢Ë∑≥ËΩ¨Â¶Ç‰∏ãÊâÄÁ§∫ÔºöÂéüÂõ†ÊòØ‰∏äÈù¢ÊåáÂÆöÁöÑredirect_uriÂøÖÈ°ªÂêåÊó∂Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆöÔºåÊàë‰ª¨ÂæÄapplication.ymlÊ∑ªÂä†ÈÖçÁΩÆÔºö123456security: oauth2: client: client-id: test client-secret: test1234 registered-redirect-uri: http://mrbird.ccÈáçÂêØÈ°πÁõÆÔºåÈáçÊñ∞ÊâßË°å‰∏äÈù¢ÁöÑÊ≠•È™§ÔºåÁôªÂΩïÊàêÂäüÂêéÈ°µÈù¢ÊàêÂäüË∑≥ËΩ¨Âà∞‰∫ÜÊéàÊùÉÈ°µÈù¢ÔºöÈÄâÊã©ÂêåÊÑèApproveÔºåÁÑ∂ÂêéÁÇπÂáªAuthorizeÊåâÈíÆÂêéÔºåÈ°µÈù¢Ë∑≥ËΩ¨Âà∞‰∫ÜÊàë‰ª¨ÊåáÂÆöÁöÑredirect_uriÔºåÂπ∂‰∏îÂ∏¶‰∏ä‰∫ÜÊéàÊùÉÁ†Å‰ø°ÊÅØ:Âà∞ËøôÈáåÊàë‰ª¨Â∞±ÂèØ‰ª•Áî®Ëøô‰∏™ÊéàÊùÉÁ†Å‰ªéËÆ§ËØÅÊúçÂä°Âô®Ëé∑Âèñ‰ª§ÁâåToken‰∫Ü„ÄÇ‰ΩøÁî®postmanÂèëÈÄÅÂ¶Ç‰∏ãËØ∑Ê±ÇPOSTËØ∑Ê±Çlocalhost:8080/oauth/tokenÔºöËøôÈáåË¶ÅÂ°´ÁöÑÂèÇÊï∞Âíå‰∏äÈù¢‰ªãÁªçÁöÑÊéàÊùÉÁ†ÅÊ®°ÂºèDÊ≠•È™§‰ªãÁªçÁöÑ‰∏ÄËá¥„ÄÇgrant_typeÂõ∫ÂÆöÂ°´authorization_codeÔºåcode‰∏∫‰∏ä‰∏ÄÊ≠•Ëé∑ÂèñÂà∞ÁöÑÊéàÊùÉÁ†ÅÔºåclient_idÂíåredirect_uriÂøÖÈ°ªÂíåÊàë‰ª¨‰∏äÈù¢ÂÆö‰πâÁöÑ‰∏ÄËá¥„ÄÇÈô§‰∫ÜËøôÂá†‰∏™ÂèÇÊï∞Â§ñÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂú®ËØ∑Ê±ÇÂ§¥‰∏≠Â°´ÂÜôÔºökey‰∏∫AuthorizationÔºåvalue‰∏∫BasicÂä†‰∏äclient_id:client_secretÁªèËøábase64Âä†ÂØÜÂêéÁöÑÂÄºÔºàÂèØ‰ª•‰ΩøÁî®http://tool.chinaz.com/Tools/Base64.aspxÔºâ:ÂèÇÊï∞Â°´ÂÜôÊó†ËØØÂêéÔºåÁÇπÂáªÂèëÈÄÅ‰æøÂèØ‰ª•Ëé∑ÂèñÂà∞‰ª§ÁâåTokenÔºö1234567&#123; "access_token": "950018df-0199-4936-aa80-a3a66183f634", "token_type": "bearer", "refresh_token": "cc22e8b2-e069-459d-8c24-cfda0bc72128", "expires_in": 42827, "scope": "all"&#125;‰∏Ä‰∏™ÊéàÊùÉÁ†ÅÂè™ËÉΩÊç¢‰∏ÄÊ¨°‰ª§ÁâåÔºåÂ¶ÇÊûúÂÜçÊ¨°ÁÇπÂáªpostmanÁöÑÂèëÈÄÅÊåâÈíÆÔºåÂ∞ÜËøîÂõûÔºö1234&#123; "error": "invalid_grant", "error_description": "Invalid authorization code: xw8x55"&#125;ÂØÜÁ†ÅÊ®°ÂºèËé∑Âèñ‰ª§ÁâåÂíåÊéàÊùÉÁ†ÅÊ®°ÂºèÁõ∏ÊØîÔºå‰ΩøÁî®ÂØÜÁ†ÅÊ®°ÂºèËé∑Âèñ‰ª§ÁâåÂ∞±ÊòæÂæóÁÆÄÂçïÂ§ö‰∫Ü„ÄÇÂêåÊ†∑‰ΩøÁî®postmanÂèëÈÄÅPOSTËØ∑Ê±Çlocalhost:8080/oauth/tokenÔºögrant_typeÂ°´passwordÔºåË°®Á§∫ÂØÜÁ†ÅÊ®°ÂºèÔºõÁÑ∂ÂêéÂ°´ÂÜôÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÂ§¥ÈÉ®‰πüÈúÄË¶ÅÂ°´ÂÜôAuthorization‰ø°ÊÅØÔºåÂÜÖÂÆπÂíåÊéàÊùÉÁ†ÅÊ®°Âºè‰ªãÁªçÁöÑ‰∏ÄËá¥ÔºåËøôÈáåÂ∞±‰∏çÊà™Âõæ‰∫Ü„ÄÇÁÇπÂáªÂèëÈÄÅÔºå‰πüÂèØ‰ª•Ëé∑Âæó‰ª§ÁâåÔºö1234567&#123; "access_token": "d612cf50-6499-4a0c-9cd4-9c756839aa12", "token_type": "bearer", "refresh_token": "fdc6c77f-b910-46dc-a349-835dc0587919", "expires_in": 43090, "scope": "all"&#125;ÈÖçÁΩÆËµÑÊ∫êÊúçÂä°Âô®‰∏∫‰ªÄ‰πàÈúÄË¶ÅËµÑÊ∫êÊúçÂä°Âô®Âë¢ÔºüÊàë‰ª¨ÂÖàÊù•Áúã‰∏ãÂú®Ê≤°ÊúâÂÆö‰πâËµÑÊ∫êÊúçÂä°Âô®ÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®TokenÂéªËé∑ÂèñËµÑÊ∫êÊó∂‰ºöÂèëÁîü‰ªÄ‰πà„ÄÇÂÆö‰πâ‰∏Ä‰∏™RESTÊé•Âè£Ôºö12345678@RestControllerpublic class UserController &#123; @GetMapping("index") public Object index(Authentication authentication)&#123; return authentication; &#125;&#125;ÂêØÂä®È°πÁõÆÔºå‰∏∫‰∫ÜÊñπ‰æøÊàë‰ª¨‰ΩøÁî®ÂØÜÁ†ÅÊ®°ÂºèËé∑Âèñ‰ª§ÁâåÔºåÁÑ∂Âêé‰ΩøÁî®ËØ•‰ª§ÁâåËé∑Âèñ/indexËøô‰∏™ËµÑÊ∫êÔºöAuthorizationÂÄº‰∏∫token_type access_tokenÔºåÂèëÈÄÅËØ∑Ê±ÇÂêéÔºåËøîÂõûÔºö1234567&#123; "timestamp": "2019-03-24T13:13:43.818+0000", "status": 401, "error": "Unauthorized", "message": "Unauthorized", "path": "/index"&#125;ËôΩÁÑ∂‰ª§ÁâåÊòØÊ≠£Á°ÆÁöÑÔºå‰ΩÜÊòØÂπ∂Êó†Ê≥ïËÆøÈóÆ/indexÔºåÊâÄ‰ª•Êàë‰ª¨ÂøÖÈ°ªÈÖçÁΩÆËµÑÊ∫êÊúçÂä°Âô®ÔºåËÆ©ÂÆ¢Êà∑Á´ØÂèØ‰ª•ÈÄöËøáÂêàÊ≥ïÁöÑ‰ª§ÁâåÊù•Ëé∑ÂèñËµÑÊ∫ê„ÄÇËµÑÊ∫êÊúçÂä°Âô®ÁöÑÈÖçÁΩÆ‰πüÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆÁ±ª‰∏ä‰ΩøÁî®@EnableResourceServerÊ≥®Ëß£Ê†áÊ≥®Âç≥ÂèØÔºö12345@Configuration@EnableResourceServerpublic class ResourceServerConfig &#123;&#125;ÈáçÂêØÊúçÂä°ÔºåÈáçÂ§ç‰∏äÈù¢ÁöÑÊ≠•È™§ÔºåÂÜçÊ¨°ËÆøÈóÆ/index‰æøÂèØ‰ª•ÊàêÂäüËé∑ÂèñÂà∞‰ø°ÊÅØÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283&#123; "authorities": [ &#123; "authority": "admin" &#125; ], "details": &#123; "remoteAddress": "0:0:0:0:0:0:0:1", "sessionId": null, "tokenValue": "621f59ba-3161-4c9b-aff8-a8335ce6e3cc", "tokenType": "bearer", "decodedDetails": null &#125;, "authenticated": true, "userAuthentication": &#123; "authorities": [ &#123; "authority": "admin" &#125; ], "details": &#123; "grant_type": "password", "username": "mrbird", "scope": "all" &#125;, "authenticated": true, "principal": &#123; "password": null, "username": "mrbird", "authorities": [ &#123; "authority": "admin" &#125; ], "accountNonExpired": true, "accountNonLocked": true, "credentialsNonExpired": true, "enabled": true &#125;, "credentials": null, "name": "mrbird" &#125;, "credentials": "", "oauth2Request": &#123; "clientId": "test", "scope": [ "all" ], "requestParameters": &#123; "grant_type": "password", "username": "mrbird", "scope": "all" &#125;, "resourceIds": [], "authorities": [ &#123; "authority": "ROLE_USER" &#125; ], "approved": true, "refresh": false, "redirectUri": null, "responseTypes": [], "extensions": &#123;&#125;, "refreshTokenRequest": null, "grantType": "password" &#125;, "clientOnly": false, "principal": &#123; "password": null, "username": "mrbird", "authorities": [ &#123; "authority": "admin" &#125; ], "accountNonExpired": true, "accountNonLocked": true, "credentialsNonExpired": true, "enabled": true &#125;, "name": "mrbird"&#125;Âú®ÂêåÊó∂ÂÆö‰πâ‰∫ÜËÆ§ËØÅÊúçÂä°Âô®ÂíåËµÑÊ∫êÊúçÂä°Âô®ÂêéÔºåÂÜçÂéª‰ΩøÁî®ÊéàÊùÉÁ†ÅÊ®°ÂºèËé∑Âèñ‰ª§ÁâåÂèØËÉΩ‰ºöÈÅáÂà∞ Full authentication is required to access this resource ÁöÑÈóÆÈ¢òÔºåËøôÊó∂ÂÄôÂè™Ë¶ÅÁ°Æ‰øùËÆ§ËØÅÊúçÂä°Âô®ÂÖà‰∫éËµÑÊ∫êÊúçÂä°Âô®ÈÖçÁΩÆÂç≥ÂèØÔºåÊØîÂ¶ÇÂú®ËÆ§ËØÅÊúçÂä°Âô®ÁöÑÈÖçÁΩÆÁ±ª‰∏ä‰ΩøÁî®@Order(1)Ê†áÊ≥®ÔºåÂú®ËµÑÊ∫êÊúçÂä°Âô®ÁöÑÈÖçÁΩÆÁ±ª‰∏ä‰ΩøÁî®@Order(2)Ê†áÊ≥®„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/63.Spring-Security-OAuth2-GuideÂèÇËÄÉÈìæÊé•https://tools.ietf.org/html/rfc6749#section-4.1http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Cloud</tag>
        <tag>Spring Security</tag>
        <tag>OAuth2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring SecurityÊùÉÈôêÊéßÂà∂]]></title>
    <url>%2FSpring-Security-Permission.html</url>
    <content type="text"><![CDATA[Spring SecurityÊùÉÈôêÊéßÂà∂ÂèØ‰ª•ÈÖçÂêàÊéàÊùÉÊ≥®Ëß£‰ΩøÁî®ÔºåÂÖ∑‰ΩìÊúâÂì™‰∫õÊ≥®Ëß£ÂèØ‰ª•ÂèÇËÄÉSpring-Security‰øùÊä§ÊñπÊ≥ï„ÄÇÊé•ÁùÄ‰∏ä‰∏ÄËäÇÔºåË¶ÅÂºÄÂêØËøô‰∫õÊ≥®Ëß£ÔºåÂè™ÈúÄË¶ÅÂú®Spring SecurityÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÊ≥®Ëß£Ôºö12345@Configuration@EnableGlobalMethodSecurity(prePostEnabled = true)public class BrowserSecurityConfig extends WebSecurityConfigurerAdapter &#123; ...&#125;Âú®UserDetailService‰∏≠ÔºåÊàë‰ª¨ÁªôÂΩìÂâçÁôªÂΩïÁî®Êà∑Êéà‰∫à‰∫Ü‚Äùadmin‚ÄùÁöÑÊùÉÈôêÔºåÊàë‰ª¨Â∞ÜËøôÂùó‰ª£Á†ÅÊîπÈÄ†‰∏Ä‰∏ãÔºöÂΩìÁôªÂΩïÁî®Êà∑‰∏∫mrbirdÁöÑÊó∂ÂÄôÔºåÂÖ∂Êã•Êúâ‚Äùadmin‚ÄùÊùÉÈôêÔºåÂÖ∂‰ªñÁî®Êà∑ÂàôÂè™Êúâ‚Äùtest‚ÄùÊùÉÈôêÔºö12345678910111213141516171819202122232425@Configurationpublic class UserDetailService implements UserDetailsService &#123; @Autowired private PasswordEncoder passwordEncoder; @Override public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException &#123; // Ê®°Êãü‰∏Ä‰∏™Áî®Êà∑ÔºåÊõø‰ª£Êï∞ÊçÆÂ∫ìËé∑ÂèñÈÄªËæë MyUser user = new MyUser(); user.setUserName(username); user.setPassword(this.passwordEncoder.encode("123456")); // ËæìÂá∫Âä†ÂØÜÂêéÁöÑÂØÜÁ†Å System.out.println(user.getPassword()); List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;(); if (StringUtils.equalsIgnoreCase("mrbird", username)) &#123; authorities = AuthorityUtils.commaSeparatedStringToAuthorityList("admin"); &#125; else &#123; authorities = AuthorityUtils.commaSeparatedStringToAuthorityList("test"); &#125; return new User(username, user.getPassword(), user.isEnabled(), user.isAccountNonExpired(), user.isCredentialsNonExpired(), user.isAccountNonLocked(), authorities); &#125;&#125;Ê∑ªÂä†‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂπ∂‰∏î‰ΩøÁî®ÊùÉÈôêÊ≥®Ëß£Ê†áÊòéÂè™ÊúâÊã•Êúâ‚Äúadmin‚ÄùÊùÉÈôêÁöÑ‰∫∫ÊâçËÉΩËÆøÈóÆÔºö12345@GetMapping("/auth/admin")@PreAuthorize("hasAuthority('admin')")public String authenticationTest() &#123; return "ÊÇ®Êã•ÊúâadminÊùÉÈôêÔºåÂèØ‰ª•Êü•Áúã";&#125;ÂêØÂä®Á≥ªÁªüÔºå‰ΩøÁî®mrbirdË¥¶Âè∑ÁôªÂΩïÔºöÂèØÁúãÂà∞ÔºåmrbirdÂèØ‰ª•ËÆøÈóÆËØ•ËµÑÊ∫ê„ÄÇ‰ΩøÁî®scottË¥¶Âè∑ÁôªÂΩïÔºöÂèØ‰ª•ÁúãÂà∞ÔºåsocttÊ≤°ÊúâÊùÉÈôêËÆøÈóÆÔºåËøîÂõû403ÈîôËØØÁ†Å„ÄÇÊàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâÊùÉÈôê‰∏çË∂≥Â§ÑÁêÜÂô®Êù•Â§ÑÁêÜÊùÉÈôê‰∏çË∂≥Êó∂ÂÄôÁöÑÊìç‰Ωú„ÄÇÊñ∞Â¢û‰∏Ä‰∏™Â§ÑÁêÜÂô®MyAuthenticationAccessDeniedHandlerÔºåÂÆûÁé∞AccessDeniedHandlerÊé•Âè£Ôºö12345678910@Componentpublic class MyAuthenticationAccessDeniedHandler implements AccessDeniedHandler &#123; @Override public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException &#123; response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value()); response.setContentType("application/json;charset=utf-8"); response.getWriter().write("ÂæàÊä±Ê≠âÔºåÊÇ®Ê≤°ÊúâËØ•ËÆøÈóÆÊùÉÈôê"); &#125;&#125;ÁÑ∂ÂêéÂ∞ÜËøô‰∏™Â§ÑÁêÜÂô®Ê∑ªÂä†Âà∞Spring SecurityÈÖçÁΩÆÈìæ‰∏≠: @Autowired private MyAuthenticationAccessDeniedHandler authenticationAccessDeniedHandler;1234567 @Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.exceptionHandling() .accessDeniedHandler(authenticationAccessDeniedHandler) .and() ......&#125;ÈáçÂêØÁ≥ªÁªüÔºåÂÜçÊ¨°‰ΩøÁî®scottË¥¶Âè∑ËÆøÈóÆ/auth/adminÔºö Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/61.Spring-security-Permission]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring SecurityÈÄÄÂá∫ÁôªÂΩï]]></title>
    <url>%2FSpring-Security-logout.html</url>
    <content type="text"><![CDATA[Spring SecurityÈªòËÆ§ÁöÑÈÄÄÂá∫ÁôªÂΩïURL‰∏∫/logoutÔºåÈÄÄÂá∫ÁôªÂΩïÂêéÔºåSpring Security‰ºöÂÅöÂ¶Ç‰∏ãÂ§ÑÁêÜÔºöÊòØÂΩìÂâçÁöÑSesionÂ§±ÊïàÔºõÊ∏ÖÈô§‰∏éÂΩìÂâçÁî®Êà∑ÂÖ≥ËÅîÁöÑRememberMeËÆ∞ÂΩïÔºõÊ∏ÖÁ©∫ÂΩìÂâçÁöÑSecurityContextÔºõÈáçÂÆöÂêëÂà∞ÁôªÂΩïÈ°µ„ÄÇSpring SecurityÂÖÅËÆ∏Êàë‰ª¨ÈÄöËøáÈÖçÁΩÆÊù•Êõ¥Êîπ‰∏äÈù¢Ëøô‰∫õÈªòËÆ§Ë°å‰∏∫„ÄÇËá™ÂÆö‰πâÈÄÄÂá∫ÁôªÂΩïË°å‰∏∫Êàë‰ª¨Âú®Spring SecurityÈÖçÁΩÆ‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆ:12345678.......and() .logout() .logoutUrl("/signout") .logoutSuccessUrl("/signout/success") .deleteCookies("JSESSIONID").and()......‰∏äÈù¢ÈÖçÁΩÆ‰∫ÜÈÄÄÂá∫ÁôªÂΩïÁöÑURL‰∏∫/signoutÔºåÈÄÄÂá∫ÊàêÂäüÂêéË∑≥ËΩ¨ÁöÑURL‰∏∫/signout/successÔºåÈÄÄÂá∫ÊàêÂäüÂêéÂà†Èô§ÂêçÁß∞‰∏∫JSESSIONIDÁöÑcookie„ÄÇÂú®Controller‰∏≠Ê∑ªÂä†Âíå/signout/successÂØπÂ∫îÁöÑÊñπÊ≥ïÔºö1234@GetMapping("/signout/success")public String signout() &#123; return "ÈÄÄÂá∫ÊàêÂäüÔºåËØ∑ÈáçÊñ∞ÁôªÂΩï";&#125;Êé•ÁùÄÂ∞Ü/signout/successÊ∑ªÂä†Âà∞ÂÖçËÆ§ËØÅË∑ØÂæÑÈáå„ÄÇÂêØÂä®È°πÁõÆÔºåÁôªÂΩïÂêéËÆøÈóÆ/signoutÔºöÂèØÁúãÂà∞ÈÄÄÂá∫ÊàêÂäüÔºåÂπ∂‰∏îËØ∑Ê±ÇÈáçÂÆöÂêëÂà∞‰∫Ü/signout/success„ÄÇÈô§‰∫ÜÊåáÂÆölogoutUrlÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøálogoutSuccessHandlerÊåáÂÆöÈÄÄÂá∫ÊàêÂäüÂ§ÑÁêÜÂô®Êù•Â§ÑÁêÜÈÄÄÂá∫ÊàêÂäüÂêéÁöÑÈÄªËæëÔºö123456789101112@Autowiredprivate MyLogOutSuccessHandler logOutSuccessHandler;.......and() .logout() .logoutUrl("/signout") // .logoutSuccessUrl("/signout/success") .logoutSuccessHandler(logOutSuccessHandler) .deleteCookies("JSESSIONID").and()......MyLogOutSuccessHandlerÂÆûÁé∞LogoutSuccessHandlerÔºö123456789@Componentpublic class MyLogOutSuccessHandler implements LogoutSuccessHandler &#123; @Override public void onLogoutSuccess(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Authentication authentication) throws IOException, ServletException &#123; httpServletResponse.setStatus(HttpStatus.UNAUTHORIZED.value()); httpServletResponse.setContentType("application/json;charset=utf-8"); httpServletResponse.getWriter().write("ÈÄÄÂá∫ÊàêÂäüÔºåËØ∑ÈáçÊñ∞ÁôªÂΩï"); &#125;&#125;ÊïàÊûúÂíå‰∏äÈù¢‰∏ÄÊ†∑Ôºö Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/60.Spring-Security-Logout]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Security SessionÁÆ°ÁêÜ]]></title>
    <url>%2FSpring-Security-Session-Manage.html</url>
    <content type="text"><![CDATA[Áî®Êà∑ÁôªÂΩïÊàêÂäüÂêéÔºå‰ø°ÊÅØ‰øùÂ≠òÂú®ÊúçÂä°Âô®Session‰∏≠ÔºåËøôËäÇÂ≠¶‰π†‰∏ãÂ¶Ç‰ΩïÁÆ°ÁêÜËøô‰∫õSession„ÄÇËøôËäÇÂ∞ÜÂú®Spring SecurityÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïÁöÑÂü∫Á°Ä‰∏äÁªßÁª≠Êâ©Â±ï„ÄÇSessionË∂ÖÊó∂ËÆæÁΩÆSessionË∂ÖÊó∂Êó∂Èó¥‰πüÂ∞±ÊòØÁî®Êà∑ÁôªÂΩïÁöÑÊúâÊïàÊó∂Èó¥„ÄÇË¶ÅËÆæÁΩÆSessionË∂ÖÊó∂Êó∂Èó¥ÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê∑ªÂä†Ôºö123server: session: timeout: 3600Âçï‰Ωç‰∏∫ÁßíÔºåÈÄöËøá‰∏äÈù¢ÁöÑÈÖçÁΩÆÔºåSessionÁöÑÊúâÊïàÊúü‰∏∫‰∏Ä‰∏™Â∞èÊó∂„ÄÇÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåSessionÁöÑÊúÄÂ∞èÊúâÊïàÊúü‰∏∫60ÁßíÔºå‰πüÂ∞±ÊòØËØ¥Âç≥‰Ωø‰Ω†ËÆæÁΩÆ‰∏∫Â∞è‰∫é60ÁßíÁöÑÂÄºÔºåÂÖ∂ÊúâÊïàÊúüËøòÊòØ‰∏∫60Áßí„ÄÇÊü•ÁúãTomcatEmbeddedServletContainerFactoryÁöÑÊ∫êÁ†ÅÂç≥ÂèØÂèëÁé∞ÂéüÂõ†ÔºöSessionÂ§±ÊïàÂêéÔºåÂà∑Êñ∞È°µÈù¢ÂêéÂ∞ÜË∑≥ËΩ¨Âà∞ËÆ§ËØÅÈ°µÈù¢ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÜçÊ∑ªÂä†‰∏Ä‰∫õÈÖçÁΩÆÔºåËá™ÂÆö‰πâSessionÂ§±ÊïàÂêéÁöÑ‰∏Ä‰∫õË°å‰∏∫„ÄÇÂú®Spring Security‰∏≠ÈÖçÁΩÆSessionÁÆ°ÁêÜÂô®ÔºåÂπ∂ÈÖçÁΩÆSessionÂ§±ÊïàÂêéË¶ÅË∑≥ËΩ¨ÁöÑURLÔºö1234567891011121314151617181920@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.addFilterBefore(validateCodeFilter, UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .addFilterBefore(smsCodeFilter,UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†Áü≠‰ø°È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .formLogin() // Ë°®ÂçïÁôªÂΩï .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html", "/code/image","/code/sms","/session/invalid").permitAll() // Êó†ÈúÄËÆ§ËØÅÁöÑËØ∑Ê±ÇË∑ØÂæÑ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and() .sessionManagement() // Ê∑ªÂä† SessionÁÆ°ÁêÜÂô® .invalidSessionUrl("/session/invalid") // SessionÂ§±ÊïàÂêéË∑≥ËΩ¨Âà∞Ëøô‰∏™ÈìæÊé• ......&#125;‰∏äÈù¢ÈÖçÁΩÆ‰∫ÜSessionÂ§±ÊïàÂêéË∑≥ËΩ¨Âà∞/session/invalidÔºåÂπ∂‰∏îÂ∞ÜËøô‰∏™URLÊ∑ªÂä†Âà∞‰∫ÜÂÖçËÆ§ËØÅË∑ØÂæÑ‰∏≠„ÄÇÂú®ControllerÈáåÊ∑ªÂä†‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊò†Â∞ÑËØ•ËØ∑Ê±ÇÔºö12345@GetMapping("session/invalid")@ResponseStatus(HttpStatus.UNAUTHORIZED)public String sessionInvalid()&#123; return "sessionÂ∑≤Â§±ÊïàÔºåËØ∑ÈáçÊñ∞ËÆ§ËØÅ";&#125;‰∏∫‰∫ÜÊºîÁ§∫ÔºåÊàë‰ª¨Â∞ÜSessionÁöÑË∂ÖÊó∂Êó∂Èó¥ËÆæÁΩÆ‰∏∫ÊúÄÂ∞èÂÄº60ÁßíÔºåÈáçÂêØÈ°πÁõÆÔºåËÆ§ËØÅÂêéÁ≠âÂæÖ60ÁßíÂπ∂Âà∑Êñ∞È°µÈù¢ÔºöÂèØÁúãÂà∞ËØ∑Ê±ÇË∑≥ËΩ¨Âà∞‰∫ÜÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑ/session/invalidURL‰∏ä„ÄÇSessionÂπ∂ÂèëÊéßÂà∂SessionÂπ∂ÂèëÊéßÂà∂ÂèØ‰ª•ÊéßÂà∂‰∏Ä‰∏™Ë¥¶Âè∑Âêå‰∏ÄÊó∂ÂàªÊúÄÂ§öËÉΩÁôªÂΩïÂ§öÂ∞ë‰∏™„ÄÇÊàë‰ª¨Âú®Spring SecurityÈÖçÁΩÆ‰∏≠ÁªßÁª≠Ê∑ªÂä†SessionÁõ∏ÂÖ≥ÈÖçÁΩÆ:12345678910111213141516171819202122232425@Autowiredprivate MySessionExpiredStrategy sessionExpiredStrategy;@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.addFilterBefore(validateCodeFilter, UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .addFilterBefore(smsCodeFilter,UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†Áü≠‰ø°È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .formLogin() // Ë°®ÂçïÁôªÂΩï .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html", "/code/image","/code/sms","/session/invalid").permitAll() // Êó†ÈúÄËÆ§ËØÅÁöÑËØ∑Ê±ÇË∑ØÂæÑ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and() .sessionManagement() // Ê∑ªÂä† SessionÁÆ°ÁêÜÂô® .invalidSessionUrl("/session/invalid") // SessionÂ§±ÊïàÂêéË∑≥ËΩ¨Âà∞Ëøô‰∏™ÈìæÊé• .maximumSessions(1) .expiredSessionStrategy(sessionExpiredStrategy) .and() ......maximumSessionsÈÖçÁΩÆ‰∫ÜÊúÄÂ§ßSessionÂπ∂ÂèëÊï∞Èáè‰∏∫1‰∏™ÔºåÂ¶ÇÊûúmrbirdËøô‰∏™Ë¥¶Êà∑ÁôªÂΩïÂêéÔºåÂú®Âè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´Ø‰πü‰ΩøÁî®mrbirdË¥¶Êà∑ÁôªÂΩïÔºåÈÇ£‰πàÁ¨¨‰∏Ä‰∏™‰ΩøÁî®mrbirdÁôªÂΩïÁöÑË¥¶Êà∑Â∞Ü‰ºöÂ§±ÊïàÔºåÁ±ª‰ºº‰∫é‰∏Ä‰∏™ÂÖàÂÖ•ÂÖàÂá∫ÈòüÂàó„ÄÇexpiredSessionStrategyÈÖçÁΩÆ‰∫ÜSessionÂú®Âπ∂Âèë‰∏ãÂ§±ÊïàÂêéÁöÑÂ§ÑÁêÜÁ≠ñÁï•ÔºåËøôÈáå‰∏∫Êàë‰ª¨Ëá™ÂÆö‰πâÁöÑÁ≠ñÁï•MySessionExpiredStrategy„ÄÇMySessionExpiredStrategyÂÆûÁé∞SessionInformationExpiredStrategyÔºö1234567891011@Componentpublic class MySessionExpiredStrategy implements SessionInformationExpiredStrategy &#123; @Override public void onExpiredSessionDetected(SessionInformationExpiredEvent event) throws IOException, ServletException &#123; HttpServletResponse response = event.getResponse(); response.setStatus(HttpStatus.UNAUTHORIZED.value()); response.setContentType("application/json;charset=utf-8"); response.getWriter().write("ÊÇ®ÁöÑË¥¶Âè∑Â∑≤ÁªèÂú®Âà´ÁöÑÂú∞ÊñπÁôªÂΩïÔºåÂΩìÂâçÁôªÂΩïÂ∑≤Â§±Êïà„ÄÇÂ¶ÇÊûúÂØÜÁ†ÅÈÅ≠Âà∞Ê≥ÑÈú≤ÔºåËØ∑Á´ãÂç≥‰øÆÊîπÂØÜÁ†ÅÔºÅ"); &#125;&#125;‰∏∫‰∫ÜÊºîÁ§∫Ëøô‰∏™ÊïàÊûúÔºåÊàë‰ª¨ÂÖàÂ∞ÜSessionË∂ÖÊó∂Êó∂Èó¥ËÆæÁΩÆ‰πÖ‰∏ÄÁÇπÔºåÊØîÂ¶Ç3600ÁßíÔºåÁÑ∂ÂêéÈáçÂêØÈ°πÁõÆÔºåÂú®ChromeÈáå‰ΩøÁî®mrbirdË¥¶Êà∑ÁôªÂΩï„ÄÇÁôªÂΩïÊàêÂäüÂêéÔºåÂú®firefox‰∏ä‰πüÊòØÁî®mrbirdË¥¶Êà∑ÁôªÂΩïÔºåÁôªÂΩïÊàêÂäüÂêéÂõûÂà∞chromeÔºåÂà∑Êñ∞È°µÈù¢ÔºåÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÈô§‰∫ÜÂêéËÄÖÂ∞ÜÂâçËÄÖË∏¢Âá∫ÁöÑÁ≠ñÁï•ÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÊéßÂà∂ÂΩìSessionËææÂà∞ÊúÄÂ§ßÊúâÊïàÊï∞ÁöÑÊó∂ÂÄôÔºå‰∏çÂÜçÂÖÅËÆ∏Áõ∏ÂêåÁöÑË¥¶Êà∑ÁôªÂΩï„ÄÇË¶ÅÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÂè™ÈúÄË¶ÅÂú®‰∏äÈù¢ÁöÑÈÖçÁΩÆ‰∏≠Ê∑ªÂä†Ôºö123456789.......and() .sessionManagement() // Ê∑ªÂä† SessionÁÆ°ÁêÜÂô® .invalidSessionUrl("/session/invalid") // SessionÂ§±ÊïàÂêéË∑≥ËΩ¨Âà∞Ëøô‰∏™ÈìæÊé• .maximumSessions(1) .maxSessionsPreventsLogin(true) .expiredSessionStrategy(sessionExpiredStrategy) .and()......ÈáçÂêØÁ≥ªÁªüÔºåÂú®chrome‰∏äÁôªÂΩïmrbirdË¥¶Êà∑ÂêéÔºåÂú®firefox‰∏äÂ∞ùËØï‰ΩøÁî®mrbirdË¥¶Êà∑ÁôªÂΩïÔºöÂèØ‰ª•ÁúãÂà∞ÁôªÂΩïÂèóÈôê„ÄÇÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂèëÁé∞SessionÂπ∂ÂèëÊéßÂà∂Âè™ÂØπSpring SecurityÈªòËÆ§ÁöÑÁôªÂΩïÊñπÂºè‚Äî‚ÄîË¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩïÊúâÊïàÔºåËÄåÂÉèÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïÔºåÁ§æ‰∫§Ë¥¶Âè∑ÁôªÂΩïÂπ∂‰∏çÁîüÊïàÔºåËß£ÂÜ≥ÊñπÊ°àÂèØ‰ª•ÂèÇËÄÉÊàëÁöÑÂºÄÊ∫êÈ°πÁõÆhttps://github.com/wuyouzhuguli/FEBS-SecuritySessionÈõÜÁæ§Â§ÑÁêÜSessionÈõÜÁæ§Âê¨ÁùÄÈ´òÂ§ß‰∏äÔºåÂÖ∂ÂÆûÂÆûÁé∞Ëµ∑Êù•ÂæàÁÆÄÂçï„ÄÇÂΩìÊàë‰ª¨ÁôªÂΩïÊàêÂäüÂêéÔºåÁî®Êà∑ËÆ§ËØÅÁöÑ‰ø°ÊÅØÂ≠òÂÇ®Âú®Session‰∏≠ÔºåËÄåËøô‰∫õSessionÈªòËÆ§ÊòØÂ≠òÂÇ®Âú®ËøêË°åËøêÁî®ÁöÑÊúçÂä°Âô®‰∏äÁöÑÔºåÊØîÂ¶ÇTomcatÔºånettyÁ≠â„ÄÇÂΩìÂ∫îÁî®ÈõÜÁæ§ÈÉ®ÁΩ≤ÁöÑÊó∂ÂÄôÔºåÁî®Êà∑Âú®AÂ∫îÁî®‰∏äÁôªÂΩïËÆ§ËØÅ‰∫ÜÔºåÂêéÁª≠ÈÄöËøáË¥üËΩΩÂùáË°°ÂèØËÉΩ‰ºöÊääËØ∑Ê±ÇÂèëÈÄÅÂà∞BÂ∫îÁî®ÔºåËÄåBÂ∫îÁî®ÊúçÂä°Âô®‰∏äÂπ∂Ê≤°Êúâ‰∏éËØ•ËØ∑Ê±ÇÂåπÈÖçÁöÑËÆ§ËØÅSession‰ø°ÊÅØÔºåÊâÄ‰ª•Áî®Êà∑Â∞±ÈúÄË¶ÅÈáçÊñ∞ËøõË°åËÆ§ËØÅ„ÄÇË¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÊääSession‰ø°ÊÅØÂ≠òÂÇ®Âú®Á¨¨‰∏âÊñπÂÆπÂô®ÈáåÔºàÂ¶ÇRedisÈõÜÁæ§ÔºâÔºåËÄå‰∏çÊòØÂêÑËá™ÁöÑÊúçÂä°Âô®ÔºåËøôÊ†∑Â∫îÁî®ÈõÜÁæ§Â∞±ÂèØ‰ª•ÈÄöËøáÁ¨¨‰∏âÊñπÂÆπÂô®Êù•ÂÖ±‰∫´Session‰∫Ü„ÄÇÊàë‰ª¨ÂºïÂÖ•RedisÂíåSpring Session‰æùËµñÔºö12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.session&lt;/groupId&gt; &lt;artifactId&gt;spring-session&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®yml‰∏≠ÈÖçÁΩÆSessionÂ≠òÂÇ®ÊñπÂºè‰∏∫RedisÔºö123spring: session: store-type: redis‰∏∫‰∫ÜÊñπ‰æøÔºåRedisÈÖçÁΩÆÈááÁî®ÈªòËÆ§ÈÖçÁΩÆÂç≥ÂèØ„ÄÇÂºÄÂêØRedisÔºåÂπ∂‰∏îÂêØÂä®‰∏§‰∏™Â∫îÁî®ÂÆû‰æãÔºå‰∏Ä‰∏™Á´ØÂè£‰∏∫8080ÔºåÂè¶‰∏Ä‰∏™Á´ØÂè£‰∏∫9090„ÄÇÊàë‰ª¨Áé∞Âú®8080Á´ØÂè£Â∫îÁî®‰∏äÁôªÂΩïÔºöÁÑ∂ÂêéËÆøÈóÆ9090Á´ØÂè£Â∫îÁî®ÁöÑ‰∏ªÈ°µÔºöÂèØ‰ª•ÁúãÂà∞ÁôªÂΩï‰πüÊòØÁîüÊïàÁöÑ„ÄÇËøôÂ∞±ÂÆûÁé∞‰∫ÜÈõÜÁæ§ÂåñSessionÁÆ°ÁêÜ„ÄÇÂÖ∂‰ªñÊìç‰ΩúSessionRegistryÂåÖÂê´‰∫Ü‰∏Ä‰∫õ‰ΩøÁî®ÁöÑÊìç‰ΩúSessionÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇÔºöË∏¢Âá∫Áî®Êà∑ÔºàËÆ©SessionÂ§±ÊïàÔºâÔºö12String currentSessionId = request.getRequestedSessionId();sessionRegistry.getSessionInformation(sessionId).expireNow();Ëé∑ÂèñÊâÄÊúâSession‰ø°ÊÅØÔºö1List&lt;Object&gt; principals = sessionRegistry.getAllPrincipals();Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/59.Spring-Security-SessionManager]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring SecurityÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩï]]></title>
    <url>%2FSpring-Security-SmsCode.html</url>
    <content type="text"><![CDATA[Âú®Spring SecurityÊ∑ªÂä†ÂõæÂΩ¢È™åËØÅÁ†Å‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫ÜÂü∫‰∫éSpring Boot + Spring SecurityÁöÑË¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩïÔºåÂπ∂ÈõÜÊàê‰∫ÜÂõæÂΩ¢È™åËØÅÁ†ÅÂäüËÉΩ„ÄÇÊó∂‰∏ãÂè¶‰∏ÄÁßçÈùûÂ∏∏Â∏∏ËßÅÁöÑÁΩëÁ´ôÁôªÂΩïÊñπÂºè‰∏∫ÊâãÊú∫Áü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïÔºå‰ΩÜSpring SecurityÈªòËÆ§Âè™Êèê‰æõ‰∫ÜË¥¶Âè∑ÂØÜÁ†ÅÁöÑÁôªÂΩïËÆ§ËØÅÈÄªËæëÔºåÊâÄ‰ª•Ë¶ÅÂÆûÁé∞ÊâãÊú∫Áü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïËÆ§ËØÅÂäüËÉΩÔºåÊàë‰ª¨ÈúÄË¶ÅÊ®°‰ªøSpring SecurityË¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩïÈÄªËæë‰ª£Á†ÅÊù•ÂÆûÁé∞‰∏ÄÂ•óËá™Â∑±ÁöÑËÆ§ËØÅÈÄªËæë„ÄÇÁü≠‰ø°È™åËØÅÁ†ÅÁîüÊàêÊàë‰ª¨Âú®‰∏ä‰∏ÄËäÇSpring SecurityÊ∑ªÂä†ÂõæÂΩ¢È™åËØÅÁ†ÅÁöÑÂü∫Á°Ä‰∏äÊù•ÈõÜÊàêÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïÁöÑÂäüËÉΩ„ÄÇÂíåÂõæÂΩ¢È™åËØÅÁ†ÅÁ±ª‰ººÔºåÊàë‰ª¨ÂÖàÂÆö‰πâ‰∏Ä‰∏™Áü≠‰ø°È™åËØÅÁ†ÅÂØπË±°SmsCodeÔºö12345678910111213141516171819public class SmsCode &#123; private String code; private LocalDateTime expireTime; public SmsCode(String code, int expireIn) &#123; this.code = code; this.expireTime = LocalDateTime.now().plusSeconds(expireIn); &#125; public SmsCode(String code, LocalDateTime expireTime) &#123; this.code = code; this.expireTime = expireTime; &#125; boolean isExpire() &#123; return LocalDateTime.now().isAfter(expireTime); &#125; // get,setÁï•&#125;SmsCodeÂØπË±°ÂåÖÂê´‰∫Ü‰∏§‰∏™Â±ûÊÄßÔºöcodeÈ™åËØÅÁ†ÅÂíåexpireTimeËøáÊúüÊó∂Èó¥„ÄÇisExpireÊñπÊ≥ïÁî®‰∫éÂà§Êñ≠Áü≠‰ø°È™åËØÅÁ†ÅÊòØÂê¶Â∑≤ËøáÊúü„ÄÇÊé•ÁùÄÂú®ValidateCodeController‰∏≠Âä†ÂÖ•ÁîüÊàêÁü≠‰ø°È™åËØÅÁ†ÅÁõ∏ÂÖ≥ËØ∑Ê±ÇÂØπÂ∫îÁöÑÊñπÊ≥ïÔºö1234567891011121314151617181920@RestControllerpublic class ValidateController &#123; public final static String SESSION_KEY_SMS_CODE = "SESSION_KEY_SMS_CODE"; private SessionStrategy sessionStrategy = new HttpSessionSessionStrategy(); @GetMapping("/code/sms") public void createSmsCode(HttpServletRequest request, HttpServletResponse response, String mobile) throws IOException &#123; SmsCode smsCode = createSMSCode(); sessionStrategy.setAttribute(new ServletWebRequest(request), SESSION_KEY_SMS_CODE + mobile, smsCode); // ËæìÂá∫È™åËØÅÁ†ÅÂà∞ÊéßÂà∂Âè∞‰ª£ÊõøÁü≠‰ø°ÂèëÈÄÅÊúçÂä° System.out.println("ÊÇ®ÁöÑÁôªÂΩïÈ™åËØÅÁ†Å‰∏∫Ôºö" + smsCode.getCode() + "ÔºåÊúâÊïàÊó∂Èó¥‰∏∫60Áßí"); &#125; private SmsCode createSMSCode() &#123; String code = RandomStringUtils.randomNumeric(6); return new SmsCode(code, 60); &#125;&#125;ËøôÈáåÊàë‰ª¨‰ΩøÁî®createSMSCodeÊñπÊ≥ïÁîüÊàê‰∫Ü‰∏Ä‰∏™6‰ΩçÁöÑÁ∫ØÊï∞Â≠óÈöèÊú∫Êï∞ÔºåÊúâÊïàÊó∂Èó¥‰∏∫60Áßí„ÄÇÁÑ∂ÂêéÈÄöËøáSessionStrategyÂØπË±°ÁöÑsetAttributeÊñπÊ≥ïÂ∞ÜÁü≠‰ø°È™åËØÅÁ†Å‰øùÂ≠òÂà∞‰∫ÜSession‰∏≠ÔºåÂØπÂ∫îÁöÑkey‰∏∫SESSION_KEY_SMS_CODE„ÄÇËá≥Ê≠§ÔºåÁü≠‰ø°È™åËØÅÁ†ÅÁîüÊàêÊ®°ÂùóÁºñÂÜôÂÆåÊØïÔºå‰∏ãÈù¢ÂºÄÂßãÊîπÈÄ†ÁôªÂΩïÈ°µÈù¢„ÄÇÊîπÈÄ†ÁôªÂΩïÈ°µÊàë‰ª¨Âú®ÁôªÂΩïÈ°µÈù¢‰∏≠Âä†ÂÖ•‰∏Ä‰∏™‰∏éÊâãÊú∫Áü≠‰ø°È™åËØÅÁ†ÅËÆ§ËØÅÁõ∏ÂÖ≥ÁöÑFormË°®ÂçïÔºö1234567891011&lt;form class="login-page" action="/login/mobile" method="post"&gt; &lt;div class="form"&gt; &lt;h3&gt;Áü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩï&lt;/h3&gt; &lt;input type="text" placeholder="ÊâãÊú∫Âè∑" name="mobile" value="17777777777" required="required"/&gt; &lt;span style="display: inline"&gt; &lt;input type="text" name="smsCode" placeholder="Áü≠‰ø°È™åËØÅÁ†Å" style="width: 50%;"/&gt; &lt;a href="/code/sms?mobile=17777777777"&gt;ÂèëÈÄÅÈ™åËØÅÁ†Å&lt;/a&gt; &lt;/span&gt; &lt;button type="submit"&gt;ÁôªÂΩï&lt;/button&gt; &lt;/div&gt;&lt;/form&gt;ÂÖ∂‰∏≠aÊ†áÁ≠æÁöÑhrefÂ±ûÊÄßÂÄºÂØπÂ∫îÊàë‰ª¨ÁöÑÁü≠‰ø°È™åËØÅÁ†ÅÁîüÊàêÊñπÊ≥ïÁöÑËØ∑Ê±ÇURL„ÄÇFormÁöÑactionÂØπÂ∫îÂ§ÑÁêÜÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïÊñπÊ≥ïÁöÑËØ∑Ê±ÇURLÔºåËøô‰∏™ÊñπÊ≥ï‰∏ãÈù¢Âú®ËøõË°åÂÖ∑‰ΩìÂÆûÁé∞„ÄÇÂêåÊó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®Spring Security‰∏≠ÈÖçÁΩÆ/code/smsË∑ØÂæÑÂÖçÈ™åËØÅÔºö12345678910111213141516171819@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.addFilterBefore(validateCodeFilter, UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html", "/code/image","/code/sms").permitAll() // Êó†ÈúÄËÆ§ËØÅÁöÑËØ∑Ê±ÇË∑ØÂæÑ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and() .csrf().disable();&#125;ÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/login.htmlÔºöÁÇπÂáªÂèëÈÄÅÈ™åËØÅÁ†ÅÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö1ÊÇ®ÁöÑÁôªÂΩïÈ™åËØÅÁ†Å‰∏∫Ôºö693583ÔºåÊúâÊïàÊó∂Èó¥‰∏∫60ÁßíÊé•‰∏ãÊù•ÂºÄÂßãÂÆûÁé∞‰ΩøÁî®Áü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïËÆ§ËØÅÈÄªËæë„ÄÇÊ∑ªÂä†Áü≠‰ø°È™åËØÅÁ†ÅËÆ§ËØÅÂú®Spring Security‰∏≠Ôºå‰ΩøÁî®Áî®Êà∑ÂêçÂØÜÁ†ÅËÆ§ËØÅÁöÑËøáÁ®ãÂ§ßËá¥Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöSpring Security‰ΩøÁî®UsernamePasswordAuthenticationFilterËøáÊª§Âô®Êù•Êã¶Êà™Áî®Êà∑ÂêçÂØÜÁ†ÅËÆ§ËØÅËØ∑Ê±ÇÔºåÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂ∞ÅË£ÖÊàê‰∏Ä‰∏™UsernamePasswordTokenÂØπË±°‰∫§ÁªôAuthenticationManagerÂ§ÑÁêÜ„ÄÇAuthenticationManagerÂ∞ÜÊåëÂá∫‰∏Ä‰∏™ÊîØÊåÅÂ§ÑÁêÜËØ•Á±ªÂûãTokenÁöÑAuthenticationProviderÔºàËøôÈáå‰∏∫DaoAuthenticationProviderÔºåAuthenticationProviderÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ÂÆûÁé∞Á±ªÔºâÊù•ËøõË°åËÆ§ËØÅÔºåËÆ§ËØÅËøáÁ®ã‰∏≠DaoAuthenticationProviderÂ∞ÜË∞ÉÁî®UserDetailServiceÁöÑloadUserByUsernameÊñπÊ≥ïÊù•Ëé∑ÂèñUserDetailsÂØπË±°ÔºåÂ¶ÇÊûúUserDetails‰∏ç‰∏∫Á©∫Âπ∂‰∏îÂØÜÁ†ÅÂíåÁî®Êà∑ËæìÂÖ•ÁöÑÂØÜÁ†ÅÂåπÈÖç‰∏ÄËá¥ÁöÑËØùÔºåÂàôÂ∞ÜËÆ§ËØÅ‰ø°ÊÅØ‰øùÂ≠òÂà∞Session‰∏≠ÔºåËÆ§ËØÅÂêéÊàë‰ª¨‰æøÂèØ‰ª•ÈÄöËøáAuthenticationÂØπË±°Ëé∑ÂèñÂà∞ËÆ§ËØÅÁöÑ‰ø°ÊÅØ‰∫Ü„ÄÇÁî±‰∫éSpring SecurityÂπ∂Ê≤°Áî®Êèê‰æõÁü≠‰ø°È™åËØÅÁ†ÅËÆ§ËØÅÁöÑÊµÅÁ®ãÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰ªøÁÖß‰∏äÈù¢Ëøô‰∏™ÊµÅÁ®ãÊù•ÂÆûÁé∞ÔºöÂú®Ëøô‰∏™ÊµÅÁ®ã‰∏≠ÔºåÊàë‰ª¨Ëá™ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫SmsAuthenticationFitlerÁöÑËøáÊª§Âô®Êù•Êã¶Êà™Áü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïËØ∑Ê±ÇÔºåÂπ∂Â∞ÜÊâãÊú∫Âè∑Á†ÅÂ∞ÅË£ÖÂà∞‰∏Ä‰∏™Âè´SmsAuthenticationTokenÁöÑÂØπË±°‰∏≠„ÄÇÂú®Spring Security‰∏≠ÔºåËÆ§ËØÅÂ§ÑÁêÜÈÉΩÈúÄË¶ÅÈÄöËøáAuthenticationManagerÊù•‰ª£ÁêÜÔºåÊâÄ‰ª•ËøôÈáåÊàë‰ª¨‰æùÊóßÂ∞ÜSmsAuthenticationToken‰∫§Áî±AuthenticationManagerÂ§ÑÁêÜ„ÄÇÊé•ÁùÄÊàë‰ª¨ÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™ÊîØÊåÅÂ§ÑÁêÜSmsAuthenticationTokenÂØπË±°ÁöÑSmsAuthenticationProviderÔºåSmsAuthenticationProviderË∞ÉÁî®UserDetailServiceÁöÑloadUserByUsernameÊñπÊ≥ïÊù•Â§ÑÁêÜËÆ§ËØÅ„ÄÇ‰∏éÁî®Êà∑ÂêçÂØÜÁ†ÅËÆ§ËØÅ‰∏ç‰∏ÄÊ†∑ÁöÑÊòØÔºåËøôÈáåÊòØÈÄöËøáSmsAuthenticationToken‰∏≠ÁöÑÊâãÊú∫Âè∑ÂéªÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢ÊòØÂê¶Êúâ‰∏é‰πãÂØπÂ∫îÁöÑÁî®Êà∑ÔºåÂ¶ÇÊûúÊúâÔºåÂàôÂ∞ÜËØ•Áî®Êà∑‰ø°ÊÅØÂ∞ÅË£ÖÂà∞UserDetailsÂØπË±°‰∏≠ËøîÂõûÂπ∂Â∞ÜËÆ§ËØÅÂêéÁöÑ‰ø°ÊÅØ‰øùÂ≠òÂà∞AuthenticationÂØπË±°‰∏≠„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞Ëøô‰∏™ÊµÅÁ®ãÔºåÊàë‰ª¨ÈúÄË¶ÅÂÆö‰πâSmsAuthenticationFitler„ÄÅSmsAuthenticationTokenÂíåSmsAuthenticationProviderÔºåÂπ∂Â∞ÜËøô‰∫õÁªÑÂª∫ÁªÑÂêàËµ∑Êù•Ê∑ªÂä†Âà∞Spring Security‰∏≠„ÄÇ‰∏ãÈù¢Êàë‰ª¨Êù•ÈÄêÊ≠•ÂÆûÁé∞Ëøô‰∏™ËøáÁ®ã„ÄÇÂÆö‰πâSmsAuthenticationTokenÊü•ÁúãUsernamePasswordAuthenticationTokenÁöÑÊ∫êÁ†ÅÔºåÂ∞ÜÂÖ∂Â§çÂà∂Âá∫Êù•ÈáçÂëΩÂêç‰∏∫SmsAuthenticationTokenÔºåÂπ∂Á®ç‰Ωú‰øÆÊîπÔºå‰øÆÊîπÂêéÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940public class SmsAuthenticationToken extends AbstractAuthenticationToken &#123; private static final long serialVersionUID = SpringSecurityCoreVersion.SERIAL_VERSION_UID; private final Object principal; public SmsAuthenticationToken(String mobile) &#123; super(null); this.principal = mobile; setAuthenticated(false); &#125; public SmsAuthenticationToken(Object principal, Collection&lt;? extends GrantedAuthority&gt; authorities) &#123; super(authorities); this.principal = principal; super.setAuthenticated(true); // must use super, as we override &#125; @Override public Object getCredentials() &#123; return null; &#125; public Object getPrincipal() &#123; return this.principal; &#125; public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException &#123; if (isAuthenticated) &#123; throw new IllegalArgumentException( "Cannot set this token to trusted - use constructor which takes a GrantedAuthority list instead"); &#125; super.setAuthenticated(false); &#125; @Override public void eraseCredentials() &#123; super.eraseCredentials(); &#125;&#125;SmsAuthenticationTokenÂåÖÂê´‰∏Ä‰∏™principalÂ±ûÊÄßÔºå‰ªéÂÆÉÁöÑ‰∏§‰∏™ÊûÑÈÄ†ÂáΩÊï∞ÂèØ‰ª•ÁúãÂá∫ÔºåÂú®ËÆ§ËØÅ‰πãÂâçprincipalÂ≠òÁöÑÊòØÊâãÊú∫Âè∑ÔºåËÆ§ËØÅ‰πãÂêéÂ≠òÁöÑÊòØÁî®Êà∑‰ø°ÊÅØ„ÄÇUsernamePasswordAuthenticationTokenÂéüÊù•ËøòÂåÖÂê´‰∏Ä‰∏™credentialsÂ±ûÊÄßÁî®‰∫éÂ≠òÊîæÂØÜÁ†ÅÔºåËøôÈáå‰∏çÈúÄË¶ÅÂ∞±ÂéªÊéâ‰∫Ü„ÄÇÂÆö‰πâSmsAuthenticationFilterÂÆö‰πâÂÆåSmsAuthenticationTokenÂêéÔºåÊàë‰ª¨Êé•ÁùÄÂÆö‰πâÁî®‰∫éÂ§ÑÁêÜÁü≠‰ø°È™åËØÅÁ†ÅÁôªÂΩïËØ∑Ê±ÇÁöÑËøáÊª§Âô®SmsAuthenticationFilterÔºåÂêåÊ†∑ÁöÑÂ§çÂà∂UsernamePasswordAuthenticationFilterÊ∫êÁ†ÅÂπ∂Á®ç‰Ωú‰øÆÊîπÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556public class SmsAuthenticationFilter extends AbstractAuthenticationProcessingFilter &#123; public static final String MOBILE_KEY = "mobile"; private String mobileParameter = MOBILE_KEY; private boolean postOnly = true; public SmsAuthenticationFilter() &#123; super(new AntPathRequestMatcher("/login/mobile", "POST")); &#125; public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException &#123; if (postOnly &amp;&amp; !request.getMethod().equals("POST")) &#123; throw new AuthenticationServiceException( "Authentication method not supported: " + request.getMethod()); &#125; String mobile = obtainMobile(request); if (mobile == null) &#123; mobile = ""; &#125; mobile = mobile.trim(); SmsAuthenticationToken authRequest = new SmsAuthenticationToken(mobile); setDetails(request, authRequest); return this.getAuthenticationManager().authenticate(authRequest); &#125; protected String obtainMobile(HttpServletRequest request) &#123; return request.getParameter(mobileParameter); &#125; protected void setDetails(HttpServletRequest request, SmsAuthenticationToken authRequest) &#123; authRequest.setDetails(authenticationDetailsSource.buildDetails(request)); &#125; public void setMobileParameter(String mobileParameter) &#123; Assert.hasText(mobileParameter, "mobile parameter must not be empty or null"); this.mobileParameter = mobileParameter; &#125; public void setPostOnly(boolean postOnly) &#123; this.postOnly = postOnly; &#125; public final String getMobileParameter() &#123; return mobileParameter; &#125;&#125;ÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÊåáÂÆö‰∫ÜÂΩìËØ∑Ê±Ç‰∏∫/login/mobileÔºåËØ∑Ê±ÇÊñπÊ≥ï‰∏∫POSTÁöÑÊó∂ÂÄôËØ•ËøáÊª§Âô®ÁîüÊïà„ÄÇmobileParameterÂ±ûÊÄßÂÄº‰∏∫mobileÔºåÂØπÂ∫îÁôªÂΩïÈ°µÈù¢ÊâãÊú∫Âè∑ËæìÂÖ•Ê°ÜÁöÑnameÂ±ûÊÄß„ÄÇattemptAuthenticationÊñπÊ≥ï‰ªéËØ∑Ê±Ç‰∏≠Ëé∑ÂèñÂà∞mobileÂèÇÊï∞ÂÄºÔºåÂπ∂Ë∞ÉÁî®SmsAuthenticationTokenÁöÑSmsAuthenticationToken(String mobile)ÊûÑÈÄ†ÊñπÊ≥ïÂàõÂª∫‰∫Ü‰∏Ä‰∏™SmsAuthenticationToken„ÄÇ‰∏ã‰∏ÄÊ≠•Â∞±Â¶ÇÊµÅÁ®ãÂõæ‰∏≠ÊâÄÁ§∫ÁöÑÈÇ£Ê†∑ÔºåSmsAuthenticationFilterÂ∞ÜSmsAuthenticationToken‰∫§ÁªôAuthenticationManagerÂ§ÑÁêÜ„ÄÇÂÆö‰πâSmsAuthenticationProviderÂú®ÂàõÂª∫ÂÆåSmsAuthenticationFilterÂêéÔºåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™ÊîØÊåÅÂ§ÑÁêÜËØ•Á±ªÂûãTokenÁöÑÁ±ªÔºåÂç≥SmsAuthenticationProviderÔºåËØ•Á±ªÈúÄË¶ÅÂÆûÁé∞AuthenticationProviderÁöÑ‰∏§‰∏™ÊäΩË±°ÊñπÊ≥ïÔºö1234567891011121314151617181920212223242526272829303132public class SmsAuthenticationProvider implements AuthenticationProvider &#123; private UserDetailService userDetailService; @Override public Authentication authenticate(Authentication authentication) throws AuthenticationException &#123; SmsAuthenticationToken authenticationToken = (SmsAuthenticationToken) authentication; UserDetails userDetails = userDetailService.loadUserByUsername((String) authenticationToken.getPrincipal()); if (userDetails == null) throw new InternalAuthenticationServiceException("Êú™ÊâæÂà∞‰∏éËØ•ÊâãÊú∫Âè∑ÂØπÂ∫îÁöÑÁî®Êà∑"); SmsAuthenticationToken authenticationResult = new SmsAuthenticationToken(userDetails, userDetails.getAuthorities()); authenticationResult.setDetails(authenticationToken.getDetails()); return authenticationResult; &#125; @Override public boolean supports(Class&lt;?&gt; aClass) &#123; return SmsAuthenticationToken.class.isAssignableFrom(aClass); &#125; public UserDetailService getUserDetailService() &#123; return userDetailService; &#125; public void setUserDetailService(UserDetailService userDetailService) &#123; this.userDetailService = userDetailService; &#125;&#125;ÂÖ∂‰∏≠supportsÊñπÊ≥ïÊåáÂÆö‰∫ÜÊîØÊåÅÂ§ÑÁêÜÁöÑTokenÁ±ªÂûã‰∏∫SmsAuthenticationTokenÔºåauthenticateÊñπÊ≥ïÁî®‰∫éÁºñÂÜôÂÖ∑‰ΩìÁöÑË∫´‰ªΩËÆ§ËØÅÈÄªËæë„ÄÇÂú®authenticateÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨‰ªéSmsAuthenticationToken‰∏≠ÂèñÂá∫‰∫ÜÊâãÊú∫Âè∑‰ø°ÊÅØÔºåÂπ∂Ë∞ÉÁî®‰∫ÜUserDetailServiceÁöÑloadUserByUsernameÊñπÊ≥ï„ÄÇËØ•ÊñπÊ≥ïÂú®Áî®Êà∑ÂêçÂØÜÁ†ÅÁ±ªÂûãÁöÑËÆ§ËØÅ‰∏≠Ôºå‰∏ªË¶ÅÈÄªËæëÊòØÈÄöËøáÁî®Êà∑ÂêçÊü•ËØ¢Áî®Êà∑‰ø°ÊÅØÔºåÂ¶ÇÊûúÂ≠òÂú®ËØ•Áî®Êà∑Âπ∂‰∏îÂØÜÁ†Å‰∏ÄËá¥ÂàôËÆ§ËØÅÊàêÂäüÔºõËÄåÂú®Áü≠‰ø°È™åËØÅÁ†ÅËÆ§ËØÅÁöÑËøáÁ®ã‰∏≠ÔºåËØ•ÊñπÊ≥ïÈúÄË¶ÅÈÄöËøáÊâãÊú∫Âè∑ÂéªÊü•ËØ¢Áî®Êà∑ÔºåÂ¶ÇÊûúÂ≠òÂú®ËØ•Áî®Êà∑ÂàôËÆ§ËØÅÈÄöËøá„ÄÇËÆ§ËØÅÈÄöËøáÂêéÊé•ÁùÄË∞ÉÁî®SmsAuthenticationTokenÁöÑSmsAuthenticationToken(Object principal, Collection&lt;? extends GrantedAuthority&gt; authorities)ÊûÑÈÄ†ÂáΩÊï∞ÊûÑÈÄ†‰∏Ä‰∏™ËÆ§ËØÅÈÄöËøáÁöÑTokenÔºåÂåÖÂê´‰∫ÜÁî®Êà∑‰ø°ÊÅØÂíåÁî®Êà∑ÊùÉÈôê„ÄÇ‰Ω†ÂèØËÉΩ‰ºöÈóÆÔºå‰∏∫‰ªÄ‰πàËøô‰∏ÄÊ≠•Ê≤°ÊúâËøõË°åÁü≠‰ø°È™åËØÅÁ†ÅÁöÑÊ†°È™åÂë¢ÔºüÂÆûÈôÖ‰∏äÁü≠‰ø°È™åËØÅÁ†ÅÁöÑÊ†°È™åÊòØÂú®SmsAuthenticationFilter‰πãÂâçÂÆåÊàêÁöÑÔºåÂç≥Âè™ÊúâÂΩìÁü≠‰ø°È™åËØÅÁ†ÅÊ≠£Á°Æ‰ª•ÂêéÊâçÂºÄÂßãËµ∞ËÆ§ËØÅÁöÑÊµÅÁ®ã„ÄÇÊâÄ‰ª•Êé•‰∏ãÊù•Êàë‰ª¨ÈúÄË¶ÅÂÆö‰∏Ä‰∏™ËøáÊª§Âô®Êù•Ê†°È™åÁü≠‰ø°È™åËØÅÁ†ÅÁöÑÊ≠£Á°ÆÊÄß„ÄÇÂÆö‰πâSmsCodeFilterÁü≠‰ø°È™åËØÅÁ†ÅÁöÑÊ†°È™åÈÄªËæëÂÖ∂ÂÆûÂíåÂõæÂΩ¢È™åËØÅÁ†ÅÁöÑÊ†°È™åÈÄªËæëÂü∫Êú¨‰∏ÄËá¥ÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ÂõæÂΩ¢È™åËØÅÁ†ÅËøáÊª§Âô®ÁöÑÂü∫Á°Ä‰∏äÁ®ç‰Ωú‰øÆÊîπÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445@Componentpublic class SmsCodeFilter extends OncePerRequestFilter &#123; @Autowired private AuthenticationFailureHandler authenticationFailureHandler; private SessionStrategy sessionStrategy = new HttpSessionSessionStrategy(); @Override protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException &#123; if (StringUtils.equalsIgnoreCase("/login/mobile", httpServletRequest.getRequestURI()) &amp;&amp; StringUtils.equalsIgnoreCase(httpServletRequest.getMethod(), "post")) &#123; try &#123; validateCode(new ServletWebRequest(httpServletRequest)); &#125; catch (ValidateCodeException e) &#123; authenticationFailureHandler.onAuthenticationFailure(httpServletRequest, httpServletResponse, e); return; &#125; &#125; filterChain.doFilter(httpServletRequest, httpServletResponse); &#125; private void validateSmsCode(ServletWebRequest servletWebRequest) throws ServletRequestBindingException &#123; String smsCodeInRequest = ServletRequestUtils.getStringParameter(servletWebRequest.getRequest(), "smsCode"); String mobile = ServletRequestUtils.getStringParameter(servletWebRequest.getRequest(), "mobile"); ValidateCode codeInSession = (ValidateCode) sessionStrategy.getAttribute(servletWebRequest, FebsConstant.SESSION_KEY_SMS_CODE + mobile); if (StringUtils.isBlank(smsCodeInRequest)) &#123; throw new ValidateCodeException("È™åËØÅÁ†Å‰∏çËÉΩ‰∏∫Á©∫ÔºÅ"); &#125; if (codeInSession == null) &#123; throw new ValidateCodeException("È™åËØÅÁ†Å‰∏çÂ≠òÂú®ÔºåËØ∑ÈáçÊñ∞ÂèëÈÄÅÔºÅ"); &#125; if (codeInSession.isExpire()) &#123; sessionStrategy.removeAttribute(servletWebRequest, FebsConstant.SESSION_KEY_SMS_CODE + mobile); throw new ValidateCodeException("È™åËØÅÁ†ÅÂ∑≤ËøáÊúüÔºåËØ∑ÈáçÊñ∞ÂèëÈÄÅÔºÅ"); &#125; if (!StringUtils.equalsIgnoreCase(codeInSession.getCode(), smsCodeInRequest)) &#123; throw new ValidateCodeException("È™åËØÅÁ†Å‰∏çÊ≠£Á°ÆÔºÅ"); &#125; sessionStrategy.removeAttribute(servletWebRequest, FebsConstant.SESSION_KEY_SMS_CODE + mobile); &#125;&#125;ÊñπÊ≥ïÁöÑÂü∫Êú¨ÈÄªËæëÂíå‰πãÂâçÂÆö‰πâÁöÑValidateCodeFilter‰∏ÄËá¥ÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇÈÖçÁΩÆÁîüÊïàÂú®ÂÆö‰πâÂÆåÊâÄÈúÄÁöÑÁªÑ‰ª∂ÂêéÔºåÊàë‰ª¨ÈúÄË¶ÅËøõË°å‰∏Ä‰∫õÈÖçÁΩÆÔºåÂ∞ÜËøô‰∫õÁªÑ‰ª∂ÁªÑÂêàËµ∑Êù•ÂΩ¢Êàê‰∏Ä‰∏™Âíå‰∏äÈù¢ÊµÅÁ®ãÂõæÂØπÂ∫îÁöÑÊµÅÁ®ã„ÄÇÂàõÂª∫‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªSmsAuthenticationConfigÔºö123456789101112131415161718192021222324252627@Componentpublic class SmsAuthenticationConfig extends SecurityConfigurerAdapter&lt;DefaultSecurityFilterChain, HttpSecurity&gt; &#123; @Autowired private AuthenticationSuccessHandler authenticationSuccessHandler; @Autowired private AuthenticationFailureHandler authenticationFailureHandler; @Autowired private UserDetailService userDetailService; @Override public void configure(HttpSecurity http) throws Exception &#123; SmsAuthenticationFilter smsAuthenticationFilter = new SmsAuthenticationFilter(); smsAuthenticationFilter.setAuthenticationManager(http.getSharedObject(AuthenticationManager.class)); smsAuthenticationFilter.setAuthenticationSuccessHandler(authenticationSuccessHandler); smsAuthenticationFilter.setAuthenticationFailureHandler(authenticationFailureHandler); SmsAuthenticationProvider smsAuthenticationProvider = new SmsAuthenticationProvider(); smsAuthenticationProvider.setUserDetailService(userDetailService); http.authenticationProvider(smsAuthenticationProvider) .addFilterAfter(smsAuthenticationFilter, UsernamePasswordAuthenticationFilter.class); &#125;&#125;Âú®ÊµÅÁ®ã‰∏≠Á¨¨‰∏ÄÊ≠•ÈúÄË¶ÅÈÖçÁΩÆSmsAuthenticationFilterÔºåÂàÜÂà´ËÆæÁΩÆ‰∫ÜAuthenticationManager„ÄÅAuthenticationSuccessHandlerÂíåAuthenticationFailureHandlerÂ±ûÊÄß„ÄÇËøô‰∫õÂ±ûÊÄßÈÉΩÊòØÊù•Ëá™SmsAuthenticationFilterÁªßÊâøÁöÑAbstractAuthenticationProcessingFilterÁ±ª‰∏≠„ÄÇÁ¨¨‰∫åÊ≠•ÈÖçÁΩÆSmsAuthenticationProviderÔºåËøô‰∏ÄÊ≠•Âè™ÈúÄË¶ÅÂ∞ÜÊàë‰ª¨Ëá™‰∏™ÁöÑUserDetailServiceÊ≥®ÂÖ•ËøõÊù•Âç≥ÂèØ„ÄÇÊúÄÂêéË∞ÉÁî®HttpSecurityÁöÑauthenticationProviderÊñπÊ≥ïÊåáÂÆö‰∫ÜAuthenticationProvider‰∏∫SmsAuthenticationProviderÔºåÂπ∂Â∞ÜSmsAuthenticationFilterËøáÊª§Âô®Ê∑ªÂä†Âà∞‰∫ÜUsernamePasswordAuthenticationFilterÂêéÈù¢„ÄÇÂà∞ËøôÈáåÊàë‰ª¨Â∑≤ÁªèÂ∞ÜÁü≠‰ø°È™åËØÅÁ†ÅËÆ§ËØÅÁöÑÂêÑ‰∏™ÁªÑ‰ª∂ÁªÑÂêàËµ∑Êù•‰∫ÜÔºåÊúÄÂêé‰∏ÄÊ≠•ÈúÄË¶ÅÂÅöÁöÑÊòØÈÖçÁΩÆÁü≠‰ø°È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô®ÔºåÂπ∂‰∏îÂ∞ÜÁü≠‰ø°È™åËØÅÁ†ÅËÆ§ËØÅÊµÅÁ®ãÂä†ÂÖ•Âà∞Spring Security‰∏≠„ÄÇÂú®BrowserSecurityConfigÁöÑconfigureÊñπÊ≥ï‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546@Configurationpublic class BrowserSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Autowired private MyAuthenticationSucessHandler authenticationSucessHandler; @Autowired private MyAuthenticationFailureHandler authenticationFailureHandler; @Autowired private ValidateCodeFilter validateCodeFilter; @Autowired private SmsCodeFilter smsCodeFilter; @Autowired private SmsAuthenticationConfig smsAuthenticationConfig; @Bean public PasswordEncoder passwordEncoder() &#123; return new BCryptPasswordEncoder(); &#125; @Override protected void configure(HttpSecurity http) throws Exception &#123; http.addFilterBefore(validateCodeFilter, UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .addFilterBefore(smsCodeFilter, UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†Áü≠‰ø°È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html", "/code/image","/code/sms").permitAll() // Êó†ÈúÄËÆ§ËØÅÁöÑËØ∑Ê±ÇË∑ØÂæÑ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and() .csrf().disable() .apply(smsAuthenticationConfig); // Â∞ÜÁü≠‰ø°È™åËØÅÁ†ÅËÆ§ËØÅÈÖçÁΩÆÂä†Âà∞ Spring Security ‰∏≠ &#125;&#125;ÂÖ∑‰ΩìÂê´‰πâËßÅÊ≥®ÈáäÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇÊµãËØïÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/login.htmlÔºåÁÇπÂáªÂèëÈÄÅÈ™åËØÅÁ†ÅÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö1ÊÇ®ÁöÑÁôªÂΩïÈ™åËØÅÁ†Å‰∏∫Ôºö169638ÔºåÊúâÊïàÊó∂Èó¥‰∏∫60ÁßíËæìÂÖ•ËØ•È™åËØÅÁ†ÅÔºåÁÇπÂáªÁôªÂΩïÂêéÈ°µÈù¢Â¶Ç‰∏ãÊâÄÁ§∫ÔºöËÆ§ËØÅÊàêÂäü„ÄÇÊ∫êÁ†ÅÈìæÊé• https://github.com/wuyouzhuguli/SpringAll/tree/master/38.Spring-Security-SmsCode]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring SecurityÊ∑ªÂä†ËÆ∞‰ΩèÊàëÂäüËÉΩ]]></title>
    <url>%2FSpring-Security-RememberMe.html</url>
    <content type="text"><![CDATA[Âú®ÁΩëÁ´ôÁöÑÁôªÂΩïÈ°µÈù¢‰∏≠ÔºåËÆ∞‰ΩèÊàëÈÄâÈ°πÊòØ‰∏Ä‰∏™ÂæàÂ∏∏ËßÅÁöÑÂäüËÉΩÔºåÂãæÈÄâËÆ∞‰ΩèÊàëÂêéÂú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÔºåÁî®Êà∑Êó†ÈúÄËøõË°åÁôªÂΩïÊìç‰ΩúÂ∞±ÂèØ‰ª•ËÆøÈóÆÁ≥ªÁªüËµÑÊ∫ê„ÄÇÂú®Spring Security‰∏≠Ê∑ªÂä†ËÆ∞‰ΩèÊàëÂäüËÉΩÂæàÁÆÄÂçïÔºåÂ§ßËá¥ËøáÁ®ãÊòØÔºöÂΩìÁî®Êà∑ÂãæÈÄâ‰∫ÜËÆ∞‰ΩèÊàëÈÄâÈ°πÂπ∂ÁôªÂΩïÊàêÂäüÂêéÔºåSpring Security‰ºöÁîüÊàê‰∏Ä‰∏™tokenÊ†áËØÜÔºåÁÑ∂ÂêéÂ∞ÜËØ•tokenÊ†áËØÜÊåÅ‰πÖÂåñÂà∞Êï∞ÊçÆÂ∫ìÔºåÂπ∂‰∏îÁîüÊàê‰∏Ä‰∏™‰∏éËØ•tokenÁõ∏ÂØπÂ∫îÁöÑcookieËøîÂõûÁªôÊµèËßàÂô®„ÄÇÂΩìÁî®Êà∑ËøáÊÆµÊó∂Èó¥ÂÜçÊ¨°ËÆøÈóÆÁ≥ªÁªüÊó∂ÔºåÂ¶ÇÊûúËØ•cookieÊ≤°ÊúâËøáÊúüÔºåSpring Security‰æø‰ºöÊ†πÊçÆcookieÂåÖÂê´ÁöÑ‰ø°ÊÅØ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Ëé∑ÂèñÁõ∏Â∫îÁöÑtoken‰ø°ÊÅØÔºåÁÑ∂ÂêéÂ∏ÆÁî®Êà∑Ëá™Âä®ÂÆåÊàêÁôªÂΩïÊìç‰Ωú„ÄÇtokenÊåÅ‰πÖÂåñSpring SecurityÁöÑËÆ∞‰ΩèÊàëÂäüËÉΩÁöÑÂÆûÁé∞ÈúÄË¶Å‰ΩøÁî®Êï∞ÊçÆÂ∫ìÊù•ÊåÅ‰πÖÂåñtoken„ÄÇÊàë‰ª¨Âú®‰∏ä‰∏ÄËäÇSpring SecurityÊ∑ªÂä†ÂõæÂΩ¢È™åËØÅÁ†ÅÁöÑÂü∫Á°Ä‰∏äÊù•Ê∑ªÂä†ËÆ∞‰ΩèÊàëÁöÑÂäüËÉΩ„ÄÇÂú®application.yml‰∏≠Ê∑ªÂä†Êï∞ÊçÆÊ∫êÈÖçÁΩÆÔºö123456spring: datasource: driver-class-name: com.mysql.jdbc.Driver url: jdbc:mysql://127.0.0.1:3306/security?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false username: root password: 123456Ê∑ªÂä†Êï∞ÊçÆÂ∫ì‰æùËµñÔºö12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÊàë‰ª¨Âú®BrowserSecurityConfig‰∏≠ÈÖçÁΩÆ‰∏™tokenÊåÅ‰πÖÂåñÂØπË±°Ôºö12345678910111213141516@Configurationpublic class BrowserSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Autowired private UserDetailService userDetailService; @Autowired private DataSource dataSource; @Bean public PersistentTokenRepository persistentTokenRepository() &#123; JdbcTokenRepositoryImpl jdbcTokenRepository = new JdbcTokenRepositoryImpl(); jdbcTokenRepository.setDataSource(dataSource); jdbcTokenRepository.setCreateTableOnStartup(false); return jdbcTokenRepository; &#125; ...&#125;PersistentTokenRepository‰∏∫‰∏Ä‰∏™Êé•Âè£Á±ªÔºåËøôÈáåÊàë‰ª¨Áî®ÁöÑÊòØÊï∞ÊçÆÂ∫ìÊåÅ‰πÖÂåñÔºåÊâÄ‰ª•ÂÆû‰æãÁî®ÁöÑÊòØPersistentTokenRepositoryÁöÑÂÆûÁé∞Á±ªJdbcTokenRepositoryImpl„ÄÇJdbcTokenRepositoryImplÈúÄË¶ÅÊåáÂÆöÊï∞ÊçÆÊ∫êÔºåÊâÄ‰ª•Êàë‰ª¨Â∞ÜÈÖçÁΩÆÂ•ΩÁöÑÊï∞ÊçÆÊ∫êÂØπË±°DataSourceÊ≥®ÂÖ•ËøõÊù•Âπ∂ÈÖçÁΩÆÂà∞JdbcTokenRepositoryImplÁöÑdataSourceÂ±ûÊÄß‰∏≠„ÄÇcreateTableOnStartupÂ±ûÊÄßÁî®‰∫éÊòØÂê¶ÂêØÂä®È°πÁõÆÊó∂ÂàõÂª∫‰øùÂ≠òtoken‰ø°ÊÅØÁöÑÊï∞ÊçÆË°®ÔºåËøôÈáåËÆæÁΩÆ‰∏∫falseÔºåÊàë‰ª¨Ëá™Â∑±ÊâãÂä®ÂàõÂª∫„ÄÇÊü•ÁúãJdbcTokenRepositoryImplÁöÑÊ∫êÁ†ÅÔºåÂèØ‰ª•ÁúãÂà∞ÂÖ∂ÂåÖÂê´‰∫Ü‰∏Ä‰∏™CREATE_TABLE_SQLÂ±ûÊÄßÔºöËøô‰∏™ÂÖ∂ÂÆûÂ∞±ÊòØÁî®‰∫é‰øùÂ≠òtokenÂØπË±°Êï∞ÊçÆË°®ÁöÑSQLËØ≠Âè•ÔºåÊàë‰ª¨Â§çÂà∂Âá∫Êù•ÊâãÂä®ÊâßË°åÂàõÂª∫Ë°®Ôºö123456CREATE TABLE persistent_logins ( username VARCHAR (64) NOT NULL, series VARCHAR (64) PRIMARY KEY, token VARCHAR (64) NOT NULL, last_used TIMESTAMP NOT NULL)‰øÆÊîπÁôªÂΩïÈ°µÂÆåÊàê‰∏äËø∞ÈÖçÁΩÆÂêéÔºåÊàë‰ª¨Á®çÂæÆÊîπÈÄ†‰∏ãÁôªÂΩïÈ°µÔºåÂä†ÂÖ•ËÆ∞‰ΩèÊàëÁöÑÂãæÈÄâÈÄâÈ°πÔºö1&lt;input type="checkbox" name="remember-me"/&gt; ËÆ∞‰ΩèÊàëÂÖ∂‰∏≠nameÂ±ûÊÄßÂøÖÈ°ª‰∏∫remember-me„ÄÇÈÖçÁΩÆÁîüÊïàÊúÄÂêéÊàë‰ª¨ÈúÄË¶ÅÂú®Spring SecurityÁöÑËÆ§ËØÅÊµÅÁ®ã‰∏≠ÂêØÁî®ËÆ∞‰ΩèÊàëÁöÑÂäüËÉΩÔºåÂú®BrowserSecurityConfigÁöÑconfigureÊñπÊ≥ï‰∏≠ÂºÄÂêØËÆ∞‰ΩèÊàëÂäüËÉΩÔºö123456789101112131415161718192021222324@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.addFilterBefore(validateCodeFilter, UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .rememberMe() .tokenRepository(persistentTokenRepository()) // ÈÖçÁΩÆ token ÊåÅ‰πÖÂåñ‰ªìÂ∫ì .tokenValiditySeconds(3600) // remember ËøáÊúüÊó∂Èó¥ÔºåÂçï‰∏∫Áßí .userDetailsService(userDetailService) // Â§ÑÁêÜËá™Âä®ÁôªÂΩïÈÄªËæë .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html", "/image/code").permitAll() // Êó†ÈúÄËÆ§ËØÅÁöÑËØ∑Ê±ÇË∑ØÂæÑ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and() .csrf().disable();&#125;rememberMe()Áî®‰∫éÂºÄÂêØËÆ∞‰ΩèÊàëÂäüËÉΩÔºõtokenRepository(persistentTokenRepository())Áî®‰∫éÊåáÂÆötokenÊåÅ‰πÖÂåñÊñπÊ≥ïÔºõtokenValiditySecondsÈÖçÁΩÆ‰∫ÜtokenÁöÑÊúâÊïàÊó∂ÈïøÔºåÂçï‰∏∫‰∏∫ÁßíÔºõuserDetailsService(userDetailService)Áî®‰∫éÂ§ÑÁêÜÈÄöËøátokenÂØπË±°Ëá™Âä®ÁôªÂΩïÔºåËøôÈáå‰∏∫Êàë‰ª¨Ëá™ÂÆö‰πâÁöÑUserDetailsServiceÊé•Âè£ÂÆûÁé∞„ÄÇÈÖçÁΩÆÂ•ΩÂêéÔºåÈáçÂêØÈ°πÁõÆÔºåÁôªÂΩïÈ°µÈù¢Â¶Ç‰∏ãÊâÄÁ§∫ÔºöÊØîËæÉÈöæÁúãÔºåÊó†‰º§Â§ßÈõÖ„ÄÇÂãæÈÄâÂπ∂ÊàêÂäüÁôªÂΩïÂêéÔºåÂèØ‰ª•ÁúãÂà∞ÁΩëÈ°µÂ§ö‰∫Ü‰∏™remember-meÁöÑcookieÂØπË±°ÔºöÊü•ÁúãÊï∞ÊçÆÂ∫ìË°®persistent_loginsÔºöÂèØ‰ª•ÁúãÂà∞token‰ø°ÊÅØÂ∑≤ÁªèÊàêÂäüÊåÅ‰πÖÂåñ‰∫ÜÔºåÂπ∂‰∏îÊµèËßàÂô®‰πüÊàêÂäüÁîüÊàê‰∫ÜÁõ∏Â∫îÁöÑcookie„ÄÇÂú®cookieÊú™Â§±Êïà‰πãÂâçÔºåÊó†ËÆ∫ÊòØÈáçÂºÄÊµèËßàÂô®ÊàñËÄÖÈáçÂêØÈ°πÁõÆÔºåÁî®Êà∑ÈÉΩÊó†ÈúÄÂÜçÊ¨°ÁôªÂΩïÂ∞±ÂèØ‰ª•ËÆøÈóÆÁ≥ªÁªüËµÑÊ∫ê‰∫Ü„ÄÇÊ∫êÁ†ÅÈìæÊé• https://github.com/wuyouzhuguli/SpringAll/tree/master/37.Spring-Security-RememberMe]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring SecurityÊ∑ªÂä†ÂõæÂΩ¢È™åËØÅÁ†Å]]></title>
    <url>%2FSpring-Security-ValidateCode.html</url>
    <content type="text"><![CDATA[Ê∑ªÂä†È™åËØÅÁ†ÅÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™Ê≠•È™§ÔºöÊ†πÊçÆÈöèÊú∫Êï∞ÁîüÊàêÈ™åËØÅÁ†ÅÂõæÁâáÔºõÂ∞ÜÈ™åËØÅÁ†ÅÂõæÁâáÊòæÁ§∫Âà∞ÁôªÂΩïÈ°µÈù¢ÔºõËÆ§ËØÅÊµÅÁ®ã‰∏≠Âä†ÂÖ•È™åËØÅÁ†ÅÊ†°È™å„ÄÇSpring SecurityÁöÑËÆ§ËØÅÊ†°È™åÊòØÁî±UsernamePasswordAuthenticationFilterËøáÊª§Âô®ÂÆåÊàêÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ÁöÑÈ™åËØÅÁ†ÅÊ†°È™åÈÄªËæëÂ∫îËØ•Âú®Ëøô‰∏™ËøáÊª§Âô®‰πãÂâç„ÄÇ‰∏ãÈù¢‰∏ÄËµ∑Â≠¶‰π†‰∏ãÂ¶Ç‰ΩïÂú®‰∏ä‰∏ÄËäÇSpring SecurityËá™ÂÆö‰πâÁî®Êà∑ËÆ§ËØÅÁöÑÂü∫Á°Ä‰∏äÂä†ÂÖ•È™åËØÅÁ†ÅÊ†°È™åÂäüËÉΩ„ÄÇÁîüÊàêÂõæÂΩ¢È™åËØÅÁ†ÅÈ™åËØÅÁ†ÅÂäüËÉΩÈúÄË¶ÅÁî®Âà∞spring-social-config‰æùËµñÔºö1234 &lt;dependency&gt; &lt;groupId&gt;org.springframework.social&lt;/groupId&gt; &lt;artifactId&gt;spring-social-config&lt;/artifactId&gt;&lt;/dependency&gt;È¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™È™åËØÅÁ†ÅÂØπË±°ImageCodeÔºö12345678910111213141516171819202122232425public class ImageCode &#123; private BufferedImage image; private String code; private LocalDateTime expireTime; public ImageCode(BufferedImage image, String code, int expireIn) &#123; this.image = image; this.code = code; this.expireTime = LocalDateTime.now().plusSeconds(expireIn); &#125; public ImageCode(BufferedImage image, String code, LocalDateTime expireTime) &#123; this.image = image; this.code = code; this.expireTime = expireTime; &#125; boolean isExpire() &#123; return LocalDateTime.now().isAfter(expireTime); &#125; // get,set Áï•&#125;ImageCodeÂØπË±°ÂåÖÂê´‰∫Ü‰∏â‰∏™Â±ûÊÄßÔºöimageÂõæÁâáÔºåcodeÈ™åËØÅÁ†ÅÂíåexpireTimeËøáÊúüÊó∂Èó¥„ÄÇisExpireÊñπÊ≥ïÁî®‰∫éÂà§Êñ≠È™åËØÅÁ†ÅÊòØÂê¶Â∑≤ËøáÊúü„ÄÇÊé•ÁùÄÂÆö‰πâ‰∏Ä‰∏™ValidateCodeControllerÔºåÁî®‰∫éÂ§ÑÁêÜÁîüÊàêÈ™åËØÅÁ†ÅËØ∑Ê±ÇÔºö1234567891011121314@RestControllerpublic class ValidateController &#123; public final static String SESSION_KEY_IMAGE_CODE = "SESSION_KEY_IMAGE_CODE"; private SessionStrategy sessionStrategy = new HttpSessionSessionStrategy(); @GetMapping("/code/image") public void createCode(HttpServletRequest request, HttpServletResponse response) throws IOException &#123; ImageCode imageCode = createImageCode(); sessionStrategy.setAttribute(new ServletWebRequest(request), SESSION_KEY, imageCode); ImageIO.write(imageCode.getImage(), "jpeg", response.getOutputStream()); &#125;&#125;createImageCodeÊñπÊ≥ïÁî®‰∫éÁîüÊàêÈ™åËØÅÁ†ÅÂØπË±°Ôºåorg.springframework.social.connect.web.HttpSessionSessionStrategyÂØπË±°Â∞ÅË£Ö‰∫Ü‰∏Ä‰∫õÂ§ÑÁêÜSessionÁöÑÊñπÊ≥ïÔºåÂåÖÂê´‰∫ÜsetAttribute„ÄÅgetAttributeÂíåremoveAttributeÊñπÊ≥ïÔºåÂÖ∑‰ΩìÂèØ‰ª•Êü•ÁúãËØ•Á±ªÁöÑÊ∫êÁ†Å„ÄÇ‰ΩøÁî®sessionStrategyÂ∞ÜÁîüÊàêÁöÑÈ™åËØÅÁ†ÅÂØπË±°Â≠òÂÇ®Âà∞Session‰∏≠ÔºåÂπ∂ÈÄöËøáIOÊµÅÂ∞ÜÁîüÊàêÁöÑÂõæÁâáËæìÂá∫Âà∞ÁôªÂΩïÈ°µÈù¢‰∏ä„ÄÇÂÖ∂‰∏≠createImageCodeÊñπÊ≥ï‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748private ImageCode createImageCode() &#123; int width = 100; // È™åËØÅÁ†ÅÂõæÁâáÂÆΩÂ∫¶ int height = 36; // È™åËØÅÁ†ÅÂõæÁâáÈïøÂ∫¶ int length = 4; // È™åËØÅÁ†Å‰ΩçÊï∞ int expireIn = 60; // È™åËØÅÁ†ÅÊúâÊïàÊó∂Èó¥ 60s BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB); Graphics g = image.getGraphics(); Random random = new Random(); g.setColor(getRandColor(200, 250)); g.fillRect(0, 0, width, height); g.setFont(new Font("Times New Roman", Font.ITALIC, 20)); g.setColor(getRandColor(160, 200)); for (int i = 0; i &lt; 155; i++) &#123; int x = random.nextInt(width); int y = random.nextInt(height); int xl = random.nextInt(12); int yl = random.nextInt(12); g.drawLine(x, y, x + xl, y + yl); &#125; StringBuilder sRand = new StringBuilder(); for (int i = 0; i &lt; length; i++) &#123; String rand = String.valueOf(random.nextInt(10)); sRand.append(rand); g.setColor(new Color(20 + random.nextInt(110), 20 + random.nextInt(110), 20 + random.nextInt(110))); g.drawString(rand, 13 * i + 6, 16); &#125; g.dispose(); return new ImageCode(image, sRand.toString(), expireIn);&#125;private Color getRandColor(int fc, int bc) &#123; Random random = new Random(); if (fc &gt; 255) &#123; fc = 255; &#125; if (bc &gt; 255) &#123; bc = 255; &#125; int r = fc + random.nextInt(bc - fc); int g = fc + random.nextInt(bc - fc); int b = fc + random.nextInt(bc - fc); return new Color(r, g, b);&#125;ÁîüÊàêÈ™åËØÅÁ†ÅÁöÑÊñπÊ≥ïÂÜôÂ•ΩÂêéÔºåÊé•‰∏ãÊù•ÂºÄÂßãÊîπÈÄ†ÁôªÂΩïÈ°µÈù¢„ÄÇÊîπÈÄ†ÁôªÂΩïÈ°µÂú®ÁôªÂΩïÈ°µÈù¢Âä†‰∏äÂ¶Ç‰∏ã‰ª£Á†ÅÔºö1234&lt;span style="display: inline"&gt; &lt;input type="text" name="imageCode" placeholder="È™åËØÅÁ†Å" style="width: 50%;"/&gt; &lt;img src="/code/image"/&gt;&lt;/span&gt;&lt;img&gt;Ê†áÁ≠æÁöÑsrcÂ±ûÊÄßÂØπÂ∫îValidateControllerÁöÑcreateImageCodeÊñπÊ≥ï„ÄÇË¶Å‰ΩøÁîüÊàêÈ™åËØÅÁ†ÅÁöÑËØ∑Ê±Ç‰∏çË¢´Êã¶Êà™ÔºåÈúÄË¶ÅÂú®BrowserSecurityConfigÁöÑconfigureÊñπÊ≥ï‰∏≠ÈÖçÁΩÆÂÖçÊã¶Êà™Ôºö1234567891011121314151617@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html", "/code/image").permitAll() // Êó†ÈúÄËÆ§ËØÅÁöÑËØ∑Ê±ÇË∑ØÂæÑ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and().csrf().disable();&#125;ÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/login.htmlÔºåÊïàÊûúÂ¶Ç‰∏ãÔºöËÆ§ËØÅÊµÅÁ®ãÊ∑ªÂä†È™åËØÅÁ†ÅÊ†°È™åÂú®Ê†°È™åÈ™åËØÅÁ†ÅÁöÑËøáÁ®ã‰∏≠ÔºåÂèØËÉΩ‰ºöÊäõÂá∫ÂêÑÁßçÈ™åËØÅÁ†ÅÁ±ªÂûãÁöÑÂºÇÂ∏∏ÔºåÊØîÂ¶Ç‚ÄúÈ™åËØÅÁ†ÅÈîôËØØ‚Äù„ÄÅ‚ÄúÈ™åËØÅÁ†ÅÂ∑≤ËøáÊúü‚ÄùÁ≠âÔºåÊâÄ‰ª•Êàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™È™åËØÅÁ†ÅÁ±ªÂûãÁöÑÂºÇÂ∏∏Á±ªÔºö1234567public class ValidateCodeException extends AuthenticationException &#123; private static final long serialVersionUID = 5022575393500654458L; ValidateCodeException(String message) &#123; super(message); &#125;&#125;Ê≥®ÊÑèÔºåËøôÈáåÁªßÊâøÁöÑÊòØAuthenticationExceptionËÄå‰∏çÊòØException„ÄÇÊàë‰ª¨ÈÉΩÁü•ÈÅìÔºåSpring SecurityÂÆûÈôÖ‰∏äÊòØÁî±ËÆ∏Â§öËøáÊª§Âô®ÁªÑÊàêÁöÑËøáÊª§Âô®ÈìæÔºåÂ§ÑÁêÜÁî®Êà∑ÁôªÂΩïÈÄªËæëÁöÑËøáÊª§Âô®‰∏∫UsernamePasswordAuthenticationFilterÔºåËÄåÈ™åËØÅÁ†ÅÊ†°È™åËøáÁ®ãÂ∫îËØ•ÊòØÂú®Ëøô‰∏™ËøáÊª§Âô®‰πãÂâçÁöÑÔºåÂç≥Âè™ÊúâÈ™åËØÅÁ†ÅÊ†°È™åÈÄöËøáÂêéÈááÂéªÊ†°È™åÁî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇÁî±‰∫éSpring SecurityÂπ∂Ê≤°ÊúâÁõ¥Êé•Êèê‰æõÈ™åËØÅÁ†ÅÊ†°È™åÁõ∏ÂÖ≥ÁöÑËøáÊª§Âô®Êé•Âè£ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅËá™Â∑±ÂÆö‰πâ‰∏Ä‰∏™È™åËØÅÁ†ÅÊ†°È™åÁöÑËøáÊª§Âô®ValidateCodeFilterÔºö12345678910111213141516171819202122232425262728@Componentpublic class ValidateCodeFilter extends OncePerRequestFilter &#123; @Autowired private AuthenticationFailureHandler authenticationFailureHandler; private SessionStrategy sessionStrategy = new HttpSessionSessionStrategy(); @Override protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException &#123; if (StringUtils.equalsIgnoreCase("/login", httpServletRequest.getRequestURI()) &amp;&amp; StringUtils.equalsIgnoreCase(httpServletRequest.getMethod(), "post")) &#123; try &#123; validateCode(new ServletWebRequest(httpServletRequest)); &#125; catch (ValidateCodeException e) &#123; authenticationFailureHandler.onAuthenticationFailure(httpServletRequest, httpServletResponse, e); return; &#125; &#125; filterChain.doFilter(httpServletRequest, httpServletResponse); &#125; private void validateCode(ServletWebRequest servletWebRequest) throws ServletRequestBindingException &#123; ... &#125; &#125;ValidateCodeFilterÁªßÊâø‰∫Üorg.springframework.web.filter.OncePerRequestFilterÔºåËØ•ËøáÊª§Âô®Âè™‰ºöÊâßË°å‰∏ÄÊ¨°„ÄÇÂú®doFilterInternalÊñπÊ≥ï‰∏≠Êàë‰ª¨Âà§Êñ≠‰∫ÜËØ∑Ê±ÇURLÊòØÂê¶‰∏∫/loginÔºåËØ•Ë∑ØÂæÑÂØπÂ∫îÁôªÂΩïformË°®ÂçïÁöÑactionË∑ØÂæÑÔºåËØ∑Ê±ÇÁöÑÊñπÊ≥ïÊòØÂê¶‰∏∫POSTÔºåÊòØÁöÑËØùËøõË°åÈ™åËØÅÁ†ÅÊ†°È™åÈÄªËæëÔºåÂê¶ÂàôÁõ¥Êé•ÊâßË°åfilterChain.doFilterËÆ©‰ª£Á†ÅÂæÄ‰∏ãËµ∞„ÄÇÂΩìÂú®È™åËØÅÁ†ÅÊ†°È™åÁöÑËøáÁ®ã‰∏≠ÊçïËé∑Âà∞ÂºÇÂ∏∏Êó∂ÔºåË∞ÉÁî®Spring SecurityÁöÑÊ†°È™åÂ§±Ë¥•Â§ÑÁêÜÂô®AuthenticationFailureHandlerËøõË°åÂ§ÑÁêÜ„ÄÇvalidateCodeÁöÑÊ†°È™åÈÄªËæëÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617181920private void validateCode(ServletWebRequest servletWebRequest) throws ServletRequestBindingException &#123; ImageCode codeInSession = (ImageCode) sessionStrategy.getAttribute(servletWebRequest, ValidateController.SESSION_KEY); String codeInRequest = ServletRequestUtils.getStringParameter(servletWebRequest.getRequest(), "imageCode"); if (StringUtils.isBlank(codeInRequest)) &#123; throw new ValidateCodeException("È™åËØÅÁ†Å‰∏çËÉΩ‰∏∫Á©∫ÔºÅ"); &#125; if (codeInSession == null) &#123; throw new ValidateCodeException("È™åËØÅÁ†Å‰∏çÂ≠òÂú®ÔºÅ"); &#125; if (codeInSession.isExpire()) &#123; sessionStrategy.removeAttribute(servletWebRequest, ValidateController.SESSION_KEY); throw new ValidateCodeException("È™åËØÅÁ†ÅÂ∑≤ËøáÊúüÔºÅ"); &#125; if (!StringUtils.equalsIgnoreCase(codeInSession.getCode(), codeInRequest)) &#123; throw new ValidateCodeException("È™åËØÅÁ†Å‰∏çÊ≠£Á°ÆÔºÅ"); &#125; sessionStrategy.removeAttribute(servletWebRequest, ValidateController.SESSION_KEY);&#125;Êàë‰ª¨ÂàÜÂà´‰ªéSession‰∏≠Ëé∑Âèñ‰∫ÜImageCodeÂØπË±°ÂíåËØ∑Ê±ÇÂèÇÊï∞imageCodeÔºàÂØπÂ∫îÁôªÂΩïÈ°µÈù¢ÁöÑÈ™åËØÅÁ†Å&lt;input&gt;Ê°ÜnameÂ±ûÊÄßÔºâ,ÁÑ∂ÂêéËøõË°å‰∫ÜÂêÑÁßçÂà§Êñ≠Âπ∂ÊäõÂá∫Áõ∏Â∫îÁöÑÂºÇÂ∏∏„ÄÇÂΩìÈ™åËØÅÁ†ÅËøáÊúüÊàñËÄÖÈ™åËØÅÁ†ÅÊ†°È™åÈÄöËøáÊó∂ÔºåÊàë‰ª¨‰æøÂèØ‰ª•Âà†Èô§Session‰∏≠ÁöÑImageCodeÂ±ûÊÄß‰∫Ü„ÄÇÈ™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô®ÂÆö‰πâÂ•Ω‰∫ÜÔºåÊÄé‰πàÊâçËÉΩÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞UsernamePasswordAuthenticationFilterÂâçÈù¢Âë¢ÔºüÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®BrowserSecurityConfigÁöÑconfigureÊñπÊ≥ï‰∏≠Ê∑ªÂä†‰∫õËÆ∏ÈÖçÁΩÆÂç≥ÂèØÔºö123456789101112131415161718192021@Autowiredprivate ValidateCodeFilter validateCodeFilter;@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.addFilterBefore(validateCodeFilter, UsernamePasswordAuthenticationFilter.class) // Ê∑ªÂä†È™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô® .formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html", "/code/image").permitAll() // Êó†ÈúÄËÆ§ËØÅÁöÑËØ∑Ê±ÇË∑ØÂæÑ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and().csrf().disable();&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨Ê≥®ÂÖ•‰∫ÜValidateCodeFilterÔºåÁÑ∂ÂêéÈÄöËøáaddFilterBeforeÊñπÊ≥ïÂ∞ÜValidateCodeFilterÈ™åËØÅÁ†ÅÊ†°È™åËøáÊª§Âô®Ê∑ªÂä†Âà∞‰∫ÜUsernamePasswordAuthenticationFilterÂâçÈù¢„ÄÇÂ§ßÂäüÂëäÊàêÔºåÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/login.htmlÔºåÂΩì‰∏çËæìÂÖ•È™åËØÅÁ†ÅÊó∂ÁÇπÂáªÁôªÂΩïÔºåÈ°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöÂΩìËæìÂÖ•ÈîôËØØÁöÑÈ™åËØÅÁ†ÅÊó∂ÁÇπÂáªÁôªÂΩïÔºåÈ°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöÂΩìÈ°µÈù¢Âä†ËΩΩ60ÁßíÂêéÂÜçËæìÂÖ•È™åËØÅÁ†ÅÁÇπÂáªÁôªÂΩïÔºåÈ°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöÂΩìÈ™åËØÅÁ†ÅÈÄöËøáÔºåÂπ∂‰∏îÁî®Êà∑ÂêçÂØÜÁ†ÅÊ≠£Á°ÆÊó∂ÔºåÈ°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöÊ∫êÁ†ÅÈìæÊé• https://github.com/wuyouzhuguli/SpringAll/tree/master/36.Spring-Security-ValidateCode]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring SecurityËá™ÂÆö‰πâÁî®Êà∑ËÆ§ËØÅ]]></title>
    <url>%2FSpring-Security-Authentication.html</url>
    <content type="text"><![CDATA[Âú®Spring Boot‰∏≠ÂºÄÂêØSpring Security‰∏ÄËäÇ‰∏≠Êàë‰ª¨ÁÆÄÂçïÊê≠Âª∫‰∫Ü‰∏™Spring Boot + Spring SecurityÁöÑÈ°πÁõÆÔºåËÆ§ËØÅÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÈÉΩÊòØÁî±Spring SecurityÁîüÊàê„ÄÇSpring SecurityÊîØÊåÅÊàë‰ª¨Ëá™ÂÆö‰πâËÆ§ËØÅÁöÑËøáÁ®ãÔºåÂ¶ÇÂ§ÑÁêÜÁî®Êà∑‰ø°ÊÅØËé∑ÂèñÈÄªËæëÔºå‰ΩøÁî®Êàë‰ª¨Ëá™ÂÆö‰πâÁöÑÁôªÂΩïÈ°µÈù¢ÊõøÊç¢Spring SecurityÈªòËÆ§ÁöÑÁôªÂΩïÈ°µÂèäËá™ÂÆö‰πâÁôªÂΩïÊàêÂäüÊàñÂ§±Ë¥•ÂêéÁöÑÂ§ÑÁêÜÈÄªËæëÁ≠â„ÄÇËøôÈáåÂ∞ÜÂú®‰∏ä‰∏ÄËäÇÁöÑÊ∫êÁ†ÅÂü∫Á°Ä‰∏äËøõË°åÊîπÈÄ†„ÄÇËá™ÂÆö‰πâËÆ§ËØÅËøáÁ®ãËá™ÂÆö‰πâËÆ§ËØÅÁöÑËøáÁ®ãÈúÄË¶ÅÂÆûÁé∞Spring SecurityÊèê‰æõÁöÑUserDetailServiceÊé•Âè£ÔºåËØ•Êé•Âè£Âè™Êúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïloadUserByUsernameÔºåÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö123public interface UserDetailsService &#123; UserDetails loadUserByUsername(String username) throws UsernameNotFoundException;&#125;loadUserByUsernameÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™UserDetailÂØπË±°ÔºåËØ•ÂØπË±°‰πüÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂåÖÂê´‰∏Ä‰∫õÁî®‰∫éÊèèËø∞Áî®Êà∑‰ø°ÊÅØÁöÑÊñπÊ≥ïÔºåÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516public interface UserDetails extends Serializable &#123; Collection&lt;? extends GrantedAuthority&gt; getAuthorities(); String getPassword(); String getUsername(); boolean isAccountNonExpired(); boolean isAccountNonLocked(); boolean isCredentialsNonExpired(); boolean isEnabled();&#125;Ëøô‰∫õÊñπÊ≥ïÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºögetAuthoritiesËé∑ÂèñÁî®Êà∑ÂåÖÂê´ÁöÑÊùÉÈôêÔºåËøîÂõûÊùÉÈôêÈõÜÂêàÔºåÊùÉÈôêÊòØ‰∏Ä‰∏™ÁªßÊâø‰∫ÜGrantedAuthorityÁöÑÂØπË±°ÔºõgetPasswordÂíågetUsernameÁî®‰∫éËé∑ÂèñÂØÜÁ†ÅÂíåÁî®Êà∑ÂêçÔºõisAccountNonExpiredÊñπÊ≥ïËøîÂõûbooleanÁ±ªÂûãÔºåÁî®‰∫éÂà§Êñ≠Ë¥¶Êà∑ÊòØÂê¶Êú™ËøáÊúüÔºåÊú™ËøáÊúüËøîÂõûtrueÂèç‰πãËøîÂõûfalseÔºõisAccountNonLockedÊñπÊ≥ïÁî®‰∫éÂà§Êñ≠Ë¥¶Êà∑ÊòØÂê¶Êú™ÈîÅÂÆöÔºõisCredentialsNonExpiredÁî®‰∫éÂà§Êñ≠Áî®Êà∑Âá≠ËØÅÊòØÂê¶Ê≤°ËøáÊúüÔºåÂç≥ÂØÜÁ†ÅÊòØÂê¶Êú™ËøáÊúüÔºõisEnabledÊñπÊ≥ïÁî®‰∫éÂà§Êñ≠Áî®Êà∑ÊòØÂê¶ÂèØÁî®„ÄÇÂÆûÈôÖ‰∏≠Êàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâUserDetailsÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÔºå‰πüÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Spring SecurityÊèê‰æõÁöÑUserDetailsÊé•Âè£ÂÆûÁé∞Á±ªorg.springframework.security.core.userdetails.User„ÄÇËØ¥‰∫ÜÈÇ£‰πàÂ§öÔºå‰∏ãÈù¢Êàë‰ª¨Êù•ÂºÄÂßãÂÆûÁé∞UserDetailServiceÊé•Âè£ÁöÑloadUserByUsernameÊñπÊ≥ï„ÄÇÈ¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™MyUserÂØπË±°ÔºåÁî®‰∫éÂ≠òÊîæÊ®°ÊãüÁöÑÁî®Êà∑Êï∞ÊçÆÔºàÂÆûÈôÖ‰∏≠‰∏ÄËà¨‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÔºåËøôÈáå‰∏∫‰∫ÜÊñπ‰æøÁõ¥Êé•Ê®°ÊãüÔºâÔºö1234567891011121314151617public class MyUser implements Serializable &#123; private static final long serialVersionUID = 3497935890426858541L; private String userName; private String password; private boolean accountNonExpired = true; private boolean accountNonLocked= true; private boolean credentialsNonExpired= true; private boolean enabled= true; // get,setÁï•&#125;Êé•ÁùÄÂàõÂª∫MyUserDetailServiceÂÆûÁé∞UserDetailServiceÔºö1234567891011121314151617181920@Configurationpublic class UserDetailService implements UserDetailsService &#123; @Autowired private PasswordEncoder passwordEncoder; @Override public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException &#123; // Ê®°Êãü‰∏Ä‰∏™Áî®Êà∑ÔºåÊõø‰ª£Êï∞ÊçÆÂ∫ìËé∑ÂèñÈÄªËæë MyUser user = new MyUser(); user.setUserName(username); user.setPassword(this.passwordEncoder.encode("123456")); // ËæìÂá∫Âä†ÂØÜÂêéÁöÑÂØÜÁ†Å System.out.println(user.getPassword()); return new User(username, user.getPassword(), user.isEnabled(), user.isAccountNonExpired(), user.isCredentialsNonExpired(), user.isAccountNonLocked(), AuthorityUtils.commaSeparatedStringToAuthorityList("admin")); &#125;&#125;ËøôÈáåÊàë‰ª¨‰ΩøÁî®‰∫Üorg.springframework.security.core.userdetails.UserÁ±ªÂåÖÂê´7‰∏™ÂèÇÊï∞ÁöÑÊûÑÈÄ†Âô®ÔºåÂÖ∂ËøòÂåÖÂê´‰∏Ä‰∏™‰∏â‰∏™ÂèÇÊï∞ÁöÑÊûÑÈÄ†Âô®User(String username, String password,Collection&lt;? extends GrantedAuthority&gt; authorities)ÔºåÁî±‰∫éÊùÉÈôêÂèÇÊï∞‰∏çËÉΩ‰∏∫Á©∫ÔºåÊâÄ‰ª•ËøôÈáåÂÖà‰ΩøÁî®AuthorityUtils.commaSeparatedStringToAuthorityListÊñπÊ≥ïÊ®°Êãü‰∏Ä‰∏™adminÁöÑÊùÉÈôêÔºåËØ•ÊñπÊ≥ïÂèØ‰ª•Â∞ÜÈÄóÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫ÊùÉÈôêÈõÜÂêà„ÄÇÊ≠§Â§ñÊàë‰ª¨ËøòÊ≥®ÂÖ•‰∫ÜPasswordEncoderÂØπË±°ÔºåËØ•ÂØπË±°Áî®‰∫éÂØÜÁ†ÅÂä†ÂØÜÔºåÊ≥®ÂÖ•ÂâçÈúÄË¶ÅÊâãÂä®ÈÖçÁΩÆ„ÄÇÊàë‰ª¨Âú®BrowserSecurityConfig‰∏≠ÈÖçÁΩÆÂÆÉÔºö123456789@Configurationpublic class BrowserSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Bean public PasswordEncoder passwordEncoder() &#123; return new BCryptPasswordEncoder(); &#125; ...&#125;PasswordEncoderÊòØ‰∏Ä‰∏™ÂØÜÁ†ÅÂä†ÂØÜÊé•Âè£ÔºåËÄåBCryptPasswordEncoderÊòØSpring SecurityÊèê‰æõÁöÑ‰∏Ä‰∏™ÂÆûÁé∞ÊñπÊ≥ïÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ëá™Â∑±ÂÆûÁé∞PasswordEncoder„ÄÇ‰∏çËøáSpring SecurityÂÆûÁé∞ÁöÑBCryptPasswordEncoderÂ∑≤ÁªèË∂≥Â§üÂº∫Â§ßÔºåÂÆÉÂØπÁõ∏ÂêåÁöÑÂØÜÁ†ÅËøõË°åÂä†ÂØÜÂêéÂèØ‰ª•ÁîüÊàê‰∏çÂêåÁöÑÁªìÊûú„ÄÇËøôÊó∂ÂÄôÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/loginÔºå‰æøÂèØ‰ª•‰ΩøÁî®‰ªªÊÑèÁî®Êà∑Âêç‰ª•Âèä123456‰Ωú‰∏∫ÂØÜÁ†ÅÁôªÂΩïÁ≥ªÁªü„ÄÇÊàë‰ª¨Â§öÊ¨°ËøõË°åÁôªÂΩïÊìç‰ΩúÔºåÂèØ‰ª•ÁúãÂà∞ÊéßÂà∂Âè∞ËæìÂá∫ÁöÑÂä†ÂØÜÂêéÁöÑÂØÜÁ†ÅÂ¶Ç‰∏ãÔºöÂèØ‰ª•ÁúãÂà∞ÔºåBCryptPasswordEncoderÂØπÁõ∏ÂêåÁöÑÂØÜÁ†ÅÁîüÊàêÁöÑÁªìÊûúÊØèÊ¨°ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇÊõøÊç¢ÈªòËÆ§ÁôªÂΩïÈ°µÈªòËÆ§ÁöÑÁôªÂΩïÈ°µÈù¢Ëøá‰∫éÁÆÄÈôãÔºåÊàë‰ª¨ÂèØ‰ª•Ëá™Â∑±ÂÆö‰πâ‰∏Ä‰∏™ÁôªÂΩïÈ°µÈù¢„ÄÇ‰∏∫‰∫ÜÊñπ‰æøËµ∑ËßÅÔºåÊàë‰ª¨Áõ¥Êé•Âú®src/main/resources/resourcesÁõÆÂΩï‰∏ãÂÆö‰πâ‰∏Ä‰∏™login.htmlÔºà‰∏çÈúÄË¶ÅControllerË∑≥ËΩ¨ÔºâÔºö123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;ÁôªÂΩï&lt;/title&gt; &lt;link rel="stylesheet" href="css/login.css" type="text/css"&gt;&lt;/head&gt;&lt;body&gt; &lt;form class="login-page" action="/login" method="post"&gt; &lt;div class="form"&gt; &lt;h3&gt;Ë¥¶Êà∑ÁôªÂΩï&lt;/h3&gt; &lt;input type="text" placeholder="Áî®Êà∑Âêç" name="username" required="required" /&gt; &lt;input type="password" placeholder="ÂØÜÁ†Å" name="password" required="required" /&gt; &lt;button type="submit"&gt;ÁôªÂΩï&lt;/button&gt; &lt;/div&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;Ë¶ÅÊÄé‰πàÂÅöÊâçËÉΩËÆ©Spring SecurityË∑≥ËΩ¨Âà∞Êàë‰ª¨Ëá™Â∑±ÂÆö‰πâÁöÑÁôªÂΩïÈ°µÈù¢Âë¢ÔºüÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®BrowserSecurityConfigÁöÑconfigure‰∏≠Ê∑ªÂä†‰∏Ä‰∫õÈÖçÁΩÆÔºö123456789101112@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/login.html") .loginProcessingUrl("/login") .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/login.html").permitAll() .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated(); // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠.loginPage(&quot;/login.html&quot;)ÊåáÂÆö‰∫ÜË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢ÁöÑËØ∑Ê±ÇURLÔºå.loginProcessingUrl(&quot;/login&quot;)ÂØπÂ∫îÁôªÂΩïÈ°µÈù¢formË°®ÂçïÁöÑaction=&quot;/login&quot;Ôºå.antMatchers(&quot;/login.html&quot;).permitAll()Ë°®Á§∫Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢ÁöÑËØ∑Ê±Ç‰∏çË¢´Êã¶Êà™ÔºåÂê¶Âàô‰ºöËøõÂÖ•Êó†ÈôêÂæ™ÁéØ„ÄÇËøôÊó∂ÂÄôÂêØÂä®Á≥ªÁªüÔºåËÆøÈóÆhttp://localhost:8080/helloÔºå‰ºöÁúãÂà∞È°µÈù¢Â∑≤ÁªèË¢´ÈáçÂÆöÂêëÂà∞‰∫Ühttp://localhost:8080/login.htmlÔºöËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂèëÁé∞È°µÈù¢Êä•ÈîôÔºöÊàë‰ª¨ÂÖàÊääCSRFÊîªÂáªÈò≤Âæ°ÂÖ≥‰∫ÜÔºå‰øÆÊîπBrowserSecurityConfigÁöÑconfigureÔºö12345678910111213Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/login.html") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/login.html").permitAll() // ÁôªÂΩïË∑≥ËΩ¨ URL Êó†ÈúÄËÆ§ËØÅ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and().csrf().disable();&#125;ÈáçÂêØÈ°πÁõÆ‰æøÂèØÊ≠£Â∏∏ÁôªÂΩï„ÄÇÂÅáÂ¶ÇÁé∞Âú®ÊúâËøôÊ†∑‰∏Ä‰∏™ÈúÄÊ±ÇÔºöÂú®Êú™ÁôªÂΩïÁöÑÊÉÖÂÜµ‰∏ãÔºåÂΩìÁî®Êà∑ËÆøÈóÆhtmlËµÑÊ∫êÁöÑÊó∂ÂÄôË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÔºåÂê¶ÂàôËøîÂõûJSONÊ†ºÂºèÊï∞ÊçÆÔºåÁä∂ÊÄÅÁ†Å‰∏∫401„ÄÇË¶ÅÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÊàë‰ª¨Â∞ÜloginPageÁöÑURLÊîπ‰∏∫/authentication/requireÔºåÂπ∂‰∏îÂú®antMatchersÊñπÊ≥ï‰∏≠Âä†ÂÖ•ËØ•URLÔºåËÆ©ÂÖ∂ÂÖçÊã¶Êà™:12345678910111213@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; http.formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html").permitAll() // ÁôªÂΩïË∑≥ËΩ¨ URL Êó†ÈúÄËÆ§ËØÅ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and().csrf().disable();&#125;ÁÑ∂ÂêéÂÆö‰πâ‰∏Ä‰∏™ÊéßÂà∂Âô®BrowserSecurityControllerÔºåÂ§ÑÁêÜËøô‰∏™ËØ∑Ê±ÇÔºö1234567891011121314151617@RestControllerpublic class BrowserSecurityController &#123; private RequestCache requestCache = new HttpSessionRequestCache(); private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy(); @GetMapping("/authentication/require") @ResponseStatus(HttpStatus.UNAUTHORIZED) public String requireAuthentication(HttpServletRequest request, HttpServletResponse response) throws IOException &#123; SavedRequest savedRequest = requestCache.getRequest(request, response); if (savedRequest != null) &#123; String targetUrl = savedRequest.getRedirectUrl(); if (StringUtils.endsWithIgnoreCase(targetUrl, ".html")) redirectStrategy.sendRedirect(request, response, "/login.html"); &#125; return "ËÆøÈóÆÁöÑËµÑÊ∫êÈúÄË¶ÅË∫´‰ªΩËÆ§ËØÅÔºÅ"; &#125;&#125;ÂÖ∂‰∏≠HttpSessionRequestCache‰∏∫Spring SecurityÊèê‰æõÁöÑÁî®‰∫éÁºìÂ≠òËØ∑Ê±ÇÁöÑÂØπË±°ÔºåÈÄöËøáË∞ÉÁî®ÂÆÉÁöÑgetRequestÊñπÊ≥ïÂèØ‰ª•Ëé∑ÂèñÂà∞Êú¨Ê¨°ËØ∑Ê±ÇÁöÑHTTP‰ø°ÊÅØ„ÄÇDefaultRedirectStrategyÁöÑsendRedirect‰∏∫Spring SecurityÊèê‰æõÁöÑÁî®‰∫éÂ§ÑÁêÜÈáçÂÆöÂêëÁöÑÊñπÊ≥ï„ÄÇ‰∏äÈù¢‰ª£Á†ÅËé∑Âèñ‰∫ÜÂºïÂèëË∑≥ËΩ¨ÁöÑËØ∑Ê±ÇÔºåÊ†πÊçÆËØ∑Ê±ÇÊòØÂê¶‰ª•.html‰∏∫ÁªìÂ∞æÊù•ÂØπÂ∫î‰∏çÂêåÁöÑÂ§ÑÁêÜÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÊòØ‰ª•.htmlÁªìÂ∞æÔºåÈÇ£‰πàÈáçÂÆöÂêëÂà∞ÁôªÂΩïÈ°µÈù¢ÔºåÂê¶ÂàôËøîÂõû‚ÄùËÆøÈóÆÁöÑËµÑÊ∫êÈúÄË¶ÅË∫´‰ªΩËÆ§ËØÅÔºÅ‚Äù‰ø°ÊÅØÔºåÂπ∂‰∏îHTTPÁä∂ÊÄÅÁ†Å‰∏∫401ÔºàHttpStatus.UNAUTHORIZEDÔºâ„ÄÇËøôÊ†∑ÂΩìÊàë‰ª¨ËÆøÈóÆhttp://localhost:8080/helloÁöÑÊó∂ÂÄôÈ°µÈù¢‰æø‰ºöË∑≥ËΩ¨Âà∞http://localhost:8080/authentication/requireÔºåÂπ∂‰∏îËæìÂá∫‚ÄùËÆøÈóÆÁöÑËµÑÊ∫êÈúÄË¶ÅË∫´‰ªΩËÆ§ËØÅÔºÅ‚ÄùÔºåÂΩìÊàë‰ª¨ËÆøÈóÆhttp://localhost:8080/hello.htmlÁöÑÊó∂ÂÄôÔºåÈ°µÈù¢Â∞Ü‰ºöË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢„ÄÇÂ§ÑÁêÜÊàêÂäüÂíåÂ§±Ë¥•Spring SecurityÊúâ‰∏ÄÂ•óÈªòËÆ§ÁöÑÂ§ÑÁêÜÁôªÂΩïÊàêÂäüÂíåÂ§±Ë¥•ÁöÑÊñπÊ≥ïÔºöÂΩìÁî®Êà∑ÁôªÂΩïÊàêÂäüÊó∂ÔºåÈ°µÈù¢‰ºöË∑≥ËΩ¨‰ºöÂºïÂèëÁôªÂΩïÁöÑËØ∑Ê±ÇÔºåÊØîÂ¶ÇÂú®Êú™ÁôªÂΩïÁöÑÊÉÖÂÜµ‰∏ãËÆøÈóÆhttp://localhost:8080/helloÔºåÈ°µÈù¢‰ºöË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÔºåÁôªÂΩïÊàêÂäüÂêéÂÜçË∑≥ËΩ¨ÂõûÊù•ÔºõÁôªÂΩïÂ§±Ë¥•Êó∂ÂàôÊòØË∑≥ËΩ¨Âà∞Spring SecurityÈªòËÆ§ÁöÑÈîôËØØÊèêÁ§∫È°µÈù¢„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÈÄöËøá‰∏Ä‰∫õËá™ÂÆö‰πâÈÖçÁΩÆÊù•ÊõøÊç¢ËøôÂ•óÈªòËÆ§ÁöÑÂ§ÑÁêÜÊú∫Âà∂„ÄÇËá™ÂÆö‰πâÁôªÂΩïÊàêÂäüÈÄªËæëË¶ÅÊîπÂèòÈªòËÆ§ÁöÑÂ§ÑÁêÜÊàêÂäüÈÄªËæëÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂÆûÁé∞org.springframework.security.web.authentication.AuthenticationSuccessHandlerÊé•Âè£ÁöÑonAuthenticationSuccessÊñπÊ≥ïÂç≥ÂèØÔºö123456789@Componentpublic class MyAuthenticationSucessHandler implements AuthenticationSuccessHandler &#123; @Override public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException &#123; response.setContentType("application/json;charset=utf-8"); response.getWriter().write(mapper.writeValueAsString(authentication)); &#125;&#125;ÂÖ∂‰∏≠AuthenticationÂèÇÊï∞Êó¢ÂåÖÂê´‰∫ÜËÆ§ËØÅËØ∑Ê±ÇÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØÔºåÊØîÂ¶ÇIPÔºåËØ∑Ê±ÇÁöÑSessionIdÁ≠âÔºå‰πüÂåÖÂê´‰∫ÜÁî®Êà∑‰ø°ÊÅØÔºåÂç≥ÂâçÈù¢ÊèêÂà∞ÁöÑUserÂØπË±°„ÄÇÈÄöËøá‰∏äÈù¢Ëøô‰∏™ÈÖçÁΩÆÔºåÁî®Êà∑ÁôªÂΩïÊàêÂäüÂêéÈ°µÈù¢Â∞ÜÊâìÂç∞Âá∫AuthenticationÂØπË±°ÁöÑ‰ø°ÊÅØ„ÄÇË¶Å‰ΩøËøô‰∏™ÈÖçÁΩÆÁîüÊïàÔºåÊàë‰ª¨ËøòÁöÑÂú®BrowserSecurityConfigÁöÑconfigure‰∏≠ÈÖçÁΩÆÂÆÉÔºö12345678910111213141516171819202122232425@Configurationpublic class BrowserSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Autowired private MyAuthenticationSucessHandler authenticationSucessHandler; @Bean public PasswordEncoder passwordEncoder() &#123; return new BCryptPasswordEncoder(); &#125; @Override protected void configure(HttpSecurity http) throws Exception &#123; http.formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html").permitAll() // ÁôªÂΩïË∑≥ËΩ¨ URL Êó†ÈúÄËÆ§ËØÅ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and().csrf().disable(); &#125;&#125;Êàë‰ª¨Â∞ÜMyAuthenticationSucessHandlerÊ≥®ÂÖ•ËøõÊù•ÔºåÂπ∂ÈÄöËøásuccessHandlerÊñπÊ≥ïËøõË°åÈÖçÁΩÆ„ÄÇËøôÊó∂ÂÄôÈáçÂêØÈ°πÁõÆÁôªÂΩïÂêéÈ°µÈù¢Â∞Ü‰ºöËæìÂá∫Â¶Ç‰∏ãJSON‰ø°ÊÅØÔºö123456789101112131415161718192021222324252627&#123; "authorities": [ &#123; "authority": "admin" &#125; ], "details": &#123; "remoteAddress": "0:0:0:0:0:0:0:1", "sessionId": "8D50BAF811891F4397E21B4B537F0544" &#125;, "authenticated": true, "principal": &#123; "password": null, "username": "mrbird", "authorities": [ &#123; "authority": "admin" &#125; ], "accountNonExpired": true, "accountNonLocked": true, "credentialsNonExpired": true, "enabled": true &#125;, "credentials": null, "name": "mrbird"&#125;ÂÉèpasswordÔºåcredentialsËøô‰∫õÊïèÊÑü‰ø°ÊÅØÔºåSpring SecurityÂ∑≤ÁªèÂ∞ÜÂÖ∂Â±èËîΩ„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Âú®ÁôªÂΩïÊàêÂäüÂêéÂÅöÈ°µÈù¢ÁöÑË∑≥ËΩ¨Ôºå‰øÆÊîπMyAuthenticationSucessHandlerÔºö123456789101112131415@Componentpublic class MyAuthenticationSucessHandler implements AuthenticationSuccessHandler &#123; private RequestCache requestCache = new HttpSessionRequestCache(); private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy(); @Autowired private ObjectMapper mapper; @Override public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException &#123; SavedRequest savedRequest = requestCache.getRequest(request, response); redirectStrategy.sendRedirect(request, response, savedRequest.getRedirectUrl()); &#125;&#125;ÈÄöËøá‰∏äÈù¢ÈÖçÁΩÆÔºåÁôªÂΩïÊàêÂäüÂêéÈ°µÈù¢Â∞ÜË∑≥ËΩ¨ÂõûÂºïÂèëË∑≥ËΩ¨ÁöÑÈ°µÈù¢„ÄÇÂ¶ÇÊûúÊÉ≥ÊåáÂÆöË∑≥ËΩ¨ÁöÑÈ°µÈù¢ÔºåÊØîÂ¶ÇË∑≥ËΩ¨Âà∞/indexÔºåÂèØ‰ª•Â∞ÜsavedRequest.getRedirectUrl()‰øÆÊîπ‰∏∫/indexÔºö12345678910@Componentpublic class MyAuthenticationSucessHandler implements AuthenticationSuccessHandler &#123; private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy(); @Override public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException &#123; redirectStrategy.sendRedirect(request, response, "/index"); &#125;&#125;ÁÑ∂ÂêéÂú®TestController‰∏≠ÂÆö‰πâ‰∏Ä‰∏™Â§ÑÁêÜËØ•ËØ∑Ê±ÇÁöÑÊñπÊ≥ïÔºö1234567@RestControllerpublic class TestController &#123; @GetMapping("index") public Object index()&#123; return SecurityContextHolder.getContext().getAuthentication(); &#125;&#125;ÁôªÂΩïÊàêÂäüÂêéÔºå‰æøÂèØ‰ª•‰ΩøÁî®SecurityContextHolder.getContext().getAuthentication()Ëé∑ÂèñÂà∞AuthenticationÂØπË±°‰ø°ÊÅØ„ÄÇÈô§‰∫ÜÈÄöËøáËøôÁßçÊñπÂºèËé∑ÂèñAuthenticationÂØπË±°‰ø°ÊÅØÂ§ñÔºå‰πüÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ËøôÁßçÊñπÂºè:1234567@RestControllerpublic class TestController &#123; @GetMapping("index") public Object index(Authentication authentication) &#123; return authentication; &#125;&#125;ÈáçÂêØÈ°πÁõÆÔºåÁôªÂΩïÊàêÂäüÂêéÔºåÈ°µÈù¢Â∞ÜË∑≥ËΩ¨Âà∞http://localhost:8080/indexÔºöËá™ÂÆö‰πâÁôªÂΩïÂ§±Ë¥•ÈÄªËæëÂíåËá™ÂÆö‰πâÁôªÂΩïÊàêÂäüÂ§ÑÁêÜÈÄªËæëÁ±ª‰ººÔºåËá™ÂÆö‰πâÁôªÂΩïÂ§±Ë¥•Â§ÑÁêÜÈÄªËæëÈúÄË¶ÅÂÆûÁé∞org.springframework.security.web.authentication.AuthenticationFailureHandlerÁöÑonAuthenticationFailureÊñπÊ≥ïÔºö1234567@Componentpublic class MyAuthenticationFailureHandler implements AuthenticationFailureHandler &#123; @Override public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException &#123; &#125;&#125;onAuthenticationFailureÊñπÊ≥ïÁöÑAuthenticationExceptionÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ªÔºåSpring SecurityÊ†πÊçÆÁôªÂΩïÂ§±Ë¥•ÁöÑÂéüÂõ†Â∞ÅË£Ö‰∫ÜËÆ∏Â§öÂØπÂ∫îÁöÑÂÆûÁé∞Á±ªÔºåÊü•ÁúãAuthenticationExceptionÁöÑHierarchyÔºö‰∏çÂêåÁöÑÂ§±Ë¥•ÂéüÂõ†ÂØπÂ∫î‰∏çÂêåÁöÑÂºÇÂ∏∏ÔºåÊØîÂ¶ÇÁî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØÂØπÂ∫îÁöÑÊòØBadCredentialsExceptionÔºåÁî®Êà∑‰∏çÂ≠òÂú®ÂØπÂ∫îÁöÑÊòØUsernameNotFoundExceptionÔºåÁî®Êà∑Ë¢´ÈîÅÂÆöÂØπÂ∫îÁöÑÊòØLockedExceptionÁ≠â„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÂú®ÁôªÂΩïÂ§±Ë¥•ÁöÑÊó∂ÂÄôËøîÂõûÂ§±Ë¥•‰ø°ÊÅØÔºåÂèØ‰ª•ËøôÊ†∑Â§ÑÁêÜÔºö1234567891011121314@Componentpublic class MyAuthenticationFailureHandler implements AuthenticationFailureHandler &#123; @Autowired private ObjectMapper mapper; @Override public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException &#123; response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value()); response.setContentType("application/json;charset=utf-8"); response.getWriter().write(mapper.writeValueAsString(exception.getMessage())); &#125;&#125;Áä∂ÊÄÅÁ†ÅÂÆö‰πâ‰∏∫500ÔºàHttpStatus.INTERNAL_SERVER_ERROR.value()ÔºâÔºåÂç≥Á≥ªÁªüÂÜÖÈÉ®ÂºÇÂ∏∏„ÄÇÂêåÊ†∑ÁöÑÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®BrowserSecurityConfigÁöÑconfigure‰∏≠ÈÖçÁΩÆÂÆÉÔºö123456789101112131415161718192021222324@Configurationpublic class BrowserSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Autowired private MyAuthenticationSucessHandler authenticationSucessHandler; @Autowired private MyAuthenticationFailureHandler authenticationFailureHandler; @Override protected void configure(HttpSecurity http) throws Exception &#123; http.formLogin() // Ë°®ÂçïÁôªÂΩï // http.httpBasic() // HTTP Basic .loginPage("/authentication/require") // ÁôªÂΩïË∑≥ËΩ¨ URL .loginProcessingUrl("/login") // Â§ÑÁêÜË°®ÂçïÁôªÂΩï URL .successHandler(authenticationSucessHandler) // Â§ÑÁêÜÁôªÂΩïÊàêÂäü .failureHandler(authenticationFailureHandler) // Â§ÑÁêÜÁôªÂΩïÂ§±Ë¥• .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .antMatchers("/authentication/require", "/login.html").permitAll() // ÁôªÂΩïË∑≥ËΩ¨ URL Êó†ÈúÄËÆ§ËØÅ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated() // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ .and().csrf().disable(); &#125;&#125;ÈáçÂêØÈ°πÁõÆÔºåÂΩìËæìÂÖ•ÈîôËØØÁöÑÂØÜÁ†ÅÊó∂ÔºåÈ°µÈù¢ËæìÂá∫Â¶Ç‰∏ãÔºöÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/SpringAll/tree/master/35.Spring-Security-Authentication]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏≠ÂºÄÂêØSpring Security]]></title>
    <url>%2FSpring-Boot%26Spring-Security.html</url>
    <content type="text"><![CDATA[Spring SecurityÊòØ‰∏ÄÊ¨æÂü∫‰∫éSpringÁöÑÂÆâÂÖ®Ê°ÜÊû∂Ôºå‰∏ªË¶ÅÂåÖÂê´ËÆ§ËØÅÂíåÊéàÊùÉ‰∏§Â§ßÂÆâÂÖ®Ê®°ÂùóÔºåÂíåÂè¶Â§ñ‰∏ÄÊ¨æÊµÅË°åÁöÑÂÆâÂÖ®Ê°ÜÊû∂Apache ShiroÁõ∏ÊØîÔºåÂÆÉÊã•ÊúâÊõ¥‰∏∫Âº∫Â§ßÁöÑÂäüËÉΩ„ÄÇSpring Security‰πüÂèØ‰ª•ËΩªÊùæÁöÑËá™ÂÆö‰πâÊâ©Â±ï‰ª•Êª°Ë∂≥ÂêÑÁßçÈúÄÊ±ÇÔºåÂπ∂‰∏îÂØπÂ∏∏ËßÅÁöÑWebÂÆâÂÖ®ÊîªÂáªÊèê‰æõ‰∫ÜÈò≤Êä§ÊîØÊåÅ„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑWebÊ°ÜÊû∂ÈÄâÊã©ÁöÑÊòØSpringÔºåÈÇ£‰πàÂú®ÂÆâÂÖ®ÊñπÈù¢Spring Security‰ºöÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©„ÄÇËøôÈáåÊàë‰ª¨‰ΩøÁî®Spring BootÊù•ÈõÜÊàêSpring SecurityÔºåSpring BootÁâàÊú¨‰∏∫1.5.14.RELEASEÔºåSpring SecurityÁâàÊú¨‰∏∫4.2.7RELEASE„ÄÇÂºÄÂêØSpring SecurityÂàõÂª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁÑ∂ÂêéÂºïÂÖ•spring-boot-starter-securityÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;&lt;/dependency&gt;Êé•‰∏ãÊù•Êàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™TestControllerÔºåÂØπÂ§ñÊèê‰æõ‰∏Ä‰∏™/helloÊúçÂä°Ôºö1234567@RestControllerpublic class TestController &#123; @GetMapping("hello") public String hello() &#123; return "hello spring security"; &#125;&#125;ËøôÊó∂ÂÄôÊàë‰ª¨Áõ¥Êé•ÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/helloÔºåÂèØÁúãÂà∞È°µÈù¢ÂºπÂá∫‰∫Ü‰∏™HTTP BasicËÆ§ËØÅÊ°ÜÔºöÂΩìSpringÈ°πÁõÆ‰∏≠ÂºïÂÖ•‰∫ÜSpring Security‰æùËµñÁöÑÊó∂ÂÄôÔºåÈ°πÁõÆ‰ºöÈªòËÆ§ÂºÄÂêØÂ¶Ç‰∏ãÈÖçÁΩÆÔºö123security: basic: enabled: trueËøô‰∏™ÈÖçÁΩÆÂºÄÂêØ‰∫Ü‰∏Ä‰∏™HTTP basicÁ±ªÂûãÁöÑËÆ§ËØÅÔºåÊâÄÊúâÊúçÂä°ÁöÑËÆøÈóÆÈÉΩÂøÖÈ°ªÂÖàËøáËøô‰∏™ËÆ§ËØÅÔºåÈªòËÆ§ÁöÑÁî®Êà∑Âêç‰∏∫userÔºåÂØÜÁ†ÅÁî±Sping SecurityËá™Âä®ÁîüÊàêÔºåÂõûÂà∞IDEÁöÑÊéßÂà∂Âè∞ÔºåÂèØ‰ª•ÊâæÂà∞ÂØÜÁ†Å‰ø°ÊÅØÔºö1Using default security password: e9ed391c-93de-4611-ac87-d871d9e749acËæìÂÖ•Áî®Êà∑ÂêçuserÔºåÂØÜÁ†Åe9ed391c-93de-4611-ac87-d871d9e749acÂêéÔºåÊàë‰ª¨‰æøÂèØ‰ª•ÊàêÂäüËÆøÈóÆ/helloÊé•Âè£„ÄÇÂü∫‰∫éË°®ÂçïËÆ§ËØÅÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∫õÈÖçÁΩÆÂ∞ÜHTTP BasicËÆ§ËØÅ‰øÆÊîπ‰∏∫Âü∫‰∫éË°®ÂçïÁöÑËÆ§ËØÅÊñπÂºè„ÄÇÂàõÂª∫‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªBrowserSecurityConfigÁªßÊâøorg.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapterËøô‰∏™ÊäΩË±°Á±ªÂπ∂ÈáçÂÜôconfigure(HttpSecurity http)ÊñπÊ≥ï„ÄÇWebSecurityConfigurerAdapterÊòØÁî±Spring SecurityÊèê‰æõÁöÑWebÂ∫îÁî®ÂÆâÂÖ®ÈÖçÁΩÆÁöÑÈÄÇÈÖçÂô®Ôºö1234567891011@Configurationpublic class BrowserSecurityConfig extends WebSecurityConfigurerAdapter &#123; @Override protected void configure(HttpSecurity http) throws Exception &#123; http.formLogin() // Ë°®ÂçïÊñπÂºè .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated(); // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ &#125;&#125;Spring SecurityÊèê‰æõ‰∫ÜËøôÁßçÈìæÂºèÁöÑÊñπÊ≥ïË∞ÉÁî®„ÄÇ‰∏äÈù¢ÈÖçÁΩÆÊåáÂÆö‰∫ÜËÆ§ËØÅÊñπÂºè‰∏∫Ë°®ÂçïÁôªÂΩïÔºåÂπ∂‰∏îÊâÄÊúâËØ∑Ê±ÇÈÉΩÈúÄË¶ÅËøõË°åËÆ§ËØÅ„ÄÇËøôÊó∂ÂÄôÊàë‰ª¨ÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8080/helloÔºåÂèØ‰ª•ÁúãÂà∞ËÆ§ËØÅÊñπÂºèÂ∑≤ÁªèÊòØformË°®ÂçïÁöÑÊñπÂºè‰∫ÜÔºöÁî®Êà∑Âêç‰æùÊóßÊòØuserÔºåÂØÜÁ†ÅÁî±Spring SecurityËá™Âä®ÁîüÊàê„ÄÇÂΩìËæìÂÖ•Âá≠ËØÅÈîôËØØÊó∂ÔºåÈ°µÈù¢‰∏äÂ∞ÜÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØÔºöÂ¶ÇÊûúÈúÄË¶ÅÊç¢ÂõûHTTP BasicÁöÑËÆ§ËØÅÊñπÂºèÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÁÆÄÂçï‰øÆÊîπconfigureÊñπÊ≥ï‰∏≠ÁöÑÈÖçÁΩÆÔºö123456789@Overrideprotected void configure(HttpSecurity http) throws Exception &#123; // http.formLogin() // Ë°®ÂçïÊñπÂºè http.httpBasic() // HTTP BasicÊñπÂºè .and() .authorizeRequests() // ÊéàÊùÉÈÖçÁΩÆ .anyRequest() // ÊâÄÊúâËØ∑Ê±Ç .authenticated(); // ÈÉΩÈúÄË¶ÅËÆ§ËØÅ&#125;Âü∫Êú¨ÂéüÁêÜ‰∏äÈù¢Êàë‰ª¨ÂºÄÂêØ‰∫Ü‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑSpring SecurityÂÆâÂÖ®ÈÖçÁΩÆÔºå‰∏ãÈù¢Êàë‰ª¨Êù•‰∫ÜËß£‰∏ãSpring SecurityÁöÑÂü∫Êú¨ÂéüÁêÜ„ÄÇÈÄöËøá‰∏äÈù¢ÁöÑÁöÑÈÖçÁΩÆÔºå‰ª£Á†ÅÁöÑÊâßË°åËøáÁ®ãÂèØ‰ª•ÁÆÄÂåñ‰∏∫‰∏ãÂõæË°®Á§∫ÔºöÂ¶Ç‰∏äÂõæÊâÄÁ§∫ÔºåSpring SecurityÂåÖÂê´‰∫Ü‰ºóÂ§öÁöÑËøáÊª§Âô®ÔºåËøô‰∫õËøáÊª§Âô®ÂΩ¢Êàê‰∫Ü‰∏ÄÊù°ÈìæÔºåÊâÄÊúâËØ∑Ê±ÇÈÉΩÂøÖÈ°ªÈÄöËøáËøô‰∫õËøáÊª§Âô®ÂêéÊâçËÉΩÊàêÂäüËÆøÈóÆÂà∞ËµÑÊ∫ê„ÄÇÂÖ∂‰∏≠UsernamePasswordAuthenticationFilterËøáÊª§Âô®Áî®‰∫éÂ§ÑÁêÜÂü∫‰∫éË°®ÂçïÊñπÂºèÁöÑÁôªÂΩïËÆ§ËØÅÔºåËÄåBasicAuthenticationFilterÁî®‰∫éÂ§ÑÁêÜÂü∫‰∫éHTTP BasicÊñπÂºèÁöÑÁôªÂΩïÈ™åËØÅÔºåÂêéÈù¢ËøòÂèØËÉΩÂåÖÂê´‰∏ÄÁ≥ªÂàóÂà´ÁöÑËøáÊª§Âô®ÔºàÂèØ‰ª•ÈÄöËøáÁõ∏Â∫îÈÖçÁΩÆÂºÄÂêØÔºâ„ÄÇÂú®ËøáÊª§Âô®ÈìæÁöÑÊú´Â∞æÊòØ‰∏Ä‰∏™Âêç‰∏∫FilterSecurityInterceptorÁöÑÊã¶Êà™Âô®ÔºåÁî®‰∫éÂà§Êñ≠ÂΩìÂâçËØ∑Ê±ÇË∫´‰ªΩËÆ§ËØÅÊòØÂê¶ÊàêÂäüÔºåÊòØÂê¶ÊúâÁõ∏Â∫îÁöÑÊùÉÈôêÔºåÂΩìË∫´‰ªΩËÆ§ËØÅÂ§±Ë¥•ÊàñËÄÖÊùÉÈôê‰∏çË∂≥ÁöÑÊó∂ÂÄô‰æø‰ºöÊäõÂá∫Áõ∏Â∫îÁöÑÂºÇÂ∏∏„ÄÇExceptionTranslateFilterÊçïËé∑Âπ∂Â§ÑÁêÜÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ExceptionTranslateFilterËøáÊª§Âô®Áî®‰∫éÂ§ÑÁêÜ‰∫ÜFilterSecurityInterceptorÊäõÂá∫ÁöÑÂºÇÂ∏∏Âπ∂ËøõË°åÂ§ÑÁêÜÔºåÊØîÂ¶ÇÈúÄË¶ÅË∫´‰ªΩËÆ§ËØÅÊó∂Â∞ÜËØ∑Ê±ÇÈáçÂÆöÂêëÂà∞Áõ∏Â∫îÁöÑËÆ§ËØÅÈ°µÈù¢ÔºåÂΩìËÆ§ËØÅÂ§±Ë¥•ÊàñËÄÖÊùÉÈôê‰∏çË∂≥Êó∂ËøîÂõûÁõ∏Â∫îÁöÑÊèêÁ§∫‰ø°ÊÅØ„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÈÄöËøádebugÊù•È™åËØÅËøô‰∏™ËøáÁ®ãÔºàÁôªÂΩïÊñπÂºèÊîπÂõûË°®ÂçïÁöÑÊñπÂºèÔºâ„ÄÇÊàë‰ª¨Âú®/helloÊúçÂä°‰∏äÊâì‰∏™Êñ≠ÁÇπÔºöÂú®FilterSecurityInterceptorÁöÑinvokeÊñπÊ≥ïÁöÑsuper.beforeInvocation‰∏äÊâì‰∏™Êñ≠ÁÇπÔºöÂΩìËøôË°å‰ª£Á†ÅÊâßË°åÈÄöËøáÂêéÔºå‰æøÂèØ‰ª•Ë∞ÉÁî®‰∏ã‰∏ÄË°åÁöÑdoFilterÊñπÊ≥ïÊù•ÁúüÊ≠£Ë∞ÉÁî®/helloÊúçÂä°ÔºåÂê¶ÂàôÂ∞ÜÊäõÂá∫Áõ∏Â∫îÁöÑÂºÇÂ∏∏„ÄÇÂΩìFilterSecurityInterceptorÊäõÂá∫ÂºÇÂ∏∏Êó∂ÔºåÂºÇÂ∏∏Â∞ÜÁî±ExceptionTranslateFilterÊçïËé∑Âπ∂Â§ÑÁêÜÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ExceptionTranslateFilterÁöÑdoFilterÊñπÊ≥ïcatch‰ª£Á†ÅÂùóÁ¨¨‰∏ÄË°åÊâì‰∏™Êñ≠ÁÇπÔºöÊàë‰ª¨ÂæÖ‰ºöÊ®°ÊãüÁöÑÊòØÁî®Êà∑Êú™ÁôªÂΩïÁõ¥Êé•ËÆøÈóÆ/helloÔºåÊâÄ‰ª•Â∫îËØ•ÊòØÊäõÂá∫Áî®Êà∑Êú™ËÆ§ËØÅÁöÑÂºÇÂ∏∏ÔºåÊâÄ‰ª•Êé•‰∏ãÊù•Â∫îËØ•Ë∑≥ËΩ¨Âà∞UsernamePasswordAuthenticationFilterÂ§ÑÁêÜË°®ÂçïÊñπÂºèÁöÑÁî®Êà∑ËÆ§ËØÅ„ÄÇÂú®UsernamePasswordAuthenticationFilterÁöÑattemptAuthenticationÊñπÊ≥ï‰∏äÊâì‰∏™Êñ≠ÁÇπÔºöÂáÜÂ§áÂÆåÊØïÂêéÔºåÊàë‰ª¨ÂêØÂä®È°πÁõÆÔºåÁÑ∂ÂêéËÆøÈóÆhttp://localhost:8080/helloÔºå‰ª£Á†ÅÁõ¥Êé•Ë∑≥ËΩ¨Âà∞FilterSecurityInteceptorÁöÑÊñ≠ÁÇπ‰∏äÔºöÂæÄ‰∏ãÊâßË°åÔºåÂõ†‰∏∫ÂΩìÂâçËØ∑Ê±ÇÊ≤°ÊúâÁªèËøáË∫´‰ªΩËÆ§ËØÅÔºåÊâÄ‰ª•Â∞ÜÊäõÂá∫ÂºÇÂ∏∏Âπ∂Ë¢´ExceptionTranslateFilterÊçïËé∑ÔºöÊçïËé∑ÂºÇÂ∏∏ÂêéÈáçÂÆöÂêëÂà∞ÁôªÂΩïË°®ÂçïÁôªÂΩïÈ°µÈù¢ÔºåÂΩìÊàë‰ª¨Âú®Ë°®ÂçïÁôªÂΩïÈ°µÈù¢ËæìÂÖ•‰ø°ÊÅØÁÇπloginÂêéÔºå‰ª£Á†ÅË∑≥ËΩ¨Âà∞UsernamePasswordAuthenticationFilterËøáÊª§Âô®ÁöÑattemptAuthenticationÊñπÊ≥ï‰∏äÔºöÂà§Êñ≠Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊòØÂê¶Ê≠£Á°Æ‰πãÂêéÔºå‰ª£Á†ÅÂèàË∑≥ÂõûFilterSecurityInterceptorÁöÑbeforeInvocationÊñπÊ≥ïÊâßË°å‰∏äÔºöÂΩìËÆ§ËØÅÈÄöËøáÊó∂ÔºåFilterSecurityInterceptor‰ª£Á†ÅÂæÄ‰∏ãÊâßË°ådoFilterÔºåÁÑ∂Âêé‰ª£Á†ÅÊúÄÁªàË∑≥ËΩ¨Âà∞/hello‰∏äÔºöÊµèËßàÂô®È°µÈù¢Â∞ÜÊòæÁ§∫hello spring security‰ø°ÊÅØ„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/34.Start-Spring-Security]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Security</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏≠‰ΩøÁî®ËøáÊª§Âô®ÂíåÊã¶Êà™Âô®]]></title>
    <url>%2FSpring-Boot-Filter-Interceptor.html</url>
    <content type="text"><![CDATA[ËøáÊª§Âô®ÔºàFilterÔºâÂíåÊã¶Êà™Âô®ÔºàInterceptorÔºâÊòØWebÈ°πÁõÆ‰∏≠Â∏∏Áî®ÁöÑ‰∏§‰∏™ÂäüËÉΩÔºåÊú¨ÊñáÂ∞ÜÁÆÄÂçï‰ªãÁªçÂú®Spring Boot‰∏≠‰ΩøÁî®ËøáÊª§Âô®ÂíåÊã¶Êà™Âô®Êù•ËÆ°ÁÆóController‰∏≠ÊñπÊ≥ïÁöÑÊâßË°åÊó∂ÈïøÔºåÂπ∂‰∏îÁÆÄÂçïÂØπÊØî‰∏§ËÄÖÁöÑÂå∫Âà´„ÄÇÁé∞ÊúâÂ¶Ç‰∏ãControllerÔºö123456789@RestController@RequestMapping("user")public class UserController &#123; @GetMapping("/&#123;id:\\d+&#125;") public void get(@PathVariable String id) &#123; System.out.println(id); &#125;&#125;‰∏ãÈù¢ÈÄöËøáÈÖçÁΩÆËøáÊª§Âô®ÂíåÊã¶Êà™Âô®Êù•ÂÆûÁé∞ÂØπgetÊñπÊ≥ïÊâßË°åÊó∂Èó¥ËÆ°ÁÆóÁöÑÂäüËÉΩ„ÄÇËøáÊª§Âô®ÂÆö‰πâ‰∏Ä‰∏™TimeFilterÁ±ªÔºåÂÆûÁé∞javax.servlet.FilterÔºö1234567891011121314151617181920public class TimeFilter implements Filter&#123; @Override public void init(FilterConfig filterConfig) throws ServletException &#123; System.out.println("ËøáÊª§Âô®ÂàùÂßãÂåñ"); &#125; @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; System.out.println("ÂºÄÂßãÊâßË°åËøáÊª§Âô®"); Long start = new Date().getTime(); filterChain.doFilter(servletRequest, servletResponse); System.out.println("„ÄêËøáÊª§Âô®„ÄëËÄóÊó∂ " + (new Date().getTime() - start)); System.out.println("ÁªìÊùüÊâßË°åËøáÊª§Âô®"); &#125; @Override public void destroy() &#123; System.out.println("ËøáÊª§Âô®ÈîÄÊØÅ"); &#125;&#125;TimeFilterÈáçÂÜô‰∫ÜFilterÁöÑ‰∏â‰∏™ÊñπÊ≥ïÔºåÊñπÊ≥ïÂêçÁß∞Â∑≤ÁªèÂæàÁõ¥ÁôΩÁöÑÊèèËø∞‰∫ÜÂÖ∂‰ΩúÁî®ÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇË¶Å‰ΩøËØ•ËøáÊª§Âô®Âú®Spring Boot‰∏≠ÁîüÊïàÔºåËøòÈúÄË¶Å‰∏Ä‰∫õÈÖçÁΩÆ„ÄÇËøôÈáå‰∏ªË¶ÅÊúâ‰∏§ÁßçÈÖçÁΩÆÊñπÂºè„ÄÇÈÖçÁΩÆÊñπÂºè‰∏ÄÂèØÈÄöËøáÂú®TimeFilter‰∏äÂä†‰∏äÂ¶Ç‰∏ãÊ≥®Ëß£Ôºö12345@Component@WebFilter(urlPatterns = &#123;"/*"&#125;)public class TimeFilter implements Filter &#123; ...&#125;@ComponentÊ≥®Ëß£ËÆ©TimeFilterÊàê‰∏∫Spring‰∏ä‰∏ãÊñá‰∏≠ÁöÑ‰∏Ä‰∏™BeanÔºå@WebFilterÊ≥®Ëß£ÁöÑurlPatternsÂ±ûÊÄßÈÖçÁΩÆ‰∫ÜÂì™‰∫õËØ∑Ê±ÇÂèØ‰ª•ËøõÂÖ•ËØ•ËøáÊª§Âô®Ôºå/*Ë°®Á§∫ÊâÄÊúâËØ∑Ê±Ç„ÄÇÂêØÂä®È°πÁõÆÊó∂ÂèØ‰ª•ÁúãÂà∞ÊéßÂà∂Âè∞ËæìÂá∫‰∫ÜËøáÊª§Âô®ÂàùÂßãÂåñÔºåÂêØÂä®ÂêéËÆøÈóÆhttp://localhost:8080/user/1ÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö1234ÂºÄÂßãÊâßË°åËøáÊª§Âô®1„ÄêËøáÊª§Âô®„ÄëËÄóÊó∂ 31ÁªìÊùüÊâßË°åËøáÊª§Âô®ÈÖçÁΩÆÊñπÂºè‰∫åÈô§‰∫ÜÂú®ËøáÊª§Âô®Á±ª‰∏äÂä†Ê≥®Ëß£Â§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáFilterRegistrationBeanÊù•Ê≥®ÂÜåËøáÊª§Âô®„ÄÇÂÆö‰πâ‰∏Ä‰∏™WebConfigÁ±ªÔºåÂä†‰∏ä@ConfigurationÊ≥®Ëß£Ë°®ÊòéÂÖ∂‰∏∫ÈÖçÁΩÆÁ±ªÔºåÁÑ∂ÂêéÈÄöËøáFilterRegistrationBeanÊù•Ê≥®ÂÜåËøáÊª§Âô®:123456789101112131415@Configurationpublic class WebConfig &#123; @Bean public FilterRegistrationBean timeFilter() &#123; FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean(); TimeFilter timeFilter = new TimeFilter(); filterRegistrationBean.setFilter(timeFilter); List&lt;String&gt; urlList = new ArrayList&lt;&gt;(); urlList.add("/*"); filterRegistrationBean.setUrlPatterns(urlList); return filterRegistrationBean; &#125;&#125;FilterRegistrationBeanÈô§‰∫ÜÊ≥®ÂÜåËøáÊª§Âô®TimeFilterÂ§ñËøòÈÄöËøásetUrlPatternsÊñπÊ≥ïÈÖçÁΩÆ‰∫ÜURLÂåπÈÖçËßÑÂàô„ÄÇÈáçÂêØÈ°πÁõÆËÆøÈóÆhttp://localhost:8080/user/1ÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Âíå‰∏äÈù¢‰∏ÄÊ†∑ÁöÑÊïàÊûú„ÄÇÈÄöËøáËøáÊª§Âô®Êàë‰ª¨Âè™ÂèØ‰ª•Ëé∑ÂèñÂà∞servletRequestÂØπË±°ÔºåÊâÄ‰ª•Âπ∂‰∏çËÉΩËé∑ÂèñÂà∞ÊñπÊ≥ïÁöÑÂêçÁß∞ÔºåÊâÄÂ±ûÁ±ªÔºåÂèÇÊï∞Á≠âÈ¢ùÂ§ñÁöÑ‰ø°ÊÅØ„ÄÇÊã¶Êà™Âô®ÂÆö‰πâ‰∏Ä‰∏™TimeInterceptorÁ±ªÔºåÂÆûÁé∞org.springframework.web.servlet.HandlerInterceptorÊé•Âè£:12345678910111213141516171819202122232425public class TimeInterceptor implements HandlerInterceptor &#123; @Override public boolean preHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o) throws Exception &#123; System.out.println("Â§ÑÁêÜÊã¶Êà™‰πãÂâç"); httpServletRequest.setAttribute("startTime", new Date().getTime()); System.out.println(((HandlerMethod) o).getBean().getClass().getName()); System.out.println(((HandlerMethod) o).getMethod().getName()); return true; &#125; @Override public void postHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView) throws Exception &#123; System.out.println("ÂºÄÂßãÂ§ÑÁêÜÊã¶Êà™"); Long start = (Long) httpServletRequest.getAttribute("startTime"); System.out.println("„ÄêÊã¶Êà™Âô®„ÄëËÄóÊó∂ " + (new Date().getTime() - start)); &#125; @Override public void afterCompletion(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) throws Exception &#123; System.out.println("Â§ÑÁêÜÊã¶Êà™‰πãÂêé"); Long start = (Long) httpServletRequest.getAttribute("startTime"); System.out.println("„ÄêÊã¶Êà™Âô®„ÄëËÄóÊó∂ " + (new Date().getTime() - start)); System.out.println("ÂºÇÂ∏∏‰ø°ÊÅØ " + e); &#125;&#125;TimeInterceptorÂÆûÁé∞‰∫ÜHandlerInterceptorÊé•Âè£ÁöÑ‰∏â‰∏™ÊñπÊ≥ï„ÄÇpreHandleÊñπÊ≥ïÂú®Â§ÑÁêÜÊã¶Êà™‰πãÂâçÊâßË°åÔºåpostHandleÂè™ÊúâÂΩìË¢´Êã¶Êà™ÁöÑÊñπÊ≥ïÊ≤°ÊúâÊäõÂá∫ÂºÇÂ∏∏ÊàêÂäüÊó∂Êâç‰ºöÂ§ÑÁêÜÔºåafterCompletionÊñπÊ≥ïÊó†ËÆ∫Ë¢´Êã¶Êà™ÁöÑÊñπÊ≥ïÊäõÂá∫ÂºÇÂ∏∏‰∏éÂê¶ÈÉΩ‰ºöÊâßË°å„ÄÇÈÄöËøáËøô‰∏â‰∏™ÊñπÊ≥ïÁöÑÂèÇÊï∞ÂèØ‰ª•ÁúãÂà∞ÔºåÁõ∏ËæÉ‰∫éËøáÊª§Âô®ÔºåÊã¶Êà™Âô®Â§ö‰∫ÜObjectÂíåExceptionÂØπË±°ÔºåÊâÄ‰ª•ÂèØ‰ª•Ëé∑ÂèñÁöÑ‰ø°ÊÅØÊØîËøáÊª§Âô®Ë¶ÅÂ§öÁöÑÂ§ö„ÄÇ‰ΩÜËøáÊª§Âô®‰ªçÊó†Ê≥ïËé∑ÂèñÂà∞ÊñπÊ≥ïÁöÑÂèÇÊï∞Á≠â‰ø°ÊÅØÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂàáÈù¢ÁºñÁ®ãÊù•ÂÆûÁé∞Ëøô‰∏™ÁõÆÁöÑÔºåÂÖ∑‰ΩìÂèØÂèÇËÄÉhttps://mrbird.cc/Spring-Boot-AOP%20log.html„ÄÇË¶Å‰ΩøÊã¶Êà™Âô®Âú®Spring Boot‰∏≠ÁîüÊïàÔºåËøòÈúÄË¶ÅÂ¶Ç‰∏ã‰∏§Ê≠•ÈÖçÁΩÆÔºö1.Âú®Êã¶Êà™Âô®Á±ª‰∏äÂä†ÂÖ•@ComponentÊ≥®Ëß£Ôºõ2.Âú®WebConfig‰∏≠ÈÄöËøáInterceptorRegistryÊ≥®ÂÜåËøáÊª§Âô®:12345678910@Configurationpublic class WebConfig extends WebMvcConfigurerAdapter &#123; @Autowired private TimeInterceptor timeInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) &#123; registry.addInterceptor(timeInterceptor); &#125;&#125;ÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/user/1ÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö123456789Â§ÑÁêÜÊã¶Êà™‰πãÂâçcc.mrbird.controller.UserControllerget1ÂºÄÂßãÂ§ÑÁêÜÊã¶Êà™„ÄêÊã¶Êà™Âô®„ÄëËÄóÊó∂ 24Â§ÑÁêÜÊã¶Êà™‰πãÂêé„ÄêÊã¶Êà™Âô®„ÄëËÄóÊó∂ 24ÂºÇÂ∏∏‰ø°ÊÅØ null‰ªéËæìÂá∫‰∏≠Êàë‰ª¨ÂèØ‰ª•‰∫ÜËß£Âà∞‰∏â‰∏™ÊñπÊ≥ïÁöÑÊâßË°åÈ°∫Â∫èÔºåÂπ∂‰∏î‰∏â‰∏™ÊñπÊ≥ïÈÉΩË¢´ÊâßË°å‰∫Ü„ÄÇÊàë‰ª¨Âú®UserControllerÁöÑgetÊñπÊ≥ï‰∏≠ÊâãÂä®ÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏Ôºö12345 @GetMapping("/&#123;id:\\d+&#125;")public void get(@PathVariable String id) &#123; System.out.println(id); throw new RuntimeException("user not exist");&#125;ÈáçÂêØÈ°πÁõÆÂêéÔºåËÆøÈóÆhttp://localhost:8080/user/1ÔºåÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö1234567Â§ÑÁêÜÊã¶Êà™‰πãÂâçcc.mrbird.controller.UserControllerget1Â§ÑÁêÜÊã¶Êà™‰πãÂêé„ÄêÊã¶Êà™Âô®„ÄëËÄóÊó∂ 0ÂºÇÂ∏∏‰ø°ÊÅØ java.lang.RuntimeException: user not existÂèØÁúãÂà∞ÔºåpostHandleÊñπÊ≥ïÂπ∂Ê≤°ÊúâË¢´ÊâßË°å„ÄÇÊâßË°åÊó∂Êú∫ÂØπÊØîÊàë‰ª¨Â∞ÜËøáÊª§Âô®ÂíåÊã¶Êà™Âô®ÈÉΩÈÖçÁΩÆ‰∏äÔºåÁÑ∂ÂêéÂêØÂä®È°πÁõÆËÆøÈóÆhttp://localhost:8080/user/1Ôºö123456789101112ÂºÄÂßãÊâßË°åËøáÊª§Âô®Â§ÑÁêÜÊã¶Êà™‰πãÂâçcc.mrbird.controller.UserControllerget1ÂºÄÂßãÂ§ÑÁêÜÊã¶Êà™„ÄêÊã¶Êà™Âô®„ÄëËÄóÊó∂ 25Â§ÑÁêÜÊã¶Êà™‰πãÂêé„ÄêÊã¶Êà™Âô®„ÄëËÄóÊó∂ 25ÂºÇÂ∏∏‰ø°ÊÅØ null„ÄêËøáÊª§Âô®„ÄëËÄóÊó∂ 34ÁªìÊùüÊâßË°åËøáÊª§Âô®ÂèØÁúãÂà∞ËøáÊª§Âô®Ë¶ÅÂÖà‰∫éÊã¶Êà™Âô®ÊâßË°åÔºåÊôö‰∫éÊã¶Êà™Âô®ÁªìÊùü„ÄÇ‰∏ãÂõæÂæàÂ•ΩÁöÑÊèèËø∞‰∫ÜÂÆÉ‰ª¨ÁöÑÊâßË°åÊó∂Èó¥Âå∫Âà´ÔºöÊ∫êÁ†ÅÈìæÊé•https://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/26.Spring-Boot-Filter-Interceptor]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÂºÇÂ∏∏Â§ÑÁêÜ]]></title>
    <url>%2FSpring-Boot-Exception.html</url>
    <content type="text"><![CDATA[Spring BootÂØπÂºÇÂ∏∏ÁöÑÂ§ÑÁêÜÊúâ‰∏ÄÂ•óÈªòËÆ§ÁöÑÊú∫Âà∂ÔºöÂΩìÂ∫îÁî®‰∏≠‰∫ßÁîüÂºÇÂ∏∏Êó∂ÔºåSpring BootÊ†πÊçÆÂèëÈÄÅËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑacceptÊòØÂê¶ÂåÖÂê´text/htmlÊù•ÂàÜÂà´ËøîÂõû‰∏çÂêåÁöÑÂìçÂ∫î‰ø°ÊÅØ„ÄÇÂΩì‰ªéÊµèËßàÂô®Âú∞ÂùÄÊ†è‰∏≠ËÆøÈóÆÂ∫îÁî®Êé•Âè£Êó∂ÔºåËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑaccept‰æø‰ºöÂåÖÂê´text/html‰ø°ÊÅØÔºå‰∫ßÁîüÂºÇÂ∏∏Êó∂ÔºåSpring BootÈÄöËøáorg.springframework.web.servlet.ModelAndViewÂØπË±°Êù•Ë£ÖËΩΩÂºÇÂ∏∏‰ø°ÊÅØÔºåÂπ∂‰ª•HTMLÁöÑÊ†ºÂºèËøîÂõûÔºõËÄåÂΩì‰ªéÂÆ¢Êà∑Á´ØËÆøÈóÆÂ∫îÁî®Êé•Âè£‰∫ßÁîüÂºÇÂ∏∏Êó∂ÔºàÂÆ¢Êà∑Á´ØËÆøÈóÆÊó∂ÔºåËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑaccept‰∏çÂåÖÂê´text/htmlÔºâÔºåSpring BootÂàô‰ª•JSONÁöÑÊ†ºÂºèËøîÂõûÂºÇÂ∏∏‰ø°ÊÅØ„ÄÇ‰∏ãÈù¢Êù•È™åËØÅ‰∏Ä‰∏ã„ÄÇÈªòËÆ§ÂºÇÂ∏∏Â§ÑÁêÜÊú∫Âà∂ÂÅáËÆæÂ∫îÁî®‰∏≠ÊúâÂ¶Ç‰∏ã‰∏Ä‰∏™ControllerÔºö123456789@RestController@RequestMapping("user")public class UserController &#123; @GetMapping("/&#123;id:\\d+&#125;") public void get(@PathVariable String id) &#123; throw new RuntimeException("user not exist"); &#125;&#125;Âú®‰ª£Á†Å‰∏≠Êàë‰ª¨‰∏ªÂä®ÁöÑÊäõÂá∫‰∫Ü‰∏Ä‰∏™RuntimeExceptionÔºå‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆhttp://localhost:8080/user/1Ôºö ÂèØÁúãÂà∞È°µÈù¢ËøîÂõû‰∫Ü‰∏Ä‰∫õÂºÇÂ∏∏ÊèèËø∞ÔºåÂπ∂‰∏îËØ∑Ê±ÇÂ§¥ÁöÑaccpetÂåÖÂê´‰∫Ütext/htmlÁâáÊÆµ„ÄÇÊé•ÁùÄ‰ΩøÁî®Ê®°ÊãüÂèëÈÄÅRESTËØ∑Ê±ÇÁöÑChromeÊèí‰ª∂Restlet ClientÂèëÈÄÅhttp://localhost:8080/user/1ÔºöÂèØ‰ª•ÁúãÂà∞ËØ∑Ê±ÇÂ§¥ÁöÑacceptÂÄº‰∏∫*/*ÔºåÂπ∂‰∏îËøîÂõû‰∏ÄÊÆµJSONÊ†ºÂºèÁöÑ‰ø°ÊÅØ„ÄÇÊü•ÁúãSpring BootÁöÑBasicErrorControllerÁ±ª‰æøÂèØÁúãÂà∞Ëøô‰∏ÄÈªòËÆ§Êú∫Âà∂ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºöÂèØÁúãÂà∞errorHtmlÂíåerrorÊñπÊ≥ïÁöÑËØ∑Ê±ÇÂú∞ÂùÄÂíåÊñπÊ≥ïÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂîØ‰∏ÄÁöÑÂå∫Âà´Â∞±ÊòØerrorHtmlÈÄöËøáproduces = {&quot;text/html&quot;}Âà§Êñ≠ËØ∑Ê±ÇÂ§¥ÁöÑaccpetÂ±ûÊÄß‰∏≠ÊòØÂê¶ÂåÖÂê´text/htmlÔºåÂ¶ÇÊûúÂåÖÂê´Ôºå‰æøËµ∞ËØ•ÊñπÊ≥ï„ÄÇËá™ÂÆö‰πâhtmlÂºÇÂ∏∏È°µÈù¢Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂú®src/main/resources/resources/errorË∑ØÂæÑ‰∏ãÂÆö‰πâÂèãÂ•ΩÁöÑÂºÇÂ∏∏È°µÈù¢ÔºåÊØîÂ¶ÇÂÆö‰πâ‰∏Ä‰∏™500.htmlÈ°µÈù¢Ôºö12345678910&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;500&lt;/title&gt;&lt;/head&gt;&lt;body&gt; Á≥ªÁªüÂÜÖÈÉ®ÂºÇÂ∏∏&lt;/body&gt;&lt;/html&gt;ÁÑ∂ÂêéÂÜçÊ¨°ÈÄöËøáÊµèËßàÂô®ËÆøÈóÆ:http://localhost:8080/user/1ÔºöÂêåÊ†∑ÁöÑÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÂÆö‰πâ404.htmlÁ≠âÂ∏∏ËßÅÁöÑHTTPÁä∂ÊÄÅÁ†ÅÂØπÂ∫îÁöÑÂºÇÂ∏∏È°µÈù¢„ÄÇÈÄöËøáËá™ÂÆö‰πâhtmlÂºÇÂ∏∏È°µÈù¢Âπ∂‰∏ç‰ºöÂΩ±ÂìçÂÆ¢Êà∑Á´ØÂèëÈÄÅËØ∑Ê±ÇÂºÇÂ∏∏ËøîÂõûÁöÑÁªìÊûú„ÄÇËá™ÂÆö‰πâÂºÇÂ∏∏Â§ÑÁêÜÈô§‰∫ÜÂèØ‰ª•ÈÄöËøáËá™ÂÆö‰πâhtmlÂºÇÂ∏∏È°µÈù¢Êù•ÊîπÂèòÊµèËßàÂô®ËÆøÈóÆÊé•Âè£Êó∂‰∫ßÁîüÁöÑÂºÇÂ∏∏‰ø°ÊÅØÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ëá™ÂÆö‰πâÂºÇÂ∏∏Â§ÑÁêÜÊù•ÊîπË°®ÈªòËÆ§ÁöÑÂÆ¢Êà∑Á´ØËÆøÈóÆÊé•Âè£‰∫ßÁîüÁöÑÂºÇÂ∏∏‰ø°ÊÅØ„ÄÇÊàë‰ª¨ÊâãÂä®ÂÆö‰πâ‰∏Ä‰∏™UserNotExistExceptionÔºåÁªßÊâøRuntimeException„ÄÇ12345678910111213141516171819public class UserNotExistException extends RuntimeException&#123; private static final long serialVersionUID = -1574716826948451793L; private String id; public UserNotExistException(String id)&#123; super("user not exist"); this.id = id; &#125; public String getId() &#123; return id; &#125; public void setId(String id) &#123; this.id = id; &#125;&#125;ÁÑ∂ÂêéÂÆö‰πâ‰∏Ä‰∏™ControllerÂºÇÂ∏∏Â§ÑÁêÜÁ±ªControllerExceptionHandlerÔºö12345678910111213@ControllerAdvicepublic class ControllerExceptionHandler &#123; @ExceptionHandler(UserNotExistException.class) @ResponseBody @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR) public Map&lt;String, Object&gt; handleUserNotExistsException(UserNotExistException e) &#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put("id", e.getId()); map.put("message", e.getMessage()); return map; &#125;&#125;ÂÖ∂‰∏≠Ê≥®Ëß£@ExceptionHandlerÊåáÂÆö‰∫ÜË¶ÅÂ§ÑÁêÜÁöÑÂºÇÂ∏∏Á±ªÂûãÔºåÊ≥®Ëß£@ResponseStatusÊåáÂÆöÂºÇÂ∏∏Â§ÑÁêÜÊñπÊ≥ïËøîÂõûÁöÑHTTPÁä∂ÊÄÅÁ†Å‰∏∫HttpStatus.INTERNAL_SERVER_ERRORÔºåÂç≥500„ÄÇHttpStatusÊòØ‰∏Ä‰∏™springËá™Â∏¶ÁöÑÊûö‰∏æÁ±ªÂûãÔºåÂ∞ÅË£Ö‰∫ÜÂ∏∏ËßÅÁöÑHTTPÁä∂ÊÄÅÁ†ÅÂèäÊèèËø∞Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485public enum HttpStatus &#123; CONTINUE(100, "Continue"), SWITCHING_PROTOCOLS(101, "Switching Protocols"), PROCESSING(102, "Processing"), CHECKPOINT(103, "Checkpoint"), OK(200, "OK"), CREATED(201, "Created"), ACCEPTED(202, "Accepted"), NON_AUTHORITATIVE_INFORMATION(203, "Non-Authoritative Information"), NO_CONTENT(204, "No Content"), RESET_CONTENT(205, "Reset Content"), PARTIAL_CONTENT(206, "Partial Content"), MULTI_STATUS(207, "Multi-Status"), ALREADY_REPORTED(208, "Already Reported"), IM_USED(226, "IM Used"), MULTIPLE_CHOICES(300, "Multiple Choices"), MOVED_PERMANENTLY(301, "Moved Permanently"), FOUND(302, "Found"), /** @deprecated */ @Deprecated MOVED_TEMPORARILY(302, "Moved Temporarily"), SEE_OTHER(303, "See Other"), NOT_MODIFIED(304, "Not Modified"), /** @deprecated */ @Deprecated USE_PROXY(305, "Use Proxy"), TEMPORARY_REDIRECT(307, "Temporary Redirect"), PERMANENT_REDIRECT(308, "Permanent Redirect"), BAD_REQUEST(400, "Bad Request"), UNAUTHORIZED(401, "Unauthorized"), PAYMENT_REQUIRED(402, "Payment Required"), FORBIDDEN(403, "Forbidden"), NOT_FOUND(404, "Not Found"), METHOD_NOT_ALLOWED(405, "Method Not Allowed"), NOT_ACCEPTABLE(406, "Not Acceptable"), PROXY_AUTHENTICATION_REQUIRED(407, "Proxy Authentication Required"), REQUEST_TIMEOUT(408, "Request Timeout"), CONFLICT(409, "Conflict"), GONE(410, "Gone"), LENGTH_REQUIRED(411, "Length Required"), PRECONDITION_FAILED(412, "Precondition Failed"), PAYLOAD_TOO_LARGE(413, "Payload Too Large"), /** @deprecated */ @Deprecated REQUEST_ENTITY_TOO_LARGE(413, "Request Entity Too Large"), URI_TOO_LONG(414, "URI Too Long"), /** @deprecated */ @Deprecated REQUEST_URI_TOO_LONG(414, "Request-URI Too Long"), UNSUPPORTED_MEDIA_TYPE(415, "Unsupported Media Type"), REQUESTED_RANGE_NOT_SATISFIABLE(416, "Requested range not satisfiable"), EXPECTATION_FAILED(417, "Expectation Failed"), I_AM_A_TEAPOT(418, "I'm a teapot"), /** @deprecated */ @Deprecated INSUFFICIENT_SPACE_ON_RESOURCE(419, "Insufficient Space On Resource"), /** @deprecated */ @Deprecated METHOD_FAILURE(420, "Method Failure"), /** @deprecated */ @Deprecated DESTINATION_LOCKED(421, "Destination Locked"), UNPROCESSABLE_ENTITY(422, "Unprocessable Entity"), LOCKED(423, "Locked"), FAILED_DEPENDENCY(424, "Failed Dependency"), UPGRADE_REQUIRED(426, "Upgrade Required"), PRECONDITION_REQUIRED(428, "Precondition Required"), TOO_MANY_REQUESTS(429, "Too Many Requests"), REQUEST_HEADER_FIELDS_TOO_LARGE(431, "Request Header Fields Too Large"), UNAVAILABLE_FOR_LEGAL_REASONS(451, "Unavailable For Legal Reasons"), INTERNAL_SERVER_ERROR(500, "Internal Server Error"), NOT_IMPLEMENTED(501, "Not Implemented"), BAD_GATEWAY(502, "Bad Gateway"), SERVICE_UNAVAILABLE(503, "Service Unavailable"), GATEWAY_TIMEOUT(504, "Gateway Timeout"), HTTP_VERSION_NOT_SUPPORTED(505, "HTTP Version not supported"), VARIANT_ALSO_NEGOTIATES(506, "Variant Also Negotiates"), INSUFFICIENT_STORAGE(507, "Insufficient Storage"), LOOP_DETECTED(508, "Loop Detected"), BANDWIDTH_LIMIT_EXCEEDED(509, "Bandwidth Limit Exceeded"), NOT_EXTENDED(510, "Not Extended"), NETWORK_AUTHENTICATION_REQUIRED(511, "Network Authentication Required"); ...&#125;ÁºñÂÜôÂÆåËá™ÂÆö‰πâÂºÇÂ∏∏Â§ÑÁêÜÈÄªËæëÂêéÔºåÊàë‰ª¨Â∞ÜUserController‰∏≠ÁöÑÊñπÊ≥ïÊäõÂá∫ÁöÑÂºÇÂ∏∏Êîπ‰∏∫UserNotExistExceptionÔºö1234 @GetMapping("/&#123;id:\\d+&#125;")public void get(@PathVariable String id) &#123; throw new UserNotExistException(id);&#125;ÈáçÂêØÈ°πÁõÆÔºå‰ΩøÁî®Restlet ClientÂÜçÊ¨°ËÆøÈóÆhttp://localhost:8080/user/1ÔºåÂìçÂ∫îÂ¶Ç‰∏ãÔºö Ê∫êÁ†ÅÈìæÊé• https://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/25.Spring-Boot-Exception]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêJava8ÂÆûÊàò„ÄëÊñ∞ÁöÑÊó•ÊúüÂíåÊó∂Èó¥API]]></title>
    <url>%2Fjava8-new-time-date-api.html</url>
    <content type="text"><![CDATA[Java 8‰πãÂâçÁöÑÂ∫ìÂØπÊó•ÊúüÂíåÊó∂Èó¥ÁöÑÊîØÊåÅÂπ∂‰∏çÁêÜÊÉ≥Ôºå‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåJava 8ÂºïÂÖ•‰∫Ü‰∏ÄÂ•óÂÖ®Êñ∞ÁöÑÊó∂Èó¥Êó•ÊúüAPIÔºå‰Ωç‰∫éjava.timeË∑ØÂæÑ‰∏ã„ÄÇLocalDateLocalDateÁ±ªÂûãÂåÖÂê´‰∫ÜÂπ¥ÊúàÊó•‰ø°ÊÅØÔºå‰∏ãÈù¢‰∏æ‰∫õLocalDateÁöÑ‰ΩøÁî®Á§∫‰æãÔºö12345678LocalDate date = LocalDate.of(2018, 4, 20); // 2018-04-20int year = date.getYear(); // 2018int month = date.getMonth().getValue(); // 4int day = date.getDayOfMonth(); // 20// Êü•ÁúãËØ•ÊúàÊúâÂ§öÂ∞ëÂ§©int days = date.lengthOfMonth(); // 30// ÊòØÂê¶ÊòØÈó∞Âπ¥boolean isLeap = date.isLeapYear(); // falseÂèØ‰ª•‰ΩøÁî®LocalDate.now()Ëé∑ÂèñÂΩìÂ§©ÁöÑÊó•Êúü‰ø°ÊÅØÔºö12// Êü•ÁúãÂΩìÂ§© Âπ¥ÊúàÊó•LocalDate today = LocalDate.now(); // 2018-04-20Èô§‰∫ÜË∞ÉÁî®LocalDateÁöÑgetYearÊñπÊ≥ïÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®ChronoFieldÊûö‰∏æÁ±ªÂûãÊù•ÂÆûÁé∞Áõ∏ÂêåÁöÑÂäüËÉΩÔºö12345int year1 = date.get(ChronoField.YEAR); // 2018int month1 = date.get(ChronoField.MONTH_OF_YEAR); // 4int day1 = date.get(ChronoField.DAY_OF_MONTH); // 20// ÂΩìÂâçÊó•ÊúüÂ±û‰∫éËØ•ÊúàÁ¨¨Âá†Âë®int weekOfMonth = date.get(ChronoField.ALIGNED_WEEK_OF_MONTH); // 3ChronoFieldÊûö‰∏æÁ±ªÂûãÂåÖÂê´‰∫ÜËØ∏Â§öÁöÑÂ±ûÊÄßÂèØ‰æõÈÄâÊã©Ôºö Êàë‰ª¨‰πüÂèØ‰ª•‰øÆÊîπLocalDateÂØπË±°Ôºö1234567LocalDate date3 = LocalDate.of(2018, 4, 20); // 2018-04-20LocalDate date4 = date3.withDayOfMonth(22); // 2018-04-22LocalDate date5 = date3.with(ChronoField.DAY_OF_MONTH, 22); // 2018-04-22LocalDate date6 = date3.withYear(2019); // 2019-04-20LocalDate date7 = date3.plusDays(5); // 2018-04-25LocalDate date8 = date3.plus(5, ChronoUnit.DAYS); // 2018-04-25LocalDate date9 = date3.minusYears(10); // 2008-04-20TemporalAdjustersÁ±ªÊèê‰æõ‰∫ÜËÆ∏Â§öÈùôÊÄÅÊñπÊ≥ïÊù•‰øÆÊîπLocalDateÂØπË±°„ÄÇÂΩìÊàë‰ª¨ÈúÄË¶ÅËé∑Âèñ‰∏ã‰∏Ä‰∏™Âë®Â§©Ôºå‰∏ã‰∏Ä‰∏™Â∑•‰ΩúÊó•ÔºåÊú¨ÊúàÁöÑÊúÄÂêé‰∏ÄÂ§©Á≠â‰ø°ÊÅØÊó∂ÔºåTemporalAdjustersÁ±ª‰æøÂèØÊ¥æ‰∏äÁî®Âú∫Ôºö12345import static java.time.temporal.TemporalAdjusters.*;LocalDate date10 = date3.with(nextOrSame(DayOfWeek.MONDAY)); // 2018-04-23LocalDate date11 = date3.with(lastDayOfMonth()); // 2018-04-30LocalDate date12 = date3.with(previous(DayOfWeek.SATURDAY)); // 2018-04-14ÂèØÂèÇËÄÉ4ÊúàÁöÑÊó•ÂéÜÊù•ÁêÜËß£‰∏äÈù¢ÁöÑÁªìÊûúÔºö Êàë‰ª¨ËøòÂèØ‰ª•ÂØπLocalDateËøõË°åÊ†ºÂºèÂåñÊìç‰ΩúÔºö123456String str1 = date.format(DateTimeFormatter.BASIC_ISO_DATE); // 20180420String str2 = date.format(DateTimeFormatter.ISO_LOCAL_DATE); // 2018-04-20DateTimeFormatter dtf = DateTimeFormatter.ofPattern("yyyy-MM-dd");String str5 = date.format(dtf); // 2018-04-20LocalDate date13 = LocalDate.parse(str5, dtf); // 2018-04-20LocalDateÂíå‰∏ãÈù¢Ë¶Å‰ªãÁªçÁöÑLocalTimeÔºåLocalDateTime‰πãÈó¥ÂÖ±‰∫´‰∫ÜËÆ∏Â§öÁ±ª‰ººÁöÑÊñπÊ≥ïÔºå‰∏äÈù¢‰ªãÁªçÁöÑLocalDate‰øÆÊîπ„ÄÅÊ†ºÂºèÂåñÁ≠âÊñπÊ≥ïÈÄöÁî®ÈÄÇÁî®‰∫éLocalTimeÂíåLocalDateTime„ÄÇLocalTimeLocalTimeÂíåLocalDateÁ±ª‰ººÔºåÂå∫Âà´Âú®‰∫éLocalTimeÂåÖÂê´ÁöÑÊòØÊó∂ÂàÜÁßíÔºàÊØ´ÁßíÔºâ‰ø°ÊÅØ„ÄÇ‰∏æ‰∫õLocalTimeÁöÑ‰æãÂ≠êÔºö1234LocalTime time = LocalTime.of(20, 13, 54); // 20:13:54int hour = time.getHour(); // 20int minute = time.getMinute(); // 13int second = time.getSecond(); // 54LocalDateÂíåLocalTimeÈÉΩÂèØ‰ª•ÈÄöËøáÂ≠óÁ¨¶‰∏≤Êù•ÂàõÂª∫Ôºö12LocalDate date = LocalDate.parse("2018-04-20");LocalTime time = LocalTime.parse("20:13:54");LocalDateTimeLocalDateTimeÊòØLocalDateÂíåLocalTimeÁöÑÁªÑÂêàÂΩ¢ÂºèÔºåÂåÖÂê´‰∫ÜÂπ¥ÊúàÊó•Êó∂ÂàÜÁßí‰ø°ÊÅØ„ÄÇ‰∏æ‰∫õLocalDateTimeÁöÑ‰ΩøÁî®Á§∫‰æãÔºö12LocalDateTime ldt1 = LocalDateTime.of(2018, 4, 20, 20, 13, 54); // 2018-04-20T20:13:54LocalDateTime ldt2 = LocalDateTime.of(date, time); // 2018-04-20T20:13:54LocalDateTimeÂèØ‰ª•ËΩ¨Êç¢‰∏∫LocalDateÂíåLocalTimeÔºåËΩ¨Êç¢ÂêéÂåÖÂê´ÁöÑ‰ø°ÊÅØÂáèÂ∞ë‰∫ÜÔºö12LocalDate date1 = ldt1.toLocalDate(); // 2018-04-20LocalTime time1 = ldt1.toLocalTime(); // 20:13:54ÂêåÊ†∑ÁöÑÔºåLocalDateÂíåLocalTime‰πüÂèØ‰ª•ËΩ¨Êç¢‰∏∫LocalDateTimeÔºåÂè™ÈúÄË¶ÅË°•‰∏äÊó•ÊúüÊàñËÄÖÊó∂Èó¥Ôºö123LocalDateTime ldt3 = date.atTime(time); // 2018-04-20T20:13:54LocalDateTime ldt4 = date.atTime(20, 13, 54); // 2018-04-20T20:13:54LocalDateTime ldt5 = time.atDate(date); // 2018-04-20T20:13:54DurationDurationÁî®‰∫éËÆ°ÁÆó‰∏§‰∏™LocalTimeÊàñËÄÖLocalDateTimeÁöÑÊó∂Èó¥Â∑ÆÔºå‰æãÂ¶ÇÔºö123LocalTime time2 = LocalTime.of(23, 59, 59);Duration duration = Duration.between(time1, time2);long seconds = duration.getSeconds(); // 13565time1Âíåtime2‰πãÈó¥Áõ∏Â∑Æ‰∫Ü13565Áßí„ÄÇÊâãÂä®ÂàõÂª∫DurationÂØπË±°Ôºö12Duration threeMinutes = Duration.ofMinutes(3);threeMinutes = Duration.of(3, ChronoUnit.MINUTES); // ÂàõÂª∫‰∫Ü‰∏Ä‰∏™3ÂàÜÈíüÁöÑDurationÔºå‰∏§ÁßçÂàõÂª∫ÊñπÂºèÁ≠â‰ª∑PeriodPeriodÁî®‰∫éËÆ°ÁÆó‰∏§‰∏™LocalDate‰πãÈó¥ÁöÑÊó∂Èïø„ÄÇ‰∏æ‰∫õ‰æãÂ≠êÔºö1234LocalDate date2 = LocalDate.of(2018, 5, 21);Period period = Period.between(date1, date2);int monthsBetween = period.getMonths(); // 1int daysBetween = period.getDays(); // 12018-04-21Âíå2018-04-20‰πãÈó¥Êúà‰ªΩÁõ∏Â∑Æ1ÔºåÂ§©Êï∞Áõ∏Â∑Æ1„ÄÇÂêåÊ†∑ÁöÑÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÊâãÂä®ÂàõÂª∫PeriodÂØπË±°Ôºö123Period tenDays = Period.ofDays(10);Period threeWeeks = Period.ofWeeks(3);Period twoYearsSixMonthsOneDay = Period.of(2, 6, 1);ÂÖ∂‰ªñ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÊñπÊ≥ïÊØîËæÉ‰∏§‰∏™Êó∂Èó¥ÁöÑÂÖàÂêé1234LocalDate date15 = LocalDate.of(2018,4,21);date.isEqual(date15); // falsedate.isAfter(date15); // falsedate.isBefore(date15); // trueMonthDayÁ±ªÁöÑ‰ΩøÁî®MonthDayÂè™ÂåÖÂê´ÊúàÊó•‰ø°ÊÅØÔºåÂèØ‰ª•Áî®‰∫éÂ≠òÊîæÁ±ª‰ºº‰∫éÁîüÊó•ÔºåÁªìÂ©öÁ∫™ÂøµÊó•Á≠â‰ø°ÊÅØ„ÄÇ‰∏æ‰∏™‰ΩøÁî®MonthDayÁöÑ‰æãÂ≠êÔºö123456LocalDate birthday = LocalDate.of(1999, 9, 9);MonthDay monthDay = MonthDay.of(birthday.getMonth(), birthday.getDayOfMonth());MonthDay currentMonthDay = MonthDay.from(LocalDate.now());if (currentMonthDay.equals(monthDay)) &#123; System.out.println("happy birthday!");&#125;ÂÅáÂ¶ÇÁî®Êà∑ÁöÑÁîüÊó•ÊòØ1999Âπ¥9Êúà9Âè∑ÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøáËøôÁßçÊñπÊ≥ïÊù•Âà§Êñ≠‰ªäÂ§©ÊòØÂê¶ÊòØÁî®Êà∑ÁöÑÁîüÊó•ÔºåÂ¶ÇÊûúÊòØÁöÑËØù‰æøÂèëÈÄÅÁîüÊó•Á•ùÁ¶è„ÄÇÂêåÊ†∑ÁöÑ‰πüÊúâYearMonthÁ±ª„ÄÇJava 8 Êñ∞ÁöÑÊó•ÊúüÊó∂Èó¥APIËøòÊèê‰æõ‰∫Ü‰∏çÂêåÊó∂Âå∫ÂíåÂéÜÊ≥ïÁöÑËé∑ÂèñÊñπÊ≥ïÔºåÁî±‰∫éËæÉÂ∞ë‰ΩøÁî®ËÄå‰∏î‰∏çÊòì‰∫éÁêÜËß£ÔºåËøôÈáå‰∏çÂÜçÂàóÂá∫„ÄÇüòï]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêJava8ÂÆûÊàò„Äë‰ΩøÁî®OptionalÂèñ‰ª£null]]></title>
    <url>%2Fjava8-optional-null.html</url>
    <content type="text"><![CDATA[Âú®Java‰∏≠ÂØπ‰∏Ä‰∏™Á©∫ÂØπË±°ËøõË°åÊìç‰ΩúÊó∂Ôºå‰æø‰ºöÊäõÂá∫ÊúÄÂ∏∏ËßÅÁöÑÂºÇÂ∏∏NullPointerException„ÄÇ‰∏∫‰∫ÜÊîπÂñÑËøô‰∏™ÈóÆÈ¢òÔºåJava 8‰∏≠Êèê‰æõ‰∫Ü‰∏Ä‰∏™java.util.Optional&lt;T&gt;Á±ªÂûã„ÄÇOptionalÁ±ªÁöÑJavadocÊèèËø∞Â¶Ç‰∏ãÔºöËøôÊòØ‰∏Ä‰∏™ÂèØ‰ª•‰∏∫nullÁöÑÂÆπÂô®ÂØπË±°„ÄÇÂ¶ÇÊûúÂÄºÂ≠òÂú®ÂàôisPresent()ÊñπÊ≥ï‰ºöËøîÂõûtrueÔºåË∞ÉÁî®get()ÊñπÊ≥ï‰ºöËøîÂõûËØ•ÂØπË±°„ÄÇ‰∏ãÈù¢‰ªãÁªçOptionalÁ±ªÁöÑ‰ΩøÁî®ÊñπÊ≥ï„ÄÇ ÂÅáÂ¶ÇÊúâ‰∏Ä‰∏™ÂÉè‰∏ãÈù¢ËøôÊ†∑ÁöÑÁ±ªÂ±ÇÊ¨°ÁªìÊûÑÔºö1234567891011121314151617181920212223242526272829class Department &#123; private Employee employee; public Department(Employee employee) &#123; this.employee = employee; &#125; Employee getEmployee() &#123; return employee; &#125;&#125;class Employee &#123; private Girl girlFriend; public Employee(Girl girlFriend) &#123; this.girlFriend = girlFriend; &#125; Girl getGirlFriend() &#123; return girlFriend; &#125;&#125;class Girl &#123; private String name; public Girl(String name) &#123; this.name = name; &#125; String getName() &#123; return name; &#125;&#125;ÈÉ®Èó®DepartmentÁ±ªÂåÖÂê´‰∏Ä‰∏™ÂëòÂ∑•employeeÂ±ûÊÄßÔºåÁ±ªÂûã‰∏∫EmployeeÔºåÂëòÂ∑•EmployeeÁ±ªÂåÖÂê´girlFriendÂ±ûÊÄßÔºåÁ±ªÂûã‰∏∫Girl„ÄÇÂÅáÂ¶ÇÁé∞Âú®Ë¶ÅËé∑ÂèñÈÉ®Èó®Êüê‰∏™ÂëòÂ∑•ÁöÑÂ•≥ÊúãÂèãÔºåÊàë‰ª¨ÈÄöÂ∏∏ÊòØËøôÊ†∑Ëé∑ÂèñÁöÑÔºö1234567891011121314static String getGirlFriendName(Department department) &#123; if (department != null) &#123; Employee employee = department.getEmployee(); if (employee != null) &#123; Girl girl = employee.getGirlFriend(); if (girl != null) &#123; return girl.getName(); &#125; return "ÂçïË∫´Ê±™"; &#125; return "Ê≤°ÊúâÂëòÂ∑•"; &#125; return "ÈÉ®Èó®‰∏∫Á©∫";&#125;ÂèØ‰ª•ÁúãÂà∞ÔºåÂú®ÊØèÊ¨°ÂºïÁî®ÂèòÈáèÁöÑÂ±ûÊÄßÊó∂ÔºåÈÉΩË¶ÅÂÖàÂà§Êñ≠ÂèòÈáèÊòØÂê¶‰∏∫Á©∫ÔºåÂ¶ÇÊûú‰∏çÂÅöËØ•Ê£ÄÊü•Â∞ÜÂèØËÉΩÂØºËá¥NullPointerException„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞Ü‰ΩøÁî®OptionalÊù•ÊîπÂñÑËøôÁßçÂ±ÇÂ±ÇÂµåÂ•óÔºåÂï∞Âó¶ÁöÑ‰ª£Á†Å„ÄÇÂàõÂª∫OptionalÂàõÂª∫‰∏Ä‰∏™OptionalÂØπË±°ÊúâÂ•ΩÂá†ÁßçÊñπÂºèÔºöÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑOptionalÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÈùôÊÄÅÂ∑•ÂéÇÊñπÊ≥ïOptional.emptyÔºåÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑOptionalÂØπË±°Ôºö1Optional&lt;Department&gt; department = Optional.empty();Ê†πÊçÆÈùûÁ©∫ÂÄºÂàõÂª∫OptionalÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®ÈùôÊÄÅÂ∑•ÂéÇÊñπÊ≥ïOptional.ofÊù•ÂàõÂª∫‰∏Ä‰∏™ÈùûÁ©∫ÂØπË±°ÁöÑOptionalÂØπË±°Ôºö1Optional&lt;Employee&gt; optEmployee = Optional.of(employee);Â¶ÇÊûúemployee‰∏∫Á©∫ÔºåËøôÊÆµ‰ª£Á†Å‰ºöÁ´ãÂç≥ÊäõÂá∫‰∏Ä‰∏™NullPointerException„ÄÇÂàõÂª∫ÂèØ‰ª•‰∏∫nullÁöÑOptional‰ΩøÁî®ÈùôÊÄÅÂ∑•ÂéÇÊñπÊ≥ïOptional.ofNullableÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÂÖÅËÆ∏nullÂÄºÁöÑOptionalÂØπË±°Ôºö1Optional&lt;Employee&gt; optEmployee = Optional.ofNullable(employee);Â¶ÇÊûúemployee‰∏∫Á©∫ÔºåÂØπÂÖ∂Ë∞ÉÁî®getÊñπÊ≥ïÂ∞ÜÊäõÂá∫NoSuchElementException„ÄÇOptionalÊñπÊ≥ïOptionalÁ±ªÂåÖÂê´‰∫ÜËÆ∏Â§öÊñπÊ≥ïÔºå‰∏ãÈù¢‰ªãÁªçËøô‰∫õÊñπÊ≥ïÁöÑ‰ΩøÁî®„ÄÇisPresentÈ°æÂêçÊÄù‰πâÔºåÂ¶ÇÊûúÂÄºÂ≠òÂú®ËøîÂõûtrueÔºåÂê¶ÂàôËøîÂõûfalse„ÄÇÂ¶ÇÔºö1234 Optional&lt;Department&gt; opt = Optional.ofNullable(department);if(opt.isPresent())&#123; System.out.println(opt.get().getEmployee());&#125;getÂ¶ÇÊûúOptionalÊúâÂÄºÂàôÂ∞ÜÂÖ∂ËøîÂõûÔºåÂê¶ÂàôÊäõÂá∫NoSuchElementException„ÄÇ‰∏ãÈù¢‰∏æ‰∏™ÊäõÂá∫NoSuchElementExceptionÁöÑ‰æãÂ≠êÔºö12345try &#123; Optional.empty().get();&#125; catch (Exception e) &#123; e.printStackTrace();&#125;‰ª£Á†ÅÂ∞ÜÊçïËé∑Âà∞ java.util.NoSuchElementException: No value present ÂºÇÂ∏∏„ÄÇifPresentÂ¶ÇÊûúOptionalÂÆû‰æãÊúâÂÄºÂàô‰∏∫ÂÖ∂Ë∞ÉÁî®ConsumerÔºàÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫T -&gt; voidÔºâÔºåÂê¶Âàô‰∏çÂÅöÂ§ÑÁêÜ„ÄÇÂ¶ÇÔºö1girl.ifPresent(g -&gt; System.out.println("ÊàëÊúâÂ•≥ÊúãÂèãÔºåÂêçÂ≠óÊòØÔºö" + g.getName()));orElseÂ¶ÇÊûúOptionalÂÆû‰æãÊúâÂÄºÂàôÂ∞ÜÂÖ∂ËøîÂõûÔºåÂê¶ÂàôËøîÂõûorElseÊñπÊ≥ï‰º†ÂÖ•ÁöÑÂèÇÊï∞„ÄÇÂ¶ÇÔºö1System.out.println(Optional.empty().orElse("There is no value present!"));Á®ãÂ∫èÂ∞ÜËæìÂá∫There is no value present!„ÄÇorElseGetorElseGet‰∏éorElseÊñπÊ≥ïÁ±ª‰ººÔºåorElseÊñπÊ≥ïÂ∞Ü‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫ÈªòËÆ§ÂÄºÔºåËÄåorElseGetÊñπÊ≥ïÂèØ‰ª•Êé•ÂèóSupplierÔºàÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫() -&gt; TÔºâÊù•ÁîüÊàêÈªòËÆ§ÂÄº„ÄÇÂ¶ÇÔºö1System.out.println(Optional.empty().orElseGet(() -&gt; "There is no value present!"));Á®ãÂ∫èÂêåÊ†∑ËæìÂá∫There is no value present!„ÄÇorElseThrowÂ¶ÇÊûúÊúâÂÄºÂàôÂ∞ÜÂÖ∂ËøîÂõûÔºåÂê¶ÂàôÊäõÂá∫SupplierÊé•Âè£ÂàõÂª∫ÁöÑÂºÇÂ∏∏„ÄÇÂ¶ÇÔºö12345try &#123; Optional.empty().orElseThrow(NoSuchElementException::new);&#125; catch (Exception e) &#123; e.printStackTrace();&#125;‰ª£Á†ÅÂ∞ÜÊçïËé∑Âà∞ java.util.NoSuchElementException: No value present ÂºÇÂ∏∏„ÄÇmapÂ¶ÇÊûúOptionalÊúâÂÄºÔºåÂàôÂØπÂÖ∂ÊâßË°åË∞ÉÁî®FunctionÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫ÔºàT -&gt; RÔºâÂæóÂà∞ËøîÂõûÂÄº„ÄÇÂ¶ÇÊûúËøîÂõûÂÄº‰∏ç‰∏∫nullÔºåÂàôÂàõÂª∫ÂåÖÂê´FunctionÂõûÂÄºÁöÑOptional‰Ωú‰∏∫mapÊñπÊ≥ïËøîÂõûÂÄºÔºåÂê¶ÂàôËøîÂõûÁ©∫Optional„ÄÇ12Optional&lt;String&gt; upperName = name.map(String::toUpperCase);System.out.println(upperName.orElse("No value found"));flatMapÂ¶ÇÊûúÊúâÂÄºÔºå‰∏∫ÂÖ∂ÊâßË°åFunctionÂáΩÊï∞ËøîÂõûOptionalÁ±ªÂûãËøîÂõûÂÄºÔºåÂê¶ÂàôËøîÂõûÁ©∫Optional„ÄÇflatMap‰∏émapÊñπÊ≥ïÁ±ª‰ººÔºåÂå∫Âà´Âú®‰∫éflatMap‰∏≠ÁöÑFunctionÂáΩÊï∞ËøîÂõûÂÄºÂøÖÈ°ªÊòØOptional„ÄÇË∞ÉÁî®ÁªìÊùüÊó∂ÔºåflatMap‰∏ç‰ºöÂØπÁªìÊûúÁî®OptionalÂ∞ÅË£Ö„ÄÇÂ¶ÇÔºö12upperName = name.flatMap((value) -&gt; Optional.of(value.toUpperCase()));System.out.println(upperName.orElse("No value found"));filterfilter‰∏™ÊñπÊ≥ïÈÄöËøá‰º†ÂÖ•PredicateÔºàÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫T -&gt; BooleanÔºâÂØπOptionalÂÆû‰æãÁöÑÂÄºËøõË°åËøáÊª§„ÄÇÂ¶ÇÔºö123Optional&lt;String&gt; name = Optional.of("Jane");Optional&lt;String&gt; LongName = name.filter((value) -&gt; value.length() &gt;= 3);System.out.println(LongName.orElse("ÂêçÂ≠óÈïøÂ∫¶Â∞è‰∫é3‰∏™Â≠óÁ¨¶"));ÊñπÊ≥ïËæìÂá∫Jane„ÄÇÂÆûÊàò‰ªãÁªçÂÆåOptionalÁ±ªÁöÑÊñπÊ≥ïÂêéÔºåÊàë‰ª¨‰ΩøÁî®OptionalÊîπÂñÑ‰∏ÄÂºÄÂßãÁöÑ‰ª£Á†ÅÔºö1234567static String getGirlFriendName(Department department) &#123; Optional&lt;Department&gt; opt = Optional.ofNullable(department); return opt.map(Department::getEmployee) .map(Employee::getGirlFriend) .map(Girl::getName) .orElseThrow(NoSuchElementException::new);&#125;Êï¥Ê¥ÅËÄåÂèà‰∏çÂ§±ÈÄºÊ†º„ÄÇ„ÄäJava 8ÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêJava8ÂÆûÊàò„Äë‰ΩøÁî®Âπ∂Ë°åÊµÅ]]></title>
    <url>%2FJava8-parallelStream.html</url>
    <content type="text"><![CDATA[Èô§‰∫ÜÈ°∫Â∫èÊµÅÂ§ñÔºåJava 8‰∏≠‰πüÂèØ‰ª•ÂØπÈõÜÂêàÂØπË±°Ë∞ÉÁî®parallelStreamÊñπÊ≥ïÊàñËÄÖÂØπÈ°∫Â∫èÊµÅË∞ÉÁî®parallelÊñπÊ≥ïÊù•ÁîüÊàêÂπ∂Ë°åÊµÅ„ÄÇÂπ∂Ë°åÊµÅÂ∞±ÊòØ‰∏Ä‰∏™ÊääÂÜÖÂÆπÂàÜÊàêÂ§ö‰∏™Êï∞ÊçÆÂùóÔºåÂπ∂Áî®‰∏çÂêåÁöÑÁ∫øÁ®ãÂàÜÂà´Â§ÑÁêÜÊØè‰∏™Êï∞ÊçÆÂùóÁöÑÊµÅ„ÄÇËøôÊ†∑Âú®‰ΩøÁî®ÊµÅÂ§ÑÁêÜÊï∞ÊçÆËßÑÊ®°ËæÉÂ§ßÁöÑÈõÜÂêàÂØπË±°Êó∂ÂèØ‰ª•ÂÖÖÂàÜÁöÑÂà©Áî®Â§öÊ†∏CPUÊù•ÊèêÈ´òÂ§ÑÁêÜÊïàÁéá„ÄÇ‰∏çËøáÂú®‰∏Ä‰∫õÊÉÖÂÜµ‰∏ãÔºåÂπ∂Ë°åÊµÅÊú™ÂøÖ‰ºöÊØîÈ°∫Â∫èÊµÅÂø´ÔºåÁîöËá≥‰ºöÊÖ¢ÂæàÂ§öÔºåÊâÄ‰ª•‰∫ÜËß£Â¶Ç‰ΩïÈ´òÊïàÁöÑ‰ΩøÁî®Âπ∂Ë°åÊµÅ‰πüËá≥ÂÖ≥ÈáçË¶Å„ÄÇÊ≠§Â§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ë∞ÉÁî®ÊµÅÁöÑsequentialÊñπÊ≥ïÔºåÂ∞ÜÂπ∂Ë°åÊµÅËΩ¨Êç¢‰∏∫È°∫Â∫èÊµÅ„ÄÇÊµãËØïÂπ∂Ë°åÊµÅÁöÑÊÄßËÉΩ‰∏æ‰∏™‰æãÂ≠êÔºåÂØπ1Âà∞1000ÁöÑÊï¥Êï∞Ê±ÇÂíåÔºåËßÇÂØüÈ°∫Â∫èÊµÅÂíåÂπ∂Ë°åÊµÅÁöÑÂ§ÑÁêÜÊó∂Èó¥Ôºö1234567891011121314public class StreamExample &#123; public static void main(String[] args) &#123; StreamExample.test((n) -&gt; LongStream.rangeClosed(1L, n).reduce(0L, Long::sum), 1000L); StreamExample.test((n) -&gt; LongStream.rangeClosed(1L, n).parallel().reduce(0L, Long::sum), 1000L); &#125; static void test(LongConsumer c, Long n) &#123; long start = System.currentTimeMillis(); c.accept(n); long end = System.currentTimeMillis(); System.out.println("Â§ÑÁêÜÊó∂Èó¥Ôºö" + (end - start) + "msc"); &#125;&#125;ËøêË°åÁªìÊûúÔºö12Â§ÑÁêÜÊó∂Èó¥Ôºö9mscÂ§ÑÁêÜÊó∂Èó¥Ôºö484mscÁªìÊûúÂíåÊàë‰ª¨È¢ÑÊúüÁöÑ‰∏ç‰∏ÄËá¥ÔºåËøôÊòØÂõ†‰∏∫Âú®Â§ÑÁêÜÊï∞ÊçÆÈõÜËßÑÊ®°‰∏çÂ§ßÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞ÜÊµÅÂπ∂Ë°åÂåñÊâÄÂ∏¶Êù•ÁöÑÈ¢ùÂ§ñÂºÄÈîÄÊØîÈÄªËæë‰ª£Á†ÅÂºÄÈîÄËøòÂ§ß„ÄÇÊàë‰ª¨Â∞ÜÊï∞ÊçÆÈõÜÊâ©Â§ßÔºö12StreamExample.test((n) -&gt; LongStream.rangeClosed(1L, n).reduce(0L, Long::sum), 1000000000L);StreamExample.test((n) -&gt; LongStream.rangeClosed(1L, n).parallel().reduce(0L, Long::sum), 1000000000L);ËøêË°åÁªìÊûúÔºö12Â§ÑÁêÜÊó∂Èó¥Ôºö2775mscÂ§ÑÁêÜÊó∂Èó¥Ôºö725mscÂØπ‰∫éËæÉÂ∞èÁöÑÊï∞ÊçÆÈáèÔºåÈÄâÊã©Âπ∂Ë°åÊµÅ‰∏çÊòØ‰∏Ä‰∏™Â•ΩÁöÑÂÜ≥ÂÆö„ÄÇÂπ∂Ë°åÂ§ÑÁêÜÂ∞ëÊï∞Âá†‰∏™ÂÖÉÁ¥†ÁöÑÂ•ΩÂ§ÑËøòÊäµ‰∏ç‰∏äÂπ∂Ë°åÂåñÈÄ†ÊàêÁöÑÈ¢ùÂ§ñÂºÄÈîÄ„ÄÇËÆæNÊòØË¶ÅÂ§ÑÁêÜÁöÑÂÖÉÁ¥†ÁöÑÊÄªÊï∞ÔºåQÊòØ‰∏Ä‰∏™ÂÖÉÁ¥†ÈÄöËøáÊµÅÊ∞¥Á∫øÁöÑÂ§ßËá¥Â§ÑÁêÜÊàêÊú¨ÔºåÂàôN*QÂ∞±ÊòØËøô‰∏™ÂØπÊàêÊú¨ÁöÑ‰∏Ä‰∏™Á≤óÁï•ÁöÑÂÆöÊÄß‰º∞ËÆ°„ÄÇQÂÄºËæÉÈ´òÂ∞±ÊÑèÂë≥ÁùÄ‰ΩøÁî®Âπ∂Ë°åÊµÅÊó∂ÊÄßËÉΩÂ•ΩÁöÑÂèØËÉΩÊÄßÊØîËæÉÂ§ß„ÄÇÊé•ÁùÄÂØπÊØî‰∏ã‰ΩøÁî®Âπ∂Ë°åÊµÅÂ§ÑÁêÜÂåÖË£ÖÁ±ªÂûãÁöÑÊ±ÇÂíå‰∏éÂéüÂßãÁ±ªÂûãÁöÑÊ±ÇÂíåËøêË°åÊó∂Èó¥ÂØπÊØîÔºö12StreamExample.test((n) -&gt; Stream.iterate(1L, a -&gt; a + 1L).limit(n).reduce(0L, Long::sum), 1000000000L);StreamExample.test((n) -&gt; LongStream.rangeClosed(1L, n).parallel().reduce(0L, Long::sum), 1000000000L);ËøêË°åÁªìÊûúÔºö12Â§ÑÁêÜÊó∂Èó¥Ôºö21915mscÂ§ÑÁêÜÊó∂Èó¥Ôºö920mscÂõ†‰∏∫iterateÁîüÊàêÁöÑÊòØÂåÖË£ÖÁ±ªÂûãÁöÑÂØπË±°ÔºåÂøÖÈ°ªÊãÜÁÆ±ÊàêÂéüÂßãÁ±ªÂûãÊâçËÉΩÊ±ÇÂíåÔºåËÄå‰∏îÊàë‰ª¨ÂæàÈöæÊääiterateÂàÜÊàêÂ§ö‰∏™Áã¨Á´ãÂùóÊù•Âπ∂Ë°åÊâßË°å„ÄÇÊâÄ‰ª•ÂèØ‰ª•ÁúãÂà∞Êù•‰∏§ËÄÖÈó¥ÁöÑËøêË°åÊïàÁéáÂ∑Æ‰∫ÜÂ∞ÜËøë24ÂÄçÔºÅÂú®ÂÆûÈôÖ‰∏≠Â∫îÈÅøÂÖçÈ¢ëÁπÅÊãÜË£ÖÁÆ±ÔºõÊúâ‰∫õÊìç‰ΩúÊú¨Ë∫´Âú®Âπ∂Ë°åÊµÅ‰∏äÁöÑÊÄßËÉΩÂ∞±ÊØîÈ°∫Â∫èÊµÅÂ∑Æ„ÄÇÁâπÂà´ÊòØlimitÂíåfindFirstÁ≠â‰æùËµñ‰∫éÂÖÉ Á¥†È°∫Â∫èÁöÑÊìç‰ΩúÔºåÂÆÉ‰ª¨Âú®Âπ∂Ë°åÊµÅ‰∏äÊâßË°åÁöÑ‰ª£‰ª∑ÈùûÂ∏∏Â§ß„ÄÇ‰æãÂ¶ÇÔºåfindAny‰ºöÊØîfindFirstÊÄß ËÉΩÂ•ΩÔºåÂõ†‰∏∫ÂÆÉ‰∏ç‰∏ÄÂÆöË¶ÅÊåâÈ°∫Â∫èÊù•ÊâßË°å„ÄÇÂÜçÁúã‰∏Ä‰∏™‰æãÂ≠êÔºö12345678910111213141516171819202122public class StreamExample &#123; public static void main(String[] args) &#123; ArrayList&lt;Long&gt; arrayList = Stream.iterate(1L, a -&gt; a + 1L).limit(10000000L).collect(toCollection(ArrayList::new)); LinkedList&lt;Long&gt; linkedList = Stream.iterate(1L, a -&gt; a + 1L).limit(10000000L).collect(toCollection(LinkedList::new)); StreamExample.test(() -&gt; arrayList.parallelStream().reduce(0L, Long::sum)); StreamExample.test(() -&gt; linkedList.parallelStream().reduce(0L, Long::sum)); &#125; static void test(Runner r) &#123; long start = System.currentTimeMillis(); r.run(); long end = System.currentTimeMillis(); System.out.println("Â§ÑÁêÜÊó∂Èó¥Ôºö" + (end - start) + "msc"); &#125;&#125;@FunctionalInterfaceinterface Runner &#123; void run();&#125;‰∏äÈù¢‰ª£Á†ÅÂØπÊØî‰∫Ü‰ΩøÁî®Âπ∂Ë°åÊµÅÂ§ÑÁêÜArrayListÂíå‰ΩøÁî®Âπ∂Ë°åÊµÅÂ§ÑÁêÜLinkedListÁöÑÊÄßËÉΩÂØπÊØîÔºåËøêË°åÁªìÊûúÂ¶Ç‰∏ãÔºö12Â§ÑÁêÜÊó∂Èó¥Ôºö1258mscÂ§ÑÁêÜÊó∂Èó¥Ôºö7933msc‰πãÊâÄ‰ª•Âá∫Áé∞Ëøô‰∏™ÁªìÊûúÔºåÊòØÂõ†‰∏∫ArrayListÁöÑÊãÜÂàÜÊïàÁéáÊØîLinkedListÈ´òÂæóÂ§öÔºåÂâçËÄÖÁî®‰∏çÁùÄÈÅçÂéÜÂ∞±ÂèØ‰ª•Âπ≥ÂùáÊãÜÂàÜÔºåËÄåÂêéËÄÖÂàôÂøÖÈ°ªÈÅçÂéÜ„ÄÇ‰ΩøÁî®Âπ∂Ë°åÊµÅË¶ÅËÄÉËôëÊµÅËÉåÂêéÁöÑÊï∞ÊçÆÁªìÊûÑÊòØÂê¶Êòì‰∫éÂàÜËß£„ÄÇÁî®rangeÊñπÊ≥ïÂàõÂª∫ÁöÑÂéüÂßãÁ±ªÂûãÊµÅ‰πüÂèØ‰ª•Âø´ÈÄüÂàÜËß£„ÄÇ‰∏ãË°®ÂàóÂá∫‰∫ÜÊµÅÁöÑÊï∞ÊçÆÊ∫êÂíåÂèØÂàÜËß£ÊÄßÔºöÊï∞ÊçÆÊ∫êÂèØÂàÜËß£ÊÄßArrayListÂæàÂ•ΩLinkedListÂæàÂ∑ÆIntStream.rangeÂæàÂ•ΩStream.iterateÂæàÂ∑ÆHashSetÂ•ΩTreeSetÂ•ΩÊÄªÁªìÊÄªËÄåË®Ä‰πãÔºå‰ΩøÁî®Âπ∂Ë°åÊµÅÂ∫îËØ•ËÄÉËôë‰ª•‰∏ãÂá†ÁÇπÔºöÁïôÊÑèÊãÜË£ÖÁÆ±ÊàêÊú¨ÔºõÊµÅ‰∏≠‰æùËµñ‰∫éÂÖÉÁ¥†È°∫Â∫èÁöÑÊìç‰ΩúÔºåÂú®Âπ∂Ë°åÊµÅ‰∏äÊâßË°åÁöÑ‰ª£‰ª∑ÈùûÂ∏∏Â§ßÔºõËÄÉËôëÊµÅÁöÑÊµÅÊ∞¥Á∫øÊìç‰ΩúÊÄªÊàêÊú¨ÔºåÂØπ‰∫éËæÉÂ∞èÁöÑÊï∞ÊçÆÈáèÔºåÂπ∂‰∏çÈÄÇÂêà‰ΩøÁî®Âπ∂Ë°åÊµÅÔºõËÄÉËôëÊµÅËÉåÂêéÁöÑÊï∞ÊçÆÁªìÊûÑÊòØÂê¶Êòì‰∫éÂàÜËß£Ôºå‰∏çÊòìÂàÜËß£ÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏çÈÄÇÂêà‰ΩøÁî®Âπ∂Ë°åÊµÅ„ÄÇ„ÄäJava 8ÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêJava8ÂÆûÊàò„Äë‰ΩøÁî®ÊµÅÊî∂ÈõÜÊï∞ÊçÆ]]></title>
    <url>%2Fjava8stream2.html</url>
    <content type="text"><![CDATA[Âú®‰∏ä‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨‰∫ÜËß£Âà∞ÁªàÁ´ØÊìç‰ΩúcollectÊñπÊ≥ïÁî®‰∫éÊî∂ÈõÜÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÊîæÂà∞‰∏çÂêåÁ±ªÂûãÁöÑÁªìÊûú‰∏≠ÔºåÊØîÂ¶ÇList„ÄÅSetÊàñËÄÖMap„ÄÇÂÖ∂ÂÆûcollectÊñπÊ≥ïÂèØ‰ª•Êé•ÂèóÂêÑÁßçCollectorsÊé•Âè£ÁöÑÈùôÊÄÅÊñπÊ≥ï‰Ωú‰∏∫ÂèÇÊï∞Êù•ÂÆûÁé∞Êõ¥‰∏∫Âº∫Â§ßÁöÑËßÑÁ∫¶Êìç‰ΩúÔºåÊØîÂ¶ÇÊü•ÊâæÊúÄÂ§ßÂÄºÊúÄÂ∞èÂÄºÔºåÊ±áÊÄªÔºåÂàÜÂå∫ÂíåÂàÜÁªÑÁ≠âÁ≠â„ÄÇÂáÜÂ§áÂ∑•‰Ωú‰∏∫‰∫ÜÊºîÁ§∫CollectorsÊé•Âè£‰∏≠ÁöÑÈùôÊÄÅÊñπÊ≥ï‰ΩøÁî®ÔºåËøôÈáåÂàõÂª∫‰∏Ä‰∏™DishÁ±ªÔºàËèúË∞±Á±ªÔºâÔºö12345678910111213141516171819202122232425public class Dish &#123; public enum Type &#123;MEAT, FISH, OTHER&#125; /** È£üÁâ©ÂêçÁß∞ */ private final String name; /** ÊòØÂê¶ÊòØÁ¥†È£ü */ private final boolean vegetarian; /** Âç°Ë∑ØÈáå */ private final int calories; /** Á±ªÂûãÔºöËÇâÔºåÊµ∑È≤úÔºåÂÖ∂‰ªñ */ private final Type type; public Dish(String name, boolean vegetarian, int calories, Type type) &#123; this.name = name; this.vegetarian = vegetarian; this.calories = calories; this.type = type; &#125; @Override public String toString() &#123; return this.getName(); &#125; // get,setÁï•&#125;ÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ListÔºåÂåÖÂê´ÂêÑÁßçÈ£üÊùêÔºö12345678910List&lt;Dish&gt; list = Arrays.asList( new Dish("pork", false, 800, Dish.Type.MEAT), new Dish("beef", false, 700, Dish.Type.MEAT), new Dish("chicken", false, 400, Dish.Type.MEAT), new Dish("french fries", true, 530, Dish.Type.OTHER), new Dish("rice", true, 350, Dish.Type.OTHER), new Dish("season fruit", true, 120, Dish.Type.OTHER), new Dish("pizza", true, 550, Dish.Type.OTHER), new Dish("prawns", false, 300, Dish.Type.FISH), new Dish("salmon", false, 450, Dish.Type.FISH) );Âú®ÊµãËØïÁ±ª‰∏≠ÂØºÂÖ•ÊâÄÊúâCollectorsÊé•Âè£ÁöÑÈùôÊÄÅÊñπÊ≥ïÔºö1import static java.util.stream.Collectors.*;ËßÑÁ∫¶‰∏éÊ±áÊÄªÊúÄÂ§ßÊúÄÂ∞èÂÄºCollectors.maxByÂíåCollectors.minByÁî®Êù•ËÆ°ÁÆóÊµÅ‰∏≠ÁöÑÊúÄÂ§ßÊàñÊúÄÂ∞èÂÄºÔºåÊØîÂ¶ÇÊåâÂç°Ë∑ØÈáåÁöÑÂ§ßÂ∞èÊù•Á≠õÈÄâÂá∫Âç°Ë∑ØÈáåÊúÄÈ´òÁöÑÈ£üÊùêÔºö123list.stream() .collect(maxBy(Comparator.comparingInt(Dish::getCalories))) .ifPresent(System.out::println);ËæìÂá∫pork„ÄÇÊ±áÊÄªCollectors.summingIntÂèØ‰ª•Áî®‰∫éÊ±ÇÂíåÔºåÂèÇÊï∞Á±ªÂûã‰∏∫intÁ±ªÂûã„ÄÇÁõ∏Â∫îÁöÑÂü∫Êú¨Á±ªÂûãÂØπÂ∫îÁöÑÊñπÊ≥ïËøòÊúâCollectors.summingLongÂíåCollectors.summingDouble„ÄÇÊØîÂ¶ÇÊ±ÇÊâÄÊúâÈ£üÊùêÁöÑÂç°Ë∑ØÈáåÔºö1list.stream().collect(summingInt(Dish::getCalories)); // 4200Collectors.averagingIntÊñπÊ≥ïÁî®‰∫éÊ±ÇÂπ≥ÂùáÂÄºÔºåÂèÇÊï∞Á±ªÂûã‰∏∫intÁ±ªÂûã„ÄÇÁõ∏Â∫îÁöÑÂü∫Êú¨Á±ªÂûãÂØπÂ∫îÁöÑÊñπÊ≥ïËøòÊúâCollectors.averagingLongÂíåCollectors.averagingDouble„ÄÇÊØîÂ¶ÇÊ±ÇÊâÄÊúâÈ£üÊùêÁöÑÂπ≥ÂùáÂç°Ë∑ØÈáå:1list.stream().collect(averagingInt(Dish::getCalories)); // 466.6666666666667Collectors.summarizingIntÊñπÊ≥ïÂèØ‰ª•‰∏ÄÊ¨°ÊÄßËøîÂõûÂÖÉÁ¥†‰∏™Êï∞ÔºåÊúÄÂ§ßÂÄºÔºåÊúÄÂ∞èÂÄºÔºåÂπ≥ÂùáÂÄºÂíåÊÄªÂíåÔºö12IntSummaryStatistics iss = list.stream().collect(summarizingInt(Dish::getCalories));System.out.println(iss); // IntSummaryStatistics&#123;count=9, sum=4200, min=120, average=466.666667, max=800&#125;ÂêåÊ†∑ÔºåÁõ∏Â∫îÁöÑsummarizingLongÂíåsummarizingDoubleÊñπÊ≥ïÊúâÁõ∏ÂÖ≥ÁöÑLongSummaryStatisticsÂíåDoubleSummaryStatisticsÁ±ªÂûãÔºåÈÄÇÁî®‰∫éÊî∂ÈõÜÁöÑÂ±ûÊÄßÊòØÂéüÂßãÁ±ªÂûãlongÊàñdoubleÁöÑÊÉÖÂÜµ„ÄÇÊãºÊé•Collectors.joiningÊñπÊ≥ï‰ºöÊääÊµÅ‰∏≠ÊØè‰∏Ä‰∏™ÂØπË±°Â∫îÁî®toStringÊñπÊ≥ïÂæóÂà∞ÁöÑÊâÄÊúâÂ≠óÁ¨¶‰∏≤ËøûÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÂ¶ÇÔºö12list.stream().map(Dish::getName).collect(joining()); // porkbeefchickenfrench friesriceseason fruitpizzaprawnssalmonÂÜÖÈÉ®ÊãºÊé•ÈááÁî®‰∫ÜStringBuilder„ÄÇÈô§Ê≠§‰πãÂ§ñÔºå‰πüÂèØ‰ª•ÊåáÂÆöÊãºÊé•Á¨¶Ôºö12list.stream().map(Dish::getName).collect(joining("Ôºå"));// porkÔºåbeefÔºåchickenÔºåfrench friesÔºåriceÔºåseason fruitÔºåpizzaÔºåprawnsÔºåsalmonreducingCollectors.reducingÊñπÊ≥ïÂèØ‰ª•ÂÆûÁé∞Ê±ÇÂíåÔºåÊúÄÂ§ßÂÄºÊúÄÂ∞èÂÄºÁ≠õÈÄâÔºåÊãºÊé•Á≠âÊìç‰Ωú„ÄÇ‰∏äÈù¢‰ªãÁªçÁöÑÊñπÊ≥ïÂú®ÁºñÁ®ã‰∏äÊõ¥Êñπ‰æøÂø´Êç∑Ôºå‰ΩÜreducingÁöÑÂèØËØªÊÄßÊõ¥È´òÔºåÂÆûÈôÖ‰ΩøÁî®Âì™ÁßçÊàëËßâÂæóËøòÊòØÁúã‰∏™‰∫∫ÂñúÂ•Ω„ÄÇ‰∏æ‰∏™‰ΩøÁî®reducingÊ±ÇÊúÄÂ§ßÂÄºÁöÑ‰æãÂ≠êÔºö1list.stream().collect(reducing(0, Dish::getCalories, Integer::max)); // 800ÊàñËÄÖÔºö1list.stream().map(Dish::getCalories).collect(reducing(0, Integer::max)); // 800ÂàÜÁªÑÂàÜÁªÑÂäüËÉΩÁ±ª‰ºº‰∫éSQLÈáåÁöÑgroup byÔºåÂèØ‰ª•ÂØπÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ÊåâÁÖßÊåáÂÆöÂàÜÁªÑËßÑÂàôËøõË°åÂàÜÁªÑ„ÄÇÊôÆÈÄöÂàÜÁªÑCollectors.groupingByÊñπÊ≥ïÂèØ‰ª•ËΩªÊùæÁöÑÂÆåÊàêÂàÜÁªÑÊìç‰Ωú„ÄÇÊØîÂ¶ÇÁé∞Âú®ÂØπList‰∏≠ÁöÑÈ£üÊùêÊåâÁÖßÁ±ªÂûãËøõË°åÂàÜÁªÑÔºö12Map&lt;Dish.Type, List&lt;Dish&gt;&gt; dishesByType = list.stream().collect(groupingBy(Dish::getType));System.out.println(dishesByType);ËæìÂá∫ÁªìÊûú{OTHER=[french fries, rice, season fruit, pizza], FISH=[prawns, salmon], MEAT=[pork, beef, chicken]}„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•Ëá™ÂÆö‰πâÂàÜÁªÑËßÑÂàôÔºåÊØîÂ¶ÇÊåâÁÖßÂç°Ë∑ØÈáåÁöÑÈ´ò‰ΩéÂàÜ‰∏∫È´òÁÉ≠ÈáèÔºåÊ≠£Â∏∏Âíå‰ΩéÁÉ≠ÈáèÔºöÈ¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™Âç°Ë∑ØÈáåÈ´ò‰ΩéÁöÑÊûö‰∏æÁ±ªÂûã1public enum CaloricLevel &#123; DIET, NORMAL, FAT &#125;;ÁÑ∂ÂêéÁºñÂÜôÂàÜÁªÑËßÑÂàôÔºö12345678Map&lt;CaloricLevel, List&lt;Dish&gt;&gt; dishesByCalories = list.stream().collect( groupingBy(d -&gt; &#123; if (d.getCalories() &lt;= 400) return CaloricLevel.DIET; else if (d.getCalories() &lt;= 700) return CaloricLevel.NORMAL; else return CaloricLevel.FAT; &#125;));System.out.println(dishesByCalories);ËæìÂá∫ÁªìÊûúÔºö{DIET=[chicken, rice, season fruit, prawns], NORMAL=[beef, french fries, pizza, salmon], FAT=[pork]}„ÄÇÂ§öÁ∫ßÂàÜÁªÑCollectors.groupingByÊîØÊåÅÂµåÂ•óÂÆûÁé∞Â§öÁ∫ßÂàÜÁªÑÔºåÊØîÂ¶ÇÂ∞ÜÈ£üÊùêÊåâÁÖßÁ±ªÂûãÂàÜÁ±ªÔºåÁÑ∂ÂêéÂÜçÊåâÁÖßÂç°Ë∑ØÈáåÁöÑÈ´ò‰ΩéÂàÜÁ±ªÔºö12345678 Map&lt;Dish.Type, Map&lt;CaloricLevel, List&lt;Dish&gt;&gt;&gt; dishesGroup = list.stream().collect( groupingBy(Dish::getType, groupingBy(d -&gt; &#123; if (d.getCalories() &lt;= 400) return CaloricLevel.DIET; else if (d.getCalories() &lt;= 700) return CaloricLevel.NORMAL; else return CaloricLevel.FAT; &#125;) ));System.out.println(dishesGroup);ËøîÂõûÁªìÊûúÊòØ‰∏Ä‰∏™‰∫åÁ∫ßMapÔºåËæìÂá∫ÁªìÊûú{FISH={DIET=[prawns], NORMAL=[salmon]}, OTHER={DIET=[rice, season fruit], NORMAL=[french fries, pizza]}, MEAT={DIET=[chicken], FAT=[pork], NORMAL=[beef]}}„ÄÇÂÆûÈôÖ‰∏äÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞Èô§‰∫ÜCollectors.groupingByÂ§ñÔºå‰πüÂèØ‰ª•‰º†ÈÄíÂÖ∂‰ªñËßÑÁ∫¶Êìç‰ΩúÔºåËßÑÁ∫¶ÁöÑÁªìÊûúÁ±ªÂûãÂØπÂ∫îMapÈáåÁöÑÁ¨¨‰∫å‰∏™Ê≥õÂûã„ÄÇ‰∏æ‰∫õ‰æãÂ≠êÔºåÂ∞ÜÈ£üÊùêÊåâÁÖßÁ±ªÂûãÂàÜÔºåÁÑ∂ÂêéÁªüËÆ°ÂêÑ‰∏™Á±ªÂûãÂØπÂ∫îÁöÑÊï∞ÈáèÔºö12Map&lt;Dish.Type, Long&gt; dishesCountByType = list.stream().collect(groupingBy(Dish::getType,counting()));System.out.println(dishesCountByType);Âõ†‰∏∫Collectors.countingÊñπÊ≥ïËøîÂõûLongÁ±ªÂûãÔºåÊâÄ‰ª•MapÁ¨¨‰∫å‰∏™Ê≥õÂûã‰πüÂøÖÈ°ªÊåáÂÆö‰∏∫Long„ÄÇËæìÂá∫ÁªìÊûúÔºö{OTHER=4, FISH=2, MEAT=3}„ÄÇÊàñËÄÖÂØπÈ£üÊùêÊåâÁÖßÁ±ªÂûãÂàÜÔºåÁÑ∂ÂêéÈÄâÂá∫Âç°Ë∑ØÈáåÊúÄÈ´òÁöÑÈ£üÁâ©Ôºö1234Map&lt;Dish.Type, Optional&lt;Dish&gt;&gt; map = list.stream().collect(groupingBy( Dish::getType, maxBy(Comparator.comparing(Dish::getCalories))));System.out.println(map);ËæìÂá∫ÁªìÊûúÔºö{OTHER=Optional[pizza], MEAT=Optional[pork], FISH=Optional[salmon]}„ÄÇÂ¶ÇÊûú‰∏çÂ∏åÊúõËæìÂá∫ÁªìÊûúÂåÖÂê´OptionalÔºåÂèØ‰ª•‰ΩøÁî®Collectors.collectingAndThenÊñπÊ≥ïÔºö1234Map&lt;Dish.Type, Dish&gt; map = list.stream().collect(groupingBy( Dish::getType, collectingAndThen(maxBy(Comparator.comparing(Dish::getCalories)), Optional::get)));System.out.println(map);ËæìÂá∫ÁªìÊûúÔºö{OTHER=pizza, FISH=salmon, MEAT=pork}„ÄÇÂ∏∏‰∏éCollectors.groupingByÁªÑÂêà‰ΩøÁî®ÁöÑÊñπÊ≥ïËøòÊúâCollectors.mapping„ÄÇCollectors.mappingÊñπÊ≥ïÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÂáΩÊï∞ÂØπÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ÂÅöÂèòÊç¢ÔºåÂè¶‰∏Ä‰∏™ÂàôÂ∞ÜÂèòÊç¢ÁöÑÁªìÊûúÂØπË±°Êî∂ÈõÜËµ∑Êù•ÔºåÊØîÂ¶ÇÂØπÈ£üÊùêÊåâÁÖßÁ±ªÂûãÂàÜÁ±ªÔºåÁÑ∂ÂêéËæìÂá∫ÂêÑÁßçÁ±ªÂûãÈ£üÊùê‰∏ãÂç°Ë∑ØÈáåÁ≠âÁ∫ßÊÉÖÂÜµÔºö12345678910Map&lt;Dish.Type, HashSet&lt;CaloricLevel&gt;&gt; map = list.stream().collect(groupingBy( Dish::getType, mapping( d -&gt; &#123; if (d.getCalories() &lt;= 400) return CaloricLevel.DIET; else if (d.getCalories() &lt;= 700) return CaloricLevel.NORMAL; else return CaloricLevel.FAT; &#125;, toCollection(HashSet::new) )));System.out.println(map);Collectors.toCollectionÊñπÊ≥ïÂèØ‰ª•Êñπ‰æøÁöÑÊûÑÈÄ†ÂêÑÁßçÁ±ªÂûãÁöÑÈõÜÂêà„ÄÇËæìÂá∫ÁªìÊûúÔºö{FISH=[DIET, NORMAL], MEAT=[DIET, NORMAL, FAT], OTHER=[DIET, NORMAL]}„ÄÇÂàÜÂå∫ÂàÜÂå∫Á±ª‰ºº‰∫éÂàÜÁªÑÔºåÂè™‰∏çËøáÂàÜÂå∫ÊúÄÂ§ö‰∏§ÁßçÁªìÊûú„ÄÇCollectors.partitioningByÊñπÊ≥ïÁî®‰∫éÂàÜÂå∫Êìç‰ΩúÔºåÊé•Êî∂‰∏Ä‰∏™Predicate&lt;T&gt;Á±ªÂûãÁöÑLambdaË°®ËææÂºè‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÊØîÂ¶ÇÂ∞ÜÈ£üÊùêÊåâÁÖßÁ¥†È£ü‰∏éÂê¶ÂàÜÁ±ªÔºö12Map&lt;Boolean, List&lt;Dish&gt;&gt; map = list.stream().collect(partitioningBy(Dish::isVegetarian));System.out.println(map);ËæìÂá∫ÁªìÊûúÔºö{false=[pork, beef, chicken, prawns, salmon], true=[french fries, rice, season fruit, pizza]}„ÄÇCollectors.partitioningByÊñπÊ≥ïËøòÊîØÊåÅ‰º†ÂÖ•ÂàÜÁªÑÂáΩÊï∞ÊàñËÄÖÂÖ∂‰ªñËßÑÁ∫¶Êìç‰ΩúÔºåÊØîÂ¶ÇÂ∞ÜÈ£üÊùêÊåâÁÖßÁ¥†È£ü‰∏éÂê¶ÂàÜÁ±ªÔºåÁÑ∂ÂêéÊåâÁÖßÈ£üÊùêÁ±ªÂûãËøõË°åÂàÜÁ±ªÔºö123Map&lt;Boolean, Map&lt;Dish.Type, List&lt;Dish&gt;&gt;&gt; map = list.stream().collect( partitioningBy(Dish::isVegetarian, groupingBy(Dish::getType)));System.out.println(map);ËæìÂá∫ÁªìÊûúÔºö{false={MEAT=[pork, beef, chicken], FISH=[prawns, salmon]}, true={OTHER=[french fries, rice, season fruit, pizza]}}„ÄÇÂÜçÂ¶ÇÂ∞ÜÈ£üÊùêÊåâÁÖßÁ¥†È£ü‰∏éÂê¶ÂàÜÁ±ªÔºåÁÑ∂ÂêéÁ≠õÈÄâÂá∫ÂêÑËá™Á±ªÂûã‰∏≠Âç°Ë∑ØÈáåÂê´ÈáèÊúÄ‰ΩéÁöÑÈ£üÊùêÔºö12345Map&lt;Boolean, Dish&gt; map = list.stream().collect( partitioningBy(Dish::isVegetarian, collectingAndThen( minBy(Comparator.comparing(Dish::getCalories)), Optional::get )));System.out.println(map);ËæìÂá∫ÁªìÊûúÔºö{false=prawns, true=season fruit}„ÄÇ„ÄäJava 8ÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêJava8ÂÆûÊàò„ÄëÂºÄÂßã‰ΩøÁî®ÊµÅ]]></title>
    <url>%2Fjava8stream1.html</url>
    <content type="text"><![CDATA[Java 8 ‰∏≠ÁöÑ Stream ‰øóÁß∞‰∏∫ÊµÅÔºåÂÆÉ‰∏é java.io ÂåÖÈáåÁöÑ InputStream Âíå OutputStream ÊòØÂÆåÂÖ®‰∏çÂêåÁöÑÊ¶ÇÂøµ„ÄÇStream Áî®‰∫éÂØπÈõÜÂêàÂØπË±°ËøõË°åÂêÑÁßçÈùûÂ∏∏‰æøÂà©„ÄÅÈ´òÊïàÁöÑËÅöÂêàÊìç‰ΩúÔºåÊàñËÄÖÂ§ßÊâπÈáèÊï∞ÊçÆÊìç‰Ωú„ÄÇStream API ÂÄüÂä©‰∫éLambda Ë°®ËææÂºèÔºåÊûÅÂ§ßÁöÑÊèêÈ´òÁºñÁ®ãÊïàÁéáÂíåÁ®ãÂ∫èÂèØËØªÊÄß„ÄÇÂêåÊó∂ÂÆÉÊèê‰æõ‰∏≤Ë°åÂíåÂπ∂Ë°å‰∏§ÁßçÊ®°ÂºèËøõË°åÊ±áËÅöÊìç‰ΩúÔºåÂπ∂ÂèëÊ®°ÂºèËÉΩÂ§üÂÖÖÂàÜÂà©Áî®Â§öÊ†∏Â§ÑÁêÜÂô®ÁöÑ‰ºòÂäø„ÄÇÈÄöËøá‰∏ãÈù¢ÁöÑ‰æãÂ≠êÊàë‰ª¨ÂèØ‰ª•ÂàùÊ≠•‰Ωì‰ºöÂà∞‰ΩøÁî® Stream Â§ÑÁêÜÈõÜÂêàÁöÑ‰æøÂà©ÊÄß„ÄÇÂàùÊé¢StreamÊúâÂ¶Ç‰∏ã‰∏Ä‰∏™ListÔºåÁé∞Ë¶Å‰ªé‰∏≠Á≠õÈÄâÂá∫‰ª•JÂºÄÂ§¥ÁöÑÂÖÉÁ¥†ÔºåÁÑ∂ÂêéËΩ¨Êç¢‰∏∫Â§ßÂÜôÔºåÊúÄÂêéËæìÂá∫ÁªìÊûú„ÄÇJava 8‰πãÂâçÊàë‰ª¨ÊòØËøôÊ†∑ÂÅöÁöÑÔºö12345678910List&lt;String&gt; list = Arrays.asList("Java", "JavaScript", "python", "PHP", "C#", "Golang", "Swift");List&lt;String&gt; filterList = new ArrayList&lt;&gt;();for (String str : list) &#123; if (str.startsWith("J")) &#123; filterList.add(str.toUpperCase()); &#125;&#125;for (String str : filterList) &#123; System.out.println(str);&#125;‰∏∫‰∫ÜÁ≠õÈÄâÈõÜÂêàÊàë‰ª¨ËøõË°å‰∫Ü‰∏§Ê¨°Â§ñÈÉ®Ëø≠‰ª£ÔºåÂπ∂‰∏îËøòÂàõÂª∫‰∫Ü‰∏Ä‰∏™Áî®Êù•‰∏¥Êó∂Â≠òÊîæÁ≠õÈÄâÂÖÉÁ¥†ÁöÑÈõÜÂêàÂØπË±°„ÄÇÂÄüÂä©Java 8‰∏≠ÁöÑStreamÊàë‰ª¨ÂèØ‰ª•ÊûÅÂ§ßÁöÑÁÆÄÂåñËøô‰∏™Â§ÑÁêÜËøáÁ®ãÔºö12345List&lt;String&gt; list = Arrays.asList("Java", "JavaScript", "python", "PHP", "C#", "Golang", "Swift");list.stream() .filter(s -&gt; s.startsWith("J")) .map(String::toUpperCase) .forEach(System.out::println);ÊòØ‰∏çÊòØÂæàÊñπ‰æøÔºü‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÈõÜÂêà‰ΩøÁî®streamÊñπÊ≥ïÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÊµÅÔºåÁÑ∂Âêé‰ΩøÁî®filterÂíåmapÊñπÊ≥ïÊù•Â§ÑÁêÜËøô‰∏™ÈõÜÂêàÔºåÂÆÉ‰ª¨ÁªüÁß∞‰∏∫‰∏≠Èó¥Êìç‰Ωú„ÄÇ‰∏≠Èó¥Êìç‰ΩúÈÉΩ‰ºöËøîÂõûÂè¶‰∏Ä‰∏™ÊµÅÔºå‰ª•‰æø‰∫éÂ∞ÜÂêÑÁßçÂØπÈõÜÂêàÁöÑÊìç‰ΩúËøûÊé•Ëµ∑Êù•ÂΩ¢Êàê‰∏ÄÊù°ÊµÅÊ∞¥Á∫ø„ÄÇÊúÄÂêéÊàë‰ª¨‰ΩøÁî®‰∫ÜforEachÊñπÊ≥ïËø≠‰ª£Á≠õÈÄâÁªìÊûúÔºåËøôÁßç‰Ωç‰∫éÊµÅÁöÑÊú´Á´ØÔºåÂØπÊµÅËøõË°åÂ§ÑÁêÜÂπ∂‰∏îÁîüÊàêÁªìÊûúÁöÑÊñπÊ≥ïÁß∞‰∏∫ÁªàÁ´ØÊìç‰Ωú„ÄÇÊÄªËÄåË®Ä‰πãÔºåÊµÅÁöÑ‰ΩøÁî®‰∏ÄËà¨ÂåÖÊã¨‰∏â‰ª∂‰∫ãÊÉÖÔºö‰∏Ä‰∏™Êï∞ÊçÆÊ∫êÔºàÂ¶ÇÈõÜÂêàÔºâÊù•ÊâßË°å‰∏Ä‰∏™Êü•ËØ¢Ôºõ‰∏Ä‰∏™‰∏≠Èó¥Êìç‰ΩúÈìæÔºåÂΩ¢Êàê‰∏ÄÊù°ÊµÅÁöÑÊµÅÊ∞¥Á∫øÔºõ‰∏Ä‰∏™ÁªàÁ´ØÊìç‰ΩúÔºåÊâßË°åÊµÅÊ∞¥Á∫øÔºåÂπ∂ËÉΩÁîüÊàêÁªìÊûú„ÄÇ‰∏ãË°®ÂàóÂá∫‰∫ÜÊµÅ‰∏≠Â∏∏ËßÅÁöÑ‰∏≠Èó¥Êìç‰ΩúÂíåÁªàÁ´ØÊìç‰ΩúÔºöÊìç‰ΩúÁ±ªÂûãËøîÂõûÁ±ªÂûã‰ΩøÁî®ÁöÑÁ±ªÂûã/ÂáΩÊï∞ÂºèÊé•Âè£ÂáΩÊï∞ÊèèËø∞Á¨¶filter‰∏≠Èó¥Stream&lt;T&gt;Predicate&lt;T&gt;T -&gt; booleandistinct‰∏≠Èó¥Stream&lt;T&gt;skip‰∏≠Èó¥Stream&lt;T&gt;longlimit‰∏≠Èó¥Stream&lt;T&gt;longmap‰∏≠Èó¥Stream&lt;R&gt;Function&lt;T, R&gt;T -&gt; RflatMap‰∏≠Èó¥Stream&lt;R&gt;Function&lt;T, Stream&lt;R&gt;&gt;T -&gt; Stream&lt;R&gt;sorted‰∏≠Èó¥Stream&lt;T&gt;Comparator&lt;T&gt;(T, T) -&gt; intanyMatchÁªàÁ´ØbooleanPredicate&lt;T&gt;T -&gt; booleannoneMatchÁªàÁ´ØbooleanPredicate&lt;T&gt;T -&gt; booleanallMatchÁªàÁ´ØbooleanPredicate&lt;T&gt;T -&gt; booleanfindAnyÁªàÁ´ØOptional&lt;T&gt;findFirstÁªàÁ´ØOptional&lt;T&gt;forEachÁªàÁ´ØvoidConsumer&lt;T&gt;T -&gt; voidcollectÁªàÁ´ØRCollector&lt;T, A, R&gt;reduceÁªàÁ´ØOptional&lt;T&gt;BinaryOperator&lt;T&gt;(T, T) -&gt; TcountÁªàÁ´Ølong‰∏ãÈù¢ËØ¶ÁªÜ‰ªãÁªçËøô‰∫õÊìç‰ΩúÁöÑ‰ΩøÁî®„ÄÇÈô§‰∫ÜÁâπÊÆäËØ¥ÊòéÔºåÈªòËÆ§‰ΩøÁî®‰∏ãÈù¢Ëøô‰∏™ÈõÜÂêà‰Ωú‰∏∫ÊºîÁ§∫Ôºö1List&lt;String&gt; list = Arrays.asList("Java", "JavaScript", "python", "PHP", "C#", "Golang", "Swift", "C++", "Ruby");‰∏≠Èó¥Êìç‰ΩúfilterStreamsÊé•Âè£ÊîØÊåÅ¬∑filterÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÊé•Êî∂‰∏Ä‰∏™Predicate&lt;T&gt;ÔºåÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫T -&gt; booleanÔºåÁî®‰∫éÂØπÈõÜÂêàËøõË°åÁ≠õÈÄâÔºåËøîÂõûÊâÄÊúâÊª°Ë∂≥ÁöÑÂÖÉÁ¥†Ôºö123list.stream() .filter(s -&gt; s.contains("#")) .forEach(System.out::println);ÁªìÊûúËæìÂá∫C#„ÄÇdistinctdistinctÊñπÊ≥ïÁî®‰∫éÊéíÈô§ÊµÅ‰∏≠ÈáçÂ§çÁöÑÂÖÉÁ¥†ÔºåÁ±ª‰ºº‰∫éSQL‰∏≠ÁöÑdistinctÊìç‰Ωú„ÄÇÊØîÂ¶ÇÁ≠õÈÄâ‰∏≠ÈõÜÂêà‰∏≠ÊâÄÊúâÁöÑÂÅ∂Êï∞ÔºåÂπ∂ÊéíÈô§ÈáçÂ§çÁöÑÁªìÊûúÔºö12345List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 1, 3, 3, 2, 4);numbers.stream() .filter(i -&gt; i % 2 == 0) .distinct() .forEach(System.out::println);ÁªìÊûúËæìÂá∫2 4„ÄÇskipskip(n)ÊñπÊ≥ïÁî®‰∫éË∑≥ËøáÊµÅ‰∏≠ÁöÑÂâçn‰∏™ÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÈõÜÂêàÂÖÉÁ¥†Â∞è‰∫énÔºåÂàôËøîÂõûÁ©∫ÊµÅ„ÄÇÊØîÂ¶ÇÁ≠õÈÄâÂá∫‰ª•JÂºÄÂ§¥ÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÊéíÈô§Á¨¨‰∏Ä‰∏™Ôºö1234list.stream() .filter(s -&gt; s.startsWith("J")) .skip(1) .forEach(System.out::println);ÁªìÊûúËæìÂá∫JavaScript„ÄÇlimitlimit(n)ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ÈïøÂ∫¶‰∏çË∂ÖËøánÁöÑÊµÅÔºåÊØîÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÂ∞ÜËæìÂá∫Java JavaScript pythonÔºö123list.stream() .limit(3) .forEach(System.out::println);mapmapÊñπÊ≥ïÊé•Êî∂‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞‰ºöË¢´Â∫îÁî®Âà∞ÊØè‰∏™ÂÖÉÁ¥†‰∏äÔºåÂπ∂Â∞ÜÂÖ∂Êò†Â∞ÑÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†„ÄÇÂ¶ÇÔºö123list.stream() .map(String::length) .forEach(System.out::println);ÁªìÊûúËæìÂá∫4 10 6 3 2 6 5 3 4„ÄÇmapËøòÊîØÊåÅÂ∞ÜÊµÅÁâπÂåñ‰∏∫ÊåáÂÆöÂéüÂßãÁ±ªÂûãÁöÑÊµÅÔºåÂ¶ÇÈÄöËøámapToIntÔºåmapToDoubleÂíåmapToLongÊñπÊ≥ïÔºåÂèØ‰ª•Â∞ÜÊµÅËΩ¨Êç¢‰∏∫IntStreamÔºåDoubleStreamÂíåLongStream„ÄÇÁâπÂåñÂêéÁöÑÊµÅÊîØÊåÅsumÔºåminÂíåmaxÊñπÊ≥ïÊù•ÂØπÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ËøõË°åËÆ°ÁÆó„ÄÇÊØîÂ¶ÇÔºö123List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 1, 3, 3, 2, 4);IntStream intStream = numbers.stream().mapToInt(a -&gt; a);System.out.println(intStream.sum()); // 16‰πüÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÊñπÊ≥ïÔºåÂ∞ÜIntStreamËΩ¨Êç¢‰∏∫StreamÔºö1Stream&lt;Integer&gt; s = intStream.boxed();flatMapflatMapÁî®‰∫éÂ∞ÜÂ§ö‰∏™ÊµÅÂêàÂπ∂Êàê‰∏Ä‰∏™ÊµÅÔºå‰øóÁß∞ÊµÅÁöÑÊâÅÂπ≥Âåñ„ÄÇËøô‰πàËØ¥ÊúâÁÇπÊäΩË±°Ôºå‰∏æ‰∏™‰æãÂ≠êÔºåÊØîÂ¶ÇÁé∞Âú®ÈúÄË¶ÅÂ∞Ülist‰∏≠ÁöÑÂêÑ‰∏™ÂÖÉÁ¥†ÊãÜÂàÜ‰∏∫‰∏Ä‰∏™‰∏™Â≠óÊØçÔºåÂπ∂ËøáÊª§ÊéâÈáçÂ§çÁöÑÁªìÊûúÔºå‰Ω†ÂèØËÉΩ‰ºöËøôÊ†∑ÂÅöÔºö1234list.stream() .map(s -&gt; s.split("")) .distinct() .forEach(System.out::println);ËæìÂá∫Â¶Ç‰∏ãÔºö123456789[Ljava.lang.String;@e9e54c2[Ljava.lang.String;@65ab7765[Ljava.lang.String;@1b28cdfa[Ljava.lang.String;@eed1f14[Ljava.lang.String;@7229724f[Ljava.lang.String;@4c873330[Ljava.lang.String;@119d7047[Ljava.lang.String;@776ec8df[Ljava.lang.String;@4eec7777ËøôÊòéÊòæ‰∏çÁ¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúü„ÄÇÂÆûÈôÖ‰∏äÂú®map(s -&gt; s.split(&quot;&quot;))Êìç‰ΩúÂêéÔºåËøîÂõû‰∫Ü‰∏Ä‰∏™Stream&lt;String[]&gt;Á±ªÂûãÁöÑÊµÅÔºåÊâÄ‰ª•ËæìÂá∫ÁªìÊûú‰∏∫ÊØè‰∏™Êï∞ÁªÑÂØπË±°ÁöÑÂè•ÊüÑÔºåËÄåÊàë‰ª¨ÁúüÊ≠£ÊÉ≥Ë¶ÅÁöÑÁªìÊûúÊòØStream&lt;String&gt;ÔºÅÂú®Stream‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®Arrays.stream()ÊñπÊ≥ïÊù•Â∞ÜÊï∞ÁªÑËΩ¨Êç¢‰∏∫ÊµÅÔºåÊîπÈÄ†‰∏äÈù¢ÁöÑÊñπÊ≥ïÔºö12345list.stream() .map(s -&gt; s.split("")) .map(Arrays::stream) .distinct() .forEach(System.out::println);ËæìÂá∫Â¶Ç‰∏ãÔºö123456789java.util.stream.ReferencePipeline$Head@eed1f14java.util.stream.ReferencePipeline$Head@7229724fjava.util.stream.ReferencePipeline$Head@4c873330java.util.stream.ReferencePipeline$Head@119d7047java.util.stream.ReferencePipeline$Head@776ec8dfjava.util.stream.ReferencePipeline$Head@4eec7777java.util.stream.ReferencePipeline$Head@3b07d329java.util.stream.ReferencePipeline$Head@41629346java.util.stream.ReferencePipeline$Head@404b9385Âõ†‰∏∫‰∏äÈù¢ÁöÑÊµÅÁªèËøámap(Arrays::stream)Â§ÑÁêÜÂêéÔºåÂ∞ÜÊØè‰∏™Êï∞ÁªÑÂèòÊàê‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÊµÅÔºåËøîÂõûÁªìÊûú‰∏∫ÊµÅÁöÑÊï∞ÁªÑStream&lt;String&gt;[]ÔºåÊâÄ‰ª•ËæìÂá∫ÊòØÂêÑ‰∏™ÊµÅÁöÑÂè•ÊüÑ„ÄÇÊàë‰ª¨ËøòÈúÄÂ∞ÜËøô‰∫õÊñ∞ÁöÑÊµÅËøûÊé•Êàê‰∏Ä‰∏™ÊµÅÔºå‰ΩøÁî®flatMapÊù•ÊîπÂÜô‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºö12345list.stream() .map(s -&gt; s.split("")) .flatMap(Arrays::stream) .distinct() .forEach(s -&gt; System.out.print(s + " "));ËæìÂá∫Â¶Ç‰∏ãÔºö1J a v S c r i p t y h o n P H C # G l g w f + R u bÂíåmapÁ±ª‰ººÔºåflatMapÊñπÊ≥ï‰πüÊúâÁõ∏Â∫îÁöÑÂéüÂßãÁ±ªÂûãÁâπÂåñÊñπÊ≥ïÔºåÂ¶ÇflatMapToIntÁ≠â„ÄÇÁªàÁ´ØÊìç‰ΩúanyMatchanyMatchÊñπÊ≥ïÁî®‰∫éÂà§Êñ≠ÊµÅ‰∏≠ÊòØÂê¶ÊúâÁ¨¶ÂêàÂà§Êñ≠Êù°‰ª∂ÁöÑÂÖÉÁ¥†ÔºåËøîÂõûÂÄº‰∏∫booleanÁ±ªÂûã„ÄÇÊØîÂ¶ÇÂà§Êñ≠list‰∏≠ÊòØÂê¶Âê´ÊúâSQLÂÖÉÁ¥†Ôºö12list.stream() .anyMatch(s -&gt; "SQL".equals(s)); // falseallMatchallMatchÊñπÊ≥ïÁî®‰∫éÂà§Êñ≠ÊµÅ‰∏≠ÊòØÂê¶ÊâÄÊúâÂÖÉÁ¥†ÈÉΩÊª°Ë∂≥ÁªôÂÆöÁöÑÂà§Êñ≠Êù°‰ª∂ÔºåËøîÂõûÂÄº‰∏∫booleanÁ±ªÂûã„ÄÇÊØîÂ¶ÇÂà§Êñ≠list‰∏≠ÊòØÂê¶ÊâÄÊúâÂÖÉÁ¥†ÈïøÂ∫¶ÈÉΩ‰∏çÂ§ß‰∫é10Ôºö12list.stream() .allMatch(s -&gt; s.length() &lt;= 10); // truenoneMatchnoneMatchÊñπÊ≥ïÁî®‰∫éÂà§Êñ≠ÊµÅ‰∏≠ÊòØÂê¶ÊâÄÊúâÂÖÉÁ¥†ÈÉΩ‰∏çÊª°Ë∂≥ÁªôÂÆöÁöÑÂà§Êñ≠Êù°‰ª∂ÔºåËøîÂõûÂÄº‰∏∫booleanÁ±ªÂûã„ÄÇÊØîÂ¶ÇÂà§Êñ≠list‰∏≠‰∏çÂ≠òÂú®ÈïøÂ∫¶Â§ß‰∫é10ÁöÑÂÖÉÁ¥†Ôºö12list.stream() .noneMatch(s -&gt; s.length() &gt; 10); // truefindAnyfindAnyÊñπÊ≥ïÁî®‰∫éËøîÂõûÊµÅ‰∏≠ÁöÑ‰ªªÊÑèÂÖÉÁ¥†ÁöÑOptionalÁ±ªÂûãÔºå‰æãÂ¶ÇÁ≠õÈÄâÂá∫list‰∏≠‰ªªÊÑè‰∏Ä‰∏™‰ª•JÂºÄÂ§¥ÁöÑÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÂ≠òÂú®ÔºåÂàôËæìÂá∫ÂÆÉÔºö1234list.stream() .filter(s -&gt; s.startsWith("J")) .findAny() .ifPresent(System.out::println); // JavafindFirstfindFirstÊñπÊ≥ïÁî®‰∫éËøîÂõûÊµÅ‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑOptionalÁ±ªÂûãÔºå‰æãÂ¶ÇÁ≠õÈÄâÂá∫list‰∏≠ÈïøÂ∫¶Â§ß‰∫é5ÁöÑÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÂ≠òÂú®ÔºåÂàôËæìÂá∫Á¨¨‰∏Ä‰∏™Ôºö1234list.stream() .filter(s -&gt; s.length() &gt; 5) .findFirst() .ifPresent(System.out::println); // JavaScriptreducereduceÂáΩÊï∞‰ªéÂ≠óÈù¢‰∏äÊù•ÁúãÂ∞±ÊòØÂéãÁº©ÔºåÁº©ÂáèÁöÑÊÑèÊÄùÔºåÂÆÉÂèØ‰ª•Áî®‰∫éÊï∞Â≠óÁ±ªÂûãÁöÑÊµÅÁöÑÊ±ÇÂíåÔºåÊ±ÇÊúÄÂ§ßÂÄºÂíåÊúÄÂ∞èÂÄº„ÄÇÂ¶ÇÂØπnumbers‰∏≠ÁöÑÂÖÉÁ¥†Ê±ÇÂíåÔºö123List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 1, 3, 3, 2, 4);numbers.stream() .reduce(0, Integer::sum); // 16reduceÂáΩÊï∞‰πüÂèØ‰ª•‰∏çÊåáÂÆöÂàùÂßãÂÄºÔºå‰ΩÜËøôÊó∂ÂÄôÂ∞ÜËøîÂõû‰∏Ä‰∏™OptionalÂØπË±°ÔºåÊØîÂ¶ÇÊ±ÇÊúÄÂ§ßÂÄºÂíåÊúÄÂ∞èÂÄºÔºö1234567numbers.stream() .reduce(Integer::max) .ifPresent(System.out::println); // 4numbers.stream() .reduce(Integer::min) .ifPresent(System.out::println); // 1forEachforEachÁî®‰∫éËø≠‰ª£ÊµÅ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÊúÄ‰∏∫Â∏∏ËßÅÁöÑÂ∞±ÊòØËø≠‰ª£ËæìÂá∫ÔºåÂ¶ÇÔºö1list.stream().forEach(System.out::println);countcountÊñπÊ≥ïÁî®‰∫éÁªüËÆ°ÊµÅ‰∏≠ÂÖÉÁ¥†ÁöÑ‰∏™Êï∞ÔºåÊØîÂ¶ÇÔºö1list.stream().count(); // 9collectcollectÊñπÊ≥ïÁî®‰∫éÊî∂ÈõÜÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÊîæÂà∞‰∏çÂêåÁ±ªÂûãÁöÑÁªìÊûú‰∏≠ÔºåÊØîÂ¶ÇList„ÄÅSetÊàñËÄÖMap„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö12List&lt;String&gt; filterList = list.stream() .filter(s -&gt; s.startsWith("J")).collect(Collectors.toList());Â¶ÇÊûúÈúÄË¶Å‰ª•SetÊù•Êõø‰ª£ListÔºåÂè™ÈúÄË¶Å‰ΩøÁî®Collectors.toSet()Â∞±Â•Ω‰∫Ü„ÄÇÊµÅÁöÑÊûÑÂª∫Èô§‰∫Ü‰ΩøÁî®ÈõÜÂêàÂØπË±°ÁöÑstreamÊñπÊ≥ïÊûÑÂª∫ÊµÅ‰πãÂ§ñÔºåÊàë‰ª¨ÂèØ‰ª•ÊâãÂä®ÊûÑÂª∫‰∏Ä‰∫õÊµÅ„ÄÇÊï∞ÂÄºËåÉÂõ¥ÊûÑÂª∫IntStreamÂíåLongStreamÂØπË±°ÊîØÊåÅrangeÂíårangeClosedÊñπÊ≥ïÊù•ÊûÑÂª∫Êï∞ÂÄºÊµÅ„ÄÇËøô‰∏§‰∏™ÊñπÊ≥ïÈÉΩÊòØÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Êé•ÂèóËµ∑ÂßãÂÄºÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞Êé•ÂèóÁªìÊùüÂÄº„ÄÇ‰ΩÜrangeÊòØ‰∏çÂåÖÂê´ÁªìÊùüÂÄºÁöÑÔºåËÄårangeClosedÂàôÂåÖÂê´ÁªìÊùüÂÄº„ÄÇÊØîÂ¶ÇÂØπ1Âà∞100ÁöÑÊï¥Êï∞Ê±ÇÂíåÔºö1IntStream.rangeClosed(1, 100).sum(); // 5050Áî±ÂÄºÊûÑÂª∫ÈùôÊÄÅÊñπÊ≥ïStream.ofÂèØ‰ª•ÊòæÂºèÂÄºÂàõÂª∫‰∏Ä‰∏™ÊµÅ„ÄÇÂÆÉÂèØ‰ª•Êé•Âèó‰ªªÊÑèÊï∞ÈáèÁöÑÂèÇÊï∞„ÄÇ‰æãÂ¶ÇÔºå‰ª•‰∏ã‰ª£Á†ÅÁõ¥Êé•‰ΩøÁî®Stream.ofÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÊµÅ:1Stream&lt;String&gt; s = Stream.of("Java", "JavaScript", "C++", "Ruby");‰πüÂèØ‰ª•‰ΩøÁî®Stream.empty()ÊûÑÂª∫‰∏Ä‰∏™Á©∫ÊµÅÔºö1Stream&lt;Object&gt; emptyStream = Stream.empty();Áî±Êï∞ÁªÑÊûÑÂª∫ÈùôÊÄÅÊñπÊ≥ïArrays.streamÂèØ‰ª•ÈÄöËøáÊï∞ÁªÑÂàõÂª∫‰∏Ä‰∏™ÊµÅ„ÄÇÂÆÉÊé•Âèó‰∏Ä‰∏™Êï∞ÁªÑ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇ‰æãÂ¶ÇÔºö12int[] arr = &#123;1, 2, 3, 4, 5&#125;;IntStream intStream = Arrays.stream(arr);Áî±Êñá‰ª∂ÁîüÊàêÊµÅjava.nio.file.Files‰∏≠ÁöÑÂæàÂ§öÈùôÊÄÅÊñπÊ≥ïÈÉΩ‰ºöËøîÂõû‰∏Ä‰∏™ÊµÅ„ÄÇ‰æãÂ¶ÇFiles.linesÊñπÊ≥ï‰ºöËøîÂõû‰∏Ä‰∏™Áî±ÊåáÂÆöÊñá‰ª∂‰∏≠ÁöÑÂêÑË°åÊûÑÊàêÁöÑÂ≠óÁ¨¶‰∏≤ÊµÅ„ÄÇÊØîÂ¶ÇÁªüËÆ°‰∏Ä‰∏™Êñá‰ª∂‰∏≠ÂÖ±ÊúâÂ§öÂ∞ë‰∏™Â≠óÔºö123456long wordCout = 0L;try (Stream&lt;String&gt; lines = Files.lines(Paths.get("file.txt"), Charset.defaultCharset())) &#123; wordCout = lines.map(l -&gt; l.split("")) .flatMap(Arrays::stream) .count();&#125; catch (Exception ignore) &#123;&#125;Áî±ÂáΩÊï∞ÊûÑÈÄ†Stream APIÊèê‰æõ‰∫Ü‰∏§‰∏™ÈùôÊÄÅÊñπÊ≥ïÊù•‰ªéÂáΩÊï∞ÁîüÊàêÊµÅÔºöStream.iterateÂíåStream.generate„ÄÇËøô‰∏§‰∏™Êìç‰ΩúÂèØ‰ª•ÂàõÂª∫ÊâÄË∞ìÁöÑÊó†ÈôêÊµÅ„ÄÇÊØîÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÊûÑÂª∫‰∫Ü10‰∏™ÂÅ∂Êï∞Ôºö12Stream.iterate(0, n -&gt; n + 2) .limit(10).forEach(System.out::println);iterateÊñπÊ≥ïÊé•Âèó‰∏Ä‰∏™ÂàùÂßãÂÄºÔºàÂú®ËøôÈáåÊòØ0ÔºâÔºåËøòÊúâ‰∏Ä‰∏™‰æùÊ¨°Â∫îÁî®Âú®ÊØè‰∏™‰∫ßÁîüÁöÑÊñ∞ÂÄº‰∏äÁöÑLambdaÔºàUnaryOperatorÁ±ªÂûãÔºâ„ÄÇËøôÈáåÔºåÊàë‰ª¨‰ΩøÁî®Lambda n -&gt; n + 2ÔºåËøîÂõûÁöÑÊòØÂâç‰∏Ä‰∏™ÂÖÉ Á¥†Âä†‰∏ä2„ÄÇÂõ†Ê≠§ÔºåiterateÊñπÊ≥ïÁîüÊàê‰∫Ü‰∏Ä‰∏™ÊâÄÊúâÊ≠£ÂÅ∂Êï∞ÁöÑÊµÅÔºöÊµÅÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÂàùÂßãÂÄº0„ÄÇÁÑ∂ÂêéÂä†‰∏ä2Êù•ÁîüÊàêÊñ∞ÁöÑÂÄº2ÔºåÂÜçÂä†‰∏ä2Êù•ÂæóÂà∞Êñ∞ÁöÑÂÄº4Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇ‰∏éiterateÊñπÊ≥ïÁ±ª‰ººÔºågenerateÊñπÊ≥ï‰πüÂèØËÆ©‰Ω†ÊåâÈúÄÁîüÊàê‰∏Ä‰∏™Êó†ÈôêÊµÅ„ÄÇ‰ΩÜgenerate‰∏çÊòØ‰æùÊ¨°ÂØπÊØè‰∏™Êñ∞ÁîüÊàêÁöÑÂÄºÂ∫îÁî®ÂáΩÊï∞ÔºåÊØîÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÁîüÊàê‰∫Ü5‰∏™0Âà∞1‰πãÈó¥ÁöÑÈöèÊú∫ÂèåÁ≤æÂ∫¶Êï∞Ôºö123Stream.generate(Math::random) .limit(5) .forEach(System.out::println);ËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ãÔºö123450.63346468505878630.41901476418340090.43619683945154750.69117964568386550.08156838267267075„ÄäJava 8ÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RHELÁ¶ªÁ∫øÂÆâË£ÖRubyÂíåRubyGems]]></title>
    <url>%2FRHELinstallRuby%26RubyGems.html</url>
    <content type="text"><![CDATA[Êê≠Âª∫RedisÈõÜÁæ§ËøáÁ®ã‰∏≠ÈúÄË¶ÅÂÆâË£ÖRubyÁéØÂ¢ÉÔºåËøôÈáåËÆ∞ÂΩï‰∏ãÂú®RHEL‰∏ãÁ¶ªÁ∫øÂÆâË£ÖRubyÂíåRubyGemsÁöÑÊñπÊ≥ï„ÄÇRubyÁöÑÂú®Á∫ø‰∏ãËΩΩÂú∞ÂùÄ‰∏∫https://www.ruby-lang.org/en/downloads/Ôºå‰∏ãËΩΩÂ•ΩÂêé‰∏ä‰º†Âà∞/usr/loaclÁõÆÂΩï‰∏ã„ÄÇÂ¶ÇÊûú‰πãÂâçÂ∑≤ÁªèÂÆâË£ÖËøá‰ΩéÁâàÊú¨ÁöÑRubyÁöÑËØùÂèØ‰ª•ÂÖà‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Âç∏ËΩΩ:1sudo yum remove ruby ruby-develËøôÈáåÊàë‰ª¨‰∏ãËΩΩÁöÑRubyÁâàÊú¨‰∏∫2.5.1ÔºåËß£Âéãruby-2.5.1.tar.gzÔºö1tar -zxvf ruby-2.5.1.tar.gzÊé•ÁùÄ‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ÂÆâË£ÖÔºö1234cd /usr/local/ruby-2.5.1./configuremakesudo make installÂÆâË£ÖÂ•ΩÂêéÊü•ÁúãRubyÁöÑÁâàÊú¨Ôºö1ruby -vÂ¶ÇÊûúÊèêÁ§∫-bash: /usr/local/bin/ruby: Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩïÁöÑËØùÔºåÂèØ‰ª•Â∞ÜRubyÁõÆÂΩï‰∏ãÁöÑrubyÊñá‰ª∂Êã∑Ë¥ùÂà∞/usr/local/binÁõÆÂΩï‰∏ãÔºö123cp /usr/local/ruby-2.5.1/ruby /usr/local/bin/ruby -vruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-linux]ÂÆâË£ÖÂ•ΩRubyÂêéÔºåÊàë‰ª¨Êé•ÁùÄÂÆâË£ÖRubyGems„ÄÇRubyGemsÊòØRubyÁöÑ‰∏Ä‰∏™ÂåÖÁÆ°ÁêÜÂô®ÔºåÂÆÉÊèê‰æõ‰∏Ä‰∏™ÂàÜÂèëRubyÁ®ãÂ∫èÂíåÂ∫ìÁöÑÊ†áÂáÜÊ†ºÂºèÔºåËøòÊèê‰æõ‰∏Ä‰∏™ÁÆ°ÁêÜÁ®ãÂ∫èÂåÖÂÆâË£ÖÁöÑÂ∑•ÂÖ∑„ÄÇRubyGemsÊó®Âú®Êñπ‰æøÂú∞ÁÆ°ÁêÜgemÂÆâË£ÖÁöÑÂ∑•ÂÖ∑Ôºå‰ª•ÂèäÁî®‰∫éÂàÜÂèëgemÁöÑÊúçÂä°Âô®„ÄÇËøôÁ±ª‰ºº‰∫éUbuntu‰∏ãÁöÑapt-getÔºåCentos ÁöÑyumÔºåPythonÁöÑpip„ÄÇRubyGemsÁöÑ‰∏ãËΩΩÂú∞ÂùÄ‰∏∫Ôºöhttps://rubygems.org/pages/downloadÔºåËøôÈáåÊàë‰ª¨‰∏ãËΩΩÁöÑÁâàÊú¨‰∏∫2.7.7„ÄÇ‰∏ãËΩΩÂ•ΩÂêéÔºå‰∏ä‰º†Âà∞/usr/localÁõÆÂΩï‰∏ãÔºåÁÑ∂ÂêéËß£ÂéãÔºö1tar -zxvf rubygems-2.7.7.tgzÊé•ÁùÄÂàáÊç¢Âà∞Ëß£ÂéãÂêéÁöÑÁõÆÂΩïÔºåÊâßË°å‰ª•‰∏ãÂëΩ‰ª§ÂÆâË£ÖÔºö1ruby setup.rbÂÆâË£ÖÂ•ΩÂêéÔºåÊü•ÁúãRubyGemsÁâàÊú¨Ôºö12gem -v2.7.7ÂÆâË£ÖÁªìÊùü„ÄÇ]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Ruby</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux‰∏ãÊê≠Âª∫RedisÈõÜÁæ§]]></title>
    <url>%2Flinux-redis-cluster.html</url>
    <content type="text"><![CDATA[ÈÄöËøáRedisÁöÑÈõÜÁæ§ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞Â§ö‰∏™RedisËäÇÁÇπ‰πãÈó¥ÁöÑÊï∞ÊçÆÂÖ±‰∫´ÔºåÂπ∂‰∏îÊîØÊåÅËá™Âä®ÂàÜÂâ≤Êï∞ÊçÆÂà∞‰∏çÂêåÁöÑËäÇÁÇπ‰∏ä„ÄÇÂú®ÈõÜÁæ§ËøáÁ®ã‰∏≠ÈÄöËøá‰∏ª‰ªéÁöÑÂàÜÈÖçÂèØ‰ª•ÊèêÈ´òRedisÁöÑÂèØÁî®ÊÄßÔºå‰∏ç‰ºöÂõ†‰∏∫Êüê‰∏™ËäÇÁÇπÂÆïÊéâÊàñËÄÖ‰∏çÂèØËææËÄåÂØºËá¥Êï¥‰∏™ÈõÜÁæ§ÁΩëÁªúÁöÑ‰∏çÂèØÁî®„ÄÇRedis 3.0ÁâàÊú¨ÂêéÊîØÊåÅ‰ΩøÁî®Redis-ClusterÊù•Êê≠Âª∫ÈõÜÁæ§ÔºåÊú¨ÊñáÂ∞Ü‰ªãÁªçÂú®Ubuntu 16.04‰∏ã‰ªéÈõ∂ÂºÄÂßãÊê≠Âª∫RedisÈõÜÁæ§„ÄÇÂõ†‰∏∫RedisÈõÜÁæ§‰∏≠Ëá≥Â∞ëÂ∫îËØ•ÊúâÂ•áÊï∞‰∏™‰∏ªËäÇÁÇπÔºåÊâÄ‰ª•Êú¨ÊñáÂ∞ÜÂàõÂª∫6‰∏™RedisËäÇÁÇπÔºåÂÖ∂‰∏≠3‰∏™‰∏∫‰∏ªËäÇÁÇπÔºå3‰∏™‰∏∫‰ªéÂ±ûËäÇÁÇπÔºåÁî®‰∫é‰ªé‰∏ªËäÇÁÇπÊãâÂèñÊï∞ÊçÆËøõË°åÂ§á‰ªΩ„ÄÇÂÆâË£ÖRedis‰ªéhttps://redis.io/download‰∏äËé∑ÂèñÊúÄÊñ∞ÁöÑStableÁâàÊú¨RedisÔºå‰∏ãËΩΩÂà∞/usr/local/ÁõÆÂΩï‰∏ãÂπ∂Ëß£ÂéãÔºö12wget http://download.redis.io/releases/redis-4.0.9.tar.gztar -zxvf redis-4.0.9.tar.gzËøõË°åÁºñËØëÂíåÂÆâË£ÖÔºö12cd redis-4.0.9/make &amp;&amp; make installÂÆâË£ÖÊàêÂäüÂêéÂºÄÂßãËøõË°åÈõÜÁæ§Êê≠Âª∫„ÄÇÊê≠Âª∫ÈõÜÁæ§ÁºñËØëÂÆâË£ÖÂêéÔºåÂú®ReidsÁöÑsrcÁõÆÂΩï‰∏ãÊúâ‰∏™redis-trib.rbÊñá‰ª∂ÔºåÂ∞ÜÂÖ∂Â§çÂà∂Âà∞/usr/local/bin/ÁõÆÂΩï‰∏ãÔºåÊñπ‰æøÂêéÊúüÊê≠Âª∫ÈõÜÁæ§‰ΩøÁî®Ôºö Êé•‰∏ãÊù•ÂºÄÂßãÂàõÂª∫ËäÇÁÇπ„ÄÇÂú®redisÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™clusterÁõÆÂΩïÔºö1mkdir clusterÁÑ∂ÂêéÂú®ËØ•ÁõÆÂΩï‰∏ãÂàõÂª∫ÂÖ≠‰∏™ÁõÆÂΩïÔºåÂàÜÂà´ÂëΩÂêç‰∏∫7000„ÄÅ7001„ÄÅ7002„ÄÅ7003„ÄÅ7004Âíå7005Ôºö12cd cluster/mkdir 7000 7001 7002 7003 7004 7005Âú®7000ÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™RedisÈÖçÁΩÆÊñá‰ª∂redis.confÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÔºö12345678port 7000bind 172.16.0.4daemonize yespidfile /var/run/redis_7000.pidcluster-enabled yescluster-config-file nodes_7000.confcluster-node-timeout 15000appendonly yes‰∏äËø∞ÈÖçÁΩÆÊòØÂºÄÂêØRedisÈõÜÁæ§ÁöÑÊúÄÁÆÄÈÖçÁΩÆÔºåÂêÑÈ°πÈÖçÁΩÆÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºöport 7000ÔºöRedisËäÇÁÇπÁöÑÁ´ØÂè£Âè∑‰∏∫7000Ôºõbind 172.16.0.4ÔºöÁªëÂÆöÊú¨Êú∫ÁöÑIPÂú∞ÂùÄÔºõdaemonize yesÔºö‰ª•ÂêéÂè∞ÊúçÂä°ÁöÑÂΩ¢ÂºèÂºÄÂêØRedisÔºõpidfile /var/run/redis_7000.pidÔºö‰ª•ËØ•ÈÖçÁΩÆÂêØÂä®RedisÂêéÂ∞ÜÂú®/var/run/ÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™redis_port.pidÊñá‰ª∂Ôºõcluster-enabled yesÔºöÊòØÂê¶ÂºÄÂêØÈõÜÁæ§ÔºåyesÔºõcluster-config-file nodes_7000.confÔºöÈõÜÁæ§ÈÖçÁΩÆÊñá‰ª∂ÔºåÂêØÂä®ÂêéËá™Âä®ÁîüÊàêÔºåÊñá‰ª∂ÂêçÁß∞‰∏∫nodes_7000.conf„ÄÇËØ•Êñá‰ª∂Â∞Ü‰øùÊåÅÈõÜÁæ§ÈÖçÁΩÆ‰ø°ÊÅØÔºå‰ª•‰øùËØÅÈáçÂêØËØ•RedisËäÇÁÇπÂêéËÉΩÂ§ü‰øùÊåÅÈõÜÁæ§Áä∂ÊÄÅÔºõcluster-node-timeout 15000ÔºöËØ∑Ê±ÇË∂ÖÊó∂Êó∂Èó¥ÔºåÈªòËÆ§‰∏∫15ÁßíÔºõappendonly yesÔºöÊòØÂê¶ÂºÄÂêØaofÊó•ÂøóÔºåÂºÄÂêØÂêéÊØèÊ¨°ÂÜôÊìç‰ΩúÈÉΩËÆ∞ÂΩï‰∏ÄÊù°Êó•Âøó„ÄÇÂâ©‰∏ãÁöÑ7001~7005ÁöÑÈÖçÁΩÆÊñá‰ª∂Èô§‰∫ÜÁ´ØÂè£Âè∑Êîπ‰∏∫Áõ∏Â∫îÁöÑÂ§ñÔºåÂÖ∂‰ªñÈÖçÁΩÆ‰øùÊåÅ‰∏ÄËá¥„ÄÇÈÖçÁΩÆÂ•Ω7000~7005Á´ØÂè£ÁöÑRedisÈÖçÁΩÆÊñá‰ª∂ÂêéÔºåÂêØÂä®Ëøô‰∫õËäÇÁÇπÔºö123456redis-server cluster/7000/redis.confredis-server cluster/7001/redis.confredis-server cluster/7002/redis.confredis-server cluster/7003/redis.confredis-server cluster/7004/redis.confredis-server cluster/7005/redis.confÊü•ÁúãÊòØÂê¶ÂêØÂä®ÊàêÂäüÔºöÁé∞Âú®Êàë‰ª¨Â∑≤ÁªèÊúâ‰∫Ü6‰∏™Ê≠£Âú®ËøêË°å‰∏≠ÁöÑRedisÂÆû‰æãÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÈúÄË¶Å‰ΩøÁî®Ëøô‰∫õÂÆû‰æãÊù•ÂàõÂª∫ÈõÜÁæ§„ÄÇÊé•ÁùÄ‰ΩøÁî®redis-trib.rbÂàõÂª∫ÈõÜÁæ§ÔºåËØ•Êñá‰ª∂‰ΩøÁî®rubyÁºñÂÜôÔºåÊâÄ‰ª•‰ΩøÁî®redis-trib.rb‰πãÂâçÂæóÂÖàÂÆâË£ÖrubyÔºö12apt-get install rubygem install redisÂÆâË£ÖÂ•ΩrubyÂêéÔºåËæìÂÖ•‰ª•‰∏ãÂëΩ‰ª§ÂºÄÂêØÈõÜÁæ§Ôºö1redis-trib.rb create --replicas 1 172.16.0.4:7000 172.16.0.4:7001 172.16.0.4:7002 172.16.0.4:7003 172.16.0.4:7004 172.16.0.4:7005ÈÄâÈ°π--replicas 1Ë°®Á§∫Êàë‰ª¨Â∏åÊúõ‰∏∫ÈõÜÁæ§‰∏≠ÁöÑÊØè‰∏™‰∏ªËäÇÁÇπÂàõÂª∫‰∏Ä‰∏™‰ªéËäÇÁÇπÔºå‰πãÂêéË∑üÁùÄÁöÑÂÖ∂‰ªñÂèÇÊï∞ÂàôÊòØËøô‰∏™ÈõÜÁæ§ÂÆû‰æãÁöÑÂú∞ÂùÄÂàóË°®Ôºö3‰∏™‰∏ªËäÇÁÇπÔºàMasterÔºåÂç≥7000~7002Ôºâ3‰∏™‰ªéËäÇÁÇπÔºàSlaveÔºåÂç≥7003~7005Ôºâ„ÄÇËæìÂÖ•ËØ•ÂëΩ‰ª§ÂêéÔºåÁªàÁ´ØÊâìÂç∞Âá∫Â¶Ç‰∏ãÈÖçÁΩÆÔºöÂÖ∂‰∏≠MÂºÄÂ§¥ÁöÑËäÇÁÇπ‰∏∫‰∏ªËäÇÁÇπÔºåSÂºÄÂ§¥ÁöÑ‰∏∫‰ªéËäÇÁÇπ„ÄÇ‰ªé‰ªéËäÇÁÇπÁöÑreplicatesÔºàÂ§çÂà∂ÁöÑÊÑèÊÄùÔºâ‰ø°ÊÅØÂèØ‰ª•ÁúãÂá∫7000ÁöÑ‰ªéËäÇÁÇπ‰∏∫7004Ôºå7001ÁöÑ‰ªéËäÇÁÇπ‰∏∫7005Ôºå7002ÁöÑ‰ªéËäÇÁÇπ‰∏∫7003„ÄÇÁ°ÆËÆ§Êó†ËØØÂêéËæìÂÖ•yesÁÇπÂáªÂõûËΩ¶ÁªßÁª≠ÔºöÂèØÁúãÂà∞7000ËäÇÁÇπÁöÑÊã•Êúâ5461‰∏™ÂìàÂ∏åÊßΩÔºà0 - 6460 slotsÔºâÔºå7001ËäÇÁÇπÊã•Êúâ5462‰∏™ÂìàÂ∏åÊßΩÔºà5461 - 10922 slotsÔºâÔºå7002ËäÇÁÇπÊã•Êúâ5461‰∏™ÂìàÂ∏åÊßΩÔºà10923 - 16383 slotsÔºâÔºåËÄå‰ªéÂ±ûËäÇÁÇπÂπ∂Ê≤°ÊúâÂàÜÈÖçÂìàÂ∏åÊßΩ„ÄÇ‰ªéÊúÄÂêé‰∏ÄË°åÁöÑËæìÂá∫‰ø°ÊÅØÂèØ‰ª•ÁúãÂá∫ÔºåRedisÈõÜÁæ§ÊÄªÂÖ±Êúâ16384‰∏™ÂìàÂ∏åÊßΩÔºàslotsÔºâ„ÄÇÊ≠§Â§ñÔºåÈÇ£‰∫õ‰∏ÄÂ§ß‰∏≤ÁöÑÂ≠óÁ¨¶Áß∞‰∏∫ËäÇÁÇπID„ÄÇÈõÜÁæ§ÊµãËØïÈÄöËøá‰∏äÈù¢ÁöÑÈõÜÁæ§ÈÖçÁΩÆÔºåËøô6‰∏™RedisËäÇÁÇπ‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂèØ‰ª•Áî®‰∏ãÂõæË°®Á§∫ÔºöÈ¢úËâ≤Ê∑±ÁöÑËäÇÁÇπ‰∏∫È¢úËâ≤ÊµÖÁöÑËäÇÁÇπÁöÑ‰∏ªËäÇÁÇπÔºåÊâÄÊúâËäÇÁÇπÂΩºÊ≠§‰πãÈó¥‰∫íËÅîÔºàping-pongÔºâ„ÄÇ‰∏ãÈù¢ÂØπËøô‰∫õÈõÜÁæ§ËäÇÁÇπËøõË°å‰∏Ä‰∫õÊµãËØï„ÄÇÊµãËØïÂ≠òÂèñ‰ΩøÁî®ÂÆ¢Êà∑Á´ØËøûÊé•ÈõÜÁæ§ÂêéÁöÑRedisËäÇÁÇπÈúÄË¶ÅÂ∏¶‰∏ä-cÊ†áËØÜÔºåÊØîÂ¶ÇÁé∞Âú®Êàë‰ª¨ËøûÊé•Á´ØÂè£‰∏∫7003ÁöÑ‰ªéËäÇÁÇπÔºö1redis-cli -h 172.16.0.4 -c -p 7003‰ΩøÁî®setÂëΩ‰ª§ÂæÄRedisÂ≠òÂÖ•‰∏Ä‰∫õkey-vaueÔºåÁªìÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂèØÂèëÁé∞ÔºåÂ≠òÂÄºÁöÑÊìç‰ΩúÂπ∂‰∏çÊòØÂú®7003ËäÇÁÇπÂÆåÊàêÁöÑÔºåÂ≠òÂÄºÁöÑËøáÁ®ãÂè™Âú®‰∏ªËäÇÁÇπ‰∏ãÂÆåÊàêÔºåÂπ∂‰∏îÊØèÊ¨°setÊìç‰ΩúRedisÈÉΩ‰ºöËæìÂá∫Redirected to slot [xxxx] located atÁöÑÊèêÁ§∫„ÄÇRedisÈõÜÁæ§Êúâ16384‰∏™ÂìàÂ∏åÊßΩÔºåÊØèÊ¨°set keyÊó∂ÔºåRedisÂÜÖÈÉ®ÈÄöËøáCRC16Ê†°È™åÂêéÂØπ16384ÂèñÊ®°Êù•ÂÜ≥ÂÆöÊîæÁΩÆÂì™‰∏™ÂìàÂ∏åÊßΩ„ÄÇÊ≠£Â¶Ç‰∏äÈù¢ÊâÄËØ¥ÁöÑÔºåÈõÜÁæ§ÁöÑÊØè‰∏™‰∏ªËäÇÁÇπË¥üË¥£‰∏ÄÈÉ®ÂàÜÂìàÂ∏åÊßΩ„ÄÇÊØîÂ¶ÇÁ¨¨‰∏ÄÊù°ÂëΩ‰ª§set a 1ËÆ°ÁÆóÂá∫Êù•ÁöÑÂìàÂ∏åÁ†Å‰∏∫15495Ôºå‰ªã‰∫é11001Âà∞16384‰πãÈó¥ÔºåÊâÄ‰ª•‰æøÂ≠òÂÇ®Âú®‰∫Ü7002ËäÇÁÇπ‰∏≠„ÄÇ‰∏äÈù¢Êàë‰ª¨ÊèêÂà∞7000ËäÇÁÇπÁöÑ‰ªéËäÇÁÇπ‰∏∫7004Ôºå‰∏ãÈù¢Êù•È™åËØÅ‰∏Ä‰∏ãÔºöÂèØÁúãÂà∞ÂÆÉ‰ª¨Â≠òÂÇ®ÁöÑkeyÊòØÁõ∏ÂêåÁöÑ„ÄÇÂ∞ùËØï‰ªé7004ËäÇÁÇπÂà†Èô§keyÔºöÂèëÁé∞7000ËäÇÁÇπÁöÑb‰πüË¢´Âà†Èô§„ÄÇÊé•‰∏ãÊù•‰ªé7000ËäÇÁÇπËé∑ÂèñaÁöÑÂÄºÔºàaÂ≠òÂÇ®Âú®7002ËäÇÁÇπ‰∏≠ÔºâÔºöÂèØÁúãÂà∞RedisËá™Â∑±redirectedÂà∞‰∫Ü7002ËäÇÁÇπËé∑ÂèñaÁöÑÂÄºÔºåËøôÂ∞±ÊòØÈõÜÁæ§ÁöÑÁâπÁÇπÔºåÊØè‰∏™ËäÇÁÇπÈÉΩÊòØÂπ≥Á≠âÁöÑÔºåÂèØ‰ª•Áõ∏‰∫íÈó¥ÂèñÂÄº„ÄÇÊµãËØï‰∏ª‰ªéÂºÄÂ§¥ËØ¥ËøáÔºåÂú®ÈõÜÁæ§ËøáÁ®ã‰∏≠ÂèØ‰ª•ÈÄöËøá‰∏ª‰ªéÁöÑÂàÜÈÖçÊù•ÊèêÈ´òRedisÁöÑÂèØÁî®ÊÄß„ÄÇÊØîÂ¶ÇËøô‰∏™‰æãÂ≠êÔºåÈõÜÁæ§Êúâ7000„ÄÅ7001Âíå7002 3‰∏™‰∏ªËäÇÁÇπÔºåÂ¶ÇÊûúËøô3‰∏™ËäÇÁÇπÈÉΩÊ≤°Êúâ‰ªéËäÇÁÇπÔºåÂÅáËÆæ7001ÂÆïÊú∫‰∫ÜÔºåÈÇ£‰πàÊï¥‰∏™ÈõÜÁæ§Â∞±‰ºöÂõ†‰∏∫Áº∫Â∞ë5501-11000Ëøô‰∏™ËåÉÂõ¥ÁöÑÂìàÂ∏åÊßΩËÄåÂèòÂæó‰∏çÂèØÁî®„ÄÇÊâÄ‰ª•Êàë‰ª¨Âú®ÈõÜÁæ§Âª∫Á´ãÁöÑÊó∂ÂÄôÔºå‰∏ÄÂÆöË¶Å‰∏∫ÊØè‰∏™‰∏ªËäÇÁÇπÈÉΩÊ∑ªÂä†‰∫Ü‰ªéËäÇÁÇπ, ÊØîÂ¶ÇÂÉè‰∏äÈù¢ÁöÑ‰æãÂ≠êÈÇ£Ê†∑ÔºåÈõÜÁæ§ÂåÖÂê´‰∏ªËäÇÁÇπ7000„ÄÅ7001Âíå7002‰ª•Âèä‰ªéËäÇÁÇπ7003„ÄÅ7004Âíå7005, ÈÇ£‰πàÂç≥‰Ωø7001ÂÆïÁ≥ªÁªü‰πüÂèØ‰ª•ÁªßÁª≠Ê≠£Â∏∏Â∑•‰Ωú„ÄÇÂΩì7001Ëøô‰∏™‰∏ªËäÇÁÇπÂÆïÊú∫ÂêéÔºåRedisÈõÜÁæ§Â∞Ü‰ºöÈÄâÊã©7001ÁöÑ‰ªéËäÇÁÇπ7005‰Ωú‰∏∫Êñ∞ÁöÑ‰∏ªËäÇÁÇπ‰ª•Á°Æ‰øùÈõÜÁæ§Ê≠£Â∏∏ÁöÑÂ∑•‰Ωú„ÄÇÂΩìÈáçÊñ∞ÂêØÂä®7001ÂêéÔºåÂÖ∂Ëá™Âä®Âèò‰∏∫‰∫Ü7005ÁöÑ‰ªéËäÇÁÇπÔºåËßíËâ≤ÂÆåÊàê‰∫ÜËΩ¨Êç¢„ÄÇ‰∏∫‰∫ÜÈ™åËØÅËøô‰∏™ÁêÜËÆ∫Ôºå‰∏ãÈù¢Â∞Ü7001ËäÇÁÇπÊùÄÊ≠ªÔºåÁÑ∂ÂêéËßÇÂØüÔºöÂèØÁúãÂà∞7005Â∑≤ÁªèÊôãÂçá‰∏∫‰∫Ü‰∏ªËäÇÁÇπ„ÄÇÊé•ÁùÄÊµãËØï‰ªé7000ËäÇÁÇπËé∑ÂèñcÁöÑÂÄºÔºàcÂ≠òÂÇ®Âú®7001ËäÇÁÇπ‰∏≠Ôºå7005‰πãÂâç‰∏∫7001ÁöÑ‰ªéËäÇÁÇπÔºåÊâÄ‰ª•‰πüÂ≠òÊúâËøô‰∏™ÂÄºÔºâÔºöRedisËá™Âä®redirectedÂà∞‰∫Ü7005ÔºåÂπ∂ÊàêÂäüËé∑ÂèñÂà∞‰∫ÜcÁöÑÂÄº„ÄÇÁé∞Âú®ÈáçÊñ∞ÂêØÂä®7001ËäÇÁÇπÔºåÁÑ∂ÂêéËßÇÂØüÔºö7001Â∑≤ÁªèÊàê‰∏∫‰∫Ü7005ÁöÑ‰ªéËäÇÁÇπ‰∫Ü„ÄÇÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂÅáÂ¶Ç7005Âíå7001ÂêåÊó∂ÂÆïÊú∫ÔºåÈÇ£‰πàÈõÜÁæ§Â∞Ü‰∏çÂèØÁî®„ÄÇ]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Redis</tag>
        <tag>ÈõÜÁæ§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêJava8ÂÆûÊàò„ÄëLambdaË°®ËææÂºèÔºà‰∫åÔºâ]]></title>
    <url>%2Fjava8lambda2.html</url>
    <content type="text"><![CDATA[Âú®‰∏ä‰∏ÄËäÇ‰∏≠ÔºåÊàë‰ª¨‰∏∫‰∫Ü‰ΩøÁî®LambdaË°®ËææÂºè‰∏çÂæó‰∏çÂàõÂª∫‰∫ÜÂêÑÁßçÂáΩÊï∞ÊèèËø∞Á¨¶ÁöÑÂáΩÊï∞ÂºèÊé•Âè£ÔºåÂÖ∂ÂÆûJava 8Â∑≤ÁªèÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏ÄÂ•óËÉΩÂ§üÊèèËø∞Â∏∏ËßÅÂáΩÊï∞ÊèèËø∞Á¨¶ÁöÑÂáΩÊï∞ÂºèÊé•Âè£„ÄÇÊØîÂ¶ÇPredicate&lt;T&gt;„ÄÅConsumer&lt;T&gt;„ÄÅFunction&lt;T,R&gt;„ÄÅSupplier&lt;T&gt;Á≠âÔºåËøô‰∫õÂáΩÊï∞ÂºèÊé•Âè£‰Ωç‰∫éjava.util.functionÂåÖ„ÄÇËøô‰∏ÄËäÇ‰∏ªË¶ÅËÆ∞ÂΩïËøô‰∫õÂáΩÊï∞ÂºèÊé•Âè£ÁöÑÂ∫îÁî®„ÄÇJava8‰∏≠ÁöÑÂáΩÊï∞ÂºèÊé•Âè£‰∏ãË°®ÂàóÂá∫‰∫ÜJava8‰∏≠Â∏∏ËßÅÁöÑÂáΩÊï∞ÂºèÊé•Âè£ÔºöÂáΩÊï∞ÂºèÊé•Âè£ÂáΩÊï∞ÊèèËø∞Á¨¶ÂéüÂßãÁ±ªÂûãÁâπÂåñPredicateT-&gt;booleanIntPredicate,LongPredicate, DoublePredicateConsumerT-&gt;voidIntConsumer,LongConsumer, DoubleConsumerFunction&lt;T,R&gt;T-&gt;RIntFunction, IntToDoubleFunction, IntToLongFunction,LongFunction, LongToDoubleFunction, LongToIntFunction,DoubleFunction, ToIntFunction, ToDoubleFunction, ToLongFunctionSupplier()-&gt;TBooleanSupplier,IntSupplier, LongSupplier,DoubleSupplierUnaryOperatorT-&gt;TIntUnaryOperator, LongUnaryOperator, DoubleUnaryOperatorBinaryOperator(T,T)-&gt;TIntBinaryOperator, LongBinaryOperator, DoubleBinaryOperatorBiPredicate&lt;L,R&gt;(L,R)-&gt;booleanBiConsumer&lt;T,U&gt;(T,U)-&gt;voidObjIntConsumer, ObjLongConsumer, ObjDoubleConsumerBiFunction&lt;T,U,R&gt;(T,U)-&gt;RToIntBiFunction&lt;T,U&gt;, ToLongBiFunction&lt;T,U&gt;, ToDoubleBiFunction&lt;T,U&gt;Predicatepredicate: Ëã± [Ààpred…™k…ôt] Áæé [Ààpred…™k…ôt] Êñ≠Ë®ÄÔºåÊñ≠ÂÆöÁöÑÊÑèÊÄù„ÄÇ‰ªéÊé•Âè£ÁöÑÂêçÁß∞Â∞±ÂèØ‰ª•Êé®Êñ≠Âá∫Ëøô‰∏™ÂáΩÊï∞ÂºèÊé•Âè£ÁöÑ‰∏ªË¶Å‰ΩúÁî®Â∞±ÊòØÁî®‰∫éÂà§Êñ≠‰ΩúÁî®ÔºåPredicateÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021@FunctionalInterfacepublic interface Predicate&lt;T&gt; &#123; boolean test(T t); default Predicate&lt;T&gt; and(Predicate&lt;? super T&gt; other) &#123; Objects.requireNonNull(other); return (t) -&gt; test(t) &amp;&amp; other.test(t); &#125; default Predicate&lt;T&gt; negate() &#123; return (t) -&gt; !test(t); &#125; default Predicate&lt;T&gt; or(Predicate&lt;? super T&gt; other) &#123; Objects.requireNonNull(other); return (t) -&gt; test(t) || other.test(t); &#125; static &lt;T&gt; Predicate&lt;T&gt; isEqual(Object targetRef) &#123; return (null == targetRef) ? Objects::isNull : object -&gt; targetRef.equals(object); &#125;&#125;ÂèØÁúãÂà∞java.util.function.Predicate&lt;T&gt;Êé•Âè£ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂêçÂè´testÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂÆÉÊé•ÂèóÊ≥õÂûãTÂØπË±°ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™booleanÔºåÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫(T) -&gt; boolean‰∏æÂá†‰∏™‰æãÂ≠êÔºö1234567// ÂÅ∂Êï∞Âà§Êñ≠Predicate&lt;Integer&gt; isEven = (in) -&gt; in % 2 == 0;isEven.test(17); // false// Âà§Êñ≠Â≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÊòØÂê¶‰∏∫0Predicate&lt;String&gt; isEmptyString = String::isEmpty;isEmptyString.test(""); // trueÈô§‰∫ÜÊäΩË±°ÊñπÊ≥ïÂ§ñÔºåjava.util.function.Predicate&lt;T&gt;Êé•Âè£ËøòÂÆö‰πâ‰∫Ü‰∏â‰∏™ÈªòËÆ§ÊñπÊ≥ïÔºöandÔºånegateÂíåorÔºåÂØπÂ∫î‚Äú‰∏é‚ÄùÔºå‚ÄúÈùû‚ÄùÂíå‚ÄúÊàñ‚ÄùÊìç‰ΩúÔºåËøôÊ†∑Êàë‰ª¨‰æøÂèØ‰ª•Â§çÂêàLambdaË°®ËææÂºè‰∫ÜÔºåÊØîÂ¶ÇÔºö12345678// Âà§Êñ≠ÊòØÂÅ∂Êï∞ÔºåÂπ∂‰∏îÂ§ß‰∫é30Predicate&lt;Integer&gt; isEven = (in) -&gt; in % 2 == 0;isEven.and((in) -&gt; in &gt; 30).test(40); // true// Â•áÊï∞Âà§Êñ≠Predicate&lt;Integer&gt; isEven = (in) -&gt; in % 2 == 0;Predicate&lt;Integer&gt; isOdd = isEven.negate();isOdd.test(17); // trueConsumerËã± [k…ônÀàsju:m…ô(r)] Áæé [k…ônÀàsu:m…ô(r)] n.Ê∂àË¥πËÄÖ„ÄÇËØ•ÂáΩÊï∞ÂºèÊé•Âè£Áî®‰∫éÊ∂àË¥π‰∏Ä‰∏™ÂØπË±°ÔºåÂç≥Êé•Êî∂‰∏Ä‰∏™ÂØπË±°ÔºåÂØπÂÖ∂ÊâßË°åÊüê‰∫õÊìç‰ΩúÔºåÁÑ∂ÂêéÊ≤°ÊúâËøîÂõûÂÄº„ÄÇConsumerÊ∫êÁ†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678@FunctionalInterfacepublic interface Consumer&lt;T&gt; &#123; void accept(T t); default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after) &#123; Objects.requireNonNull(after); return (T t) -&gt; &#123; accept(t); after.accept(t); &#125;; &#125;&#125;ÂèØÁúãÂà∞java.util.function.Consumer&lt;T&gt;ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂêçÂè´acceptÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂÆÉÊé•ÂèóÊ≥õÂûãTÁöÑÂØπË±°ÔºåÊ≤°ÊúâËøîÂõû(void)ÔºåÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫(T) -&gt; void„ÄÇÂÖ∂ËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÈªòËÆ§ÊñπÊ≥ïandThen„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö1234Consumer&lt;Apple&gt; printAppleColor = (a)-&gt; System.out.println(a.getColor());printAppleColor.accept(new Apple("red",17)); // redprintAppleColor.andThen((a) -&gt; System.out.println(a.getWeight())).accept(new Apple("red", 17)); // red 17.0Suppliersupplier Ëã± [s…ôÀàpla…™…ô(r)] Áæé [s…ôÀàpla…™…ôr] n.‰æõÂ∫îÂïÜ;‰æõÂ∫îËÄÖ;‰æõÁªôËÄÖ„ÄÇÂÖ∂Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö1234@FunctionalInterfacepublic interface Supplier&lt;T&gt; &#123; T get();&#125;ÂèØÁúãÂà∞java.util.function.Supplier&lt;T&gt;ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂêçÂè´getÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂÆÉ‰∏çÊé•Êî∂ÂèÇÊï∞ÔºåËøîÂõûÊ≥õÂûãTÁöÑÂØπË±°ÔºåÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫() -&gt; T„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö12Supplier&lt;Person&gt; personSupplier = Person::new;personSupplier.get(); // new PersonFunctionsFunctionsÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718@FunctionalInterfacepublic interface Function&lt;T, R&gt; &#123; R apply(T t); default &lt;V&gt; Function&lt;V, R&gt; compose(Function&lt;? super V, ? extends T&gt; before) &#123; Objects.requireNonNull(before); return (V v) -&gt; apply(before.apply(v)); &#125; default &lt;V&gt; Function&lt;T, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) &#123; Objects.requireNonNull(after); return (T t) -&gt; after.apply(apply(t)); &#125; static &lt;T&gt; Function&lt;T, T&gt; identity() &#123; return t -&gt; t; &#125;&#125;java.util.function.Function&lt;T, R&gt;Êé•Âè£ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âè´‰ΩúapplyÁöÑÊñπÊ≥ïÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Ê≥õÂûãTÁöÑÂØπË±°ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Ê≥õÂûãRÁöÑÂØπË±°ÔºåÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫(T) -&gt; R„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö1234Function&lt;Apple, Double&gt; getAppleWeight = (a) -&gt; &#123; return a.getWeight();&#125;;getAppleWeight.apply(new Apple(17)); // 17.0FunctionsÊé•Âè£ËøòÊèê‰æõ‰∫Ü‰∏§‰∏™ÊäΩË±°ÊñπÊ≥ïcomposeÂíåandThenÔºå‰ªéÊ∫êÁ†ÅÂèØ‰ª•ÁúãÂá∫‰∏§ËÄÖÁöÑÊ†πÊú¨Âå∫Âà´„ÄÇ‰∏æ‰∏™compose‰æãÂ≠êÔºö123Function&lt;Integer, Integer&gt; f = (x) -&gt; x + 1;Function&lt;Integer, Integer&gt; g = (x) -&gt; x * 2;f.compose(g).apply(2); // 5ËøáÁ®ã‰∏∫Ôºöf(g(2))Ôºå‰πüÂ∞±ÊòØ1+(2*2)„ÄÇ‰∏æ‰∏™andThenÁöÑ‰æãÂ≠êÔºö123Function&lt;Integer, Integer&gt; f = (x) -&gt; x + 1;Function&lt;Integer, Integer&gt; g = (x) -&gt; x * 2;f.andThen(g).apply(2); // 6ËøáÁ®ã‰∏∫Ôºög(f(2))Ôºå‰πüÂ∞±ÊòØ(2+1)*2„ÄÇÂéüÂßãÁ±ªÂûãÁâπÂåñÂú®Â≠¶‰π†FunctionÊé•Âè£ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂÆö‰πâ‰∫ÜfÂáΩÊï∞Ôºö1Function&lt;Integer, Integer&gt; f = (x) -&gt; x + 1;xÁöÑÁ±ªÂûã‰∏∫IntegerÁ±ªÂûãÔºå1‰∏∫intÁ±ªÂûãÔºåËøîÂõûÂÄº‰∏∫IntegerÁ±ªÂûãÔºåÊï¥‰∏™ËøáÁ®ãÂÆûÈôÖ‰∏ä‰∏∫Integer.valueOf(x.intValue() + 1)„ÄÇËôΩÁÑ∂ÁºñËØëÂô®ÂèØ‰ª•Ëá™Âä®Â∏ÆÊàë‰ª¨ÂÆåÊàêÊãÜË£ÖÁÆ±Ôºå‰ΩÜËøô‰ºöÈÄ†Êàê‰∏çÂøÖË¶ÅÁöÑÊÄßËÉΩÊ∂àËÄó„ÄÇËÄÉËôëÂà∞‰∫ÜËøô‰∏ÄÁÇπÔºåJava8‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜintÁ±ªÂûãÁöÑFunctionÊé•Âè£ÔºöIntFunction:1234@FunctionalInterfacepublic interface IntFunction&lt;R&gt; &#123; R apply(int value);&#125;ÊâÄ‰ª•fÊúÄÂ•ΩÈáçÊûÑ‰∏∫Ôºö1IntFunction&lt;Integer&gt; f = (x) -&gt; x + 1;Ââ©‰ΩôÁöÑÂéüÂßãÁ±ªÂûãÁâπÂåñÂáΩÊï∞ÂºèÊé•Âè£ÂèØÂèÇËÄÉ‰∏äÈù¢ÁöÑË°®Ê†º„ÄÇJava8‰∏≠Â¢ûÂº∫ÁöÑComparatorÂú®Java8‰πãÂâçÔºåComparatorÊé•Âè£Áî®‰∫éÂÆûÁé∞ÁÆÄÂçïÁöÑÊØîËæÉÊéíÂ∫èÁÆóÊ≥ï„ÄÇÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãListÔºö123456List&lt;Double&gt; list = new ArrayList&lt;&gt;();list.add(12.3);list.add(100.2);list.add(3.14);list.add(27.7);list.add(-9.8);‰ΩøÁî®ComparatorÊé•Âè£ÂØπÂÖ∂‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫èÔºö123456Collections.sort(list, new Comparator&lt;Double&gt;() &#123; @Override public int compare(Double o1, Double o2) &#123; return o1.compareTo(o2); &#125;&#125;);ComparatorÊé•Âè£‰πüÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂºèÊé•Âè£ÔºåÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫(T,T) -&gt; intÔºåJava8‰∏≠ÂèØ‰ª•‰ΩøÁî®LambdaÊîπÈÄ†‰∏äÈù¢ÁöÑÊéíÂ∫èÊñπÊ≥ïÔºö1Collections.sort(list, (o1, o2) -&gt; o1.compareTo(o2));Java8ÂØπListÊèê‰æõ‰∫ÜsortÊñπÊ≥ïÔºåÂèØ‰ª•Êõø‰ª£Collections.sortÔºåÊâÄ‰ª•‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÁÆÄÂåñ‰∏∫Ôºö1list.sort((o1, o2) -&gt; o1.compareTo(o2));‰ΩøÁî®ÊñπÊ≥ïÁöÑÂºïÁî®Êù•Ëøõ‰∏ÄÊ≠•ÁÆÄÂåñÔºö1list.sort(Double::compareTo);Java8ÂØπComparatorËøõË°å‰∫ÜÂ¢ûÂº∫ÔºåÂä†ÂÖ•‰∫Ü‰∏Ä‰∫õÂÆûÁî®ÁöÑÈªòËÆ§ÊñπÊ≥ïÔºåÊØîÂ¶ÇÂØπÊéíÂ∫èÁªìÊûúÂèçËΩ¨Ôºö12Comparator&lt;Double&gt; comparator = Double::compareTo;list.sort(comparator.reversed());Êõ¥Â§öÊñπÊ≥ïÂèØ‰ª•ÂèÇËÄÉComparatorÊé•Âè£ÁöÑJavaDoc„ÄÇÊü•ÁúãComparatorÁöÑÊó∂ÂÄôÂèëÁé∞ÂÖ∂ËôΩÁÑ∂ÊòØÂáΩÊï∞ÂºèÊé•Âè£Ôºå‰ΩÜÊòØÂç¥ÂåÖÂê´‰∫ÜcompareÂíåequalsËøô‰∏§‰∏™ÊäΩË±°ÊñπÊ≥ïÔºåÈ°øÊó∂ÊúâÁÇπÊáµÈÄºÔºåÂáΩÊï∞ÂºèÊé•Âè£‰∏çÊòØÂè™ËÉΩÊúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ï‰πàÔºüÊü•ÊâæËµÑÊñôÂêéÂèëÁé∞ÔºöÂáΩÊï∞ÂºèÊé•Âè£‰∏≠ÂèØ‰ª•È¢ùÂ§ñÂÆö‰πâÂ§ö‰∏™ÊäΩË±°ÊñπÊ≥ïÔºå‰ΩÜËøô‰∫õÊäΩË±°ÊñπÊ≥ïÁ≠æÂêçÂøÖÈ°ªÂíåObjectÁöÑpublicÊñπÊ≥ï‰∏ÄÊ†∑ÔºåÊé•Âè£ÊúÄÁªàÊúâÁ°ÆÂÆöÁöÑÁ±ªÂÆûÁé∞ÔºåËÄåÁ±ªÁöÑÊúÄÁªàÁà∂Á±ªÊòØObject„ÄÇÂõ†Ê≠§ÂáΩÊï∞ÂºèÊé•Âè£ÂèØ‰ª•ÂÆö‰πâObjectÁöÑpublicÊñπÊ≥ï„ÄÇ„ÄäJava 8ÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêJava8ÂÆûÊàò„ÄëLambdaË°®ËææÂºèÔºà‰∏ÄÔºâ]]></title>
    <url>%2Fjava8lambda1.html</url>
    <content type="text"><![CDATA[Java 8ÁöÑLambdaË°®ËææÂºèÂÄüÈâ¥‰∫ÜC#ÂíåScalaÁ≠âËØ≠Ë®Ä‰∏≠ÁöÑÁ±ª‰ººÁâπÊÄßÔºåÁÆÄÂåñ‰∫ÜÂåøÂêçÂáΩÊï∞ÁöÑË°®ËææÊñπÂºè„ÄÇLambdaË°®ËææÂºèÂèØ‰ª•Áõ¥Êé•‰ª•ÂÜÖËÅîÁöÑÂΩ¢Âºè‰∏∫ÂáΩÊï∞ÂºèÊé•Âè£ÁöÑÊäΩË±°ÊñπÊ≥ïÊèê‰æõÂÆûÁé∞ÔºåÂπ∂ÊääÊï¥‰∏™Ë°®ËææÂºè‰Ωú‰∏∫ÂáΩÊï∞ÂºèÊé•Âè£ÁöÑÂÆû‰æã„ÄÇ‰ªÄ‰πàÊòØÂáΩÊï∞ÂºèÊé•Âè£ÔºüÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÂè™ÂåÖÂê´‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÁöÑÊé•Âè£ÔºåÂÖÅËÆ∏ÊúâÈªòËÆ§ÁöÑÂÆûÁé∞Ôºà‰ΩøÁî®defaultÂÖ≥ÈîÆÂ≠óÊèèËø∞ÊñπÊ≥ïÔºâ„ÄÇÂáΩÊï∞ÂºèÊé•Âè£Âª∫ËÆÆ‰ΩøÁî®@FunctionalInterfaceÊ≥®Ëß£Ê†áÊ≥®ÔºåËôΩÁÑ∂Ëøô‰∏çÊòØÂøÖÈ°ªÁöÑÔºå‰ΩÜÊòØËøôÊ†∑ÂÅöÊõ¥Á¨¶ÂêàËßÑËåÉ„ÄÇÂú®Java 8‰πãÂâçÔºåÂÆûÁé∞RunnableÂ∏∏Áî®ÊñπÂºèÊòØÁºñÂÜô‰∏Ä‰∏™ÂåøÂêçÁ±ªÔºö1234567Thread thread = new Thread(new Runnable() &#123; @Override public void run() &#123; System.out.println("hello"); &#125;&#125;);thread.start();‰ΩøÁî®LambdaË°®ËææÂºèÂêéÔºå‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÊîπÈÄ†‰∏∫Ôºö12Thread thread = new Thread(() -&gt; System.out.println("hello"));thread.start();ÊòØ‰∏çÊòØÂæàÁ•ûÂ•áÔºüÔºÅÂæàÁÆÄÊ¥ÅÔºüÔºÅLambdaË°®ËææÂºèËß£ÊûêLambdaË°®ËææÂºèÁöÑÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123(parameters) -&gt; expression or(parameters) -&gt; &#123; statements; &#125;Áî±ËØ≠Ê≥ïÂèØ‰ª•ÁúãÂà∞ÔºåLambdaË°®ËææÂºèÂåÖÂê´‰∫Ü‰∏â‰∏™ÈÉ®ÂàÜÔºöÂèÇÊï∞ÂàóË°®ÔºõÁÆ≠Â§¥-&gt;ÊääÂèÇÊï∞ÂàóË°®‰∏éLambda‰∏ª‰ΩìÂàÜÈöîÂºÄÔºõLambda‰∏ª‰ΩìÔºåÂè™Êúâ‰∏ÄË°å‰ª£Á†ÅÁöÑÊó∂ÂÄôÂèØ‰ª•ÁúÅÁï•Â§ßÊã¨Âè∑ÂíåreturnÂÖ≥ÈîÆÂ≠ó„ÄÇÊØîÂ¶Ç‰∏ãÈù¢Ëøô‰∫õLambdaË°®ËææÂºèÈÉΩÊòØÂêàÊ≥ïÁöÑÔºö123456789101112(String str) -&gt; str.length()(String str) -&gt; &#123; return str.length(); &#125;() -&gt; System.out.println("hello")() -&gt; &#123;&#125;() -&gt; 17(int x, int y) -&gt; &#123; System.out.println(x); System.out.println(y);&#125;LambdaÁöÑ‰ΩøÁî®Âú∫Âêà‰ªÄ‰πàÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®LambdaË°®ËææÂºèÔºü‰ΩøÁî®LambdaÂøÖÈ°ªÊª°Ë∂≥‰ª•‰∏ã‰∏§‰∏™Êù°‰ª∂ÔºöÂÆûÁé∞ÁöÑÂØπË±°ÊòØÂáΩÊï∞ÂºèÊé•Âè£ÁöÑÊäΩË±°ÊñπÊ≥ïÔºõÂáΩÊï∞ÂºèÊé•Âè£ÁöÑÊäΩË±°ÊñπÊ≥ïÁöÑÂáΩÊï∞ÊèèËø∞Á¨¶ÂíåLambdaË°®ËææÂºèÁöÑÂáΩÊï∞ÊèèËø∞Á¨¶‰∏ÄËá¥„ÄÇÂáΩÊï∞ÂºèÊé•Âè£ÂáΩÊï∞ÂºèÊé•Âè£ÁöÑÂÆö‰πâÂºÄÂ§¥Â∑≤ÁªèËØ¥‰∫ÜÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇÂú®Java 8‰πãÂâçÔºåÂ∏∏ËßÅÁöÑÂáΩÊï∞ÂºèÊé•Âè£Êúâjava.util.ComparatorÔºåjava.lang.RunnableÁ≠â„ÄÇÊãøjava.util.RunnableÊù•ËØ¥ÔºåÊü•ÁúãÂÖ∂Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö1234@FunctionalInterfacepublic interface Runnable &#123; public abstract void run();&#125;Ëøô‰∏™Êé•Âè£Âè™Êúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÔºåÂπ∂‰∏î‰ΩøÁî®@FunctionalInterfaceÊ≥®Ëß£Ê†áÊ≥®„ÄÇÊé•Âè£Áé∞Âú®ËøòÂèØ‰ª•Êã•ÊúâÈªòËÆ§ÊñπÊ≥ïÔºàÂç≥Âú®Á±ªÊ≤°ÊúâÂØπÊñπÊ≥ïËøõË°åÂÆûÁé∞Êó∂ÔºåÂÖ∂‰∏ª‰Ωì‰∏∫ÊñπÊ≥ïÊèê‰æõÈªòËÆ§ÂÆûÁé∞ÁöÑÊñπÊ≥ïÔºâ„ÄÇÂì™ÊÄïÊúâÂæàÂ§öÈªòËÆ§ÊñπÊ≥ïÔºåÂè™Ë¶ÅÊé•Âè£Âè™ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÔºåÂÆÉÂ∞±‰ªçÁÑ∂ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂºèÊé•Âè£„ÄÇÂáΩÊï∞ÊèèËø∞Á¨¶ÂáΩÊï∞ÊèèËø∞Á¨¶ÂÖ∂ÂÆû‰πüÂèØ‰ª•ÁêÜËß£‰∏∫ÊñπÊ≥ïÁöÑÁ≠æÂêç„ÄÇÊØîÂ¶Ç‰∏äËø∞ÁöÑRunnableÊäΩË±°ÊñπÊ≥ï‰∏çÊé•ÂèóÂèÇÊï∞ÔºåÂπ∂‰∏îËøîÂõûvoidÔºåÊâÄ‰ª•ÂÖ∂ÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫() -&gt; void„ÄÇËÄå() -&gt; System.out.println(&quot;hello&quot;)LambdaË°®ËææÂºè‰πüÊòØ‰∏çÊé•ÂèóÂèÇÊï∞ÔºåÂπ∂‰∏îËøîÂõûvoidÔºåÂç≥ÂÖ∂ÂáΩÊï∞ÊèèËø∞Á¨¶‰πüÊòØ() -&gt; void„ÄÇÊâÄ‰ª•‰ª£Á†ÅRunnable r = () -&gt; System.out.println(&quot;hello&quot;);ÊòØÂêàÊ≥ïÁöÑ„ÄÇÁâπÊÆäÁöÑvoidÂÖºÂÆπËßÑÂàôÂ¶ÇÊûú‰∏Ä‰∏™LambdaÁöÑ‰∏ª‰ΩìÊòØ‰∏Ä‰∏™ËØ≠Âè•Ë°®ËææÂºèÔºå ÂÆÉÂ∞±Âíå‰∏Ä‰∏™ËøîÂõûvoidÁöÑÂáΩÊï∞ÊèèËø∞Á¨¶ÂÖºÂÆπÔºàÂΩìÁÑ∂ÈúÄË¶ÅÂèÇÊï∞ÂàóË°®‰πüÂÖºÂÆπÔºâ„ÄÇ‰æãÂ¶ÇÔºå‰ª•‰∏ãLambdaÊòØÂêàÊ≥ïÁöÑÔºåÂ∞ΩÁÆ°ListÁöÑaddÊñπÊ≥ïËøîÂõû‰∫Ü‰∏Ä‰∏™ booleanÔºåËÄå‰∏çÊòØRunnableÊäΩË±°ÊñπÊ≥ïÂáΩÊï∞ÊèèËø∞Á¨¶() -&gt; voidÊâÄË¶ÅÊ±ÇÁöÑvoidÔºö12List&lt;String&gt; list = new ArrayList&lt;&gt;();Runnable r = () -&gt; list.add(&quot;hello&quot;);Êõ¥ÁÆÄÊ¥ÅÁöÑLambdaÁºñÂÜô‰∏Ä‰∏™Á±ªÂûãËΩ¨Êç¢ÁöÑÂáΩÊï∞ÂºèÊé•Âè£Ôºö1234@FunctionalInterfacepublic interface TransForm&lt;T, R&gt; &#123; R transForm(T t);&#125;ÁºñÂÜô‰∏Ä‰∏™LambdaË°®ËææÂºèÂÆûÁé∞ËØ•ÂáΩÊï∞ÂºèÊé•Âè£ÔºåÁî®‰∫éÂÆûÁé∞StringËΩ¨Êç¢‰∏∫IntegerÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12TransForm&lt;String, Integer&gt; t = (String str) -&gt; Integer.valueOf(str);System.out.println(t.transForm("123"));‰∏äÈù¢ÁöÑLambdaË°®ËææÂºèÂèØ‰ª•Ëøõ‰∏ÄÊ≠•ÁÆÄÂåñ‰∏∫Â¶Ç‰∏ãÊñπÂºèÔºö12TransForm&lt;String, Integer&gt; t = (str) -&gt; Integer.valueOf(str);System.out.println(t.transForm("123"));Âõ†‰∏∫JavaÁºñËØëÂô®‰ºö‰ªé‰∏ä‰∏ãÊñáÔºàÁõÆÊ†áÁ±ªÂûãÔºâÊé®Êñ≠Âá∫Áî®‰ªÄ‰πàÂáΩÊï∞ÂºèÊé•Âè£Êù•ÈÖçÂêàLambdaË°®ËææÂºèÔºåËøôÊÑèÂë≥ÁùÄÂÆÉ‰πüÂèØ‰ª•Êé®Êñ≠Âá∫ÈÄÇÂêàLambdaÁöÑÁ≠æÂêç„ÄÇÂ∞±ÊãøËøô‰∏™‰æãÂ≠êÊù•ËØ¥ÔºåTransFormÁöÑÊäΩË±°ÊñπÊ≥ïtransFormÂú®Êú¨‰æã‰∏≠ÁöÑÂáΩÊï∞ÊèèËø∞Á¨¶‰∏∫(String) -&gt; IntegerÔºåÊâÄ‰ª•ÂØπÂ∫îÁöÑLambdaÁöÑÁ≠æÂêç‰πüÊòØÂ¶ÇÊ≠§ÔºåÂç≥LambdaÁöÑÂèÇÊï∞Âç≥‰Ωø‰∏çÂ£∞ÂêçÁ±ªÂûãÔºåJavaÁºñËØëÂô®ÂèØ‰ª•Áü•ÈÅìÂÖ∂ÂèÇÊï∞ÂÆûÈôÖ‰∏ä‰∏∫StringÁ±ªÂûã„ÄÇÂÖ∂ÂÆûÔºå‰∏äÈù¢ÁöÑLabmdaË°®ËææÂºèËøò‰∏çÊòØÊúÄÁÆÄÊ¥ÅÁöÑÔºåÂÖ∂ËøòÂèØ‰ª•Êõ¥Ëøõ‰∏ÄÊ≠•Âú∞ÁÆÄÂåñ‰∏∫Â¶Ç‰∏ãÂÜôÊ≥ïÔºö12TransForm&lt;String, Integer&gt; t = Integer::valueOf;System.out.println(t.transForm("123"));‰Ω†ËÇØÂÆöÂæàÂõ∞ÊÉëÔºåËøôËøòÊòØLambdaË°®ËææÂºèÂêóÔºåÁÆ≠Â§¥ÂéªÂì™Èáå‰∫ÜÔºüÂèåÂÜíÂè∑ÂèàÊòØ‰ªÄ‰πàÈ¨ºÔºüÂÖ∂ÂÆûËøôÁßçÂÜôÊ≥ïÊúâ‰∏Ä‰∏™Êñ∞ÁöÑÂêçÁß∞ÔºåÂè´ÂÅöÊñπÊ≥ïÁöÑÂºïÁî®„ÄÇÊñπÊ≥ïÂºïÁî®ÂèØ‰ª•Ë¢´Áúã‰Ωú‰ªÖ‰ªÖË∞ÉÁî®ÁâπÂÆöÊñπÊ≥ïÁöÑLambdaÁöÑ‰∏ÄÁßçÂø´Êç∑ÂÜôÊ≥ï„ÄÇÂÆÉÁöÑÂü∫Êú¨ÊÄùÊÉ≥ÊòØÔºåÂ¶ÇÊûú‰∏Ä‰∏™Lambda‰ª£Ë°®ÁöÑÂè™ÊòØ‚ÄúÁõ¥Êé•Ë∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ï‚ÄùÔºåÈÇ£ÊúÄÂ•ΩËøòÊòØÁî®ÂêçÁß∞Êù•Ë∞ÉÁî®ÂÆÉÔºåËÄå‰∏çÊòØÂéªÊèèËø∞Â¶Ç‰ΩïË∞ÉÁî®ÂÆÉÔºåËøôÊ†∑‰ª£Á†ÅÂèØËØªÊÄßÊõ¥Â•Ω„ÄÇÂü∫Êú¨ÂÜôÊ≥ïÂ∞±ÊòØÁõÆÊ†áÂºïÁî®ÊîæÂú®ÂàÜÈöîÁ¨¶::ÂâçÔºåÊñπÊ≥ïÁöÑÂêçÁß∞ÊîæÂú®ÂêéÈù¢„ÄÇ‰∏æÂá†‰∏™LambdaÂèäÂÖ∂Á≠âÊïàÊñπÊ≥ïÂºïÁî®ÁöÑ‰æãÂ≠êÔºöLambdaË°®ËææÂºèÁ≠âÊïàÊñπÊ≥ïÂºïÁî®(String s) -&gt; System.out.println(s)System.out::println(str, i) -&gt; str.substring(i)String::substring() -&gt; Thread.currentThread().dumpStack()Thread.currentThread()::dumpStackÁ¨¶Âè∑::Èô§‰∫ÜÂá∫Áé∞Âú®ÊñπÊ≥ïÁöÑÂºïÁî®Â§ñÔºåÂÆÉËøòÂ∏∏ËßÅ‰∫éÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂºïÁî®‰∏≠„ÄÇ‰∏∫‰∫ÜÊºîÁ§∫‰ªÄ‰πàÊòØÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂºïÁî®ÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÂºèÊé•Âè£Ôºö1234@FunctionalInterfacepublic interface Generator&lt;T, R&gt; &#123; R create(T t);&#125;ÂàõÂª∫‰∏Ä‰∏™AppleÁ±ªÔºö12345678910111213public class Apple &#123; public Apple(String color) &#123; this.color = color; &#125; private String color; public String getColor() &#123; return color; &#125; public void setColor(String color) &#123; this.color = color; &#125;&#125;Áé∞Âú®Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÊñπÂºèÊù•ÂàõÈÄ†‰∏Ä‰∏™AppleÂÆû‰æãÔºö12Generator&lt;String, Apple&gt; g = Apple::new;Apple apple = g.create("red");ËøôÁßçÈÄöËøáClassName::newÁöÑÂÜôÊ≥ïÂ∞±ÊòØÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂºïÁî®„ÄÇÂú®ËøôÈáåGeneratorÁöÑÊäΩË±°ÊñπÊ≥ïÊé•Êî∂‰∏Ä‰∏™StringÁ±ªÂûãÂèÇÊï∞ÔºåËøîÂõûÂÄºÁ±ªÂûã‰∏∫AppleÔºåËøôÂíåAppleÁ±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞Áõ∏Á¨¶ÂêàÔºåÊâÄ‰ª•ËøôÈáåÁºñËØëÂèØ‰ª•ÈÄöËøá„ÄÇÂÆÉÁ≠â‰ª∑‰∫é‰∏ãÈù¢ÁöÑÂÜôÊ≥ïÔºö12Generator&lt;String, Apple&gt; g = (color) -&gt; new Apple(color);Apple apple = g.create("red");LambdaË°®ËææÂºèËÆøÈóÆÂèòÈáèLambdaË°®ËææÂºèÂèØ‰ª•ËÆøÈóÆÂ±ÄÈÉ®finalÂèòÈáèÔºåÊàêÂëòÂèòÈáèÂíåÈùôÊÄÅÂèòÈáè„ÄÇËøôÈáå‰∏ªË¶ÅËØ¥‰∏ãÂ±ÄÈÉ®finalÂèòÈáè„ÄÇÊúâÊó†finalÂÖ≥ÈîÆÂ≠ó‰∏çÈáçË¶ÅÔºåÈáçË¶ÅÁöÑÊòØÁ°Æ‰øùËØ•ÂèòÈáèÁöÑÂÄº‰∏ç‰ºöË¢´ÊîπÂèòÂ∞±Ë°å‰∫Ü„ÄÇÊØîÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÂèØ‰ª•ÁºñËØëÈÄöËøáÔºö12String hello = "hello lambda";Runnable r = () -&gt; System.out.println(hello);ËÄå‰∏ãÈù¢ÁöÑËøô‰∏™Â∞±‰ºöÁºñËØëÂá∫ÈîôÔºåÂõ†‰∏∫ÂèòÈáèhelloÁöÑÂÄºË¢´ÊîπÂèò‰∫ÜÔºöLambdaË°®ËææÂºèÂÆûÊàòÂÅáÂ¶ÇÁé∞Âú®ÊúâÂ¶Ç‰∏ãÈúÄÊ±ÇÔºöÁé∞Êúâ‰∏Ä‰∏™ÂåÖÂê´‰∫ÜÂêÑÁßçÈ¢úËâ≤‰∏çÂêåÈáçÈáèÁöÑËãπÊûúÁöÑListÔºåÁºñÂÜô‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰ªé‰∏≠Á≠õÈÄâÂá∫Êª°Ë∂≥Ë¶ÅÊ±ÇÁöÑËãπÊûú„ÄÇÊØîÂ¶ÇÁ≠õÈÄâÂá∫Á∫¢Ëâ≤ÁöÑËãπÊûú„ÄÅÁ∫¢Ëâ≤Âπ∂‰∏îÈáçÈáèÂ§ß‰∫é1kgÁöÑËãπÊûú„ÄÅÁªøËâ≤ÈáçÈáèÂ∞è‰∫é0.5kgÁöÑËãπÊûúÊàñËÄÖÁ∫¢Ëâ≤Â§ß‰∫é0.5kgÁöÑËãπÊûúÁ≠âÁ≠â„ÄÇ‰∏ç‰ΩøÁî®LambdaÂú®Ê≤°ÊúâÊé•Ëß¶Lambda‰πãÂâçÔºåÊàë‰ª¨‰∏ÄËà¨‰ºöËøôÊ†∑ÂÅöÔºöÂÆö‰πâ‰∏Ä‰∏™Á≠õÈÄâÁöÑÊé•Âè£12345import cc.mrbird.java8.domain.Apple;public interface AppleFilter &#123; boolean test(Apple apple);&#125;ÁÑ∂ÂêéÊ†πÊçÆÁ≠õÈÄâÁöÑÊù°‰ª∂Êù•ÁºñÂÜôÂêÑ‰∏™‰∏çÂêåÁöÑÂÆûÁé∞Á±ªÔºöÁ≠õÈÄâÂá∫Á∫¢Ëâ≤ËãπÊûúÁöÑÂÆûÁé∞ÊñπÊ≥ïÔºö12345678import cc.mrbird.java8.domain.Apple;public class RedApple implements AppleFilter &#123; @Override public boolean test(Apple apple) &#123; return "red".equalsIgnoreCase(apple.getColor()); &#125;&#125;Á≠õÈÄâÂá∫Á∫¢Ëâ≤Âπ∂‰∏îÈáçÈáèÂ§ß‰∫é1kgÁöÑËãπÊûúÁöÑÂÆûÁé∞ÊñπÊ≥ïÔºö12345678import cc.mrbird.java8.domain.Apple;public class RedAndMoreThan1kgApple implements AppleFilter &#123; @Override public boolean test(Apple apple) &#123; return "red".equalsIgnoreCase(apple.getColor()) &amp;&amp; apple.getWeight() &gt; 1.0; &#125;&#125;Á≠õÈÄâÂá∫ÁªøËâ≤ÈáçÈáèÂ∞è‰∫é0.5kgÁöÑËãπÊûúÊàñËÄÖÁ∫¢Ëâ≤Â§ß‰∫é0.5kgÁöÑËãπÊûúÁöÑÂÆûÁé∞ÊñπÊ≥ïÔºö123456789import cc.mrbird.java8.domain.Apple;public class GreenAndLessThan05OrRedAndMoreThan05Apple implements AppleFilter &#123; @Override public boolean test(Apple apple) &#123; return ("green".equalsIgnoreCase(apple.getColor()) &amp;&amp; apple.getWeight() &lt; 0.5) || ("red".equalsIgnoreCase(apple.getColor()) &amp;&amp; apple.getWeight() &gt; 0.5); &#125;&#125;Á≠õÈÄâËãπÊûúÁöÑÊñπÊ≥ïÔºö123456789101112131415import cc.mrbird.java8.domain.Apple;import java.util.ArrayList;import java.util.List;public class AppleFilterMethod &#123; public static List&lt;Apple&gt; filterApple(List&lt;Apple&gt; list, AppleFilter filter) &#123; List&lt;Apple&gt; filterList = new ArrayList&lt;&gt;(); for (Apple apple : list) &#123; if (filter.test(apple)) &#123; filterList.add(apple); &#125; &#125; return filterList; &#125;&#125;ÂºÄÂßãÁ≠õÈÄâËãπÊûúÔºö123456789101112List&lt;Apple&gt; appleList = new ArrayList&lt;&gt;();appleList.add(new Apple("red", 0.4));appleList.add(new Apple("red", 0.6));appleList.add(new Apple("red", 1.3));appleList.add(new Apple("green", 0.2));appleList.add(new Apple("green", 0.35));appleList.add(new Apple("green", 1.1));List&lt;Apple&gt; appleFilterList = AppleFilterMethod.filterApple(appleList, new RedApple());for (Apple apple : appleFilterList) &#123; System.out.println(apple.getColor() + " apple,weight:" + apple.getWeight());&#125;ËæìÂá∫Ôºö123red apple,weight:0.4red apple,weight:0.6red apple,weight:1.3Ââ©‰∏ãÁöÑÁï•„ÄÇÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨‰∏∫‰∫ÜÊª°Ë∂≥ÂêÑÁßçÁ≠õÈÄâÊù°‰ª∂ÂàõÈÄ†‰∫ÜÂêÑÁßçÁ≠õÈÄâÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÔºåÁúüÊ≠£Ëµ∑‰ΩúÁî®ÁöÑÂè™ÊúâÁ≠õÈÄâÊñπÊ≥ï‰∏≠returnÈÇ£‰∏ÄË°å‰ª£Á†ÅÔºåÂâ©‰∏ãÁöÑÈÉΩÊòØ‰∏Ä‰∫õÈáçÂ§çÁöÑÊ®°Êùø‰ª£Á†Å„ÄÇ‰ΩøÁî®Java 8‰∏≠ÁöÑLambdaÂèØ‰ª•ÂæàÂ•ΩÁöÑÊ∂àÈô§Ëøô‰∫õÊ®°Êùø‰ª£Á†Å„ÄÇ‰ΩøÁî®LambdaAppleFilterÊé•Âè£ÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂºèÊé•Âè£ÔºåÊâÄ‰ª•ÂÆÉÁöÑÂêÑÁßçÂÆûÁé∞ÂèØ‰ª•Áî®LambdaË°®ËææÂºèÊù•Êõø‰ª£ÔºåËÄåÊó†ÈúÄÁúüÊ≠£ÁöÑÂéªÂÜôÂÆûÁé∞ÊñπÊ≥ï„ÄÇÂÆö‰πâÁ≠õÈÄâÊé•Âè£Ôºö12345import cc.mrbird.java8.domain.Apple;public interface AppleFilter &#123; boolean test(Apple apple);&#125;Á≠õÈÄâËãπÊûúÁöÑÊñπÊ≥ïÔºö123456789101112131415import cc.mrbird.java8.domain.Apple;import java.util.ArrayList;import java.util.List;public class AppleFilterMethod &#123; public static List&lt;Apple&gt; filterApple(List&lt;Apple&gt; list, AppleFilter filter) &#123; List&lt;Apple&gt; filterList = new ArrayList&lt;&gt;(); for (Apple apple : list) &#123; if (filter.test(apple)) &#123; filterList.add(apple); &#125; &#125; return filterList; &#125;&#125;Êé•‰∏ãÊù•‰æøÂèØ‰ª•ÂºÄÂßãÁ≠õÈÄâ‰∫ÜÔºöÁ≠õÈÄâÁ∫¢Ëâ≤ÁöÑËãπÊûúÔºö12345List&lt;Apple&gt; appleFilterList = AppleFilterMethod.filterApple(appleList, (apple) -&gt; "red".equalsIgnoreCase(apple.getColor()));for (Apple apple : appleFilterList) &#123; System.out.println(apple.getColor() + " apple,weight:" + apple.getWeight());&#125;ËæìÂá∫Ôºö123red apple,weight:0.4red apple,weight:0.6red apple,weight:1.3Á≠õÈÄâÂá∫Á∫¢Ëâ≤Âπ∂‰∏îÈáçÈáèÂ§ß‰∫é1kgÁöÑËãπÊûú:12345 List&lt;Apple&gt; appleFilterList = AppleFilterMethod.filterApple(appleList, (apple) -&gt; "red".equalsIgnoreCase(apple.getColor()) &amp;&amp; apple.getWeight() &gt; 1.0);for (Apple apple : appleFilterList) &#123; System.out.println(apple.getColor() + " apple,weight:" + apple.getWeight());&#125;ËæìÂá∫Ôºö1red apple,weight:1.3Á≠õÈÄâÂá∫ÁªøËâ≤ÈáçÈáèÂ∞è‰∫é0.5kgÁöÑËãπÊûúÊàñËÄÖÁ∫¢Ëâ≤Â§ß‰∫é0.5kgÁöÑËãπÊûú:123456List&lt;Apple&gt; appleFilterList = AppleFilterMethod.filterApple(appleList, (apple) -&gt; ("green".equalsIgnoreCase(apple.getColor()) &amp;&amp; apple.getWeight() &lt; 0.5) || ("red".equalsIgnoreCase(apple.getColor()) &amp;&amp; apple.getWeight() &gt; 0.5));for (Apple apple : appleFilterList) &#123; System.out.println(apple.getColor() + " apple,weight:" + apple.getWeight());&#125;ËæìÂá∫Ôºö1234red apple,weight:0.6red apple,weight:1.3green apple,weight:0.2green apple,weight:0.35‰ΩøÁî®LambdaË°®ËææÂºèÊ∂àÈô§‰∫ÜÂ§ßÈáèÁöÑÊ†∑Êùø‰ª£Á†ÅÔºåÂπ∂‰∏îÂèØ‰ª•ÁÅµÊ¥ªÁöÑÊûÑÈÄ†Á≠õÈÄâÊù°‰ª∂ÔºÅ„ÄäJava 8ÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Java 8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàùËØÜSpring Cloud‰∏éÂæÆÊúçÂä°]]></title>
    <url>%2FSpring-Cloud%20and%20MicroService.html</url>
    <content type="text"><![CDATA[Âú®‰º†ÁªüÁöÑËΩØ‰ª∂Êû∂ÊûÑ‰∏≠ÔºåÊàë‰ª¨ÈÄöÂ∏∏ÈááÁî®ÁöÑÊòØÂçï‰ΩìÂ∫îÁî®Êù•ÊûÑÂª∫‰∏Ä‰∏™Á≥ªÁªüÔºå‰∏Ä‰∏™Âçï‰ΩìÂ∫îÁî®Á≥ÖÂêà‰∫ÜÂêÑÁßç‰∏öÂä°Ê®°Âùó„ÄÇËµ∑ÂàùÂú®‰∏öÂä°ËßÑÊ®°‰∏çÊòØÂæàÂ§ßÁöÑÊÉÖÂÜµ‰∏ãÔºåÂØπ‰∫éÂçï‰ΩìÂ∫îÁî®ÁöÑÂºÄÂèëÁª¥Êä§‰πüÁõ∏ÂØπÂÆπÊòì„ÄÇ‰ΩÜÈöèÁùÄ‰ºÅ‰∏öÁöÑÂèëÂ±ïÔºå‰∏öÂä°ËßÑÊ®°‰∏éÊó•ÈÄíÂ¢ûÔºåÂçï‰ΩìÂ∫îÁî®ÂèòÂæóÊÑàÂèëËáÉËÇø„ÄÇÁî±‰∫éÂçï‰ΩìÂ∫îÁî®Â∞ÜÂêÑÁßç‰∏öÂä°Ê®°ÂùóËÅöÂêàÂú®‰∏ÄËµ∑ÔºåÂπ∂‰∏îÈÉ®ÁΩ≤Âú®‰∏Ä‰∏™ËøõÁ®ãÂÜÖÔºåÊâÄ‰ª•ÈÄöÂ∏∏Êàë‰ª¨ÂØπÂÖ∂‰∏≠‰∏Ä‰∏™‰∏öÂä°Ê®°ÂùóÁöÑ‰øÆÊîπ‰πüÂøÖÈ°ªÂ∞ÜÊï¥‰∏™Â∫îÁî®ÈáçÊñ∞ÊâìÂåÖ‰∏äÁ∫ø„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Âçï‰ΩìÂ∫îÁî®ÂèòÂæóÂ∫ûÂ§ßËÑØËÇø‰πãÂêé‰∫ßÁîüÁöÑÈöæ‰ª•Áª¥Êä§ÁöÑÈóÆÈ¢òÔºåÂæÆÊúçÂä°Êû∂ÊûÑ‰æøÂá∫Áé∞Âú®‰∫ÜÂ§ßÂÆ∂ÁöÑËßÜÁ∫øÈáå„ÄÇ‰ªÄ‰πàÊòØÂæÆÊúçÂä°ÂæÆÊúçÂä° (Microservices) ÊòØ‰∏ÄÁßçËΩØ‰ª∂Êû∂ÊûÑÈ£éÊ†ºÔºåËµ∑Ê∫ê‰∫éPeter RodgersÂçöÂ£´‰∫é 2005 Âπ¥Â∫¶‰∫ëÁ´ØËøêÁÆóÂçöËßà‰ºöÊèêÂá∫ÁöÑÂæÆ Web ÊúçÂä° (Micro-Web-Service) „ÄÇÂæÆÊúçÂä°‰∏ªÊó®ÊòØÂ∞Ü‰∏Ä‰∏™ÂéüÊú¨Áã¨Á´ãÁöÑÁ≥ªÁªü ÊãÜÂàÜÊàêÂ§ö‰∏™Â∞èÂûãÊúçÂä°ÔºåËøô‰∫õÂ∞èÂûãÊúçÂä°ÈÉΩÂú®ÂêÑËá™Áã¨Á´ãÁöÑËøõÁ®ã‰∏≠ËøêË°åÔºåÊúçÂä°‰πãÈó¥ÈÄöËøáÂü∫‰∫éHTTPÁöÑRESTful APIËøõË°åÈÄö‰ø°Âçè‰Ωú„ÄÇ‰∏ãÂõæÂ±ïÁ§∫‰∫ÜÂçï‰ΩìÂ∫îÁî®ÂíåÂæÆÊúçÂä°‰πãÈó¥ÁöÑÂå∫Âà´ÔºöÂú®ÂæÆÊúçÂä°ÁöÑÊû∂ÊûÑ‰∏ãÔºåÂçï‰ΩìÂ∫îÁî®ÁöÑÂêÑ‰∏™‰∏öÂä°Ê®°ÂùóË¢´ÊãÜÂàÜ‰∏∫‰∏Ä‰∏™‰∏™ÂçïÁã¨ÁöÑÊúçÂä°Âπ∂ÈÉ®ÁΩ≤Âú®ÂçïÁã¨ÁöÑËøõÁ®ãÈáåÔºåÊØè‰∏™ÊúçÂä°ÈÉΩÂèØ‰ª•ÂçïÁã¨ÁöÑÈÉ®ÁΩ≤ÂíåÂçáÁ∫ß„ÄÇËøôÁßçÂéª‰∏≠ÂøÉÂåñÁöÑÊ®°Âºè‰ΩøÂæóÂêéÊúüÁª¥Êä§ÂíåÂºÄÂèëÂèòÂæóÊõ¥Âä†ÁÅµÊ¥ªÂíåÊñπ‰æø„ÄÇÁî±‰∫éÂêÑ‰∏™ÊúçÂä°ÂçïÁã¨ÈÉ®ÁΩ≤ÔºåÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑËØ≠Âè•Êù•ÂºÄÂèëÂêÑ‰∏™‰∏öÂä°ÊúçÂä°Ê®°Âùó„ÄÇ‰ªÄ‰πàÊòØSpring CloudSpring CloudÊòØ‰∏Ä‰∏™Âü∫ÂçÉSpring BootÂÆûÁé∞ÁöÑÂæÆÊúçÂä°Êû∂ÊûÑÂºÄÂèëÂ∑•ÂÖ∑„ÄÇÂÆÉ‰∏∫ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠Ê∂âÂèäÁöÑÈÖçÁΩÆÁÆ°ÁêÜ„ÄÅÊúçÂä°Ê≤ªÁêÜ„ÄÅÊñ≠Ë∑ØÂô®„ÄÅÊô∫ËÉΩË∑ØÁî±„ÄÅÂæÆ‰ª£ÁêÜ„ÄÅÊéßÂà∂ÊÄªÁ∫ø„ÄÅÂÖ®Â±ÄÈîÅ„ÄÅÂÜ≥Á≠ñÁ´ûÈÄâ„ÄÅÂàÜÂ∏ÉÂºè‰ºöËØùÂíåÈõÜÁæ§Áä∂ÊÄÅÁÆ°ÁêÜÁ≠âÊìç‰ΩúÊèê‰æõ‰∫Ü‰∏ÄÁßçÁÆÄÂçïÁöÑÂºÄÂèëÊñπÂºè„ÄÇSpring CloudÁöÑËØûÁîüÂπ∂‰∏çÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ÂæÆÊúçÂä°‰∏≠ÁöÑÊüê‰∏Ä‰∏™ÈóÆÈ¢òÔºåËÄåÊòØÊèê‰æõ‰∫Ü‰∏ÄÂ•óËß£ÂÜ≥ÂæÆÊúçÂä°Êû∂ÊûÑÂÆûÊñΩÁöÑÁªºÂêàÊÄßËß£ÂÜ≥ÊñπÊ°à„ÄÇSpring CloudÊòØ‰∏Ä‰∏™Áî±ÂêÑ‰∏™Áã¨Á´ãÈ°πÁõÆÁªÑÊàêÁöÑÁªºÂêàÈ°πÁõÆÔºåÊØè‰∏™Áã¨Á´ãÈ°πÁõÆÊúâÁùÄ‰∏çÂêåÁöÑÂèëÂ∏ÉËäÇÂ•èÔºå‰∏∫‰∫ÜÁÆ°ÁêÜÊØè‰∏™ÁâàÊú¨ÁöÑÂ≠êÈ°πÁõÆÊ∏ÖÂçïÔºåÈÅøÂÖçSpring CloudÁöÑÁâàÊú¨Âè∑‰∏éÂÖ∂Â≠êÈ°πÁõÆÁöÑÁâàÊú¨Âè∑Áõ∏Ê∑∑Ê∑ÜÔºåÊ≤°ÊúâÈááÁî®ÁâàÊú¨Âè∑ÁöÑÊñπÂºèÔºåËÄåÊòØÈÄöËøáÂëΩÂêçÁöÑÊñπÂºè„ÄÇËøô‰∫õÁâàÊú¨ÁöÑÂêçÂ≠óÈááÁî®‰∫Ü‰º¶Êï¶Âú∞ÈìÅÁ´ôÁöÑÂêçÂ≠óÔºåÊ†πÊçÆÂ≠óÊØçË°®ÁöÑÈ°∫Â∫èÊù•ÂØπÂ∫îÁâàÊú¨Êó∂Èó¥È°∫Â∫è„ÄÇÊØîÂ¶Ç‚ÄùAngel‚ÄùÊòØSpring CloudÁöÑÁ¨¨‰∏Ä‰∏™ÂèëË°åÁâàÂêçÁß∞, ‚ÄúBrixton‚ÄùÊòØSpring CloudÁöÑÁ¨¨‰∫å‰∏™ÂèëË°åÁâàÂêçÁß∞„ÄÇÂΩì‰∏Ä‰∏™ÁâàÊú¨ÁöÑSpring CloudÈ°πÁõÆÁöÑÂèëÂ∏ÉÂÜÖÂÆπÁßØÁ¥ØÂà∞‰∏¥ÁïåÁÇπÊàñËÄÖ‰∏Ä‰∏™‰∏•ÈáçbugËß£ÂÜ≥ÂèØÁî®ÂêéÔºåÂ∞±‰ºöÂèëÂ∏É‰∏Ä‰∏™‚Äùservice releases‚ÄùÁâàÊú¨ÔºåÁÆÄÁß∞SRXÁâàÊú¨ÔºåÂÖ∂‰∏≠XÊòØ‰∏Ä‰∏™ÈÄíÂ¢ûÁöÑÊï∞Â≠óÔºåÊâÄ‰ª•Brixton.SR5Â∞±ÊòØBrixtonÁöÑÁ¨¨5‰∏™ReleaseÁâàÊú¨„ÄÇÊà™Ëá≥2018Âπ¥4Êúà02Êó•ÔºåSpring CloudÂ∑≤ÁªèÂèëÂ∏É‰∫Ü‰ª£Âè∑‰∏∫FinchleyÁöÑÂø´ÁÖßÁâàÊú¨ÔºåÈááÁî®ÁöÑSpring BootÁâàÊú¨‰∏∫2.0.1.RELEASE„ÄÇSpring CloudÁöÑÁâàÊú¨ÂíåSpring BootÁöÑÁâàÊú¨ÂÖ≥Á≥ªÂèØ‰ª•Êü•ÁúãÂÆòÁΩëÁªôÁöÑ‰æãÂ≠ê„ÄÇ‰ª•‰∏ãÊòØSpring CloudÁâàÊú¨‰∏éÂêÑ‰∏™Áã¨Á´ãÈ°πÁõÆÁâàÊú¨ÂØπÂ∫îÂÖ≥Á≥ªË°®ÔºöComponentEdgware.SR3Finchley.RC1Finchley.BUILD-SNAPSHOTspring-cloud-aws1.2.2.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-bus1.3.2.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-cli1.4.1.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-commons1.3.3.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-contract1.2.4.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-config1.4.3.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-netflix1.4.4.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-security1.2.2.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-cloudfoundry1.1.1.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-consul1.3.3.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-sleuth1.3.3.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-streamDitmars.SR3Elmhurst.RELEASEElmhurst.BUILD-SNAPSHOTspring-cloud-zookeeper1.2.1.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-boot1.5.10.RELEASE2.0.1.RELEASE2.0.0.BUILD-SNAPSHOTspring-cloud-task1.2.2.RELEASE2.0.0.RC12.0.0.RELEASEspring-cloud-vault1.1.0.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-gateway1.0.1.RELEASE2.0.0.RC12.0.0.BUILD-SNAPSHOTspring-cloud-openfeign&nbsp;2.0.0.RC12.0.0.BUILD-SNAPSHOTFinchley‰ΩøÁî®Spring Boot 2.0.xÊûÑÂª∫Ôºå‰∏çÂª∫ËÆÆ‰∏éSpring Boot 1.5.x‰∏ÄËµ∑‰ΩøÁî®„ÄÇDalstonÂíåEdgwareÂèëË°åÁâàÂª∫Á´ãÂú®Spring Boot 1.5.x‰πã‰∏äÔºå‰∏çÂª∫ËÆÆ‰∏éSpring Boot 2.0.x‰∏ÄËµ∑‰ΩøÁî®„ÄÇ‰πãÂêéÂçöÊñáÁöÑ‰æãÂ≠êÂ∞ÜÈááÁî®Spring Cloud Edgware SR3ÁâàÊú¨ÔºåÂØπÂ∫îÁöÑSpring BootÁâàÊú¨‰∏∫1.5.13.RELEASE„ÄÇÂèÇËÄÉÊñáÁ´†http://blog.cuicc.com/blog/2015/07/22/microservices/https://www.ibm.com/developerworks/community/blogs/https://projects.spring.io/spring-cloud/„ÄäSpring CloudÂæÆÊúçÂä°ÂÆûÊàò„Äã]]></content>
      <tags>
        <tag>Spring Cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot DevtoolsÁÉ≠ÈÉ®ÁΩ≤]]></title>
    <url>%2FSpring-Boot-Devtools.html</url>
    <content type="text"><![CDATA[Âπ≥Êó•ÈáåÂºÄÂèëÈ°πÁõÆ‰∏≠Ôºå‰øÆÊîπ‰∫ÜJava‰ª£Á†ÅÊàñËÄÖÈÖçÁΩÆÊñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂøÖÈ°ªÊâãÂä®ÈáçÂêØÈ°πÁõÆÊâçËÉΩÁîüÊïà„ÄÇÊâÄË∞ìÁöÑÁÉ≠ÈÉ®ÁΩ≤Â∞±ÊòØÂú®‰Ω†‰øÆÊîπ‰∫ÜÂêéÁ´Ø‰ª£Á†ÅÂêé‰∏çÈúÄË¶ÅÊâãÂä®ÈáçÂêØÔºåÂ∑•ÂÖ∑‰ºöÂ∏Æ‰Ω†Âø´ÈÄüÁöÑËá™Âä®ÈáçÂêØÊòØ‰øÆÊîπÁîüÊïà„ÄÇÂÖ∂Ê∑±Â±ÇÂéüÁêÜÊòØ‰ΩøÁî®‰∫Ü‰∏§‰∏™ClassLoaderÔºå‰∏Ä‰∏™ClassloaderÂä†ËΩΩÈÇ£‰∫õ‰∏ç‰ºöÊîπÂèòÁöÑÁ±ªÔºàÁ¨¨‰∏âÊñπJarÂåÖÔºâÔºåÂè¶‰∏Ä‰∏™ClassLoaderÂä†ËΩΩ‰ºöÊõ¥ÊîπÁöÑÁ±ªÔºåÁß∞‰∏∫restart ClassLoaderÔºåËøôÊ†∑Âú®Êúâ‰ª£Á†ÅÊõ¥ÊîπÁöÑÊó∂ÂÄôÔºåÂéüÊù•ÁöÑrestart ClassLoader Ë¢´‰∏¢ÂºÉÔºåÈáçÊñ∞ÂàõÂª∫‰∏Ä‰∏™restart ClassLoaderÔºåÁî±‰∫éÈúÄË¶ÅÂä†ËΩΩÁöÑÁ±ªÁõ∏ÊØîËæÉÂ∞ëÔºåÊâÄ‰ª•ÂÆûÁé∞‰∫ÜËæÉÂø´ÁöÑÈáçÂêØÊó∂Èó¥„ÄÇÊú¨ÊñáÂ∞Ü‰ªãÁªçÂ¶Ç‰ΩïÈÄöËøá‰ΩøÁî®Spring-Boot-devtoolsÊù•ÂÆûÁé∞Spring BootÈ°πÁõÆÁöÑÁÉ≠ÈÉ®ÁΩ≤„ÄÇIDE‰ΩøÁî®ÁöÑÊòØEclipse OxygenÔºåÂπ∂‰∏î‰ΩøÁî®MavenÊûÑÂª∫„ÄÇÂºïÂÖ•DevtoolsÊê≠Âª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑSpring BootÈ°πÁõÆÔºåÁÑ∂ÂêéÂºïÂÖ•Spring-Boot-devtoolsÔºö12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;devtools‰ºöÁõëÂê¨classpath‰∏ãÁöÑÊñá‰ª∂ÂèòÂä®ÔºåÂπ∂‰∏î‰ºöÁ´ãÂç≥ÈáçÂêØÂ∫îÁî®ÔºàÂèëÁîüÂú®‰øùÂ≠òÊó∂Êú∫ÔºâÔºåÂõ†‰∏∫ÂÖ∂ÈááÁî®ÁöÑËôöÊãüÊú∫Êú∫Âà∂ÔºåËØ•È°πÈáçÂêØÊòØÂæàÂø´ÁöÑ„ÄÇÂú®Eclipse‰∏≠ÁîüÊïàËøòÈúÄË¶Å‰øÆÊîπspring-boot-maven-pluginÊèí‰ª∂Ôºö1234567891011&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt;Âπ∂‰∏îÂºÄÂêØBuild AutomaticallyÔºöÊµãËØïÁÉ≠ÈÉ®ÁΩ≤Âú®ÂÖ•Âè£Á±ª‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÊñπÊ≥ïÔºåÁî®‰∫éÁÉ≠ÈÉ®ÁΩ≤ÊµãËØïÔºö12345678910111213141516import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestController@SpringBootApplicationpublic class DemoApplication &#123; @RequestMapping("/") String index() &#123; return "hello spring boot"; &#125; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÂêØÂä®È°πÁõÆËÆøÈóÆhttp://localhost:8080/ÔºåÈ°µÈù¢ËæìÂá∫hello spring boot„ÄÇÂ∞ÜÊñπÊ≥ïÁöÑËøîÂõûÂÄº‰øÆÊîπ‰∏∫hello worldÂπ∂Âú®‰øùÂ≠òÁöÑÁû¨Èó¥ÔºåÂ∫îÁî®‰æøÈáçÂêØÂ•Ω‰∫ÜÔºåÂà∑Êñ∞È°µÈù¢ÔºåÂÜÖÂÆπ‰πüÂ∞ÜÂæóÂà∞Êõ¥Êîπ„ÄÇÊâÄÊúâÈÖçÁΩÆ‰∏ãÈù¢ÊòØÊâÄÊúâDevtoolsÂú®Spring Boot‰∏≠ÁöÑÂèØÈÄâÈÖçÁΩÆ:1234567891011121314151617181920212223242526272829# Whether to enable a livereload.com-compatible server.spring.devtools.livereload.enabled=true # Server port.spring.devtools.livereload.port=35729 # Additional patterns that should be excluded from triggering a full restart.spring.devtools.restart.additional-exclude= # Additional paths to watch for changes.spring.devtools.restart.additional-paths= # Whether to enable automatic restart.spring.devtools.restart.enabled=true# Patterns that should be excluded from triggering a full restart.spring.devtools.restart.exclude=META-INF/maven/**,META-INF/resources/**,resources/**,static/**,public/**,templates/**,**/*Test.class,**/*Tests.class,git.properties,META-INF/build-info.properties# Whether to log the condition evaluation delta upon restart.spring.devtools.restart.log-condition-evaluation-delta=true # Amount of time to wait between polling for classpath changes.spring.devtools.restart.poll-interval=1s # Amount of quiet time required without any classpath changes before a restart is triggered.spring.devtools.restart.quiet-period=400ms # Name of a specific file that, when changed, triggers the restart check. If not specified, any classpath file change triggers the restart.spring.devtools.restart.trigger-file=Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/24.Spring-Boot-DevtoolsÂèÇËÄÉËá™Ôºö http://412887952-qq-com.iteye.com/blog/2300313]]></content>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®Spring Boot AdminÁõëÊéßÊúçÂä°]]></title>
    <url>%2FSpring-Boot-Admin.html</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®ActuatorÁõëÊéßSpring BootÂ∫îÁî®‰∏ÄËäÇ‰∏≠Êàë‰ª¨‰ªãÁªç‰∫Ü‰ΩøÁî®ActuatorÊù•ÁõëÊéßSpring BootÂ∫îÁî®ÔºåÂÖ∂Êèê‰æõ‰∫ÜËÆ∏Â§öRESTÊé•Âè£Êù•Êü•ÁúãÂ∫îÁî®ÁöÑ‰ø°ÊÅØ„ÄÇ‰ΩÜÂÖ∂ËøîÂõûÁöÑÊòØÂ§ßÈáèÁöÑJSONÊ†ºÂºèÊï∞ÊçÆÔºå‰ø°ÊÅØÁúã‰∏äÂéª‰∏çÁõ¥ËßÇ‰πü‰∏çÊòì‰∫éÁêÜËß£„ÄÇËÄåSpring Boot AdminÔºàSBAÔºâÊòØ‰∏ÄÊ¨æÂü∫‰∫éActuatorÂºÄÂèëÁöÑÂºÄÊ∫êËΩØ‰ª∂Ôºöhttps://github.com/codecentric/spring-boot-adminÔºå‰ª•ÂõæÂΩ¢ÂåñÁïåÈù¢ÁöÑÊñπÂºèÂ±ïÁ§∫Spring BootÂ∫îÁî®ÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÅBeans‰ø°ÊÅØ„ÄÅÁéØÂ¢ÉÂ±ûÊÄß„ÄÅÁ∫øÁ®ã‰ø°ÊÅØ„ÄÅJVMÁä∂ÂÜµÁ≠â„ÄÇÊú¨Êñá‰ΩøÁî®ÁöÑSpring Boot AdminÁâàÊú¨‰∏∫1.5.7ÔºåÊúâËÉΩÂäõÁöÑÊúãÂèãÂèØ‰ª•Áõ¥Êé•ÈòÖËØªÂÆòÊñπÊñáÊ°£Ôºöhttp://codecentric.github.io/spring-boot-admin/1.5.7„ÄÇÊê≠Âª∫SBAÊúçÂä°Á´ØÊê≠Âª∫‰∏Ä‰∏™SBAÊúçÂä°Á´ØÔºàServerÔºâÔºåÂÖ∂‰ªñË¢´ÁõëÊéßÁöÑSpring BootÂ∫îÁî®‰Ωú‰∏∫ÂÆ¢Êà∑Á´ØÔºàClientÔºâÔºåÂÆ¢Êà∑Á´ØÈÄöËøáHTTPÁöÑÊñπÂºèÂ∞ÜËá™Â∑±Ê≥®ÂÜåÂà∞ÊúçÂä°Á´ØÔºå‰ª•‰æõÊúçÂä°Á´ØËøõË°åÁõëÊéßÊúçÂä°„ÄÇÂ§ßËá¥ÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂºïÂÖ•SBA Server‰æùËµñ‰ΩøÁî®http://start.spring.io/ÂºÄÂêØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑSpring BootÈ°πÁõÆÔºåÁÑ∂ÂêéÂºïÂÖ•spring-boot-admin-serverÁõ∏ÂÖ≥‰æùËµñÔºö12345678910&lt;dependency&gt; &lt;groupId&gt;de.codecentric&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-admin-server&lt;/artifactId&gt; &lt;version&gt;1.5.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;de.codecentric&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-admin-server-ui&lt;/artifactId&gt; &lt;version&gt;1.5.7&lt;/version&gt;¬∑&lt;/dependency&gt;ÂºÄÂêØAdminÁõëÊéßÂú®Spring BootÂÖ•Âè£Á±ª‰∏≠Âä†ÂÖ•@EnableAutoConfigurationÔºå@EnableAdminServerÊ≥®Ëß£ÂºÄÂêØÁõëÊéßÂäüËÉΩÔºö1234567891011121314import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.EnableAutoConfiguration;import org.springframework.boot.autoconfigure.SpringBootApplication;import de.codecentric.boot.admin.config.EnableAdminServer;@SpringBootApplication@EnableAutoConfiguration@EnableAdminServerpublic class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÁÑ∂ÂêéÂú®yml‰∏≠ÂØπÈ°πÁõÆËøõË°åÁÆÄÂçïÁöÑÈÖçÁΩÆÔºö123server: port: 8080 context-path: /admin-serverÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/admin-serverÔºöÂõ†‰∏∫ËøòÊ≤°Ê∑ªÂä†ÂÆ¢Êà∑Á´ØÔºåÊâÄ‰ª•ÁõëÊéßÂàóË°®ÈáåÊòØÁ©∫ÁöÑÔºåÊé•‰∏ãÊù•ÂàõÂª∫‰∏Ä‰∏™Spring BootÂ∫îÁî®‰Ωú‰∏∫ÂÆ¢Êà∑Á´Ø„ÄÇSBAÂÆ¢Êà∑Á´ØÂºïÂÖ•SBA Client‰æùËµñÂêåÊ†∑ÁöÑÔºå‰ΩøÁî®http://start.spring.io/Êê≠Âª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑSpring BootÈ°πÁõÆ‰Ωú‰∏∫SBAÂÆ¢Êà∑Á´ØÔºåÁÑ∂ÂêéÂºïÂÖ•Client‰æùËµñÔºö12345&lt;dependency&gt; &lt;groupId&gt;de.codecentric&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt; &lt;version&gt;1.5.7&lt;/version&gt;&lt;/dependency&gt;ymlÈÖçÁΩÆÔºö1234567891011management: security: enabled: false server: port: 8081 spring: boot: admin: url: http://localhost:8080/admin-serverspring.boot.admin.urlÈÖçÁΩÆÁöÑÊòØSBAÊúçÂä°Á´ØÁöÑÂú∞ÂùÄÔºåmanagement.security.enabled: falseËøôÈáåÂÖàÂÖ≥Èó≠ÂÆâÂÖ®È™åËØÅ„ÄÇÂêØÂä®ÂÆ¢Êà∑Á´ØÂêéÊü•Áúãhttp://localhost:8080/admin-serverÂú∞ÂùÄÔºöÂèØÁúãÂà∞SBAÂÆ¢Êà∑Á´ØÂ∑≤ÁªèË¢´Ê≥®ÂÜåÂà∞SBAÊúçÂä°Á´Ø‰∫ÜÔºåÊé•‰∏ãÊù•‰æøÂèØ‰ª•Âú®SBAÊúçÂä°Á´ØÈ°µÈù¢‰∏äÊü•ÁúãÂêÑÁßçSBAÂÆ¢Êà∑Á´Ø‰ø°ÊÅØÔºöÂÆ¢Êà∑Á´ØÈ¢ùÂ§ñ‰ø°ÊÅØÈªòËÆ§ÂÆ¢Êà∑Á´ØÂú®ÊúçÂä°Á´ØÁõëÊéßÂàóË°®ÂëàÁé∞ÁöÑ‰ø°ÊÅØÂπ∂‰∏çÂ§öÔºöÊàë‰ª¨ÂèØ‰ª•Âú®SBAÂÆ¢Êà∑Á´ØymlÈáåÈÖçÁΩÆÊõ¥‰∏∫ËØ¶ÁªÜÁöÑ‰ø°ÊÅØÔºö123456info: app: name: "@project.name@" description: "@project.description@" version: "@project.version@" spring-boot-version: "@project.parent.version@"ÁÑ∂Âêé‰æøÂèØ‰ª•Âú®SBAÊúçÂä°Á´ØÁúãÂà∞ËæÉ‰∏∫ËØ¶ÁªÜÁöÑÂÆ¢Êà∑Á´Ø‰ø°ÊÅØÔºö Ê∑ªÂä†ÈÇÆ‰ª∂È¢ÑË≠¶SBAÊúçÂä°Á´Ø‰πüÂèØ‰ª•ÈÖçÁΩÆÈÇÆ‰ª∂È¢ÑË≠¶ÊúçÂä°ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂØπ‰∫éË¢´Ê£ÄÊµãÁöÑÂ∫îÁî®ÂêØÂä®ÊàñËÄÖÂÅúÊ≠¢ÁöÑÊó∂ÂÄô‰ºöËß¶ÂèëÈ¢ÑË≠¶„ÄÇÈ¶ñÂÖàÊ∑ªÂä†ÈÇÆ‰ª∂‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;&lt;/dependency&gt;ÁÑ∂ÂêéÂú®SBAÊúçÂä°Á´ØÁöÑyml‰∏≠ÈÖçÁΩÆÈÇÆ‰ª∂È¢ÑË≠¶Ôºö12345678910111213141516171819spring: mail: host: smtp.163.com username: xxx@163.com password: xxx properties: mail: smtp: auth: true starttls: enable: true required: true boot: admin: notify: mail: from: xxx@163.com to: xxx@qq.comÈÇÆ‰ª∂ÁöÑÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ïÂèØÂèÇËÄÉhttps://mrbird.cc/Spring-Boot-Email.html„ÄÇÂΩìË¢´Ê£ÄÊµãÁöÑÂ∫îÁî®ÂÖ≥ÂÅúÁöÑÊó∂ÂÄôÔºåÊî∂Âà∞Â¶Ç‰∏ãÈÇÆ‰ª∂ÔºöÈôÑÂΩïSBA ServerÈÖçÁΩÆËØ¥ÊòéProperty nameDescriptionDefault value‰∏≠ÊñáËØ¥Êòéspring.boot.admin.context-pathThe context-path prefixes the path where the Admin Server‚Äôs statics assets and API should be served. Relative to the Dispatcher-Servlet.Admin Server ‰øùÁïôÁöÑÈùôÊÄÅËÆøÈóÆÂíåAPIÁöÑÂâçÁºÄÔºàÂΩì‰Ω†Âú®‰∏öÂä°Â∫îÁî®‰∏≠‰ΩøÁî®ËÄå‰∏çÊòØÂçïÁã¨‰ΩøÁî®Êó∂Â∞±ÂæàÊúâÂøÖË¶Å‰∫ÜÔºâspring.boot.admin.monitor.periodTime interval in ms to update the status of applications with expired status-informations.10.000Êõ¥Êñ∞Â∫îÁî®‰ø°ÊÅØÁöÑÈ¢ëÁéáÔºåÂçï‰ΩçÊØ´Áßíspring.boot.admin.monitor.status-lifetimeLifetime of application statuses in ms. The applications /health-endpoint will not be queried until the lifetime has expired.10.000Ë¢´ÁõëÊéßÁöÑÂ∫îÁî®‰ø°ÊÅØÁöÑËøáÊúüÊó∂Èó¥ÔºåÂçï‰ΩçÊØ´ÁßíSBA ClientÈÖçÁΩÆËØ¥ÊòéProperty nameDescriptionDefault value‰∏≠ÊñáËØ¥Êòéspring.boot.admin.client.enabledEnables the Spring Boot Admin Client.trueÈªòËÆ§ÂºÄÂêØspring.boot.admin.urlList of URLs of the Spring Boot Admin server to register at. This triggers the AutoConfiguration. Mandatory.admin server ÁöÑÂú∞ÂùÄÂàóË°®ÔºåÊ≠§ËÆæÁΩÆ‰ºöËß¶ÂèëËá™Âä®ÈÖçÁΩÆÔºåÂøÖÈ°ªspring.boot.admin.api-pathHttp-path of registration endpoint at your admin server.‚Äúapi/applications‚ÄùÊ≥®ÂÜåÂà∞ admin server Á´ØÁÇπÁöÑ Http-pathspring.boot.admin.username spring.boot.admin.passwordUsername and password for http-basic authentication. If set the registration uses http-basic-authentication when registering at the admin server.Ê≥®ÂÜåÂà∞ admin server ÁöÑË¥¶Âè∑ÂØÜÁ†Åspring.boot.admin.periodInterval for repeating the registration (in ms).10.000ÈáçËØïÊ≥®ÂÜåÁöÑÈó¥ÈöîÊó∂Èó¥spring.boot.admin.auto-registrationIf set to true the periodic task to register the application is automatically scheduled after the application is ready.trueÂ∫îÁî®ÂêØÂä®ÂêéËá™Âä®ÊâßË°åÂë®ÊúüÊÄßÁöÑÊ≥®ÂÜå‰ªªÂä°spring.boot.admin.auto-deregistrationSwitch to enable auto-deregistration at Spring Boot Admin server when context is closed.falseÂΩìÂ∫îÁî®ÂÖ≥Èó≠Êó∂ÔºåËá™Âä®ÂèñÊ∂àÊ≥®ÂÜåspring.boot.admin.client.health-urlClient-health-url to register with. Can be overridden in case the reachable URL is different (e.g. Docker). Must be unique in registry.Guessed based on management-url and endpoints.health.id.spring.boot.admin.client.management-urlClient-management-url to register with. Can be overridden in case the reachable url is different (e.g. Docker).Guessed based on service-url, server.servlet-path, management.port and management.context-path.spring.boot.admin.client.service-urlClient-service-url to register with. Can be overridden in case the reachable url is different (e.g. Docker).Guessed based on hostname, server.port and server.context-path.spring.boot.admin.client.nameName to register with.${spring.application.name} if set, ‚Äúspring-boot-application‚Äù otherwise.Ê≥®ÂÜåÊó∂ÁöÑÂêçÂ≠óspring.boot.admin.client.prefer-ipUse the ip-address rather then the hostname in the guessed urls. If server.address / management.address is set, it get used. Otherwise the IP address returned from InetAddress.getLocalHost() gets used.falseÈÇÆ‰ª∂ÈÖçÁΩÆÈÄâÈ°πProperty nameDescriptionDefault value‰∏≠ÊñáËØ¥Êòéspring.boot.admin.notify.mail.enabledEnable mail notificationstrueÈªòËÆ§ÂêØÁî®spring.boot.admin.notify.mail.ignore-changesComma-delimited list of status changes to be ignored. Format: ‚Äú:‚Äù. Wildcards allowed.‚ÄúUNKNOWN:UP‚ÄùÈúÄË¶ÅÂøΩÁï•ÁöÑÁä∂ÊÄÅÊîπÂèòÈÄöÁü•ÔºåÈÄóÂè∑ÂàÜÈöîspring.boot.admin.notify.mail.toComma-delimited list of mail recipients‚Äúroot@localhost‚ÄùÊé•Êî∂ÈÄöÁü•ÁöÑÈÇÆÁÆ±Âú∞ÂùÄÔºåÈÄóÂè∑ÂàÜÈöîspring.boot.admin.notify.mail.ccComma-delimited list of carbon-copy recipientsÊäÑÈÄÅspring.boot.admin.notify.mail.fromMail senderÂèëÈÄÅ‰∫∫spring.boot.admin.notify.mail.subjectMail subject. SpEL-expressions are supported‚Äú#{application.name} (#{application.id}) is #{to.status}‚Äù‰∏ªÈ¢òspring.boot.admin.notify.mail.textMail body. SpEL-expressions are supported‚Äú#{application.name} (#{application.id})\nstatus changed from #{from.status} to #{to.status}\n\n#{application.healthUrl}‚ÄùÂÜÖÂÆπÂèÇËÄÉÂçöÊñáÔºöhttps://blog.csdn.net/kinginblue/article/details/52132113#t26Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/23.Spring-Boot-Admin„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®Spring BootÂèëÈÄÅÈÇÆ‰ª∂]]></title>
    <url>%2FSpring-Boot-Email.html</url>
    <content type="text"><![CDATA[Âú®È°πÁõÆÁöÑÁª¥Êä§ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºöÂú®Â∫îÁî®‰∏≠Âä†ÂÖ•Áü≠‰ø°ÊàñËÄÖÈÇÆ‰ª∂È¢ÑË≠¶ÂäüËÉΩÔºåÊØîÂ¶ÇÂΩìÂ∫îÁî®Âá∫Áé∞ÂºÇÂ∏∏ÂÆïÊú∫Êó∂Â∫îËØ•ÂèäÊó∂Âú∞Â∞ÜÈ¢ÑË≠¶‰ø°ÊÅØÂèëÈÄÅÁªôËøêÁª¥ÊàñËÄÖÂºÄÂèë‰∫∫ÂëòÔºåÊú¨ÊñáÂ∞Ü‰ªãÁªçÂ¶Ç‰ΩïÂú®Spring Boot‰∏≠ÂèëÈÄÅÈÇÆ‰ª∂„ÄÇÂú®Spring Boot‰∏≠ÂèëÈÄÅÈÇÆ‰ª∂‰ΩøÁî®ÁöÑÊòØSpringÊèê‰æõÁöÑorg.springframework.mail.javamail.JavaMailSenderÔºåÂÖ∂Êèê‰æõ‰∫ÜËÆ∏Â§öÁÆÄÂçïÊòìÁî®ÁöÑÊñπÊ≥ïÔºåÂèØÂèëÈÄÅÁÆÄÂçïÁöÑÈÇÆ‰ª∂„ÄÅHTMLÊ†ºÂºèÁöÑÈÇÆ‰ª∂„ÄÅÂ∏¶ÈôÑ‰ª∂ÁöÑÈÇÆ‰ª∂ÔºåÂπ∂‰∏îÂèØ‰ª•ÂàõÂª∫ÈÇÆ‰ª∂Ê®°Êùø„ÄÇÂºïÂÖ•‰æùËµñÂú®Spring Boot‰∏≠ÂèëÈÄÅÈÇÆ‰ª∂ÔºåÈúÄË¶ÅÁî®Âà∞spring-boot-starter-mailÔºåÂºïÂÖ•spring-boot-starter-mailÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;&lt;/dependency&gt;ÈÇÆ‰ª∂ÈÖçÁΩÆÂú®application.yml‰∏≠ËøõË°åÁÆÄÂçïÁöÑÈÖçÁΩÆÔºà‰ª•163ÈÇÆ‰ª∂‰∏∫‰æãÔºâÔºö123456789101112131415server: port: 80spring: mail: host: smtp.163.com username: ‰Ω†ÁöÑË¥¶Âè∑ password: ‰Ω†ÁöÑÂØÜÁ†Å properties: mail: smtp: auth: true starttls: enable: true required: truespring.mail.usernameÔºåspring.mail.passwordÂ°´ÂÜôËá™Â∑±ÁöÑÈÇÆÁÆ±Ë¥¶Âè∑ÂØÜÁ†ÅÂç≥ÂèØ„ÄÇÂèëÈÄÅÁÆÄÂçïÁöÑÈÇÆ‰ª∂ÁºñÂÜôEmailControllerÔºåÊ≥®ÂÖ•JavaMailSender:123456789101112131415161718192021222324252627282930313233import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSender;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestController@RequestMapping("/email")public class EmailController &#123; @Autowired private JavaMailSender jms; @Value("$&#123;spring.mail.username&#125;") private String from; @RequestMapping("sendSimpleEmail") public String sendSimpleEmail() &#123; try &#123; SimpleMailMessage message = new SimpleMailMessage(); message.setFrom(from); message.setTo("888888@qq.com"); // Êé•Êî∂Âú∞ÂùÄ message.setSubject("‰∏ÄÂ∞ÅÁÆÄÂçïÁöÑÈÇÆ‰ª∂"); // Ê†áÈ¢ò message.setText("‰ΩøÁî®Spring BootÂèëÈÄÅÁÆÄÂçïÈÇÆ‰ª∂„ÄÇ"); // ÂÜÖÂÆπ jms.send(message); return "ÂèëÈÄÅÊàêÂäü"; &#125; catch (Exception e) &#123; e.printStackTrace(); return e.getMessage(); &#125; &#125;&#125;ÂêØÂä®È°πÁõÆËÆøÈóÆhttp://localhost/email/sendSimpleEmailÔºåÊèêÁ§∫ÂèëÈÄÅÊàêÂäüÔºöÂèëÈÄÅHTMLÊ†ºÂºèÁöÑÈÇÆ‰ª∂ÊîπÈÄ†EmailControllerÔºåSimpleMailMessageÊõøÊç¢‰∏∫MimeMessageÔºö12345678910111213141516171819202122232425262728293031323334353637383940import javax.mail.internet.MimeMessage;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSender;import org.springframework.mail.javamail.MimeMessageHelper;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestController@RequestMapping("/email")public class EmailController &#123; @Autowired private JavaMailSender jms; @Value("$&#123;spring.mail.username&#125;") private String from; @RequestMapping("sendHtmlEmail") public String sendHtmlEmail() &#123; MimeMessage message = null; try &#123; message = jms.createMimeMessage(); MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo("888888@qq.com"); // Êé•Êî∂Âú∞ÂùÄ helper.setSubject("‰∏ÄÂ∞ÅHTMLÊ†ºÂºèÁöÑÈÇÆ‰ª∂"); // Ê†áÈ¢ò // Â∏¶HTMLÊ†ºÂºèÁöÑÂÜÖÂÆπ StringBuffer sb = new StringBuffer("&lt;p style='color:#6db33f'&gt;‰ΩøÁî®Spring BootÂèëÈÄÅHTMLÊ†ºÂºèÈÇÆ‰ª∂„ÄÇ&lt;/p&gt;"); helper.setText(sb.toString(), true); jms.send(message); return "ÂèëÈÄÅÊàêÂäü"; &#125; catch (Exception e) &#123; e.printStackTrace(); return e.getMessage(); &#125; &#125;&#125;helper.setText(sb.toString(), true);‰∏≠ÁöÑtrueË°®Á§∫ÂèëÈÄÅHTMLÊ†ºÂºèÈÇÆ‰ª∂„ÄÇÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost/email/sendHtmlEmailÔºåÊèêÁ§∫ÂèëÈÄÅÊàêÂäüÔºåÂèØÁúãÂà∞ÊñáÊú¨Â∑≤ÁªèÂä†‰∏ä‰∫ÜÈ¢úËâ≤#6db33fÔºöÂèëÈÄÅÂ∏¶ÈôÑ‰ª∂ÁöÑÈÇÆ‰ª∂ÂèëÈÄÅÂ∏¶ÈôÑ‰ª∂ÁöÑÈÇÆ‰ª∂ÂíåÊôÆÈÄöÈÇÆ‰ª∂Áõ∏ÊØîÔºåÂÖ∂ÂÆûÂ∞±Âè™ÊòØÂ§ö‰∫Ü‰∏™‰º†ÂÖ•ÈôÑ‰ª∂ÁöÑËøáÁ®ã„ÄÇ‰∏çËøá‰ΩøÁî®ÁöÑ‰ªçÊòØMimeMessageÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546package com.springboot.demo.controller;import java.io.File;import javax.mail.internet.MimeMessage;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.core.io.FileSystemResource;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSender;import org.springframework.mail.javamail.MimeMessageHelper;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestController@RequestMapping("/email")public class EmailController &#123; @Autowired private JavaMailSender jms; @Value("$&#123;spring.mail.username&#125;") private String from; @RequestMapping("sendAttachmentsMail") public String sendAttachmentsMail() &#123; MimeMessage message = null; try &#123; message = jms.createMimeMessage(); MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo("888888@qq.com"); // Êé•Êî∂Âú∞ÂùÄ helper.setSubject("‰∏ÄÂ∞ÅÂ∏¶ÈôÑ‰ª∂ÁöÑÈÇÆ‰ª∂"); // Ê†áÈ¢ò helper.setText("ËØ¶ÊÉÖÂèÇËßÅÈôÑ‰ª∂ÂÜÖÂÆπÔºÅ"); // ÂÜÖÂÆπ // ‰º†ÂÖ•ÈôÑ‰ª∂ FileSystemResource file = new FileSystemResource(new File("src/main/resources/static/file/È°πÁõÆÊñáÊ°£.docx")); helper.addAttachment("È°πÁõÆÊñáÊ°£.docx", file); jms.send(message); return "ÂèëÈÄÅÊàêÂäü"; &#125; catch (Exception e) &#123; e.printStackTrace(); return e.getMessage(); &#125; &#125;&#125;ÂêØÂä®È°πÁõÆËÆøÈóÆhttp://localhost/email/sendAttachmentsMailÔºåÊèêÁ§∫ÂèëÈÄÅÊàêÂäüÔºöÂèëÈÄÅÂ∏¶ÈùôÊÄÅËµÑÊ∫êÁöÑÈÇÆ‰ª∂ÂèëÈÄÅÂ∏¶ÈùôÊÄÅËµÑÊ∫êÁöÑÈÇÆ‰ª∂ÂÖ∂ÂÆûÂ∞±ÊòØÂú®ÂèëÈÄÅHTMLÈÇÆ‰ª∂ÁöÑÂü∫Á°Ä‰∏äÂµåÂÖ•ÈùôÊÄÅËµÑÊ∫êÔºàÊØîÂ¶ÇÂõæÁâáÔºâÔºåÂµåÂÖ•ÈùôÊÄÅËµÑÊ∫êÁöÑËøáÁ®ãÂíå‰º†ÂÖ•ÈôÑ‰ª∂Á±ª‰ººÔºåÂîØ‰∏ÄÁöÑÂå∫Âà´Âú®‰∫éÈúÄË¶ÅÊ†áËØÜËµÑÊ∫êÁöÑcidÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546package com.springboot.demo.controller;import java.io.File;import javax.mail.internet.MimeMessage;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.core.io.FileSystemResource;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSender;import org.springframework.mail.javamail.MimeMessageHelper;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestController@RequestMapping("/email")public class EmailController &#123; @Autowired private JavaMailSender jms; @Value("$&#123;spring.mail.username&#125;") private String from; @RequestMapping("sendInlineMail") public String sendInlineMail() &#123; MimeMessage message = null; try &#123; message = jms.createMimeMessage(); MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo("888888@qq.com"); // Êé•Êî∂Âú∞ÂùÄ helper.setSubject("‰∏ÄÂ∞ÅÂ∏¶ÈùôÊÄÅËµÑÊ∫êÁöÑÈÇÆ‰ª∂"); // Ê†áÈ¢ò helper.setText("&lt;html&gt;&lt;body&gt;ÂçöÂÆ¢ÂõæÔºö&lt;img src='cid:img'/&gt;&lt;/body&gt;&lt;/html&gt;", true); // ÂÜÖÂÆπ // ‰º†ÂÖ•ÈôÑ‰ª∂ FileSystemResource file = new FileSystemResource(new File("src/main/resources/static/img/sunshine.png")); helper.addInline("img", file); jms.send(message); return "ÂèëÈÄÅÊàêÂäü"; &#125; catch (Exception e) &#123; e.printStackTrace(); return e.getMessage(); &#125; &#125;&#125;helper.addInline(&quot;img&quot;, file);‰∏≠ÁöÑimgÂíåÂõæÁâáÊ†áÁ≠æÈáåcidÂêéÁöÑÂêçÁß∞Áõ∏ÂØπÂ∫î„ÄÇÂêØÂä®È°πÁõÆËÆøÈóÆhttp://localhost/email/sendInlineMailÔºåÊèêÁ§∫ÂèëÈÄÅÊàêÂäüÔºö‰ΩøÁî®Ê®°ÊùøÂèëÈÄÅÈÇÆ‰ª∂Âú®ÂèëÈÄÅÈ™åËØÅÁ†ÅÁ≠âÊÉÖÂÜµ‰∏ãÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÈÇÆ‰ª∂ÁöÑÊ®°ÊùøÔºåÂîØ‰∏ÄÁöÑÂèòÈáè‰∏∫È™åËØÅÁ†Å„ÄÇËøô‰∏™‰æãÂ≠ê‰∏≠‰ΩøÁî®ÁöÑÊ®°ÊùøËß£ÊûêÂºïÊìé‰∏∫ThymeleafÔºåÊâÄ‰ª•È¶ñÂÖàÂºïÂÖ•Thymeleaf‰æùËµñÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt;Âú®templateÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™emailTemplate.htmlÊ®°ÊùøÔºö1234567891011&lt;!DOCTYPE html&gt;&lt;html lang="zh" xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8" /&gt; &lt;title&gt;Ê®°Êùø&lt;/title&gt;&lt;/head&gt;&lt;body&gt; ÊÇ®Â•ΩÔºåÊÇ®ÁöÑÈ™åËØÅÁ†Å‰∏∫&#123;code&#125;ÔºåËØ∑Âú®‰∏§ÂàÜÈíüÂÜÖ‰ΩøÁî®ÂÆåÊàêÊìç‰Ωú„ÄÇ&lt;/body&gt;&lt;/html&gt;ÂèëÈÄÅÊ®°ÊùøÈÇÆ‰ª∂ÔºåÊú¨Ë¥®‰∏äËøòÊòØÂèëÈÄÅHTMLÈÇÆ‰ª∂ÔºåÂè™‰∏çËøáÂ§ö‰∫ÜÁªëÂÆöÂèòÈáèÁöÑËøáÁ®ãÔºåËØ¶ÁªÜÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152package com.springboot.demo.controller;import java.io.File;import javax.mail.internet.MimeMessage;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.core.io.FileSystemResource;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSender;import org.springframework.mail.javamail.MimeMessageHelper;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import org.thymeleaf.TemplateEngine;import org.thymeleaf.context.Context;@RestController@RequestMapping("/email")public class EmailController &#123; @Autowired private JavaMailSender jms; @Value("$&#123;spring.mail.username&#125;") private String from; @Autowired private TemplateEngine templateEngine; @RequestMapping("sendTemplateEmail") public String sendTemplateEmail(String code) &#123; MimeMessage message = null; try &#123; message = jms.createMimeMessage(); MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo("888888@qq.com"); // Êé•Êî∂Âú∞ÂùÄ helper.setSubject("ÈÇÆ‰ª∂Êë∏ÊùøÊµãËØï"); // Ê†áÈ¢ò // Â§ÑÁêÜÈÇÆ‰ª∂Ê®°Êùø Context context = new Context(); context.setVariable("code", code); String template = templateEngine.process("emailTemplate", context); helper.setText(template, true); jms.send(message); return "ÂèëÈÄÅÊàêÂäü"; &#125; catch (Exception e) &#123; e.printStackTrace(); return e.getMessage(); &#125; &#125;&#125;ÂÖ∂‰∏≠codeÂØπÂ∫îÊ®°ÊùøÈáåÁöÑ${code}ÂèòÈáè„ÄÇÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost/email/sendTemplateEmail?code=EOS9ÔºåÈ°µÈù¢ÊèêÁ§∫ÂèëÈÄÅÊàêÂäüÔºöÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/22.Spring-Boot-Email]]></content>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®ActuatorÁõëÊéßSpring BootÂ∫îÁî®]]></title>
    <url>%2FAcutator-Spring-Boot.html</url>
    <content type="text"><![CDATA[Êàë‰ª¨ÈÉΩÁü•ÈÅìSpring BootÊòØ‰∏Ä‰∏™Áî®‰∫éÂø´ÈÄüÂºÄÂèëJava WebÁöÑÊ°ÜÊû∂Ôºå‰∏çÈúÄË¶ÅÂ§™Â§öÁöÑÈÖçÁΩÆÂç≥ÂèØ‰ΩøÁî®SpringÁöÑÂ§ßÈáèÂäüËÉΩ„ÄÇSpring BootÈÅµÂæ™ÁùÄ‚ÄúÁ∫¶ÂÆöÂ§ß‰∫éÈÖçÁΩÆ‚ÄùÁöÑÂéüÂàôÔºåËÆ∏Â§öÂäüËÉΩ‰ΩøÁî®ÈªòËÆ§ÁöÑÈÖçÁΩÆÂç≥ÂèØ„ÄÇËøôÊ†∑ÁöÑÂÅöÊ≥ïÂ•ΩÂ§ÑÂú®‰∫éÊàë‰ª¨‰∏çÈúÄË¶ÅÂÉè‰ΩøÁî®SpringÈÇ£Ê†∑ÁºñÂÜô‰∏ÄÂ§ßÂ†ÜÁöÑXMLÈÖçÁΩÆ‰ª£Á†ÅÔºå‰ΩÜËøá‰∫éÁÆÄÂçïÁöÑÈÖçÁΩÆËøáÁ®ã‰ºöËÆ©Êàë‰ª¨Âú®‰∫ÜËß£ÂêÑÁßç‰æùËµñÔºåÈÖçÁΩÆ‰πãÈó¥ÁöÑÂÖ≥Á≥ªËøáÁ®ã‰∏äÂ∏¶Êù•‰∏Ä‰∫õÂõ∞Èöæ„ÄÇ‰∏çËøáÊ≤°ÂÖ≥Á≥ªÔºåÂú®Spring Boot‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ActuatorÊù•ÁõëÊéßÂ∫îÁî®ÔºåActuatorÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑRESTful APIËÆ©Êàë‰ª¨ÂèØ‰ª•Êõ¥‰∏∫ÁªÜËá¥ÁöÑ‰∫ÜËß£ÂêÑÁßç‰ø°ÊÅØ„ÄÇÂºïÂÖ•Actuator1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&lt;/dependency&gt;ÈÖçÁΩÆActuator1234567891011server: port: 80management: security: enabled: false #ÂÖ≥ÊéâÂÆâÂÖ®ËÆ§ËØÅ port: 80 context-path: /monitor #actuatorÁöÑËÆøÈóÆË∑ØÂæÑendpoints: shutdown: enabled: trueÈÖçÁΩÆ‰∏≠ÂÖ≥Èó≠‰∫ÜÂÆâÂÖ®ËÆ§ËØÅÁöÑÂäüËÉΩÔºåÂ¶ÇÊûúÈúÄË¶ÅÂºÄÂêØËøô‰∏™ÂäüËÉΩÁöÑËØùËøòÈúÄÂºïÂÖ•spring-boot-starter-security‰æùËµñ„ÄÇÈô§‰∫Ü‰ΩøÁî®Spring SecurityÊù•ÂºÄÂêØÁõëÊéßË∑ØÂæÑÂÆâÂÖ®ËÆ§ËØÅÂ§ñÔºåËøòÂèØ‰ª•‰ΩøÁî®ShiroÂØπÁõëÊéßË∑ØÂæÑËøõË°åÊùÉÈôêÊéßÂà∂„ÄÇÁõëÊéßÁöÑÁ´ØÂè£ÂíåÂ∫îÁî®‰∏ÄËá¥ÔºåÈÖçÁΩÆcontext-path‰∏∫/monitorÔºåËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçÂíåËá™Â∑±Â∫îÁî®ÁöÑË∑ØÂæÑÊò†Â∞ÑÂú∞ÂùÄÈáçÂ§ç„ÄÇendpoints.shutdown.enabled: trueÊèê‰æõ‰∫Ü‰ΩøÁî®postËØ∑Ê±ÇÊù•ÂÖ≥Èó≠Spring BootÂ∫îÁî®ÁöÑÂäüËÉΩ„ÄÇActuatorÊé•Âè£ÂàóË°®ActuatorÊèê‰æõ‰∫Ü13‰∏™Êé•Âè£ÔºåÂèØ‰ª•ÂàÜ‰∏∫‰∏âÂ§ßÁ±ªÔºöÈÖçÁΩÆÊé•Âè£„ÄÅÂ∫¶ÈáèÊé•Âè£ÂíåÂÖ∂ÂÆÉÊé•Âè£ÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöHTTP ÊñπÊ≥ïË∑ØÂæÑÊèèËø∞GET/autoconfigÊèê‰æõ‰∫Ü‰∏Ä‰ªΩËá™Âä®ÈÖçÁΩÆÊä•ÂëäÔºåËÆ∞ÂΩïÂì™‰∫õËá™Âä®ÈÖçÁΩÆÊù°‰ª∂ÈÄöËøá‰∫ÜÔºåÂì™‰∫õÊ≤°ÈÄöËøáGET/configpropsÊèèËø∞ÈÖçÁΩÆÂ±ûÊÄß(ÂåÖÂê´ÈªòËÆ§ÂÄº)Â¶Ç‰ΩïÊ≥®ÂÖ•BeanGET/beansÊèèËø∞Â∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñáÈáåÂÖ®ÈÉ®ÁöÑBeanÔºå‰ª•ÂèäÂÆÉ‰ª¨ÁöÑÂÖ≥Á≥ªGET/dumpËé∑ÂèñÁ∫øÁ®ãÊ¥ªÂä®ÁöÑÂø´ÁÖßGET/envËé∑ÂèñÂÖ®ÈÉ®ÁéØÂ¢ÉÂ±ûÊÄßGET/env/{name}Ê†πÊçÆÂêçÁß∞Ëé∑ÂèñÁâπÂÆöÁöÑÁéØÂ¢ÉÂ±ûÊÄßÂÄºGET/healthÊä•ÂëäÂ∫îÁî®Á®ãÂ∫èÁöÑÂÅ•Â∫∑ÊåáÊ†áÔºåËøô‰∫õÂÄºÁî±HealthIndicatorÁöÑÂÆûÁé∞Á±ªÊèê‰æõGET/infoËé∑ÂèñÂ∫îÁî®Á®ãÂ∫èÁöÑÂÆöÂà∂‰ø°ÊÅØÔºåËøô‰∫õ‰ø°ÊÅØÁî±infoÊâìÂ§¥ÁöÑÂ±ûÊÄßÊèê‰æõGET/mappingsÊèèËø∞ÂÖ®ÈÉ®ÁöÑURIË∑ØÂæÑÔºå‰ª•ÂèäÂÆÉ‰ª¨ÂíåÊéßÂà∂Âô®(ÂåÖÂê´ActuatorÁ´ØÁÇπ)ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªGET/metricsÊä•ÂëäÂêÑÁßçÂ∫îÁî®Á®ãÂ∫èÂ∫¶Èáè‰ø°ÊÅØÔºåÊØîÂ¶ÇÂÜÖÂ≠òÁî®ÈáèÂíåHTTPËØ∑Ê±ÇËÆ°Êï∞GET/metrics/{name}Êä•ÂëäÊåáÂÆöÂêçÁß∞ÁöÑÂ∫îÁî®Á®ãÂ∫èÂ∫¶ÈáèÂÄºPOST/shutdownÂÖ≥Èó≠Â∫îÁî®Á®ãÂ∫èÔºåË¶ÅÊ±Çendpoints.shutdown.enabledËÆæÁΩÆ‰∏∫trueGET/traceÊèê‰æõÂü∫Êú¨ÁöÑHTTPËØ∑Ê±ÇË∑üË∏™‰ø°ÊÅØ(Êó∂Èó¥Êà≥„ÄÅHTTPÂ§¥Á≠â)Êé•Âè£‰ΩøÁî®Á§∫‰æãautoconfigÊòæÁ§∫ÊâÄÊúâËá™Âä®Ë£ÖÈÖçÁ±ªÁöÑÊä•ÂëäÔºå‰ª•ÂèäÊòØ‰ªÄ‰πàÂéüÂõ†ÂØºËá¥Ëá™Âä®Ë£ÖÈÖçÊàêÂäüÊàñËÄÖ‰∏çÊàêÂäü„ÄÇÂú®ÊµèËßàÂô®ËæìÂÖ•Ôºöhttp://localhost/monitor/autoconfigÔºåËæìÂá∫Â¶Ç‰∏ãÔºàÊà™ÂèñÈÉ®ÂàÜÔºâÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364&#123; "positiveMatches": &#123; "AuditAutoConfiguration#auditListener": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.audit.listener.AbstractAuditListener; SearchStrategy: all) did not find any beans" &#125;], "AuditAutoConfiguration.AuditEventRepositoryConfiguration": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.audit.AuditEventRepository; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#autoConfigurationReportEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnBean (types: org.springframework.boot.autoconfigure.condition.ConditionEvaluationReport; SearchStrategy: all) found bean 'autoConfigurationReport'; @ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.AutoConfigurationReportEndpoint; SearchStrategy: current) did not find any beans" &#125;], "EndpointAutoConfiguration#beansEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.BeansEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#configurationPropertiesReportEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.ConfigurationPropertiesReportEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#dumpEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.DumpEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#environmentEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.EnvironmentEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#healthEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.HealthEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#infoEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.InfoEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#loggersEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnBean (types: org.springframework.boot.logging.LoggingSystem; SearchStrategy: all) found bean 'springBootLoggingSystem'; @ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.LoggersEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#metricsEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.MetricsEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#shutdownEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.ShutdownEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration#traceEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.TraceEndpoint; SearchStrategy: all) did not find any beans" &#125;], "EndpointAutoConfiguration.RequestMappingEndpointConfiguration": [&#123; "condition": "OnClassCondition", "message": "@ConditionalOnClass found required class 'org.springframework.web.servlet.handler.AbstractHandlerMethodMapping'; @ConditionalOnMissingClass did not find unwanted class" &#125;], "EndpointAutoConfiguration.RequestMappingEndpointConfiguration#requestMappingEndpoint": [&#123; "condition": "OnBeanCondition", "message": "@ConditionalOnMissingBean (types: org.springframework.boot.actuate.endpoint.RequestMappingEndpoint; SearchStrategy: all) did not find any beans" &#125;],...&#125;beansÊü•ÁúãSpring ÂÆπÂô®ÁÆ°ÁêÜÁöÑBean,ËÆøÈóÆhttp://localhost/monitor/beansÔºåËæìÂá∫Â¶Ç‰∏ãÔºàÊà™ÂèñÈÉ®ÂàÜÔºâÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238[&#123; "context": "application:80", "parent": null, "beans": [&#123; "bean": "demoApplication", "aliases": [], "scope": "singleton", "type": "com.springboot.demo.DemoApplication$$EnhancerBySpringCGLIB$$77e6b2b4", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory", "aliases": [], "scope": "singleton", "type": "org.springframework.core.type.classreading.CachingMetadataReaderFactory", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration$$EnhancerBySpringCGLIB$$dc9af024", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.condition.BeanTypeRegistry", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.condition.BeanTypeRegistry", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "propertySourcesPlaceholderConfigurer", "aliases": [], "scope": "singleton", "type": "org.springframework.context.support.PropertySourcesPlaceholderConfigurer", "resource": "class path resource [org/springframework/boot/autoconfigure/context/PropertyPlaceholderAutoConfiguration.class]", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$$EnhancerBySpringCGLIB$$a4dba584", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "standardJacksonObjectMapperBuilderCustomizer", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer", "resource": "class path resource [org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration.class]", "dependencies": ["org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@78f30883", "spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties"] &#125;, &#123; "bean": "spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.jackson.JacksonProperties", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor", "resource": "null", "dependencies": ["org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.store"] &#125;, &#123; "bean": "org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.store", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.context.properties.ConfigurationBeanFactoryMetaData", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration$$EnhancerBySpringCGLIB$$e9c4bf95", "resource": "null", "dependencies": ["org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@78f30883"] &#125;, &#123; "bean": "jacksonObjectMapperBuilder", "aliases": [], "scope": "singleton", "type": "org.springframework.http.converter.json.Jackson2ObjectMapperBuilder", "resource": "class path resource [org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration.class]", "dependencies": ["standardJacksonObjectMapperBuilderCustomizer"] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration$$EnhancerBySpringCGLIB$$3777fd7c", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "jacksonObjectMapper", "aliases": [], "scope": "singleton", "type": "com.fasterxml.jackson.databind.ObjectMapper", "resource": "class path resource [org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration$JacksonObjectMapperConfiguration.class]", "dependencies": ["jacksonObjectMapperBuilder"] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$$EnhancerBySpringCGLIB$$19839b0b", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "jsonComponentModule", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.jackson.JsonComponentModule", "resource": "class path resource [org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.class]", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration$TomcatWebSocketConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration$TomcatWebSocketConfiguration$$EnhancerBySpringCGLIB$$ab6fe14", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "websocketContainerCustomizer", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.websocket.TomcatWebSocketContainerCustomizer", "resource": "class path resource [org/springframework/boot/autoconfigure/websocket/WebSocketAutoConfiguration$TomcatWebSocketConfiguration.class]", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.websocket.WebSocketAutoConfiguration$$EnhancerBySpringCGLIB$$ee951243", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration$EmbeddedTomcat", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration$EmbeddedTomcat$$EnhancerBySpringCGLIB$$8f67c107", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "tomcatEmbeddedServletContainerFactory", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory", "resource": "class path resource [org/springframework/boot/autoconfigure/web/EmbeddedServletContainerAutoConfiguration$EmbeddedTomcat.class]", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.web.EmbeddedServletContainerAutoConfiguration$$EnhancerBySpringCGLIB$$48514e2b", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "embeddedServletContainerCustomizerBeanPostProcessor", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizerBeanPostProcessor", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "errorPageRegistrarBeanPostProcessor", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.web.servlet.ErrorPageRegistrarBeanPostProcessor", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration$DispatcherServletConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration$DispatcherServletConfiguration$$EnhancerBySpringCGLIB$$824a2d3d", "resource": "null", "dependencies": ["spring.mvc-org.springframework.boot.autoconfigure.web.WebMvcProperties"] &#125;, &#123; "bean": "dispatcherServlet", "aliases": [], "scope": "singleton", "type": "org.springframework.web.servlet.DispatcherServlet", "resource": "class path resource [org/springframework/boot/autoconfigure/web/DispatcherServletAutoConfiguration$DispatcherServletConfiguration.class]", "dependencies": [] &#125;, &#123; "bean": "spring.mvc-org.springframework.boot.autoconfigure.web.WebMvcProperties", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.web.WebMvcProperties", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration$$EnhancerBySpringCGLIB$$fd39bc64", "resource": "null", "dependencies": ["serverProperties", "spring.mvc-org.springframework.boot.autoconfigure.web.WebMvcProperties"] &#125;, &#123; "bean": "dispatcherServletRegistration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.web.servlet.ServletRegistrationBean", "resource": "class path resource [org/springframework/boot/autoconfigure/web/DispatcherServletAutoConfiguration$DispatcherServletRegistrationConfiguration.class]", "dependencies": ["dispatcherServlet"] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.web.DispatcherServletAutoConfiguration$$EnhancerBySpringCGLIB$$d158c03f", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration$$EnhancerBySpringCGLIB$$4ce40e75", "resource": "null", "dependencies": [] &#125;, &#123; "bean": "methodValidationPostProcessor", "aliases": [], "scope": "singleton", "type": "org.springframework.validation.beanvalidation.MethodValidationPostProcessor", "resource": "class path resource [org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]", "dependencies": ["environment"] &#125;, ...... &#123; "bean": "org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration", "aliases": [], "scope": "singleton", "type": "org.springframework.boot.autoconfigure.web.WebClientAutoConfiguration$$EnhancerBySpringCGLIB$$ec83a29e", "resource": "null", "dependencies": [] &#125;]&#125;]configpropsÊâÄÊúâÔº†ConfigurationPropertiesÊ≥®Ëß£ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÂ¶ÇÊñá‰ª∂‰∏ä‰º†ÁöÑÊúÄÂ§ßÂÖÅËÆ∏ÈÖçÁΩÆÁ≠â„ÄÇËÆøÈóÆhttp://localhost/monitor/configpropsÔºåËæìÂá∫Â¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440&#123; "environmentMvcEndpoint": &#123; "prefix": "endpoints.env", "properties": &#123; "path": "/env" &#125; &#125;, "heapdumpMvcEndpoint": &#123; "prefix": "endpoints.heapdump", "properties": &#123; "enabled": true, "path": "/heapdump", "sensitive": true &#125; &#125;, "managementServerProperties": &#123; "prefix": "management", "properties": &#123; "port": 80, "addApplicationContextHeader": true, "address": null, "contextPath": "/monitor", "ssl": null, "security": &#123; "enabled": false, "roles": ["ACTUATOR"], "sessions": "STATELESS" &#125; &#125; &#125;, "spring.mvc-org.springframework.boot.autoconfigure.web.WebMvcProperties": &#123; "prefix": "spring.mvc", "properties": &#123; "locale": null, "mediaTypes": &#123;&#125;, "localeResolver": "ACCEPT_HEADER", "messageCodesResolverFormat": null, "async": &#123; "requestTimeout": null &#125;, "dispatchOptionsRequest": true, "servlet": &#123; "loadOnStartup": -1 &#125;, "ignoreDefaultModelOnRedirect": true, "dispatchTraceRequest": false, "staticPathPattern": "/**", "dateFormat": null, "view": &#123; "prefix": null, "suffix": null &#125;, "logResolvedException": false, "throwExceptionIfNoHandlerFound": false &#125; &#125;, "spring.http.multipart-org.springframework.boot.autoconfigure.web.MultipartProperties": &#123; "prefix": "spring.http.multipart", "properties": &#123; "enabled": true, "maxRequestSize": "10MB", "location": null, "resolveLazily": false, "fileSizeThreshold": "0", "maxFileSize": "1MB" &#125; &#125;, "spring.http.encoding-org.springframework.boot.autoconfigure.web.HttpEncodingProperties": &#123; "prefix": "spring.http.encoding", "properties": &#123; "charset": "UTF-8", "mapping": null, "force": false, "forceResponse": false, "forceRequest": false &#125; &#125;, "endpoints.health-org.springframework.boot.actuate.autoconfigure.HealthMvcEndpointProperties": &#123; "prefix": "endpoints.health", "properties": &#123; "mapping": &#123;&#125; &#125; &#125;, "spring.resources-org.springframework.boot.autoconfigure.web.ResourceProperties": &#123; "prefix": "spring.resources", "properties": &#123; "staticLocations": ["/", "classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"], "addMappings": true, "chain": &#123; "cache": true, "htmlApplicationCache": false, "gzipped": false, "strategy": &#123; "fixed": &#123; "enabled": false, "paths": ["/**"], "version": null &#125;, "content": &#123; "enabled": false, "paths": ["/**"] &#125; &#125; &#125;, "cachePeriod": null &#125; &#125;, "shutdownMvcEndpoint": &#123; "prefix": "endpoints.shutdown", "properties": &#123; "path": "/shutdown" &#125; &#125;, "requestMappingEndpoint": &#123; "prefix": "endpoints.mappings", "properties": &#123; "id": "mappings", "enabled": true, "sensitive": true &#125; &#125;, "autoConfigurationReportEndpoint": &#123; "prefix": "endpoints.autoconfig", "properties": &#123; "id": "autoconfig", "enabled": true, "sensitive": true &#125; &#125;, "management.trace-org.springframework.boot.actuate.trace.TraceProperties": &#123; "prefix": "management.trace", "properties": &#123; "include": ["TIME_TAKEN", "ERRORS", "REQUEST_HEADERS", "COOKIES", "RESPONSE_HEADERS"] &#125; &#125;, "management.info-org.springframework.boot.actuate.autoconfigure.InfoContributorProperties": &#123; "prefix": "management.info", "properties": &#123; "git": &#123; "mode": "SIMPLE" &#125; &#125; &#125;, "loggersEndpoint": &#123; "prefix": "endpoints.loggers", "properties": &#123; "id": "loggers", "enabled": true, "sensitive": true &#125; &#125;, "spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties": &#123; "prefix": "spring.jackson", "properties": &#123; "deserialization": &#123;&#125;, "defaultPropertyInclusion": null, "propertyNamingStrategy": null, "locale": null, "serialization": &#123;&#125;, "jodaDateTimeFormat": null, "mapper": &#123;&#125;, "generator": &#123;&#125;, "timeZone": null, "dateFormat": null, "parser": &#123;&#125; &#125; &#125;, "shutdownEndpoint": &#123; "prefix": "endpoints.shutdown", "properties": &#123; "id": "shutdown", "enabled": true, "sensitive": true &#125; &#125;, "endpoints.metrics.filter-org.springframework.boot.actuate.autoconfigure.MetricFilterProperties": &#123; "prefix": "endpoints.metrics.filter", "properties": &#123; "counterSubmissions": ["MERGED"], "gaugeSubmissions": ["MERGED"] &#125; &#125;, "loggersMvcEndpoint": &#123; "prefix": "endpoints.loggers", "properties": &#123; "path": "/loggers" &#125; &#125;, "dumpEndpoint": &#123; "prefix": "endpoints.dump", "properties": &#123; "id": "dump", "enabled": true, "sensitive": true &#125; &#125;, "endpoints-org.springframework.boot.actuate.endpoint.EndpointProperties": &#123; "prefix": "endpoints", "properties": &#123; "enabled": true, "sensitive": null &#125; &#125;, "metricsMvcEndpoint": &#123; "prefix": "endpoints.metrics", "properties": &#123; "path": "/metrics" &#125; &#125;, "metricsEndpoint": &#123; "prefix": "endpoints.metrics", "properties": &#123; "id": "metrics", "enabled": true, "sensitive": true &#125; &#125;, "healthEndpoint": &#123; "prefix": "endpoints.health", "properties": &#123; "id": "health", "enabled": true, "timeToLive": 1000, "sensitive": false &#125; &#125;, "auditEventMvcEndpoint": &#123; "prefix": "endpoints.auditevents", "properties": &#123; "enabled": true, "path": "/auditevents", "sensitive": true &#125; &#125;, "healthMvcEndpoint": &#123; "prefix": "endpoints.health", "properties": &#123; "path": "/health" &#125; &#125;, "endpoints.cors-org.springframework.boot.actuate.autoconfigure.EndpointCorsProperties": &#123; "prefix": "endpoints.cors", "properties": &#123; "maxAge": 1800, "exposedHeaders": [], "allowedHeaders": [], "allowedOrigins": [], "allowedMethods": [], "allowCredentials": null &#125; &#125;, "diskSpaceHealthIndicatorProperties": &#123; "prefix": "management.health.diskspace", "properties": &#123; "path": "C:\\Users\\Administrator\\Desktop\\01.Start-Spring-Boot\\.", "threshold": 10485760 &#125; &#125;, "beansEndpoint": &#123; "prefix": "endpoints.beans", "properties": &#123; "id": "beans", "enabled": true, "sensitive": true &#125; &#125;, "traceEndpoint": &#123; "prefix": "endpoints.trace", "properties": &#123; "id": "trace", "enabled": true, "sensitive": true &#125; &#125;, "auditEventsEndpoint": &#123; "prefix": "endpoints.auditevents", "properties": &#123; "enabled": true &#125; &#125;, "endpoints.jmx-org.springframework.boot.actuate.autoconfigure.EndpointMBeanExportProperties": &#123; "prefix": "endpoints.jmx", "properties": &#123; "enabled": true, "uniqueNames": false, "domain": "", "staticNames": &#123;&#125; &#125; &#125;, "spring.metrics.export-org.springframework.boot.actuate.metrics.export.MetricExportProperties": &#123; "prefix": "spring.metrics.export", "properties": &#123; "enabled": true, "redis": &#123; "prefix": "spring.metrics.application.7f8f2ef33a0f173c075f96c8f5c5b4fd", "key": "******" &#125;, "aggregate": &#123; "prefix": "application.7f8f2ef33a0f173c075f96c8f5c5b4fd", "keyPattern": "k.d" &#125;, "excludes": null, "statsd": &#123; "host": null, "port": 8125, "prefix": null &#125;, "triggers": &#123;&#125;, "includes": null &#125; &#125;, "configurationPropertiesReportEndpoint": &#123; "prefix": "endpoints.configprops", "properties": &#123; "id": "configprops", "enabled": true, "sensitive": true &#125; &#125;, "spring.info-org.springframework.boot.autoconfigure.info.ProjectInfoProperties": &#123; "prefix": "spring.info", "properties": &#123; "git": &#123; "location": &#123;&#125; &#125;, "build": &#123; "location": &#123;&#125; &#125; &#125; &#125;, "infoEndpoint": &#123; "prefix": "endpoints.info", "properties": &#123; "id": "info", "enabled": true, "sensitive": false &#125; &#125;, "serverProperties": &#123; "prefix": "server", "properties": &#123; "undertow": &#123; "maxHttpPostSize": 0, "bufferSize": null, "buffersPerRegion": null, "ioThreads": null, "workerThreads": null, "directBuffers": null, "accesslog": &#123; "enabled": null, "pattern": "common", "prefix": "access_log.", "suffix": "log", "dir": "C:\\Users\\Administrator\\Desktop\\01.Start-Spring-Boot\\logs", "rotate": true &#125; &#125;, "port": 80, "error": &#123; "path": "/error", "includeStacktrace": "NEVER" &#125;, "maxHttpHeaderSize": 0, "jspServlet": null, "ssl": null, "maxHttpPostSize": 0, "jetty": &#123; "maxHttpPostSize": 0, "acceptors": null, "selectors": null &#125;, "servletPath": "/", "tomcat": &#123; "accesslog": &#123; "enabled": false, "pattern": "common", "directory": "logs", "prefix": "access_log", "suffix": ".log", "rotate": true, "renameOnRotate": false, "fileDateFormat": ".yyyy-MM-dd", "requestAttributesEnabled": false, "buffered": true &#125;, "internalProxies": "10\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;|192\\.168\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;|169\\.254\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;|127\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;|172\\.1[6-9]&#123;1&#125;\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;|172\\.2[0-9]&#123;1&#125;\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;|172\\.3[0-1]&#123;1&#125;\\.\\d&#123;1,3&#125;\\.\\d&#123;1,3&#125;", "protocolHeader": null, "protocolHeaderHttpsValue": "https", "portHeader": "X-Forwarded-Port", "remoteIpHeader": null, "basedir": null, "backgroundProcessorDelay": 30, "maxThreads": 0, "minSpareThreads": 0, "maxHttpPostSize": 0, "redirectContextRoot": null, "uriEncoding": null, "maxConnections": 0, "acceptCount": 0, "additionalTldSkipPatterns": [] &#125;, "connectionTimeout": null, "session": &#123; "timeout": null, "trackingModes": null, "persistent": false, "storeDir": null, "cookie": &#123; "name": null, "domain": null, "path": null, "comment": null, "httpOnly": null, "secure": null, "maxAge": null &#125; &#125;, "address": null, "contextParameters": &#123;&#125;, "serverHeader": null, "useForwardHeaders": null, "contextPath": null, "displayName": "application" &#125; &#125;, "management.health.status-org.springframework.boot.actuate.autoconfigure.HealthIndicatorProperties": &#123; "prefix": "management.health.status", "properties": &#123; "order": null &#125; &#125;, "environmentEndpoint": &#123; "prefix": "endpoints.env", "properties": &#123; "id": "env", "enabled": true, "sensitive": true &#125; &#125;&#125;trace/traceÊé•Âè£ËÉΩÊü•ÁúãÊúÄËøëÁöÑHTTP ËØ∑Ê±ÇÂíåÂìçÂ∫îÔºåÂú®ÊµèËßàÂô®ËæìÂÖ•Ôºöhttp://localhost/monitor/traceÔºåËæìÂá∫Â¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105[&#123; "timestamp": 1525657638444, "info": &#123; "method": "GET", "path": "/login;JSESSIONID=c1d0a83c-05fd-479c-ae6b-2ecc9b878a4a", "headers": &#123; "request": &#123; "host": "localhost", "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:59.0) Gecko/20100101 Firefox/59.0", "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8", "accept-language": "zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2", "accept-encoding": "gzip, deflate", "connection": "keep-alive", "upgrade-insecure-requests": "1", "pragma": "no-cache", "cache-control": "no-cache" &#125;, "response": &#123; "X-Application-Context": "application:80", "status": "404" &#125; &#125;, "timeTaken": "11" &#125;&#125;, &#123; "timestamp": 1525657495017, "info": &#123; "method": "GET", "path": "/monitor/beans", "headers": &#123; "request": &#123; "host": "localhost", "connection": "keep-alive", "upgrade-insecure-requests": "1", "user-agent": "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.10 Safari/537.36", "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8", "accept-encoding": "gzip, deflate, br", "accept-language": "zh-CN,zh;q=0.9,en;q=0.8" &#125;, "response": &#123; "X-Application-Context": "application:80", "Content-Type": "application/vnd.spring-boot.actuator.v1+json;charset=UTF-8", "Transfer-Encoding": "chunked", "Date": "Mon, 07 May 2018 01:44:55 GMT", "status": "200" &#125; &#125;, "timeTaken": "609" &#125;&#125;, &#123; "timestamp": 1525657402454, "info": &#123; "method": "GET", "path": "/favicon.ico", "headers": &#123; "request": &#123; "host": "localhost", "connection": "keep-alive", "pragma": "no-cache", "cache-control": "no-cache", "user-agent": "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.10 Safari/537.36", "accept": "image/webp,image/apng,image/*,*/*;q=0.8", "referer": "http://localhost/monitor/autoconfig", "accept-encoding": "gzip, deflate, br", "accept-language": "zh-CN,zh;q=0.9,en;q=0.8" &#125;, "response": &#123; "X-Application-Context": "application:80", "Last-Modified": "Wed, 29 Nov 2017 01:54:48 GMT", "Accept-Ranges": "bytes", "Content-Type": "application/octet-stream", "Content-Length": "946", "Date": "Mon, 07 May 2018 01:43:22 GMT", "status": "200" &#125; &#125;, "timeTaken": "21" &#125;&#125;, &#123; "timestamp": 1525657402076, "info": &#123; "method": "GET", "path": "/monitor/autoconfig", "headers": &#123; "request": &#123; "host": "localhost", "connection": "keep-alive", "cache-control": "max-age=0", "upgrade-insecure-requests": "1", "user-agent": "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.10 Safari/537.36", "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8", "accept-encoding": "gzip, deflate, br", "accept-language": "zh-CN,zh;q=0.9,en;q=0.8" &#125;, "response": &#123; "X-Application-Context": "application:80", "Content-Type": "application/vnd.spring-boot.actuator.v1+json;charset=UTF-8", "Transfer-Encoding": "chunked", "Date": "Mon, 07 May 2018 01:43:22 GMT", "status": "200" &#125; &#125;, "timeTaken": "300" &#125;&#125;]dumpËé∑ÂèñÊüê‰∏ÄÊó∂ÂàªËôöÊãüÊú∫Á∫øÁ®ãÊ†à‰ø°ÊÅØ„ÄÇÁ∫øÁ®ãÊ†àË°®Á§∫Êüê‰∏ÄÊó∂ÂàªËôöÊãüÊú∫Ê≠£Âú®ÂÅöÁöÑ‰∫ãÊÉÖÔºåËÆøÈóÆhttp://localhost/monitor/dumpÔºåËæìÂá∫Â¶Ç‰∏ãÔºàÊà™ÂèñÈÉ®ÂàÜÔºâÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249[&#123; "threadName": "DestroyJavaVM", "threadId": 32, "blockedTime": -1, "blockedCount": 0, "waitedTime": -1, "waitedCount": 0, "lockName": null, "lockOwnerId": -1, "lockOwnerName": null, "inNative": false, "suspended": false, "threadState": "RUNNABLE", "stackTrace": [], "lockedMonitors": [], "lockedSynchronizers": [], "lockInfo": null&#125;, &#123; "threadName": "http-nio-80-AsyncTimeout", "threadId": 30, "blockedTime": -1, "blockedCount": 0, "waitedTime": -1, "waitedCount": 14903, "lockName": null, "lockOwnerId": -1, "lockOwnerName": null, "inNative": false, "suspended": false, "threadState": "TIMED_WAITING", "stackTrace": [&#123; "methodName": "sleep", "fileName": "Thread.java", "lineNumber": -2, "className": "java.lang.Thread", "nativeMethod": true &#125;, &#123; "methodName": "run", "fileName": "AbstractProtocol.java", "lineNumber": 1211, "className": "org.apache.coyote.AbstractProtocol$AsyncTimeout", "nativeMethod": false &#125;, &#123; "methodName": "run", "fileName": "Thread.java", "lineNumber": 745, "className": "java.lang.Thread", "nativeMethod": false &#125;], "lockedMonitors": [], "lockedSynchronizers": [], "lockInfo": null&#125;, &#123; "threadName": "http-nio-80-Acceptor-0", "threadId": 29, "blockedTime": -1, "blockedCount": 0, "waitedTime": -1, "waitedCount": 0, "lockName": null, "lockOwnerId": -1, "lockOwnerName": null, "inNative": true, "suspended": false, "threadState": "RUNNABLE", "stackTrace": [&#123; "methodName": "accept0", "fileName": "ServerSocketChannelImpl.java", "lineNumber": -2, "className": "sun.nio.ch.ServerSocketChannelImpl", "nativeMethod": true &#125;, &#123; "methodName": "accept", "fileName": "ServerSocketChannelImpl.java", "lineNumber": 250, "className": "sun.nio.ch.ServerSocketChannelImpl", "nativeMethod": false &#125;, &#123; "methodName": "run", "fileName": "NioEndpoint.java", "lineNumber": 455, "className": "org.apache.tomcat.util.net.NioEndpoint$Acceptor", "nativeMethod": false &#125;, &#123; "methodName": "run", "fileName": "Thread.java", "lineNumber": 745, "className": "java.lang.Thread", "nativeMethod": false &#125;], "lockedMonitors": [&#123; "className": "java.lang.Object", "identityHashCode": 1985974129, "lockedStackDepth": 1, "lockedStackFrame": &#123; "methodName": "accept", "fileName": "ServerSocketChannelImpl.java", "lineNumber": 250, "className": "sun.nio.ch.ServerSocketChannelImpl", "nativeMethod": false &#125; &#125;], "lockedSynchronizers": [], "lockInfo": null&#125;, &#123; "threadName": "http-nio-80-ClientPoller-1", "threadId": 28, "blockedTime": -1, "blockedCount": 6, "waitedTime": -1, "waitedCount": 0, "lockName": null, "lockOwnerId": -1, "lockOwnerName": null, "inNative": true, "suspended": false, "threadState": "RUNNABLE", "stackTrace": [&#123; "methodName": "poll0", "fileName": "WindowsSelectorImpl.java", "lineNumber": -2, "className": "sun.nio.ch.WindowsSelectorImpl$SubSelector", "nativeMethod": true &#125;, &#123; "methodName": "poll", "fileName": "WindowsSelectorImpl.java", "lineNumber": 296, "className": "sun.nio.ch.WindowsSelectorImpl$SubSelector", "nativeMethod": false &#125;, &#123; "methodName": "access$400", "fileName": "WindowsSelectorImpl.java", "lineNumber": 278, "className": "sun.nio.ch.WindowsSelectorImpl$SubSelector", "nativeMethod": false &#125;, &#123; "methodName": "doSelect", "fileName": "WindowsSelectorImpl.java", "lineNumber": 159, "className": "sun.nio.ch.WindowsSelectorImpl", "nativeMethod": false &#125;, &#123; "methodName": "lockAndDoSelect", "fileName": "SelectorImpl.java", "lineNumber": 87, "className": "sun.nio.ch.SelectorImpl", "nativeMethod": false &#125;, &#123; "methodName": "select", "fileName": "SelectorImpl.java", "lineNumber": 98, "className": "sun.nio.ch.SelectorImpl", "nativeMethod": false &#125;, &#123; "methodName": "run", "fileName": "NioEndpoint.java", "lineNumber": 793, "className": "org.apache.tomcat.util.net.NioEndpoint$Poller", "nativeMethod": false &#125;, &#123; "methodName": "run", "fileName": "Thread.java", "lineNumber": 745, "className": "java.lang.Thread", "nativeMethod": false &#125;], "lockedMonitors": [&#123; "className": "sun.nio.ch.Util$2", "identityHashCode": 511554453, "lockedStackDepth": 4, "lockedStackFrame": &#123; "methodName": "lockAndDoSelect", "fileName": "SelectorImpl.java", "lineNumber": 87, "className": "sun.nio.ch.SelectorImpl", "nativeMethod": false &#125; &#125;, &#123; "className": "java.util.Collections$UnmodifiableSet", "identityHashCode": 563515370, "lockedStackDepth": 4, "lockedStackFrame": &#123; "methodName": "lockAndDoSelect", "fileName": "SelectorImpl.java", "lineNumber": 87, "className": "sun.nio.ch.SelectorImpl", "nativeMethod": false &#125; &#125;, &#123; "className": "sun.nio.ch.WindowsSelectorImpl", "identityHashCode": 761235575, "lockedStackDepth": 4, "lockedStackFrame": &#123; "methodName": "lockAndDoSelect", "fileName": "SelectorImpl.java", "lineNumber": 87, "className": "sun.nio.ch.SelectorImpl", "nativeMethod": false &#125; &#125;], "lockedSynchronizers": [], "lockInfo": null&#125;,...... &#123; "threadName": "Finalizer", "threadId": 3, "blockedTime": -1, "blockedCount": 202, "waitedTime": -1, "waitedCount": 51, "lockName": "java.lang.ref.ReferenceQueue$Lock@bd5f3f3", "lockOwnerId": -1, "lockOwnerName": null, "inNative": false, "suspended": false, "threadState": "WAITING", "stackTrace": [&#123; "methodName": "wait", "fileName": "Object.java", "lineNumber": -2, "className": "java.lang.Object", "nativeMethod": true &#125;, &#123; "methodName": "remove", "fileName": "ReferenceQueue.java", "lineNumber": 135, "className": "java.lang.ref.ReferenceQueue", "nativeMethod": false &#125;, &#123; "methodName": "remove", "fileName": "ReferenceQueue.java", "lineNumber": 151, "className": "java.lang.ref.ReferenceQueue", "nativeMethod": false &#125;, &#123; "methodName": "run", "fileName": "Finalizer.java", "lineNumber": 209, "className": "java.lang.ref.Finalizer$FinalizerThread", "nativeMethod": false &#125;], "lockedMonitors": [], "lockedSynchronizers": [], "lockInfo": &#123; "className": "java.lang.ref.ReferenceQueue$Lock", "identityHashCode": 198570995 &#125;&#125;]envÊòæÁ§∫Spring BootÁéØÂ¢ÉÂèòÈáèÔºåÂ¶Ç‰ΩøÁî®ÁöÑJDKÁâàÊú¨„ÄÅÂä†ËΩΩÁöÑjarÂåÖ„ÄÅÈÖçÁΩÆÊñá‰ª∂‰ø°ÊÅØ„ÄÅÊó•ÂøóÊñá‰ª∂‰ø°ÊÅØ„ÄÇËÆøÈóÆÔºåËæìÂá∫Â¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124&#123; "profiles": [], "server.ports": &#123; "local.server.port": 80 &#125;, "servletContextInitParams": &#123;&#125;, "systemProperties": &#123; "java.runtime.name": "Java(TM) SE Runtime Environment", "sun.boot.library.path": "C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\bin", "java.vm.version": "24.80-b11", "java.vm.vendor": "Oracle Corporation", "java.vendor.url": "http://java.oracle.com/", "path.separator": ";", "java.vm.name": "Java HotSpot(TM) 64-Bit Server VM", "file.encoding.pkg": "sun.io", "user.country": "CN", "user.script": "", "sun.java.launcher": "SUN_STANDARD", "sun.os.patch.level": "", "PID": "15184", "java.vm.specification.name": "Java Virtual Machine Specification", "user.dir": "C:\\Users\\Administrator\\Desktop\\01.Start-Spring-Boot", "java.runtime.version": "1.7.0_80-b15", "java.awt.graphicsenv": "sun.awt.Win32GraphicsEnvironment", "org.jboss.logging.provider": "slf4j", "java.endorsed.dirs": "C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\endorsed", "os.arch": "amd64", "java.io.tmpdir": "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\", "line.separator": "\r\n", "java.vm.specification.vendor": "Oracle Corporation", "user.variant": "", "os.name": "Windows 8.1", "sun.jnu.encoding": "GBK", "spring.beaninfo.ignore": "true", "java.library.path": "C:\\Program Files\\Java\\jdk1.7.0_80\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files/Java/jre1.8.0_31/bin/server;C:/Program Files/Java/jre1.8.0_31/bin;C:/Program Files/Java/jre1.8.0_31/lib/amd64;f:\\app\\Administrator\\product\\11.2.0\\client_1\\bin;f:\\app\\Administrator\\product\\11.2.0\\dbhome_1\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;\"%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin\";%M2_HOME%\\bin;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\PuTTY\\;C:\\ProgramData\\chocolatey\\bin;C:\\Users\\Administrator\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Administrator\\AppData\\Roaming\\npm;\"C:\\Program Files\\Java\\jdk1.8.0_31\\bin;C:\\Program Files\\Java\\jdk1.8.0_31\\jre\\bin\";D:\\Program Files\\apache-maven-3.3.9-bin\\apache-maven-3.3.9\\bin;C:\\Program Files\\cmder;;D:\\Program Files\\Oxygen;;.", "java.specification.name": "Java Platform API Specification", "java.class.version": "51.0", "sun.management.compiler": "HotSpot 64-Bit Tiered Compilers", "os.version": "6.3", "user.home": "C:\\Users\\Administrator", "catalina.useNaming": "false", "user.timezone": "Asia/Shanghai", "java.awt.printerjob": "sun.awt.windows.WPrinterJob", "file.encoding": "UTF-8", "java.specification.version": "1.7", "catalina.home": "C:\\Users\\Administrator\\AppData\\Local\\Temp\\tomcat.2042919348800278549.80", "java.class.path": "C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\rt.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext\\zipfs.jar;C:\\Users\\Administrator\\Desktop\\01.Start-Spring-Boot\\target\\classes;D:\\m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\1.5.9.RELEASE\\spring-boot-starter-web-1.5.9.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\1.5.9.RELEASE\\spring-boot-starter-1.5.9.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\boot\\spring-boot\\1.5.9.RELEASE\\spring-boot-1.5.9.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\1.5.9.RELEASE\\spring-boot-autoconfigure-1.5.9.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\1.5.9.RELEASE\\spring-boot-starter-logging-1.5.9.RELEASE.jar;D:\\m2\\repository\\ch\\qos\\logback\\logback-classic\\1.1.11\\logback-classic-1.1.11.jar;D:\\m2\\repository\\ch\\qos\\logback\\logback-core\\1.1.11\\logback-core-1.1.11.jar;D:\\m2\\repository\\org\\slf4j\\jcl-over-slf4j\\1.7.25\\jcl-over-slf4j-1.7.25.jar;D:\\m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.25\\jul-to-slf4j-1.7.25.jar;D:\\m2\\repository\\org\\slf4j\\log4j-over-slf4j\\1.7.25\\log4j-over-slf4j-1.7.25.jar;D:\\m2\\repository\\org\\yaml\\snakeyaml\\1.17\\snakeyaml-1.17.jar;D:\\m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\1.5.9.RELEASE\\spring-boot-starter-tomcat-1.5.9.RELEASE.jar;D:\\m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\8.5.23\\tomcat-embed-core-8.5.23.jar;D:\\m2\\repository\\org\\apache\\tomcat\\tomcat-annotations-api\\8.5.23\\tomcat-annotations-api-8.5.23.jar;D:\\m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\8.5.23\\tomcat-embed-el-8.5.23.jar;D:\\m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\8.5.23\\tomcat-embed-websocket-8.5.23.jar;D:\\m2\\repository\\org\\hibernate\\hibernate-validator\\5.3.6.Final\\hibernate-validator-5.3.6.Final.jar;D:\\m2\\repository\\javax\\validation\\validation-api\\1.1.0.Final\\validation-api-1.1.0.Final.jar;D:\\m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.1.Final\\jboss-logging-3.3.1.Final.jar;D:\\m2\\repository\\com\\fasterxml\\classmate\\1.3.4\\classmate-1.3.4.jar;D:\\m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.8.10\\jackson-databind-2.8.10.jar;D:\\m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.8.0\\jackson-annotations-2.8.0.jar;D:\\m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.8.10\\jackson-core-2.8.10.jar;D:\\m2\\repository\\org\\springframework\\spring-web\\4.3.13.RELEASE\\spring-web-4.3.13.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\spring-aop\\4.3.13.RELEASE\\spring-aop-4.3.13.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\spring-beans\\4.3.13.RELEASE\\spring-beans-4.3.13.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\spring-context\\4.3.13.RELEASE\\spring-context-4.3.13.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\spring-webmvc\\4.3.13.RELEASE\\spring-webmvc-4.3.13.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\spring-expression\\4.3.13.RELEASE\\spring-expression-4.3.13.RELEASE.jar;D:\\m2\\repository\\org\\slf4j\\slf4j-api\\1.7.25\\slf4j-api-1.7.25.jar;D:\\m2\\repository\\org\\springframework\\spring-core\\4.3.13.RELEASE\\spring-core-4.3.13.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\boot\\spring-boot-starter-actuator\\1.5.9.RELEASE\\spring-boot-starter-actuator-1.5.9.RELEASE.jar;D:\\m2\\repository\\org\\springframework\\boot\\spring-boot-actuator\\1.5.9.RELEASE\\spring-boot-actuator-1.5.9.RELEASE.jar", "user.name": "Administrator", "java.vm.specification.version": "1.7", "sun.java.command": "com.springboot.demo.DemoApplication", "java.home": "C:\\Program Files\\Java\\jdk1.7.0_80\\jre", "sun.arch.data.model": "64", "user.language": "zh", "java.specification.vendor": "Oracle Corporation", "awt.toolkit": "sun.awt.windows.WToolkit", "java.vm.info": "mixed mode", "java.version": "1.7.0_80", "java.ext.dirs": "C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext", "sun.boot.class.path": "C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\rt.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\sunrsasign.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.7.0_80\\jre\\classes", "java.awt.headless": "true", "java.vendor": "Oracle Corporation", "catalina.base": "C:\\Users\\Administrator\\AppData\\Local\\Temp\\tomcat.2042919348800278549.80", "file.separator": "\\", "java.vendor.url.bug": "http://bugreport.sun.com/bugreport/", "sun.io.unicode.encoding": "UnicodeLittle", "sun.cpu.endian": "little", "sun.desktop": "windows", "sun.cpu.isalist": "amd64" &#125;, "systemEnvironment": &#123; "USERPROFILE": "C:\\Users\\Administrator", "ProgramData": "C:\\ProgramData", "PATHEXT": ".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC", "JAVA_HOME": "C:\\Program Files\\Java\\jdk1.8.0_31", "ProgramFiles(x86)": "C:\\Program Files (x86)", "ChocolateyLastPathUpdate": "Âë®Âõõ 4Êúà 26 09:03:47 2018", "TEMP": "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp", "SystemDrive": "C:", "ProgramFiles": "C:\\Program Files", "Path": "C:/Program Files/Java/jre1.8.0_31/bin/server;C:/Program Files/Java/jre1.8.0_31/bin;C:/Program Files/Java/jre1.8.0_31/lib/amd64;f:\\app\\Administrator\\product\\11.2.0\\client_1\\bin;f:\\app\\Administrator\\product\\11.2.0\\dbhome_1\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;\"%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin\";%M2_HOME%\\bin;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\PuTTY\\;C:\\ProgramData\\chocolatey\\bin;C:\\Users\\Administrator\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Administrator\\AppData\\Roaming\\npm;\"C:\\Program Files\\Java\\jdk1.8.0_31\\bin;C:\\Program Files\\Java\\jdk1.8.0_31\\jre\\bin\";D:\\Program Files\\apache-maven-3.3.9-bin\\apache-maven-3.3.9\\bin;C:\\Program Files\\cmder;;D:\\Program Files\\Oxygen;", "HOMEDRIVE": "C:", "PROCESSOR_REVISION": "4e03", "=C:": "C:\\", "USERDOMAIN": "SC-201802012049", "ALLUSERSPROFILE": "C:\\ProgramData", "ProgramW6432": "C:\\Program Files", "PROCESSOR_IDENTIFIER": "Intel64 Family 6 Model 78 Stepping 3, GenuineIntel", "SESSIONNAME": "Console", "FPS_BROWSER_USER_PROFILE_STRING": "Default", "TMP": "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp", "PROCESSOR_ARCHITECTURE": "AMD64", "CommonProgramFiles": "C:\\Program Files\\Common Files", "CLASSPATH": ".;C:\\Program Files\\Java\\jdk1.8.0_31\\lib;C:\\Program Files\\Java\\jdk1.8.0_31\\lib\\tools.jar", "=::": "::\\", "LOGONSERVER": "\\\\SC-201802012049", "M2_HOME": "D:\\Program Files\\apache-maven-3.3.9-bin\\apache-maven-3.3.9", "OS": "Windows_NT", "HOMEPATH": "\\Users\\Administrator", "PROCESSOR_LEVEL": "6", "FPS_BROWSER_APP_PROFILE_STRING": "Internet Explorer", "CommonProgramW6432": "C:\\Program Files\\Common Files", "USERDOMAIN_ROAMINGPROFILE": "SC-201802012049", "LOCALAPPDATA": "C:\\Users\\Administrator\\AppData\\Local", "COMPUTERNAME": "SC-201802012049", "windir": "C:\\Windows", "SystemRoot": "C:\\Windows", "asl.log": "Destination=file", "NUMBER_OF_PROCESSORS": "4", "USERNAME": "Administrator", "PUBLIC": "C:\\Users\\Public", "PSModulePath": "C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules", "CommonProgramFiles(x86)": "C:\\Program Files (x86)\\Common Files", "ComSpec": "C:\\Windows\\system32\\cmd.exe", "ChocolateyInstall": "C:\\ProgramData\\chocolatey", "APPDATA": "C:\\Users\\Administrator\\AppData\\Roaming" &#125;, "applicationConfig: [classpath:/application.yml]": &#123; "server.port": 80, "management.security.enabled": false, "management.port": 80, "management.context-path": "/monitor", "endpoints.shutdown.enabled": true &#125;&#125;healthÊü•ÁúãÊâÄÂú®Â∫îÁî®ÁöÑÂÅ•Â∫∑Áä∂ÊÄÅÔºå Â¶ÇÁ£ÅÁõò„ÄÅÊï∞ÊçÆÊ∫ê„ÄÅRedis „ÄÅElasticsearchÁ≠â„ÄÇÂÅ•Â∫∑Áä∂ÊÄÅÂàÜ‰∏∫UPÔºàÊ≠£Â∏∏ÔºâÂíåDOWNÔºàÊïÖÈöúÔºâÁä∂ÊÄÅ„ÄÇËÆøÈóÆhttp://localhost/monitor/healthÔºåÊòæÁ§∫Â¶Ç‰∏ãÔºö123456789&#123; "status": "UP", "diskSpace": &#123; "status": "UP", "total": 107380994048, "free": 63853707264, "threshold": 10485760 &#125;&#125;mappingsËæìÂá∫ÊâÄÊúâÈÄöËøáÊ≥®Ëß£Ôº†RequestMappingËÆæÁΩÆÁöÑURLÊò†Â∞ÑÔºåÂèØ‰ª•ÈÄöËøáÊ≠§Êù•Êü•ÁúãURLÂØπÂ∫îÁöÑController„ÄÇËÆøÈóÆhttp://localhost/monitor/mappingsÔºåÊòæÁ§∫Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495&#123; "/webjars/**": &#123; "bean": "resourceHandlerMapping" &#125;, "/**": &#123; "bean": "resourceHandlerMapping" &#125;, "/**/favicon.ico": &#123; "bean": "faviconHandlerMapping" &#125;, "&#123;[/]&#125;": &#123; "bean": "requestMappingHandlerMapping", "method": "java.lang.String com.springboot.demo.DemoApplication.index()" &#125;, "&#123;[/error]&#125;": &#123; "bean": "requestMappingHandlerMapping", "method": "public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)" &#125;, "&#123;[/error],produces=[text/html]&#125;": &#123; "bean": "requestMappingHandlerMapping", "method": "public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)" &#125;, "&#123;[/monitor/loggers/&#123;name:.*&#125;],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)" &#125;, "&#123;[/monitor/loggers/&#123;name:.*&#125;],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map&lt;java.lang.String, java.lang.String&gt;)" &#125;, "&#123;[/monitor/loggers || /monitor/loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/shutdown || /monitor/shutdown.json],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.ShutdownMvcEndpoint.invoke()" &#125;, "&#123;[/monitor/trace || /monitor/trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/heapdump || /monitor/heapdump.json],methods=[GET],produces=[application/octet-stream]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException" &#125;, "&#123;[/monitor/autoconfig || /monitor/autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/beans || /monitor/beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/mappings || /monitor/mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/health || /monitor/health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)" &#125;, "&#123;[/monitor/metrics/&#123;name:.*&#125;],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)" &#125;, "&#123;[/monitor/metrics || /monitor/metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/dump || /monitor/dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/env/&#123;name:.*&#125;],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)" &#125;, "&#123;[/monitor/env || /monitor/env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/info || /monitor/info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/configprops || /monitor/configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()" &#125;, "&#123;[/monitor/auditevents || /monitor/auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]&#125;": &#123; "bean": "endpointHandlerMapping", "method": "public org.springframework.http.ResponseEntity&lt;?&gt; org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)" &#125;&#125;metricsÊòæÁ§∫Spring BootÁöÑÊÄßËÉΩÊåáÊ†áÔºåÂ¶ÇÂ∑±ÊúâÂÜÖÂ≠ò„ÄÅÊú™Âç†Áî®ÂÜÖÂ≠ò„ÄÅÂûÉÂúæÂõûÊî∂Ê¨°Êï∞„ÄÅÁ±ª‰ø°ÊÅØÁ≠â„ÄÇËÆøÈóÆhttp://localhost/monitor/metricsÔºåËæìÂá∫Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&#123; "mem": 245361, "mem.free": 76255, "processors": 4, "instance.uptime": 15927377, "uptime": 15932920, "systemload.average": -1.0, "heap.committed": 209408, "heap.init": 122659, "heap.used": 133152, "heap": 1745920, "nonheap.committed": 36480, "nonheap.init": 24000, "nonheap.used": 35953, "nonheap": 133120, "threads.peak": 24, "threads.daemon": 20, "threads.totalStarted": 27, "threads": 22, "classes": 6107, "classes.loaded": 6107, "classes.unloaded": 0, "gc.ps_scavenge.count": 5, "gc.ps_scavenge.time": 73, "gc.ps_marksweep.count": 0, "gc.ps_marksweep.time": 0, "httpsessions.max": -1, "httpsessions.active": 0, "counter.status.200.monitor.autoconfig": 2, "counter.status.200.monitor.beans": 2, "counter.status.200.monitor.configprops": 1, "counter.status.200.monitor.dump": 4, "counter.status.200.monitor.env": 1, "counter.status.200.monitor.health": 1, "counter.status.200.monitor.info": 1, "counter.status.200.monitor.loggers": 1, "counter.status.200.monitor.mappings": 1, "counter.status.200.monitor.trace": 3, "counter.status.200.star-star.favicon.ico": 3, "counter.status.404.star-star": 2, "gauge.response.monitor.autoconfig": 14.0, "gauge.response.monitor.beans": 42.0, "gauge.response.monitor.configprops": 440.0, "gauge.response.monitor.dump": 62.0, "gauge.response.monitor.env": 14.0, "gauge.response.monitor.health": 22.0, "gauge.response.monitor.info": 26.0, "gauge.response.monitor.loggers": 237.0, "gauge.response.monitor.mappings": 7.0, "gauge.response.monitor.trace": 8.0, "gauge.response.star-star": 12.0, "gauge.response.star-star.favicon.ico": 6.0&#125;ÂØπ/metricsÊé•Âè£Êèê‰æõÁöÑ‰ø°ÊÅØËøõË°åÁÆÄÂçïÂàÜÁ±ªÂ¶Ç‰∏ãË°®ÔºöÂàÜÁ±ªÂâçÁºÄÊä•ÂëäÂÜÖÂÆπÂûÉÂúæÊî∂ÈõÜÂô®gc.Â∑≤ÁªèÂèëÁîüËøáÁöÑÂûÉÂúæÊî∂ÈõÜÊ¨°Êï∞Ôºå‰ª•ÂèäÂûÉÂúæÊî∂ÈõÜÊâÄËÄóË¥πÁöÑÊó∂Èó¥ÔºåÈÄÇÁî®‰∫éÊ†áËÆ∞-Ê∏ÖÁêÜÂûÉÂúæÊî∂ÈõÜÂô®ÂíåÂπ∂Ë°åÂûÉÂúæÊî∂ÈõÜÂô®(Êï∞ÊçÆÊ∫êËá™java.lang.management. GarbageCollectorMXBean)ÂÜÖÂ≠òmem.ÂàÜÈÖçÁªôÂ∫îÁî®Á®ãÂ∫èÁöÑÂÜÖÂ≠òÊï∞ÈáèÂíåÁ©∫Èó≤ÁöÑÂÜÖÂ≠òÊï∞Èáè(Êï∞ÊçÆÊ∫êËá™java.lang. Runtime)Â†Üheap.ÂΩìÂâçÂÜÖÂ≠òÁî®Èáè(Êï∞ÊçÆÊ∫êËá™java.lang.management.MemoryUsage)Á±ªÂä†ËΩΩÂô®classes.JVMÁ±ªÂä†ËΩΩÂô®Âä†ËΩΩ‰∏éÂç∏ËΩΩÁöÑÁ±ªÁöÑÊï∞Èáè(Êï∞ÊçÆÊ∫êËá™java.lang. management.ClassLoadingMXBean)Á≥ªÁªüprocessors„ÄÅinstance.uptime„ÄÅuptime„ÄÅsystemload.averageÁ≥ªÁªü‰ø°ÊÅØÔºå‰æãÂ¶ÇÂ§ÑÁêÜÂô®Êï∞Èáè(Êï∞ÊçÆÊ∫êËá™java.lang.Runtime)„ÄÅËøêË°åÊó∂Èó¥(Êï∞ÊçÆÊ∫êËá™java.lang.management.RuntimeMXBean)„ÄÅÂπ≥ÂùáË¥üËΩΩ(Êï∞ÊçÆÊ∫êËá™java.lang.management.OperatingSystemMXBean)Á∫øÁ®ãÊ±†thread.Á∫øÁ®ã„ÄÅÂÆàÊä§Á∫øÁ®ãÁöÑÊï∞ÈáèÔºå‰ª•ÂèäJVMÂêØÂä®ÂêéÁöÑÁ∫øÁ®ãÊï∞ÈáèÂ≥∞ÂÄº(Êï∞ÊçÆÊ∫êËá™ java.lang .management.ThreadMXBean)Êï∞ÊçÆÊ∫êdatasource.Êï∞ÊçÆÊ∫êËøûÊé•ÁöÑÊï∞Èáè(Ê∫êËá™Êï∞ÊçÆÊ∫êÁöÑÂÖÉÊï∞ÊçÆÔºå‰ªÖÂΩìSpringÂ∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñáÈáåÂ≠òÂú® DataSource Bean ÁöÑÊó∂ÂÄôÊâç‰ºöÊúâËøô‰∏™‰ø°ÊÅØ)Tomcat ‰ºöËØùhttpsessions.*TomcatÁöÑÊ¥ªË∑É‰ºöËØùÊï∞ÂíåÊúÄÂ§ß‰ºöËØùÊï∞(Êï∞ÊçÆÊ∫êËá™ÂµåÂÖ•ÂºèTomcatÁöÑBeanÔºå‰ªÖÂú®‰ΩøÁî®ÂµåÂÖ•ÂºèTomcatÊúçÂä°Âô®ËøêË°åÂ∫îÁî®Á®ãÂ∫èÊó∂ÊâçÊúâËøô‰∏™‰ø°ÊÅØ)HTTPcounter.status.„ÄÅgauge.response.Â§öÁßçÂ∫îÁî®Á®ãÂ∫èÊúçÂä°HTTPËØ∑Ê±ÇÁöÑÂ∫¶ÈáèÂÄº‰∏éËÆ°Êï∞Âô®HTTPÁöÑËÆ°Êï∞Âô®ÂíåÂ∫¶ÈáèÂÄºÈúÄË¶ÅÂÅö‰∏ÄÁÇπËØ¥Êòé„ÄÇcounter.statusÂêéÁöÑÂÄºÊòØHTTPÁä∂ÊÄÅÁ†ÅÔºåÈöèÂêéÊòØÊâÄËØ∑Ê±ÇÁöÑË∑ØÂæÑ„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåcounter.status.200.metrics Ë°®Êòé/metricsÁ´ØÁÇπËøîÂõû 200(OK) Áä∂ÊÄÅÁ†ÅÁöÑÊ¨°Êï∞„ÄÇHTTPÁöÑÂ∫¶Èáè‰ø°ÊÅØÂú®ÁªìÊûÑ‰∏ä‰πüÂ∑Æ‰∏çÂ§öÔºåÂç¥Âú®Êä•ÂëäÂè¶‰∏ÄÁ±ª‰ø°ÊÅØ„ÄÇÂÆÉ‰ª¨ÂÖ®ÈÉ®‰ª•gauge.responseÂºÄÂ§¥ÔºåË°®ÊòéËøôÊòØHTTPÂìçÂ∫îÁöÑÂ∫¶Èáè‰ø°ÊÅØ„ÄÇÂâçÁºÄÂêéÊòØÂØπÂ∫îÁöÑË∑ØÂæÑ„ÄÇÂ∫¶ÈáèÂÄºÊòØ‰ª•ÊØ´Áßí‰∏∫Âçï‰ΩçÁöÑÊó∂Èó¥ÔºåÂèçÊò†‰∫ÜÊúÄËøëÂ§ÑÁêÜËØ•Ë∑ØÂæÑËØ∑Ê±ÇÁöÑËÄóÊó∂„ÄÇËøôÈáåËøòÊúâÂá†‰∏™ÁâπÊÆäÁöÑÂÄºÈúÄË¶ÅÊ≥®ÊÑè„ÄÇrootË∑ØÂæÑÊåáÂêëÁöÑÊòØÊ†πË∑ØÂæÑÊàñ/„ÄÇstar-star‰ª£Ë°®‰∫ÜÈÇ£‰∫õSpringËÆ§‰∏∫ÊòØÈùôÊÄÅËµÑÊ∫êÁöÑË∑ØÂæÑÔºåÂåÖÊã¨ÂõæÁâá„ÄÅJavaScriptÂíåÊ†∑ÂºèË°®ÔºåÂÖ∂‰∏≠ËøòÂåÖÂê´‰∫ÜÈÇ£‰∫õÊâæ‰∏çÂà∞ÁöÑËµÑÊ∫ê„ÄÇËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πà‰Ω†ÁªèÂ∏∏‰ºöÁúãÂà∞counter.status.404.star-starÔºåËøôÊòØËøîÂõû‰∫ÜHTTP 404 (NOT FOUND)Áä∂ÊÄÅÁöÑËØ∑Ê±ÇÊï∞„ÄÇ/metricsÊé•Âè£‰ºöËøîÂõûÊâÄÊúâÁöÑÂèØÁî®Â∫¶ÈáèÂÄºÔºå‰ΩÜ‰Ω†‰πüÂèØËÉΩÂè™ÂØπÊüê‰∏™ÂÄºÊÑüÂÖ¥Ë∂£„ÄÇË¶ÅËé∑ÂèñÂçï‰∏™ÂÄºÔºåËØ∑Ê±ÇÊó∂ÂèØ‰ª•Âú®URLÂêéÂä†‰∏äÂØπÂ∫îÁöÑÈîÆÂêç„ÄÇ‰æãÂ¶ÇÔºåË¶ÅÊü•ÁúãÁ©∫Èó≤ÂÜÖÂ≠òÂ§ßÂ∞è,ÂèØ‰ª•Âêë/metrics/mem.freeÂèë‰∏Ä‰∏™GETËØ∑Ê±Ç„ÄÇÂÆöÂà∂Actuator‰øÆÊîπÊé•Âè£IDÊØè‰∏™ActuatorÊé•Âè£ÈÉΩÊúâ‰∏Ä‰∏™IDÁî®Êù•ÂÜ≥ÂÆöÊé•Âè£ÁöÑË∑ØÂæÑÔºåÊØîÊñπËØ¥Ôºå/beansÊé•Âè£ÁöÑÈªòËÆ§IDÂ∞±ÊòØbeans„ÄÇÊØîÂ¶ÇË¶Å‰øÆÊîπ/beans‰∏∫ /instancesÔºåÂàôËÆæÁΩÆÂ¶Ç‰∏ãÔºö123endpoints: beans: id: instancesÂêØÁî®ÂíåÁ¶ÅÁî®Êé•Âè£ËôΩÁÑ∂ActuatorÁöÑÊé•Âè£ÈÉΩÂæàÊúâÁî®Ôºå‰ΩÜ‰Ω†‰∏ç‰∏ÄÂÆöÈúÄË¶ÅÂÖ®ÈÉ®Ëøô‰∫õÊé•Âè£„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊâÄÊúâÊé•Âè£ÔºàÈô§‰∫Ü/shutdownÔºâÈÉΩÂêØÁî®„ÄÇÊØîÂ¶ÇË¶ÅÁ¶ÅÁî® /metrics Êé•Âè£ÔºåÂàôÂèØ‰ª•ËÆæÁΩÆÂ¶Ç‰∏ãÔºö123endpoints: metrics: enabled: falseÂ¶ÇÊûú‰Ω†Âè™ÊÉ≥ÊâìÂºÄ‰∏Ä‰∏§‰∏™Êé•Âè£ÔºåÈÇ£Â∞±ÂÖàÁ¶ÅÁî®ÂÖ®ÈÉ®Êé•Âè£ÔºåÁÑ∂ÂêéÂêØÁî®ÈÇ£Âá†‰∏™‰Ω†Ë¶ÅÁöÑÔºåËøôÊ†∑Êõ¥Êñπ‰æø„ÄÇ1234endpoints: enabled: false metrics: enabled: trueÂèÇËÄÉÊñáÁ´†Ôºöhttps://www.jianshu.com/p/af9738634a21„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/21.Spring-Boot-Actuator„ÄÇ]]></content>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÊï¥ÂêàSwagger2ÊûÑÂª∫RESTful API]]></title>
    <url>%2FSpring-Boot-Swagger2-RESTful-API.html</url>
    <content type="text"><![CDATA[SwaggerÊòØ‰∏ÄÊ¨æÂèØ‰ª•Âø´ÈÄüÁîüÊàêÁ¨¶ÂêàRESTfulÈ£éÊ†ºAPIÂπ∂ËøõË°åÂú®Á∫øË∞ÉËØïÁöÑÊèí‰ª∂„ÄÇÊú¨ÊñáÂ∞Ü‰ªãÁªçÂ¶Ç‰ΩïÂú®Spring Boot‰∏≠Êï¥ÂêàSwagger„ÄÇÂú®Ê≠§‰πãÂâçÔºåÊàë‰ª¨ÂÖàËÅäËÅä‰ªÄ‰πàÊòØREST„ÄÇRESTÂÆûÈôÖ‰∏ä‰∏∫Representational State TransferÁöÑÁº©ÂÜôÔºåÁøªËØë‰∏∫‚ÄúË°®Áé∞Â±ÇÁä∂ÊÄÅËΩ¨Âåñ‚Äù „ÄÇÂ¶ÇÊûú‰∏Ä‰∏™Êû∂ÊûÑÁ¨¶ÂêàREST ÂéüÂàôÔºåÂ∞±Áß∞ÂÆÉ‰∏∫RESTfulÊû∂ÊûÑ„ÄÇÂÆûÈôÖ‰∏äÔºå‚ÄúË°®Áé∞Â±ÇÁä∂ÊÄÅËΩ¨Âåñ‚ÄùÁúÅÁï•‰∫Ü‰∏ªËØ≠ÔºåÂÆåÊï¥ÁöÑËØ¥Â∫îËØ•ÊòØ‚ÄúËµÑÊ∫êË°®Áé∞Â±ÇÁä∂ÊÄÅËΩ¨Âåñ‚Äù„ÄÇ‰ªÄ‰πàÊòØËµÑÊ∫êÔºàResourceÔºâÔºüËµÑÊ∫êÊåáÁöÑÊòØÁΩëÁªú‰∏≠‰ø°ÊÅØÁöÑË°®Áé∞ÂΩ¢ÂºèÔºåÊØîÂ¶Ç‰∏ÄÊÆµÊñáÊú¨Ôºå‰∏ÄÈ¶ñÊ≠åÔºå‰∏Ä‰∏™ËßÜÈ¢ëÊñá‰ª∂Á≠âÁ≠âÔºõ‰ªÄ‰πàÊòØË°®Áé∞Â±ÇÔºàReresentationalÔºâÔºüË°®Áé∞Â±ÇÂç≥ËµÑÊ∫êÁöÑÂ±ïÁé∞Âú®‰Ω†Èù¢ÂâçÁöÑÂΩ¢ÂºèÔºåÊØîÂ¶ÇÊñáÊú¨ÂèØ‰ª•ÊòØJSONÊ†ºÂºèÁöÑÔºå‰πüÂèØ‰ª•ÊòØXMLÂΩ¢ÂºèÁöÑÔºåÁîöËá≥‰∏∫‰∫åËøõÂà∂ÂΩ¢ÂºèÁöÑ„ÄÇÂõæÁâáÂèØ‰ª•ÊòØgifÔºå‰πüÂèØ‰ª•ÊòØPNGÔºõ‰ªÄ‰πàÊòØÁä∂ÊÄÅËΩ¨Êç¢ÔºàState TransferÔºâÔºüÁî®Êà∑ÂèØ‰ΩøÁî®URLÈÄöËøáHTTPÂçèËÆÆÊù•Ëé∑ÂèñÂêÑÁßçËµÑÊ∫êÔºåHTTPÂçèËÆÆÂåÖÂê´‰∫Ü‰∏Ä‰∫õÊìç‰ΩúËµÑÊ∫êÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇÔºöGET Áî®Êù•Ëé∑ÂèñËµÑÊ∫êÔºå POST Áî®Êù•Êñ∞Âª∫ËµÑÊ∫ê , PUT Áî®Êù•Êõ¥Êñ∞ËµÑÊ∫êÔºå DELETE Áî®Êù•Âà†Èô§ËµÑÊ∫êÔºå PATCH Áî®Êù•Êõ¥Êñ∞ËµÑÊ∫êÁöÑÈÉ®ÂàÜÂ±ûÊÄß„ÄÇÈÄöËøáËøô‰∫õHTTPÂçèËÆÆÁöÑÊñπÊ≥ïÊù•Êìç‰ΩúËµÑÊ∫êÁöÑËøáÁ®ãÂç≥‰∏∫Áä∂ÊÄÅËΩ¨Êç¢„ÄÇ‰∏ãÈù¢ÂØπÊØî‰∏ã‰º†ÁªüURLËØ∑Ê±ÇÂíåRESTfulÈ£éÊ†ºËØ∑Ê±ÇÁöÑÂå∫Âà´ÔºöÊèèËø∞‰º†ÁªüËØ∑Ê±ÇÊñπÊ≥ïRESTfulËØ∑Ê±ÇÊñπÊ≥ïÊü•ËØ¢/user/query?name=mrbirdGET/user?name=mrbirdGETËØ¶ÊÉÖ/user/getInfo?id=1GET/user/1GETÂàõÂª∫/user/create?name=mrbirdPOST/userPOST‰øÆÊîπ/user/update?name=mrbird&amp;id=1POST/user/1PUTÂà†Èô§/user/delete?id=1GET/user/1DELETE‰ªé‰∏äÈù¢ËøôÂº†Ë°®ÔºåÊàë‰ª¨Â§ßËá¥ÂèØ‰ª•ÊÄªÁªì‰∏ã‰º†ÁªüËØ∑Ê±ÇÂíåRESTfulËØ∑Ê±ÇÁöÑÂá†‰∏™Âå∫Âà´Ôºö‰º†ÁªüËØ∑Ê±ÇÈÄöËøáURLÊù•ÊèèËø∞Ë°å‰∏∫ÔºåÂ¶ÇcreateÔºådeleteÁ≠âÔºõRESTfulËØ∑Ê±ÇÈÄöËøáURLÊù•ÊèèËø∞ËµÑÊ∫ê„ÄÇRESTfulËØ∑Ê±ÇÈÄöËøáHTTPËØ∑Ê±ÇÁöÑÊñπÊ≥ïÊù•ÊèèËø∞Ë°å‰∏∫ÔºåÊØîÂ¶ÇDELETEÔºåPOSTÔºåPUTÁ≠âÔºåÂπ∂‰∏î‰ΩøÁî®HTTPÁä∂ÊÄÅÁ†ÅÊù•Ë°®Á§∫‰∏çÂêåÁöÑÁªìÊûú„ÄÇRESTfulËØ∑Ê±ÇÈÄöËøáJSONÊù•‰∫§Êç¢Êï∞ÊçÆ„ÄÇRESTfulÂè™ÊòØ‰∏ÄÁßçÈ£éÊ†ºÔºåÂπ∂‰∏çÊòØ‰∏ÄÁßçÂº∫Âà∂ÊÄßÁöÑÊ†áÂáÜ„ÄÇÂºïÂÖ•Swagger‰æùËµñÊú¨Êñá‰ΩøÁî®ÁöÑSwaggerÁâàÊú¨‰∏∫2.6.1Ôºö12345678910&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.6.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.6.1&lt;/version&gt;&lt;/dependency&gt;ÈÖçÁΩÆSwaggerConfig‰ΩøÁî®JavaConfigÁöÑÂΩ¢ÂºèÈÖçÁΩÆSwaggerÔºö1234567891011121314151617181920212223242526272829303132import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import springfox.documentation.builders.ApiInfoBuilder;import springfox.documentation.builders.PathSelectors;import springfox.documentation.builders.RequestHandlerSelectors;import springfox.documentation.service.ApiInfo;import springfox.documentation.service.Contact;import springfox.documentation.spi.DocumentationType;import springfox.documentation.spring.web.plugins.Docket;import springfox.documentation.swagger2.annotations.EnableSwagger2;@Configuration@EnableSwagger2public class SwaggerConfig &#123; @Bean public Docket buildDocket() &#123; return new Docket(DocumentationType.SWAGGER_2) .apiInfo(buildApiInf()) .select() .apis(RequestHandlerSelectors.basePackage("com.example.demo.controller")) .paths(PathSelectors.any()) .build(); &#125; private ApiInfo buildApiInf() &#123; return new ApiInfoBuilder() .title("Á≥ªÁªüRESTful APIÊñáÊ°£") .contact(new Contact("mrbird", "https://mrbird.cc", "852252810@qq.com")) .version("1.0") .build(); &#125;&#125;Âú®ÈÖçÁΩÆÁ±ª‰∏≠Ê∑ªÂä†@EnableSwagger2Ê≥®Ëß£Êù•ÂêØÁî®Swagger2Ôºåapis()ÂÆö‰πâ‰∫ÜÊâ´ÊèèÁöÑÂåÖË∑ØÂæÑ„ÄÇÈÖçÁΩÆËæÉ‰∏∫ÁÆÄÂçïÔºåÂÖ∂‰ªñ‰∏çÂÅöËøáÂ§öËØ¥Êòé„ÄÇSwaggerÂ∏∏Áî®Ê≥®Ëß£@ApiÔºö‰øÆÈ•∞Êï¥‰∏™Á±ªÔºåÊèèËø∞ControllerÁöÑ‰ΩúÁî®Ôºõ@ApiOperationÔºöÊèèËø∞‰∏Ä‰∏™Á±ªÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊàñËÄÖËØ¥‰∏Ä‰∏™Êé•Âè£Ôºõ@ApiParamÔºöÂçï‰∏™ÂèÇÊï∞ÊèèËø∞Ôºõ@ApiModelÔºöÁî®ÂØπË±°Êù•Êé•Êî∂ÂèÇÊï∞Ôºõ@ApiPropertyÔºöÁî®ÂØπË±°Êé•Êî∂ÂèÇÊï∞Êó∂ÔºåÊèèËø∞ÂØπË±°ÁöÑ‰∏Ä‰∏™Â≠óÊÆµÔºõ@ApiResponseÔºöHTTPÂìçÂ∫îÂÖ∂‰∏≠1‰∏™ÊèèËø∞Ôºõ@ApiResponsesÔºöHTTPÂìçÂ∫îÊï¥‰ΩìÊèèËø∞Ôºõ@ApiIgnoreÔºö‰ΩøÁî®ËØ•Ê≥®Ëß£ÂøΩÁï•Ëøô‰∏™APIÔºõ@ApiError ÔºöÂèëÁîüÈîôËØØËøîÂõûÁöÑ‰ø°ÊÅØÔºõ@ApiImplicitParamÔºö‰∏Ä‰∏™ËØ∑Ê±ÇÂèÇÊï∞Ôºõ@ApiImplicitParamsÔºöÂ§ö‰∏™ËØ∑Ê±ÇÂèÇÊï∞„ÄÇÁºñÂÜôRESTful APIÊé•Âè£Spring Boot‰∏≠ÂåÖÂê´‰∫Ü‰∏Ä‰∫õÊ≥®Ëß£ÔºåÂØπÂ∫î‰∫éHTTPÂçèËÆÆ‰∏≠ÁöÑÊñπÊ≥ïÔºö@GetMappingÂØπÂ∫îHTTP‰∏≠ÁöÑGETÊñπÊ≥ïÔºõ@PostMappingÂØπÂ∫îHTTP‰∏≠ÁöÑPOSTÊñπÊ≥ïÔºõ@PutMappingÂØπÂ∫îHTTP‰∏≠ÁöÑPUTÊñπÊ≥ïÔºõ@DeleteMappingÂØπÂ∫îHTTP‰∏≠ÁöÑDELETEÊñπÊ≥ïÔºõ@PatchMappingÂØπÂ∫îHTTP‰∏≠ÁöÑPATCHÊñπÊ≥ï„ÄÇÊàë‰ª¨‰ΩøÁî®Ëøô‰∫õÊ≥®Ëß£Êù•ÁºñÂÜô‰∏Ä‰∏™RESTfulÊµãËØïControllerÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.DeleteMapping;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.PutMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import com.example.demo.domain.User;import io.swagger.annotations.Api;import io.swagger.annotations.ApiImplicitParam;import io.swagger.annotations.ApiImplicitParams;import io.swagger.annotations.ApiOperation;import springfox.documentation.annotations.ApiIgnore;@Api(value = "Áî®Êà∑Controller")@Controller@RequestMapping("user")public class UserController &#123; @ApiIgnore @GetMapping("hello") public @ResponseBody String hello() &#123; return "hello"; &#125; @ApiOperation(value = "Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ", notes = "Ê†πÊçÆÁî®Êà∑idËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ") @ApiImplicitParam(name = "id", value = "Áî®Êà∑id", required = true, dataType = "Long", paramType = "path") @GetMapping("/&#123;id&#125;") public @ResponseBody User getUserById(@PathVariable(value = "id") Long id) &#123; User user = new User(); user.setId(id); user.setName("mrbird"); user.setAge(25); return user; &#125; @ApiOperation(value = "Ëé∑ÂèñÁî®Êà∑ÂàóË°®", notes = "Ëé∑ÂèñÁî®Êà∑ÂàóË°®") @GetMapping("/list") public @ResponseBody List&lt;User&gt; getUserList() &#123; List&lt;User&gt; list = new ArrayList&lt;&gt;(); User user1 = new User(); user1.setId(1l); user1.setName("mrbird"); user1.setAge(25); list.add(user1); User user2 = new User(); user2.setId(2l); user2.setName("scott"); user2.setAge(29); list.add(user2); return list; &#125; @ApiOperation(value = "Êñ∞Â¢ûÁî®Êà∑", notes = "Ê†πÊçÆÁî®Êà∑ÂÆû‰ΩìÂàõÂª∫Áî®Êà∑") @ApiImplicitParam(name = "user", value = "Áî®Êà∑ÂÆû‰Ωì", required = true, dataType = "User") @PostMapping("/add") public @ResponseBody Map&lt;String, Object&gt; addUser(@RequestBody User user) &#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put("result", "success"); return map; &#125; @ApiOperation(value = "Âà†Èô§Áî®Êà∑", notes = "Ê†πÊçÆÁî®Êà∑idÂà†Èô§Áî®Êà∑") @ApiImplicitParam(name = "id", value = "Áî®Êà∑id", required = true, dataType = "Long", paramType = "path") @DeleteMapping("/&#123;id&#125;") public @ResponseBody Map&lt;String, Object&gt; deleteUser(@PathVariable(value = "id") Long id) &#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put("result", "success"); return map; &#125; @ApiOperation(value = "Êõ¥Êñ∞Áî®Êà∑", notes = "Ê†πÊçÆÁî®Êà∑idÊõ¥Êñ∞Áî®Êà∑") @ApiImplicitParams(&#123; @ApiImplicitParam(name = "id", value = "Áî®Êà∑id", required = true, dataType = "Long", paramType = "path"), @ApiImplicitParam(name = "user", value = "Áî®Êà∑ÂÆû‰Ωì", required = true, dataType = "User") &#125;) @PutMapping("/&#123;id&#125;") public @ResponseBody Map&lt;String, Object&gt; updateUser(@PathVariable(value = "id") Long id, @RequestBody User user) &#123; Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put("result", "success"); return map; &#125;&#125;ÂØπ‰∫é‰∏çÈúÄË¶ÅÁîüÊàêAPIÁöÑÊñπÊ≥ïÊàñËÄÖÁ±ªÔºåÂè™ÈúÄË¶ÅÂú®‰∏äÈù¢Ê∑ªÂä†@ApiIgnoreÊ≥®Ëß£Âç≥ÂèØ„ÄÇÂêØÂä®&amp;ÊµãËØïÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/swagger-ui.htmlÂç≥ÂèØÁúãÂà∞SwaggerÁªôÊàë‰ª¨ÁîüÊàêÁöÑAPIÈ°µÈù¢ÔºöÁÇπÂáªÊé•Âè£‰∏ãÁöÑ‚ÄúTry it out‚ÄùSwagger‰ºöÁî®curlÂëΩ‰ª§ÂèëÈÄÅËØ∑Ê±ÇÔºåÂπ∂‰∏îËøîÂõûÂìçÂ∫î‰ø°ÊÅØÔºåÂ¶Ç‰∏ãÊâÄÁ§∫:Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/20.Spring-Boot-Swagger2]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Swagger</tag>
        <tag>RESTful</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏≠ÁºñÂÜôÂçïÂÖÉÊµãËØï]]></title>
    <url>%2FSpring-Boot%20TESTing.html</url>
    <content type="text"><![CDATA[ÁºñÂÜôÂçïÂÖÉÊµãËØïÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÁºñÂÜôÈ´òË¥®ÈáèÁöÑ‰ª£Á†ÅÔºåÊèêÂçá‰ª£Á†ÅË¥®ÈáèÔºåÂáèÂ∞ëBugÔºå‰æø‰∫éÈáçÊûÑ„ÄÇSpring BootÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂÆûÁî®Á®ãÂ∫èÂíåÊ≥®Ëß£ÔºåÁî®Êù•Â∏ÆÂä©Êàë‰ª¨ÊµãËØïÂ∫îÁî®Á®ãÂ∫èÔºåÂú®Spring Boot‰∏≠ÂºÄÂêØÂçïÂÖÉÊµãËØïÂè™ÈúÄÂºïÂÖ•spring-boot-starter-testÂç≥ÂèØÔºåÂÖ∂ÂåÖÂê´‰∫Ü‰∏Ä‰∫õ‰∏ªÊµÅÁöÑÊµãËØïÂ∫ì„ÄÇÊú¨Êñá‰∏ªË¶Å‰ªãÁªçÂü∫‰∫é ServiceÂíåControllerÁöÑÂçïÂÖÉÊµãËØï„ÄÇÂºïÂÖ•spring-boot-starter-testÔºö12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;ËøêË°åMavenÂëΩ‰ª§dependency:treeÂèØÁúãÂà∞ÂÖ∂ÂåÖÂê´‰∫Ü‰ª•‰∏ã‰æùËµñÔºö123456789101112131415161718[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:1.5.9.RELEASE:test[INFO] | +- org.springframework.boot:spring-boot-test:jar:1.5.9.RELEASE:test[INFO] | +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.5.9.RELEASE:test[INFO] | +- com.jayway.jsonpath:json-path:jar:2.2.0:test[INFO] | | +- net.minidev:json-smart:jar:2.2.1:test[INFO] | | | \- net.minidev:accessors-smart:jar:1.1:test[INFO] | | | \- org.ow2.asm:asm:jar:5.0.3:test[INFO] | | \- org.slf4j:slf4j-api:jar:1.7.25:compile[INFO] | +- junit:junit:jar:4.12:test[INFO] | +- org.assertj:assertj-core:jar:2.6.0:test[INFO] | +- org.mockito:mockito-core:jar:1.10.19:test[INFO] | | \- org.objenesis:objenesis:jar:2.1:test[INFO] | +- org.hamcrest:hamcrest-core:jar:1.3:test[INFO] | +- org.hamcrest:hamcrest-library:jar:1.3:test[INFO] | +- org.skyscreamer:jsonassert:jar:1.4.0:test[INFO] | | \- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test[INFO] | +- org.springframework:spring-core:jar:4.3.13.RELEASE:compile[INFO] | \- org.springframework:spring-test:jar:4.3.13.RELEASE:testJUnitÔºåÊ†áÂáÜÁöÑÂçïÂÖÉÊµãËØïJavaÂ∫îÁî®Á®ãÂ∫èÔºõSpring Test &amp; Spring Boot TestÔºåÂØπSpring BootÂ∫îÁî®Á®ãÂ∫èÁöÑÂçïÂÖÉÊµãËØïÊèê‰æõÊîØÊåÅÔºõMockito, Java mockingÊ°ÜÊû∂ÔºåÁî®‰∫éÊ®°Êãü‰ªª‰ΩïSpringÁÆ°ÁêÜÁöÑBeanÔºåÊØîÂ¶ÇÂú®ÂçïÂÖÉÊµãËØï‰∏≠Ê®°Êãü‰∏Ä‰∏™Á¨¨‰∏âÊñπÁ≥ªÁªüServiceÊé•Âè£ËøîÂõûÁöÑÊï∞ÊçÆÔºåËÄå‰∏ç‰ºöÂéªÁúüÊ≠£Ë∞ÉÁî®Á¨¨‰∏âÊñπÁ≥ªÁªüÔºõAssertJÔºå‰∏Ä‰∏™ÊµÅÁïÖÁöÑassertionÂ∫ìÔºåÂêåÊó∂‰πüÊèê‰æõ‰∫ÜÊõ¥Â§öÁöÑÊúüÊúõÂÄº‰∏éÊµãËØïËøîÂõûÂÄºÁöÑÊØîËæÉÊñπÂºèÔºõHamcrestÔºåÂ∫ìÁöÑÂåπÈÖçÂØπË±°Ôºà‰πüÁß∞‰∏∫Á∫¶ÊùüÊàñË∞ìËØçÔºâÔºõJsonPathÔºåÊèê‰æõÁ±ª‰ººXPathÈÇ£Ê†∑ÁöÑÁ¨¶Âè∑Êù•Ëé∑ÂèñJSONÊï∞ÊçÆÁâáÊÆµÔºõJSONassertÔºåÂØπJSONÂØπË±°ÊàñËÄÖJSONÂ≠óÁ¨¶‰∏≤Êñ≠Ë®ÄÁöÑÂ∫ì„ÄÇ‰∏Ä‰∏™Ê†áÂáÜÁöÑSpring BootÊµãËØïÂçïÂÖÉÂ∫îÊúâÂ¶Ç‰∏ãÁöÑ‰ª£Á†ÅÁªìÊûÑÔºö123456789import org.junit.runner.RunWith;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;@RunWith(SpringRunner.class)@SpringBootTestpublic class ApplicationTest &#123; &#125;Áü•ËØÜÂáÜÂ§áJUnit4Ê≥®Ëß£JUnit4‰∏≠ÂåÖÂê´‰∫ÜÂá†‰∏™ÊØîËæÉÈáçË¶ÅÁöÑÊ≥®Ëß£Ôºö@BeforeClass„ÄÅ@AfterClass„ÄÅ@Before„ÄÅ@AfterÂíå@Test„ÄÇÂÖ∂‰∏≠Ôºå @BeforeClassÂíå@AfterClassÂú®ÊØè‰∏™Á±ªÂä†ËΩΩÁöÑÂºÄÂßãÂíåÁªìÊùüÊó∂ËøêË°åÔºåÂøÖÈ°ª‰∏∫ÈùôÊÄÅÊñπÊ≥ïÔºõËÄå@BeforeÂíå@AfterÂàôÂú®ÊØè‰∏™ÊµãËØïÊñπÊ≥ïÂºÄÂßã‰πãÂâçÂíåÁªìÊùü‰πãÂêéËøêË°å„ÄÇËßÅÂ¶Ç‰∏ã‰æãÂ≠êÔºö123456789101112131415161718192021222324252627282930313233343536@RunWith(SpringRunner.class)@SpringBootTestpublic class TestApplicationTests &#123; @BeforeClass public static void beforeClassTest() &#123; System.out.println("before class test"); &#125; @Before public void beforeTest() &#123; System.out.println("before test"); &#125; @Test public void Test1() &#123; System.out.println("test 1+1=2"); Assert.assertEquals(2, 1 + 1); &#125; @Test public void Test2() &#123; System.out.println("test 2+2=4"); Assert.assertEquals(4, 2 + 2); &#125; @After public void afterTest() &#123; System.out.println("after test"); &#125; @AfterClass public static void afterClassTest() &#123; System.out.println("after class test"); &#125;&#125;ËøêË°åËæìÂá∫Â¶Ç‰∏ãÔºö12345678910...before class testbefore testtest 1+1=2after testbefore testtest 2+2=4after testafter class test...‰ªé‰∏äÈù¢ÁöÑËæìÂá∫ÂèØ‰ª•ÁúãÂá∫ÂêÑ‰∏™Ê≥®Ëß£ÁöÑËøêË°åÊó∂Êú∫„ÄÇAssert‰∏äÈù¢‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî®‰∫ÜAssertÁ±ªÊèê‰æõÁöÑassertÂè£ÊñπÊ≥ïÔºå‰∏ãÈù¢ÂàóÂá∫‰∫Ü‰∏Ä‰∫õÂ∏∏Áî®ÁöÑassertÊñπÊ≥ïÔºöassertEquals(&quot;message&quot;,A,B)ÔºåÂà§Êñ≠AÂØπË±°ÂíåBÂØπË±°ÊòØÂê¶Áõ∏Á≠âÔºåËøô‰∏™Âà§Êñ≠Âú®ÊØîËæÉ‰∏§‰∏™ÂØπË±°Êó∂Ë∞ÉÁî®‰∫Üequals()ÊñπÊ≥ï„ÄÇassertSame(&quot;message&quot;,A,B)ÔºåÂà§Êñ≠AÂØπË±°‰∏éBÂØπË±°ÊòØÂê¶Áõ∏ÂêåÔºå‰ΩøÁî®ÁöÑÊòØ==Êìç‰ΩúÁ¨¶„ÄÇassertTrue(&quot;message&quot;,A)ÔºåÂà§Êñ≠AÊù°‰ª∂ÊòØÂê¶‰∏∫Áúü„ÄÇassertFalse(&quot;message&quot;,A)ÔºåÂà§Êñ≠AÊù°‰ª∂ÊòØÂê¶‰∏ç‰∏∫Áúü„ÄÇassertNotNull(&quot;message&quot;,A)ÔºåÂà§Êñ≠AÂØπË±°ÊòØÂê¶‰∏ç‰∏∫null„ÄÇassertArrayEquals(&quot;message&quot;,A,B)ÔºåÂà§Êñ≠AÊï∞ÁªÑ‰∏éBÊï∞ÁªÑÊòØÂê¶Áõ∏Á≠â„ÄÇMockMvc‰∏ãÊñá‰∏≠ÔºåÂØπControllerÁöÑÊµãËØïÈúÄË¶ÅÁî®Âà∞MockMvcÊäÄÊúØ„ÄÇMockMvcÔºå‰ªéÂ≠óÈù¢‰∏äÊù•ÁúãÊåáÁöÑÊòØÊ®°ÊãüÁöÑMVCÔºåÂç≥ÂÖ∂ÂèØ‰ª•Ê®°Êãü‰∏Ä‰∏™MVCÁéØÂ¢ÉÔºåÂêëControllerÂèëÈÄÅËØ∑Ê±ÇÁÑ∂ÂêéÂæóÂà∞ÂìçÂ∫î„ÄÇÂú®ÂçïÂÖÉÊµãËØï‰∏≠Ôºå‰ΩøÁî®MockMvcÂâçÈúÄË¶ÅËøõË°åÂàùÂßãÂåñÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789private MockMvc mockMvc;@Autowiredprivate WebApplicationContext wac;@Beforepublic void setupMockMvc()&#123; mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();&#125;MockMvcÊ®°ÊãüMVCËØ∑Ê±ÇÊ®°Êãü‰∏Ä‰∏™getËØ∑Ê±ÇÔºö1mockMvc.perform(MockMvcRequestBuilders.get("/hello?name=&#123;name&#125;","mrbird"));Ê®°Êãü‰∏Ä‰∏™postËØ∑Ê±ÇÔºö1mockMvc.perform(MockMvcRequestBuilders.post("/user/&#123;id&#125;", 1));Ê®°ÊãüÊñá‰ª∂‰∏ä‰º†Ôºö1mockMvc.perform(MockMvcRequestBuilders.fileUpload("/fileupload").file("file", "Êñá‰ª∂ÂÜÖÂÆπ".getBytes("utf-8")));Ê®°ÊãüËØ∑Ê±ÇÂèÇÊï∞Ôºö1234// Ê®°ÊãüÂèëÈÄÅ‰∏Ä‰∏™messageÂèÇÊï∞ÔºåÂÄº‰∏∫hellomockMvc.perform(MockMvcRequestBuilders.get("/hello").param("message", "hello"));// Ê®°ÊãüÊèê‰∫§‰∏Ä‰∏™checkboxÂÄºÔºåname‰∏∫hobbyÔºåÂÄº‰∏∫sleepÂíåeatmockMvc.perform(MockMvcRequestBuilders.get("/saveHobby").param("hobby", "sleep", "eat"));‰πüÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®MultiValueMapÊûÑÂª∫ÂèÇÊï∞Ôºö12345MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;String, String&gt;();params.add("name", "mrbird");params.add("hobby", "sleep");params.add("hobby", "eat");mockMvc.perform(MockMvcRequestBuilders.get("/hobby/save").params(params));Ê®°ÊãüÂèëÈÄÅJSONÂèÇÊï∞Ôºö12String jsonStr = "&#123;\"username\":\"Dopa\",\"passwd\":\"ac3af72d9f95161a502fd326865c2f15\",\"status\":\"1\"&#125;";mockMvc.perform(MockMvcRequestBuilders.post("/user/save").content(jsonStr.getBytes()));ÂÆûÈôÖÊµãËØï‰∏≠ÔºåË¶ÅÊâãÂä®ÁºñÂÜôËøô‰πàÈïøÁöÑJSONÊ†ºÂºèÂ≠óÁ¨¶‰∏≤ÂæàÁπÅÁêê‰πüÂæàÂÆπÊòìÂá∫ÈîôÔºåÂèØ‰ª•ÂÄüÂä©Spring BootËá™Â∏¶ÁöÑJacksonÊäÄÊúØÊù•Â∫èÂàóÂåñ‰∏Ä‰∏™JavaÂØπË±°ÔºàÂèØÂèÇËÄÉSpring Boot‰∏≠ÁöÑJSONÊäÄÊúØÔºâÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567User user = new User();user.setUsername("Dopa");user.setPasswd("ac3af72d9f95161a502fd326865c2f15");user.setStatus("1");String userJson = mapper.writeValueAsString(user);mockMvc.perform(MockMvcRequestBuilders.post("/user/save").content(userJson.getBytes()));ÂÖ∂‰∏≠Ôºåmapper‰∏∫com.fasterxml.jackson.databind.ObjectMapperÂØπË±°„ÄÇÊ®°ÊãüSessionÂíåCookieÔºö12mockMvc.perform(MockMvcRequestBuilders.get("/index").sessionAttr(name, value));mockMvc.perform(MockMvcRequestBuilders.get("/index").cookie(new Cookie(name, value)));ËÆæÁΩÆËØ∑Ê±ÇÁöÑContent-TypeÔºö1mockMvc.perform(MockMvcRequestBuilders.get("/index").contentType(MediaType.APPLICATION_JSON_UTF8));ËÆæÁΩÆËøîÂõûÊ†ºÂºè‰∏∫JSONÔºö1mockMvc.perform(MockMvcRequestBuilders.get("/user/&#123;id&#125;", 1).accept(MediaType.APPLICATION_JSON));Ê®°ÊãüHTTPËØ∑Ê±ÇÂ§¥Ôºö1mockMvc.perform(MockMvcRequestBuilders.get("/user/&#123;id&#125;", 1).header(name, values));MockMvcÂ§ÑÁêÜËøîÂõûÁªìÊûúÊúüÊúõÊàêÂäüË∞ÉÁî®ÔºåÂç≥HTTP Status‰∏∫200Ôºö12mockMvc.perform(MockMvcRequestBuilders.get("/user/&#123;id&#125;", 1)) .andExpect(MockMvcResultMatchers.status().isOk());ÊúüÊúõËøîÂõûÂÜÖÂÆπÊòØapplication/jsonÔºö12mockMvc.perform(MockMvcRequestBuilders.get("/user/&#123;id&#125;", 1)) .andExpect(MockMvcResultMatchers.content().contentType(MediaType.APPLICATION_JSON));Ê£ÄÊü•ËøîÂõûJSONÊï∞ÊçÆ‰∏≠Êüê‰∏™ÂÄºÁöÑÂÜÖÂÆπÔºö12mockMvc.perform(MockMvcRequestBuilders.get("/user/&#123;id&#125;", 1)) .andExpect(MockMvcResultMatchers.jsonPath("$.username").value("mrbird"));ËøôÈáå‰ΩøÁî®Âà∞‰∫ÜjsonPathÔºå$‰ª£Ë°®‰∫ÜJSONÁöÑÊ†πËäÇÁÇπ„ÄÇÊõ¥Â§öÂÖ≥‰∫éjsonPathÁöÑ‰ªãÁªçÂèØÂèÇËÄÉ https://github.com/json-path/JsonPath„ÄÇÂà§Êñ≠ControllerÊñπÊ≥ïÊòØÂê¶ËøîÂõûÊüêËßÜÂõæÔºö12mockMvc.perform(MockMvcRequestBuilders.post("/index")) .andExpect(MockMvcResultMatchers.view().name("index.html"));ÊØîËæÉModelÔºö1234mockMvc.perform(MockMvcRequestBuilders.get("/user/&#123;id&#125;", 1)) .andExpect(MockMvcResultMatchers.model().size(1)) .andExpect(MockMvcResultMatchers.model().attributeExists("password")) .andExpect(MockMvcResultMatchers.model().attribute("username", "mrbird"));ÊØîËæÉforwardÊàñËÄÖredirectÔºö12345mockMvc.perform(MockMvcRequestBuilders.get("/index")) .andExpect(MockMvcResultMatchers.forwardedUrl("index.html"));// ÊàñËÄÖmockMvc.perform(MockMvcRequestBuilders.get("/index")) .andExpect(MockMvcResultMatchers.redirectedUrl("index.html"));ÊØîËæÉËøîÂõûÂÜÖÂÆπÔºå‰ΩøÁî®content()Ôºö1234567891011// ËøîÂõûÂÜÖÂÆπ‰∏∫hellomockMvc.perform(MockMvcRequestBuilders.get("/index")) .andExpect(MockMvcResultMatchers.content().string("hello"));// ËøîÂõûÂÜÖÂÆπÊòØXMLÔºåÂπ∂‰∏î‰∏éxmlCotent‰∏ÄÊ†∑mockMvc.perform(MockMvcRequestBuilders.get("/index")) .andExpect(MockMvcResultMatchers.content().xml(xmlContent));// ËøîÂõûÂÜÖÂÆπÊòØJSON ÔºåÂπ∂‰∏î‰∏éjsonContent‰∏ÄÊ†∑mockMvc.perform(MockMvcRequestBuilders.get("/index")) .andExpect(MockMvcResultMatchers.content().json(jsonContent));ËæìÂá∫ÂìçÂ∫îÁªìÊûúÔºö12mockMvc.perform(MockMvcRequestBuilders.get("/index")) .andDo(MockMvcResultHandlers.print());ÊµãËØïServiceÁé∞ÊúâÂ¶Ç‰∏ãServiceÔºö1234567891011121314@Repository("userService")public class UserServiceImpl extends BaseService&lt;User&gt; implements UserService &#123; @Override public User findByName(String userName) &#123; Example example = new Example(User.class); example.createCriteria().andCondition("username=", userName); List&lt;User&gt; userList = this.selectByExample(example); if (userList.size() != 0) return userList.get(0); else return null; &#125;&#125;ÁºñÂÜô‰∏Ä‰∏™ËØ•ServiceÁöÑÂçïÂÖÉÊµãËØïÔºåÊµãËØïfindByNameÊñπÊ≥ïÊòØÂê¶ÊúâÊïàÔºö12345678910111213@RunWith(SpringRunner.class)@SpringBootTestpublic class UserServiceTest &#123; @Autowired UserService userService; @Test public void test() &#123; User user = this.userService.findByName("scott"); Assert.assertEquals("Áî®Êà∑Âêç‰∏∫scott", "scott", user.getUsername()); &#125;&#125;ËøêË°åÂêéÔºåJUnitÊ≤°ÊúâÊä•ÈîôËØ¥ÊòéÊµãËØïÈÄöËøáÔºåÂç≥UserServiceÁöÑfindByNameÊñπÊ≥ïÂèØË°å„ÄÇ Ê≠§Â§ñÔºåÂíåÂú®Controller‰∏≠ÂºïÁî®ServiceÁõ∏ÊØîÔºåÂú®ÊµãËØïÂçïÂÖÉ‰∏≠ÂØπServiceÊµãËØïÂÆåÊØïÂêéÔºåÊï∞ÊçÆËÉΩËá™Âä®ÂõûÊªöÔºåÂè™ÈúÄË¶ÅÂú®ÊµãËØïÊñπÊ≥ï‰∏äÂä†‰∏ä@TransactionalÊ≥®Ëß£ÔºåÊØîÂ¶Ç:1234567891011@Test@Transactionalpublic void test() &#123; User user = new User(); user.setId(this.userService.getSequence("seq_user")); user.setUsername("JUnit"); user.setPasswd("123456"); user.setStatus("1"); user.setCreateTime(new Date()); this.userService.save(user);&#125;ËøêË°åÔºåÊµãËØïÈÄöËøáÔºåÊü•ÁúãÊï∞ÊçÆÂ∫ìÂèëÁé∞Êï∞ÊçÆÂπ∂Ê≤°ÊúâË¢´ÊèíÂÖ•ÔºåËøôÊ†∑ÂæàÂ•ΩÁöÑÈÅøÂÖç‰∫Ü‰∏çÂøÖË¶ÅÁöÑÊï∞ÊçÆÊ±°Êüì„ÄÇÊµãËØïControllerÁé∞ÊúâÂ¶Ç‰∏ãControllerÔºö123456789101112131415@RestControllerpublic class UserController &#123; @Autowired UserService userService; @GetMapping("user/&#123;userName&#125;") public User getUserByName(@PathVariable(value = "userName") String userName) &#123; return this.userService.findByName(userName); &#125; @PostMapping("user/save") public void saveUser(@RequestBody User user) &#123; this.userService.saveUser(user); &#125;&#125;Áé∞Âú®ÁºñÂÜô‰∏Ä‰∏™ÈíàÂØπ‰∫éËØ•ControllergetUserByName(@PathVariable(value = &quot;userName&quot;) String userName)ÊñπÊ≥ïÁöÑÊµãËØïÁ±ªÔºö123456789101112131415161718192021222324@RunWith(SpringRunner.class)@SpringBootTestpublic class UserControllerTest &#123; private MockMvc mockMvc; @Autowired private WebApplicationContext wac; @Before public void setupMockMvc()&#123; mockMvc = MockMvcBuilders.webAppContextSetup(wac).build(); &#125; @Test public void test() throws Exception &#123; mockMvc.perform( MockMvcRequestBuilders.get("/user/&#123;userName&#125;", "scott") .contentType(MediaType.APPLICATION_JSON_UTF8)) .andExpect(MockMvcResultMatchers.status().isOk()) .andExpect(MockMvcResultMatchers.jsonPath("$.username").value("scott")) .andDo(MockMvcResultHandlers.print()); &#125;&#125;ËøêË°åÂêéÔºåJUnitÈÄöËøáÔºåÊéßÂà∂Âè∞ËæìÂá∫ËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334MockHttpServletRequest: HTTP Method = GET Request URI = /user/scott Parameters = &#123;&#125; Headers = &#123;Content-Type=[application/json;charset=UTF-8]&#125;Handler: Type = demo.springboot.test.controller.UserController Method = public demo.springboot.test.domain.User demo.springboot.test.controller.UserController.getUserByName(java.lang.String)Async: Async started = false Async result = nullResolved Exception: Type = nullModelAndView: View name = null View = null Model = nullFlashMap: Attributes = nullMockHttpServletResponse: Status = 200 Error message = null Headers = &#123;Content-Type=[application/json;charset=UTF-8]&#125; Content type = application/json;charset=UTF-8 Body = &#123;&quot;id&quot;:23,&quot;username&quot;:&quot;scott&quot;,&quot;passwd&quot;:&quot;ac3af72d9f95161a502fd326865c2f15&quot;,&quot;createTime&quot;:1514535399000,&quot;status&quot;:&quot;1&quot;&#125; Forwarded URL = null Redirected URL = null Cookies = []ÁªßÁª≠ÁºñÂÜô‰∏Ä‰∏™ÈíàÂØπ‰∫éËØ•ControllersaveUser(@RequestBody User user)ÊñπÊ≥ïÁöÑÊµãËØïÁ±ªÔºö1234567891011121314151617181920212223242526272829303132333435@RunWith(SpringRunner.class)@SpringBootTestpublic class UserControllerTest &#123; private MockMvc mockMvc; @Autowired private WebApplicationContext wac; @Autowired ObjectMapper mapper; @Before public void setupMockMvc()&#123; mockMvc = MockMvcBuilders.webAppContextSetup(wac).build(); &#125; @Test @Transactional public void test() throws Exception &#123; User user = new User(); user.setUsername("Dopa"); user.setPasswd("ac3af72d9f95161a502fd326865c2f15"); user.setStatus("1"); String userJson = mapper.writeValueAsString(user); mockMvc.perform( MockMvcRequestBuilders.post("/user/save") .contentType(MediaType.APPLICATION_JSON_UTF8) .content(userJson.getBytes())) .andExpect(MockMvcResultMatchers.status().isOk()) .andDo(MockMvcResultHandlers.print()); &#125;&#125;ËøêË°åËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334MockHttpServletRequest: HTTP Method = POST Request URI = /user/save Parameters = &#123;&#125; Headers = &#123;Content-Type=[application/json;charset=UTF-8]&#125;Handler: Type = demo.springboot.test.controller.UserController Method = public void demo.springboot.test.controller.UserController.saveUser(demo.springboot.test.domain.User)Async: Async started = false Async result = nullResolved Exception: Type = nullModelAndView: View name = null View = null Model = nullFlashMap: Attributes = nullMockHttpServletResponse: Status = 200 Error message = null Headers = &#123;&#125; Content type = null Body = Forwarded URL = null Redirected URL = null Cookies = []ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂú®‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁ≥ªÁªü‰∏≠ÁºñÂÜôÊµãËØïÂçïÂÖÉÊó∂ÔºåÂèØËÉΩÈúÄË¶ÅÊ®°Êãü‰∏Ä‰∏™ÁôªÂΩïÁî®Êà∑‰ø°ÊÅØSessionÔºåMockMvc‰πüÊèê‰æõ‰∫ÜËß£ÂÜ≥ÊñπÊ°àÔºåÂèØÂú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÊ®°Êãü‰∏Ä‰∏™HttpSessionÔºö123456789101112131415private MockMvc mockMvc;private MockHttpSession session;@Autowiredprivate WebApplicationContext wac;@Beforepublic void setupMockMvc()&#123; mockMvc = MockMvcBuilders.webAppContextSetup(wac).build(); session = new MockHttpSession(); User user =new User(); user.setUsername("Dopa"); user.setPasswd("ac3af72d9f95161a502fd326865c2f15"); session.setAttribute("user", user); &#125;Ê∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/19.Spring-Boot-Testing]]></content>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏≠ÁöÑJSONÊäÄÊúØ]]></title>
    <url>%2FSpring-Boot%20JSON.html</url>
    <content type="text"><![CDATA[Âπ≥Êó•ÈáåÂú®È°πÁõÆ‰∏≠Â§ÑÁêÜJSON‰∏ÄËà¨Áî®ÁöÑÈÉΩÊòØÈòøÈáåÂ∑¥Â∑¥ÁöÑFastjsonÔºåÂêéÊù•ÂèëÁé∞‰ΩøÁî®Spring BootÂÜÖÁΩÆÁöÑJacksonÊù•ÂÆåÊàêJSONÁöÑÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÊìç‰Ωú‰πüÊå∫Êñπ‰æø„ÄÇJackson‰∏ç‰ΩÜÂèØ‰ª•ÂÆåÊàêÁÆÄÂçïÁöÑÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÊìç‰ΩúÔºå‰πüËÉΩÂÆûÁé∞Â§çÊùÇÁöÑ‰∏™ÊÄßÂåñÁöÑÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÊìç‰Ωú„ÄÇËá™ÂÆö‰πâObjectMapperÊàë‰ª¨ÈÉΩÁü•ÈÅìÔºåÂú®Spring‰∏≠‰ΩøÁî®@ResponseBodyÊ≥®Ëß£ÂèØ‰ª•Â∞ÜÊñπÊ≥ïËøîÂõûÁöÑÂØπË±°Â∫èÂàóÂåñÊàêJSONÔºåÊØîÂ¶ÇÔºö12345678@RequestMapping("getuser")@ResponseBodypublic User getUser() &#123; User user = new User(); user.setUserName("mrbird"); user.setBirthday(new Date()); return user;&#125;UserÁ±ªÔºö123456789public class User implements Serializable &#123; private static final long serialVersionUID = 6222176558369919436L; private String userName; private int age; private String password; private Date birthday; ...&#125;ËÆøÈóÆgetuserÈ°µÈù¢ËæìÂá∫Ôºö1&#123;"userName":"mrbird","age":0,"password":null,"birthday":1522634892365&#125;ÂèØÁúãÂà∞Êó∂Èó¥ÈªòËÆ§‰ª•Êó∂Èó¥Êà≥ÁöÑÂΩ¢ÂºèËæìÂá∫ÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÊîπÂèòËøô‰∏™ÈªòËÆ§Ë°å‰∏∫ÔºåÊàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâ‰∏Ä‰∏™ObjectMapperÊù•Êõø‰ª£Ôºö12345678910111213141516import java.text.SimpleDateFormat;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import com.fasterxml.jackson.databind.ObjectMapper;@Configurationpublic class JacksonConfig &#123; @Bean public ObjectMapper getObjectMapper()&#123; ObjectMapper mapper = new ObjectMapper(); mapper.setDateFormat(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss")); return mapper; &#125;&#125;‰∏äÈù¢ÈÖçÁΩÆËé∑Âèñ‰∫ÜObjectMapperÂØπË±°ÔºåÂπ∂‰∏îËÆæÁΩÆ‰∫ÜÊó∂Èó¥Ê†ºÂºè„ÄÇÂÜçÊ¨°ËÆøÈóÆgetuserÔºåÈ°µÈù¢ËæìÂá∫Ôºö1&#123;"userName":"mrbird","age":0,"password":null,"birthday":"2018-04-02 10:14:24"&#125;Â∫èÂàóÂåñJacksonÈÄöËøá‰ΩøÁî®mapperÁöÑwriteValueAsStringÊñπÊ≥ïÂ∞ÜJavaÂØπË±°Â∫èÂàóÂåñ‰∏∫JSONÊ†ºÂºèÂ≠óÁ¨¶‰∏≤Ôºö1234567891011121314151617@AutowiredObjectMapper mapper;@RequestMapping("serialization")@ResponseBodypublic String serialization() &#123; try &#123; User user = new User(); user.setUserName("mrbird"); user.setBirthday(new Date()); String str = mapper.writeValueAsString(user); return str; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return null;&#125;ÂèçÂ∫èÂàóÂåñ‰ΩøÁî®@ResponseBodyÊ≥®Ëß£ÂèØ‰ª•‰ΩøÂØπË±°Â∫èÂàóÂåñ‰∏∫JSONÊ†ºÂºèÂ≠óÁ¨¶‰∏≤ÔºåÈô§Ê≠§‰πãÂ§ñÔºåJackson‰πüÊèê‰æõ‰∫ÜÂèçÂ∫èÂàóÂåñÊñπÊ≥ï„ÄÇÊ†ëÈÅçÂéÜÂΩìÈááÁî®Ê†ëÈÅçÂéÜÁöÑÊñπÂºèÊó∂ÔºåJSONË¢´ËØªÂÖ•Âà∞JsonNodeÂØπË±°‰∏≠ÔºåÂèØ‰ª•ÂÉèÊìç‰ΩúXML DOMÈÇ£Ê†∑ËØªÂèñJSON„ÄÇÊØîÂ¶ÇÔºö1234567891011121314151617@AutowiredObjectMapper mapper;@RequestMapping("readjsonstring")@ResponseBodypublic String readJsonString() &#123; try &#123; String json = "&#123;\"name\":\"mrbird\",\"age\":26&#125;"; JsonNode node = this.mapper.readTree(json); String name = node.get("name").asText(); int age = node.get("age").asInt(); return name + " " + age; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return null;&#125;readTreeÊñπÊ≥ïÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÊàñËÄÖÂ≠óËäÇÊï∞ÁªÑ„ÄÅÊñá‰ª∂„ÄÅInputStreamÁ≠âÔºå ËøîÂõûJsonNode‰Ωú‰∏∫Ê†πËäÇÁÇπÔºå‰Ω†ÂèØ‰ª•ÂÉèÊìç‰ΩúXML DOMÈÇ£Ê†∑Êìç‰ΩúÈÅçÂéÜJsonNode‰ª•Ëé∑ÂèñÊï∞ÊçÆ„ÄÇËß£ÊûêÂ§öÁ∫ßJSON‰æãÂ≠êÔºö1234String json = "&#123;\"name\":\"mrbird\",\"hobby\":&#123;\"first\":\"sleep\",\"second\":\"eat\"&#125;&#125;";;JsonNode node = this.mapper.readTree(json);JsonNode hobby = node.get("hobby");String first = hobby.get("first").asText();ÁªëÂÆöÂØπË±°Êàë‰ª¨‰πüÂèØ‰ª•Â∞ÜJavaÂØπË±°ÂíåJSONÊï∞ÊçÆËøõË°åÁªëÂÆöÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617@AutowiredObjectMapper mapper;@RequestMapping("readjsonasobject")@ResponseBodypublic String readJsonAsObject() &#123; try &#123; String json = "&#123;\"name\":\"mrbird\",\"age\":26&#125;"; User user = mapper.readValue(json, User.class); String name = user.getUserName(); int age = user.getAge(); return name + " " + age; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return null;&#125;JacksonÊ≥®Ëß£JacksonÂåÖÂê´‰∫Ü‰∏Ä‰∫õÂÆûÁî®ÁöÑÊ≥®Ëß£Ôºö@JsonProperty@JsonPropertyÔºå‰ΩúÁî®Âú®Â±ûÊÄß‰∏äÔºåÁî®Êù•‰∏∫JSON KeyÊåáÂÆö‰∏Ä‰∏™Âà´Âêç„ÄÇ12@JsonProperty("bth")private Date birthday;ÂÜçÊ¨°ËÆøÈóÆgetuserÈ°µÈù¢ËæìÂá∫Ôºö1&#123;"userName":"mrbird","age":0,"password":null,"bth":"2018-04-02 10:38:37"&#125;key birthdayÂ∑≤ÁªèË¢´ÊõøÊç¢‰∏∫‰∫Übth„ÄÇ@Jsonlgnore@JsonlgnoreÔºå‰ΩúÁî®Âú®Â±ûÊÄß‰∏äÔºåÁî®Êù•ÂøΩÁï•Ê≠§Â±ûÊÄß„ÄÇ12@JsonIgnoreprivate String password;ÂÜçÊ¨°ËÆøÈóÆgetuserÈ°µÈù¢ËæìÂá∫Ôºö1&#123;"userName":"mrbird","age":0,"bth":"2018-04-02 10:40:45"&#125;passwordÂ±ûÊÄßÂ∑≤Ë¢´ÂøΩÁï•„ÄÇ@JsonIgnoreProperties@JsonIgnorePropertiesÔºåÂøΩÁï•‰∏ÄÁªÑÂ±ûÊÄßÔºå‰ΩúÁî®‰∫éÁ±ª‰∏äÔºåÊØîÂ¶ÇJsonIgnoreProperties({ &quot;password&quot;, &quot;age&quot; })„ÄÇ1234@JsonIgnoreProperties(&#123; "password", "age" &#125;)public class User implements Serializable &#123; ...&#125;ÂÜçÊ¨°ËÆøÈóÆgetuserÈ°µÈù¢ËæìÂá∫Ôºö1&#123;"userName":"mrbird","bth":"2018-04-02 10:45:34"&#125;@JsonFormat@JsonFormatÔºåÁî®‰∫éÊó•ÊúüÊ†ºÂºèÂåñÔºåÂ¶ÇÔºö12@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")private Date birthday;@JsonNaming@JsonNamingÔºåÁî®‰∫éÊåáÂÆö‰∏Ä‰∏™ÂëΩÂêçÁ≠ñÁï•Ôºå‰ΩúÁî®‰∫éÁ±ªÊàñËÄÖÂ±ûÊÄß‰∏ä„ÄÇJacksonËá™Â∏¶‰∫ÜÂ§öÁßçÂëΩÂêçÁ≠ñÁï•Ôºå‰Ω†ÂèØ‰ª•ÂÆûÁé∞Ëá™Â∑±ÁöÑÂëΩÂêçÁ≠ñÁï•ÔºåÊØîÂ¶ÇËæìÂá∫ÁöÑkey Áî±JavaÂëΩÂêçÊñπÂºèËΩ¨‰∏∫‰∏ãÈù¢Á∫øÂëΩÂêçÊñπÊ≥ï ‚Äî‚Äî userNameËΩ¨Âåñ‰∏∫user-name„ÄÇ1234@JsonNaming(PropertyNamingStrategy.LowerCaseWithUnderscoresStrategy.class)public class User implements Serializable &#123; ...&#125;ÂÜçÊ¨°ËÆøÈóÆgetuserÈ°µÈù¢ËæìÂá∫Ôºö1&#123;"user_name":"mrbird","bth":"2018-04-02 10:52:12"&#125;@JsonSerialize@JsonSerializeÔºåÊåáÂÆö‰∏Ä‰∏™ÂÆûÁé∞Á±ªÊù•Ëá™ÂÆö‰πâÂ∫èÂàóÂåñ„ÄÇÁ±ªÂøÖÈ°ªÂÆûÁé∞JsonSerializerÊé•Âè£Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112131415161718import java.io.IOException;import com.example.pojo.User;import com.fasterxml.jackson.core.JsonGenerator;import com.fasterxml.jackson.core.JsonProcessingException;import com.fasterxml.jackson.databind.JsonSerializer;import com.fasterxml.jackson.databind.SerializerProvider;public class UserSerializer extends JsonSerializer&lt;User&gt; &#123; @Override public void serialize(User user, JsonGenerator generator, SerializerProvider provider) throws IOException, JsonProcessingException &#123; generator.writeStartObject(); generator.writeStringField("user-name", user.getUserName()); generator.writeEndObject(); &#125;&#125;‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠Êàë‰ª¨‰ªÖ‰ªÖÂ∫èÂàóÂåñuserNameÂ±ûÊÄßÔºå‰∏îËæìÂá∫ÁöÑkeyÊòØuser-name„ÄÇ ‰ΩøÁî®Ê≥®Ëß£@JsonSerializeÊù•ÊåáÂÆöUserÂØπË±°ÁöÑÂ∫èÂàóÂåñÊñπÂºèÔºö1234@JsonSerialize(using = UserSerializer.class)public class User implements Serializable &#123; ...&#125;ÂÜçÊ¨°ËÆøÈóÆgetuserÈ°µÈù¢ËæìÂá∫Ôºö1&#123;"user-name":"mrbird"&#125;@JsonDeserialize@JsonDeserializeÔºåÁî®Êà∑Ëá™ÂÆö‰πâÂèçÂ∫èÂàóÂåñÔºåÂêå@JsonSerialize ÔºåÁ±ªÈúÄË¶ÅÂÆûÁé∞JsonDeserializerÊé•Âè£„ÄÇ123456789101112131415161718192021import java.io.IOException;import com.example.pojo.User;import com.fasterxml.jackson.core.JsonParser;import com.fasterxml.jackson.core.JsonProcessingException;import com.fasterxml.jackson.databind.DeserializationContext;import com.fasterxml.jackson.databind.JsonDeserializer;import com.fasterxml.jackson.databind.JsonNode;public class UserDeserializer extends JsonDeserializer&lt;User&gt; &#123; @Override public User deserialize(JsonParser parser, DeserializationContext context) throws IOException, JsonProcessingException &#123; JsonNode node = parser.getCodec().readTree(parser); String userName = node.get("user-name").asText(); User user = new User(); user.setUserName(userName); return user; &#125;&#125;‰ΩøÁî®Ê≥®Ëß£@JsonDeserializeÊù•ÊåáÂÆöUserÂØπË±°ÁöÑÂ∫èÂàóÂåñÊñπÂºèÔºö1234@JsonDeserialize (using = UserDeserializer.class)public class User implements Serializable &#123; ...&#125;ÊµãËØïÔºö12345678910111213141516@AutowiredObjectMapper mapper;@RequestMapping("readjsonasobject")@ResponseBodypublic String readJsonAsObject() &#123; try &#123; String json = "&#123;\"user-name\":\"mrbird\"&#125;"; User user = mapper.readValue(json, User.class); String name = user.getUserName(); return name; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return null;&#125;ËÆøÈóÆreadjsonasobjectÔºåÈ°µÈù¢ËæìÂá∫Ôºö1mrbird@JsonView@JsonViewÔºå‰ΩúÁî®Âú®Á±ªÊàñËÄÖÂ±ûÊÄß‰∏äÔºåÁî®Êù•ÂÆö‰πâ‰∏Ä‰∏™Â∫èÂàóÂåñÁªÑ„ÄÇ ÊØîÂ¶ÇÂØπ‰∫éUserÂØπË±°ÔºåÊüê‰∫õÊÉÖÂÜµ‰∏ãÂè™ËøîÂõûuserNameÂ±ûÊÄßÂ∞±Ë°åÔºåËÄåÊüê‰∫õÊÉÖÂÜµ‰∏ãÈúÄË¶ÅËøîÂõûÂÖ®ÈÉ®Â±ûÊÄß„ÄÇ Âõ†Ê≠§UserÂØπË±°ÂèØ‰ª•ÂÆö‰πâÊàêÂ¶Ç‰∏ãÔºö12345678910111213141516171819public class User implements Serializable &#123; private static final long serialVersionUID = 6222176558369919436L; public interface UserNameView &#123;&#125;; public interface AllUserFieldView extends UserNameView &#123;&#125;; @JsonView(UserNameView.class) private String userName; @JsonView(AllUserFieldView.class) private int age; @JsonView(AllUserFieldView.class) private String password; @JsonView(AllUserFieldView.class) private Date birthday; ... &#125;UserÂÆö‰πâ‰∫Ü‰∏§‰∏™Êé•Âè£Á±ªÔºå‰∏Ä‰∏™‰∏∫userNameViewÔºåÂè¶Â§ñ‰∏Ä‰∏™‰∏∫AllUserFieldViewÁªßÊâø‰∫ÜuserNameViewÊé•Âè£„ÄÇËøô‰∏§‰∏™Êé•Âè£‰ª£Ë°®‰∫Ü‰∏§‰∏™Â∫èÂàóÂåñÁªÑÁöÑÂêçÁß∞„ÄÇÂ±ûÊÄßuserName‰ΩøÁî®‰∫Ü@JsonView(UserNameView.class)ÔºåËÄåÂâ©‰∏ãÂ±ûÊÄß‰ΩøÁî®‰∫Ü@JsonView(AllUserFieldView.class)„ÄÇSpring‰∏≠ControllerÊñπÊ≥ïÂÖÅËÆ∏‰ΩøÁî®@JsonViewÊåáÂÆö‰∏Ä‰∏™ÁªÑÂêçÔºåË¢´Â∫èÂàóÂåñÁöÑÂØπË±°Âè™ÊúâÂú®Ëøô‰∏™ÁªÑÁöÑÂ±ûÊÄßÊâç‰ºöË¢´Â∫èÂàóÂåñÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011@JsonView(User.UserNameView.class)@RequestMapping("getuser")@ResponseBodypublic User getUser() &#123; User user = new User(); user.setUserName("mrbird"); user.setAge(26); user.setPassword("123456"); user.setBirthday(new Date()); return user;&#125;ËÆøÈóÆgetuserÈ°µÈù¢ËæìÂá∫Ôºö1&#123;"userName":"mrbird"&#125;Â¶ÇÊûúÂ∞Ü@JsonView(User.UserNameView.class)ÊõøÊç¢‰∏∫@JsonView(User.AllUserFieldView.class)ÔºåËæìÂá∫Ôºö1&#123;"userName":"mrbird","age":26,"password":"123456","birthday":"2018-04-02 11:24:00"&#125;Âõ†‰∏∫Êé•Âè£AllUserFieldViewÁªßÊâø‰∫ÜÊé•Âè£UserNameViewÊâÄ‰ª•userName‰πü‰ºöË¢´ËæìÂá∫„ÄÇÈõÜÂêàÁöÑÂèçÂ∫èÂàóÂåñÂú®ControllerÊñπÊ≥ï‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®Ôº†RequestBodyÂ∞ÜÊèê‰∫§ÁöÑJSONËá™Âä®Êò†Â∞ÑÂà∞ÊñπÊ≥ïÂèÇÊï∞‰∏äÔºåÊØîÂ¶ÇÔºö12345@RequestMapping("updateuser")@ResponseBodypublic int updateUser(@RequestBody List&lt;User&gt; list)&#123; return list.size();&#125;‰∏äÈù¢ÊñπÊ≥ïÂèØ‰ª•Êé•ÂèóÂ¶Ç‰∏ã‰∏Ä‰∏™JSONËØ∑Ê±ÇÔºåÂπ∂Ëá™Âä®Êò†Â∞ÑÂà∞UserÂØπË±°‰∏äÔºö1[&#123;"userName":"mrbird","age":26&#125;,&#123;"userName":"scott","age":27&#125;]Spring Boot ËÉΩËá™Âä®ËØÜÂà´Âá∫ListÂØπË±°ÂåÖÂê´ÁöÑÊòØUserÁ±ªÔºåÂõ†‰∏∫Âú®ÊñπÊ≥ï‰∏≠ÂÆö‰πâÁöÑÊ≥õÂûãÁöÑÁ±ªÂûã‰ºöË¢´‰øùÁïôÂú®Â≠óËäÇÁ†Å‰∏≠ÔºåÊâÄ‰ª•Spring BootËÉΩËØÜÂà´ListÂåÖÂê´ÁöÑÊ≥õÂûãÁ±ªÂûã‰ªéËÄåËÉΩÊ≠£Á°ÆÂèçÂ∫èÂàóÂåñ„ÄÇÊúâ‰∫õÊÉÖÂÜµ‰∏ãÔºåÈõÜÂêàÂØπË±°Âπ∂Ê≤°ÊúâÂåÖÂê´Ê≥õÂûãÂÆö‰πâÔºåÂ¶Ç‰∏ã‰ª£Á†ÅÊâÄÁ§∫ÔºåÂèçÂ∫èÂàóÂåñÂπ∂‰∏çËÉΩÂæóÂà∞ÊúüÊúõÁöÑÁªìÊûú„ÄÇ1234567891011121314@AutowiredObjectMapper mapper;@RequestMapping("customize")@ResponseBodypublic String customize() throws JsonParseException, JsonMappingException, IOException &#123; String jsonStr = "[&#123;\"userName\":\"mrbird\",\"age\":26&#125;,&#123;\"userName\":\"scott\",\"age\":27&#125;]"; List&lt;User&gt; list = mapper.readValue(jsonStr, List.class); String msg = ""; for (User user : list) &#123; msg += user.getUserName(); &#125; return msg;&#125;ËÆøÈóÆcustomizeÔºåÊéßÂà∂Âè∞ÊäõÂá∫ÂºÇÂ∏∏Ôºöjava.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to com.example.pojo.UserËøôÊòØÂõ†‰∏∫Âú®ËøêË°åÊó∂ÂàªÔºåÊ≥õÂûãÂ∑±ÁªèË¢´Êì¶Èô§‰∫ÜÔºà‰∏çÂêå‰∫éÊñπÊ≥ïÂèÇÊï∞ÂÆö‰πâÁöÑÊ≥õÂûãÔºå‰∏ç‰ºöË¢´Êì¶Èô§Ôºâ„ÄÇ‰∏∫‰∫ÜÊèê‰æõÊ≥õÂûã‰ø°ÊÅØÔºåJacksonÊèê‰æõ‰∫ÜJavaType ÔºåÁî®Êù•ÊåáÊòéÈõÜÂêàÁ±ªÂûãÔºåÂ∞Ü‰∏äËø∞ÊñπÊ≥ïÊîπ‰∏∫Ôºö123456789101112131415@AutowiredObjectMapper mapper;@RequestMapping("customize")@ResponseBodypublic String customize() throws JsonParseException, JsonMappingException, IOException &#123; String jsonStr = "[&#123;\"userName\":\"mrbird\",\"age\":26&#125;,&#123;\"userName\":\"scott\",\"age\":27&#125;]"; JavaType type = mapper.getTypeFactory().constructParametricType(List.class, User.class); List&lt;User&gt; list = mapper.readValue(jsonStr, type); String msg = ""; for (User user : list) &#123; msg += user.getUserName(); &#125; return msg;&#125;ËÆøÈóÆcustomizeÔºåÈ°µÈù¢ËæìÂá∫Ôºömrbirdscott„ÄÇÊ∫êÁ†ÅËøûÊé•https://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/18.Spring-Boot-Jackson]]></content>
      <tags>
        <tag>JSON</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®JsoupÈò≤Âæ°XSSÊîªÂáª]]></title>
    <url>%2FJsoup%20XSS.html</url>
    <content type="text"><![CDATA[Ë∑®Á´ôËÑöÊú¨ÊîªÂáª(Cross Site Scripting)Ôºå‰∏∫‰∫Ü‰∏çÂíåÂ±ÇÂè†Ê†∑ÂºèË°®(Cascading Style Sheets, CSS)ÁöÑÁº©ÂÜôÊ∑∑Ê∑ÜÔºåÊïÖÂ∞ÜË∑®Á´ôËÑöÊú¨ÊîªÂáªÁº©ÂÜô‰∏∫XSS„ÄÇÊÅ∂ÊÑèÊîªÂáªËÄÖÂæÄWebÈ°µÈù¢ÈáåÊèíÂÖ•ÊÅ∂ÊÑèScript‰ª£Á†ÅÔºåÂΩìÁî®Êà∑ÊµèËßàËØ•È°µ‰πãÊó∂ÔºåÂµåÂÖ•ÂÖ∂‰∏≠WebÈáåÈù¢ÁöÑScript‰ª£Á†Å‰ºöË¢´ÊâßË°åÔºå‰ªéËÄåËææÂà∞ÊÅ∂ÊÑèÊîªÂáªÁî®Êà∑ÁöÑÁõÆÁöÑ„ÄÇ‰ΩøÁî®JsoupÂèØ‰ª•ÊúâÊïàÁöÑËøáÊª§‰∏çÂÆâÂÖ®ÁöÑ‰ª£Á†Å„ÄÇJsoup‰ΩøÁî®ÁôΩÂêçÂçïÁöÑÊú∫Âà∂Êù•È¢ÑÈò≤XSSÊîªÂáªÔºåÊØîÂ¶ÇÁôΩÂêçÂçï‰∏≠ËßÑÂÆöÂè™ÂÖÅËÆ∏&lt;span&gt;Ê†áÁ≠æÁöÑÂ≠òÂú®ÔºåÈÇ£‰πàÂÖ∂‰ªñÊ†áÁ≠æÈÉΩ‰ºöË¢´ËøáÊª§Êéâ„ÄÇÂ∏∏ËßÅÁöÑXSSÊîªÂáªÊØîÂ¶ÇÈ°µÈù¢ÁöÑÊüê‰∏™Ë°®ÂçïÂÖÅËÆ∏Áî®Êà∑ËæìÂÖ•‰ªªÊÑèÂÜÖÂÆπÔºåÂΩìÊüê‰∏™Ë∞ÉÁöÆÁöÑÁî®Êà∑ËæìÂÖ•Â¶Ç‰∏ãÂÜÖÂÆπÔºö ‰øùÂ≠òÂêéÔºå‰Ω†‰ºöÂèëÁé∞È°µÈù¢ÊñáÂ≠óÈÉΩÂèòÊàê‰∫ÜÁ∫¢Ëâ≤ÔºÅÊàñËÄÖËæìÂÖ•&lt;script&gt;for(var i=0;i&lt;10;i++){alert(&quot;fuck you&quot;);}&lt;/script&gt;Ôºå‰øùÂ≠òÂêéÈ°µÈù¢Â∞ÜÂºπÁ™ó10Ê¨°ÔºÅÂºïÂÖ•Jsoup‰ΩøÁî®MavenÊûÑÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑSpring BootÈ°πÁõÆÔºåÂú®pom‰∏≠ÂºïÂÖ•Ôºö12345&lt;dependency&gt; &lt;groupId&gt;org.jsoup&lt;/groupId&gt; &lt;artifactId&gt;jsoup&lt;/artifactId&gt; &lt;version&gt;1.9.2&lt;/version&gt;&lt;/dependency&gt;JsoupUtilÂàõÂª∫‰∏Ä‰∏™JsoupUtilÂ∑•ÂÖ∑Á±ªÔºö1234567891011121314151617181920212223242526272829import java.io.FileNotFoundException;import java.io.IOException;import org.jsoup.Jsoup;import org.jsoup.nodes.Document;import org.jsoup.safety.Whitelist;/** * XssËøáÊª§Â∑•ÂÖ∑ * */public class JsoupUtil &#123; private static final Whitelist whitelist = Whitelist.basicWithImages(); /* * ÈÖçÁΩÆËøáÊª§ÂåñÂèÇÊï∞,‰∏çÂØπ‰ª£Á†ÅËøõË°åÊ†ºÂºèÂåñ */ private static final Document.OutputSettings outputSettings = new Document.OutputSettings().prettyPrint(false); static &#123; /* * ÂØåÊñáÊú¨ÁºñËæëÊó∂‰∏Ä‰∫õÊ†∑ÂºèÊòØ‰ΩøÁî®styleÊù•ËøõË°åÂÆûÁé∞ÁöÑ ÊØîÂ¶ÇÁ∫¢Ëâ≤Â≠ó‰Ωì style="color:red;" ÊâÄ‰ª•ÈúÄË¶ÅÁªôÊâÄÊúâÊ†áÁ≠æÊ∑ªÂä†styleÂ±ûÊÄß */ whitelist.addAttributes(":all", "style"); &#125; public static String clean(String content) &#123; return Jsoup.clean(content, "", whitelist, outputSettings); &#125;&#125;ËøôÈáåÈááÁî®ÁöÑÁôΩÂêçÂçï‰∏∫basicWithImagesÔºåJsoupÂÜÖÁΩÆ‰∫ÜÂá†ÁßçÂ∏∏ËßÅÁöÑÁôΩÂêçÂçï‰æõÊàë‰ª¨ÈÄâÊã©ÔºåÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöÁôΩÂêçÂçïÂØπË±°Ê†áÁ≠æËØ¥ÊòénoneÊó†Âè™‰øùÁïôÊ†áÁ≠æÂÜÖÊñáÊú¨ÂÜÖÂÆπsimpleTextb,em,i,strong,uÁÆÄÂçïÁöÑÊñáÊú¨Ê†áÁ≠æbasica,b,blockquote,br,cite,code,dd,dl,dt,em,i,li,ol,p,pre,q,small,span,strike,strong,sub,sup,u,ulÂü∫Êú¨‰ΩøÁî®ÁöÑÊ†áÁ≠æbasicWithImagesbasic ÁöÑÂü∫Á°Ä‰∏äÊ∑ªÂä†‰∫Ü img Ê†áÁ≠æÂèä img Ê†áÁ≠æÁöÑ src,align,alt,height,width,title Â±ûÊÄßÂü∫Êú¨‰ΩøÁî®ÁöÑÂä†‰∏ä img Ê†áÁ≠ærelaxeda,b,blockquote,br,caption,cite,code,col,colgroup,dd,div,dl,dt,em,h1,h2,h3,h4,h5,h6,i,img,li,ol,p,pre,q,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,u,ulÂú® basicWithImages ÁöÑÂü∫Á°Ä‰∏äÂèàÂ¢ûÂä†‰∫Ü‰∏ÄÈÉ®ÂàÜÈÉ®ÂàÜÊ†áÁ≠æXssHttpServletRequestWrapperÂàõÂª∫‰∏Ä‰∏™XssHttpServletRequestWrapperÔºåÂêåËøáÈáçÂÜôgetParameter()ÔºågetParameterValues()ÂíågetHeader()ÊñπÊ≥ïÊù•ËøáÊª§HTTPËØ∑Ê±Ç‰∏≠ÂèÇÊï∞ÂåÖÂê´ÁöÑÊÅ∂ÊÑèÂ≠óÁ¨¶Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletRequestWrapper;import org.apache.commons.lang.StringUtils;import cc.mrbird.common.util.JsoupUtil;/** * JsoupËøáÊª§httpËØ∑Ê±ÇÔºåÈò≤Ê≠¢XssÊîªÂáª * */public class XssHttpServletRequestWrapper extends HttpServletRequestWrapper &#123; HttpServletRequest orgRequest = null; private boolean isIncludeRichText = false; public XssHttpServletRequestWrapper(HttpServletRequest request, boolean isIncludeRichText) &#123; super(request); orgRequest = request; this.isIncludeRichText = isIncludeRichText; &#125; /** * Ë¶ÜÁõñgetParameterÊñπÊ≥ïÔºåÂ∞ÜÂèÇÊï∞ÂêçÂíåÂèÇÊï∞ÂÄºÈÉΩÂÅöxssËøáÊª§Â¶ÇÊûúÈúÄË¶ÅËé∑ÂæóÂéüÂßãÁöÑÂÄºÔºåÂàôÈÄöËøásuper.getParameterValues(name)Êù•Ëé∑Âèñ * getParameterNames,getParameterValuesÂíågetParameterMap‰πüÂèØËÉΩÈúÄË¶ÅË¶ÜÁõñ */ @Override public String getParameter(String name) &#123; if (("content".equals(name) || name.endsWith("WithHtml")) &amp;&amp; !isIncludeRichText) &#123; return super.getParameter(name); &#125; name = JsoupUtil.clean(name); String value = super.getParameter(name); if (StringUtils.isNotBlank(value)) &#123; value = JsoupUtil.clean(value); &#125; return value; &#125; @Override public String[] getParameterValues(String name) &#123; String[] arr = super.getParameterValues(name); if (arr != null) &#123; for (int i = 0; i &lt; arr.length; i++) &#123; arr[i] = JsoupUtil.clean(arr[i]); &#125; &#125; return arr; &#125; /** * Ë¶ÜÁõñgetHeaderÊñπÊ≥ïÔºåÂ∞ÜÂèÇÊï∞ÂêçÂíåÂèÇÊï∞ÂÄºÈÉΩÂÅöxssËøáÊª§Â¶ÇÊûúÈúÄË¶ÅËé∑ÂæóÂéüÂßãÁöÑÂÄºÔºåÂàôÈÄöËøásuper.getHeaders(name)Êù•Ëé∑Âèñ * getHeaderNames ‰πüÂèØËÉΩÈúÄË¶ÅË¶ÜÁõñ */ @Override public String getHeader(String name) &#123; name = JsoupUtil.clean(name); String value = super.getHeader(name); if (StringUtils.isNotBlank(value)) &#123; value = JsoupUtil.clean(value); &#125; return value; &#125; /** * Ëé∑ÂèñÂéüÂßãÁöÑrequest */ public HttpServletRequest getOrgRequest() &#123; return orgRequest; &#125; /** * Ëé∑ÂèñÂéüÂßãÁöÑrequestÁöÑÈùôÊÄÅÊñπÊ≥ï */ public static HttpServletRequest getOrgRequest(HttpServletRequest req) &#123; if (req instanceof XssHttpServletRequestWrapper) &#123; return ((XssHttpServletRequestWrapper) req).getOrgRequest(); &#125; return req; &#125;&#125;XssFilterÂàõÂª∫XssFilterÔºåÂêåËøá‰ΩøÁî®‰∏äÈù¢ÂÆö‰πâÁöÑXssHttpServletRequestWrapperÁ±ª‰∏≠ÁöÑgetParameter()Á≠âÊñπÊ≥ïÊù•‰øùËØÅÂèÇÊï∞ÂæóÂà∞‰∫ÜËøáÊª§Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081import java.io.IOException;import java.util.ArrayList;import java.util.List;import java.util.regex.Matcher;import java.util.regex.Pattern;import javax.servlet.Filter;import javax.servlet.FilterChain;import javax.servlet.FilterConfig;import javax.servlet.ServletException;import javax.servlet.ServletRequest;import javax.servlet.ServletResponse;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.apache.commons.lang.BooleanUtils;import org.apache.commons.lang.StringUtils;import org.slf4j.Logger;import org.slf4j.LoggerFactory;/** * XssÊîªÂáªÊã¶Êà™Âô® * */public class XssFilter implements Filter &#123; private static Logger logger = LoggerFactory.getLogger(XssFilter.class); // ÊòØÂê¶ËøáÊª§ÂØåÊñáÊú¨ÂÜÖÂÆπ private static boolean IS_INCLUDE_RICH_TEXT = false; public List&lt;String&gt; excludes = new ArrayList&lt;String&gt;(); @Override public void init(FilterConfig filterConfig) throws ServletException &#123; logger.info("------------ xss filter init ------------"); String isIncludeRichText = filterConfig.getInitParameter("isIncludeRichText"); if (StringUtils.isNotBlank(isIncludeRichText)) &#123; IS_INCLUDE_RICH_TEXT = BooleanUtils.toBoolean(isIncludeRichText); &#125; String temp = filterConfig.getInitParameter("excludes"); if (temp != null) &#123; String[] url = temp.split(","); for (int i = 0; url != null &amp;&amp; i &lt; url.length; i++) &#123; excludes.add(url[i]); &#125; &#125; &#125; @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123; HttpServletRequest req = (HttpServletRequest) request; HttpServletResponse resp = (HttpServletResponse) response; if (handleExcludeURL(req, resp)) &#123; chain.doFilter(request, response); return; &#125; XssHttpServletRequestWrapper xssRequest = new XssHttpServletRequestWrapper((HttpServletRequest) request, IS_INCLUDE_RICH_TEXT); chain.doFilter(xssRequest, response); &#125; @Override public void destroy() &#123; &#125; private boolean handleExcludeURL(HttpServletRequest request, HttpServletResponse response) &#123; if (excludes == null || excludes.isEmpty()) &#123; return false; &#125; String url = request.getServletPath(); for (String pattern : excludes) &#123; Pattern p = Pattern.compile("^" + pattern); Matcher m = p.matcher(url); if (m.find()) return true; &#125; return false; &#125;&#125;Spring Boot‰∏≠ÈÖçÁΩÆXssFilter‰ΩøÁî®JavaConfigÁöÑÂΩ¢ÂºèÈÖçÁΩÆÔºö12345678910111213@Beanpublic FilterRegistrationBean xssFilterRegistrationBean() &#123; FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean(); filterRegistrationBean.setFilter(new XssFilter()); filterRegistrationBean.setOrder(1); filterRegistrationBean.setEnabled(true); filterRegistrationBean.addUrlPatterns("/*"); Map&lt;String, String&gt; initParameters = new HashMap&lt;String, String&gt;(); initParameters.put("excludes", "/favicon.ico,/img/*,/js/*,/css/*"); initParameters.put("isIncludeRichText", "true"); filterRegistrationBean.setInitParameters(initParameters); return filterRegistrationBean;&#125;ÂèÇËÄÉÊñáÁ´†Ôºöhttps://blog.csdn.net/u014411966/article/details/78164752https://www.jianshu.com/p/32abc12a175a?nomobile=yes]]></content>
      <tags>
        <tag>Security</tag>
        <tag>Jsoup</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËÖæËÆØ‰∫ëÈÉ®ÁΩ≤Java WebÈ°πÁõÆÂ∞èËÆ∞]]></title>
    <url>%2Ftecent%20cloud%20Java-Web.html</url>
    <content type="text"><![CDATA[ËøëÊúüËÖæËÆØ‰∫ëÊé®Âá∫‰∫ëÊúçÂä°Âô®Âõ¢Ë¥≠‰ºòÊÉ†ÔºåÂàöÂ•ΩÊâìÁÆóÊê≠Âª∫‰∏™FEBSÁöÑÊºîÁ§∫ÁéØÂ¢ÉÔºå‰∫éÊòØ‰π∞‰∫ÜÂè∞120/Âπ¥ÁöÑ‰∫ëÊúçÂä°Âô®ÔºåÈÖçÁΩÆ‰∏∫1Ê†∏2G„ÄÅ1MÂ∏¶ÂÆΩÔºåÂä†Ëµ†50GBÂØπË±°Â≠òÂÇ®Á©∫Èó¥ÔºåÁ≥ªÁªü‰∏∫Ubuntu 16.04„ÄÇÈÉ®ÁΩ≤ËøáÁ®ã‰∏≠ÈÅáÂà∞‰∏Ä‰∫õÊñ∞ÁöÑÈóÆÈ¢òÔºåÂú®ËøôËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇÂ∑•ÂÖ∑ÂáÜÂ§áÊê≠Âª∫ÂâçÂÖàÂáÜÂ§áÂ•ΩËøúÁ®ãÁôªÂΩïËΩØ‰ª∂ÔºåËøôÁ±ªËΩØ‰ª∂ÂæàÂ§öÔºåËøôÈáåÊé®ËçêÁöÑÊòØMobaXtermÔºõÊñá‰ª∂ÁöÑ‰∏ä‰º†‰∏ãËΩΩÊé®Ëçê‰ΩøÁî®FileZillaÔºõÊï∞ÊçÆÂ∫ìËøûÊé•Êé®Ëçê‰ΩøÁî®Navicat Premium„ÄÇJavaÁéØÂ¢ÉÊê≠Âª∫JavaÁéØÂ¢ÉÁöÑÊê≠Âª∫ÂèØÂèÇËÄÉÔºàÂåÖÊã¨ÂÆâË£ÖJDKÔºåMySQLÔºâÔºöubuntu16-04Êê≠Âª∫JavaÂºÄÂèëÁéØÂ¢É„ÄÇTomcat‰∏ãËΩΩÂêéËß£ÂéãÂç≥ÂèØ„ÄÇËøúÁ®ãËøûÊé•MySQLÂºÄÂêØMySQLËøúÁ®ãËøûÊé•ÁöÑÂâçÊèêÊòØÂú®ÂÆâË£ÖMySQLÂàùÂßãÂåñÁöÑÊó∂ÂÄôÂÖÅËÆ∏ËøúÁ®ãËøûÊé•ÔºåÁÑ∂ÂêéËæìÂÖ•‰ª•‰∏ãÂëΩ‰ª§Ôºö1mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'root'@'%'IDENTIFIED BY '123456' WITH GRANT OPTION;ËøôÊÆµËØùÁöÑÊÑèÊÄùÊòØÂÖÅËÆ∏‰ªª‰ΩïIP‰ª•rootË¥¶Êà∑ËøúÁ®ãËÆøÈóÆÔºåÂØÜÁ†Å‰∏∫123456„ÄÇËøôÈáåÁöÑÂØÜÁ†ÅËÆæÂÆöÂè™ÊòØ‰∏∫‰∫ÜÊºîÁ§∫ÔºåÂÆûÈôÖÂøÖÈ°ªÊª°Ë∂≥Âú®ÂàùÂßãÂåñMySQLÊó∂ÂØÜÁ†ÅÂº∫Â∫¶ÁöÑËÆæÂÆöÔºåÂç≥validate_password_policyÔºöPolicyTests Performed0&nbsp;or&nbsp;LOWLength1&nbsp;or&nbsp;MEDIUMLength; numeric, lowercase/uppercase, and special characters2&nbsp;or&nbsp;STRONGLength; numeric, lowercase/uppercase, and special characters; dictionary fileÂΩìÂØÜÁ†ÅÂº∫Â∫¶ÂíåËÆæÂÆöÁöÑ‰∏ç‰∏ÄËá¥Êó∂ÔºåMySQLÊèêÁ§∫ Your password does not satisfy the current policy requirementsÈîôËØØ„ÄÇÁÑ∂ÂêéÊâßË°å‰∏Ä‰∏ãËØ≠Âè•Ôºå‰ΩøÂæóËÆæÂÆöÁîüÊïàÔºö1mysql&gt; FLUSH PRIVILEGES;Êé•‰∏ãÊù•‰ΩøÁî®NavicatËøúÁ®ãËøûÊé•MySQLÔºåÊâìÂºÄNavicatÔºåÊñ∞Âª∫MySQLËøûÊé•ÔºöIPÂ°´‰∫ëÊúçÂä°Âô®ÁöÑÂÖ¨ÁΩëIPÂú∞ÂùÄÔºåÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰∏∫‰∏äÈù¢ËÆæÂÆöÁöÑrootÂíå123456„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåËøòÂæóÂ°´ÂÜôSSHËøûÊé•‰ø°ÊÅØÔºöIPÂ°´‰∫ëÊúçÂä°Âô®ÁöÑÂÖ¨ÁΩëIPÂú∞ÂùÄÔºåÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰∏∫‰∫ëÊúçÂä°Âô®ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇÁÇπÂáªËøûÊé•ÊµãËØïÂêéÂèëÁé∞NavicatÊä•ÈîôÔºöLost connection to MySQL server at &#39;reading initial communication packet&#39;, system error: 0ÊâìÂºÄMySQLÈÖçÁΩÆÔºö1vim /etc/mysql/mysql.conf.d/mysqld.cnfÊâæÂà∞[mysqld]ÔºåÊ∑ªÂä†skip-name-resolveÔºåÂπ∂Â∞Übind-address= 127.0.0.1ÈÖçÁΩÆÊ≥®ÈáäÊéâÂç≥ÂèØÔºåÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÁÑ∂ÂêéÂÜçÊ¨°ÁÇπÂáªNavicatËøûÊé•ÊµãËØïÂç≥ÂèØÊàêÂäü„ÄÇÈ°πÁõÆÈÉ®ÁΩ≤Âú®Êú¨Âú∞Â∞ÜÈ°πÁõÆÊâìÂåÖÂêéÔºå‰ΩøÁî®FileZillaÂ∞ÜÈ°πÁõÆ‰∏ä‰º†Âà∞TomcatÁöÑwebappÁõÆÂΩï‰∏ãÔºåËøêË°åbinÁõÆÂΩï‰∏ãÁöÑstartup.shËÑöÊú¨Âç≥ÂèØ„ÄÇÂüüÂêçÁªëÂÆöÂ¶Ç‰∏ãÊñ∞Â¢ûÂüüÂêçËß£ÊûêÔºöËÆ∞ÂΩïÂÄº‰∏∫‰∫ëÊúçÂä°Âô®ÁöÑÂÖ¨ÁΩëIPÂú∞ÂùÄ„ÄÇÈÖçÁΩÆËß£ÊûêÂêéÔºåÂ∞±ÂèØ‰ΩøÁî® ÂüüÂêç:Á´ØÂè£Âè∑/È°πÁõÆÂêç ÁöÑÂΩ¢ÂºèËÆøÈóÆ‰∫Ü„ÄÇÊØîÂ¶Çhttp://demo.mrbird.cc:80/febs/loginÔºåÁ´ØÂè£Âè∑ÈªòËÆ§Â∞±ÊòØ80ÔºåÊâÄ‰ª•ÂèØ‰ª•ÁÆÄÂÜô‰∏∫http://demo.mrbird.cc/febs/login„ÄÇ]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>‰∫ëÊúçÂä°Âô®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âü∫‰∫éSpring BootÂíåShiroÁöÑÂêéÂè∞ÁÆ°ÁêÜÁ≥ªÁªüFEBS]]></title>
    <url>%2FSpring-Boot%20Shiro%20FEBS.html</url>
    <content type="text"><![CDATA[FEBSÊòØ‰∏Ä‰∏™ÁÆÄÂçïÈ´òÊïàÁöÑÂêéÂè∞ÊùÉÈôêÁÆ°ÁêÜÁ≥ªÁªü„ÄÇÈ°πÁõÆÂü∫Á°ÄÊ°ÜÊû∂ÈááÁî®ÂÖ®Êñ∞ÁöÑJava WebÂºÄÂèëÊ°ÜÊû∂ ‚Äî‚Äî Spring Boot2.0.3ÔºåÊ∂àÈô§‰∫ÜÁπÅÊùÇÁöÑXMLÈÖçÁΩÆÔºå‰ΩøÂæó‰∫åÊ¨°ÂºÄÂèëÊõ¥‰∏∫ÁÆÄÂçïÔºõÊï∞ÊçÆËÆøÈóÆÂ±ÇÈááÁî®MybatisÔºåÂêåÊó∂ÂºïÂÖ•‰∫ÜÈÄöÁî®MapperÂíåPageHelperÊèí‰ª∂ÔºåÂèØÂø´ÈÄüÈ´òÊïàÁöÑÂØπÂçïË°®ËøõË°åÂ¢ûÂà†ÊîπÊü•Êìç‰ΩúÔºåÊ∂àÈô§‰∫ÜÂ§ßÈáè‰º†ÁªüXMLÈÖçÁΩÆSQLÁöÑ‰ª£Á†ÅÔºõÂÆâÂÖ®Ê°ÜÊû∂ÈááÁî®Êó∂‰∏ãÊµÅË°åÁöÑApache ShiroÔºåÂèØÂÆûÁé∞ÂØπÊåâÈíÆÁ∫ßÂà´ÁöÑÊùÉÈôêÊéßÂà∂ÔºõÂâçÁ´ØÈ°µÈù¢‰ΩøÁî®BootstrapÊûÑÂª∫Ôºå‰∏ªÈ¢òÈ£éÊ†º‰∏∫Êó∂‰∏ãGoogleÊúÄÊñ∞ËÆæËÆ°ËØ≠Ë®ÄMaterial DesignÔºåÂπ∂Êèê‰æõÂ§öÂ•óÈÖçËâ≤‰ª•‰æõÈÄâÊã©„ÄÇFEBSÊÑèÊåáÔºöFastÔºåEasy useÔºåBeautifulÂíåSafe„ÄÇÂäüËÉΩÊ®°ÂùóÁ≥ªÁªüÂäüËÉΩÊ®°ÂùóÁªÑÊàêÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314151617181920212223242526272829303132|-------------------------------------------|| ______ ______ ____ _____ || | ____| ____| _ \ / ____| || | |__ | |__ | |_) | (___ || | __| | __| | _ &lt; \___ \ || | | | |____| |_) |____) | || |_| |______|____/|_____/ || Spring-Boot-Version: 2.0.3.RELEASE ||-------------------------------------------|‚îú‚îÄÁ≥ªÁªüÁÆ°ÁêÜ‚îÇ ‚îú‚îÄÂ≠óÂÖ∏ÁÆ°ÁêÜ‚îÇ ‚îú‚îÄÁî®Êà∑ÁÆ°ÁêÜ‚îÇ ‚îú‚îÄËèúÂçïÁÆ°ÁêÜ‚îÇ ‚îú‚îÄËßíËâ≤ÁÆ°ÁêÜ‚îÇ ‚îî‚îÄÈÉ®Èó®ÁÆ°ÁêÜ‚îú‚îÄÁ≥ªÁªüÁõëÊéß‚îÇ ‚îú‚îÄÂú®Á∫øÁî®Êà∑‚îÇ ‚îî‚îÄÁ≥ªÁªüÊó•Âøó‚îú‚îÄ‰ªªÂä°Ë∞ÉÂ∫¶‚îÇ ‚îú‚îÄÂÆöÊó∂‰ªªÂä°‚îÇ ‚îî‚îÄË∞ÉÂ∫¶Êó•Âøó‚îî‚îÄÁΩëÁªúËµÑÊ∫ê ‚îú‚îÄOne‰∏Ä‰∏™ ‚îÇ ‚îú‚îÄÊï£Êñá ‚îÇ ‚îú‚îÄÁªòÁîª ‚îÇ ‚îî‚îÄËØ≠Êñá ‚îú‚îÄÂ§©Ê∞îÊü•ËØ¢ ‚îú‚îÄÂΩ±ËßÜËµÑËÆØ ‚îÇ ‚îú‚îÄÂç≥Â∞Ü‰∏äÊò† ‚îÇ ‚îî‚îÄÊ≠£Âú®ÁÉ≠Êò† ‚îî‚îÄÊØèÊó•‰∏ÄÊñáÊäÄÊúØÈÄâÂûãÂêéÁ´ØÂü∫Á°ÄÊ°ÜÊû∂ÔºöSpring Boot 2.0.3.RELEASEÊåÅ‰πÖÂ±ÇÊ°ÜÊû∂ÔºöMybatis 3.4.5ÂÆâÂÖ®Ê°ÜÊû∂ÔºöApache Shiro 1.4.0Êë∏ÊùøÂºïÊìéÔºöThymeleaf 3.0.9.RELEASEÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†ÔºöÈòøÈáåÂ∑¥Â∑¥Druid 1.1.10ÁºìÂ≠òÊ°ÜÊû∂ÔºöEhcacheÊó•ÂøóÊâìÂç∞ÔºölogbackÂÖ∂‰ªñÔºöfastjsonÔºåpoiÔºåjavacsvÔºåquartzÁ≠â„ÄÇÂâçÁ´ØÂü∫Á°ÄÊ°ÜÊû∂ÔºöBootstrap 4JavaScriptÊ°ÜÊû∂ÔºöjQueryÊ∂àÊÅØÁªÑ‰ª∂ÔºöBootstrap notifyÊèêÁ§∫Ê°ÜÊèí‰ª∂ÔºöSweetAlert2Ê†ëÂΩ¢Êèí‰ª∂ÔºöjsTreeÊ†ëÂΩ¢Ë°®Ê†ºÊèí‰ª∂ÔºöjqTreeGridË°®Ê†ºÊèí‰ª∂ÔºöBootstrapTableË°®ÂçïÊ†°È™åÊèí‰ª∂ÔºöjQuery-validateÂ§öÈÄâ‰∏ãÊãâÊ°ÜÊèí‰ª∂Ôºömultiple-selectÂõæË°®Êèí‰ª∂ÔºöHighchartsÊó∂Èó¥Êèí‰ª∂ÔºödaterangepickerÂºÄÂèëÁéØÂ¢ÉËØ≠Ë®ÄÔºöJava 8IDEÔºöEclipse Oxygen &amp; IDEA 2018.1.4(Ultimate Edition)‰æùËµñÁÆ°ÁêÜÔºöMavenÊï∞ÊçÆÂ∫ìÔºöOracle 11g &amp; MySQL5.7ÁâàÊú¨ÁÆ°ÁêÜÔºöSVNÔºågitÁ≥ªÁªüÈ¢ÑËßà‰∏ªÈ¢òÈ¢ÑËßà‰∏ãËΩΩÈÉ®ÁΩ≤Á†Å‰∫ëÂú∞ÂùÄÔºö https://gitee.com/github-16661027/projectGitHub Âú∞ÂùÄÔºö https://github.com/wuyouzhuguli/FEBS‰∏ãËΩΩÂêé‰ª•MavenÈ°πÁõÆÁöÑÊñπÂºèÂØºÂÖ•EclipseÊàñËÄÖIDEA„ÄÇÂºÄÂèëÊó∂Áõ¥Êé•‰ΩøÁî®Spring BootÁöÑÂÖ•Âè£Á±ªcc.mrbird.ApplicationÂêØÂä®Âç≥ÂèØÔºåËÆøÈóÆÂú∞ÂùÄlocalhost:8080ÔºåË¥¶Âè∑mrbirdÔºåÂØÜÁ†Å123456„ÄÇÈÉ®ÁΩ≤Êó∂Ôºå‰ΩøÁî®MavenÂ∞ÜÈ°πÁõÆÊâìÂåÖÊàêfebs.jarÔºåÁÑ∂Âêé‰ΩøÁî®ÂëΩ‰ª§java -jar febs.jarÂêØÂä®Âç≥ÂèØ„ÄÇÂú®Linux‰∏ãÈÉ®ÁΩ≤Spring Boot jarÔºåÂπ∂ÁºñÂÜôÂêØÂÅúËÑöÊú¨ÂèØÂèÇËÄÉÈìæÊé•https://mrbird.cc/Linux%20Spring-Boot-jar.html„ÄÇÂ∏∏ËßÅÈóÆÈ¢òÂ¶Ç‰Ωï‰∏ãËΩΩ‰ª£Á†ÅÊâãÂä®‰∏ãËΩΩ‰∏ãËΩΩOracleÁâàÊú¨ÔºöÂàÜÊîØÈÄâÊã©masterÔºåÁÑ∂ÂêéÁÇπÂáª download zipÂç≥ÂèØÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö‰∏ãËΩΩMySQLÁâàÊú¨ÔºöÂàÜÊîØÈÄâÊã©mysqlÔºåÁÑ∂ÂêéÁÇπÂáª download zipÂç≥ÂèØÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöGitÂëΩ‰ª§‰∏ãËΩΩoracleÁâàÊú¨Ôºö1git clone https://github.com/wuyouzhuguli/FEBS.git‰∏ãËΩΩmysqlÁâàÊú¨Ôºö1git clone -b mysql https://github.com/wuyouzhuguli/FEBS.gitServlet‰æùËµñÈóÆÈ¢òÂêØÂä®È°πÁõÆÂêéÊä•Servlet‰æùËµñÊú™ÊâæÂà∞ÔºåÊØîÂ¶ÇÔºöPost-processing of merged bean definition failed; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletRequestÂá∫Áé∞Ëøô‰∏™ÈóÆÈ¢ò‰∏ÄËà¨ÊòØ‰ΩøÁî®IDEAÁöÑÂêåÂ≠¶ÔºåËß£ÂÜ≥ÂäûÊ≥ïÔºöÊâìÂºÄpomÊñá‰ª∂ÔºåÁÑ∂Âêé‰∏ãÂõæ‰∏≠ÁöÑ&lt;scope&gt;provided&lt;/scope&gt;ÂéªÊéâÔºöË°®‰∏çÂ≠òÂú®Ëøô‰∏™ÈóÆÈ¢ò‰∏ÄËà¨Âá∫Áé∞Âú®LinuxÁéØÂ¢É‰∏ãÁöÑMySQLÊï∞ÊçÆÂ∫ì‰∏≠ÔºåLinux‰∏ãÁöÑMySQLÊï∞ÊçÆÂ∫ìÈªòËÆ§ÂºÄÂêØ‰∫ÜÂ§ßÂ∞èÂÜôÊïèÊÑüÔºåÂç≥t_userÂíåT_USERÊòØ‰∏§‰∏™ÂÆåÂÖ®‰∏çÂêåÁöÑË°®„ÄÇËß£ÂÜ≥ÂäûÊ≥ïÔºöÂ∞Ü‰ª£Á†Å‰∏≠ÁöÑË°®ÂêçÂ§ßÂ∞èÂÜôÊîπ‰∏∫ÂíåÊï∞ÊçÆÂ∫ì‰∏ÄËá¥Ôºà‰∏çÊé®ËçêÔºÅÁπÅÁêêÂèàÂÆπÊòìÂá∫ÈîôÔºâÔºõÂÖ≥Èó≠MySQLÂ§ßÂ∞èÂÜôÊïèÊÑüÔºåÂèØÂèÇËÄÉÔºöhttps://blog.csdn.net/fdipzone/article/details/73692929„ÄÇOracleÈ©±Âä®‰æùËµñÈóÆÈ¢ò‰ª•ojdbc6‰∏∫‰æãÔºåÁî±‰∫éÁâàÊùÉÁöÑÂéüÂõ†ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞Üojdbc6.jar‰æùËµñÂÆâË£ÖÂà∞Êú¨Âú∞ÁöÑmaven‰ªìÂ∫ìÔºåÁÑ∂ÂêéÊâçÂèØ‰ª•Âú®pom‰∏≠ËøõË°åÈÖçÁΩÆ„ÄÇ‰∏ãËΩΩojdbc6.jarÊñá‰ª∂ÂêéÔºåÂ∞ÜÂÖ∂ÊîæÂà∞ÊØîËæÉÂ•ΩÊâæÁöÑÁõÆÂΩï‰∏ãÔºåÊØîÂ¶ÇDÁõòÊ†πÁõÆÂΩï„ÄÇÁÑ∂ÂêéËøêË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö1234567891011121314C:\Users\Administrator&gt;mvn install:install-file -Dfile=D:/ojdbc6.jar -DgroupId=com.oracle -DartifactId=ojdbc6 -Dversion=6.0 -Dpackaging=jar -DgeneratePom=true...[INFO] --- maven-install-plugin:2.4:install-file (default-cli) @ standalone-pom ---[INFO] Installing D:\ojdbc6.jar to D:\m2\repository\com\oracle\ojdbc6\6.0\ojdbc6-6.0.jar[INFO] Installing C:\Users\ADMINI~1\AppData\Local\Temp\mvninstall9103688544010617483.pom to D:\m2\repository\com\oracle\ojdbc6\6.0\ojdbc6-6.0.pom[INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 0.940 s[INFO] Finished at: 2017-08-13T15:06:38+08:00[INFO] Final Memory: 6M/145M[INFO] ------------------------------------------------------------------------Êé•ÁùÄÂú®pom‰∏≠ÂºïÂÖ•Ôºö12345&lt;dependency&gt; &lt;groupId&gt;com.oracle&lt;/groupId&gt; &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt; &lt;version&gt;6.0&lt;/version&gt;&lt;/dependency&gt;ËøôÈáåÁöÑgroupidÂ∞±ÊòØ‰Ω†‰πãÂâçÂÆâË£ÖÊó∂ÊåáÂÆöÁöÑ-DgroupidÁöÑÂÄºÔºåartifactidÂ∞±ÊòØ‰Ω†ÂÆâË£ÖÊó∂ÊåáÂÆöÁöÑ-DartifactidÁöÑÂÄºÔºåversion‰πü‰∏ÄÊ†∑„ÄÇ]]></content>
      <tags>
        <tag>Shiro</tag>
        <tag>Java</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê†ëÂΩ¢Êèí‰ª∂jsTree]]></title>
    <url>%2F%E6%A0%91%E5%BD%A2%E6%8F%92%E4%BB%B6jsTree.html</url>
    <content type="text"><![CDATA[jsTreeÊòØ‰∏ÄÊ¨æÂü∫‰∫éjQueryÁöÑÊ†ëÂΩ¢Êéß‰ª∂ÔºåÂÖ∑ÊúâÊâ©Â±ïÊÄßÂº∫ÔºåÂèØÁºñËæëÂíåÂèØÈÖçÁΩÆÁöÑÁâπÊÄßÔºåÊîØÊåÅHTMLÔºåJSONÂíåAjaxÊï∞ÊçÆÂä†ËΩΩ„ÄÇjsTreeÂÆòÁΩëÂú∞ÂùÄÔºöhttps://www.jstree.com/„ÄÇËøôÈáå‰∏ªË¶Å‰ªãÁªçÁöÑÊòØÂü∫‰∫éAjax‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÊï∞ÊçÆÔºåÁÑ∂ÂêéÁîüÊàêÊ†ëÂΩ¢ËèúÂçïÁöÑÁî®Ê≥ï„ÄÇjsTreeÁöÑÁöÆËÇ§ÂèØ‰ª•Ëá™Áî±ÂÆöÂà∂ÔºåÊú¨Êñá‰ΩøÁî®ÁöÑÊòØ‰∏ÄÊ¨æÁ¨¨‰∏âÊñπjsTreeÁöÆËÇ§„ÄÇÂºïÂÖ•‰æùËµñÂõ†‰∏∫ÂÖ∂Âü∫‰∫éjQueryÔºåÊâÄ‰ª•ÂºïÂÖ•jsTree‰æùËµñÂâçÂæóÂÖàÂºïÂÖ•jQueryÔºö1234&lt;!-- jQuery --&gt;&lt;script src="https://cdn.bootcss.com/jquery/2.2.0/jquery.min.js"&gt;&lt;/script&gt;&lt;!-- jsTree --&gt;&lt;script src="https://cdn.bootcss.com/jstree/3.3.5/jstree.min.js"&gt;&lt;/script&gt;Áî±‰∫éÁ¨¨‰∏âÊñπÁöÆËÇ§Ê≤°ÊúâCDNÂú∞ÂùÄÔºåÊâÄ‰ª•Êàë‰ª¨‰∏ãËΩΩÂà∞Êú¨Âú∞ÂêéÊâãÂä®ÂºïÂÖ•ÔºàÂèØÂú®ÊñáÊú´ÂæóÊ∫êÁ†Å‰∏≠Ëé∑ÂèñÔºâÔºö1&lt;link rel="stylesheet" data-th-href="@&#123;css/jsTree/style.min.css&#125;"&gt;ÁöÆËÇ§È¢ÑËßàÔºö Êï∞ÊçÆÂáÜÂ§áÊú¨ÊñáÁî®Âà∞ÁöÑÊï∞ÊçÆË°®Ôºö12345678910111213141516171819202122-- ------------------------------ Table structure for T_DEPT-- ----------------------------DROP TABLE "MRBIRD"."T_DEPT";CREATE TABLE "MRBIRD"."T_DEPT" ("DEPT_ID" NUMBER NOT NULL ,"PARENT_ID" NUMBER NOT NULL ,"DEPT_NAME" VARCHAR2(100 BYTE) NOT NULL ,"ORDER_NUM" NUMBER NULL ,"CREATE_TIME" DATE NULL );-- ------------------------------ Records of T_DEPT-- ----------------------------INSERT INTO "MRBIRD"."T_DEPT" VALUES ('1', '0', 'ÂºÄÂèëÈÉ®', null, TO_DATE('2018-01-04 15:42:26', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('3', '1', 'ÂºÄÂèë‰∫åÈÉ®', null, TO_DATE('2018-01-04 15:42:29', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('5', '0', '‰∫∫‰∫ãÈÉ®', null, TO_DATE('2018-01-04 15:42:32', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('2', '1', 'ÂºÄÂèë‰∏ÄÈÉ®', null, TO_DATE('2018-01-04 15:42:34', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('4', '0', 'Â∏ÇÂú∫ÈÉ®', null, TO_DATE('2018-01-04 15:42:36', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('6', '0', 'ÊµãËØïÈÉ®', null, TO_DATE('2018-01-04 15:42:38', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('7', '2', '‰∏ÄÈÉ®ÂàÜÈÉ®', null, TO_DATE('2018-03-16 10:46:31', 'YYYY-MM-DD HH24:MI:SS'));ÂêéÁ´ØÊ°ÜÊû∂‰∏∫Spring Boot + MybatisÔºàÈÄöÁî®mapperÔºâÔºåÁî±‰∫éÊú¨ÊñáÁöÑÈáçÁÇπÊòØjsTreeÁöÑ‰ΩøÁî®ÔºåÊâÄ‰ª•Ëé∑ÂèñÊï∞ÊçÆÁöÑÁªÜËäÇÂíåÊï∞ÊçÆÊ†ºÂºèÁöÑÂ§ÑÁêÜËøôÈáå‰∏çÂÅöÈòêËø∞ÔºåÂÖ∑‰ΩìÂèØÂèÇËÄÉÊñáÊú´ÁöÑÊ∫êÁ†Å„ÄÇÊúÄÁªàÈÄöËøáAjaxËé∑ÂèñÂà∞ÁöÑJSONÊï∞ÊçÆÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102&#123; "code": 0, "msg": &#123; "id": "0", "icon": null, "url": null, "text": "Ê†πËäÇÁÇπ", "state": &#123; "opened": true &#125;, "checked": true, "attributes": null, "children": [&#123; "id": "1", "icon": null, "url": null, "text": "ÂºÄÂèëÈÉ®", "state": null, "checked": false, "attributes": null, "children": [&#123; "id": "3", "icon": null, "url": null, "text": "ÂºÄÂèë‰∫åÈÉ®", "state": null, "checked": false, "attributes": null, "children": [], "parentId": "1", "hasParent": true, "hasChildren": false &#125;, &#123; "id": "2", "icon": null, "url": null, "text": "ÂºÄÂèë‰∏ÄÈÉ®", "state": null, "checked": false, "attributes": null, "children": [&#123; "id": "7", "icon": null, "url": null, "text": "‰∏ÄÈÉ®ÂàÜÈÉ®", "state": null, "checked": false, "attributes": null, "children": [], "parentId": "2", "hasParent": true, "hasChildren": false &#125;], "parentId": "1", "hasParent": true, "hasChildren": true &#125;], "parentId": "0", "hasParent": false, "hasChildren": true &#125;, &#123; "id": "5", "icon": null, "url": null, "text": "‰∫∫‰∫ãÈÉ®", "state": null, "checked": false, "attributes": null, "children": [], "parentId": "0", "hasParent": false, "hasChildren": false &#125;, &#123; "id": "4", "icon": null, "url": null, "text": "Â∏ÇÂú∫ÈÉ®", "state": null, "checked": false, "attributes": null, "children": [], "parentId": "0", "hasParent": false, "hasChildren": false &#125;, &#123; "id": "6", "icon": null, "url": null, "text": "ÊµãËØïÈÉ®", "state": null, "checked": false, "attributes": null, "children": [], "parentId": "0", "hasParent": false, "hasChildren": false &#125;], "parentId": "", "hasParent": false, "hasChildren": true &#125;&#125;Âü∫Êú¨‰ΩøÁî®ÊñπÊ≥ï‰ΩøÁî®Ajax‰ªéÂêéÂè∞Ëé∑ÂèñÂà∞Â¶Ç‰∏äÊâÄÁ§∫Ê†ºÂºèÁöÑJSONÊï∞ÊçÆÔºà‰πüÂ∞±ÊòØr.msgÔºâ,ÁÑ∂Âêé‰ΩøÁî®jsTreeÁîüÊàêÊ†ëÂΩ¢Êéß‰ª∂ÔºöHTML:1&lt;div id="deptTree"&gt;&lt;/div&gt;JavaScript:1234567891011121314151617&lt;script data-th-inline="javascript"&gt;var ctx = [[@&#123;/&#125;]];$(function() &#123; createDeptTree();&#125;);function createDeptTree() &#123; $.post(ctx + "dept/tree", &#123;&#125;, function(r) &#123; var data = r.msg; $('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125; &#125;); &#125;)&#125;&lt;/script&gt;ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºödiv.deptTree{padding:1rem;width:25%;border:1px solid #efefef}$("#deptTree1").jstree({core:{data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}]}})Â∏∏Áî®Êìç‰Ωú‰∏äÈù¢‰ªãÁªç‰∫ÜÊúÄÂü∫Êú¨ÁöÑjsTree‰ΩøÁî®ÊñπÊ≥ïÔºå‰∏ãÈù¢ÂºÄÂßã‰ªãÁªç‰∏Ä‰∫õÂ∏∏Áî®ÁöÑjsTreeÊìç‰Ωú„ÄÇÊòæÁ§∫CheckboxJavaScript‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125;, "plugins" : [ "checkbox" ]&#125;);ÊòæÁ§∫ÊïàÊûúÂ¶Ç‰∏ãÔºö$("#deptTree2").jstree({core:{data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}]},plugins:["checkbox"]})Ê≠§Êó∂ÔºåË¢´ÈÄâ‰∏≠ÁöÑÈÄâÈ°πÈªòËÆ§‰ºöÊúâÊµÖËìùËâ≤ÁöÑËÉåÊôØÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÂéªÈô§ÔºåÂè™ÈúÄÂ∞Üjs‰ª£Á†ÅÊîπ‰∏∫Ôºö123456789$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125;, "plugins" : [ "checkbox" ], "checkbox" : &#123; "keep_selected_style" : false &#125;&#125;);ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö$("#deptTree3").jstree({core:{data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}]},plugins:["checkbox"],checkbox:{keep_selected_style:!1}})WholerowÊèí‰ª∂ËØ•Êèí‰ª∂ÂèØ‰ª•ÁªôÈÄâ‰∏≠ÁöÑÈ°πÁõÆÊàñËÄÖhoverÁöÑÈ°πÁõÆÊ∑ªÂä†‰∏Ä‰∏™Ë°åÁ∫ßÂà´ÁöÑËÉåÊôØËâ≤Ôºåjs‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123456$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125;, "plugins" : [ "checkbox", "wholerow" ]&#125;);ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö$("#deptTree4").jstree({core:{data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}]},plugins:["checkbox","wholerow"]})Ê∑ªÂä†ËØ•Êèí‰ª∂ÂêéÔºåÊéß‰ª∂ÂâçÁöÑËôöÁ∫øÊ≤°‰∫ÜÔºåÂÖ∑‰ΩìÂéüÂõ†Êú™Áü•=„ÄÇ=ÂèñÊ∂àÁà∂Â≠êÂÖ≥ËÅîÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÈÄâ‰∏≠Áà∂ËäÇÁÇπÂêéÔºåÂÖ∂‰∏ãÁöÑÊâÄÊúâÂ≠êËäÇÁÇπ‰πü‰ºöË∑üÁùÄË¢´ÈÄâ‰∏≠ÔºåÂèñÊ∂àÁà∂Â≠êËäÇÁÇπÂÖ≥ËÅîÂè™ÈúÄÊ∑ªÂä†&quot;checkbox&quot;: {&quot;three_state&quot;: false}Âç≥ÂèØÔºö123456789$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125;, "plugins" : [ "checkbox" ], "checkbox": &#123; "three_state": false // ÂèñÊ∂àÈÄâÊã©Áà∂ËäÇÁÇπÂêéÈÄâ‰∏≠ÊâÄÊúâÂ≠êËäÇÁÇπ &#125;,&#125;);ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö$("#deptTree5").jstree({core:{data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}]},plugins:["checkbox"],checkbox:{three_state:!1}})ËÆæÁΩÆÂçïÈÄâËÆæÁΩÆÂçïÈÄâÁöÑÂâçÊèêÊòØÂøÖÈ°ªÂÖàÂèñÊ∂àÁà∂Â≠êÂÖ≥ËÅîÔºåÁÑ∂ÂêéÂú®coreÈáåÊ∑ªÂä†Ôºö12345678910$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children, 'multiple': false // ÂèñÊ∂àÂ§öÈÄâ &#125;, "plugins" : [ "checkbox" ], "checkbox": &#123; "three_state": false // ÂèñÊ∂àÈÄâÊã©Áà∂ËäÇÁÇπÂêéÈÄâ‰∏≠ÊâÄÊúâÂ≠êËäÇÁÇπ &#125;,&#125;);ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö$("#deptTree6").jstree({core:{data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}],multiple:!1},plugins:["checkbox"],checkbox:{three_state:!1}})ÂÖ®ÈÉ®Â±ïÂºÄÂ¶ÇÊûúÈúÄË¶ÅÂàùÂßãÂåñÊéß‰ª∂ÁöÑÊó∂ÂÄôÂ±ïÂºÄÊ†ëÔºåÂèØË∞ÉÁî®jsTreeÁöÑopen_all()ÊñπÊ≥ïÔºö12345678$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125;, "plugins" : [ "checkbox" ]&#125;).on("loaded.jstree", function (event, data) &#123; $('#deptTree').jstree().open_all();&#125;);ÊàñËÄÖËÆæÁΩÆstateÔºö123456789$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125;, "plugins" : [ "checkbox", "state" ], 'state': &#123; "opened": true, &#125;&#125;);ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö$("#deptTree7").jstree({core:{state:{opened:!0},data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}]},plugins:["checkbox"]}).on("loaded.jstree",function(e,l){$("#deptTree7").jstree().open_all()})ÈªòËÆ§ÈÄâ‰∏≠jsTreeÂèØ‰ª•Âú®ÂàùÂßãÂåñÂêéÈªòËÆ§ÈÄâ‰∏≠Êüê‰∫õËäÇÁÇπÔºö12345678910111213$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125;, "plugins" : [ "checkbox" ], "checkbox": &#123; "three_state": false &#125;,&#125;).on("loaded.jstree", function (event, data) &#123; $('#deptTree').jstree().open_all(); $('#deptTree').jstree('select_node', [5, 7], true); console.log($('#deptTree').jstree(true).get_selected()); // ["5", "7"]&#125;);ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö$("#deptTree8").jstree({core:{data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}]},plugins:["checkbox"],checkbox:{three_state:!1}}).on("loaded.jstree",function(e,l){$("#deptTree8").jstree().open_all(),$("#deptTree8").jstree("select_node",[5,7],!0)})ÁªëÂÆöÈÄâÂèñÁõëÂê¨jsTreeÂèØ‰ª•Âú®ÈÄâ‰∏≠ÂíåÂèñÊ∂àÈÄâ‰∏≠ÁöÑÊó∂ÂÄôÁªëÂÆöÁõëÂê¨‰∫ã‰ª∂Ôºö123456789$('#deptTree').jstree(&#123; "core": &#123; 'data': data.children &#125;, "plugins" : [ "checkbox" ]&#125;).on("changed.jstree", function (e, data) &#123; console.log(data.changed.selected); // newly selected console.log(data.changed.deselected); // newly deselected&#125;);ÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö$("#deptTree9").jstree({core:{data:[{id:"1",icon:null,url:null,text:"ÂºÄÂèëÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"3",icon:null,url:null,text:"ÂºÄÂèë‰∫åÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"1",hasParent:!0,hasChildren:!1},{id:"2",icon:null,url:null,text:"ÂºÄÂèë‰∏ÄÈÉ®",state:null,checked:!1,attributes:null,children:[{id:"7",icon:null,url:null,text:"‰∏ÄÈÉ®ÂàÜÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"2",hasParent:!0,hasChildren:!1}],parentId:"1",hasParent:!0,hasChildren:!0}],parentId:"0",hasParent:!1,hasChildren:!0},{id:"5",icon:null,url:null,text:"‰∫∫‰∫ãÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"4",icon:null,url:null,text:"Â∏ÇÂú∫ÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1},{id:"6",icon:null,url:null,text:"ÊµãËØïÈÉ®",state:null,checked:!1,attributes:null,children:[],parentId:"0",hasParent:!1,hasChildren:!1}]},plugins:["checkbox","changed"],checkbox:{three_state:!1}}).on("loaded.jstree",function(e,l){$("#deptTree9").jstree().open_all()}).on("changed.jstree",function(e,l){l.changed.selected.length&&alert("ÈÄâ‰∏≠ËäÇÁÇπIDÔºö"+l.changed.selected),l.changed.deselected.length&&alert("ÂèñÊ∂àÈÄâ‰∏≠ËäÇÁÇπIDÔºö"+l.changed.deselected)})ÈôÑÂΩïÂÖ∂‰ªñÊñπÊ≥ïÂíåÂ±ûÊÄßÂèØÂèÇËÄÉÂÆòÊñπÊñáÊ°£ÔºàÂÆòÊñπÊñáÊ°£ÂÜôÁöÑÊØîËæÉÊäΩË±°=„ÄÇ=ÔºâÔºöhttps://www.jstree.com/api/„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://drive.google.com/open?id=17rdibWmH9CunPP9vs9sQrJPj5FefzoHj]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQuery ValidateË°®ÂçïÊ†°È™åÊèí‰ª∂]]></title>
    <url>%2FjQuery-Validate.html</url>
    <content type="text"><![CDATA[jQuery Validate Êèí‰ª∂‰∏∫Ë°®ÂçïÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÈ™åËØÅÂäüËÉΩÔºåËÆ©ÂÆ¢Êà∑Á´ØË°®ÂçïÈ™åËØÅÂèòÂæóÊõ¥ÁÆÄÂçïÔºåÂêåÊó∂Êèê‰æõ‰∫ÜÂ§ßÈáèÁöÑÂÆöÂà∂ÈÄâÈ°πÔºåÊª°Ë∂≥Â∫îÁî®Á®ãÂ∫èÂêÑÁßçÈúÄÊ±Ç„ÄÇËØ•Êèí‰ª∂ÊçÜÁªë‰∫Ü‰∏ÄÂ•óÊúâÁî®ÁöÑÈ™åËØÅÊñπÊ≥ïÔºåÂåÖÊã¨ URL ÂíåÁîµÂ≠êÈÇÆ‰ª∂È™åËØÅÔºåÂêåÊó∂Êèê‰æõ‰∫Ü‰∏Ä‰∏™Áî®Êù•ÁºñÂÜôÁî®Êà∑Ëá™ÂÆö‰πâÊñπÊ≥ïÁöÑ API„ÄÇÂÆòÁΩëÂú∞ÂùÄ‰∏∫Ôºöhttps://jqueryvalidation.org/„ÄÇÂºïÂÖ•‰æùËµñÂºïÂÖ•BootstrapÔºàjQuery ValidateÂπ∂‰∏ç‰æùËµñ‰∫éBootstapÔºåËøôÈáåÂºïÂÖ•BootstrapÊòØ‰∏∫‰∫ÜÁî®‰∫éÊûÑÂª∫Ë°®ÂçïÔºâÔºö1234567&lt;link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css"&gt;&lt;!-- jQuery --&gt;&lt;script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-2.0.0.min.js"&gt;&lt;/script&gt;&lt;!-- popper --&gt;&lt;script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js"&gt;&lt;/script&gt;&lt;!-- bootstrap --&gt;&lt;script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js"&gt;&lt;/script&gt;ÂºïÂÖ•jQuery Validate‰æùËµñÔºö1234&lt;!-- jquery-validate --&gt;&lt;script src="https://cdn.bootcss.com/jquery-validate/1.17.0/jquery.validate.js"&gt;&lt;/script&gt;&lt;script src="https://cdn.bootcss.com/jquery-validate/1.17.0/additional-methods.js"&gt;&lt;/script&gt;&lt;script src="https://cdn.bootcss.com/jquery-validate/1.17.0/localization/messages_zh.js"&gt;&lt;/script&gt;jquery.validate.js‰∏∫Ê†∏ÂøÉ‰ª£Á†ÅÔºõadditional-methods.js‰∏∫Êâ©Â±ïÁöÑÊ†°È™åÊñπÊ≥ïÔºå‰∏ÄËà¨Êàë‰ª¨Ëá™ÂÆö‰πâÁöÑÊ†°È™åÊñπÊ≥ïÈÉΩÊîæÂà∞Ëøô‰∏™Êñá‰ª∂ÈáåÔºõmessages_zh.js‰∏∫‰∏≠ÊñáÊ±âÂåñÂåÖ„ÄÇÈªòËÆ§Ê†°È™åËßÑÂàôjquery.validate.js‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑÈªòËÆ§Ê†°È™åËßÑÂàôÔºöÂ∫èÂè∑ËßÑÂàôÊèèËø∞1required:trueÂøÖÈ°ªËæìÂÖ•ÁöÑÂ≠óÊÆµ„ÄÇ2remote:‚Äùcheck.php‚Äù‰ΩøÁî® ajax ÊñπÊ≥ïË∞ÉÁî® check.php È™åËØÅËæìÂÖ•ÂÄº„ÄÇ3email:trueÂøÖÈ°ªËæìÂÖ•Ê≠£Á°ÆÊ†ºÂºèÁöÑÁîµÂ≠êÈÇÆ‰ª∂„ÄÇ4url:trueÂøÖÈ°ªËæìÂÖ•Ê≠£Á°ÆÊ†ºÂºèÁöÑÁΩëÂùÄ„ÄÇ5date:trueÂøÖÈ°ªËæìÂÖ•Ê≠£Á°ÆÊ†ºÂºèÁöÑÊó•Êúü„ÄÇÊó•ÊúüÊ†°È™å ie6 Âá∫ÈîôÔºåÊÖéÁî®„ÄÇ6dateISO:trueÂøÖÈ°ªËæìÂÖ•Ê≠£Á°ÆÊ†ºÂºèÁöÑÊó•ÊúüÔºàISOÔºâÔºå‰æãÂ¶ÇÔºö2009-06-23Ôºå1998/01/22„ÄÇÂè™È™åËØÅÊ†ºÂºèÔºå‰∏çÈ™åËØÅÊúâÊïàÊÄß„ÄÇ7number:trueÂøÖÈ°ªËæìÂÖ•ÂêàÊ≥ïÁöÑÊï∞Â≠óÔºàË¥üÊï∞ÔºåÂ∞èÊï∞Ôºâ„ÄÇ8digits:trueÂøÖÈ°ªËæìÂÖ•Êï¥Êï∞„ÄÇ9creditcard:ÂøÖÈ°ªËæìÂÖ•ÂêàÊ≥ïÁöÑ‰ø°Áî®Âç°Âè∑„ÄÇ10equalTo:‚Äù#field‚ÄùËæìÂÖ•ÂÄºÂøÖÈ°ªÂíå #field Áõ∏Âêå„ÄÇ11accept:ËæìÂÖ•Êã•ÊúâÂêàÊ≥ïÂêéÁºÄÂêçÁöÑÂ≠óÁ¨¶‰∏≤Ôºà‰∏ä‰º†Êñá‰ª∂ÁöÑÂêéÁºÄÔºâ„ÄÇ12maxlength:5ËæìÂÖ•ÈïøÂ∫¶ÊúÄÂ§öÊòØ 5 ÁöÑÂ≠óÁ¨¶‰∏≤ÔºàÊ±âÂ≠óÁÆó‰∏Ä‰∏™Â≠óÁ¨¶Ôºâ„ÄÇÂΩì‰∏∫checkboxÊó∂ÔºåÊåáÈÄâ‰∏≠‰∏™Êï∞„ÄÇ13minlength:10ËæìÂÖ•ÈïøÂ∫¶ÊúÄÂ∞èÊòØ 10 ÁöÑÂ≠óÁ¨¶‰∏≤ÔºàÊ±âÂ≠óÁÆó‰∏Ä‰∏™Â≠óÁ¨¶Ôºâ„ÄÇÂΩì‰∏∫checkboxÊó∂ÔºåÊåáÈÄâ‰∏≠‰∏™Êï∞„ÄÇ14rangelength:[5,10]ËæìÂÖ•ÈïøÂ∫¶ÂøÖÈ°ª‰ªã‰∫é 5 Âíå 10 ‰πãÈó¥ÁöÑÂ≠óÁ¨¶‰∏≤ÔºàÊ±âÂ≠óÁÆó‰∏Ä‰∏™Â≠óÁ¨¶Ôºâ„ÄÇÂΩì‰∏∫checkboxÊó∂ÔºåÊåáÈÄâ‰∏≠‰∏™Êï∞„ÄÇ15range:[5,10]ËæìÂÖ•ÂÄºÂøÖÈ°ª‰ªã‰∫é 5 Âíå 10 ‰πãÈó¥„ÄÇ16max:5ËæìÂÖ•ÂÄº‰∏çËÉΩÂ§ß‰∫é 5„ÄÇ17min:10ËæìÂÖ•ÂÄº‰∏çËÉΩÂ∞è‰∫é 10„ÄÇÈªòËÆ§ÁöÑÊèêÁ§∫Ôºàmessages_zh.jsÔºâÔºö12345678910111213141516171819$.extend($.validator.messages, &#123; required: "ËøôÊòØÂøÖÂ°´Â≠óÊÆµ", remote: "ËØ∑‰øÆÊ≠£Ê≠§Â≠óÊÆµ", email: "ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄ", url: "ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÁΩëÂùÄ", date: "ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊó•Êúü", dateISO: "ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊó•Êúü (YYYY-MM-DD)", number: "ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊï∞Â≠ó", digits: "Âè™ËÉΩËæìÂÖ•Êï∞Â≠ó", creditcard: "ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑ‰ø°Áî®Âç°Âè∑Á†Å", equalTo: "‰Ω†ÁöÑËæìÂÖ•‰∏çÁõ∏Âêå", extension: "ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÂêéÁºÄ", maxlength: $.validator.format("ÊúÄÂ§öÂèØ‰ª•ËæìÂÖ• &#123;0&#125; ‰∏™Â≠óÁ¨¶"), minlength: $.validator.format("ÊúÄÂ∞ëË¶ÅËæìÂÖ• &#123;0&#125; ‰∏™Â≠óÁ¨¶"), rangelength: $.validator.format("ËØ∑ËæìÂÖ•ÈïøÂ∫¶Âú® &#123;0&#125; Âà∞ &#123;1&#125; ‰πãÈó¥ÁöÑÂ≠óÁ¨¶‰∏≤"), range: $.validator.format("ËØ∑ËæìÂÖ•ËåÉÂõ¥Âú® &#123;0&#125; Âà∞ &#123;1&#125; ‰πãÈó¥ÁöÑÊï∞ÂÄº"), max: $.validator.format("ËØ∑ËæìÂÖ•‰∏çÂ§ß‰∫é &#123;0&#125; ÁöÑÊï∞ÂÄº"), min: $.validator.format("ËØ∑ËæìÂÖ•‰∏çÂ∞è‰∫é &#123;0&#125; ÁöÑÊï∞ÂÄº")&#125;);Ëá™ÂÆö‰πâÊ†°È™åÈô§‰∫Ü‰ΩøÁî®Ëá™Â∏¶ÁöÑÊ†°È™åÊñπÊ≥ïÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ê∑ªÂä†Ëá™Â∑±ÁöÑÊ†°È™åÊñπÊ≥ïÔºåÊØîÂ¶ÇÊ∑ªÂä†ÊâãÊú∫Âè∑Á†ÅÊ†ºÂºèÁöÑÊ†°È™åÊñπÊ≥ïÔºö1234jQuery.validator.addMethod("checkPhone", function(value, element, params) &#123; var checkPhone = /^0?(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]&#123;8&#125;$/; return this.optional(element) || (checkPhone.test(value));&#125;, "ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑");valueÂÄºÂΩìÂâçÊ†°È™åÁöÑÂÄºÔºåelement‰∏∫Ê†°È™åÁöÑÂÖÉÁ¥†Ôºåparams‰∏∫Ê†°È™åÂèÇÊï∞„ÄÇËá™ÂÆö‰πâÁöÑÊ†°È™åÊñπÊ≥ï‰∏ÄËà¨ÈÉΩÊ∑ªÂä†Âà∞additional-methods.js„ÄÇÈîôËØØ‰ø°ÊÅØÊèêÁ§∫ÂΩìÊ†°È™å‰∏çÈÄöËøáÊó∂ÔºåÈªòËÆ§ÈîôËØØ‰ø°ÊÅØ‰ºöÊèíÂÖ•Âà∞Ê†°È™åÂÖÉÁ¥†ÁöÑÂêéÈù¢Ôºå‰ΩÜÂΩìÊ†°È™åÂÖÉÁ¥†ÊòØradioÊàñËÄÖcheckboxÁöÑÊó∂ÂÄôÔºåÈîôËØØ‰ø°ÊÅØÁöÑ‰ΩçÁΩÆÈúÄË¶ÅËøõË°åË∞ÉÊï¥ÔºöË∞ÉÊï¥ÊñπÊ≥ïÔºö12345678errorPlacement: function(error, element) &#123; //ÊåáÂÆöÈîôËØØ‰ø°ÊÅØ‰ΩçÁΩÆ if (element.is(':radio') || element.is(':checkbox')) &#123; //Â¶ÇÊûúÊòØradioÊàñcheckbox var eid = element.attr('name'); //Ëé∑ÂèñÂÖÉÁ¥†ÁöÑnameÂ±ûÊÄß error.appendTo(element.parent().parent()); //Â∞ÜÈîôËØØ‰ø°ÊÅØÊ∑ªÂä†ÂΩìÂâçÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥†ÂêéÈù¢(Ê†πÊçÆÂÆûÈôÖhtmlÁªìÊûÑËøõË°åË∞ÉÊï¥) &#125; else &#123; error.insertAfter(element); &#125;&#125;Ë∞ÉÊï¥ÂêéÔºö ÂêéÁ´ØÊ†°È™åremoteÈÄâÈ°πÁî®‰∫éÂêéÁ´ØÊ†°È™åÔºåÊØîÂ¶ÇÊ†°È™åÁî®Êà∑ÂêçÁöÑÂîØ‰∏ÄÊÄßÁ≠âÔºö12345678910remote: &#123; url: "user/checkUserName", type: "get", dataType: "json", data: &#123; username: function() &#123; return $("input[name='username']").val(); &#125; &#125;&#125;ÂêéÁ´ØËøîÂõûbooleanÁ±ªÂûãÂç≥ÂèØ„ÄÇÂÆû‰æãÁºñÂÜô‰∏™formË°®ÂçïÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980&lt;form class="form"&gt; &lt;div class="form-group"&gt; &lt;label&gt;Áî®Êà∑Âêç&lt;/label&gt; &lt;input type="text" class="form-control" name="userName" placeholder="Áî®Êà∑Âêç"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;ÂØÜÁ†Å&lt;/label&gt; &lt;input type="password" class="form-control" name="password" placeholder="ÂØÜÁ†Å"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Á°ÆËÆ§ÂØÜÁ†Å&lt;/label&gt; &lt;input type="password" class="form-control" name="confirm_password" placeholder="ËØ∑ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;ÊâãÊú∫Âè∑&lt;/label&gt; &lt;input type="text" class="form-control" name="phone" placeholder="ÊâãÊú∫Âè∑"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;ÈÇÆÁÆ±&lt;/label&gt; &lt;input type="text" class="form-control" name="email" placeholder="ÈÇÆÁÆ±"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Âú∞ÂùÄ&lt;/label&gt; &lt;select class="form-control" name="address"&gt; &lt;option value=""&gt;- ËØ∑ÈÄâÊã© -&lt;/option&gt; &lt;option value="1"&gt;Á¶èÂ∑û&lt;/option&gt; &lt;option value="2"&gt;Âé¶Èó®&lt;/option&gt; &lt;option value="3"&gt;ÈæôÂ≤©&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;Áà±Â•Ω&lt;/label&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="checkbox" name="hobby" value="1"&gt; &lt;label class="form-check-label"&gt;Ê∏∏Ê≥≥&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="checkbox" name="hobby" value="2"&gt; &lt;label class="form-check-label"&gt;Âî±Ê≠å&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="checkbox" name="hobby" value="3"&gt; &lt;label class="form-check-label"&gt;Áù°Ëßâ&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;ÊÄßÂà´&lt;/label&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="sex" value="1"&gt; &lt;label class="form-check-label"&gt;Áî∑&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="sex" value="2"&gt; &lt;label class="form-check-label"&gt;Â•≥&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;‰∏ä‰º†ÂõæÁâá&lt;/label&gt; &lt;input type="file" class="form-control-file" name="file"&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input type="checkbox" class="form-check-input" name="subscribe"&gt; &lt;label class="form-check-label"&gt;ËÆ¢ÈòÖ&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;ËÆ¢ÈòÖÊñπÂºè&lt;/label&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="stype" value="1"&gt; &lt;label class="form-check-label"&gt;RSS&lt;/label&gt; &lt;/div&gt; &lt;div class="form-check form-check-inline"&gt; &lt;input class="form-check-input" type="radio" name="stype" value="2"&gt; &lt;label class="form-check-label"&gt;ÈÇÆÁÆ±ËÆ¢ÈòÖ&lt;/label&gt; &lt;/div&gt; &lt;/div&gt;&lt;/form&gt;&lt;button id="submit" class="btn btn-primary"&gt;Submit&lt;/button&gt;&lt;button id="reset" class="btn btn-danger"&gt;Reset&lt;/button&gt;ÁªëÂÆöÊ†°È™åËßÑÂàôÁ≠âÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111jQuery.validator.addMethod("checkPhone", function(value, element, params) &#123; var checkPhone = /^0?(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]&#123;8&#125;$/; return this.optional(element) || (checkPhone.test(value));&#125;, "ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑");$(function() &#123; validateRule(); $("#submit").on('click', function() &#123; var validator = $(".form").validate(); var flag = validator.form(); if (flag) &#123; alert("true"); &#125; else &#123; alert("false"); &#125; &#125;); $("#reset").on('click', function() &#123; var validator = $(".form").validate(); validator.resetForm(); &#125;);&#125;);function validateRule() &#123; $(".form").validate(&#123; rules: &#123; userName: &#123; required: true, minlength: 3, maxlength: 10 &#125;, password: &#123; required: true, minlength: 5 &#125;, confirm_password: &#123; required: true, minlength: 5, equalTo: "[name='password']" &#125;, address: &#123; required: true &#125;, phone: &#123; checkPhone: true &#125;, email: &#123; required: true, email: true &#125;, hobby: &#123; required: true, minlength: 2 &#125;, sex: &#123; required: true &#125;, file: &#123; required: true, accept: "image/jpg,image/jpeg,image/png,image/gif" &#125;, stype: &#123; required: "[name='subscribe']:checked" &#125; &#125;, messages: &#123; userName: &#123; required: "ËØ∑ËæìÂÖ•Áî®Êà∑Âêç", minlength: "Áî®Êà∑ÂêçÈïøÂ∫¶‰∏çËÉΩÂ∞ë‰∫é&#123;0&#125;‰∏™Â≠óÁ¨¶", maxlength: "Áî®Êà∑ÂêçÈïøÂ∫¶‰∏çËÉΩË∂ÖËøá&#123;0&#125;‰∏™Â≠óÁ¨¶" &#125;, password: &#123; required: "ËØ∑ËæìÂÖ•ÂØÜÁ†Å", minlength: "ÂØÜÁ†ÅÈïøÂ∫¶‰∏çËÉΩÂ∞è‰∫é&#123;0&#125;‰∏™Â≠óÊØç" &#125;, confirm_password: &#123; required: "ËØ∑ËæìÂÖ•ÂØÜÁ†Å", minlength: "ÂØÜÁ†ÅÈïøÂ∫¶‰∏çËÉΩÂ∞è‰∫é&#123;0&#125;‰∏™Â≠óÊØç", equalTo: "‰∏§Ê¨°ÂØÜÁ†ÅËæìÂÖ•‰∏ç‰∏ÄËá¥" &#125;, address: &#123; required: "ËØ∑ÈÄâÊã©Âú∞ÂùÄ" &#125;, email: &#123; required: "ËØ∑ËæìÂÖ•ÈÇÆÁÆ±", email: "ÈÇÆÁÆ±Ê†ºÂºè‰∏çÊ≠£Á°Æ" &#125;, hobby: &#123; required: "ËØ∑ÈÄâÊã©Áà±Â•Ω", minlength: "Ëá≥Â∞ëÈÄâÊã©&#123;0&#125;È°πÁà±Â•Ω" &#125;, sex: &#123; required: "ËØ∑ÈÄâÊã©ÊÄßÂà´" &#125;, file: &#123; required: "ËØ∑‰∏ä‰º†ÈôÑ‰ª∂", accept: "Âè™ÊîØÊåÅjpgÔºåjpegÔºåpngÊàñgifÂêéÁºÄÁöÑÂõæÁâá" &#125;, stype: &#123; required: "ËØ∑ÈÄâÊã©ËÆ¢ÈòÖÊñπÂºè" &#125; &#125;, errorPlacement: function(error, element) &#123; if (element.is(':radio') || element.is(':checkbox')) &#123; var eid = element.attr('name'); error.appendTo(element.parent().parent()); &#125; else &#123; error.insertAfter(element); &#125; &#125; &#125;);&#125;ËøôÈáåÊèê‰∏ãÂÖ≥‰∫éÈôÑ‰ª∂ÁöÑÊ†ºÂºèÈóÆÈ¢òÔºåÂÖ∂ÈôêÂÆöÁöÑ‰∏çÊòØÊñá‰ª∂Ê†ºÂºèÂêéÁºÄÔºåËÄåÊòØÊñá‰ª∂ÁöÑMIMEÁ±ªÂûãÔºåÂÖ∑‰ΩìÂèØÂèÇËÄÉÔºöBootstrapValidatorÊåáÂçó‰∏≠Âàó‰∏æÁöÑMIMEÁ±ªÂûã„ÄÇÊºîÁ§∫ÊïàÊûúÂ¶Ç‰∏ãÔºöSee the Pen jquery-validation by wuyouzhuguli (@mrbird) on CodePen.Ê∫êÁ†ÅÂú∞ÂùÄÔºöhttps://drive.google.com/open?id=1lyUVNyX5VkxN3GqQz0_y_oBX3twMxPAhÂÖ∂‰ªñ‰ΩøÁî®‰∫ãÈ°πÂèØÂèÇËÄÉÔºöhttp://www.runoob.com/jquery/jquery-plugin-validate.htmlhttps://jqueryvalidation.org/documentation/]]></content>
      <tags>
        <tag>Bootstrap</tag>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê†ëÂΩ¢Ë°®Ê†ºÊèí‰ª∂jQuery TreeGrid]]></title>
    <url>%2FjQuery-TreeGrid.html</url>
    <content type="text"><![CDATA[ÂÄüÂä©Ê†ëÂΩ¢Ë°®Ê†ºÊèí‰ª∂jQuery TreeGridÔºåÊàë‰ª¨ÂèØ‰ª•‰ª•Ë°®Ê†ºÁöÑÂΩ¢ÂºèÊù•Â±ïÁé∞ÈÇ£‰∫õÂ∏¶ÊúâÂ±ÇÁ∫ßÂÖ≥Á≥ªÁöÑÊï∞ÊçÆÔºåÊØîÂ¶ÇÈÉ®Èó®‰∏ä‰∏ãÁ∫ßÔºåËèúÂçïË°®Á≠â„ÄÇjQuery TreeGridÁöÑÂÆòÊñπÂú∞ÂùÄ‰∏∫Ôºöhttp://maxazan.github.io/jquery-treegrid/„ÄÇÁî±‰∫éËøôÈáåÁöÑ‰ΩøÁî®ÁéØÂ¢É‰∏∫bootstrapÔºåÂéüÂßãÁöÑjQuery TreeGridÊèí‰ª∂ÊòæÂæó‰∏çÊòØÈÇ£‰πàÁöÑÁÅµÊ¥ªÂíåÁæéËßÇÔºå‰∏∫‰∫ÜÂú®bootstrap‰∏≠Êó†ÁºùÁöÑ‰ΩøÁî®ËØ•Êèí‰ª∂ÔºåËøôÈáåÂºïÁî®‰∫ÜÁªèËøá‰∫åÊ¨°Â∞ÅË£ÖÁöÑjQuery TreeGridÊèí‰ª∂jquery.treegrid.extension.jsÔºå‰ΩúËÄÖ‰∏∫Ôºöhttp://www.cnblogs.com/landeanfen/p/6776152.html„ÄÇÂºïÂÖ•‰æùËµñÈ¶ñÂÖàÂÖàÂºïÂÖ•bootstrapÁõ∏ÂÖ≥ÁöÑ‰æùËµñÔºö1234&lt;link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css"&gt;&lt;script src="http://code.jquery.com/jquery-2.0.0.min.js"&gt;&lt;/script&gt;&lt;script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js"&gt;&lt;/script&gt;&lt;script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js"&gt;&lt;/script&gt;ÁÑ∂ÂêéÂºïÂÖ•jQuery TreeGrid‰æùËµñ‰ª•Âèäjquery.treegrid.extension.js Ôºö12345&lt;!-- jquery.treegrid --&gt;&lt;link rel="stylesheet" data-th-href="@&#123;css/jqTreeGrid/jquery.treegrid.css&#125;"&gt;&lt;script data-th-src="@&#123;js/jqTreeGrid/jquery.treegrid.js&#125;"&gt;&lt;/script&gt;&lt;!-- jquery.treegrid.extension --&gt;&lt;script data-th-src="@&#123;js/jqTreeGrid/jquery.treegrid.extension.js&#125;"&gt;&lt;/script&gt;Âõ†‰∏∫bootstrapÊ≤°ÊúâËá™Â∏¶ÂõæÊ†áÁªÑ‰ª∂Ôºå‰∏∫‰∫Ü‰∏ãÊñáÁöÑ‰ΩøÁî®ÔºåËøôÈáåÂºïÂÖ•font-awesome:1&lt;link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet"&gt;Êï∞ÊçÆ‰ΩøÁî®ÁöÑÊï∞ÊçÆË°®Ôºö12345678910111213141516171819202122-- ------------------------------ Table structure for T_DEPT-- ----------------------------DROP TABLE "MRBIRD"."T_DEPT";CREATE TABLE "MRBIRD"."T_DEPT" ("DEPT_ID" NUMBER NOT NULL ,"PARENT_ID" NUMBER NOT NULL ,"DEPT_NAME" VARCHAR2(100 BYTE) NOT NULL ,"ORDER_NUM" NUMBER NULL ,"CREATE_TIME" DATE NULL );-- ------------------------------ Records of T_DEPT-- ----------------------------INSERT INTO "MRBIRD"."T_DEPT" VALUES ('7', '2', 'ÂºÄÂèë‰∏ÄÈÉ®Á¶èÂ∑ûÂàÜÈÉ®', null, TO_DATE('2018-03-15 09:32:15', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('1', '0', 'ÂºÄÂèëÈÉ®', null, TO_DATE('2018-01-04 15:42:26', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('3', '1', 'ÂºÄÂèë‰∫åÈÉ®', null, TO_DATE('2018-01-04 15:42:29', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('5', '0', '‰∫∫‰∫ãÈÉ®', null, TO_DATE('2018-01-04 15:42:32', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('2', '1', 'ÂºÄÂèë‰∏ÄÈÉ®', null, TO_DATE('2018-01-04 15:42:34', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('4', '0', 'Â∏ÇÂú∫ÈÉ®', null, TO_DATE('2018-01-04 15:42:36', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_DEPT" VALUES ('6', '0', 'ÊµãËØïÈÉ®', null, TO_DATE('2018-01-04 15:42:38', 'YYYY-MM-DD HH24:MI:SS'));ÂêéÁ´ØÊ°ÜÊû∂‰∏∫Spring Boot + MyBatisÔºàÈÄöÁî®mapperÂíåpagehelperÊèí‰ª∂ÔºâÔºåËé∑ÂèñÊï∞ÊçÆÁöÑÂÖ∑‰ΩìÁªÜËäÇËøôÈáå‰∏çÂÜçÊèèËø∞ÔºåÂèØÂèÇËÄÉÊñáÊú´ÁöÑÊ∫êÁ†Å„ÄÇ‰ΩøÁî®ÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑÈ°µÈù¢Ôºö1234567891011121314151617&lt;form class="form"&gt; &lt;div class="row"&gt; &lt;div class="col"&gt; &lt;div class="input-group"&gt; &lt;span class="input-group-addon"&gt;ÈÉ®Èó®ÂêçÁß∞Ôºö&lt;/span&gt; &lt;div class="form-group"&gt; &lt;input type="text" name="deptName" class="form-control"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="col"&gt; &lt;button type="button" class="btn btn-success" onclick="refresh()"&gt;ÈáçÁΩÆ&lt;/button&gt; &lt;button type="button" class="btn btn-primary" onclick="search()"&gt;ÊêúÁ¥¢&lt;/button&gt; &lt;/div&gt; &lt;/div&gt;&lt;/form&gt;&lt;table id="deptTreeTable" data-mobile-responsive="true" class="mb-bootstrap-table text-nowrap"&gt;&lt;/table&gt;jQuery TreeGridÊèí‰ª∂ÁöÑ‰ΩøÁî®Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354var ctx = [[@&#123;/&#125;]];$(function() &#123; initDeptTreeTable();&#125;);function initDeptTreeTable() &#123; $('#deptTreeTable').bootstrapTreeTable(&#123; id: 'deptId', // ÈÄâÂèñËÆ∞ÂΩïËøîÂõûÁöÑÂÄº code: 'deptId', // Áî®‰∫éËÆæÁΩÆÁà∂Â≠êÂÖ≥Á≥ª parentCode: 'parentId', // Áî®‰∫éËÆæÁΩÆÁà∂Â≠êÂÖ≥Á≥ª rootCodeValue: null, //ËÆæÁΩÆÊ†πËäÇÁÇπcodeÂÄº----ÂèØÊåáÂÆöÊ†πËäÇÁÇπÔºåÈªòËÆ§‰∏∫null,"",0,"0" data: [], // ÊûÑÈÄ†tableÁöÑÊï∞ÊçÆÈõÜÂêàÔºåÂ¶ÇÊûúÊòØajaxËØ∑Ê±ÇÂàô‰∏çÂøÖÂ°´ÂÜô type: "GET", // ËØ∑Ê±ÇÊï∞ÊçÆÁöÑajaxÁ±ªÂûã url: ctx + 'dept/list', // ËØ∑Ê±ÇÊï∞ÊçÆÁöÑajaxÁöÑurl ajaxParams: &#123; deptName: $(".form").find("input[name='deptName']").val().trim() &#125;, // ËØ∑Ê±ÇÊï∞ÊçÆÁöÑajaxÁöÑdataÂ±ûÊÄß expandColumn: 2, // Âú®Âì™‰∏ÄÂàó‰∏äÈù¢ÊòæÁ§∫Â±ïÂºÄÊåâÈíÆ expandAll: true, // ÊòØÂê¶ÂÖ®ÈÉ®Â±ïÂºÄ striped: true, // ÊòØÂê¶ÂêÑË°åÊ∏êÂèòËâ≤ columns: [&#123; field: 'selectItem', checkbox: true &#125;, &#123; title: 'ÁºñÂè∑', field: 'deptId', width: '50px' &#125;, &#123; title: 'ÂêçÁß∞', field: 'deptName' &#125;, &#123; title: 'ÂàõÂª∫Êó∂Èó¥', field: 'createTime' &#125; ], // ËÆæÁΩÆÂàó toolbar: null, //È°∂ÈÉ®Â∑•ÂÖ∑Êù° height: 0, expanderExpandedClass: 'fa fa-chevron-down', // Â±ïÂºÄÁöÑÊåâÈíÆÁöÑÂõæÊ†á expanderCollapsedClass: 'fa fa-chevron-up' // Áº©Ëµ∑ÁöÑÊåâÈíÆÁöÑÂõæÊ†á &#125;);&#125;// ÊêúÁ¥¢ÊñπÊ≥ïfunction search() &#123; initDeptTreeTable();&#125;// ÈáçÁΩÆÊñπÊ≥ïfunction refresh() &#123; $(".form")[0].reset(); search();&#125;ÂèÇÊï∞ËØ¥ÊòéÂ¶ÇÊ≥®Ëß£ÊâÄÁ§∫ÔºåÂÖ∂‰∏≠expanderExpandedClassÂíåexpanderCollapsedClass‰∏∫Â±ïÂºÄÂíåÁº©Ëµ∑ÁöÑÂõæÊ†áÔºåËøôÈáå‰ΩøÁî®ÁöÑÊòØÊñáÁ´†ÂºÄÂßãÂºïÂÖ•ÁöÑfont-awesome„ÄÇÂêéÁ´ØËøîÂõûÁöÑJSONÊï∞ÊçÆÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243[&#123; "deptId": 1, "parentId": 0, "deptName": "ÂºÄÂèëÈÉ®", "orderNum": null, "createTime": 1515051746000&#125;, &#123; "deptId": 2, "parentId": 1, "deptName": "ÂºÄÂèë‰∏ÄÈÉ®", "orderNum": null, "createTime": 1515051754000&#125;, &#123; "deptId": 3, "parentId": 1, "deptName": "ÂºÄÂèë‰∫åÈÉ®", "orderNum": null, "createTime": 1515051749000&#125;, &#123; "deptId": 4, "parentId": 0, "deptName": "Â∏ÇÂú∫ÈÉ®", "orderNum": null, "createTime": 1515051756000&#125;, &#123; "deptId": 5, "parentId": 0, "deptName": "‰∫∫‰∫ãÈÉ®", "orderNum": null, "createTime": 1515051752000&#125;, &#123; "deptId": 6, "parentId": 0, "deptName": "ÊµãËØïÈÉ®", "orderNum": null, "createTime": 1515051758000&#125;, &#123; "deptId": 7, "parentId": 2, "deptName": "ÂºÄÂèë‰∏ÄÈÉ®Á¶èÂ∑ûÂàÜÈÉ®", "orderNum": null, "createTime": 1521077535000&#125;]È°µÈù¢ÊòæÁ§∫ÊïàÊûúÂ¶Ç‰∏ãÔºö ÂÖ∂ÂÆûÔºåÂú®ÂÆûÈôÖ‰ΩøÁî®‰∏≠Êàë‰ª¨Âπ∂‰∏çÈúÄË¶ÅÈÖçÁΩÆÈÇ£‰πàÂ§öÂèÇÊï∞ÔºåÊü•Áúãjquery.treegrid.extension.jsÊ∫êÁ†ÅÂèØÂèëÁé∞ÔºåÂÖ∂ÈªòËÆ§ÂèÇÊï∞‰∏∫Ôºö12345678910111213141516171819$.fn.bootstrapTreeTable.defaults = &#123; id: 'menuId', code: 'menuId', parentCode: 'parentId', rootCodeValue: null, data: [], type: "GET", url: null, ajaxParams: &#123;&#125;, expandColumn: null, expandAll: true, striped: false, columns: [], toolbar: null, height: 0, expanderExpandedClass: 'fa fa-chevron-down', expanderCollapsedClass: 'fa fa-chevron-up'&#125;;ÊâÄ‰ª•‰ΩøÁî®ÁöÑÊó∂ÂÄôÂè™ÈúÄÈÖçÁΩÆÂá†‰∏™Êàë‰ª¨ÂÖ≥Ê≥®ÁöÑÂèÇÊï∞Âç≥ÂèØÔºö1234567891011121314151617181920212223242526272829$('#deptTreeTable').bootstrapTreeTable(&#123; id: 'deptId', code: 'deptId', parentCode: 'parentId', url: ctx + 'dept/list', ajaxParams: &#123; deptName: $(".form").find("input[name='deptName']").val().trim() &#125;, expandColumn: 2, striped: true, columns: [&#123; field: 'selectItem', checkbox: true &#125;, &#123; title: 'ÁºñÂè∑', field: 'deptId', width: '50px' &#125;, &#123; title: 'ÂêçÁß∞', field: 'deptName' &#125;, &#123; title: 'ÂàõÂª∫Êó∂Èó¥', field: 'createTime' &#125; ]&#125;);jquery.treegrid.extension.jsËøòÂ∞ÅË£Ö‰∫Ü‰∏Ä‰∫õÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031$.fn.bootstrapTreeTable.methods = &#123; // ËøîÂõûÈÄâ‰∏≠ËÆ∞ÂΩïÁöÑidÔºàËøîÂõûÁöÑidÁî±ÈÖçÁΩÆ‰∏≠ÁöÑidÂ±ûÊÄßÊåáÂÆöÔºâ // ‰∏∫‰∫ÜÂÖºÂÆπbootstrap-tableÁöÑÂÜôÊ≥ïÔºåÁªü‰∏ÄËøîÂõûÊï∞ÁªÑÔºåËøôÈáåÂè™ËøîÂõû‰∫ÜÊåáÂÆöÁöÑid getSelections: function(target, data) &#123; // ÊâÄÊúâË¢´ÈÄâ‰∏≠ÁöÑËÆ∞ÂΩïinput var _ipt = target.find("tbody").find("tr").find("input[name='select_item']:checked"); var chk_value = []; // Â¶ÇÊûúÊòØradio if (_ipt.attr("type") == "radio") &#123; chk_value.push(&#123; id: _ipt.val() &#125;); &#125; else &#123; _ipt.each(function(_i, _item) &#123; chk_value.push(&#123; id: $(_item).val() &#125;); &#125;); &#125; return chk_value; &#125;, // Âà∑Êñ∞ËÆ∞ÂΩï refresh: function(target, parms) &#123; if (parms) &#123; target.load(parms); &#125; else &#123; target.load(); &#125; &#125;, // ÈáçÁΩÆË°®Ê†ºËßÜÂõæ resetHeight: function(target, height) &#123; target.find("tbody").css("height", height + 'px'); &#125; // ÁªÑ‰ª∂ÁöÑÂÖ∂‰ªñÊñπÊ≥ï‰πüÂèØ‰ª•ËøõË°åÁ±ª‰ººÂ∞ÅË£Ö........&#125;;ÊØîÂ¶ÇËé∑ÂèñÈÄâ‰∏≠Ë°åÁöÑÊï∞ÊçÆÂèØ‰ΩøÁî®getSelectionsÔºö1$("#deptTreeTable").bootstrapTreeTable("getSelections");ÈôÑÂΩïÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://drive.google.com/open?id=1fgYRpD5CNCn4gj06_MiLm-g2fCjsSYtk]]></content>
      <tags>
        <tag>Bootstrap</tag>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Bootstrap TableÂ≠¶‰π†ÊåáÂçó]]></title>
    <url>%2FBootstrap-Table%20guide.html</url>
    <content type="text"><![CDATA[Bootstrap TableÊòØ‰∏ÄÊ¨æÂü∫‰∫éBootstrapÁöÑjQueryË°®Ê†ºÊèí‰ª∂ÔºåÈÄöËøáÁÆÄÂçïÁöÑËÆæÁΩÆÔºåÂ∞±ÂèØ‰ª•Êã•ÊúâÂº∫Â§ßÁöÑÂçïÈÄâ„ÄÅÂ§öÈÄâ„ÄÅÊéíÂ∫è„ÄÅÂàÜÈ°µÔºå‰ª•ÂèäÁºñËæë„ÄÅÂØºÂá∫„ÄÅËøáÊª§„ÄÅÊâ©Â±ïÁ≠âÁ≠âÁöÑÂäüËÉΩ„ÄÇ‰ΩúËÄÖÂú∞ÂùÄÔºöhttps://github.com/wenzhixin/bootstrap-table„ÄÇËøôÈáåÁÆÄÂçï‰ªãÁªç‰∏ã‰ΩøÁî®ÊñπÊ≥ï‰ª•ÂèäÂØπÂÖ∂ËøõË°å‰∫åÊ¨°Â∞ÅË£ÖÔºåÊñπ‰æøÊó•Â∏∏ÂºÄÂèë‰ΩøÁî®„ÄÇÂáÜÂ§áÂ∑•‰ΩúÂõ†‰∏∫Âü∫‰∫éBootstrapÔºåÊâÄ‰ª•ÂÖàÂºïÂÖ•Bootstrap‰æùËµñÔºö1234&lt;link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css"&gt;&lt;script src="http://code.jquery.com/jquery-2.0.0.min.js"&gt;&lt;/script&gt;&lt;script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js"&gt;&lt;/script&gt;&lt;script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js"&gt;&lt;/script&gt;ÁÑ∂ÂêéÂºïÂÖ•Bootstrap Table‰æùËµñÔºö123456&lt;!-- Latest compiled and minified CSS --&gt;&lt;link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.0/bootstrap-table.min.css"&gt;&lt;!-- Latest compiled and minified JavaScript --&gt;&lt;script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.0/bootstrap-table.min.js"&gt;&lt;/script&gt;&lt;!-- Latest compiled and minified Locales --&gt;&lt;script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.9.0/locale/bootstrap-table-zh-CN.min.js"&gt;&lt;/script&gt;Êï∞ÊçÆÂáÜÂ§áÊú¨‰æã‰∏≠‰ΩøÁî®Âà∞ÁöÑÊï∞ÊçÆË°®SQLÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324-- ------------------------------ Table structure for T_ROLE-- ----------------------------DROP TABLE "MRBIRD"."T_ROLE";CREATE TABLE "MRBIRD"."T_ROLE" ("ROLE_ID" NUMBER NOT NULL ,"ROLE_NAME" VARCHAR2(100 BYTE) NOT NULL ,"REMARK" VARCHAR2(100 BYTE) NULL ,"CREATE_TIME" DATE NOT NULL ,"MODIFY_TIME" DATE NULL );-- ------------------------------ Records of T_ROLE-- ----------------------------INSERT INTO "MRBIRD"."T_ROLE" VALUES ('23', 'Áî®Êà∑ÁÆ°ÁêÜÂëò', 'Ë¥üË¥£Áî®Êà∑ÁöÑÂ¢ûÂà†ÊîπÊìç‰Ωú', TO_DATE('2018-01-09 15:32:41', 'YYYY-MM-DD HH24:MI:SS'), null);INSERT INTO "MRBIRD"."T_ROLE" VALUES ('1', 'ÁÆ°ÁêÜÂëò', 'ÁÆ°ÁêÜÂëò', TO_DATE('2017-12-27 16:23:11', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2018-02-24 16:01:45', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_ROLE" VALUES ('2', 'ÊµãËØïË¥¶Âè∑', 'ÊµãËØïË¥¶Âè∑', TO_DATE('2017-12-27 16:25:09', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2018-01-23 09:11:11', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_ROLE" VALUES ('3', 'Ê≥®ÂÜåË¥¶Êà∑', 'Ê≥®ÂÜåË¥¶Êà∑ÔºåÂè™ÂèØÊü•ÁúãÔºå‰∏çÂèØÊìç‰Ωú', TO_DATE('2017-12-29 16:00:15', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2018-02-24 17:33:45', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_ROLE" VALUES ('24', 'Á≥ªÁªüÁõëÊéßÂëò', 'ÂèØÊü•ÁúãÁ≥ªÁªüÁõëÊéß‰ø°ÊÅØÔºå‰ΩÜ‰∏çÂèØÊìç‰Ωú', TO_DATE('2018-01-09 15:52:01', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2018-03-07 19:05:33', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_ROLE" VALUES ('25', 'Áî®Êà∑Êü•Áúã', 'Êü•ÁúãÁî®Êà∑ÔºåÊó†Áõ∏Â∫îÊìç‰ΩúÊùÉÈôê', TO_DATE('2018-01-09 15:56:30', 'YYYY-MM-DD HH24:MI:SS'), null);INSERT INTO "MRBIRD"."T_ROLE" VALUES ('63', 'ÂΩ±Èô¢Â∑•‰ΩúËÄÖ', 'ÂèØÊü•ÁúãÂΩ±ËßÜ‰ø°ÊÅØ', TO_DATE('2018-02-06 08:48:28', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2018-03-07 19:05:26', 'YYYY-MM-DD HH24:MI:SS'));INSERT INTO "MRBIRD"."T_ROLE" VALUES ('64', 'Â§©Ê∞îÈ¢ÑÊä•Âëò', 'ÂèØÊü•ÁúãÂ§©Ê∞îÈ¢ÑÊä•‰ø°ÊÅØ', TO_DATE('2018-02-27 08:47:04', 'YYYY-MM-DD HH24:MI:SS'), null);INSERT INTO "MRBIRD"."T_ROLE" VALUES ('65', 'ÊñáÁ´†ÂÆ°Ê†∏', 'ÊñáÁ´†Á±ª', TO_DATE('2018-02-27 08:48:01', 'YYYY-MM-DD HH24:MI:SS'), TO_DATE('2018-03-13 11:20:34', 'YYYY-MM-DD HH24:MI:SS'));ÂêéÁ´ØÊ°ÜÊû∂‰∏∫Spring Boot + MyBatisÔºàÈÄöÁî®mapperÂíåpagehelperÊèí‰ª∂ÔºâÔºåËé∑ÂèñÊï∞ÊçÆÁöÑÂÖ∑‰ΩìÁªÜËäÇËøôÈáå‰∏çÂÜçÊèèËø∞ÔºåÂèØÂèÇËÄÉÊñáÊú´ÁöÑÊ∫êÁ†Å„ÄÇ‰ΩøÁî®ÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑÈ°µÈù¢Ôºö123456789101112131415161718&lt;form class="form"&gt; &lt;div class="row"&gt; &lt;div class="col"&gt; &lt;div class="input-group"&gt; &lt;span class="input-group-addon"&gt;ËßíËâ≤Ôºö&lt;/span&gt; &lt;div class="form-group"&gt; &lt;input type="text" name="roleName" class="form-control"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="col"&gt;&lt;/div&gt; &lt;div class="col"&gt; &lt;button type="button" class="btn btn-success" onclick="refresh()"&gt;ÈáçÁΩÆ&lt;/button&gt; &lt;button type="button" class="btn btn-primary" onclick="search()"&gt;ÊêúÁ¥¢&lt;/button&gt; &lt;/div&gt; &lt;/div&gt;&lt;/form&gt;&lt;table id="roleTable" data-mobile-responsive="true" class="mb-bootstrap-table text-nowrap"&gt;&lt;/table&gt;Bootstrap TableÊèí‰ª∂ÁöÑ‰ΩøÁî®Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253$('#roleTable').bootstrapTable(&#123; method: 'get', // ÊúçÂä°Âô®Êï∞ÊçÆÁöÑËØ∑Ê±ÇÊñπÂºè get or post url: ctx + "bootstrap-table/list", // ÊúçÂä°Âô®Êï∞ÊçÆÁöÑÂä†ËΩΩÂú∞ÂùÄ striped: true, //ÊòØÂê¶ÊòæÁ§∫Ë°åÈó¥ÈöîËâ≤ cache: false, //ÊòØÂê¶‰ΩøÁî®ÁºìÂ≠òÔºåÈªòËÆ§‰∏∫trueÔºåÊâÄ‰ª•‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÈúÄË¶ÅËÆæÁΩÆ‰∏Ä‰∏ãËøô‰∏™Â±ûÊÄßÔºà*Ôºâ pagination: true, //ÊòØÂê¶ÊòæÁ§∫ÂàÜÈ°µÔºà*Ôºâ sortable: false, //ÊòØÂê¶ÂêØÁî®ÊéíÂ∫è sidePagination: "server", //ÂàÜÈ°µÊñπÂºèÔºöclientÂÆ¢Êà∑Á´ØÂàÜÈ°µÔºåserverÊúçÂä°Á´ØÂàÜÈ°µÔºà*Ôºâ pageNumber: 1, //ÂàùÂßãÂåñÂä†ËΩΩÁ¨¨‰∏ÄÈ°µÔºåÈªòËÆ§Á¨¨‰∏ÄÈ°µ pageSize: 5, //ÊØèÈ°µÁöÑËÆ∞ÂΩïË°åÊï∞Ôºà*Ôºâ pageList: [5, 25, 50, 100], //ÂèØ‰æõÈÄâÊã©ÁöÑÊØèÈ°µÁöÑË°åÊï∞Ôºà*Ôºâ strictSearch: true, minimumCountColumns: 2, //ÊúÄÂ∞ëÂÖÅËÆ∏ÁöÑÂàóÊï∞ clickToSelect: true, //ÊòØÂê¶ÂêØÁî®ÁÇπÂáªÈÄâ‰∏≠Ë°å uniqueId: "ID", //ÊØè‰∏ÄË°åÁöÑÂîØ‰∏ÄÊ†áËØÜÔºå‰∏ÄËà¨‰∏∫‰∏ªÈîÆÂàó cardView: false, detailView: false, //ÊòØÂê¶ÊòæÁ§∫ËØ¶ÁªÜËßÜÂõæ smartDisplay: false, queryParams: function(params) &#123; return &#123; pageSize: params.limit, pageNum: params.offset / params.limit + 1, roleName: $(".form").find("input[name='roleName']").val().trim(), &#125;; &#125;, columns: [&#123; checkbox: true &#125;,&#123; field: 'roleId', title: 'ËßíËâ≤ID' &#125;,&#123; field: 'roleName', title: 'ËßíËâ≤' &#125;, &#123; field: 'remark', title: 'ÊèèËø∞' &#125;, &#123; field: 'createTime', title: 'ÂàõÂª∫Êó∂Èó¥' &#125;, &#123; field: 'modifyTime', title: '‰øÆÊîπÊó∂Èó¥' &#125;]&#125;);// ÊêúÁ¥¢ÊñπÊ≥ïfunction search() &#123; $('#roleTable').bootstrapTable('refresh');&#125;// ÈáçÁΩÆÊñπÊ≥ïfunction refresh() &#123; $(".form")[0].reset(); search();&#125;ÂêéÁ´ØËøîÂõûÁöÑJSONÊï∞ÊçÆÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&#123; "total": 9, "rows": [&#123; "roleId": 1, "roleName": "ÁÆ°ÁêÜÂëò", "remark": "ÁÆ°ÁêÜÂëò", "createTime": 1514362991000, "modifyTime": 1519459305000 &#125;, &#123; "roleId": 2, "roleName": "ÊµãËØïË¥¶Âè∑", "remark": "ÊµãËØïË¥¶Âè∑", "createTime": 1514363109000, "modifyTime": 1516669871000 &#125;, &#123; "roleId": 3, "roleName": "Ê≥®ÂÜåË¥¶Êà∑", "remark": "Ê≥®ÂÜåË¥¶Êà∑ÔºåÂè™ÂèØÊü•ÁúãÔºå‰∏çÂèØÊìç‰Ωú", "createTime": 1514534415000, "modifyTime": 1519464825000 &#125;, &#123; "roleId": 23, "roleName": "Áî®Êà∑ÁÆ°ÁêÜÂëò", "remark": "Ë¥üË¥£Áî®Êà∑ÁöÑÂ¢ûÂà†ÊîπÊìç‰Ωú", "createTime": 1515483161000, "modifyTime": null &#125;, &#123; "roleId": 24, "roleName": "Á≥ªÁªüÁõëÊéßÂëò", "remark": "ÂèØÊü•ÁúãÁ≥ªÁªüÁõëÊéß‰ø°ÊÅØÔºå‰ΩÜ‰∏çÂèØÊìç‰Ωú", "createTime": 1515484321000, "modifyTime": 1520420733000 &#125;, &#123; "roleId": 25, "roleName": "Áî®Êà∑Êü•Áúã", "remark": "Êü•ÁúãÁî®Êà∑ÔºåÊó†Áõ∏Â∫îÊìç‰ΩúÊùÉÈôê", "createTime": 1515484590000, "modifyTime": null &#125;, &#123; "roleId": 63, "roleName": "ÂΩ±Èô¢Â∑•‰ΩúËÄÖ", "remark": "ÂèØÊü•ÁúãÂΩ±ËßÜ‰ø°ÊÅØ", "createTime": 1517878108000, "modifyTime": 1520420726000 &#125;, &#123; "roleId": 64, "roleName": "Â§©Ê∞îÈ¢ÑÊä•Âëò", "remark": "ÂèØÊü•ÁúãÂ§©Ê∞îÈ¢ÑÊä•‰ø°ÊÅØ", "createTime": 1519692424000, "modifyTime": null &#125;, &#123; "roleId": 65, "roleName": "ÊñáÁ´†ÂÆ°Ê†∏", "remark": "ÊñáÁ´†Á±ª", "createTime": 1519692481000, "modifyTime": 1520911234000 &#125;]&#125;È°µÈù¢ÊòæÁ§∫ÊïàÊûúÂ¶Ç‰∏ãÔºö ‰∫åÊ¨°Â∞ÅË£ÖÂÆûÈôÖ‰ΩøÁî®‰∏≠Èô§‰∫ÜÂá†‰∏™Â∏∏Áî®ÁöÑÂèÇÊï∞ÊØîÂ¶ÇurlÔºåqueryParamsÔºåcolumnsÁ≠âÁ≠â‰πãÂ§ñÔºåÂâ©‰∏ãÁöÑÂèÇÊï∞‰∏ÄËà¨ÈªòËÆ§Â∞±Â•ΩÔºåÊâÄ‰ª•Êé•‰∏ãÊù•ÂØπÂÖ∂ËøõË°å‰∫åÊ¨°Â∞ÅË£ÖÔºå‰ΩøÂæóÂºÄÂèë‰∏≠Êõ¥‰∏∫Êñπ‰æø„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445var $Mrbird = (function() &#123; var bootstrapTable_default = &#123; method: 'get', striped: true, cache: false, pagination: true, sortable: false, sidePagination: "server", pageNumber: 1, pageSize: 5, pageList: [5, 10, 25, 50, 100], strictSearch: true, showColumns: false, minimumCountColumns: 2, clickToSelect: true, uniqueId: "ID", cardView: false, detailView: false, smartDisplay: false, queryParams: function(params) &#123; return &#123; pageSize: params.limit, pageNum: params.offset / params.limit + 1, &#125;; &#125; &#125; function _initTable(id, settings) &#123; var params = $.extend(&#123;&#125;, bootstrapTable_default, settings); if (typeof params.url == 'undefined') &#123; throw 'ÂàùÂßãÂåñË°®Ê†ºÂ§±Ë¥•ÔºåËØ∑ÈÖçÁΩÆurlÂèÇÊï∞ÔºÅ'; &#125; if (typeof params.columns == 'undefined') &#123; throw 'ÂàùÂßãÂåñË°®Ê†ºÂ§±Ë¥•ÔºåËØ∑ÈÖçÁΩÆcolumnsÂèÇÊï∞ÔºÅ'; &#125; $('#' + id).bootstrapTable(params); &#125; return &#123; initTable: function(id, settings) &#123; _initTable(id, settings); &#125;, refreshTable: function(id) &#123; $('#' + id).bootstrapTable('refresh'); &#125; &#125;&#125;)($);ËøôÊ†∑ÔºåÂú®‰ΩøÁî®Bootstap TableÊèí‰ª∂ÁöÑÊó∂ÂÄôÂè™ÈúÄË¶ÅÂÉè‰∏ãÈù¢ËøôÊ†∑‰π¶ÂÜôÂç≥ÂèØÔºö123456789101112131415161718192021222324252627282930313233$(function() &#123; var settings = &#123; url: ctx + "bootstrap-table/list", queryParams: function(params) &#123; return &#123; pageSize: params.limit, pageNum: params.offset / params.limit + 1, roleName: $(".form").find("input[name='roleName']").val().trim(), &#125;; &#125;, columns: [&#123; checkbox: true &#125;, &#123; field: 'roleId', title: 'ËßíËâ≤ID' &#125;, &#123; field: 'roleName', title: 'ËßíËâ≤' &#125;, &#123; field: 'remark', title: 'ÊèèËø∞' &#125;, &#123; field: 'createTime', title: 'ÂàõÂª∫Êó∂Èó¥' &#125;, &#123; field: 'modifyTime', title: '‰øÆÊîπÊó∂Èó¥' &#125; ] &#125; $Mrbird.initTable('roleTable', settings);&#125;);ÈôÑÂΩïBootstap TableÈô§‰∫Ü‰∏äÈù¢‰ªãÁªçÁöÑÂÜÖÂÆπÂ§ñÔºåÂÖ∂ËøòÂåÖÂê´‰∫ÜËÆ∏Â§öÂà´ÁöÑÁâπÊÄßÔºåÂèØÂèÇËÄÉÂÆòÊñπÊñáÊ°£Ôºöhttp://bootstrap-table.wenzhixin.net.cn/zh-cn/documentation/„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://drive.google.com/open?id=1qEVgDDBfbdaVJ1FSckzQr6RAUyGF7k6J]]></content>
      <tags>
        <tag>Bootstrap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux‰∏ãÈÉ®ÁΩ≤Spring Boot jar]]></title>
    <url>%2FLinux%20Spring-Boot-jar.html</url>
    <content type="text"><![CDATA[ÈÉ®ÁΩ≤Spring BootÈ°πÁõÆÂèØ‰ª•‰ΩøÁî®MavenÂëΩ‰ª§mvn:clean packageÂ∞ÜÈ°πÁõÆÊâìÂåÖÊàêÂè™ÊâßË°åÁöÑjarÊñá‰ª∂ÔºåÁÑ∂Âêé‰ΩøÁî®ÂëΩ‰ª§java -jar XX.jarÊù•ÊâßË°å„ÄÇ‰ΩÜËøôÊ†∑ÂÅöÊó†Ê≥ïÂ∞ÜshellÂëΩ‰ª§Ë°åÈáäÊîæÔºåÂÖ≥Èó≠terminalÂêéÈ°πÁõÆ‰πüÈöè‰πãÂÖ≥Èó≠‰∫Ü„ÄÇËøôÈáå‰ªãÁªçÂú®LinuxÁ≥ªÁªü‰∏≠ÂêéÂè∞ËøêË°åSpring Boot jarÊñá‰ª∂ÁöÑÊñπÊ≥ï„ÄÇÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩ‰∏ªË¶Å‰æùËµñ‰∫éLinuxÁöÑnohupÂëΩ‰ª§„ÄÇnohupÂëΩ‰ª§ÂèØ‰ª•Â∞ÜÁ®ãÂ∫è‰ª•ÂøΩÁï•ÊåÇËµ∑‰ø°Âè∑ÁöÑÊñπÂºèËøêË°åËµ∑Êù•ÔºåË¢´ËøêË°åÁöÑÁ®ãÂ∫èÁöÑËæìÂá∫‰ø°ÊÅØÂ∞Ü‰∏ç‰ºöÊòæÁ§∫Âà∞ÁªàÁ´Ø„ÄÇnohupËØ≠Ê≥ïÔºö123nohup ÂëΩ‰ª§Áî®ÈÄîÔºö‰∏çÊåÇÊñ≠Âú∞ËøêË°åÂëΩ‰ª§„ÄÇËØ≠Ê≥ïÔºönohup Command [ Arg ‚Ä¶ ][ &amp; ]ÊâÄ‰ª•Âè™ÈúÄË¶ÅÂú®ÂêØÂä®ÂëΩ‰ª§ÂâçÂä†‰∏änohupÂëΩ‰ª§ÔºåÊú´Â∞æÂä†‰∏ä&amp;Âç≥ÂèØÔºönohup java -jar XX.jar &amp;„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÔºåÊàë‰ª¨ÂèØ‰ª•ÁºñÂÜôÂêØÂä®ËÑöÊú¨start.shÔºö1nohup java -jar XX.jar &amp;ÂÖ≥ÂÅúËÑöÊú¨stop.shÔºö12345678PID=`ps -ef | grep sms-2.0.jar | grep -v grep | awk '&#123;print $2&#125;'`if [ -z "$PID" ]then echo Application is already stoppedelse echo kill $PID kill -9 $PIDfiÈáçÂêØËÑöÊú¨run.shÔºö1234echo stop applicationsource stop.shecho start applicationsource start.shÂú®ÁºñÂÜôshellËÑöÊú¨ÁöÑËøáÁ®ã‰∏≠ÈÅáÂà∞‰∫Ü‰∏§‰∏™ÈóÆÈ¢òÔºöÊâßË°å.shÊñá‰ª∂ÊèêÁ§∫ÊùÉÈôê‰∏çË∂≥ÔºöËß£ÂÜ≥ÂäûÊ≥ïÔºöÊâßË°åÂëΩ‰ª§chmod u+x XX.shËµã‰∫àÂΩìÂâçÁî®‰∫éÂèØÊâßË°åÁöÑÊùÉÈôêÂç≥ÂèØ„ÄÇÊèêÁ§∫/bin/bash^M: bad interpreter: Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï„ÄÇÈóÆÈ¢òÂá∫Áé∞ÁöÑÂéüÂõ†ÊòØshellËÑöÊú¨ÊòØÂú®windows‰∏≠ÁºñÂÜôÁöÑÁÑ∂Âêé‰∏ä‰º†Âà∞Linux‰∏≠ÁöÑÔºåÂá∫Áé∞‰∫ÜÂÖºÂÆπÊÄßÈóÆÈ¢ò„ÄÇËß£ÂÜ≥ÂäûÊ≥ïÔºöÊâßË°åvim XX.shÊâìÂºÄshellÊñá‰ª∂ÔºåÁÑ∂ÂêéÂàáÊç¢Âà∞ÂëΩ‰ª§Ê®°ÂºèÔºåÊâßË°å:set fileformat=unixÂêé‰øùÂ≠òÈÄÄÂá∫Âç≥ÂèØ„ÄÇ‰ΩøÁî®‰∫ÜnohupÂëΩ‰ª§ÂêéÔºå‰ºöÂú®jarÊñá‰ª∂ÁõÆÂΩï‰∏ãÁîüÊàê‰∏Ä‰∏™nohup.outÊñá‰ª∂ÔºåÂèØÈÄöËøáÂÖ∂ËßÇÂØüÂΩìÂâçÈ°πÁõÆÁöÑËøêË°åÊÉÖÂÜµÔºö1234567891011121314151617181920$ llÊÄªÁî®Èáè 76612drwxrwxr-x 2 zjrun zjrun 4096 2Êúà 8 08:49 log-rw------- 1 zjrun zjrun 58695723 2Êúà 8 10:15 nohup.out-rwxrw-r-- 1 zjrun zjrun 88 2Êúà 7 15:17 run.sh-rw-rw-r-- 1 zjrun zjrun 19730199 2Êúà 8 10:11 sms-1.0.jar-rwxrw-r-- 1 zjrun zjrun 60 2Êúà 7 15:22 start.sh-rwxrw-r-- 1 zjrun zjrun 184 2Êúà 7 15:19 stop.sh$ tail -10f nohup.out 10:14:31.309 logback [main] INFO o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup10:14:31.478 logback [main] INFO o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8963"]10:14:31.498 logback [main] INFO o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8963"]10:14:31.506 logback [main] INFO o.a.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read10:14:31.634 logback [main] INFO o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat started on port(s): 8963 (http)10:14:31.644 logback [main] INFO com.xingyi.sms.SmsApplication - Started SmsApplication in 7.213 seconds (JVM running for 8.03)complete!10:15:26.978 logback [http-nio-8963-exec-1] INFO o.a.c.c.C.[.[localhost].[/mobilePre] - Initializing Spring FrameworkServlet 'dispatcherServlet'10:15:26.979 logback [http-nio-8963-exec-1] INFO o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started10:15:27.004 logback [http-nio-8963-exec-1] INFO o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 25 msÂèÇËÄÉËá™Ôºö http://blog.didispace.com/spring-boot-run-backend/]]></content>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot logbackÊó•ÂøóÈÖçÁΩÆ[ËΩ¨]]]></title>
    <url>%2FSpring-Boot-logback.html</url>
    <content type="text"><![CDATA[Spring BootÂú®ÊâÄÊúâÂÜÖÈÉ®Êó•Âøó‰∏≠‰ΩøÁî®Commons LoggingÔºå‰ΩÜÊòØÈªòËÆ§ÈÖçÁΩÆ‰πüÊèê‰æõ‰∫ÜÂØπÂ∏∏Áî®Êó•ÂøóÁöÑÊîØÊåÅÔºåÂ¶ÇÔºöJava Util LoggingÔºåLog4J, Log4J2ÂíåLogback„ÄÇÊØèÁßçLoggerÈÉΩÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆ‰ΩøÁî®ÊéßÂà∂Âè∞ÊàñËÄÖÊñá‰ª∂ËæìÂá∫Êó•ÂøóÂÜÖÂÆπ„ÄÇSLF4J ‚Äî‚Äî Simple Logging Facade For JavaÔºåÂÆÉÊòØ‰∏Ä‰∏™ÈíàÂØπ‰∫éÂêÑÁ±ªJavaÊó•ÂøóÊ°ÜÊû∂ÁöÑÁªü‰∏ÄFacadeÊäΩË±°„ÄÇJavaÊó•ÂøóÊ°ÜÊû∂‰ºóÂ§ö‚Äî‚ÄîÂ∏∏Áî®ÁöÑÊúâjava.util.logging, log4j, logbackÔºåcommons-logging, SpringÊ°ÜÊû∂‰ΩøÁî®ÁöÑÊòØJakarta Commons Logging APIÔºàJCLÔºâ„ÄÇËÄåSLF4JÂÆö‰πâ‰∫ÜÁªü‰∏ÄÁöÑÊó•ÂøóÊäΩË±°Êé•Âè£ÔºåËÄåÁúüÊ≠£ÁöÑÊó•ÂøóÂÆûÁé∞ÂàôÊòØÂú®ËøêË°åÊó∂ÂÜ≥ÂÆöÁöÑ‚Äî‚ÄîÂÆÉÊèê‰æõ‰∫ÜÂêÑÁ±ªÊó•ÂøóÊ°ÜÊû∂ÁöÑÁªëÂÆö„ÄÇLogbackÊòØlog4jÊ°ÜÊû∂ÁöÑ‰ΩúËÄÖÂºÄÂèëÁöÑÊñ∞‰∏Ä‰ª£Êó•ÂøóÊ°ÜÊû∂ÔºåÂÆÉÊïàÁéáÊõ¥È´ò„ÄÅËÉΩÂ§üÈÄÇÂ∫îËØ∏Â§öÁöÑËøêË°åÁéØÂ¢ÉÔºåÂêåÊó∂Â§©ÁÑ∂ÊîØÊåÅSLF4J„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåSpring Boot‰ºöÁî®LogbackÊù•ËÆ∞ÂΩïÊó•ÂøóÔºåÂπ∂Áî®INFOÁ∫ßÂà´ËæìÂá∫Âà∞ÊéßÂà∂Âè∞„ÄÇÂú®ËøêË°åÂ∫îÁî®Á®ãÂ∫èÂíåÂÖ∂‰ªñ‰æãÂ≠êÊó∂Ôºå‰Ω†Â∫îËØ•Â∑≤ÁªèÁúãÂà∞ÂæàÂ§öINFOÁ∫ßÂà´ÁöÑÊó•Âøó‰∫Ü„ÄÇ123456789101112 _ _ _ _ _ _ / \ / \ / \ / \ / \ / \ ( m | r | b | i | r | d ) \_/ \_/ \_/ \_/ \_/ \_/ 2018-02-08 15:05:03.368 INFO 14404 --- [ main] cc.mrbird.Application : Starting Application on SC-201802012049 with PID 14404 (D:\neonWorkspace\mrbird\target\classes started by Administrator in D:\neonWorkspace\mrbird)2018-02-08 15:05:03.375 INFO 14404 --- [ main] cc.mrbird.Application : No active profile set, falling back to default profiles: default2018-02-08 15:05:03.777 INFO 14404 --- [ main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@31321838: startup date [Thu Feb 08 15:05:03 CST 2018]; root of context hierarchy2018-02-08 15:05:05.083 INFO 14404 --- [ main] o.s.b.f.s.DefaultListableBeanFactory : Overriding bean definition for bean &apos;advisorAutoProxyCreator&apos; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=shiroConfig; factoryMethodName=advisorAutoProxyCreator; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [cc/mrbird/config/ShiroConfig.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=com.alibaba.druid.spring.boot.autoconfigure.stat.DruidSpringAopConfiguration; factoryMethodName=advisorAutoProxyCreator; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/stat/DruidSpringAopConfiguration.class]]2018-02-08 15:05:05.554 INFO 14404 --- [ main] trationDelegate$BeanPostProcessorChecker : Bean &apos;shiroConfig&apos; of type [cc.mrbird.config.ShiroConfig$$EnhancerBySpringCGLIB$$b7e43ac8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)2018-02-08 15:05:05.600 INFO 14404 --- [ main] trationDelegate$BeanPostProcessorChecker : Bean &apos;com.alibaba.druid.spring.boot.autoconfigure.stat.DruidSpringAopConfiguration&apos; of type [com.alibaba.druid.spring.boot.autoconfigure.stat.DruidSpringAopConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)2018-02-08 15:05:06.231 INFO 14404 --- [ main] trationDelegate$BeanPostProcessorChecker : Bean &apos;mybatis-org.mybatis.spring.boot.autoconfigure.MybatisProperties&apos; of type [org.mybatis.spring.boot.autoconfigure.MybatisProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)...‰ªé‰∏äÈù¢ÂèØ‰ª•ÁúãÂà∞ÔºåÊó•ÂøóËæìÂá∫ÂÜÖÂÆπÂÖÉÁ¥†ÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºöÊó∂Èó¥Êó•ÊúüÔºöÁ≤æÁ°ÆÂà∞ÊØ´ÁßíÔºõÊó•ÂøóÁ∫ßÂà´ÔºöERROR, WARN, INFO, DEBUG or TRACEÔºõËøõÁ®ãIDÔºõÂàÜÈöîÁ¨¶Ôºö---Ê†áËØÜÂÆûÈôÖÊó•ÂøóÁöÑÂºÄÂßãÔºõÁ∫øÁ®ãÂêçÔºöÊñπÊã¨Âè∑Êã¨Ëµ∑Êù•ÔºàÂèØËÉΩ‰ºöÊà™Êñ≠ÊéßÂà∂Âè∞ËæìÂá∫ÔºâÔºõLoggerÂêçÔºöÈÄöÂ∏∏‰ΩøÁî®Ê∫ê‰ª£Á†ÅÁöÑÁ±ªÂêçÔºõÊó•ÂøóÂÜÖÂÆπ„ÄÇÊ∑ªÂä†Êó•Âøó‰æùËµñÂÅáÂ¶Çmaven‰æùËµñ‰∏≠Ê∑ªÂä†‰∫Üspring-boot-starter-loggingÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;&lt;/dependency&gt;ÈÇ£‰πàÔºåÊàë‰ª¨ÁöÑSpring BootÂ∫îÁî®Â∞ÜËá™Âä®‰ΩøÁî®logback‰Ωú‰∏∫Â∫îÁî®Êó•ÂøóÊ°ÜÊû∂ÔºåSpring BootÂêØÂä®ÁöÑÊó∂ÂÄôÔºåÁî±org.springframework.boot.logging.Logging-Application-ListenerÊ†πÊçÆÊÉÖÂÜµÂàùÂßãÂåñÂπ∂‰ΩøÁî®„ÄÇÈªòËÆ§ÈÖçÁΩÆÂ±ûÊÄßÊîØÊåÅSpring Boot‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÂæàÂ§öÈªòËÆ§ÁöÑÊó•ÂøóÈÖçÁΩÆÔºåÊâÄ‰ª•ÔºåÂè™Ë¶ÅÂ∞Üspring-boot-starter-logging‰Ωú‰∏∫‰æùËµñÂä†ÂÖ•Âà∞ÂΩìÂâçÂ∫îÁî®ÁöÑclasspathÔºåÂàô‚ÄúÂºÄÁÆ±Âç≥Áî®‚Äù„ÄÇ ‰∏ãÈù¢‰ªãÁªçÂá†ÁßçÂú®application.propertiesÂ∞±ÂèØ‰ª•ÈÖçÁΩÆÁöÑÊó•ÂøóÁõ∏ÂÖ≥Â±ûÊÄß„ÄÇÊéßÂà∂Âè∞ËæìÂá∫Êó•ÂøóÁ∫ßÂà´‰ªé‰ΩéÂà∞È´òÂàÜ‰∏∫TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATALÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫WARNÔºåÂàô‰Ωé‰∫éWARNÁöÑ‰ø°ÊÅØÈÉΩ‰∏ç‰ºöËæìÂá∫„ÄÇ Spring Boot‰∏≠ÈªòËÆ§ÈÖçÁΩÆERROR„ÄÅWARNÂíåINFOÁ∫ßÂà´ÁöÑÊó•ÂøóËæìÂá∫Âà∞ÊéßÂà∂Âè∞„ÄÇÊÇ®ËøòÂèØ‰ª•ÈÄöËøáÂêØÂä®ÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫è‚ÄìdebugÊ†áÂøóÊù•ÂêØÁî®‚ÄúË∞ÉËØï‚ÄùÊ®°ÂºèÔºàÂºÄÂèëÁöÑÊó∂ÂÄôÊé®ËçêÂºÄÂêØÔºâ,‰ª•‰∏ã‰∏§ÁßçÊñπÂºèÁöÜÂèØÔºöÂú®ËøêË°åÂëΩ‰ª§ÂêéÂä†ÂÖ•‚ÄìdebugÊ†áÂøóÔºåÂ¶ÇÔºö$ java -jar springTest.jar --debug„ÄÇÂú®application.properties‰∏≠ÈÖçÁΩÆdebug=trueÔºåËØ•Â±ûÊÄßÁΩÆ‰∏∫trueÁöÑÊó∂ÂÄôÔºåÊ†∏ÂøÉLoggerÔºàÂåÖÂê´ÂµåÂÖ•ÂºèÂÆπÂô®„ÄÅhibernate„ÄÅspringÔºâ‰ºöËæìÂá∫Êõ¥Â§öÂÜÖÂÆπÔºå‰ΩÜÊòØ‰Ω†Ëá™Â∑±Â∫îÁî®ÁöÑÊó•ÂøóÂπ∂‰∏ç‰ºöËæìÂá∫‰∏∫DEBUGÁ∫ßÂà´„ÄÇÊñá‰ª∂ËæìÂá∫ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåSpring BootÂ∞ÜÊó•ÂøóËæìÂá∫Âà∞ÊéßÂà∂Âè∞Ôºå‰∏ç‰ºöÂÜôÂà∞Êó•ÂøóÊñá‰ª∂„ÄÇÂ¶ÇÊûúË¶ÅÁºñÂÜôÈô§ÊéßÂà∂Âè∞ËæìÂá∫‰πãÂ§ñÁöÑÊó•ÂøóÊñá‰ª∂ÔºåÂàôÈúÄÂú®application.properties‰∏≠ËÆæÁΩÆlogging.fileÊàñlogging.pathÂ±ûÊÄß„ÄÇlogging.fileÔºåËÆæÁΩÆÊñá‰ª∂ÔºåÂèØ‰ª•ÊòØÁªùÂØπË∑ØÂæÑÔºå‰πüÂèØ‰ª•ÊòØÁõ∏ÂØπË∑ØÂæÑ„ÄÇÂ¶ÇÔºölogging.file=my.log„ÄÇlogging.pathÔºåËÆæÁΩÆÁõÆÂΩïÔºå‰ºöÂú®ËØ•ÁõÆÂΩï‰∏ãÂàõÂª∫spring.logÊñá‰ª∂ÔºåÂπ∂ÂÜôÂÖ•Êó•ÂøóÂÜÖÂÆπÔºåÂ¶ÇÔºölogging.path=/var/log„ÄÇÂ¶ÇÊûúÂè™ÈÖçÁΩÆ logging.fileÔºå‰ºöÂú®È°πÁõÆÁöÑÂΩìÂâçË∑ØÂæÑ‰∏ãÁîüÊàê‰∏Ä‰∏™ xxx.log Êó•ÂøóÊñá‰ª∂„ÄÇÂ¶ÇÊûúÂè™ÈÖçÁΩÆ logging.pathÔºåÂú® /var/logÊñá‰ª∂Â§πÁîüÊàê‰∏Ä‰∏™Êó•ÂøóÊñá‰ª∂‰∏∫ spring.log„ÄÇÁ∫ßÂà´ÊéßÂà∂ÊâÄÊúâÊîØÊåÅÁöÑÊó•ÂøóËÆ∞ÂΩïÁ≥ªÁªüÈÉΩÂèØ‰ª•Âú®SpringÁéØÂ¢É‰∏≠ËÆæÁΩÆËÆ∞ÂΩïÁ∫ßÂà´Ôºà‰æãÂ¶ÇÂú®application.properties‰∏≠Ôºâ Ê†ºÂºè‰∏∫Ôºö‚Äôlogging.level.* = LEVEL‚Äôlogging.levelÔºöÊó•ÂøóÁ∫ßÂà´ÊéßÂà∂ÂâçÁºÄÔºå*‰∏∫ÂåÖÂêçÊàñLoggerÂêçLEVELÔºöÈÄâÈ°πTRACE, DEBUG, INFO, WARN, ERROR, FATAL, OFF‰∏æ‰æãÔºölogging.level.com.mrbird=DEBUGÔºöcom.mrbirdÂåÖ‰∏ãÊâÄÊúâclass‰ª•DEBUGÁ∫ßÂà´ËæìÂá∫„ÄÇlogging.level.root=WARNÔºörootÊó•Âøó‰ª•WARNÁ∫ßÂà´ËæìÂá∫„ÄÇËá™ÂÆö‰πâÊó•ÂøóÈÖçÁΩÆÁî±‰∫éÊó•ÂøóÊúçÂä°‰∏ÄËà¨ÈÉΩÂú®ApplicationContextÂàõÂª∫ÂâçÂ∞±ÂàùÂßãÂåñ‰∫ÜÔºåÂÆÉÂπ∂‰∏çÊòØÂøÖÈ°ªÈÄöËøáSpringÁöÑÈÖçÁΩÆÊñá‰ª∂ÊéßÂà∂„ÄÇÂõ†Ê≠§ÈÄöËøáÁ≥ªÁªüÂ±ûÊÄßÂíå‰º†ÁªüÁöÑSpring BootÂ§ñÈÉ®ÈÖçÁΩÆÊñá‰ª∂‰æùÁÑ∂ÂèØ‰ª•ÂæàÂ•ΩÁöÑÊîØÊåÅÊó•ÂøóÊéßÂà∂ÂíåÁÆ°ÁêÜ„ÄÇÊ†πÊçÆ‰∏çÂêåÁöÑÊó•ÂøóÁ≥ªÁªüÔºå‰Ω†ÂèØ‰ª•ÊåâÂ¶Ç‰∏ãËßÑÂàôÁªÑÁªáÈÖçÁΩÆÊñá‰ª∂ÂêçÔºåÂ∞±ËÉΩË¢´Ê≠£Á°ÆÂä†ËΩΩÔºöLogbackÔºölogback-spring.xml, logback-spring.groovy, logback.xml, logback.groovyLog4jÔºölog4j-spring.properties, log4j-spring.xml, log4j.properties, log4j.xmlLog4j2Ôºölog4j2-spring.xml, log4j2.xmlJDK (Java Util Logging)Ôºölogging.propertiesSpring BootÂÆòÊñπÊé®Ëçê‰ºòÂÖà‰ΩøÁî®Â∏¶Êúâ-springÁöÑÊñá‰ª∂Âêç‰Ωú‰∏∫‰Ω†ÁöÑÊó•ÂøóÈÖçÁΩÆÔºàÂ¶Ç‰ΩøÁî®logback-spring.xmlÔºåËÄå‰∏çÊòØlogback.xmlÔºâÔºåÂëΩÂêç‰∏∫logback-spring.xmlÁöÑÊó•ÂøóÈÖçÁΩÆÊñá‰ª∂Ôºåspring bootÂèØ‰ª•‰∏∫ÂÆÉÊ∑ªÂä†‰∏Ä‰∫õspring bootÁâπÊúâÁöÑÈÖçÁΩÆÈ°πÔºà‰∏ãÈù¢‰ºöÊèêÂà∞Ôºâ„ÄÇ‰∏äÈù¢ÊòØÈªòËÆ§ÁöÑÂëΩÂêçËßÑÂàôÔºåÂπ∂‰∏îÊîæÂú®src/main/resources‰∏ãÈù¢Âç≥ÂèØ„ÄÇÂ¶ÇÊûú‰Ω†Âç≥ÊÉ≥ÂÆåÂÖ®ÊéåÊéßÊó•ÂøóÈÖçÁΩÆÔºå‰ΩÜÂèà‰∏çÊÉ≥Áî®logback.xml‰Ωú‰∏∫LogbackÈÖçÁΩÆÁöÑÂêçÂ≠óÔºåÂèØ‰ª•Âú®application.propertiesÈÖçÁΩÆÊñá‰ª∂ÈáåÈù¢ÈÄöËøálogging.configÂ±ûÊÄßÊåáÂÆöËá™ÂÆö‰πâÁöÑÂêçÂ≠óÔºö1logging.config=classpath:logging-config.xmlËôΩÁÑ∂‰∏ÄËà¨Âπ∂‰∏çÈúÄË¶ÅÊîπÂèòÈÖçÁΩÆÊñá‰ª∂ÁöÑÂêçÂ≠óÔºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†ÊÉ≥ÈíàÂØπ‰∏çÂêåËøêË°åÊó∂Profile‰ΩøÁî®‰∏çÂêåÁöÑÊó• ÂøóÈÖçÁΩÆÔºåËøô‰∏™ÂäüËÉΩ‰ºöÂæàÊúâÁî®„ÄÇ‰∏ãÈù¢Êàë‰ª¨Êù•ÁúãÁúã‰∏Ä‰∏™ÊôÆÈÄöÁöÑlogback-spring.xml‰æãÂ≠ê:12345678910111213141516171819202122232425262728293031323334353637&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE xml&gt;&lt;configuration scan="true" scanPeriod="60 seconds" debug="false"&gt; &lt;contextName&gt;logback&lt;/contextName&gt; &lt;property name="log.path" value="log" /&gt; &lt;!--ËæìÂá∫Âà∞ÊéßÂà∂Âè∞--&gt; &lt;appender name="console" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;!-- &lt;filter class="ch.qos.logback.classic.filter.ThresholdFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;/filter&gt;--&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;HH:mm:ss.SSS&#125; %contextName [%thread] %-5level %logger&#123;36&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!--ËæìÂá∫Âà∞Êñá‰ª∂--&gt; &lt;appender name="file" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;$&#123;log.path&#125;/logback.%d&#123;yyyy-MM-dd&#125;.log&lt;/fileNamePattern&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;HH:mm:ss.SSS&#125; %contextName [%thread] %-5level %logger&#123;36&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;root level="info"&gt; &lt;appender-ref ref="console" /&gt; &lt;appender-ref ref="file" /&gt; &lt;/root&gt; &lt;!-- logback‰∏∫java‰∏≠ÁöÑÂåÖ --&gt; &lt;logger name="com.mrbird.controller"/&gt; &lt;!--logback.LogbackDemoÔºöÁ±ªÁöÑÂÖ®Ë∑ØÂæÑ --&gt; &lt;logger name="com.mrbird.controller.LoginController" level="WARN" additivity="false"&gt; &lt;appender-ref ref="console"/&gt; &lt;/logger&gt;&lt;/configuration&gt;Ê†πËäÇÁÇπ&lt;configuration&gt;ÂåÖÂê´ÁöÑÂ±ûÊÄßscanÔºöÂΩìÊ≠§Â±ûÊÄßËÆæÁΩÆ‰∏∫trueÊó∂ÔºåÈÖçÁΩÆÊñá‰ª∂Â¶ÇÊûúÂèëÁîüÊîπÂèòÔºåÂ∞Ü‰ºöË¢´ÈáçÊñ∞Âä†ËΩΩÔºåÈªòËÆ§ÂÄº‰∏∫true„ÄÇscanPeriodÔºöËÆæÁΩÆÁõëÊµãÈÖçÁΩÆÊñá‰ª∂ÊòØÂê¶Êúâ‰øÆÊîπÁöÑÊó∂Èó¥Èó¥ÈöîÔºåÂ¶ÇÊûúÊ≤°ÊúâÁªôÂá∫Êó∂Èó¥Âçï‰ΩçÔºåÈªòËÆ§Âçï‰ΩçÊòØÊØ´Áßí„ÄÇÂΩìscan‰∏∫trueÊó∂ÔºåÊ≠§Â±ûÊÄßÁîüÊïà„ÄÇÈªòËÆ§ÁöÑÊó∂Èó¥Èó¥Èöî‰∏∫1ÂàÜÈíü„ÄÇdebugÔºöÂΩìÊ≠§Â±ûÊÄßËÆæÁΩÆ‰∏∫trueÊó∂ÔºåÂ∞ÜÊâìÂç∞Âá∫logbackÂÜÖÈÉ®Êó•Âøó‰ø°ÊÅØÔºåÂÆûÊó∂Êü•ÁúãlogbackËøêË°åÁä∂ÊÄÅ„ÄÇÈªòËÆ§ÂÄº‰∏∫false„ÄÇÊ†πËäÇÁÇπ&lt;configuration&gt;ÁöÑÂ≠êËäÇÁÇπÔºö&lt;configuration&gt;‰∏ãÈù¢‰∏ÄÂÖ±Êúâ2‰∏™Â±ûÊÄßÔºå3‰∏™Â≠êËäÇÁÇπÔºåÂàÜÂà´ÊòØÔºöÂ±ûÊÄß‰∏ÄÔºöËÆæÁΩÆ‰∏ä‰∏ãÊñáÂêçÁß∞&lt;contextName&gt;ÊØè‰∏™loggerÈÉΩÂÖ≥ËÅîÂà∞logger‰∏ä‰∏ãÊñáÔºåÈªòËÆ§‰∏ä‰∏ãÊñáÂêçÁß∞‰∏∫‚Äúdefault‚Äù„ÄÇ‰ΩÜÂèØ‰ª•‰ΩøÁî®ËÆæÁΩÆÊàêÂÖ∂‰ªñÂêçÂ≠óÔºåÁî®‰∫éÂå∫ÂàÜ‰∏çÂêåÂ∫îÁî®Á®ãÂ∫èÁöÑËÆ∞ÂΩï„ÄÇ‰∏ÄÊó¶ËÆæÁΩÆÔºå‰∏çËÉΩ‰øÆÊîπ,ÂèØ‰ª•ÈÄöËøá%contextNameÊù•ÊâìÂç∞Êó•Âøó‰∏ä‰∏ãÊñáÂêçÁß∞„ÄÇ1&lt;contextName&gt;logback&lt;/contextName&gt;Â±ûÊÄß‰∫åÔºöËÆæÁΩÆÂèòÈáè&lt;property&gt; Áî®Êù•ÂÆö‰πâÂèòÈáèÂÄºÁöÑÊ†áÁ≠æÔºåÊúâ‰∏§‰∏™Â±ûÊÄßÔºånameÂíåvalueÔºõÂÖ∂‰∏≠nameÁöÑÂÄºÊòØÂèòÈáèÁöÑÂêçÁß∞ÔºåvalueÁöÑÂÄºÊó∂ÂèòÈáèÂÆö‰πâÁöÑÂÄº„ÄÇÈÄöËøáÂÆö‰πâÁöÑÂÄº‰ºöË¢´ÊèíÂÖ•Âà∞logger‰∏ä‰∏ãÊñá‰∏≠„ÄÇÂÆö‰πâÂèòÈáèÂêéÔºåÂèØ‰ª•‰Ωø‚Äú${}‚ÄùÊù•‰ΩøÁî®ÂèòÈáè„ÄÇ1&lt;property name="log.path" value="log" /&gt;Â≠êËäÇÁÇπ‰∏Ä&lt;appender&gt;appenderÁî®Êù•Ê†ºÂºèÂåñÊó•ÂøóËæìÂá∫ËäÇÁÇπÔºåÊúâ‰ø©‰∏™Â±ûÊÄßnameÂíåclassÔºåclassÁî®Êù•ÊåáÂÆöÂì™ÁßçËæìÂá∫Á≠ñÁï•ÔºåÂ∏∏Áî®Â∞±ÊòØÊéßÂà∂Âè∞ËæìÂá∫Á≠ñÁï•ÂíåÊñá‰ª∂ËæìÂá∫Á≠ñÁï•„ÄÇÊéßÂà∂Âè∞ËæìÂá∫ConsoleAppenderÔºö123456789&lt;!--ËæìÂá∫Âà∞ÊéßÂà∂Âè∞--&gt;&lt;appender name="console" class="ch.qos.logback.core.ConsoleAppender"&gt; &lt;filter class="ch.qos.logback.classic.filter.ThresholdFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;/filter&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;HH:mm:ss.SSS&#125; %contextName [%thread] %-5level %logger&#123;36&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt;&lt;/appender&gt;&lt;encoder&gt;Ë°®Á§∫ÂØπÊó•ÂøóËøõË°åÁºñÁ†ÅÔºö%d{HH: mm:ss.SSS}‚Äî‚ÄîÊó•ÂøóËæìÂá∫Êó∂Èó¥„ÄÇ%thread‚Äî‚ÄîËæìÂá∫Êó•ÂøóÁöÑËøõÁ®ãÂêçÂ≠óÔºåËøôÂú®WebÂ∫îÁî®‰ª•ÂèäÂºÇÊ≠•‰ªªÂä°Â§ÑÁêÜ‰∏≠ÂæàÊúâÁî®„ÄÇ%-5level‚Äî‚ÄîÊó•ÂøóÁ∫ßÂà´ÔºåÂπ∂‰∏î‰ΩøÁî®5‰∏™Â≠óÁ¨¶Èù†Â∑¶ÂØπÈΩê„ÄÇ%logger{36}‚Äî‚ÄîÊó•ÂøóËæìÂá∫ËÄÖÁöÑÂêçÂ≠ó„ÄÇ%msg‚Äî‚ÄîÊó•ÂøóÊ∂àÊÅØ„ÄÇ%n‚Äî‚ÄîÂπ≥Âè∞ÁöÑÊç¢Ë°åÁ¨¶„ÄÇThresholdFilter‰∏∫Á≥ªÁªüÂÆö‰πâÁöÑÊã¶Êà™Âô®Ôºå‰æãÂ¶ÇÊàë‰ª¨Áî®ThresholdFilterÊù•ËøáÊª§ÊéâERRORÁ∫ßÂà´‰ª•‰∏ãÁöÑÊó•Âøó‰∏çËæìÂá∫Âà∞Êñá‰ª∂‰∏≠„ÄÇÂ¶ÇÊûú‰∏çÁî®ËÆ∞ÂæóÊ≥®ÈáäÊéâÔºå‰∏çÁÑ∂‰Ω†ÊéßÂà∂Âè∞‰ºöÂèëÁé∞Ê≤°Êó•Âøó~ËæìÂá∫Âà∞Êñá‰ª∂RollingFileAppenderÔºöÂè¶‰∏ÄÁßçÂ∏∏ËßÅÁöÑÊó•ÂøóËæìÂá∫Âà∞Êñá‰ª∂ÔºåÈöèÁùÄÂ∫îÁî®ÁöÑËøêË°åÊó∂Èó¥Ë∂äÊù•Ë∂äÈïøÔºåÊó•Âøó‰πü‰ºöÂ¢ûÈïøÁöÑË∂äÊù•Ë∂äÂ§öÔºåÂ∞Ü‰ªñ‰ª¨ËæìÂá∫Âà∞Âêå‰∏Ä‰∏™Êñá‰ª∂Âπ∂Èùû‰∏Ä‰∏™Â•ΩÂäûÊ≥ï„ÄÇRollingFileAppenderÁî®‰∫éÂàáÂàÜÊñá‰ª∂Êó•ÂøóÔºö1234567891011&lt;!--ËæìÂá∫Âà∞Êñá‰ª∂--&gt;&lt;appender name="file" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; &lt;fileNamePattern&gt;$&#123;log.path&#125;/logback.%d&#123;yyyy-MM-dd&#125;.log&lt;/fileNamePattern&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;%d&#123;HH:mm:ss.SSS&#125; %contextName [%thread] %-5level %logger&#123;36&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt;&lt;/appender&gt;ÂÖ∂‰∏≠ÈáçË¶ÅÁöÑÊòØrollingPolicyÁöÑÂÆö‰πâÔºö&lt;fileNamePattern&gt;${log.path}/logback.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;ÂÆö‰πâ‰∫ÜÊó•ÂøóÁöÑÂàáÂàÜÊñπÂºè‚Äî‚ÄîÊääÊØè‰∏ÄÂ§©ÁöÑÊó•ÂøóÂΩíÊ°£Âà∞‰∏Ä‰∏™Êñá‰ª∂‰∏≠Ôºõ&lt;maxHistory&gt;30&lt;/maxHistory&gt;Ë°®Á§∫Âè™‰øùÁïôÊúÄËøë30Â§©ÁöÑÊó•ÂøóÔºå‰ª•Èò≤Ê≠¢Êó•ÂøóÂ°´Êª°Êï¥‰∏™Á£ÅÁõòÁ©∫Èó¥„ÄÇÂêåÁêÜÔºåÂèØ‰ª•‰ΩøÁî®%d{yyyy-MM-dd_HH-mm}Êù•ÂÆö‰πâÁ≤æÁ°ÆÂà∞ÂàÜÁöÑÊó•ÂøóÂàáÂàÜÊñπÂºèÔºõ&lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;Áî®Êù•ÊåáÂÆöÊó•ÂøóÊñá‰ª∂ÁöÑ‰∏äÈôêÂ§ßÂ∞èÔºå‰æãÂ¶ÇËÆæÁΩÆ‰∏∫1GBÁöÑËØùÔºåÈÇ£‰πàÂà∞‰∫ÜËøô‰∏™ÂÄºÔºåÂ∞±‰ºöÂà†Èô§ÊóßÁöÑÊó•Âøó„ÄÇlogback ÊØèÂ§©ÁîüÊàêÂíåÂ§ßÂ∞èÁîüÊàêÂÜ≤Á™ÅÁöÑÈóÆÈ¢òÂèØ‰ª•ÁúãËøô‰∏™Ëß£Á≠îÔºöhttp://blog.csdn.net/wujianmin577/article/details/68922545„ÄÇÂ≠êËäÇÁÇπ‰∫å&lt;root&gt;rootËäÇÁÇπÊòØÂøÖÈÄâËäÇÁÇπÔºåÁî®Êù•ÊåáÂÆöÊúÄÂü∫Á°ÄÁöÑÊó•ÂøóËæìÂá∫Á∫ßÂà´ÔºåÂè™Êúâ‰∏Ä‰∏™levelÂ±ûÊÄßÔºåÁî®Êù•ËÆæÁΩÆÊâìÂç∞Á∫ßÂà´ÔºåÂ§ßÂ∞èÂÜôÊó†ÂÖ≥ÔºöTRACE, DEBUG, INFO, WARN, ERROR, ALL Âíå OFFÔºå‰∏çËÉΩËÆæÁΩÆ‰∏∫INHERITEDÊàñËÄÖÂêå‰πâËØçNULL„ÄÇÈªòËÆ§ÊòØDEBUG„ÄÇÂèØ‰ª•ÂåÖÂê´Èõ∂‰∏™ÊàñÂ§ö‰∏™ÂÖÉÁ¥†ÔºåÊ†áËØÜËøô‰∏™appenderÂ∞Ü‰ºöÊ∑ªÂä†Âà∞Ëøô‰∏™logger„ÄÇ1234&lt;root level="debug"&gt; &lt;appender-ref ref="console" /&gt; &lt;appender-ref ref="file" /&gt;&lt;/root&gt;Â≠êËäÇÁÇπ‰∏â&lt;logger&gt;&lt;logger&gt;Áî®Êù•ËÆæÁΩÆÊüê‰∏Ä‰∏™ÂåÖÊàñËÄÖÂÖ∑‰ΩìÁöÑÊüê‰∏Ä‰∏™Á±ªÁöÑÊó•ÂøóÊâìÂç∞Á∫ßÂà´„ÄÅ‰ª•ÂèäÊåáÂÆö&lt;appender&gt;„ÄÇ&lt;logger&gt;‰ªÖÊúâ‰∏Ä‰∏™nameÂ±ûÊÄßÔºå‰∏Ä‰∏™ÂèØÈÄâÁöÑlevelÂíå‰∏Ä‰∏™ÂèØÈÄâÁöÑaddtivityÂ±ûÊÄß„ÄÇnameÔºöÁî®Êù•ÊåáÂÆöÂèóÊ≠§loggerÁ∫¶ÊùüÁöÑÊüê‰∏Ä‰∏™ÂåÖÊàñËÄÖÂÖ∑‰ΩìÁöÑÊüê‰∏Ä‰∏™Á±ª„ÄÇlevelÔºöÁî®Êù•ËÆæÁΩÆÊâìÂç∞Á∫ßÂà´ÔºåÂ§ßÂ∞èÂÜôÊó†ÂÖ≥ÔºöTRACE, DEBUG, INFO, WARN, ERROR, ALL Âíå OFFÔºåËøòÊúâ‰∏Ä‰∏™Áâπ‰øóÂÄºINHERITEDÊàñËÄÖÂêå‰πâËØçNULLÔºå‰ª£Ë°®Âº∫Âà∂ÊâßË°å‰∏äÁ∫ßÁöÑÁ∫ßÂà´„ÄÇÂ¶ÇÊûúÊú™ËÆæÁΩÆÊ≠§Â±ûÊÄßÔºåÈÇ£‰πàÂΩìÂâçloggerÂ∞Ü‰ºöÁªßÊâø‰∏äÁ∫ßÁöÑÁ∫ßÂà´„ÄÇaddtivityÔºöÊòØÂê¶Âêë‰∏äÁ∫ßlogger‰º†ÈÄíÊâìÂç∞‰ø°ÊÅØ„ÄÇÈªòËÆ§ÊòØtrue„ÄÇloggerÂú®ÂÆûÈôÖ‰ΩøÁî®ÁöÑÊó∂ÂÄôÊúâ‰∏§ÁßçÊÉÖÂÜµÔºöÂÖàÊù•Áúã‰∏ÄÁúã‰ª£Á†Å‰∏≠Â¶Ç‰Ωï‰ΩøÁî®Ôºö12345678910111213141516171819202122232425262728package com.mrbird.controller;@Controllerpublic class LearnController &#123; private Logger logger = LoggerFactory.getLogger(this.getClass()); @RequestMapping(value = "/login",method = RequestMethod.POST) @ResponseBody public Map&lt;String,Object&gt; login(HttpServletRequest request, HttpServletResponse response)&#123; //Êó•ÂøóÁ∫ßÂà´‰ªé‰ΩéÂà∞È´òÂàÜ‰∏∫TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATALÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫WARNÔºåÂàô‰Ωé‰∫éWARNÁöÑ‰ø°ÊÅØÈÉΩ‰∏ç‰ºöËæìÂá∫„ÄÇ logger.trace("Êó•ÂøóËæìÂá∫ trace"); logger.debug("Êó•ÂøóËæìÂá∫ debug"); logger.info("Êó•ÂøóËæìÂá∫ info"); logger.warn("Êó•ÂøóËæìÂá∫ warn"); logger.error("Êó•ÂøóËæìÂá∫ error"); Map&lt;String,Object&gt; map =new HashMap&lt;String,Object&gt;(); String userName=request.getParameter("userName"); String password=request.getParameter("password"); if(!userName.equals("") &amp;&amp; password!="")&#123; User user =new User(userName,password); request.getSession().setAttribute("user",user); map.put("result","1"); &#125;else&#123; map.put("result","0"); &#125; return map; &#125;&#125;ËøôÊòØ‰∏Ä‰∏™ÁôªÂΩïÁöÑÂà§Êñ≠ÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨ÂºïÂÖ•Êó•ÂøóÔºåÂπ∂‰∏îÊâìÂç∞‰∏çÂêåÁ∫ßÂà´ÁöÑÊó•ÂøóÔºåÁÑ∂ÂêéÊ†πÊçÆlogback-spring.xml‰∏≠ÁöÑÈÖçÁΩÆÊù•ÁúãÁúãÊâìÂç∞‰∫ÜÂì™Âá†ÁßçÁ∫ßÂà´Êó•Âøó„ÄÇÁ¨¨‰∏ÄÁßçÔºöÂ∏¶ÊúâloggerÁöÑÈÖçÁΩÆÔºå‰∏çÊåáÂÆöÁ∫ßÂà´Ôºå‰∏çÊåáÂÆöappenderÔºö1&lt;logger name="com.mrbird.controller"/&gt;&lt;logger name=&quot;com.mrbird.controller&quot; /&gt;Â∞ÜÊéßÂà∂controllerÂåÖ‰∏ãÁöÑÊâÄÊúâÁ±ªÁöÑÊó•ÂøóÁöÑÊâìÂç∞Ôºå‰ΩÜÊòØÂπ∂Ê≤°Áî®ËÆæÁΩÆÊâìÂç∞Á∫ßÂà´ÔºåÊâÄ‰ª•ÁªßÊâø‰ªñÁöÑ‰∏äÁ∫ßÁöÑÊó•ÂøóÁ∫ßÂà´‚Äúinfo‚ÄùÔºõÊ≤°ÊúâËÆæÁΩÆaddtivityÔºåÈªòËÆ§‰∏∫trueÔºåÂ∞ÜÊ≠§loggerÁöÑÊâìÂç∞‰ø°ÊÅØÂêë‰∏äÁ∫ß‰º†ÈÄíÔºõÊ≤°ÊúâËÆæÁΩÆappenderÔºåÊ≠§loggerÊú¨Ë∫´‰∏çÊâìÂç∞‰ªª‰Ωï‰ø°ÊÅØ„ÄÇ&lt;root level=&quot;info&quot;&gt;Â∞ÜrootÁöÑÊâìÂç∞Á∫ßÂà´ËÆæÁΩÆ‰∏∫‚Äúinfo‚ÄùÔºåÊåáÂÆö‰∫ÜÂêçÂ≠ó‰∏∫‚Äúconsole‚ÄùÁöÑappender„ÄÇÂΩìÊâßË°åcom.mrbird.controller.LearnControllerÁ±ªÁöÑloginÊñπÊ≥ïÊó∂ÔºåLearnController Âú®ÂåÖcom.mrbird.controller‰∏≠ÔºåÊâÄ‰ª•È¶ñÂÖàÊâßË°å&lt;logger name=&quot;com.mrbird.controller&quot;/&gt;ÔºåÂ∞ÜÁ∫ßÂà´‰∏∫‚Äúinfo‚ÄùÂèäÂ§ß‰∫é‚Äúinfo‚ÄùÁöÑÊó•Âøó‰ø°ÊÅØ‰º†ÈÄíÁªôrootÔºåÊú¨Ë∫´Âπ∂‰∏çÊâìÂç∞Ôºõ rootÊé•Âà∞‰∏ãÁ∫ß‰º†ÈÄíÁöÑ‰ø°ÊÅØÔºå‰∫§ÁªôÂ∑≤ÁªèÈÖçÁΩÆÂ•ΩÁöÑÂêç‰∏∫‚Äúconsole‚ÄùÁöÑappenderÂ§ÑÁêÜÔºå‚Äúconsole‚ÄùappenderÂ∞Ü‰ø°ÊÅØÊâìÂç∞Âà∞ÊéßÂà∂Âè∞ÔºõÊâìÂç∞ÁªìÊûúÂ¶Ç‰∏ãÔºö12316:00:17.407 logback [http-nio-8080-exec-8] INFO com.mrbird.controller.LearnController - Êó•ÂøóËæìÂá∫ info16:00:17.408 logback [http-nio-8080-exec-8] WARN com.mrbird.controller.LearnController - Êó•ÂøóËæìÂá∫ warn16:00:17.408 logback [http-nio-8080-exec-8] ERROR com.mrbird.controller.LearnController - Êó•ÂøóËæìÂá∫ errorÁ¨¨‰∫åÁßçÔºöÂ∏¶ÊúâÂ§ö‰∏™loggerÁöÑÈÖçÁΩÆÔºåÊåáÂÆöÁ∫ßÂà´ÔºåÊåáÂÆöappenderÔºõ1234&lt;!--logback.LogbackDemoÔºöÁ±ªÁöÑÂÖ®Ë∑ØÂæÑ --&gt;&lt;logger name="com.mrbird.controller.LearnController" level="WARN" additivity="false"&gt; &lt;appender-ref ref="console"/&gt;&lt;/logger&gt;ÊéßÂà∂com.mrbird.controller.LearnControllerÁ±ªÁöÑÊó•ÂøóÊâìÂç∞ÔºåÊâìÂç∞Á∫ßÂà´‰∏∫‚ÄúWARN‚Äù;additivityÂ±ûÊÄß‰∏∫falseÔºåË°®Á§∫Ê≠§loggerÁöÑÊâìÂç∞‰ø°ÊÅØ‰∏çÂÜçÂêë‰∏äÁ∫ß‰º†ÈÄíÔºõÊåáÂÆö‰∫ÜÂêçÂ≠ó‰∏∫‚Äúconsole‚ÄùÁöÑappender„ÄÇËøôÊó∂ÂÄôÊâßË°åcom.mrbird.controller.LearnControllerÁ±ªÁöÑloginÊñπÊ≥ïÊó∂ÔºåÂÖàÊâßË°å&lt;logger name=&quot;com.mrbird.controller.LearnController&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;, Â∞ÜÁ∫ßÂà´‰∏∫‚ÄúWARN‚ÄùÂèäÂ§ß‰∫é‚ÄúWARN‚ÄùÁöÑÊó•Âøó‰ø°ÊÅØ‰∫§ÁªôÊ≠§loggerÊåáÂÆöÁöÑÂêç‰∏∫‚Äúconsole‚ÄùÁöÑappenderÂ§ÑÁêÜÔºåÂú®ÊéßÂà∂Âè∞‰∏≠ÊâìÂá∫Êó•ÂøóÔºå‰∏çÂÜçÂêë‰∏äÁ∫ßroot‰º†ÈÄíÊâìÂç∞‰ø°ÊÅØ„ÄÇÊâìÂç∞ÁªìÊûúÂ¶Ç‰∏ãÔºö1216:00:17.408 logback [http-nio-8080-exec-8] WARN com.mrbird.controller.LearnController - Êó•ÂøóËæìÂá∫ warn16:00:17.408 logback [http-nio-8080-exec-8] ERROR com.mrbird.controller.LearnController - Êó•ÂøóËæìÂá∫ errorÂΩìÁÑ∂Â¶ÇÊûú‰Ω†Êääadditivity=‚Äùfalse‚ÄùÊîπÊàêadditivity=‚Äùtrue‚ÄùÁöÑËØùÔºåÂ∞±‰ºöÊâìÂç∞‰∏§Ê¨°ÔºåÂõ†‰∏∫ÊâìÂç∞‰ø°ÊÅØÂêë‰∏äÁ∫ß‰º†ÈÄíÔºåloggerÊú¨Ë∫´ÊâìÂç∞‰∏ÄÊ¨°ÔºårootÊé•Âà∞ÂêéÂèàÊâìÂç∞‰∏ÄÊ¨°„ÄÇËΩ¨ËΩΩËá™Ôºö http://tengj.top/2017/04/05/springboot7/]]></content>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Bootstrap ModalÈÅÆÁΩ©ÈóÆÈ¢ò]]></title>
    <url>%2FBootstrap-Moda%20error.html</url>
    <content type="text"><![CDATA[ÂΩìÂêåÊó∂ÊâìÂºÄÂ§öÂ±ÇModalÂπ∂ÂÖ≥Èó≠ÁöÑÊó∂ÂÄôÔºåÂèëÁé∞È°µÈù¢ÁöÑÈÅÆÁΩ©Â±ÇÂπ∂Ê≤°ÊúâÊ∂àÂ§±ÔºåÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÊñπÊ≥ïÊâãÂä®Âà†Èô§Ôºö123$("modal").bind('hide.bs.modal', function() &#123; $(".modal-backdrop").remove();&#125;)]]></content>
      <tags>
        <tag>Bootstrap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatisÈÄöÁî®MapperÂíåPageHelper]]></title>
    <url>%2FMyBatis%20common%20Mapper%20PageHelper.html</url>
    <content type="text"><![CDATA[Â¶ÇÊûúÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞‰∫ÜMyBatisÊ°ÜÊû∂ÔºåÈÇ£‰πà‰ΩøÁî®ÈÄöÁî®MapperÂíåPageHelperÂàÜÈ°µÊèí‰ª∂Â∞ÜÊûÅÂ§ßÁöÑÁÆÄÂåñÊàë‰ª¨ÁöÑÊìç‰Ωú„ÄÇÈÄöÁî®MapperÂèØ‰ª•ÁÆÄÂåñÂØπÂçïË°®ÁöÑCRUDÊìç‰ΩúÔºåPageHelperÂàÜÈ°µÊèí‰ª∂ÂèØ‰ª•Â∏ÆÊàë‰ª¨Ëá™Âä®ÊãºÊé•ÂàÜÈ°µSQLÔºåÂπ∂‰∏îÂèØ‰ª•‰ΩøÁî®MyBatis GeneatorÊù•Ëá™Âä®ÁîüÊàêÂÆû‰ΩìÁ±ªÔºåMapperÊé•Âè£ÂíåMapper xml‰ª£Á†ÅÔºåÈùûÂ∏∏ÁöÑÊñπ‰æø„ÄÇÊèí‰ª∂Âú∞ÂùÄÂèä‰ΩúËÄÖÈìæÊé•https://gitee.com/free„ÄÇÂºïÂÖ•‰æùËµñËøôÈáå‰ΩøÁî®Spring BootÊù•ÊûÑÂª∫ÔºåÂèØÂèÇËÄÉSpring-Boot‰∏≠‰ΩøÁî®Mybatis.htmlÊê≠Âª∫‰∏Ä‰∏™Spring boot + MyBatisÁöÑÊ°ÜÊû∂ÔºåÁÑ∂ÂêéÂú®pom‰∏≠ÂºïÂÖ•Ôºö123456789101112131415161718&lt;!-- mybatis --&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- ÈÄöÁî®mapper --&gt;&lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.5&lt;/version&gt;&lt;/dependency&gt;&lt;!-- pagehelper ÂàÜÈ°µÊèí‰ª∂ --&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt;&lt;/dependency&gt;Êé•ÁùÄÂú®pom‰∏≠ÈÖçÁΩÆMyBatis GeneatorÔºö123456789101112131415161718192021222324252627282930313233343536373839&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.5&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;!-- Êï∞ÊçÆÂ∫ìËøûÊé•È©±Âä® --&gt; &lt;groupId&gt;com.oracle&lt;/groupId&gt; &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt; &lt;version&gt;6.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper&lt;/artifactId&gt; &lt;version&gt;3.4.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;Generate MyBatis Artifacts&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;generate&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;configuration&gt; &lt;!--ÂÖÅËÆ∏ÁßªÂä®ÁîüÊàêÁöÑÊñá‰ª∂ --&gt; &lt;verbose&gt;true&lt;/verbose&gt; &lt;!-- ÊòØÂê¶Ë¶ÜÁõñ --&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;!-- Ëá™Âä®ÁîüÊàêÁöÑÈÖçÁΩÆ --&gt; &lt;configurationFile&gt;src/main/resources/mybatis-generator.xml&lt;/configurationFile&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt;src/main/resources/mybatis-generator.xml‰∏∫ÁîüÊàêÂô®ÁöÑÈÖçÁΩÆÔºå‰∏ãÊñá‰ºö‰ªãÁªçÂà∞„ÄÇÈÖçÁΩÆÊèí‰ª∂Âú®Spring BootÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠ÈÖçÁΩÆMyBatisÔºö1234567mybatis: # type-aliasesÊâ´ÊèèË∑ØÂæÑ type-aliases-package: com.springboot.bean # mapper xmlÂÆûÁé∞Êâ´ÊèèË∑ØÂæÑ mapper-locations: classpath:mapper/*.xml property: order: BEFOREÊé•‰∏ãÊù•ÂºÄÂßãÈÖçÁΩÆÊèí‰ª∂„ÄÇÈÖçÁΩÆÈÄöÁî®MapperÂú®Spring BootÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠ÈÖçÁΩÆÈÄöÁî®MapperÔºö12345#mappers Â§ö‰∏™Êé•Âè£Êó∂ÈÄóÂè∑ÈöîÂºÄmapper: mappers: com.springboot.config.MyMapper not-empty: false identity: oracleÂÖ≥‰∫éÂèÇÊï∞ÁöÑËØ¥ÊòéÔºåÂèÇËÄÉhttps://gitee.com/free/Mapper/blob/master/wiki/mapper3/2.Integration.md‰∏≠ÁöÑÂèØÈÖçÂèÇÊï∞‰ªãÁªç„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÊàë‰ª¨ÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™MyMapperÊé•Âè£Ôºö123456import tk.mybatis.mapper.common.Mapper;import tk.mybatis.mapper.common.MySqlMapper;public interface MyMapper&lt;T&gt; extends Mapper&lt;T&gt;, MySqlMapper&lt;T&gt; &#123; &#125;ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåËØ•Êé•Âè£‰∏çËÉΩË¢´Êâ´ÊèèÂà∞ÔºåÂ∫îËØ•ÂíåËá™Â∑±ÂÆö‰πâÁöÑMapperÂàÜÂºÄ„ÄÇËá™Â∑±ÂÆö‰πâÁöÑMapperÈÉΩÈúÄË¶ÅÁªßÊâøËøô‰∏™Êé•Âè£„ÄÇÈÖçÁΩÆPageHelperÂú®Spring BootÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠ÈÖçÁΩÆÈÄöÁî®ÈÖçÁΩÆPageHelperÔºö123456#pagehelperpagehelper: helperDialect: oracle reasonable: true supportMethodsArguments: true params: count=countSqlÂèÇÊï∞Áõ∏ÂÖ≥ËØ¥ÊòéÂèÇËÄÉhttps://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md‰∏≠ÁöÑÂàÜÈ°µÊèí‰ª∂ÂèÇÊï∞‰ªãÁªç„ÄÇÈÖçÁΩÆGeneator*Âú®Ë∑ØÂæÑsrc/main/resources/‰∏ãÊñ∞Âª∫mybatis-generator.xmlÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE generatorConfiguration PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN" "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;&lt;generatorConfiguration&gt; &lt;context id="oracle" targetRuntime="MyBatis3Simple" defaultModelType="flat"&gt; &lt;plugin type="tk.mybatis.mapper.generator.MapperPlugin"&gt; &lt;!-- ËØ•ÈÖçÁΩÆ‰ºö‰ΩøÁîü‰∫ßÁöÑMapperËá™Âä®ÁªßÊâøMyMapper --&gt; &lt;property name="mappers" value="com.springboot.config.MyMapper" /&gt; &lt;!-- caseSensitiveÈªòËÆ§falseÔºåÂΩìÊï∞ÊçÆÂ∫ìË°®ÂêçÂå∫ÂàÜÂ§ßÂ∞èÂÜôÊó∂ÔºåÂèØ‰ª•Â∞ÜËØ•Â±ûÊÄßËÆæÁΩÆ‰∏∫true --&gt; &lt;property name="caseSensitive" value="false"/&gt; &lt;/plugin&gt; &lt;!-- ÈòªÊ≠¢ÁîüÊàêËá™Âä®Ê≥®Èáä --&gt; &lt;commentGenerator&gt; &lt;property name="javaFileEncoding" value="UTF-8"/&gt; &lt;property name="suppressDate" value="true"/&gt; &lt;property name="suppressAllComments" value="true"/&gt; &lt;/commentGenerator&gt; &lt;!-- Êï∞ÊçÆÂ∫ìÈìæÊé•Âú∞ÂùÄË¥¶Âè∑ÂØÜÁ†Å --&gt; &lt;jdbcConnection driverClass="oracle.jdbc.driver.OracleDriver" connectionURL="jdbc:oracle:thin:@localhost:1521:ORCL" userId="scott" password="6742530"&gt; &lt;/jdbcConnection&gt; &lt;javaTypeResolver&gt; &lt;property name="forceBigDecimals" value="false"/&gt; &lt;/javaTypeResolver&gt; &lt;!-- ÁîüÊàêModelÁ±ªÂ≠òÊîæ‰ΩçÁΩÆ --&gt; &lt;javaModelGenerator targetPackage="com.springboot.bean" targetProject="src/main/java"&gt; &lt;property name="enableSubPackages" value="true"/&gt; &lt;property name="trimStrings" value="true"/&gt; &lt;/javaModelGenerator&gt; &lt;!-- ÁîüÊàêÊò†Â∞ÑÊñá‰ª∂Â≠òÊîæ‰ΩçÁΩÆ --&gt; &lt;sqlMapGenerator targetPackage="mapper" targetProject="src/main/resources"&gt; &lt;property name="enableSubPackages" value="true"/&gt; &lt;/sqlMapGenerator&gt; &lt;!-- ÁîüÊàêDaoÁ±ªÂ≠òÊîæ‰ΩçÁΩÆ --&gt; &lt;!-- ÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÔºåÁîüÊàêÊòì‰∫é‰ΩøÁî®ÁöÑÈíàÂØπModelÂØπË±°ÂíåXMLÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ª£Á†Å type="ANNOTATEDMAPPER",ÁîüÊàêJava Model ÂíåÂü∫‰∫éÊ≥®Ëß£ÁöÑMapperÂØπË±° type="XMLMAPPER",ÁîüÊàêSQLMap XMLÊñá‰ª∂ÂíåÁã¨Á´ãÁöÑMapperÊé•Âè£ --&gt; &lt;javaClientGenerator type="XMLMAPPER" targetPackage="com.springboot.mapper" targetProject="src/main/java"&gt; &lt;property name="enableSubPackages" value="true"/&gt; &lt;/javaClientGenerator&gt; &lt;!-- ÈÖçÁΩÆÈúÄË¶ÅÁîüÊàêÁöÑË°® --&gt; &lt;table tableName="T_USER" domainObjectName="User" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt; &lt;generatedKey column="id" sqlStatement="oralce" identity="true"/&gt; &lt;/table&gt; &lt;/context&gt;&lt;/generatorConfiguration&gt;Êõ¥ËØ¶ÁªÜÁöÑËØ¥ÊòéÂèØÂèÇËÄÉÈìæÊé•Ôºöhttp://blog.csdn.net/isea533/article/details/42102297„ÄÇ‰ª£Á†ÅÁîüÊàêÈÖçÁΩÆÂ•ΩMyBatis GeneatorÂêéÔºåÂú®eclipse‰∏≠ËøêË°åÂëΩ‰ª§mybatis-generator:generateÔºö‰ª•‰∏ã‰∏∫Ëá™Âä®ÊàêÊàêÁöÑ‰ª£Á†ÅÔºöUserÔºö123456789101112131415161718192021@Table(name = "T_USER")public class User &#123; @Id @Column(name = "ID") @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id; @Column(name = "USERNAME") private String username; @Column(name = "PASSWD") private String passwd; @Column(name = "CREATE_TIME") private Date createTime; @Column(name = "STATUS") private String status; ...&#125;Âõ†‰∏∫ËøôÈáåÊï∞ÊçÆÂ∫ìËØïÁî®ÁöÑÊòØOracleÔºåÂÖ∂Ê≤°Êúâ‰∏ªÈîÆËá™Âä®Ëá™Â¢ûÁöÑÂäüËÉΩÔºåËøôÈáåÂÖàÂ∞Ü@GeneratedValue(strategy = GenerationType.IDENTITY)ÂéªÊéâÔºå‰∏ªÈîÆÁöÑÁîüÊàê‰∏ãÈù¢‰ºö‰ªãÁªçÂà∞„ÄÇÁîüÊàêÁöÑ‰∏ªÈîÆÊòØBigDecimalÁ±ªÂûãÁöÑÔºåÊàë‰ª¨Â∞ÜÂÖ∂Êîπ‰∏∫LongÁ±ªÂûã„ÄÇUserMapperÔºö12345import com.springboot.bean.User;import com.springboot.config.MyMapper;public interface UserMapper extends MyMapper&lt;User&gt; &#123;&#125;UserMapper.xmlÔºö1234567891011121314&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.springboot.mapper.UserMapper"&gt; &lt;resultMap id="BaseResultMap" type="com.springboot.bean.User"&gt; &lt;!-- WARNING - @mbg.generated --&gt; &lt;id column="ID" jdbcType="DECIMAL" property="id" /&gt; &lt;result column="USERNAME" jdbcType="VARCHAR" property="username" /&gt; &lt;result column="PASSWD" jdbcType="VARCHAR" property="passwd" /&gt; &lt;result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" /&gt; &lt;result column="STATUS" jdbcType="CHAR" property="status" /&gt; &lt;/resultMap&gt;&lt;/mapper&gt;ÊûÅÂÖ∂Êñπ‰æøÁöÑËØ¥ÔºÅMapperË¶ÅËÆ©Spring BootÊâ´ÊèèÂà∞MapperÊé•Âè£ÔºåÈúÄË¶ÅÂú®Spring BootÂÖ•Âè£Á±ª‰∏≠Âä†ÂÖ•@MapperScan(&quot;com.springboot.mapper&quot;)Ê≥®Ëß£„ÄÇ‰∏∫‰∫ÜËé∑ÂèñÂà∞Oracle ‰∏≠Â∫èÂàóÁöÑÂÄºÔºåÊàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™SeqenceMapperÊé•Âè£Ôºö1234public interface SeqenceMapper &#123; @Select("select $&#123;seqName&#125;.nextval from dual") Long getSequence(@Param("seqName") String seqName);&#125;Âõ†‰∏∫ËøôÈáå‰ªÖ‰ªãÁªçMapperËá™Â∏¶ÁöÑCRUDÊñπÊ≥ïÔºåÊâÄ‰ª•UserMapperÊé•Âè£‰∏≠Êó†ÈúÄÂÆö‰πâ‰ªª‰ΩïÊñπÊ≥ï„ÄÇÈÄöÁî®ServiceÊàë‰ª¨ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ÈÄöÁî®ÁöÑServiceÔºåÂú®ÂÖ∂‰∏≠ÂÆö‰πâ‰∏Ä‰∫õÈÄöÁî®ÁöÑÊñπÊ≥ïÔºöIServiceÔºö12345678910111213141516171819@Servicepublic interface IService&lt;T&gt; &#123; Long getSequence(@Param("seqName") String seqName); List&lt;T&gt; selectAll(); T selectByKey(Object key); int save(T entity); int delete(Object key); int updateAll(T entity); int updateNotNull(T entity); List&lt;T&gt; selectByExample(Object example);&#125;ÂÖ∂ÂÆûÁé∞Á±ªBaseServiceÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public abstract class BaseService&lt;T&gt; implements IService&lt;T&gt; &#123; @Autowired protected Mapper&lt;T&gt; mapper; @Autowired protected SeqenceMapper seqenceMapper; public Mapper&lt;T&gt; getMapper() &#123; return mapper; &#125; @Override public Long getSequence(@Param("seqName") String seqName)&#123; return seqenceMapper.getSequence(seqName); &#125; @Override public List&lt;T&gt; selectAll() &#123; //ËØ¥ÊòéÔºöÊü•ËØ¢ÊâÄÊúâÊï∞ÊçÆ return mapper.selectAll(); &#125; @Override public T selectByKey(Object key) &#123; //ËØ¥ÊòéÔºöÊ†πÊçÆ‰∏ªÈîÆÂ≠óÊÆµËøõË°åÊü•ËØ¢ÔºåÊñπÊ≥ïÂèÇÊï∞ÂøÖÈ°ªÂåÖÂê´ÂÆåÊï¥ÁöÑ‰∏ªÈîÆÂ±ûÊÄßÔºåÊü•ËØ¢Êù°‰ª∂‰ΩøÁî®Á≠âÂè∑ return mapper.selectByPrimaryKey(key); &#125; @Override public int save(T entity) &#123; //ËØ¥ÊòéÔºö‰øùÂ≠ò‰∏Ä‰∏™ÂÆû‰ΩìÔºånullÁöÑÂ±ûÊÄß‰πü‰ºö‰øùÂ≠òÔºå‰∏ç‰ºö‰ΩøÁî®Êï∞ÊçÆÂ∫ìÈªòËÆ§ÂÄº return mapper.insert(entity); &#125; @Override public int delete(Object key) &#123; //ËØ¥ÊòéÔºöÊ†πÊçÆ‰∏ªÈîÆÂ≠óÊÆµËøõË°åÂà†Èô§ÔºåÊñπÊ≥ïÂèÇÊï∞ÂøÖÈ°ªÂåÖÂê´ÂÆåÊï¥ÁöÑ‰∏ªÈîÆÂ±ûÊÄß return mapper.deleteByPrimaryKey(key); &#125; @Override public int updateAll(T entity) &#123; //ËØ¥ÊòéÔºöÊ†πÊçÆ‰∏ªÈîÆÊõ¥Êñ∞ÂÆû‰ΩìÂÖ®ÈÉ®Â≠óÊÆµÔºånullÂÄº‰ºöË¢´Êõ¥Êñ∞ return mapper.updateByPrimaryKey(entity); &#125; @Override public int updateNotNull(T entity) &#123; //Ê†πÊçÆ‰∏ªÈîÆÊõ¥Êñ∞Â±ûÊÄß‰∏ç‰∏∫nullÁöÑÂÄº return mapper.updateByPrimaryKeySelective(entity); &#125; @Override public List&lt;T&gt; selectByExample(Object example) &#123; //ËØ¥ÊòéÔºöÊ†πÊçÆExampleÊù°‰ª∂ËøõË°åÊü•ËØ¢ //ÈáçÁÇπÔºöËøô‰∏™Êü•ËØ¢ÊîØÊåÅÈÄöËøáExampleÁ±ªÊåáÂÆöÊü•ËØ¢ÂàóÔºåÈÄöËøáselectPropertiesÊñπÊ≥ïÊåáÂÆöÊü•ËØ¢Âàó return mapper.selectByExample(example); &#125;&#125;Êé•‰∏ãÊù•ËÆ©UserServiceÊé•Âè£ÁªßÊâøIServiceÊé•Âè£Ôºö123public interface UserService extends IService&lt;User&gt;&#123; &#125;ÂÖ∂ÂÆûÁé∞Á±ªUserServiceImplÔºö1234@Repository("userService")public class UserServiceImpl extends BaseService&lt;User&gt; implements UserService&#123; &#125;ËøôÊ†∑Âç≥ÂèØÂú®UserService‰∏≠‰ΩøÁî®BaseService‰∏≠ÁöÑÈÄöÁî®ÊñπÊ≥ï‰∫Ü„ÄÇÊµãËØïÊµãËØïÊèíÂÖ•Ôºö1234567891011121314151617@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = Application.class)public class ApplicationTest &#123; @Autowired private UserService userService; @Test public void test() throws Exception &#123; User user = new User(); user.setId(userService.getSequence("seq_user")); user.setUsername("scott"); user.setPasswd("ac089b11709f9b9e9980e7c497268dfa"); user.setCreateTime(new Date()); user.setStatus("0"); this.userService.save(user); &#125;&#125;ËøêË°å‰ª£Á†ÅÔºåÊü•ÁúãÊï∞ÊçÆÂ∫ìÔºöÊµãËØïÊü•ËØ¢Ôºö1234567891011121314151617Example example = new Example(User.class);example.createCriteria().andCondition("username like '%i%'");example.setOrderByClause("id desc");List&lt;User&gt; userList = this.userService.selectByExample(example);for (User u : userList) &#123; System.out.println(u.getUsername());&#125;List&lt;User&gt; all = this.userService.selectAll();for (User u : all) &#123; System.out.println(u.getUsername());&#125;User user = new User();user.setId(1l);user = this.userService.selectByKey(user);System.out.println(user.getUsername());ÊµãËØïÂà†Èô§Ôºö123User user = new User();user.setId(4l);this.userService.delete(user);ÂàÜÈ°µÊµãËØïÔºå‰ªéÁ¨¨‰∫åÈ°µÂºÄÂßãÔºåÊØèÈ°µ2Êù°Êï∞ÊçÆÔºö1234567PageHelper.startPage(2, 2);List&lt;User&gt; list = userService.selectAll();PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;User&gt;(list);List&lt;User&gt; result = pageInfo.getList();for (User u : result) &#123; System.out.println(u.getUsername());&#125;Êü•ÁúãÊó•ÂøóÊâìÂç∞Âá∫ÁöÑSQLÔºö12342017-12-28 10:25:14.033 DEBUG 11116 --- [main] c.s.mapper.UserMapper.selectAll : ==&gt; Preparing: SELECT * FROM ( SELECT TMP_PAGE.*, ROWNUM ROW_ID FROM ( SELECT ID,USERNAME,PASSWD,CREATE_TIME,STATUS FROM T_USER ) TMP_PAGE WHERE ROWNUM &lt;= ? ) WHERE ROW_ID &gt; ? 2017-12-28 10:25:14.068 DEBUG 11116 --- [main] c.s.mapper.UserMapper.selectAll : ==&gt; Parameters: 4(Integer), 2(Integer)2017-12-28 10:25:14.073 DEBUG 11116 --- [main] c.s.mapper.UserMapper.selectAll : &lt;== Total: 2Êèí‰ª∂Â∑≤ÁªèÂ∏ÆÊàëËá™Âä®ÊãºÊé•Â•Ω‰∫Ü„ÄÇÂÖ∂‰ªñÊ≥®ÊÑè‰∫ãÈ°πÂèÇËÄÉÂÆòÊñπËØ¥Êòé„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/27.Spring-Boot-Mapper-PageHelper]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot ShiroÂú®Á∫ø‰ºöËØùÁÆ°ÁêÜ]]></title>
    <url>%2FSpring-Boot-Shiro%20session.html</url>
    <content type="text"><![CDATA[Âú®Shiro‰∏≠Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáorg.apache.shiro.session.mgt.eis.SessionDAOÂØπË±°ÁöÑgetActiveSessions()ÊñπÊ≥ïÊñπ‰æøÁöÑËé∑ÂèñÂà∞ÂΩìÂâçÊâÄÊúâÊúâÊïàÁöÑSessionÂØπË±°„ÄÇÈÄöËøáËøô‰∫õSessionÂØπË±°ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∫õÊØîËæÉÊúâË∂£ÁöÑÂäüËÉΩÔºåÊØîÂ¶ÇÊü•ÁúãÂΩìÂâçÁ≥ªÁªüÁöÑÂú®Á∫ø‰∫∫Êï∞ÔºåÊü•ÁúãËøô‰∫õÂú®Á∫øÁî®Êà∑ÁöÑ‰∏Ä‰∫õÂü∫Êú¨‰ø°ÊÅØÔºåÂº∫Âà∂ËÆ©Êüê‰∏™Áî®Êà∑‰∏ãÁ∫øÁ≠â„ÄÇ‰∏∫‰∫ÜËææÂà∞ËøôÂá†‰∏™ÁõÆÊ†áÔºåÊàë‰ª¨Âú®Áé∞ÊúâÁöÑSpring Boot ShiroÈ°πÁõÆÂü∫Á°Ä‰∏äËøõË°å‰∏Ä‰∫õÊîπÈÄ†ÔºàÁºìÂ≠ò‰ΩøÁî®EhcacheÔºâ„ÄÇÊõ¥ÊîπShiroConfig‰∏∫‰∫ÜËÉΩÂ§üÂú®Spring Boot‰∏≠‰ΩøÁî®SessionDaoÔºåÊàë‰ª¨Âú®ShiroConfig‰∏≠ÈÖçÁΩÆËØ•BeanÔºö12345@Beanpublic SessionDAO sessionDAO() &#123; MemorySessionDAO sessionDAO = new MemorySessionDAO(); return sessionDAO;&#125;Â¶ÇÊûú‰ΩøÁî®ÁöÑÊòØRedis‰Ωú‰∏∫ÁºìÂ≠òÂÆûÁé∞ÔºåÈÇ£‰πàSessionDAOÂàô‰∏∫RedisSessionDAOÔºö123456@Beanpublic RedisSessionDAO sessionDAO() &#123; RedisSessionDAO redisSessionDAO = new RedisSessionDAO(); redisSessionDAO.setRedisManager(redisManager()); return redisSessionDAO;&#125;Âú®Shiro‰∏≠ÔºåSessionDaoÈÄöËøáorg.apache.shiro.session.mgt.SessionManagerËøõË°åÁÆ°ÁêÜÔºåÊâÄ‰ª•ÁªßÁª≠Âú®ShiroConfig‰∏≠ÈÖçÁΩÆSessionManagerÔºö123456789@Beanpublic SessionManager sessionManager() &#123; DefaultWebSessionManager sessionManager = new DefaultWebSessionManager(); Collection&lt;SessionListener&gt; listeners = new ArrayList&lt;SessionListener&gt;(); listeners.add(new ShiroSessionListener()); sessionManager.setSessionListeners(listeners); sessionManager.setSessionDAO(sessionDAO()); return sessionManager;&#125;ÂÖ∂‰∏≠ShiroSessionListener‰∏∫org.apache.shiro.session.SessionListenerÊé•Âè£ÁöÑÊâãÂä®ÂÆûÁé∞ÔºåÊâÄ‰ª•Êé•‰∏ãÊù•ÂÆö‰πâ‰∏Ä‰∏™ËØ•Êé•Âè£ÁöÑÂÆûÁé∞Ôºö123456789101112131415161718public class ShiroSessionListener implements SessionListener&#123; private final AtomicInteger sessionCount = new AtomicInteger(0); @Override public void onStart(Session session) &#123; sessionCount.incrementAndGet(); &#125; @Override public void onStop(Session session) &#123; sessionCount.decrementAndGet(); &#125; @Override public void onExpiration(Session session) &#123; sessionCount.decrementAndGet(); &#125;&#125;ÂÖ∂Áª¥Êä§ÁùÄ‰∏Ä‰∏™ÂéüÂ≠êÁ±ªÂûãÁöÑIntegerÂØπË±°ÔºåÁî®‰∫éÁªüËÆ°Âú®Á∫øSessionÁöÑÊï∞Èáè„ÄÇÂÆö‰πâÂÆåSessionManagerÂêéÔºåËøòÈúÄÂ∞ÜÂÖ∂Ê≥®ÂÖ•Âà∞SecurityManager‰∏≠Ôºö12345678@Bean public SecurityManager securityManager()&#123; DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager(); securityManager.setRealm(shiroRealm()); ... securityManager.setSessionManager(sessionManager()); return securityManager; &#125;UserOnlineÈÖçÁΩÆÂÆåShiroConfigÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™UserOnlineÂÆû‰ΩìÁ±ªÔºåÁî®‰∫éÊèèËø∞ÊØè‰∏™Âú®Á∫øÁî®Êà∑ÁöÑÂü∫Êú¨‰ø°ÊÅØÔºö1234567891011121314151617181920212223public class UserOnline implements Serializable&#123; private static final long serialVersionUID = 3828664348416633856L; // session id private String id; // Áî®Êà∑id private String userId; // Áî®Êà∑ÂêçÁß∞ private String username; // Áî®Êà∑‰∏ªÊú∫Âú∞ÂùÄ private String host; // Áî®Êà∑ÁôªÂΩïÊó∂Á≥ªÁªüIP private String systemHost; // Áä∂ÊÄÅ private String status; // sessionÂàõÂª∫Êó∂Èó¥ private Date startTimestamp; // sessionÊúÄÂêéËÆøÈóÆÊó∂Èó¥ private Date lastAccessTime; // Ë∂ÖÊó∂Êó∂Èó¥ private Long timeout; // get setÁï•&#125;ServiceÂàõÂª∫‰∏Ä‰∏™ServiceÊé•Âè£ÔºåÂåÖÂê´Êü•ÁúãÊâÄÊúâÂú®Á∫øÁî®Êà∑ÂíåÊ†πÊçÆSessionIdË∏¢Âá∫Áî®Êà∑ÊäΩË±°ÊñπÊ≥ïÔºö1234public interface SessionService &#123; List&lt;UserOnline&gt; list(); boolean forceLogout(String sessionId);&#125;ÂÖ∂ÂÖ∑‰ΩìÂÆûÁé∞Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445@Service("sessionService")public class SessionServiceImpl implements SessionService &#123; @Autowired private SessionDAO sessionDAO; @Override public List&lt;UserOnline&gt; list() &#123; List&lt;UserOnline&gt; list = new ArrayList&lt;&gt;(); Collection&lt;Session&gt; sessions = sessionDAO.getActiveSessions(); for (Session session : sessions) &#123; UserOnline userOnline = new UserOnline(); User user = new User(); SimplePrincipalCollection principalCollection = new SimplePrincipalCollection(); if (session.getAttribute(DefaultSubjectContext.PRINCIPALS_SESSION_KEY) == null) &#123; continue; &#125; else &#123; principalCollection = (SimplePrincipalCollection) session .getAttribute(DefaultSubjectContext.PRINCIPALS_SESSION_KEY); user = (User) principalCollection.getPrimaryPrincipal(); userOnline.setUsername(user.getUserName()); userOnline.setUserId(user.getId().toString()); &#125; userOnline.setId((String) session.getId()); userOnline.setHost(session.getHost()); userOnline.setStartTimestamp(session.getStartTimestamp()); userOnline.setLastAccessTime(session.getLastAccessTime()); Long timeout = session.getTimeout(); if (timeout == 0l) &#123; userOnline.setStatus("Á¶ªÁ∫ø"); &#125; else &#123; userOnline.setStatus("Âú®Á∫ø"); &#125; userOnline.setTimeout(timeout); list.add(userOnline); &#125; return list; &#125; @Override public boolean forceLogout(String sessionId) &#123; Session session = sessionDAO.readSession(sessionId); session.setTimeout(0); return true; &#125;&#125;ÈÄöËøáSessionDaoÁöÑgetActiveSessions()ÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•Ëé∑ÂèñÊâÄÊúâÊúâÊïàÁöÑSessionÔºåÈÄöËøáËØ•SessionÔºåÊàë‰ª¨ËøòÂèØ‰ª•Ëé∑ÂèñÂà∞ÂΩìÂâçÁî®Êà∑ÁöÑPrincipal‰ø°ÊÅØ„ÄÇÂÄºÂæóËØ¥ÊòéÁöÑÊòØÔºåÂΩìÊüê‰∏™Áî®Êà∑Ë¢´Ë∏¢Âá∫ÂêéÔºàSession TimeÁΩÆ‰∏∫0ÔºâÔºåËØ•SessionÂπ∂‰∏ç‰ºöÁ´ãÂàª‰ªéActiveSessions‰∏≠ÂâîÈô§ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÖ∂timeout‰ø°ÊÅØÊù•Âà§Êñ≠ËØ•Áî®Êà∑Âú®Á∫ø‰∏éÂê¶„ÄÇÂ¶ÇÊûú‰ΩøÁî®ÁöÑRedis‰Ωú‰∏∫ÁºìÂ≠òÂÆûÁé∞ÔºåÈÇ£‰πàÔºåforceLogout()ÊñπÊ≥ïÈúÄË¶ÅÁ®ç‰Ωú‰øÆÊîπÔºö123456@Overridepublic boolean forceLogout(String sessionId) &#123; Session session = sessionDAO.readSession(sessionId); sessionDAO.delete(session); return true;&#125;ControllerÂÆö‰πâ‰∏Ä‰∏™SessionContollerÔºåÁî®‰∫éÂ§ÑÁêÜSessionÁöÑÁõ∏ÂÖ≥Êìç‰ΩúÔºö1234567891011121314151617181920212223242526272829@Controller@RequestMapping("/online")public class SessionController &#123; @Autowired SessionService sessionService; @RequestMapping("index") public String online() &#123; return "online"; &#125; @ResponseBody @RequestMapping("list") public List&lt;UserOnline&gt; list() &#123; return sessionService.list(); &#125; @ResponseBody @RequestMapping("forceLogout") public ResponseBo forceLogout(String id) &#123; try &#123; sessionService.forceLogout(id); return ResponseBo.ok(); &#125; catch (Exception e) &#123; e.printStackTrace(); return ResponseBo.error("Ë∏¢Âá∫Áî®Êà∑Â§±Ë¥•"); &#125; &#125;&#125;È°µÈù¢Êàë‰ª¨ÁºñÂÜô‰∏Ä‰∏™online.htmlÈ°µÈù¢ÔºåÁî®‰∫éÂ±ïÁ§∫ÊâÄÊúâÂú®Á∫øÁî®Êà∑ÁöÑ‰ø°ÊÅØÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;Âú®Á∫øÁî®Êà∑ÁÆ°ÁêÜ&lt;/title&gt; &lt;script th:src="@&#123;/js/jquery-1.11.1.min.js&#125;"&gt;&lt;/script&gt; &lt;script th:src="@&#123;/js/dateFormat.js&#125;"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;h3&gt;Âú®Á∫øÁî®Êà∑Êï∞Ôºö&lt;span id="onlineCount"&gt;&lt;/span&gt;&lt;/h3&gt; &lt;table&gt; &lt;tr&gt; &lt;th&gt;Â∫èÂè∑&lt;/th&gt; &lt;th&gt;Áî®Êà∑ÂêçÁß∞&lt;/th&gt; &lt;th&gt;ÁôªÂΩïÊó∂Èó¥&lt;/th&gt; &lt;th&gt;ÊúÄÂêéËÆøÈóÆÊó∂Èó¥&lt;/th&gt; &lt;th&gt;‰∏ªÊú∫&lt;/th&gt; &lt;th&gt;Áä∂ÊÄÅ&lt;/th&gt; &lt;th&gt;Êìç‰Ωú&lt;/th&gt; &lt;/tr&gt; &lt;/table&gt; &lt;a th:href="@&#123;/index&#125;"&gt;ËøîÂõû&lt;/a&gt;&lt;/body&gt;&lt;script th:inline="javascript"&gt; var ctx = [[@&#123;/&#125;]]; $.get(ctx + "online/list", &#123;&#125;, function(r)&#123; var length = r.length; $("#onlineCount").text(length); var html = ""; for(var i = 0; i &lt; length; i++)&#123; html += "&lt;tr&gt;" + "&lt;td&gt;" + (i+1) + "&lt;/td&gt;" + "&lt;td&gt;" + r[i].username + "&lt;/td&gt;" + "&lt;td&gt;" + new Date(r[i].startTimestamp).Format("yyyy-MM-dd hh:mm:ss") + "&lt;/td&gt;" + "&lt;td&gt;" + new Date(r[i].lastAccessTime).Format("yyyy-MM-dd hh:mm:ss") + "&lt;/td&gt;" + "&lt;td&gt;" + r[i].host + "&lt;/td&gt;" + "&lt;td&gt;" + r[i].status + "&lt;/td&gt;" + "&lt;td&gt;&lt;a href='#' onclick='offline(\"" + r[i].id + "\",\"" + r[i].status +"\")'&gt;‰∏ãÁ∫ø&lt;/a&gt;&lt;/td&gt;" + "&lt;/tr&gt;"; &#125; $("table").append(html); &#125;,"json"); function offline(id,status)&#123; if(status == "Á¶ªÁ∫ø")&#123; alert("ËØ•Áî®Êà∑Â∑≤ÊòØÁ¶ªÁ∫øÁä∂ÊÄÅÔºÅÔºÅ"); return; &#125; $.get(ctx + "online/forceLogout", &#123;"id": id&#125;, function(r)&#123; if (r.code == 0) &#123; alert('ËØ•Áî®Êà∑Â∑≤Âº∫Âà∂‰∏ãÁ∫øÔºÅ'); location.href = ctx + 'online/index'; &#125; else &#123; alert(r.msg); &#125; &#125;,"json"); &#125;&lt;/script&gt;&lt;/html&gt;Âú®index.html‰∏≠Âä†ÂÖ•ËØ•È°µÈù¢ÁöÑÂÖ•Âè£Ôºö1234567891011121314...&lt;body&gt; &lt;p&gt;‰Ω†Â•ΩÔºÅ[[$&#123;user.userName&#125;]]&lt;/p&gt; &lt;p shiro:hasRole="admin"&gt;‰Ω†ÁöÑËßíËâ≤‰∏∫Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò&lt;/p&gt; &lt;p shiro:hasRole="test"&gt;‰Ω†ÁöÑËßíËâ≤‰∏∫ÊµãËØïË¥¶Êà∑&lt;/p&gt; &lt;div&gt; &lt;a shiro:hasPermission="user:user" th:href="@&#123;/user/list&#125;"&gt;Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ&lt;/a&gt; &lt;a shiro:hasPermission="user:add" th:href="@&#123;/user/add&#125;"&gt;Êñ∞Â¢ûÁî®Êà∑&lt;/a&gt; &lt;a shiro:hasPermission="user:delete" th:href="@&#123;/user/delete&#125;"&gt;Âà†Èô§Áî®Êà∑&lt;/a&gt; &lt;/div&gt; &lt;a shiro:hasRole="admin" th:href="@&#123;/online/index&#125;"&gt;Âú®Á∫øÁî®Êà∑ÁÆ°ÁêÜ&lt;/a&gt; &lt;a th:href="@&#123;/logout&#125;"&gt;Ê≥®ÈîÄ&lt;/a&gt;&lt;/body&gt;...ÊµãËØïÂêØÂä®È°πÁõÆÔºåÂú®OperaÊµèËßàÂô®‰∏≠‰ΩøÁî®mrbirdË¥¶Êà∑ËÆøÈóÆÔºöÂú®FireFoxÊµèËßàÂô®‰∏≠‰ΩøÁî®testerË¥¶Êà∑ËÆøÈóÆÔºöÁÑ∂ÂêéÂú®mrbird‰∏ªÁïåÈù¢ÁÇπÂáª‚ÄúÂú®Á∫øÁî®Êà∑ÁÆ°ÁêÜ‚ÄùÔºöÊòæÁ§∫ÁöÑ‰ø°ÊÅØÁ¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåÁÇπÂáªtesterÁöÑ‰∏ãÁ∫øÊåâÈíÆÔºåÂº∫Âà∂Â∞ÜÂÖ∂Ë∏¢Âá∫ÔºöÂõûÂà∞testerÁî®Êà∑ÁöÑ‰∏ªÁïåÈù¢ÔºåÁÇπÂáª‚ÄúÊü•ÁúãÁî®Êà∑‰ø°ÊÅØ‚ÄùÔºå‰ºöÂèëÁé∞È°µÈù¢Â∑≤ÁªèË¢´ÈáçÂÆöÂêëÂà∞loginÈ°µÈù¢ÔºåÂõ†‰∏∫ÂÖ∂SessionÂ∑≤ÁªèÂ§±ÊïàÔºÅÂÜçÊ¨°Âà∑Êñ∞mrbirdÁöÑonlineÈ°µÈù¢ÔºåÊòæÁ§∫Â¶Ç‰∏ãÔºöÊ∫êÁ†ÅÈìæÊé•ÔºàEhcacheÁâàÔºâÔºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/17.Spring-Boot-Shiro-SessionÊ∫êÁ†ÅÈìæÊé•ÔºàRedisÁâàÔºâÔºöhttps://drive.google.com/open?id=1GHJxnoX2rZuQXtMYpNv-TE5SHRwyqSN7]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Shiro</tag>
        <tag>Security</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Thymeleaf‰∏≠‰ΩøÁî®ShiroÊ†áÁ≠æ]]></title>
    <url>%2FSpring-Boot-Themeleaf%20Shiro%20tag.html</url>
    <content type="text"><![CDATA[Âú®„ÄäSpring-Boot-shiroÊùÉÈôêÊéßÂà∂„Äã‰∏≠ÔºåÂΩìÁî®Êà∑ËÆøÈóÆÊ≤°ÊúâÊùÉÈôêÁöÑËµÑÊ∫êÊó∂ÔºåÊàë‰ª¨ÈááÂèñÁöÑÂÅöÊ≥ïÊòØË∑≥ËΩ¨Âà∞403È°µÈù¢Ôºå‰ΩÜÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠Êõ¥‰∏∫Â∏∏ËßÅÁöÑÂÅöÊ≥ïÊòØÂè™ÊòæÁ§∫ÂΩìÂâçÁî®Êà∑Êã•ÊúâËÆøÈóÆÊùÉÈôêÁöÑËµÑÊ∫êÈìæÊé•„ÄÇÈÖçÂêàThymeleaf‰∏≠ÁöÑShiroÊ†áÁ≠æÂèØ‰ª•ÂæàÁÆÄÂçïÁöÑÂÆûÁé∞Ëøô‰∏™ÁõÆÊ†á„ÄÇÂÆûÈôÖ‰∏äThymeleafÂÆòÊñπÂπ∂Ê≤°ÊúâÊèê‰æõShiroÁöÑÊ†áÁ≠æÔºåÊàë‰ª¨ÈúÄË¶ÅÂºïÂÖ•Á¨¨‰∏âÊñπÂÆûÁé∞ÔºåÂú∞ÂùÄ‰∏∫https://github.com/theborakompanioni/thymeleaf-extras-shiro„ÄÇÂºïÂÖ•thymeleaf-extras-shiroÂú®pom‰∏≠ÂºïÂÖ•Ôºö12345&lt;dependency&gt; &lt;groupId&gt;com.github.theborakompanioni&lt;/groupId&gt; &lt;artifactId&gt;thymeleaf-extras-shiro&lt;/artifactId&gt; &lt;version&gt;2.0.0&lt;/version&gt;&lt;/dependency&gt;ShiroConfigÈÖçÁΩÆÂºïÂÖ•‰æùËµñÂêéÔºåÈúÄË¶ÅÂú®ShiroConfig‰∏≠ÈÖçÁΩÆËØ•ÊñπË®ÄÊ†áÁ≠æÔºö1234 @Beanpublic ShiroDialect shiroDialect() &#123; return new ShiroDialect();&#125;È¶ñÈ°µÊîπÈÄ†Êõ¥Êîπindex.htmlÔºåÁî®‰∫éÊµãËØïShiroÊ†áÁ≠æÁöÑ‰ΩøÁî®Ôºö12345678910111213141516171819 &lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro" &gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;È¶ñÈ°µ&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;‰Ω†Â•ΩÔºÅ[[$&#123;user.userName&#125;]]&lt;/p&gt; &lt;p shiro:hasRole="admin"&gt;‰Ω†ÁöÑËßíËâ≤‰∏∫Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò&lt;/p&gt; &lt;p shiro:hasRole="test"&gt;‰Ω†ÁöÑËßíËâ≤‰∏∫ÊµãËØïË¥¶Êà∑&lt;/p&gt; &lt;div&gt; &lt;a shiro:hasPermission="user:user" th:href="@&#123;/user/list&#125;"&gt;Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ&lt;/a&gt; &lt;a shiro:hasPermission="user:add" th:href="@&#123;/user/add&#125;"&gt;Êñ∞Â¢ûÁî®Êà∑&lt;/a&gt; &lt;a shiro:hasPermission="user:delete" th:href="@&#123;/user/delete&#125;"&gt;Âà†Èô§Áî®Êà∑&lt;/a&gt; &lt;/div&gt; &lt;a th:href="@&#123;/logout&#125;"&gt;Ê≥®ÈîÄ&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂú®htmlÈ°µÈù¢‰∏≠‰ΩøÁî®ShiroÊ†áÁ≠æÈúÄË¶ÅÁªôhtmlÊ†áÁ≠æÊ∑ªÂä†xmlns:shiro=&quot;http://www.pollix.at/thymeleaf/shiro&quot;„ÄÇÊµãËØïÂêØÂä®È°πÁõÆÔºå‰ΩøÁî®mrbirdÔºàËßíËâ≤‰∏∫adminÔºåÂÖ∑Êúâuser:userÔºåuser:addÔºåuser:deleteÊùÉÈôêÔºâË¥¶Êà∑ÁôªÂΩïÔºö‰ΩøÁî®testerÔºàËßíËâ≤‰∏∫testerÔºå‰ªÖÊúâuser:userÊùÉÈôêÔºâË¥¶Êà∑ÁôªÂΩïÔºöÊõ¥Â§öÊ†áÁ≠æThe following examples show how to integrate the tags in your Thymeleaf templates. These are all implementations of the examples given in the JSP / GSP Tag Library Section of the Apache Shiro documentation.Tags can be written in attribute or element notation:Attribute123&lt;p shiro:anyTag&gt; Goodbye cruel World!&lt;/p&gt;Element123&lt;shiro:anyTag&gt; &lt;p&gt;Hello World!&lt;/p&gt;&lt;/shiro:anyTag&gt;The guest tag123&lt;p shiro:guest=""&gt; Please &lt;a href="login.html"&gt;Login&lt;/a&gt;&lt;/p&gt;The user tag123&lt;p shiro:user=""&gt; Welcome back John! Not John? Click &lt;a href="login.html"&gt;here&lt;a&gt; to login.&lt;/p&gt;The authenticated tag1&lt;a shiro:authenticated="" href="updateAccount.html"&gt;Update your contact information&lt;/a&gt;The notAuthenticated tag123&lt;p shiro:notAuthenticated=""&gt; Please &lt;a href="login.html"&gt;login&lt;/a&gt; in order to update your credit card information.&lt;/p&gt;The principal tag1&lt;p&gt;Hello, &lt;span shiro:principal=""&gt;&lt;/span&gt;, how are you today?&lt;/p&gt;or1&lt;p&gt;Hello, &lt;shiro:principal/&gt;, how are you today?&lt;/p&gt;Typed principal and principal property are also supported.The hasRole tag1&lt;a shiro:hasRole="administrator" href="admin.html"&gt;Administer the system&lt;/a&gt;The lacksRole tag123&lt;p shiro:lacksRole="administrator"&gt; Sorry, you are not allowed to administer the system.&lt;/p&gt;The hasAllRoles tag123&lt;p shiro:hasAllRoles="developer, project manager"&gt; You are a developer and a project manager.&lt;/p&gt;The hasAnyRoles tag123&lt;p shiro:hasAnyRoles="developer, project manager, administrator"&gt; You are a developer, project manager, or administrator.&lt;/p&gt;The hasPermission tag1&lt;a shiro:hasPermission="user:create" href="createUser.html"&gt;Create a new User&lt;/a&gt;The lacksPermission tag123&lt;p shiro:lacksPermission="user:delete"&gt; Sorry, you are not allowed to delete user accounts.&lt;/p&gt;The hasAllPermissions tag123&lt;p shiro:hasAllPermissions="user:create, user:delete"&gt; You can create and delete users.&lt;/p&gt;The hasAnyPermissions tag123&lt;p shiro:hasAnyPermissions="user:create, user:delete"&gt; You can create or delete users.&lt;/p&gt;Ê∫êÁ†ÅÂú∞ÂùÄÔºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/16.Spring-Boot-Shiro-Thymeleaf-Tag]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Shiro</tag>
        <tag>Security</tag>
        <tag>Spring Boot</tag>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Shiro‰∏≠‰ΩøÁî®ÁºìÂ≠ò]]></title>
    <url>%2FSpring-Boot-Shiro%20cache.html</url>
    <content type="text"><![CDATA[Âú®Shiro‰∏≠Âä†ÂÖ•ÁºìÂ≠òÂèØ‰ª•‰ΩøÊùÉÈôêÁõ∏ÂÖ≥Êìç‰ΩúÂ∞ΩÂèØËÉΩÂø´ÔºåÈÅøÂÖçÈ¢ëÁπÅËÆøÈóÆÊï∞ÊçÆÂ∫ìËé∑ÂèñÊùÉÈôê‰ø°ÊÅØÔºåÂõ†‰∏∫ÂØπ‰∫é‰∏Ä‰∏™Áî®Êà∑Êù•ËØ¥ÔºåÂÖ∂ÊùÉÈôêÂú®Áü≠Êó∂Èó¥ÂÜÖÂü∫Êú¨ÊòØ‰∏ç‰ºöÂèòÂåñÁöÑ„ÄÇShiroÊèê‰æõ‰∫ÜCacheÁöÑÊäΩË±°ÔºåÂÖ∂Âπ∂Ê≤°ÊúâÁõ¥Êé•Êèê‰æõÁõ∏Â∫îÁöÑÂÆûÁé∞ÔºåÂõ†‰∏∫ËøôÂ∑≤ÁªèË∂ÖÂá∫‰∫Ü‰∏Ä‰∏™ÂÆâÂÖ®Ê°ÜÊû∂ÁöÑËåÉÂõ¥„ÄÇÂú®Shiro‰∏≠ÂèØ‰ª•ÈõÜÊàêÂ∏∏Áî®ÁöÑÁºìÂ≠òÂÆûÁé∞ÔºåËøôÈáå‰ªãÁªçÂü∫‰∫éRedisÂíåEhcacheÁºìÂ≠òÁöÑÂÆûÁé∞„ÄÇÂú®„ÄäSpring-Boot-shiroÊùÉÈôêÊéßÂà∂„Äã‰∏≠ÔºåÂΩìÁî®Êà∑ËÆøÈóÆ‚ÄùËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ‚Äù„ÄÅ‚ÄùÊñ∞Â¢ûÁî®Êà∑‚ÄùÂíå‚ÄùÂà†Èô§Áî®Êà∑‚ÄùÁöÑÊó∂ÂÄôÔºåÂêéÂè∞ËæìÂá∫‰∫Ü‰∏âÊ¨°ÊâìÂç∞‰ø°ÊÅØÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö123Áî®Êà∑mrbirdËé∑ÂèñÊùÉÈôê-----ShiroRealm.doGetAuthorizationInfoÁî®Êà∑mrbirdËé∑ÂèñÊùÉÈôê-----ShiroRealm.doGetAuthorizationInfoÁî®Êà∑mrbirdËé∑ÂèñÊùÉÈôê-----ShiroRealm.doGetAuthorizationInfoËØ¥ÊòéÂú®Ëøô‰∏âÊ¨°ËÆøÈóÆ‰∏≠ÔºåShiroÈÉΩ‰ºö‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Ëé∑ÂèñÁî®Êà∑ÁöÑÊùÉÈôê‰ø°ÊÅØÔºåÈÄöËøáDruidÊï∞ÊçÆÊ∫êSQLÁõëÊéßÂêéÂè∞‰πüÂèØ‰ª•ËØÅÂÆûËøô‰∏ÄÁÇπÔºöËøôÂØπÊï∞ÊçÆÂ∫ìÊù•ËØ¥ÊòØÊ≤°ÂøÖË¶ÅÁöÑÊ∂àËÄó„ÄÇÊé•‰∏ãÊù•‰ΩøÁî®ÁºìÂ≠òÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇRedisÂºïÂÖ•Redis‰æùËµñÁΩëÁªú‰∏äÂ∑≤ÁªèÊúâÂÖ≥‰∫éShiroÈõÜÊàêRedisÁöÑÂÆûÁé∞ÔºåÊàë‰ª¨ÂºïÂÖ•Âç≥ÂèØÔºö123456&lt;!-- shiro-redis --&gt;&lt;dependency&gt; &lt;groupId&gt;org.crazycake&lt;/groupId&gt; &lt;artifactId&gt;shiro-redis&lt;/artifactId&gt; &lt;version&gt;2.4.2.1-RELEASE&lt;/version&gt;&lt;/dependency&gt;ÈÖçÁΩÆRedisÊàë‰ª¨Âú®application.ymlÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ÂÖ•RedisÈÖçÁΩÆÔºö12345678910spring: redis: host: localhost port: 6379 pool: max-active: 8 max-wait: -1 max-idle: 8 min-idle: 0 timeout: 0Êé•ÁùÄÂú®ShiroConfig‰∏≠ÈÖçÁΩÆRedisÔºö12345678910public RedisManager redisManager() &#123; RedisManager redisManager = new RedisManager(); return redisManager;&#125;public RedisCacheManager cacheManager() &#123; RedisCacheManager redisCacheManager = new RedisCacheManager(); redisCacheManager.setRedisManager(redisManager()); return redisCacheManager;&#125;‰∏äÈù¢‰ª£Á†ÅÈÖçÁΩÆ‰∫ÜRedisManagerÔºåÂπ∂Â∞ÜÂÖ∂Ê≥®ÂÖ•Âà∞‰∫ÜRedisCacheManager‰∏≠ÔºåÊúÄÂêéÂú®SecurityManager‰∏≠Âä†ÂÖ•RedisCacheManagerÔºö1234567@Bean public SecurityManager securityManager()&#123; DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager(); ... securityManager.setCacheManager(cacheManager()); return securityManager; &#125;ÈÖçÁΩÆÂÆåÊØïÂêØÂä®È°πÁõÆÔºåÂàÜÂà´ËÆøÈóÆËÆøÈóÆ‚ÄùËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ‚Äù„ÄÅ‚ÄùÊñ∞Â¢ûÁî®Êà∑‚ÄùÂíå‚ÄùÂà†Èô§Áî®Êà∑‚ÄùÔºåÂèØÂèëÁé∞ÂêéÂè∞Âè™ÊâìÂç∞‰∏ÄÊ¨°Ëé∑ÂèñÊùÉÈôê‰ø°ÊÅØÔºö1Áî®Êà∑mrbirdËé∑ÂèñÊùÉÈôê-----ShiroRealm.doGetAuthorizationInfoÊü•ÁúãDruidÊï∞ÊçÆÊ∫êSQLÁõëÊéßÔºöÊ∫êÁ†ÅÔºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/14.Spring-Boot-Shiro-RedisEhcacheEhcache‰æùËµñÂä†ÂÖ•EhcacheÁõ∏ÂÖ≥‰æùËµñÔºö123456789101112131415&lt;!-- shiro ehcache --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-ehcache&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt;&lt;/dependency&gt;&lt;!-- ehchache --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt; &lt;artifactId&gt;ehcache&lt;/artifactId&gt;&lt;/dependency&gt;EhcacheÈÖçÁΩÆÂú®src/main/resource/configË∑ØÂæÑ‰∏ãÊñ∞Â¢û‰∏Ä‰∏™EhcacheÈÖçÁΩÆ‚Äî‚Äîshiro-ehcache.xmlÔºö123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ehcache.org/ehcache.xsd" updateCheck="false"&gt; &lt;diskStore path="java.io.tmpdir/Tmp_EhCache" /&gt; &lt;defaultCache maxElementsInMemory="10000" eternal="false" timeToIdleSeconds="120" timeToLiveSeconds="120" overflowToDisk="false" diskPersistent="false" diskExpiryThreadIntervalSeconds="120" /&gt; &lt;!-- ÁôªÂΩïËÆ∞ÂΩïÁºìÂ≠òÈîÅÂÆö1Â∞èÊó∂ --&gt; &lt;cache name="passwordRetryCache" maxEntriesLocalHeap="2000" eternal="false" timeToIdleSeconds="3600" timeToLiveSeconds="0" overflowToDisk="false" statistics="true" /&gt;&lt;/ehcache&gt;ShiroConfigÈÖçÁΩÆEhcacheÊé•ÁùÄÂú®ShiroConfig‰∏≠Ê≥®ÂÖ•EhcacheÁºìÂ≠òÔºö123456@Beanpublic EhCacheManager getEhCacheManager() &#123; EhCacheManager em = new EhCacheManager(); em.setCacheManagerConfigFile("classpath:config/shiro-ehcache.xml"); return em;&#125;Â∞ÜÁºìÂ≠òÂØπË±°Ê≥®ÂÖ•Âà∞SecurityManager‰∏≠Ôºö12345678@Bean public SecurityManager securityManager()&#123; DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager(); securityManager.setRealm(shiroRealm()); securityManager.setRememberMeManager(rememberMeManager()); securityManager.setCacheManager(getEhCacheManager()); return securityManager; &#125;ÈÖçÁΩÆÂÆåÊØïÂêØÂä®È°πÁõÆÔºåÂàÜÂà´ËÆøÈóÆËÆøÈóÆ‚ÄùËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ‚Äù„ÄÅ‚ÄùÊñ∞Â¢ûÁî®Êà∑‚ÄùÂíå‚ÄùÂà†Èô§Áî®Êà∑‚ÄùÔºåÂèØÂèëÁé∞ÂêéÂè∞Âè™ÊâìÂç∞‰∏ÄÊ¨°Ëé∑ÂèñÊùÉÈôê‰ø°ÊÅØÔºö1Áî®Êà∑mrbirdËé∑ÂèñÊùÉÈôê-----ShiroRealm.doGetAuthorizationInfoÊü•ÁúãDruidÊï∞ÊçÆÊ∫êSQLÁõëÊéßÔºöSQLÂè™ÊâßË°å‰∫Ü‰∏ÄÊ¨°ÔºåËØ¥ÊòéÁºìÂ≠òÊàêÂäü„ÄÇÊ∫êÁ†ÅËøûÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/15.Spring-Boot-Shiro-Ehcache]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Shiro</tag>
        <tag>Security</tag>
        <tag>Spring Boot</tag>
        <tag>Ehcache</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot ShiroÊùÉÈôêÊéßÂà∂]]></title>
    <url>%2FSpring-Boot-Shiro%20Authorization.html</url>
    <content type="text"><![CDATA[Âú®„ÄäSpring-Boot-shiroÁî®Êà∑ËÆ§ËØÅ„Äã‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáÁªßÊâøAuthorizingRealmÊäΩË±°Á±ªÂÆûÁé∞‰∫ÜdoGetAuthenticationInfo()ÊñπÊ≥ïÂÆåÊàê‰∫ÜÁî®Êà∑ËÆ§ËØÅÊìç‰Ωú„ÄÇÊé•‰∏ãÊù•ÁªßÁª≠ÂÆûÁé∞doGetAuthorizationInfo()ÊñπÊ≥ïÂÆåÊàêShiroÁöÑÊùÉÈôêÊéßÂà∂ÂäüËÉΩ„ÄÇÊéàÊùÉ‰πüÁß∞‰∏∫ËÆøÈóÆÊéßÂà∂ÔºåÊòØÁÆ°ÁêÜËµÑÊ∫êËÆøÈóÆÁöÑËøáÁ®ã„ÄÇÂç≥Ê†πÊçÆ‰∏çÂêåÁî®Êà∑ÁöÑÊùÉÈôêÂà§Êñ≠ÂÖ∂ÊòØÂê¶ÊúâËÆøÈóÆÁõ∏Â∫îËµÑÊ∫êÁöÑÊùÉÈôê„ÄÇÂú®Shiro‰∏≠ÔºåÊùÉÈôêÊéßÂà∂Êúâ‰∏â‰∏™Ê†∏ÂøÉÁöÑÂÖÉÁ¥†ÔºöÊùÉÈôêÔºåËßíËâ≤ÂíåÁî®Êà∑„ÄÇÂ∫ìÊ®°ÂûãËÆæËÆ°Âú®ËøôÈáåÔºåÊàë‰ª¨‰ΩøÁî®RBACÔºàRole-Based Access ControlÔºåÂü∫‰∫éËßíËâ≤ÁöÑËÆøÈóÆÊéßÂà∂ÔºâÊ®°ÂûãËÆæËÆ°Áî®Êà∑ÔºåËßíËâ≤ÂíåÊùÉÈôêÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇÁÆÄÂçïÂú∞ËØ¥Ôºå‰∏Ä‰∏™Áî®Êà∑Êã•ÊúâËã•Âπ≤ËßíËâ≤ÔºåÊØè‰∏Ä‰∏™ËßíËâ≤Êã•ÊúâËã•Âπ≤ÊùÉÈôê„ÄÇËøôÊ†∑ÔºåÂ∞±ÊûÑÈÄ†Êàê‚ÄúÁî®Êà∑-ËßíËâ≤-ÊùÉÈôê‚ÄùÁöÑÊéàÊùÉÊ®°Âûã„ÄÇÂú®ËøôÁßçÊ®°Âûã‰∏≠ÔºåÁî®Êà∑‰∏éËßíËâ≤‰πãÈó¥ÔºåËßíËâ≤‰∏éÊùÉÈôê‰πãÈó¥Ôºå‰∏ÄËà¨ËÄÖÊòØÂ§öÂØπÂ§öÁöÑÂÖ≥Á≥ª„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÊ†πÊçÆËøô‰∏™Ê®°ÂûãÔºåËÆæËÆ°Êï∞ÊçÆÂ∫ìË°®ÔºåÂπ∂ÊèíÂÖ•‰∏Ä‰∫õÊµãËØïÊï∞ÊçÆÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394-- ------------------------------ Table structure for T_PERMISSION-- ----------------------------CREATE TABLE "SCOTT"."T_PERMISSION" ( "ID" NUMBER(10) NOT NULL , "URL" VARCHAR2(256 BYTE) NULL , "NAME" VARCHAR2(64 BYTE) NULL );COMMENT ON COLUMN "SCOTT"."T_PERMISSION"."URL" IS 'urlÂú∞ÂùÄ';COMMENT ON COLUMN "SCOTT"."T_PERMISSION"."NAME" IS 'urlÊèèËø∞';-- ------------------------------ Records of T_PERMISSION-- ----------------------------INSERT INTO "SCOTT"."T_PERMISSION" VALUES ('1', '/user', 'user:user');INSERT INTO "SCOTT"."T_PERMISSION" VALUES ('2', '/user/add', 'user:add');INSERT INTO "SCOTT"."T_PERMISSION" VALUES ('3', '/user/delete', 'user:delete');-- ------------------------------ Table structure for T_ROLE-- ----------------------------CREATE TABLE "SCOTT"."T_ROLE" ( "ID" NUMBER NOT NULL , "NAME" VARCHAR2(32 BYTE) NULL , "MEMO" VARCHAR2(32 BYTE) NULL );COMMENT ON COLUMN "SCOTT"."T_ROLE"."NAME" IS 'ËßíËâ≤ÂêçÁß∞';COMMENT ON COLUMN "SCOTT"."T_ROLE"."MEMO" IS 'ËßíËâ≤ÊèèËø∞';-- ------------------------------ Records of T_ROLE-- ----------------------------INSERT INTO "SCOTT"."T_ROLE" VALUES ('1', 'admin', 'Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò');INSERT INTO "SCOTT"."T_ROLE" VALUES ('2', 'test', 'ÊµãËØïË¥¶Êà∑');-- ------------------------------ Table structure for T_ROLE_PERMISSION-- ----------------------------CREATE TABLE "SCOTT"."T_ROLE_PERMISSION" ( "RID" NUMBER(10) NULL , "PID" NUMBER(10) NULL );COMMENT ON COLUMN "SCOTT"."T_ROLE_PERMISSION"."RID" IS 'ËßíËâ≤id';COMMENT ON COLUMN "SCOTT"."T_ROLE_PERMISSION"."PID" IS 'ÊùÉÈôêid';-- ------------------------------ Records of T_ROLE_PERMISSION-- ----------------------------INSERT INTO "SCOTT"."T_ROLE_PERMISSION" VALUES ('1', '2');INSERT INTO "SCOTT"."T_ROLE_PERMISSION" VALUES ('1', '3');INSERT INTO "SCOTT"."T_ROLE_PERMISSION" VALUES ('2', '1');INSERT INTO "SCOTT"."T_ROLE_PERMISSION" VALUES ('1', '1');-- ------------------------------ Table structure for T_USER-- ----------------------------CREATE TABLE "SCOTT"."T_USER" ( "ID" NUMBER NOT NULL , "USERNAME" VARCHAR2(20 BYTE) NOT NULL , "PASSWD" VARCHAR2(128 BYTE) NOT NULL , "CREATE_TIME" DATE NULL , "STATUS" CHAR(1 BYTE) NOT NULL );COMMENT ON COLUMN "SCOTT"."T_USER"."USERNAME" IS 'Áî®Êà∑Âêç';COMMENT ON COLUMN "SCOTT"."T_USER"."PASSWD" IS 'ÂØÜÁ†Å';COMMENT ON COLUMN "SCOTT"."T_USER"."CREATE_TIME" IS 'ÂàõÂª∫Êó∂Èó¥';COMMENT ON COLUMN "SCOTT"."T_USER"."STATUS" IS 'ÊòØÂê¶ÊúâÊïà 1ÔºöÊúâÊïà 0ÔºöÈîÅÂÆö';-- ------------------------------ Records of T_USER-- ----------------------------INSERT INTO "SCOTT"."T_USER" VALUES ('2', 'tester', '243e29429b340192700677d48c09d992', TO_DATE('2017-12-11 17:20:21', 'YYYY-MM-DD HH24:MI:SS'), '1');INSERT INTO "SCOTT"."T_USER" VALUES ('1', 'mrbird', '42ee25d1e43e9f57119a00d0a39e5250', TO_DATE('2017-12-11 10:52:48', 'YYYY-MM-DD HH24:MI:SS'), '1');-- ------------------------------ Table structure for T_USER_ROLE-- ----------------------------CREATE TABLE "SCOTT"."T_USER_ROLE" ( "USER_ID" NUMBER(10) NULL , "RID" NUMBER(10) NULL );COMMENT ON COLUMN "SCOTT"."T_USER_ROLE"."USER_ID" IS 'Áî®Êà∑id';COMMENT ON COLUMN "SCOTT"."T_USER_ROLE"."RID" IS 'ËßíËâ≤id';-- ------------------------------ Records of T_USER_ROLE-- ----------------------------INSERT INTO "SCOTT"."T_USER_ROLE" VALUES ('1', '1');INSERT INTO "SCOTT"."T_USER_ROLE" VALUES ('2', '2');‰∏Ä‰∫õÈùûÁ©∫Á∫¶ÊùüËøôÈáåÂ∞±‰∏çË¥¥‰∫ÜÔºåÂèØÂèÇËÄÉÊ∫êÁ†Å‰∏≠ÁöÑinit.sql„ÄÇ‰∏äÈù¢ÁöÑsqlÂàõÂª∫‰∫Ü‰∫îÂº†Ë°®ÔºöÁî®Êà∑Ë°®T_USER„ÄÅËßíËâ≤Ë°®T_ROLE„ÄÅÁî®Êà∑ËßíËâ≤ÂÖ≥ËÅîË°®T_USER_ROLE„ÄÅÊùÉÈôêË°®T_PERMISSIONÂíåÊùÉÈôêËßíËâ≤ÂÖ≥ËÅîË°®T_ROLE_PERMISSION„ÄÇÁî®Êà∑mrbirdËßíËâ≤‰∏∫adminÔºåÁî®Êà∑testerËßíËâ≤‰∏∫test„ÄÇadminËßíËâ≤Êã•ÊúâÁî®Êà∑ÁöÑÊâÄÊúâÊùÉÈôêÔºàuser:user,user:add,user:deleteÔºâÔºåËÄåtestËßíËâ≤Âè™Êã•ÊúâÁî®Êà∑ÁöÑÊü•ÁúãÊùÉÈôêÔºàuser:userÔºâ„ÄÇÂØÜÁ†ÅÈÉΩÊòØ123456ÔºåÁªèËøáShiroÊèê‰æõÁöÑMD5Âä†ÂØÜ„ÄÇDaoÂ±ÇÂàõÂª∫‰∏§‰∏™ÂÆû‰ΩìÁ±ªÔºåÂØπÂ∫îÁî®Êà∑ËßíËâ≤Ë°®RoleÂíåÁî®Êà∑ÊùÉÈôêË°®PermissionÔºöRole:12345678public class Role implements Serializable&#123; private static final long serialVersionUID = -227437593919820521L; private Integer id; private String name; private String memo; // get setÁï•&#125;Permission:12345678public class Permission implements Serializable&#123; private static final long serialVersionUID = 7160557680614732403L; private Integer id; private String url; private String name; // get,setÁï• &#125;ÂàõÂª∫‰∏§‰∏™daoÊé•Âè£ÔºåÂàÜÂà´Áî®Êà∑Êü•ËØ¢Áî®Êà∑ÁöÑÊâÄÊúâËßíËâ≤ÂíåÁî®Êà∑ÁöÑÊâÄÊúâÊùÉÈôêÔºöUserRoleMapperÔºö1234@Mapperpublic interface UserRoleMapper &#123; List&lt;Role&gt; findByUserName(String userName);&#125;UserPermissionMapperÔºö1234@Mapperpublic interface UserPermissionMapper &#123; List&lt;Permission&gt; findByUserName(String userName);&#125;ÂÖ∂xmlÂÆûÁé∞ÔºöUserRoleMapper.xmlÔºö123456789101112131415&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.springboot.dao.UserRoleMapper"&gt; &lt;resultMap type="com.springboot.pojo.Role" id="role"&gt; &lt;id column="id" property="id" javaType="java.lang.Integer" jdbcType="NUMERIC"/&gt; &lt;id column="name" property="name" javaType="java.lang.String" jdbcType="VARCHAR"/&gt; &lt;id column="memo" property="memo" javaType="java.lang.String" jdbcType="VARCHAR"/&gt; &lt;/resultMap&gt; &lt;select id="findByUserName" resultMap="role"&gt; select r.id,r.name,r.memo from t_role r left join t_user_role ur on(r.id = ur.rid) left join t_user u on(u.id = ur.user_id) where u.username = #&#123;userName&#125; &lt;/select&gt;&lt;/mapper&gt;UserPermissionMapper.xmlÔºö1234567891011121314151617&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.springboot.dao.UserPermissionMapper"&gt; &lt;resultMap type="com.springboot.pojo.Permission" id="permission"&gt; &lt;id column="id" property="id" javaType="java.lang.Integer" jdbcType="NUMERIC"/&gt; &lt;id column="url" property="url" javaType="java.lang.String" jdbcType="VARCHAR"/&gt; &lt;id column="name" property="name" javaType="java.lang.String" jdbcType="VARCHAR"/&gt; &lt;/resultMap&gt; &lt;select id="findByUserName" resultMap="permission"&gt; select p.id,p.url,p.name from t_role r left join t_user_role ur on(r.id = ur.rid) left join t_user u on(u.id = ur.user_id) left join t_role_permission rp on(rp.rid = r.id) left join t_permission p on(p.id = rp.pid ) where u.username = #&#123;userName&#125; &lt;/select&gt;&lt;/mapper&gt;Êï∞ÊçÆÂ±ÇÂáÜÂ§áÂ•ΩÂêéÔºåÊé•‰∏ãÊù•ÂØπRealmËøõË°åÊîπÈÄ†„ÄÇRealmÂú®Shiro‰∏≠ÔºåÁî®Êà∑ËßíËâ≤ÂíåÊùÉÈôêÁöÑËé∑ÂèñÊòØÂú®RealmÁöÑdoGetAuthorizationInfo()ÊñπÊ≥ï‰∏≠ÂÆûÁé∞ÁöÑÔºåÊâÄ‰ª•Êé•‰∏ãÊù•ÊâãÂä®ÂÆûÁé∞ËØ•ÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445public class ShiroRealm extends AuthorizingRealm &#123; @Autowired private UserMapper userMapper; @Autowired private UserRoleMapper userRoleMapper; @Autowired private UserPermissionMapper userPermissionMapper; /** * Ëé∑ÂèñÁî®Êà∑ËßíËâ≤ÂíåÊùÉÈôê */ @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principal) &#123; User user = (User) SecurityUtils.getSubject().getPrincipal(); String userName = user.getUserName(); System.out.println("Áî®Êà∑" + userName + "Ëé∑ÂèñÊùÉÈôê-----ShiroRealm.doGetAuthorizationInfo"); SimpleAuthorizationInfo simpleAuthorizationInfo = new SimpleAuthorizationInfo(); // Ëé∑ÂèñÁî®Êà∑ËßíËâ≤ÈõÜ List&lt;Role&gt; roleList = userRoleMapper.findByUserName(userName); Set&lt;String&gt; roleSet = new HashSet&lt;String&gt;(); for (Role r : roleList) &#123; roleSet.add(r.getName()); &#125; simpleAuthorizationInfo.setRoles(roleSet); // Ëé∑ÂèñÁî®Êà∑ÊùÉÈôêÈõÜ List&lt;Permission&gt; permissionList = userPermissionMapper.findByUserName(userName); Set&lt;String&gt; permissionSet = new HashSet&lt;String&gt;(); for (Permission p : permissionList) &#123; permissionSet.add(p.getName()); &#125; simpleAuthorizationInfo.setStringPermissions(permissionSet); return simpleAuthorizationInfo; &#125; /** * ÁôªÂΩïËÆ§ËØÅ */ @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException &#123; // ÁôªÂΩïËÆ§ËØÅÂ∑≤ÁªèÂÆûÁé∞ËøáÔºåËøôÈáå‰∏çÂÜçË¥¥‰ª£Á†Å &#125;&#125;Âú®‰∏äËø∞‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáÊñπÊ≥ïuserRoleMapper.findByUserName(userName)ÂíåuserPermissionMapper.findByUserName(userName)Ëé∑Âèñ‰∫ÜÂΩìÂâçÁôªÂΩïÁî®Êà∑ÁöÑËßíËâ≤ÂíåÊùÉÈôêÈõÜÔºåÁÑ∂Âêé‰øùÂ≠òÂà∞SimpleAuthorizationInfoÂØπË±°‰∏≠ÔºåÂπ∂ËøîÂõûÁªôShiroÔºåËøôÊ†∑Shiro‰∏≠Â∞±Â≠òÂÇ®‰∫ÜÂΩìÂâçÁî®Êà∑ÁöÑËßíËâ≤ÂíåÊùÉÈôê‰ø°ÊÅØ‰∫Ü„ÄÇÈô§‰∫ÜÂØπRealmËøõË°åÊîπÈÄ†Â§ñÔºåÊàë‰ª¨ËøòÈúÄ‰øÆÊîπShiroConfigÈÖçÁΩÆ„ÄÇShiroConfigShiro‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∫õÂíåÊùÉÈôêÁõ∏ÂÖ≥ÁöÑÊ≥®Ëß£ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567891011121314// Ë°®Á§∫ÂΩìÂâçSubjectÂ∑≤ÁªèÈÄöËøáloginËøõË°å‰∫ÜË∫´‰ªΩÈ™åËØÅÔºõÂç≥Subject.isAuthenticated()ËøîÂõûtrue„ÄÇ@RequiresAuthentication // Ë°®Á§∫ÂΩìÂâçSubjectÂ∑≤ÁªèË∫´‰ªΩÈ™åËØÅÊàñËÄÖÈÄöËøáËÆ∞‰ΩèÊàëÁôªÂΩïÁöÑ„ÄÇ@RequiresUser // Ë°®Á§∫ÂΩìÂâçSubjectÊ≤°ÊúâË∫´‰ªΩÈ™åËØÅÊàñÈÄöËøáËÆ∞‰ΩèÊàëÁôªÂΩïËøáÔºåÂç≥ÊòØÊ∏∏ÂÆ¢Ë∫´‰ªΩ„ÄÇ@RequiresGuest // Ë°®Á§∫ÂΩìÂâçSubjectÈúÄË¶ÅËßíËâ≤adminÂíåuser„ÄÇ @RequiresRoles(value=&#123;"admin", "user"&#125;, logical= Logical.AND) // Ë°®Á§∫ÂΩìÂâçSubjectÈúÄË¶ÅÊùÉÈôêuser:aÊàñuser:b„ÄÇ@RequiresPermissions (value=&#123;"user:a", "user:b"&#125;, logical= Logical.OR)Ë¶ÅÂºÄÂêØËøô‰∫õÊ≥®Ëß£ÁöÑ‰ΩøÁî®ÔºåÈúÄË¶ÅÂú®ShiroConfig‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆÔºö12345678...@Beanpublic AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor(SecurityManager securityManager) &#123; AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor = new AuthorizationAttributeSourceAdvisor(); authorizationAttributeSourceAdvisor.setSecurityManager(securityManager); return authorizationAttributeSourceAdvisor;&#125;...ControllerÁºñÂÜô‰∏Ä‰∏™UserControllerÔºåÁî®‰∫éÂ§ÑÁêÜUserÁ±ªÁöÑËÆøÈóÆËØ∑Ê±ÇÔºåÂπ∂‰ΩøÁî®ShiroÊùÉÈôêÊ≥®Ëß£ÊéßÂà∂ÊùÉÈôêÔºö12345678910111213141516171819202122232425@Controller@RequestMapping("/user")public class UserController &#123; @RequiresPermissions("user:user") @RequestMapping("list") public String userList(Model model) &#123; model.addAttribute("value", "Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ"); return "user"; &#125; @RequiresPermissions("user:add") @RequestMapping("add") public String userAdd(Model model) &#123; model.addAttribute("value", "Êñ∞Â¢ûÁî®Êà∑"); return "user"; &#125; @RequiresPermissions("user:delete") @RequestMapping("delete") public String userDelete(Model model) &#123; model.addAttribute("value", "Âà†Èô§Áî®Êà∑"); return "user"; &#125;&#125;Âú®LoginController‰∏≠Ê∑ªÂä†‰∏Ä‰∏™/403Ë∑≥ËΩ¨Ôºö1234@GetMapping("/403")public String forbid() &#123; return "403";&#125;ÂâçÁ´ØÈ°µÈù¢ÂØπindex.htmlËøõË°åÊîπÈÄ†ÔºåÊ∑ªÂä†‰∏â‰∏™Áî®Êà∑Êìç‰ΩúÁöÑÈìæÊé•Ôºö1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;È¶ñÈ°µ&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;‰Ω†Â•ΩÔºÅ[[$&#123;user.userName&#125;]]&lt;/p&gt; &lt;h3&gt;ÊùÉÈôêÊµãËØïÈìæÊé•&lt;/h3&gt; &lt;div&gt; &lt;a th:href="@&#123;/user/list&#125;"&gt;Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ&lt;/a&gt; &lt;a th:href="@&#123;/user/add&#125;"&gt;Êñ∞Â¢ûÁî®Êà∑&lt;/a&gt; &lt;a th:href="@&#123;/user/delete&#125;"&gt;Âà†Èô§Áî®Êà∑&lt;/a&gt; &lt;/div&gt; &lt;a th:href="@&#123;/logout&#125;"&gt;Ê≥®ÈîÄ&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;ÂΩìÁî®Êà∑ÂØπÁî®Êà∑ÁöÑÊìç‰ΩúÊúâÁõ∏Â∫îÊùÉÈôêÁöÑÊó∂ÂÄôÔºåË∑≥ËΩ¨Âà∞user.htmlÔºö1234567891011&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;[[$&#123;value&#125;]]&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;[[$&#123;value&#125;]]&lt;/p&gt; &lt;a th:href="@&#123;/index&#125;"&gt;ËøîÂõû&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;403È°µÈù¢Ôºö12345678910&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;ÊöÇÊó†ÊùÉÈôê&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;ÊÇ®Ê≤°ÊúâÊùÉÈôêËÆøÈóÆËØ•ËµÑÊ∫êÔºÅÔºÅ&lt;/p&gt; &lt;a th:href="@&#123;/index&#125;"&gt;ËøîÂõû&lt;/a&gt;&lt;/body&gt;ÊµãËØïÂêØÂä®È°πÁõÆÔºå‰ΩøÁî®mrbirdÁöÑË¥¶Êà∑ÁôªÂΩïÂêé‰∏ªÈ°µÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÁÇπÂáª‚ÄùËé∑ÂèñÁî®Êà∑‰ø°ÊÅØËøûÊé•‚ÄùÔºöÂõ†‰∏∫mrbirdËßíËâ≤‰∏∫adminÔºåÂØπÁùÄ‰∏â‰∏™ÈìæÊé•ÈÉΩÁî±ËÆøÈóÆÊùÉÈôêÔºåÊâÄ‰ª•ËøôÈáåÂ∞±‰∏çÊºîÁ§∫‰∫Ü„ÄÇÊé•ÁùÄ‰ΩøÁî®testerÁî®Êà∑ÁôªÂΩï„ÄÇÂõ†‰∏∫testerÁî®Êà∑ËßíËâ≤‰∏∫testÔºåÂè™Êã•ÊúâÔºàuser:userÔºâÊùÉÈôêÔºåÊâÄ‰ª•ÂΩìÂÖ∂ÁÇπÂáª‚ÄùÊñ∞Â¢ûÁî®Êà∑‚ÄùÂíå‚ÄùÂà†Èô§Áî®Êà∑‚ÄùÁöÑÊó∂ÂÄôÔºöÂêéÂè∞ÊäõÂá∫org.apache.shiro.authz.AuthorizationException: Not authorized to invoke method:‚Ä¶ÂºÇÂ∏∏ÔºÅÔºÅÔºÅËøôÈáåÊúâÁÇπÂá∫‰πéÊÑèÊñôÔºåÊú¨‰ª•‰∏∫Âú®ShiroConfig‰∏≠ÈÖçÁΩÆ‰∫ÜshiroFilterFactoryBean.setUnauthorizedUrl(&quot;/403&quot;);ÔºåÊ≤°ÊúâÊùÉÈôêÁöÑËÆøÈóÆ‰ºöËá™Âä®ÈáçÂÆöÂêëÂà∞/403ÔºåÁªìÊûúËØÅÊòéÂπ∂‰∏çÊòØËøôÊ†∑„ÄÇÂêéÊù•Á†îÁ©∂ÂèëÁé∞ÔºåËØ•ËÆæÁΩÆÂè™ÂØπfilterChainËµ∑‰ΩúÁî®ÔºåÊØîÂ¶ÇÂú®filterChain‰∏≠ËÆæÁΩÆ‰∫ÜfilterChainDefinitionMap.put(&quot;/user/update&quot;, &quot;perms[user:update]&quot;);ÔºåÂ¶ÇÊûúÁî®Êà∑Ê≤°Êúâuser:updateÊùÉÈôêÔºåÈÇ£‰πàÂΩìÂÖ∂ËÆøÈóÆ/user/updateÁöÑÊó∂ÂÄôÔºåÈ°µÈù¢‰ºöË¢´ÈáçÂÆöÂêëÂà∞/403„ÄÇÈÇ£‰πàÂØπ‰∫é‰∏äÈù¢Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ÂÖ®Â±ÄÂºÇÂ∏∏ÊçïËé∑Á±ªÔºö12345678@ControllerAdvice@Order(value = Ordered.HIGHEST_PRECEDENCE)public class GlobalExceptionHandler &#123; @ExceptionHandler(value = AuthorizationException.class) public String handleAuthorizationException() &#123; return "403"; &#125;&#125;ÂêØÂä®È°πÁõÆÔºåÂÜçÊ¨°‰ΩøÁî®testerÁöÑË¥¶Âè∑ÁÇπÂáª‚ÄùÊñ∞Â¢ûÁî®Êà∑‚ÄùÂíå‚ÄùÂà†Èô§Áî®Êà∑‚ÄùÈìæÊé•ÁöÑÊó∂ÂÄôÔºåÈ°µÈù¢Â¶Ç‰∏ãÊâÄÁ§∫ÔºöÈ°µÈù¢Â∑≤ÁªèÊàêÂäüÈáçÂÆöÂêëÂà∞/403„ÄÇÊ∫êÁ†ÅÈìæÊé•https://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/13.Spring-Boot-Shiro-Authorization]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Shiro</tag>
        <tag>Security</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Shiro Remember Me]]></title>
    <url>%2FSpring-Boot-Shiro%20Remember-Me.html</url>
    <content type="text"><![CDATA[Êé•ÁùÄ„ÄäSpring-Boot-shiroÁî®Êà∑ËÆ§ËØÅ„ÄãÔºåÂΩìÁî®Êà∑ÊàêÂäüÁôªÂΩïÂêéÔºåÂÖ≥Èó≠ÊµèËßàÂô®ÁÑ∂ÂêéÂÜçÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆhttp://localhost:8080/web/indexÔºåÈ°µÈù¢‰ºöË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÔºå‰πãÂâçÁöÑÁôªÂΩïÂõ†‰∏∫ÊµèËßàÂô®ÁöÑÂÖ≥Èó≠Â∑≤ÁªèÂ§±Êïà„ÄÇShiro‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜRemember MeÁöÑÂäüËÉΩÔºåÁî®Êà∑ÁöÑÁôªÂΩïÁä∂ÊÄÅ‰∏ç‰ºöÂõ†‰∏∫ÊµèËßàÂô®ÁöÑÂÖ≥Èó≠ËÄåÂ§±ÊïàÔºåÁõ¥Âà∞CookieËøáÊúü„ÄÇÊõ¥Êîπ ShiroConfigÁªßÁª≠ÁºñËæëShiroConfigÔºåÂä†ÂÖ•Ôºö1234567891011121314151617181920212223/** * cookieÂØπË±° * @return */public SimpleCookie rememberMeCookie() &#123; // ËÆæÁΩÆcookieÂêçÁß∞ÔºåÂØπÂ∫îlogin.htmlÈ°µÈù¢ÁöÑ&lt;input type="checkbox" name="rememberMe"/&gt; SimpleCookie cookie = new SimpleCookie("rememberMe"); // ËÆæÁΩÆcookieÁöÑËøáÊúüÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÁßíÔºåËøôÈáå‰∏∫‰∏ÄÂ§© cookie.setMaxAge(86400); return cookie;&#125;/** * cookieÁÆ°ÁêÜÂØπË±° * @return */public CookieRememberMeManager rememberMeManager() &#123; CookieRememberMeManager cookieRememberMeManager = new CookieRememberMeManager(); cookieRememberMeManager.setCookie(rememberMeCookie()); // rememberMe cookieÂä†ÂØÜÁöÑÂØÜÈí• cookieRememberMeManager.setCipherKey(Base64.decode("4AvVhmFLUs0KTA3Kprsdag==")); return cookieRememberMeManager;&#125;Êé•‰∏ãÊù•Â∞ÜcookieÁÆ°ÁêÜÂØπË±°ËÆæÁΩÆÂà∞SecurityManager‰∏≠Ôºö1234567@Bean public SecurityManager securityManager()&#123; DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager(); securityManager.setRealm(shiroRealm()); securityManager.setRememberMeManager(rememberMeManager()); return securityManager; &#125;ÊúÄÂêé‰øÆÊîπÊùÉÈôêÈÖçÁΩÆÔºåÂ∞ÜShiroFilterFactoryBeanÁöÑfilterChainDefinitionMap.put(&quot;/**&quot;, &quot;authc&quot;);Êõ¥Êîπ‰∏∫filterChainDefinitionMap.put(&quot;/**&quot;, &quot;user&quot;);„ÄÇuserÊåáÁöÑÊòØÁî®Êà∑ËÆ§ËØÅÈÄöËøáÊàñËÄÖÈÖçÁΩÆ‰∫ÜRemember MeËÆ∞‰ΩèÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅÂêéÂèØËÆøÈóÆ„ÄÇÊõ¥Êîπ login.htmlÂú®login.html‰∏≠Âä†ÂÖ•Remember Me checkboxÔºö12345678910111213141516171819202122232425262728293031323334353637383940&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;ÁôªÂΩï&lt;/title&gt; &lt;link rel="stylesheet" th:href="@&#123;/css/login.css&#125;" type="text/css"&gt; &lt;script th:src="@&#123;/js/jquery-1.11.1.min.js&#125;"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="login-page"&gt; &lt;div class="form"&gt; &lt;input type="text" placeholder="Áî®Êà∑Âêç" name="username" required="required"/&gt; &lt;input type="password" placeholder="ÂØÜÁ†Å" name="password" required="required"/&gt; &lt;p&gt;&lt;input type="checkbox" name="rememberMe" /&gt;ËÆ∞‰ΩèÊàë&lt;/p&gt; &lt;button onclick="login()"&gt;ÁôªÂΩï&lt;/button&gt; &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;script th:inline="javascript"&gt; var ctx = [[@&#123;/&#125;]]; function login() &#123; var username = $("input[name='username']").val(); var password = $("input[name='password']").val(); var rememberMe = $("input[name='rememberMe']").is(':checked'); $.ajax(&#123; type: "post", url: ctx + "login", data: &#123;"username": username,"password": password,"rememberMe": rememberMe&#125;, dataType: "json", success: function (r) &#123; if (r.code == 0) &#123; location.href = ctx + 'index'; &#125; else &#123; alert(r.msg); &#125; &#125; &#125;); &#125;&lt;/script&gt;&lt;/html&gt;Êõ¥Êîπ LoginControllerÊõ¥ÊîπLoginControllerÁöÑlogin()ÊñπÊ≥ïÔºö12345678910111213141516171819@PostMapping("/login")@ResponseBodypublic ResponseBo login(String username, String password, Boolean rememberMe) &#123; password = MD5Utils.encrypt(username, password); UsernamePasswordToken token = new UsernamePasswordToken(username, password, rememberMe); Subject subject = SecurityUtils.getSubject(); try &#123; subject.login(token); return ResponseBo.ok(); &#125; catch (UnknownAccountException e) &#123; return ResponseBo.error(e.getMessage()); &#125; catch (IncorrectCredentialsException e) &#123; return ResponseBo.error(e.getMessage()); &#125; catch (LockedAccountException e) &#123; return ResponseBo.error(e.getMessage()); &#125; catch (AuthenticationException e) &#123; return ResponseBo.error("ËÆ§ËØÅÂ§±Ë¥•ÔºÅ"); &#125;&#125;ÂΩìrememberMeÂèÇÊï∞‰∏∫trueÁöÑÊó∂ÂÄôÔºåShiroÂ∞±‰ºöÂ∏ÆÊàë‰ª¨ËÆ∞‰ΩèÁî®Êà∑ÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇÂêØÂä®È°πÁõÆÂç≥ÂèØÁúãÂà∞ÊïàÊûú„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/12.Spring-Boot-Shiro-RememberMe]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Shiro</tag>
        <tag>Security</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot ShiroÁî®Êà∑ËÆ§ËØÅ]]></title>
    <url>%2FSpring-Boot-shiro%20Authentication.html</url>
    <content type="text"><![CDATA[Âú®Spring Boot‰∏≠ÈõÜÊàêShiroËøõË°åÁî®Êà∑ÁöÑËÆ§ËØÅËøáÁ®ã‰∏ªË¶ÅÂèØ‰ª•ÂΩíÁ∫≥‰∏∫‰ª•‰∏ã‰∏âÁÇπÔºö1„ÄÅÂÆö‰πâ‰∏Ä‰∏™ShiroConfigÔºåÁÑ∂ÂêéÈÖçÁΩÆSecurityManager BeanÔºåSecurityManager‰∏∫ShiroÁöÑÂÆâÂÖ®ÁÆ°ÁêÜÂô®ÔºåÁÆ°ÁêÜÁùÄÊâÄÊúâSubjectÔºõ2„ÄÅÂú®ShiroConfig‰∏≠ÈÖçÁΩÆShiroFilterFactoryBeanÔºåÂÖ∂‰∏∫ShiroËøáÊª§Âô®Â∑•ÂéÇÁ±ªÔºå‰æùËµñ‰∫éSecurityManagerÔºõ3„ÄÅËá™ÂÆö‰πâRealmÂÆûÁé∞ÔºåRealmÂåÖÂê´doGetAuthorizationInfo()ÂíådoGetAuthenticationInfo()ÊñπÊ≥ïÔºåÂõ†‰∏∫Êú¨ÊñáÂè™Ê∂âÂèäÁî®Êà∑ËÆ§ËØÅÔºåÊâÄ‰ª•Âè™ÂÆûÁé∞doGetAuthenticationInfo()ÊñπÊ≥ï„ÄÇÂºïÂÖ•‰æùËµñÈ¶ñÂÖàÂèØÊ†πÊçÆÊñáÁ´†„ÄäÂºÄÂêØSpring Boot„ÄãÊê≠Âª∫‰∏Ä‰∏™Spring Boot WebÁ®ãÂ∫èÔºåÁÑ∂ÂêéÂºïÂÖ•Shiro„ÄÅMyBatis„ÄÅÊï∞ÊçÆÂ∫ìÂíåthymeleaf‰æùËµñÔºö123456789101112131415161718192021222324252627282930313233&lt;!-- MyBatis --&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- thymeleaf --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- shiro-spring --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- oracleÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;com.oracle&lt;/groupId&gt; &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt; &lt;version&gt;6.0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- druidÊï∞ÊçÆÊ∫êÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt;&lt;/dependency&gt;ShiroConfigÂÆö‰πâ‰∏Ä‰∏™ShiroÈÖçÁΩÆÁ±ªÔºåÂêçÁß∞‰∏∫ShiroConfigÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748@Configurationpublic class ShiroConfig &#123; @Bean public ShiroFilterFactoryBean shiroFilterFactoryBean(SecurityManager securityManager) &#123; ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean(); // ËÆæÁΩÆsecurityManager shiroFilterFactoryBean.setSecurityManager(securityManager); // ÁôªÂΩïÁöÑurl shiroFilterFactoryBean.setLoginUrl("/login"); // ÁôªÂΩïÊàêÂäüÂêéË∑≥ËΩ¨ÁöÑurl shiroFilterFactoryBean.setSuccessUrl("/index"); // Êú™ÊéàÊùÉurl shiroFilterFactoryBean.setUnauthorizedUrl("/403"); LinkedHashMap&lt;String, String&gt; filterChainDefinitionMap = new LinkedHashMap&lt;&gt;(); // ÂÆö‰πâfilterChainÔºåÈùôÊÄÅËµÑÊ∫ê‰∏çÊã¶Êà™ filterChainDefinitionMap.put("/css/**", "anon"); filterChainDefinitionMap.put("/js/**", "anon"); filterChainDefinitionMap.put("/fonts/**", "anon"); filterChainDefinitionMap.put("/img/**", "anon"); // druidÊï∞ÊçÆÊ∫êÁõëÊéßÈ°µÈù¢‰∏çÊã¶Êà™ filterChainDefinitionMap.put("/druid/**", "anon"); // ÈÖçÁΩÆÈÄÄÂá∫ËøáÊª§Âô®ÔºåÂÖ∂‰∏≠ÂÖ∑‰ΩìÁöÑÈÄÄÂá∫‰ª£Á†ÅShiroÂ∑≤ÁªèÊõøÊàë‰ª¨ÂÆûÁé∞‰∫Ü filterChainDefinitionMap.put("/logout", "logout"); filterChainDefinitionMap.put("/", "anon"); // Èô§‰∏ä‰ª•Â§ñÊâÄÊúâurlÈÉΩÂøÖÈ°ªËÆ§ËØÅÈÄöËøáÊâçÂèØ‰ª•ËÆøÈóÆÔºåÊú™ÈÄöËøáËÆ§ËØÅËá™Âä®ËÆøÈóÆLoginUrl filterChainDefinitionMap.put("/**", "authc"); shiroFilterFactoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap); return shiroFilterFactoryBean; &#125; @Bean public SecurityManager securityManager()&#123; // ÈÖçÁΩÆSecurityManagerÔºåÂπ∂Ê≥®ÂÖ•shiroRealm DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager(); securityManager.setRealm(shiroRealm()); return securityManager; &#125; @Bean public ShiroRealm shiroRealm()&#123; // ÈÖçÁΩÆRealmÔºåÈúÄËá™Â∑±ÂÆûÁé∞ ShiroRealm shiroRealm = new ShiroRealm(); return shiroRealm; &#125; &#125;ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØfilterChainÂü∫‰∫éÁü≠Ë∑ØÊú∫Âà∂ÔºåÂç≥ÊúÄÂÖàÂåπÈÖçÂéüÂàôÔºåÂ¶ÇÔºö12/user/**=anon/user/aa=authc Ê∞∏Ëøú‰∏ç‰ºöÊâßË°åÂÖ∂‰∏≠anon„ÄÅauthcÁ≠â‰∏∫Shiro‰∏∫Êàë‰ª¨ÂÆûÁé∞ÁöÑËøáÊª§Âô®ÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöFilter NameClassDescriptionanonorg.apache.shiro.web.filter.authc.AnonymousFilterÂåøÂêçÊã¶Êà™Âô®ÔºåÂç≥‰∏çÈúÄË¶ÅÁôªÂΩïÂç≥ÂèØËÆøÈóÆÔºõ‰∏ÄËà¨Áî®‰∫éÈùôÊÄÅËµÑÊ∫êËøáÊª§ÔºõÁ§∫‰æã/static/**=anonauthcorg.apache.shiro.web.filter.authc.FormAuthenticationFilterÂü∫‰∫éË°®ÂçïÁöÑÊã¶Êà™Âô®ÔºõÂ¶Ç/**=authcÔºåÂ¶ÇÊûúÊ≤°ÊúâÁôªÂΩï‰ºöË∑≥Âà∞Áõ∏Â∫îÁöÑÁôªÂΩïÈ°µÈù¢ÁôªÂΩïauthcBasicorg.apache.shiro.web.filter.authc.BasicHttpAuthenticationFilterBasic HTTPË∫´‰ªΩÈ™åËØÅÊã¶Êà™Âô®logoutorg.apache.shiro.web.filter.authc.LogoutFilterÈÄÄÂá∫Êã¶Êà™Âô®Ôºå‰∏ªË¶ÅÂ±ûÊÄßÔºöredirectUrlÔºöÈÄÄÂá∫ÊàêÂäüÂêéÈáçÂÆöÂêëÁöÑÂú∞ÂùÄÔºà/ÔºâÔºåÁ§∫‰æã/logout=logoutnoSessionCreationorg.apache.shiro.web.filter.session.NoSessionCreationFilter‰∏çÂàõÂª∫‰ºöËØùÊã¶Êà™Âô®ÔºåË∞ÉÁî®subject.getSession(false)‰∏ç‰ºöÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºå‰ΩÜÊòØÂ¶ÇÊûúsubject.getSession(true)Â∞ÜÊäõÂá∫DisabledSessionExceptionÂºÇÂ∏∏permsorg.apache.shiro.web.filter.authz.PermissionsAuthorizationFilterÊùÉÈôêÊéàÊùÉÊã¶Êà™Âô®ÔºåÈ™åËØÅÁî®Êà∑ÊòØÂê¶Êã•ÊúâÊâÄÊúâÊùÉÈôêÔºõÂ±ûÊÄßÂíåroles‰∏ÄÊ†∑ÔºõÁ§∫‰æã/user/**=perms[&quot;user:create&quot;]portorg.apache.shiro.web.filter.authz.PortFilterÁ´ØÂè£Êã¶Êà™Âô®Ôºå‰∏ªË¶ÅÂ±ûÊÄßport(80)ÔºöÂèØ‰ª•ÈÄöËøáÁöÑÁ´ØÂè£ÔºõÁ§∫‰æã/test= port[80]ÔºåÂ¶ÇÊûúÁî®Êà∑ËÆøÈóÆËØ•È°µÈù¢ÊòØÈùû80ÔºåÂ∞ÜËá™Âä®Â∞ÜËØ∑Ê±ÇÁ´ØÂè£Êîπ‰∏∫80Âπ∂ÈáçÂÆöÂêëÂà∞ËØ•80Á´ØÂè£ÔºåÂÖ∂‰ªñË∑ØÂæÑ/ÂèÇÊï∞Á≠âÈÉΩ‰∏ÄÊ†∑restorg.apache.shiro.web.filter.authz.HttpMethodPermissionFilterrestÈ£éÊ†ºÊã¶Êà™Âô®ÔºåËá™Âä®Ê†πÊçÆËØ∑Ê±ÇÊñπÊ≥ïÊûÑÂª∫ÊùÉÈôêÂ≠óÁ¨¶‰∏≤ÔºõÁ§∫‰æã/users=rest[user]Ôºå‰ºöËá™Âä®ÊãºÂá∫user:read,user:create,user:update,user:deleteÊùÉÈôêÂ≠óÁ¨¶‰∏≤ËøõË°åÊùÉÈôêÂåπÈÖçÔºàÊâÄÊúâÈÉΩÂæóÂåπÈÖçÔºåisPermittedAllÔºârolesorg.apache.shiro.web.filter.authz.RolesAuthorizationFilterËßíËâ≤ÊéàÊùÉÊã¶Êà™Âô®ÔºåÈ™åËØÅÁî®Êà∑ÊòØÂê¶Êã•ÊúâÊâÄÊúâËßíËâ≤ÔºõÁ§∫‰æã/admin/**=roles[admin]sslorg.apache.shiro.web.filter.authz.SslFilterSSLÊã¶Êà™Âô®ÔºåÂè™ÊúâËØ∑Ê±ÇÂçèËÆÆÊòØhttpsÊâçËÉΩÈÄöËøáÔºõÂê¶ÂàôËá™Âä®Ë∑≥ËΩ¨‰ºöhttpsÁ´ØÂè£443ÔºõÂÖ∂‰ªñÂíåportÊã¶Êà™Âô®‰∏ÄÊ†∑Ôºõuserorg.apache.shiro.web.filter.authc.UserFilterÁî®Êà∑Êã¶Êà™Âô®ÔºåÁî®Êà∑Â∑≤ÁªèË∫´‰ªΩÈ™åËØÅ/ËÆ∞‰ΩèÊàëÁôªÂΩïÁöÑÈÉΩÂèØÔºõÁ§∫‰æã/**=userÈÖçÁΩÆÂÆåShiroConfigÂêéÔºåÊé•‰∏ãÊù•ÂØπRealmËøõË°åÂÆûÁé∞ÔºåÁÑ∂ÂêéÊ≥®ÂÖ•Âà∞SecurityManager‰∏≠„ÄÇRealmËá™ÂÆö‰πâRealmÂÆûÁé∞Âè™ÈúÄÁªßÊâøAuthorizingRealmÁ±ªÔºåÁÑ∂ÂêéÂÆûÁé∞doGetAuthorizationInfo()ÂíådoGetAuthenticationInfo()ÊñπÊ≥ïÂç≥ÂèØ„ÄÇËøô‰∏§‰∏™ÊñπÊ≥ïÂêç‰πçÁúãÊúâÁÇπÂÉèÔºåauthorizationÂèëÈü≥[Àå…î:Œ∏…ôra…™Ààze…™ Én]Ôºå‰∏∫ÊéàÊùÉÔºåÊâπÂáÜÁöÑÊÑèÊÄùÔºåÂç≥Ëé∑ÂèñÁî®Êà∑ÁöÑËßíËâ≤ÂíåÊùÉÈôêÁ≠â‰ø°ÊÅØÔºõauthenticationÂèëÈü≥[…î:ÀåŒ∏ent…™‚Äôke…™ Én]ÔºåËÆ§ËØÅÔºåË∫´‰ªΩÈ™åËØÅÁöÑÊÑèÊÄùÔºåÂç≥ÁôªÂΩïÊó∂È™åËØÅÁî®Êà∑ÁöÑÂêàÊ≥ïÊÄßÔºåÊØîÂ¶ÇÈ™åËØÅÁî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇ1234567891011121314151617181920212223242526272829303132333435363738394041public class ShiroRealm extends AuthorizingRealm &#123; @Autowired private UserMapper userMapper; /** * Ëé∑ÂèñÁî®Êà∑ËßíËâ≤ÂíåÊùÉÈôê */ @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principal) &#123; return null; &#125; /** * ÁôªÂΩïËÆ§ËØÅ */ @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException &#123; // Ëé∑ÂèñÁî®Êà∑ËæìÂÖ•ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å String userName = (String) token.getPrincipal(); String password = new String((char[]) token.getCredentials()); System.out.println("Áî®Êà∑" + userName + "ËÆ§ËØÅ-----ShiroRealm.doGetAuthenticationInfo"); // ÈÄöËøáÁî®Êà∑ÂêçÂà∞Êï∞ÊçÆÂ∫ìÊü•ËØ¢Áî®Êà∑‰ø°ÊÅØ User user = userMapper.findByUserName(userName); if (user == null) &#123; throw new UnknownAccountException("Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØÔºÅ"); &#125; if (!password.equals(user.getPassword())) &#123; throw new IncorrectCredentialsException("Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØÔºÅ"); &#125; if (user.getStatus().equals("0")) &#123; throw new LockedAccountException("Ë¥¶Âè∑Â∑≤Ë¢´ÈîÅÂÆö,ËØ∑ËÅîÁ≥ªÁÆ°ÁêÜÂëòÔºÅ"); &#125; SimpleAuthenticationInfo info = new SimpleAuthenticationInfo(user, password, getName()); return info; &#125;&#125;Âõ†‰∏∫Êú¨ËäÇÂè™ËÆ≤Ëø∞Áî®Êà∑ËÆ§ËØÅÔºåÊâÄ‰ª•doGetAuthorizationInfo()ÊñπÊ≥ïÂÖà‰∏çËøõË°åÂÆûÁé∞„ÄÇÂÖ∂‰∏≠UnknownAccountExceptionÁ≠âÂºÇÂ∏∏‰∏∫ShiroËá™Â∏¶ÂºÇÂ∏∏ÔºåShiroÂÖ∑Êúâ‰∏∞ÂØåÁöÑËøêË°åÊó∂AuthenticationExceptionÂ±ÇÊ¨°ÁªìÊûÑÔºåÂèØ‰ª•ÂáÜÁ°ÆÊåáÂá∫Â∞ùËØïÂ§±Ë¥•ÁöÑÂéüÂõ†„ÄÇ‰Ω†ÂèØ‰ª•ÂåÖË£ÖÂú®‰∏Ä‰∏™try/catchÂùóÔºåÂπ∂ÊçïÊçâ‰ªª‰Ωï‰Ω†Â∏åÊúõÁöÑÂºÇÂ∏∏ÔºåÂπ∂‰ΩúÂá∫Áõ∏Â∫îÁöÑÂèçÂ∫î„ÄÇ‰æãÂ¶ÇÔºö12345678910try &#123; currentUser.login(token);&#125; catch ( UnknownAccountException uae ) &#123; ...&#125; catch ( IncorrectCredentialsException ice ) &#123; ...&#125; catch ( LockedAccountException lae ) &#123; ...&#125; catch ( ExcessiveAttemptsException eae ) &#123; ...&#125; ... catch your own ...&#125; catch ( AuthenticationException ae ) &#123; //unexpected error?&#125;ËôΩÁÑ∂Êàë‰ª¨ÂèØ‰ª•ÂáÜÁ°ÆÁöÑËé∑ÂèñÂºÇÂ∏∏‰ø°ÊÅØÔºåÂπ∂Ê†πÊçÆËøô‰∫õ‰ø°ÊÅØÁªôÁî®Êà∑ÊèêÁ§∫ÂÖ∑‰ΩìÈîôËØØÔºå‰ΩÜÊúÄÂÆâÂÖ®ÁöÑÂÅöÊ≥ïÊòØÂú®ÁôªÂΩïÂ§±Ë¥•Êó∂‰ªÖÂêëÁî®Êà∑ÊòæÁ§∫ÈÄöÁî®ÈîôËØØÊèêÁ§∫‰ø°ÊÅØÔºå‰æãÂ¶Ç‚ÄúÁî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ‚Äù„ÄÇËøôÊ†∑ÂèØ‰ª•Èò≤Ê≠¢Êï∞ÊçÆÂ∫ìË¢´ÊÅ∂ÊÑèÊâ´Êèè„ÄÇÂú®Realm‰∏≠UserMapper‰∏∫DaoÂ±ÇÔºåÊ†áÂáÜÁöÑÂÅöÊ≥ïÂ∫îËØ•ËøòÊúâServiceÂ±ÇÔºå‰ΩÜËøôÈáå‰∏∫‰∫ÜÊñπ‰æøÂ∞±‰∏çÂÜçÂÆö‰πâServiceÂ±Ç‰∫Ü„ÄÇÊé•‰∏ãÊù•ÁºñÂÜôÂíåÊï∞ÊçÆÂ∫ìÊâì‰∫§ÈÅìÁöÑDaoÂ±Ç„ÄÇÊï∞ÊçÆÂ±ÇÈ¶ñÂÖàÂàõÂª∫‰∏ÄÂº†Áî®Êà∑Ë°®ÔºåÁî®‰∫éÂ≠òÂÇ®Áî®Êà∑ÁöÑÂü∫Êú¨‰ø°ÊÅØÔºàÂü∫‰∫éOracle 11gÔºâÔºö1234567891011121314151617181920212223242526-- ------------------------------ Table structure for T_USER-- ----------------------------CREATE TABLE "SCOTT"."T_USER" ( "ID" NUMBER NOT NULL , "USERNAME" VARCHAR2(20 BYTE) NOT NULL , "PASSWD" VARCHAR2(128 BYTE) NOT NULL , "CREATE_TIME" DATE NULL , "STATUS" CHAR(1 BYTE) NOT NULL );COMMENT ON COLUMN "SCOTT"."T_USER"."USERNAME" IS 'Áî®Êà∑Âêç';COMMENT ON COLUMN "SCOTT"."T_USER"."PASSWD" IS 'ÂØÜÁ†Å';COMMENT ON COLUMN "SCOTT"."T_USER"."CREATE_TIME" IS 'ÂàõÂª∫Êó∂Èó¥';COMMENT ON COLUMN "SCOTT"."T_USER"."STATUS" IS 'ÊòØÂê¶ÊúâÊïà 1ÔºöÊúâÊïà 0ÔºöÈîÅÂÆö';-- ------------------------------ Records of T_USER-- ----------------------------INSERT INTO "SCOTT"."T_USER" VALUES ('2', 'test', '7a38c13ec5e9310aed731de58bbc4214', TO_DATE('2017-11-19 17:20:21', 'YYYY-MM-DD HH24:MI:SS'), '0');INSERT INTO "SCOTT"."T_USER" VALUES ('1', 'mrbird', '42ee25d1e43e9f57119a00d0a39e5250', TO_DATE('2017-11-19 10:52:48', 'YYYY-MM-DD HH24:MI:SS'), '1');-- ------------------------------ Primary Key structure for table T_USER-- ----------------------------ALTER TABLE "SCOTT"."T_USER" ADD PRIMARY KEY ("ID");Êï∞ÊçÆÊ∫êÁöÑÈÖçÁΩÆËøôÈáåÂ∞±‰∏çË¥¥Âá∫Êù•‰∫ÜÔºåÂÖ∑‰ΩìÂèØÂèÇËÄÉÊ∫êÁ†ÅÔºåÊàñËÄÖÂèÇËÄÉhttps://mrbird.cc/Spring-Boot%E4%B8%AD%E4%BD%BF%E7%94%A8Mybatis.html„ÄÇÂ∫ìË°®ÂØπÂ∫îÁöÑÂÆû‰ΩìÁ±ªÔºö123456789101112public class User implements Serializable&#123; private static final long serialVersionUID = -5440372534300871944L; private Integer id; private String userName; private String password; private Date createTime; private String status; // get,setÁï•&#125;ÂÆö‰πâÊé•Âè£UserMapperÔºö1234@Mapperpublic interface UserMapper &#123; User findByUserName(String userName);&#125;xmlÂÆûÁé∞Ôºö1234567891011121314&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="com.springboot.dao.UserMapper"&gt; &lt;resultMap type="com.springboot.pojo.User" id="User"&gt; &lt;id column="id" property="id" javaType="java.lang.Integer" jdbcType="NUMERIC"/&gt; &lt;id column="username" property="userName" javaType="java.lang.String" jdbcType="VARCHAR"/&gt; &lt;id column="passwd" property="password" javaType="java.lang.String" jdbcType="VARCHAR"/&gt; &lt;id column="create_time" property="createTime" javaType="java.util.Date" jdbcType="DATE"/&gt; &lt;id column="status" property="status" javaType="java.lang.String" jdbcType="VARCHAR"/&gt; &lt;/resultMap&gt; &lt;select id="findByUserName" resultMap="User"&gt; select * from t_user where username = #&#123;userName&#125; &lt;/select&gt;&lt;/mapper&gt;Êï∞ÊçÆÂ±ÇÂáÜÂ§áÂÆå‰∫ÜÔºåÊé•‰∏ãÊù•ÁºñÂÜôlogin.htmlÂíåindex.htmlÈ°µÈù¢„ÄÇÈ°µÈù¢ÂáÜÂ§áÁºñÂÜôÁôªÂΩïÈ°µÈù¢login.htmlÔºö1234567891011121314151617181920212223242526272829303132333435363738&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;ÁôªÂΩï&lt;/title&gt; &lt;link rel="stylesheet" th:href="@&#123;/css/login.css&#125;" type="text/css"&gt; &lt;script th:src="@&#123;/js/jquery-1.11.1.min.js&#125;"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="login-page"&gt; &lt;div class="form"&gt; &lt;input type="text" placeholder="Áî®Êà∑Âêç" name="username" required="required"/&gt; &lt;input type="password" placeholder="ÂØÜÁ†Å" name="password" required="required"/&gt; &lt;button onclick="login()"&gt;ÁôªÂΩï&lt;/button&gt; &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;script th:inline="javascript"&gt; var ctx = [[@&#123;/&#125;]]; function login() &#123; var username = $("input[name='username']").val(); var password = $("input[name='password']").val(); $.ajax(&#123; type: "post", url: ctx + "login", data: &#123;"username": username,"password": password&#125;, dataType: "json", success: function (r) &#123; if (r.code == 0) &#123; location.href = ctx + 'index'; &#125; else &#123; alert(r.msg); &#125; &#125; &#125;); &#125;&lt;/script&gt;&lt;/html&gt;‰∏ªÈ°µindex.htmlÔºö1234567891011&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;È¶ñÈ°µ&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;‰Ω†Â•ΩÔºÅ[[$&#123;user.userName&#125;]]&lt;/p&gt; &lt;a th:href="@&#123;/logout&#125;"&gt;Ê≥®ÈîÄ&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;È°µÈù¢ÂáÜÂ§áÂÆåÊØïÔºåÊé•‰∏ãÊù•ÁºñÂÜôLoginController„ÄÇControllerLoginController‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243@Controllerpublic class LoginController &#123; @GetMapping("/login") public String login() &#123; return "login"; &#125; @PostMapping("/login") @ResponseBody public ResponseBo login(String username, String password) &#123; // ÂØÜÁ†ÅMD5Âä†ÂØÜ password = MD5Utils.encrypt(username, password); UsernamePasswordToken token = new UsernamePasswordToken(username, password); // Ëé∑ÂèñSubjectÂØπË±° Subject subject = SecurityUtils.getSubject(); try &#123; subject.login(token); return ResponseBo.ok(); &#125; catch (UnknownAccountException e) &#123; return ResponseBo.error(e.getMessage()); &#125; catch (IncorrectCredentialsException e) &#123; return ResponseBo.error(e.getMessage()); &#125; catch (LockedAccountException e) &#123; return ResponseBo.error(e.getMessage()); &#125; catch (AuthenticationException e) &#123; return ResponseBo.error("ËÆ§ËØÅÂ§±Ë¥•ÔºÅ"); &#125; &#125; @RequestMapping("/") public String redirectIndex() &#123; return "redirect:/index"; &#125; @RequestMapping("/index") public String index(Model model) &#123; // ÁôªÂΩïÊàêÂêéÔºåÂç≥ÂèØÈÄöËøáSubjectËé∑ÂèñÁôªÂΩïÁöÑÁî®Êà∑‰ø°ÊÅØ User user = (User) SecurityUtils.getSubject().getPrincipal(); model.addAttribute("user", user); return "index"; &#125;&#125;ÁôªÂΩïÊàêÂäüÂêéÔºåÊ†πÊçÆ‰πãÂâçÂú®ShiroConfig‰∏≠ÁöÑÈÖçÁΩÆshiroFilterFactoryBean.setSuccessUrl(&quot;/index&quot;)ÔºåÈ°µÈù¢‰ºöËá™Âä®ËÆøÈóÆ/indexË∑ØÂæÑ„ÄÇÊµãËØïÊúÄÁªàÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂêØÂä®È°πÁõÆÔºåÂàÜÂà´ËÆøÈóÆÔºöhttp://localhost:8080/web/http://localhost:8080/web/indexhttp://localhost:8080/web/aaaaaaahttp://localhost:8080/webÂèØÂèëÁé∞È°µÈù¢ÈÉΩË¢´ÈáçÂÆöÂêëÂà∞http://localhost:8080/web/loginÔºöÂΩìËæìÂÖ•ÈîôËØØÁöÑÁî®Êà∑‰ø°ÊÅØÊó∂ÔºöÁî®testÁöÑË¥¶Êà∑ÁôªÂΩïÔºàtestË¥¶Êà∑ÁöÑstatus‰∏∫0ÔºåÂ∑≤Ë¢´ÈîÅÂÆöÔºâÔºöÂΩìËæìÂÖ•Ê≠£Á°ÆÁöÑÁî®Êà∑ÂêçÂØÜÁ†ÅÊó∂ÂÄôÔºöÁÇπÂáªÊ≥®ÈîÄËøûÊé•ÔºåÊ†πÊçÆShiroConfigÁöÑÈÖçÁΩÆfilterChainDefinitionMap.put(&quot;/logout&quot;, &quot;logout&quot;)ÔºåShiro‰ºöËá™Âä®Â∏ÆÊàë‰ª¨Ê≥®ÈîÄÁî®Êà∑‰ø°ÊÅØÔºåÂπ∂ÈáçÂÆöÂêëÂà∞/Ë∑ØÂæÑ„ÄÇSpring BootÈõÜÊàêShiroËøõË°åÁî®Êà∑ËÆ§ËØÅÂà∞Ê≠§Â∞±ÁªìÊùü‰∫ÜÔºåÊ∫êÁ†ÅÂèÇËßÅhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/11.Spring-Boot-Shiro-Authentication]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Shiro</tag>
        <tag>Security</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Apache ShiroÁÆÄ‰ªã]]></title>
    <url>%2FApache%20Shiro%E7%AE%80%E4%BB%8B.html</url>
    <content type="text"><![CDATA[Apache ShiroÔºàÂèëÈü≥‰∏∫shee-rohÔºåÊó•ËØ≠Â†°ÂûíÔºàCastleÔºâÁöÑÊÑèÊÄùÔºâÊòØ‰∏Ä‰∏™Âº∫Â§ßÊòìÁî®ÁöÑJavaÂÆâÂÖ®Ê°ÜÊû∂ÔºåÊèê‰æõ‰∫ÜËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÂä†ÂØÜÂíå‰ºöËØùÁÆ°ÁêÜÂäüËÉΩÔºåÂèØ‰∏∫‰ªª‰ΩïÂ∫îÁî®Êèê‰æõÂÆâÂÖ®‰øùÈöú - ‰ªéÂëΩ‰ª§Ë°åÂ∫îÁî®„ÄÅÁßªÂä®Â∫îÁî®Âà∞Â§ßÂûãÁΩëÁªúÂèä‰ºÅ‰∏öÂ∫îÁî®„ÄÇÁõ∏ËæÉ‰∫éSpring SecurityÊù•ËØ¥ËæÉ‰∏∫ÁÆÄÂçïÔºåÊòì‰∫é‰∏äÊâã„ÄÇApache ShiroÊúâ‰∏â‰∏™Ê†∏ÂøÉÁöÑÊ¶ÇÂøµSubjectÔºåSecurityManagerÂíåRealmsÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö1„ÄÅSubjectÔºö‰∏ª‰ΩìÔºå‰ª£Ë°®‰∫ÜÂΩìÂâç‚ÄúÁî®Êà∑‚ÄùÔºåËøô‰∏™Áî®Êà∑‰∏ç‰∏ÄÂÆöÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑ‰∫∫Ôºå‰∏éÂΩìÂâçÂ∫îÁî®‰∫§‰∫íÁöÑ‰ªª‰Ωï‰∏úË•øÈÉΩÊòØSubjectÔºåÂ¶ÇÁΩëÁªúÁà¨Ëô´ÔºåÊú∫Âô®‰∫∫Á≠âÔºåÂç≥‰∏Ä‰∏™ÊäΩË±°Ê¶ÇÂøµ„ÄÇÊâÄÊúâSubject ÈÉΩÁªëÂÆöÂà∞SecurityManagerÔºå‰∏éSubjectÁöÑÊâÄÊúâ‰∫§‰∫íÈÉΩ‰ºöÂßîÊâòÁªôSecurityManager„ÄÇÂèØ‰ª•ÊääSubjectËÆ§‰∏∫ÊòØ‰∏Ä‰∏™Èó®Èù¢ÔºåSecurityManagerÊâçÊòØÂÆûÈôÖÁöÑÊâßË°åËÄÖ„ÄÇÂú®shiro‰∏≠ÈÄöËøáorg.apache.shiro.SecurityUtilsÁ±ªÊù•Ëé∑ÂèñSubjectÂØπË±°Ôºö1234import org.apache.shiro.subject.Subject;import org.apache.shiro.SecurityUtils;...Subject currentUser = SecurityUtils.getSubject();Êõ¥Â§öÂÖ≥‰∫éSubjectÁöÑ‰ø°ÊÅØÂèØËÆøÈóÆhttp://shiro.apache.org/static/1.3.2/apidocs/org/apache/shiro/subject/Subject.html2„ÄÅSecurityManagerÔºöÂÆâÂÖ®ÁÆ°ÁêÜÂô®ÔºåÂç≥ÊâÄÊúâ‰∏éÂÆâÂÖ®ÊúâÂÖ≥ÁöÑÊìç‰ΩúÈÉΩ‰ºö‰∏éSecurityManager‰∫§‰∫íÔºå‰∏îÂÆÉÁÆ°ÁêÜÁùÄÊâÄÊúâSubjectÔºåÂèØ‰ª•ÁúãÂá∫ÂÆÉÊòØShiroÁöÑÊ†∏ÂøÉ„ÄÇÂÆÉË¥üË¥£‰∏éÂêéËæπ‰ªãÁªçÁöÑÂÖ∂‰ªñÁªÑ‰ª∂ËøõË°å ‰∫§‰∫íÔºåÁ±ª‰ºº‰∫éSpring MVC‰∏≠ÁöÑDispatcherServletÂâçÁ´ØÊéßÂà∂Âô®„ÄÇ3„ÄÅRealmÔºöÂüüÔºåShiro‰ªéRealmËé∑ÂèñÂÆâÂÖ®Êï∞ÊçÆÔºàÂ¶ÇÁî®Êà∑„ÄÅËßíËâ≤„ÄÅÊùÉÈôêÔºâÔºåÂ∞±ÊòØËØ¥SecurityManagerË¶ÅÈ™åËØÅÁî®Êà∑Ë∫´‰ªΩÔºåÈÇ£‰πàÂÆÉÈúÄË¶Å‰ªéRealmËé∑ÂèñÁõ∏Â∫îÁöÑÁî®Êà∑ËøõË°åÊØîËæÉ‰ª•Á°ÆÂÆöÁî®Êà∑Ë∫´‰ªΩÊòØÂê¶ÂêàÊ≥ï„ÄÇ ‰πüÈúÄË¶Å‰ªéRealmÂæóÂà∞Áî®Êà∑Áõ∏Â∫îÁöÑËßíËâ≤/ÊùÉÈôêËøõË°åÈ™åËØÅÁî®Êà∑ÊòØÂê¶ËÉΩËøõË°åÊìç‰Ωú„ÄÇÁÆÄËÄåË®Ä‰πãÔºåÂàõÂª∫‰∏Ä‰∏™Âü∫Êú¨ÁöÑShiroÂ∫îÁî®ËøáÁ®ã‰∏∫ÔºöÂ∫îÁî®‰ª£Á†ÅÈÄöËøáSubjectÊù•ËøõË°åËÆ§ËØÅÂíåÊéàÊùÉÔºåËÄåSubjectÂèàÂßîÊâòÁªôSecurityManagerÔºõÊàë‰ª¨ÈúÄË¶ÅÁªôShiroÁöÑSecurityManagerÊ≥®ÂÖ•RealmÔºå‰ªéËÄåËÆ©SecurityManagerËÉΩÂæóÂà∞ÂêàÊ≥ïÁöÑÁî®Êà∑ÂèäÂÖ∂ÊùÉÈôêËøõË°åÂà§Êñ≠„ÄÇShiroÂπ∂Ê≤°Êúâ‰∏∫Êàë‰ª¨Êèê‰æõRealmÁöÑÂÆûÁé∞ÔºåÈúÄË¶ÅÊàë‰ª¨ÊâãÂä®ÁºñÂÜôÂÆûÁé∞„ÄÇÂü∫Êú¨ËøáÁ®ã‰∏∫ÁªßÊâøorg.apache.shiro.realm.AuthorizingRealmÊäΩË±°Á±ªÔºåÂÆûÁé∞doGetAuthorizationInfoÂíådoGetAuthenticationInfoÊñπÊ≥ï„ÄÇ‰∫ÜËß£‰∫ÜShiroÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂêéÔºåÊé•‰∏ãÊù•ÁúãÁúãShiro‰∏∫Êàë‰ª¨Â∏¶Êù•‰∫ÜÂì™‰∫õÂäüËÉΩÊ®°ÂùóÔºöShiroÊèê‰æõ‰∫ÜÂõõÂ§ßÂü∫Êú¨ÂÆâÂÖ®ÂäüËÉΩÔºöËÆ§ËØÅÔºåÊéàÊùÉÔºå‰ºöËØùÁÆ°ÁêÜÂíåÂä†ÂØÜ„ÄÇË∫´‰ªΩÈ™åËØÅ(Authentication)Ôºö‰πüÁß∞‰∏∫ÁôªÂΩïÈ™åËØÅÔºåÂç≥È™åËØÅÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊòØÂê¶Ê≠£Á°ÆÔºõÊéàÊùÉ(Authorization)ÔºöÊ†πÊçÆÁî®Êà∑ÁöÑËßíËâ≤ÂíåÊùÉÈôêÊù•ÊéßÂà∂Áî®Êà∑ÂèØËÆøÈóÆÁöÑËµÑÊ∫êÔºõ‰ºöËØùÁÆ°ÁêÜ(Session Management)ÔºöÂç≥‰ΩøÂú®ÈùûWebÊàñEJBÂ∫îÁî®Á®ãÂ∫è‰∏≠Ôºå‰πüÂèØ‰ª•ÁÆ°ÁêÜÁî®Êà∑ÁâπÂÆöÁöÑSESSION‰ºöËØùÔºõÂØÜÁ†ÅÂ≠¶(Cryptography)Ôºö‰ΩøÁî®Âä†ÂØÜÁÆóÊ≥ï‰øùËØÅÊï∞ÊçÆÂÆâÂÖ®ÔºåÂêåÊó∂Êòì‰∫é‰ΩøÁî®„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåShiro‰πüÊîØÊåÅ‰ª•‰∏ãÁâπÊÄßÔºöWebÊîØÊåÅ(Web Support)ÔºöShiroÊèê‰æõÁöÑwebÁ®ãÂ∫èAPIÂèØ‰ª•Â∏ÆÂä©ËΩªÊùæ‰øùÊä§WebÂ∫îÁî®Á®ãÂ∫èÔºõÁºìÂ≠ò(Caching)ÔºöÁºìÂ≠òÂèØÁ°Æ‰øùÂÆâÂÖ®È™åËØÅÊìç‰Ωú‰øùÊåÅÂø´ÈÄüÈ´òÊïàÔºõÂπ∂ÂèëÊÄß(Concurrency)ÔºöApache ShiroÊîØÊåÅÂÖ∑ÊúâÂπ∂ÂèëÂäüËÉΩÁöÑÂ§öÁ∫øÁ®ãÂ∫îÁî®Á®ãÂ∫èÔºõÊµãËØï(Testing)ÔºöÊµãËØïAPIÂ∏ÆÂä©ÊÇ®ÁºñÂÜôÂçïÂÖÉÊµãËØïÂíåÈõÜÊàêÊµãËØïÔºõËøêË°åÊñπÂºè(Run As)ÔºöÂÖÅËÆ∏Áî®Êà∑‰ª•Âà´ÁöÑÁî®Êà∑Ë∫´‰ªΩÔºàÂ¶ÇÊûúÂÖÅËÆ∏ÔºâÁôªÂΩïÔºõËÆ∞‰ΩèÊàë(Remember Me)ÔºöÂú®‰ºöËØù‰∏≠ËÆ∞‰ΩèÁî®Êà∑ÁöÑË∫´‰ªΩÔºåÂè™ÊúâÂú®Âº∫Âà∂ÁôªÂΩïÊó∂ÊâçÈúÄË¶ÅÁôªÂΩï„ÄÇÂèÇËÄÉËá™:http://shiro.apache.org/introduction.htmlhttp://www.infoq.com/cn/articles/apache-shiro]]></content>
      <tags>
        <tag>Shiro</tag>
        <tag>Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÈ°πÁõÆÊâìÂåÖÊàêwarÂåÖ]]></title>
    <url>%2FSpring-Boot%20war.html</url>
    <content type="text"><![CDATA[Âú®pom.xmlÊñá‰ª∂‰∏≠ÔºåÂ∞ÜÊâìÂåÖÊñπÂºèÊîπ‰∏∫warÔºö1&lt;packaging&gt;war&lt;/packaging&gt;ÁÑ∂ÂêéÊ∑ªÂä†Â¶Ç‰∏ãÁöÑTomcat‰æùËµñÈÖçÁΩÆÔºåË¶ÜÁõñSpring BootËá™Â∏¶ÁöÑTomcat‰æùËµñÔºö12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;Âú®&lt;build&gt;&lt;/build&gt;Ê†áÁ≠æÂÜÖÈÖçÁΩÆÈ°πÁõÆÂêçÔºàËØ•ÈÖçÁΩÆÁ±ª‰ºº‰∫éserver.context-path=mrbirdÔºâÔºö123456...&lt;build&gt; ... &lt;finalName&gt;mrbird&lt;/finalName&gt;&lt;/build&gt;...Ê∑ªÂä†ÂêØÂä®Á±ªServletInitializerÔºö123456789import org.springframework.boot.builder.SpringApplicationBuilder;import org.springframework.boot.web.support.SpringBootServletInitializer;public class ServletInitializer extends SpringBootServletInitializer &#123; @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder application) &#123; return application.sources(Application.class); &#125;&#125;ÂÖ∂‰∏≠Application‰∏∫Spring BootÁöÑÂêØÂä®Á±ª„ÄÇÂáÜÂ§áÂÆåÊØïÂêéÔºåËøêË°åmvn clean packageÂëΩ‰ª§Âç≥ÂèØÂú®targetÁõÆÂΩï‰∏ãÁîü‰∫ßwarÂåÖÔºö]]></content>
      <tags>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏≠‰ΩøÁî®ÁºìÂ≠ò]]></title>
    <url>%2FSpring-Boot%20cache.html</url>
    <content type="text"><![CDATA[Âú®Á®ãÂ∫è‰∏≠ÂèØ‰ª•‰ΩøÁî®ÁºìÂ≠òÁöÑÊäÄÊúØÊù•ËäÇÁúÅÂØπÊï∞ÊçÆÂ∫ìÁöÑÂºÄÈîÄ„ÄÇSpring BootÂØπÁºìÂ≠òÊèê‰æõ‰∫ÜÂæàÂ•ΩÁöÑÊîØÊåÅÔºåÊàë‰ª¨Âá†‰πé‰∏çÁî®ÂÅöËøáÂ§öÁöÑÈÖçÁΩÆÂç≥ÂèØ‰ΩøÁî®ÂêÑÁßçÁºìÂ≠òÂÆûÁé∞„ÄÇËøôÈáå‰∏ªË¶Å‰ªãÁªçÂπ≥Êó•Èáå‰∏™‰∫∫Êé•Ëß¶ËæÉÂ§öÁöÑEhcacheÂíåRedisÁºìÂ≠òÂÆûÁé∞„ÄÇÂáÜÂ§áÂ∑•‰ΩúÂèØÊ†πÊçÆSpring-Boot‰∏≠‰ΩøÁî®Mybatis.htmlÊê≠Âª∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÁÑ∂Âêéyml‰∏≠ÈÖçÁΩÆÊó•ÂøóËæìÂá∫Á∫ßÂà´‰ª•ËßÇÂØüSQLÁöÑÊâßË°åÊÉÖÂÜµÔºö12345logging: level: com: springboot: mapper: debugÂÖ∂‰∏≠com.spring.mapper‰∏∫MyBatisÁöÑMapperÊé•Âè£Ë∑ØÂæÑ„ÄÇÁÑ∂ÂêéÁºñÂÜôÂ¶Ç‰∏ãÊµãËØïÊñπÊ≥ïÔºö12345678910111213141516@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = Application.class)public class ApplicationTest &#123; @Autowired private StudentService studentService; @Test public void test() throws Exception &#123; Student student1 = this.studentService.queryStudentBySno("001"); System.out.println("Â≠¶Âè∑" + student1.getSno() + "ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫Ôºö" + student1.getName()); Student student2 = this.studentService.queryStudentBySno("001"); System.out.println("Â≠¶Âè∑" + student2.getSno() + "ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫Ôºö" + student2.getName()); &#125;&#125;Âè≥ÈîÆrun as junit testÔºö123456782017-11-17 16:34:26.535 DEBUG 9932 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Preparing: select * from student where sno=? 2017-11-17 16:34:26.688 DEBUG 9932 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Parameters: 001(String)2017-11-17 16:34:26.716 DEBUG 9932 --- [main] c.s.m.StudentMapper.queryStudentBySno : &lt;== Total: 1Â≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöKangKang2017-11-17 16:34:26.720 DEBUG 9932 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Preparing: select * from student where sno=? 2017-11-17 16:34:26.720 DEBUG 9932 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Parameters: 001(String)2017-11-17 16:34:26.721 DEBUG 9932 --- [main] c.s.m.StudentMapper.queryStudentBySno : &lt;== Total: 1Â≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöKangKangÂèØÂèëÁé∞Á¨¨‰∫å‰∏™Êü•ËØ¢ËôΩÁÑ∂ÂíåÁ¨¨‰∏Ä‰∏™Êü•ËØ¢ÂÆåÂÖ®‰∏ÄÊ†∑Ôºå‰ΩÜÂÖ∂ËøòÊòØÂØπÊï∞ÊçÆÂ∫ìËøõË°å‰∫ÜÊü•ËØ¢„ÄÇÊé•‰∏ãÊù•ÂºïÂÖ•ÁºìÂ≠òÊù•ÊîπÂñÑËøô‰∏™ÁªìÊûú„ÄÇ‰ΩøÁî®ÁºìÂ≠òË¶ÅÂºÄÂêØSpring BootÁöÑÁºìÂ≠òÂäüËÉΩÔºåÈúÄË¶ÅÂú®pom‰∏≠ÂºïÂÖ•spring-boot-starter-cacheÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;&lt;/dependency&gt;Êé•ÁùÄÂú®Spring BootÂÖ•Âè£Á±ª‰∏≠Âä†ÂÖ•@EnableCachingÊ≥®Ëß£ÂºÄÂêØÁºìÂ≠òÂäüËÉΩÔºö1234567@SpringBootApplication@EnableCachingpublic class Application &#123; public static void main(String[] args) &#123; SpringApplication.run(Application.class,args); &#125;&#125;Âú®StudentServiceÊé•Âè£‰∏≠Âä†ÂÖ•ÁºìÂ≠òÊ≥®Ëß£Ôºö123456789101112@CacheConfig(cacheNames = "student")@Repositorypublic interface StudentService &#123; @CachePut(key = "#p0.sno") Student update(Student student); @CacheEvict(key = "#p0", allEntries = true) void deleteStudentBySno(String sno); @Cacheable(key = "#p0") Student queryStudentBySno(String sno);&#125;Êàë‰ª¨Âú®StudentServiceÊé•Âè£‰∏≠Âä†ÂÖ•‰∫Ü@CacheConfigÊ≥®Ëß£ÔºåqueryStudentBySnoÊñπÊ≥ï‰ΩøÁî®‰∫ÜÊ≥®Ëß£@Cacheable(key=&quot;#p0&quot;)ÔºåÂç≥Â∞Üid‰Ωú‰∏∫redis‰∏≠ÁöÑkeyÂÄº„ÄÇÂΩìÊàë‰ª¨Êõ¥Êñ∞Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂ∫îËØ•‰ΩøÁî®@CachePut(key=&quot;#p0.sno&quot;)ËøõË°åÁºìÂ≠òÊï∞ÊçÆÁöÑÊõ¥Êñ∞ÔºåÂê¶ÂàôÂ∞ÜÊü•ËØ¢Âà∞ËÑèÊï∞ÊçÆÔºåÂõ†‰∏∫ËØ•Ê≥®Ëß£‰øùÂ≠òÁöÑÊòØÊñπÊ≥ïÁöÑËøîÂõûÂÄºÔºåÊâÄ‰ª•ËøôÈáåÂ∫îËØ•ËøîÂõûStudent„ÄÇÂÖ∂ÂÆûÁé∞Á±ªÔºö123456789101112131415161718192021@Repository("studentService")public class StudentServiceImpl implements StudentService&#123; @Autowired private StudentMapper studentMapper; @Override public Student update(Student student) &#123; this.studentMapper.update(student); return this.studentMapper.queryStudentBySno(student.getSno()); &#125; @Override public void deleteStudentBySno(String sno) &#123; this.studentMapper.deleteStudentBySno(sno); &#125; @Override public Student queryStudentBySno(String sno) &#123; return this.studentMapper.queryStudentBySno(sno); &#125;&#125;Âú®Spring Boot‰∏≠ÂèØ‰ΩøÁî®ÁöÑÁºìÂ≠òÊ≥®Ëß£ÊúâÔºöÁºìÂ≠òÊ≥®Ëß£@CacheConfigÔºö‰∏ªË¶ÅÁî®‰∫éÈÖçÁΩÆËØ•Á±ª‰∏≠‰ºöÁî®Âà∞ÁöÑ‰∏Ä‰∫õÂÖ±Áî®ÁöÑÁºìÂ≠òÈÖçÁΩÆ„ÄÇÂú®ËøôÈáå@CacheConfig(cacheNames = &quot;student&quot;)ÔºöÈÖçÁΩÆ‰∫ÜËØ•Êï∞ÊçÆËÆøÈóÆÂØπË±°‰∏≠ËøîÂõûÁöÑÂÜÖÂÆπÂ∞ÜÂ≠òÂÇ®‰∫éÂêç‰∏∫studentÁöÑÁºìÂ≠òÂØπË±°‰∏≠ÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰∏ç‰ΩøÁî®ËØ•Ê≥®Ëß£ÔºåÁõ¥Êé•ÈÄöËøá@CacheableËá™Â∑±ÈÖçÁΩÆÁºìÂ≠òÈõÜÁöÑÂêçÂ≠óÊù•ÂÆö‰πâÔºõ@CacheableÔºöÈÖçÁΩÆ‰∫ÜqueryStudentBySnoÂáΩÊï∞ÁöÑËøîÂõûÂÄºÂ∞ÜË¢´Âä†ÂÖ•ÁºìÂ≠ò„ÄÇÂêåÊó∂Âú®Êü•ËØ¢Êó∂Ôºå‰ºöÂÖà‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÔºåËã•‰∏çÂ≠òÂú®ÊâçÂÜçÂèëËµ∑ÂØπÊï∞ÊçÆÂ∫ìÁöÑËÆøÈóÆ„ÄÇËØ•Ê≥®Ëß£‰∏ªË¶ÅÊúâ‰∏ãÈù¢Âá†‰∏™ÂèÇÊï∞Ôºövalue„ÄÅcacheNamesÔºö‰∏§‰∏™Á≠âÂêåÁöÑÂèÇÊï∞ÔºàcacheNames‰∏∫Spring 4Êñ∞Â¢ûÔºå‰Ωú‰∏∫valueÁöÑÂà´ÂêçÔºâÔºåÁî®‰∫éÊåáÂÆöÁºìÂ≠òÂ≠òÂÇ®ÁöÑÈõÜÂêàÂêç„ÄÇÁî±‰∫éSpring 4‰∏≠Êñ∞Â¢û‰∫Ü@CacheConfigÔºåÂõ†Ê≠§Âú®Spring 3‰∏≠ÂéüÊú¨ÂøÖÈ°ªÊúâÁöÑvalueÂ±ûÊÄßÔºå‰πüÊàê‰∏∫ÈùûÂøÖÈúÄÈ°π‰∫ÜÔºõkeyÔºöÁºìÂ≠òÂØπË±°Â≠òÂÇ®Âú®MapÈõÜÂêà‰∏≠ÁöÑkeyÂÄºÔºåÈùûÂøÖÈúÄÔºåÁº∫ÁúÅÊåâÁÖßÂáΩÊï∞ÁöÑÊâÄÊúâÂèÇÊï∞ÁªÑÂêà‰Ωú‰∏∫keyÂÄºÔºåËã•Ëá™Â∑±ÈÖçÁΩÆÈúÄ‰ΩøÁî®SpELË°®ËææÂºèÔºåÊØîÂ¶ÇÔºö@Cacheable(key = &quot;#p0&quot;)Ôºö‰ΩøÁî®ÂáΩÊï∞Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰Ωú‰∏∫ÁºìÂ≠òÁöÑkeyÂÄºÔºåÊõ¥Â§öÂÖ≥‰∫éSpELË°®ËææÂºèÁöÑËØ¶ÁªÜÂÜÖÂÆπÂèØÂèÇËÄÉhttps://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#cacheÔºõconditionÔºöÁºìÂ≠òÂØπË±°ÁöÑÊù°‰ª∂ÔºåÈùûÂøÖÈúÄÔºå‰πüÈúÄ‰ΩøÁî®SpELË°®ËææÂºèÔºåÂè™ÊúâÊª°Ë∂≥Ë°®ËææÂºèÊù°‰ª∂ÁöÑÂÜÖÂÆπÊâç‰ºöË¢´ÁºìÂ≠òÔºåÊØîÂ¶ÇÔºö@Cacheable(key = &quot;#p0&quot;, condition = &quot;#p0.length() &lt; 3&quot;)ÔºåË°®Á§∫Âè™ÊúâÂΩìÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÈïøÂ∫¶Â∞è‰∫é3ÁöÑÊó∂ÂÄôÊâç‰ºöË¢´ÁºìÂ≠òÔºõunlessÔºöÂè¶Â§ñ‰∏Ä‰∏™ÁºìÂ≠òÊù°‰ª∂ÂèÇÊï∞ÔºåÈùûÂøÖÈúÄÔºåÈúÄ‰ΩøÁî®SpELË°®ËææÂºè„ÄÇÂÆÉ‰∏çÂêå‰∫éconditionÂèÇÊï∞ÁöÑÂú∞ÊñπÂú®‰∫éÂÆÉÁöÑÂà§Êñ≠Êó∂Êú∫ÔºåËØ•Êù°‰ª∂ÊòØÂú®ÂáΩÊï∞Ë¢´Ë∞ÉÁî®‰πãÂêéÊâçÂÅöÂà§Êñ≠ÁöÑÔºåÊâÄ‰ª•ÂÆÉÂèØ‰ª•ÈÄöËøáÂØπresultËøõË°åÂà§Êñ≠ÔºõkeyGeneratorÔºöÁî®‰∫éÊåáÂÆökeyÁîüÊàêÂô®ÔºåÈùûÂøÖÈúÄ„ÄÇËã•ÈúÄË¶ÅÊåáÂÆö‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑkeyÁîüÊàêÂô®ÔºåÊàë‰ª¨ÈúÄË¶ÅÂéªÂÆûÁé∞org.springframework.cache.interceptor.KeyGeneratorÊé•Âè£ÔºåÂπ∂‰ΩøÁî®ËØ•ÂèÇÊï∞Êù•ÊåáÂÆöÔºõcacheManagerÔºöÁî®‰∫éÊåáÂÆö‰ΩøÁî®Âì™‰∏™ÁºìÂ≠òÁÆ°ÁêÜÂô®ÔºåÈùûÂøÖÈúÄ„ÄÇÂè™ÊúâÂΩìÊúâÂ§ö‰∏™Êó∂ÊâçÈúÄË¶Å‰ΩøÁî®ÔºõcacheResolverÔºöÁî®‰∫éÊåáÂÆö‰ΩøÁî®ÈÇ£‰∏™ÁºìÂ≠òËß£ÊûêÂô®ÔºåÈùûÂøÖÈúÄ„ÄÇÈúÄÈÄöËøáorg.springframework.cache.interceptor.CacheResolverÊé•Âè£Êù•ÂÆûÁé∞Ëá™Â∑±ÁöÑÁºìÂ≠òËß£ÊûêÂô®ÔºåÂπ∂Áî®ËØ•ÂèÇÊï∞ÊåáÂÆöÔºõ@CachePutÔºöÈÖçÁΩÆ‰∫éÂáΩÊï∞‰∏äÔºåËÉΩÂ§üÊ†πÊçÆÂèÇÊï∞ÂÆö‰πâÊù°‰ª∂Êù•ËøõË°åÁºìÂ≠òÔºåÂÖ∂ÁºìÂ≠òÁöÑÊòØÊñπÊ≥ïÁöÑËøîÂõûÂÄºÔºåÂÆÉ‰∏é@Cacheable‰∏çÂêåÁöÑÊòØÔºåÂÆÉÊØèÊ¨°ÈÉΩ‰ºöÁúüÂÆûË∞ÉÁî®ÂáΩÊï∞ÔºåÊâÄ‰ª•‰∏ªË¶ÅÁî®‰∫éÊï∞ÊçÆÊñ∞Â¢ûÂíå‰øÆÊîπÊìç‰Ωú‰∏ä„ÄÇÂÆÉÁöÑÂèÇÊï∞‰∏é@CacheableÁ±ª‰ººÔºåÂÖ∑‰ΩìÂäüËÉΩÂèØÂèÇËÄÉ‰∏äÈù¢ÂØπ@CacheableÂèÇÊï∞ÁöÑËß£ÊûêÔºõ@CacheEvictÔºöÈÖçÁΩÆ‰∫éÂáΩÊï∞‰∏äÔºåÈÄöÂ∏∏Áî®Âú®Âà†Èô§ÊñπÊ≥ï‰∏äÔºåÁî®Êù•‰ªéÁºìÂ≠ò‰∏≠ÁßªÈô§Áõ∏Â∫îÊï∞ÊçÆ„ÄÇÈô§‰∫ÜÂêå@Cacheable‰∏ÄÊ†∑ÁöÑÂèÇÊï∞‰πãÂ§ñÔºåÂÆÉËøòÊúâ‰∏ãÈù¢‰∏§‰∏™ÂèÇÊï∞ÔºöallEntriesÔºöÈùûÂøÖÈúÄÔºåÈªòËÆ§‰∏∫false„ÄÇÂΩì‰∏∫trueÊó∂Ôºå‰ºöÁßªÈô§ÊâÄÊúâÊï∞ÊçÆÔºõbeforeInvocationÔºöÈùûÂøÖÈúÄÔºåÈªòËÆ§‰∏∫falseÔºå‰ºöÂú®Ë∞ÉÁî®ÊñπÊ≥ï‰πãÂêéÁßªÈô§Êï∞ÊçÆ„ÄÇÂΩì‰∏∫trueÊó∂Ôºå‰ºöÂú®Ë∞ÉÁî®ÊñπÊ≥ï‰πãÂâçÁßªÈô§Êï∞ÊçÆ„ÄÇÁºìÂ≠òÂÆûÁé∞Ë¶Å‰ΩøÁî®‰∏äSpring BootÁöÑÁºìÂ≠òÂäüËÉΩÔºåËøòÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ÁºìÂ≠òÁöÑÂÖ∑‰ΩìÂÆûÁé∞„ÄÇSpring BootÊ†πÊçÆ‰∏ãÈù¢ÁöÑÈ°∫Â∫èÂéª‰æ¶ÊµãÁºìÂ≠òÂÆûÁé∞ÔºöGenericJCache (JSR-107)EhCache 2.xHazelcastInfinispanRedisGuavaSimpleÈô§‰∫ÜÊåâÈ°∫Â∫è‰æ¶ÊµãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÂ±ûÊÄßspring.cache.typeÊù•Âº∫Âà∂ÊåáÂÆö„ÄÇÊé•‰∏ãÊù•‰∏ªË¶Å‰ªãÁªçÂü∫‰∫éRedisÂíåEhcacheÁöÑÁºìÂ≠òÂÆûÁé∞„ÄÇRedisRedisÁöÑ‰∏ãËΩΩÂú∞ÂùÄ‰∏∫https://github.com/MicrosoftArchive/redis/releasesÔºåRedis ÊîØÊåÅ 32 ‰ΩçÂíå 64 ‰Ωç„ÄÇËøô‰∏™ÈúÄË¶ÅÊ†πÊçÆ‰Ω†Á≥ªÁªüÂπ≥Âè∞ÁöÑÂÆûÈôÖÊÉÖÂÜµÈÄâÊã©ÔºåËøôÈáåÊàë‰ª¨‰∏ãËΩΩ Redis-x64-xxx.zipÂéãÁº©ÂåÖÂà∞CÁõò„ÄÇÊâìÂºÄ‰∏Ä‰∏™CMDÁ™óÂè£ÔºåËæìÂÖ•Â¶Ç‰∏ãÂëΩ‰ª§Ôºö123456789101112131415161718192021222324C:\Users\Administrator&gt;cd c:\Redis-x64-3.2.100c:\Redis-x64-3.2.100&gt;redis-server.exe redis.windows.conf _._ _.-``__ ''-._ _.-`` `. `_. ''-._ Redis 3.2.100 (00000000/0) 64 bit .-`` .-```. ```\/ _.,_ ''-._ ( ' , .-` | `, ) Running in standalone mode |`-._`-...-` __...-.``-._|'` _.-'| Port: 6379 | `-._ `._ / _.-' | PID: 6404 `-._ `-._ `-./ _.-' _.-' |`-._`-._ `-.__.-' _.-'_.-'| | `-._`-._ _.-'_.-' | http://redis.io `-._ `-._`-.__.-'_.-' _.-' |`-._`-._ `-.__.-' _.-'_.-'| | `-._`-._ _.-'_.-' | `-._ `-._`-.__.-'_.-' _.-' `-._ `-.__.-' _.-' `-._ _.-' `-.__.-'[6404] 25 Dec 09:47:58.890 # Server started, Redis version 3.2.100[6404] 25 Dec 09:47:58.898 * DB loaded from disk: 0.007 seconds[6404] 25 Dec 09:47:58.898 * The server is now ready to accept connections on port 6379ÁÑ∂ÂêéÊâìÂºÄÂè¶Â§ñ‰∏Ä‰∏™CMDÁªàÁ´ØÔºåËæìÂÖ•Ôºö1234C:\Users\Administrator&gt;cd c:\Redis-x64-3.2.100c:\Redis-x64-3.2.100&gt;redis-cli.exe -p 6379127.0.0.1:6379&gt;ÂáÜÂ§áÂ∑•‰ΩúÂÅöÂÆåÂêéÔºåÊé•‰∏ãÊù•ÂºÄÂßãÂú®Spring BootÈ°πÁõÆÈáåÂºïÂÖ•RedisÔºö12345&lt;!-- spring-boot redis --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt;Âú®application.yml‰∏≠ÈÖçÁΩÆRedisÔºö12345678910111213141516171819spring: redis: # RedisÊï∞ÊçÆÂ∫ìÁ¥¢ÂºïÔºàÈªòËÆ§‰∏∫0Ôºâ database: 0 # RedisÊúçÂä°Âô®Âú∞ÂùÄ host: localhost # RedisÊúçÂä°Âô®ËøûÊé•Á´ØÂè£ port: 6379 pool: # ËøûÊé•Ê±†ÊúÄÂ§ßËøûÊé•Êï∞Ôºà‰ΩøÁî®Ë¥üÂÄºË°®Á§∫Ê≤°ÊúâÈôêÂà∂Ôºâ max-active: 8 # ËøûÊé•Ê±†ÊúÄÂ§ßÈòªÂ°ûÁ≠âÂæÖÊó∂Èó¥Ôºà‰ΩøÁî®Ë¥üÂÄºË°®Á§∫Ê≤°ÊúâÈôêÂà∂Ôºâ max-wait: -1 # ËøûÊé•Ê±†‰∏≠ÁöÑÊúÄÂ§ßÁ©∫Èó≤ËøûÊé• max-idle: 8 # ËøûÊé•Ê±†‰∏≠ÁöÑÊúÄÂ∞èÁ©∫Èó≤ËøûÊé• min-idle: 0 # ËøûÊé•Ë∂ÖÊó∂Êó∂Èó¥ÔºàÊØ´ÁßíÔºâ timeout: 0Êõ¥Â§öÂÖ≥‰∫éSpring Boot RedisÈÖçÁΩÆÂèØÂèÇËÄÉÔºöhttps://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html# REDISÊé•ÁùÄÂàõÂª∫‰∏Ä‰∏™RedisÈÖçÁΩÆÁ±ªÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647@Configurationpublic class RedisConfig extends CachingConfigurerSupport &#123; // Ëá™ÂÆö‰πâÁºìÂ≠òkeyÁîüÊàêÁ≠ñÁï• @Bean public KeyGenerator keyGenerator() &#123; return new KeyGenerator() &#123; @Override public Object generate(Object target, java.lang.reflect.Method method, Object... params) &#123; StringBuffer sb = new StringBuffer(); sb.append(target.getClass().getName()); sb.append(method.getName()); for (Object obj : params) &#123; sb.append(obj.toString()); &#125; return sb.toString(); &#125; &#125;; &#125; // ÁºìÂ≠òÁÆ°ÁêÜÂô® @Bean public CacheManager cacheManager(@SuppressWarnings("rawtypes") RedisTemplate redisTemplate) &#123; RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate); // ËÆæÁΩÆÁºìÂ≠òËøáÊúüÊó∂Èó¥ÔºàÁßíÔºâ cacheManager.setDefaultExpiration(3600); return cacheManager; &#125; @Bean public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate template = new StringRedisTemplate(factory); setSerializer(template);// ËÆæÁΩÆÂ∫èÂàóÂåñÂ∑•ÂÖ∑ template.afterPropertiesSet(); return template; &#125; private void setSerializer(StringRedisTemplate template) &#123; @SuppressWarnings(&#123; "rawtypes", "unchecked" &#125;) Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class); ObjectMapper om = new ObjectMapper(); om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); jackson2JsonRedisSerializer.setObjectMapper(om); template.setValueSerializer(jackson2JsonRedisSerializer); &#125;&#125;ËøêË°åÊµãËØïÔºåÊéßÂà∂Âè∞ËæìÂá∫Ôºö123452017-11-17 18:17:06.995 DEBUG 8836 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Preparing: select * from student where sno=? 2017-11-17 18:17:07.128 DEBUG 8836 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Parameters: 001(String)2017-11-17 18:17:07.152 DEBUG 8836 --- [main] c.s.m.StudentMapper.queryStudentBySno : &lt;== Total: 1Â≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöKangKangÂ≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöKangKangÁ¨¨‰∫åÊ¨°Êü•ËØ¢Ê≤°ÊúâËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåËÄåÊòØ‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÁöÑÔºåÂú®redis‰∏≠Êü•ÁúãËØ•ÂÄºÔºö12345127.0.0.1:6379&gt; keys *1) "student~keys"2) "001"127.0.0.1:6379&gt; get 001"[\"com.springboot.bean.Student\",&#123;\"sno\":\"001\",\"name\":\"KangKang\",\"sex\":\"M \"&#125;]"Âú®ÊµãËØïÊñπÊ≥ï‰∏≠ÊµãËØïÊõ¥Êñ∞Ôºö1234567891011@Testpublic void test() throws Exception &#123; Student student1 = this.studentService.queryStudentBySno("001"); System.out.println("Â≠¶Âè∑" + student1.getSno() + "ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫Ôºö" + student1.getName()); student1.setName("Â∫∑Â∫∑"); this.studentService.update(student1); Student student2 = this.studentService.queryStudentBySno("001"); System.out.println("Â≠¶Âè∑" + student2.getSno() + "ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫Ôºö" + student2.getName());&#125;ÊéßÂà∂Âè∞ËæìÂá∫Ôºö123456789Â≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöKangKang2017-11-17 19:30:05.813 INFO 11244 --- [main] com.alibaba.druid.pool.DruidDataSource : &#123;dataSource-1&#125; inited2017-11-17 19:30:05.823 DEBUG 11244 --- [main] c.s.mapper.StudentMapper.update : ==&gt; Preparing: update student set sname=?,ssex=? where sno=? 2017-11-17 19:30:05.941 DEBUG 11244 --- [main] c.s.mapper.StudentMapper.update : ==&gt; Parameters: Â∫∑Â∫∑(String), M (String), 001(String)2017-11-17 19:30:05.953 DEBUG 11244 --- [main] c.s.mapper.StudentMapper.update : &lt;== Updates: 12017-11-17 19:30:05.957 DEBUG 11244 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Preparing: select * from student where sno=? 2017-11-17 19:30:05.959 DEBUG 11244 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Parameters: 001(String)2017-11-17 19:30:05.976 DEBUG 11244 --- [main] c.s.m.StudentMapper.queryStudentBySno : &lt;== Total: 1Â≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöÂ∫∑Â∫∑Âú®redis‰∏≠Êü•ÁúãÔºö12127.0.0.1:6379&gt; get 001"[\"com.springboot.bean.Student\",&#123;\"sno\":\"001\",\"name\":\"\xe5\xba\xb7\xe5\xba\xb7\",\"sex\":\"M \"&#125;]"ÂèØËßÅÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÁöÑÂêåÊó∂ÔºåÁºìÂ≠ò‰πüÂæóÂà∞‰∫ÜÊõ¥Êñ∞„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/09.Spring-Boot-Redis-CacheEhcacheÂºïÂÖ•Ehcache‰æùËµñÔºö12345&lt;!-- ehcache --&gt;&lt;dependency&gt; &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt; &lt;artifactId&gt;ehcache&lt;/artifactId&gt;&lt;/dependency&gt;Âú®src/main/resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫ehcache.xmlÔºö123456789101112131415161718192021&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="ehcache.xsd"&gt; &lt;defaultCache maxElementsInMemory="10000" eternal="false" timeToIdleSeconds="3600" timeToLiveSeconds="0" overflowToDisk="false" diskPersistent="false" diskExpiryThreadIntervalSeconds="120" /&gt; &lt;cache name="student" maxEntriesLocalHeap="2000" eternal="false" timeToIdleSeconds="3600" timeToLiveSeconds="0" overflowToDisk="false" statistics="true"/&gt;&lt;/ehcache&gt;ÂÖ≥‰∫éEhcaheÁöÑ‰∏Ä‰∫õËØ¥ÊòéÔºönameÔºöÁºìÂ≠òÂêçÁß∞„ÄÇmaxElementsInMemoryÔºöÁºìÂ≠òÊúÄÂ§ßÊï∞ÁõÆmaxElementsOnDiskÔºöÁ°¨ÁõòÊúÄÂ§ßÁºìÂ≠ò‰∏™Êï∞„ÄÇeternalÔºöÂØπË±°ÊòØÂê¶Ê∞∏‰πÖÊúâÊïàÔºå‰∏Ä‰ΩÜËÆæÁΩÆ‰∫ÜÔºåtimeoutÂ∞Ü‰∏çËµ∑‰ΩúÁî®„ÄÇoverflowToDiskÔºöÊòØÂê¶‰øùÂ≠òÂà∞Á£ÅÁõò„ÄÇtimeToIdleSeconds:ËÆæÁΩÆÂØπË±°Âú®Â§±ÊïàÂâçÁöÑÂÖÅËÆ∏Èó≤ÁΩÆÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ„ÄÇ‰ªÖÂΩìeternal=falseÂØπË±°‰∏çÊòØÊ∞∏‰πÖÊúâÊïàÊó∂‰ΩøÁî®ÔºåÂèØÈÄâÂ±ûÊÄßÔºåÈªòËÆ§ÂÄºÊòØ0Ôºå‰πüÂ∞±ÊòØÂèØÈó≤ÁΩÆÊó∂Èó¥Êó†Á©∑Â§ß„ÄÇtimeToLiveSecondsÔºöËÆæÁΩÆÂØπË±°Âú®Â§±ÊïàÂâçÂÖÅËÆ∏Â≠òÊ¥ªÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ„ÄÇÊúÄÂ§ßÊó∂Èó¥‰ªã‰∫éÂàõÂª∫Êó∂Èó¥ÂíåÂ§±ÊïàÊó∂Èó¥‰πãÈó¥„ÄÇ‰ªÖÂΩìeternal=falseÂØπË±°‰∏çÊòØÊ∞∏‰πÖÊúâÊïàÊó∂‰ΩøÁî®ÔºåÈªòËÆ§ÊòØ0Ôºå‰πüÂ∞±ÊòØÂØπË±°Â≠òÊ¥ªÊó∂Èó¥Êó†Á©∑Â§ß„ÄÇdiskPersistentÔºöÊòØÂê¶ÁºìÂ≠òËôöÊãüÊú∫ÈáçÂêØÊúüÊï∞ÊçÆÔºåÈªòËÆ§ÂÄº‰∏∫false„ÄÇdiskSpoolBufferSizeMBÔºöËøô‰∏™ÂèÇÊï∞ËÆæÁΩÆDiskStoreÔºàÁ£ÅÁõòÁºìÂ≠òÔºâÁöÑÁºìÂ≠òÂå∫Â§ßÂ∞è„ÄÇÈªòËÆ§ÊòØ30MB„ÄÇÊØè‰∏™CacheÈÉΩÂ∫îËØ•ÊúâËá™Â∑±ÁöÑ‰∏Ä‰∏™ÁºìÂÜ≤Âå∫„ÄÇdiskExpiryThreadIntervalSecondsÔºöÁ£ÅÁõòÂ§±ÊïàÁ∫øÁ®ãËøêË°åÊó∂Èó¥Èó¥ÈöîÔºåÈªòËÆ§ÊòØ120Áßí„ÄÇmemoryStoreEvictionPolicyÔºöÂΩìËææÂà∞maxElementsInMemoryÈôêÂà∂Êó∂ÔºåEhcacheÂ∞Ü‰ºöÊ†πÊçÆÊåáÂÆöÁöÑÁ≠ñÁï•ÂéªÊ∏ÖÁêÜÂÜÖÂ≠ò„ÄÇÈªòËÆ§Á≠ñÁï•ÊòØLRUÔºàÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®Ôºâ„ÄÇ‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰∏∫FIFOÔºàÂÖàËøõÂÖàÂá∫ÔºâÊàñÊòØLFUÔºàËæÉÂ∞ë‰ΩøÁî®Ôºâ„ÄÇclearOnFlushÔºöÂÜÖÂ≠òÊï∞ÈáèÊúÄÂ§ßÊó∂ÊòØÂê¶Ê∏ÖÈô§„ÄÇmemoryStoreEvictionPolicyÔºöEhcacheÁöÑ‰∏âÁßçÊ∏ÖÁ©∫Á≠ñÁï•ÔºöFIFOÔºåfirst in first outÔºåËøô‰∏™ÊòØÂ§ßÂÆ∂ÊúÄÁÜüÁöÑÔºåÂÖàËøõÂÖàÂá∫„ÄÇLFUÔºå Less Frequently UsedÔºåÂ∞±ÊòØ‰∏äÈù¢‰æãÂ≠ê‰∏≠‰ΩøÁî®ÁöÑÁ≠ñÁï•ÔºåÁõ¥ÁôΩ‰∏ÄÁÇπÂ∞±ÊòØËÆ≤‰∏ÄÁõ¥‰ª•Êù•ÊúÄÂ∞ëË¢´‰ΩøÁî®ÁöÑ„ÄÇÂ¶Ç‰∏äÈù¢ÊâÄËÆ≤ÔºåÁºìÂ≠òÁöÑÂÖÉÁ¥†Êúâ‰∏Ä‰∏™hitÂ±ûÊÄßÔºåhitÂÄºÊúÄÂ∞èÁöÑÂ∞Ü‰ºöË¢´Ê∏ÖÂá∫ÁºìÂ≠ò„ÄÇLRUÔºåLeast Recently UsedÔºåÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑÔºåÁºìÂ≠òÁöÑÂÖÉÁ¥†Êúâ‰∏Ä‰∏™Êó∂Èó¥Êà≥ÔºåÂΩìÁºìÂ≠òÂÆπÈáèÊª°‰∫ÜÔºåËÄåÂèàÈúÄË¶ÅËÖæÂá∫Âú∞ÊñπÊù•ÁºìÂ≠òÊñ∞ÁöÑÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºåÈÇ£‰πàÁé∞ÊúâÁºìÂ≠òÂÖÉÁ¥†‰∏≠Êó∂Èó¥Êà≥Á¶ªÂΩìÂâçÊó∂Èó¥ÊúÄËøúÁöÑÂÖÉÁ¥†Â∞ÜË¢´Ê∏ÖÂá∫ÁºìÂ≠ò„ÄÇÊé•ÁùÄÂú®application.yml‰∏≠ÊåáÂÆöehcacheÈÖçÁΩÆÁöÑË∑ØÂæÑÔºö1234spring: cache: ehcache: config: 'classpath:ehcache.xml'ËøôÊ†∑Â∞±ÂèØ‰ª•ÂºÄÂßã‰ΩøÁî®ehcache‰∫ÜÔºåËøêË°åÊµãËØïÁ±ªÔºåËßÇÂØüÊéßÂà∂Âè∞Ôºö123452017-11-18 09:10:40.201 DEBUG 3364 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Preparing: select * from student where sno=? 2017-11-18 09:10:40.343 DEBUG 3364 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Parameters: 001(String)2017-11-18 09:10:40.364 DEBUG 3364 --- [main] c.s.m.StudentMapper.queryStudentBySno : &lt;== Total: 1Â≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöKangKangÂ≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöKangKangÂèØÁúãÂà∞Á¨¨‰∫åÊ¨°ÊòØ‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÁöÑ„ÄÇÊµãËØïÊõ¥Êñ∞Ôºö12345678910112017-11-18 09:18:04.230 DEBUG 11556 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Preparing: select * from student where sno=? 2017-11-18 09:18:04.397 DEBUG 11556 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Parameters: 001(String)2017-11-18 09:18:04.427 DEBUG 11556 --- [main] c.s.m.StudentMapper.queryStudentBySno : &lt;== Total: 1Â≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöKangKang2017-11-18 09:18:04.433 DEBUG 11556 --- [main] c.s.mapper.StudentMapper.update : ==&gt; Preparing: update student set sname=?,ssex=? where sno=? 2017-11-18 09:18:04.438 DEBUG 11556 --- [main] c.s.mapper.StudentMapper.update : ==&gt; Parameters: Â∫∑Â∫∑(String), M (String), 001(String)2017-11-18 09:18:04.440 DEBUG 11556 --- [main] c.s.mapper.StudentMapper.update : &lt;== Updates: 12017-11-18 09:18:04.440 DEBUG 11556 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Preparing: select * from student where sno=? 2017-11-18 09:18:04.441 DEBUG 11556 --- [main] c.s.m.StudentMapper.queryStudentBySno : ==&gt; Parameters: 001(String)2017-11-18 09:18:04.442 DEBUG 11556 --- [main] c.s.m.StudentMapper.queryStudentBySno : &lt;== Total: 1Â≠¶Âè∑001ÁöÑÂ≠¶ÁîüÂßìÂêç‰∏∫ÔºöÂ∫∑Â∫∑ÂèØËßÅÔºåÂç≥‰ΩøÊõ¥Êñ∞ÊñπÊ≥ïÂä†‰∫Ü@CachePutÊ≥®Ëß£ÔºåÁ¨¨‰∫åÊ¨°Êü•ËØ¢Âõ†‰∏∫StudentÂØπË±°Êõ¥Êñ∞‰∫ÜÔºåÂÖ∂ÊòØ‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÊï∞ÊçÆÁöÑÔºåÊâÄ‰ª•ÂØπ‰∫éEhcacheÊù•ËØ¥ÔºåÊõ¥Êñ∞ÊñπÊ≥ïÂä†‰∏çÂä†@CachePutÊ≥®Ëß£ÔºåÁªìÊûúÈÉΩ‰∏ÄÊ†∑„ÄÇÊ∫êÁ†ÅÈìæÊé•Ôºöhttps://github.com/wuyouzhuguli/Spring-Boot-Demos/tree/master/10.Spring-Boot-Ehcache-Cache]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
        <tag>Ehcache</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle MergeËØ≠Âè•]]></title>
    <url>%2FOracle-Merge%E8%AF%AD%E5%8F%A5.html</url>
    <content type="text"><![CDATA[MergeËØ≠Âè•ÊòØOracle 9iÊñ∞Â¢ûÁöÑËØ≠Ê≥ïÔºåÁî®Êù•ÂêàÂπ∂UpdateÂíåInsertËØ≠Âè•„ÄÇÈÄöËøáMergeËØ≠Âè•ÔºåÊ†πÊçÆ‰∏ÄÂº†Ë°®ÊàñÂ≠êÊü•ËØ¢ÁöÑËøûÊé•Êù°‰ª∂ÂØπÂè¶Â§ñ‰∏ÄÂº†Ë°®ËøõË°åÊü•ËØ¢ÔºåËøûÊé•Êù°‰ª∂ÂåπÈÖç‰∏äÁöÑËøõË°åUpdateÔºåÊó†Ê≥ïÂåπÈÖçÁöÑÊâßË°åInsert„ÄÇËøô‰∏™ËØ≠Ê≥ï‰ªÖÈúÄË¶Å‰∏ÄÊ¨°ÂÖ®Ë°®Êâ´ÊèèÂ∞±ÂÆåÊàê‰∫ÜÂÖ®ÈÉ®Â∑•‰ΩúÔºåÊâßË°åÊïàÁéáË¶ÅÈ´ò‰∫éInsert+Update„ÄÇmergeËØ≠Âè•ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234merge into table_name tusing (subquery) s on (s.column = t.column)when matched then update ...when not matched then insert ...onÂÖ≥ÈîÆÂ≠óÂ£∞Êòé‰∫ÜÂÖ≥ËÅîÊù°‰ª∂ÔºåÂΩìÊúâËÆ∞ÂΩïÂåπÈÖçÊó∂ÊâßË°åUpdateËØ≠Âè•ÔºåÊ≤°ÊúâÂåπÈÖçÊó∂ÔºåÊâßË°åInsertËØ≠Âè•„ÄÇÁ§∫‰æãÂàõÂª∫‰∏ÄÂº†studentË°®Ôºö1234567create table student( sno varchar2(3) not null, -- Â≠¶ÁîüÁºñÂè∑ sname varchar(9) not null, -- Â≠¶ÁîüÂßìÂêç ssex char(2) not null -- ÊÄßÂà´);Ë°®Â∑≤ÂàõÂª∫„ÄÇÊèíÂÖ•‰∏ÄÊù°Â≠¶ÁîüÊ†áÂè∑‰∏∫001ÁöÑÊï∞ÊçÆÔºö123456789101112131415SQL&gt; merge into student s using (select '001' sno,'KangKang' sname,'M' ssex from dual) t on (s.sno = t.sno) when matched then update set s.sname = t.sname,s.ssex = t.ssex when not matched then insert (s.sno,s.sname,s.ssex) values(t.sno,t.sname,t.ssex);1 Ë°åÂ∑≤ÂêàÂπ∂„ÄÇSQL&gt; select * from student;SNO SNAME SS--- --------- --001 KangKang MÂÜçÊ¨°ÊèíÂÖ•‰∏ÄÊù°Â≠¶ÁîüÁºñÂè∑‰∏∫001ÁöÑÊï∞ÊçÆÔºå‰∏çËøásnameÂíåssex‰∏ç‰∏ÄÊ†∑Ôºö123456789101112131415SQL&gt; merge into student s using (select '001' sno,'Maria' sname,'F' ssex from dual) t on (s.sno = t.sno) when matched then update set s.sname = t.sname,s.ssex = t.ssex when not matched then insert (s.sno,s.sname,s.ssex) values(t.sno,t.sname,t.ssex);1 Ë°åÂ∑≤ÂêàÂπ∂„ÄÇSQL&gt; select * from student;SNO SNAME SS--- --------- --001 Maria F]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OracleÂàÜÊûêÂáΩÊï∞ÔºàÁ™óÂè£ÂáΩÊï∞Ôºâ]]></title>
    <url>%2Foracle%20Window%20function.html</url>
    <content type="text"><![CDATA[Oracle ‰∏≠ÁöÑÂàÜÊûêÂáΩÊï∞Âü∫‰∫éÂØπÊï∞ÊçÆË°åÁöÑÂàÜÁªÑÊù•ËÆ°ÁÆóÁõ∏ÂÖ≥ÂÄºÔºåÁ±ª‰ºº‰∫éËÅöÂêàÂáΩÊï∞„ÄÇÂÖ∂ÂíåËÅöÂêàÂáΩÊï∞‰∏ªË¶ÅÁöÑÂå∫Âà´Âú®‰∫éÔºöÂàÜÊûêÂáΩÊï∞ÂØπ‰∫éÊØè‰∏™ÂàÜÁªÑËøîÂõûÂ§öË°åÊï∞ÊçÆÔºåËÄåËÅöÂêàÂáΩÊï∞ÊØè‰∏™ÂàÜÁªÑÂè™ËÉΩÂØπÂ∫î‰∏ÄË°åÊï∞ÊçÆ„ÄÇÂàÜÊûêÂáΩÊï∞Áî±‰∏â‰∏™ÈÉ®ÂàÜÁªÑÊàêÔºöÂàÜÂå∫Â≠êÂè•„ÄÅÊéíÂ∫èÂ≠êÂè•ÂíåÂºÄÁ™óÂ≠êÂè•ÔºåÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö12function(arg1,arg2,...argN)over([partition-by-clause] [order-by-clause] [windowing-clause])ÂºÄÁ™óÂ≠êÂè•windowing-clause ÊåáÂÆö‰∫ÜÂàÜÊûêÂáΩÊï∞ËøõË°åËøêÁÆóÁöÑÊï∞ÊçÆÂ≠êÈõÜ„ÄÇÂºÄÁ™óÂ≠êÂè•ÁöÑÂÖ∑‰ΩìËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234[rows | range] between &lt;start expr&gt; and &lt;end expr&gt;&lt;start expr&gt; is [unbounded preceding | current row | n preceding | n following]&lt;end expr&gt; is [unbounded following | current row | n preceding | n following]unbounded precedingË°®Á§∫‰ª•ÂàÜÁªÑÊï∞ÊçÆÁöÑÁ¨¨‰∏ÄË°åÊúÄ‰∏∫‰∏äËæπÁïåÔºõunbounded followingË°®Á§∫‰ª•ÂàÜÁªÑÊï∞ÊçÆÁöÑÊúÄÂêé‰∏ÄË°åÊúÄ‰∏∫‰∏ãËæπÁïåÔºõcurrent rowË°®Á§∫ÂΩìÂâçÊï∞ÊçÆË°åÔºõn precedingË°®Á§∫ÂΩìÂâçÊï∞ÊçÆË°åÁöÑÂâçn Ë°åÔºõn followingË°®Á§∫ÂΩìÂâçÊï∞ÊçÆË°åÁöÑÂêén Ë°å„ÄÇ‰∏∫‰∫ÜÊºîÁ§∫ÂàÜÊûêÂáΩÊï∞ÔºåÈ¶ñÂÖàÂú®SHÁî®Êà∑‰∏ãÂàõÂª∫‰∏ÄÂº†sales_factË°®Ôºö12345678910111213141516171819SQL&gt; create table sales_fact as select country_name country,country_subRegion region,prod_name product, calendar_year year,calendar_week_number week, sum(amount_sold) sale, sum(amount_sold*( case when mod(rownum,10)=0 then 1.4 when mod(rownum,5)=0 then 0.6 when mod(rownum,2)=0 then 0.9 when mod(rownum,2)=1 then 1.2 else 1 end)) receipts from sales,times,customers,countries,products where sales.time_id=times.time_id and sales.prod_id = products.prod_id and sales.cust_id = customers.cust_id and customers.country_id = countries.country_id group by country_name,country_subRegion,prod_name,calendar_year,calendar_week_number;Ë°®Â∑≤ÂàõÂª∫„ÄÇÂàÜÊûêÊ®°Âºè‰∏ãÁöÑËÅöÂêàÂáΩÊï∞ÂâçÈù¢ÊâÄËØ¥ËÅöÂêàÂáΩÊï∞ÊØè‰∏™ÂàÜÁªÑÂè™ËÉΩÂØπÂ∫î‰∏ÄË°åÊï∞ÊçÆÊòØÂú®‰º†ÁªüÁöÑÈùûÂàÜÊûêÊ®°Âºè‰∏ãÁöÑÁªìÊûú„ÄÇÂàÜÊûêÊ®°Âºè‰∏ãÁöÑËÅöÂêàÂáΩÊï∞ÂàôÊ≤°ÊúâÊ≠§ÈôêÂà∂„ÄÇÊØîÂ¶Ç‰∏ãÈù¢ÁöÑSQLËØ≠Âè•ËÆ°ÁÆó‰∫ÜsaleÂàóÊåâÁÖß‰∫ßÂìÅÔºåÂõΩÂÆ∂ÔºåÂú∞Âå∫ÂíåÂπ¥‰ªΩ‰∏∫‰∏ÄÁªÑÔºå‰ªéÊØèÂπ¥Âπ¥ÂàùÂºÄÂßãÂà∞ËØ•Âπ¥‰ªΩÊØè‰∏ÄÂë®ÁöÑÂä®ÊÄÅÊ±ÇÂíåÂÄº„ÄÇÔºà‰∏∫‰∫ÜËäÇÁ∫¶ÁØáÂπÖÔºå‰∏ãÈù¢ÁªìÊûúÂè™ÂèñÂâç10Âë®ÁªìÊûúÈõÜÔºâ„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940414243444546SQL&gt; select year,week,sale, sum(sale) over( partition by product,country,region,year order by week rows between unbounded preceding and current row ) running_sum_sale from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by year,week; YEAR WEEK SALE RUNNING_SUM_SALE---------- ---------- ---------- ---------------- 1998 1 58.15 58.15 1998 2 29.39 87.54 1998 3 29.49 117.03 1998 4 29.49 146.52 1998 5 29.8 176.32 1998 6 58.78 235.1 1998 9 58.78 293.88 1998 10 117.76 411.64 1999 1 53.52 53.52 1999 3 94.6 148.12 1999 4 40.5 188.62 1999 5 80.01 268.63 1999 6 40.5 309.13 1999 8 103.11 412.24 1999 9 53.34 465.58 1999 10 72 537.58 2000 1 46.7 46.7 2000 3 93.41 140.11 2000 4 46.54 186.65 2000 5 46.7 233.35 2000 7 70.8 304.15 2000 8 46.54 350.69 2001 1 92.26 92.26 2001 2 118.38 210.64 2001 3 47.24 257.88 2001 4 256.7 514.58 2001 5 93.44 608.02 2001 6 22.44 630.46 2001 7 69.96 700.42 2001 8 46.06 746.48 2001 9 92.67 839.15 2001 10 69.05 908.2Â∑≤ÈÄâÊã©32Ë°å„ÄÇËÅöÂêàÂáΩÊï∞sum(sale)Â£∞ÊòéË¶ÅÊ±ÇÂíåÁöÑÂàóÔºåpartition by product,country,region,yearÂàÜÂå∫Â≠êÂè•Â£∞Êòé‰∫ÜÂàÜÁªÑÁöÑÂàóÔºåorder by weekÊéíÂ∫èÂ≠êÂè•Â£∞Êòé‰∫ÜÂàÜÁªÑÁöÑÊï∞ÊçÆË°åÊåâÁÖßweekÂàóÊù•ËøõË°åÊéíÂ∫èÔºårows between unbounded preceding and current rowÂºÄÁ™óÂ≠êÂè•Â£∞Êòé‰∫ÜËÆ°ÁÆóÁöÑÁ™óÂè£ËåÉÂõ¥‰∏∫ÂàÜÁªÑÁöÑÁ¨¨‰∏ÄË°åÂà∞ÂΩìÂâçË°å„ÄÇ‰∏ãÈù¢‰æãÂ≠êÁöÑÁ™óÂè£ËåÉÂõ¥‰∏∫Êï¥‰∏™ÂàÜÁªÑÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546SQL&gt; select year,week,sale, max(sale) over( partition by product,country,region,year order by week rows between unbounded preceding and unbounded following ) max_sal_per_year from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by year,week; YEAR WEEK SALE MAX_SAL_PER_YEAR---------- ---------- ---------- ---------------- 1998 1 58.15 117.76 1998 2 29.39 117.76 1998 3 29.49 117.76 1998 4 29.49 117.76 1998 5 29.8 117.76 1998 6 58.78 117.76 1998 9 58.78 117.76 1998 10 117.76 117.76 1999 1 53.52 103.11 1999 3 94.6 103.11 1999 4 40.5 103.11 1999 5 80.01 103.11 1999 6 40.5 103.11 1999 8 103.11 103.11 1999 9 53.34 103.11 1999 10 72 103.11 2000 1 46.7 93.41 2000 3 93.41 93.41 2000 4 46.54 93.41 2000 5 46.7 93.41 2000 7 70.8 93.41 2000 8 46.54 93.41 2001 1 92.26 256.7 2001 2 118.38 256.7 2001 3 47.24 256.7 2001 4 256.7 256.7 2001 5 93.44 256.7 2001 6 22.44 256.7 2001 7 69.96 256.7 2001 8 46.06 256.7 2001 9 92.67 256.7 2001 10 69.05 256.7Â∑≤ÈÄâÊã©32Ë°å„ÄÇ‰∏ãÈù¢‰æãÂ≠êÁöÑÁ™óÂè£ËåÉÂõ¥‰∏∫ÂΩìÂâçÂë®ÁöÑÂâç‰∏§Âë®ÂíåÂêé‰∏§Âë®Ôºå‰πüÂ∞±ÊòØ‰∫îÂë®„ÄÇÂú®ÂàÜÁªÑÁöÑËæπÁïåÂ§ÑÔºåÁ™óÂè£‰ºöËá™Âä®Áº©Â∞èÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546SQL&gt; select year,week,sale, max(sale) over( partition by product,country,region,year order by week rows between 2 preceding and 2 following ) max_sal_per_year from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by year,week; YEAR WEEK SALE MAX_SAL_PER_YEAR---------- ---------- ---------- ---------------- 1998 1 58.15 58.15 1998 2 29.39 58.15 1998 3 29.49 58.15 1998 4 29.49 58.78 1998 5 29.8 58.78 1998 6 58.78 117.76 1998 9 58.78 117.76 1998 10 117.76 117.76 1999 1 53.52 94.6 1999 3 94.6 94.6 1999 4 40.5 94.6 1999 5 80.01 103.11 1999 6 40.5 103.11 1999 8 103.11 103.11 1999 9 53.34 103.11 1999 10 72 103.11 2000 1 46.7 93.41 2000 3 93.41 93.41 2000 4 46.54 93.41 2000 5 46.7 93.41 2000 7 70.8 70.8 2000 8 46.54 70.8 2001 1 92.26 118.38 2001 2 118.38 256.7 2001 3 47.24 256.7 2001 4 256.7 256.7 2001 5 93.44 256.7 2001 6 22.44 256.7 2001 7 69.96 93.44 2001 8 46.06 92.67 2001 9 92.67 92.67 2001 10 69.05 92.67Â∑≤ÈÄâÊã©32Ë°å„ÄÇÈªòËÆ§ÁöÑÁ™óÂè£Â≠êÂè•ÊòØrows between unbounded preceding and current row„ÄÇlagÂíåleadlagÂíåleadÂáΩÊï∞ËÉΩÂ§üÂÆûÁé∞Ë∑®Ë°åÂºïÁî®„ÄÇlagËÉΩÂ§üËÆøÈóÆÁªìÊûúÈõÜ‰∏≠ÂâçÈù¢Ë°åÂÜÖÂÆπÔºåleadËÉΩÂ§üËÆøÈóÆÁªìÊûúÈõÜ‰∏≠ÂêéÈù¢Ë°åÂÜÖÂÆπ„ÄÇlagÂíåleadÂáΩÊï∞‰∏çÊîØÊåÅÂºÄÁ™óÂ≠êÂè•Ôºå‰ªÖÊîØÊåÅpartition byÂíåorder byÂ≠êÂè•„ÄÇlaglagÂáΩÊï∞ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1lag(expression, offset, default) over(partition-clause order-by-clause)expressionË°®Á§∫ËøîÂõûÁöÑÂàóÔºåoffsetË°®Á§∫Áõ∏ÈöîÁöÑË°åÊï∞Ôºà‰∏çËÉΩ‰∏∫Ë¥üÊï∞ÔºâÔºådefaultË°®Á§∫ÈªòËÆ§ÂÄº„ÄÇÊØîÂ¶ÇÔºå‰ªéÂâç‰∏ÄË°å‰∏≠ËøîÂõû‰∏Ä‰∏™ÂÄºÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445SQL&gt; select year,week,sale, lag(sale) over( partition by product,country,region,year order by week ) prior_wk_sales from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,week; YEAR WEEK SALE PRIOR_WK_SALES---------- ---------- ---------- -------------- 1998 1 58.15 1998 2 29.39 58.15 1998 3 29.49 29.39 1998 4 29.49 29.49 1998 5 29.8 29.49 1998 6 58.78 29.8 1998 9 58.78 58.78 1998 10 117.76 58.78 1999 1 53.52 1999 3 94.6 53.52 1999 4 40.5 94.6 1999 5 80.01 40.5 1999 6 40.5 80.01 1999 8 103.11 40.5 1999 9 53.34 103.11 1999 10 72 53.34 2000 1 46.7 2000 3 93.41 46.7 2000 4 46.54 93.41 2000 5 46.7 46.54 2000 7 70.8 46.7 2000 8 46.54 70.8 2001 1 92.26 2001 2 118.38 92.26 2001 3 47.24 118.38 2001 4 256.7 47.24 2001 5 93.44 256.7 2001 6 22.44 93.44 2001 7 69.96 22.44 2001 8 46.06 69.96 2001 9 92.67 46.06 2001 10 69.05 92.67Â∑≤ÈÄâÊã©32Ë°å„ÄÇÂèØËßÅlagÂáΩÊï∞Âú®ÂàÜÂå∫ÁöÑ‰∏äËæπÁïåËøîÂõûÁ©∫ÂÄºÔºåÈªòËÆ§Ë°åÊï∞‰∏∫1„ÄÇÊåáÂÆölagÂáΩÊï∞ÁöÑÈªòËÆ§ÂÄºÔºåÂπ∂ÊåáÂÆöË°åÊï∞‰∏∫3Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445SQL&gt; select year,week,sale, lag(sale,3,sale) over( partition by product,country,region,year order by week ) prior_wk_sales from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,week; YEAR WEEK SALE PRIOR_WK_SALES---------- ---------- ---------- -------------- 1998 1 58.15 58.15 1998 2 29.39 29.39 1998 3 29.49 29.49 1998 4 29.49 58.15 1998 5 29.8 29.39 1998 6 58.78 29.49 1998 9 58.78 29.49 1998 10 117.76 29.8 1999 1 53.52 53.52 1999 3 94.6 94.6 1999 4 40.5 40.5 1999 5 80.01 53.52 1999 6 40.5 94.6 1999 8 103.11 40.5 1999 9 53.34 80.01 1999 10 72 40.5 2000 1 46.7 46.7 2000 3 93.41 93.41 2000 4 46.54 46.54 2000 5 46.7 46.7 2000 7 70.8 93.41 2000 8 46.54 46.54 2001 1 92.26 92.26 2001 2 118.38 118.38 2001 3 47.24 47.24 2001 4 256.7 92.26 2001 5 93.44 118.38 2001 6 22.44 47.24 2001 7 69.96 256.7 2001 8 46.06 93.44 2001 9 92.67 22.44 2001 10 69.05 69.96Â∑≤ÈÄâÊã©32Ë°å„ÄÇleadleadÂíålagÁ±ª‰ºº„ÄÇ‰∏çÂÜçËµòËø∞„ÄÇfirst_valueÂíålast_valuefirst_valueÂíålast_valueÂáΩÊï∞ÈÄöÂ∏∏‰∏éorder byËØ≠Âè•ÈÖçÂêàÊù•Á≠õÈÄâÂá∫ÂàÜÂå∫‰∏≠ÁöÑÊúÄÂ§ßÂÄºÂíåÊúÄÂ∞èÂÄº„ÄÇÂÆÉ‰ª¨ÈÉΩÊîØÊåÅÂºÄÁ™óÂ≠êÂè•„ÄÇfirst_valuefirst_valueËøîÂõûÁ™óÂè£‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÄº„ÄÇignore nullsË°®Á§∫ÂøΩÁï•Á©∫ÂÄºÔºåÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÊòØÁ©∫ÂÄºËøîÂõûÁ¨¨‰∫å‰∏™Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546SQL&gt; select year,week,sale, first_value(sale ignore nulls) over( partition by product,country,region,year order by sale desc rows between unbounded preceding and unbounded following ) max_sale from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,week; YEAR WEEK SALE MAX_SALE---------- ---------- ---------- ---------- 1998 1 58.15 117.76 1998 2 29.39 117.76 1998 3 29.49 117.76 1998 4 29.49 117.76 1998 5 29.8 117.76 1998 6 58.78 117.76 1998 9 58.78 117.76 1998 10 117.76 117.76 1999 1 53.52 103.11 1999 3 94.6 103.11 1999 4 40.5 103.11 1999 5 80.01 103.11 1999 6 40.5 103.11 1999 8 103.11 103.11 1999 9 53.34 103.11 1999 10 72 103.11 2000 1 46.7 93.41 2000 3 93.41 93.41 2000 4 46.54 93.41 2000 5 46.7 93.41 2000 7 70.8 93.41 2000 8 46.54 93.41 2001 1 92.26 256.7 2001 2 118.38 256.7 2001 3 47.24 256.7 2001 4 256.7 256.7 2001 5 93.44 256.7 2001 6 22.44 256.7 2001 7 69.96 256.7 2001 8 46.06 256.7 2001 9 92.67 256.7 2001 10 69.05 256.7Â∑≤ÈÄâÊã©32Ë°å„ÄÇlast_valuelast_valueËøîÂõûÁ™óÂè£‰∏≠ÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÄº„ÄÇrespect nullsË°®Á§∫ËØÜÂà´Á©∫ÂÄºÔºåÂ¶ÇÊûúÊúÄÂêé‰∏Ä‰∏™ÊòØÁ©∫ÂÄº‰πüÂ∞ÜÂÖ∂ËøîÂõû„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940414243444546SQL&gt; select year,week,sale, last_value(sale respect nulls) over( partition by product,country,region,year order by sale desc rows between unbounded preceding and unbounded following ) min_sale from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,week; YEAR WEEK SALE MIN_SALE---------- ---------- ---------- ---------- 1998 1 58.15 29.39 1998 2 29.39 29.39 1998 3 29.49 29.39 1998 4 29.49 29.39 1998 5 29.8 29.39 1998 6 58.78 29.39 1998 9 58.78 29.39 1998 10 117.76 29.39 1999 1 53.52 40.5 1999 3 94.6 40.5 1999 4 40.5 40.5 1999 5 80.01 40.5 1999 6 40.5 40.5 1999 8 103.11 40.5 1999 9 53.34 40.5 1999 10 72 40.5 2000 1 46.7 46.54 2000 3 93.41 46.54 2000 4 46.54 46.54 2000 5 46.7 46.54 2000 7 70.8 46.54 2000 8 46.54 46.54 2001 1 92.26 22.44 2001 2 118.38 22.44 2001 3 47.24 22.44 2001 4 256.7 22.44 2001 5 93.44 22.44 2001 6 22.44 22.44 2001 7 69.96 22.44 2001 8 46.06 22.44 2001 9 92.67 22.44 2001 10 69.05 22.44Â∑≤ÈÄâÊã©32Ë°å„ÄÇnth_valuenth_valueÂáΩÊï∞Áî®‰∫éËøîÂõû‰ªªÊÑèË°åÁöÑÊï∞ÊçÆÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö12nth_value(measure, n) [from first | from last] [respect nulls | ignore nulls]over(partition-clause order-by-clause windowing-clause)ÊØîÂ¶Çfirst_value(sale)Á≠â‰ª∑‰∫énth_value(sale,1)Ôºõfirst_value(sale ignore nulls)Á≠â‰ª∑‰∫énth_value(sale,1) from first ignore nulls„ÄÇÊØîÂ¶ÇÊ±ÇÂæóÂàÜÂå∫ÂÜÖÁ¨¨‰∫åÂ§ßÁöÑsaleÂÄºÂ§ßÂ∞èÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546SQL&gt; select year,week,sale, nth_value(sale,2) ignore nulls over( partition by product,country,region,year order by sale desc rows between unbounded preceding and unbounded following ) second_max_sale from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,week; YEAR WEEK SALE SECOND_MAX_SALE---------- ---------- ---------- --------------- 1998 1 58.15 58.78 1998 2 29.39 58.78 1998 3 29.49 58.78 1998 4 29.49 58.78 1998 5 29.8 58.78 1998 6 58.78 58.78 1998 9 58.78 58.78 1998 10 117.76 58.78 1999 1 53.52 94.6 1999 3 94.6 94.6 1999 4 40.5 94.6 1999 5 80.01 94.6 1999 6 40.5 94.6 1999 8 103.11 94.6 1999 9 53.34 94.6 1999 10 72 94.6 2000 1 46.7 70.8 2000 3 93.41 70.8 2000 4 46.54 70.8 2000 5 46.7 70.8 2000 7 70.8 70.8 2000 8 46.54 70.8 2001 1 92.26 118.38 2001 2 118.38 118.38 2001 3 47.24 118.38 2001 4 256.7 118.38 2001 5 93.44 118.38 2001 6 22.44 118.38 2001 7 69.96 118.38 2001 8 46.06 118.38 2001 9 92.67 118.38 2001 10 69.05 118.38Â∑≤ÈÄâÊã©32Ë°å„ÄÇrankrankÂáΩÊï∞‰ª•Êï∞ÂÄºÁöÑÂΩ¢ÂºèËøîÂõû‰∏Ä‰∏™Êï∞ÊçÆË°åÂú®ÊéíÂ∫èÂêéÁöÑÁªìÊûúÈõÜ‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇÂú®ÊéíÂêçÂπ∂ÂàóÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÖ∑ÊúâÁõ∏ÂêåÂÄºÁöÑË°åÂ∞ÜÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊéíÂêçÔºåÂπ∂‰∏îÊé•‰∏ãÊù•ÁöÑÊéíÂêç‰ºöË¢´Ë∑≥Ëøá„ÄÇrankÂáΩÊï∞‰∏çÊîØÊåÅÂºÄÁ™óÂ≠êÂè•Ôºå‰ΩúÁî®‰∫éÊï¥‰∏™ÂàÜÂå∫Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647SQL&gt; select * from ( select year,week,sale, rank() over( partition by product,country,region,year order by sale desc ) sales_rank from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,week ) order by year,sales_rank; YEAR WEEK SALE SALES_RANK---------- ---------- ---------- ---------- 1998 10 117.76 1 1998 6 58.78 2 1998 9 58.78 2 1998 1 58.15 4 1998 5 29.8 5 1998 4 29.49 6 1998 3 29.49 6 1998 2 29.39 8 1999 8 103.11 1 1999 3 94.6 2 1999 5 80.01 3 1999 10 72 4 1999 1 53.52 5 1999 9 53.34 6 1999 4 40.5 7 1999 6 40.5 7 2000 3 93.41 1 2000 7 70.8 2 2000 1 46.7 3 2000 5 46.7 3 2000 4 46.54 5 2000 8 46.54 5 2001 4 256.7 1 2001 2 118.38 2 2001 5 93.44 3 2001 9 92.67 4 2001 1 92.26 5 2001 7 69.96 6 2001 10 69.05 7 2001 3 47.24 8 2001 8 46.06 9 2001 6 22.44 10Â∑≤ÈÄâÊã©32Ë°å„ÄÇdense_rankdense_rankÂáΩÊï∞ÊòØrankÂáΩÊï∞ÁöÑÂèò‰ΩìÔºåÂå∫Âà´Âú®‰∫édense_rankÂáΩÊï∞ÁöÑÊéíÂêçÂÄºÊòØËøûÁª≠ÁöÑÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647SQL&gt; select * from ( select year,week,sale, dense_rank() over( partition by product,country,region,year order by sale desc ) sales_dense_rank from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,week ) order by year,sales_dense_rank; YEAR WEEK SALE SALES_DENSE_RANK---------- ---------- ---------- ---------------- 1998 10 117.76 1 1998 6 58.78 2 1998 9 58.78 2 1998 1 58.15 3 1998 5 29.8 4 1998 4 29.49 5 1998 3 29.49 5 1998 2 29.39 6 1999 8 103.11 1 1999 3 94.6 2 1999 5 80.01 3 1999 10 72 4 1999 1 53.52 5 1999 9 53.34 6 1999 4 40.5 7 1999 6 40.5 7 2000 3 93.41 1 2000 7 70.8 2 2000 1 46.7 3 2000 5 46.7 3 2000 4 46.54 4 2000 8 46.54 4 2001 4 256.7 1 2001 2 118.38 2 2001 5 93.44 3 2001 9 92.67 4 2001 1 92.26 5 2001 7 69.96 6 2001 10 69.05 7 2001 3 47.24 8 2001 8 46.06 9 2001 6 22.44 10Â∑≤ÈÄâÊã©32Ë°å„ÄÇrow_numberrow_numberÂáΩÊï∞‰∏∫ÁªìÊûúÈõÜ‰∏≠ÁöÑÊØè‰∏ÄË°åÂàÜÈÖç‰∏Ä‰∏™ÈÄíÂ¢ûË°åÁºñÂè∑ÔºåÊîØÊåÅÂºÄÁ™óÂ≠êÂè•„ÄÇÂ¶ÇÊûúÂ≠òÂú®ÂÄºÁõ∏ÂêåÁöÑÊï∞ÊçÆË°åÔºåË∞ÅÂÖàË∞ÅÂêéÂÖ∑Êúâ‰∏çÁ°ÆÂÆöÊÄß„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445SQL&gt; select year,week,sale, row_number() over( partition by product,country,region,year order by sale ) sales_rn from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,sale; YEAR WEEK SALE SALES_RN---------- ---------- ---------- ---------- 1998 2 29.39 1 1998 3 29.49 2 1998 4 29.49 3 1998 5 29.8 4 1998 1 58.15 5 1998 9 58.78 6 1998 6 58.78 7 1998 10 117.76 8 1999 4 40.5 1 1999 6 40.5 2 1999 9 53.34 3 1999 1 53.52 4 1999 10 72 5 1999 5 80.01 6 1999 3 94.6 7 1999 8 103.11 8 2000 4 46.54 1 2000 8 46.54 2 2000 5 46.7 3 2000 1 46.7 4 2000 7 70.8 5 2000 3 93.41 6 2001 6 22.44 1 2001 8 46.06 2 2001 3 47.24 3 2001 10 69.05 4 2001 7 69.96 5 2001 1 92.26 6 2001 9 92.67 7 2001 5 93.44 8 2001 2 118.38 9 2001 4 256.7 10Â∑≤ÈÄâÊã©32Ë°å„ÄÇratio_to_reportratio_to_reportÂáΩÊï∞Áî®‰∫éËÆ°ÁÆóÂΩìÂâçË°åÁöÑÂÄºÂç†ÂàÜÂå∫ÊÄªÂíåÁöÑÂÄºÁöÑÁôæÂàÜÊØîÔºåËØ•ÂáΩÊï∞Ê≤°ÊúâÊéíÂ∫èÂíåÂºÄÁ™óÂ≠êÂè•„ÄÇÊØîÂ¶ÇËÆ°ÁÆóÂΩìÂâçÂë®ÁöÑÈîÄÂîÆÈ¢ùÂú®ËØ•Âπ¥‰ª•ÂèäÊâÄÊúâÈîÄÂîÆÈ¢ù‰∏≠ÁöÑÁôæÂàÜÊØîÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243SQL&gt; select year,week,sale, trunc(100*ratio_to_report(sale) over(partition by product,country,region,year),2) || '%' p1, trunc(100*ratio_to_report(sale) over(partition by product,country,region),2) || '%' p2 from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week &lt;= 10 order by product,country,year,week; YEAR WEEK SALE P1 P2 ---------- ---------- ---------- --------------- ----------------- 1998 1 58.15 14.12% 2.63% 1998 2 29.39 7.13% 1.33% 1998 3 29.49 7.16% 1.33% 1998 4 29.49 7.16% 1.33% 1998 5 29.8 7.23% 1.34% 1998 6 58.78 14.27% 2.66% 1998 9 58.78 14.27% 2.66% 1998 10 117.76 28.6% 5.33% 1999 1 53.52 9.95% 2.42% 1999 3 94.6 17.59% 4.28% 1999 4 40.5 7.53% 1.83% 1999 5 80.01 14.88% 3.62% 1999 6 40.5 7.53% 1.83% 1999 8 103.11 19.18% 4.66% 1999 9 53.34 9.92% 2.41% 1999 10 72 13.39% 3.26% 2000 1 46.7 13.31% 2.11% 2000 3 93.41 26.63% 4.23% 2000 4 46.54 13.27% 2.1% 2000 5 46.7 13.31% 2.11% 2000 7 70.8 20.18% 3.2% 2000 8 46.54 13.27% 2.1% 2001 1 92.26 10.15% 4.17% 2001 2 118.38 13.03% 5.36% 2001 3 47.24 5.2% 2.13% 2001 4 256.7 28.26% 11.62% 2001 5 93.44 10.28% 4.23% 2001 6 22.44 2.47% 1.01% 2001 7 69.96 7.7% 3.16% 2001 8 46.06 5.07% 2.08% 2001 9 92.67 10.2% 4.19% 2001 10 69.05 7.6% 3.12%Â∑≤ÈÄâÊã©32Ë°å„ÄÇntilentileÂáΩÊï∞ÂØπ‰∏Ä‰∏™ÂàÜÂå∫‰∏≠ÁöÑÊúâÂ∫èÁªìÊûúÈõÜËøõË°åÂàíÂàÜÔºåÂàÜ‰∏∫Ëã•Âπ≤‰∏™ÁªÑÔºåÂ¶ÇÊûú‰∏çËÉΩÂ§üÁ≠âÂàÜÔºåÂàôÊØè‰∏™ÁªÑ‰∏≠Áõ∏Â∑ÆÁöÑÊï∞ÊçÆË°å‰∏çËÉΩË∂ÖËøá‰∏ÄË°åÔºåÂπ∂‰∏∫ÊØè‰∏™Â∞èÁªÑÂàÜÈÖçÂîØ‰∏ÄÁöÑÁªÑÁºñÂè∑„ÄÇËØ•ÂáΩÊï∞‰∏çÊîØÊåÅÂºÄÁ™óÂ≠êÂè•„ÄÇÊØîÂ¶ÇÂ∞Ü2001Âπ¥ÁöÑÈîÄÂîÆÈ¢ùÊï∞ÊçÆË°åÂàÜ‰∏∫ÂçÅ‰∏™Â∞èÁªÑÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657SQL&gt; select year,week,sale, ntile(10) over( partition by product,country,region,year order by sale ) group# from sales_fact where country in ('Australia') and product = 'Xtend Memory' and year=2001; YEAR WEEK SALE GROUP#---------- ---------- ---------- ---------- 2001 18 22.37 1 2001 23 22.38 1 2001 6 22.44 1 2001 52 23.14 1 2001 50 23.14 1 2001 44 23.29 2 2001 40 45.18 2 2001 49 45.26 2 2001 8 46.06 2 2001 3 47.24 2 2001 41 67.19 3 2001 34 68.9 3 2001 32 68.9 3 2001 10 69.05 3 2001 7 69.96 3 2001 11 71.57 4 2001 36 91.12 4 2001 15 91.98 4 2001 31 92.21 4 2001 1 92.26 4 2001 9 92.67 5 2001 37 93.16 5 2001 5 93.44 5 2001 46 93.58 5 2001 27 94.48 5 2001 51 114.82 6 2001 33 115.52 6 2001 39 115.57 6 2001 13 116.81 6 2001 12 116.81 7 2001 29 116.85 7 2001 20 118.03 7 2001 2 118.38 7 2001 24 136.92 8 2001 42 136.98 8 2001 38 139 8 2001 25 139.28 8 2001 43 139.58 9 2001 22 141.78 9 2001 14 162.91 9 2001 30 162.91 9 2001 48 182.96 10 2001 21 233.7 10 2001 4 256.7 10 2001 16 278.44 10Â∑≤ÈÄâÊã©45Ë°å„ÄÇstddevstddevÂáΩÊï∞Áî®‰∫éËÆ°ÁÆóÊüê‰∫õÊï∞ÊçÆË°åÂú®ÂàÜÂå∫‰∏≠ÁöÑÊ†áÂáÜÂ∑ÆÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243SQL&gt; select year,week,sale, stddev(sale) over( partition by product,country,region,year order by sale rows between unbounded preceding and unbounded following ) stddev from sales_fact where country in ('Australia') and product = 'Xtend Memory' and week&lt;10 order by product,country,year,week; YEAR WEEK SALE STDDEV---------- ---------- ---------- ---------- 1998 1 58.15 15.517783 1998 2 29.39 15.517783 1998 3 29.49 15.517783 1998 4 29.49 15.517783 1998 5 29.8 15.517783 1998 6 58.78 15.517783 1998 9 58.78 15.517783 1999 1 53.52 25.8395281 1999 3 94.6 25.8395281 1999 4 40.5 25.8395281 1999 5 80.01 25.8395281 1999 6 40.5 25.8395281 1999 8 103.11 25.8395281 1999 9 53.34 25.8395281 2000 1 46.7 19.670004 2000 3 93.41 19.670004 2000 4 46.54 19.670004 2000 5 46.7 19.670004 2000 7 70.8 19.670004 2000 8 46.54 19.670004 2001 1 92.26 68.235866 2001 2 118.38 68.235866 2001 3 47.24 68.235866 2001 4 256.7 68.235866 2001 5 93.44 68.235866 2001 6 22.44 68.235866 2001 7 69.96 68.235866 2001 8 46.06 68.235866 2001 9 92.67 68.235866Â∑≤ÈÄâÊã©29Ë°å„ÄÇlistagglistaggÂáΩÊï∞Â∞ÜÂàÜÂå∫‰∏≠Â§ö‰∏™Êï∞ÊçÆË°å‰∏≠ÁöÑÊüêÂàóÁöÑÂÄº‰ª•Êüê‰∏™Á¨¶Âè∑ÊãºÊé•Êàê‰∏ÄË°åÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1listagg(string,separator) within group(order-by-clause) over(partition-by-clause)within group(order-by-clause)Â≠êÂè•Â£∞ÊòéÊéíÂ∫èÈ°∫Â∫è„ÄÇÊØîÂ¶ÇÂ∞Üsales_factÊï∞ÊçÆË°®‰∏≠ÁöÑcountryËΩ¨Âåñ‰∏∫‰ª•ÈÄóÂè∑ÂàÜÈöîÁöÑ‰∏ÄË°åÂÄºÔºö12345678910111213SQL&gt; col country_string for a50SQL&gt; select listagg(country,',') within group(order by country desc) country_string from( select distinct country from sales_fact );COUNTRY_STRING--------------------------------------------------United States of America,United Kingdom,Turkey,Spain,Singapore,Saudi Arabia,Poland,New Zealand,Japan,Italy,Germany,France,Denmark,China,Canada,Brazil,Australia,Argentina]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OracleÂØπË±°Á±ªÂûã]]></title>
    <url>%2FOracle-Object-Type.html</url>
    <content type="text"><![CDATA[Âú®OracleÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫Ëá™ÂÆö‰πâÁöÑÂØπË±°Á±ªÂûãÔºàObject TypeÔºâ„ÄÇÊï∞ÊçÆÂ∫ìÁöÑÂØπË±°Á±ªÂûãÂíåJava‰∏≠ÁöÑÁ±ªÁõ∏‰ººÔºåÂèØ‰ª•ÂåÖÂê´Â±ûÊÄßÂíåÊñπÊ≥ïÔºàÂáΩÊï∞ÂíåÂ≠òÂÇ®ËøáÁ®ãÔºâ„ÄÇÂØπË±°Á±ªÂûãÂåÖÊã¨ÂØπË±°Á±ªÂûãËßÑËåÉÔºàObject Type SpecificationÔºâÂíåÂØπË±°Á±ªÂûã‰∏ª‰ΩìÔºàObject Type BodyÔºâ„ÄÇÂØπË±°Á±ªÂûãËßÑËåÉÁî®‰∫éÂÆö‰πâÂØπË±°ÁöÑÂ±ûÊÄßÂíå‰∏çÂåÖÂê´ÂÆûÁé∞ÁöÑÊñπÊ≥ï„ÄÇÂØπË±°Á±ªÂûã‰∏ª‰ΩìÁî®‰∫éÂÆûÁé∞ÂØπË±°Á±ªÂûãËßÑËåÉ‰∏≠ÂÆö‰πâÁöÑÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÂØπË±°Á±ªÂûãËßÑËåÉ‰∏≠Ê≤°ÊúâÂÆö‰πâÊñπÊ≥ïÔºåÂàôÂèØ‰ª•‰∏çÁî®ÂÆö‰πâÂØπË±°Á±ªÂûã‰∏ª‰Ωì„ÄÇÂàõÂª∫ÁÆÄÂçïÁöÑÂØπË±°Á±ªÂûãÁÆÄÂçïÁöÑÂØπË±°Á±ªÂûãÂ∞±ÊòØ‰∏çÂåÖÂê´ÊñπÊ≥ïÁöÑÂØπË±°Á±ªÂûãÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234create [or replace] type type_name as object ( column_name data_type [,column_name data_type, ... ]);ÊØîÂ¶ÇÂàõÂª∫‰∏Ä‰∏™Âú∞ÂùÄÂØπË±°Á±ªÂûãÔºö1234567SQL&gt; create or replace type address as object ( province varchar2(10), city varchar2(10) ) not final; /Á±ªÂûãÂ∑≤ÂàõÂª∫„ÄÇnot finalÂÖ≥ÈîÆÂ≠óËØ¥ÊòéËØ•ÂØπË±°Á±ªÂûãÂèØ‰ª•Ë¢´ÁªßÊâøÔºåÊé•‰∏ãÊù•ÂÆö‰πâ‰∏Ä‰∏™Â≠êÁ±ªÂûãaddressDetail ÁªßÊâøËá™address Á±ªÂûãÔºö1234567891011121314SQL&gt; create or replace type addressdetail under address ( street varchar2(20) ); /Á±ªÂûãÂ∑≤ÂàõÂª∫„ÄÇSQL&gt; desc addressdetail; addressdetail Êâ©Â±ï SCOTT.ADDRESS ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- PROVINCE VARCHAR2(10) CITY VARCHAR2(10) STREET VARCHAR2(20)ÂèØËßÅaddressdetail ÁªßÊâø‰∫Üaddress ÁöÑprovince Âíåcity Â±ûÊÄß„ÄÇÂàõÂª∫Â∏¶ÊúâÊñπÊ≥ïÁöÑÂØπË±°Á±ªÂûãÂèØ‰ª•Âú®ÂÆö‰πâÂØπË±°Á±ªÂûãËßÑËåÉÁöÑÊó∂ÂÄôÂåÖÂê´ÂáΩÊï∞ÊàñËÄÖÂ≠òÂÇ®ËøáÁ®ãÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234567create [or replace] type type_name as object ( column_name data_type, ..., [ map|order ]member function method_name(args_list) return return_type, [ map|order ]member procedure pro_name(aggs_list), ...)ÂÖ∂‰∏≠map Êàñorder ÂÖ≥ÈîÆÂ≠óË°®Á§∫ÂØπÁªìÊûúËøõË°åÊéíÂ∫è„ÄÇÊØîÂ¶ÇÂàõÂª∫‰∏Ä‰∏™Â≠¶Áîü‰ø°ÊÅØÂØπË±°Á±ªÂûãstudentÔºö123456789SQL&gt; create or replace type student as object ( name varchar2(20), sex char(2), birthday date, member function get_age return number ); /Á±ªÂûãÂ∑≤ÂàõÂª∫„ÄÇÂáΩÊï∞get_age()Áî®‰∫éËøîÂõûÂ≠¶ÁîüÂπ¥ÈæÑ„ÄÇÊé•‰∏ãÊù•ÂàõÂª∫student ÂØπË±°‰∏ª‰ΩìÔºö1234567891011SQL&gt; create or replace type body student as member function get_age return number as var_age number; begin select floor(months_between(sysdate,birthday)/12) into var_age from dual; return var_age; end; end; /Á±ªÂûã‰∏ª‰ΩìÂ∑≤ÂàõÂª∫„ÄÇÂØπË±°Á±ªÂûãÁöÑÂ∫îÁî®ÂàõÂª∫ÂØπË±°Á±ªÂûãÂêéÔºåÂèØ‰ª•Âú®Êï∞ÊçÆÂ∫ì‰∏≠‰ΩøÁî®ÂØπË±°Á±ªÂûã„ÄÇ‰∏ÄËà¨Êù•ËØ¥Ê†πÊçÆ‰ΩøÁî®ÊÉÖÂÜµÁöÑ‰∏çÂêåÔºåÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ãÂõõÁßçÁ±ªÂûãÔºöÂàóÂØπË±°„ÄÅÂØπË±°Ë°®„ÄÅÂèØÂèòÊï∞ÁªÑ‰∏éÂµåÂ•óË°®„ÄÇÂàóÂØπË±°ÂàóÂØπË±°ÊåáÁöÑÊòØÊï∞ÊçÆË°®‰∏≠ÁöÑÂçï‰∏™ÂàóÁöÑÁ±ªÂûã‰∏∫ÂØπË±°Á±ªÂûã„ÄÇÂàõÂª∫ÂëòÂ∑•‰ø°ÊÅØË°®ÔºåÂÖ∂‰∏≠addressÂ±ûÊÄßÁ±ªÂûã‰∏∫‰∏äËø∞ÂÆö‰πâÁöÑaddressdetailÁ±ªÂûãÔºö12345678SQL&gt; create table empinfo ( eName varchar2(20), eSex char(2), eAge int, eAddress addressdetail );Ë°®Â∑≤ÂàõÂª∫„ÄÇÊü•ÁúãempinfoË°®ÁöÑÁªìÊûÑÔºö123456789101112SQL&gt; set desc depth 2SQL&gt; desc empinfo ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- ENAME VARCHAR2(20) ESEX CHAR(2) EAGE NUMBER(38) EADDRESS ADDRESSDETAIL ADDRESSDETAIL Êâ©Â±ï SCOTT.ADDRESS PROVINCE VARCHAR2(10) CITY VARCHAR2(10) STREET VARCHAR2(20)Âú®ÂæÄÂåÖÂê´ÂàóÂØπË±°ÁöÑÊï∞ÊçÆË°®ÊèíÂÖ•Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂè™ËÉΩ‰ΩøÁî®ÂØπË±°Á±ªÂûãÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºö123SQL&gt; insert into empinfo values('KangKang','M',25,addressdetail('Á¶èÂª∫','Á¶èÂ∑û','ÈºìÊ•ºÂå∫'));Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇÊü•ËØ¢studentË°®‰ø°ÊÅØÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûú‰ª•ÂØπË±°Á±ªÂûã‰∏≠ÁöÑÊüê‰∏™Â±ûÊÄß‰∏∫Êü•ËØ¢Êù°‰ª∂Êó∂ÔºåÂøÖÈ°ª‰ΩøÁî®Ë°®ÁöÑÂà´ÂêçÁöÑÂΩ¢ÂºèÔºåÊØîÂ¶ÇÔºö1234567891011SQL&gt; select * from empinfo where eAddress.city='Á¶èÂ∑û';select * from empinfo where eAddress.city='Á¶èÂ∑û' *Á¨¨ 1 Ë°åÂá∫Áé∞ÈîôËØØ:ORA-00904: "EADDRESS"."CITY": Ê†áËØÜÁ¨¶Êó†ÊïàSQL&gt; select * from empinfo e where e.eAddress.city='Á¶èÂ∑û';ENAME ES EAGE EADDRESS(PROVINCE, CITY, STREET)-------------------- -- ---------- ----------------------------------------KangKang M 25 ADDRESSDETAIL('Á¶èÂª∫', 'Á¶èÂ∑û', 'ÈºìÊ•ºÂå∫')Êõ¥Êñ∞ÂåÖÂê´‰∏§ÁßçÊñπÂºèÔºöÊï¥‰ΩìÊõ¥Êñ∞ÂíåÂè™Êõ¥ÂàóÂØπË±°ÁöÑÊüê‰∏ÄÂàó„ÄÇ1.Êõ¥Êñ∞Êï¥‰ΩìÔºö123 SQL&gt; update empinfo e set e.eAddress = addressdetail('Á¶èÂª∫','Á¶èÂ∑û','Âè∞Ê±üÂå∫');Â∑≤Êõ¥Êñ∞ 1 Ë°å„ÄÇ2.Êõ¥Êñ∞ÂàóÂØπË±°ÁöÑÊüê‰∏ÄÂàóÔºö123SQL&gt; update empinfo e set e.eAddress.city='Âé¶Èó®' where e.eName='KangKang';Â∑≤Êõ¥Êñ∞ 1 Ë°å„ÄÇÂØπË±°Ë°®Â¶ÇÊûúÈúÄË¶Å‰ΩøÁî®ÂØπË±°Á±ªÂûãÊù•ÂÆö‰πâÊï¥‰∏™Ë°®ÔºåÈÇ£‰πàÂèØ‰ª•Â∞ÜËøô‰∏™Ë°®ÂàõÂª∫‰∏∫ÂØπË±°Ë°®ÔºåÂØπË±°Ë°®‰∏≠ÁöÑÊØè‰∏ÄÁªÑÊï∞ÊçÆÈÉΩÊòØ‰∏Ä‰∏™ÂØπË±°„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1create table table_name of type_name;ÂàõÂª∫‰∏Ä‰∏™‰∏äËø∞ÂÆö‰πâÁöÑstudent ÂØπË±°Ë°®Ôºö12345678910SQL&gt; create table studentinfo of student;Ë°®Â∑≤ÂàõÂª∫„ÄÇSQL&gt; desc studentinfo ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- NAME VARCHAR2(20) SEX CHAR(2) BIRTHDAY DATEÂêëÂØπË±°Ë°®ÊèíÂÖ•Êï∞ÊçÆÊúâ‰∏§ÁßçÊñπÂºèÔºöÂΩìÊôÆÈÄöË°®ÊèíÂÖ•Âíå‰ΩøÁî®ÊûÑÈÄ†ÊñπÊ≥ïÊèíÂÖ•Ôºö1.ÂΩìÊôÆÈÄöË°®ÊèíÂÖ•Ôºö123SQL&gt; insert into studentinfo values('KangKang','M',to_date('19920314','yyyyMMdd'));Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇ2.‰ΩøÁî®ÊûÑÈÄ†ÊñπÊ≥ïÊèíÂÖ•Ôºö123SQL&gt; insert into studentinfo values(student('Jane','F',to_date('19930905','yyyyMMdd')));Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇÊü•ËØ¢Êï∞ÊçÆÂíåÊü•ËØ¢ÊôÆÈÄöË°®Ê≤°ÊúâÂå∫Âà´„ÄÇÂõ†‰∏∫studentÂØπË±°ÂåÖÂê´‰∫Üget_age()ÂáΩÊï∞ÔºåËøôÈáåÊºîÁ§∫ËØ•ÂáΩÊï∞ÁöÑ‰ΩøÁî®Ôºö123456SQL&gt; select s.name,s.birthday,s.get_age() age from studentinfo s;NAME BIRTHDAY AGE-------------------- -------------- ----------KangKang 14-3Êúà -92 25Jane 05-9Êúà -93 24ÂØπË±°Ê†áËØÜÁ¨¶ÂíåÂØπË±°ÂºïÁî®ÂØπË±°Ë°®‰∏≠ÁöÑÊØè‰∏™ÂØπË±°ÈÉΩÂÖ∑Êúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÂØπË±°Ê†áËØÜÁ¨¶ÔºàObject IdentifierÔºåOIDÔºâÔºåÂèØ‰ª•Â≠òÂÇ®Âú®Âêç‰∏∫ref ÁöÑÂàó‰∏≠Ôºö1234567891011SQL&gt; col ref for a60SQL&gt; set linesize 120SQL&gt; select s.name,ref(s) ref from studentinfo s;NAME REF-------------------- ------------------------------------------------------------KangKang 00002802093C3B2A8DC8BD4ED991B4D78B90B44F1A293F80C3178D48158B B3E126560AE7120100023F0000Jane 0000280209E237A8A6E6A844AE87A66B0F284E7231293F80C3178D48158B B3E126560AE7120100023F0001ÈÇ£‰∏™‰∏ÄÂ§ß‰∏≤ÁöÑÂ≠óÁ¨¶‰æøÊòØOID„ÄÇÂØπË±°ÁöÑÂºïÁî®‰ΩøÁî®ref ÂÖ≥ÈîÆÂ≠óÊù•ÂÆåÊàêÔºåÂºïÁî®ÁöÑÂÄºÂÆûÈôÖ‰∏ä‰∏∫ÂØπË±°Ë°®‰∏≠ÁöÑOID„ÄÇÊØîÂ¶ÇÂàõÂª∫‰∏Ä‰∏™ÊàêÁª©Ë°®ÔºåÂÖ∂‰∏≠stu Â±ûÊÄß‰∏∫studentinfo ÂØπË±°Ë°®‰∏≠ÂØπË±°ÁöÑÂºïÁî®Ôºö123456SQL&gt; create table stuScore ( stu ref student, score number );Ë°®Â∑≤ÂàõÂª∫„ÄÇÂæÄËØ•Ë°®ÊèíÂÖ•‰ø°ÊÅØÔºö123456SQL&gt; insert into stuScore select ref(s),98 from studentinfo s where s.name='KangKang';Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇSQL&gt; insert into stuScore select ref(s),100 from studentinfo s where s.name='Jane';Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇref(s)ÂèØ‰ª•Ëé∑ÂèñÂØπÂΩìÂâçÂØπË±°Ë°®‰∏≠ÂØπË±°ÁöÑOID„ÄÇÊü•ËØ¢Ôºö12345678910SQL&gt; col stu for a60SQL&gt; select stu,score from stuScore;STU SCORE------------------------------------------------------------ ----------00002202083C3B2A8DC8BD4ED991B4D78B90B44F1A293F80C3178D48158B 98B3E126560AE7120000220208E237A8A6E6A844AE87A66B0F284E7231293F80C3178D48158B 100B3E126560AE712ËøôÈáåËôΩÁÑ∂ÂÖ≥ËÅî‰∫ÜÂ≠¶Áîü‰ø°ÊÅØË°®studentinfoÔºå‰ΩÜÊòØÈªòËÆ§Êü•ËØ¢Âá∫Êù•stu ÁöÑÂÄº‰∏∫OIDÔºåÂ¶ÇÊûúÈúÄË¶ÅÊü•ÁúãËØ¶ÁªÜÁöÑÂ≠¶Áîü‰ø°ÊÅØÔºåÂèØ‰ª•‰ΩøÁî®deref()ÂáΩÊï∞Ôºö123456SQL&gt; select deref(stu) stu,score from stuScore;STU(NAME, SEX, BIRTHDAY) SCORE------------------------------------------------------------ ----------STUDENT('KangKang', 'M ', '14-3Êúà -92') 98STUDENT('Jane', 'F ', '05-9Êúà -93') 100‰ΩøÁî®‰∏ãÈù¢ÁöÑÊñπÊ≥ï‰πüÂèØ‰ª•Êü•ËØ¢Âá∫ÂÖ≥ËÅî‰ø°ÊÅØÔºö123456SQL&gt; select s.stu.name,s.stu.birthday,s.stu.get_age(),s.score from stuScore s;STU.NAME STU.BIRTHDAY S.STU.GET_AGE() SCORE-------------------- -------------- --------------- ----------KangKang 14-3Êúà -92 25 98Jane 05-9Êúà -93 24 100ÂèØÂèòÊï∞ÁªÑOralce‰∏≠ÁöÑÂèØÂèòÊï∞ÁªÑÂ∞±ÊòØ‰∏Ä‰∏™ÂèØ‰ª•Â≠òÂÇ®Â§ö‰∏™ÂÄºÁöÑÊúâÊúÄÂ§ßÈïøÂ∫¶ÁöÑÊï∞ÁªÑÔºåÊï∞ÁªÑÁöÑÊàêÂëòÂèØ‰ª•ÊòØ‰ªªÊÑèÁ±ªÂûã„ÄÇÂàõÂª∫‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫10ÁöÑÂèØÂèòÊï∞ÁªÑÔºåÂ≠òÊîæÊï∞ÊçÆÁ±ªÂûãÊòØscoreType1234567891011SQL&gt; create or replace type scoreType as object ( subName varchar2(10), score int ); /Á±ªÂûãÂ∑≤ÂàõÂª∫„ÄÇSQL&gt; create or replace type arrScoreType as varray(10) of scoreType; /Á±ªÂûãÂ∑≤ÂàõÂª∫„ÄÇÂàõÂª∫‰∏Ä‰∏™Â≠¶Áîü‰ø°ÊÅØË°®Ôºö123456SQL&gt; create table stuInfo ( stuId int primary key, score arrScoreType );Ë°®Â∑≤ÂàõÂª∫„ÄÇ‰ΩøÁî®ÂèØÂèòÊï∞ÁªÑÁöÑÊûÑÈÄ†ÂáΩÊï∞ÂæÄstuInfo Ë°®ÊèíÂÖ•Êï∞ÊçÆÔºö123456789SQL&gt; insert into stuInfo values(1, arrScoreType(scoreType('sql', 50), scoreType('C#', 80), scoreType('java', 90)));Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇSQL&gt; insert into stuInfo values(2, arrScoreType(scoreType('sql', 60), scoreType('C#', 85), scoreType('java', 95), scoreType('html', 60)));Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇÁõ¥Êé•Êü•ËØ¢stuInfo Ë°®Êï∞ÊçÆÔºö1234567SQL&gt; col score for a100SQL&gt; select stuid, score from stuInfo; STUID SCORE(SUBNAME, SCORE)---------- ---------------------------------------------------------------------------------------------------- 1 ARRSCORETYPE(SCORETYPE('sql', 50), SCORETYPE('C#', 80), SCORETYPE('java', 90)) 2 ARRSCORETYPE(SCORETYPE('sql', 60), SCORETYPE('C#', 85), SCORETYPE('java', 95), SCORETYPE('html', 60))Êü•ËØ¢ÁªìÊûúÊòØÈõÜÂêà„ÄÇÂ¶Ç‰ΩïÊâçËÉΩÊü•ËØ¢Âá∫ÂèØÂèòÊï∞ÁªÑÈáåÁöÑÊï∞ÊçÆÂë¢ÔºüÊÄùË∑ØÊòØÔºöÁî®tableÂáΩÊï∞ÊääÈõÜÂêàËΩ¨Âåñ‰∏∫Ë°®ÔºåÁÑ∂ÂêéÂÜç‰ªéËøô‰∏™Ë°®Êü•ËØ¢Êï∞ÊçÆÔºö12345678910111213SQL&gt; select s.stuid,t.* from stuinfo s,table(select score from stuinfo where stuid = s.stuid) t; STUID SUBNAME SCORE---------- ---------- ---------- 1 sql 50 1 C# 80 1 java 90 2 sql 60 2 C# 85 2 java 95 2 html 60Â∑≤ÈÄâÊã©7Ë°å„ÄÇtableÂáΩÊï∞ÈáåÈù¢Âè™ËÉΩÊòØ‰∏Ä‰∏™ÂèØÂèòÊï∞ÁªÑÊàñÂµåÂ•óË°®„ÄÇÊõ¥Êñ∞ÂÄº„ÄÇÊõ¥Êñ∞stuinfoÂè™ËÉΩÊï¥‰∏™ÂèØÂèòÊï∞ÁªÑ‰∏ÄËµ∑Êõ¥Êñ∞Ôºå‰∏çËÉΩÂè™Êõ¥Êñ∞Êï∞ÁªÑÁöÑÊüê‰∏™ÂÖÉÁ¥†Ôºö123update stuInfo set score = arrScoreType(scoreType('sql', 50), scoreType('C#', 80)) where stuId = 1;Â∑≤Êõ¥Êñ∞ 1 Ë°å„ÄÇÂµåÂ•óË°®ÂàõÂª∫‰∏Ä‰∏™ÂµåÂ•óË°®Á±ªÂûãÔºåÁ±ªÂûã‰∏∫scoreTypeÔºö1234SQL&gt; create or replace type nestTableType is table of scoreType; /Á±ªÂûãÂ∑≤ÂàõÂª∫„ÄÇÊé•ÁùÄÂàõÂª∫ÂåÖÂê´ÂµåÂ•óË°®ÁöÑÂ≠¶Áîü‰ø°ÊÅØË°®Ôºö123456SQL&gt; create table stuInfo ( stuid int, score nestTableType ) nested table score store as nestTable;Ë°®Â∑≤ÂàõÂª∫„ÄÇnested table score store as nestTableÊÑèÊÄùÊòØÔºöstuInfoËøô‰∏™Ë°®‰∏≠ÁöÑscoreËøô‰∏ÄÂàóÊòØÂµåÂ•óË°®Á±ªÂûãÔºåÂµåÂ•óË°®ÂÆûÈôÖÊòØÂ≠òÂú®nestTableËøô‰∏™Ë°®‰∏≠„ÄÇÊèíÂÖ•ÂÄºÁöÑÊñπÂºèÂíåÂèØÂèòÊï∞ÁªÑ‰∏ÄÊ†∑Ôºö123SQL&gt; insert into stuInfo values(3, nestTableType(scoreType('sql', 70), scoreType('java', 93)));Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇÊü•ËØ¢ÊñπÂºè‰πüÂíåÂèØÂèòÊï∞ÁªÑ‰∏ÄÊ†∑Ôºö123456SQL&gt; select s.stuid,t.* from stuinfo s,table(select score from stuinfo where stuid = s.stuid) t; STUID SUBNAME SCORE---------- ---------- ---------- 3 sql 70 3 java 93ÂµåÂ•óË°®Êõ¥Êñ∞ÂíåÂèØÂèòÊï∞ÁªÑ‰∏ç‰∏ÄÊ†∑ÔºåÂµåÂ•óË°®Êõ¥Êñ∞ÂèØ‰ª•Âè™Êõ¥Êñ∞ÈÉ®ÂàÜÊï∞ÊçÆÔºö123SQL&gt; update table(select score from stuinfo where stuid = 3) t set t.score = 80 where t.subname = 'sql';Â∑≤Êõ¥Êñ∞ 1 Ë°å„ÄÇÂèØÂèòÊï∞ÁªÑÂíåÂµåÂ•óË°®ÁöÑÂºÇÂêåÔºöÁõ∏ÂêåÁÇπÔºöÈÉΩÊòØÂØπË±°Á±ªÂûãÔºõÈÉΩÂèØ‰ª•‰Ωú‰∏∫Ë°®‰∏≠ÊüêÂàóÁöÑÊï∞ÊçÆÁ±ªÂûãÔºàrecordÂíåÂø´Ë°®ÊòØ‰∏çËÉΩ‰Ωú‰∏∫ÂàóÁöÑÊï∞ÊçÆÁ±ªÂûãÁöÑÔºâ„ÄÇ‰∏çÂêåÁÇπÔºöÂèØÂèòÊï∞ÁªÑÊú¨Ë∫´Â∞±Â≠òÊîæÂú®ÂéüË°®‰∏≠ÔºåËÄåÂµåÂ•óË°®Â≠òÊîæÂú®Âè¶Â§ñÁöÑË°®‰∏≠ÔºõÂèØÂèòÊï∞ÁªÑÊúâÂ§ßÂ∞èÈôêÂà∂ÔºåËÄåÂµåÂ•óË°®Ê≤°ÊúâÔºõÂèØÂèòÊï∞ÁªÑÊõ¥Êñ∞Êó∂ÂøÖÈ°ªÊõ¥Êñ∞Êï¥‰∏™ÂèØÂèòÊï∞ÁªÑÔºåËÄåÂµåÂ•óË°®Êõ¥Êñ∞Êó∂ÂèØ‰ª•Âè™Êõ¥Êñ∞ÂµåÂ•óË°®‰∏≠ÁöÑÈÉ®ÂàÜËÆ∞ÂΩï„ÄÇÂèÇËÄÉËá™https://my.oschina.net/u/2273582/blog/493931]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OracleÁ®ãÂ∫èÂåÖ]]></title>
    <url>%2FOracle%E7%A8%8B%E5%BA%8F%E5%8C%85.html</url>
    <content type="text"><![CDATA[Á®ãÂ∫èÂåÖÁî±PL/SQL Á®ãÂ∫èÂÖÉÁ¥†ÔºàÂ¶ÇÂèòÈáè„ÄÅÁ±ªÂûãÔºâÂíåÂåøÂêçPL/SQL ÂùóÔºàÂ¶ÇÊ∏∏Ê†áÔºâ„ÄÅÂëΩÂêçPL/SQL ÂùóÔºàÂ¶ÇÂ≠òÂÇ®ËøáÁ®ãÂíåÂáΩÊï∞ÔºâÁªÑÊàê„ÄÇ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁ®ãÂ∫èÂåÖÂåÖÂê´Á®ãÂ∫èÂåÖËßÑËåÉÂíåÁ®ãÂ∫èÂåÖ‰∏ª‰ΩìÔºåÁ®ãÂ∫èÂåÖËßÑËåÉÁî®‰∫éËßÑÂÆöÂú®Á®ãÂ∫èÂåÖ‰∏≠ÂèØ‰ª•‰ΩøÁî®Âì™‰∫õÂèòÈáè„ÄÅÁ±ªÂûã„ÄÅÊ∏∏Ê†áÂíåÂ≠êÁ®ãÂ∫èÔºàÂè™ÂåÖÂê´ÂêçÁß∞Ê≤°ÊúâÂÖ∑‰ΩìÂÆûÁé∞ÔºâÔºõÁ®ãÂ∫èÂåÖÁöÑ‰∏ª‰ΩìÂåÖÂê´‰∫ÜÂú®ËßÑËåÉ‰∏≠Â£∞ÊòéÁöÑÊ∏∏Ê†á„ÄÅËøáÁ®ãÂíåÂáΩÊï∞ÁöÑÂÆûÁé∞‰ª£Á†Å„ÄÇËøô‰∏™ËøáÁ®ãÁ±ª‰ºº‰∫éÂú®Java‰∏≠ÂÆö‰πâ‰∏Ä‰∏™ÂåÖÂê´ÊäΩË±°ÊñπÊ≥ïÁöÑÊé•Âè£ÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ËØ•Êé•Âè£ÁöÑÂÆûÁé∞Á±ª„ÄÇÁ®ãÂ∫èÂåÖÁöÑËßÑËåÉÁ®ãÂ∫èÂåÖÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234567create [or replace ] package pack_name is [declare_variable]; [declare_type]; [declare_cursor]; [declare_function]; [declare_ procedure];end [pack_name];ÊØîÂ¶ÇÂàõÂª∫‰∏Ä‰∏™Á®ãÂ∫èÂåÖËßÑËåÉÔºåÂπ∂Â£∞Êòé‰∏Ä‰∏™Ëé∑ÂèñÊåáÂÆöÈÉ®Èó®Âπ≥ÂùáÂ∑•ËµÑÂáΩÊï∞Âíå‰∏Ä‰∏™ÊèêÈ´òÊåáÂÆöÈÉ®Èó®ÊåáÂÆöÁôæÂàÜÊØîÂ∑•ËµÑÁöÑÂ≠òÂÇ®ËøáÁ®ãÔºö1234567SQL&gt; create or replace package pack_test is function avg_sal(var_deptno number) return number; procedure rise_sal(var_job varchar2,percent number); end; /Á®ãÂ∫èÂåÖÂ∑≤ÂàõÂª∫„ÄÇÂú®‚ÄúËßÑËåÉ‚Äù‰∏≠Â£∞ÊòéÁöÑÂáΩÊï∞ÂíåÂ≠òÂÇ®ËøáÁ®ãÂè™ÊúâÂ§¥ÈÉ®ÁöÑÂ£∞ÊòéÔºåËÄåÊ≤°ÊúâÂáΩÊï∞‰ΩìÂíåÂ≠òÂÇ®ËøáÁ®ã‰∏ª‰Ωì„ÄÇÁ®ãÂ∫èÂåÖ‰∏ª‰ΩìÁ®ãÂ∫èÂåÖÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234567891011121314151617create [or replace] package body pack_name is [inner_variable] [cursor_body] [function_title] &#123;begin fun_plsql; [exception] [dowith _ sentences;] end [fun_name]&#125; [procedure_title] &#123;begin pro_plsql; [exception] [dowith _ sentences;] end [pro_name]&#125; ‚Ä¶end [pack_name];ÂàõÂª∫pack_testÁöÑ‰∏ª‰ΩìÔºö1234567891011121314151617181920SQL&gt; create or replace package body pack_test is function avg_sal(var_deptno number) return number is //ÂáΩÊï∞ÂÆûÁé∞ num_avg_sal number; begin select avg(sal) into num_avg_sal from emp where deptno = var_deptno; return num_avg_sal; exception when no_data_found then dbms_output.put_line('Ê≤°ÊúâËØ•ÈÉ®Èó®'); return 0; end; procedure rise_sal(var_job varchar2,percent number) is //Â≠òÂÇ®ËøáÁ®ãÂÆûÁé∞ begin update emp set sal=sal*(1+percent) where job = var_job; end; end; /Á®ãÂ∫èÂåÖ‰ΩìÂ∑≤ÂàõÂª∫„ÄÇÂú®PL/SQL‰ª£Á†ÅÂùó‰∏≠Ë∞ÉÁî®Á®ãÂ∫èÂåÖÁöÑavg_salÂáΩÊï∞Âíårise_salÂ≠òÂÇ®ËøáÁ®ãÔºö123456789101112SQL&gt; set serveroutput onSQL&gt; declare num_avg_sal number; begin num_avg_sal:=pack_test.avg_sal(10); dbms_output.put_line('10Âè∑ÈÉ®Èó®ÁöÑÂπ≥ÂùáÂ∑•ËµÑ‰∏∫Ôºö'||num_avg_sal); pack_test.rise_sal('SALESMAN',0.2); end; /10Âè∑ÈÉ®Èó®ÁöÑÂπ≥ÂùáÂ∑•ËµÑ‰∏∫Ôºö2916.666666666666666666666666666666666667PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇ]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OracleËß¶ÂèëÂô®]]></title>
    <url>%2FOracle%E8%A7%A6%E5%8F%91%E5%99%A8.html</url>
    <content type="text"><![CDATA[Ëß¶ÂèëÂô®ÂèØ‰ª•ÁúãÂÅö‰∏ÄÁßç‚ÄúÁâπÊÆä‚ÄùÁöÑÂ≠òÂÇ®ËøáÁ®ãÔºåÁî±‚ÄúËß¶Âèë‰∫ã‰ª∂‚ÄùËß¶Âèë„ÄÇÊâÄË∞ìÁöÑ‚ÄúËß¶Âèë‰∫ã‰ª∂‚ÄùÊåáËÉΩÂ§üÂºïËµ∑Ëß¶ÂèëÂô®ËøêË°åÁöÑÊìç‰ΩúÔºåÂåÖÊã¨Ôºö1.ÊâßË°åDML ËØ≠Âè•Ôºà‰ΩøÁî®INSERT„ÄÅUPDATE„ÄÅDELETE ËØ≠Âè•ÂØπË°®ÊàñËßÜÂõæÊâßË°åÊï∞ÊçÆÂ§ÑÁêÜÊìç‰ΩúÔºâÔºõ2.ÊâßË°åDDLËØ≠Âè•Ôºà‰ΩøÁî®CREATE„ÄÅALTER„ÄÅDROPËØ≠Âè•Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÂàõÂª∫„ÄÅ‰øÆÊîπ„ÄÅÂà†Èô§Ê®°ÂºèÂØπË±°ÔºâÔºõ3.ÂºïÂèëÊï∞ÊçÆÂ∫ìÁ≥ªÁªü‰∫ã‰ª∂ÔºàÂ¶ÇÁ≥ªÁªüÂêØÂä®ÊàñÈÄÄÂá∫„ÄÅ‰∫ßÁîüÂºÇÂ∏∏ÈîôËØØÁ≠âÔºâÔºõ4.ÂºïÂèëÁî®Êà∑‰∫ã‰ª∂ÔºàÂ¶ÇÁôªÂΩïÊàñÈÄÄÂá∫Êï∞ÊçÆÂ∫ìÊìç‰ΩúÔºâ„ÄÇ Ëß¶ÂèëÂô®ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234567create [or replace] trigger tri_name [before | after | instead of] tri_event on table_name | view_name | user_name | db_name [for each row] [when tri_condition]begin plsql_sentences;end tri_name;before | after | instead ofÔºöË°®Á§∫‚ÄúËß¶ÂèëÊó∂Êú∫‚ÄùÁöÑÂÖ≥ÈîÆÂ≠ó„ÄÇbefore Ë°®Á§∫Âú®ÊâßË°åDML Á≠âÊìç‰Ωú‰πãÂâçËß¶ÂèëÔºõafter Ë°®Á§∫Âú®DMLÁ≠âÊìç‰Ωú‰πãÂêéÂèëÁîüÔºõinstead of Ë°®Á§∫Ëß¶ÂèëÂô®‰∏∫ Êõø‰ª£Ëß¶ÂèëÂô®„ÄÇonÔºöË°®Á§∫Êìç‰ΩúÁöÑÊï∞ÊçÆË°®„ÄÅËßÜÂõæ„ÄÅÁî®Êà∑Ê®°ÂºèÂíåÊï∞ÊçÆÂ∫ìÁ≠âÔºåÂØπÂÆÉ‰ª¨ÊâßË°åÊüêÁßçÊï∞ÊçÆÊìç‰ΩúÔºàÊØîÂ¶ÇÂØπË°®ÊâßË°åINSERT„ÄÅALTER„ÄÅDROP Á≠âÊìç‰ΩúÔºâÔºåÂ∞ÜÂºïËµ∑Ëß¶ÂèëÂô®ÁöÑËøêË°å„ÄÇfor each rowÔºöÊåáÂÆöËß¶ÂèëÂô®‰∏∫Ë°åÁ∫ßËß¶ÂèëÂô®ÔºåÂΩìDMLËØ≠Âè•ÂØπÊØè‰∏ÄË°åÊï∞ÊçÆËøõË°åÊìç‰ΩúÊó∂ÈÉΩ‰ºöÂºïËµ∑ËØ•Ëß¶ÂèëÂô®ÁöÑËøêË°å„ÄÇÂ¶ÇÊûúÊú™ÊåáÂÆöËØ•Êù°‰ª∂ÔºåÂàôË°®Á§∫ÂàõÂª∫ËØ≠Âè•Á∫ßËß¶ÂèëÂô®ÔºåËøôÊó∂Êó†ËÆ∫Êï∞ÊçÆÊìç‰ΩúÂΩ±ÂìçÂ§öÂ∞ëË°åÔºåËß¶ÂèëÂô®ÈÉΩÂè™‰ºöÊâßË°å‰∏ÄÊ¨°„ÄÇtri_conditionÔºöË°®Á§∫Ëß¶ÂèëÊù°‰ª∂Ë°®ËææÂºè„ÄÇÊ†πÊçÆËß¶ÂèëÂô®ÁöÑËß¶Âèë‰∫ã‰ª∂ÂíåËß¶ÂèëÂô®ÁöÑÊâßË°åÊÉÖÂÜµÔºåÂ∞ÜOracle ÊâÄÊîØÊåÅÁöÑËß¶ÂèëÂô®ÂàÜ‰∏∫‰ª•‰∏ã4 ÁßçÁ±ªÂûãÔºöËØ≠Âè•Á∫ßËß¶ÂèëÂô®ËØ≠Âè•Á∫ßËß¶ÂèëÂô®ÔºåÂ∞±ÊòØÈíàÂØπ‰∏ÄÊù°DML ËØ≠Âè•ËÄåÂºïËµ∑ÁöÑËß¶ÂèëÂô®ÊâßË°å„ÄÇÂú®ËØ≠Âè•Á∫ßËß¶ÂèëÂô®‰∏≠Ôºå‰∏ç‰ΩøÁî®for each row Â≠êÂè•Ôºå‰πüÂ∞±ÊòØËØ¥Êó†ËÆ∫Êï∞ÊçÆÊìç‰ΩúÂΩ±ÂìçÂ§öÂ∞ëË°åÔºåËß¶ÂèëÂô®ÈÉΩÂè™‰ºöÊâßË°å‰∏ÄÊ¨°„ÄÇÊØîÂ¶ÇËÆæËÆ°‰∏Ä‰∏™Ëß¶ÂèëÂô®ÔºåÁî®‰∫éËÆ∞ÂΩïÂØπsoctt.deptË°®ÁöÑÂ¢ûÂà†ÊîπÊü•Êìç‰ΩúÔºö1.ÂàõÂª∫dept_log Êï∞ÊçÆË°®ÔºåÁî®‰∫éËÆ∞ÂΩïÊìç‰ΩúÁ±ªÂûãÂíåÊó∂Èó¥Ôºö123456SQL&gt; create table dept_log( operate_tag varchar2(10), operate_time date );Ë°®Â∑≤ÂàõÂª∫„ÄÇ2.ÂàõÂª∫‰∏Ä‰∏™ÂÖ≥‰∫édept Ë°®ÁöÑËØ≠Âè•Á∫ßËß¶ÂèëÂô®ÔºåÂ∞ÜÁî®Êà∑ÂØπdept Ë°®ÁöÑÊìç‰Ωú‰ø°ÊÅØ‰øùÂ≠òÂà∞dept_log Ë°®‰∏≠Ôºö123456789101112131415161718SQL&gt; create or replace trigger tir_dept before insert or update or delete on dept declare var_tag varchar2(10); begin if inserting then var_tag:='insert'; elsif updating then var_tag:='update'; elsif deleting then var_tag:='delete'; end if; insert into dept_log values(var_tag,sysdate); end; /Ëß¶ÂèëÂô®Â∑≤ÂàõÂª∫Áî®Êà∑ÁîöËá≥ËøòÂèØ‰ª•Âú®ÂÖ∂‰∏≠Âà§Êñ≠ÁâπÂÆöÂàóÊòØÂê¶Ë¢´Êõ¥Êñ∞„ÄÇ‰æãÂ¶ÇÔºåË¶ÅÂà§Êñ≠Áî®Êà∑ÊòØÂê¶ÂØπdept Ë°®‰∏≠dname ÂàóËøõË°å‰∫Ü‰øÆÊîπÔºåÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑËØ≠Âè•Ôºö123if updating(dname) then //Ëã•‰øÆÊîπ‰∫Üdept Ë°®‰∏≠ÁöÑdname Âàó do something about update dnameend if;3.ÊâßË°åDML ËØ≠Âè•Êù•Ëß¶Âèëtri_deptÔºö123456789SQL&gt; delete from dept where deptno = 90;Â∑≤Âà†Èô§ 1 Ë°å„ÄÇSQL&gt; insert into dept values(90,'Ê∏ÖÁÆóÈ£éÊéßÈÉ®Èó®','Á¶èÂ∑û');Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇSQL&gt; update dept set loc='Âé¶Èó®' where deptno = 90;Â∑≤Êõ¥Êñ∞ 1 Ë°å„ÄÇ4.Âà∞dept_log Ë°®‰∏≠Êü•ÁúãÊó•Âøó‰ø°ÊÅØÔºö1234567SQL&gt; select * from dept_log;OPERATE_TA OPERATE_TIME---------- --------------delete 13-11Êúà-17insert 13-11Êúà-17update 13-11Êúà-17Ë°åÁ∫ßËß¶ÂèëÂô®Ë°åÁ∫ßËß¶ÂèëÂô®‰ºöÈíàÂØπDML Êìç‰ΩúÊâÄÂΩ±ÂìçÁöÑÊØè‰∏ÄË°åÊï∞ÊçÆÈÉΩÊâßË°å‰∏ÄÊ¨°Ëß¶ÂèëÂô®„ÄÇÂàõÂª∫ËøôÁßçËß¶ÂèëÂô®Êó∂ÔºåÂøÖÈ°ªÂú®ËØ≠Ê≥ï‰∏≠‰ΩøÁî®for each row„ÄÇ‰ΩøÁî®Ë°åÁ∫ßËß¶ÂèëÂô®ÁöÑ‰∏Ä‰∏™ÂÖ∏ÂûãÂ∫îÁî®Â∞±ÊòØÁªôÊï∞ÊçÆË°®ÁîüÊàê‰∏ªÈîÆÂÄº„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö1.ÂàõÂª∫‰∏Ä‰∏™Áî®‰∫éÂ≠òÂÇ®ÂïÜÂìÅÁßçÁ±ªÁöÑÊï∞ÊçÆË°®ÔºåÂÖ∂‰∏≠ÂåÖÊã¨ÂïÜÂìÅÂ∫èÂè∑ÂàóÂíåÂïÜÂìÅÂêçÁß∞ÂàóÔºåÂÖ∂‰∏≠ÂïÜÂìÅÂ∫èÂè∑‰∏∫‰∏ªÈîÆÔºö123456SQL&gt; create table goods( id int not null primary key, good_name varchar2(50) );Ë°®Â∑≤ÂàõÂª∫„ÄÇ2.‰∏∫‰∏ªÈîÆÂàõÂª∫‰∏Ä‰∏™Â∫èÂàóÔºö123SQL&gt; create sequence seq_goods_id;Â∫èÂàóÂ∑≤ÂàõÂª∫„ÄÇ3.ÂàõÂª∫‰∏Ä‰∏™Ëß¶ÂèëÂô®ÔºåÁî®‰∫éËá™Âä®‰∏∫goods Ë°®ÁöÑid ÂàóËµãÂÄºÔºö12345678910SQL&gt; create or replace trigger tri_save_good before insert on goods for each row begin select seq_goods_id.nextval into :new.id from dual; end; /Ëß¶ÂèëÂô®Â∑≤ÂàõÂª∫ËøôÈáå‰ΩøÁî®‰∫Ü:new.idÂÖ≥ÈîÆÂ≠ó‚Äî‚ÄîÂàóÊ†áËØÜÁ¨¶ÔºåËøô‰∏™ÂàóÊ†áËØÜÁ¨¶Áî®Êù•ÊåáÂêëÊñ∞Ë°åÁöÑid ÂàóÔºåÁªôÂÆÉËµãÂÄº„ÄÇÂàóÊ†áËØÜÁ¨¶ÂèØ‰ª•ÂàÜ‰∏∫ÂéüÂÄºÊ†áËØÜÁ¨¶ÂíåÊñ∞ÂÄºÊ†áËØÜÁ¨¶ÔºöÂéüÂÄºÊ†áËØÜÁ¨¶Áî®‰∫éÊ†áËØÜÂΩìÂâçË°åÊüê‰∏™ÂàóÁöÑÂéüÂßãÂÄºÔºåËÆ∞‰Ωú:old.column_nameÔºàÂ¶ÇÔºå:old.idÔºâÔºåÈÄöÂ∏∏Âú®update ËØ≠Âè•Âíådelete ËØ≠Âè•‰∏≠‰ΩøÁî®ÔºõÊñ∞ÂÄºÊ†áËØÜÁ¨¶Áî®‰∫éÊ†áËØÜÂΩìÂâçË°åÊüê‰∏™ÂàóÁöÑÊñ∞ÂÄºÔºåËÆ∞‰Ωú:new.column_nameÔºàÂ¶ÇÔºå:new.idÔºâÔºåÈÄöÂ∏∏Âú®insert ËØ≠Âè•Âíåupdate ËØ≠Âè•‰∏≠‰ΩøÁî®„ÄÇ4.Âêë goods Ë°®‰∏≠ÊèíÂÖ•‰∏§Êù°ËÆ∞ÂΩïÔºåÂÖ∂‰∏≠‰∏ÄÊù°ËÆ∞ÂΩï‰∏çÊåáÂÆöid ÂàóÁöÑÂÄºÔºåÁî±Â∫èÂàóseq_goods_id Êù•‰∫ßÁîüÔºõÂè¶‰∏ÄÊù°ËÆ∞ÂΩïÊåáÂÆöid ÁöÑÂÄºÔºö123456SQL&gt; insert into goods(good_name) values('apple');Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇSQL&gt; insert into goods(id,good_name) values(100,'banana');Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇ5.Êü•ÁúãgoodsË°®ÁªìÊûúÔºö123456SQL&gt; select * from goods; ID GOOD_NAME---------- ---------------------- 1 apple 2 bananaÂèØËßÅÊâãÂä®ÊåáÂÆöÁöÑidÂÄºÔºà100ÔºâÊó†Ê≥ïË¶ÜÁõñËß¶ÂèëÂô®‰∏≠ÊåáÂÆöÁöÑseq_goods_id.nextvalÂÄº„ÄÇÊõøÊç¢Ëß¶ÂèëÂô®ÊõøÊç¢Ëß¶ÂèëÂô®‚Äî‚Äîinstead of Ëß¶ÂèëÂô®ÊòØÂÆö‰πâÂú®ËßÜÂõæview‰∏äÁöÑ„ÄÇOracle‰∏≠‰∏ÄËà¨‰∏çËÆ©Áõ¥Êé•ÂØπËßÜÂõæËøõË°åDMLÊìç‰ΩúÔºå‰ΩÜÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÊõøÊç¢Ëß¶ÂèëÂô®Êù•ÂÆûÁé∞„ÄÇ1.ÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´deptË°®ÂíåempË°®‰ø°ÊÅØÁöÑËßÜÂõæÔºö123456SQL&gt; create view view_emp_dept as select empno,ename,dept.deptno,dname,job,hiredate from emp,dept where emp.deptno = dept.deptno;ËßÜÂõæÂ∑≤ÂàõÂª∫„ÄÇÁõ¥Êé•ÂæÄËßÜÂõæÈáåÊèíÂÖ•Êï∞ÊçÆÔºö123456SQL&gt; insert into view_emp_dept values(7966,'Jane',70,'Â∏ÇÂú∫ÈÉ®','ÁªèÁêÜ',sysdate);insert into view_emp_dept values(*Á¨¨ 1 Ë°åÂá∫Áé∞ÈîôËØØ:ORA-01776: Êó†Ê≥ïÈÄöËøáËÅîÊé•ËßÜÂõæ‰øÆÊîπÂ§ö‰∏™Âü∫Ë°®2.Áõ¥Êé•ÂæÄËßÜÂõæÈáåÊèíÂÖ•Êï∞ÊçÆÊä•ÈîôÔºåÊ≠§Êó∂ÁºñÂÜô‰∏Ä‰∏™ÂÖ≥‰∫éview_emp_dept ËßÜÂõæÂú®insert ‰∫ã‰ª∂‰∏≠ÁöÑËß¶ÂèëÂô®Ôºö12345678910111213141516SQL&gt; create or replace trigger tri_insert_view_emp_dept instead of insert on view_emp_dept declare row_dept dept%rowtype; begin select * into row_dept from dept where deptno=:new.deptno; if sql%notfound then insert into dept(deptno,dname) values(:new.deptno,:new.dname); end if; insert into emp(empno,ename,deptno,job,hiredate) values(:new.empno,:new.ename,:new.deptno,:new.job,:new.hiredate); end; /Ëß¶ÂèëÂô®Â∑≤ÂàõÂª∫Âú®‰∏äÈù¢Ëß¶ÂèëÂô®ÁöÑ‰∏ª‰Ωì‰ª£Á†Å‰∏≠ÔºåÂ¶ÇÊûúÊñ∞ÊèíÂÖ•Ë°åÁöÑÈÉ®Èó®ÁºñÂè∑ÔºàdeptnoÔºâ‰∏çÂú®dept Ë°®‰∏≠ÔºåÂàôÈ¶ñÂÖàÂêëdeptË°®‰∏≠ÊèíÂÖ•ÂÖ≥‰∫éÊñ∞ÈÉ®Èó®ÁºñÂè∑ÁöÑÊï∞ÊçÆË°åÔºåÁÑ∂ÂêéÂÜçÂêëemp Ë°®‰∏≠ÊèíÂÖ•ËÆ∞ÂΩïË°åÔºåËøôÊòØÂõ†‰∏∫emp Ë°®ÁöÑÂ§ñÈîÆÂÄºÔºàemp.deptnoÔºâÊòØdept Ë°®ÁöÑ‰∏ªÈîÆÂÄºÔºàdept.deptnoÔºâ„ÄÇ3.ÂÜçÊ¨°ÊâßË°åinsert into view_emp_dept values(7966,&#39;Jane&#39;,70,&#39;Â∏ÇÂú∫ÈÉ®&#39;,&#39;ÁªèÁêÜ&#39;,sysdate);Ôºö12345678SQL&gt; insert into view_emp_dept values(7966,'Jane',70,'Â∏ÇÂú∫ÈÉ®','ÁªèÁêÜ',sysdate);Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇSQL&gt; select * from view_emp_dept where empno=7966; EMPNO ENAME DEPTNO DNAME JOB HIREDATE---------- ---------- ---------- -------------- --------- -------------- 7966 Jane 70 Â∏ÇÂú∫ÈÉ® ÁªèÁêÜ 13-11Êúà-17Áî®Êà∑‰∫ã‰ª∂Ëß¶ÂèëÂô®Áî®Êà∑‰∫ã‰ª∂Ëß¶ÂèëÂô®ÊòØÂõ†ËøõË°å DDL Êìç‰ΩúÊàñÁî®Êà∑ÁôªÂΩï„ÄÅÈÄÄÂá∫Á≠âÊìç‰ΩúËÄåÂºïËµ∑ËøêË°åÁöÑ‰∏ÄÁßçËß¶ÂèëÂô®ÔºåÂºïËµ∑ËØ•Á±ªÂûãËß¶ÂèëÂô®ËøêË°åÁöÑÂ∏∏ËßÅÁî®Êà∑‰∫ã‰ª∂ÂåÖÊã¨ÔºöCREATE„ÄÅALTER„ÄÅDROP„ÄÅANALYZE„ÄÅCOMMENT„ÄÅGRANT„ÄÅREVOKE„ÄÅRENAME„ÄÅTRUNCATE„ÄÅSUSPEND„ÄÅLOGON ÂíåLOGOFF Á≠â„ÄÇ1.ÂàõÂª∫‰∏Ä‰∏™Êó•Âøó‰ø°ÊÅØË°®ÔºåÁî®‰∫é‰øùÂ≠òDDL Êìç‰ΩúÁöÑ‰ø°ÊÅØ:123456789SQL&gt; create table ddl_oper_log( db_obj_name varchar2(20), //Êï∞ÊçÆÂØπË±°ÂêçÁß∞ db_obj_type varchar2(20), //Êï∞ÊçÆÂØπË±°Á±ªÂûã oper_action varchar2(20), //Êìç‰ΩúË°å‰∏∫ oper_user varchar2(20), //Êìç‰ΩúÁî®Êà∑ oper_time date //Êìç‰ΩúÊó∂Èó¥ );Ë°®Â∑≤ÂàõÂª∫„ÄÇ2.ÂàõÂª∫‰∏Ä‰∏™Áî®Êà∑Ëß¶ÂèëÂô®ÔºåÁî®‰∫éÂ∞ÜÂΩìÂâçÊ®°Âºè‰∏ãÁöÑDDL Êìç‰Ωú‰ø°ÊÅØ‰øùÂ≠òÂà∞‰∏äÈù¢ÊâÄÂàõÂª∫ÁöÑddl_oper_logÊó•Âøó‰ø°ÊÅØË°®‰∏≠Ôºö1234567891011121314SQL&gt; create or replace trigger tri_ddl_oper before create or alter or drop on scott.schema begin insert into ddl_oper_log values( ora_dict_obj_name, ora_dict_obj_type, ora_sysevent, ora_login_user, sysdate); end; /Ëß¶ÂèëÂô®Â∑≤ÂàõÂª∫ora_dict_obj_nameÔºöËé∑ÂèñDDL Êìç‰ΩúÊâÄÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ìÂØπË±°„ÄÇora_dict_obj_typeÔºöËé∑ÂèñDDL Êìç‰ΩúÊâÄÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ìÂØπË±°ÁöÑÁ±ªÂûã„ÄÇora_syseventÔºöËé∑ÂèñËß¶ÂèëÂô®ÁöÑÁ≥ªÁªü‰∫ã‰ª∂Âêç„ÄÇora_login_userÔºöËé∑ÂèñÁôªÂΩïÁî®Êà∑Âêç„ÄÇ3.ÊâßË°å‰∏Ä‰∫õDDL Êìç‰ΩúÔºö123456789101112SQL&gt; create table tb_test(id number);Ë°®Â∑≤ÂàõÂª∫„ÄÇSQL&gt; create view v_test as select * from tb_test;ËßÜÂõæÂ∑≤ÂàõÂª∫„ÄÇSQL&gt; drop view v_test;ËßÜÂõæÂ∑≤Âà†Èô§„ÄÇSQL&gt; drop table tb_test;Ë°®Â∑≤Âà†Èô§„ÄÇ4.Êü•Áúãddl_oper_logÊó•ÂøóË°®Ôºö12345678SQL&gt; select * from ddl_oper_log;DB_OBJ_NAME DB_OBJ_TYPE OPER_ACTION OPER_USER OPER_TIME-------------------- -------------------- -------------------- -------------------- -------------TB_TEST TABLE CREATE SCOTT 13-11Êúà-17V_TEST VIEW CREATE SCOTT 13-11Êúà-17V_TEST VIEW DROP SCOTT 13-11Êúà-17TB_TEST TABLE DROP SCOTT 13-11Êúà-17]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OracleÂ≠òÂÇ®ËøáÁ®ã‰∏éÂáΩÊï∞]]></title>
    <url>%2FOracle%20Stored%20procedure%20function.html</url>
    <content type="text"><![CDATA[Â≠òÂÇ®ËøáÁ®ãÂ≠òÂÇ®ËøáÁ®ãÊòØ‰∏ÄÁßçÂëΩÂêçÁöÑPL/SQLÁ®ãÂ∫èÂùóÔºåÂÆÉÊó¢ÂèØ‰ª•Ê≤°ÊúâÂèÇÊï∞Ôºå‰πüÂèØ‰ª•ÊúâËã•Âπ≤‰∏™ËæìÂÖ•„ÄÅËæìÂá∫ÂèÇÊï∞ÔºåÁîöËá≥ÂèØ‰ª•ÊúâÂ§ö‰∏™Êó¢‰ΩúËæìÂÖ•Âèà‰ΩúËæìÂá∫ÁöÑÂèÇÊï∞Ôºå‰ΩÜÂÆÉÈÄöÂ∏∏Ê≤°ÊúâËøîÂõûÂÄº„ÄÇÂ≠òÂÇ®ËøáÁ®ãË¢´‰øùÂ≠òÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂÆÉ‰∏çÂèØ‰ª•Ë¢´SQL ËØ≠Âè•Áõ¥Êé•ÊâßË°åÊàñË∞ÉÁî®ÔºåÂè™ËÉΩÈÄöËøáEXECUT ÂëΩ‰ª§ÊâßË°åÊàñÂú®PL/SQL Á®ãÂ∫èÂùóÂÜÖÈÉ®Ë¢´Ë∞ÉÁî®„ÄÇÁî±‰∫éÂ≠òÂÇ®ËøáÁ®ãÊòØÂ∑≤ÁªèÁºñËØëÂ•ΩÁöÑ‰ª£Á†ÅÔºåÊâÄ‰ª•ÂÖ∂Ë¢´Ë∞ÉÁî®ÊàñÂºïÁî®Êó∂ÔºåÊâßË°åÊïàÁéáÈùûÂ∏∏È´ò„ÄÇÂàõÂª∫Â≠òÂÇ®ËøáÁ®ãÂàõÂª∫Â≠òÂÇ®ËøáÁ®ãÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123456create [or replace] procedure pro_name [(parameter1[,parameter2]‚Ä¶)] is|asbegin plsql_sentences;[exception] [dowith _ sentences;]end [pro_name];pro_nameÔºöÂ≠òÂÇ®ËøáÁ®ãÁöÑÂêçÁß∞ÔºåÂ¶ÇÊûúÊï∞ÊçÆÂ∫ì‰∏≠Â∑≤ÁªèÂ≠òÂú®‰∫ÜÊ≠§ÂêçÁß∞ÔºåÂàôÂèØ‰ª•ÊåáÂÆö‚Äúor replace‚ÄùÂÖ≥ÈîÆÂ≠óÔºåËøôÊ†∑Êñ∞ÁöÑÂ≠òÂÇ®ËøáÁ®ãÂ∞ÜË¶ÜÁõñÊéâÂéüÊù•ÁöÑÂ≠òÂÇ®ËøáÁ®ã„ÄÇparameter1ÔºöÂ≠òÂÇ®ËøáÁ®ãÁöÑÂèÇÊï∞ÔºåËã•ÊòØËæìÂÖ•ÂèÇÊï∞ÔºåÂàôÈúÄË¶ÅÂú®ÂÖ∂ÂêéÊåáÂÆö‚Äúin‚ÄùÂÖ≥ÈîÆÂ≠óÔºõËã•ÊòØËæìÂá∫ÂèÇÊï∞ÔºåÂàôÈúÄË¶ÅÂú®ÂÖ∂ÂêéÈù¢ÊåáÂÆö‚Äúout‚ÄùÂÖ≥ÈîÆÂ≠ó„ÄÇÂú®inÊàñoutÂÖ≥ÈîÆÂ≠óÁöÑÂêéÈù¢ÊòØÂèÇÊï∞ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºå‰ΩÜ‰∏çËÉΩÊåáÂÆöËØ•Á±ªÂûãÁöÑÈïøÂ∫¶„ÄÇÂàõÂª∫‰∏Ä‰∏™Â≠òÂÇ®ËøáÁ®ãÔºåËØ•Â≠òÂÇ®ËøáÁ®ãÂÆûÁé∞ÂêëdeptË°®‰∏≠ÊèíÂÖ•‰∏ÄÊù°ËÆ∞ÂΩïÔºö123456789SQL&gt; create or replace procedure save_dept is begin insert into dept values(50,'ÂºÄÂèë‰∏ÄÈÉ®','Á¶èÂ∑û'); commit; dbms_output.put_line('ÊèíÂÖ•Êï∞ÊçÆÊàêÂäüÔºÅ'); end; /ËøáÁ®ãÂ∑≤ÂàõÂª∫„ÄÇÂàõÂª∫ËøáÁ®ã‰∏≠Â¶ÇÊûúÂá∫Áé∞ÈîôËØØÔºåÂèØ‰ª•‰ΩøÁî®show errÊåá‰ª§Êü•Áúã„ÄÇËã•Ë¶ÅÊâßË°åËøô‰∏™Â≠òÂÇ®ËøáÁ®ãÔºåÂàôÈúÄË¶ÅÂú®SQL*Plus ÁéØÂ¢É‰∏≠‰ΩøÁî®EXECUTEÂëΩ‰ª§Êù•ÊâßË°åËØ•Â≠òÂÇ®ËøáÁ®ãÔºåÊàñËÄÖÂú®PL/SQL Á®ãÂ∫èÂùó‰∏≠Ë∞ÉÁî®ËØ•Â≠òÂÇ®ËøáÁ®ã„ÄÇ12345SQL&gt; set serveroutput onSQL&gt; execute save_deptÊèíÂÖ•Êï∞ÊçÆÊàêÂäüÔºÅPL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÊàñËÄÖÂú® PL/SQL Âùó‰∏≠Ë∞ÉÁî®Â≠òÂÇ®ËøáÁ®ãÔºö123456789101112SQL&gt; delete from dept where deptno=50;Â∑≤Âà†Èô§ 1 Ë°å„ÄÇSQL&gt; set serveroutput onSQL&gt; begin save_dept; end; /ÊèíÂÖ•Êï∞ÊçÆÊàêÂäüÔºÅPL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÂ≠òÂÇ®ËøáÁ®ãÁöÑÂèÇÊï∞Â≠òÂÇ®ËøáÁ®ãÂèØ‰ª•Êé•ÂèóÂ§ö‰∏™ÂèÇÊï∞ÔºåÂèÇÊï∞Ê®°ÂºèÂåÖÊã¨IN„ÄÅOUT ÂíåIN OUT 3 ÁßçÔºö1.INÊ®°ÂºèÂèÇÊï∞ËøôÊòØ‰∏ÄÁßçËæìÂÖ•Á±ªÂûãÁöÑÂèÇÊï∞ÔºåÂèÇÊï∞ÂÄºÁî±Ë∞ÉÁî®Êñπ‰º†ÂÖ•ÔºåÂπ∂‰∏îÂè™ËÉΩË¢´Â≠òÂÇ®ËøáÁ®ãËØªÂèñÔºåÊòØÈªòËÆ§ÁöÑÂèÇÊï∞Ê®°Âºè„ÄÇÊØîÂ¶ÇÂàõÂª∫‰∏Ä‰∏™Â≠òÂÇ®ËøáÁ®ãÔºåÂπ∂ÂÆö‰πâ 3 ‰∏™in Ê®°ÂºèÁöÑÂèòÈáèÔºåÁÑ∂ÂêéÂ∞ÜËøô3 ‰∏™ÂèòÈáèÁöÑÂÄºÊèíÂÖ•Âà∞deptË°®‰∏≠Ôºö1234567891011SQL&gt; create or replace procedure save_dept( deptno in number, dname in varchar2, loc in varchar2) is begin insert into dept values(deptno,dname,loc); commit; end; /ËøáÁ®ãÂ∑≤ÂàõÂª∫„ÄÇË∞ÉÁî®ËØ•Â≠òÂÇ®ËøáÁ®ãÊó∂‰º†ÂèÇÊúâ‰ª•‰∏ãÂá†ÁßçÊñπÂºèÔºöÊåáÂÆöÂêçÁß∞‰º†ÈÄíÔºö1pro_name(parameter1=&gt;value1[,parameter2=&gt;value2]‚Ä¶)‰ΩøÁî®ËøôÁßçÊñπÂºèË∞ÉÁî®‰∏äÈù¢ÂÆö‰πâÁöÑÂ≠òÂÇ®ËøáÁ®ãÔºö123456SQL&gt; begin save_dept(dname=&gt;'ÂºÄÂèë‰∫åÈÉ®',loc=&gt;'Á¶èÂ∑û',deptno=&gt;60); end; /PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇ‰ΩøÁî®‚ÄúÊåáÂÆöÂêçÁß∞‚ÄùÁöÑÊñπÂºè‰º†ÈÄíÂèÇÊï∞ÂÄº‰∏éÂèÇÊï∞ÁöÑÂÆö‰πâÈ°∫Â∫èÊó†ÂÖ≥Ôºå‰ΩÜ‰∏éÂèÇÊï∞‰∏™Êï∞ÊúâÂÖ≥„ÄÇÊåâ‰ΩçÁΩÆ‰º†ÈÄíÔºöÈááÁî®ËøôÁßçÊñπÂºèÊó∂ÔºåÁî®Êà∑Êèê‰æõÁöÑÂèÇÊï∞ÂÄºÈ°∫Â∫èÂøÖÈ°ª‰∏éÂ≠òÂÇ®ËøáÁ®ã‰∏≠ÂÆö‰πâÁöÑÂèÇÊï∞È°∫Â∫èÁõ∏ÂêåÔºö123456SQL&gt; begin save_dept(70,'Â∏ÇÂú∫ÈÉ®','Á¶èÂ∑û'); end; /PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÊ∑∑ÂêàÊñπÂºè‰º†ÈÄíÔºöÊ∑∑ÂêàÊñπÂºèÂ∞±ÊòØÂ∞ÜÂâç‰∏§ÁßçÊñπÂºèÁªìÂêàÂà∞‰∏ÄËµ∑Ôºö12345678 PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇSQL&gt; begin save_dept(80,loc=&gt;'Á¶èÂ∑û',dname=&gt;'Ë¥¢Âä°ÁÆ°ÁêÜÈÉ®'); end; /PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÊúâÊó∂ÂÄôÂèÇÊï∞ËøáÂ§öÔºåÁî®Êà∑‰∏çÂÆπÊòìËÆ∞‰ΩèÂèÇÊï∞ÁöÑÈ°∫Â∫èÂíåÁ±ªÂûãÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøádescÂëΩ‰ª§Êù•Êü•ÁúãÂ≠òÂÇ®ËøáÁ®ã‰∏≠ÂèÇÊï∞ÁöÑÂÆö‰πâ‰ø°ÊÅØÔºö1234567SQL&gt; desc save_deptPROCEDURE save_deptÂèÇÊï∞ÂêçÁß∞ Á±ªÂûã ËæìÂÖ•/ËæìÂá∫ÈªòËÆ§ÂÄº?------------------------------ ----------------------- ------ -------- DEPTNO NUMBER IN DNAME VARCHAR2 IN LOC VARCHAR2 IN2.OUT Ê®°ÂºèÂèÇÊï∞ËøôÊòØ‰∏ÄÁßçËæìÂá∫Á±ªÂûãÁöÑÂèÇÊï∞ÔºåË°®Á§∫Ëøô‰∏™ÂèÇÊï∞Âú®Â≠òÂÇ®ËøáÁ®ã‰∏≠Â∑≤ÁªèË¢´ËµãÂÄºÔºåÂπ∂‰∏îËøô‰∏™ÂèÇÊï∞ÂÄºÂèØ‰ª•‰º†ÈÄíÂà∞ÂΩìÂâçÂ≠òÂÇ®ËøáÁ®ã‰ª•Â§ñÁöÑÁéØÂ¢É‰∏≠Ôºö1234567891011SQL&gt; create or replace procedure select_dept( var_deptno in number, var_dname out dept.dname%type, var_loc out dept.loc%type) is begin select dname,loc into var_dname,var_loc from dept where deptno = var_deptno; end; /ËøáÁ®ãÂ∑≤ÂàõÂª∫„ÄÇ‰∏äËø∞Â≠òÂÇ®ËøáÁ®ãÂÆö‰πâ‰∫Ü‰∏§‰∏™out ÂèÇÊï∞ÔºåÁî±‰∫éÂ≠òÂÇ®ËøáÁ®ãË¶ÅÈÄöËøáout ÂèÇÊï∞ËøîÂõûÂÄºÔºåÊâÄ‰ª•ÂΩìË∞ÉÁî®ÊàñÊâßË°åËøô‰∏™Â≠òÂÇ®ËøáÁ®ãÊó∂ÔºåÈÉΩÈúÄË¶ÅÂÆö‰πâÂèòÈáèÊù•‰øùÂ≠òËøô‰∏§‰∏™outÂèÇÊï∞ÂÄº„ÄÇ‰ΩøÁî®EXECUTEÂëΩ‰ª§Êù•ÊâßË°åËØ•Â≠òÂÇ®ËøáÁ®ãÔºö123456789101112131415161718192021222324SQL&gt; variable var_dname varchar2(50);SQL&gt; variable var_loc varchar2(50);SQL&gt; execute select_dept(50,:var_dname,:var_loc);PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇSQL&gt; print var_dname var_loc;VAR_DNAME--------------------------------------------------------------------------------ÂºÄÂèë‰∏ÄÈÉ®VAR_LOC--------------------------------------------------------------------------------Á¶èÂ∑ûSQL&gt; select :var_dname,:var_loc from dual;:VAR_DNAME--------------------------------------------------------------------------------:VAR_LOC--------------------------------------------------------------------------------ÂºÄÂèë‰∏ÄÈÉ®Á¶èÂ∑ûÂú®PL/SQL Á®ãÂ∫èÂùó‰∏≠Ë∞ÉÁî®ËØ•Â≠òÂÇ®ËøáÁ®ãÔºö123456789101112SQL&gt; set serveroutput onSQL&gt; declare var_dname dept.dname%type; var_loc dept.loc%type; begin save_dept(50,var_dname,var_loc); dbms_output.put_line(var_dname||'‰Ωç‰∫é'||var_loc); end; /ÂºÄÂèë‰∏ÄÈÉ®‰Ωç‰∫éÁ¶èÂ∑ûPL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇ3.IN OUTÊ®°ÂºèÂèÇÊï∞Âú®Ë∞ÉÁî®Â≠òÂÇ®ËøáÁ®ãÊó∂ÔºåIN OUTÊ®°ÂºèÂèÇÊï∞ÂèØ‰ª•‰ªéÂ§ñÁïåÂêëËØ•Á±ªÂûãÁöÑÂèÇÊï∞‰º†ÂÖ•ÂÄºÔºõÂú®ÊâßË°åÂÆåÂ≠òÂÇ®ËøáÁ®ã‰πãÂêéÔºåÂèØ‰ª•Â∞ÜËØ•ÂèÇÊï∞ÁöÑËøîÂõûÂÄº‰º†ÁªôÂ§ñÁïåÔºö12345678SQL&gt; create or replace procedure square( num in out number) is begin num:=power(num,2); end; /ËøáÁ®ãÂ∑≤ÂàõÂª∫„ÄÇ‰∏äÈù¢ÁöÑÂ≠òÂÇ®ËøáÁ®ã‰∏≠ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™in outÊ®°ÂºèÁöÑÂèÇÊï∞numÔºåÂÖ∂Êó¢ÊòØËæìÂÖ•ÂèÇÊï∞‰πüÊòØËæìÂá∫ÂèÇÊï∞Ôºå‰∏ãÈù¢Áî®PL/SQLÁ®ãÂ∫èÂùóË∞ÉÁî®ËØ•Â≠òÂÇ®ËøáÁ®ãÔºö12345678910111213SQL&gt; declare var_number number; var_temp number; begin var_temp:=3; var_number:=var_temp; square(var_number); dbms_output.put_line(var_temp||'ÁöÑÂπ≥Êñπ‰∏∫Ôºö'||var_number); end; /3ÁöÑÂπ≥Êñπ‰∏∫Ôºö9PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇ‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÂèòÈáèvar_number Âú®Ë∞ÉÁî®Â≠òÂÇ®ËøáÁ®ã‰πãÂâçÊòØ3ÔºåËÄåÂ≠òÂÇ®ËøáÁ®ãÊâßË°åÂÆåÊØï‰πãÂêéÔºåËØ•ÂèòÈáèÁöÑÂÄºÂèò‰∏∫ÂÖ∂Âπ≥ÊñπÊ†π9„ÄÇIN ÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄºÂâçÈù¢ÁöÑ IN ÂèÇÊï∞ÁöÑÂÄºÈÉΩÊòØÂú®Ë∞ÉÁî®Â≠òÂÇ®ËøáÁ®ãÊó∂‰º†ÂÖ•ÁöÑÔºåÂÆûÈôÖ‰∏äÔºåOracle ÊîØÊåÅÂú®Â£∞ÊòéIN ÂèÇÊï∞ÁöÑÂêåÊó∂ÁªôÂÖ∂ÂàùÂßãÂåñÈªòËÆ§ÂÄºÔºåËøôÊ†∑Âú®Â≠òÂÇ®ËøáÁ®ãË∞ÉÁî®Êó∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂêëINÂèÇÊï∞‰º†ÂÖ•ÂÄºÔºåÂàôÂ≠òÂÇ®ËøáÁ®ãÂèØ‰ª•‰ΩøÁî®ÈªòËÆ§ÂÄºËøõË°åÊìç‰ΩúÔºö12345678910SQL&gt; create or replace procedure save_dept( var_deptno in number, var_dname in varchar2 default '‰∫ßÂìÅÂàõÊñ∞‰∏≠ÂøÉ', var_loc in varchar2 default 'Á¶èÂ∑û') is begin insert into dept values(var_deptno,var_dname,var_loc); end; /ËøáÁ®ãÂ∑≤ÂàõÂª∫„ÄÇvar_dnameÂíåvar_locÂÆö‰πâ‰∫ÜÈªòËÆ§ÂÄºÔºå‰∏ãÈù¢Ë∞ÉÁî®ËØ•Â≠òÂÇ®ËøáÁ®ãÔºö123456789SQL&gt; execute save_dept(90,var_dname=&gt;'‰∫∫‰∫ãË°åÊîøÈÉ®');PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇSQL&gt; select * from dept where deptno = 90; DEPTNO DNAME LOC---------- -------------- ------------- 90 ‰∫∫‰∫ãË°åÊîøÈÉ® Á¶èÂ∑ûËøôÈáåvar_locÈááÁî®‰∫ÜÈªòËÆ§ÂÄº‚ÄúÁ¶èÂ∑û‚Äù„ÄÇÂà†Èô§Â≠òÂÇ®ËøáÁ®ãÂà†Èô§Â≠òÂÇ®ËøáÁ®ãÁöÑËØ≠Ê≥ïÂæàÁÆÄÂçïÔºö1drop procedure procedure_name;ÊØîÂ¶ÇÂà†Èô§save_deptËøô‰∏™Â≠òÂÇ®ËøáÁ®ãÔºö123SQL&gt; drop procedure save_dept;ËøáÁ®ãÂ∑≤Âà†Èô§„ÄÇÂáΩÊï∞ÂáΩÊï∞‰∏ÄËà¨Áî®‰∫éËÆ°ÁÆóÂíåËøîÂõû‰∏Ä‰∏™ÂÄºÔºåÂèØ‰ª•Â∞ÜÁªèÂ∏∏ÈúÄË¶Å‰ΩøÁî®ÁöÑËÆ°ÁÆóÊàñÂäüËÉΩÂÜôÊàê‰∏Ä‰∏™ÂáΩÊï∞„ÄÇÂàõÂª∫ÂáΩÊï∞ÂáΩÊï∞ÁöÑÂàõÂª∫ËØ≠Ê≥ï‰∏éÂ≠òÂÇ®ËøáÁ®ãÊØîËæÉÁ±ª‰ººÔºåÂÆÉ‰πüÊòØ‰∏ÄÁßçÂ≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂëΩÂêçÁ®ãÂ∫èÂùóÔºåÂáΩÊï∞ÂèØ‰ª•Êé•ÂèóÈõ∂ÊàñÂ§ö‰∏™ËæìÂÖ•ÂèÇÊï∞ÔºåÂπ∂‰∏îÂáΩÊï∞ÂøÖÈ°ªÊúâËøîÂõûÂÄºÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234567create [or replace] function fun_name[(parameter1[,parameter2]‚Ä¶) return data_type is [inner_variable]begin plsql_ sentence;[exception] [dowith _ sentences;]end [fun_name];Áî±‰∫éÂáΩÊï∞ÊúâËøîÂõûÂÄºÔºåÊâÄ‰ª•Âú®ÂáΩÊï∞‰∏ª‰ΩìÈÉ®ÂàÜÔºàÂç≥begin ÈÉ®ÂàÜÔºâÂøÖÈ°ª‰ΩøÁî®return ËØ≠Âè•ËøîÂõûÂáΩÊï∞ÂÄºÔºåÂπ∂‰∏îË¶ÅÊ±ÇËøîÂõûÂÄºÁöÑÁ±ªÂûãË¶Å‰∏éÂáΩÊï∞Â£∞ÊòéÊó∂ÁöÑËøîÂõûÂÄºÁ±ªÂûãÔºàÂç≥data_typeÔºâÁõ∏Âêå„ÄÇÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁî®‰∫éËÆ°ÁÆóemp Ë°®‰∏≠ÊåáÂÆöÊüê‰∏™ÈÉ®Èó®ÁöÑÂπ≥ÂùáÂ∑•ËµÑÔºö1234567891011121314SQL&gt; create or replace function avg_sal(var_deptno number) return number is var_result number; begin select avg(sal) into var_result from emp where deptno = var_deptno; return var_result; exception when no_data_found then dbms_output.put_line('Ê≤°ÊúâËØ•ÈÉ®Èó®'); return 0; end; /ÂáΩÊï∞Â∑≤ÂàõÂª∫„ÄÇË∞ÉÁî®ÂáΩÊï∞Áî±‰∫éÂáΩÊï∞ÊúâËøîÂõûÂÄºÔºåÊâÄ‰ª•Âú®Ë∞ÉÁî®ÂáΩÊï∞Êó∂ÔºåÂøÖÈ°ª‰ΩøÁî®‰∏Ä‰∏™ÂèòÈáèÊù•‰øùÂ≠òÂáΩÊï∞ÁöÑËøîÂõûÂÄºÔºö1234567891011SQL&gt; set serveroutput onSQL&gt; declare var_result number; begin var_result:=avg_sal(10); dbms_output.put_line('ÁºñÂè∑‰∏∫10ÁöÑÈÉ®Èó®Âπ≥ÂùáÂ∑•ËµÑ‰∏∫Ôºö'||var_result); end; /ÁºñÂè∑‰∏∫10ÁöÑÈÉ®Èó®Âπ≥ÂùáÂ∑•ËµÑ‰∏∫Ôºö2916.666666666666666666666666666666666667PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÂà†Èô§ÂáΩÊï∞Âà†Èô§avg_salÂáΩÊï∞Ôºö123SQL&gt; drop function avg_sal;ÂáΩÊï∞Â∑≤Âà†Èô§„ÄÇ]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle PL/SQLÁºñÁ®ã]]></title>
    <url>%2FOracle-PL-SQL%E7%BC%96%E7%A8%8B.html</url>
    <content type="text"><![CDATA[PL/SQL(Procedural Language/SQL)ÊòØ‰∏ÄÁßçËøáÁ®ãÂåñËØ≠Ë®ÄÔºåÂú®PL/SQL ‰∏≠ÂèØ‰ª•ÈÄöËøáIF ËØ≠Âè•ÊàñLOOP ËØ≠Âè•ÂÆûÁé∞ÊéßÂà∂Á®ãÂ∫èÁöÑÊâßË°åÊµÅÁ®ãÔºåÁîöËá≥ÂèØ‰ª•ÂÆö‰πâÂèòÈáèÔºå‰ª•‰æøÂú®ËØ≠Âè•‰πãÈó¥‰º†ÈÄíÊï∞ÊçÆ‰ø°ÊÅØÔºåËøôÊ†∑PL/SQL ËØ≠Ë®ÄÂ∞±ËÉΩÂ§üÂÆûÁé∞ÊìçÊéßÁ®ãÂ∫èÂ§ÑÁêÜÁöÑÁªÜËäÇËøáÁ®ã„ÄÇPL/SQL Á®ãÂ∫èÈÉΩÊòØ‰ª•ÂùóÔºàBLOCKÔºâ‰∏∫Âü∫Êú¨Âçï‰ΩçÔºåÊï¥‰∏™PL/SQL ÂùóÂàÜ3 ÈÉ®ÂàÜÔºöÂ£∞ÊòéÈÉ®ÂàÜÔºàÁî®DECLAREÂºÄÂ§¥Ôºâ„ÄÅÊâßË°åÈÉ®ÂàÜÔºà‰ª•BEGIN ÂºÄÂ§¥ÔºâÂíåÂºÇÂ∏∏Â§ÑÁêÜÈÉ®ÂàÜÔºà‰ª•EXCEPTION ÂºÄÂ§¥ÔºâÔºö1234567[DECLARE] --Â£∞ÊòéÈÉ®ÂàÜÔºåÂèØÈÄâBEGIN --ÊâßË°åÈÉ®ÂàÜÔºåÂøÖÈ°ª[EXCEPTION] --ÂºÇÂ∏∏Â§ÑÁêÜÈÉ®ÂàÜÔºåÂèØÈÄâENDÂØπ‰∫é PL/SQL Âùó‰∏≠ÁöÑËØ≠Âè•ÔºåÈúÄË¶ÅÊåáÂá∫ÁöÑÊòØÔºöÊØè‰∏ÄÊù°ËØ≠Âè•ÈÉΩÂøÖÈ°ª‰ª•ÂàÜÂè∑ÁªìÊùüÔºåÊØèÊù°SQL ËØ≠Âè•ÂèØ‰ª•ÂÜôÊàêÂ§öË°åÁöÑÂΩ¢ÂºèÔºåÂêåÊ†∑ÂøÖÈ°ª‰ΩøÁî®ÂàÜÂè∑Êù•ÁªìÊùü„ÄÇÂè¶Â§ñÔºå‰∏ÄË°å‰∏≠‰πüÂèØ‰ª•ÊúâÂ§öÊù°SQL ËØ≠Âè•Ôºå‰ΩÜÊòØÂÆÉ‰ª¨‰πãÈó¥ÂøÖÈ°ª‰ª•ÂàÜÂè∑ÂàÜÈöî„ÄÇÊØîÂ¶ÇÔºö12345678910111213141516SQL&gt; set serveroutput onSQL&gt; declare a int:=100; b int:=200; c number; begin c:=(a+b)/(a-b); dbms_output.put_line(c); exception when zero_divide then dbms_output.put_line('Èô§Êï∞‰∏çËÉΩ‰∏∫Èõ∂'); end; /-3PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÂÖ∂‰∏≠Ôºå‚Äúset serveroutput on‚ÄùÂëΩ‰ª§Êù•ÂÆûÁé∞Âú®ÊúçÂä°Á´ØÊòæÁ§∫ÊâßË°åÁªìÊûúÔºõ‚Äúdbms_output.put_line(c);‚ÄùËØ≠Âè•Áî®‰∫éËæìÂá∫‰ø°ÊÅØ„ÄÇÊï∞ÊçÆÁ±ªÂûãÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã1.Êï∞ÂÄºÁ±ªÂûãÊï∞ÂÄºÁ±ªÂûã‰∏ªË¶ÅÂåÖÊã¨NUMBER„ÄÅPLS_INTEGER ÂíåBINARY_INTEGER 3 ÁßçÂü∫Êú¨Á±ªÂûã„ÄÇÂÖ∂‰∏≠ÔºåNUMBER Á±ªÂûãÁöÑÂèòÈáèÂèØ‰ª•Â≠òÂÇ®Êï¥Êï∞ÊàñÊµÆÁÇπÊï∞ÔºõËÄåBINARY_INTEGERÊàñPLS_INTEGER Á±ªÂûãÁöÑÂèòÈáèÂè™Â≠òÂÇ®Êï¥Êï∞„ÄÇNUMBER Á±ªÂûãËøòÂèØ‰ª•ÈÄöËøáNUMBER(P,S)ÁöÑÂΩ¢ÂºèÊù•Ê†ºÂºèÂåñÊï∞Â≠óÔºåÂÖ∂‰∏≠ÔºåÂèÇÊï∞PË°®Á§∫Á≤æÂ∫¶ÔºåÂèÇÊï∞SË°®Á§∫ÂàªÂ∫¶ËåÉÂõ¥„ÄÇÁ≤æÂ∫¶ÊòØÊåáÊï∞ÂÄº‰∏≠ÊâÄÊúâÊúâÊïàÊï∞Â≠óÁöÑ‰∏™Êï∞„ÄÇÊØîÂ¶ÇÔºö1money number(9,2);2.Â≠óÁ¨¶Á±ªÂûãÂ≠óÁ¨¶Á±ªÂûã‰∏ªË¶ÅÂåÖÊã¨ VARCHAR2„ÄÅCHAR„ÄÅLONG„ÄÅNCHAR ÂíåNVARCHAR2 Á≠â„ÄÇËøô‰∫õÁ±ªÂûãÁöÑÂèòÈáèÁî®Êù•Â≠òÂÇ®Â≠óÁ¨¶‰∏≤ÊàñÂ≠óÁ¨¶Êï∞ÊçÆ„ÄÇVARCHAR2 Á±ªÂûãÔºöÁî®‰∫éÂ≠òÂÇ®ÂèØÂèòÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂÖ∂ËØ≠Ê≥ïÊ†ºÂºè‰∏∫Ôºö1VARCHAR2(maxlength)ÂèÇÊï∞ maxlengthË°®Á§∫ÂèØ‰ª•Â≠òÂÇ®Â≠óÁ¨¶‰∏≤ÁöÑÊúÄÂ§ßÈïøÂ∫¶ÔºåmaxlengthÁöÑÊúÄÂ§ßÂÄºÂèØ‰ª•ÊòØ32767 Â≠óËäÇ„ÄÇCHAR Á±ªÂûãÔºöCHAR Á±ªÂûãË°®Á§∫ÊåáÂÆöÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂÖ∂ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö1CHAR(maxlength)ÂèÇÊï∞ maxlength ÊòØÊåáÂèØÂ≠òÂÇ®Â≠óÁ¨¶‰∏≤ÁöÑÊúÄÂ§ßÈïøÂ∫¶Ôºå‰ª•Â≠óËäÇ‰∏∫Âçï‰ΩçÔºåÊúÄÂ§ß‰∏∫32767Â≠óËäÇÔºåCHAR Á±ªÂûãÁöÑÈªòËÆ§ÊúÄÂ§ßÈïøÂ∫¶‰∏∫1Â≠óËäÇ„ÄÇLONG Á±ªÂûãÔºöLONG Á±ªÂûãË°®Á§∫‰∏Ä‰∏™ÂèØÂèòÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂ§ßÈïøÂ∫¶ÊòØ32767 Â≠óËäÇ„ÄÇNCHAR ÂíåNVARCHAR2Á±ªÂûãÔºöËøô‰∏§ÁßçÊï∞ÊçÆÁ±ªÂûãÁöÑÈïøÂ∫¶Ë¶ÅÊ†πÊçÆÂêÑÂõΩÂ≠óÁ¨¶ÈõÜÊù•Á°ÆÂÆöÔºåÂè™ËÉΩÂÖ∑‰ΩìÊÉÖÂÜµÂÖ∑‰ΩìÂàÜÊûê„ÄÇ3.Êó•ÊúüÁ±ªÂûãÊó•ÊúüÁ±ªÂûãÂè™Êúâ‰∏ÄÁßç‚Äî‚ÄîDATE Á±ªÂûãÔºåÁî®Êù•Â≠òÂÇ®Êó•ÊúüÂíåÊó∂Èó¥‰ø°ÊÅØÔºåDATEÁ±ªÂûãÁöÑÂ≠òÂÇ®Á©∫Èó¥ÊòØ7‰∏™Â≠óËäÇÔºåÂàÜÂà´‰ΩøÁî®‰∏Ä‰∏™Â≠óËäÇÂ≠òÂÇ®‰∏ñÁ∫™„ÄÅÂπ¥„ÄÅÊúà„ÄÅÂ§©„ÄÅÂ∞èÊó∂„ÄÅÂàÜÈíüÂíåÁßí„ÄÇ4.Â∏ÉÂ∞îÁ±ªÂûãÂ∏ÉÂ∞îÁ±ªÂûã‰πüÂè™Êúâ‰∏ÄÁßç‚Äî‚ÄîBOOLEANÁ±ªÂûãÔºåÂÖ∂ÂèòÈáèÂÄºÂèØ‰ª•ÊòØTRUE„ÄÅFALSE ÊàñNULL ‰∏≠ÁöÑ‰∏ÄÁßç„ÄÇÁâπÊÆäÊï∞ÊçÆÁ±ªÂûã1.%TYPE Á±ªÂûã‰ΩøÁî®%TYPEÂÖ≥ÈîÆÂ≠óÂèØ‰ª•Â£∞Êòé‰∏Ä‰∏™‰∏éÊåáÂÆöÂàóÂêçÁß∞Áõ∏ÂêåÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊØîÂ¶ÇÂ£∞Êòé‰∏Ä‰∏™‰∏é emp Ë°®‰∏≠job ÂàóÁöÑÊï∞ÊçÆÁ±ªÂûãÂÆåÂÖ®Áõ∏ÂêåÁöÑÂèòÈáèvar_jobÔºö1declare var_job emp.job%type;Â¶ÇÊûúemp.job ÂàóÁöÑÊï∞ÊçÆÁ±ªÂûã‰∏∫VARCHAR2(10)ÔºåÈÇ£‰πàÂèòÈáèvar_job ÁöÑÊï∞ÊçÆÁ±ªÂûã‰πüÊòØ VARCHAR2(10)„ÄÇÊØîÂ¶ÇÔºå‰ΩøÁî®%type Á±ªÂûãÁöÑÂèòÈáèËæìÂá∫emp Ë°®‰∏≠ÁºñÂè∑‰∏∫7369 ÁöÑÂëòÂ∑•ÂêçÁß∞ÂíåËÅåÂä°‰ø°ÊÅØÔºö1234567891011121314SQL&gt; set serveroutput onSQL&gt; declare var_ename scott.emp.ename%type; var_job scott.emp.job%type; begin select ename,job into var_ename,var_job from scott.emp where empno=7369; dbms_output.put_line(var_ename||'ÁöÑËÅåÂä°ÊòØ'||var_job); end; /SMITHÁöÑËÅåÂä°ÊòØCLERKPL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÁî±‰∫éintoÂ≠êÂè•‰∏≠ÁöÑÂèòÈáèÂè™ËÉΩÂ≠òÂÇ®‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂÄºÔºåÊâÄ‰ª•Ë¶ÅÊ±Çselect Â≠êÂè•Âè™ËÉΩËøîÂõû‰∏ÄË°åÊï∞ÊçÆ„ÄÇËã•SELECTÂ≠êÂè•ËøîÂõûÂ§öË°åÊï∞ÊçÆÔºåÂàô‰ª£Á†ÅËøêË°åÂêé‰ºöËøîÂõûÈîôËØØ‰ø°ÊÅØ„ÄÇ2.RECORD Á±ªÂûãRECORD Á±ªÂûã‰πüÁß∞‰Ωú‚ÄúËÆ∞ÂΩïÁ±ªÂûã‚ÄùÔºåÂ≠òÂÇ®Áî±Â§ö‰∏™ÂàóÂÄºÁªÑÊàêÁöÑ‰∏ÄË°åÊï∞ÊçÆ„ÄÇËØ≠Ê≥ïÁªìÊûÑÂ¶Ç‰∏ãÔºö12345type record_type is record(var_member1 data_type [not null] [:=default_value],‚Ä¶var_membern data_type [not null] [:=default_value])ÊØîÂ¶ÇÔºåÂ£∞Êòé‰∏Ä‰∏™ËÆ∞ÂΩïÁ±ªÂûãemp_typeÔºåÁÑ∂Âêé‰ΩøÁî®ËØ•Á±ªÂûãÁöÑÂèòÈáèÂ≠òÂÇ®empË°®‰∏≠ÁöÑ‰∏ÄÊù°ËÆ∞ÂΩï‰ø°ÊÅØÔºåÂπ∂ËæìÂá∫ËøôÊù°ËÆ∞ÂΩï‰ø°ÊÅØÔºö12345678910111213141516171819SQL&gt; set serveroutput onSQL&gt; declare type emp_type is record ( var_ename varchar2(20), var_job varchar2(20), var_sal number ); empinfo emp_type; begin select ename,job,sal into empinfo from scott.emp where empno=7369; dbms_output.put_line('ÈõáÂëò'||empinfo.var_ename||'ÁöÑËÅåÂä°ÊòØ'||empinfo.var_job||'ÔºåÂ∑•ËµÑÊòØ'||empinfo.var_sal); end; /ÈõáÂëòSMITHÁöÑËÅåÂä°ÊòØCLERKÔºåÂ∑•ËµÑÊòØ800PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇ3.%ROWTYPE Á±ªÂûã%ROWTYPE Á±ªÂûãÁöÑÂèòÈáèÁªìÂêà‰∫Ü%TYPE Á±ªÂûãÂíåRECORD Á±ªÂûãÂèòÈáèÁöÑ‰ºòÁÇπÔºåÂÆÉÂèØ‰ª•Ê†πÊçÆÊï∞ÊçÆË°®‰∏≠Ë°åÁöÑÁªìÊûÑÂÆö‰πâ‰∏ÄÁßçÁâπÊÆäÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÁî®Êù•Â≠òÂÇ®‰ªéÊï∞ÊçÆË°®‰∏≠Ê£ÄÁ¥¢Âà∞ÁöÑ‰∏ÄË°åÊï∞ÊçÆÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1rowVar_name table_name%rowtype;‰ΩøÁî®%ROWTYPEÊîπÈÄ†‰∏ä‰∏™RECORDÁ±ªÂûãÁöÑ‰æãÂ≠êÔºö123456789101112SQL&gt; set serveroutput onSQL&gt; declare row_emp scott.emp%rowtype; begin select * into row_emp from scott.emp where empno=7369; dbms_output.put_line('ÈõáÂëò'||row_emp.ename||'ÁöÑËÅåÂä°ÊòØ'||row_emp.job||'ÔºåÂ∑•ËµÑÊòØ'||row_emp.sal); end; /ÈõáÂëòSMITHÁöÑËÅåÂä°ÊòØCLERKÔºåÂ∑•ËµÑÊòØ800PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÂèòÈáè‰∏éÂ∏∏ÈáèÂÆö‰πâÂèòÈáèÂÆö‰πâÂèòÈáèÁöÑÊ†ºÂºèÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1&lt;ÂèòÈáèÂêç&gt; &lt;Êï∞ÊçÆÁ±ªÂûã&gt; [(ÈïøÂ∫¶):=&lt;ÂàùÂßãÂÄº&gt;];ÊØîÂ¶ÇÔºö ÂÆö‰πâ‰∏Ä‰∏™Áî®‰∫éÂ≠òÂÇ®ÂõΩÂÆ∂ÂêçÁß∞ÁöÑÂèØÂèòÂ≠óÁ¨¶‰∏≤ÂèòÈáè var_countrynameÔºåËØ•ÂèòÈáèÁöÑÊúÄÂ§ßÈïøÂ∫¶ ÊòØ50ÔºåÂπ∂‰∏îËØ•ÂèòÈáèÁöÑÂàùÂßãÂÄº‰∏∫‚Äú‰∏≠ÂõΩ‚ÄùÔºö1var_countryname varchar2(50):='‰∏≠ÂõΩ';ÂÆö‰πâÂ∏∏ÈáèÂÆö‰πâÂ∏∏ÈáèÁöÑÊ†ºÂºèÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1&lt;Â∏∏ÈáèÂêç&gt; constant &lt;Êï∞ÊçÆÁ±ªÂûã&gt;:=&lt;Â∏∏ÈáèÂÄº&gt;;ÂÆö‰πâ‰∏Ä‰∏™Â∏∏Èáècon_dayÔºåÁî®Êù•Â≠òÂÇ®‰∏ÄÂπ¥ÁöÑÂ§©Êï∞Ôºö1con_day constant integer:=365;ÊµÅÁ®ãÊéßÂà∂if‚Ä¶thenËØ≠Âè•ÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123if &lt; condition_expression&gt; then plsql_sentenceend if;Â¶ÇÊûú if ÂêéÈù¢ÁöÑÊù°‰ª∂Ë°®ËææÂºèÂ≠òÂú®‚ÄúÂπ∂‰∏î‚Äù„ÄÅ‚ÄúÊàñËÄÖ‚Äù„ÄÅ‚ÄúÈùû‚ÄùÁ≠âÈÄªËæëËøêÁÆóÔºåÂàôÂèØ‰ª•‰ΩøÁî®‚Äúand‚Äù„ÄÅ‚Äúor‚Äù„ÄÅ‚Äúnot‚ÄùÁ≠âÈÄªËæëËøêÁÆóÁ¨¶„ÄÇÂè¶Â§ñÔºåÂ¶ÇÊûúË¶ÅÂà§Êñ≠ifÂêéÈù¢ÁöÑÊù°‰ª∂Ë°®ËææÂºèÁöÑÂÄº‰∏∫Á©∫ÂÄºÔºåÂàôÈúÄË¶ÅÂú®Êù°‰ª∂Ë°®ËææÂºè‰∏≠‰ΩøÁî®‚Äúis‚ÄùÂíå‚Äúnull‚ÄùÂÖ≥ÈîÆÂ≠ó„ÄÇif‚Ä¶then‚Ä¶elseËØ≠Âè•ÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö12345if &lt;condition_expression&gt; then plsql_sentence1;else plsql_sentence2;end if;if‚Ä¶then‚Ä¶elsifËØ≠Âè•ÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö12345678if &lt; condition_expression1 &gt; then plsql_sentence_1;elsif &lt; condition_expression2 &gt; then plsql_sentence_2; ...else plsql_sentence_n;end if;caseËØ≠Âè•ÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö12345678910case &lt; selector&gt; when &lt;expression_1&gt; then plsql_sentence_1; when &lt;expression_2&gt; then plsql_sentence_2; ... when &lt;expression_n&gt; then plsql_sentence_n; [else plsql_sentence;]end case;loopËØ≠Âè•loop ËØ≠Âè•‰ºöÂÖàÊâßË°å‰∏ÄÊ¨°Âæ™ÁéØ‰ΩìÔºåÁÑ∂ÂêéÂÜçÂà§Êñ≠‚Äúexit when‚ÄùÂÖ≥ÈîÆÂ≠óÂêéÈù¢ÁöÑÊù°‰ª∂Ë°®ËææÂºèÁöÑÂÄºÊòØtrue ËøòÊòØfalseÔºåÂ¶ÇÊûúÊòØtrueÔºåÂàôÁ®ãÂ∫è‰ºöÈÄÄÂá∫Âæ™ÁéØ‰ΩìÔºåÂê¶ÂàôÁ®ãÂ∫èÂ∞ÜÂÜçÊ¨°ÊâßË°åÂæ™ÁéØ‰ΩìÔºåËøôÊ†∑Â∞±‰ΩøÂæóÁ®ãÂ∫èËá≥Â∞ëËÉΩÂ§üÊâßË°å‰∏ÄÊ¨°Âæ™ÁéØ‰ΩìÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234loop plsql_sentence; exit when end_condition_ exp;end loop;ÊØîÂ¶ÇËÆ°ÁÆó1Âà∞100Ëá™ÁÑ∂Êï∞ÁöÑÂíåÔºö12345678910111213141516SQL&gt; set serveroutput onSQL&gt; declare sum_i int:=0; i int:=0; begin loop i:=i+1; sum_i:=sum_i+i; exit when i&gt;=100; end loop; dbms_output.put_line('Ëá™ÁÑ∂Êï∞1Âà∞100ÁöÑÂíå‰∏∫Ôºö'||sum_i); end; /Ëá™ÁÑ∂Êï∞1Âà∞100ÁöÑÂíå‰∏∫Ôºö5050PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇwhileËØ≠Âè•ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123while condition_expression loop plsql_sentence;end loop;‰ΩøÁî® while ËØ≠Âè•Ê±ÇÂæóÂâç100 ‰∏™Ëá™ÁÑ∂Êï∞ÁöÑÂíåÔºö123456789101112131415SQL&gt; set serveroutput onSQL&gt; declare sum_i int:=0; i int:=0; begin while i&lt;=99 loop i:=i+1; sum_i:=sum_i+i; end loop; dbms_output.put_line('Ëá™ÁÑ∂Êï∞1Âà∞100ÁöÑÂíå‰∏∫Ôºö'||sum_i); end; /Ëá™ÁÑ∂Êï∞1Âà∞100ÁöÑÂíå‰∏∫Ôºö5050PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇforËØ≠Âè•ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123for variable_ counter_name in [reverse] lower_limit..upper_limit loop plsql_sentence;end loop;variable_ counter_nameÔºöË°®Á§∫‰∏Ä‰∏™ÂèòÈáèÔºåÈÄöÂ∏∏‰∏∫Êï¥Êï∞Á±ªÂûãÔºåÁî®Êù•‰Ωú‰∏∫ËÆ°Êï∞Âô®„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãËÆ°Êï∞Âô®ÁöÑÂÄº‰ºöÂæ™ÁéØÈÄíÂ¢ûÔºåÂΩìÂú®Âæ™ÁéØ‰∏≠‰ΩøÁî®reverseÂÖ≥ÈîÆÂ≠óÊó∂ÔºåËÆ°Êï∞Âô®ÁöÑÂÄº‰ºöÈöèÂæ™ÁéØÈÄíÂáè„ÄÇlower_limitÔºöËÆ°Êï∞Âô®ÁöÑ‰∏ãÈôêÂÄºÔºåÂΩìËÆ°Êï∞Âô®ÁöÑÂÄºÂ∞è‰∫é‰∏ãÈôêÂÄºÊó∂ÔºåÁ®ãÂ∫èÁªàÊ≠¢forÂæ™ÁéØ„ÄÇupper_limitÔºöËÆ°Êï∞Âô®ÁöÑ‰∏äÈôêÂÄºÔºåÂΩìËÆ°Êï∞Âô®ÁöÑÂÄºÂ§ß‰∫é‰∏äÈôêÂÄºÊó∂ÔºåÁ®ãÂ∫èÁªàÊ≠¢forÂæ™ÁéØ„ÄÇÊØîÂ¶ÇÔºå‰ΩøÁî® for ËØ≠Âè•Ê±ÇÂæóÂâç100 ‰∏™Ëá™ÁÑ∂Êï∞‰∏≠Â•áÊï∞‰πãÂíåÔºå12345678910111213141516SQL&gt; set serveroutput onSQL&gt; declare i int:=0; sum_i int:=0; begin for i in reverse 1..100 loop if mod(i,2)!=0 then sum_i:=sum_i+i; end if; end loop; dbms_output.put_line('Ëá™ÁÑ∂Êï∞1Âà∞100ÁöÑÂ•áÊï∞Âíå‰∏∫Ôºö'||sum_i); end; /Ëá™ÁÑ∂Êï∞1Âà∞100ÁöÑÂ•áÊï∞Âíå‰∏∫Ôºö2500PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÂú®‰∏äÈù¢ÁöÑfor ËØ≠Âè•‰∏≠ÔºåÁî±‰∫é‰ΩøÁî®‰∫ÜÂÖ≥ÈîÆÂ≠ó‚Äúreverse‚ÄùÔºåË°®Á§∫ËÆ°Êï∞Âô®i ÁöÑÂÄº‰∏∫ÈÄíÂáèÁä∂ÊÄÅÔºåÂç≥i ÁöÑÂàùÂßãÂÄº‰∏∫100ÔºåÈöèÁùÄÊØèÊ¨°ÈÄíÂáè1ÔºåÊúÄÂêé‰∏ÄÊ¨°for Âæ™ÁéØÊó∂i ÁöÑÂÄºÂèò‰∏∫1„ÄÇÂ¶ÇÊûúÂú®for ËØ≠Âè•‰∏≠‰∏ç‰ΩøÁî®ÂÖ≥ÈîÆÂ≠ó‚Äúreverse‚ÄùÔºåÂàôË°®Á§∫ËÆ°Êï∞Âô®i ÁöÑÂÄº‰∏∫ÈÄíÂ¢ûÁä∂ÊÄÅÔºåÂç≥i ÁöÑÂàùÂßãÂÄº‰∏∫1„ÄÇÊ∏∏Ê†áÊ∏∏Ê†áÂàÜ‰∏∫ÊòæÂºèÊ∏∏Ê†áÂíåÈöêÂºèÊ∏∏Ê†á„ÄÇÊòæÂºèÊ∏∏Ê†áÊòæÂºèÊ∏∏Ê†áÊòØÁî±Áî®Êà∑Â£∞ÊòéÂíåÊìç‰ΩúÁöÑ‰∏ÄÁßçÊ∏∏Ê†áÔºåÈÄöÂ∏∏Áî®‰∫éÊìç‰ΩúÊü•ËØ¢ÁªìÊûúÈõÜÔºå‰ΩøÁî®ÂÆÉÂ§ÑÁêÜÊï∞ÊçÆÁöÑÊ≠•È™§ÂåÖÊã¨ÔºöÂ£∞ÊòéÊ∏∏Ê†á„ÄÅÊâìÂºÄÊ∏∏Ê†á„ÄÅËØªÂèñÊ∏∏Ê†áÂíåÂÖ≥Èó≠Ê∏∏Ê†á4‰∏™Ê≠•È™§„ÄÇ1.Â£∞ÊòéÊ∏∏Ê†áÂ£∞ÊòéÊ∏∏Ê†á‰∏ªË¶ÅÂåÖÊã¨Ê∏∏Ê†áÂêçÁß∞Âíå‰∏∫Ê∏∏Ê†áÊèê‰æõÁªìÊûúÈõÜÁöÑ SELECT ËØ≠Âè•„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123cursor cur_name[(input_parameter1[,input_parameter2]‚Ä¶)] [return ret_type]is select_ sentence;cur_nameÔºöË°®Á§∫ÊâÄÂ£∞ÊòéÁöÑÊ∏∏Ê†áÂêçÁß∞„ÄÇret_typeÔºöË°®Á§∫ÊâßË°åÊ∏∏Ê†áÊìç‰ΩúÂêéÁöÑËøîÂõûÂÄºÁ±ªÂûãÔºåËøôÊòØ‰∏Ä‰∏™ÂèØÈÄâÈ°π„ÄÇselect_ sentenceÔºöÊ∏∏Ê†áÊâÄ‰ΩøÁî®ÁöÑSELECT ËØ≠Âè•ÔºåÂÆÉ‰∏∫Ê∏∏Ê†áÁöÑÂèçÂ§çËØªÂèñÊèê‰æõ‰∫ÜÁªìÊûúÈõÜ„ÄÇinput_parameter1Ôºö‰Ωú‰∏∫Ê∏∏Ê†áÁöÑ‚ÄúËæìÂÖ•ÂèÇÊï∞‚ÄùÔºåÂèØ‰ª•ÊúâÂ§ö‰∏™ÔºåËøôÊòØ‰∏Ä‰∏™ÂèØÈÄâÈ°π„ÄÇÊØîÂ¶ÇÂ£∞Êòé‰∏Ä‰∏™Ê∏∏Ê†áÔºåÁî®Êù•ËØªÂèñemp Ë°®‰∏≠ËÅåÂä°‰∏∫ÈîÄÂîÆÂëòÔºàSALESMANÔºâÁöÑÈõáÂëò‰ø°ÊÅØÔºö12345SQL&gt; declare cursor cur_emp(var_job in varchar2:='SALESMAN') is select empno,ename,sal from emp where job=var_job;ËæìÂÖ•ÂèÇÊï∞var_jobÁ±ªÂûã‰∏∫varchar2Ôºå‰ΩÜ‰∏çÂèØ‰ª•ÊåáÂÆöÈïøÂ∫¶ÔºåÂ¶ÇÔºövarchar2(10)ÔºåÂê¶ÂàôÁ®ãÂ∫èÊä•Èîô„ÄÇ2.ÊâìÂºÄÊ∏∏Ê†áÊâìÂºÄÊ∏∏Ê†áÁöÑËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö1open cur_name[(para_value1[,para_value2]‚Ä¶)];ÊØîÂ¶ÇÔºö1open cur_emp('MANAGER');‰∏äÈù¢ËøôÊù°ËØ≠Âè•Ë°®Á§∫ÊâìÂºÄÊ∏∏Ê†á cur_empÔºåÁÑ∂ÂêéÁªôÊ∏∏Ê†áÁöÑ‚ÄúËæìÂÖ•ÂèÇÊï∞‚ÄùËµãÂÄº‰∏∫‚ÄúMANAGER‚Äù„ÄÇÂΩìÁÑ∂ËøôÈáåÂèØ‰ª•ÁúÅÁï•‚Äú(‚ÄòMANAGER‚Äô)‚ÄùÔºåËøôÊ†∑Ë°®Á§∫‚ÄúËæìÂÖ•ÂèÇÊï∞‚ÄùÁöÑÂÄº‰ªçÁÑ∂‰ΩøÁî®ÂÖ∂ÂàùÂßãÂÄºÔºàÂç≥SALESMANÔºâ„ÄÇ3.ËØªÂèñÊ∏∏Ê†áÂΩìÊâìÂºÄ‰∏Ä‰∏™Ê∏∏Ê†á‰πãÂêéÔºåÂ∞±ÂèØ‰ª•ËØªÂèñÊ∏∏Ê†á‰∏≠ÁöÑÊï∞ÊçÆ‰∫ÜÂÖ∂ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö1fetch cur_name into &#123;variable&#125;;cur_nameÔºöË¶ÅËØªÂèñÁöÑÊ∏∏Ê†áÂêçÁß∞„ÄÇvariableÔºö%RECORDÁ±ªÂûãÊàñËÄÖ%ROWTYPEÁ±ªÂûãÂèòÈáè„ÄÇ4.ÂÖ≥Èó≠Ê∏∏Ê†áÊ∏∏Ê†á‰ΩøÁî®ÂÆåÊØïÂêéÈúÄË¶ÅÂÖ≥Èó≠Ôºå‰ª•ÈáäÊîæÁ≥ªÁªüËµÑÊ∫êÔºåÊØîÂ¶Ç SELECT ËØ≠Âè•ËøîÂõûÁöÑÁªìÊûúÈõÜÁ≠â„ÄÇÂÆÉÁöÑËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö1close cur_name;Ê∏∏Ê†áÁöÑÂ±ûÊÄßÊó†ËÆ∫ÊòØÊòæÂºèÊ∏∏Ê†áËøòÊòØÈöêÂºèÊ∏∏Ê†áÔºåÈÉΩÂÖ∑Êúâ%found„ÄÅ%notfound„ÄÅ%isopen Âíå%rowcount4‰∏™Â±ûÊÄßÔºåÈÄöËøáËøô4‰∏™Â±ûÊÄßÂèØ‰ª•Ëé∑Áü•SQLËØ≠Âè•ÁöÑÊâßË°åÁªìÊûú‰ª•ÂèäËØ•Ê∏∏Ê†áÁöÑÁä∂ÊÄÅ‰ø°ÊÅØÔºö%foundÔºöÂ∏ÉÂ∞îÂûãÂ±ûÊÄßÔºåÂ¶ÇÊûúSQL ËØ≠Âè•Ëá≥Â∞ëÂΩ±ÂìçÂà∞‰∏ÄË°åÊï∞ÊçÆÔºåÂàôËØ•Â±ûÊÄß‰∏∫trueÔºåÂê¶Âàô‰∏∫fasle„ÄÇ%notfoundÔºöÂ∏ÉÂ∞îÂûãÂ±ûÊÄßÔºå‰∏é%found Â±ûÊÄßÁöÑÂäüËÉΩÁõ∏Âèç„ÄÇ%rowcountÔºöÊï∞Â≠óÂûãÂ±ûÊÄßÔºåËøîÂõûÂèóSQL ËØ≠Âè•ÂΩ±ÂìçÁöÑË°åÊï∞„ÄÇ%isopenÔºöÂ∏ÉÂ∞îÂûãÂ±ûÊÄßÔºåÂΩìÊ∏∏Ê†áÂ∑≤ÁªèÊâìÂºÄÊó∂ËøîÂõûtrueÔºåÊ∏∏Ê†áÂÖ≥Èó≠Êó∂Âàô‰∏∫false„ÄÇ‰∏ãÈù¢‰∏æ‰∏™‰ΩøÁî®ÊòæÂºèÊ∏∏Ê†áÁöÑ‰æãÂ≠êÔºö12345678910111213141516171819202122SQL&gt; set serveroutput onSQL&gt; declare cursor cur_emp(var_job in varchar2:='SALESMAN') is select * from scott.emp where job=var_job; row_emp scott.emp%rowtype; begin open cur_emp; fetch cur_emp into row_emp; //ÂÖàËÆ©ÊåáÈíàÊåáÂêëÁªìÊûúÈõÜ‰∏≠ÁöÑÁ¨¨‰∏ÄË°åÔºåÂπ∂Â∞ÜÂÄº‰øùÂ≠òÂà∞row_emp‰∏≠ while cur_emp%found loop dbms_output.put_line('ÈõáÂëò'||row_emp.ename||'ÁöÑÁºñÂè∑ÊòØ'||row_emp.empno||'ÔºåÂ∑•ËµÑÊòØÔºö'||row_emp.sal); fetch cur_emp into row_emp; //ËÆ©ÊåáÈíàÊåáÂêëÁªìÊûúÈõÜ‰∏≠ÁöÑ‰∏ã‰∏ÄË°åÔºåÂπ∂Â∞ÜÂÄº‰øùÂ≠òÂà∞row_emp‰∏≠ end loop; close cur_emp; end; /ÈõáÂëòALLENÁöÑÁºñÂè∑ÊòØ7499ÔºåÂ∑•ËµÑÊòØÔºö1600ÈõáÂëòWARDÁöÑÁºñÂè∑ÊòØ7521ÔºåÂ∑•ËµÑÊòØÔºö1250ÈõáÂëòMARTINÁöÑÁºñÂè∑ÊòØ7654ÔºåÂ∑•ËµÑÊòØÔºö1250ÈõáÂëòTURNERÁöÑÁºñÂè∑ÊòØ7844ÔºåÂ∑•ËµÑÊòØÔºö1500PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÈöêÂºèÊ∏∏Ê†áÂú®ÊâßË°å‰∏Ä‰∏™ SQL ËØ≠Âè•Êó∂ÔºåOracle ‰ºöËá™Âä®ÂàõÂª∫‰∏Ä‰∏™ÈöêÂºèÊ∏∏Ê†á„ÄÇËøô‰∏™Ê∏∏Ê†áÊòØÂÜÖÂ≠ò‰∏≠Â§ÑÁêÜËØ•ËØ≠Âè•ÁöÑÂ∑•‰ΩúÂå∫Âüü„ÄÇÈöêÂºèÊ∏∏Ê†á‰∏ªË¶ÅÊòØÂ§ÑÁêÜÊï∞ÊçÆÊìçÁ∫µËØ≠Âè•ÔºàÂ¶ÇUPDATE„ÄÅDELETE ËØ≠Âè•ÔºâÁöÑÊâßË°åÁªìÊûúÔºåÂΩìÁÑ∂ÁâπÊÆäÊÉÖÂÜµ‰∏ãÔºå‰πüÂèØ‰ª•Â§ÑÁêÜSELECT ËØ≠Âè•ÁöÑÊü•ËØ¢ÁªìÊûú„ÄÇÁî±‰∫éÈöêÂºèÊ∏∏Ê†á‰πüÊúâÂ±ûÊÄßÔºåÂΩì‰ΩøÁî®ÈöêÂºèÊ∏∏Ê†áÁöÑÂ±ûÊÄßÊó∂ÔºåÈúÄË¶ÅÂú®Â±ûÊÄßÂâçÈù¢Âä†‰∏äÈöêÂºèÊ∏∏Ê†áÁöÑÈªòËÆ§ÂêçÁß∞‚Äî‚Äîsql„ÄÇÂú®ÂÆûÈôÖÁöÑ PL/SQL ÁºñÁ®ã‰∏≠ÔºåÁªèÂ∏∏‰ΩøÁî®ÈöêÂºèÊ∏∏Ê†áÊù•Âà§Êñ≠Êõ¥Êñ∞Êï∞ÊçÆË°åÊàñÂà†Èô§Êï∞ÊçÆË°åÁöÑÊÉÖÂÜµ„ÄÇÊØîÂ¶ÇÊääscott.empË°®‰∏≠ÈîÄÂîÆÂëòÔºàÂç≥SALESMANÔºâÁöÑÂ∑•ËµÑ‰∏äË∞É20%ÔºåÁÑ∂Âêé‰ΩøÁî®ÈöêÂºèÊ∏∏Ê†ásqlÁöÑ%rowcountÂ±ûÊÄßËæìÂá∫‰∏äË∞ÉÂ∑•ËµÑÁöÑÂëòÂ∑•Êï∞ÈáèÔºö1234567891011121314SQL&gt; set serveroutput onSQL&gt; begin update scott.emp set sal=sal*1.2 where job='SALESMAN'; if sql%notfound then dbms_output.put_line('Ê≤°ÊúâÈõáÂëòÈúÄË¶Å‰∏äË∞ÉÂ∑•ËµÑ'); else dbms_output.put_line('Êúâ'||sql%rowcount||'‰∏™ÈõáÂëòÂ∑•ËµÑ‰∏äË∞É20%'); end if; end; /Êúâ4‰∏™ÈõáÂëòÂ∑•ËµÑ‰∏äË∞É20%PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÈÄöËøáforËØ≠Âè•Âæ™ÁéØÊ∏∏Ê†áÂú®‰ΩøÁî®ÈöêÂºèÊ∏∏Ê†áÊàñÊòæÂºèÊ∏∏Ê†áÂ§ÑÁêÜÂÖ∑ÊúâÂ§öË°åÊï∞ÊçÆÁöÑÁªìÊûúÈõÜÊó∂ÔºåÁî®Êà∑ÂèØ‰ª•ÈÖçÂêàforËØ≠Âè•Êù•ÂÆåÊàê„ÄÇÂú®‰ΩøÁî®forËØ≠Âè•ÈÅçÂéÜÊ∏∏Ê†á‰∏≠ÁöÑÊï∞ÊçÆÊó∂ÔºåÂèØ‰ª•ÊääÂÆÉÁöÑËÆ°Êó∂Âô®ÁúãÂÅö‰∏Ä‰∏™Ëá™Âä®ÁöÑRECORDÁ±ªÂûãÁöÑÂèòÈáè„ÄÇÊØîÂ¶Ç‰ΩøÁî®forÈÅçÂéÜ‰∏Ä‰∏™ÈöêÂºèÊ∏∏Ê†áÔºö12345678910111213SQL&gt; set serveroutput onSQL&gt; begin for emp_record in (select * from scott.emp where job='SALESMAN') loop dbms_output.put_line('ÈõáÂëòÁºñÂè∑Ôºö'||emp_record.empno||'ÔºåÈõáÂëòÂßìÂêçÔºö'||emp_record.ename||'ÔºåÂ∑•ËµÑ‰∏∫Ôºö'||emp_record); end loop; end; /ÈõáÂëòÁºñÂè∑Ôºö7499ÔºåÈõáÂëòÂßìÂêçÔºöALLENÔºåÂ∑•ËµÑ‰∏∫Ôºö1920ÈõáÂëòÁºñÂè∑Ôºö7521ÔºåÈõáÂëòÂßìÂêçÔºöWARDÔºåÂ∑•ËµÑ‰∏∫Ôºö1500ÈõáÂëòÁºñÂè∑Ôºö7654ÔºåÈõáÂëòÂßìÂêçÔºöMARTINÔºåÂ∑•ËµÑ‰∏∫Ôºö1500ÈõáÂëòÁºñÂè∑Ôºö7844ÔºåÈõáÂëòÂßìÂêçÔºöTURNERÔºåÂ∑•ËµÑ‰∏∫Ôºö1800PL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇÂºÇÂ∏∏Âú®ÁºñÂÜôPL/SQLÁ®ãÂ∫èÊó∂ÔºåÈÅøÂÖç‰∏ç‰∫Ü‰ºöÂèëÁîü‰∏Ä‰∫õÂºÇÂ∏∏„ÄÇOracle Á≥ªÁªüÂºÇÂ∏∏ÂàÜ‰∏∫È¢ÑÂÆö‰πâÂºÇÂ∏∏ÂíåËá™ÂÆö‰πâÂºÇÂ∏∏„ÄÇÈ¢ÑÂÆö‰πâÂºÇÂ∏∏OracleÁ≥ªÁªüÂ∏∏ËßÅÁöÑÈ¢ÑÂÆö‰πâÂºÇÂ∏∏ÂèäÂÖ∂ËØ¥ÊòéÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöÁ≥ªÁªüÈ¢ÑÂÆö‰πâÂºÇÂ∏∏ËØ¥ÊòéZERO_DIVIDEÈô§Êï∞‰∏∫Èõ∂Êó∂ÂºïÂèëÁöÑÂºÇÂ∏∏ACCESS_INTO_NULL‰ºÅÂõæ‰∏∫Êüê‰∏™Êú™ÂàùÂßãÂåñÂØπË±°ÁöÑÂ±ûÊÄßËµãÂÄºCOLLECTION_IS_NULL‰ºÅÂõæ‰ΩøÁî®Êú™ÂàùÂßãÂåñÁöÑÈõÜÂêàÂÖÉÁ¥†CURSOR_ALREADY_OPEN‰ºÅÂõæÂÜçÊ¨°ÊâìÂºÄ‰∏Ä‰∏™Â∑≤ÁªèÊâìÂºÄËøáÁöÑÊ∏∏Ê†áÔºå‰ΩÜÂú®ÈáçÊñ∞ÊâìÂºÄ‰πãÂâçÔºåÊ∏∏Ê†áÊú™ÂÖ≥Èó≠INVALID_CURSORÊâßË°å‰∏Ä‰∏™ÈùûÊ≥ïÁöÑÊ∏∏Ê†áÊìç‰ΩúÔºå‰æãÂ¶ÇÔºåÂÖ≥Èó≠‰∏Ä‰∏™Êú™ÊâìÂºÄÁöÑÊ∏∏Ê†áINVALID_NUMBER‰ºÅÂõæÂ∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢Êàê‰∏Ä‰∏™Êó†ÊïàÁöÑÊï∞Â≠óËÄåÂ§±Ë¥•LOGIN_DENIED‰ºÅÂõæ‰ΩøÁî®Êó†ÊïàÁöÑÁî®Êà∑ÂêçÊàñÂØÜÁ†ÅËøûÊé•Êï∞ÊçÆÂ∫ìNO_DATA_FOUNDSELECT INTO ËØ≠Âè•Ê≤°ÊúâËøîÂõûÊï∞ÊçÆROWTYPE_MISMATCH‰∏ªÊ∏∏Ê†áÂèòÈáè‰∏éPL/SQL Ê∏∏Ê†áÂèòÈáèÁöÑËøîÂõûÁ±ªÂûã‰∏çÂÖºÂÆπSELF_IS_NULL‰ΩøÁî®ÂØπË±°Á±ªÂûãÊó∂Ôºå‰ΩøÁî®Á©∫ÂØπË±°Ë∞ÉÁî®ÂÖ∂ÊñπÊ≥ïSUBSCRIPT_BEYOND_COUNTÂÖÉÁ¥†‰∏ãÊ†áË∂ÖËøáÂµåÂ•óË°®ÊàñVARRAY ÁöÑÊúÄÂ§ßÂÄºSUBSCRIPT_OUTSIDE_LIMIT‰ºÅÂõæ‰ΩøÁî®ÈùûÊ≥ïÁ¥¢ÂºïÂè∑ÂºïÁî®ÂµåÂ•óË°®ÊàñVARRAY ‰∏≠ÁöÑÂÖÉÁ¥†SYS_INVALID_ROWIDÂ≠óÁ¨¶‰∏≤ÂêëROWID ËΩ¨Êç¢Êó∂ÁöÑÈîôËØØÔºåÂõ†‰∏∫ËØ•Â≠óÁ¨¶‰∏≤‰∏çÊòØ‰∏Ä‰∏™ÊúâÊïàÁöÑROWID ÂÄºTIMEOUT_ON_RESOURCEOracle Âú®Á≠âÂæÖËµÑÊ∫êÊó∂Ë∂ÖÊó∂TOO_MANY_ROWSÊâßË°åSELECT INTO ËØ≠Âè•Êó∂ÔºåÁªìÊûúÈõÜË∂ÖËøá‰∏ÄË°åÂºïÂèëÁöÑÂºÇÂ∏∏ÊØîÂ¶ÇÔºö1234567891011121314151617181920SQL&gt; set serveroutput onSQL&gt; declare var_empno number; var_ename varchar2(50); begin select empno,ename into var_empno,var_ename from scott.emp where deptno=10; if sql%found then dbms_output.put_line('ÈõáÂëòÁºñÂè∑Ôºö'||var_empno); end if; exception when too_many_rows then dbms_output.put_line('ËøîÂõûËÆ∞ÂΩïË∂ÖËøá‰∏ÄË°å'); when no_data_found then dbms_output.put_line('Êó†Êï∞ÊçÆ'); end; /ËøîÂõûËÆ∞ÂΩïË∂ÖËøá‰∏ÄË°åPL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇËá™ÂÆö‰πâÂºÇÂ∏∏OracleÁöÑËá™ÂÆö‰πâÂºÇÂ∏∏Â∞±ÂèØ‰ª•ÂàÜ‰∏∫ÈîôËØØÁºñÂè∑ÂºÇÂ∏∏Âíå‰∏öÂä°ÈÄªËæëÂºÇÂ∏∏‰∏§Áßç„ÄÇ1.ÈîôËØØÁºñÂè∑ÂºÇÂ∏∏ÈîôËØØÁºñÂè∑ÂºÇÂ∏∏ÊòØÊåáÂú®OracleÁ≥ªÁªüÂèëÁîüÈîôËØØÊó∂ÔºåÁ≥ªÁªü‰ºöÊòæÁ§∫ÈîôËØØÁºñÂè∑ÂíåÁõ∏ÂÖ≥ÊèèËø∞‰ø°ÊÅØÁöÑÂºÇÂ∏∏ÔºåÊØîÂ¶ÇÔºö12345SQL&gt; insert into scott.dept values(10,'ÂºÄÂèë‰∏ÄÈÉ®','Á¶èÂ∑û');insert into scott.dept values(10,'ÂºÄÂèë‰∏ÄÈÉ®','Á¶èÂ∑û')*Á¨¨ 1 Ë°åÂá∫Áé∞ÈîôËØØ:ORA-00001: ËøùÂèçÂîØ‰∏ÄÁ∫¶ÊùüÊù°‰ª∂ (SCOTT.PK_DEPT)ÂØπ‰∫éËøôÁßçÂºÇÂ∏∏ÔºåÈ¶ñÂÖàÂú®PL/SQLÂùóÁöÑÂ£∞ÊòéÈÉ®ÂàÜÔºàDECLARE ÈÉ®ÂàÜÔºâ‰ΩøÁî®EXCEPTIONÁ±ªÂûãÂÆö‰πâ‰∏Ä‰∏™ÂºÇÂ∏∏ÂèòÈáèÂêçÔºåÁÑ∂Âêé‰ΩøÁî®ËØ≠Âè•PRAGMA EXCEPTION_INIT‰∏∫‚ÄúÈîôËØØÁºñÂè∑‚ÄùÂÖ≥ËÅîËøô‰∏™ÂºÇÂ∏∏ÂèòÈáèÂêçÔºåÊé•‰∏ãÊù•Â∞±ÂèØ‰ª•ÂÉèÂØπÂæÖÁ≥ªÁªüÈ¢ÑÂÆö‰πâÂºÇÂ∏∏‰∏ÄÊ†∑Â§ÑÁêÜ‰∫Ü„ÄÇÊØîÂ¶ÇÔºö1234567891011121314SQL&gt; set serveroutput onSQL&gt; declare primary_iterant exception; pragma exception_init(primary_iterant,-00001); begin insert into scott.dept values(10,'ÂºÄÂèë‰∏ÄÈÉ®','Á¶èÂ∑û'); exception when primary_iterant then dbms_output.put_line('‰∏ªÈîÆÈáçÂ§çÔºÅ'); end; /‰∏ªÈîÆÈáçÂ§çÔºÅPL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇ2.‰∏öÂä°ÂºÇÂ∏∏Á®ãÂ∫èÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Ê†πÊçÆÂÖ∑‰ΩìÁöÑ‰∏öÂä°ÈÄªËæëËßÑÂàôËá™ÂÆö‰πâ‰∏Ä‰∏™ÂºÇÂ∏∏„ÄÇ‰∏öÂä°ÈÄªËæëÂºÇÂ∏∏ÊòØOracleÁ≥ªÁªüÊú¨Ë∫´Êó†Ê≥ïÁü•ÈÅìÁöÑÔºåËøôÊ†∑Â∞±ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ÂºïÂèëÂºÇÂ∏∏ÁöÑÊú∫Âà∂ÔºåÂºïÂèë‰∏öÂä°ÈÄªËæëÂºÇÂ∏∏ÈÄöÂ∏∏‰ΩøÁî®RAISE ËØ≠Âè•Êù•ÂÆûÁé∞„ÄÇÊØîÂ¶ÇÔºåËá™ÂÆö‰πâ‰∏Ä‰∏™ÂºÇÂ∏∏ÂèòÈáèÔºåÂú®ÂêëdeptË°®‰∏≠ÊèíÂÖ•Êï∞ÊçÆÊó∂ÔºåËã•Âà§Êñ≠locÂ≠óÊÆµÁöÑÂÄº‰∏∫nullÔºåÂàô‰ΩøÁî®raiseËØ≠Âè•ÂºïÂèëÂºÇÂ∏∏Ôºö123456789101112131415161718192021SQL&gt; set serveroutput onSQL&gt; declare null_exception exception; dept_row scott.dept%rowtype; begin dept_row.deptno:=66; dept_row.dname:='ÂºÄÂèë‰∫åÈÉ®'; insert into scott.dept values(dept_row.deptno,dept_row.dname,dept_row.loc); if dept_row.loc is null then raise null_exception; end if; exception when null_exception then dbms_output.put_line('locÂ≠óÊÆµ‰∏çËÉΩ‰∏∫Á©∫ÔºÅ'); rollback; end; /locÂ≠óÊÆµ‰∏çËÉΩ‰∏∫Á©∫ÔºÅPL/SQL ËøáÁ®ãÂ∑≤ÊàêÂäüÂÆåÊàê„ÄÇ]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle SQLPlusÂëΩ‰ª§]]></title>
    <url>%2FOracle-SQLPlus%E5%91%BD%E4%BB%A4.html</url>
    <content type="text"><![CDATA[SQLPlusÊòØ‰∏Ä‰∏™Ë¢´DBAÂíåÂºÄÂèë‰∫∫ÂëòÂπøÊ≥õ‰ΩøÁî®ÁöÑÂäüËÉΩÂº∫Â§ßÁöÑOracleÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Âú®ÂêÑ‰∏™Âπ≥Âè∞‰∏äÊã•ÊúâÊìç‰ΩúÁöÑ‰∏ÄËá¥ÊÄß„ÄÇSQLPlusÂèØ‰ª•ÊâßË°åËæìÂÖ•ÁöÑSQLËØ≠Âè•ÂíåSQLÊñá‰ª∂ÔºåÈÄöËøáSQLPlusÂèØ‰ª•ÂíåÊï∞ÊçÆÂ∫ìËøõË°åÂØπËØù„ÄÇ‰ª•‰∏ã‰æãÂ≠êÂü∫‰∫éOracle 11g„ÄÇsetÂëΩ‰ª§ËÆæÁΩÆËøêË°åÁéØÂ¢ÉÂú®Oracle 11g‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®setÂëΩ‰ª§Êù•ËÆæÁΩÆSQLPlusÁöÑËøêË°åÁéØÂ¢É„ÄÇsetÂëΩ‰ª§ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1set variable valuevariable‰∏∫ÂèòÈáèÂêçÔºåvalue‰∏∫ÂèòÈáèÂÄº„ÄÇ‰∏ãÈù¢‰ªãÁªçÂá†‰∏™Â∏∏Áî®ÁöÑsetÂèòÈáè„ÄÇpagesizeÂèòÈáèpagesizeÂèòÈáèÁî®Êù•ËÆæÁΩÆ‰ªéÈ°∂ÈÉ®Ê†áÈ¢òÂà∞È°µÁªìÊùüË°åÔºàÂåÖÂê´È°µÈ¶ñÁöÑÁ©∫Ë°åÔºâ‰πãÈó¥ÁöÑË°åÊï∞„ÄÇpagesizeÁöÑÈªòËÆ§ÂÄº‰∏∫14Ôºö12SQL&gt; show pagesizepagesize 14‰ΩøÁî®set pagesizeÂëΩ‰ª§‰øÆÊîπ‰∏ÄÈ°µÁöÑË°åÊï∞‰∏∫18Ôºö1234567891011121314151617181920SQL&gt; set pagesize 18;SQL&gt; select user_id,username,account_status from dba_users; USER_ID USERNAME ACCOUNT_STATUS---------- ------------------------------ -------------------------------- 74 MGMT_VIEW OPEN 0 SYS OPEN 5 SYSTEM OPEN 30 DBSNMP OPEN 72 SYSMAN OPEN 84 SCOTT OPEN 9 OUTLN EXPIRED &amp; LOCKED 75 FLOWS_FILES EXPIRED &amp; LOCKED 57 MDSYS EXPIRED &amp; LOCKED 53 ORDSYS EXPIRED &amp; LOCKED 42 EXFSYS EXPIRED &amp; LOCKED 32 WMSYS EXPIRED &amp; LOCKED 31 APPQOSSYS EXPIRED &amp; LOCKED 78 APEX_030200 EXPIRED &amp; LOCKED 83 OWBSYS_AUDIT EXPIRED &amp; LOCKEDÂèØÊâãÂä®Êï∞‰∏Ä‰∏ãÊòØ‰∏çÊòØ18Ë°å(lllÔø¢œâÔø¢)„ÄÇnewpageÂèòÈáèËØ•ÂèòÈáèÁî®‰∫éËÆæÁΩÆ‰∏ÄÈ°µ‰∏≠Á©∫Ë°åÁöÑÊï∞ÈáèÔºåÈªòËÆ§ÂÄº‰∏∫1ÔºåÂèØ‰ª•‰ΩøÁî®set newpageÂëΩ‰ª§ÊîπÂèòËØ•ÂÄºÔºö12345678910111213141516171819202122SQL&gt; show newpagenewpage 1SQL&gt; set newpage 5SQL&gt; select user_id,username,account_status from dba_users; USER_ID USERNAME ACCOUNT_STATUS---------- ------------------------------ -------------------------------- 74 MGMT_VIEW OPEN 0 SYS OPEN 5 SYSTEM OPEN 30 DBSNMP OPEN 72 SYSMAN OPEN 84 SCOTT OPEN 9 OUTLN EXPIRED &amp; LOCKED 75 FLOWS_FILES EXPIRED &amp; LOCKED 57 MDSYS EXPIRED &amp; LOCKED 53 ORDSYS EXPIRED &amp; LOCKED 42 EXFSYS EXPIRED &amp; LOCKEDlinesizeÂèòÈáèËØ•ÂèòÈáèÁî®‰∫éËÆæÁΩÆSQLPlusÁéØÂ¢É‰∏≠‰∏ÄË°åÊâÄÊòæÁ§∫ÁöÑÊúÄÂ§öÂ≠óÁ¨¶ÊÄªÊï∞ÔºåÈªòËÆ§ÂÄº‰∏∫80ÔºåÂΩìpagesizeËøáÂ∞èÊó∂ÔºåÊï∞ÊçÆÂ∞±‰ºöÂá∫Áé∞ÊäòË°åÊòæÁ§∫ÁöÑÊÉÖÂÜµ„ÄÇÂèØ‰ª•‰ΩøÁî®set linesizeÂëΩ‰ª§Êù•Ë∞ÉÊï¥linesizeÁöÑÂÄºÔºö123SQL&gt; show linesizelinesize 80SQL&gt; set linesize 120pauseÂèòÈáèÁî®‰∫éËÆæÁΩÆËæìÂá∫ÁªìÊûúÁøªÈ°µÊó∂ÔºåÊòØÂê¶ÊöÇÂÅúÔºåÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1set pause valuevalueÂèØÂèñÁöÑÂÄºÊúâÔºöoffÔºåÈªòËÆ§ÂÄºÔºåËøîÂõûÁªìÊûú‰∏ÄÊ¨°ÊÄßËæìÂá∫ÂÆåÊØïÔºå‰∏≠Èó¥ÁøªÈ°µ‰∏ç‰ºöÊöÇÂÅúÔºõonÔºåË°®Á§∫ËæìÂá∫ÁªìÊûúÁöÑÊØè‰∏ÄÈ°µÈÉΩÊöÇÂÅúÔºåÁî®Êà∑ÊåâENTERÁªßÁª≠ÔºõtextÔºåÂú®ËÆæÁΩÆ‰∏∫on‰πãÂêéÔºåÁªßÁª≠ËÆæÁΩÆtextÁöÑÂÄºÔºåÁî®‰∫éÊöÇÂÅúÊó∂ÊòæÁ§∫ÔºõÊØîÂ¶ÇÔºö1234567891011121314151617181920212223SQL&gt; set pause onSQL&gt; set pause 'Êåâ&lt;enter&gt;ÈîÆÁªßÁª≠'SQL&gt; select user_id,username,account_status from dba_users;Êåâ&lt;enter&gt;ÈîÆÁªßÁª≠ USER_ID USERNAME ACCOUNT_STATUS---------- ------------------------------ -------------------------------- 74 MGMT_VIEW OPEN 0 SYS OPEN 5 SYSTEM OPEN 30 DBSNMP OPEN 72 SYSMAN OPEN 84 SCOTT OPEN 9 OUTLN EXPIRED &amp; LOCKED 75 FLOWS_FILES EXPIRED &amp; LOCKED 57 MDSYS EXPIRED &amp; LOCKED 53 ORDSYS EXPIRED &amp; LOCKED 42 EXFSYS EXPIRED &amp; LOCKED 32 WMSYS EXPIRED &amp; LOCKED 31 APPQOSSYS EXPIRED &amp; LOCKED 78 APEX_030200 EXPIRED &amp; LOCKED 83 OWBSYS_AUDIT EXPIRED &amp; LOCKEDÊåâ&lt;enter&gt;ÈîÆÁªßÁª≠numformatÂèòÈáèËØ•ÂèòÈáèÂÄºÁî®‰∫éËÆæÁΩÆÊòæÁ§∫Êï∞ÂÄºÁöÑÈªòËÆ§Ê†ºÂºèÔºåÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1set numformat formatformat‰∏∫Êï∞ÂÄºÊé©Á†ÅÔºåÂ∏∏Áî®ÂÄºÂèäÂÖ∂ËØ¥ÊòéÂ¶Ç‰∏ãÔºöÊé©Á†ÅËØ¥Êòé‰∏æ‰æã9Êü•ËØ¢ÁªìÊûú‰∏≠Êï∞Â≠óÊõøÊç¢Ê†ºÂºèÁöÑÊé©Á†Å9990Ê†ºÂºè‰∏≠ÁöÑÊé©Á†ÅÂ±èËîΩÊéâÊü•ËØ¢ÁªìÊûú‰∏≠ÁöÑÊï∞Â≠ó999.00$Âú®Êü•ËØ¢ÁªìÊûú‰∏≠ÁöÑÊï∞Â≠óÂâçÊ∑ªÂä†ÁæéÂÖÉÂâçÁºÄ$999S‰∏∫Êï∞Â≠óÊòæÁ§∫Á¨¶Âè∑Á±ªÂûãÔºåÈÄöÂ∏∏Áî®‰∫éÊòæÁ§∫Êü•ËØ¢ÁªìÊûú‰∏≠ÁöÑÊ≠£Ë¥üÊï∞Â≠óS999,Âú®Â≠óÁ¨¶,‰ΩçÁΩÆ‰∏äÊîæÁΩÆÈÉΩÈÄóÂè∑/td&gt;999,99Êü•Áúãscott.empË°®‰∏≠ÁöÑSALÂ≠óÊÆµÂÄºÔºåÁÑ∂Âêé‰ΩøÁî®‚Äù$999,999,999.00‚ÄùÊ†ºÂºèÊòæÁ§∫:12345678910111213141516171819202122232425262728293031SQL&gt; select ename,job,sal from scott.emp;ENAME JOB SAL---------- --------- ----------SMITH CLERK 800ALLEN SALESMAN 1600WARD SALESMAN 1250JONES MANAGER 2975MARTIN SALESMAN 1250BLAKE MANAGER 2850CLARK MANAGER 2450SCOTT ANALYST 3000KING PRESIDENT 5000TURNER SALESMAN 1500ADAMS CLERK 1100SQL&gt; set numformat $999,999,999.00SQL&gt; select ename,job,sal from scott.emp;ENAME JOB SAL---------- --------- ----------------SMITH CLERK $800.00ALLEN SALESMAN $1,600.00WARD SALESMAN $1,250.00JONES MANAGER $2,975.00MARTIN SALESMAN $1,250.00BLAKE MANAGER $2,850.00CLARK MANAGER $2,450.00SCOTT ANALYST $3,000.00KING PRESIDENT $5,000.00TURNER SALESMAN $1,500.00ADAMS CLERK $1,100.00timingÂèòÈáèËØ•ÂèòÈáèÁî®‰∫éÊòæÁ§∫ÊâßË°åSQLËØ≠Âè•ÊâÄËä±ÁöÑÊó∂Èó¥ÔºåÈªòËÆ§ÂÄº‰∏∫offÔºö1234567891011121314151617181920212223242526SQL&gt; set timing onSQL&gt; select ename,job,sal from scott.emp;ENAME JOB SAL---------- --------- ----------------SMITH CLERK $800.00ALLEN SALESMAN $1,600.00WARD SALESMAN $1,250.00JONES MANAGER $2,975.00MARTIN SALESMAN $1,250.00BLAKE MANAGER $2,850.00CLARK MANAGER $2,450.00SCOTT ANALYST $3,000.00KING PRESIDENT $5,000.00TURNER SALESMAN $1,500.00ADAMS CLERK $1,100.00ENAME JOB SAL---------- --------- ----------------JAMES CLERK $950.00FORD ANALYST $3,000.00MILLER CLERK $1,300.00Â∑≤ÈÄâÊã©14Ë°å„ÄÇÂ∑≤Áî®Êó∂Èó¥: 00: 00: 00.04setÂëΩ‰ª§ËøòÊúâÂæàÂ§öÂèòÈáèÂèØÁî®ÔºåÂèØ‰ΩøÁî®help setÂëΩ‰ª§Êù•Êü•Áúã„ÄÇÂ∏∏Áî®SQLPlusÂëΩ‰ª§helpÂëΩ‰ª§helpÂëΩ‰ª§Áî®Êù•Â∏ÆÂä©Áî®Êà∑Êü•ËØ¢ÊåáÂÆöÂëΩ‰ª§ËØ¶ÁªÜ‰ªãÁªçÔºåÁ±ª‰ºº‰∫éLinuxÁöÑmanÔºåÂÖ∂ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1help|? [topic]?Ë°®Á§∫‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑÈÉ®ÂàÜÂ≠óÁ¨¶ÔºåÁî®‰∫éÊ®°Á≥äÊü•ËØ¢ÔºõtopicÂèÇÊï∞Ë°®Á§∫Ë¶ÅÊü•ËØ¢ÁöÑÂëΩ‰ª§ÁöÑÂÆåÊï¥ÂêçÁß∞„ÄÇÂ¶ÇÊûúÁõ¥Êé•ËæìÂÖ•helpÔºåÂàôÊòæÁ§∫ÁöÑÊòØÂëΩ‰ª§Êú¨Ë∫´ÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273SQL&gt; help HELP ---- Accesses this command line help system. Enter HELP INDEX or ? INDEX for a list of topics. You can view SQL*Plus resources at http://www.oracle.com/technology/tech/sql_plus/ and the Oracle Database Library at http://www.oracle.com/technology/documentation/ HELP|? [topic]SQL&gt; help set SET --- Sets a system variable to alter the SQL*Plus environment settings for your current session. For example, to: - set the display width for data - customize HTML formatting - enable or disable printing of column headings - set the number of lines per page SET system_variable value where system_variable and value represent one of the following clauses: APPI[NFO]&#123;OFF|ON|text&#125; NEWP[AGE] &#123;1|n|NONE&#125; ARRAY[SIZE] &#123;15|n&#125; NULL text AUTO[COMMIT] &#123;OFF|ON|IMM[EDIATE]|n&#125; NUMF[ORMAT] format AUTOP[RINT] &#123;OFF|ON&#125; NUM[WIDTH] &#123;10|n&#125; AUTORECOVERY &#123;OFF|ON&#125; PAGES[IZE] &#123;14|n&#125; AUTOT[RACE] &#123;OFF|ON|TRACE[ONLY]&#125; PAU[SE] &#123;OFF|ON|text&#125; [EXP[LAIN]] [STAT[ISTICS]] RECSEP &#123;WR[APPED]|EA[CH]|OFF&#125; BLO[CKTERMINATOR] &#123;.|c|ON|OFF&#125; RECSEPCHAR &#123;_|c&#125; CMDS[EP] &#123;;|c|OFF|ON&#125; SERVEROUT[PUT] &#123;ON|OFF&#125; COLSEP &#123;_|text&#125; [SIZE &#123;n | UNLIMITED&#125;] CON[CAT] &#123;.|c|ON|OFF&#125; [FOR[MAT] &#123;WRA[PPED] | COPYC[OMMIT] &#123;0|n&#125; WOR[D_WRAPPED] | COPYTYPECHECK &#123;ON|OFF&#125; TRU[NCATED]&#125;] DEF[INE] &#123;&amp;|c|ON|OFF&#125; SHIFT[INOUT] &#123;VIS[IBLE] | DESCRIBE [DEPTH &#123;1|n|ALL&#125;] INV[ISIBLE]&#125; [LINENUM &#123;OFF|ON&#125;] [INDENT &#123;OFF|ON&#125;] SHOW[MODE] &#123;OFF|ON&#125; ECHO &#123;OFF|ON&#125; SQLBL[ANKLINES] &#123;OFF|ON&#125; EDITF[ILE] file_name[.ext] SQLC[ASE] &#123;MIX[ED] | EMB[EDDED] &#123;OFF|ON&#125; LO[WER] | UP[PER]&#125; ERRORL[OGGING] &#123;ON|OFF&#125; SQLCO[NTINUE] &#123;&gt; | text&#125; [TABLE [schema.]tablename] SQLN[UMBER] &#123;ON|OFF&#125; [TRUNCATE] [IDENTIFIER identifier] SQLPLUSCOMPAT[IBILITY] &#123;x.y[.z]&#125; ESC[APE] &#123;\|c|OFF|ON&#125; SQLPRE[FIX] &#123;#|c&#125; ESCCHAR &#123;@|?|%|$|OFF&#125; SQLP[ROMPT] &#123;SQL&gt;|text&#125; EXITC[OMMIT] &#123;ON|OFF&#125; SQLT[ERMINATOR] &#123;;|c|ON|OFF&#125; FEED[BACK] &#123;6|n|ON|OFF&#125; SUF[FIX] &#123;SQL|text&#125; FLAGGER &#123;OFF|ENTRY|INTERMED[IATE]|FULL&#125; TAB &#123;ON|OFF&#125; FLU[SH] &#123;ON|OFF&#125; TERM[OUT] &#123;ON|OFF&#125; HEA[DING] &#123;ON|OFF&#125; TI[ME] &#123;OFF|ON&#125; HEADS[EP] &#123;||c|ON|OFF&#125; TIMI[NG] &#123;OFF|ON&#125; INSTANCE [instance_path|LOCAL] TRIM[OUT] &#123;ON|OFF&#125; LIN[ESIZE] &#123;80|n&#125; TRIMS[POOL] &#123;OFF|ON&#125; LOBOF[FSET] &#123;1|n&#125; UND[ERLINE] &#123;-|c|ON|OFF&#125; LOGSOURCE [pathname] VER[IFY] &#123;ON|OFF&#125; LONG &#123;80|n&#125; WRA[P] &#123;ON|OFF&#125; LONGC[HUNKSIZE] &#123;80|n&#125; XQUERY &#123;BASEURI text| MARK[UP] HTML [OFF|ON] ORDERING&#123;UNORDERED| [HEAD text] [BODY text] [TABLE text] ORDERED|DEFAULT&#125;| [ENTMAP &#123;ON|OFF&#125;] NODE&#123;BYVALUE|BYREFERENCE| [SPOOL &#123;OFF|ON&#125;] DEFAULT&#125;| [PRE[FORMAT] &#123;OFF|ON&#125;] CONTEXT text&#125;‰πüÂèØ‰ª•‰ΩøÁî®help indexÂëΩ‰ª§Êü•ÁúãSQLPlusÂëΩ‰ª§Ê∏ÖÂçïÔºö123456789101112131415161718SQL&gt; help indexEnter Help [topic] for help. @ COPY PAUSE SHUTDOWN @@ DEFINE PRINT SPOOL / DEL PROMPT SQLPLUS ACCEPT DESCRIBE QUIT START APPEND DISCONNECT RECOVER STARTUP ARCHIVE LOG EDIT REMARK STORE ATTRIBUTE EXECUTE REPFOOTER TIMING BREAK EXIT REPHEADER TTITLE BTITLE GET RESERVED WORDS (SQL) UNDEFINE CHANGE HELP RESERVED WORDS (PL/SQL) VARIABLE CLEAR HOST RUN WHENEVER OSERROR COLUMN INPUT SAVE WHENEVER SQLERROR COMPUTE LIST SET XQUERY CONNECT PASSWORD SHOWdescribeÂëΩ‰ª§ËØ•ÂëΩ‰ª§Áî®‰∫éÊü•ËØ¢ÊåáÂÆöÊï∞ÊçÆË°®ÁöÑÁªÑÊàêÁªìÊûÑÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1desc[ribe] object_namedescribeÂèØÁº©ÂÜô‰∏∫desc„ÄÇÊØîÂ¶ÇÊü•ËØ¢scott.empË°®‰∏≠SALESMANÁöÑÁºñÂè∑ÔºåÂßìÂêçÂíåÂ∑•ËµÑÔºåËøáÁ®ã‰∏≠Ôºå‰ΩøÁî®#desc scott.empÂëΩ‰ª§Êü•ËØ¢scott.empË°®‰∏≠Â∑•ËµÑÂ≠óÊÆµÁöÑÂêçÁß∞Ôºö123456789101112131415161718192021SQL&gt; select empno,ename, 2 #desc scott.emp ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- EMPNO NOT NULL NUMBER(4) ENAME VARCHAR2(10) JOB VARCHAR2(9) MGR NUMBER(4) HIREDATE DATE SAL NUMBER(7,2) COMM NUMBER(7,2) DEPTNO NUMBER(2) 2 sal from scott.emp where job = 'SALESMAN'; EMPNO ENAME SAL---------- ---------- ---------- 7499 ALLEN 1600 7521 WARD 1250 7654 MARTIN 1250 7844 TURNER 1500spoolÂëΩ‰ª§ËØ•ÂëΩ‰ª§ÂèØ‰ª•Â∞ÜÊü•ËØ¢ÁªìÊûúËæìÂá∫Âà∞ÊåáÂÆöÊñá‰ª∂‰∏≠ÔºåspoolÁöÑËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö1spo[ol] [file_name[.ext] [CRE[ATE] | REP[LACE] | APP[END]] | OFF | OUT]cre[ate]ÔºåË°®Á§∫ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂ÔºåÈªòËÆ§ÂÄºÔºõrep[lace]ÔºåË°®Á§∫Ë¶ÜÁõñÂ∑≤Â≠òÂú®ÁöÑÊñá‰ª∂Ôºõapp[end]ÔºåË°®Á§∫ËøΩÂä†Âà∞‰∏Ä‰∏™Â∑≤Â≠òÂú®ÁöÑÊñá‰ª∂‰∏≠Ôºõoff|outÔºåË°®Á§∫ÂÖ≥Èó≠spoolËæìÂá∫„ÄÇÊØîÂ¶ÇÔºö1234567891011121314151617181920212223242526SQL&gt; spool d:\emp.txtSQL&gt; select empno,ename,job,sal from scott.emp; EMPNO ENAME JOB SAL---------- ---------- --------- ---------- 7369 SMITH CLERK 800 7499 ALLEN SALESMAN 1600 7521 WARD SALESMAN 1250 7566 JONES MANAGER 2975 7654 MARTIN SALESMAN 1250 7698 BLAKE MANAGER 2850 7782 CLARK MANAGER 2450 7788 SCOTT ANALYST 3000 7839 KING PRESIDENT 5000 7844 TURNER SALESMAN 1500 7876 ADAMS CLERK 1100 EMPNO ENAME JOB SAL---------- ---------- --------- ---------- 7900 JAMES CLERK 950 7902 FORD ANALYST 3000 7934 MILLER CLERK 1300Â∑≤ÈÄâÊã©14Ë°å„ÄÇSQL&gt; spool offÂà∞DÁõòÊâìÂºÄemp.txtÂ¶Ç‰∏ãÔºödefineÂëΩ‰ª§ËØ•ÂëΩ‰ª§Áî®Êù•ÂÆö‰πâ‰∏Ä‰∏™ÂèòÈáèÂπ∂ËµãÂÄºÔºåÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1def[ine] [variable] | [variable = text]ÊØîÂ¶ÇÔºö123SQL&gt; define vjob='SALESMAN'SQL&gt; define vjobDEFINE VJOB = "SALESMAN" (CHAR)showÂëΩ‰ª§showÂëΩ‰ª§Áî®Êù•ÊòæÁ§∫SQLPlusÁ≥ªÁªüÂèòÈáèÁöÑÂÄºÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1sho[w] optionoptionË°®Á§∫Ë¶ÅÊòæÁ§∫ÁöÑÁ≥ªÁªüÈÄâÈ°πÔºåÂ∏∏Áî®ÁöÑÂÄºÊúâÔºöallÔºåparameters [parameter_name]ÔºåsgaÔºåspoolÂíåuserÁ≠â„ÄÇ1234567891011121314SQL&gt; show parameters db_block_sizeNAME TYPE VALUE------------------------------------ ----------- ------------------------------db_block_size integer 8192SQL&gt; show sgaTotal System Global Area 3373858816 bytesFixed Size 2180424 bytesVariable Size 1862273720 bytesDatabase Buffers 1493172224 bytesRedo Buffers 16232448 bytesSQL&gt; show userUSER ‰∏∫ "SYSTEM"saveÂëΩ‰ª§ËØ•ÂëΩ‰ª§Â∞ÜSQLÁºìÂÜ≤Âå∫ÁöÑÊúÄËøë‰∏ÄÊù°SQLÊàñPL/SQLÂùó‰øùÂ≠òÂà∞ÊåáÂÆöÁöÑÊñá‰ª∂‰∏≠ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1sav[e] [FILE] file_name[.ext] [CRE[ATE] | REP[LACE] | APP[END]]ÊØîÂ¶ÇÔºö1234567891011SQL&gt; select * from scott.dept; DEPTNO DNAME LOC---------- -------------- ------------- 10 ACCOUNTING NEW YORK 20 RESEARCH DALLAS 30 SALES CHICAGO 40 OPERATIONS BOSTONSQL&gt; save d:\dept.sqlÂ∑≤ÂàõÂª∫ file d:\dept.sqlÂ¶ÇÊûú‰∏çÊåáÂÆöÊñá‰ª∂Êâ©Â±ïÂêçÔºåÈªòËÆ§‰∏∫.sql„ÄÇgetÂëΩ‰ª§ËØ•ÂëΩ‰ª§Â∞Ü‰∏Ä‰∏™SQLËÑöÊú¨Êñá‰ª∂ÁöÑÂÜÖÂÆπÊîæËøõSQLÁöÑÁºìÂÜ≤Âå∫ÔºåËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö1get [FILE] file_name[.ext] [LIST | NOLIST]ÂÖ∂‰∏≠listË°®Á§∫Âä†ËΩΩÂà∞ÁºìÂÜ≤Âå∫ÁöÑÊó∂ÂÄôÊòæÁ§∫Êñá‰ª∂ÁöÑÂÜÖÂÆπÔºånolistÂàôË°®Á§∫‰∏çÊòæÁ§∫„ÄÇÊØîÂ¶ÇÂä†ËΩΩd:\dept.sqlÂà∞SQLÁºìÂÜ≤Âå∫ÔºåÂπ∂ËøêË°åÂëΩ‰ª§/ÊâßË°åËØ•ËØ≠Âè•Ôºö12345678910SQL&gt; get d:\dept.sql list 1* select * from scott.deptSQL&gt; / DEPTNO DNAME LOC---------- -------------- ------------- 10 ACCOUNTING NEW YORK 20 RESEARCH DALLAS 30 SALES CHICAGO 40 OPERATIONS BOSTONstartÂíå@‰∏§‰∏™ÂëΩ‰ª§ÈÉΩÊòØÁî®‰∫éÊâßË°å‰∏Ä‰∏™sqlËÑöÊú¨Êñá‰ª∂ÔºåÊØîÂ¶ÇÔºö1234567891011121314151617SQL&gt; start d:\dept.sql DEPTNO DNAME LOC---------- -------------- ------------- 10 ACCOUNTING NEW YORK 20 RESEARCH DALLAS 30 SALES CHICAGO 40 OPERATIONS BOSTONSQL&gt; @ d:\dept.sql DEPTNO DNAME LOC---------- -------------- ------------- 10 ACCOUNTING NEW YORK 20 RESEARCH DALLAS 30 SALES CHICAGO 40 OPERATIONS BOSTONÊ†ºÂºèÂåñÊü•ËØ¢ÁªìÊûúcolumnËØ•ÂëΩ‰ª§ÂèØ‰ª•ÂÆûÁé∞Ê†ºÂºèÂåñÊü•ËØ¢ÁªìÊûúÔºåËÆæÁΩÆÂàóÂÆΩÔºåËÆæÁΩÆÂàóÊ†áÈ¢òÁ≠â„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1col[umn] [column_name|alias|option]column_nameÁî®‰∫éÊåáÂÆöË¶ÅËÆæÁΩÆÁöÑÂàóÁöÑÂêçÁß∞ÔºåaliasÁî®‰∫éÊåáÂÆöÂàóÁöÑÂà´ÂêçÔºåoptionÁî®‰∫éÊåáÂÆöÂàóÁöÑÊòæÁ§∫Ê†ºÂºèÔºåÂÖ∂ÂÄºÂíåËØ¥ÊòéÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöoptionÈÄâÈ°πÁöÑÂÄºËØ¥ÊòéclearÊ∏ÖÈô§ÊåáÂÆöÂàóÊâÄËÆæÁΩÆÁöÑÊ†ºÂºèÔºåÊÅ¢Â§çÈªòËÆ§ÂÄºformatÊ†ºÂºèÂåñÊåáÂÆöÂàóheadingÊåáÂÆöÂàóÊ†áÈ¢òjustifyË∞ÉÊï¥ÂàóÊ†áÈ¢òÁöÑÂØπÈΩêÊñπÂºèÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºöÊï∞ÂÄºÁ±ªÂûãÁöÑÂè≥ÂØπÈΩêÔºåÂÖ∂‰ªñÁ±ªÂûãÁöÑÂ∑¶ÂØπÈΩênullÊõøÊç¢nullÂÄºprint/noprintÊòæÁ§∫ÂàóÊ†áÈ¢òÊàñÈöêËóèÂàóÊ†áÈ¢òÔºåÈªòËÆ§‰∏∫printon/offÊéßÂà∂ÂÆö‰πâÁöÑÊòæÁ§∫Â±ûÊÄßÁä∂ÊÄÅÔºåoffË°®Á§∫ÂÆö‰πâÁöÑÊâÄÊúâÊòæÁ§∫Â±ûÊÄßÈÉΩ‰∏çËµ∑‰ΩúÁî®wrappedÂΩìÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶Ë∂ÖËøáÊòæÁ§∫ÂÆΩÂ∫¶Êó∂ÔºåÂ∞ÜÂ≠óÁ¨¶‰∏≤ÁöÑË∂ÖÂá∫ÈÉ®ÂàÜÊäòÂè†Âà∞‰∏ã‰∏ÄË°åÊòæÁ§∫word_wrappedË°®Á§∫‰ªé‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂ≠óÁ¨¶Â§ÑÊäòÂè†truncatedË°®Á§∫Êà™ÂèñÂ≠óÁ¨¶‰∏≤Â∞æÈÉ®formatÈÄâÈ°π‰ΩøÁî®formatÈÄâÈ°πÊ†ºÂºèÂåñscott.empË°®‰∏≠ÁöÑsalÂàóÔºåÊ†ºÂºè‰∏∫$999,999.00Ôºö123456789101112131415161718192021222324SQL&gt; column sal format $999,999.00SQL&gt; select empno,ename,sal from scott.emp; EMPNO ENAME SAL---------- ---------- ------------ 7369 SMITH $800.00 7499 ALLEN $1,600.00 7521 WARD $1,250.00 7566 JONES $2,975.00 7654 MARTIN $1,250.00 7698 BLAKE $2,850.00 7782 CLARK $2,450.00 7788 SCOTT $3,000.00 7839 KING $5,000.00 7844 TURNER $1,500.00 7876 ADAMS $1,100.00 EMPNO ENAME SAL---------- ---------- ------------ 7900 JAMES $950.00 7902 FORD $3,000.00 7934 MILLER $1,300.00Â∑≤ÈÄâÊã©14Ë°å„ÄÇheadingÈÄâÈ°π‰ΩøÁî®headingÈÄâÈ°πÂ∞Üscott.empË°®ÁöÑempnoÔºåenameÂíåsal‰∏â‰∏™ÂàóÂêçËΩ¨Êç¢‰∏∫‰∏≠ÊñáÔºö1234567891011121314151617181920212223242526SQL&gt; column empno heading ÂëòÂ∑•ÁºñÂè∑SQL&gt; column ename heading ÂëòÂ∑•ÂßìÂêçSQL&gt; column sal heading Â∑•ËµÑSQL&gt; select empno,ename,sal from scott.emp; ÂëòÂ∑•ÁºñÂè∑ ÂëòÂ∑•ÂßìÂêç Â∑•ËµÑ---------- ---------- ------------ 7369 SMITH $800.00 7499 ALLEN $1,600.00 7521 WARD $1,250.00 7566 JONES $2,975.00 7654 MARTIN $1,250.00 7698 BLAKE $2,850.00 7782 CLARK $2,450.00 7788 SCOTT $3,000.00 7839 KING $5,000.00 7844 TURNER $1,500.00 7876 ADAMS $1,100.00 ÂëòÂ∑•ÁºñÂè∑ ÂëòÂ∑•ÂßìÂêç Â∑•ËµÑ---------- ---------- ------------ 7900 JAMES $950.00 7902 FORD $3,000.00 7934 MILLER $1,300.00Â∑≤ÈÄâÊã©14Ë°å„ÄÇnullÈÄâÈ°π‰ΩøÁî®nullÈÄâÈ°πÂ∞Üscott.empË°®‰∏≠commÂàóÂÄº‰∏∫nullÊòæÁ§∫Êàê‚ÄúÁ©∫ÂÄº‚ÄùÔºö1234567891011121314151617SQL&gt; column comm null 'Á©∫ÂÄº'SQL&gt; select empno,ename,comm from scott.emp where comm is null; ÂëòÂ∑•ÁºñÂè∑ ÂëòÂ∑•ÂßìÂêç COMM---------- ---------- ---------- 7369 SMITH Á©∫ÂÄº 7566 JONES Á©∫ÂÄº 7698 BLAKE Á©∫ÂÄº 7782 CLARK Á©∫ÂÄº 7788 SCOTT Á©∫ÂÄº 7839 KING Á©∫ÂÄº 7876 ADAMS Á©∫ÂÄº 7900 JAMES Á©∫ÂÄº 7902 FORD Á©∫ÂÄº 7934 MILLER Á©∫ÂÄºÂ∑≤ÈÄâÊã©10Ë°å„ÄÇwrapped/word_wrappedÈÄâÈ°π‰ΩøÁî®wrappedÈÄâÈ°πÂÆûÁé∞ÊåâÁÖßÊåáÂÆöÈïøÂ∫¶ÊäòË°åÔºö12345678910111213141516171819202122232425SQL&gt; create table test( 2 col1 varchar2(100) 3 );Ë°®Â∑≤ÂàõÂª∫„ÄÇSQL&gt; insert into test(col1) values ('HOW ARE YOU?');Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇSQL&gt; select col1 from test;COL1--------------------------------------------------------------------------------HOW ARE YOU?SQL&gt; column col1 format a5SQL&gt; column col1 wrappedSQL&gt; select col1 from test;COL1-----HOW ARE YOU?‰ΩøÁî®word_wrappedÈÄâÈ°πÊåâÁÖßÂÆåÊï¥Â≠óÁ¨¶‰∏≤ÊäòË°å12345678SQL&gt; column col1 word_wrappedSQL&gt; select col1 from test;COL1-----HOWAREYOU?ttitleÂíåbtitleÂëΩ‰ª§Ëøô‰∏§‰∏™ÂëΩ‰ª§ÂàÜÂà´Áî®Êù•ËÆæÁΩÆÊâìÂç∞Êó∂ÊØèÈ°µÁöÑÈ°µÈ¶ñÂíåÈ°µËÑöÊ†áÈ¢òÔºåÂÖ∂‰∏≠ttitleËØ≠Ê≥ïÂ¶Ç‰∏ãÔºàbtitleËØ≠Ê≥ïÁ±ª‰ººÔºâÔºö1tti[tle] [printspec [text|variable] ...] | [OFF|ON]printspec‰Ωú‰∏∫Â§¥Ê†áÈ¢òÁöÑ‰øÆÈ•∞ÊÄßÈÄâÈ°πÔºåÂÖ∂ÂÄºÂíåËØ¥ÊòéÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöprintspecÈÄâÈ°πÁöÑÂÄºËØ¥ÊòécolÊåáÂÆöÂΩìÂâçË°åÁöÑÁ¨¨Âá†ÂàóÊâìÂç∞Â§¥Ê†áÈ¢òskipË∑≥Âà∞‰ªé‰∏ã‰∏ÄË°åÂºÄÂßãÁöÑÁ¨¨Âá†Ë°åÔºåÈªòËÆ§‰∏∫1leftÂú®ÂΩìÂâçË°å‰∏≠Â∑¶ÂØπÈΩêÊâìÂç∞Êï∞ÊçÆcenterÂú®ÂΩìÂâçË°å‰∏≠Èó¥ÊâìÂç∞Êï∞ÊçÆrightÂú®ÂΩìÂâçË°å‰∏≠Âè≥ÂØπÈΩêÊâìÂç∞Êï∞ÊçÆbold‰ª•Èªë‰ΩìÊâìÂç∞Êï∞ÊçÆÊØîÂ¶ÇÔºöÊâìÂç∞ËæìÂá∫scott.salgradeÊï∞ÊçÆË°®‰∏≠ÁöÑËÆ∞ÂΩïÔºåÂπ∂ËÆæÁΩÆÊ†áÈ¢òÔºö1234567891011121314151617181920SQL&gt; set pagesize 8SQL&gt; ttitle left 'ÈîÄÂîÆÊÉÖÂÜµÊéíË°åË°®'SQL&gt; btitle left 'ÊâìÂç∞Êó•Êúü2017Âπ¥11Êúà5Êó• ÊâìÂç∞‰∫∫ MrBird'SQL&gt; select * from scott.salgrade;ÈîÄÂîÆÊÉÖÂÜµÊéíË°åË°® GRADE LOSAL HISAL---------- ---------- ---------- 1 700 1200 2 1201 1400 3 1401 2000ÊâìÂç∞Êó•Êúü2017Âπ¥11Êúà5Êó• ÊâìÂç∞‰∫∫ MrBirdÈîÄÂîÆÊÉÖÂÜµÊéíË°åË°® GRADE LOSAL HISAL---------- ---------- ---------- 4 2001 3000 5 3001 9999ÊâìÂç∞Êó•Êúü2017Âπ¥11Êúà5Êó• ÊâìÂç∞‰∫∫ MrBird]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx Rewrite]]></title>
    <url>%2FNginx-rewrite.html</url>
    <content type="text"><![CDATA[NginxÊúçÂä°Âô®Êèê‰æõ‰∫ÜRewriteÂäüËÉΩÔºåÁî®‰∫éÂÆûÁé∞URLÁöÑÈáçÂÜô„ÄÇËØ•ÂäüËÉΩÁî±ngx_http_rewrite_moduleÊ®°ÂùóÊèê‰æõÔºåËØ•Ê®°ÂùóÈªòËÆ§ÂºÄÂêØ„ÄÇNginxÊúçÂä°Âô®ÁöÑRewriteÂäüËÉΩ‰æùËµñ‰∫éPCRE(Perl Compatible Regular ExpressionsÔºåPerlÂÖºÂÆπÁöÑÊ≠£ÂàôË°®ËææÂºè)ÔºåÊâÄ‰ª•Âú®ÁºñËØëÂÆâË£ÖNginxÁöÑÊó∂ÂÄôÈúÄË¶ÅÂÖàÂÆâË£ÖPCREÂ∫ì„ÄÇRewriteÂäüËÉΩÂ∞±ÊòØÔºå‰ΩøÁî®NginxÊèê‰æõÁöÑÂÖ®Â±ÄÂèòÈáèÊàñËá™Â∑±ËÆæÁΩÆÁöÑÂèòÈáèÔºåÁªìÂêàÊ≠£ÂàôË°®ËææÂºèÂíåÊ†áÂøó‰ΩçÂÆûÁé∞urlÈáçÂÜô‰ª•ÂèäÈáçÂÆöÂêë„ÄÇRewriteÂè™ËÉΩÂØπÂüüÂêçÂêéËæπÁöÑÈô§Âéª‰º†ÈÄíÁöÑÂèÇÊï∞Â§ñÁöÑÂ≠óÁ¨¶‰∏≤Ëµ∑‰ΩúÁî®Ôºå‰æãÂ¶Çhttps://mrbird.cc/page/2/search?type=1&amp;value=nginxÂè™ÂØπ/page/2/searchÈáçÂÜô„ÄÇifÊåá‰ª§Áî®‰∫éÊ†πÊçÆ‰∏çÂêåÊù°‰ª∂ÈÄâÊã©‰∏çÂêåÁöÑNginxÈÖçÁΩÆÔºåÂèØÂú®serverÂíålocationÂùó‰∏≠ÈÖçÁΩÆ„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1if (condition) &#123; &#125;condition‰∏∫Âà§Êñ≠Êù°‰ª∂Ôºàtrue/falseÔºâÔºöÂèòÈáèÂêç„ÄÇÂ¶ÇÊûúÂèòÈáèÁöÑÂÄº‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ÊàñËÄÖ‰ª•0ÂºÄÂ§¥ÁöÑ‰ªªÊÑèÂ≠óÁ¨¶‰∏≤Ôºå‰∏∫false„ÄÇÂÖ∂‰Ωô‰∏∫trueÔºõÊØîËæÉÂèòÈáèÁöÑÂÜÖÂÆπÊó∂ÂÄôÔºå‰ΩøÁî®=Êàñ!=Ôºõ‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºè„ÄÇ~ÔºàÂ§ßÂ∞èÂÜôÊïèÊÑüÔºâÔºå~*ÔºàÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑüÔºâÔºå!~Âíå!~*„ÄÇÊ≠£ÂàôË°®ËææÂºè‰∏ÄËà¨‰∏çÂä†ÂèåÂºïÂè∑ÔºåÈô§ÈùûÂåÖÂê´}ÊàñËÄÖÂàÜÂè∑;Â≠óÁ¨¶Ôºõ-fÂíå!-fÁî®Êù•Âà§Êñ≠ÊòØÂê¶Â≠òÂú®Êñá‰ª∂Ôºõ-dÂíå!-dÁî®Êù•Âà§Êñ≠ÊòØÂê¶Â≠òÂú®ÁõÆÂΩïÔºõ-eÂíå!-eÁî®Êù•Âà§Êñ≠ÊòØÂê¶Â≠òÂú®Êñá‰ª∂ÊàñÁõÆÂΩïÔºõ-xÂíå!-xÁî®Êù•Âà§Êñ≠Êñá‰ª∂ÊòØÂê¶ÂèØÊâßË°å„ÄÇÂá†‰∏™ÂÆû‰æãÔºö123456789101112131415if ($request_method = POST) &#123; return 405; # Â¶ÇÊûúËØ∑Ê±ÇÊñπÊ≥ï‰∏∫POSTÔºåÂàôÁõ¥Êé•ËøîÂõû405HTTPÁä∂ÊÄÅÁ†Å„ÄÇ&#125;if ($slow) &#123; limit_rate 10k;&#125;if ($http_user_agent ~ MSIE) &#123; rewrite ^(.*)$ /msie/$1 break; # Â¶ÇÊûúUAÂåÖÂê´"MSIE"ÔºårewriteËØ∑Ê±ÇÂà∞/msid/ÁõÆÂΩï‰∏ã&#125;if ($http_cookie ~* "id=([^;]+)(?:;|$)") &#123; set $id $1; # Â¶ÇÊûúcookieÂåπÈÖçÊ≠£ÂàôÔºåËÆæÁΩÆÂèòÈáè$idÁ≠â‰∫éÊ≠£ÂàôÂºïÁî®ÈÉ®ÂàÜ&#125;if (!-f $request_filename)&#123; # Âà§Êñ≠ËØ∑Ê±ÇÁöÑÊñá‰ª∂ÊòØÂê¶‰∏çÂ≠òÂú®&#125;breakÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫é‰∏≠Êñ≠ÂΩìÂâçÁõ∏Âêå‰ΩúÁî®ÂüüÁöÑNginxÈÖçÁΩÆ„ÄÇNginxÈÅáÂà∞ËØ•Êåá‰ª§Êó∂ÔºåÂõûÂà∞‰∏ä‰∏ÄÂ±Ç‰ΩúÁî®ÂüüÁªßÁª≠Âêë‰∏ãËØªÂèñÈÖçÁΩÆ„ÄÇËØ•Êåá‰ª§ÂèØÂú®serverÔºålocationÂíåifÂùó‰∏≠‰ΩøÁî®„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1break;ÊØîÂ¶ÇÔºö12345678location / &#123; if ($slow) &#123; set $id $1; break; # Ë∑≥Âá∫if‰ΩúÁî®Âüü limit_rate 10k; # Êó†Êïà &#125; ... # ÁªßÁª≠ËØªÂèñ&#125;returnÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éÂÆåÊàêÂØπËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÔºåÁõ¥Êé•ÂêëÂÆ¢Êà∑Á´ØËøîÂõûÂìçÂ∫îÁä∂ÊÄÅÁ†ÅÔºåÂ§Ñ‰∫éËØ•Êåá‰ª§ÂêéÁöÑÊâÄÊúâNginxÈÖçÁΩÆÈÉΩÊòØÊó†ÊïàÁöÑ„ÄÇËØ≠Ê≥ïÁªìÊûÑÂ¶Ç‰∏ãÔºö123return [text];return code URL;return URL;ÊØîÂ¶ÇÔºö123location = /404 &#123; return 404 "sorry page not found!\n"&#125;rewriteÊåá‰ª§ËØ•Êåá‰ª§ÈÄöËøáÊ≠£ÂàôË°®ËææÂºèÊù•ÊîπÂèòURLÔºåÂèØ‰ª•ÂêåÊó∂Â≠òÂú®‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êåá‰ª§ÔºåÊåâÁÖßÈ°∫Â∫è‰æùÊ¨°ÂØπURLËøõË°åÂåπÈÖçÂ§ÑÁêÜ„ÄÇËØ•Êåá‰ª§ÂèØÂú®serverÔºålocationÂíåifÂùó‰∏≠ÈÖçÁΩÆÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1rewrite regex replacement [flag];regexÁî®‰∫éÂåπÈÖçURLÁöÑÊ≠£ÂàôË°®ËææÂºèÔºå‰ΩøÁî®()Ê†áËÆ∞Ë¶ÅÊà™ÂèñÁöÑÂÜÖÂÆπ„ÄÇreplacementÂåπÈÖçÊàêÂäüÂêéÁî®‰∫éÊõøÊç¢URL‰∏≠Ë¢´Êà™ÂèñÁöÑÈÉ®ÂàÜ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúreplacementÊòØÁî±http://ÊàñËÄÖhttps://ÂºÄÂ§¥ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂàôÁõ¥Êé•Â∞ÜÈáçÂÜôÂêéÁöÑURLËøîÂõûÂÆ¢Êà∑Á´Ø„ÄÇflagÊ†áÂøó‰ΩçÔºåÂÖ∂ÂÄºÊúâÂ¶Ç‰∏ãÂá†ÁßçÔºölastÔºåNginxÈÅáÂà∞Âê´ÊúâËØ•Ê†áÂøó‰ΩçÁöÑrewriteÂëΩ‰ª§Êó∂ÔºåÂÅúÊ≠¢Âêë‰∏ãÂ§ÑÁêÜÔºåÁõ¥Êé•‰ΩøÁî®ËØ•rewriteËøîÂõûÁöÑÊñ∞ÁöÑURLÂéªÂíåÊâÄÊúâÁöÑlocationÂùóÈáçÊñ∞ÂåπÈÖç„ÄÇbreakÔºåÂ∞ÜÊ≠§Â§ÑÈáçÂÜôÁöÑURL‰Ωú‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑURLÔºåÂú®Êú¨Âùó‰∏≠ÁªßÁª≠ËøõË°åÂ§ÑÁêÜ„ÄÇËØ•Ê†áÂøóÈáçÂÜôÂêéÁöÑURLÂú®ÂΩìÂâçlocationÂùó‰∏≠ÊâßË°åÔºå‰∏ç‰ºöËΩ¨ÂêëÂà∞ÂÖ∂‰ªñÁöÑlocationÂùó„ÄÇredirectÂ∞ÜÈáçÂÜôÂêéÁöÑURLËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÁä∂ÊÄÅÁ†Å‰∏∫302ÔºåË°®Á§∫‰∏¥Êó∂ÈáçÂÆöÂêëURL„ÄÇpermanentÂ∞ÜÈáçÂÜôÂêéÁöÑURLËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÁä∂ÊÄÅÁ†Å‰∏∫301ÔºåË°®Á§∫Ê∞∏‰πÖÈáçÂÆöÂêëURL„ÄÇ‰∏æ‰∫õ‰æãÂ≠êÔºö1234location / &#123; rewrite ^(/myweb/.*)/media/(.*)\..*$ $1/mp3/$2.mp3 last; rewrite ^(/myweb/.*)/audio/(.*)\..*$ $1/mp4/$2.ra last; &#125;Â¶ÇÊûúÊüê‰∏™ËØ∑Ê±ÇURLÂú®Á¨¨2Ë°åË¢´ÂåπÈÖçÊàêÂäüÔºåNginx‰∏ç‰ºöÁªßÁª≠‰ΩøÁî®Á¨¨3Ë°åÈÖçÁΩÆÂ§ÑÁêÜÊñ∞ÁöÑURLÔºåËÄåÊòØËÆ©ÊâÄÊúâÁöÑlocationÈáçÊñ∞ÂåπÈÖçÊñ∞ÁöÑURL„ÄÇ1234location /myweb/ &#123; rewrite ^(/myweb/.*)/media/(.*)\..*$ $1/mp3/$2.mp3 break; rewrite ^(/myweb/.*)/audio/(.*)\..*$ $1/mp4/$2.ra break; &#125;Â¶ÇÊûúÊüê‰∏™ËØ∑Ê±ÇURLÂú®Á¨¨2Ë°åË¢´ÂåπÈÖçÊàêÂäüÔºåNginxÊúçÂä°Âô®Â∞ÜÊñ∞ÁöÑURLÁªßÁª≠‰ΩøÁî®Êú¨Âùó‰∏≠ÁöÑÁ¨¨3Ë°åÈÖçÁΩÆËøõË°åÂ§ÑÁêÜÔºå‰∏ç‰ºöÂ∞ÜÊñ∞ÁöÑURLÂèëÈÄÅÂà∞ÂÖ∂‰ªñlocationÂùó„ÄÇÂ¶ÇÊûúËøôÈáåÂ∞ÜbreakÊõøÊç¢‰∏∫lastÁöÑËØùÔºåÊñ∞ÁöÑURLÂåÖÂê´/myweb/‰∏≤ÔºåÊú¨locationÂùóÂèØËÉΩÁªßÁª≠ÊçïËé∑Âà∞ËØ•Êñ∞ÁöÑURLÔºåËøôÊ†∑‰æøÈÄ†Êàê‰∫ÜÊ≠ªÂæ™ÁéØ„ÄÇNginxÂú®Â∞ùËØï10Ê¨°Âæ™ÁéØ‰πãÂêéÔºåËøîÂõû500 Internal Server ErrorÈîôËØØ„ÄÇrewrite_logÊåá‰ª§ËØ•Êåá‰ª§ÈÖçÁΩÆÊòØÂê¶ÂºÄÂêØÈáçÂÜôURLÊó•ÂøóÁöÑËæìÂá∫ÂäüËÉΩÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1rewrite_log on | offÈªòËÆ§ÂÄº‰∏∫off„ÄÇÊó•ÂøóÂ∞Ü‰ª•noticeÁ∫ßÂà´ËæìÂá∫Âà∞error_logÈÖçÁΩÆÁöÑÊó•ÂøóÊñá‰ª∂‰∏≠„ÄÇsetÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éËÆæÁΩÆ‰∏Ä‰∏™Êñ∞ÁöÑÂèòÈáèÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1set variable valueÂèòÈáèÂêçÁß∞ÂøÖÈ°ª‰ª•$ÂºÄÂ§¥Ôºå‰∏î‰∏çËÉΩÂíåNginxÊúçÂä°Âô®È¢ÑËÆæÁöÑÂÖ®Â±ÄÂèòÈáèÂêåÂêçÔºåÂèòÈáèÁöÑ‰ΩúÁî®Âüü‰∏∫ÂÖ®Â±Ä„ÄÇuninitialized_variable_warnÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éÈÖçÁΩÆÂÆûÁî®Êú™ÂàùÂßãÂåñÁöÑÂèòÈáèÊó∂ÔºåÊòØÂê¶ËÆ∞ÂΩïË≠¶ÂëäÊó•ÂøóÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1uninitialized_variable_warn on | offÈªòËÆ§ÂÄº‰∏∫on„ÄÇrewriteÂ∏∏Áî®ÂÖ®Â±ÄÂèòÈáè‰∏ãË°®ÂàóÂá∫‰∫ÜÂú®rewriteÈÖçÁΩÆËøáÁ®ã‰∏≠ÂèØËÉΩ‰ºö‰ΩøÁî®Âà∞ÁöÑNginxÂÖ®Â±ÄÂèòÈáèÔºöÂèòÈáèËØ¥Êòé$argsËØ∑Ê±ÇURL‰∏≠ÁöÑËØ∑Ê±ÇÂèÇÊï∞‰∏≤ÔºåÂ¶Çarg1=value1&amp;arg2=value2$content_lengthËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑContent-lengthÂ≠óÊÆµ$content_typeËØ∑Ê±ÇÂ§¥ÈáçÁöÑContent-typeÁâáÊÆµ$document_rootÂΩìÂâçËØ∑Ê±ÇÁöÑÊ†πË∑ØÂæÑ$document_uriÂΩìÂâçËØ∑Ê±ÇÁöÑURIÔºåÊØîÂ¶Çhttps://mrbird.cc/page/2/search?type=1&amp;value=nginx‰∏≠ÁöÑ/page/2/search$hostÂΩìÂâçURLÁöÑ‰∏ªÊú∫ÈÉ®ÂàÜÂ≠óÊÆµÔºåÊØîÂ¶Çhttps://mrbird.cc/page/2/search?type=1&amp;value=nginx‰∏≠ÁöÑmrbird.cc„ÄÇÂ¶ÇÊûú‰∏∫Á©∫ÔºåÂàô‰∏∫serverÂùó‰∏≠server_nameÊåá‰ª§ÁöÑÈÖçÁΩÆÂÄº$http_user_agentÂÆ¢Êà∑Á´ØÁöÑ‰ª£ÁêÜ‰ø°ÊÅØ$http_cookieÂÆ¢Êà∑Á´ØÁöÑcookie‰ø°ÊÅØ$limit_rateNginxÊúçÂä°Âô®ÂØπÁΩëÁªúËøûÊé•ÈÄüÁéáÁöÑÈôêÂà∂ÔºåÂç≥NginxÈÖçÁΩÆ‰∏≠ÁöÑlimit_rateÊåá‰ª§ÁöÑÈÖçÁΩÆÂÄº$remote_addrÂÆ¢Êà∑Á´ØÁöÑIPÂú∞ÂùÄ$remote_portÂÆ¢Êà∑Á´ØÁöÑÁ´ØÂè£Âè∑$request_body_fileÂèëÁªôÂêéÁ´ØÊúçÂä°Âô®ÁöÑÊú¨Âú∞Êñá‰ª∂ËµÑÊ∫êÂêçÁß∞$request_methodÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÊñπÂºèÔºåÂ¶ÇgetÔºåpostÁ≠â$request_filenameÂΩìÂâçËØ∑Ê±ÇÁöÑÊñá‰ª∂Ë∑ØÂæÑÔºåÁî±rootÊàñaliasÊåá‰ª§‰∏éURIËØ∑Ê±ÇÁîüÊàê„ÄÇ$request_uriÂåÖÂê´ËØ∑Ê±ÇÂèÇÊï∞ÁöÑÂéüÂßãURIÔºå‰∏çÂåÖÂê´‰∏ªÊú∫ÂêçÔºåÂ¶ÇÔºö‚Äù/foo/bar.php?arg=baz‚Äù$query_stringÂíå$argsÁõ∏Âêå$schemeHTTPÊñπÊ≥ïÔºàÂ¶ÇhttpÔºåhttpsÔºåftpÔºâ$server_protocolËØ∑Ê±Ç‰ΩøÁî®ÁöÑÂçèËÆÆÔºåÈÄöÂ∏∏ÊòØHTTP/1.0ÊàñHTTP/1.1$server_addrÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ$server_nameÊúçÂä°Âô®ÂêçÁß∞$server_portËØ∑Ê±ÇÂà∞ËææÊúçÂä°Âô®ÁöÑÁ´ØÂè£Âè∑$uriÂêå$document_urirewriteÂÆû‰æãÂüüÂêçË∑≥ËΩ¨123456server &#123; listen 80; server_name jump.myweb.name; rewrite ^/ http://www.myweb.info/; ...&#125;ÊØîÂ¶ÇÂÆ¢Êà∑Á´ØËÆøÈóÆhttp://jump.myweb.nameÊó∂ÔºåURLÂ∞ÜË¢´ÈáçÂÜô‰∏∫http://jump.myweb.info„ÄÇ12345678server &#123; listen 80; server_name jump.myweb.name jump.myweb.info if ($host ~ myweb\.info) &#123; rewrite ^(.*) http://jump.myweb.name$1 permanent; &#125; ...&#125;ÂΩìÂÆ¢Êà∑Á´ØËÆøÈóÆhttp://jump.myweb.info/reqsourceÊó∂ÔºåURLÂ∞ÜË¢´ÈáçÂÜô‰∏∫http://jump.myweb.name/reqsource„ÄÇ123456789server &#123; listen 80; server_name jump1.myweb.name jump2.myweb.name; if ($http_host ~* ^(.*)\.myweb\.name$) &#123; rewrite ^(.*) http://jump.myweb.name$1; break; &#125; ...&#125;ÂΩìÂÆ¢Êà∑Á´ØËÆøÈóÆhttp://jump1.myweb.name/reponseÊàñËÄÖhttp://jump2.myweb.name/reponseÊó∂ÔºåURLÈÉΩÂ∞ÜË¢´NginxÈáçÂÜô‰∏∫http://jump.myweb.name/reponse„ÄÇÁõÆÂΩïÂêàÂπ∂123456789server &#123; listen 80; server_name www.myweb.name; location ^~ /server &#123; rewrite ^/server-([0-9]+)-([0-9]+)-([0-9]+)-([0-9]+)-([0-9]+)\.htm$ /server/$1/$2/$3/$4/$5.html last; break; &#125;&#125;...Ê≠§Êó∂Â¶ÇÊûúÂÆ¢Êà∑Á´ØËæìÂÖ•http://www.myweb.name/server-12-34-56-78-9.htmÂç≥ÂèØËÆøÈóÆÂà∞http://www.myweb.name/server/12/34/56/78/9.html„ÄÇËøôÊ†∑ÂÅöÂ∞ÜÂ§öÁ∫ßÁõÆÂΩï‰∏ãÁöÑËµÑÊ∫êÊñá‰ª∂ËØ∑Ê±ÇËΩ¨Êç¢‰∏∫‰∫ÜÁõÆÂΩïËÆ°Êï∞Â∞ëÁöÑËµÑÊ∫êËØ∑Ê±ÇÔºåÊúâÂà©‰∫éSEO„ÄÇÈò≤ÁõóÈìæÈò≤ÁõóÈìæÁöÑÂÆûÁé∞ÂéüÁêÜÔºöÈÄöËøáHTTPÂçèËÆÆ‰∏≠ÁöÑËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑRefererÂ§¥ÂüüÔºåÊàë‰ª¨ÂèØ‰ª•Ê£ÄÊµãÂà∞ËÆøÈóÆÁõÆÊ†áËµÑÊ∫êÁöÑÊ∫êÂú∞ÂùÄÔºåÂ¶ÇÊûúËØ•Âú∞ÂùÄ‰∏çÊòØËá™Â∑±Á´ôÁÇπÁöÑURLÔºåÂ∞±ÈááÂèñÁªÑÁªáÊé™ÊñΩ„ÄÇNginxÈÖçÁΩÆ‰∏≠Êúâ‰∏Ä‰∏™Êåá‰ª§valid_referersÔºåÂ¶ÇÊûúRefererÂ§¥ÂüüÊ≤°ÊúâÁ¨¶Âêàvalid_referersÈÖçÁΩÆÁöÑÂÄºÔºå$invalid_refererÂèòÈáèÁöÑÂÄºÂ∞ÜË¢´ËµãÂÄº‰∏∫1„ÄÇvalid_referersËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1valid_referers none | blocked | server_names | string ...;noneÊ£ÄÊµãRefererÂ§¥Âüü‰∏çÂ≠òÂú®ÁöÑÊÉÖÂÜµ„ÄÇblockedÊ£ÄÊµãRefererÂ§¥ÂüüÁöÑÂÄºË¢´Èò≤ÁÅ´Â¢ôÊàñËÄÖ‰ª£ÁêÜÊúçÂä°Âô®Âà†Èô§Êàñ‰º™Ë£ÖÁöÑÊÉÖÂÜµ„ÄÇserver_namesËÆæÁΩÆURL„ÄÇ1234567891011server &#123; listen 80; server_name www.myweb.name; location ~* ^.+\.(gif|jpg|png|swf|flv|rar|zip)$ &#123; ... valid_referers none blocked server_names *.myweb.com; if ($invalid_referer) &#123; rewrite ^/ http://www.myweb.com/images/forbidden.png; &#125; &#125;...]]></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx upstream]]></title>
    <url>%2FNginx-upstream.html</url>
    <content type="text"><![CDATA[upstreamÊåá‰ª§Áî®‰∫éÈÖçÁΩÆNginxÂêéÁ´ØÊúçÂä°Âô®ÁªÑ„ÄÇNginxÊîØÊåÅËÆæÁΩÆ‰∏ÄÁªÑÊúçÂä°Âô®‰Ωú‰∏∫ÂêéÁ´ØÊúçÂä°Âô®ÔºåÁî±Ê†áÂáÜÁöÑHTTPÊ®°Âùóngx_http_upstream_moduleËøõË°åËß£ÊûêÂíåÂ§ÑÁêÜ„ÄÇÊúçÂä°Âô®ÁªÑÁöÑËÆæÁΩÆÊ∂âÂèä‰ª•‰∏ãÂá†‰∏™Êåá‰ª§ÔºöupstreamÊåá‰ª§ËØ•Êåá‰ª§‰∏∫ËÆæÁΩÆÂêéÁ´ØÊúçÂä°Âô®ÁªÑÁöÑ‰∏ªË¶ÅÊåá‰ª§ÔºåÂÖ∂‰ªñÁöÑÊåá‰ª§ÈÉΩÂú®ËØ•Êåá‰ª§‰∏≠ËøõË°åÈÖçÁΩÆÔºåËØ≠Ê≥ïÁªìÊûÑÂ¶Ç‰∏ãÔºö1upstream name &#123; &#125;ÂÖ∂‰∏≠name‰∏∫ÂêéÁ´ØÊúçÂä°Âô®ÁªÑÁöÑÂêçÁß∞Ôºå{}‰∏≠ÂåÖÂê´ÊúçÂä°Âô®„ÄÇÊüê‰∏™ÊúçÂä°Âô®ÁªÑÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÊåâÁÖßÊùÉÈáçÁöÑÂ§ßÂ∞è‰æùÊ¨°ÈÄâÊã©ÁªÑÂÜÖÁöÑÊúçÂä°Âô®Â§ÑÁêÜËØ∑Ê±Ç„ÄÇÂ¶ÇÊûúÂá∫Áé∞ÈîôËØØÔºåÂàôÈ°∫Ê¨°‰∫§ÁªôÁªÑÂÜÖÁöÑ‰∏ã‰∏Ä‰∏™ÊúçÂä°Âô®ËøõË°åÂ§ÑÁêÜÔºå‰ª•Ê≠§Á±ªÊé®Áõ¥Âà∞Ê≠£Â∏∏ÂìçÂ∫î„ÄÇÂ¶ÇÊûúÈÉΩÂá∫ÈîôÔºåÂàôËøîÂõûÊúÄÂêé‰∏Ä‰∏™ÊúçÂä°Âô®Â§ÑÁêÜÁöÑÁªìÊûú„ÄÇserverÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éËÆæÁΩÆÁªÑÂÜÖÁöÑÊúçÂä°Âô®ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1server address [parameters];addressÊúçÂä°Âô®ÁöÑÂú∞ÂùÄÔºåÊîØÊåÅIPÔºåÂüüÂêçÂíåunixÂú∞ÂùÄÔºõparametersËÆæÁΩÆÊõ¥Â§öÁöÑÂ±ûÊÄßÔºåÂåÖÊã¨Ôºöweight=numberÁî®‰∫éËÆæÁΩÆÊùÉÈáçÔºåÊùÉÈáçÈ´òÁöÑ‰ºòÂÖàÂ§ÑÁêÜ„ÄÇÈªòËÆ§ÂÄº‰∏∫1„ÄÇmax_fails=numberËÆæÁΩÆËØ∑Ê±ÇÂ§±Ë¥•ÁöÑÊ¨°Êï∞„ÄÇÂú®fail_timeoutÊó∂Èó¥ËåÉÂõ¥ÂÜÖÔºåÊúçÂä°Âô®ËØ∑Ê±ÇÂ§±Ë¥•ÁöÑÊ¨°Êï∞Ë∂ÖËøáËØ•ÂÄºÊó∂ÔºåÂàôÂ∞ÜËØ•ÊúçÂä°Âô®ÁΩÆ‰∏∫downÔºàÊó†ÊïàÔºâÁä∂ÊÄÅ„ÄÇfail_timeout=timeÈô§‰∫ÜÁî®Âú®max_failsÂ§ñÔºåËØ•Â±ûÊÄßËøòÁî®‰∫éËÆæÁΩÆÊüê‰∏™downÁä∂ÊÄÅÊúçÂä°Âô®ÁöÑÊåÅÁª≠Êó∂Èó¥ÔºåÂú®Ëøô‰∏™Êó∂Èó¥ÊÆµÂÜÖ‰∏çÂÜçÊ£ÄÊü•ËØ•ÊúçÂä°Âô®ÁöÑÁä∂ÊÄÅÔºå‰∏ÄÁõ¥ËÆ§‰∏∫ÂÆÉÊòØdownÁä∂ÊÄÅ„ÄÇÈªòËÆ§ÂÄº‰∏∫10s„ÄÇbackupËÆæÁΩÆÊúçÂä°Âô®‰∏∫Â§áÁî®ÊúçÂä°Âô®„ÄÇÂΩìÊ≠£Â∏∏ÁöÑÊúçÂä°Âô®Â§Ñ‰∫édownÊàñËÄÖbusyÁä∂ÊÄÅÊó∂ÔºåËØ•ÊúçÂä°Âô®ÊâçË¢´Áî®Êù•Â§ÑÁêÜËØ∑Ê±Ç„ÄÇdownÂ∞ÜÊúçÂä°Âô®Ê†áËÆ∞‰∏∫Ê∞∏‰πÖdownÁä∂ÊÄÅ„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö12345upstream backend &#123; server www.example.com weight=5; server 127.0.0.1:8080 max_fails=3 fail_timeout=30s; server unix:/tmp/backend3;&#125;‰∏äËø∞Êåá‰ª§ËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫backendÁöÑÊúçÂä°Âô®ÁªÑÔºåÂåÖÂê´‰∏âÂè∞ÊúçÂä°Âô®„ÄÇÁ¨¨‰∏ÄÂè∞ÊúçÂä°Âô®ÊòØÂü∫‰∫éÂüüÂêçÁöÑÔºåÂπ∂‰∏îÊùÉÈáç‰∏∫5ÔºåÂ∞Ü‰ºòÂÖàÂ§ÑÁêÜÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÔºõÁ¨¨‰∫åÂè∞ÊúçÂä°Âô®Âü∫‰∫éIPÂú∞ÂùÄÔºåÂπ∂‰∏îËÆæÁΩÆÂ¶ÇÊûú30sÂÜÖËøûÁª≠‰∫ßÁîü3Ê¨°ËØ∑Ê±ÇÂ§±Ë¥•ÔºåÂàôËØ•ÊúçÂä°Âô®Âú®‰πãÂêéÁöÑ30sÂÜÖË¢´ËÆ§‰∏∫ÊòØdownÁä∂ÊÄÅÔºõÁ¨¨‰∏âÂè∞ÊúçÂä°Âô®Âü∫‰∫éunixÂú∞ÂùÄ„ÄÇip_hashÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫é‰øùÈöúÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®Âª∫Á´ãÁ®≥ÂÆöÁöÑ‰ºöËØù„ÄÇÂè™ÊúâÂΩìËØ•ÊúçÂä°Âô®Â§Ñ‰∫édownÁä∂ÊÄÅÊó∂ÔºåÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊâç‰ºöË¢´‰∏ã‰∏Ä‰∏™ÊúçÂä°Âô®Êé•Êî∂ÂíåÂ§ÑÁêÜ„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1ip_hash;ip_hashÊåá‰ª§‰∏çËÉΩÂíåweight‰∏ÄËµ∑‰ΩøÁî®ÔºõNginxÊúçÂä°Âô®Â∫î‰∏∫ÊúÄÂâçÁ´ØÁöÑÊúçÂä°Âô®„ÄÇÊØîÂ¶ÇÔºö12345upstream backend &#123; ip_hash; server myback1.proxy.com; server myback2.proxy.com;&#125;‰∏äËø∞ÈÖçÁΩÆ‰ºö‰ΩøÂæóÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÈÉΩÁî±Á¨¨‰∏ÄÂè∞ÊúçÂä°Âô®Â§ÑÁêÜÔºàÂâçÊèêÊòØÊ≤°ÊúâÂá∫ÈîôÔºâÔºåÂ¶ÇÊûúÂéªÊéâip_hashÔºåÂàôÁªÑÂÜÖÁöÑ‰∏§Âè∞ÊúçÂä°Âô®ËΩÆÊµÅÂìçÂ∫îËØ∑Ê±Ç„ÄÇkeep_aliveÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éÊéßÂà∂NginxÊúçÂä°Âô®ÁöÑÂ∑•‰ΩúËøõÁ®ã‰∏∫ÊúçÂä°Âô®ÊâìÂºÄ‰∏ÄÂÆöËåÉÂõ¥ÁöÑÁΩëÁªúËøûÊé•ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1keepalive connections;connectionsÁî®‰∫éÈôêÂÆöËØ•ËåÉÂõ¥ÁöÑ‰∏äÈôêÂÄº„ÄÇÂ¶ÇÊûúË∂ÖËøáËØ•ÂÄºÔºåÂ∑•‰ΩúËøõÁ®ãÂ∞ÜÈááÁî®LRUÔºàÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÔºâÁÆóÊ≥ïÊù•ÂÖ≥Èó≠ÁΩëÁªúËøûÊé•„ÄÇleast_connÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éÊéßÂà∂ÊúçÂä°Âô®ÁªÑÂ§ÑÁêÜÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂ÔºåÈô§‰∫ÜËÄÉËôëÊùÉÈáçÁöÑÂ§ßÂ∞è‰πãÂ§ñÔºåÊØèÊ¨°ÈÄâÊã©ÁöÑÊúçÂä°Âô®ÈÉΩÊòØÂΩìÂâçÁΩëÁªúËøûÊé•ÊúÄÂ∞ëÁöÑÈÇ£Âè∞„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1least_conn;]]></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx GzipÂéãÁº©]]></title>
    <url>%2FNginx-Gzip%E5%8E%8B%E7%BC%A9.html</url>
    <content type="text"><![CDATA[NginxÂºÄÂêØGzipÂéãÁº©ÂèØ‰ª•Â∞ÜÈ°µÈù¢ËµÑÊ∫êËøõË°åÂéãÁº©Âêé‰º†ËæìÁªôÊµèËßàÂô®ÔºåÊµèËßàÂô®Âà§Êñ≠È°µÈù¢ËµÑÊ∫êÊòØÂê¶ÊúâËøõË°åÂéãÁº©ÔºåÂ¶ÇÊûúÊúâÔºåÂàôÂÖàËøõË°åËß£ÂéãÁÑ∂ÂêéÂÜçÊ∏≤ÊüìÈ°µÈù¢„ÄÇÁõÆÂâçÊµÅË°åÁöÑÊµèËßàÂô®ÈÉΩÊîØÊåÅ‰∫ÜËØ•È°πÊäÄÊúØÔºàÈô§‰∫ÜËøúÂè§Êó∂‰ª£ÁöÑIE6Ôºâ„ÄÇGzipÂéãÁº©ÂèØ‰ª•Èôç‰ΩéÁΩëÁªúÂ∏¶ÂÆΩÊ∂àËÄóÔºåÂêåÊó∂ÊèêÂçáËÆøÈóÆÈÄüÂ∫¶Ôºå‰ΩøËÆøÈóÆËÄÖÊã•ÊúâÊõ¥Â•ΩÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇngx_http_gzip_moduleËØ•Ê®°ÂùóÈªòËÆ§ÂºÄÂêØÔºå‰∏ªË¶ÅË¥üË¥£GzipÂäüËÉΩÁöÑÂºÄÂêØ‰∏éËÆæÁΩÆÔºåÂØπÂìçÂ∫îÊï∞ÊçÆËøõË°åÂú®Á∫øÂÆûÊó∂ÂéãÁº©„ÄÇÊ∂âÂèäÁöÑÊåá‰ª§‰∏ªË¶ÅÊúâ‰ª•‰∏ã9‰∏™ÔºögzipÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éÂºÄÂêØÊàñÂÖ≥Èó≠GzipÂäüËÉΩÔºåËØ≠Ê≥ïÁªìÊûÑÂ¶Ç‰∏ãÔºö1gzip on | offÈªòËÆ§ÂÄº‰∏∫off„ÄÇgzip_buffersÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éËÆæÁΩÆGzipÂéãÁº©Êñá‰ª∂‰ΩøÁî®ÁºìÂ≠òÁ©∫Èó¥ÁöÑÂ§ßÂ∞èÔºåËØ≠Ê≥ïÁªìÊûÑÂ¶Ç‰∏ãÔºö1gzip_buffers number size;NginxÊúçÂä°Âô®Âú®ËøõË°åÂéãÁº©Êó∂ÔºåÈúÄË¶ÅÂêëÁ≥ªÁªüÁî≥ËØ∑number*sizeÂ§ßÂ∞èÁöÑÁ©∫Èó¥Áî®‰∫éÂ≠òÂÇ®ÂéãÁº©Êï∞ÊçÆ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãnumber*sizeÁöÑÂÄº‰∏∫128ÔºåsizeÂÄº‰∏∫Á≥ªÁªüÂÜÖÂ≠òÈ°µ‰∏ÄÈ°µÁöÑÂ§ßÂ∞èÔºå‰∏∫4KÊàñ8kÔºåÂç≥Ôºö1gzip_buffers 32 4k | 16 8kgzip_comp_levelÊåá‰ª§Áî®‰∫éËÆæÂÆöGzipÂéãÁº©Áéá„ÄÇÂéãÁº©ÁéáÁ∫ßÂà´‰ªé1Âà∞9ÔºåÂÖ∂‰∏≠1Ë°®Á§∫ÂéãÁº©ÁéáÊúÄ‰ΩéÔºåÂéãÁº©Êó∂Èó¥ÊúÄÁü≠Ôºõ9Ë°®Á§∫ÂéãÁº©ÁéáÊúÄÈ´òÔºåÂéãÁº©Êó∂Èó¥ÊúÄÈïø„ÄÇËØ≠Ê≥ïÁªìÊûÑÂ¶Ç‰∏ãÔºö1gzip_comp_level levelÈªòËÆ§ÂÄº‰∏∫1„ÄÇgzip_disableÊåá‰ª§ÈíàÂØπ‰∏çÂêåÁ±ªÂûãÁöÑÂÆ¢Êà∑Á´ØÂèëËµ∑ÁöÑËØ∑Ê±ÇÔºåÂèØ‰ª•ÈÄâÊã©ÊÄßÁöÑÂºÄÂêØÊàñÂÖ≥Èó≠GzipÂäüËÉΩ„ÄÇÊØîÂ¶ÇIE6ÂØπGzipÁöÑÊîØÊåÅ‰∏çÂ•ΩÔºåÊâÄ‰ª•Â¶ÇÊûúÂèëÈÄÅËØ∑Ê±ÇÁöÑÂÆ¢Êà∑Á´Ø‰∏∫IE6ÔºåÂàôÂÖ≥Èó≠GzipÁöÑÂäüËÉΩ„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1gzip_disable regex ...ÂÖ∂‰∏≠regex‰∏∫ÊµèËßàÂô®ÁöÑUAÊ†áÂøóÁöÑÊ≠£ÂàôË°®ËææÂºè„ÄÇÊØîÂ¶ÇÔºö1gzip_disable MSIE [4-6]\.Âç≥UAÂ≠óÁ¨¶‰∏≤ÂåÖÊã¨MSIE 4ÔºåMSIE 5ÔºåMSIE 6ÁöÑÊµèËßàÂô®ÂèëÈÄÅÁöÑËØ∑Ê±ÇÔºåNginxÂ∞Ü‰∏çËøõË°åGzipÂéãÁº©„ÄÇgzip_http_versionÊåá‰ª§Êó©ÊúüÁöÑHTTPÂÆ¢Êà∑Á´ØÂèØËÉΩ‰∏çÊîØÊåÅGzipÁöÑËá™Ëß£ÂéãÔºåÊâÄ‰ª•ËØ•Êåá‰ª§Áî®‰∫éÈôêÂà∂ÂºÄÂêØGzipÂéãÁº©ÁöÑÊúÄ‰ΩéHTTPÂçèËÆÆÁâàÊú¨ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1gzip_http_version 1.0 | 1.1ÈªòËÆ§ÂÄº‰∏∫1.1„ÄÇÁõÆÂâçÊù•ËØ¥Â§ßÂ§öÊï∞ÊµèËßàÂô®ÈÉΩÊîØÊåÅGzipËá™Ëß£ÂéãÔºåÊâÄ‰ª•ÈááÁî®ÈªòËÆ§ÂÄºÂç≥ÂèØ„ÄÇgzip_min_lengthÊåá‰ª§GzipÂéãÁº©ÂäüËÉΩÂØπ‰∫ésizeËæÉÂ§ßÁöÑÊñá‰ª∂ÂéãÁº©ÊïàÊûúÊòéÊòæÔºåËÄåÂØπ‰∫é‰∏Ä‰∫õsizeÂæàÂ∞èÁöÑÊñá‰ª∂ÂèØËÉΩ‰ºöÂá∫Áé∞Êï∞ÊçÆÈáèË∂äÂéãÁº©Ë∂äÂ§ßÁöÑÊÉÖÂÜµ„ÄÇÊâÄ‰ª•‰∏∫‰∫ÜÈò≤Ê≠¢Âá∫Áé∞ËøôÁßçÊÉÖÂÜµÔºåÂèØÁî®ËØ•Êåá‰ª§Êù•ÈôêÂà∂ÂéãÁº©ÁöÑÊúÄ‰ΩéÊï∞ÊçÆÈáèÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1gzip_min_length lengthÈªòËÆ§ÂÄº‰∏∫20Ôºå‰∏∫0Êó∂Ë°®Á§∫‰∏çËøõË°åÈôêÂà∂„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãËÆæÁΩÆ‰∏∫1kbÂç≥ÂèØ„ÄÇgzip_proxiedÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éËÆæÁΩÆNginxÊúçÂä°Âô®ÊòØÂê¶ÂØπÂêéÁ´ØÊúçÂä°Âô®ËøîÂõûÁöÑÁªìÊûúËøõË°åGzipÂéãÁº©„ÄÇËØ•Êåá‰ª§Âú®‰ΩøÁî®NginxÊúçÂä°Âô®ÁöÑÂèçÂêë‰ª£ÁêÜÂäüËÉΩÊó∂ÊúâÊïà„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1gzip_proxied off | expired | no-cache | no-store | private | no_last_modified | no_etag | auth | any ...offÂÖ≥Èó≠NginxÊúçÂä°Âô®ÂØπÂêéÁ´ØÊúçÂä°Âô®ËøîÂõûÁªìÊûúËøõË°åGzipÂéãÁº©Ôºå‰∏∫ÈªòËÆ§ÂÄº„ÄÇexpiredÂΩìÂêéÁ´ØÊúçÂä°Âô®ÂìçÂ∫îÈ°µÂ§¥ÈÉ®ÂåÖÂê´Áî®‰∫éÊåáÁ§∫ÂìçÂ∫îÊï∞ÊçÆËøáÊúüÊó∂Èó¥ÁöÑexpiredÂ§¥ÂüüÊó∂ÔºåÂºÄÂêØGzipÂéãÁº©„ÄÇno-cacheÂΩìÂêéÁ´ØÊúçÂä°Âô®ÂìçÂ∫îÈ°µÂ§¥ÈÉ®ÂåÖÂê´Áî®‰∫éÈÄöÁü•ÊâÄÊúâÁºìÂ≠òÊú∫Âà∂ÊòØÂê¶ÁºìÂ≠òÁöÑCache-controlÂ§¥Âüü‰∏îÂÖ∂Êåá‰ª§ÂÄº‰∏∫no-cacheÊó∂ÔºåÂºÄÂêØGzipÂéãÁº©„ÄÇno-storeÂΩìÂêéÁ´ØÊúçÂä°Âô®ÂìçÂ∫îÈ°µÂ§¥ÈÉ®ÂåÖÂê´Áî®‰∫éÈÄöÁü•ÊâÄÊúâÁºìÂ≠òÊú∫Âà∂ÊòØÂê¶ÁºìÂ≠òÁöÑCache-controlÂ§¥Âüü‰∏îÂÖ∂Êåá‰ª§ÂÄº‰∏∫no-storeÊó∂ÔºåÂºÄÂêØGzipÂéãÁº©„ÄÇprivateÂΩìÂêéÁ´ØÊúçÂä°Âô®ÂìçÂ∫îÈ°µÂ§¥ÈÉ®ÂåÖÂê´Áî®‰∫éÈÄöÁü•ÊâÄÊúâÁºìÂ≠òÊú∫Âà∂ÊòØÂê¶ÁºìÂ≠òÁöÑCache-controlÂ§¥Âüü‰∏îÂÖ∂Êåá‰ª§ÂÄº‰∏∫privateÊó∂ÔºåÂºÄÂêØGzipÂéãÁº©„ÄÇno_last_modifiedÂΩìÂêéÁ´ØÊúçÂä°Âô®ÂìçÂ∫îÈ°µÂ§¥ÈÉ®‰∏çÂåÖÂê´Áî®‰∫éÊåáÊòéÈúÄË¶ÅËé∑ÂèñÊï∞ÊçÆÊúÄÂêé‰øÆÊîπÊó∂Èó¥ÁöÑLast-ModifiedÂ§¥ÂüüÊó∂ÔºåÂºÄÂêØGzipÂéãÁº©„ÄÇno-etagÂΩìÂêéÁ´ØÊúçÂä°Âô®ÂìçÂ∫îÈ°µÂ§¥ÈÉ®‰∏çÂåÖÂê´Áî®‰∫éÊ†áËØÜË¢´ËØ∑Ê±ÇÂèòÈáèÁöÑÂÆû‰ΩìÂÄºÁöÑETagÂ§¥ÂüüÊó∂ÔºåÂºÄÂêØGzipÂéãÁº©„ÄÇauthÂΩìÂêéÁ´ØÊúçÂä°Âô®ÂìçÂ∫îÈ°µÂ§¥ÈÉ®ÂåÖÂê´Áî®‰∫éÊ†áËØÜHTTPÊéàÊùÉËØÅ‰π¶ÁöÑAuthorizationÂ§¥ÂüüÊó∂ÔºåÂºÄÂêØGzipÂéãÁº©„ÄÇanyÊó†Êù°‰ª∂ÂºÄÂêØGzipÂéãÁº©„ÄÇgzip_typesÊåá‰ª§Ê†πÊçÆÂìçÂ∫îÈ°µÁöÑMIMEÁ±ªÂûãÈÄâÊã©ÊÄßÁöÑÂºÄÂêØGzipÂéãÁº©„ÄÇËØ≠Ê≥ï‰∏∫Ôºö1gzip_types mime-types ...ÈªòËÆ§ÂÄº‰∏∫text/htmlÔºåÂèòÈáèÂÄºËøòÂèØ‰ª•Âèñ*ÔºåË°®Á§∫ÂØπÊâÄÊúâMIMEÁ±ªÂûãÁöÑÈ°µÈù¢Êï∞ÊçÆÈÉΩËøõË°åGzipÂéãÁº©„ÄÇgzip_varyÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éËÆæÁΩÆÂú®‰ΩøÁî®‰∫ÜGzipÂäüËÉΩÊó∂ÊòØÂê¶ÂèëÈÄÅÂ∏¶Êúâ‚Äúvary:Accept-Encoding‚ÄùÂ§¥ÂüüÁöÑÂìçÂ∫îÂ§¥ÈÉ®„ÄÇÊØîÂ¶ÇÊâìÂºÄÁôæÂ∫¶È°µÈù¢ÁöÑÊéßÂà∂Âè∞ÔºåÂèØÁúãÂà∞ÔºöÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1gzip_vary on | offÈªòËÆ§ÂÄº‰∏∫off„ÄÇngx_http_gzip_static_moduleËØ•Ê®°Âùó‰∏ªË¶ÅË¥üË¥£ÊêúÁ¥¢ÂíåÂèëÈÄÅÁªèËøáGzipÂäüËÉΩÈ¢ÑÂéãÁº©ÁöÑÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÁöÑÊï∞ÊçÆÂú®‰πãÂâçÂ∞±Ë¢´ÂéãÁº©ËøáÔºåÂàôÁõ¥Êé•ËøîÂõû„ÄÇÂíångx_http_gzip_module‰∏ªË¶ÅÁöÑÂå∫Âà´ÊòØÔºåËØ•Ê®°Âùó‰ΩøÁî®ÁöÑÊòØÈùôÊÄÅÂéãÁº©ÔºåÂú®HTTPÂìçÂ∫îÂ§¥ÈÉ®ÂåÖÂê´Content-LengthÂ§¥ÂüüÊù•ÊåáÊòéÊä•Êñá‰ΩìÁöÑÈïøÂ∫¶ÔºåÁî®‰∫éÊúçÂä°Âô®Á°ÆÂÆöÂìçÂ∫îÊï∞ÊçÆÁöÑÈïøÂ∫¶„ÄÇËØ•Ê®°ÂùóÈªòËÆ§ÂÖ≥Èó≠ÔºåÂ¶ÇÊûúÈúÄË¶Å‰ΩøÁî®ÔºåÂøÖÈ°ªÂú®NginxÁ®ãÂ∫èÈÖçÁΩÆÊó∂Ê∑ªÂä†‚Äìwith-http_gzip_static_moduleÊåá‰ª§„ÄÇ‰∏éËØ•Ê®°ÂùóÊúâÂÖ≥ÁöÑÂëΩ‰ª§ÊúâÂ¶Ç‰∏ãÂá†‰∏™Ôºögzip_static„ÄÅgzip_http_version„ÄÅgzip-proxied„ÄÅgzip_disableÂíågzip_varyÁ≠â„ÄÇgzip_staticÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éÂºÄÂêØÊàñÂÖ≥Èó≠GzipÈùôÊÄÅÂéãÁº©„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1gzip_static on | off | alwaysÂÖ∂‰ΩôÊåá‰ª§Âíångx_http_gzip_moduleÁ±ª‰ºº„ÄÇngx_http_gunzip_moduleËØ•Ê®°ÂùóÁî®Êù•ÈíàÂØπ‰∏çÊîØÊåÅGzipÂéãÁº©Êï∞ÊçÆÂ§ÑÁêÜÁöÑÂÆ¢Êà∑Á´ØÊµèËßàÂô®ÔºåÂØπÂéãÁº©Êï∞ÊçÆËøõË°åËß£ÂéãÂ§ÑÁêÜ„ÄÇÊúâÂÖ≥ÁöÑÂëΩ‰ª§Â¶Ç‰∏ãÔºögunzip„ÄÅgunzip_buffers„ÄÅgzip_http_version„ÄÅgzip_proxied„ÄÅgzip_disableÂíågzip_varyÁ≠â„ÄÇËØ•Ê®°ÂùóÈªòËÆ§ÂÖ≥Èó≠ÔºåÂ¶ÇÊûúÈúÄË¶Å‰ΩøÁî®ÔºåÂøÖÈ°ªÂú®NginxÁ®ãÂ∫èÈÖçÁΩÆÊó∂Ê∑ªÂä† ‚Äìwith-http_gunzip_moduleÊåá‰ª§„ÄÇgunzipÊåá‰ª§ËØ•Êåá‰ª§Áî®‰∫éÂºÄÂêØÊàñÂÖ≥Èó≠ËØ•Ê®°ÂùóÁöÑÂäüËÉΩÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1gunzip_static on | offÂêØÁî®ËØ•ÂäüËÉΩÂêéÔºåÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÊµèËßàÂô®‰∏çÊîØÊåÅGzipÊï∞ÊçÆÂ§ÑÁêÜÊó∂ÔºåNginxÂè™ÊòØÂú®Â∞ÜÊï∞ÊçÆËøîÂõûÁªôÊµèËßàÂô®ÂâçËøõË°å‰∫ÜËß£ÂéãÂ§ÑÁêÜ„ÄÇÂΩìNginxÂíåÂêéÁ´ØÊúçÂä°Âô®‰∫§‰∫íÁöÑÊï∞ÊçÆÊàñËÄÖÊú¨Ë∫´Â≠òÂÇ®ÁöÑÊï∞ÊçÆËøòÊòØ‰ΩøÁî®‰∫ÜGzipÂéãÁº©ÁöÑ„ÄÇËøôÊ†∑ÂÅöÊòØÂèØ‰ª•‰øùËØÅÊµèËßàÂô®Ëß£ÊûêÊï∞ÊçÆ‰∏çÂá∫Áé∞ÈóÆÈ¢òÔºåÂêåÊó∂ÂáèÂ∞ë‰∫ÜÂíåÂêéÁ´ØÊúçÂä°Âô®‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÈáèÔºåÈôç‰Ωé‰∫ÜÊú¨Âú∞ÁöÑÂ≠òÂÇ®Á©∫Èó¥ÂíåÁºìÂ≠òÁöÑ‰ΩøÁî®Áéá„ÄÇÂÖ∂‰ΩôÊåá‰ª§Âíångx_http_gzip_moduleÊ®°ÂùóÁ±ª‰ºº„ÄÇÈÖçÁΩÆÂÆû‰æã‰ΩøÁî®hexoÁîüÊàêÁöÑÈùôÊÄÅÈ°µÈù¢‰∏∫‰æãÂ≠êÔºåÈÖçÁΩÆNginxÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748worker_processes 1;error_log logs/error.log;events &#123; worker_connections 1024; use epoll;&#125;http &#123; include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; gzip on; gzip_min_length 1024; gzip_buffers 4 16k; gzip_comp_level 2; gzip_types text/plain application/x-javascript text/css application/xml; gzip_vary on; gzip_disable "MSIE [1-6]\."; server &#123; listen 80; server_name localhost; charset utf-8; location /index &#123; alias /home/mrbird/mrbirdcc; index index.html; &#125; &#125; server &#123; listen 8082; server_name 192.168.112.130; charset utf-8; gzip off; # ÂÖ≥Èó≠GzipÂéãÁº© location /index &#123; alias /home/mrbird/mrbirdcc; index index.html; &#125; &#125;&#125;ÂêØÂä®NginxÔºåËÆøÈóÆÂºÄÂêØ‰∫ÜGzipÂéãÁº©ÁöÑlocationÔºöhttp://localhost/index/ÔºåÊòæÁ§∫Â¶Ç‰∏ãÔºöÂèØËßÅÂºÄÂêØGzipÂéãÁº©ÂêéÔºåÊñá‰ª∂Â§ßÂ∞èÂèòÂ∞è‰∫ÜÔºåÂπ∂‰∏îÂìçÂ∫îÂ§¥ÈÉ®ÂåÖÂê´Content-Encoding: gzip„ÄÇËÆøÈóÆÊú™ÂºÄÂêØGzipÂéãÁº©ÁöÑlocationÔºöhttp://192.168.112.130:8082/index/ÔºåÊòæÁ§∫Â¶Ç‰∏ãÔºö]]></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NginxÁöÑÂü∫Êú¨ÈÖçÁΩÆ]]></title>
    <url>%2FNginx%20basic%20config.html</url>
    <content type="text"><![CDATA[NginxÈÖçÁΩÆÊñá‰ª∂‰∏ªË¶ÅÂàÜÊàêÂõõÈÉ®ÂàÜÔºömainÔºàÂÖ®Â±ÄËÆæÁΩÆÔºâ„ÄÅhttpÔºàHTTPÁöÑÈÄöÁî®ËÆæÁΩÆÔºâ„ÄÅserverÔºàËôöÊãü‰∏ªÊú∫ËÆæÁΩÆÔºâ„ÄÅlocationÔºàÂåπÈÖçURLË∑ØÂæÑÔºâ„ÄÇËøòÊúâ‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÈÖçÁΩÆÊÆµÔºåÂ¶ÇeventÔºåupstreamÁ≠â„ÄÇ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑNginxÈÖçÁΩÆÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374user www www; ## Default: nobodyworker_processes 5; ## Default: 1error_log logs/error.log;pid logs/nginx.pid;worker_rlimit_nofile 8192;events &#123; worker_connections 4096; ## Default: 1024 multi_accept on; use epoll;&#125;http &#123; include conf/mime.types; include /etc/nginx/proxy.conf; include /etc/nginx/fastcgi.conf; index index.html index.htm index.php; default_type application/octet-stream; log_format main '$remote_addr - $remote_user [$time_local] $status ' '"$request" $body_bytes_sent "$http_referer" ' '"$http_user_agent" "$http_x_forwarded_for"'; access_log logs/access.log main; sendfile on; tcp_nopush on; server_names_hash_bucket_size 128; # this seems to be required for some vhosts server &#123; # php/fastcgi listen 80; server_name domain1.com www.domain1.com; access_log logs/domain1.access.log main; root html; location ~ \.php$ &#123; fastcgi_pass 127.0.0.1:1025; &#125; &#125; server &#123; # simple reverse-proxy listen 80; server_name domain2.com www.domain2.com; access_log logs/domain2.access.log main; # serve static files location ~ ^/(images|javascript|js|css|flash|media|static)/ &#123; root /var/www/virtual/big.server.com/htdocs; expires 30d; &#125; # pass requests for dynamic content to rails/turbogears/zope, et al location / &#123; proxy_pass http://127.0.0.1:8080; &#125; &#125; upstream big_server_com &#123; server 127.0.0.3:8000 weight=5; server 127.0.0.3:8001 weight=5; server 192.168.0.1:8000; server 192.168.0.1:8001; &#125; server &#123; # simple load balancing listen 80; server_name big.server.com; access_log logs/big.server.access.log main; location / &#123; proxy_pass http://big_server_com; &#125; &#125;&#125;NginxÂü∫Á°ÄÈÖçÁΩÆÊåá‰ª§userÁî®‰∫éÊåáÂÆöËøêË°åNginxÁöÑÁî®Êà∑ÂíåÁªÑÔºö1user user [group]Âè™ÊúâË¢´ËÆæÁΩÆÁöÑÁî®Êà∑ÊàñËÄÖÁî®Êà∑ÁªÑÊàêÂëòÊâçÊúâÊùÉÈôêÂêØÂä®NginxÊúçÂä°„ÄÇÂ¶ÇÊûúÂ∏åÊúõÊâÄÊúâÁî®Êà∑ÈÉΩÂèØ‰ª•ÂêØÂä®NginxÔºåÂàôÂè™ÈúÄÂ∞ÜÂÖ∂Ê≥®ÈáäÊéâÊàñËÄÖÊåáÂÆö‰∏∫Ôºö1user nobody nobodyworker_processesÊåáÂÆöNginxÁöÑÂ∑•‰ΩúËøõÁ®ãÁöÑ‰∏™Êï∞ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏∫‰∏é CPU Êï∞ÈáèÁõ∏ÂêåÔºåÂü∫Êú¨ËØ≠Ê≥ïÔºö1worker_processes number|autoËÆæÁΩÆ‰∏∫autoÊó∂ÔºåNginxËøõÁ®ãÂ∞ÜËá™Âä®Ê£ÄÊµã„ÄÇÂΩìworker_processesËÆæÁΩÆ‰∏∫1Êó∂Ôºö12345# sbin/nginx # ps -ef|grep nginxroot 5882 1326 0 13:07 ? 00:00:00 nginx: master process sbin/nginxnobody 5883 5882 0 13:07 ? 00:00:00 nginx: worker processroot 5885 5430 0 13:07 pts/1 00:00:00 grep --color=auto nginxÂ∞Üworker_processesËÆæÁΩÆ‰∏∫3Êó∂Ôºö123456# ps -ef|grep nginxroot 5919 1326 0 13:09 ? 00:00:00 nginx: master process sbin/nginxnobody 5920 5919 0 13:09 ? 00:00:00 nginx: worker processnobody 5921 5919 0 13:09 ? 00:00:00 nginx: worker processnobody 5922 5919 0 13:09 ? 00:00:00 nginx: worker processroot 5924 5430 0 13:09 pts/1 00:00:00 grep --color=auto nginxworker_processesËøõÁ®ãÊï∞ÂèòÊàê‰∫Ü3‰∏™„ÄÇerror_logÁî®‰∫éÈÖçÁΩÆÈîôËØØÊó•ÂøóÁöÑÂ≠òÊîæË∑ØÂæÑ„ÄÇhttpÔºåserverÂíålocationÂùó‰πüÂèØÈÖçÁΩÆerror_logÔºåÂå∫Âà´Âú®‰∫éÁ∫ßÂà´‰∏ç‰∏ÄÊ†∑„ÄÇÂü∫Êú¨ËØ≠Ê≥ïÔºö1error_log files|stderr [ debug | info | notice | warn | error | crit | alert | emerg ]debugÁ∫ßÂà´ÊúÄÈ´òÔºåemergÁ∫ßÂà´ÊúÄ‰Ωé„ÄÇÊØîÂ¶ÇËÆæÁΩÆÁ∫ßÂà´‰∏∫warnÂêéÔºåwarnÔºåerrorÔºåcritÔºåalertÂíåemergÁ∫ßÂà´ÁöÑÊó•ÂøóÈÉΩ‰ºöË¢´ËÆ∞ÂΩï„ÄÇNginxÈªòËÆ§Êó•ÂøóÂ≠òÊîæË∑ØÂæÑ‰∏∫Ôºölogs/error.log„ÄÇpidpidÊåá‰ª§Áî®‰∫éÊåáÂÆöÂ≠òÊîæNginx‰∏ªËøõÁ®ãÂè∑Â≠òÊîæÊñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇÈªòËÆ§ÁöÑË∑ØÂæÑ‰∏∫Ôºö123# ./sbin/nginx # cat logs/nginx.pid 101106worker_rlimit_nofileËÆæÁΩÆÊØé‰∏™ËøõÁ®ãÁöÑÊúÄÂ§ßÊñá‰ª∂ÊâìÂºÄÊï∞„ÄÇÂ¶ÇÊûú‰∏çËÆæÁöÑËØù‰∏äÈôêÂ∞±ÊòØÁ≥ªÁªüÁöÑulimit ‚ÄìnÁöÑÊï∞Â≠óÔºà1024Ôºâ„ÄÇworker_connectionsËÆæÂÆö‰∏Ä‰∏™workerËøõÁ®ãÁöÑÊúÄÂ§ßËøûÊé•Êï∞„ÄÇÈªòËÆ§‰∏∫512ÔºåÊåâËá™Â∑±Á≥ªÁªüÁöÑÁ°¨‰ª∂ÈÖçÁΩÆË∞ÉÊï¥Ôºå‰∏çËÉΩË∂ÖËøáworker_rlimit_nofile„ÄÇincludeincludeÊåá‰ª§Áî®‰∫éÂºïÂÖ•Á¨¨‰∏âÊñπÈÖçÁΩÆÊñá‰ª∂ÔºåÊØîÂ¶ÇÂ∏∏ËßÅÁöÑMIMEÁ±ªÂûãÁ≠â„ÄÇaccept_mutexËØ•Êù°Êåá‰ª§ÁõÆÁöÑÊòØ‰∏∫‰∫ÜËß£ÂÜ≥‚ÄúÊÉäÁæ§‚ÄùÁöÑÈóÆÈ¢ò„ÄÇ‚ÄúÊÉäÁæ§‚ÄùÂ§ßËá¥ÊÑèÊÄùÊòØÔºöÂΩìÊüê‰∏™Êó∂ÂàªÂè™Êúâ‰∏Ä‰∏™ÁΩëÁªúËøûÊé•Êó∂ÔºåÂ§ö‰∏™ËøõÁ®ã‰ºöË¢´ÂêåÊó∂Âî§ÈÜíÔºå‰ΩÜÊúÄÁªàÂÆûÈôÖ‰∏äÂè™Êúâ‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•Ëé∑ÂæóËøûÊé•ÔºåÁî±‰∫éÂî§ÈÜí‰∫ÜÂà´ÁöÑ‰∏çÂøÖË¶ÅÁöÑËøõÁ®ãÔºåÈÄ†Êàê‰∫ÜÊÄßËÉΩÁöÑÊµ™Ë¥π„ÄÇaccept_mutexËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1accept_mutex on | offÈªòËÆ§‰∏∫ÂºÄÂêØÔºàonÔºâÁä∂ÊÄÅÔºåÂè™ËÉΩÂú®eventsÂùó‰∏≠ËøõË°åËÆæÁΩÆ„ÄÇmulti_acceptÁî®‰∫éËÆæÁΩÆÊòØÂê¶ÂÖÅËÆ∏worker_processÂêåÊó∂Êé•ÂèóÂ§ö‰∏™ÁΩëÁªúËøûÊé•„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1multi_accept on | offÂÖ∂ÈªòËÆ§‰∏∫ÂÖ≥Èó≠ÔºàoffÔºâÁä∂ÊÄÅÔºå‰πüÂ∞±ÊòØËØ¥ÊØè‰∏™worker_process‰∏ÄÊ¨°Âè™ËÉΩÊé•Êî∂‰∏Ä‰∏™Êñ∞Âà∞ËææÁöÑÁΩëÁªúËøûÊé•„ÄÇËØ•Êåá‰ª§Âè™ËÉΩÂú®eventsÊ®°Âùó‰∏≠ËÆæÁΩÆ„ÄÇuseuseÊåá‰ª§Áî®‰∫éÈÄâÊã©‰∫ã‰ª∂ÁöÑÈ©±Âä®Ê®°Âûã„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1use methodNginxÊèê‰æõ‰∫ÜÂ§öÁßç‰∫ã‰ª∂È©±Âä®Ê®°ÂûãÊù•Â§ÑÁêÜÁΩëÁªúÊ∂àÊÅØÔºåmethodÂèØÈÄâÁöÑÂÜÖÂÆπÊúâÔºöselectÔºåpollÔºåkqueueÔºåepollÔºårtsigÔºå/dev/pollÂíåeventport„ÄÇËØ•Êåá‰ª§Âè™ËÉΩÂú®eventsÊ®°Âùó‰∏≠ËÆæÁΩÆ„ÄÇworker_connentionsÁî®‰∫éËÆæÁΩÆÊØè‰∏™worker_processÊúÄÂ§ßÁöÑËøûÊé•Êï∞„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1worker_process numberËØ•Êåá‰ª§Âè™ËÉΩÂú®eventsÊ®°Âùó‰∏≠ËÆæÁΩÆ„ÄÇÊåáÂÆöMIMEÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ã‰∏§Êù°ÈÖçÁΩÆÔºö12include conf/mime.types;default_type application/octet-stream;includeÊåá‰ª§ÂºïÂÖ•‰∫Ümime.typesÊñá‰ª∂ÔºåÂÖ∂‰∏≠mime.typesÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930types &#123; text/html html htm shtml; text/css css; text/xml xml; image/gif gif; image/jpeg jpeg jpg; application/javascript js; application/atom+xml atom; application/rss+xml rss; text/mathml mml; text/plain txt; text/vnd.sun.j2me.app-descriptor jad; text/vnd.wap.wml wml; text/x-component htc; ... video/3gpp 3gpp 3gp; video/mp2t ts; video/mp4 mp4; video/mpeg mpeg mpg; video/quicktime mov; video/webm webm; video/x-flv flv; video/x-m4v m4v; video/x-mng mng; video/x-ms-asf asx asf; video/x-ms-wmv wmv; video/x-msvideo avi;&#125;default_type application/octet-streamÊåáÂÆö‰∫ÜÈªòËÆ§Á±ªÂûã‰∏∫‰∫åËøõÂà∂ÊµÅ„ÄÇÂ¶ÇÊûú‰∏çÊåáÂÆöÁöÑËØùÔºåÈªòËÆ§ÂÄº‰∏∫text/plain„ÄÇËØ•Êåá‰ª§ÂèØ‰ª•Âú®httpÔºåserverÊàñlocationÊ®°Âùó‰∏≠ËÆæÁΩÆ„ÄÇËá™ÂÆö‰πâÊúçÂä°Êó•Âøóerror_logÁî®‰∫éËÆ∞ÂΩïNginxËøêË°åÊó∂ÁöÑÂ∏∏ËßÑÊó•ÂøóÔºåËÄåaccess_logÔºàÊúçÂä°Êó•ÂøóÔºâÊòØÊåáNginxÊúçÂä°Âô®Âú®ÂìçÂ∫îÂêÑÁßçÂâçÁ´ØËØ∑Ê±ÇÁöÑÊó•Âøó„ÄÇÂåÖÂê´‰∏§‰∏™Êåá‰ª§Ôºöaccess_logÂíålog_format„ÄÇaccess_logÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1access_log ptah[format[buffer=size]]pathÁî®‰∫éÊåáÂÆöËØ•Êó•ÂøóÁöÑÂ≠òÊîæË∑ØÂæÑÔºåformat‰∏∫ÂèØÈÄâÈ°πÔºå‰ª£ÊåáËá™ÂÆö‰πâÊúçÂä°Êó•ÂøóÁöÑÊ†ºÂºèÂ≠óÁ¨¶‰∏≤„ÄÇsize‰∏∫ÂèØÈÄâÈ°πÔºåÁî®‰∫éÈÖçÁΩÆ‰∏¥Êó∂Â≠òÊîæÊó•ÂøóÁöÑÂÜÖÂ≠òÁºìÂ≠òÂå∫Â§ßÂ∞è„ÄÇlog_formatÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1log_format name string ...nameÁî®‰∫é‰∏∫ËØ•Ê†ºÂºèÂÆö‰πâ‰∏Ä‰∏™ÂèòÈáèÂêçÔºå‰æõaccess_logÊåá‰ª§‰ΩøÁî®„ÄÇstring‰∏∫Ê†ºÂºèÂ≠óÁ¨¶‰∏≤ÔºåÊØîÂ¶ÇÔºö$remote_addr - $remote_user [$time_local] $statusÂÖ∂‰∏≠$remote_addrÁ≠â‰∏∫NginxÈ¢ÑËÆæÁöÑ‰∏Ä‰∫õÂèòÈáèÔºåÂ∏∏Áî®ÁöÑÂèòÈáèÊúâÔºöÂèÇÊï∞ËØ¥ÊòéÁ§∫‰æã$remote_addrÂÆ¢Êà∑Á´ØÂú∞ÂùÄ211.28.65.253$remote_userÂÆ¢Êà∑Á´ØÁî®Êà∑ÂêçÁß∞‚Äì$time_localËÆøÈóÆÊó∂Èó¥ÂíåÊó∂Âå∫18/Jul/2012:17:00:01 +0800$requestËØ∑Ê±ÇÁöÑURIÂíåHTTPÂçèËÆÆ‚ÄúGET /article-10000.html HTTP/1.1‚Äù$http_hostËØ∑Ê±ÇÂú∞ÂùÄÔºåÂç≥ÊµèËßàÂô®‰∏≠‰Ω†ËæìÂÖ•ÁöÑÂú∞ÂùÄÔºàIPÊàñÂüüÂêçÔºâwww.it300.com192.168.100.100$statusHTTPËØ∑Ê±ÇÁä∂ÊÄÅ200$upstream_statusupstreamÁä∂ÊÄÅ200$body_bytes_sentÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÊñá‰ª∂ÂÜÖÂÆπÂ§ßÂ∞è1547$http_refererurlË∑≥ËΩ¨Êù•Ê∫êhttps://www.baidu.com/$http_user_agentÁî®Êà∑ÁªàÁ´ØÊµèËßàÂô®Á≠â‰ø°ÊÅØ‚ÄúMozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SV1; GTB7.0; .NET4.0C;$ssl_protocolSSLÂçèËÆÆÁâàÊú¨TLSv1$ssl_cipher‰∫§Êç¢Êï∞ÊçÆ‰∏≠ÁöÑÁÆóÊ≥ïRC4-SHA$upstream_addrÂêéÂè∞upstreamÁöÑÂú∞ÂùÄÔºåÂç≥ÁúüÊ≠£Êèê‰æõÊúçÂä°ÁöÑ‰∏ªÊú∫Âú∞ÂùÄ10.10.10.100:80$request_timeÊï¥‰∏™ËØ∑Ê±ÇÁöÑÊÄªÊó∂Èó¥0.205$upstream_response_timeËØ∑Ê±ÇËøáÁ®ã‰∏≠ÔºåupstreamÂìçÂ∫îÊó∂Èó¥0.002ËØ•Êåá‰ª§Âè™ËÉΩÂú®httpÊ®°Âùó‰∏≠ËÆæÁΩÆ„ÄÇsendfile &amp; sendfile_max_chunksendfileÁî®‰∫éÂºÄÂêØÊàñÂÖ≥Èó≠‰ΩøÁî®sendfile()‰º†ËæìÊñá‰ª∂„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1sendfile on | offÂèØ‰ª•Âú®httpÔºåserverÊàñlocation‰∏≠ËøõË°åÈÖçÁΩÆ„ÄÇsendfile_max_chunkÁî®‰∫éËÆæÁΩÆNginxËøõÁ®ã‰∏≠ÁöÑÊØè‰∏™worker_processÊØèÊ¨°Ë∞ÉÁî®sendfile()‰º†ËæìÁöÑÊï∞ÊçÆÈáèÁöÑÊúÄÂ§ßÂÄº„ÄÇÈªòËÆ§ÂÄº‰∏∫0ÔºåË°®Á§∫Ê≤°ÊúâÈôêÂà∂„ÄÇÊØîÂ¶ÇÔºö1sendfile_max_chunk 128kËØ•Êåá‰ª§ÂèØ‰ª•Âú®httpÔºåserverÊàñlocationÂùó‰∏≠ÈÖçÁΩÆ„ÄÇkeepalive_timeoutÁî®‰∫éËÆæÁΩÆNginxÊúçÂä°Âô®‰∏éÁî®Êà∑Âª∫Á´ã‰ºöËØùËøûÊé•‰øùÊåÅÁöÑÊó∂Èó¥ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1keepalive_timeout timeout[header_timeout]timeoutÁî®‰∫éËÆæÁΩÆÊúçÂä°Âô®Á´Ø‰øùÊåÅËøûÊé•ÁöÑÊó∂Èó¥Ôºõheader_timeout‰∏∫ÂèØÈÄâÈ°πÔºåÁî®‰∫éÈÖçÁΩÆÂ∫îÁ≠îÊä•ÊñáÂ§¥ÈÉ®ÁöÑKeep-AliveÂüüÁöÑÂÄº„ÄÇËØ•Êåá‰ª§ÂèØ‰ª•Âú®httpÔºåserverÂíålocationÂùó‰∏≠ÈÖçÁΩÆ„ÄÇkeepalive_requestsÁî®‰∫éÈôêÂà∂Áî®Êà∑ÈÄöËøáÊüê‰∏ÄËøûÊé•ÂêëÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊ¨°Êï∞ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1keepalive_requests numberÈªòËÆ§ÂÄº‰∏∫100ÔºåÂèØ‰ª•Âú®httpÔºåserverÂíålocationÂùó‰∏≠ÈÖçÁΩÆ„ÄÇlistenËØ•Êåá‰ª§Áî®‰∫éÈÖçÁΩÆÁõëÂê¨„ÄÇÈÖçÁΩÆÊñπÊ≥ï‰∏ªË¶ÅÊúâ‰∏âÁßçÔºö1„ÄÅÈÖçÁΩÆÁõëÂê¨ÁöÑIPÂú∞ÂùÄÔºö1listen address[:port] [default_server] [setfib=number] [backlog=number] [rcvbuf=size] [sndbuf=size] [deferred] [accept_filter=filter] [bind] [ssl]2„ÄÅÈÖçÁΩÆÁõëÂê¨Á´ØÂè£1listen port [default_server] [setfib=number] [backlog=number] [rcvbuf=size] [sndbuf=size] [deferred] [accept_filter=filter] [bind] [ipv6only=on|off] [ssl]3„ÄÅÈÖçÁΩÆUNIX Domain Socket1listen unix:path [default_server] [setfib=number] [backlog=number] [rcvbuf=size] [sndbuf=size] [deferred] [accept_filter=filter] [bind] [ssl]addressÔºåIPÂú∞ÂùÄÔºåÂ¶ÇÊûúÊòØIPv6ÁöÑÂú∞ÂùÄÔºåÈúÄ‰ΩøÁî®[]ÔºåÊØîÂ¶Ç[fe80 ::1]„ÄÇportÔºåÁ´ØÂè£Âè∑„ÄÇpathÔºåsocketÊñá‰ª∂Ë∑ØÂæÑÔºåÂ¶Ç/var/run/nginx.sockÁ≠â„ÄÇdefault_serverÔºåÊ†áËØÜÁ¨¶ÔºåË°®Á§∫ËÆæÁΩÆ‰∏∫ÈªòËÆ§‰∏ªÊú∫„ÄÇrcvbuf=sizeÔºåËÆæÁΩÆÁõëÂê¨socketÊé•Êî∂ÁºìÂ≠òÂå∫Â§ßÂ∞è„ÄÇsndbuf=sizeÔºåËÆæÁΩÆÁõëÂê¨socketÂèëÈÄÅÁºìÂ≠òÂå∫Â§ßÂ∞è„ÄÇdeferredÔºåÊ†áËØÜÁ¨¶ÔºåÂ∞Üaccept()ËÆæÁΩÆ‰∏∫DeferredÊ®°Âºè„ÄÇaccept_filter=filterÔºåËÆæÁΩÆÁõëÂê¨Á´ØÂè£ÂØπËØ∑Ê±ÇÁöÑËøáÊª§ ÔºåË¢´ËøáÊª§ÁöÑÂÜÖÂÆπ‰∏çËÉΩË¢´Êé•Êî∂ÂíåÂ§ÑÁêÜ„ÄÇsslÔºåÊ†áËØÜÁ¨¶ÔºåËÆæÁΩÆ‰ºöËØùËøûÊé•‰ΩøÁî®SSLÊ®°ÂºèËøõË°å„ÄÇ‰∏Ä‰∫õ‰æãÂ≠êÔºö1234listen *:80 | *:8080; #ÁõëÂê¨ÊâÄÊúâ80Á´ØÂè£Âíå8080Á´ØÂè£listen 192.168.1.10:8080; #ÁõëÂê¨ÂÖ∑‰ΩìIPÂíåÂÖ∑‰ΩìÁ´ØÂè£‰∏äÁöÑËøûÊé•listen 8000; #ÁõëÂê¨ÊâÄÊúâIPÂú∞ÂùÄÁöÑ8000Á´ØÂè£ÔºåÁ≠âÂêå‰∫é listen *:8000listen 192.168.1.10 default_server; #ËÆæÁΩÆ192.168.1.10ÁöÑËøûÊé•ËØ∑Ê±ÇÈªòËÆ§Áî±Ê≠§ËôöÊãü‰∏ªÊú∫Â§ÑÁêÜserver_nameNginxÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊØè‰∏™serverÂùóÂØπ‰∫é‰∏Ä‰∏™ËôöÊãü‰∏ªÊú∫ÈÖçÁΩÆÔºåserver_nameÁî®‰∫éÊåáÂÆöËôöÊãü‰∏ªÊú∫ÁöÑÂêçÁß∞ÔºåÁî®Êà∑ÂèØÈÄöËøáËøô‰∏™ÂêçÁß∞Êù•ÂêëÊ≠§ËôöÊãü‰∏ªÊú∫ÂèëÈÄÅËØ∑Ê±Ç„ÄÇserver_nameÁöÑÈÖçÁΩÆÂàÜ‰∏∫ÂêçÁß∞ÂíåIP‰∏§ÁßçÊñπÂºè„ÄÇÂü∫‰∫éÂêçÁß∞ÁöÑËôöÊãü‰∏ªÊú∫ÈÖçÁΩÆÂü∫‰∫éÂêçÁß∞ÁöÑËôöÊãü‰∏ªÊú∫ÈÖçÁΩÆÊó∂Ôºåserver_nameÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1server_name name ...nameÂèØ‰ª•Êúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂêçÁß∞Âπ∂ÂàóÔºåÁî®Á©∫Ê†ºÈöîÂºÄ„ÄÇÊØè‰∏™ÂêçÁß∞ÂØπÂ∫î‰∏Ä‰∏™ÂüüÂêçÔºåÁî±‰∏§ÊÆµÊàñËÄÖ‰∏âÊÆµÁªÑÊàêÔºå‰πãÈó¥Áî±.ÈöîÂºÄ„ÄÇÊØîÂ¶ÇÔºö1server_name www.mrbird.cc mrbird.cc;1„ÄÅÂú®name‰∏≠ÂèØ‰ª•‰ΩøÁî®ÈÄöÈÖçÁ¨¶*ÔºåÈÄöÈÖçÁ¨¶ÂèØÁî®Âú®‰∏âÊÆµÂºèÂüüÂêçÁöÑÂ§¥ÊàñÂ∞æÔºåÊàñ‰∏§ÊÆµÂºèÂüüÂêçÁöÑÂ∞æÈÉ®ÔºåÊØîÂ¶ÇÔºö1server_name *.mrbird.cc mrbird.*;2„ÄÅÂú®name‰∏≠ËøòÂèØ‰ª•‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºè„ÄÇ‰ΩøÁî®~‰Ωú‰∏∫Ê≠£ÂàôË°®ËææÂºèÂºÄÂßãÁöÑÊ†áËÆ∞ÔºåÊØîÂ¶ÇÔºö1server_name ~^www\d+\.mrbird\.cc$;Ê≠§Êó∂ÊØîÂ¶ÇÈÄöËøáwww1.mrbird.ccÂèØ‰ª•ËÆøÈóÆNginxÊúçÂä°ÔºåËÄåwww.mrbird.cc‰∏çÂèØ‰ª•„ÄÇname‰∏≠ÁöÑÊ≠£ÂàôË°®ËææÂºèÊîØÊåÅÂ≠óÁ¨¶‰∏≤ÊçïËé∑ÂäüËÉΩÔºåÂ≠óÁ¨¶‰∏≤ÊçïËé∑ÈÄöËøá( )Êù•ÊãæÂèñÂêéÈù¢‰∏çÁ¥ßË∑üÂÖ∂‰ªñÁöÑÊ≠£ÂàôË°®ËææÂºèÁöÑÂ≠óÁ¨¶„ÄÇ‰∏Ä‰∏™Ê≠£ÂàôË°®ËææÂºè‰∏≠ÂèØ‰ª•Â≠òÂú®Â§ö‰∏™‰∏çÂµåÂ•óÁöÑÂ∞èÊã¨Âè∑ÔºåËøô‰∫õÂÜÖÂÆπ‰ºö‰ªéÂ∑¶Âà∞Âè≥‰æùÊ¨°Â≠òÊîæÂú®ÂèòÈáè$1„ÄÅ$2„ÄÅ$3‚Ä¶‚Ä¶‰∏≠„ÄÇ‰∏ãÊñá‰ΩøÁî®Êó∂Â∞±ÂèØÁõ¥Êé•‰ΩøÁî®Ëøô‰∫õÂèòÈáèÔºå‰ΩúÁî®Âüü‰∏∫ÂΩìÂâçÁöÑserverÂùó„ÄÇÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãÁöÑserver_nameÈÖçÁΩÆÔºö1server_name ~^www\.(.+)\.cc$;ÂΩìÈÄöËøáwww.mrbird.ccËÆøÈóÆNginxÊúçÂä°Âô®Êó∂ÔºåÂ∞Ü‰ºöË¢´‰∏äÈù¢ÁöÑÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÊàêÂäüÔºåmrbirdÂ∞Ü‰ºöË¢´ÊçïËé∑ÔºåÂπ∂‰∏îËµãÂÄºÁªô$1„ÄÇÁî±‰∫éÊúâ‰∏§ÁßçÂåπÈÖçÁöÑÊñπÂºèÔºåÊâÄ‰ª•ÊúâÂèØËÉΩÂá∫Áé∞‰∏§ÁßçÊÉÖÂÜµÈÉΩÂåπÈÖçÁöÑÊó∂ÂÄôÔºåËøôÊó∂ÂÄôNginxÊåâÁÖß‰ª•‰∏ãÁöÑ‰ºòÂÖàÁ∫ßËøõË°åÈÄâÊã©ÔºöÂáÜÁ°ÆÂåπÈÖçserver_name„ÄÇÈÄöÈÖçÁ¨¶Âú®ÂºÄÂßãÊó∂ÂåπÈÖçserver_nameÊàêÂäü„ÄÇÈÄöÈÖçÁ¨¶Âú®ÁªìÊùüÊó∂ÂåπÈÖçserver_nameÊàêÂäü„ÄÇÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçserver_nameÊàêÂäü„ÄÇÊ≠§Â§ñÔºåÂ¶ÇÊûúserver_nameË¢´Â§Ñ‰∫éÂêå‰∏Ä‰ºòÂÖàÁ∫ßÁöÑÂåπÈÖçÊñπÂºèÂ§öÊ¨°ÂåπÈÖçÊàêÂäüÔºåÂàô‰ª•È¶ñÂÖàÂåπÈÖçÊàêÂäüÁöÑ‰∏∫‰∏ª„ÄÇÂü∫‰∫éIPÁöÑËôöÊãü‰∏ªÊú∫ÈÖçÁΩÆLinuxÊìç‰ΩúÁ≥ªÁªüÊîØÊåÅIPÂà´ÂêçÁöÑÊ∑ªÂä†ÔºåÈÖçÁΩÆÂü∫‰∫éIPÁöÑËôöÊãü‰∏ªÊú∫ÔºåÂç≥‰∏∫NginxÊúçÂä°Âô®Êèê‰æõÁöÑÊØèÂè∞ËôöÊãü‰∏ªÊú∫ÈÖçÁΩÆ‰∏Ä‰∏™‰∏çÂêåÁöÑIP„ÄÇÊü•ÁúãÂΩìÂâçÁΩëÁªúÈÖçÁΩÆÔºö123456789101112131415161718# ifconfigens33 Link encap:Ethernet HWaddr 00:0c:29:25:f3:bb inet addr:192.168.112.128 Bcast:192.168.112.255 Mask:255.255.255.0 inet6 addr: fe80::4fe4:f0e0:9e9b:7ec/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:360100 errors:0 dropped:0 overruns:0 frame:0 TX packets:89081 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:504446360 (504.4 MB) TX bytes:7347923 (7.3 MB)lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 inet6 addr: ::1/128 Scope:Host UP LOOPBACK RUNNING MTU:65536 Metric:1 RX packets:35127 errors:0 dropped:0 overruns:0 frame:0 TX packets:35127 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1 RX bytes:2931450 (2.9 MB) TX byens33‰∏∫Ê≠£Âú®‰ΩøÁî®ÁöÑÁΩëÂç°ÔºåIP‰∏∫192.168.112.128ÔºåÁªôÂÖ∂Ê∑ªÂä†‰∏§‰∏™IPÂà´Âêç192.168.112.130Âíå192.168.112.131Ôºö12345678910111213141516171819202122232425262728# ifconfig ens33:0 192.168.112.130 Mask 255.255.255.0 up # ifconfig ens33:1 192.168.112.131 Mask 255.255.255.0 up # ifconfigens33 Link encap:Ethernet HWaddr 00:0c:29:25:f3:bb inet addr:192.168.112.128 Bcast:192.168.112.255 Mask:255.255.255.0 inet6 addr: fe80::4fe4:f0e0:9e9b:7ec/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:360100 errors:0 dropped:0 overruns:0 frame:0 TX packets:89081 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:504446360 (504.4 MB) TX bytes:7347923 (7.3 MB)ens33:0 Link encap:Ethernet HWaddr 00:0c:29:25:f3:bb inet addr:192.168.112.130 Bcast:192.168.112.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1ens33:1 Link encap:Ethernet HWaddr 00:0c:29:25:f3:bb inet addr:192.168.112.131 Bcast:192.168.112.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 inet6 addr: ::1/128 Scope:Host UP LOOPBACK RUNNING MTU:65536 Metric:1 RX packets:221 errors:0 dropped:0 overruns:0 frame:0 TX packets:221 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1 RX bytes:16787 (16.7 KB) TX bytes:16787 (16.7 KB)ÂÖ≥‰∫éÁªôÁΩëÂç°Ê∑ªÂä†Â§ö‰∏™IPÂà´ÂêçÂèØ‰ª•ÂèÇËÄÉhttp://www.cnblogs.com/biaopei/p/7730517.htmlËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•Âú®NginxÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆ‰∏§Âè∞Âü∫‰∫éIPÈÖçÁΩÆÁöÑËôöÊãü‰∏ªÊú∫‰∫ÜÔºö12345678910111213... http &#123; ... server &#123; listen: 80; server_name: 192.168.112.130; ... &#125; server &#123; listen: 80; server_name: 192.168.112.131; &#125; &#125;locationÂùólocationËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1location [ = | ~ | ~* | ^~ ] uri &#123; ... &#125;uriÊòØÂæÖÂåπÈÖçÁöÑËØ∑Ê±ÇÂ≠óÁ¨¶‰∏≤ÔºåÂèØ‰ª•ÊòØÊ†áÂáÜuriÔºà‰∏çÂê´Ê≠£ÂàôË°®ËææÂºèÔºâÂíåÊ≠£Âàôuri„ÄÇ=Áî®‰∫éÊ†áÂáÜuriÂâçÔºåË¶ÅÊ±ÇËØ∑Ê±ÇÂ≠óÁ¨¶‰∏≤‰∏éuri‰∏•Ê†ºÂåπÈÖçÔºåÂ¶ÇÊûúÊàêÂäüÔºåÂàôÂÅúÊ≠¢ÊêúÁ¥¢Âπ∂Á´ãÂç≥Â§ÑÁêÜÊ≠§ËØ∑Ê±Ç„ÄÇ~Áî®‰∫éË°®Á§∫uriÂê´Ê≠£ÂàôË°®ËææÂºèÔºåÂå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇ~*Áî®‰∫éË°®Á§∫uriÂåÖÂê´Ê≠£ÂàôË°®ËææÂºèÔºå‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇ^~Áî®‰∫éÊ†áÂáÜuriÂâçÔºåË¶ÅÊ±ÇNginxÊúçÂä°Âô®ÊâæÂà∞ÂíåËØ∑Ê±ÇÂ≠óÁ¨¶‰∏≤ÂåπÈÖçÂ∫¶ÊúÄÈ´òÁöÑÊ†áÂáÜuriÂØπÂ∫îÁöÑlocationÂêéÔºåÁ´ãÂç≥Áî®Ê≠§locationÂ§ÑÁêÜËØ∑Ê±ÇÔºåËÄå‰∏çÂÜç‰ΩøÁî®locationÂùó‰∏≠ÁöÑÊ≠£ÂàôuriÂíåËØ∑Ê±ÇÂ≠óÁ¨¶‰∏≤ÂÅöÂåπÈÖç„ÄÇ‰∏Ä‰∏™Á§∫‰æãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041location = / &#123; # Á≤æÁ°ÆÂåπÈÖç / Ôºå‰∏ªÊú∫ÂêçÂêéÈù¢‰∏çËÉΩÂ∏¶‰ªª‰ΩïÂ≠óÁ¨¶‰∏≤ [ configuration A ]&#125;location / &#123; # Âõ†‰∏∫ÊâÄÊúâÁöÑÂú∞ÂùÄÈÉΩ‰ª• / ÂºÄÂ§¥ÔºåÊâÄ‰ª•ËøôÊù°ËßÑÂàôÂ∞ÜÂåπÈÖçÂà∞ÊâÄÊúâËØ∑Ê±Ç # ‰ΩÜÊòØÊ≠£ÂàôÂíåÊúÄÈïøÂ≠óÁ¨¶‰∏≤‰ºö‰ºòÂÖàÂåπÈÖç [ configuration B ]&#125;location /documents/ &#123; # ÂåπÈÖç‰ªª‰Ωï‰ª• /documents/ ÂºÄÂ§¥ÁöÑÂú∞ÂùÄÔºåÂåπÈÖçÁ¨¶Âêà‰ª•ÂêéÔºåËøòË¶ÅÁªßÁª≠ÂæÄ‰∏ãÊêúÁ¥¢ # Âè™ÊúâÂêéÈù¢ÁöÑÊ≠£ÂàôË°®ËææÂºèÊ≤°ÊúâÂåπÈÖçÂà∞Êó∂ÔºåËøô‰∏ÄÊù°Êâç‰ºöÈááÁî®Ëøô‰∏ÄÊù° [ configuration C ]&#125;location ~ /documents/Abc &#123; # ÂåπÈÖç‰ªª‰Ωï‰ª• /documents/Abc ÂºÄÂ§¥ÁöÑÂú∞ÂùÄÔºåÂåπÈÖçÁ¨¶Âêà‰ª•ÂêéÔºåËøòË¶ÅÁªßÁª≠ÂæÄ‰∏ãÊêúÁ¥¢ # Âè™ÊúâÂêéÈù¢ÁöÑÊ≠£ÂàôË°®ËææÂºèÊ≤°ÊúâÂåπÈÖçÂà∞Êó∂ÔºåËøô‰∏ÄÊù°Êâç‰ºöÈááÁî®Ëøô‰∏ÄÊù° [ configuration CC ]&#125;location ^~ /images/ &#123; # ÂåπÈÖç‰ªª‰Ωï‰ª• /images/ ÂºÄÂ§¥ÁöÑÂú∞ÂùÄÔºåÂåπÈÖçÁ¨¶Âêà‰ª•ÂêéÔºåÂÅúÊ≠¢ÂæÄ‰∏ãÊêúÁ¥¢Ê≠£ÂàôÔºåÈááÁî®Ëøô‰∏ÄÊù°„ÄÇ [ configuration D ]&#125;location ~* \.(gif|jpg|jpeg)$ &#123; # ÂåπÈÖçÊâÄÊúâ‰ª• gif,jpgÊàñjpeg ÁªìÂ∞æÁöÑËØ∑Ê±Ç # ÁÑ∂ËÄåÔºåÊâÄÊúâËØ∑Ê±Ç /images/ ‰∏ãÁöÑÂõæÁâá‰ºöË¢´ config D Â§ÑÁêÜÔºåÂõ†‰∏∫ ^~ Âà∞Ëææ‰∏ç‰∫ÜËøô‰∏ÄÊù°Ê≠£Âàô [ configuration E ]&#125;location /images/ &#123; # Â≠óÁ¨¶ÂåπÈÖçÂà∞ /images/ÔºåÁªßÁª≠ÂæÄ‰∏ãÔºå‰ºöÂèëÁé∞ ^~ Â≠òÂú® [ configuration F ]&#125;location /images/abc &#123; # ÊúÄÈïøÂ≠óÁ¨¶ÂåπÈÖçÂà∞ /images/abcÔºåÁªßÁª≠ÂæÄ‰∏ãÔºå‰ºöÂèëÁé∞ ^~ Â≠òÂú® # F‰∏éGÁöÑÊîæÁΩÆÈ°∫Â∫èÊòØÊ≤°ÊúâÂÖ≥Á≥ªÁöÑ [ configuration G ]&#125;location ~ /images/abc/ &#123; # Âè™ÊúâÂéªÊéâ config D ÊâçÊúâÊïàÔºöÂÖàÊúÄÈïøÂåπÈÖç config G ÂºÄÂ§¥ÁöÑÂú∞ÂùÄÔºåÁªßÁª≠ÂæÄ‰∏ãÊêúÁ¥¢ÔºåÂåπÈÖçÂà∞Ëøô‰∏ÄÊù°Ê≠£ÂàôÔºåÈááÁî® [ configuration H ]&#125;ÂåπÈÖçÁöÑ‰ºòÂÖàÁ∫ßÔºö(location =) &gt; (location ÂÆåÊï¥Ë∑ØÂæÑ) &gt; (location ^~ Ë∑ØÂæÑ) &gt; (location ~,~* Ê≠£ÂàôÈ°∫Â∫è) &gt; (location ÈÉ®ÂàÜËµ∑ÂßãË∑ØÂæÑ) &gt; (/)ÊåâÁÖß‰∏äÈù¢ÁöÑlocationÂÜôÊ≥ïÔºå‰ª•‰∏ãÁöÑÂåπÈÖçÁ§∫‰æãÊàêÁ´ãÔºö/ -&gt; config A Á≤æÁ°ÆÂÆåÂÖ®ÂåπÈÖçÔºåÂç≥‰Ωø/index.html‰πüÂåπÈÖç‰∏ç‰∫Ü„ÄÇ/downloads/download.html -&gt; config B ÂåπÈÖçB‰ª•ÂêéÔºåÂæÄ‰∏ãÊ≤°Êúâ‰ªª‰ΩïÂåπÈÖçÔºåÈááÁî®B„ÄÇ/images/1.gif -&gt; configuration D ÂåπÈÖçÂà∞FÔºåÂæÄ‰∏ãÂåπÈÖçÂà∞DÔºåÂÅúÊ≠¢ÂæÄ‰∏ã„ÄÇ/images/abc/def -&gt; config D ÊúÄÈïøÂåπÈÖçÂà∞GÔºåÂæÄ‰∏ãÂåπÈÖçDÔºåÂÅúÊ≠¢ÂæÄ‰∏ã„ÄÇ ‰Ω†ÂèØ‰ª•ÁúãÂà∞ ‰ªª‰Ωï‰ª•/images/ÂºÄÂ§¥ÁöÑÈÉΩ‰ºöÂåπÈÖçÂà∞DÂπ∂ÂÅúÊ≠¢ÔºåFGÂÜôÂú®ËøôÈáåÊòØÊ≤°Êúâ‰ªª‰ΩïÊÑè‰πâÁöÑÔºåHÊòØÊ∞∏ËøúËΩÆ‰∏çÂà∞ÁöÑÔºåËøôÈáåÂè™ÊòØ‰∏∫‰∫ÜËØ¥ÊòéÂåπÈÖçÈ°∫Â∫è/documents/document.html -&gt; config C ÂåπÈÖçÂà∞CÔºåÂæÄ‰∏ãÊ≤°Êúâ‰ªª‰ΩïÂåπÈÖçÔºåÈááÁî®C„ÄÇ/documents/1.jpg -&gt; configuration E ÂåπÈÖçÂà∞CÔºåÂæÄ‰∏ãÊ≠£ÂàôÂåπÈÖçÂà∞E„ÄÇ/documents/Abc.jpg -&gt; config CC ÊúÄÈïøÂåπÈÖçÂà∞CÔºåÂæÄ‰∏ãÊ≠£ÂàôÈ°∫Â∫èÂåπÈÖçÂà∞CCÔºå‰∏ç‰ºöÂæÄ‰∏ãÂà∞E„ÄÇÂèÇËÄÉËá™Ôºö seanlook‚Äôs blogrootrootÁî®‰∫éÈÖçÁΩÆÊ†πÁõÆÂΩïÔºåÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãlocationÈÖçÁΩÆÔºö123location /data/ &#123; root /locationtest1;&#125;ÂΩìlocationÂùóÊé•Êî∂Âà∞/data/index.htmlÁöÑËØ∑Ê±ÇÂêéÔºåÂ∞ÜÂú®/locationtest1/data/ÁõÆÂΩï‰∏ãÊâæÂà∞index.html„ÄÇËØ•Êåá‰ª§ÂèØÂú®httpÔºåserverÊàñlocationÂùó‰∏≠ÈÖçÁΩÆ„ÄÇaliasaliasÁî®‰∫éÊîπÂèòlocationÊé•Êî∂Âà∞ÁöÑURIËØ∑Ê±ÇË∑ØÂæÑ„ÄÇÊØîÂ¶ÇÔºö123location ~ ^/data/(.+\.html)$ &#123; alias /locationtest1/other/$1;&#125;ÂΩìlocationÂùóÊé•Êî∂Âà∞/data/index.htmlÁöÑËØ∑Ê±ÇÂêéÔºåÈÄöËøáaliasÔºåNginxÂà∞/locationtest1/other/ÁõÆÂΩï‰∏ãÊêúÂØªindex.html„ÄÇÁõ∏ÂΩì‰∫éËØ∑Ê±Ç‰ªé/data/index.htmlÊõ¥Êîπ‰∏∫‰∫Ü/locationtest1/other/index.html„ÄÇindexindexÁî®‰∫éËÆæÁΩÆÁΩëÁ´ôÁöÑÈªòËÆ§È¶ñÈ°µ„ÄÇÊØîÂ¶ÇÔºö123location ~ ^/data/(.+)/web/ $ &#123; index index.$1.html index.html myindex.html&#125;ÂΩìËØ∑Ê±Ç‰∏∫/data/locationtest1/web/Êó∂ÔºåNginx‰æùÊ¨°ÊêúÂØªindex.locationtest1.html„ÄÅindex.htmlÂíåmyindex.htmlÈ°µÈù¢ÔºåÂÖàÊâæÂà∞Âì™‰∏™Â∞±Áî®Âì™‰∏™„ÄÇerror_pageËØ•Êåá‰ª§Áî®‰∫éËÆæÁΩÆÁΩëÁ´ôÁöÑÈîôËØØÈ°µÈù¢„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1error_page code ... [=[response]] uricodeÔºåË¶ÅÂ§ÑÁêÜÁöÑHTTPÈîôËØØÁ†Å„ÄÇresponseÔºåÂèØÈÄâÈ°πÔºåÂ∞ÜcodeÊåáÂÆöÁöÑÈîôËØØÁ†ÅËΩ¨Âåñ‰∏∫Êñ∞ÁöÑÈîôËØØ‰ª£Á†Åresponse„ÄÇuriÔºåÈîôËØØÈ°µÈù¢ÁöÑË∑ØÂæÑÊàñËÄÖÁΩëÁ´ôÂú∞ÂùÄ„ÄÇÊØîÂ¶ÇÔºö1error_page 404 /404.html;Nginx‰ΩøÁî®NginxÂÆâË£ÖÁõÆÂΩï/html/404.htmlÈ°µÈù¢ÂìçÂ∫î404ÈîôËØØ„ÄÇ1error_page 403 http://somewebsite.com/forbidden.html;Nginx‰ΩøÁî®http://somewebsite.com/forbidden.htmlÈ°µÈù¢ÂìçÂ∫î403ÈîôËØØ„ÄÇ1error_page 410 =301 /empty.gif;NginxÊúçÂä°Âô®‰∫ßÁîü410ÁöÑHTTPÊ∂àÊÅØÊó∂Ôºå‰ΩøÁî®NginxÂÆâË£ÖÁõÆÂΩï/html/empty.gifËøîÂõûÁªôÁî®Êà∑ÔºåHTTPÁöÑÁä∂ÊÄÅÁ†Å‰∏∫301„ÄÇÂä†ÂÖ•ÊÉ≥Ë¶ÅÊîπÂèòNginxÂÆâË£ÖÁõÆÂΩï/html/Ëøô‰∏™ÈªòËÆ§ÁöÑË∑ØÂæÑÔºåÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™locaitonÂùóÔºö123location /404.html &#123; root /myserver/errorpages/;&#125;ËØ•Êåá‰ª§ÂèØÂú®httpÔºåserverÂíålocationÂùó‰∏≠ÈÖçÁΩÆ„ÄÇÂü∫‰∫éIPÈÖçÁΩÆNginxËÆøÈóÆÊùÉÈôêallowÊåá‰ª§Áî®‰∫éÈÖçÁΩÆÂÖÅËÆ∏ËÆøÈóÆNginxÁöÑÂÆ¢Êà∑Á´ØIPÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1allow address | CIDR | alladdressÔºåÊåáÂÆöÂÖÅËÆ∏ËÆøÈóÆÁöÑIPÔºå‰∏çÊîØÊåÅÂ§ö‰∏™ÂÄºÔºåÂ¶ÇÈúÄË¶ÅÊúâÂ§ö‰∏™IPËÆæÁΩÆÔºåÈúÄË¶ÅÈáçÂ§ç‰ΩøÁî®allowÂëΩ‰ª§„ÄÇCIDRÔºåÂÖÅËÆ∏ËÆøÈóÆÁöÑÂÆ¢Êà∑Á´ØÁöÑCIDRÂú∞ÂùÄ„ÄÇallÔºå‰ª£Ë°®ÂÖÅËÆ∏ÊâÄÊúâÁöÑÂÆ¢Êà∑Á´ØËÆøÈóÆ„ÄÇdenyÊåá‰ª§Áî®‰∫éÈÖçÁΩÆÁ¶ÅÊ≠¢ËÆøÈóÆNginxÁöÑÂÆ¢Êà∑Á´ØIPÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1deny address | CIDR | allËøô‰∏§‰∏™Êåá‰ª§ÂèØÂú®httpÔºåserverÂíålocationÂùó‰∏≠ÈÖçÁΩÆ„ÄÇÈÖçÁΩÆNginxÂØÜÁ†Åauth_basicÊåá‰ª§Áî®‰∫éÂºÄÂêØÊàñËÄÖÂÖ≥Èó≠ËÆ§ËØÅÂäüËÉΩÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1auth_basic string | offstirngÔºåÂºÄÂêØËÆ§ËØÅÂäüËÉΩÔºåÂπ∂ÈÖçÁΩÆ‰∫ÜÈ™åËØÅÊó∂ÁöÑ‰ø°ÊÅØ„ÄÇoffÔºåÂÖ≥Èó≠ËÆ§ËØÅ„ÄÇauth_basic_user_fileÊåá‰ª§ÊåáÂÆö‰∫ÜÂåÖÂê´Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁöÑ‰ø°ÊÅØÊñá‰ª∂Ë∑ØÂæÑÔºåËØ≠Ê≥ïÁªìÊûÑ‰∏∫Ôºö1auth_basic_user_file fileÂ¶ÇÔºåÂú®nignx.confÈáåÈÖçÁΩÆÂ¶Ç‰∏ãÔºöÁîü‰∫ßhtpasswdÊñá‰ª∂Ôºö123# printf "mrbird:$(openssl passwd -crypt 123456)\n" &gt;&gt;conf/htpasswd# cat conf/htpasswdmrbird:vdV.OwMSzfJrQÈáçÂêØNginxÂêéÔºåËÆøÈóÆhttp://localhost/index.htmlÔºåÈ°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöÈÖçÁΩÆÂÆû‰æãÂ∞Üconf/nginx.confÈÖçÁΩÆÊàêÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566worker_processes 1;error_log logs/error.log;events &#123; worker_connections 1024;&#125;http &#123; include mime.types; default_type application/octet-stream; log_format main '$remote_addr - $remote_user [$time_local] "$request" ' '$status $body_bytes_sent "$http_referer" ' '"$http_user_agent" "$http_x_forwarded_for"'; sendfile on; keepalive_timeout 65; # ÈÖçÁΩÆserver1 server &#123; listen 8081; server_name localhost; charset utf-8; access_log /myweb/server1/log/access.log main; error_page 404 /myweb/error/404.html; # ÈÖçÁΩÆ/server1/location1/ËØ∑Ê±ÇÁöÑlocation location /server1/location1 &#123; root /myweb; index index.html; &#125; # ÈÖçÁΩÆ/server1/location2ËØ∑Ê±ÇÁöÑlocation location /server1/location2 &#123; root /myweb; index index.html; &#125; &#125; # ÈÖçÁΩÆserver2 server &#123; listen 8082; server_name 192.168.112.130; charset utf-8; access_log /myweb/server2/log/access.log main; error_page 404 /404.html; # ÈÖçÁΩÆ/server2/location1/ËØ∑Ê±ÇÁöÑlocaiton location /server2/location1 &#123; root /myweb; index index.html; &#125; # ÈÖçÁΩÆ/server2/location2/ËØ∑Ê±ÇÁöÑlocation location /svr2/loc2 &#123; alias /myweb/server2/location2; # ÂØπlocationÁöÑuriËøõË°åÊõ¥Êîπ index index.html; &#125; # ÈáçÂÆöÂêë404È°µÈù¢Âú∞ÂùÄ location = /404.html &#123; root /myweb/error; index 404.html; &#125; &#125;&#125;ÊûÑÂª∫‰∏Ä‰∏™ÈùôÊÄÅÁΩëÁ´ôÔºåÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ãÔºö1234567891011121314151617/myweb/‚îú‚îÄ‚îÄ error‚îÇ ‚îî‚îÄ‚îÄ 404.html‚îú‚îÄ‚îÄ server1‚îÇ ‚îú‚îÄ‚îÄ location1‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ index.html‚îÇ ‚îú‚îÄ‚îÄ location2‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ index.html‚îÇ ‚îî‚îÄ‚îÄ log‚îÇ ‚îî‚îÄ‚îÄ access.log‚îî‚îÄ‚îÄ server2 ‚îú‚îÄ‚îÄ location1 ‚îÇ ‚îî‚îÄ‚îÄ index.html ‚îú‚îÄ‚îÄ location2 ‚îÇ ‚îî‚îÄ‚îÄ index.html ‚îî‚îÄ‚îÄ log ‚îî‚îÄ‚îÄ access.logÂêØÂä®NginxÊúçÂä°Ôºö1234# /nginx/sbin/nginx -tnginx: the configuration file /nginx/conf/nginx.conf syntax is oknginx: configuration file /nginx/conf/nginx.conf test is successful# /nginx/sbin/nginxËÆøÈóÆhttp://localhost:8081/server1/location1/ÔºöËÆøÈóÆhttp://localhost:8081/server1/location2/ÔºöËÆøÈóÆhttp://192.168.112.130:8082/server2/location1/ÔºöËÆøÈóÆhttp://192.168.112.130:8082/svr2/loc2/ÔºöËÆøÈóÆhttp://192.168.112.130:8082/svr2/loc3/ÔºöÁªìÊûúËØÅÊòéÔºå‰∏äËø∞ÈÖçÁΩÆÊ≠£Á°Æ„ÄÇ]]></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NginxÂÆâË£Ö‰∏éÈÉ®ÁΩ≤]]></title>
    <url>%2FNginx%20install%20deploy.html</url>
    <content type="text"><![CDATA[‰∏ãËΩΩNginxNginxÂÆòÁΩëÔºöhttp://nginx.org/en/download.html„ÄÇÁΩëÈ°µÊèê‰æõ‰∫ÜNginx‰∏âÁßçÁâàÊú¨‰∏ãËΩΩÔºöÂºÄÂèëÁâàÔºàMainline VersionÔºâ„ÄÅÁ®≥ÂÆöÁâàÔºàStable VersionÔºâÂíåËøáÊúüÁâàÔºàLegacy VersionÔºâ„ÄÇNignxÊèê‰æõLinuxÂíåWindowsÁâàÊú¨ÔºåËøôÈáå‰ΩøÁî®ÁöÑÊòØLinuxÁâàÊú¨„ÄÇÊ≠§Â§ñÔºåhttp://nginx.org/download/Êèê‰æõ‰∫ÜÊâÄÊúâÁâàÊú¨ÁöÑNginx‰∏ãËΩΩ„ÄÇNginxÊ∫êÁ†ÅÁöÑÁºñËØëÈúÄË¶ÅGCCÁºñËØëÂô®Ôºö12345# gcc --versiongcc (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609Copyright (C) 2015 Free Software Foundation, Inc.This is free software; see the source for copying conditions. There is NOwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.Êà™Ê≠¢2017Âπ¥10Êúà15Êó•ÔºåNginxÊúÄÊñ∞Á®≥ÂÆöÁâà‰∏∫1.12.2Ôºå‰∏ãËΩΩÂπ∂Ëß£ÂéãÔºö1234567891011121314151617181920# mkdir nginx-download# cd nginx-download/# wget http://nginx.org/download/nginx-1.12.2.tar.gz# tar -zxvf nginx-1.12.2.tar.gz # cd nginx-1.12.2# lltotal 732drwxr-xr-x 8 1001 1001 4096 Oct 17 21:16 ./drwxr-xr-x 3 root root 4096 Oct 26 14:05 ../-rw-r--r-- 1 1001 1001 278202 Oct 17 21:16 CHANGES-rw-r--r-- 1 1001 1001 423948 Oct 17 21:16 CHANGES.ru-rw-r--r-- 1 1001 1001 1397 Oct 17 21:16 LICENSE-rw-r--r-- 1 1001 1001 49 Oct 17 21:16 READMEdrwxr-xr-x 6 1001 1001 4096 Oct 26 14:05 auto/drwxr-xr-x 2 1001 1001 4096 Oct 26 14:05 conf/-rwxr-xr-x 1 1001 1001 2481 Oct 17 21:16 configure*drwxr-xr-x 4 1001 1001 4096 Oct 26 14:05 contrib/drwxr-xr-x 2 1001 1001 4096 Oct 26 14:05 html/drwxr-xr-x 2 1001 1001 4096 Oct 26 14:05 man/drwxr-xr-x 9 1001 1001 4096 Oct 26 14:05 src/srcÁõÆÂΩï‰∏ãÂ≠òÊîæ‰∫ÜNginxÁöÑÊ∫ê‰ª£Á†ÅÔºõmanÁõÆÂΩï‰∏ãÂ≠òÊîæ‰∫ÜNginxÁöÑÂ∏ÆÂä©ÊñáÊ°£ÔºõhtmlÁõÆÂΩïÂ≠òÊîæ‰∫Ü‰∏§‰∏™HTMLÊñá‰ª∂ÔºåÂàÜÂà´‰∏∫NginxÊ¨¢ËøéÈ°µÂíåÂºÇÂ∏∏È°µÈù¢ÔºõlogsÁõÆÂΩïÁî®‰∫éÂ≠òÊîæNginxËøêË°åÊó•ÂøóÔºõautoÁõÆÂΩïÂ≠òÊîæ‰∫ÜÂ§ßÈáèÁöÑËÑöÊú¨Êñá‰ª∂ÔºåÂíåconfigureËÑöÊú¨ÊúâÂÖ≥ÔºõconfigureÊñá‰ª∂‰∏∫NginxÁöÑËá™Âä®ËÑöÊú¨Á®ãÂ∫è„ÄÇNginxÁºñËØë‰∏éÂÆâË£ÖÂú®Ëß£ÂéãË∑ØÂæÑ‰∏ãÔºåËøêË°åÂëΩ‰ª§./configure --prefix=/nginxÔºàconfigureËÑöÊú¨ÊîØÊåÅÁöÑÈÄâÈ°πÂèØÂèÇËÄÉÈôÑÂΩïÔºâÈÖçÁΩÆNginxÁöÑÂÆâË£ÖÁõÆÂΩïÂπ∂ÁîüÊàêMakefileÊñá‰ª∂Ôºö1234567891011121314151617181920# ./configure --prefix=/nginx...Configuration summary + using system PCRE library + OpenSSL library is not used + using system zlib library nginx path prefix: "/nginx" nginx binary file: "/nginx/sbin/nginx" nginx modules path: "/nginx/modules" nginx configuration prefix: "/nginx/conf" nginx configuration file: "/nginx/conf/nginx.conf" nginx pid file: "/nginx/logs/nginx.pid" nginx error log file: "/nginx/logs/error.log" nginx http access log file: "/nginx/logs/access.log" nginx http client request body temporary files: "client_body_temp" nginx http proxy temporary files: "proxy_temp" nginx http fastcgi temporary files: "fastcgi_temp" nginx http uwsgi temporary files: "uwsgi_temp" nginx http scgi temporary files: "scgi_temp"ËøáÁ®ã‰∏≠ÂèØËÉΩÂá∫Áé∞‰∏Ä‰∫õ‰æùËµñÂ∫ìÁº∫Â§±ÈóÆÈ¢òÔºåÂèØÂèÇËÄÉ‰∏ãÈù¢ÁöÑÂ∏∏ËßÅÈóÆÈ¢ò„ÄÇÁîüÊàê‰∫ÜMakefileÊñá‰ª∂ÂêéÔºå‰ΩøÁî®makeÂëΩ‰ª§ËøõË°åÁºñËØëÔºö12345678910111213141516171819# makemake -f objs/Makefilemake[1]: Entering directory '/temp/nginx-download/nginx-1.12.2'cc -c -pipe -O -W -Wall -Wpointer-arith -Wno-unused-parameter -Werror -g -I src/core -I src/event -I src/event/modules -I src/os/unix -I objs \ -o objs/src/core/nginx.o \ src/core/nginx.ccc -c -pipe -O -W -Wall -Wpointer-arith -Wno-unused-parameter -Werror -g -I src/core -I src/event -I src/event/modules -I src/os/unix -I objs \...objs/src/http/modules/ngx_http_upstream_keepalive_module.o \objs/src/http/modules/ngx_http_upstream_zone_module.o \objs/ngx_modules.o \-ldl -lpthread -lcrypt -lpcre -lz \-Wl,-Esed -e "s|%%PREFIX%%|/nginx|" \ -e "s|%%PID_PATH%%|/nginx/logs/nginx.pid|" \ -e "s|%%CONF_PATH%%|/nginx/conf/nginx.conf|" \ -e "s|%%ERROR_LOG_PATH%%|/nginx/logs/error.log|" \ &lt; man/nginx.8 &gt; objs/nginx.8make[1]: Leaving directory '/temp/nginx-download/nginx-1.12.2'ÁºñËØëÈ°∫Âà©ÂÆåÊàêÂêéÔºåÊé•ÁùÄ‰ΩøÁî®make installÂëΩ‰ª§ËøõË°åÂÆâË£ÖÔºö12345678910# make installmake -f objs/Makefile installmake[1]: Entering directory '/temp/nginx-download/nginx-1.12.2'test -d '/nginx' || mkdir -p '/nginx'test -d '/nginx/sbin' \ || mkdir -p '/nginx/sbin'...test -d '/nginx/logs' \ || mkdir -p '/nginx/logs'make[1]: Leaving directory '/temp/nginx-download/nginx-1.12.2'Â∞ÜÁõÆÂΩïÂàáÊç¢Âà∞/nginx‰∏ãÔºåÂπ∂Êü•ÁúãÔºö123456789101112131415161718192021222324# cd /nginx/# lltotal 24drwxr-xr-x 6 root root 4096 Oct 26 14:30 ./drwxr-xr-x 26 root root 4096 Oct 26 14:30 ../drwxr-xr-x 2 root root 4096 Oct 26 14:30 conf/drwxr-xr-x 2 root root 4096 Oct 26 14:30 html/drwxr-xr-x 2 root root 4096 Oct 26 14:30 logs/drwxr-xr-x 2 root root 4096 Oct 26 14:30 sbin/# ls *conf:fastcgi.conf koi-win scgi_paramsfastcgi.conf.default mime.types scgi_params.defaultfastcgi_params mime.types.default uwsgi_paramsfastcgi_params.default nginx.conf uwsgi_params.defaultkoi-utf nginx.conf.default win-utfhtml:50x.html index.htmllogs:sbin:nginxNginxÁöÑÂêØÂÅúNginxÂ∏∏Áî®ÂëΩ‰ª§nginxÂëΩ‰ª§ÊâÄÊîØÊåÅÁöÑÈÄâÈ°πÊúâÔºö123456789101112131415# ./sbin/nginx -hnginx version: nginx/1.12.2Usage: nginx [-?hvVtTq] [-s signal] [-c filename] [-p prefix] [-g directives]Options: -?,-h : this help -v : show version and exit -V : show version and configure options then exit -t : test configuration and exit -T : test configuration, dump it and exit -q : suppress non-error messages during configuration testing -s signal : send signal to a master process: stop, quit, reopen, reload -p prefix : set prefix path (default: /nginx/) -c filename : set configuration file (default: conf/nginx.conf) -g directives : set global directives out of configuration file-vÈÄâÈ°πÁî®Êù•ÊòæÁ§∫NginxÊúçÂä°Âô®ÁöÑÁâàÊú¨Âè∑Ôºå-VÈÄâÈ°πÈô§‰∫ÜÊòæÁ§∫ÁâàÊú¨Âè∑ÔºåËøòÊòæÁ§∫ÂÖ∂ÁºñËØëÊÉÖÂÜµÔºö123456# ./sbin/nginx -vnginx version: nginx/1.12.2# ./sbin/nginx -Vnginx version: nginx/1.12.2built by gcc 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4) configure arguments: --prefix=/nginx-tÈÄâÈ°πÁî®‰∫éÊ£ÄÊü•NginxÊúçÂä°Âô®ÈÖçÁΩÆÊñá‰ª∂ÊòØÂê¶ÊúâËØ≠Ê≥ïÈîôËØØÔºö123# ./sbin/nginx -tnginx: the configuration file /nginx/conf/nginx.conf syntax is oknginx: configuration file /nginx/conf/nginx.conf test is successfulÁ≠â„ÄÇNginxÂêØÂä®ÂêØÂä®NginxÊúçÂä°Âô®ÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅËøêË°åsbin‰∏ãÁöÑnginxËÑöÊú¨Â∞±Ë°å‰∫ÜÔºö12345# ./sbin/nginx # ps -ef|grep nginxroot 74808 1308 0 14:47 ? 00:00:00 nginx: master process ./sbin/nginxnobody 74809 74808 0 14:47 ? 00:00:00 nginx: worker processroot 74811 71675 0 14:47 pts/4 00:00:00 grep --color=auto nginxÂèØÁúãÂà∞NginxÂ∑≤ÁªèÂêØÂä®ÔºåÂåÖÂê´‰∫Ü‰∏Ä‰∏™‰∏ªËøõÁ®ãÔºàmaster processÔºâÂíå‰∏Ä‰∏™Â∑•‰ΩúËøõÁ®ãÔºàworker processÔºâÔºå‰∏ªËøõÁ®ãÂè∑‰∏∫74808„ÄÇÂêØÂä®NginxÊúçÂä°ÂêéÔºå‰πüÂèØ‰ª•ÈÄöËøáÊü•ÁúãlogsÁõÆÂΩï‰∏ãÁöÑnginx.pidÊù•Êü•Áúã‰∏ªËøõÁ®ãÂè∑Ôºö12# cat logs/nginx.pid 74808NginxÁöÑÈªòËÆ§Á´ØÂè£Âè∑‰∏∫80ÔºåÂú®ÊµèËßàÂô®‰∏≠ËæìÂÖ•localhost/index.htmlÊü•ÁúãÊòØÂê¶ÂêØÂä®ÊàêÂäüÔºöNginxÂÅúÊ≠¢ÂÅúÊ≠¢NginxÊúçÂä°ÂèØÂàÜ‰∏∫‰∏§ÁßçÁ±ªÂûãÔºö1.Âø´ÈÄüÂÅúÊ≠¢ÔºöÁ´ãÂç≥ÂÅúÊ≠¢ÂΩìÂâçNginxÊúçÂä°Ê≠£Âú®Â§ÑÁêÜÁöÑÊâÄÊúâÁΩëÁªúËØ∑Ê±ÇÔºåÈ©¨‰∏ä‰∏¢ÂºÉËøûÊé•ÔºåÂÅúÊ≠¢Â∑•‰Ωú„ÄÇÁõ∏ÂÖ≥ÂëΩ‰ª§‰∏∫Ôºökill -TERM ËøõÁ®ãÂè∑ÊàñËÄÖkill -INT ËøõÁ®ãÂè∑Ôºõ2.Âπ≥ÁºìÂÅúÊ≠¢ÔºöÂÖÅËÆ∏NginxÊúçÂä°Â∞ÜÂΩìÂâçÁöÑÁΩëÁªúËØ∑Ê±ÇÂ§ÑÁêÜÂÆåÊØïÔºå‰ΩÜ‰∏çÂÜçÊé•ÂèóÊñ∞ËØ∑Ê±ÇÔºå‰πãÂêéÂÖ≥Èó≠ËøûÊé•ÔºåÂÅúÊ≠¢Â∑•‰Ωú„ÄÇÁõ∏ÂÖ≥ÁöÑÂëΩ‰ª§‰∏∫Ôºökill -QUIT ËøõÁ®ãÂè∑ÔºõÂÅúÊ≠¢NginxÊúçÂä°ÔºåÈááÁî®Âø´ÈÄüÂÅúÊ≠¢ÊñπÂºèÔºö123# kill -TERM 74808# ps -ef|grep nginxroot 74998 71675 0 15:03 pts/4 00:00:00 grep --color=auto nginxNginxÈáçÂêØNginxÈáçÂêØÈááÁî®Âπ≥ÊªëÈáçÂêØÁöÑÊñπÂºè„ÄÇNginxÊúçÂä°ËøõÁ®ãÂè∑Êé•Êî∂Âà∞ÈáçÂêØ‰ø°Âè∑ÂêéÔºåÂÖàËØªÂèñÊñ∞ÁöÑNginxÈÖçÁΩÆÊñá‰ª∂ÔºåÂ¶ÇÊûúÈÖçÁΩÆËØ≠Ê≥ïÊ≠£Á°ÆÔºåÂàôÂêØÂä®Êñ∞ÁöÑNginxÊúçÂä°ÔºåÁÑ∂ÂêéÂπ≥ÁºìÁöÑÂÖ≥Èó≠ÊóßÁöÑÊúçÂä°„ÄÇÂ¶ÇÊûúÈÖçÁΩÆËØ≠Ê≥ïÈîôËØØÔºåÂàôÁªßÁª≠ÈááÁî®ÊóßÁöÑNginxËøõÁ®ãÊèê‰æõÊúçÂä°„ÄÇÊúâ‰∏§ÁßçÊñπÂºèËøõË°åÂπ≥ÊªëÈáçÂêØÔºö1.Ê£ÄÊü•ÈÖçÁΩÆÊñá‰ª∂ÊòØÂê¶Ê≠£Á°ÆÔºåÂ¶ÇÊûúÊ≠£Á°ÆËøõË°åÈáçÂêØÔºö1234# ./sbin/nginx -tnginx: the configuration file /nginx/conf/nginx.conf syntax is oknginx: configuration file /nginx/conf/nginx.conf test is successful# ./sbin/nginx -s reload2.kill -HUP ‰∏ªËøõÁ®ãÂè∑:123# cat logs/nginx.pid 75011# kill -HUP 75011Â∏∏ËßÅÈóÆÈ¢òÁº∫Â∞ë‰æùËµñÂ∫ìÁº∫Â∞ëPCRE‰æùËµñÂ∫ì./configure: error: the HTTP rewrite module requires the PCRE library. You can either disable the module by using ‚Äìwithout-http_rewrite_module option, or install the PCRE library into the system, or build the PCRE library statically from the source with nginx by using ‚Äìwith-pcre=option.Ëß£ÂÜ≥ÂäûÊ≥ïÔºö1sudo apt-get install libpcre3 libpcre3-devÁº∫Â∞ëzlib‰æùËµñÂ∫ì./configure: error: the HTTP gzip module requires the zlib library. You can either disable the module by using ‚Äìwithout-http_gzip_module option, or install the zlib library into the system, or build the zlib library statically from the source with nginx by using ‚Äìwith-zlib=option.Ëß£ÂÜ≥ÂäûÊ≥ïÔºö1sudo apt-get install zlib1g-devÂÖ∂‰ªñÈóÆÈ¢òapt-getÂëΩ‰ª§Ë¢´Âç†Áî®E: Could not get lock /var/lib/dpkg/lock - open (11: Resource temporarily unavailable) E: Unable to lock the administration directory (/var/lib/dpkg/), is another process using it?Ëß£ÂÜ≥ÂäûÊ≥ïÔºöÊâæÂà∞Âç†Áî®ËøõÁ®ãÔºåÁÑ∂ÂêékillÔºö123ps -A|grep apt 61213 ? 00:00:02 aptdkill -9 61213ÈôÑÂΩïÊ≥®ÔºöÁî±‰∫éÊ∏≤ÊüìÂéüÂõ†‚ÄìÂÆûÈôÖ‰∏∫ --ÔºåÂ¶Ç‚Äìprefix=‚Ä¶ÂÆûÈôÖ‰∏∫ --prefix=...configureÂºÄÂÖ≥ÈÄâÈ°πÈÄâÈ°π&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Áî®Ê≥ï&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ÈªòËÆ§ÂÄº‚Äìprefix=‚Ä¶ÊåáÂÆöÂÆâË£ÖNginxÁöÑÂü∫Á°ÄÁõÆÂΩï/usr/local/nginx, Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰Ω†Âú®ÈÖçÁΩÆÊó∂‰ΩøÁî®‰∫ÜÁõ∏ÂØπË∑ØÂæÑÔºåÂàôËøûÊé•Âà∞Âü∫Á°ÄÁõÆÂΩï„ÄÇÁ§∫‰æãÔºöÊåáÂÆö‚Äìconf-path=conf/nginx.conf ÂàôÈÖçÁΩÆÊñá‰ª∂‰ºöÂú®ÁõÆÂΩïÔºö/usr/local/nginx/conf/nginx.conf‚Äìsbin-path=‚Ä¶Nginx‰∫åËøõÂà∂Êñá‰ª∂ÂÆâË£ÖÁöÑË∑ØÂæÑ&lt;prefix&gt;/sbin/nginx‚Äìconf-path=‚Ä¶‰∏ªË¶ÅÈÖçÁΩÆÊñá‰ª∂ÊîæÁΩÆÁõÆÂΩï&lt;prefix&gt;/conf/nginx.conf‚Äìerror-log-path=‚Ä¶ÈîôËØØÊó•ÂøóÂ≠òÊîæÁöÑË∑ØÂæÑ„ÄÇÈîôËØØÊó•ÂøóÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠È°ªÈÖçÁΩÆÂæóÈùûÂ∏∏Ê≠£Á°ÆÔºåËØ•Ë∑ØÂæÑÂè™Â∫îÁî®‰∫é‰Ω†Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê≤°ÊúâÊåáÂÆö‰ªª‰ΩïÈîôËØØÁöÑÊó•ÂøóÊåá‰ª§Êó∂&lt;prefix&gt;/logs/error.log‚Äìpid-path=‚Ä¶ÊåáÂÆöNginxÁöÑpidÊñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆöpidÊñá‰ª∂ÁöÑË∑ØÂæÑÔºåÂ¶ÇÊûúÊ≤°ÊúâÂÖ∑‰ΩìÁöÑÊåáÂÆöÔºåÂàô‰ΩøÁî®Âú®ËøôÈáåÂØπËØ•ÈÄâÈ°πÊåáÂÆöÁöÑËØ•Ë∑ØÂæÑ&lt;prefix&gt;/logs/nginx.pidÊ≥®ÊÑèÔºöËØ•pidÊñá‰ª∂ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñá‰ª∂Êñá‰ª∂ÔºåÂÆÉÂåÖÂê´ËøõÁ®ãÁöÑÊ†áËØÜÁ¨¶„ÄÇËØ•Êñá‰ª∂Â∫îËØ•ÊîæÁΩÆÂú®‰∏Ä‰∏™Ê∏ÖÊô∞ÂèØËßÅÁöÑ‰ΩçÁΩÆÔºå‰ª•‰æøÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫èËÉΩÂ§üÂæàÂÆπÊòìÊâæÂà∞ËøêË°åËØ•Á®ãÂ∫èÁöÑpid‚Äìlock-path=‚Ä¶ÈîÅÊñá‰ª∂Ôºàlock fileÔºâÁöÑÂ≠òÊîæË∑ØÂæÑ„ÄÇÂêåÊ†∑ÔºåËØ•Êñá‰ª∂‰πüÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊåáÂÆöÔºå‰ΩÜÊòØÔºåÂ¶ÇÊûúÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê≤°ÊúâÊåáÂÆöÔºåÂàô‰ΩøÁî®ËØ•ÂÄº&lt;prefix&gt;/logs/nginx.lockÊ≥®ÊÑèÔºöÈîÅÊñá‰ª∂ÂÖÅËÆ∏ÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫èÁ°ÆÂÆöÊòØÂê¶‰∏Ä‰∏™Á®ãÂ∫èÂú®ËøêË°åÔºåÂ∞±NginxÊù•ËØ¥ÔºåÂÆÉÁî®‰∫éÁ°ÆÂÆöËØ•ËøõÁ®ãÊ≤°ÊúâË¢´ÂêØÂä®‰∏§Ê¨°‚Äìwith-perl_modules_path=‚Ä¶ÂÆö‰πâPerlÊ®°ÂùóÁöÑË∑ØÂæÑ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂåÖÂê´Âè¶Â§ñÁöÑPerlÊ®°ÂùóÔºåÂøÖÈ°ªÂÆö‰πâËØ•ÂèÇÊï∞‚Äìwith-perl=‚Ä¶Perl‰∫åËøõÂà∂Êñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇÁî®‰∫éÊâßË°åPerlËÑöÊú¨„ÄÇÂ¶ÇÊûúÊÉ≥ÊâßË°å‰∏Ä‰∏™PerlËÑöÊú¨ÔºåÂøÖÈ°ªËÆæÁΩÆËØ•Ë∑ØÂæÑ‚Äìhttp-log-path=‚Ä¶ÂÆö‰πâË¢´ËÆøÈóÆÊñá‰ª∂ÁöÑÊó•ÂøóÊñá‰ª∂Â≠òÊîæË∑ØÂæÑ„ÄÇËØ•Ë∑ØÂæÑÂè™Áî®‰∫éÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê≤°ÊúâÂÆö‰πâËÆøÈóÆÊó•ÂøóÁöÑÊÉÖÂÜµ&lt;prefix&gt;/logs/access.log‚Äìhttp-client-body-temp-path=‚Ä¶ËØ•ÁõÆÂΩïÁî®‰∫éÂ≠òÂÇ®ÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰∫ßÁîüÁöÑ‰∏¥Êó∂Êñá‰ª∂&lt;prefix&gt;/client_body_temp‚Äìhttp-proxy-temp-path=‚Ä¶ËØ•ÁõÆÂΩïÁî®‰∫é‰ª£ÁêÜÂ≠òÂÇ®‰∏¥Êó∂Êñá‰ª∂&lt;prefix&gt;/proxy_temp‚Äìhttp-fastcgi-temp-path=‚Ä¶ÊåáÂÆöÁî®‰∫éHTTP FastCGIÊ®°Âùó‰ΩøÁî®ÁöÑ‰∏¥Êó∂Êñá‰ª∂ÁöÑÂ≠òÊîæË∑ØÂæÑ&lt;prefix&gt;/fastcgi_temp‚Äìbuilddir=‚Ä¶ÊåáÂÆöÂàõÂª∫Â∫îÁî®Á®ãÂ∫èÁöÑ‰ΩçÁΩÆconfigureÂÖàÊ±∫Êù°‰ª∂ÈÄâÈ°πÁºñËØëÈÄâÈ°π‚Äìwith-cc=‚Ä¶&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ÊåáÂÆö‰∏Ä‰∏™Â§áÁî®ÁöÑCÁºñËØëÂô®ÁöÑ‰ΩçÁΩÆ‚Äìwith-cpp=‚Ä¶ÊåáÂÆö‰∏Ä‰∏™Â§áÁî®ÁöÑCÈ¢ÑÂ§ÑÁêÜÂô®ÁöÑ‰ΩçÁΩÆ‚Äìwith-cc-opt=‚Ä¶ÂÆö‰πâÈ¢ùÂ§ñÁöÑÈÄâÈ°πÔºåÁÑ∂ÂêéÂú®ÂëΩ‰ª§Ë°å‰º†ÈÄíÁªôCÁºñËØëÂô®‚Äìwith-ld-opt=‚Ä¶ÂÆö‰πâÈ¢ùÂ§ñÁöÑÈÄâÈ°πÔºåÁÑ∂ÂêéÂú®ÂëΩ‰ª§Ë°å‰º†ÈÄíÁªôCËøûÊé•Âô®‚Äìwith-cpu-opt=‚Ä¶ÊåáÂÆö‰∏çÂêåÁöÑÁõÆÊ†áÂ§ÑÁêÜÂô®ÁªìÊûÑÔºåÂèØ‰ª•ÊòØ‰∏ãÂàóÂÄºÔºöpentiumÔºåpentiumproÔºåpentium3Ôºåpentium4ÔºåathlonÔºåopteronÔºåsparc32Ôºåsparc64Âíåppc64PCREÈÄâÈ°π‚Äìwithout-pcre‰∏ç‰ΩøÁî®PCREÂ∫ì„ÄÇËøô‰∏™ËÆæÁΩÆ‰∏çÊé®Ëçê‰ΩøÁî®ÔºåÂõ†‰∏∫ÂÆÉ‰ºöÁßªÈô§ÂØπÊ≠£ÂàôË°®ËææÂºèÁöÑÊîØÊåÅÔºå‰ªéËÄå‰ΩøRewriteÊ®°ÂùóÂ§±Âéª‰ΩúÁî®„ÄÇ‚Äìwith-pcreÂº∫Âà∂‰ΩúÁî®PCREÂ∫ì‚Äìwith-pcre=‚Ä¶ÂÖÅËÆ∏ÊåáÂÆöPCREÂ∫ìÁöÑÊ∫ê‰ª£Á†Å‚Äìwith-pcre-opt=‚Ä¶Áî®‰∫éÂª∫Á´ãPCREÂ∫ìÁöÑÂè¶Â§ñÁöÑÈÄâÈ°πMD5ÈÄâÈ°π‚Äìwith-md5=‚Ä¶ÊåáÂÆöMD5Â∫ìÊ∫ê‰ª£Á†ÅÁöÑË∑ØÂæÑ‚Äìwith-md5-opt=‚Ä¶Áî®‰∫éÂª∫Á´ãMD5Â∫ìÁöÑÂè¶Â§ñÈÄâÈ°π‚Äìwith-md5-asm‰∏∫Âª∫MD5Â∫ì‰ΩøÁî®Ê±áÁºñËØ≠Ë®ÄÊ∫ê‰ª£Á†ÅSHA1ÈÄâÈ°π‚Äìwith-sha1=‚Ä¶ÊåáÂÆöSHA1Â∫ìÁöÑÊ∫ê‰ª£Á†Å‚Äìwith-sha1-opt=‚Ä¶Áî®‰∫éÂª∫Á´ãSHA1Â∫ìÁöÑÂè¶Â§ñÈÄâÈ°π‚Äìwith-sha1-asm‰∏∫Âª∫Á´ãSHA1Â∫ì‰ΩøÁî®Ê±áÁºñËØ≠Ë®ÄÊ∫ê‰ª£Á†ÅzlibÈÄâÈ°π‚Äìwith-zlib=‚Ä¶ÊåáÂÆözlibÂ∫ìÁöÑÊ∫ê‰ª£Á†Å‚Äìwith-zlib-opt=‚Ä¶Áî®‰∫éÂª∫Á´ãzlibÂ∫ìÁöÑÂè¶Â§ñÁöÑÈÄâÈ°π‚Äìwith-zlib-asm=‚Ä¶‰ΩøÁî®Ê±áÁºñËØ≠Ë®ÄÊúÄÂ§ßÈôêÂ∫¶Âú∞‰ºòÂåñ‰∏ãÂàóÁõÆÊ†áÁªìÊûÑÔºöPentium, pentiumproOpenSSLÈÄâÈ°π‚Äìwith-openssl=‚Ä¶ÊåáÂÆöOpenSSLÂ∫ìÁöÑÊ∫ê‰ª£Á†ÅË∑ØÂæÑ‚Äìwith-openssl-opt=‚Ä¶‰∏∫Âª∫Á´ãOpenSSLÂ∫ìÁöÑÂè¶Â§ñÁöÑÈÄâÈ°πconfigureÊ®°ÂùóÈÄâÈ°π‰ª•‰∏ãÊòØNginxÈªòËÆ§ÂºÄÂêØÁöÑÊ®°ÂùóÔºåÂèØ‰ª•‰ΩøÁî®Ë°®Ê†º‰∏≠ÁöÑÂëΩ‰ª§Êù•ÂÖ≥Èó≠Áõ∏Â∫îÊ®°ÂùóÔºöÈªòËÆ§ÂºÄÂêØÁöÑÊ®°Âùó&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ÊèèËø∞‚Äìwithout-http-charset_moduleÁ¶ÅÁî®CharsetÊ®°ÂùóÔºåËØ•Ê®°ÂùóÁî®‰∫éÂØπÁΩëÈ°µÈáçÊñ∞ÁºñÁ†Å‚Äìwithout-http-gzip_moduleÁ¶ÅÁî®GzipÂéãÁº©Ê®°Âùó‚Äìwithout-http_ssi_moduleÁ¶ÅÁî®ÊúçÂä°Âô®Á´ØÂåÖÂê´Ê®°Âùó‚Äìwithout-http_access_moduleÁ¶ÅÁî®ËÆøÈóÆÊ®°ÂùóÔºåÂØπ‰∫éÊåáÂÆöÁöÑIPÊÆµÔºåÂÖÅËÆ∏ËÆøÈóÆÈÖçÁΩÆ‚Äìwithout-http_userid_moduleÁ¶ÅÁî®Áî®Êà∑IDÊ®°Âùó„ÄÇËØ•Ê®°Âùó‰∏∫Áî®Êà∑ÈÄöËøácookieÈ™åËØÅË∫´‰ªΩ‚Äìwithout-http_auth_basic_moduleÁ¶ÅÁî®Âü∫Êú¨ÁöÑËÆ§ËØÅÊ®°Âùó‚Äìwithout-http_autoindex_moduleÁ¶ÅÁî®Ëá™Âä®Á¥¢ÂºïÊ®°Âùó‚Äìwithout-http_geo_moduleÁ¶ÅÁî®GeoÊ®°ÂùóÔºåËØ•Ê®°ÂùóÂÖÅËÆ∏‰Ω†ÂÆö‰πâ‰æùËµñ‰∫éIPÂú∞ÂùÄÊÆµÁöÑÂèòÈáè‚Äìwithout-http_map_moduleÁ¶ÅÁî®MapÊ®°ÂùóÔºåËØ•Ê®°ÂùóÂÖÅËÆ∏‰Ω†Â£∞ÊòémapÂå∫ÊÆµ‚Äìwithout-http_referer_moduleÁ¶ÅÁî®RefererÊéßÂà∂Ê®°Âùó‚Äìwithout-http_rewrite_moduleÁ¶ÅÁî®RewriteÊ®°Âùó‚Äìwithout-http_proxy_moduleÁ¶ÅÁî®‰ª£ÁêÜÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÁî®‰∫éÂêëÂÖ∂‰ªñÊúçÂä°Âô®‰º†ËæìËØ∑Ê±Ç‚Äìwithout-http_fastcgi_moduleÁ¶ÅÁî®FastCGIÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÊòØÁî®‰∫é‰∏éFastCGIËøõÁ®ãÈÖçÂêàÂ∑•‰Ωú‚Äìwithout-http_memcached_module&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Á¶ÅÁî®MemcachedÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÊòØÁî®‰∫é‰∏émemcachedÂÆàÊä§ËøõÁ®ãÈÖçÂêàÂ∑•‰Ωú‚Äìwithout-http_limit_zone_moduleÁ¶ÅÁî®Limit ZoneÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÊòØÁî®‰∫éÊ†πÊçÆÂÆö‰πâÁöÑzoneÊù•ÈôêÂà∂Á∫¶ÊùüÂØπËµÑÊ∫êÁöÑ‰ΩøÁî®„ÄÇ‚Äìwithout-http_limit_req_moduleÁ¶ÅÁî®Limit RequestsÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÂÖÅËÆ∏‰Ω†ÈôêÂà∂ÊØè‰∏™Áî®Êà∑ËØ∑Ê±ÇÁöÑÊÄªÊï∞‚Äìwithout-http_empty_gif_moduleÁ¶ÅÁî®Empty GifÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÁî®‰∫éÂú®ÂÜÖÂ≠ò‰∏≠Êèê‰æõ‰∏Ä‰∏™Á©∫ÁôΩÁöÑGIFÂõæÂÉè‚Äìwithout-http_browser_moduleÁ¶ÅÁî®BrowserÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÁî®‰∫éËß£ÈáäÁî®Êà∑‰ª£ÁêÜÂ≠óÁ¨¶‰∏≤‚Äìwithout-http_upstream_ip_hash_moduleÁ¶ÅÁî®UpstreamÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÁî®‰∫éÈÖçÁΩÆË¥üËΩΩÂùáË°°ÁªìÊûÑ‰ª•‰∏ãÊòØNginxÈªòËÆ§ÂÖ≥Èó≠ÁöÑÊ®°ÂùóÔºåÂèØ‰ª•‰ΩøÁî®Ë°®Ê†º‰∏≠ÁöÑÂëΩ‰ª§Êù•ÂºÄÂêØÁõ∏Â∫îÊ®°ÂùóÔºöÈªòËÆ§Á¶ÅÁî®ÁöÑÊ®°Âùó&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ÊèèËø∞‚Äìwith-http_ssl_moduleÂºÄÂêØSSLÊ®°ÂùóÔºåÊîØÊåÅ‰ΩøÁî®HTTPSÂçèËÆÆÁöÑÁΩëÈ°µ‚Äìwith-http_realip_moduleÂºÄÂêØReal IPÁöÑÊîØÊåÅÔºåËØ•Ê®°ÂùóÁî®‰∫é‰ªéÂÆ¢Êà∑ËØ∑Ê±ÇÁöÑÂ§¥Êï∞ÊçÆ‰∏≠ËØªÂèñreal IPÂú∞ÂùÄ‚Äìwith-http_addition_moduleÂºÄÂêØAdditionÊ®°ÂùóÔºåËØ•Ê®°ÂùóÂÖÅËÆ∏‰Ω†ËøΩÂä†ÊàñÂâçÁΩÆÊï∞ÊçÆÔºàprepend dataÔºâÂà∞ÂìçÂ∫îÁöÑ‰∏ª‰ΩìÈÉ®ÂàÜ‚Äìwith-http_xslt_moduleÂºÄÂêØXSLTÊ®°ÂùóÁöÑÊîØÊåÅÔºåËØ•Ê®°ÂùóÂÆûÁé∞XSLTËΩ¨Âåñ‰∏∫XMLÊñáÊ°£‚Äìwith-http_image_filter_moduleÂºÄÂêØImage FilterÊ®°ÂùóÔºåËØ•Ê®°ÂùóÊòØËÆ©‰Ω†‰øÆÊîπÂõæÂÉè„ÄÇÊ≥®ÊÑèÔºöÂ¶ÇÊûúÊÉ≥ÁºñËØëËØ•Ê®°ÂùóÔºåÈúÄË¶ÅÂú®Á≥ªÁªü‰∏≠ÂÆâË£ÖlibgdÂ∫ì‚Äìwith-http_geoip_moduleÂºÄÂêØGeoIPÊ®°ÂùóÔºåËØ•Ê®°ÂùóÈÄöËøá‰ΩøÁî®MaxMind‚Äôs GeoI ‰∫åËøõÂà∂Êï∞ÊçÆÂ∫ìÊù•Ëé∑ÂèñÂÆ¢Êà∑Á´ØÂú®Âú∞ÁêÜ‰∏äÁöÑÂàÜÂ∏É„ÄÇÊ≥®ÊÑèÔºöÂ¶ÇÊûúÂ∏åÊúõÁºñËØëËØ•Ê®°ÂùóÔºåÈúÄË¶ÅÂú®Á≥ªÁªü‰∏≠ÂÆâË£ÖlibgeoipÂ∫ì„ÄÇ‚Äìwith-http_sub_moduleÂºÄÂêØSubstitutionÊ®°ÂùóÔºåËØ•Ê®°ÂùóÁî®‰∫éÂú®ÁΩëÈ°µ‰∏≠ÊõøÊç¢ÊñáÊú¨‚Äìwith-http_dav_moduleÂºÄÂêØWebDAVÊ®°Âùó‚Äìwith-http_flv_moduleÂºÄÂêØFLVÊ®°ÂùóÔºåËØ•Ê®°ÂùóÁî®‰∫é‰∏ìÈó®Â§ÑÁêÜ.flv(flashËßÜÈ¢ë)Êñá‰ª∂‚Äìwith-http_gzip_static_moduleÂºÄÂêØGzipÈùôÊÄÅÊ®°ÂùóÔºåËØ•Ê®°ÂùóÁî®‰∫éÂèëÈÄÅÈ¢ÑÂéãÁº©ÁöÑÊñá‰ª∂‚Äìwith-http_random_index_moduleÂºÄÂêØRandom IndexÊ®°Âùó„ÄÇËØ•Ê®°ÂùóÁî®‰∫éÊåëÈÄâ‰∏Ä‰∏™ÈöèÊú∫ÁöÑÊñá‰ª∂‰Ωú‰∏∫ËØ•ÁõÆÂΩïÁöÑindex‚Äìwith-http_secure_link_moduleÂºÄÂêØSecure LinkÊ®°ÂùóÔºåËØ•Ê®°ÂùóÁî®‰∫éÂú®URL‰∏≠Ê£ÄÊµãÂÖ≥ÈîÆÂ≠óÁöÑÂ≠òÂú®‚Äìwith-http_stub_status_moduleÂºÄÂêØStub StatusÊ®°ÂùóÔºåËØ•Ê®°Âùó‰ºö‰∫ßÁîü‰∏Ä‰∏™ÊúçÂä°Âô®Áä∂ÊÄÅÂíå‰ø°ÊÅØÈ°µ‚Äìwith-google_perftools_module&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;ÂºÄÂêØgoogleÊÄßËÉΩÂ∑•ÂÖ∑Ê®°ÂùóÂÖ∂ÂÆÉconfigureÈÄâÈ°πÈÇÆ‰ª∂ÊúçÂä°‰ª£ÁêÜ‚Äìwith-mailÂºÄÂêØÈÇÆ‰ª∂ÊúçÂä°‰ª£ÁêÜÔºàmail server proxyÔºâÊ®°ÂùóÔºåÊîØÊåÅPOP3ÔºåIMAP4ÂíåSMTP„ÄÇËØ•ÂäüËÉΩÈªòËÆ§Á¶ÅÁî®‚Äìwith-mail_ssl_moduleÂºÄÂêØÈÇÆ‰ª∂‰ª£ÁêÜÊúçÂä°ÂØπSSLÁöÑÊîØÊåÅ„ÄÇËØ•ÂäüËÉΩÈªòËÆ§Á¶ÅÁî®‚Äìwithout-mail_pop3_moduleÂú®ÈÇÆ‰ª∂‰ª£ÁêÜ‰∏ãÁ¶ÅÁî®POP3ÂäüËÉΩ„ÄÇÂú®ÂºÄÂêØÈÇÆ‰ª∂‰ª£ÁêÜÊ®°ÂùóÂêéËØ•ÂäüËÉΩÈªòËÆ§ÂêØÁî®‚Äìwithout-mail_imap_moduleÂØπÈÇÆ‰ª∂‰ª£ÁêÜÊúçÂä°Âô®Á¶ÅÁî®IMAP4Ê®°ÂùóÔºåÂú®ÂºÄÂêØÈÇÆ‰ª∂‰ª£ÁêÜÊ®°ÂùóÂêéËØ•ÂäüËÉΩÈªòËÆ§ÂêØÁî®‚Äìwithout-mail_smtp_moduleÂØπ‰∫éÈÇÆ‰ª∂‰ª£ÁêÜÊúçÂä°Âô®Á¶ÅÁî®SMTPÊ®°ÂùóÔºåÂú®ÂºÄÂêØÈÇÆ‰ª∂‰ª£ÁêÜÊ®°ÂùóÂêéËØ•ÂäüËÉΩÈªòËÆ§ÂêØÁî®‰∫ã‰ª∂ÁÆ°ÁêÜ‚Äìwith-rtsig_moduleÂºÄÂêØrtsigÊ®°ÂùóÔºå‰ΩøÁî®rtsig‰Ωú‰∏∫‰∫ã‰ª∂ÈÄöÁü•Êú∫Âà∂‚Äìwith-select_moduleÂºÄÂêØselectÊ®°ÂùóÔºå‰ΩøÁî®select‰Ωú‰∏∫‰∫ã‰ª∂ÈÄöÁü•Êú∫Âà∂„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËØ•Ê®°ÂùóÊòØÂºÄÂêØÁöÑÔºåÈô§ÈùûÁ≥ªÁªüÊúâ‰∏ÄÁßçÊõ¥Â•ΩÁöÑÊñπÂºèÂèëÁé∞‚Äî‚Äîkqueue, epoll, rtsig Êàñ poll‚Äìwithout-select_moduleÁ¶ÅÁî®selectÊ®°Âùó‚Äìwith-poll_moduleÂºÄÂêØpollÊ®°ÂùóÔºåËØ•Ê®°Âùó‰ΩøÁî®poll‰Ωú‰∏∫‰∫ã‰ª∂ÈÄöÁü•Êú∫Âà∂„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÊúâÊïàÔºåËØ•Ê®°ÂùóÊòØÂºÄÂêØÁöÑÔºåÈô§ÈùûÁ≥ªÁªü‰∏äÊúâ‰∏ÄÁßçÊõ¥Â•ΩÁöÑÊñπÂºèÂèëÁé∞‚Äî‚Äîkqueue, epollÊàñrtsig‚Äìwithout-poll_moduleÁ¶ÅÁî®pollÊ®°ÂùóÁî®Êà∑ÂíåÁªÑÈÄâÈ°π‚Äìuser=‚Ä¶ÊåáÂÆöÂêØÂä®NginxËøõÁ®ãÁöÑÈªòËÆ§Áî®Êà∑„ÄÇËøô‰∏™ËÆæÁΩÆ‰ªÖÁî®‰∫éÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁúÅÁï•userÊåá‰ª§Êù•ÊåáÂÆöÁî®Êà∑ÁöÑÊÉÖÂÜµ‚Äìgroup=‚Ä¶ÊåáÂÆöÂêØÂä®NginxËøõÁ®ãÈªòËÆ§ÁöÑÁî®Êà∑ÁªÑ„ÄÇËøô‰∏™ËÆæÁΩÆ‰ªÖÁî®‰∫éÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁúÅÁï•‰ΩøÁî®groupÊåá‰ª§Êù•ÊåáÂÆöÁî®Êà∑ÁöÑÊÉÖÂÜµÂÖ∂ÂÆÉÈÄâÈ°π‚Äìwith-ipv6ÂºÄÂêØÂØπIPv6ÁöÑÊîØÊåÅ‚Äìwithout-httpÁ¶ÅÁî®HTTPÊúçÂä°‚Äìwithout-http-cacheÁ¶ÅÁî®HTTPÁºìÂÜ≤ÂäüËÉΩ‚Äìadd-module=PATHÈÄöËøáÊåáÂÆöÁöÑË∑ØÂæÑÁºñËØëÊ∑ªÂä†Á¨¨‰∏âÊñπÊ®°Âùó„ÄÇÂ¶ÇÊûúÂ∏åÊúõÁºñËØëÂ§ö‰∏™Ê®°ÂùóÔºåÈÇ£‰πàËØ•ÈÄâÈ°πÂèØ‰ª•Êó†ÈôêÊ¨°‰ΩøÁî®‚Äìwith-debugÂºÄÂêØËÆ∞ÂΩïÈ¢ùÂ§ñÁöÑË∞ÉËØï‰ø°ÊÅØ]]></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏≠‰ΩøÁî®thymeleaf]]></title>
    <url>%2FSpring-Boot%E4%BD%BF%E7%94%A8thymeleaf.html</url>
    <content type="text"><![CDATA[Spring BootÊîØÊåÅFreeMarker„ÄÅGroovy„ÄÅThymeleafÂíåMustacheÂõõÁßçÊ®°ÊùøËß£ÊûêÂºïÊìéÔºåÂÆòÊñπÊé®Ëçê‰ΩøÁî®Thymeleaf„ÄÇspring-boot-starter-thymeleafÂú®Spring Boot‰∏≠‰ΩøÁî®ThymeleafÂè™ÈúÄÂú®pom‰∏≠Âä†ÂÖ•ThymeleafÁöÑstarterÂç≥ÂèØÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt;Âú®Spring Boot 1.5.9.RELEASEÁâàÊú¨‰∏≠ÔºåÈªòËÆ§ÁöÑThymeleafÁâàÊú¨‰∏∫2.1.6.RELEASEÁâàÊú¨ÔºåËøôÈáåÊé®Ëçê‰ΩøÁî®3.0‰ª•‰∏äÁâàÊú¨„ÄÇÂú®pom‰∏≠Â∞ÜThymeleafÁöÑÁâàÊú¨‰øÆÊîπ‰∏∫3.0.2.RELEASEÔºö1234&lt;properties&gt; &lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt; &lt;thymeleaf-layout-dialect.version&gt;2.0.1&lt;/thymeleaf-layout-dialect.version&gt;&lt;/properties&gt;Âú®Spring Boot‰∏≠ÔºåÈªòËÆ§ÁöÑhtmlÈ°µÈù¢Âú∞ÂùÄ‰∏∫src/main/resources/templatesÔºåÈªòËÆ§ÁöÑÈùôÊÄÅËµÑÊ∫êÂú∞ÂùÄ‰∏∫src/main/resources/static„ÄÇThymeleafÈªòËÆ§ÈÖçÁΩÆÂú®Spring BootÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂèØÂØπThymeleafÁöÑÈªòËÆ§ÈÖçÁΩÆËøõË°å‰øÆÊîπÔºö123456789101112131415161718192021222324#ÂºÄÂêØÊ®°ÊùøÁºìÂ≠òÔºàÈªòËÆ§ÂÄºÔºötrueÔºâspring.thymeleaf.cache=true #Check that the template exists before rendering it.spring.thymeleaf.check-template=true #Ê£ÄÊü•Ê®°Êùø‰ΩçÁΩÆÊòØÂê¶Ê≠£Á°ÆÔºàÈªòËÆ§ÂÄº:trueÔºâspring.thymeleaf.check-template-location=true#Content-TypeÁöÑÂÄºÔºàÈªòËÆ§ÂÄºÔºötext/htmlÔºâspring.thymeleaf.content-type=text/html#ÂºÄÂêØMVC ThymeleafËßÜÂõæËß£ÊûêÔºàÈªòËÆ§ÂÄºÔºötrueÔºâspring.thymeleaf.enabled=true#Ê®°ÊùøÁºñÁ†Åspring.thymeleaf.encoding=UTF-8#Ë¶ÅË¢´ÊéíÈô§Âú®Ëß£Êûê‰πãÂ§ñÁöÑËßÜÂõæÂêçÁß∞ÂàóË°®ÔºåÁî®ÈÄóÂè∑ÂàÜÈöîspring.thymeleaf.excluded-view-names=#Ë¶ÅËøêÁî®‰∫éÊ®°Êùø‰πã‰∏äÁöÑÊ®°ÊùøÊ®°Âºè„ÄÇÂè¶ËßÅStandardTemplate-ModeHandlers(ÈªòËÆ§ÂÄºÔºöHTML5)spring.thymeleaf.mode=HTML5#Âú®ÊûÑÂª∫URLÊó∂Ê∑ªÂä†Âà∞ËßÜÂõæÂêçÁß∞ÂâçÁöÑÂâçÁºÄÔºàÈªòËÆ§ÂÄºÔºöclasspath:/templates/Ôºâspring.thymeleaf.prefix=classpath:/templates/#Âú®ÊûÑÂª∫URLÊó∂Ê∑ªÂä†Âà∞ËßÜÂõæÂêçÁß∞ÂêéÁöÑÂêéÁºÄÔºàÈªòËÆ§ÂÄºÔºö.htmlÔºâspring.thymeleaf.suffix=.html#ThymeleafÊ®°ÊùøËß£ÊûêÂô®Âú®Ëß£ÊûêÂô®Èìæ‰∏≠ÁöÑÈ°∫Â∫è„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÆÉÊéíÁ¨¨‰∏Ä‰Ωç„ÄÇÈ°∫Â∫è‰ªé1ÂºÄÂßãÔºåÂè™ÊúâÂú®ÂÆö‰πâ‰∫ÜÈ¢ùÂ§ñÁöÑTemplateResolver BeanÊó∂ÊâçÈúÄË¶ÅËÆæÁΩÆËøô‰∏™Â±ûÊÄß„ÄÇspring.thymeleaf.template-resolver-order=#ÂèØËß£ÊûêÁöÑËßÜÂõæÂêçÁß∞ÂàóË°®ÔºåÁî®ÈÄóÂè∑ÂàÜÈöîspring.thymeleaf.view-names=‰∏ÄËà¨ÂºÄÂèë‰∏≠Â∞Üspring.thymeleaf.cacheËÆæÁΩÆ‰∏∫falseÔºåÂÖ∂‰ªñ‰øùÊåÅÈªòËÆ§ÂÄºÂç≥ÂèØ„ÄÇÁÆÄÂçïÁ§∫‰æãÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑControllerÔºö1234567891011121314@Controllerpublic class IndexController &#123; @RequestMapping("/account") public String index(Model m) &#123; List&lt;Account&gt; list = new ArrayList&lt;Account&gt;(); list.add(new Account("KangKang", "Â∫∑Â∫∑", "e10adc3949ba59abbe56e", "Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò", "17777777777")); list.add(new Account("Mike", "È∫¶ÂÖã", "e10adc3949ba59abbe56e", "ÁÆ°ÁêÜÂëò", "13444444444")); list.add(new Account("Jane","ÁÆÄ","e10adc3949ba59abbe56e","ËøêÁª¥‰∫∫Âëò","18666666666")); list.add(new Account("Maria", "ÁéõÂà©‰∫ö", "e10adc3949ba59abbe56e", "Ê∏ÖÁÆó‰∫∫Âëò", "19999999999")); m.addAttribute("accountList",list); return "account"; &#125;&#125;ÁºñÂÜôaccount.htmlÈ°µÈù¢Ôºö12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;title&gt;account&lt;/title&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt; &lt;link rel="stylesheet" th:href="@&#123;/css/style.css&#125;" type="text/css"&gt;&lt;/head&gt;&lt;body&gt; &lt;table&gt; &lt;tr&gt; &lt;th&gt;no&lt;/th&gt; &lt;th&gt;account&lt;/th&gt; &lt;th&gt;name&lt;/th&gt; &lt;th&gt;password&lt;/th&gt; &lt;th&gt;accountType&lt;/th&gt; &lt;th&gt;tel&lt;/th&gt; &lt;/tr&gt; &lt;tr th:each="list,stat : $&#123;accountList&#125;"&gt; &lt;td th:text="$&#123;stat.count&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;list.account&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;list.name&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;list.password&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;list.accountType&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;list.tel&#125;"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;ÊúÄÁªàÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/web/accountÔºösource code]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf Â±ÄÈÉ®ÂèòÈáè]]></title>
    <url>%2FThymeleaf-%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F.html</url>
    <content type="text"><![CDATA[Âú®ThymeleafÊ®°ÊùøÂºïÊìé‰∏≠Ôºå‰ΩøÁî® th:withÂ±ûÊÄßÊù•Â£∞Êòé‰∏Ä‰∏™Â±ÄÈÉ®ÂèòÈáèÔºö123&lt;div th:with="firstPer=$&#123;persons[0]&#125;"&gt; &lt;p&gt;The name of the first person is &lt;span th:text="$&#123;firstPer.name&#125;"&gt;Julius Caesar&lt;/span&gt;.&lt;/p&gt;&lt;/div&gt;Âú®‰∏äÈù¢div‰∏≠Ôºåth:widthÂ±ûÊÄßÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫firstPerÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºåÂÜÖÂÆπ‰∏∫${persons[0]}„ÄÇËØ•Â±ÄÈÉ®ÂèòÈáèÁöÑ‰ΩúÁî®Âüü‰∏∫Êï¥‰∏™divÂÜÖ„ÄÇ‰πüÂèØ‰ª•‰∏ÄÊ¨°ÊÄßÂÆö‰πâÂ§ö‰∏™ÂèòÈáèÔºö123456789&lt;div th:with="firstPer=$&#123;persons[0]&#125;,secondPer=$&#123;persons[1]&#125;"&gt; &lt;p&gt; The name of the first person is &lt;span th:text="$&#123;firstPer.name&#125;"&gt;Julius Caesar&lt;/span&gt;. &lt;/p&gt; &lt;p&gt; But the name of the second person is &lt;span th:text="$&#123;secondPer.name&#125;"&gt;Marcus Antonius&lt;/span&gt;. &lt;/p&gt;&lt;/div&gt;th:withÂ±ûÊÄßÂÖÅËÆ∏ÈáçÁî®Âú®Âêå‰∏Ä‰∏™Â±ûÊÄß‰∏≠ÂÆö‰πâÁöÑÂèòÈáèÔºö1&lt;div th:with="company=$&#123;user.company + ' Co.'&#125;,account=$&#123;accounts[company]&#125;"&gt;...&lt;/div&gt;]]></content>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf Ê®°ÊùøÂ∏ÉÂ±Ä]]></title>
    <url>%2FThymeleaf-%E6%A8%A1%E6%9D%BF%E5%B8%83%E5%B1%80.html</url>
    <content type="text"><![CDATA[th:include,th:insertÂíåth:replaceÂú®Ê®°ÊùøÁöÑÁºñÂÜô‰∏≠ÔºåÈÄöÂ∏∏Â∏åÊúõËÉΩÂ§üÂºïÂÖ•Âà´ÁöÑÊ®°ÊùøÁâáÊÆµÔºåÊØîÂ¶ÇÈÄöÁî®ÁöÑÂ§¥ÈÉ®ÂíåÈ°µËÑö„ÄÇThymeleafÊ®°ÊùøÂºïÊìéÁöÑth:includeÔºåth:insertÂíåth:replaceÂ±ûÊÄßÂèØ‰ª•ËΩªÊùæÁöÑÂÆûÁé∞ËØ•ÈúÄÊ±Ç„ÄÇ‰∏çËøá‰ªéThymeleaf 3.0ÁâàÊú¨ÂêéÔºå ‰∏çÂÜçÊé®Ëçê‰ΩøÁî®th:includeÂ±ûÊÄß„ÄÇÂú®index.htmlÈ°µÈù¢Ë∑ØÂæÑ‰∏ãÂàõÂª∫‰∏Ä‰∏™footer.htmlÔºö12345678&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt; &lt;body&gt; &lt;footer th:fragment="copy"&gt; &amp;copy; 2016 - 2017 MrBird Powered by Hexo &lt;/footer&gt; &lt;/body&gt;&lt;/html&gt;Âú®footer.html‰∏≠Ôºå‰ΩøÁî®th:fragmentÂ±ûÊÄßÂÆö‰πâ‰∫Ü&lt;footer&gt;ÁâáÊÆµÔºåÁÑ∂ÂêéÂú®index.html‰∏≠ÂºïÁî®ÂÆÉÔºö123&lt;div th:include="~&#123;footer :: copy&#125;"&gt;&lt;/div&gt; &lt;div th:insert="~&#123;footer :: copy&#125;"&gt;&lt;/div&gt; &lt;div th:replace="~&#123;footer :: copy&#125;"&gt;&lt;/div&gt;ÂÖ∂‰∏≠footer‰∏∫Ë¢´ÂºïÁî®ÁöÑÊ®°ÊùøÂêçÁß∞ÔºàtemplatenameÔºâÔºåcopy‰∏∫th:fragmentÊ†áËÆ∞ÁöÑÁâáÊÆµÂêçÁß∞ÔºàselectorÔºâÔºå~{...}Áß∞‰∏∫ÁâáÊÆµË°®ËææÂºèÔºåÁî±‰∫éÂÖ∂‰∏çÊòØ‰∏Ä‰∏™Â§çÊùÇÁöÑÁâáÊÆµË°®ËææÂºèÔºåÊâÄ‰ª•ÂèØ‰ª•ÁÆÄÂÜô‰∏∫Ôºö1&lt;div th:include="footer :: copy"&gt;&lt;/div&gt;È°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöÈÄöËøáËßÇÂØüÊ∏≤ÊüìÂá∫ÁöÑÊ∫êÁ†ÅÂèØÂèëÁé∞th:includeÔºåth:insertÂíåth:replaceÁöÑÂå∫Âà´ÊâÄÂú®Ôºö1234567891011&lt;div&gt; &amp;copy; 2016 - 2017 MrBird Powered by Hexo&lt;/div&gt; &lt;div&gt; &lt;footer&gt; &amp;copy; 2016 - 2017 MrBird Powered by Hexo &lt;/footer&gt;&lt;/div&gt; &lt;footer&gt; &amp;copy; 2016 - 2017 MrBird Powered by Hexo&lt;/footer&gt;ÂºïÁî®Êú¨È°µÈù¢ÁöÑÁâáÊÆµÂèØ‰ª•Áï•ÂéªtemplatenameÔºåÊàñËÄÖ‰ΩøÁî®thisÊù•‰ª£Êõø„ÄÇÂºïÁî®Ê≤°Êúâth:fragmentÁöÑÁâáÊÆµÂ¶ÇÊûúÁâáÊÆµ‰∏çÂåÖÂê´th:fragmentÂ±ûÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®CSSÈÄâÊã©Âô®Êù•ÈÄâ‰∏≠ËØ•ÁâáÊÆµÔºåÂ¶ÇÔºö123&lt;div id="copy-section"&gt; &amp;copy; 2011 The Good Thymes Virtual Grocery&lt;/div&gt;ÂºïÁî®ÊñπÂºèÔºö1&lt;div th:insert="~&#123;footer :: #copy-section&#125;"&gt;&lt;/div&gt;Âú®th:fragment‰∏≠‰ΩøÁî®ÂèÇÊï∞‰ΩøÁî®th:fragmentÂÆö‰πâÁöÑÁâáÊÆµÂèØ‰ª•ÊåáÂÆö‰∏ÄÁªÑÂèÇÊï∞Ôºö123&lt;div th:fragment="frag (onevar,twovar)"&gt; &lt;p th:text="$&#123;onevar&#125; + ' - ' + $&#123;twovar&#125;"&gt;...&lt;/p&gt;&lt;/div&gt;ÁÑ∂ÂêéÂú®ÂºïÁî®ÁöÑÊó∂ÂÄôÁªôËøô‰∏§‰∏™ÂèÇÊï∞ËµãÂÄºÔºåÊúâÂ¶Ç‰∏ã‰∏§ÁßçÊñπÂºèÔºö12&lt;div th:replace="this :: frag ('value1','value2')"&gt;&lt;/div&gt;&lt;div th:replace="this :: frag (onevar='value_one',twovar='value_two')"&gt;&lt;/div&gt;ÂØπ‰∫éÁ¨¨‰∫åÁßçÊñπÂºèÔºåonevarÂíåtwovarÁöÑÈ°∫Â∫è‰∏çÈáçË¶ÅÔºåÂπ∂‰∏î‰ΩøÁî®Á¨¨‰∫åÁßçÊñπÂºèÂºïÁî®ÁâáÊÆµÊó∂ÔºåÁâáÊÆµÂèØ‰ª•ÁÆÄÂÜô‰∏∫Ôºö123&lt;div th:fragment="frag"&gt; &lt;p th:text="$&#123;onevar&#125; + ' - ' + $&#123;twovar&#125;"&gt;...&lt;/p&gt;&lt;/div&gt;th:removeth:removeÁî®‰∫éÂà†Èô§ÁâáÊÆµÔºåÊîØÊåÅÁöÑÂ±ûÊÄßÂÄºÊúâÔºöallÔºöÂà†Èô§Ê†áÁ≠æÂèäÂÖ∂ÊâÄÊúâÂ≠êÊ†áÁ≠æ„ÄÇbodyÔºö‰∏çÂà†Èô§ÂåÖÂê´ÁöÑÊ†áÁ≠æÔºå‰ΩÜÂà†Èô§ÂÖ∂ÊâÄÊúâÂ≠ê‰ª£„ÄÇtagÔºöÂà†Èô§ÂåÖÂê´ÁöÑÊ†áÁ≠æÔºå‰ΩÜ‰∏çË¶ÅÂà†Èô§ÂÖ∂Â≠êÊ†áÁ≠æ„ÄÇall-but-firstÔºöÂà†Èô§Èô§Á¨¨‰∏Ä‰∏™‰πãÂ§ñÁöÑÊâÄÊúâÂåÖÂê´Ê†áÁ≠æÁöÑÂ≠êÊ†áÁ≠æ„ÄÇnone„ÄÇÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãÁâáÊÆµÔºö1234567891011121314151617&lt;table border="1"&gt; &lt;tr&gt; &lt;th&gt;NAME&lt;/th&gt; &lt;th&gt;PRICE&lt;/th&gt; &lt;th&gt;IN STOCK&lt;/th&gt; &lt;th&gt;COMMENTS&lt;/th&gt; &lt;/tr&gt; &lt;tr th:remove="value"&gt; &lt;td&gt;Mild Cinnamon&lt;/td&gt; &lt;td&gt;1.99&lt;/td&gt; &lt;td&gt;yes&lt;/td&gt; &lt;td&gt; &lt;span&gt;3&lt;/span&gt; comment/s &lt;a href="comments.html"&gt;view&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;ÂΩìvalue‰∏∫allÊó∂ÔºåÈ°µÈù¢Ê∏≤Êüì‰∏∫Ôºö12345678&lt;table border="1"&gt; &lt;tr&gt; &lt;th&gt;NAME&lt;/th&gt; &lt;th&gt;PRICE&lt;/th&gt; &lt;th&gt;IN STOCK&lt;/th&gt; &lt;th&gt;COMMENTS&lt;/th&gt; &lt;/tr&gt;&lt;/table&gt;ÂΩìvalue‰∏∫bodyÊó∂ÔºåÈ°µÈù¢Ê∏≤Êüì‰∏∫Ôºö12345678910&lt;table border="1"&gt; &lt;tr&gt; &lt;th&gt;NAME&lt;/th&gt; &lt;th&gt;PRICE&lt;/th&gt; &lt;th&gt;IN STOCK&lt;/th&gt; &lt;th&gt;COMMENTS&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;/tr&gt;&lt;/table&gt;ÂΩìvalue‰∏∫tagÊó∂ÔºåÈ°µÈù¢Ê∏≤Êüì‰∏∫Ôºö123456789101112131415&lt;table border="1"&gt; &lt;tr&gt; &lt;th&gt;NAME&lt;/th&gt; &lt;th&gt;PRICE&lt;/th&gt; &lt;th&gt;IN STOCK&lt;/th&gt; &lt;th&gt;COMMENTS&lt;/th&gt; &lt;/tr&gt; &lt;td&gt;Mild Cinnamon&lt;/td&gt; &lt;td&gt;1.99&lt;/td&gt; &lt;td&gt;yes&lt;/td&gt; &lt;td&gt; &lt;span&gt;3&lt;/span&gt; comment/s &lt;a href="comments.html"&gt;view&lt;/a&gt; &lt;/td&gt;&lt;/table&gt;ÂΩìvalue‰∏∫all-but-firstÊó∂ÔºåÈ°µÈù¢Ê∏≤Êüì‰∏∫Ôºö1234567891011&lt;table border="1"&gt; &lt;tr&gt; &lt;th&gt;NAME&lt;/th&gt; &lt;th&gt;PRICE&lt;/th&gt; &lt;th&gt;IN STOCK&lt;/th&gt; &lt;th&gt;COMMENTS&lt;/th&gt; &lt;/tr&gt; &lt;tr th:remove="value"&gt; &lt;td&gt;Mild Cinnamon&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;]]></content>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf Êù°‰ª∂ËØ≠Âè•]]></title>
    <url>%2FThymeleaf%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5.html</url>
    <content type="text"><![CDATA[if ‰∏é unlessÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™ÂïÜÂìÅÂàóË°®ÔºåÂΩìÂïÜÂìÅÊúâËØÑËÆ∫Êó∂ÔºåÊòæÁ§∫viewÊåâÈíÆÔºåÂê¶Âàô‰∏çÊòæÁ§∫„ÄÇËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•‰ΩøÁî®ThymeleafÁöÑth:ifÊ†áÁ≠æÊù•ÂÆûÁé∞:123&lt;a href="comments.html" th:href="@&#123;/product/comments(prodId=$&#123;prod.id&#125;)&#125;" th:if="$&#123;not #lists.isEmpty(prod.comments)&#125;"&gt;view&lt;/a&gt;ÂΩìprod.comments‰∏ç‰∏∫Á©∫Êó∂ÔºåÈ°µÈù¢Â∞ÜÊ∏≤ÊüìÂá∫ËØ•&lt;a&gt;Ê†áÁ≠æ„ÄÇÂè¶Â§ñÔºåth:ifÊúâ‰∏Ä‰∏™ÂèçÂêëÂ±ûÊÄßth:unlessÔºåÁî®‰∫é‰ª£Êõø‰∏äÈù¢ÁöÑnotÔºö123&lt;a href="comments.html" th:href="@&#123;/comments(prodId=$&#123;prod.id&#125;)&#125;" th:unless="$&#123;#lists.isEmpty(prod.comments)&#125;"&gt;view&lt;/a&gt;switchThymeleaf‰∏≠ÁöÑth:switchÂíåÂÖ∂‰ªñËØ≠Ë®ÄÁöÑswitch caseËØ≠Âè•Â∑Æ‰∏çÂ§öÔºö1234&lt;div th:switch="$&#123;user.role&#125;"&gt; &lt;p th:case="'admin'"&gt;User is an administrator&lt;/p&gt; &lt;p th:case="'manager'"&gt;User is a manager&lt;/p&gt;&lt;/div&gt;th:case=&quot;*&quot;Ë°®Á§∫ÈªòËÆ§ÈÄâÈ°πÔºåÁõ∏ÂΩì‰∫édefaultÔºö12345&lt;div th:switch="$&#123;user.role&#125;"&gt; &lt;p th:case="'admin'"&gt;User is an administrator&lt;/p&gt; &lt;p th:case="'manager'"&gt;User is a manager&lt;/p&gt; &lt;p th:case="*"&gt;User is some other thing&lt;/p&gt;&lt;/div&gt;]]></content>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf Ëø≠‰ª£]]></title>
    <url>%2FThymeleaf-%E8%BF%AD%E4%BB%A3.html</url>
    <content type="text"><![CDATA[Âú®Thymeleaf‰∏≠Ôºå‰ΩøÁî®th:eachÊ†áÁ≠æÂèØÂØπÈõÜÂêàÁ±ªÂûãËøõË°åËø≠‰ª£ÔºåÊîØÊåÅÁöÑÁ±ªÂûãÊúâÔºö1.‰ªª‰ΩïÂÆûÁé∞‰∫Üjava.util.ListÁöÑÂØπË±°Ôºõ2.‰ªª‰ΩïÂÆûÁé∞‰∫Üjava.util.IterableÁöÑÂØπË±°Ôºõ3.‰ªª‰ΩïÂÆûÁé∞‰∫Üjava.util.EnumerationÁöÑÂØπË±°Ôºõ4.‰ªª‰ΩïÂÆûÁé∞‰∫Üjava.util.IteratorÁöÑÂØπË±°;5.‰ªª‰ΩïÂÆûÁé∞‰∫Üjava.util.MapÁöÑÂØπË±°„ÄÇÂΩìËø≠‰ª£mapsÊó∂ÔºåËø≠‰ª£ÂèòÈáèÊòØjava.util.Map.EntryÁ±ªÂûãÔºõ6.‰ªª‰ΩïÊï∞ÁªÑ„ÄÇ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö1234&lt;tr th:each="prod : $&#123;prods&#125;"&gt; &lt;td th:text="$&#123;prod.name&#125;"&gt;Onions&lt;/td&gt; &lt;td th:text="$&#123;prod.price&#125;"&gt;2.41&lt;/td&gt;&lt;/tr&gt;ÂÖ∂‰∏≠${prods}‰∏∫Ëø≠‰ª£ÂÄºÔºåprod‰∏∫Ëø≠‰ª£ÂèòÈáè„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáÁä∂ÊÄÅÂèòÈáèËé∑ÂèñËø≠‰ª£ÁöÑÁä∂ÊÄÅ‰ø°ÊÅØÔºåÊØîÂ¶ÇÔºö1&lt;tr th:each="prod,stat : $&#123;prods&#125;"&gt; ...ÂÖ∂‰∏≠statÂ∞±ÊòØÁä∂ÊÄÅÂèòÈáè„ÄÇÈªòËÆ§‰∏∫Ëø≠‰ª£ÂèòÈáèÂä†‰∏äStatÂêéÁºÄÔºåÂú®Êú¨‰æã‰∏≠Ôºå‰∏çÁõ¥Êé•Áî≥ÊòéstatÔºåÂàôÁä∂ÊÄÅÂèòÈáèÂêçÁß∞‰∏∫prodStat„ÄÇÁä∂ÊÄÅÂèòÈáèÂåÖÂê´‰ª•‰∏ã‰ø°ÊÅØÔºö1.indexÔºåÂΩìÂâçËø≠‰ª£‰∏ãÊ†áÔºå‰ªé0ÂºÄÂßãÔºõ2.countÔºåÂΩìÂâçËø≠‰ª£‰ΩçÁΩÆÔºå‰ªé1ÂºÄÂßãÔºõ3.sizeÔºåËø≠‰ª£ÂèòÈáè‰∏≠ÁöÑÊÄªËÆ°Êï∞ÈáèÔºõ4.currentÔºåÊØèÊ¨°Ëø≠‰ª£ÁöÑËø≠‰ª£ÂèòÈáèÔºõ5.even/oddÔºåÂΩìÂâçËø≠‰ª£ÊòØÂÅ∂Êï∞ËøòÊòØÂ•áÊï∞Ôºõ6.firstÔºåÂΩìÂâçËø≠‰ª£ÁöÑÊòØ‰∏çÊòØÁ¨¨‰∏Ä‰∏™Ôºõ7.lastÔºåÂΩìÂâçËø≠‰ª£ÁöÑÊòØ‰∏çÊòØÊúÄÂêé‰∏Ä‰∏™Ôºõ‰æãÂ≠êÔºö12345678910&lt;div th:each="habbits,stat : $&#123;user.habbit&#125;"&gt; &lt;span th:text="$&#123;habbits&#125;"&gt;&lt;/span&gt; &lt;span th:text="$&#123;stat.index&#125;"&gt;&lt;/span&gt; &lt;span th:text="$&#123;stat.count&#125;"&gt;&lt;/span&gt; &lt;span th:text="$&#123;stat.size&#125;"&gt;&lt;/span&gt; &lt;span th:text="$&#123;stat.current&#125;"&gt;&lt;/span&gt; &lt;span th:text="$&#123;stat.even&#125;"&gt;&lt;/span&gt; &lt;span th:text="$&#123;stat.first&#125;"&gt;&lt;/span&gt; &lt;span th:text="$&#123;stat.last&#125;"&gt;&lt;/span&gt;&lt;/div&gt;È°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºö]]></content>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf Ë°®ËææÂºèÂ∑•ÂÖ∑Á±ª]]></title>
    <url>%2FThymeleaf-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%B7%A5%E5%85%B7%E7%B1%BB.html</url>
    <content type="text"><![CDATA[ThymeleafÈªòËÆ§Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑË°®ËææÂºèÂ∑•ÂÖ∑Á±ªÔºåËøôÈáåÂàó‰∏æ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÂ∑•ÂÖ∑Á±ª„ÄÇObjectsÂ∑•ÂÖ∑Á±ª12345678/* * ÂΩìobj‰∏ç‰∏∫Á©∫Êó∂ÔºåËøîÂõûobjÔºåÂê¶ÂàôËøîÂõûdefaultÈªòËÆ§ÂÄº * ÂÖ∂ÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#objects.nullSafe(obj,default)&#125;$&#123;#objects.arrayNullSafe(objArray,default)&#125;$&#123;#objects.listNullSafe(objList,default)&#125;$&#123;#objects.setNullSafe(objSet,default)&#125;StringÂ∑•ÂÖ∑Á±ª123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122/* * Null-safe toString() */$&#123;#strings.toString(obj)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * Ê£ÄÊü•StringÊòØÂê¶‰∏∫Á©∫(Êàñnull)„ÄÇÂú®Ê£ÄÊü•‰πãÂâçÊâßË°åtrim()Êìç‰Ωú‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.isEmpty(name)&#125;$&#123;#strings.arrayIsEmpty(nameArr)&#125;$&#123;#strings.listIsEmpty(nameList)&#125;$&#123;#strings.setIsEmpty(nameSet)&#125;/* * ÂØπÂ≠óÁ¨¶‰∏≤ÊâßË°å‚ÄúisEmpty()‚ÄùÊ£ÄÊü•, Â¶ÇÊûú‰∏∫falseÂàôËøîÂõûÂÆÉ, Â¶ÇÊûú‰∏∫trueÂàôÈªòËÆ§‰∏∫Âè¶‰∏Ä‰∏™ÊåáÂÆöÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.defaultString(text,default)&#125;$&#123;#strings.arrayDefaultString(textArr,default)&#125;$&#123;#strings.listDefaultString(textList,default)&#125;$&#123;#strings.setDefaultString(textSet,default)&#125;/* * Ê£ÄÊü•Â≠óÁ¨¶‰∏≤‰∏≠ÊòØÂê¶ÂåÖÂê´ÁâáÊÆµÔºåÊØîÂ¶Ç $&#123;#strings.containsIgnoreCase(user.name,'kang')&#125; * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.contains(name,'ez')&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.containsIgnoreCase(name,'ez')&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * Ê£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÂê¶‰ª•ÁâáÊÆµÂºÄÂßãÊàñÁªìÊùü * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.startsWith(name,'Don')&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.endsWith(name,endingFragment)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * Â≠ê‰∏≤Áõ∏ÂÖ≥Êìç‰Ωú * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.indexOf(name,frag)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.substring(name,3,5)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.substringAfter(name,prefix)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.substringBefore(name,suffix)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.replace(name,'las','ler')&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * ÈôÑÂä†ÂíåÂâçÁΩÆ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.prepend(str,prefix)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.append(str,suffix)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * Â§ßÂ∞èÂÜôËΩ¨Êç¢ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.toUpperCase(name)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.toLowerCase(name)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * ÊãÜÂàÜÂíåÊãºÊé• */$&#123;#strings.arrayJoin(namesArray,',')&#125;$&#123;#strings.listJoin(namesList,',')&#125;$&#123;#strings.setJoin(namesSet,',')&#125;$&#123;#strings.arraySplit(namesStr,',')&#125; // ËøîÂõûString []$&#123;#strings.listSplit(namesStr,',')&#125; // ËøîÂõûList&lt;String&gt;$&#123;#strings.setSplit(namesStr,',')&#125; // ËøîÂõûSet&lt;String&gt;/* * Trim * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.trim(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * ËÆ°ÁÆóÈïøÂ∫¶ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.length(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * Áº©ÂÜôÊñáÊú¨, ‰ΩøÂÖ∂ÊúÄÂ§ßÂ§ßÂ∞è‰∏∫n„ÄÇÂ¶ÇÊûúÊñáÊú¨ËæÉÂ§ß, ÂÆÉÂ∞ÜË¢´Ââ™ËæëÂπ∂Âú®Êú´Â∞æÈôÑÂä†‚Äú...‚Äù * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#strings.abbreviate(str,10)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * Â∞ÜÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â§ßÂÜô(Âèç‰πã‰∫¶ÁÑ∂) */$&#123;#strings.capitalize(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.unCapitalize(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * Â∞ÜÊØè‰∏™ÂçïËØçÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â§ßÂÜô */$&#123;#strings.capitalizeWords(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.capitalizeWords(str,delimiters)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * ËΩ¨‰πâÂ≠óÁ¨¶‰∏≤ */$&#123;#strings.escapeXml(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.escapeJava(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.escapeJavaScript(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.unescapeJava(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*$&#123;#strings.unescapeJavaScript(str)&#125; // ‰πüÂèØ‰ª•ÊòØ array*„ÄÅlist* Êàñ set*/* * Á©∫ÂÆâÂÖ®ÊØîËæÉÂíåËøûÊé• */$&#123;#strings.equals(first, second)&#125;$&#123;#strings.equalsIgnoreCase(first, second)&#125;$&#123;#strings.concat(values...)&#125;$&#123;#strings.concatReplaceNulls(nullValue, values...)&#125;/* * ÈöèÊú∫Êï∞ */$&#123;#strings.randomAlphanumeric(count)&#125;DatesÂ∑•ÂÖ∑Á±ª1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/* * ‰ΩøÁî®Ê†áÂáÜÂå∫ÂüüËÆæÁΩÆÊ†ºÂºèÊ†ºÂºèÂåñÊó•Êúü * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#dates.format(date)&#125;$&#123;#dates.arrayFormat(datesArray)&#125;$&#123;#dates.listFormat(datesList)&#125;$&#123;#dates.setFormat(datesSet)&#125;/* * ‰ΩøÁî®ISO8601Ê†ºÂºèÊ†ºÂºèÂåñÊó•Êúü * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#dates.formatISO(date)&#125;$&#123;#dates.arrayFormatISO(datesArray)&#125;$&#123;#dates.listFormatISO(datesList)&#125;$&#123;#dates.setFormatISO(datesSet)&#125;/* * ‰ΩøÁî®ÊåáÂÆöÁöÑÊ†ºÂºèÊ†ºÂºèÂåñÊó•ÊúüÔºåÊØîÂ¶Ç $&#123;#dates.format(date,'yyyy-MM-dd HH:mm:ss')&#125; * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#dates.format(date, 'dd/MMM/yyyy HH:mm')&#125;$&#123;#dates.arrayFormat(datesArray, 'dd/MMM/yyyy HH:mm')&#125;$&#123;#dates.listFormat(datesList, 'dd/MMM/yyyy HH:mm')&#125;$&#123;#dates.setFormat(datesSet, 'dd/MMM/yyyy HH:mm')&#125;/* * Ëé∑ÂèñÊó•ÊúüÂ±ûÊÄß * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#dates.day(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayDay(...), listDay(...)‰πãÁ±ªÁöÑ$&#123;#dates.month(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMonth(...), listMonth(...)‰πãÁ±ªÁöÑ$&#123;#dates.monthName(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMonthName(...), listMonthName(...)‰πãÁ±ªÁöÑ$&#123;#dates.monthNameShort(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMonthNameShort(...), listMonthNameShort(...)‰πãÁ±ªÁöÑ$&#123;#dates.year(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayYear(...), listYear(...)‰πãÁ±ªÁöÑ$&#123;#dates.dayOfWeek(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayDayOfWeek(...), listDayOfWeek(...)‰πãÁ±ªÁöÑ$&#123;#dates.dayOfWeekName(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayDayOfWeekName(...), listDayOfWeekName(...)‰πãÁ±ªÁöÑ$&#123;#dates.dayOfWeekNameShort(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayDayOfWeekNameShort(...), listDayOfWeekNameShort(...)‰πãÁ±ªÁöÑ$&#123;#dates.hour(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayHour(...), listHour(...)‰πãÁ±ªÁöÑ$&#123;#dates.minute(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMinute(...), listMinute(...)‰πãÁ±ªÁöÑ$&#123;#dates.second(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arraySecond(...), listSecond(...)‰πãÁ±ªÁöÑ$&#123;#dates.millisecond(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMillisecond(...), listMillisecond(...)‰πãÁ±ªÁöÑ/* * Ê†πÊçÆyear,month,dayÂàõÂª∫Êó•Êúü(java.util.Date)ÂØπË±°ÔºåÊØîÂ¶Ç $&#123;#dates.create('2008','08','08')&#125; */$&#123;#dates.create(year,month,day)&#125;$&#123;#dates.create(year,month,day,hour,minute)&#125;$&#123;#dates.create(year,month,day,hour,minute,second)&#125;$&#123;#dates.create(year,month,day,hour,minute,second,millisecond)&#125;/* * ÂàõÂª∫ÂΩìÂâçÊó•ÊúüÂíåÊó∂Èó¥ÂàõÂª∫Êó•Êúü(java.util.Date)ÂØπË±°ÔºåÊØîÂ¶Ç $&#123;#dates.format(#dates.createNow(),'yyyy-MM-dd HH:mm:ss')&#125; */$&#123;#dates.createNow()&#125;$&#123;#dates.createNowForTimeZone()&#125;/* * ÂàõÂª∫ÂΩìÂâçÊó•ÊúüÂàõÂª∫‰∏Ä‰∏™Êó•Êúü(java.util.Date)ÂØπË±°(Êó∂Èó¥ËÆæÁΩÆ‰∏∫00:00) */$&#123;#dates.createToday()&#125;$&#123;#dates.createTodayForTimeZone()&#125;CalendarsÂ∑•ÂÖ∑Á±ª12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970/* * ‰ΩøÁî®Ê†áÂáÜÂå∫ÂüüËÆæÁΩÆÊ†ºÂºèÊ†ºÂºèÂåñÊó•ÂéÜ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#calendars.format(cal)&#125;$&#123;#calendars.arrayFormat(calArray)&#125;$&#123;#calendars.listFormat(calList)&#125;$&#123;#calendars.setFormat(calSet)&#125;/* * ‰ΩøÁî®ISO8601Ê†ºÂºèÊ†ºÂºèÂåñÊó•ÂéÜ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#calendars.formatISO(cal)&#125;$&#123;#calendars.arrayFormatISO(calArray)&#125;$&#123;#calendars.listFormatISO(calList)&#125;$&#123;#calendars.setFormatISO(calSet)&#125;/* * ‰ΩøÁî®ÊåáÂÆöÁöÑÊ†ºÂºèÊ†ºÂºèÂåñÊó•ÂéÜ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#calendars.format(cal, 'dd/MMM/yyyy HH:mm')&#125;$&#123;#calendars.arrayFormat(calArray, 'dd/MMM/yyyy HH:mm')&#125;$&#123;#calendars.listFormat(calList, 'dd/MMM/yyyy HH:mm')&#125;$&#123;#calendars.setFormat(calSet, 'dd/MMM/yyyy HH:mm')&#125;/* * Ëé∑ÂèñÊó•ÂéÜÂ±ûÊÄß * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#calendars.day(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayDay(...), listDay(...)‰πãÁ±ªÁöÑ$&#123;#calendars.month(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMonth(...), listMonth(...)‰πãÁ±ªÁöÑ$&#123;#calendars.monthName(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMonthName(...), listMonthName(...)‰πãÁ±ªÁöÑ$&#123;#calendars.monthNameShort(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMonthNameShort(...), listMonthNameShort(...)‰πãÁ±ªÁöÑ$&#123;#calendars.year(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayYear(...), listYear(...)‰πãÁ±ªÁöÑ$&#123;#calendars.dayOfWeek(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayDayOfWeek(...), listDayOfWeek(...)‰πãÁ±ªÁöÑ$&#123;#calendars.dayOfWeekName(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayDayOfWeekName(...), listDayOfWeekName(...)‰πãÁ±ªÁöÑ$&#123;#calendars.dayOfWeekNameShort(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayDayOfWeekNameShort(...), listDayOfWeekNameShort(...)‰πãÁ±ªÁöÑ$&#123;#calendars.hour(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayHour(...), listHour(...)‰πãÁ±ªÁöÑ$&#123;#calendars.minute(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMinute(...), listMinute(...)‰πãÁ±ªÁöÑ$&#123;#calendars.second(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arraySecond(...), listSecond(...)‰πãÁ±ªÁöÑ$&#123;#calendars.millisecond(date)&#125; // ‰πüÂèØ‰ª•ÊòØ arrayMillisecond(...), listMillisecond(...)‰πãÁ±ªÁöÑ/* * ‰ªéÂÖ∂ÁªÑ‰ª∂ÂàõÂª∫Êó•ÂéÜ(java.util.Calendar)ÂØπË±° */$&#123;#calendars.create(year,month,day)&#125;$&#123;#calendars.create(year,month,day,hour,minute)&#125;$&#123;#calendars.create(year,month,day,hour,minute,second)&#125;$&#123;#calendars.create(year,month,day,hour,minute,second,millisecond)&#125;$&#123;#calendars.createForTimeZone(year,month,day,timeZone)&#125;$&#123;#calendars.createForTimeZone(year,month,day,hour,minute,timeZone)&#125;$&#123;#calendars.createForTimeZone(year,month,day,hour,minute,second,timeZone)&#125;$&#123;#calendars.createForTimeZone(year,month,day,hour,minute,second,millisecond,timeZone)&#125;/* * ‰∏∫ÂΩìÂâçÊó•ÊúüÂíåÊó∂Èó¥ÂàõÂª∫‰∏Ä‰∏™Êó•ÂéÜ(java.util.Calendar)ÂØπË±° */$&#123;#calendars.createNow()&#125;$&#123;#calendars.createNowForTimeZone()&#125;/* * ‰∏∫ÂΩìÂâçÊó•ÊúüÂàõÂª∫Êó•ÂéÜ(java.util.Calendar)ÂØπË±°(Êó∂Èó¥ËÆæÁΩÆ‰∏∫00:00) */$&#123;#calendars.createToday()&#125;$&#123;#calendars.createTodayForTimeZone()&#125;NumbersÂ∑•ÂÖ∑Á±ª1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071/* * ========================== * Ê†ºÂºèÂåñÊï¥Êï∞ * ========================== *//* * ËÆæÁΩÆÊúÄÂ∞èÊï¥Êï∞‰ΩçÊï∞„ÄÇ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#numbers.formatInteger(num,3)&#125;$&#123;#numbers.arrayFormatInteger(numArray,3)&#125;$&#123;#numbers.listFormatInteger(numList,3)&#125;$&#123;#numbers.setFormatInteger(numSet,3)&#125;/* * ËÆæÁΩÆÊúÄÂ∞èÊï¥Êï∞‰ΩçÊï∞ÂíåÂçÉ‰ΩçÂàÜÈöîÁ¨¶Ôºö * 'POINT'„ÄÅ'COMMA'„ÄÅ'WHITESPACE'„ÄÅ'NONE' Êàñ 'DEFAULT'(Ê†πÊçÆÊú¨Âú∞Âåñ)„ÄÇ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#numbers.formatInteger(num,3,'POINT')&#125;$&#123;#numbers.arrayFormatInteger(numArray,3,'POINT')&#125;$&#123;#numbers.listFormatInteger(numList,3,'POINT')&#125;$&#123;#numbers.setFormatInteger(numSet,3,'POINT')&#125;/* * ========================== * Ê†ºÂºèÂåñÂçÅËøõÂà∂Êï∞ * ========================== *//* * ËÆæÁΩÆÊúÄÂ∞èÊï¥Êï∞Êï∞Â≠óÂíå(Á≤æÁ°ÆÁöÑ)ÂçÅËøõÂà∂Êï∞Â≠ó„ÄÇ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#numbers.formatDecimal(num,3,2)&#125;$&#123;#numbers.arrayFormatDecimal(numArray,3,2)&#125;$&#123;#numbers.listFormatDecimal(numList,3,2)&#125;$&#123;#numbers.setFormatDecimal(numSet,3,2)&#125;/* * ËÆæÁΩÆÊúÄÂ∞èÊï¥Êï∞Êï∞Â≠óÂíå(Á≤æÁ°ÆÁöÑ)Â∞èÊï∞‰ΩçÊï∞, ‰ª•ÂèäÂ∞èÊï∞ÂàÜÈöîÁ¨¶„ÄÇ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#numbers.formatDecimal(num,3,2,'COMMA')&#125;$&#123;#numbers.arrayFormatDecimal(numArray,3,2,'COMMA')&#125;$&#123;#numbers.listFormatDecimal(numList,3,2,'COMMA')&#125;$&#123;#numbers.setFormatDecimal(numSet,3,2,'COMMA')&#125;/* * ËÆæÁΩÆÊúÄÂ∞èÊï¥Êï∞Êï∞Â≠óÂíå(Á≤æÁ°ÆÁöÑ)ÂçÅËøõÂà∂Êï∞Â≠ó, ‰ª•ÂèäÂçÉ‰ΩçÂíåÂçÅËøõÂà∂ÂàÜÈöîÁ¨¶„ÄÇ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#numbers.formatDecimal(num,3,'POINT',2,'COMMA')&#125;$&#123;#numbers.arrayFormatDecimal(numArray,3,'POINT',2,'COMMA')&#125;$&#123;#numbers.listFormatDecimal(numList,3,'POINT',2,'COMMA')&#125;$&#123;#numbers.setFormatDecimal(numSet,3,'POINT',2,'COMMA')&#125;/* * ========================== * ÂÆûÁî®ÊñπÊ≥ï * ========================== *//* * ÂàõÂª∫‰∏Ä‰∏™‰ªéxÂà∞yÁöÑÊï¥Êï∞Â∫èÂàó(Êï∞ÁªÑ) */$&#123;#numbers.sequence(from,to)&#125;$&#123;#numbers.sequence(from,to,step)&#125;ÊØîÂ¶ÇÔºö1234&lt;p th:utext="$&#123;#numbers.formatInteger(0.1024,3)&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1.024,3)&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(10.24,3)&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(102.4,3)&#125;"&gt;&lt;/p&gt;È°µÈù¢ËæìÂá∫Ôºö1234567891011&lt;p th:utext="$&#123;#numbers.formatInteger(1.024,2,'POINT')&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1024,3,'POINT')&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1024,10,'POINT')&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1.024,2,'COMMA')&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1024,3,'COMMA')&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1024,10,'COMMA')&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1.024,2,'WHITESPACE')&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1024,3,'WHITESPACE')&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;#numbers.formatInteger(1024,10,'WHITESPACE')&#125;"&gt;&lt;/p&gt;È°µÈù¢ËæìÂá∫ÔºöPOINTÊåáÁöÑÊòØ.ÔºåCOMMAÊåáÁöÑÊòØ,ÔºåWHITESPACEÊåáÁöÑÊòØÁ©∫Ê†º„ÄÇ‰∏â‰∏™Êï∞‰Ωç‰∏∫‰∏ÄÁªÑÔºå‰ΩøÁî®ÊåáÂÆöÁöÑÂàÜÈöîÁ¨¶ÂàÜÂâ≤„ÄÇÊØîÂ¶Ç1.024Âπ∂‰∏çÊòØÂ∞èÊï∞ÔºåËÄåÊòØ‰ΩøÁî®‰∫Ü.ÂàÜÈöîÁöÑ1024„ÄÇBooleansÂ∑•ÂÖ∑Á±ª123456789101112131415161718192021222324252627282930313233/* * ËØÑ‰º∞Êù°‰ª∂, Á±ª‰ºº‰∫é th:if Ê†áÁ≠æ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#bools.isTrue(obj)&#125;$&#123;#bools.arrayIsTrue(objArray)&#125;$&#123;#bools.listIsTrue(objList)&#125;$&#123;#bools.setIsTrue(objSet)&#125;/* * Áî®Âê¶ÂÆöÊù•ËØÑ‰º∞Êù°‰ª∂ * ‰πüÂêåÊ†∑ÈÄÇÁî®‰∫éÊï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà */$&#123;#bools.isFalse(cond)&#125;$&#123;#bools.arrayIsFalse(condArray)&#125;$&#123;#bools.listIsFalse(condList)&#125;$&#123;#bools.setIsFalse(condSet)&#125;/* * ËØÑ‰º∞Êù°‰ª∂Âπ∂ÊâßË°å‰∏éÊìç‰Ωú * Êé•Êî∂Êï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà‰Ωú‰∏∫ÂèÇÊï∞ */$&#123;#bools.arrayAnd(condArray)&#125;$&#123;#bools.listAnd(condList)&#125;$&#123;#bools.setAnd(condSet)&#125;/* * ËØÑ‰º∞Êù°‰ª∂Âπ∂ÊâßË°åÊàñÊìç‰Ωú * Êé•Êî∂Êï∞ÁªÑ„ÄÅÂàóË°®ÊàñÈõÜÂêà‰Ωú‰∏∫ÂèÇÊï∞ */$&#123;#bools.arrayOr(condArray)&#125;$&#123;#bools.listOr(condList)&#125;$&#123;#bools.setOr(condSet)&#125;ArraysÂ∑•ÂÖ∑Á±ª12345678910111213141516171819202122232425262728293031/* * ËΩ¨Êç¢‰∏∫Êï∞ÁªÑ, ËØïÂõæÊé®Êñ≠Êï∞ÁªÑÁªÑ‰ª∂Á±ª„ÄÇÊ≥®ÊÑè, Â¶ÇÊûúÁªìÊûúÊï∞ÁªÑ‰∏∫Á©∫, ÊàñËÄÖÁõÆÊ†áÂØπË±°ÁöÑÂÖÉÁ¥†‰∏çÊòØÂÖ®ÈÉ®Áõ∏ÂêåÁöÑÁ±ª, Âàô * Ê≠§ÊñπÊ≥ïÂ∞ÜËøîÂõûObject []„ÄÇ */$&#123;#arrays.toArray(object)&#125;/* * ËΩ¨Êç¢‰∏∫ÊåáÂÆöÁªÑ‰ª∂Á±ªÁöÑÊï∞ÁªÑ„ÄÇ */$&#123;#arrays.toStringArray(object)&#125;$&#123;#arrays.toIntegerArray(object)&#125;$&#123;#arrays.toLongArray(object)&#125;$&#123;#arrays.toDoubleArray(object)&#125;$&#123;#arrays.toFloatArray(object)&#125;$&#123;#arrays.toBooleanArray(object)&#125;/** ËÆ°ÁÆóÊï∞ÁªÑÈïøÂ∫¶ */$&#123;#arrays.length(array)&#125;/* * Ê£ÄÊü•Êï∞ÁªÑÊòØÂê¶‰∏∫Á©∫ */$&#123;#arrays.isEmpty(array)&#125;/* * Ê£ÄÊü•Êï∞ÁªÑ‰∏≠ÊòØÂê¶ÂåÖÂê´ÂÖÉÁ¥†ÊàñÂÖÉÁ¥†ÈõÜÂêà */$&#123;#arrays.contains(array, element)&#125;$&#123;#arrays.containsAll(array, elements)&#125;ListsÂ∑•ÂÖ∑Á±ª1234567891011121314151617181920212223242526/* * ËΩ¨Âåñ‰∏∫ list */$&#123;#lists.toList(object)&#125;/* * ËÆ°ÁÆóÂ§ßÂ∞è */$&#123;#lists.size(list)&#125;/* */$&#123;#lists.isEmpty(list)&#125;/* * Ê£ÄÊü•list‰∏≠ÊòØÂê¶ÂåÖÂê´ÂÖÉÁ¥†ÊàñÂÖÉÁ¥†ÈõÜÂêà */$&#123;#lists.contains(list, element)&#125;$&#123;#lists.containsAll(list, elements)&#125;/* * ÊéíÂ∫èÁªôÂÆöÂàóË°®ÁöÑÂâØÊú¨„ÄÇÂàóË°®ÁöÑÊàêÂëòÂøÖÈ°ª * ÂÆûÁé∞comparable, ÊàñËÄÖÂøÖÈ°ªÂÆö‰πâcomparator„ÄÇ */$&#123;#lists.sort(list)&#125;$&#123;#lists.sort(list, comparator)&#125;SetsÂ∑•ÂÖ∑Á±ª1234567891011121314151617181920/* * ËΩ¨Âåñ‰∏∫ to set */$&#123;#sets.toSet(object)&#125;/* * ËÆ°ÁÆóÂ§ßÂ∞è */$&#123;#sets.size(set)&#125;/* * Ê£ÄÊü•setÊòØÂê¶‰∏∫empty */$&#123;#sets.isEmpty(set)&#125;/* * Ê£ÄÊü•set‰∏≠ÊòØÂê¶ÂåÖÂê´ÂÖÉÁ¥†ÊàñÂÖÉÁ¥†ÈõÜÂêà */$&#123;#sets.contains(set, element)&#125;$&#123;#sets.containsAll(set, elements)&#125;MapsÂ∑•ÂÖ∑Á±ª1234567891011121314151617/* * ËÆ°ÁÆóÂ§ßÂ∞è */$&#123;#maps.size(map)&#125;/* * Ê£ÄÊü•mapÊòØÂê¶‰∏∫Á©∫ */$&#123;#maps.isEmpty(map)&#125;/* * Ê£ÄÊü•map‰∏≠ÊòØÂê¶ÂåÖÂê´key/sÊàñvalue/s */$&#123;#maps.containsKey(map, key)&#125;$&#123;#maps.containsAllKeys(map, keys)&#125;$&#123;#maps.containsValue(map, value)&#125;$&#123;#maps.containsAllValues(map, value)&#125;Ê≥®ÊÑè‰∫ãÈ°πÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂú®‰ΩøÁî®Â∑•ÂÖ∑Á±ªÂØπÊüê‰∏™Ë°®ËææÂºèËøõË°åÂ§ÑÁêÜÊó∂ÂÄôÔºå‰Ω†ÂèØËÉΩ‰ºöÂÜôÊàêÔºö1$&#123;#strings.isEmpty($&#123;session.user.name&#125;)&#125;„ÄÇÂÆûÈôÖ‰∏äËøôÁßçÂÜôÊ≥ïÊòØÈîôËØØÁöÑÔºåÂ∞ÜÊäõÂá∫ÂºÇÂ∏∏„ÄÇÊ≠£Á°ÆÁöÑÂÜôÊ≥ï‰∏∫Ôºö1$&#123;#strings.isEmpty(session.user.name)&#125;„ÄÇ]]></content>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf Ê†áÂáÜË°®ËææÂºèËØ≠Ê≥ï]]></title>
    <url>%2FThymeleaf-Standard-Expression-Syntax.html</url>
    <content type="text"><![CDATA[ËÆ∞ÂΩïÂá†‰∏™ÊØîËæÉÂÆπÊòìÂøòËÆ∞ÁöÑThymeleafÊ†áÂáÜË°®ËææÂºèËØ≠Ê≥ïÔºå‰æãÂ≠êÂü∫‰∫éSpring MVC„ÄÇÂèòÈáèË°®ËææÂºè${ }Âú®ÊéßÂà∂Âô®‰∏≠ÂæÄÈ°µÈù¢‰º†ÈÄíÂá†‰∏™ÂèòÈáèÔºö1234567891011121314@Controllerpublic class IndexController &#123; @RequestMapping(value="/index",method=RequestMethod.GET) public String index(HttpSession session, Model model)&#123; User user = new User(); user.setName("KangKang"); user.setAge(25); user.setHabbit(new String[]&#123;"football","basketball","swim"&#125;); session.setAttribute("user", user); model.addAttribute(user); return "index"; &#125;&#125;Âú®È°µÈù¢‰∏≠‰ΩøÁî®ÂèòÈáèË°®ËææÂºè${}Êù•Ëé∑ÂèñÂÆÉ‰ª¨Ôºö1234&lt;p th:utext="$&#123;user.name&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;session.user.getName()&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;session.user.upcaseName()&#125;"&gt;&lt;/p&gt;&lt;p th:utext="$&#123;user.habbit[0]&#125;"&gt;&lt;/p&gt;ÂèØ‰ª•ÁúãÂà∞ÂèòÈáèË°®ËææÂºè‰∏ç‰ΩÜÂèØ‰ª•Ëé∑ÂèñÂèòÈáèÁöÑÂ±ûÊÄßÂÄºÔºåÁîöËá≥ËøòÂèØ‰ª•ËÆøÈóÆÂèòÈáèÁöÑÊñπÊ≥ïÔºàgetName()ÂíåupcaseName()Ôºâ„ÄÇsession‰ª£Ë°®HttpSessionÂØπË±°„ÄÇÈÄâÊã©Ë°®ËææÂºè*{ }ÈÄâÊã©Ë°®ËææÂºèÁöÑ‰ΩøÁî®ÊñπÊ≥ïÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345&lt;div th:object="$&#123;session.user&#125;"&gt; &lt;p&gt;name: &lt;span th:text="*&#123;name&#125;"&gt;&lt;/span&gt;&lt;/p&gt; &lt;p&gt;age: &lt;span th:text="*&#123;age&#125;"&gt;&lt;/span&gt;&lt;/p&gt; &lt;p&gt;habbit: &lt;span th:text="*&#123;habbit[0]&#125;"&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;*{}‰ª£Êåáth:objectÊâÄÊåáÂÆöÁöÑÂØπË±°ÔºåÂç≥${session.user}„ÄÇURLÈìæÊé•Ë°®ËææÂºè@{ }URLÈìæÊé•Ë°®ËææÂºè‰ºöÁªôURLËá™Âä®Ê∑ªÂä†‰∏ä‰∏ãÊñáÁöÑÂêçÂ≠ó„ÄÇÊØîÂ¶ÇÔºö1&lt;a th:href="@&#123;/main&#125;"&gt;main&lt;/a&gt;Ëß£ÊûêÂêéÁöÑhrefÂÄº‰∏∫http://localhost:8080/thymeleaf/main„ÄÇÂΩìÈúÄË¶ÅÂú®URL‰∏≠‰º†ÈÄíÂèÇÊï∞Êó∂ÔºåÊØîÂ¶ÇËøôÊ†∑http://localhost:8080/thymeleaf/main?name=KangKangÔºåÂèØ‰ª•Â¶Ç‰∏ãÊìç‰ΩúÔºö1&lt;a th:href="@&#123;/main(name=$&#123;session.user.name&#125;)&#125;"&gt;main&lt;/a&gt;‰º†ÈÄíÂ§ö‰∏™ÂèÇÊï∞Ôºö1&lt;a th:href="@&#123;/main(name=$&#123;session.user.name&#125;,age=$&#123;session.user.age&#125;)&#125;"&gt;main&lt;/a&gt;Ë∑ØÂæÑÂèòÈáèÁöÑÂÜôÊ≥ïÔºö1&lt;a th:href="@&#123;/main/&#123;name&#125;(name=$&#123;session.user.name&#125;)&#125;"&gt;main&lt;/a&gt;ÂêéÁ´ØÊé•ÂèóË∑ØÂæÑÂèòÈáèÔºö12345@RequestMapping(value="main/&#123;name&#125;")public String main(@PathVariable String name)&#123; System.out.println("pathValue: "+name); return "main";&#125;Â≠óÈù¢ÈáèÊñáÊú¨Â∏∏ÈáèÊñáÊú¨Â∏∏ÈáèÊåáÁöÑÊòØÂçïÂºïÂè∑‰πãÈó¥ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊØîÂ¶ÇÔºö1&lt;p th:text="'Welcome KangKang'"&gt;&lt;/p&gt;Êï∞Â≠óÂ∏∏Èáè12&lt;p&gt;The year is &lt;span th:text="2017"&gt;1492&lt;/span&gt;.&lt;/p&gt;&lt;p&gt;In two years, it will be &lt;span th:text="2017 + 2"&gt;1494&lt;/span&gt;.&lt;/p&gt;BooleanÁ±ªÂûãÁöÑÂ∏∏ÈáèBooleanÁ±ªÂûãÁöÑÂ∏∏ÈáèÂ∞±ÊòØtrueÂíåfalse„ÄÇ‰æãÂ¶ÇÔºö1&lt;div th:if="$&#123;user.isAdmin()&#125; == false"&gt; ...NullÂ∏∏Èáè1&lt;div th:if="$&#123;variable.something&#125; == null"&gt; ...Â≠óÈù¢ÈáèÊõøÊç¢Èô§‰∫Ü‰ΩøÁî®&#39;...&#39; + ${}Êù•ËøûÊé•Â≠óÈù¢ÈáèÂíåÂèòÈáèÂ§ñÔºåËøòÂèØ‰ª•‰ΩøÁî®|...|Êù•‰ª£ÊõøÔºåÊØîÂ¶ÇÔºö1&lt;p th:utext="|hello,$&#123;session.user.name&#125;,your age is $&#123;session.user.age&#125;|"&gt;&lt;/p&gt;Á≠â‰ª∑‰∫éÔºö1&lt;p th:utext="'hello,'+$&#123;session.user.name&#125;+',your age is '+$&#123;session.user.age&#125;"&gt;&lt;/p&gt;Âú®| ... |Â≠óÈù¢ÊõøÊç¢‰∏≠Âè™ÂÖÅËÆ∏ÊúâÂèòÈáèË°®ËææÂºè${...}Êù°‰ª∂Ë°®ËææÂºèÊù°‰ª∂Ë°®ËææÂºèÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏âÁõÆËøêÁÆóÁ¨¶„ÄÇÊØîÂ¶ÇÔºö123&lt;tr th:class="$&#123;row.even&#125;? 'even' : 'odd'"&gt; ...&lt;/tr&gt;Êù°‰ª∂Ë°®ËææÂºè‰πüÂèØ‰ª•‰ΩøÁî®Êã¨Âè∑ÂµåÂ•óÔºö123&lt;tr th:class="$&#123;row.even&#125;? ($&#123;row.first&#125;? 'first' : 'even') : 'odd'"&gt; ...&lt;/tr&gt;elseË°®ËææÂºè‰πüÂèØ‰ª•ÁúÅÁï•ÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÊù°‰ª∂‰∏∫falseÔºåÂàôËøîÂõûÁ©∫ÂÄºÔºö123&lt;tr th:class="$&#123;row.even&#125;? 'even'"&gt; ...&lt;/tr&gt;ÈªòËÆ§Ë°®ËææÂºèÈªòËÆ§Ë°®ËææÂºèÊòØ‰∏ÄÁßçÁâπÊÆäÁ±ªÂûãÁöÑÊù°‰ª∂ÂÄºÔºå‰∏çÂ∏¶thenÈÉ®ÂàÜ„ÄÇÊØîÂ¶ÇÔºö1&lt;p th:utext="$&#123;session.user.sex&#125; ?: 'sex is unknown'"&gt;&lt;/p&gt;Ë°®Á§∫ÔºåÂΩì${session.user.sex}‰∏∫nullÊó∂ÔºåÂÄº‰∏∫sex is unknownÔºåÂê¶Âàô‰∏∫Ë°®ËææÂºèÁöÑÂÄº„ÄÇËøôÂ∞±Â•ΩÂÉè‰∏∫Ë°®ËææÂºèÊåáÂÆö‰∫Ü‰∏Ä‰∏™ÈªòËÆ§ÂÄº‰∏ÄÊ†∑„ÄÇÂÖ∂Á≠â‰ª∑‰∫éÔºö1&lt;p th:utext=&quot;$&#123;session.user.sex != null&#125; ? $&#123;session.user.sex&#125;: &apos;sex is unknown&apos;&quot;&gt;&lt;/p&gt;Êõ¥ËØ¶ÁªÜÁöÑÂÜÖÂÆπÂèØÂèÇËÄÉÂÆòÊñπÊñáÊ°£Ôºöhttp://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#standard-expression-syntax]]></content>
      <tags>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâannotation]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89annotation.html</url>
    <content type="text"><![CDATA[meta-annotationJava‰ªéJDK5.0ÂºÄÂßã‰æøÊèê‰æõ‰∫ÜÂõõ‰∏™meta-annotationÁî®‰∫éËá™ÂÆö‰πâÊ≥®Ëß£ÁöÑÊó∂ÂÄô‰ΩøÁî®ÔºåËøôÂõõ‰∏™Ê≥®Ëß£‰∏∫Ôºö@TargetÔºå@RetentionÔºå@Documented Âíå@Inherited„ÄÇ@TargetÔºöÁî®‰∫éÊèèËø∞Ê≥®Ëß£ÁöÑ‰ΩøÁî®ËåÉÂõ¥ÔºàÂç≥ÔºöË¢´ÊèèËø∞ÁöÑÊ≥®Ëß£ÂèØ‰ª•Áî®Âú®‰ªÄ‰πàÂú∞ÊñπÔºâÔºåÂÖ∂Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö1234567@Documented@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.ANNOTATION_TYPE)public @interface Target &#123; ElementType[] value();&#125;ÂèØËßÅ@Target Ê≥®Ëß£Âè™ÊúâÂîØ‰∏ÄÊàêÂëòvalueÔºåÁ±ªÂûã‰∏∫ElementTypeÊï∞ÁªÑ„ÄÇÊü•ÁúãElementTypeÁöÑÊ∫êÁ†ÅÂèØ‰ª•ÂèëÁé∞ÔºåElementTypeÂèØÂèñÁöÑÂÄºÊúâÔºöCONSTRUCTORÔºöÁî®‰∫éÊèèËø∞ÊûÑÈÄ†Âô®ÔºõFIELDÔºöÁî®‰∫éÊèèËø∞ÊàêÂëòÂèòÈáèÔºõLOCAL_VARIABLEÔºöÁî®‰∫éÊèèËø∞Â±ÄÈÉ®ÂèòÈáèÔºõMETHODÔºöÁî®‰∫éÊèèËø∞ÊñπÊ≥ïÔºõPACKAGEÔºöÁî®‰∫éÊèèËø∞ÂåÖÔºõPARAMETERÔºöÁî®‰∫éÊèèËø∞ÂèÇÊï∞ÔºõTYPEÔºöÁî®‰∫éÊèèËø∞Á±ª„ÄÅÊé•Âè£(ÂåÖÊã¨Ê≥®Ëß£Á±ªÂûã) ÊàñenumÂ£∞Êòé„ÄÇ@RetentionÔºöÊåáÂÆöË¢´ÊèèËø∞ÁöÑÊ≥®Ëß£Âú®‰ªÄ‰πàËåÉÂõ¥ÂÜÖÊúâÊïà„ÄÇÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö1234567@Documented@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.ANNOTATION_TYPE)public @interface Retention &#123; RetentionPolicy value();&#125;ÂÖ∂‰∏≠RetentionPolicyÂèØÂèñÁöÑÂÄºÊúâÔºöSOURCEÔºöÂú®Ê∫êÊñá‰ª∂‰∏≠ÊúâÊïàÔºàÂç≥Ê∫êÊñá‰ª∂‰øùÁïôÔºâÔºõCLASSÔºöÂú®classÊñá‰ª∂‰∏≠ÊúâÊïàÔºàÂç≥class‰øùÁïôÔºâÔºõRUNTIMEÔºöÂú®ËøêË°åÊó∂ÊúâÊïàÔºàÂç≥ËøêË°åÊó∂‰øùÁïôÔºâ„ÄÇ@DocumentedÔºöÊòØ‰∏Ä‰∏™Ê†áËÆ∞Ê≥®Ëß£ÔºåÊú®ÊúâÊàêÂëòÔºåÁî®‰∫éÊèèËø∞ÂÖ∂ÂÆÉÁ±ªÂûãÁöÑannotationÂ∫îËØ•Ë¢´‰Ωú‰∏∫Ë¢´Ê†áÊ≥®ÁöÑÁ®ãÂ∫èÊàêÂëòÁöÑÂÖ¨ÂÖ±APIÔºåÂõ†Ê≠§ÂèØ‰ª•Ë¢´‰æãÂ¶ÇjavadocÊ≠§Á±ªÁöÑÂ∑•ÂÖ∑ÊñáÊ°£Âåñ„ÄÇ@InheritedÔºöÂÖÉÊ≥®Ëß£ÊòØ‰∏Ä‰∏™Ê†áËÆ∞Ê≥®Ëß£Ôºå@InheritedÈòêËø∞‰∫ÜÊüê‰∏™Ë¢´Ê†áÊ≥®ÁöÑÁ±ªÂûãÊòØË¢´ÁªßÊâøÁöÑ„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™‰ΩøÁî®‰∫Ü@Inherited‰øÆÈ•∞ÁöÑannotationÁ±ªÂûãË¢´Áî®‰∫é‰∏Ä‰∏™classÔºåÂàôËøô‰∏™annotationÂ∞ÜË¢´Áî®‰∫éËØ•classÁöÑÂ≠êÁ±ª„ÄÇËá™ÂÆö‰πâannotationÁî®@interface Ëá™ÂÆö‰πâÊ≥®Ëß£Êó∂ÔºåËá™Âä®ÁªßÊâø‰∫Üjava.lang.annotation.AnnotationÊé•Âè£ÔºåÁî±ÁºñËØëÁ®ãÂ∫èËá™Âä®ÂÆåÊàêÂÖ∂‰ªñÁªÜËäÇ„ÄÇÂú®ÂÆö‰πâÊ≥®Ëß£Êó∂Ôºå‰∏çËÉΩÁªßÊâøÂÖ∂‰ªñÁöÑÊ≥®Ëß£ÊàñÊé•Âè£„ÄÇ@interface Áî®Êù•Â£∞Êòé‰∏Ä‰∏™Ê≥®Ëß£ÔºåÂÖ∂‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÊñπÊ≥ïÂÆûÈôÖ‰∏äÊòØÂ£∞Êòé‰∫Ü‰∏Ä‰∏™ÊàêÂëò„ÄÇÊñπÊ≥ïÁöÑÂêçÁß∞Â∞±ÊòØÊàêÂëòÁöÑÂêçÁß∞ÔºåËøîÂõûÂÄºÁ±ªÂûãÂ∞±ÊòØÊàêÂëòÁöÑÁ±ªÂûã„ÄÇÂèØ‰ª•ÈÄöËøádefaultÊù•Â£∞ÊòéÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄº„ÄÇËá™ÂÆö‰πâÊ≥®Ëß£ÁöÑÂü∫Êú¨Ê†ºÂºè‰∏∫Ôºö123public @interface AnnotationName &#123; // ...&#125;AnnotationÁöÑÊàêÂëòÂÆö‰πâÂøÖÈ°ªÊª°Ë∂≥‰ª•‰∏ã‰∏âÁÇπÔºöÊàêÂëòÂè™ËÉΩÁî®publicÊàñÈªòËÆ§(default)Ëøô‰∏§‰∏™ËÆøÈóÆÊùÉ‰øÆÈ•∞ÔºõÊàêÂëòÁöÑÁ±ªÂûãÂè™ËÉΩÊòØÂü∫Êú¨Á±ªÂûãÔºåStringÔºåEnumÔºåClassÔºåAnnotation‰ª•ÂèäÂÆÉ‰ª¨ÁöÑÊï∞ÁªÑÁ±ªÂûãÔºõÂ¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™ÊàêÂëòÔºåÊúÄÂ•ΩÂ∞ÜÂÖ∂ÂêçÁß∞ËÆæ‰∏∫value„ÄÇAnnotatedElement‰ª£Ë°®Ë¢´Ê≥®Ëß£ÁöÑÂÖÉÁ¥†ÔºåÂÖ∂ÂåÖÂê´ËÆ∏Â§öÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö‚Ä¶ÂÖ∂‰∏≠‰∏ªË¶ÅÁöÑÂá†‰∏™ÊñπÊ≥ïÊúâÔºö1234&lt;T extends Annotation&gt; T getAnnotation(Class&lt;T&gt; annotationType) // Ê†πÊçÆannotationTypeËé∑ÂèñÊ≥®Ëß£ÂØπË±°Annotation[] getAnnotations() // Ëé∑ÂèñÊâÄÊúâÊ≥®Ëß£boolean isAnnotationPresent(Class&lt;T&gt; annotationType) // Âà§Êñ≠ÂΩìÂâçÂÖÉÁ¥†ÊòØÂê¶Ë¢´annotationTypeÊ≥®Ëß£Annotation[] getDeclareAnnotations() // ‰∏égetAnnotations() Á±ª‰ººÔºå‰ΩÜÊòØ‰∏çÂåÖÊã¨Áà∂Á±ª‰∏≠Ë¢´Inherited‰øÆÈ•∞ÁöÑÊ≥®Ëß£ÂÆûÊàòÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìË°®ÂØπÂ∫îÁöÑPOJOË¢´‰∏Ä‰∫õËá™ÂÆö‰πâÊ≥®Ëß£ÊâÄÊ†áËÆ∞ÔºåÁé∞Âú®Ë¶ÅÊ†πÊçÆËøô‰∏™POJOËá™Âä®ÁîüÊàêÂàõÂª∫Â∫ìË°®ÁöÑSQLËØ≠Âè•„ÄÇÂÖ∂‰∏≠POJO‰ª£Á†ÅÂ¶Ç‰∏ãÔºö1234567891011@Table(name = "Student")class Bean &#123; @Column(name = "age", length = 3) int age; @Column(name = "userName", length = 10) String name; @Column(name = "birthday", defaultValue = "sysdate") Date birthday;&#125;ÈúÄË¶ÅÁîüÊàêÁ±ª‰ººÂ¶Ç‰∏ãÁöÑSQLËØ≠Âè•Ôºö1create table Student(age NUMBER(3),userName VARCHAR2(10),birthday DATE default sysdate)BeanÁ±ªË¢´@Table Ê≥®Ëß£ÊâÄÊ†áËÆ∞ÔºåÊâÄ‰ª•ÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™ElementType.TYPEÁ∫ßÂà´ÁöÑÊ≥®Ëß£Ôºö12345@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.TYPE)@interface Table &#123; String name(); // nameÁî®Êù•ËÆæÁΩÆË°®Âêç&#125;ËÄå@Column Ê≥®Ëß£Ê†áÊ≥®‰∫éBeanÁöÑÊàêÂëòÂèòÈáèÔºåÂπ∂‰∏îÂåÖÂê´‰∏â‰∏™ÊàêÂëòÔºö1234567@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.FIELD)@interface Column &#123; String name() default ""; // nameÁî®Êù•ËÆæÁΩÆÂ≠óÊÆµÂêç int length() default 0; // lengthÁî®Êù•ËÆæÁΩÆÂ≠óÊÆµÈïøÂ∫¶ String defaultValue() default ""; // defaultValueÁî®Êù•ËÆæÁΩÆÈªòËÆ§ÂÄº&#125;Êé•‰∏ãÊù•ÂÆö‰πâ‰∏§‰∏™ÊñπÊ≥ïgetTableName(Class&lt;?&gt; bean)ÂíågetColumns(Class&lt;?&gt; bean)ÔºåÂàÜÂà´Áî®‰∫éËé∑Âèñ@Table Ê≥®Ëß£‰∏≠ÁöÑË°®ÂêçÂíåË¢´@Column Ê≥®Ëß£Ê†áËÆ∞ÁöÑÊàêÂëòÂèòÈáè‰ø°ÊÅØÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879private static String getTableName(Class&lt;?&gt; bean) &#123; String name = null; // Âà§Êñ≠beanÊòØÂê¶Ë¢´@TableÊ≥®Ëß£ if (bean.isAnnotationPresent(Table.class)) &#123; // Ëé∑ÂèñÊ≥®Ëß£ÂØπË±° Annotation tableAnnotation = bean.getAnnotation(Table.class); try &#123; // Ëé∑Âèñ@TableÊ≥®Ëß£ÊâÄÂØπÂ∫îÁöÑname Method method = Table.class.getMethod("name"); name = (String) method.invoke(tableAnnotation); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; return name;&#125;private static List&lt;ColumnBean&gt; getColumns(Class&lt;?&gt; bean) &#123; List&lt;ColumnBean&gt; columns = new ArrayList&lt;ColumnBean&gt;(); Field[] fields = bean.getDeclaredFields(); if (fields != null) &#123; // Ë°®ÈáåÊâÄÊúâÊàêÂëòÂèòÈáèÔºàfieldsÔºâ,Ëé∑ÂèñÂÖ∂Ê≥®Ëß£‰ø°ÊÅØ for (int i = 0; i &lt; fields.length; i++) &#123; Field field = fields[i]; // Âà§Êñ≠ÊòØÂê¶Ë¢´@ColumnÊ≥®Ëß£Ê†áËÆ∞ if (field.isAnnotationPresent(Column.class)) &#123; String name = null; int length = 0; String defaultValue = null; String type = null; // ÂàÜÂà´Ëé∑Âèñ@ColumnÊ≥®Ëß£ÈáåÊàêÂëòÁöÑÂÄº Annotation columnAnnotation = field.getAnnotation(Column.class); try &#123; Method nameMethod = Column.class.getMethod("name"); name = (String) nameMethod.invoke(columnAnnotation); Method rangeMethod = Column.class.getMethod("length"); length = (Integer) rangeMethod.invoke(columnAnnotation); Method defaultValueMethod = Column.class.getMethod("defaultValue"); defaultValue = (String) defaultValueMethod.invoke(columnAnnotation); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; // Âà§Êñ≠Á±ªÂûãÔºåJavaÁ±ªÂûãËΩ¨Êç¢‰∏∫Êï∞ÊçÆÂ∫ìÁ±ªÂûã if (int.class.isAssignableFrom(field.getType()) || Integer.class.isAssignableFrom(field.getType())) &#123; type = "NUMBER"; &#125; else if (String.class.isAssignableFrom(field.getType())) &#123; type = "VARCHAR2"; &#125; else if (Date.class.isAssignableFrom(field.getType()))&#123; type = "DATE"; &#125;else &#123; throw new RuntimeException("unspported type=" + field.getType().getSimpleName()); &#125; columns.add(new ColumnBean(type, name, length, defaultValue)); &#125; &#125; &#125; return columns;&#125;// Áî®‰∫éÊèèËø∞Columnprivate static class ColumnBean &#123; final String type; final String name; final int length; final String defaultValue; public ColumnBean(String type, String name, int length, String defaultValue) &#123; this.type = type; this.name = name; this.length = length; this.defaultValue = defaultValue; &#125;&#125;ÊúÄÂêéÁºñÂÜôÁîüÊàêSQLÁöÑÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233343536public static String createTable(Class&lt;?&gt; bean) &#123; String tableName = getTableName(bean); List&lt;ColumnBean&gt; columns = getColumns(bean); if (tableName != null &amp;&amp; !tableName.equals("") &amp;&amp; !columns.isEmpty()) &#123; StringBuilder createTableSql = new StringBuilder("create table "); // ÊãºÊé•Ë°®Âêç createTableSql.append(tableName); createTableSql.append("("); //ÊãºÊé•Â≠óÊÆµ‰ø°ÊÅØ for (int i = 0; i &lt; columns.size(); i++) &#123; ColumnBean column = columns.get(i); createTableSql.append(column.name); createTableSql.append(" "); createTableSql.append(column.type); int length = column.length; if(length != 0)&#123; createTableSql.append("("); createTableSql.append(column.length); createTableSql.append(")"); &#125; String defaultValue = column.defaultValue; if(defaultValue != null &amp;&amp; defaultValue.length() != 0)&#123; createTableSql.append(" default "); createTableSql.append(defaultValue); &#125; if (i != columns.size() - 1) &#123; createTableSql.append(","); &#125; &#125; createTableSql.append(")"); return createTableSql.toString(); &#125;else &#123; throw new RuntimeException("table's name is null"); &#125;&#125;ÊµãËØï12345public class Test &#123; public static void main(String[] args) &#123; System.out.println(TestUtils.createTable(Bean.class)); &#125;&#125;ÁîüÊàêÁöÑÁªìÊûúÂíåÈ¢ÑÊúü‰∏ÄËá¥ÊÄªÁªì‰∏äËø∞ÁöÑËøáÁ®ãÂèØÂΩíÁ∫≥‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§ÔºöÂà§Êñ≠AnnotatedElementÊòØÂê¶Ë¢´ÊüêÊ≥®Ëß£ÊâÄÊ†áËÆ∞ÔºöAnnotatedElement.isAnnotationPresent(SomeAnnotation.class)ÔºõÊòØÁöÑËØùÔºåËé∑ÂèñËØ•Ê≥®Ëß£ÂØπË±°ÔºöAnnotation annotation = bean.getAnnotation(SomeAnnotation.class);ÔºõÊ†πÊçÆËØ•Ê≥®Ëß£ÂØπË±°Ëé∑ÂèñÊüê‰∏™ÊàêÂëòÂèÇÊï∞ÔºàÊØîÂ¶ÇnameÔºâÔºöMethod method = SomeAnnotation.class.getMethod(&quot;name&quot;);ÔºõÂà©Áî®ÂèçÂ∞ÑÊú∫Âà∂ÔºåËé∑ÂèñËØ•Ê≥®Ëß£‰∏≠ÁöÑÊüêÊàêÂëòÁöÑÂÄºÔºöString name = (String) method.invoke(annotation);„ÄÇSource Code]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSVËØªÂÜô]]></title>
    <url>%2FCSV%E8%AF%BB%E5%86%99.html</url>
    <content type="text"><![CDATA[CSVÊòØ‰ª•ÈÄóÂè∑Èó¥ÈöîÁöÑÊñáÊú¨Êñá‰ª∂„ÄÇÂΩìÂØºÂá∫ÁöÑÊï∞ÊçÆ‰∏çÊ∂âÂèäÂÖ¨ÂºèÂíåÂ§çÊùÇÁöÑË°®Ê†ºÊ†∑ÂºèÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®javacsvÊù•‰ª£ÊõøPOIÔºå‰ª•‰æøËäÇÁúÅÊÄßËÉΩ„ÄÇÂºïÂÖ•javacsv‰æùËµñÔºö123456&lt;!-- https://mvnrepository.com/artifact/net.sourceforge.javacsv/javacsv --&gt;&lt;dependency&gt; &lt;groupId&gt;net.sourceforge.javacsv&lt;/groupId&gt; &lt;artifactId&gt;javacsv&lt;/artifactId&gt; &lt;version&gt;2.0&lt;/version&gt;&lt;/dependency&gt;CsvWriter12345678910111213141516171819202122232425import java.nio.charset.Charset;import com.csvreader.CsvWriter;public class CsvWrite &#123; public static void csvWrite()&#123; String csvFilePath = "D://test.csv"; try &#123; CsvWriter csvWriter = new CsvWriter(csvFilePath, ',', Charset.forName("UTF-8")); // Ë°®Â§¥ String[] csvHeaders = &#123; "ÁºñÂè∑", "ÂßìÂêç", "Âπ¥ÈæÑ" &#125;; csvWriter.writeRecord(csvHeaders); // ÂÜÖÂÆπ for (int i = 0; i &lt; 5; i++) &#123; String[] csvContent = &#123; i + "", "userName", "1" + i &#125;; csvWriter.writeRecord(csvContent); &#125; csvWriter.close(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; public static void main(String[] args) &#123; CsvWrite.csvWrite(); &#125;&#125;ÁîüÊàêÊñá‰ª∂Â¶Ç‰∏ãÔºöCsvReader12345678910111213141516171819202122232425262728293031323334353637import java.io.IOException;import java.nio.charset.Charset;import java.util.ArrayList;import com.csvreader.CsvReader;public class CsvRead &#123; public static void readCSV() &#123; ArrayList&lt;String[]&gt; csvFileList = new ArrayList&lt;String[]&gt;(); String csvFilePath = "D://test.csv"; try &#123; CsvReader reader = new CsvReader(csvFilePath, ',', Charset.forName("UTF-8")); // Ë∑≥ËøáË°®Â§¥ reader.readHeaders(); // ÈÄêË°åËØªÂÖ•Èô§Ë°®Â§¥ÁöÑÊï∞ÊçÆ while (reader.readRecord()) &#123; System.out.println(reader.getRawRecord()); csvFileList.add(reader.getValues()); &#125; reader.close(); // ÈÅçÂéÜËØªÂèñCSVÊØèË°åÊØèÂàó for (int row = 0; row &lt; csvFileList.size(); row++) &#123; String[] cells = csvFileList.get(row); for(String str : cells)&#123; System.out.print(str+" "); &#125; System.out.println(); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; public static void main(String[] args) &#123; CsvRead.readCSV(); &#125;&#125;ËæìÂá∫Ôºö123456789100,userName,101,userName,112,userName,123,userName,134,userName,140 userName 10 1 userName 11 2 userName 12 3 userName 13 4 userName 14javacsv APIÔºöhttp://javacsv.sourceforge.net/]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot AOPËÆ∞ÂΩïÁî®Êà∑Êìç‰ΩúÊó•Âøó]]></title>
    <url>%2FSpring-Boot-AOP%20log.html</url>
    <content type="text"><![CDATA[Âú®SpringÊ°ÜÊû∂‰∏≠Ôºå‰ΩøÁî®AOPÈÖçÂêàËá™ÂÆö‰πâÊ≥®Ëß£ÂèØ‰ª•Êñπ‰æøÁöÑÂÆûÁé∞Áî®Êà∑Êìç‰ΩúÁöÑÁõëÊéß„ÄÇÈ¶ñÂÖàÊê≠Âª∫‰∏Ä‰∏™Âü∫Êú¨ÁöÑSpring Boot WebÁéØÂ¢ÉÂºÄÂêØSpring BootÔºåÁÑ∂ÂêéÂºïÂÖ•ÂøÖË¶Å‰æùËµñÔºö123456789101112131415161718192021222324&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- aop‰æùËµñ --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- oracleÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;com.oracle&lt;/groupId&gt; &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt; &lt;version&gt;6.0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- druidÊï∞ÊçÆÊ∫êÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt;&lt;/dependency&gt;Ëá™ÂÆö‰πâÊ≥®Ëß£ÂÆö‰πâ‰∏Ä‰∏™ÊñπÊ≥ïÁ∫ßÂà´ÁöÑ@LogÊ≥®Ëß£ÔºåÁî®‰∫éÊ†áÊ≥®ÈúÄË¶ÅÁõëÊéßÁöÑÊñπÊ≥ïÔºö12345@Target(ElementType.METHOD)@Retention(RetentionPolicy.RUNTIME)public @interface Log &#123; String value() default "";&#125;ÂàõÂª∫Â∫ìË°®ÂíåÂÆû‰ΩìÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÂàõÂª∫‰∏ÄÂº†sys_logË°®ÔºåÁî®‰∫é‰øùÂ≠òÁî®Êà∑ÁöÑÊìç‰ΩúÊó•ÂøóÔºåÊï∞ÊçÆÂ∫ìÈááÁî®oracle 11gÔºö1234567891011121314151617181920CREATE TABLE "SCOTT"."SYS_LOG" ( "ID" NUMBER(20) NOT NULL , "USERNAME" VARCHAR2(50 BYTE) NULL , "OPERATION" VARCHAR2(50 BYTE) NULL , "TIME" NUMBER(11) NULL , "METHOD" VARCHAR2(200 BYTE) NULL , "PARAMS" VARCHAR2(500 BYTE) NULL , "IP" VARCHAR2(64 BYTE) NULL , "CREATE_TIME" DATE NULL );COMMENT ON COLUMN "SCOTT"."SYS_LOG"."USERNAME" IS 'Áî®Êà∑Âêç';COMMENT ON COLUMN "SCOTT"."SYS_LOG"."OPERATION" IS 'Áî®Êà∑Êìç‰Ωú';COMMENT ON COLUMN "SCOTT"."SYS_LOG"."TIME" IS 'ÂìçÂ∫îÊó∂Èó¥';COMMENT ON COLUMN "SCOTT"."SYS_LOG"."METHOD" IS 'ËØ∑Ê±ÇÊñπÊ≥ï';COMMENT ON COLUMN "SCOTT"."SYS_LOG"."PARAMS" IS 'ËØ∑Ê±ÇÂèÇÊï∞';COMMENT ON COLUMN "SCOTT"."SYS_LOG"."IP" IS 'IPÂú∞ÂùÄ';COMMENT ON COLUMN "SCOTT"."SYS_LOG"."CREATE_TIME" IS 'ÂàõÂª∫Êó∂Èó¥';CREATE SEQUENCE seq_sys_log START WITH 1 INCREMENT BY 1;Â∫ìË°®ÂØπÂ∫îÁöÑÂÆû‰ΩìÔºö1234567891011121314public class SysLog implements Serializable&#123; private static final long serialVersionUID = -6309732882044872298L; private Integer id; private String username; private String operation; private Integer time; private String method; private String params; private String ip; private Date createTime; // get,setÁï•&#125;‰øùÂ≠òÊó•ÂøóÁöÑÊñπÊ≥ï‰∏∫‰∫ÜÊñπ‰æøÔºåËøôÈáåÁõ¥Êé•‰ΩøÁî®Spring JdbcTemplateÊù•Êìç‰ΩúÊï∞ÊçÆÂ∫ì„ÄÇÂÆö‰πâ‰∏Ä‰∏™SysLogDaoÊé•Âè£ÔºåÂåÖÂê´‰∏Ä‰∏™‰øùÂ≠òÊìç‰ΩúÊó•ÂøóÁöÑÊäΩË±°ÊñπÊ≥ïÔºö123public interface SysLogDao &#123; void saveSysLog(SysLog syslog);&#125;ÂÖ∂ÂÆûÁé∞ÊñπÊ≥ïÔºö1234567891011121314151617@Repositorypublic class SysLogDaoImp implements SysLogDao &#123; @Autowired private JdbcTemplate jdbcTemplate; @Override public void saveSysLog(SysLog syslog) &#123; StringBuffer sql = new StringBuffer("insert into sys_log "); sql.append("(id,username,operation,time,method,params,ip,create_time) "); sql.append("values(seq_sys_log.nextval,:username,:operation,:time,:method,"); sql.append(":params,:ip,:createTime)"); NamedParameterJdbcTemplate npjt = new NamedParameterJdbcTemplate(this.jdbcTemplate.getDataSource()); npjt.update(sql.toString(), new BeanPropertySqlParameterSource(syslog)); &#125;&#125;ÂàáÈù¢ÂíåÂàáÁÇπÂÆö‰πâ‰∏Ä‰∏™LogAspectÁ±ªÔºå‰ΩøÁî®@AspectÊ†áÊ≥®ËÆ©ÂÖ∂Êàê‰∏∫‰∏Ä‰∏™ÂàáÈù¢ÔºåÂàáÁÇπ‰∏∫‰ΩøÁî®@LogÊ≥®Ëß£Ê†áÊ≥®ÁöÑÊñπÊ≥ïÔºå‰ΩøÁî®@AroundÁéØÁªïÈÄöÁü•Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364@Aspect@Componentpublic class LogAspect &#123; @Autowired private SysLogDao sysLogDao; @Pointcut("@annotation(com.springboot.annotation.Log)") public void pointcut() &#123; &#125; @Around("pointcut()") public Object around(ProceedingJoinPoint point) &#123; Object result = null; long beginTime = System.currentTimeMillis(); try &#123; // ÊâßË°åÊñπÊ≥ï result = point.proceed(); &#125; catch (Throwable e) &#123; e.printStackTrace(); &#125; // ÊâßË°åÊó∂Èïø(ÊØ´Áßí) long time = System.currentTimeMillis() - beginTime; // ‰øùÂ≠òÊó•Âøó saveLog(point, time); return result; &#125; private void saveLog(ProceedingJoinPoint joinPoint, long time) &#123; MethodSignature signature = (MethodSignature) joinPoint.getSignature(); Method method = signature.getMethod(); SysLog sysLog = new SysLog(); Log logAnnotation = method.getAnnotation(Log.class); if (logAnnotation != null) &#123; // Ê≥®Ëß£‰∏äÁöÑÊèèËø∞ sysLog.setOperation(logAnnotation.value()); &#125; // ËØ∑Ê±ÇÁöÑÊñπÊ≥ïÂêç String className = joinPoint.getTarget().getClass().getName(); String methodName = signature.getName(); sysLog.setMethod(className + "." + methodName + "()"); // ËØ∑Ê±ÇÁöÑÊñπÊ≥ïÂèÇÊï∞ÂÄº Object[] args = joinPoint.getArgs(); // ËØ∑Ê±ÇÁöÑÊñπÊ≥ïÂèÇÊï∞ÂêçÁß∞ LocalVariableTableParameterNameDiscoverer u = new LocalVariableTableParameterNameDiscoverer(); String[] paramNames = u.getParameterNames(method); if (args != null &amp;&amp; paramNames != null) &#123; String params = ""; for (int i = 0; i &lt; args.length; i++) &#123; params += " " + paramNames[i] + ": " + args[i]; &#125; sysLog.setParams(params); &#125; // Ëé∑Âèñrequest HttpServletRequest request = HttpContextUtils.getHttpServletRequest(); // ËÆæÁΩÆIPÂú∞ÂùÄ sysLog.setIp(IPUtils.getIpAddr(request)); // Ê®°Êãü‰∏Ä‰∏™Áî®Êà∑Âêç sysLog.setUsername("mrbird"); sysLog.setTime((int) time); sysLog.setCreateTime(new Date()); // ‰øùÂ≠òÁ≥ªÁªüÊó•Âøó sysLogDao.saveSysLog(sysLog); &#125;&#125;ÊµãËØïTestControllerÔºö1234567891011121314151617@RestControllerpublic class TestController &#123; @Log("ÊâßË°åÊñπÊ≥ï‰∏Ä") @GetMapping("/one") public void methodOne(String name) &#123; &#125; @Log("ÊâßË°åÊñπÊ≥ï‰∫å") @GetMapping("/two") public void methodTwo() throws InterruptedException &#123; Thread.sleep(2000); &#125; @Log("ÊâßË°åÊñπÊ≥ï‰∏â") @GetMapping("/three") public void methodThree(String name, String age) &#123; &#125;&#125;ÊúÄÁªàÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂêØÂä®È°πÁõÆÔºåÂàÜÂà´ËÆøÈóÆÔºöhttp://localhost:8080/web/one?name=KangKanghttp://localhost:8080/web/twohttp://localhost:8080/web/three?name=Mike&amp;age=25Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö123456789101112SQL&gt; select * from sys_log order by id; ID USERNAME OPERATION TIME METHOD PARAMS IP CREATE_TIME---------- ---------- ---------- ---------- ------------------------------ ------------------------------ ---------- -------------- 11 mrbird ÊâßË°åÊñπÊ≥ï‰∏Ä 6 com.springboot.controller.Test name: KangKang 127.0.0.1 08-12Êúà-17 Controller.methodOne() 12 mrbird ÊâßË°åÊñπÊ≥ï‰∫å 2000 com.springboot.controller.Test 127.0.0.1 08-12Êúà-17 Controller.methodTwo() 13 mrbird ÊâßË°åÊñπÊ≥ï‰∏â 0 com.springboot.controller.Test name: Mike age: 25 127.0.0.1 08-12Êúà-17 Controller.methodThree()source code]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁæéÂõ¢Â§ñÂçñÂºÄÂèëÊÄªÁªì]]></title>
    <url>%2Fmeituan%20waimai.html</url>
    <content type="text"><![CDATA[ÂáÜÂ§áÂ∑•‰ΩúÈ¶ñÂÖàÈúÄË¶ÅÁî≥ËØ∑ÂºÄÂèëËÄÖË¥¶Âè∑ÔºåÂú∞ÂùÄÔºöhttp://developer.meituan.com/home„ÄÇÈÄöËøá‰πãÂêéÂèØ‰ª•ÂæóÂà∞developerId:10**16ÂíåSignKey:s9bvk***mjm9xms‰ª•ÂèäÊµãËØïÈó®Â∫ó‰ø°ÊÅØ„ÄÇÂºÄÂèëËÄÖÂèØ‰ΩøÁî®ÁæéÂõ¢Â§ñÂçñappÁ´ØÔºå‰øÆÊîπÂÆö‰ΩçÂà∞Ôºö Â¢®ËÑ±Âéø‚ÄìÊêúÁ¥¢Ëâ≤ÈáëÊãâ‚ÄìÊêúÁ¥¢ÊµãËØïÈó®Â∫óÂêçÁß∞ÊµãËØï‰∏ãÂçï„ÄÇÈó®Â∫óÁÆ°ÁêÜÂèØ‰ª•‰ΩøÁî®ÁæéÂõ¢Â§ñÂçñÂïÜÂÆ∂ÁâàAPPËøõË°åÁÆ°ÁêÜ„ÄÇÂØπÊé•ÂèØ‰ª•‰ΩøÁî®ÁæéÂõ¢ÂºÄÂèëÂπ≥Âè∞SDKÊàñËÄÖUISDK„ÄÇÂºÄÂèëÂπ≥Âè∞SDK‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://drive.google.com/open?id=14RkrayTt_MKb2d38FhN8aHop-shEv9nJÁªëÂÆö‰∏éËß£ÁªëÁæéÂõ¢Â§ñÂçñÂïÜÂÆ∂ÁªëÂÆöÂú∞ÂùÄ‰∏∫Ôºöhttps://open-erp.meituan.com/login?developerId=101416&amp;businessId=2&amp;ePoiId=123324214214&amp;signKey=s9bvktibcmjm9xms„ÄÇÈô§‰∫ÜdeveloperIdÂíåSignKey‰πãÂ§ñÔºåËøòÈúÄ‰º†ÂÖ•businessIdÔºà2Ë°®Á§∫Â§ñÂçñ‰∏öÂä°ÔºâÂíåePoiIdÔºàËØ•ÂïÜÊà∑Âú®ERPÂéÇÂïÜ‰∏äÁöÑÂîØ‰∏ÄÊ†áËØÜÁ†ÅÔºâ„ÄÇÁªëÂÆöÊàêÂäüÂêéÔºåÁæéÂõ¢‰ºöËøîÂõû‰∏Ä‰∏™appAuthTokenÔºàÁªëÂÆöÈó®Â∫óÊàêÂäüÂêéÂºÄÊîæÂπ≥Âè∞Áîü‰∫ßÁöÑtokenÔºâ„ÄÇÂú®ÂõûË∞ÉÊñπÊ≥ï‰∏≠Ôºà‰∏ãÈù¢‰ºöËØ¥Âà∞ÔºâÂ∞ÜËØ•token‰øùÂ≠òÂà∞Êï∞ÊçÆÂ∫ìÔºåÁî®‰∫éÂêéÁª≠Ë∞ÉÁî®Êé•Âè£„ÄÇÁæéÂõ¢Â§ñÂçñÂïÜÂÆ∂Ëß£ÁªëÂú∞ÂùÄ‰∏∫Ôºöhttps://open-erp.meituan.com/releasebinding?signKey=s9bvktibcmjm9xms&amp;businessId=2&amp;appAuthToken=35be4d3e63270abd28b9a320611bbdb616b1bd6ac7e11fce132e11196a4e6c89558b10f5d651d355a135bf7c49da75c2ÂÖ∂‰∏≠appAuthToken‰∏∫Èó®Â∫óÁªëÂÆöÁöÑÊó∂ÂÄôÁîüÊàêÁöÑtoken„ÄÇÂõûË∞ÉÁæéÂõ¢ÂºÄÂèëÂπ≥Âè∞‰∏∫Â§ñÂçñÂêÑ‰∏™ÊµÅÁ®ãÁä∂ÊÄÅÊèê‰æõ‰∫ÜÂõûË∞ÉURLÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ÂõûË∞ÉURLÂØπÂ∫î‰∏∫È°πÁõÆ‰∏≠ÊñπÊ≥ïÁöÑËØ∑Ê±ÇÂú∞ÂùÄÔºåÊØîÂ¶ÇËÆ¢ÂçïÊé®ÈÄÅURLÂØπÂ∫îÈ°πÁõÆ‰∏≠ÁöÑÔºö1234567891011121314151617/** * ÁæéÂõ¢Â§ñÂçñËÆ¢ÂçïÊé®ÈÄÅÂõûË∞É * @param order * @return */@ResponseBody@RequestMapping(value="/plugpay/mtOrderPush.php",produces=&#123;"application/json;charset=UTF-8"&#125;)public Map&lt;String,String&gt; mtOrderPush(String order)&#123; synchronized (this) &#123; Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;(); System.out.println(order); System.out.println("ÊÇ®ÊúâÊñ∞ÁöÑÁæéÂõ¢Â§ñÂçñËÆ¢ÂçïÔºåËØ∑ÂèäÊó∂Â§ÑÁêÜ"); // ‰øùÂ≠òËÆ¢ÂçïÂà∞Êï∞ÊçÆÂ∫ì... result.put("data", "OK"); return result; &#125; &#125;ËÆ¢ÂçïÊé®ÈÄÅÂõûË∞ÉÊñπÊ≥ïÈúÄË¶ÅËøîÂõû{&quot;data&quot;: &quot;OK&quot;}JSONÊï∞ÊçÆÔºå‰ª£Ë°®Êé®ÈÄÅÊàêÂäüÔºåÂê¶ÂàôÂºÄÂèëÂπ≥Âè∞‰ºöÈó¥ÈöîÊó∂Èó¥ËøûÁª≠Êé®ÈÄÅ„ÄÇÂÖ∂‰∏≠ÂÖ≥‰∫éÂõûË∞ÉËøîÂõûÁöÑÂ≠óÊÆµÂèØÂèÇËÄÉÁæéÂõ¢ÂºÄÂèëÂπ≥Âè∞ÂõûË∞ÉAPIÔºöhttp://developer.meituan.com/openapi#7.5.1„ÄÇÈô§‰∫ÜËÆ¢ÂçïÂõûË∞ÉÔºåÁæéÂõ¢ÂºÄÂèëÂπ≥Âè∞ËøòÊèê‰æõ‰∫ÜÈó®Â∫óÁªëÂÆöÂíåËß£ÁªëÁöÑÂõûË∞ÉÔºåÂíåËÆ¢ÂçïÁ±ª‰ººÔºåÈÖçÁΩÆÂ•ΩÂõûË∞ÉURLÂç≥ÂèØ„ÄÇÊØîÂ¶ÇÈó®Â∫óÁªëÂÆöÂõûË∞ÉÊñπÊ≥ïÔºö123456789101112131415161718192021/** * Èó®Â∫óÁªëÂÆöÊàêÂäüÂõûË∞É * @param appAuthToken * @param businessId * @param ePoiId * @param timestamp * @return */@ResponseBody@RequestMapping(value="/plugpay/mtOauth.php",produces=&#123;"application/json;charset=UTF-8"&#125;)public JSONObject saveLogin(String appAuthToken, String businessId, String ePoiId, String timestamp)&#123; synchronized (this) &#123; JSONObject jsonObject = new JSONObject(); System.out.println("appAuthToken: "+appAuthToken+"businessId: "+businessId+"ePoiId: "+ePoiId+ "timestamp: "+timestamp); System.out.println("ÂïÜÊà∑ÁªëÂÆöÊàêÂäü"); // ‰øùÂ≠òtoken... jsonObject.element("data","success"); return jsonObject; &#125;&#125;Èô§Ê≠§‰πãÂ§ñÔºåËøòÊúâ‰∏Ä‰∏™ÊØîËæÉÁâπÊÆäÁöÑÂõûË∞ÉÔºöÂøÉË∑≥ÊòØÁî®Êù•Ê£ÄÊµãÈ§êÈ•ÆÂïÜÊà∑ËÆæÂ§áÊòØÂê¶Ê≠£Â∏∏Â∑•‰ΩúÁöÑÂÆöÊó∂Êú∫Âà∂ÔºåÂÖ∂‰∏≠È§êÈ•ÆÂïÜÊà∑ÁöÑËÆæÂ§áÂåÖÊã¨ÊâÄ‰ΩøÁî®ÁöÑERPÁ≥ªÁªüÁöÑ‰∫ëÁ´Ø„ÄÅposÁ≠âÂêÑÁ±ªËÆæÂ§á„ÄÇÂøÉË∑≥Áî±ERPÂéÇÂïÜË¥üË¥£‰∏äÊä•ÔºåËÅöÂÆùÁõÜÂºÄÊîæÂπ≥Âè∞Ë¥üË¥£Êî∂ÈõÜÔºåÂπ∂Â∞ÜÊî∂ÈõÜÂà∞ÁöÑÁªìÊûúÂ∫îÁî®‰∫éÂ§ñÂçñ„ÄÅÁÇπÈ§êÁ≠â‰∏öÂä°Á∫ø„ÄÇÂõûË∞ÉÊñπÊ≥ïÂæàÁÆÄÂçïÔºö12345678910111213/** * ÂøÉË∑≥ * @param request * @return */@ResponseBody@RequestMapping(value="/plugpay/heartbeat.php",method=&#123;RequestMethod.GET&#125;)public Map&lt;String,String&gt; mtHeartbeatBack(HttpServletRequest request)&#123; Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;(); result.put("data", "OK"); System.out.println("mtHeartbeat "+System.currentTimeMillis()); return result;&#125;‰ΩøÁî®SDKÊìç‰ΩúËÆ¢ÂçïSDK‰∏≠ÂêÑ‰∏™APIÂØπÂ∫îÁöÑÂ∞ÅË£ÖÁ±ªÊåâÂ¶Ç‰∏ãËßÑÂàôÂëΩÂêçÔºöÈÄöÁî®ÂâçÁºÄ + ‰∏öÂä°Á±ªÂûãÂâçÁºÄ + ‰∏öÂä°‰∫åÁ∫ßÂâçÁºÄ + ÂÖ∑‰ΩìÊìç‰Ωú + ÈÄöÁî®ÂêéÁºÄ„ÄÇÊØîÂ¶ÇÁ°ÆËÆ§Â§ñÂçñËÆ¢ÂçïËØ∑Ê±ÇÁöÑURL‰∏∫Ôºöhttp://api.open.cater.meituan.com/waimai/order/confirm„ÄÇÊé•Âè£ÂØπÂ∫îÂÆåÊï¥Á±ª‰∏∫ÔºöCipCater + Takeout + Order + Confirm + Request = CipCaterTakeoutOrderConfirmRequest„ÄÇËøîÂõûÁªìÊûú‰∏∫JSONÂ≠óÁ¨¶‰∏≤„ÄÇÂÖ∑‰Ωì‰æãÂ≠êÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627JSONObject result_json = new JSONObject();// Â£∞ÊòéÂÖ¨ÂÖ±ÂèÇÊï∞ÔºåRequestSysParamsÊûÑÈÄ†ÊñπÊ≥ïÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™‰∏∫signkeyÔºåÁ¨¨‰∫å‰∏™‰∏∫appAuthTokenRequestSysParams requestSysParams = new RequestSysParams("yourSecret", "yourToken");// Â£∞ÊòéÊâÄÈúÄrequestÔºåÊ≠§RequestÂØπË±°‰∏∫Ê†πÊçÆurlÂú®Ë°®‰∏≠Êü•ËØ¢Ëé∑ÂæóCipCaterTakeoutOrderConfirmRequest request = new CipCaterTakeoutOrderConfirmRequest();// ËÆæÁΩÆÂÖ¨ÂÖ±ÂèÇÊï∞request.setRequestSysParams(requestSysParams);// ËÆæÁΩÆ‰∏öÂä°Á∫ßÂèÇÊï∞request.setOrderId(orderId);// ÂáÜÂ§áÊé•Êî∂ËøîÂõûJsonString resultJson = "";try &#123; // ÂèëÈÄÅËØ∑Ê±ÇÔºåÊé•Êî∂JsonÔºåÊâÄÊúâRequestÈÉΩÊúâdoRequestÊñπÊ≥ïÁõ¥Êé•Ë∞ÉÁî®Âç≥ÂèØ result_json = JSONObject.fromObject(request.doRequest());&#125; catch (IOException e) &#123; // Â§ÑÁêÜioÂºÇÂ∏∏&#125; catch (URISyntaxException e) &#123; // Â§ÑÁêÜURIËØ≠Ê≥ïÂºÇÂ∏∏ &#125;String data = getJsonValueString(result_json, "data");if("OK".equalsIgnoreCase(data))&#123; // ÊàêÂäü&#125;else&#123; JSONObject error = JSONObject.fromObject(getJsonValueString(result_json, "error")); String message = getJsonValueString(error, "message"); //Â§±Ë¥•&#125;ÂÖ∂‰∏≠getJsonValueStringÊñπÊ≥ï‰ΩúÁî®‰∏∫Ê†πÊçÆÂ≠óÊÆµÂêç‰ªéJSON‰∏≠Ëé∑ÂèñÂÄºÔºö123456789101112131415161718192021222324/** * Ê†πÊçÆÂêçÁß∞Ëé∑ÂèñJsonÈáåÁöÑÂÄº * @param json * @param name * @return */public String getJsonValueString(JSONObject json,String name) &#123; return json.has(name)?json.getString(name):"";&#125;public int getJsonValueInt(JSONObject json,String name) &#123; return json.has(name)?json.getInt(name):0;&#125;public double getJsonValueDouble(JSONObject json,String name) &#123; return json.has(name)?json.getDouble(name):0.0;&#125;public boolean getJsonValueBoolean(JSONObject json,String name) &#123; return json.has(name)?json.getBoolean(name):false;&#125;public JSONArray getJsonValueArray(JSONObject json,String name) &#123; return json.has(name)?json.getJSONArray(name):new JSONArray();&#125;public JSONObject getJsonValueObj(JSONObject json,String name) &#123; return json.has(name)?json.getJSONObject(name):new JSONObject();&#125;‰ΩøÁî®ÁöÑJSONÂåÖ‰∏∫net.sf.json„ÄÇÂÖ∂‰ªñÊé•Âè£ÁöÑ‰ΩøÁî®‰ª•Ê≠§Á±ªÊé®„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot MyBatisÈÖçÁΩÆDruidÂ§öÊï∞ÊçÆÊ∫ê]]></title>
    <url>%2FSpring-Boot-MyBatis%20Druid.html</url>
    <content type="text"><![CDATA[ÂõûÈ°æÂú®Spring‰∏≠ÈÖçÁΩÆMyBatis SqlSessionFactoryÁöÑÈÖçÁΩÆÔºö12345&lt;!-- mybatis ÁöÑSqlSessionFactory --&gt;&lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean" scope="prototype"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml"/&gt;&lt;/bean&gt;ÊâÄ‰ª•ÂÆûÈôÖ‰∏äÂú®Spring Boot‰∏≠ÈÖçÁΩÆMyBatisÂ§öÊï∞ÊçÆÊ∫êÁöÑÂÖ≥ÈîÆÂú®‰∫éÂàõÂª∫SqlSessionFactoryÁöÑÊó∂ÂÄô‰∏∫ÂÖ∂ÂàÜÈÖç‰∏çÂêåÁöÑÊï∞ÊçÆÊ∫ê„ÄÇÂºïÂÖ•‰æùËµñÂÖàÊ†πÊçÆhttps://mrbird.cc/%E5%BC%80%E5%90%AFSpring-Boot.htmlÂºÄÂêØ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑSpring BootÂ∫îÁî®ÔºåÁÑ∂ÂêéÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö12345678910111213141516171819202122232425&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- oracleÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;com.oracle&lt;/groupId&gt; &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt; &lt;version&gt;6.0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- mysqlÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- druidÊï∞ÊçÆÊ∫êÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt;&lt;/dependency&gt;Â§öÊï∞ÊçÆÊ∫êÈÖçÁΩÆÂú®Spring BootÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠ÈÖçÁΩÆÂ§öÊï∞ÊçÆÊ∫êÂíåSpring Boot JdbcTemplateÈÖçÁΩÆDruidÂ§öÊï∞ÊçÆÊ∫ê‰∏ÄËá¥„ÄÇÁÑ∂ÂêéÊ†πÊçÆapplication.ymlÂàõÂª∫‰∏§‰∏™Êï∞ÊçÆÊ∫êÈÖçÁΩÆÁ±ªMysqlDatasourceConfigÂíåOracleDatasourceConfigÔºöMysqlDatasourceConfigÔºö12345678910111213141516171819202122232425262728293031323334@Configuration@MapperScan(basePackages = MysqlDatasourceConfig.PACKAGE, sqlSessionFactoryRef = "mysqlSqlSessionFactory")public class MysqlDatasourceConfig &#123; // mysqldaoÊâ´ÊèèË∑ØÂæÑ static final String PACKAGE = "com.springboot.mysqldao"; // mybatis mapperÊâ´ÊèèË∑ØÂæÑ static final String MAPPER_LOCATION = "classpath:mapper/mysql/*.xml"; @Primary @Bean(name = "mysqldatasource") @ConfigurationProperties("spring.datasource.druid.mysql") public DataSource mysqlDataSource() &#123; return DruidDataSourceBuilder.create().build(); &#125; @Bean(name = "mysqlTransactionManager") @Primary public DataSourceTransactionManager mysqlTransactionManager() &#123; return new DataSourceTransactionManager(mysqlDataSource()); &#125; @Bean(name = "mysqlSqlSessionFactory") @Primary public SqlSessionFactory mysqlSqlSessionFactory(@Qualifier("mysqldatasource") DataSource dataSource) throws Exception &#123; final SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean(); sessionFactory.setDataSource(dataSource); //Â¶ÇÊûú‰∏ç‰ΩøÁî®xmlÁöÑÊñπÂºèÈÖçÁΩÆmapperÔºåÂàôÂèØ‰ª•ÁúÅÂéª‰∏ãÈù¢ËøôË°åmapper locationÁöÑÈÖçÁΩÆ„ÄÇ sessionFactory.setMapperLocations(new PathMatchingResourcePatternResolver() .getResources(MysqlDatasourceConfig.MAPPER_LOCATION)); return sessionFactory.getObject(); &#125;&#125;‰∏äÈù¢‰ª£Á†ÅÈÖçÁΩÆ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫mysqldatasourceÁöÑÊï∞ÊçÆÊ∫êÔºåÂØπÂ∫îapplication.yml‰∏≠spring.datasource.druid.mysqlÂâçÁºÄÈÖçÁΩÆÁöÑÊï∞ÊçÆÂ∫ì„ÄÇÁÑ∂ÂêéÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫mysqlSqlSessionFactoryÁöÑBeanÔºåÂπ∂‰∏îÊ≥®ÂÖ•‰∫Ümysqldatasource„ÄÇ‰∏éÊ≠§ÂêåÊó∂ÔºåËøòÂàÜÂà´ÂÆö‰∫Ü‰∏§‰∏™Êâ´ÊèèË∑ØÂæÑPACKAGEÂíåMAPPER_LOCATIONÔºåÂâçËÄÖ‰∏∫MysqlÊï∞ÊçÆÂ∫ìÂØπÂ∫îÁöÑmapperÊé•Âè£Âú∞ÂùÄÔºåÂêéËÄÖ‰∏∫ÂØπÂ∫îÁöÑmapper xmlÊñá‰ª∂Ë∑ØÂæÑ„ÄÇ@PrimaryÊ†áÂøóËøô‰∏™BeanÂ¶ÇÊûúÂú®Â§ö‰∏™ÂêåÁ±ªBeanÂÄôÈÄâÊó∂ÔºåËØ•Bean‰ºòÂÖàË¢´ËÄÉËôë„ÄÇÂ§öÊï∞ÊçÆÊ∫êÈÖçÁΩÆÁöÑÊó∂ÂÄôÔºåÂøÖÈ°ªË¶ÅÊúâ‰∏Ä‰∏™‰∏ªÊï∞ÊçÆÊ∫êÔºåÁî®@PrimaryÊ†áÂøóËØ•Bean„ÄÇÂêåÁêÜÔºåÊé•ÁùÄÈÖçÁΩÆOracleÊï∞ÊçÆÂ∫ìÂØπÂ∫îÁöÑÈÖçÁΩÆÁ±ªÔºöOracleDatasourceConfigÔºö1234567891011121314151617181920212223242526272829303132@Configuration@MapperScan(basePackages = OracleDatasourceConfig.PACKAGE, sqlSessionFactoryRef = "oracleSqlSessionFactory")public class OracleDatasourceConfig &#123; // oracledaoÊâ´ÊèèË∑ØÂæÑ static final String PACKAGE = "com.springboot.oracledao"; // mybatis mapperÊâ´ÊèèË∑ØÂæÑ static final String MAPPER_LOCATION = "classpath:mapper/oracle/*.xml"; @Bean(name = "oracledatasource") @ConfigurationProperties("spring.datasource.druid.oracle") public DataSource oracleDataSource() &#123; return DruidDataSourceBuilder.create().build(); &#125; @Bean(name = "oracleTransactionManager") public DataSourceTransactionManager oracleTransactionManager() &#123; return new DataSourceTransactionManager(oracleDataSource()); &#125; @Bean(name = "oracleSqlSessionFactory") public SqlSessionFactory oracleSqlSessionFactory(@Qualifier("oracledatasource") DataSource dataSource) throws Exception &#123; final SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean(); sessionFactory.setDataSource(dataSource); //Â¶ÇÊûú‰∏ç‰ΩøÁî®xmlÁöÑÊñπÂºèÈÖçÁΩÆmapperÔºåÂàôÂèØ‰ª•ÁúÅÂéª‰∏ãÈù¢ËøôË°åmapper locationÁöÑÈÖçÁΩÆ„ÄÇ sessionFactory.setMapperLocations(new PathMatchingResourcePatternResolver() .getResources(OracleDatasourceConfig.MAPPER_LOCATION)); return sessionFactory.getObject(); &#125;&#125;ÊµãËØïÈÖçÁΩÆÂÆåÂ§öÊï∞ÊçÆÊ∫êÔºåÊé•‰∏ãÊù•ÂàÜÂà´Âú®com.springboot.mysqldaoË∑ØÂæÑÂíåcom.springboot.oracledaoË∑ØÂæÑ‰∏ãÂàõÂª∫‰∏§‰∏™mapperÊé•Âè£ÔºöMysqlStudentMapperÔºö12345678910package com.springboot.mysqldao;import java.util.List;import java.util.Map;import org.apache.ibatis.annotations.Mapper;@Mapperpublic interface MysqlStudentMapper &#123; List&lt;Map&lt;String, Object&gt;&gt; getAllStudents();&#125;OracleStudentMapperÔºö12345678910package com.springboot.oracledao;import java.util.List;import java.util.Map;import org.apache.ibatis.annotations.Mapper;@Mapperpublic interface OracleStudentMapper &#123; List&lt;Map&lt;String, Object&gt;&gt; getAllStudents();&#125;Êé•ÁùÄÂàõÂª∫mapperÊé•Âè£ÂØπÂ∫îÁöÑÂÆûÁé∞ÔºöÂú®src/main/resource/mapper/mysql/Ë∑ØÂæÑ‰∏ãÂàõÂª∫MysqlStudentMapper.xmlÔºö12345678&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="com.springboot.mysqldao.MysqlStudentMapper"&gt; &lt;select id="getAllStudents" resultType="java.util.Map"&gt; select * from student &lt;/select&gt;&lt;/mapper&gt;Âú®src/main/resource/mapper/oracle/Ë∑ØÂæÑ‰∏ãÂàõÂª∫OracleStudentMapper.xmlÔºö12345678&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="com.springboot.oracledao.OracleStudentMapper"&gt; &lt;select id="getAllStudents" resultType="java.util.Map"&gt; select * from student &lt;/select&gt;&lt;/mapper&gt;ServiceÔºåController‰ª•ÂèäÊµãËØïÊï∞ÊçÆÂêåSpring Boot JdbcTemplateÈÖçÁΩÆDruidÂ§öÊï∞ÊçÆÊ∫êÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇÊúÄÁªàÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂêØÂä®È°πÁõÆÔºåËÆøÈóÆÔºöhttp://localhost:8080/web/querystudentsfrommysqlÔºöhttp://localhost:8080/web/querystudentsfromoracleÔºösource code]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
        <tag>MyBatis</tag>
        <tag>Druid</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot JdbcTemplateÈÖçÁΩÆDruidÂ§öÊï∞ÊçÆÊ∫ê]]></title>
    <url>%2FSpring-Boot-JdbcTemplate%20Druid.html</url>
    <content type="text"><![CDATA[JdbcTemplateÈÖçÁΩÆDruidÂ§öÊï∞ÊçÆÊ∫êÁöÑÊ†∏ÂøÉÂú®‰∫éÂàõÂª∫JdbcTemplateÊó∂ÂÄô‰∏∫ÂÖ∂ÂàÜÈÖç‰∏çÂêåÁöÑÊï∞ÊçÆÊ∫êÔºåÁÑ∂ÂêéÂú®ÈúÄË¶ÅËÆøÈóÆ‰∏çÂêåÊï∞ÊçÆÂ∫ìÁöÑÊó∂ÂÄô‰ΩøÁî®ÂØπÂ∫îÁöÑJdbcTemplateÂç≥ÂèØ„ÄÇËøôÈáå‰ªãÁªçÂú®Spring Boot‰∏≠Âü∫‰∫éOracleÂíåMysqlÈÖçÁΩÆDruidÂ§öÊï∞ÊçÆÊ∫ê„ÄÇÂºïÂÖ•‰æùËµñÂÖàÊ†πÊçÆhttps://mrbird.cc/%E5%BC%80%E5%90%AFSpring-Boot.htmlÂºÄÂêØ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑSpring BootÂ∫îÁî®ÔºåÁÑ∂ÂêéÂºïÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö123456789101112131415161718192021222324&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- oracleÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;com.oracle&lt;/groupId&gt; &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt; &lt;version&gt;6.0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- mysqlÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- druidÊï∞ÊçÆÊ∫êÈ©±Âä® --&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt;&lt;/dependency&gt;Â§öÊï∞ÊçÆÊ∫êÈÖçÁΩÆÊé•ÁùÄÂú®Spring BootÈÖçÁΩÆÊñá‰ª∂application.yml‰∏≠ÈÖçÁΩÆÂ§öÊï∞ÊçÆÊ∫êÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273server: context-path: /webspring: datasource: druid: # Êï∞ÊçÆÂ∫ìËÆøÈóÆÈÖçÁΩÆ, ‰ΩøÁî®druidÊï∞ÊçÆÊ∫ê # Êï∞ÊçÆÊ∫ê1 mysql mysql: type: com.alibaba.druid.pool.DruidDataSource driver-class-name: com.mysql.jdbc.Driver url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;rewriteBatchedStatements=true&amp;autoReconnect=true&amp;failOverReadOnly=false&amp;zeroDateTimeBehavior=convertToNull username: root password: 123456 # Êï∞ÊçÆÊ∫ê2 oracle oracle: type: com.alibaba.druid.pool.DruidDataSource driver-class-name: oracle.jdbc.driver.OracleDriver url: jdbc:oracle:thin:@localhost:1521:ORCL username: scott password: 123456 # ËøûÊé•Ê±†ÈÖçÁΩÆ initial-size: 5 min-idle: 5 max-active: 20 # ËøûÊé•Á≠âÂæÖË∂ÖÊó∂Êó∂Èó¥ max-wait: 30000 # ÈÖçÁΩÆÊ£ÄÊµãÂèØ‰ª•ÂÖ≥Èó≠ÁöÑÁ©∫Èó≤ËøûÊé•Èó¥ÈöîÊó∂Èó¥ time-between-eviction-runs-millis: 60000 # ÈÖçÁΩÆËøûÊé•Âú®Ê±†‰∏≠ÁöÑÊúÄÂ∞èÁîüÂ≠òÊó∂Èó¥ min-evictable-idle-time-millis: 300000 validation-query: select '1' from dual test-while-idle: true test-on-borrow: false test-on-return: false # ÊâìÂºÄPSCacheÔºåÂπ∂‰∏îÊåáÂÆöÊØè‰∏™ËøûÊé•‰∏äPSCacheÁöÑÂ§ßÂ∞è pool-prepared-statements: true max-open-prepared-statements: 20 max-pool-prepared-statement-per-connection-size: 20 # ÈÖçÁΩÆÁõëÊéßÁªüËÆ°Êã¶Êà™ÁöÑfilters, ÂéªÊéâÂêéÁõëÊéßÁïåÈù¢sqlÊó†Ê≥ïÁªüËÆ°, 'wall'Áî®‰∫éÈò≤ÁÅ´Â¢ô filters: stat,wall # SpringÁõëÊéßAOPÂàáÂÖ•ÁÇπÔºåÂ¶Çx.y.z.service.*,ÈÖçÁΩÆÂ§ö‰∏™Ëã±ÊñáÈÄóÂè∑ÂàÜÈöî aop-patterns: com.springboot.servie.* # WebStatFilterÈÖçÁΩÆ web-stat-filter: enabled: true # Ê∑ªÂä†ËøáÊª§ËßÑÂàô url-pattern: /* # ÂøΩÁï•ËøáÊª§ÁöÑÊ†ºÂºè exclusions: '*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*' # StatViewServletÈÖçÁΩÆ stat-view-servlet: enabled: true # ËÆøÈóÆË∑ØÂæÑ‰∏∫/druidÊó∂ÔºåË∑≥ËΩ¨Âà∞StatViewServlet url-pattern: /druid/* # ÊòØÂê¶ËÉΩÂ§üÈáçÁΩÆÊï∞ÊçÆ reset-enable: false # ÈúÄË¶ÅË¥¶Âè∑ÂØÜÁ†ÅÊâçËÉΩËÆøÈóÆÊéßÂà∂Âè∞ login-username: druid login-password: druid123 # IPÁôΩÂêçÂçï # allow: 127.0.0.1 # IPÈªëÂêçÂçïÔºàÂÖ±ÂêåÂ≠òÂú®Êó∂Ôºådeny‰ºòÂÖà‰∫éallowÔºâ # deny: 192.168.1.218 # ÈÖçÁΩÆStatFilter filter: stat: log-slow-sql: trueÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™Â§öÊï∞ÊçÆÊ∫êÈÖçÁΩÆÁ±ªÔºåÊ†πÊçÆapplication.ymlÂàÜÂà´ÈÖçÁΩÆ‰∏Ä‰∏™MysqlÂíåOracleÁöÑÊï∞ÊçÆÊ∫êÔºåÂπ∂‰∏îÂ∞ÜËøô‰∏§‰∏™Êï∞ÊçÆÊ∫êÊ≥®ÂÖ•Âà∞‰∏§‰∏™‰∏çÂêåÁöÑJdbcTemplate‰∏≠Ôºö123456789101112131415161718192021222324252627@Configurationpublic class DataSourceConfig &#123; @Primary @Bean(name = "mysqldatasource") @ConfigurationProperties("spring.datasource.druid.mysql") public DataSource dataSourceOne()&#123; return DruidDataSourceBuilder.create().build(); &#125; @Bean(name = "oracledatasource") @ConfigurationProperties("spring.datasource.druid.oracle") public DataSource dataSourceTwo()&#123; return DruidDataSourceBuilder.create().build(); &#125; @Bean(name = "mysqlJdbcTemplate") public JdbcTemplate primaryJdbcTemplate( @Qualifier("mysqldatasource") DataSource dataSource) &#123; return new JdbcTemplate(dataSource); &#125; @Bean(name = "oracleJdbcTemplate") public JdbcTemplate secondaryJdbcTemplate( @Qualifier("oracledatasource") DataSource dataSource) &#123; return new JdbcTemplate(dataSource); &#125;&#125;‰∏äËø∞‰ª£Á†ÅÊ†πÊçÆapplication.ymlÂàõÂª∫‰∫ÜmysqldatasourceÂíåoracledatasourceÊï∞ÊçÆÊ∫êÔºåÂÖ∂‰∏≠mysqldatasourceÁî®@PrimaryÊ†áÊ≥®‰∏∫‰∏ªÊï∞ÊçÆÊ∫êÔºåÊé•ÁùÄÊ†πÊçÆËøô‰∏§‰∏™Êï∞ÊçÆÊ∫êÂàõÂª∫‰∫ÜmysqlJdbcTemplateÂíåoracleJdbcTemplate„ÄÇ@PrimaryÊ†áÂøóËøô‰∏™BeanÂ¶ÇÊûúÂú®Â§ö‰∏™ÂêåÁ±ªBeanÂÄôÈÄâÊó∂ÔºåËØ•Bean‰ºòÂÖàË¢´ËÄÉËôë„ÄÇÂ§öÊï∞ÊçÆÊ∫êÈÖçÁΩÆÁöÑÊó∂ÂÄôÔºåÂøÖÈ°ªË¶ÅÊúâ‰∏Ä‰∏™‰∏ªÊï∞ÊçÆÊ∫êÔºåÁî®@PrimaryÊ†áÂøóËØ•Bean„ÄÇÊï∞ÊçÆÊ∫êÂàõÂª∫ÂÆåÊØïÔºåÊé•‰∏ãÊù•ÂºÄÂßãËøõË°åÊµãËØï‰ª£Á†ÅÁºñÂÜô„ÄÇÊµãËØïÈ¶ñÂÖàÂæÄMysqlÂíåOracle‰∏≠ÂàõÂª∫ÊµãËØïË°®ÔºåÂπ∂ÊèíÂÖ•‰∏Ä‰∫õÊµãËØïÊï∞ÊçÆÔºöMysqlÔºö12345678910DROP TABLE IF EXISTS `student`;CREATE TABLE `student` ( `sno` varchar(3) NOT NULL, `sname` varchar(9) NOT NULL, `ssex` char(2) NOT NULL, `database` varchar(10) DEFAULT NULL) DEFAULT CHARSET=utf8;INSERT INTO `student` VALUES ('001', 'Â∫∑Â∫∑', 'M', 'mysql');INSERT INTO `student` VALUES ('002', 'È∫¶ÂÖã', 'M', 'mysql');OracleÔºö123456789101112DROP TABLE "SCOTT"."STUDENT";CREATE TABLE "SCOTT"."STUDENT" ( "SNO" VARCHAR2(3 BYTE) NOT NULL , "SNAME" VARCHAR2(9 BYTE) NOT NULL , "SSEX" CHAR(2 BYTE) NOT NULL , "database" VARCHAR2(10 BYTE) NULL );INSERT INTO "SCOTT"."STUDENT" VALUES ('001', 'KangKang', 'M ', 'oracle');INSERT INTO "SCOTT"."STUDENT" VALUES ('002', 'Mike', 'M ', 'oracle');INSERT INTO "SCOTT"."STUDENT" VALUES ('003', 'Jane', 'F ', 'oracle');INSERT INTO "SCOTT"."STUDENT" VALUES ('004', 'Maria', 'F ', 'oracle');Êé•ÁùÄÂàõÂª∫‰∏§‰∏™DaoÂèäÂÖ∂ÂÆûÁé∞Á±ªÔºåÂàÜÂà´Áî®‰∫é‰ªéMysqlÂíåOracle‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºöMysqlStudentDaoÊé•Âè£Ôºö123public interface MysqlStudentDao &#123; List&lt;Map&lt;String, Object&gt;&gt; getAllStudents();&#125;MysqlStudentDaoÂÆûÁé∞Ôºõ1234567891011@Repositorypublic class MysqlStudentDaoImp implements MysqlStudentDao&#123; @Autowired @Qualifier("mysqlJdbcTemplate") private JdbcTemplate jdbcTemplate; @Override public List&lt;Map&lt;String, Object&gt;&gt; getAllStudents() &#123; return this.jdbcTemplate.queryForList("select * from student"); &#125;&#125;ÂèØÁúãÂà∞ÔºåÂú®MysqlStudentDaoImp‰∏≠Ê≥®ÂÖ•ÁöÑÊòØmysqlJdbcTemplate„ÄÇOracleStudentDaoÊé•Âè£Ôºö123public interface OracleStudentDao &#123; List&lt;Map&lt;String, Object&gt;&gt; getAllStudents();&#125;OracleStudentDaoÂÆûÁé∞Ôºö1234567891011@Repositorypublic class OracleStudentDaoImp implements OracleStudentDao&#123; @Autowired @Qualifier("oracleJdbcTemplate") private JdbcTemplate jdbcTemplate; @Override public List&lt;Map&lt;String, Object&gt;&gt; getAllStudents() &#123; return this.jdbcTemplate.queryForList("select * from student"); &#125;&#125;Âú®OracleStudentDaoImp‰∏≠Ê≥®ÂÖ•ÁöÑÊòØoracleJdbcTemplate„ÄÇÈöèÂêéÁºñÂÜôServiceÂ±ÇÔºöStudentServiceÊé•Âè£Ôºö1234public interface StudentService &#123; List&lt;Map&lt;String, Object&gt;&gt; getAllStudentsFromOralce(); List&lt;Map&lt;String, Object&gt;&gt; getAllStudentsFromMysql();&#125;StudentServiceÂÆûÁé∞Ôºö1234567891011121314151617@Service("studentService")public class StudentServiceImp implements StudentService&#123; @Autowired private OracleStudentDao oracleStudentDao; @Autowired private MysqlStudentDao mysqlStudentDao; @Override public List&lt;Map&lt;String, Object&gt;&gt; getAllStudentsFromOralce() &#123; return this.oracleStudentDao.getAllStudents(); &#125; @Override public List&lt;Map&lt;String, Object&gt;&gt; getAllStudentsFromMysql() &#123; return this.mysqlStudentDao.getAllStudents(); &#125;&#125;ÊúÄÂêéÁºñÂÜô‰∏Ä‰∏™ControllerÔºö123456789101112131415@RestControllerpublic class StudentController &#123; @Autowired private StudentService studentService; @RequestMapping("querystudentsfromoracle") public List&lt;Map&lt;String, Object&gt;&gt; queryStudentsFromOracle()&#123; return this.studentService.getAllStudentsFromOralce(); &#125; @RequestMapping("querystudentsfrommysql") public List&lt;Map&lt;String, Object&gt;&gt; queryStudentsFromMysql()&#123; return this.studentService.getAllStudentsFromMysql(); &#125;&#125;ÊúÄÁªàÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂêØÂä®È°πÁõÆÔºåËÆøÈóÆÔºöhttp://localhost:8080/web/querystudentsfrommysqlÔºöhttp://localhost:8080/web/querystudentsfromoracleÔºösource code]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
        <tag>Druid</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏≠‰ΩøÁî®JdbcTemplate]]></title>
    <url>%2FSpring-Boot%20JdbcTemplate.html</url>
    <content type="text"><![CDATA[‰∏™‰∫∫ËßâÂæóJdbcTemplateÁõ∏ËæÉ‰∫éMyBaitsÔºåHibernateÁ≠âÊï∞ÊçÆÂ∫ìÊ°ÜÊû∂Êõ¥ÂÆπÊòì‰∏äÊâãÔºåÂØπSQLÁöÑÊìç‰Ωú‰πüÊõ¥‰∏∫Áõ¥ËßÇÊñπ‰æøÔºåÊâÄ‰ª•Âú®È°πÁõÆ‰∏≠‰πüÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©„ÄÇÂú®Spring BootÂºÄÂêØJdbcTemplateÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂºïÂÖ•spring-boot-starter-jdbc‰æùËµñÂç≥ÂèØ„ÄÇJdbcTemplateÂ∞ÅË£Ö‰∫ÜËÆ∏Â§öSQLÊìç‰ΩúÔºåÂÖ∑‰ΩìÂèØÊü•ÈòÖÂÆòÊñπÊñáÊ°£https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html„ÄÇÂºïÂÖ•‰æùËµñspring-boot-starter-jdbcÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;Êï∞ÊçÆÂ∫ìÈ©±Âä®‰∏∫ojdbc6ÔºåÊï∞ÊçÆÊ∫êÈááÁî®Druid„ÄÇÂÖ∑‰ΩìÂèØÂèÇËÄÉhttps://mrbird.cc/Spring-Boot%E4%B8%AD%E4%BD%BF%E7%94%A8Mybatis.html„ÄÇ‰ª£Á†ÅÁºñÂÜôÊï∞ÊçÆÂáÜÂ§áÔºö123456789CREATE TABLE "SCOTT"."STUDENT" ( "SNO" VARCHAR2(3 BYTE) NOT NULL , "SNAME" VARCHAR2(9 BYTE) NOT NULL , "SSEX" CHAR(2 BYTE) NOT NULL );INSERT INTO "SCOTT"."STUDENT" VALUES ('001', 'KangKang', 'M ');INSERT INTO "SCOTT"."STUDENT" VALUES ('002', 'Mike', 'M ');INSERT INTO "SCOTT"."STUDENT" VALUES ('003', 'Jane', 'F ');ËøôÈáå‰∏ªË¶ÅÊºîÁ§∫Âú®DaoÁöÑÂÆûÁé∞Á±ªÈáå‰ΩøÁî®JdbcTemplateÔºåÊâÄ‰ª•ÂÖ∂ÂÆÉÊ®°Âùó‰ª£Á†ÅÁöÑÁºñÂÜôÂ∞±‰∏çÂ±ïÁ§∫‰∫ÜÔºåÂÖ∑‰ΩìÂèØÂèÇËÄÉÊñáÊú´ÁöÑÊ∫êÁ†Å„ÄÇStudentDaoImpÁ±ª‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152@Repository("studentDao")public class StudentDaoImp implements StudentDao &#123; @Autowired private JdbcTemplate jdbcTemplate; @Override public int add(Student student) &#123; // String sql = "insert into student(sno,sname,ssex) values(?,?,?)"; // Object[] args = &#123; student.getSno(), student.getName(), student.getSex() &#125;; // int[] argTypes = &#123; Types.VARCHAR, Types.VARCHAR, Types.VARCHAR &#125;; // return this.jdbcTemplate.update(sql, args, argTypes); String sql = "insert into student(sno,sname,ssex) values(:sno,:name,:sex)"; NamedParameterJdbcTemplate npjt = new NamedParameterJdbcTemplate(this.jdbcTemplate.getDataSource()); return npjt.update(sql, new BeanPropertySqlParameterSource(student)); &#125; @Override public int update(Student student) &#123; String sql = "update student set sname = ?,ssex = ? where sno = ?"; Object[] args = &#123; student.getName(), student.getSex(), student.getSno() &#125;; int[] argTypes = &#123; Types.VARCHAR, Types.VARCHAR, Types.VARCHAR &#125;; return this.jdbcTemplate.update(sql, args, argTypes); &#125; @Override public int deleteBysno(String sno) &#123; String sql = "delete from student where sno = ?"; Object[] args = &#123; sno &#125;; int[] argTypes = &#123; Types.VARCHAR &#125;; return this.jdbcTemplate.update(sql, args, argTypes); &#125; @Override public List&lt;Map&lt;String, Object&gt;&gt; queryStudentsListMap() &#123; String sql = "select * from student"; return this.jdbcTemplate.queryForList(sql); &#125; @Override public Student queryStudentBySno(String sno) &#123; String sql = "select * from student where sno = ?"; Object[] args = &#123; sno &#125;; int[] argTypes = &#123; Types.VARCHAR &#125;; List&lt;Student&gt; studentList = this.jdbcTemplate.query(sql, args, argTypes, new StudentMapper()); if (studentList != null &amp;&amp; studentList.size() &gt; 0) &#123; return studentList.get(0); &#125; else &#123; return null; &#125; &#125;&#125;Âú®ÂºïÂÖ•spring-boot-starter-jdbcÈ©±Âä®ÂêéÔºåÂèØÁõ¥Êé•Âú®Á±ª‰∏≠Ê≥®ÂÖ•JdbcTemplate„ÄÇÁî±‰∏äÈù¢‰ª£Á†ÅÂèØÂèëÁé∞ÔºåÂØπ‰∫é‰øùÂ≠òÊìç‰ΩúÊúâ‰∏§Áßç‰∏çÂêåÁöÑÊñπÊ≥ïÔºåÂΩìÊèíÂÖ•ÁöÑË°®Â≠óÊÆµËæÉÂ§öÁöÑÊÉÖÂÜµ‰∏ãÔºåÊé®Ëçê‰ΩøÁî®NamedParameterJdbcTemplate„ÄÇÂØπ‰∫éËøîÂõûÁªìÊûúÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®List&lt;Map&lt;String, Object&gt;&gt;Êù•Êé•Êî∂ÔºåËøô‰πüÊòØ‰∏™‰∫∫ÊØîËæÉÊé®Ëçê‰ΩøÁî®ÁöÑÊñπÂºèÔºåÊØïÁ´üÊØîËæÉÁÆÄÂçïÊñπ‰æøÔºõ‰πüÂèØ‰ª•‰ΩøÁî®Â∫ìË°®ÂØπÂ∫îÁöÑÂÆû‰ΩìÂØπË±°Êù•Êé•Êî∂Ôºå‰∏çËøáËøôÊó∂ÂÄôÊàë‰ª¨Â∞±ÈúÄË¶ÅÊâãÂä®ÂàõÂª∫‰∏Ä‰∏™ÂÆûÁé∞‰∫Üorg.springframework.jdbc.core.RowMapperÁöÑÂØπË±°ÔºåÁî®‰∫éÂ∞ÜÂÆû‰ΩìÂØπË±°Â±ûÊÄßÂíåÂ∫ìË°®Â≠óÊÆµ‰∏Ä‰∏ÄÂØπÂ∫îÔºö12345678910public class StudentMapper implements RowMapper&lt;Student&gt;&#123; @Override public Student mapRow(ResultSet rs, int rowNum) throws SQLException &#123; Student student = new Student(); student.setSno(rs.getString("sno")); student.setName(rs.getString("sname")); student.setSex(rs.getString("ssex")); return student; &#125;&#125;ÊµãËØïÊúÄÁªàÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂêØÂä®È°πÁõÆÔºåÊµãËØïÊèíÂÖ•Êï∞ÊçÆhttp://localhost:8080/web/addstudent?sno=004&amp;name=Maria&amp;sex=FÔºöÊü•ËØ¢ÊâÄÊúâÂ≠¶ÁîüÊï∞ÊçÆhttp://localhost:8080/web/queryallstudent:ÊµãËØïÂà†Èô§http://localhost:8080/web/deletestudent?sno=004Ôºösource code]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏≠‰ΩøÁî®MyBatis]]></title>
    <url>%2FSpring-Boot%20Mybatis.html</url>
    <content type="text"><![CDATA[Êï¥ÂêàMyBatis‰πãÂâçÔºåÂÖàÊê≠Âª∫‰∏Ä‰∏™Âü∫Êú¨ÁöÑSpring BootÈ°πÁõÆÂºÄÂêØSpring Boot„ÄÇÁÑ∂ÂêéÂºïÂÖ•mybatis-spring-boot-starterÂíåÊï∞ÊçÆÂ∫ìËøûÊé•È©±Âä®ÔºàËøôÈáå‰ΩøÁî®ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìOracle 11gÔºâ„ÄÇmybatis-spring-boot-starterÂú®pom‰∏≠ÂºïÂÖ•Ôºö12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt;‰∏çÂêåÁâàÊú¨ÁöÑSpring BootÂíåMyBatisÁâàÊú¨ÂØπÂ∫î‰∏ç‰∏ÄÊ†∑ÔºåÂÖ∑‰ΩìÂèØÊü•ÁúãÂÆòÊñπÊñáÊ°£Ôºöhttp://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/„ÄÇÈÄöËøádependency:treeÂëΩ‰ª§Êü•Áúãmybatis-spring-boot-starterÈÉΩÊúâÂì™‰∫õÈöêÊÄß‰æùËµñÔºö123456789+- org.mybatis.spring.boot:mybatis-spring-boot-starter:jar:1.3.1:compile| +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.5.9.RELEASE:compile| | +- org.apache.tomcat:tomcat-jdbc:jar:8.5.23:compile| | | \- org.apache.tomcat:tomcat-juli:jar:8.5.23:compile| | \- org.springframework:spring-jdbc:jar:4.3.13.RELEASE:compile| | \- org.springframework:spring-tx:jar:4.3.13.RELEASE:compile| +- org.mybatis.spring.boot:mybatis-spring-boot-autoconfigure:jar:1.3.1:compile| +- org.mybatis:mybatis:jar:3.4.5:compile| \- org.mybatis:mybatis-spring:jar:1.3.1:compileÂèØÂèëÁé∞ÂÖ∂ÂåÖÂê´‰∫Üspring-boot-starter-jdbc‰æùËµñÔºåÈªòËÆ§‰ΩøÁî®tomcat-jdbcÊï∞ÊçÆÊ∫ê„ÄÇÂºïÂÖ•ojdbc6Áî±‰∫éÁâàÊùÉÁöÑÂéüÂõ†ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞Üojdbc6.jar‰æùËµñÂÆâË£ÖÂà∞Êú¨Âú∞ÁöÑmaven‰ªìÂ∫ìÔºåÁÑ∂ÂêéÊâçÂèØ‰ª•Âú®pom‰∏≠ËøõË°åÈÖçÁΩÆ„ÄÇ‰∏ãËΩΩojdbc6.jarÊñá‰ª∂ÂêéÔºåÂ∞ÜÂÖ∂ÊîæÂà∞ÊØîËæÉÂ•ΩÊâæÁöÑÁõÆÂΩï‰∏ãÔºåÊØîÂ¶ÇDÁõòÊ†πÁõÆÂΩï„ÄÇÁÑ∂ÂêéËøêË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö123456789101112131415C:\Users\Administrator&gt;mvn install:install-file -Dfile=D:/ojdbc6.jar -DgroupId=com.oracle -DartifactId=ojdbc6 -Dversion=6.0 -Dpackaging=jar -DgeneratePom=true...[INFO] --- maven-install-plugin:2.4:install-file (default-cli) @ standalone-pom ---[INFO] Installing D:\ojdbc6.jar to D:\m2\repository\com\oracle\ojdbc6\6.0\ojdbc6-6.0.jar[INFO] Installing C:\Users\ADMINI~1\AppData\Local\Temp\mvninstall9103688544010617483.pom to D:\m2\repository\com\oracle\ojdbc6\6.0\ojdbc6-6.0.pom[INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 0.940 s[INFO] Finished at: 2017-08-13T15:06:38+08:00[INFO] Final Memory: 6M/145M[INFO] ------------------------------------------------------------------------Êé•ÁùÄÂú®pom‰∏≠ÂºïÂÖ•Ôºö12345&lt;dependency&gt; &lt;groupId&gt;com.oracle&lt;/groupId&gt; &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt; &lt;version&gt;6.0&lt;/version&gt;&lt;/dependency&gt;ËøôÈáåÁöÑgroupidÂ∞±ÊòØ‰Ω†‰πãÂâçÂÆâË£ÖÊó∂ÊåáÂÆöÁöÑ-DgroupidÁöÑÂÄºÔºåartifactidÂ∞±ÊòØ‰Ω†ÂÆâË£ÖÊó∂ÊåáÂÆöÁöÑ-DartifactidÁöÑÂÄºÔºåversion‰πü‰∏ÄÊ†∑„ÄÇDruidÊï∞ÊçÆÊ∫êDruidÊòØ‰∏Ä‰∏™ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†ÔºåÊòØÈòøÈáåÂ∑¥Â∑¥ÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êÈ°πÁõÆÔºåÂú∞ÂùÄÔºöhttps://github.com/alibaba/druid„ÄÇDruid‰∏ç‰ΩÜÊèê‰æõËøûÊé•Ê±†ÁöÑÂäüËÉΩÔºåËøòÊèê‰æõÁõëÊéßÂäüËÉΩÔºåÂèØ‰ª•ÂÆûÊó∂Êü•ÁúãÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†ÂíåSQLÊü•ËØ¢ÁöÑÂ∑•‰ΩúÊÉÖÂÜµ„ÄÇÈÖçÁΩÆDruid‰æùËµñDruid‰∏∫Spring BootÈ°πÁõÆÊèê‰æõ‰∫ÜÂØπÂ∫îÁöÑstarterÔºö12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt;&lt;/dependency&gt;DruidÊï∞ÊçÆÊ∫êÈÖçÁΩÆ‰∏äÈù¢ÈÄöËøáÊü•Áúãmybatis starterÁöÑÈöêÊÄß‰æùËµñÂèëÁé∞ÔºåSpring BootÁöÑÊï∞ÊçÆÊ∫êÈÖçÁΩÆÁöÑÈªòËÆ§Á±ªÂûãÊòØorg.apache.tomcat.jdbc.pool.DatasourceÔºå‰∏∫‰∫Ü‰ΩøÁî®DruidËøûÊé•Ê±†ÔºåÈúÄË¶ÅÂú®application.yml‰∏ãÈÖçÁΩÆÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263server: context-path: /webspring: datasource: druid: # Êï∞ÊçÆÂ∫ìËÆøÈóÆÈÖçÁΩÆ, ‰ΩøÁî®druidÊï∞ÊçÆÊ∫ê type: com.alibaba.druid.pool.DruidDataSource driver-class-name: oracle.jdbc.driver.OracleDriver url: jdbc:oracle:thin:@localhost:1521:ORCL username: scott password: 123456 # ËøûÊé•Ê±†ÈÖçÁΩÆ initial-size: 5 min-idle: 5 max-active: 20 # ËøûÊé•Á≠âÂæÖË∂ÖÊó∂Êó∂Èó¥ max-wait: 30000 # ÈÖçÁΩÆÊ£ÄÊµãÂèØ‰ª•ÂÖ≥Èó≠ÁöÑÁ©∫Èó≤ËøûÊé•Èó¥ÈöîÊó∂Èó¥ time-between-eviction-runs-millis: 60000 # ÈÖçÁΩÆËøûÊé•Âú®Ê±†‰∏≠ÁöÑÊúÄÂ∞èÁîüÂ≠òÊó∂Èó¥ min-evictable-idle-time-millis: 300000 validation-query: select '1' from dual test-while-idle: true test-on-borrow: false test-on-return: false # ÊâìÂºÄPSCacheÔºåÂπ∂‰∏îÊåáÂÆöÊØè‰∏™ËøûÊé•‰∏äPSCacheÁöÑÂ§ßÂ∞è pool-prepared-statements: true max-open-prepared-statements: 20 max-pool-prepared-statement-per-connection-size: 20 # ÈÖçÁΩÆÁõëÊéßÁªüËÆ°Êã¶Êà™ÁöÑfilters, ÂéªÊéâÂêéÁõëÊéßÁïåÈù¢sqlÊó†Ê≥ïÁªüËÆ°, 'wall'Áî®‰∫éÈò≤ÁÅ´Â¢ô filters: stat,wall # SpringÁõëÊéßAOPÂàáÂÖ•ÁÇπÔºåÂ¶Çx.y.z.service.*,ÈÖçÁΩÆÂ§ö‰∏™Ëã±ÊñáÈÄóÂè∑ÂàÜÈöî aop-patterns: com.springboot.servie.* # WebStatFilterÈÖçÁΩÆ web-stat-filter: enabled: true # Ê∑ªÂä†ËøáÊª§ËßÑÂàô url-pattern: /* # ÂøΩÁï•ËøáÊª§ÁöÑÊ†ºÂºè exclusions: '*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*' # StatViewServletÈÖçÁΩÆ stat-view-servlet: enabled: true # ËÆøÈóÆË∑ØÂæÑ‰∏∫/druidÊó∂ÔºåË∑≥ËΩ¨Âà∞StatViewServlet url-pattern: /druid/* # ÊòØÂê¶ËÉΩÂ§üÈáçÁΩÆÊï∞ÊçÆ reset-enable: false # ÈúÄË¶ÅË¥¶Âè∑ÂØÜÁ†ÅÊâçËÉΩËÆøÈóÆÊéßÂà∂Âè∞ login-username: druid login-password: druid123 # IPÁôΩÂêçÂçï # allow: 127.0.0.1 # IPÈªëÂêçÂçïÔºàÂÖ±ÂêåÂ≠òÂú®Êó∂Ôºådeny‰ºòÂÖà‰∫éallowÔºâ # deny: 192.168.1.218 # ÈÖçÁΩÆStatFilter filter: stat: log-slow-sql: true‰∏äËø∞ÈÖçÁΩÆ‰∏ç‰ΩÜÈÖçÁΩÆ‰∫ÜDruid‰Ωú‰∏∫ËøûÊé•Ê±†ÔºåËÄå‰∏îËøòÂºÄÂêØ‰∫ÜDruidÁöÑÁõëÊéßÂäüËÉΩ„ÄÇ ÂÖ∂‰ªñÈÖçÁΩÆÂèØÂèÇËÄÉÂÆòÊñπwiki‚Äî‚Äîhttps://github.com/alibaba/druid/tree/master/druid-spring-boot-starterÊ≠§Êó∂ÔºåËøêË°åÈ°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/web/druidÔºöËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†ÅÂç≥ÂèØÁúãÂà∞DruidÁõëÊéßÂêéÂè∞ÔºöÂÖ≥‰∫éDruidÁöÑÊõ¥Â§öËØ¥ÊòéÔºåÂèØÊü•ÁúãÂÆòÊñπwiki‚Äî‚Äîhttps://github.com/alibaba/druid/wiki/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98‰ΩøÁî®MyBatis‰ΩøÁî®ÁöÑÂ∫ìË°®Ôºö123456789CREATE TABLE "SCOTT"."STUDENT" ( "SNO" VARCHAR2(3 BYTE) NOT NULL , "SNAME" VARCHAR2(9 BYTE) NOT NULL , "SSEX" CHAR(2 BYTE) NOT NULL );INSERT INTO "SCOTT"."STUDENT" VALUES ('001', 'KangKang', 'M ');INSERT INTO "SCOTT"."STUDENT" VALUES ('002', 'Mike', 'M ');INSERT INTO "SCOTT"."STUDENT" VALUES ('003', 'Jane', 'F ');ÂàõÂª∫ÂØπÂ∫îÂÆû‰ΩìÔºö1234567public class Student implements Serializable&#123; private static final long serialVersionUID = -339516038496531943L; private String sno; private String name; private String sex; // get,setÁï•&#125;ÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´Âü∫Êú¨CRUDÁöÑStudentMapperÔºö123456public interface StudentMapper &#123; int add(Student student); int update(Student student); int deleteByIds(String sno); Student queryStudentById(Long id);&#125;StudentMapperÁöÑÂÆûÁé∞ÂèØ‰ª•Âü∫‰∫éxml‰πüÂèØ‰ª•Âü∫‰∫éÊ≥®Ëß£„ÄÇ‰ΩøÁî®Ê≥®Ëß£ÊñπÂºèÁªßÁª≠ÁºñËæëStudentMapperÔºö12345678910111213141516171819@Component@Mapperpublic interface StudentMapper &#123; @Insert("insert into student(sno,sname,ssex) values(#&#123;sno&#125;,#&#123;name&#125;,#&#123;sex&#125;)") int add(Student student); @Update("update student set sname=#&#123;name&#125;,ssex=#&#123;sex&#125; where sno=#&#123;sno&#125;") int update(Student student); @Delete("delete from student where sno=#&#123;sno&#125;") int deleteBysno(String sno); @Select("select * from student where sno=#&#123;sno&#125;") @Results(id = "student",value= &#123; @Result(property = "sno", column = "sno", javaType = String.class), @Result(property = "name", column = "sname", javaType = String.class), @Result(property = "sex", column = "ssex", javaType = String.class) &#125;) Student queryStudentBySno(String sno);ÁÆÄÂçïÁöÑËØ≠Âè•Âè™ÈúÄË¶Å‰ΩøÁî®@Insert„ÄÅ@Update„ÄÅ@Delete„ÄÅ@SelectËøô4‰∏™Ê≥®Ëß£Âç≥ÂèØÔºåÂä®ÊÄÅSQLËØ≠Âè•ÈúÄË¶Å‰ΩøÁî®@InsertProvider„ÄÅ@UpdateProvider„ÄÅ@DeleteProvider„ÄÅ@SelectProviderÁ≠âÊ≥®Ëß£„ÄÇÂÖ∑‰ΩìÂèØÂèÇËÄÉMyBatisÂÆòÊñπÊñáÊ°£Ôºöhttp://www.mybatis.org/mybatis-3/zh/java-api.html„ÄÇ‰ΩøÁî®xmlÊñπÂºè‰ΩøÁî®xmlÊñπÂºèÈúÄË¶ÅÂú®application.yml‰∏≠ËøõË°å‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÈÖçÁΩÆÔºö1234567mybatis: # type-aliasesÊâ´ÊèèË∑ØÂæÑ # type-aliases-package: # mapper xmlÂÆûÁé∞Êâ´ÊèèË∑ØÂæÑ mapper-locations: classpath:mapper/*.xml property: order: BEFOREÊµãËØïÊé•‰∏ãÊù•ÁºñÂÜôServiceÔºö123456public interface StudentService &#123; int add(Student student); int update(Student student); int deleteBysno(String sno); Student queryStudentBySno(String sno);&#125;ÂÆûÁé∞Á±ªÔºö12345678910111213141516171819202122232425@Service("studentService")public class StudentServiceImp implements StudentService&#123; @Autowired private StudentMapper studentMapper; @Override public int add(Student student) &#123; return this.studentMapper.add(student); &#125; @Override public int update(Student student) &#123; return this.studentMapper.update(student); &#125; @Override public int deleteBysno(String sno) &#123; return this.studentMapper.deleteBysno(sno); &#125; @Override public Student queryStudentBySno(String sno) &#123; return this.studentMapper.queryStudentBySno(sno); &#125;&#125;ÁºñÂÜôcontrollerÔºö1234567891011@RestControllerpublic class TestController &#123; @Autowired private StudentService studentService; @RequestMapping( value = "/querystudent", method = RequestMethod.GET) public Student queryStudentBySno(String sno) &#123; return this.studentService.queryStudentBySno(sno); &#125;&#125;ÂÆåÊï¥ÁöÑÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂêØÂä®È°πÁõÆËÆøÈóÆÔºöhttp://localhost:8080/web/querystudent?sno=001ÔºöÊü•ÁúãSQLÁõëÊéßÊÉÖÂÜµÔºöÂèØÁúãÂà∞ÂÖ∂ËÆ∞ÂΩïÁöÑÂ∞±ÊòØÂàöÂàöËÆøÈóÆ/querystudentÂæóÂà∞ÁöÑSQL„ÄÇsource code]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
        <tag>MyBatis</tag>
        <tag>Druid</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot‰∏Ä‰∫õÂü∫Á°ÄÈÖçÁΩÆ]]></title>
    <url>%2FSpring-Boot%20basic%20config.html</url>
    <content type="text"><![CDATA[ÂÆöÂà∂BannerSpring BootÈ°πÁõÆÂú®ÂêØÂä®ÁöÑÊó∂ÂÄô‰ºöÊúâ‰∏Ä‰∏™ÈªòËÆ§ÁöÑÂêØÂä®ÂõæÊ°àÔºö1234567 . ____ _ __ _ _ /\\ / ___&apos;_ __ _ _(_)_ __ __ _ \ \ \ \( ( )\___ | &apos;_ | &apos;_| | &apos;_ \/ _` | \ \ \ \ \\/ ___)| |_)| | | | | || (_| | ) ) ) ) &apos; |____| .__|_| |_|_| |_\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot :: (v1.5.9.RELEASE)Êàë‰ª¨ÂèØ‰ª•ÊääËøô‰∏™ÂõæÊ°à‰øÆÊîπ‰∏∫Ëá™Â∑±ÊÉ≥Ë¶ÅÁöÑ„ÄÇÂú®src/main/resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫banner.txtÊñá‰ª∂ÔºåÁÑ∂ÂêéÂ∞ÜËá™Â∑±ÁöÑÂõæÊ°àÈªèË¥¥ËøõÂéªÂç≥ÂèØ„ÄÇASCIIÂõæÊ°àÂèØÈÄöËøáÁΩëÁ´ôhttp://www.network-science.de/ascii/‰∏ÄÈîÆÁîüÊàêÔºåÊØîÂ¶ÇËæìÂÖ•mrbirdÁîüÊàêÂõæÊ°àÂêéÂ§çÂà∂Âà∞banner.txtÔºåÂêØÂä®È°πÁõÆÔºåeclipseÊéßÂà∂Âè∞ËæìÂá∫Â¶Ç‰∏ãÔºö12345678 _ _ _ _ _ _ / \ / \ / \ / \ / \ / \ ( m | r | b | i | r | d ) \_/ \_/ \_/ \_/ \_/ \_/ ...2017-08-12 10:11:25.952 INFO 7160 --- [main] o.s.j.e.a.AnnotationMBeanExporter : Registering beans for JMX exposure on startup2017-08-12 10:11:26.057 INFO 7160 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)2017-08-12 10:11:26.064 INFO 7160 --- [main] com.springboot.demo.DemoApplication : Started DemoApplication in 3.933 seconds (JVM running for 4.241)banner‰πüÂèØ‰ª•ÂÖ≥Èó≠ÔºåÂú®mainÊñπÊ≥ï‰∏≠Ôºö12345public static void main(String[] args) &#123; SpringApplication app = new SpringApplication(DemoApplication.class); app.setBannerMode(Mode.OFF); app.run(args);&#125;ÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂Âú®src/main/resourcesÁõÆÂΩï‰∏ãÔºåSpring BootÊèê‰æõ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫application.propertiesÁöÑÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂ÔºåÂèØÂØπ‰∏Ä‰∫õÈªòËÆ§ÈÖçÁΩÆÁöÑÈÖçÁΩÆÂÄºËøõË°å‰øÆÊîπ„ÄÇÈôÑÔºöapplication.properties‰∏≠ÂèØÈÖçÁΩÆÊâÄÊúâÂÆòÊñπÂ±ûÊÄßËá™ÂÆö‰πâÂ±ûÊÄßÂÄºSpring BootÂÖÅËÆ∏Êàë‰ª¨Âú®application.properties‰∏ãËá™ÂÆö‰πâ‰∏Ä‰∫õÂ±ûÊÄßÔºåÊØîÂ¶ÇÔºö12mrbird.blog.name=mrbird's blogmrbird.blog.title=Spring BootÂÆö‰πâ‰∏Ä‰∏™BlogProperties BeanÔºåÈÄöËøá@Value(&quot;${Â±ûÊÄßÂêç}&quot;)Êù•Âä†ËΩΩÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂ±ûÊÄßÂÄºÔºö1234567891011@Componentpublic class BlogProperties &#123; @Value("$&#123;mrbird.blog.name&#125;") private String name; @Value("$&#123;mrbird.blog.title&#125;") private String title; // get,setÁï• &#125;ÁºñÂÜôIndexControllerÔºåÊ≥®ÂÖ•ËØ•BeanÔºö12345678910@RestControllerpublic class IndexController &#123; @Autowired private BlogProperties blogProperties; @RequestMapping("/") String index() &#123; return blogProperties.getName()+"‚Äî‚Äî"+blogProperties.getTitle(); &#125;&#125;ÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080ÔºåÈ°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöÂú®Â±ûÊÄßÈùûÂ∏∏Â§öÁöÑÊÉÖÂÜµ‰∏ãÔºå‰πüÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ÂíåÈÖçÁΩÆÊñá‰ª∂ÂØπÂ∫îÁöÑBeanÔºö123456@ConfigurationProperties(prefix="mrbird.blog")public class ConfigBean &#123; private String name; private String title; // get,setÁï•&#125;ÈÄöËøáÊ≥®Ëß£@ConfigurationProperties(prefix=&quot;mrbird.blog&quot;)ÊåáÊòé‰∫ÜÂ±ûÊÄßÁöÑÈÄöÁî®ÂâçÁºÄÔºåÈÄöÁî®ÂâçÁºÄÂä†Â±ûÊÄßÂêçÂíåÈÖçÁΩÆÊñá‰ª∂ÁöÑÂ±ûÊÄßÂêç‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇÈô§Ê≠§‰πãÂ§ñËøòÈúÄÂú®Spring BootÂÖ•Âè£Á±ªÂä†‰∏äÊ≥®Ëß£@EnableConfigurationProperties({ConfigBean.class})Êù•ÂêØÁî®ËØ•ÈÖçÁΩÆÔºö12345678@SpringBootApplication@EnableConfigurationProperties(&#123;ConfigBean.class&#125;)public class Application &#123; public static void main(String[] args) &#123; SpringApplication.run(Application.class, args); &#125;&#125;‰πãÂêé‰æøÂèØÂú®IndexController‰∏≠Ê≥®ÂÖ•ËØ•BeanÔºåÂπ∂‰ΩøÁî®‰∫ÜÔºö12345678910@RestControllerpublic class IndexController &#123; @Autowired private ConfigBean configBean; @RequestMapping("/") String index() &#123; return configBean.getName()+"‚Äî‚Äî"+configBean.getTitle(); &#125;&#125;Â±ûÊÄßÈó¥ÁöÑÂºïÁî®Âú®application.propertiesÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂêÑ‰∏™Â±ûÊÄßÂèØ‰ª•Áõ∏‰∫íÂºïÁî®ÔºåÂ¶Ç‰∏ãÔºö123mrbird.blog.name=mrbird&apos;s blogmrbird.blog.title=Spring Bootmrbird.blog.wholeTitle=$&#123;mrbird.blog.name&#125;--$&#123;mrbird.blog.title&#125;Ëá™ÂÆö‰πâÈÖçÁΩÆÊñá‰ª∂Èô§‰∫ÜÂèØ‰ª•Âú®application.propertiesÈáåÈÖçÁΩÆÂ±ûÊÄßÔºåÊàë‰ª¨ËøòÂèØ‰ª•Ëá™ÂÆö‰πâ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂„ÄÇÂú®src/main/resourcesÁõÆÂΩï‰∏ãÊñ∞Âª∫‰∏Ä‰∏™test.properties:12test.name=KangKangtest.age=25ÂÆö‰πâ‰∏Ä‰∏™ÂØπÂ∫îËØ•ÈÖçÁΩÆÊñá‰ª∂ÁöÑBeanÔºö123456789@Configuration@ConfigurationProperties(prefix="test")@PropertySource("classpath:test.properties")@Componentpublic class TestConfigBean &#123; private String name; private int age; // get,setÁï•&#125;Ê≥®Ëß£@PropertySource(&quot;classpath:test.properties&quot;)ÊåáÊòé‰∫Ü‰ΩøÁî®Âì™‰∏™ÈÖçÁΩÆÊñá‰ª∂„ÄÇË¶Å‰ΩøÁî®ËØ•ÈÖçÁΩÆBeanÔºåÂêåÊ†∑‰πüÈúÄË¶ÅÂú®ÂÖ•Âè£Á±ªÈáå‰ΩøÁî®Ê≥®Ëß£@EnableConfigurationProperties({TestConfigBean.class})Êù•ÂêØÁî®ËØ•ÈÖçÁΩÆ„ÄÇÈÄöËøáÂëΩ‰ª§Ë°åËÆæÁΩÆÂ±ûÊÄßÂÄºÂú®ËøêË°åSpring Boot jarÊñá‰ª∂Êó∂ÔºåÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§java -jar xxx.jar --server.port=8081Êù•ÊîπÂèòÁ´ØÂè£ÁöÑÂÄº„ÄÇËøôÊù°ÂëΩ‰ª§Á≠â‰ª∑‰∫éÊàë‰ª¨ÊâãÂä®Âà∞application.properties‰∏≠‰øÆÊîπÔºàÂ¶ÇÊûúÊ≤°ÊúâËøôÊù°Â±ûÊÄßÁöÑËØùÂ∞±Ê∑ªÂä†Ôºâserver.portÂ±ûÊÄßÁöÑÂÄº‰∏∫8081„ÄÇÂ¶ÇÊûú‰∏çÊÉ≥È°πÁõÆÁöÑÈÖçÁΩÆË¢´ÂëΩ‰ª§Ë°å‰øÆÊîπÔºåÂèØ‰ª•Âú®ÂÖ•Âè£Êñá‰ª∂ÁöÑmainÊñπÊ≥ï‰∏≠ËøõË°åÂ¶Ç‰∏ãËÆæÁΩÆÔºö12345public static void main(String[] args) &#123; SpringApplication app = new SpringApplication(Application.class); app.setAddCommandLineProperties(false); app.run(args);&#125;‰ΩøÁî®xmlÈÖçÁΩÆËôΩÁÑ∂Spring BootÂπ∂‰∏çÊé®ËçêÊàë‰ª¨ÁªßÁª≠‰ΩøÁî®xmlÈÖçÁΩÆÔºå‰ΩÜÂ¶ÇÊûúÂá∫Áé∞‰∏çÂæó‰∏ç‰ΩøÁî®xmlÈÖçÁΩÆÁöÑÊÉÖÂÜµÔºåSpring BootÂÖÅËÆ∏Êàë‰ª¨Âú®ÂÖ•Âè£Á±ªÈáåÈÄöËøáÊ≥®Ëß£@ImportResource({&quot;classpath:some-application.xml&quot;})Êù•ÂºïÂÖ•xmlÈÖçÁΩÆÊñá‰ª∂„ÄÇProfileÈÖçÁΩÆProfileÁî®Êù•ÈíàÂØπ‰∏çÂêåÁöÑÁéØÂ¢É‰∏ã‰ΩøÁî®‰∏çÂêåÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂ§öÁéØÂ¢ÉÈÖçÁΩÆÊñá‰ª∂ÂøÖÈ°ª‰ª•application-{profile}.propertiesÁöÑÊ†ºÂºèÂëΩÔºåÂÖ∂‰∏≠{profile}‰∏∫ÁéØÂ¢ÉÊ†áËØÜ„ÄÇÊØîÂ¶ÇÂÆö‰πâ‰∏§‰∏™ÈÖçÁΩÆÊñá‰ª∂Ôºöapplication-dev.propertiesÔºöÂºÄÂèëÁéØÂ¢É1server.port=8080application-prod.propertiesÔºöÁîü‰∫ßÁéØÂ¢É1server.port=8081Ëá≥‰∫éÂì™‰∏™ÂÖ∑‰ΩìÁöÑÈÖçÁΩÆÊñá‰ª∂‰ºöË¢´Âä†ËΩΩÔºåÈúÄË¶ÅÂú®application.propertiesÊñá‰ª∂‰∏≠ÈÄöËøáspring.profiles.activeÂ±ûÊÄßÊù•ËÆæÁΩÆÔºåÂÖ∂ÂÄºÂØπÂ∫î{profile}ÂÄº„ÄÇÂ¶ÇÔºöspring.profiles.active=devÂ∞±‰ºöÂä†ËΩΩapplication-dev.propertiesÈÖçÁΩÆÊñá‰ª∂ÂÜÖÂÆπ„ÄÇÂèØ‰ª•Âú®ËøêË°åjarÊñá‰ª∂ÁöÑÊó∂ÂÄô‰ΩøÁî®ÂëΩ‰ª§java -jar xxx.jar --spring.profiles.active={profile}ÂàáÊç¢‰∏çÂêåÁöÑÁéØÂ¢ÉÈÖçÁΩÆ„ÄÇsource code]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂºÄÂêØSpring Boot]]></title>
    <url>%2F%E5%BC%80%E5%90%AFSpring-Boot.html</url>
    <content type="text"><![CDATA[Spring BootÊòØÂú®SpringÊ°ÜÊû∂‰∏äÂàõÂª∫ÁöÑ‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÊ°ÜÊû∂ÔºåÂÖ∂ËÆæËÆ°ÁõÆÁöÑÊòØÁÆÄÂåñSpringÂ∫îÁî®ÁöÑÊê≠Âª∫ÂíåÂºÄÂèëËøáÁ®ã„ÄÇÂºÄÂêØSpring BootÊúâËÆ∏Â§öÁßçÊñπÊ≥ïÂèØ‰æõÈÄâÊã©ÔºåËøôÈáå‰ªÖ‰ªãÁªç‰ΩøÁî®http://start.spring.io/Êù•ÊûÑÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑSpring BootÈ°πÁõÆ„ÄÇÁîüÊàêÈ°πÁõÆÊñá‰ª∂ËÆøÈóÆhttp://start.spring.io/ÔºåÈ°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöËøôÈáåÈÄâÊã©‰ª•MavenÊûÑÂª∫ÔºåËØ≠Ë®ÄÈÄâÊã©JavaÔºåSpring BootÁâàÊú¨‰∏∫1.5.9„ÄÇÁÑ∂ÂêéÁÇπÂáªSwitch to the full versionÔºåÂèØÁúãÂà∞Êõ¥Â§öÁöÑÈÖçÁΩÆ‰ª•Âèä‰æùËµñÈÄâÊã©ÔºöÂú®È°πÁõÆ‰ø°ÊÅØÈáåÈÄâÊã©‰ª•jarÂåÖÁöÑÊñπÂºèÈÉ®ÁΩ≤ÔºåJavaÁâàÊú¨‰∏∫7„ÄÇÂú®È°µÈù¢ÁöÑ‰∏ãÊñπËøòÂèØ‰ª•ÈÄâÊã©ËØ∏Â§öÁöÑ‰æùËµñÔºåËøôÈáå‰ªÖÈÄâÊã©webËøõË°åÊºîÁ§∫ÔºöÊúÄÂêéÁÇπÂáªÈ°µÈù¢ÁöÑgenerate projectÊåâÈíÆÁîüÊàêÈ°πÁõÆÊñá‰ª∂„ÄÇÊñá‰ª∂‰∏ãËΩΩÂêéÊòØ‰∏Ä‰∏™ÂéãÁº©ÂåÖÔºåËøõË°åËß£ÂéãÁÑ∂Âêé‰ΩøÁî®eclipse‰ª•MavenÈ°πÁõÆÁöÑÂΩ¢ÂºèÂØºÂÖ•„ÄÇÂØºÂÖ•Âêéeclipse‰ºöËá™Âä®ÁºñËØëÈ°πÁõÆÂπ∂‰∏ãËΩΩÁõ∏Â∫îÁöÑ‰æùËµñÔºåÈ°πÁõÆÁõÆÂΩïÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÁÆÄÂçïÊºîÁ§∫È°πÁõÆÊ†πÁõÆÂΩï‰∏ãÁîüÊàê‰∫Ü‰∏Ä‰∏™artifactId+ApplicationÂëΩÂêçËßÑÂàôÁöÑÂÖ•Âè£Á±ªÔºå‰∏∫‰∫ÜÊºîÁ§∫ÁÆÄÂçïÔºå‰∏çÂÜçÊñ∞Âª∫ÊéßÂà∂Âô®ÔºåÁõ¥Êé•Âú®ÂÖ•Âè£Á±ª‰∏≠ÁºñÂÜô‰ª£Á†ÅÔºö1234567891011121314151617181920package com.springboot.demo;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RestController@SpringBootApplicationpublic class DemoApplication &#123; @RequestMapping("/") String index() &#123; return "hello spring boot"; &#125; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125;ÁÑ∂ÂêéÂè≥ÈîÆÁÇπÂáªDemoApplictionÔºåÈÄâÊã©run as ‚Üí Java ApplicationÔºöËÆøÈóÆhttp://localhost:8080ÔºåÈ°µÈù¢ÊòæÁ§∫Â¶Ç‰∏ãÔºöÊâìÂåÖÂèëÂ∏ÉÂú®eclipse‰∏≠Âè≥ÂáªÈ°πÁõÆÔºåÈÄâÊã©run as ‚Üí Maven build‚Ä¶ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂú®Goals‰∏≠ËæìÂÖ•clean packageÂëΩ‰ª§ÔºåÁÑ∂ÂêéÁÇπÂáª‰∏ãÊñπÁöÑrunÂ∞±Â∞ÜÈ°πÁõÆÊâìÂåÖÊàêjarÂåÖÔºàÂàùÊ¨°ÊâìÂåÖ‰ºöËá™Âä®‰∏ãËΩΩ‰∏Ä‰∫õ‰æùËµñÔºâ„ÄÇÊâìÂåÖÂÆåÊØïÂêéÂèØÁúãÂà∞È°πÁõÆÁõÆÂΩïtargetÊñá‰ª∂Â§π‰∏ãÁîüÊàê‰∫Ü‰∏Ä‰∏™jarÊñá‰ª∂ÔºöÁîüÊàêjarÂåÖÂêéÔºåcdÂà∞targetÁõÆÂΩï‰∏ãÔºåÊâßË°å‰ª•‰∏ãÂëΩ‰ª§ÔºöËÆøÈóÆhttp://localhost:8080ÔºåÊïàÊûúÂ¶Ç‰∏ä„ÄÇËÅäËÅäpom.xmlÊâìÂºÄpom.xmlÂèØÁúãÂà∞ÈÖçÁΩÆÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.springboot&lt;/groupId&gt; &lt;artifactId&gt;demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.7&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt;spring-boot-starter-parentspring-boot-starter-parentÊåáÂÆö‰∫ÜÂΩìÂâçÈ°πÁõÆ‰∏∫‰∏Ä‰∏™Spring BootÈ°πÁõÆÔºåÂÆÉÊèê‰æõ‰∫ÜËØ∏Â§öÁöÑÈªòËÆ§Maven‰æùËµñÔºåÂÖ∑‰ΩìÂèØÊü•ÁúãÁõÆÂΩïD:\m2\repository\org\springframework\boot\spring-boot-dependencies\1.5.9.RELEASE‰∏ãÁöÑspring-boot-dependencies-1.5.9.RELEASE.pomÊñá‰ª∂ÔºåËøôÈáå‰ªÖÊà™Âèñ‰∏ÄÂ∞èÈÉ®ÂàÜÔºö1234567891011121314151617181920212223&lt;properties&gt;... &lt;spring-security.version&gt;4.2.3.RELEASE&lt;/spring-security.version&gt; &lt;spring-security-jwt.version&gt;1.0.8.RELEASE&lt;/spring-security-jwt.version&gt; &lt;spring-security-oauth.version&gt;2.0.14.RELEASE&lt;/spring-security-oauth.version&gt; &lt;spring-session.version&gt;1.3.1.RELEASE&lt;/spring-session.version&gt; &lt;spring-social.version&gt;1.1.4.RELEASE&lt;/spring-social.version&gt; &lt;spring-social-facebook.version&gt;2.0.3.RELEASE&lt;/spring-social-facebook.version&gt; &lt;spring-social-linkedin.version&gt;1.0.2.RELEASE&lt;/spring-social-linkedin.version&gt; &lt;spring-social-twitter.version&gt;1.1.2.RELEASE&lt;/spring-social-twitter.version&gt; &lt;spring-ws.version&gt;2.4.2.RELEASE&lt;/spring-ws.version&gt; &lt;sqlite-jdbc.version&gt;3.15.1&lt;/sqlite-jdbc.version&gt; &lt;statsd-client.version&gt;3.1.0&lt;/statsd-client.version&gt; &lt;sun-mail.version&gt;$&#123;javax-mail.version&#125;&lt;/sun-mail.version&gt; &lt;thymeleaf.version&gt;2.1.6.RELEASE&lt;/thymeleaf.version&gt; &lt;thymeleaf-extras-springsecurity4.version&gt;2.1.3.RELEASE&lt;/thymeleaf-extras-springsecurity4.version&gt; &lt;thymeleaf-extras-conditionalcomments.version&gt;2.1.2.RELEASE&lt;/thymeleaf-extras-conditionalcomments.version&gt; &lt;thymeleaf-layout-dialect.version&gt;1.4.0&lt;/thymeleaf-layout-dialect.version&gt; &lt;thymeleaf-extras-data-attribute.version&gt;1.3&lt;/thymeleaf-extras-data-attribute.version&gt; &lt;thymeleaf-extras-java8time.version&gt;2.1.0.RELEASE&lt;/thymeleaf-extras-java8time.version&gt; &lt;tomcat.version&gt;8.5.23&lt;/tomcat.version&gt;... &lt;/properties&gt;ÈúÄË¶ÅËØ¥ÊòéÁöÑÊòØÔºåÂπ∂ÈùûÊâÄÊúâÂú®&lt;properties&gt;Ê†áÁ≠æ‰∏≠ÈÖçÁΩÆ‰∫ÜÁâàÊú¨Âè∑ÁöÑ‰æùËµñÈÉΩÊúâË¢´ÂêØÁî®ÔºåÂÖ∂ÂêØÁî®‰∏éÂê¶ÂèñÂÜ≥‰∫éÊÇ®ÊòØÂê¶ÈÖçÁΩÆ‰∫ÜÁõ∏Â∫îÁöÑstarter„ÄÇÊØîÂ¶ÇtomcatËøô‰∏™‰æùËµñÂ∞±ÊòØspring-boot-starter-webÁöÑ‰º†ÈÄíÊÄß‰æùËµñÔºà‰∏ãÈù¢Â∞Ü‰ºöÊèèËø∞Âà∞Ôºâ„ÄÇÂΩìÁÑ∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÊâãÂä®ÊîπÂèòËøô‰∫õ‰æùËµñÁöÑÁâàÊú¨„ÄÇÊØîÂ¶ÇÊàëÊÉ≥ÊääthymeleafÁöÑÁâàÊú¨Êîπ‰∏∫3.0.0.RELEASEÔºåÊàë‰ª¨ÂèØ‰ª•Âú®pom.xml‰∏≠ËøõË°åÂ¶Ç‰∏ãÈÖçÁΩÆÔºö123&lt;properties&gt; &lt;thymeleaf.version&gt;3.0.0.RELEASE&lt;/thymeleaf.version&gt;&lt;/properties&gt;spring-boot-starter-webSpring BootÊèê‰æõ‰∫ÜËÆ∏Â§öÂºÄÁÆ±Âç≥Áî®ÁöÑ‰æùËµñÊ®°ÂùóÔºåËøô‰∫õÊ®°ÂùóÈÉΩÊòØ‰ª•spring-boot-starter-XXÂëΩÂêçÁöÑ„ÄÇÊØîÂ¶ÇË¶ÅÂºÄÂêØSpring BootÁöÑwebÂäüËÉΩÔºåÂè™ÈúÄË¶ÅÂú®pom.xml‰∏≠ÈÖçÁΩÆspring-boot-starter-webÂç≥ÂèØÔºö1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;Âõ†‰∏∫ÂÖ∂‰æùËµñ‰∫éspring-boot-starter-parentÔºåÊâÄ‰ª•ËøôÈáåÂèØ‰ª•‰∏çÁî®ÈÖçÁΩÆversion„ÄÇ‰øùÂ≠òÂêéMaven‰ºöËá™Âä®Â∏ÆÊàë‰ª¨‰∏ãËΩΩspring-boot-starter-webÊ®°ÂùóÊâÄÂåÖÂê´ÁöÑjarÊñá‰ª∂„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂÖ∑‰ΩìÊü•Áúãspring-boot-starter-webÂåÖÂê´‰∫ÜÂì™‰∫õ‰æùËµñÔºåÊàë‰ª¨ÂèØ‰ª•Âè≥ÈîÆÈ°πÁõÆÈÄâÊã©run as ‚Üí Maven Build‚Ä¶ÔºåÂú®Goals‰∏≠ËæìÂÖ•ÂëΩ‰ª§dependency:treeÔºåÁÑ∂ÂêéÁÇπÂáªrunÂç≥ÂèØÂú®eclipseÊéßÂà∂Âè∞Êü•ÁúãÂà∞Â¶Ç‰∏ã‰ø°ÊÅØÔºö1234567891011121314151617181920212223242526272829[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.5.9.RELEASE:compile[INFO] | +- org.springframework.boot:spring-boot-starter:jar:1.5.9.RELEASE:compile[INFO] | | +- org.springframework.boot:spring-boot:jar:1.5.9.RELEASE:compile[INFO] | | +- org.springframework.boot:spring-boot-autoconfigure:jar:1.5.9.RELEASE:compile[INFO] | | +- org.springframework.boot:spring-boot-starter-logging:jar:1.5.9.RELEASE:compile[INFO] | | | +- ch.qos.logback:logback-classic:jar:1.1.11:compile[INFO] | | | | \- ch.qos.logback:logback-core:jar:1.1.11:compile[INFO] | | | +- org.slf4j:jcl-over-slf4j:jar:1.7.25:compile[INFO] | | | +- org.slf4j:jul-to-slf4j:jar:1.7.25:compile[INFO] | | | \- org.slf4j:log4j-over-slf4j:jar:1.7.25:compile[INFO] | | \- org.yaml:snakeyaml:jar:1.17:runtime[INFO] | +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.5.9.RELEASE:compile[INFO] | | +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.23:compile[INFO] | | | \- org.apache.tomcat:tomcat-annotations-api:jar:8.5.23:compile[INFO] | | +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.23:compile[INFO] | | \- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.23:compile[INFO] | +- org.hibernate:hibernate-validator:jar:5.3.6.Final:compile[INFO] | | +- javax.validation:validation-api:jar:1.1.0.Final:compile[INFO] | | +- org.jboss.logging:jboss-logging:jar:3.3.1.Final:compile[INFO] | | \- com.fasterxml:classmate:jar:1.3.4:compile[INFO] | +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.10:compile[INFO] | | +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.0:compile[INFO] | | \- com.fasterxml.jackson.core:jackson-core:jar:2.8.10:compile[INFO] | +- org.springframework:spring-web:jar:4.3.13.RELEASE:compile[INFO] | | +- org.springframework:spring-aop:jar:4.3.13.RELEASE:compile[INFO] | | +- org.springframework:spring-beans:jar:4.3.13.RELEASE:compile[INFO] | | \- org.springframework:spring-context:jar:4.3.13.RELEASE:compile[INFO] | \- org.springframework:spring-webmvc:jar:4.3.13.RELEASE:compile[INFO] | \- org.springframework:spring-expression:jar:4.3.13.RELEASE:compile‰∏äËø∞Ëøô‰∫õ‰æùËµñÈÉΩÊòØÈöêÂºè‰æùËµñ‰∫éspring-boot-starter-webÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÊâãÂä®ÊéíÈô§‰∏Ä‰∫õÊàë‰ª¨‰∏çÈúÄË¶ÅÁöÑ‰æùËµñ„ÄÇÊØîÂ¶Çspring-boot-starter-webÈªòËÆ§ÈõÜÊàê‰∫ÜtomcatÔºåÂÅáÂ¶ÇÊàë‰ª¨ÊÉ≥ÊääÂÆÉÊç¢‰∏∫jettyÔºåÂèØ‰ª•Âú®pom.xml‰∏≠spring-boot-starter-web‰∏ãÊéíÈô§tomcat‰æùËµñÔºåÁÑ∂ÂêéÊâãÂä®ÂºïÂÖ•jetty‰æùËµñÔºö1234567891011121314151617&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;tipsÔºö‰æùËµñÁöÑÂùêÊ†áÂèØ‰ª•Âà∞‰∏äËø∞ÁöÑspring-boot-dependencies-1.5.9.RELEASE.pomÊñá‰ª∂ÈáåÊü•Êâæ„ÄÇÂÜçÊ¨°ËøêË°ådependency:treeÔºö123456789101112131415161718192021222324252627282930[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.5.9.RELEASE:compile...[INFO] +- org.springframework.boot:spring-boot-starter-jetty:jar:1.5.9.RELEASE:compile[INFO] | +- org.eclipse.jetty:jetty-servlets:jar:9.4.7.v20170914:compile[INFO] | | +- org.eclipse.jetty:jetty-continuation:jar:9.4.7.v20170914:compile[INFO] | | +- org.eclipse.jetty:jetty-http:jar:9.4.7.v20170914:compile[INFO] | | +- org.eclipse.jetty:jetty-util:jar:9.4.7.v20170914:compile[INFO] | | \- org.eclipse.jetty:jetty-io:jar:9.4.7.v20170914:compile[INFO] | +- org.eclipse.jetty:jetty-webapp:jar:9.4.7.v20170914:compile[INFO] | | +- org.eclipse.jetty:jetty-xml:jar:9.4.7.v20170914:compile[INFO] | | \- org.eclipse.jetty:jetty-servlet:jar:9.4.7.v20170914:compile[INFO] | | \- org.eclipse.jetty:jetty-security:jar:9.4.7.v20170914:compile[INFO] | | \- org.eclipse.jetty:jetty-server:jar:9.4.7.v20170914:compile[INFO] | +- org.eclipse.jetty.websocket:websocket-server:jar:9.4.7.v20170914:compile[INFO] | | +- org.eclipse.jetty.websocket:websocket-common:jar:9.4.7.v20170914:compile[INFO] | | | \- org.eclipse.jetty.websocket:websocket-api:jar:9.4.7.v20170914:compile[INFO] | | +- org.eclipse.jetty.websocket:websocket-client:jar:9.4.7.v20170914:compile[INFO] | | | \- org.eclipse.jetty:jetty-client:jar:9.4.7.v20170914:compile[INFO] | | \- org.eclipse.jetty.websocket:websocket-servlet:jar:9.4.7.v20170914:compile[INFO] | | \- javax.servlet:javax.servlet-api:jar:3.1.0:compile[INFO] | +- org.eclipse.jetty.websocket:javax-websocket-server-impl:jar:9.4.7.v20170914:compile[INFO] | | +- org.eclipse.jetty:jetty-annotations:jar:9.4.7.v20170914:compile[INFO] | | | +- org.eclipse.jetty:jetty-plus:jar:9.4.7.v20170914:compile[INFO] | | | +- javax.annotation:javax.annotation-api:jar:1.2:compile[INFO] | | | +- org.ow2.asm:asm:jar:5.1:compile[INFO] | | | \- org.ow2.asm:asm-commons:jar:5.1:compile[INFO] | | | \- org.ow2.asm:asm-tree:jar:5.1:compile[INFO] | | +- org.eclipse.jetty.websocket:javax-websocket-client-impl:jar:9.4.7.v20170914:compile[INFO] | | \- javax.websocket:javax.websocket-api:jar:1.0:compile[INFO] | \- org.mortbay.jasper:apache-el:jar:8.0.33:compileÂèØÁúãÂà∞tomcatÂ∑≤Ë¢´ÊõøÊç¢‰∏∫‰∫Üjetty„ÄÇspring-boot-maven-pluginspring-boot-maven-plugin‰∏∫Spring Boot MavenÊèí‰ª∂ÔºåÊèê‰æõ‰∫ÜÔºöÊääÈ°πÁõÆÊâìÂåÖÊàê‰∏Ä‰∏™ÂèØÊâßË°åÁöÑË∂ÖÁ∫ßJARÔºàuber-JARÔºâ,ÂåÖÊã¨ÊääÂ∫îÁî®Á®ãÂ∫èÁöÑÊâÄÊúâ‰æùËµñÊâìÂÖ•JARÊñá‰ª∂ÂÜÖÔºåÂπ∂‰∏∫JARÊ∑ªÂä†‰∏Ä‰∏™ÊèèËø∞Êñá‰ª∂ÔºåÂÖ∂‰∏≠ÁöÑÂÜÖÂÆπËÉΩËÆ©‰Ω†Áî®java -jarÊù•ËøêË°åÂ∫îÁî®Á®ãÂ∫è„ÄÇÊêúÁ¥¢public static void main()ÊñπÊ≥ïÊù•Ê†áËÆ∞‰∏∫ÂèØËøêË°åÁ±ª„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring+Thymeleaf3ÂõΩÈôÖÂåñ]]></title>
    <url>%2FSpring-Tymeleaf3%E5%9B%BD%E9%99%85%E5%8C%96.html</url>
    <content type="text"><![CDATA[Spring+Thymeleaf3ÂõΩÈôÖÂåñÈÖçÁΩÆÂõΩÈôÖÂåñËøáÁ®ãÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®src/main/resourcesË∑ØÂæÑ‰∏ãÂÆö‰πâ‰∏çÂêåËØ≠Ë®ÄÁéØÂ¢ÉÁöÑÈÖçÁΩÆÊñá‰ª∂Â∞±Â•Ω‰∫ÜÔºåÈÖçÁΩÆÊñá‰ª∂ÈúÄ‰ª•messageÂºÄÂ§¥ÔºåÂä†‰∏äËØ≠Ë®ÄÁº©ÂÜôÂêéÁºÄ„ÄÇÊØîÂ¶ÇÂÆö‰πâ‰∏Ä‰∏™Ëã±ÊñáÈÖçÁΩÆÔºösrc/main/resources/message_en.propertiesÔºõ‰∏≠ÊñáÁéØÂ¢ÉÔºösrc/main/resources/message_zh_CN.propertiesÔºõÈªòËÆ§ÈÖçÁΩÆÔºàÂ∞±ÊòØÈÉΩÊ≤°ÂåπÈÖç‰∏äÁöÑÊó∂ÂÄôÈááÁî®ÔºâÔºösrc/main/resources/message.properties„ÄÇÂÆö‰πâ‰∏Ä‰∏™ÁÆÄÂçïÁöÑHTMLÈ°µÈù¢Áî®‰∫éÊµãËØïÔºö12345678910&lt;!DOCTYPE html&gt;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;&lt;head&gt; &lt;title&gt;home&lt;/title&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;&lt;/head&gt;&lt;body&gt; &lt;p data-th-utext="#&#123;home.welcome&#125;"&gt;home&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;ÂÖ∂‰∏≠message_en.propertiesÈÖçÁΩÆÂ¶Ç‰∏ãÔºö1home.welcome=This is &lt;b&gt;home&lt;/b&gt; page.‰∏≠ÊñáÁéØÂ¢ÉÈÖçÁΩÆmessage_zh_CN.propertiesÔºö1home.welcome=\u4F60\u597D\uFF0C\u8FD9\u662F&lt;b&gt;\u4E3B\u9875&lt;/b&gt;ÂêØÂä®È°πÁõÆÔºåËÆøÈóÆËØ•È°µÈù¢ÔºöÂ∞ÜÊµèËßàÂô®ÁöÑËØ≠Ë®ÄÁéØÂ¢ÉËÆæÁΩÆ‰∏∫Ëã±ÊñáÔºöÂà∑Êñ∞È°µÈù¢Â¶Ç‰∏ãÔºöÊúâ‰∫õÁâàÊú¨ÂèØËÉΩÈúÄË¶ÅÊâãÂä®ÈÖçÁΩÆMessageConfigurationÔºö1234567891011121314151617import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.support.ResourceBundleMessageSource;@Configurationpublic class I18nConfiguration &#123; @Bean public ResourceBundleMessageSource messageSource()&#123; ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource(); messageSource.setUseCodeAsDefaultMessage(true); messageSource.setFallbackToSystemLocale(false); messageSource.setBasenames("message"); messageSource.setDefaultEncoding("UTF-8"); messageSource.setCacheSeconds(2); return messageSource; &#125;&#125;Êàë‰ª¨ËøòÂèØ‰ª•Âú®propertiesÊñá‰ª∂‰∏≠‰ΩøÁî®Âç†‰ΩçÁ¨¶Ôºö1home.welcome=hello,&#123;0&#125;È°µÈù¢Ôºö1&lt;p data-th-utext="#&#123;home.welcome($&#123;user.name&#125;)&#125;"&gt;home&lt;/p&gt;]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring4‰∏≠ÈÖçÁΩÆThymeleaf3ËßÜÂõæ]]></title>
    <url>%2FSpring4%E4%B8%AD%E9%85%8D%E7%BD%AEThymeleaf3%E8%A7%86%E5%9B%BE.html</url>
    <content type="text"><![CDATA[ÂºïÂÖ•ÂøÖË¶ÅÁöÑ‰æùËµñÊñá‰ª∂Ôºö123456&lt;!-- https://mvnrepository.com/artifact/org.thymeleaf/thymeleaf-spring4 --&gt;&lt;dependency&gt; &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt; &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt; &lt;version&gt;3.0.6.RELEASE&lt;/version&gt;&lt;/dependency&gt;ÈÖçÁΩÆThymeleafËØïÂõæËß£ÊûêÂô®Ôºö1234567891011121314151617&lt;!-- ThymeleafËßÜÂõæËß£ÊûêÂô® --&gt;&lt;bean id="viewResolver" class="org.thymeleaf.spring4.view.ThymeleafViewResolver" p:templateEngine-ref="templateEngine" p:characterEncoding="UTF-8" /&gt;&lt;!-- Ê®°ÊùøÂºïÊìé --&gt;&lt;bean id="templateEngine" class="org.thymeleaf.spring4.SpringTemplateEngine" p:templateResolver-ref="templateResolver" /&gt;&lt;!-- Ê®°ÊùøËß£ÊûêÂô® --&gt; &lt;bean id="templateResolver" class="org.thymeleaf.templateresolver.ServletContextTemplateResolver" p:prefix="/WEB-INF/templates/" p:suffix=".html" p:templateMode="HTML5" p:cacheable="false" p:characterEncoding="UTF-8"/&gt;]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring4ÈÖçÁΩÆÂ§öÊï∞ÊçÆÊ∫ê]]></title>
    <url>%2FSpring4%E9%85%8D%E7%BD%AE%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90.html</url>
    <content type="text"><![CDATA[SpringÂú®ÊØèÊ¨°Êìç‰ΩúÊï∞ÊçÆÂ∫ìÁöÑÊó∂ÂÄôÈÉΩ‰ºöÈÄöËøáAbstractRoutingDataSourceÁ±ª‰∏≠ÁöÑdetermineTargetDataSource()ÊñπÊ≥ïËé∑ÂèñÂΩìÂâçÊï∞ÊçÆÊ∫êÔºåÊâÄ‰ª•ÂèØ‰ª•ÈÄöËøáÁªßÊâøAbstractRoutingDataSourceÂπ∂ÈáçÂÜôdetermineTargetDataSource()ÊñπÊ≥ïÊù•ÂÆûÁé∞Â§öÊï∞ÊçÆÊ∫êÁöÑÈÖçÁΩÆ„ÄÇÂÆö‰πâ‰∏Ä‰∏™DynamicDataSourceÁ±ªÔºåÁªßÊâøAbstractRoutingDataSourceÔºö123456789package cc.mrbird.datasource;import org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource;public class DynamicDataSource extends AbstractRoutingDataSource &#123; @Override protected Object determineCurrentLookupKey() &#123; return DatabaseContextHolder.getCustomerType(); &#125; &#125;ÂÖ∂‰∏≠DatabaseContextHolderÁî®‰∫é‰øùÂ≠òÂΩìÂâç‰ΩøÁî®ÁöÑÊï∞ÊçÆÂ∫ìÂêçÁß∞Ôºö1234567891011121314151617package cc.mrbird.datasource;public class DatabaseContextHolder &#123; private static final ThreadLocal&lt;String&gt; contextHolder = new ThreadLocal&lt;String&gt;(); public static void setCustomerType(String customerType) &#123; contextHolder.set(customerType); &#125; public static String getCustomerType() &#123; return contextHolder.get(); &#125; public static void clearCustomerType() &#123; contextHolder.remove(); &#125; &#125;ÂÆö‰πâ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂêçÂ∏∏ÈáèÁ±ªÔºö1234567package cc.mrbird.datasource;public class DataSourceConst &#123; public static final String DB1 = "dataSource1"; public static final String DB2 = "dataSource2"; &#125;dataSource1ÂíådataSource2‰∏∫Âú®Spring‰∏ä‰∏ãÊñáÈÖçÁΩÆÊñá‰ª∂applicationContext.xml‰∏≠ÈÖçÁΩÆÁöÑ‰∏§‰∏™Êï∞ÊçÆÊ∫êÔºö123456789101112131415161718192021222324252627&lt;bean id="dataSource1" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;property name="driverClass" value="oracle.jdbc.driver.OracleDriver" /&gt; &lt;property name="jdbcUrl" value="jdbc:oracle:thin:@192.168.140.139:1521:orcl"&gt;&lt;/property&gt; &lt;property name="user" value="test"&gt;&lt;/property&gt; &lt;property name="password" value="test_123"&gt;&lt;/property&gt; &lt;property name="maxPoolSize" value="150" /&gt; &lt;property name="minPoolSize" value="5" /&gt; &lt;property name="initialPoolSize" value="10" /&gt; &lt;property name="maxIdleTime" value="60" /&gt; &lt;property name="acquireIncrement" value="3" /&gt; &lt;property name="maxStatements" value="0" /&gt; &lt;property name="idleConnectionTestPeriod" value="60" /&gt;&lt;/bean&gt; &lt;bean id="dataSource2" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;property name="driverClass" value="oracle.jdbc.driver.OracleDriver" /&gt; &lt;property name="jdbcUrl" value="jdbc:oracle:thin:@192.168.140.148:1521:PISDATA"&gt;&lt;/property&gt; &lt;property name="user" value="test"&gt;&lt;/property&gt; &lt;property name="password" value="test_456"&gt;&lt;/property&gt; &lt;property name="maxPoolSize" value="150" /&gt; &lt;property name="minPoolSize" value="5" /&gt; &lt;property name="initialPoolSize" value="10" /&gt; &lt;property name="maxIdleTime" value="60" /&gt; &lt;property name="acquireIncrement" value="3" /&gt; &lt;property name="maxStatements" value="0" /&gt; &lt;property name="idleConnectionTestPeriod" value="60" /&gt;&lt;/bean&gt;Êé•ÁùÄÈÖçÁΩÆÂä®ÊÄÅÊï∞ÊçÆÊ∫êÔºåÁ±ªÂûã‰∏∫‰∏äÈù¢ÂÆö‰πâÁöÑDynamicDataSourceÁ±ªÔºö123456789&lt;bean id="dynamicDataSource" class="cc.mrbird.datasource.DynamicDataSource"&gt; &lt;property name="targetDataSources"&gt; &lt;map key-type="java.lang.String"&gt; &lt;entry value-ref="dataSource1" key="dataSource1"&gt;&lt;/entry&gt; &lt;entry value-ref="dataSource2" key="dataSource2"&gt;&lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;property name="defaultTargetDataSource" ref="dataSource1" /&gt; &lt;/bean&gt;ÈªòËÆ§ÁöÑÊï∞ÊçÆÊ∫ê‰∏∫dataSource1„ÄÇÊµãËØï‰ΩøÁî®SpringÊèê‰æõÁöÑjdbcTemplateËøõË°åÊµãËØïÔºåÂÆåÊï¥ÁöÑapplicationContext.xmlÈÖçÁΩÆÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:p="http://www.springframework.org/schema/p" xmlns:task="http://www.springframework.org/schema/task" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.3.xsd" default-autowire="byName" &gt; &lt;!-- ÂºÄÂêØÁªÑ‰ª∂Êâ´Êèè --&gt; &lt;context:component-scan base-package="cc.mrbird"/&gt; &lt;bean id="dataSource1" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;property name="driverClass" value="oracle.jdbc.driver.OracleDriver" /&gt; &lt;property name="jdbcUrl" value="jdbc:oracle:thin:@192.168.140.139:1521:orcl"&gt;&lt;/property&gt; &lt;property name="user" value="test"&gt;&lt;/property&gt; &lt;property name="password" value="test_123"&gt;&lt;/property&gt; &lt;property name="maxPoolSize" value="150" /&gt; &lt;property name="minPoolSize" value="5" /&gt; &lt;property name="initialPoolSize" value="10" /&gt; &lt;property name="maxIdleTime" value="60" /&gt; &lt;property name="acquireIncrement" value="3" /&gt; &lt;property name="maxStatements" value="0" /&gt; &lt;property name="idleConnectionTestPeriod" value="60" /&gt; &lt;/bean&gt; &lt;bean id="dataSource2" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt; &lt;property name="driverClass" value="oracle.jdbc.driver.OracleDriver" /&gt; &lt;property name="jdbcUrl" value="jdbc:oracle:thin:@192.168.140.148:1521:PISDATA"&gt;&lt;/property&gt; &lt;property name="user" value="test"&gt;&lt;/property&gt; &lt;property name="password" value="test_456"&gt;&lt;/property&gt; &lt;property name="maxPoolSize" value="150" /&gt; &lt;property name="minPoolSize" value="5" /&gt; &lt;property name="initialPoolSize" value="10" /&gt; &lt;property name="maxIdleTime" value="60" /&gt; &lt;property name="acquireIncrement" value="3" /&gt; &lt;property name="maxStatements" value="0" /&gt; &lt;property name="idleConnectionTestPeriod" value="60" /&gt; &lt;/bean&gt; &lt;bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate" abstract="false" lazy-init="false" autowire="default"&gt; &lt;property name="dataSource"&gt; &lt;ref bean="dynamicDataSource" /&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id="dynamicDataSource" class="cc.mrbird.datasource.DynamicDataSource"&gt; &lt;property name="targetDataSources"&gt; &lt;map key-type="java.lang.String"&gt; &lt;entry value-ref="dataSource1" key="dataSource1"&gt;&lt;/entry&gt; &lt;entry value-ref="dataSource2" key="dataSource2"&gt;&lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;property name="defaultTargetDataSource" ref="dataSource1"/&gt; &lt;/bean&gt; &lt;!-- ‰∫ãÁâ©Ê≥®Ëß£ÂºÄÂêØ --&gt; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dynamicDataSource" /&gt; &lt;/bean&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="true"/&gt;&lt;/beans&gt;ÁºñÂÜôTestDynamicDataSourceDaoÊé•Âè£Ôºö123456package cc.mrbird.dao;public interface TestDynamicDataSourceDao &#123; String getDataSource1Name(); String getDataSource2Name();&#125;ÂÖ∂ÂÆûÁé∞Á±ªÔºö123456789101112131415161718192021222324252627282930313233343536373839package cc.mrbird.dao.impl;import org.springframework.jdbc.core.support.JdbcDaoSupport;import org.springframework.stereotype.Repository;import cc.mrbird.dao.TestDynamicDataSourceDao;import cc.mrbird.datasource.DataSourceConst;import cc.mrbird.datasource.DatabaseContextHolder;@Repository("testDynamicDataSourceDao")public class TestDynamicDataSourceDaoImpl extends JdbcDaoSupport implements TestDynamicDataSourceDao&#123; public String getDataSource1Name() &#123; String sql = ""; try &#123; sql = "select SYS_CONTEXT('USERENV','INSTANCE_NAME') from dual"; return this.getJdbcTemplate().queryForObject(sql, String.class); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return null; &#125; public String getDataSource2Name() &#123; String sql = ""; try &#123; // ÂàáÊç¢Âà∞Êï∞ÊçÆÊ∫êdatasource2 DatabaseContextHolder.setCustomerType(DataSourceConst.DB2); sql = "select SYS_CONTEXT('USERENV','INSTANCE_NAME') from dual"; return this.getJdbcTemplate().queryForObject(sql, String.class); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; // ÊÅ¢Â§çÂà∞ÈªòËÆ§Êï∞ÊçÆÊ∫êdatasource1 DatabaseContextHolder.clearCustomerType(); &#125; return null; &#125;&#125;ÁºñÂÜôServiceÊé•Âè£ÂèäÂÖ∂ÂÆûÁé∞Á±ªÔºö1234567package cc.mrbird.service;public interface TestDynamicDataSourceService &#123; String getDataSource1Name(); String getDataSource2Name();&#125;12345678910111213141516171819202122package cc.mrbird.service.impl;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import cc.mrbird.dao.TestDynamicDataSourceDao;import cc.mrbird.service.TestDynamicDataSourceService;@Service("testDynamicDataSourceService")public class TestDynamicDataSourceServiceImpl implements TestDynamicDataSourceService&#123; @Autowired private TestDynamicDataSourceDao dao; public String getDataSource1Name() &#123; return dao.getDataSource1Name(); &#125; public String getDataSource2Name() &#123; return dao.getDataSource2Name(); &#125;&#125;Âú®ÊéßÂà∂Âô®‰∏≠ÊµãËØïÔºö123456789101112131415161718192021222324package cc.mrbird.controller;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;import cc.mrbird.service.TestDynamicDataSourceService;@Controllerpublic class IndexController &#123; @Autowired private TestDynamicDataSourceService service; @RequestMapping("/test") public void test()&#123; String dataSource1Name = service.getDataSource1Name(); String dataSource2Name = service.getDataSource2Name(); System.out.println(dataSource1Name); System.out.println(dataSource2Name); &#125;&#125;È°µÈù¢ËÆøÈóÆ/testË∑ØÂæÑÔºåÊéßÂà∂Âè∞ËæìÂá∫Ôºö12orclpisdataÊÄªÁªìÈÖçÁΩÆJdbcTemplateÂ§öÊï∞ÊçÆÊ∫êÁöÑÊ†∏ÂøÉÂú®‰∫éÂàùÂßãÂåñJdbcTemplateÁöÑÊó∂ÂÄôÊï∞ÊçÆÊ∫êÈÖçÁΩÆ‰∏∫Âä®ÊÄÅÊï∞ÊçÆÊ∫êÔºåÂ∞±Â¶ÇxmlÈÖçÁΩÆÁöÑÈÇ£Ê†∑Ôºö123456&lt;bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate" abstract="false" lazy-init="false" autowire="default"&gt; &lt;property name="dataSource"&gt; &lt;ref bean="dynamicDataSource" /&gt; &lt;/property&gt;&lt;/bean&gt;ÂÅáÂ¶Ç‰ΩøÁî®ÁöÑÊòØMyBatisÔºåÂàôÂè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆsqlSessionFactoryÁöÑÊó∂ÂÄôÊåáÂÆöÊï∞ÊçÆÊ∫ê‰∏∫Âä®ÊÄÅÊï∞ÊçÆÊ∫êÂç≥ÂèØÔºö1234&lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean" scope="prototype"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml"/&gt;&lt;/bean&gt;]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring‰∏≠‰ΩøÁî®@ScheduledÊ≥®Ëß£‰ªªÂä°Ë∞ÉÂ∫¶]]></title>
    <url>%2FSpring%E4%B8%AD%E4%BD%BF%E7%94%A8-Scheduled%E6%B3%A8%E8%A7%A3%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6.html</url>
    <content type="text"><![CDATA[spring-contextÂåÖÈáåÊèê‰æõÁöÑ@ScheduledÊ≥®Ëß£ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÂÆûÁé∞ÂÆöÊó∂‰ªªÂä°ÔºåÂú®ÂºïÂÖ•spring-context‰æùËµñÂêéÔºåÂú®Spring xmlns‰∏≠Âä†ÂÖ•Ôºö1xmlns:task="http://www.springframework.org/schema/task"ÁÑ∂ÂêéÂú®xsi:schemaLocation‰∏≠Âä†ÂÖ•Ôºö12http://www.springframework.org/schema/taskhttp://www.springframework.org/schema/task/spring-task-4.3.xsdÂÆö‰πâ‰∏Ä‰∏™Á±ªÔºåÂåÖÂê´ÂÆöÊó∂ÊâßË°åÁöÑÊñπÊ≥ïÔºö12345678910111213141516package cc.mrbird.timer;import java.text.SimpleDateFormat;import java.util.Date;import org.springframework.scheduling.annotation.Scheduled;import org.springframework.stereotype.Component;@Componentpublic class Timer &#123; @Scheduled(cron="0/5 * * * * ?") public void test()&#123; System.out.println("SimpleJob,triggered is "+ new SimpleDateFormat("HH:mm:ss").format((new Date()))); &#125;&#125;TimerÁ±ªÁî®@ComponentÊ≥®Ëß£Ê†áÊ≥®Ôºå‰ª•Á∫≥ÂÖ•SpringÂÆπÂô®‰∏≠„ÄÇÂÆöÊó∂Ë∞ÉÁî®ÁöÑÊñπÊ≥ï‰ΩøÁî®@ScheduledÊ†áÂøóÔºåÂπ∂Áî®cronË°®ËææÂºèÂÆö‰πâ‰∫ÜÂÆöÊó∂ÊâßË°åÁöÑËßÑÂàô„ÄÇ Êé•‰∏ãÊù•Âú®Spring‰∏ä‰∏ãÊñáÈÖçÁΩÆ‰∏≠ÂêØÂä®Êâ´ÊèèÔºåÂä†ËΩΩÂÆöÊó∂Âô®Ôºö1234&lt;!-- ÂºÄÂêØÁªÑ‰ª∂Êâ´Êèè --&gt;&lt;context:component-scan base-package="cc.mrbird"/&gt;&lt;!-- spring ÂÆöÊó∂Âô® Âä†ËΩΩ --&gt;&lt;task:annotation-driven /&gt;ÂêØÂä®È°πÁõÆÔºåËæìÂá∫Ôºö12345678910111213SimpleJob,triggered is 14:33:10SimpleJob,triggered is 14:33:15SimpleJob,triggered is 14:33:20SimpleJob,triggered is 14:33:25SimpleJob,triggered is 14:33:30SimpleJob,triggered is 14:33:35SimpleJob,triggered is 14:33:40SimpleJob,triggered is 14:33:45SimpleJob,triggered is 14:33:50SimpleJob,triggered is 14:33:55SimpleJob,triggered is 14:34:00SimpleJob,triggered is 14:34:05...]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring4‰∏≠‰ΩøÁî®Quartz]]></title>
    <url>%2FSpring4%E4%B8%AD%E4%BD%BF%E7%94%A8Quartz.html</url>
    <content type="text"><![CDATA[SpringÊèê‰æõ‰∫ÜÂá†‰∏™Á±ªÁî®‰∫éÁÆÄÂåñÂú®Spring‰∏≠‰ΩøÁî®Quartz‰ªªÂä°Ë∞ÉÂ∫¶„ÄÇËøôÈáå‰ΩøÁî®ÁöÑSpringÁâàÊú¨‰∏∫4.3.5ÔºåQuartzÁâàÊú¨‰∏∫2.2.1„ÄÇÈô§‰∫ÜÊê≠Âª∫Spring MVCÁöÑÂá†‰∏™‰æùËµñÂ§ñÔºåËøòÈúÄÂºïÂÖ•Ôºö123456789101112131415&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt; &lt;artifactId&gt;quartz&lt;/artifactId&gt; &lt;version&gt;2.2.1&lt;/version&gt;&lt;/dependency&gt;Âú®Quartz Scheduler‰∏≠ÈÖçÁΩÆJobÊñ∞Âª∫‰∏Ä‰∏™quartz-context.xmlÔºåÁî®‰∫éÈÖçÁΩÆJobÔºåËß¶ÂèëÂô®Á≠â‰ø°ÊÅØ„ÄÇÈÄöÂ∏∏‰ΩøÁî®MethodInvokingJobDetailFactoryBeanÊù•ÈÖçÁΩÆJobÔºö1234&lt;bean id="simpleJobDetail" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"&gt; &lt;property name="targetObject" ref="simpleJob" /&gt; &lt;property name="targetMethod" value="printMessage" /&gt;&lt;/bean&gt;targetObjectÂà∂ÂÆöË∞ÉÁî®ÁöÑBeanÔºåtargetMethodÊåáÂÆöË∞ÉÁî®ÁöÑÊñπÊ≥ï„ÄÇsimpleJob BeanÂ¶Ç‰∏ãÔºö123456789101112import java.text.SimpleDateFormat;import java.util.Date;import org.springframework.stereotype.Component;@Component("simpleJob")public class SimpleJob &#123; public void printMessage() &#123; System.out.println("SimpleJob,triggered is "+ new SimpleDateFormat("HH:mm:ss").format((new Date()))); &#125;&#125;Âú®Quartz Scheduler‰∏≠ÈÖçÁΩÆËß¶ÂèëËßÑÂàô‰∏§ÁßçÊñπÂºèÈÖçÁΩÆËß¶ÂèëËßÑÂàôÔºöSimpleTrigger12345&lt;bean id="simpleTrigger" class="org.springframework.scheduling.quartz.SimpleTriggerFactoryBean"&gt; &lt;property name="jobDetail" ref="simpleJobDetail" /&gt; &lt;property name="startDelay" value="1000" /&gt; &lt;property name="repeatInterval" value="2000" /&gt;&lt;/bean&gt;CronTrigger1234&lt;bean id="cronTrigger" class="org.springframework.scheduling.quartz.CronTriggerFactoryBean"&gt; &lt;property name="jobDetail" ref="simpleJobDetail" /&gt; &lt;property name="cronExpression" value="0/5 * * * * ?" /&gt;&lt;/bean&gt;ÈÖçÁΩÆSchedulerFactoryBean‰ΩøÁî®SchedulerFactoryBeanÂ∞ÜjobDetailsÂíåtriggersÈÖçÁΩÆÂú®‰∏ÄËµ∑Ôºö12345678910111213&lt;bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean"&gt; &lt;property name="jobDetails"&gt; &lt;list&gt; &lt;ref bean="simpleJobDetail" /&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="triggers"&gt; &lt;list&gt; &lt;ref bean="simpleTrigger" /&gt; &lt;/list&gt; &lt;/property&gt;&lt;/bean&gt;ÂÆåÊï¥ÁöÑquartz-context.xmlÈÖçÁΩÆÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd"&gt; &lt;context:component-scan base-package="cc.mrbird.scheduling" /&gt; &lt;bean id="simpleJobDetail" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"&gt; &lt;property name="targetObject" ref="simpleJob" /&gt; &lt;property name="targetMethod" value="printMessage" /&gt; &lt;/bean&gt; &lt;!-- &lt;bean id="simpleTrigger" class="org.springframework.scheduling.quartz.SimpleTriggerFactoryBean"&gt; --&gt;&lt;!-- &lt;property name="jobDetail" ref="simpleJobDetail" /&gt; --&gt;&lt;!-- &lt;property name="startDelay" value="1000" /&gt; --&gt;&lt;!-- &lt;property name="repeatInterval" value="2000" /&gt; --&gt;&lt;!-- &lt;/bean&gt; --&gt; &lt;bean id="cronTrigger" class="org.springframework.scheduling.quartz.CronTriggerFactoryBean"&gt; &lt;property name="jobDetail" ref="simpleJobDetail" /&gt; &lt;property name="cronExpression" value="0/5 * * * * ?" /&gt; &lt;/bean&gt; &lt;bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean"&gt; &lt;property name="jobDetails"&gt; &lt;list&gt; &lt;ref bean="simpleJobDetail" /&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="triggers"&gt; &lt;list&gt; &lt;ref bean="cronTrigger" /&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/beans&gt;Âú®web.xml‰∏≠Âä†ÂÖ•quartz-context.xmlÂêØÂä®È°πÔºö123456...&lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext.xml,classpath:quartz-context.xml&lt;/param-value&gt;&lt;/init-param&gt;...ÈÉ®ÁΩ≤È°πÁõÆÔºåÂêØÂä®ÂêéÊéßÂà∂Âè∞ËæìÂá∫Ôºö123456789101112131415SimpleJob,triggered is 17:43:35SimpleJob,triggered is 17:43:40SimpleJob,triggered is 17:43:45SimpleJob,triggered is 17:43:50SimpleJob,triggered is 17:43:55SimpleJob,triggered is 17:44:00SimpleJob,triggered is 17:44:05SimpleJob,triggered is 17:44:10SimpleJob,triggered is 17:44:15SimpleJob,triggered is 17:44:20SimpleJob,triggered is 17:44:25SimpleJob,triggered is 17:44:30SimpleJob,triggered is 17:44:35SimpleJob,triggered is 17:44:40...ÂèÇËÄÉËá™http://websystique.com/spring/spring-4-quartz-scheduler-integration-example/]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Quartz</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Quartz guide]]></title>
    <url>%2FQuartz-guide.html</url>
    <content type="text"><![CDATA[QuartzÊòØ‰∏ÄÊ¨æÂºÄÊ∫êÁöÑ‰ªªÂä°Ë∞ÉÂ∫¶Ê°ÜÊû∂ÔºåÂØπ‰ªªÂä°Ë∞ÉÂ∫¶ËøáÁ®ãËøõË°å‰∫ÜÈ´òÂ∫¶ÁöÑÊäΩË±°ÔºåÂåÖÂê´Ë∞ÉÂ∫¶Âô®ÔºàSchedulerÔºâÔºå‰ªªÂä°ÔºàJobÔºâÂíåËß¶ÂèëÂô®ÔºàTriggerÔºâ„ÄÇQuartzÂú®org.quartz.*‰∏≠ÈÄöËøáÊé•Âè£ÂíåÁ±ªÂØπËøô‰∏â‰∏™Ê¶ÇÂøµËøõË°å‰∫ÜÊèèËø∞ÔºàËøôÈáå‰ΩøÁî®ÁöÑQuartzÁâàÊú¨‰∏∫1.8.6ÔºâÔºöJobÔºö‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊé•Âè£ÔºåÂè™ÂåÖÂê´‰∏Ä‰∏™void execute(JobExecutionContext context)ÊäΩË±°ÊñπÊ≥ï„ÄÇÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÈÄöËøáÂÆûÁé∞ËØ•Êé•Âè£Êù•ÂÆö‰πâÈúÄË¶ÅÊâßË°åÁöÑ‰ªªÂä°„ÄÇJobExecutionContextÊèê‰æõ‰∫ÜË∞ÉÂ∫¶‰∏ä‰∏ãÊñá‰ø°ÊÅØ„ÄÇ1234public interface Job &#123; void execute(JobExecutionContext context) throws JobExecutionException;&#125;JobDetailÔºöÂåÖÂê´Â§ö‰∏™ÊûÑÈÄ†ÂáΩÊï∞ÔºåÊúÄÂ∏∏Áî®ÁöÑ‰∏∫JobDetail(String name, String group, Class jobClass)jobClass‰∏∫ÂÆûÁé∞‰∫ÜJobÊé•Âè£ÁöÑÁ±ªÔºåname‰∏∫‰ªªÂä°Âú®Scheduler‰∏≠ÁöÑÂêçÁß∞Ôºågroup‰∏∫‰ªªÂä°Âú®Scheduler‰∏≠ÁöÑÁªÑÂêç„ÄÇÁªÑÂêçÈªòËÆ§‰∏∫Scheduler.DEFAULT_GROUP„ÄÇTriggerÔºö‰∏Ä‰∏™Á±ªÔºåÁî®‰∫éÊèèËø∞Ëß¶ÂèëJobÊâßË°åÁöÑÊó∂Èó¥ËßÑÂàô„ÄÇÂåÖÂê´ÔºöSimpleTrigger: ‰∏ÄÊ¨°ÊàñËÄÖÂõ∫ÂÆöÊó∂Èó¥Èó¥ÈöîÂë®ÊúüÁöÑËß¶ÂèëËßÑÂàô„ÄÇCronTriggerÔºöÈÄöËøácronË°®ËææÂºèÊèèËø∞Âá∫Êõ¥‰∏∫Â§çÊùÇÁöÑËß¶ÂèëËßÑÂàô„ÄÇCalendarÔºöQuartzÊèê‰æõÁöÑÊó•ÂéÜÁ±ª„ÄÇ‰∏Ä‰∏™TriggerÂèØ‰ª•ÂíåÂ§ö‰∏™CalendarÂÖ≥ËÅîÔºå‰ª•Ê≠§Êù•ÊéíÈô§‰∏Ä‰∫õÁâπÊÆäÁöÑÊó•Êúü„ÄÇSchedulerÔºö‰ª£Ë°®‰∏Ä‰∏™QuartzÁöÑÁã¨Á´ãËøêË°åÂÆπÂô®ÔºåTriggerÂíåJobDetailË¢´Ê≥®ÂÜåÂà∞Scheduler‰∏≠Ôºå‰∫åËÄÖÂú®Scheduler‰∏≠Êã•ÊúâÂêÑËá™ÁöÑÂêçÁß∞ÔºànameÔºâÂíåÁªÑÂêçÔºàgroupÔºâ„ÄÇTriggerÂíåJobDetailÁöÑÂêçÁß∞ÂíåÁªÑÂêçÁöÑÁªÑÂêàÂøÖÈ°ªÂîØ‰∏ÄÔºå‰ΩÜÊòØTriggerÁöÑÂêçÁß∞ÂíåÁªÑÂêçÁöÑÁªÑÂêàÂèØ‰ª•ÂíåJobDetailÁöÑÁõ∏ÂêåÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Á±ªÂûã‰∏çÂêå„ÄÇ‰∏Ä‰∏™JobÂèØ‰ª•ÁªëÂÆöÂ§ö‰∏™TriggerÔºåÂèç‰πã‰∏çÁÑ∂„ÄÇJobËøòÊúâ‰∏Ä‰∏™Â≠êÊé•Âè£ÔºöStatefulJobÔºåÂÖ∂ÊòØ‰∏Ä‰∏™Ê≤°ÊúâÊñπÊ≥ïÁöÑÊ†áÁ≠æÊé•Âè£Ôºå‰ª£Ë°®ÊúâÁä∂ÊÄÅÁöÑ‰ªªÂä°„ÄÇÊó†Áä∂ÊÄÅ‰ªªÂä°ÔºöÊã•ÊúâJobDataMapÂ§çÂà∂ÔºåÊâÄ‰ª•ÂèØ‰ª•Âπ∂ÂèëËøêË°åÔºõÊúâÁä∂ÊÄÅ‰ªªÂä°ÔºöÂÖ±‰∫´‰∏Ä‰ªΩJobDataMapÔºåÊØèÊ¨°ÂØπJobDataMapÁöÑ‰øÆÊîπ‰ºöË¢´‰øùÂ≠ò‰∏ãÊù•„ÄÇÊâÄ‰ª•ÂâçÊ¨°ÁöÑStatefulJob‰ºöÈòªÂ°û‰∏ã‰∏ÄÊ¨°ÁöÑStatefulJob„ÄÇSimpleTriggerSimpleTriggerÂåÖÂê´Â§ö‰∏™ÈáçËΩΩÁöÑÊûÑÈÄ†Âô®ÔºåÂèØÊ†πÊçÆÂÆûÈôÖÈúÄÊ±ÇÊù•ÈÄâÊã©„ÄÇËøôÈáå‰ΩøÁî®SimpleTriggerÊù•ÊºîÁ§∫Ëß¶Âèë‰∏Ä‰∏™JobDetail„ÄÇÈ¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™ÁÆÄÂçïÁöÑJobÂÆûÁé∞Á±ªÔºå‰ª£Ë°®Êàë‰ª¨ÈúÄË¶ÅËøõË°åË∞ÉÂ∫¶ÁöÑ‰ªªÂä°Ôºö123456789101112131415import java.text.SimpleDateFormat;import java.util.Date;import org.quartz.Job;import org.quartz.JobExecutionContext;import org.quartz.JobExecutionException;public class SimpleJob implements Job&#123; @Override public void execute(JobExecutionContext context) throws JobExecutionException &#123; System.out.println("TriggerName: "+context.getTrigger().getName()+ " Triggered time is: "+new SimpleDateFormat("HH:mm:ss").format((new Date()))); &#125;&#125;‰∏ãÈù¢ÈÄöËøáSimpleTriggerÂØπSimpleJobËøõË°åË∞ÉÂ∫¶Ôºö12345678910111213141516171819202122232425262728import java.util.Date;import org.quartz.JobDetail;import org.quartz.Scheduler;import org.quartz.SimpleTrigger;import org.quartz.impl.StdSchedulerFactory;public class SimpleTriggerRunner &#123; public static void main(String[] args) &#123; try &#123; JobDetail jobDetail = new JobDetail("job1","job_group1",SimpleJob.class); SimpleTrigger simpleTrigger = new SimpleTrigger("trigger1","trigger_group1"); simpleTrigger.setStartTime(new Date()); simpleTrigger.setRepeatInterval(2000); simpleTrigger.setRepeatCount(10); Scheduler scheduler = new StdSchedulerFactory().getScheduler(); scheduler.scheduleJob(jobDetail, simpleTrigger); scheduler.start(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125;‰∏äÈù¢‰ª£Á†Å‰∏≠ÂÅöÁöÑ‰∫ãÊÉÖ‰∏ªË¶ÅÊúâÔºöÈÄöËøáJobDetailÂ∞ÅË£ÖSimpleJobÔºåÂêåÊó∂ÊåáÂÆöÂÖ∂ÂêçÁß∞‰∏∫job1ÔºåÁªÑÂêç‰∏∫job_group1ÔºõÂàõÂª∫‰∏Ä‰∏™SimpleTriggerÔºåÂπ∂ÊåáÂÆöÂÖ∂ÂêçÁß∞‰∏∫trigger1ÔºåÁªÑÂêç‰∏∫trigger_group1ÔºåËß¶ÂèëÂêØÂä®Êó∂Èó¥‰∏∫È©¨‰∏äËß¶ÂèëÔºåÊó∂Èó¥Èó¥Èöî‰∏∫2000ÊØ´ÁßíÔºåÈáçÂ§ç10Ê¨°ÔºõÊé•ÁùÄÂàõÂª∫‰∫Ü‰∏Ä‰∏™SchedulerÂÆû‰æãÔºåÂπ∂‰∏îÂ∞ÜJobDetailÂíåTriggerÂÆû‰æãÊ≥®ÂÜåÂà∞Scheduler‰∏≠„ÄÇËøêË°å‰ª£Á†ÅÔºåËßÇÂØüËæìÂá∫Ôºö1234567891011TriggerName: trigger1 Triggered time is: 16:27:07TriggerName: trigger1 Triggered time is: 16:27:09TriggerName: trigger1 Triggered time is: 16:27:11TriggerName: trigger1 Triggered time is: 16:27:13TriggerName: trigger1 Triggered time is: 16:27:15TriggerName: trigger1 Triggered time is: 16:27:17TriggerName: trigger1 Triggered time is: 16:27:19TriggerName: trigger1 Triggered time is: 16:27:21TriggerName: trigger1 Triggered time is: 16:27:23TriggerName: trigger1 Triggered time is: 16:27:25TriggerName: trigger1 Triggered time is: 16:27:27CronTriggerCronTriggerÁöÑË∞ÉÂ∫¶ËßÑÂàôÂü∫‰∫éCronË°®ËææÂºè„ÄÇCronË°®ËææÂºèÁî±6‰∏™Êàñ7‰∏™Áî±Á©∫Ê†ºÂàÜÈöîÁöÑÊó∂Èó¥Â≠óÊÆµÔºö‰ΩçÁΩÆÊó∂Èó¥ÂüüÂêçÂÖÅËÆ∏ÂÄºÂÖÅËÆ∏ÁöÑÁâπÊÆäÂ≠óÁ¨¶1Áßí0-59, - * /2ÂàÜÈíü0-59, - * /3Â∞èÊó∂0-23, - * /4Êó•Êúü1-31, - * ? / L W C5Êúà‰ªΩ1-12, - * /6ÊòüÊúü1-7, - * ? / L C #7Âπ¥(ÂèØÈÄâ)Á©∫ÂÄº1970-2099, - * /ÂÖ∂‰∏≠ÁâπÊÆäÂ≠óÁ¨¶ÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºöÊòüÂè∑Ôºà*ÔºâÔºöÂèØÁî®Âú®ÊâÄÊúâÂ≠óÊÆµ‰∏≠ÔºåË°®Á§∫ÂØπÂ∫îÊó∂Èó¥ÂüüÁöÑÊØè‰∏Ä‰∏™Êó∂Âàª„ÄÇ‰æãÂ¶ÇÔºå*Âú®ÂàÜÈíüÂ≠óÊÆµÊó∂ÔºåË°®Á§∫‚ÄúÊØèÂàÜÈíü‚ÄùÔºõÈóÆÂè∑Ôºà?ÔºâÔºöËØ•Â≠óÁ¨¶Âè™Âú®Êó•ÊúüÂíåÊòüÊúüÂ≠óÊÆµ‰∏≠‰ΩøÁî®ÔºåÂÆÉÈÄöÂ∏∏ÊåáÂÆö‰∏∫‚ÄúÊó†ÊÑè‰πâÁöÑÂÄº‚ÄùÔºåÁõ∏ÂΩì‰∫éÁÇπ‰ΩçÁ¨¶ÔºõÂáèÂè∑Ôºà-ÔºâÔºöË°®Ëææ‰∏Ä‰∏™ËåÉÂõ¥ÔºåÂ¶ÇÂú®Â∞èÊó∂Â≠óÊÆµ‰∏≠‰ΩøÁî®‚Äú10-12‚ÄùÔºåÂàôË°®Á§∫‰ªé10Âà∞12ÁÇπÔºåÂç≥10,11,12ÔºõÈÄóÂè∑Ôºà,ÔºâÔºöË°®Á§∫‰∏Ä‰∏™ÂàóË°®ÂÄºÔºåÂ¶ÇÂú®ÊòüÊúüÂ≠óÊÆµ‰∏≠‰ΩøÁî®‚ÄúMON,WED,FRI‚ÄùÔºåÂàôË°®Á§∫ÊòüÊúü‰∏ÄÔºåÊòüÊúü‰∏âÂíåÊòüÊúü‰∫îÔºõÊñúÊù†Ôºà/ÔºâÔºöx/yË°®Ëææ‰∏Ä‰∏™Á≠âÊ≠•ÈïøÂ∫èÂàóÔºåx‰∏∫Ëµ∑ÂßãÂÄºÔºåy‰∏∫Â¢ûÈáèÊ≠•ÈïøÂÄº„ÄÇÂ¶ÇÂú®ÂàÜÈíüÂ≠óÊÆµ‰∏≠‰ΩøÁî®0/15ÔºåÂàôË°®Á§∫‰∏∫0,15,30Âíå45ÁßíÔºåËÄå5/15Âú®ÂàÜÈíüÂ≠óÊÆµ‰∏≠Ë°®Á§∫5,20,35,50Ôºå‰Ω†‰πüÂèØ‰ª•‰ΩøÁî®*/yÔºåÂÆÉÁ≠âÂêå‰∫é0/yÔºõLÔºöËØ•Â≠óÁ¨¶Âè™Âú®Êó•ÊúüÂíåÊòüÊúüÂ≠óÊÆµ‰∏≠‰ΩøÁî®Ôºå‰ª£Ë°®‚ÄúLast‚ÄùÁöÑÊÑèÊÄùÔºå‰ΩÜÂÆÉÂú®‰∏§‰∏™Â≠óÊÆµ‰∏≠ÊÑèÊÄù‰∏çÂêå„ÄÇLÂú®Êó•ÊúüÂ≠óÊÆµ‰∏≠ÔºåË°®Á§∫Ëøô‰∏™Êúà‰ªΩÁöÑÊúÄÂêé‰∏ÄÂ§©ÔºåÂ¶Ç‰∏ÄÊúàÁöÑ31Âè∑ÔºåÈùûÈó∞Âπ¥‰∫åÊúàÁöÑ28Âè∑ÔºõÂ¶ÇÊûúLÁî®Âú®ÊòüÊúü‰∏≠ÔºåÂàôË°®Á§∫‰∏Ä‰∏™ÊòüÊúüÁöÑÊúÄÂêé‰∏ÄÂ§©Ôºà‰πüÂ∞±ÊòØÊòüÊúüÂÖ≠ÔºåÂõΩÂ§ñÊòüÊúüÁ¨¨‰∏ÄÂ§©‰∏∫Âë®Â§©Ôºâ„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúLÂá∫Áé∞Âú®ÊòüÊúüÂ≠óÊÆµÈáåÔºåËÄå‰∏îÂú®ÂâçÈù¢Êúâ‰∏Ä‰∏™Êï∞ÂÄºXÔºåÂàôË°®Á§∫‚ÄúËøô‰∏™ÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™ÊòüÊúüX-1‚ÄùÔºå‰æãÂ¶ÇÔºå6LË°®Á§∫ËØ•ÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™ÊòüÊúü‰∫îÔºå5LË°®Á§∫ËØ•ÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™ÊòüÊúüÂõõÔºå‰ª•Ê≠§Á±ªÊé®„ÄÇWÔºöËØ•Â≠óÁ¨¶Âè™ËÉΩÂá∫Áé∞Âú®Êó•ÊúüÂ≠óÊÆµÈáåÔºåÊòØÂØπÂâçÂØºÊó•ÊúüÁöÑ‰øÆÈ•∞ÔºåË°®Á§∫Á¶ªËØ•Êó•ÊúüÊúÄËøëÁöÑÂ∑•‰ΩúÊó•„ÄÇ‰æãÂ¶Ç15WË°®Á§∫Á¶ªËØ•Êúà15Âè∑ÊúÄËøëÁöÑÂ∑•‰ΩúÊó•ÔºåÂ¶ÇÊûúËØ•Êúà15Âè∑ÊòØÊòüÊúüÂÖ≠ÔºåÂàôÂåπÈÖç14Âè∑ÊòüÊúü‰∫îÔºõÂ¶ÇÊûú15Êó•ÊòØÊòüÊúüÊó•ÔºåÂàôÂåπÈÖç16Âè∑ÊòüÊúü‰∏ÄÔºõÂ¶ÇÊûú15Âè∑ÊòØÊòüÊúü‰∫åÔºåÈÇ£ÁªìÊûúÂ∞±ÊòØ15Âè∑ÊòüÊúü‰∫å„ÄÇ‰ΩÜÂøÖÈ°ªÊ≥®ÊÑèÂÖ≥ËÅîÁöÑÂåπÈÖçÊó•Êúü‰∏çËÉΩÂ§üË∑®ÊúàÔºåÂ¶Ç‰Ω†ÊåáÂÆö1WÔºåÂ¶ÇÊûú1Âè∑ÊòØÊòüÊúüÂÖ≠ÔºåÁªìÊûúÂåπÈÖçÁöÑÊòØ3Âè∑ÊòüÊúü‰∏ÄÔºåËÄåÈùû‰∏ä‰∏™ÊúàÊúÄÂêéÁöÑÈÇ£Â§©ÔºõLWÁªÑÂêàÔºöÂú®Êó•ÊúüÂ≠óÊÆµÂèØ‰ª•ÁªÑÂêà‰ΩøÁî®LWÔºåÂÆÉÁöÑÊÑèÊÄùÊòØÂΩìÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™Â∑•‰ΩúÊó•Ôºõ‰∫ïÂè∑Ôºà#ÔºâÔºöËØ•Â≠óÁ¨¶Âè™ËÉΩÂú®ÊòüÊúüÂ≠óÊÆµ‰∏≠‰ΩøÁî®ÔºåË°®Á§∫ÂΩìÊúàÊüê‰∏™Â∑•‰ΩúÊó•„ÄÇÂ¶Ç6#3Ë°®Á§∫ÂΩìÊúàÁöÑÁ¨¨‰∏â‰∏™ÊòüÊúü‰∫îÔºà6Ë°®Á§∫ÊòüÊúü‰∫îÔºå#3Ë°®Á§∫ÂΩìÂâçÁöÑÁ¨¨‰∏â‰∏™ÔºâÔºåËÄå4#5Ë°®Á§∫ÂΩìÊúàÁöÑÁ¨¨‰∫î‰∏™ÊòüÊúü‰∏âÔºåÂÅáËÆæÂΩìÊúàÊ≤°ÊúâÁ¨¨‰∫î‰∏™ÊòüÊúü‰∏âÔºåÂøΩÁï•‰∏çËß¶ÂèëÔºõCÔºöËØ•Â≠óÁ¨¶Âè™Âú®Êó•ÊúüÂíåÊòüÊúüÂ≠óÊÆµ‰∏≠‰ΩøÁî®Ôºå‰ª£Ë°®‚ÄúCalendar‚ÄùÁöÑÊÑèÊÄù„ÄÇÂÆÉÁöÑÊÑèÊÄùÊòØËÆ°ÂàíÊâÄÂÖ≥ËÅîÁöÑÊó•ÊúüÔºåÂ¶ÇÊûúÊó•ÊúüÊ≤°ÊúâË¢´ÂÖ≥ËÅîÔºåÂàôÁõ∏ÂΩì‰∫éÊó•ÂéÜ‰∏≠ÊâÄÊúâÊó•Êúü„ÄÇ‰æãÂ¶Ç5CÂú®Êó•ÊúüÂ≠óÊÆµ‰∏≠Â∞±Áõ∏ÂΩì‰∫éÊó•ÂéÜ5Êó•‰ª•ÂêéÁöÑÁ¨¨‰∏ÄÂ§©„ÄÇ1CÂú®ÊòüÊúüÂ≠óÊÆµ‰∏≠Áõ∏ÂΩì‰∫éÊòüÊúüÊó•ÂêéÁöÑÁ¨¨‰∏ÄÂ§©„ÄÇCronË°®ËææÂºèÂØπÁâπÊÆäÂ≠óÁ¨¶ÁöÑÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑüÔºåÂØπ‰ª£Ë°®ÊòüÊúüÁöÑÁº©ÂÜôËã±ÊñáÂ§ßÂ∞èÂÜô‰πü‰∏çÊïèÊÑü„ÄÇ‰∏ãÈù¢ÁªôÂá∫‰∏Ä‰∫õÂÆåÊï¥ÁöÑCronË°®Á§∫ÂºèÁöÑÂÆû‰æãÔºöË°®Á§∫ÂºèËØ¥Êòé‚Äú0 0 12 * * ? ‚ÄúÊØèÂ§©12ÁÇπËøêË°å‚Äú0 15 10 ? * *‚ÄúÊØèÂ§©10:15ËøêË°å‚Äú0 15 10 * * ?‚ÄùÊØèÂ§©10:15ËøêË°å‚Äú0 15 10 * * ? *‚ÄúÊØèÂ§©10:15ËøêË°å‚Äú0 15 10 * * ? 2008‚ÄùÂú®2008Âπ¥ÁöÑÊØèÂ§©10Ôºö15ËøêË°å‚Äú0 * 14 * * ?‚ÄùÊØèÂ§©14ÁÇπÂà∞15ÁÇπ‰πãÈó¥ÊØèÂàÜÈíüËøêË°å‰∏ÄÊ¨°ÔºåÂºÄÂßã‰∫é14:00ÔºåÁªìÊùü‰∫é14:59„ÄÇ‚Äú0 0/5 14 * * ?‚ÄùÊØèÂ§©14ÁÇπÂà∞15ÁÇπÊØè5ÂàÜÈíüËøêË°å‰∏ÄÊ¨°ÔºåÂºÄÂßã‰∫é14:00ÔºåÁªìÊùü‰∫é14:55„ÄÇ‚Äú0 0/5 14,18 * * ?‚ÄùÊØèÂ§©14ÁÇπÂà∞15ÁÇπÊØè5ÂàÜÈíüËøêË°å‰∏ÄÊ¨°ÔºåÊ≠§Â§ñÊØèÂ§©18ÁÇπÂà∞19ÁÇπÊØè5Èíü‰πüËøêË°å‰∏ÄÊ¨°„ÄÇ‚Äú0 0-5 14 * * ?‚ÄùÊØèÂ§©14:00ÁÇπÂà∞14:05ÔºåÊØèÂàÜÈíüËøêË°å‰∏ÄÊ¨°„ÄÇ‚Äú0 10,44 14 ? 3 WED‚Äù3ÊúàÊØèÂë®‰∏âÁöÑ14:10ÂàÜÂà∞14:44ÔºåÊØèÂàÜÈíüËøêË°å‰∏ÄÊ¨°„ÄÇ‚Äú0 15 10 ? * MON-FRI‚ÄùÊØèÂë®‰∏ÄÔºå‰∫åÔºå‰∏âÔºåÂõõÔºå‰∫îÁöÑ10:15ÂàÜËøêË°å„ÄÇ‚Äú0 15 10 15 * ?‚ÄùÊØèÊúà15Êó•10:15ÂàÜËøêË°å„ÄÇ‚Äú0 15 10 L * ?‚ÄùÊØèÊúàÊúÄÂêé‰∏ÄÂ§©10:15ÂàÜËøêË°å„ÄÇ‚Äú0 15 10 ? * 6L‚ÄùÊØèÊúàÊúÄÂêé‰∏Ä‰∏™ÊòüÊúü‰∫î10:15ÂàÜËøêË°å„ÄÇ‚Äú0 15 10 ? * 6L 2014-2016‚ÄùÂú®2014,2015,2016Âπ¥ÊØè‰∏™ÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™ÊòüÊúü‰∫îÁöÑ10:15ÂàÜËøêË°å„ÄÇ‚Äú0 15 10 ? * 6#3‚ÄùÊØèÊúàÁ¨¨‰∏â‰∏™ÊòüÊúü‰∫îÁöÑ10:15ÂàÜËøêË°å„ÄÇÈôÑÔºöÂú®Á∫øCronË°®ËææÂºèÁîüÊàêÂô®CronTriggerÂÆû‰æã‰ΩøÁî®CronTriggerÂØπsimpleJobËøõË°åË∞ÉÂ∫¶Ôºå‰ΩøÁî®CronË°®ËææÂºèÂà∂ÂÆöË∞ÉÂ∫¶ËßÑÂàôÔºåËÆ©ÂÖ∂ÊØè5ÁßíËøêË°å‰∏ÄÊ¨°Ôºö123456789101112131415161718192021222324import org.quartz.CronExpression;import org.quartz.CronTrigger;import org.quartz.JobDetail;import org.quartz.Scheduler;import org.quartz.impl.StdSchedulerFactory;public class CronTriggerRunner &#123; public static void main(String[] args) &#123; try &#123; JobDetail jobDetail = new JobDetail("job2","job_group2",SimpleJob.class); CronTrigger cronTrigger = new CronTrigger("trigger2","trigger_group2"); CronExpression ce = new CronExpression("0/5 * * * * ?"); cronTrigger.setCronExpression(ce); Scheduler scheduler = new StdSchedulerFactory().getScheduler(); scheduler.scheduleJob(jobDetail, cronTrigger); scheduler.start(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125;ËøêË°åÔºåËßÇÂØüËæìÂá∫Ôºö123456789101112131415TriggerName: trigger2 Triggered time is: 09:38:00TriggerName: trigger2 Triggered time is: 09:38:05TriggerName: trigger2 Triggered time is: 09:38:10TriggerName: trigger2 Triggered time is: 09:38:15TriggerName: trigger2 Triggered time is: 09:38:20TriggerName: trigger2 Triggered time is: 09:38:25TriggerName: trigger2 Triggered time is: 09:38:30TriggerName: trigger2 Triggered time is: 09:38:35TriggerName: trigger2 Triggered time is: 09:38:40TriggerName: trigger2 Triggered time is: 09:38:45TriggerName: trigger2 Triggered time is: 09:38:50TriggerName: trigger2 Triggered time is: 09:38:55TriggerName: trigger2 Triggered time is: 09:39:00TriggerName: trigger2 Triggered time is: 09:39:05...CalendarÁï•„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
        <tag>Quartz</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂàùËØÜFlexÂ∏ÉÂ±Ä]]></title>
    <url>%2F%E5%88%9D%E8%AF%86Flex%E5%B8%83%E5%B1%80.html</url>
    <content type="text"><![CDATA[‰º†ÁªüÁöÑCSSÂ∏ÉÂ±ÄÊñπÊ≥ï‰∏≠Ôºå‰∏ÄËà¨‰ΩøÁî®floatÂ±ûÊÄßÂíådisplay:tableÊù•ÂÆûÁé∞Â∏ÉÂ±ÄÔºå‰ΩÜÂú®‰ΩøÁî®ÁöÑËøáÁ®ã‰∏≠ÊÄªÊúâÁßçÊó†Ê≥ïÈöèÂøÉÊâÄÊ¨≤ÁöÑÊÑüËßâÔºåÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÊëÜÊîæÊÄªÊòØÊòæÂæó‰∏çÊòØÈÇ£‰πàÁöÑÁõ¥ËßÇÔºåËÄåFlexboxÂæàÂ•ΩÁöÑËß£ÂÜ≥‰∫ÜËøô‰∏™ÈóÆÈ¢ò„ÄÇFlexbox‰øóÁß∞ÂºπÊÄßÁõíÂ≠êÊ®°ÂûãÔºåÂú®ÂºÄÂßã‰ΩøÁî®Flexbox‰πãÂâçÔºåÈ¶ñÂÖàË¶ÅÂ£∞Êòé‰∏Ä‰∏™FlexÂÆπÂô®ÔºàFlex ContainerÔºâ„ÄÇËÄåFlexÂÆπÂô®‰∏≠ÁöÑÂÖÉÁ¥†Áß∞‰∏∫FlexÈ°πÁõÆÔºàFlex ItemÔºâ„ÄÇÂ£∞Êòé‰∏Ä‰∏™FlexÂÆπÂô®Ôºö1234567div &#123; display: flex;&#125;// ÂØπ‰∫éË°åÂÜÖÂÖÉÁ¥†Ôºödiv &#123; display: inline-flex;&#125;ÂØπ‰∫é‰∏Ä‰∏™FlexÂÆπÂô®ÔºåÂÖ∂Â≠òÂú®‰∏§‰∏™ËΩ¥„ÄÇÊ∞¥Âπ≥ÊñπÂêëÁöÑÁß∞‰∏∫‰∏ªËΩ¥Ôºàmain axisÔºâÔºåÁ´ñÁõ¥ÊñπÂêëÁöÑÁß∞‰∏∫‰∫§ÂèâËΩ¥Ôºàcross axisÔºâ„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöFlexBox‰∏ªË¶ÅÂåÖÂê´12‰∏™Â±ûÊÄßÔºåÂÖ∂‰∏≠FlexÂÆπÂô®6‰∏™ÔºåFlexÈ°πÁõÆ6‰∏™„ÄÇFlexÂÆπÂô®Â±ûÊÄßflex-directionflex-directionÂ±ûÊÄßÂÜ≥ÂÆö‰∫ÜÈ°πÁõÆÁöÑÊéíÂàóÊñπÂêëÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1flex-direction: row | row-reverse | column | column-reverse;ÂèØÂèñÁöÑÂÄºÊúâÔºörowÔºàÈªòËÆ§ÂÄºÔºâÔºöÈ°πÁõÆÊ∞¥Âπ≥ÊñπÂêëÊéíÂàóÔºåËµ∑ÁÇπÂú®Â∑¶Á´Ø„ÄÇrow-reverseÔºöÈ°πÁõÆÊ∞¥Âπ≥ÊñπÂêëÊéíÂàóÔºåËµ∑ÁÇπÂú®Âè≥Á´Ø„ÄÇcolumnÔºöÈ°πÁõÆÁ´ñÁõ¥ÊñπÂêëÊéíÂàóÔºåËµ∑ÁÇπÂú®‰∏äÊ≤ø„ÄÇcolumn-reverseÔºöÈ°πÁõÆÁ´ñÁõ¥ÊñπÂêëÊéíÂàóÔºåËµ∑ÁÇπÂú®‰∏ãÊ≤ø„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåflex-directionÁöÑÂèñÂÄº‰∏∫rowÔºöSee the Pen xrvQqe by wuyouzhuguli (@mrbird) on CodePen.ÂΩìflex-directionÂ±ûÊÄßÁöÑÂÄº‰∏∫row-reverseÊó∂ÔºåÈ°πÁõÆÁöÑËµ∑ÁÇπÂú®Âè≥Á´ØÔºöSee the Pen yoLJYb by wuyouzhuguli (@mrbird) on CodePen.ÂΩìflex-directionÂ±ûÊÄßÁöÑÂÄº‰∏∫columnÊó∂ÔºåÈ°πÁõÆÂûÇÁõ¥ÊéíÂàóÔºåËµ∑ÁÇπÂú®‰∏äÊ≤øÔºöSee the Pen yoLJOX by wuyouzhuguli (@mrbird) on CodePen.ÂΩìflex-directionÂ±ûÊÄßÁöÑÂÄº‰∏∫column-reverseÊó∂ÔºåÈ°πÁõÆÂûÇÁõ¥ÊéíÂàóÔºåËµ∑ÁÇπÂú®‰∏ãÊ≤øÔºöSee the Pen OjJXXV by wuyouzhuguli (@mrbird) on CodePen.flex-wrapflex-wrapÂ±ûÊÄßËßÑÂÆö‰∫ÜÈ°πÁõÆÂú®‰∏ÄÊù°ËΩ¥Á∫ø‰∏äÊéí‰∏ç‰∏ãÊó∂ÔºåÊòØÂê¶Êç¢Ë°å„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1flex-wrap: nowrap | wrap | wrap-reverse;Â±ûÊÄßÂèØÂèñÁöÑÂÄºÊúâÔºönowrapÔºàÈªòËÆ§ÔºâÔºö‰∏çÊç¢Ë°å„ÄÇwrapÔºöÊç¢Ë°åÔºåÁ¨¨‰∏ÄË°åÂú®‰∏äÊñπ„ÄÇwrap-reverseÔºöÊç¢Ë°åÔºåÁ¨¨‰∏ÄË°åÂú®‰∏ãÊñπ„ÄÇflex-wrapÈªòËÆ§ÂèñÂÄº‰∏∫nowrapÔºåÂç≥‰∏çÊç¢Ë°åÔºåÂ¶ÇÊûúÈ°πÁõÆÊéíÂàóÊñπÂêë‰∏∫Ê∞¥Âπ≥ÊñπÂêëÔºåÂàôÈ°πÁõÆÂÆΩÂ∫¶Ëá™Âä®Êî∂Áº©ÔºàÂõ†‰∏∫È°πÁõÆÁöÑflex-shrinkÂ±ûÊÄßÂÄºÈªòËÆ§‰∏∫1ÔºåÂç≥Â¶ÇÊûúÁ©∫Èó¥‰∏çË∂≥ÔºåËØ•È°πÁõÆÂÆΩÂ∫¶Â∞ÜÁº©Â∞è„ÄÇÔºâÔºöSee the Pen KvKMNm by wuyouzhuguli (@mrbird) on CodePen.Â∞Üflex-wrapÂ±ûÊÄßÂÄºËÆæÁΩÆ‰∏∫warpÊó∂ÔºöSee the Pen zdYBoj by wuyouzhuguli (@mrbird) on CodePen.Â∞Üflex-wrapÂ±ûÊÄßÂÄºËÆæÁΩÆ‰∏∫wrap-reverseÊó∂ÔºöSee the Pen eEYzgV by wuyouzhuguli (@mrbird) on CodePen.ÂΩìÈ°πÁõÆÊéíÂàóÊñπÂêë‰∏∫Á´ñÁõ¥ÊñπÂêëÔºåÂ¶ÇÊûú‰∏ÄÂàóÊéí‰∏ç‰∏ãÂπ∂‰∏îflex-wrapÂ±ûÊÄßÂÄº‰∏∫no-wrapÊó∂ÔºåÈ°πÁõÆÂ∞Ü‰ºöË∂ÖÂá∫ÂÆπÂô®ÁöÑÈ´òÂ∫¶ÔºåÈ°πÁõÆÂπ∂‰∏ç‰ºöÊî∂Áº©„ÄÇflex-flowflex-flowÂ±ûÊÄßÊòØflex-directionÂ±ûÊÄßÂíåflex-wrapÂ±ûÊÄßÁöÑÁÆÄÂÜôÂΩ¢ÂºèÔºåÈªòËÆ§ÂÄº‰∏∫row nowrap„ÄÇjustify-contentjustify-contentÂ±ûÊÄßÂÆö‰πâ‰∫ÜÈ°πÁõÆÂú®‰∏ªËΩ¥‰∏äÁöÑÂØπÈΩêÊñπÂºè„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1justify-content: flex-start | flex-end | center | space-between | space-around;Â±ûÊÄßÂèØÂèñÁöÑÂÄºÊúâÔºöflex-startÔºàÈªòËÆ§ÂÄºÔºâÔºöÂ∑¶ÂØπÈΩê„ÄÇflex-endÔºöÂè≥ÂØπÈΩê„ÄÇcenterÔºö Â±Ö‰∏≠„ÄÇspace-betweenÔºö‰∏§Á´ØÂØπÈΩêÔºåÈ°πÁõÆ‰πãÈó¥ÁöÑÈó¥ÈöîÈÉΩÁõ∏Á≠â„ÄÇspace-aroundÔºöÊØè‰∏™È°πÁõÆ‰∏§‰æßÁöÑÈó¥ÈöîÁõ∏Á≠â„ÄÇÈ°πÁõÆ‰πãÈó¥ÁöÑÈó¥ÈöîÊØîÈ°πÁõÆ‰∏éËæπÊ°ÜÁöÑÈó¥ÈöîÂ§ß‰∏ÄÂÄç„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏∫Â∑¶ÂØπÈΩêÔºåÂΩìjustify-contentÂ±ûÊÄßÂÄºËÆæ‰∏∫flex-endÊó∂ÔºöSee the Pen vJYKgo by wuyouzhuguli (@mrbird) on CodePen.ÂΩìjustify-contentÂ±ûÊÄßÂÄº‰∏∫centerÊó∂ÔºöSee the Pen probdW by wuyouzhuguli (@mrbird) on CodePen.ÂΩìjustify-contentÂ±ûÊÄßÂÄº‰∏∫space-betweenÊó∂ÔºöSee the Pen dzyXZB by wuyouzhuguli (@mrbird) on CodePen.ÂΩìjustify-contentÂ±ûÊÄßÂÄº‰∏∫space-aroundÊó∂ÔºöSee the Pen QMWEag by wuyouzhuguli (@mrbird) on CodePen.align-itemsalign-itemsÂ±ûÊÄßÂÆö‰πâÈ°πÁõÆÂú®‰∫§ÂèâËΩ¥‰∏äÂ¶Ç‰ΩïÂØπÈΩê„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1align-items: flex-start | flex-end | center | baseline | stretch;Â±ûÊÄßÂèØÂèñÁöÑÂÄºÊúâÔºöflex-startÔºö‰∫§ÂèâËΩ¥ÁöÑËµ∑ÁÇπÂØπÈΩê„ÄÇflex-endÔºö‰∫§ÂèâËΩ¥ÁöÑÁªàÁÇπÂØπÈΩê„ÄÇcenterÔºö‰∫§ÂèâËΩ¥ÁöÑ‰∏≠ÁÇπÂØπÈΩê„ÄÇbaseline: È°πÁõÆÁöÑÁ¨¨‰∏ÄË°åÊñáÂ≠óÁöÑÂü∫Á∫øÂØπÈΩê„ÄÇstretchÔºàÈªòËÆ§ÂÄºÔºâÔºöÂ¶ÇÊûúÈ°πÁõÆÊú™ËÆæÁΩÆÈ´òÂ∫¶ÊàñËÆæ‰∏∫autoÔºåÂ∞ÜÂç†Êª°Êï¥‰∏™ÂÆπÂô®ÁöÑÈ´òÂ∫¶„ÄÇÂΩìalign-itemsÂ±ûÊÄßÂÄº‰∏∫flex-startÊó∂ÔºàÂ∞ÜÁ¨¨2Ôºå4‰∏™È°πÁõÆÈ´òÂ∫¶ËÆæÁΩÆ‰∏∫120pxÔºå‰ª•Êõ¥Â•ΩÁöÑÂå∫ÂàÜÂêÑÂ±ûÊÄßÁöÑÊïàÊûúÔºâÔºöSee the Pen NvWrYp by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-itemsÂ±ûÊÄßÂÄº‰∏∫flex-endÊó∂ÔºöSee the Pen jLOrpG by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-itemsÂ±ûÊÄßÂÄº‰∏∫centerÊó∂ÔºöSee the Pen XaWKvO by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-itemsÂ±ûÊÄßÂÄº‰∏∫baselineÊó∂ÔºåÈ°πÁõÆÊ≤øÁùÄÁ¨¨‰∏ÄË°åÊñáÂ≠óÁöÑÂü∫Á∫øÂØπÈΩêÔºöSee the Pen YxzWMy by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-itemsÂ±ûÊÄßÂÄº‰∏∫stretchÔºàÈªòËÆ§ÂÄºÔºâÊó∂ÔºåÂ¶ÇÊûúÈ°πÁõÆÊú™ËÆæÁΩÆÈ´òÂ∫¶ÊàñËÆæ‰∏∫autoÔºåÂ∞ÜÂç†Êª°Êï¥‰∏™ÂÆπÂô®ÁöÑÈ´òÂ∫¶„ÄÇSee the Pen aybZjX by wuyouzhuguli (@mrbird) on CodePen.align-contentalign-contentÂ±ûÊÄßÂÆö‰πâ‰∫ÜÂ§öÊ†πËΩ¥Á∫øÔºàÂ§öË°åÔºâÁöÑÂØπÈΩêÊñπÂºè„ÄÇÂ¶ÇÊûúÈ°πÁõÆÂè™Êúâ‰∏ÄÊ†πËΩ¥Á∫øÔºåËØ•Â±ûÊÄß‰∏çËµ∑‰ΩúÁî®„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1align-content: flex-start | flex-end | center | space-between | space-around | stretch;Â±ûÊÄßÂèØÂèñÁöÑÂÄºÊúâÔºöflex-startÔºö‰∏é‰∫§ÂèâËΩ¥ÁöÑËµ∑ÁÇπÂØπÈΩê„ÄÇflex-endÔºö‰∏é‰∫§ÂèâËΩ¥ÁöÑÁªàÁÇπÂØπÈΩê„ÄÇcenterÔºö‰∏é‰∫§ÂèâËΩ¥ÁöÑ‰∏≠ÁÇπÂØπÈΩê„ÄÇspace-betweenÔºö‰∏é‰∫§ÂèâËΩ¥‰∏§Á´ØÂØπÈΩêÔºåËΩ¥Á∫ø‰πãÈó¥ÁöÑÈó¥ÈöîÂπ≥ÂùáÂàÜÂ∏É„ÄÇspace-aroundÔºöÊØèÊ†πËΩ¥Á∫ø‰∏§‰æßÁöÑÈó¥ÈöîÈÉΩÁõ∏Á≠â„ÄÇÊâÄ‰ª•ÔºåËΩ¥Á∫ø‰πãÈó¥ÁöÑÈó¥ÈöîÊØîËΩ¥Á∫ø‰∏éËæπÊ°ÜÁöÑÈó¥ÈöîÂ§ß‰∏ÄÂÄç„ÄÇstretchÔºàÈªòËÆ§ÂÄºÔºâÔºöËΩ¥Á∫øÂç†Êª°Êï¥‰∏™‰∫§ÂèâËΩ¥„ÄÇÂΩìalign-contentÂ±ûÊÄßÂÄº‰∏∫flex-startÊó∂ÔºåÈ°πÁõÆ‰∫§ÂèâËΩ¥ÁöÑËµ∑ÁÇπÂØπÈΩêÔºöSee the Pen oeNzZx by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-contentÂ±ûÊÄßÂÄº‰∏∫flex-endÊó∂ÔºåÈ°πÁõÆ‰∫§ÂèâËΩ¥ÁöÑÁªàÁÇπÂØπÈΩêÔºöSee the Pen PKoGmJ by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-contentÂ±ûÊÄßÂÄº‰∏∫centerÊó∂ÔºåÈ°πÁõÆ‰∫§ÂèâËΩ¥ÁöÑ‰∏≠ÁÇπÂØπÈΩêÔºöSee the Pen proEPQ by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-contentÂ±ûÊÄßÂÄº‰∏∫space-betweenÊó∂ÔºöSee the Pen XaWjRL by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-contentÂ±ûÊÄßÂÄº‰∏∫space-aroundÊó∂ÔºöSee the Pen oeNzwx by wuyouzhuguli (@mrbird) on CodePen.ÂΩìalign-contentÂ±ûÊÄßÂÄº‰∏∫stretchÔºàÈªòËÆ§ÂÄºÔºâÔºåÈ°πÁõÆÈ´òÂ∫¶‰∏∫autoÊó∂ÔºåÈ°πÁõÆÂ∞ÜÂç†Êª°Êï¥‰∏™‰∫§ÂèâËΩ¥ÔºöSee the Pen vJYXZg by wuyouzhuguli (@mrbird) on CodePen.È°πÁõÆÂ±ûÊÄßorderorderÂ±ûÊÄßÂÆö‰πâÈ°πÁõÆÁöÑÊéíÂàóÈ°∫Â∫è„ÄÇÊï∞ÂÄºË∂äÂ∞èÔºåÊéíÂàóË∂äÈù†ÂâçÔºåÈªòËÆ§‰∏∫0ÔºåÂÆÉÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™Ê≠£ÂÄºÔºå‰πüÂèØ‰ª•Êé•Âèó‰∏Ä‰∏™Ë¥üÂÄº„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1order: &lt;integer&gt;;ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂõ†‰∏∫È°πÁõÆÁöÑorderÂ±ûÊÄßÈÉΩ‰∏∫0ÔºåÊâÄ‰ª•ÊéíÂàóÈ°∫Â∫èÊåâÁÖßHTMLÊ∫êÁ†ÅËøõË°åÊéíÂàóÔºåÊØîÂ¶ÇÔºö123456&lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt;Âú®FlexBoxÂ∏ÉÂ±ÄÈáåÔºåliÈªòËÆ§Êåâ1Ôºå2Ôºå3Ôºå4ÁöÑÈ°∫Â∫èÊéíÂàóÔºåÁé∞Âú®‰∏çÊîπÂèòHTMLÊ∫êÁ†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞ÜÂ∫èÂè∑‰∏∫1ÁöÑliÁßªÂà∞ÊúÄÊú´Â∞æÔºöSee the Pen proRge by wuyouzhuguli (@mrbird) on CodePen.ËøôÈáåÂè™ÈúÄÂ∞ÜÁ¨¨‰∏Ä‰∏™liÁöÑorderÂ±ûÊÄßÂÄºËÆæ‰∏∫Â§ß‰∫é0ÁöÑÊï∞Âç≥ÂèØ„ÄÇflex-growflex-growÂ±ûÊÄßÂÆö‰πâÈ°πÁõÆÁöÑÊîæÂ§ßÊØî‰æãÔºåÈªòËÆ§‰∏∫0ÔºåÂç≥Â¶ÇÊûúÂ≠òÂú®Ââ©‰ΩôÁ©∫Èó¥Ôºå‰πü‰∏çÊîæÂ§ß„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1flex-grow: &lt;number&gt;Â¶ÇÊûúÊâÄÊúâÈ°πÁõÆÁöÑflex-growÂ±ûÊÄßÈÉΩ‰∏∫1ÔºåÂàôÂÆÉ‰ª¨Â∞ÜÁ≠âÂàÜÂâ©‰ΩôÁ©∫Èó¥ÔºàÂ¶ÇÊûúÊúâÁöÑËØùÔºâÔºöSee the Pen NvWdRr by wuyouzhuguli (@mrbird) on CodePen.‰ªéÁªìÊûúÂèØ‰ª•ÁúãÂà∞ÔºåËøô‰∏â‰∏™liÁöÑÂÆΩÂ∫¶ÈÉΩÂèòÂ§ß‰∫ÜÔºåÁ≠âÂàÜ‰∫ÜÂ§ñÂ±ÇulÁöÑÂâ©‰ΩôÁ©∫Èó¥„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™È°πÁõÆÁöÑflex-growÂ±ûÊÄß‰∏∫2ÔºåÂÖ∂‰ªñÈ°πÁõÆÈÉΩ‰∏∫1ÔºåÂàôÂâçËÄÖÂç†ÊçÆÁöÑÂâ©‰ΩôÁ©∫Èó¥Â∞ÜÊØîÂÖ∂‰ªñÈ°πÂ§ö‰∏ÄÂÄçÔºöSee the Pen EvxZNR by wuyouzhuguli (@mrbird) on CodePen.flex-shrinkflex-shrinkÂ±ûÊÄßÂÆö‰πâ‰∫ÜÈ°πÁõÆÁöÑÁº©Â∞èÊØî‰æãÔºåÈªòËÆ§‰∏∫1ÔºåÂç≥Â¶ÇÊûúÁ©∫Èó¥‰∏çË∂≥ÔºåËØ•È°πÁõÆÂ∞ÜÁº©Â∞è„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1flex-shrink: &lt;number&gt;;Â¶ÇÊûúÊâÄÊúâÈ°πÁõÆÁöÑflex-shrinkÂ±ûÊÄßÈÉΩ‰∏∫1ÔºåÂΩìÁ©∫Èó¥‰∏çË∂≥Êó∂ÔºåÈÉΩÂ∞ÜÁ≠âÊØî‰æãÁº©Â∞è„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™È°πÁõÆÁöÑflex-shrinkÂ±ûÊÄß‰∏∫0ÔºåÂÖ∂‰ªñÈ°πÁõÆÈÉΩ‰∏∫1ÔºåÂàôÁ©∫Èó¥‰∏çË∂≥Êó∂ÔºåÂâçËÄÖ‰∏çÁº©Â∞è„ÄÇË¥üÂÄºÂØπËØ•Â±ûÊÄßÊó†ÊïàÔºöSee the Pen vJYgxo by wuyouzhuguli (@mrbird) on CodePen.flex-basisflex-basisÂ±ûÊÄßÂÆö‰πâ‰∫ÜÂú®ÂàÜÈÖçÂ§ö‰ΩôÁ©∫Èó¥‰πãÂâçÔºåÈ°πÁõÆÂç†ÊçÆÁöÑ‰∏ªËΩ¥Á©∫Èó¥Ôºàmain sizeÔºâ„ÄÇÊµèËßàÂô®Ê†πÊçÆËøô‰∏™Â±ûÊÄßÔºåËÆ°ÁÆó‰∏ªËΩ¥ÊòØÂê¶ÊúâÂ§ö‰ΩôÁ©∫Èó¥„ÄÇÂÆÉÁöÑÈªòËÆ§ÂÄº‰∏∫autoÔºåÂç≥È°πÁõÆÁöÑÊú¨Êù•Â§ßÂ∞è„ÄÇÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1flex-basis: &lt;length&gt; | auto;flex-basisÂèØ‰ª•ÊâãÂä®ÁöÑËÆæÁΩÆ‰∏∫‰∏Ä‰∏™ÂêàÊ≥ïÁöÑpxÂÄºÔºåËøôÊ†∑È°πÁõÆÂéüÊú¨ÁöÑwidthÂ∞ÜÂ§±Êïà„ÄÇÊØîÂ¶ÇÔºåÁ¨¨‰∏Ä‰∏™liÁöÑÂÆΩÂ∫¶‰∏∫70pxÔºåÂú®Â∞ÜÂÖ∂flex-basisÂ±ûÊÄßËÆæÁΩÆ‰∏∫140px‰πãÂêéÔºöSee the Pen YxzNEm by wuyouzhuguli (@mrbird) on CodePen.flexflexÂ±ûÊÄßÊòØflex-grow, flex-shrink Âíå flex-basisÁöÑÁÆÄÂÜôÔºåÈªòËÆ§ÂÄº‰∏∫0 1 auto„ÄÇÂêé‰∏§‰∏™Â±ûÊÄßÂèØÈÄâ„ÄÇËØ•Â±ûÊÄßÊúâ‰∏§‰∏™Âø´Êç∑ÂÄºÔºöauto (1 1 auto) Âíå none (0 0 auto)„ÄÇalign-selfalign-selfÂ±ûÊÄßÂÖÅËÆ∏Âçï‰∏™È°πÁõÆÊúâ‰∏éÂÖ∂‰ªñÈ°πÁõÆ‰∏ç‰∏ÄÊ†∑ÁöÑÂØπÈΩêÊñπÂºèÔºåÂèØË¶ÜÁõñalign-itemsÂ±ûÊÄß„ÄÇÈªòËÆ§ÂÄº‰∏∫autoÔºåË°®Á§∫ÁªßÊâøÁà∂ÂÖÉÁ¥†ÁöÑalign-itemsÂ±ûÊÄßÔºåÂ¶ÇÊûúÊ≤°ÊúâÁà∂ÂÖÉÁ¥†ÔºåÂàôÁ≠âÂêå‰∫éstretch„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1align-self: auto | flex-start | flex-end | center | baseline | stretch;ÊØîÂ¶ÇÔºåÂ∞ÜÁ¨¨‰∫å‰∏™liÁöÑaligh-selfÂ±ûÊÄßÂÄºËÆæÁΩÆ‰∏∫flex-endÔºöSee the Pen MvWJGV by wuyouzhuguli (@mrbird) on CodePen.]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3Êª§Èïúfilter]]></title>
    <url>%2FCSS%E6%BB%A4%E9%95%9Cfilter.html</url>
    <content type="text"><![CDATA[CSSÊª§ÈïúÔºàfilterÔºâÁî®‰∫éÂÆö‰πâÊª§ÈïúÊïàÊûúÔºå‰πüÂ∞±ÊòØÊîπÂèòÂÖÉÁ¥†ÁöÑÈÄèÊòéÂ∫¶„ÄÅÂØπÊØîÂ∫¶„ÄÅ‰∫ÆÂ∫¶ÂíåÊ®°Á≥äÂ∫¶Á≠âÊïàÊûú„ÄÇÂÖ∂ÂåÖÂê´‰∏ÄÁ≥ªÂàóÁöÑÂáΩÊï∞Êù•ÂÆûÁé∞ÂêÑÁßçÊª§ÈïúÊïàÊûúÔºå‰πüÂèØ‰ª•Â∞ÜËøô‰∫õÂáΩÊï∞ÁªÑÂêàËµ∑Êù•Ôºå‰ª•Ê≠§ËææÂà∞Êõ¥Â§çÊùÇÁöÑÊª§ÈïúÊïàÊûú„ÄÇblur()ÁªôÂõæÂÉèËÆæÁΩÆÈ´òÊñØÊ®°Á≥äÁöÑÊïàÊûú„ÄÇÈªòËÆ§ÂÄº‰∏∫0ÔºåÊé•ÂèócssÈïøÂ∫¶ÂÄºÔºå‰∏çËÉΩ‰∏∫ÁôæÂàÜÊï∞„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑÊ®°Á≥äÂ∫¶ÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen gRNgzX by wuyouzhuguli (@mrbird) on CodePen.ÂèØËßÅÔºåÈïøÂ∫¶ÂÄºË∂äÂ§ßÔºåÊïàÊûúË∂äÊ®°Á≥ä„ÄÇbrightness()Áî®‰∫éÁªôÂõæÂÉèËÆæÁΩÆ‰∫ÆÊöóÁ®ãÂ∫¶ÔºåÂÄº‰∏∫0%Êó∂ÔºåÂõæÂÉèÂÖ®ÈªëÔºõÂÄº‰∏∫100%Êó∂ÔºåÂõæÂÉèÊ≤°Êúâ‰ªª‰ΩïÂèòÂåñ„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑ‰∫ÆÂ∫¶ÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen rwEyNO by wuyouzhuguli (@mrbird) on CodePen.contrast()Ë∞ÉÊï¥ÂõæÂÉèÁöÑÂØπÊØîÂ∫¶„ÄÇÂÄºÊòØ0%ÁöÑËØùÔºåÂõæÂÉè‰ºöÂÖ®Èªë„ÄÇÂÄºÊòØ100%ÔºåÂõæÂÉè‰∏çÂèò„ÄÇÂÄºÂèØ‰ª•Ë∂ÖËøá100%ÔºåÊÑèÂë≥ÁùÄ‰ºöËøêÁî®Êõ¥‰ΩéÁöÑÂØπÊØî„ÄÇËã•Ê≤°ÊúâËÆæÁΩÆÂÄºÔºåÈªòËÆ§ÊòØ1„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑÂØπÊØîÂ∫¶ÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen EXBWVg by wuyouzhuguli (@mrbird) on CodePen.grayscale()Â∞ÜÂõæÂÉèËΩ¨Êç¢‰∏∫ÁÅ∞Â∫¶ÂõæÂÉè„ÄÇÂÄºÂÆö‰πâËΩ¨Êç¢ÁöÑÊØî‰æã„ÄÇÂÄº‰∏∫100%ÂàôÂÆåÂÖ®ËΩ¨‰∏∫ÁÅ∞Â∫¶ÂõæÂÉèÔºåÂÄº‰∏∫0%ÂõæÂÉèÊó†ÂèòÂåñ„ÄÇÂÄºÂú®0%Âà∞100%‰πãÈó¥ÔºåÂàôÊòØÊïàÊûúÁöÑÁ∫øÊÄß‰πòÂ≠ê„ÄÇËã•Êú™ËÆæÁΩÆÔºåÂÄºÈªòËÆ§ÊòØ0„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑÁÅ∞Â∫¶ÂÄºÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen NgZpYK by wuyouzhuguli (@mrbird) on CodePen.hue-rotate()ÁªôÂõæÂÉèÂ∫îÁî®Ëâ≤Áõ∏ÊóãËΩ¨„ÄÇangleÂÄºËÆæÂÆöÂõæÂÉè‰ºöË¢´Ë∞ÉÊï¥ÁöÑËâ≤ÁéØËßíÂ∫¶ÂÄº„ÄÇÂÄº‰∏∫0degÔºåÂàôÂõæÂÉèÊó†ÂèòÂåñ„ÄÇËã•ÂÄºÊú™ËÆæÁΩÆÔºåÈªòËÆ§ÂÄºÊòØ0deg„ÄÇËØ•ÂÄºËôΩÁÑ∂Ê≤°ÊúâÊúÄÂ§ßÂÄºÔºåË∂ÖËøá360degÁöÑÂÄºÁõ∏ÂΩì‰∫éÂèàÁªï‰∏ÄÂúà„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑËâ≤Áõ∏ÊóãËΩ¨ÂÄºÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen LLKWJd by wuyouzhuguli (@mrbird) on CodePen.invert()ÂèçËΩ¨ÂõæÂÉè„ÄÇÂÄºÂÆö‰πâËΩ¨Êç¢ÁöÑÊØî‰æã„ÄÇ100%ÁöÑ‰ª∑ÂÄºÊòØÂÆåÂÖ®ÂèçËΩ¨„ÄÇÂÄº‰∏∫0%ÂàôÂõæÂÉèÊó†ÂèòÂåñ„ÄÇËã•ÂÄºÊú™ËÆæÁΩÆÔºåÂÄºÈªòËÆ§ÊòØ0„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑÂèçËΩ¨ÂÄºÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen rwEyQm by wuyouzhuguli (@mrbird) on CodePen.opacity()ËΩ¨ÂåñÂõæÂÉèÁöÑÈÄèÊòéÁ®ãÂ∫¶„ÄÇÂÄºÂÆö‰πâËΩ¨Êç¢ÁöÑÊØî‰æã„ÄÇÂÄº‰∏∫0%ÂàôÊòØÂÆåÂÖ®ÈÄèÊòéÔºåÂÄº‰∏∫100%ÂàôÂõæÂÉèÊó†ÂèòÂåñ„ÄÇËã•ÂÄºÊú™ËÆæÁΩÆÔºåÂÄºÈªòËÆ§ÊòØ1„ÄÇËØ•ÂáΩÊï∞‰∏éÂ∑≤ÊúâÁöÑopacityÂ±ûÊÄßÂæàÁõ∏‰ººÔºå‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÈÄöËøáfilterÔºå‰∏Ä‰∫õÊµèËßàÂô®‰∏∫‰∫ÜÊèêÂçáÊÄßËÉΩ‰ºöÊèê‰æõÁ°¨‰ª∂Âä†ÈÄü„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑÈÄèÊòéÂ∫¶ÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen EXBWrb by wuyouzhuguli (@mrbird) on CodePen.saturate()ËΩ¨Êç¢ÂõæÂÉèÈ•±ÂíåÂ∫¶„ÄÇÂÄºÂÆö‰πâËΩ¨Êç¢ÁöÑÊØî‰æã„ÄÇÂÄº‰∏∫0%ÂàôÊòØÂÆåÂÖ®‰∏çÈ•±ÂíåÔºåÂÄº‰∏∫100%ÂàôÂõæÂÉèÊó†ÂèòÂåñ„ÄÇË∂ÖËøá100%ÁöÑÂÄºÊòØÂÖÅËÆ∏ÁöÑÔºåÂàôÊúâÊõ¥È´òÁöÑÈ•±ÂíåÂ∫¶„ÄÇËã•ÂÄºÊú™ËÆæÁΩÆÔºåÂÄºÈªòËÆ§ÊòØ1„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑÈ•±ÂíåÂ∫¶ÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen XgLMQa by wuyouzhuguli (@mrbird) on CodePen.sepia()Â∞ÜÂõæÂÉèËΩ¨Êç¢‰∏∫Ê∑±Ë§êËâ≤„ÄÇÂÄºÂÆö‰πâËΩ¨Êç¢ÁöÑÊØî‰æã„ÄÇÂÄº‰∏∫100%ÂàôÂÆåÂÖ®ÊòØÊ∑±Ë§êËâ≤ÁöÑÔºåÂÄº‰∏∫0%ÂõæÂÉèÊó†ÂèòÂåñ„ÄÇËã•Êú™ËÆæÁΩÆÔºåÂÄºÈªòËÆ§ÊòØ0„ÄÇÊØîÂ¶ÇÁªô‰∏ãÈù¢ÁöÑËÉåÊôØÂõæËÆæÁΩÆ‰∏çÂêåÁöÑË§êËâ≤ÂÄºÔºåÂπ∂ÂØπÊØîÁªìÊûúÔºöSee the Pen owrZrP by wuyouzhuguli (@mrbird) on CodePen.drop-shadow()ÁªôÂõæÂÉèËÆæÁΩÆ‰∏Ä‰∏™Èò¥ÂΩ±ÊïàÊûú„ÄÇËØ•ÂáΩÊï∞‰∏éÂ∑≤ÊúâÁöÑbox-shadowÂ±ûÊÄßÂæàÁõ∏‰ºº„ÄÇ‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÔºåÈÄöËøáÊª§ÈïúÔºå‰∏Ä‰∫õÊµèËßàÂô®‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÊÄßËÉΩ‰ºöÊèê‰æõÁ°¨‰ª∂Âä†ÈÄü„ÄÇÂèÇÊï∞Á±ªÂûãÂíåbox-shadow‰∏ÄËá¥ÔºåËøôÈáåÂ∞±‰∏çÊºîÁ§∫Âï¶„ÄÇurl()URLÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™XMLÊñá‰ª∂ÔºåËØ•Êñá‰ª∂ËÆæÁΩÆ‰∫Ü ‰∏Ä‰∏™SVGÊª§ÈïúÔºå‰∏îÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™ÈîöÁÇπÊù•ÊåáÂÆö‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÊª§ÈïúÂÖÉÁ¥†„ÄÇÊØîÂ¶ÇÈÄöËøáurlÂáΩÊï∞ÂºïÂÖ•‰∏Ä‰∏™svgÊª§ÈïúËµÑÊ∫êÔºö1.effect &#123; filter: url(commonfilters.xml#large-blur) &#125;]]></content>
      <tags>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSÂ™í‰ΩìÊü•ËØ¢]]></title>
    <url>%2FCSS%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2.html</url>
    <content type="text"><![CDATA[‰∏Ä‰∏™Â™í‰ΩìÊü•ËØ¢Áî±‰∏Ä‰∏™ÂèØÈÄâÁöÑÂ™í‰ΩìÁ±ªÂûãÂíåÈõ∂‰∏™ÊàñÂ§ö‰∏™‰ΩøÁî®Â™í‰ΩìÂäüËÉΩÈôêÂà∂Ê†∑ÂºèË°®ËåÉÂõ¥ÁöÑË°®ËææÂºèÁªÑÊàê, ‰æãÂ¶ÇÂÆΩÂ∫¶ÔºåÈ´òÂ∫¶ÂíåÈ¢úËâ≤Á≠â„ÄÇËøô‰∫õË°®ËææÂºèÊèèËø∞‰∫ÜÂ™í‰ΩìÁâπÂæÅÔºåÊúÄÁªà‰ºöË¢´Ëß£Êûê‰∏∫trueÊàñfalse„ÄÇÂ¶ÇÊûúÂ™í‰ΩìÊü•ËØ¢‰∏≠ÊåáÂÆöÁöÑÂ™í‰ΩìÁ±ªÂûãÂåπÈÖçÂ±ïÁ§∫ÊñáÊ°£ÊâÄ‰ΩøÁî®ÁöÑËÆæÂ§áÁ±ªÂûãÔºåÂπ∂‰∏îÊâÄÊúâÁöÑË°®ËææÂºèÁöÑÂÄºÈÉΩÊòØtrueÔºåÈÇ£‰πàËØ•Â™í‰ΩìÊü•ËØ¢ÁöÑÁªìÊûú‰∏∫true„ÄÇ‰∏æ‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö1234567891011&lt;!-- linkÂÖÉÁ¥†‰∏≠ÁöÑCSSÂ™í‰ΩìÊü•ËØ¢ --&gt;&lt;link rel="stylesheet" media="(max-width: 800px)" href="example.css" /&gt;&lt;!-- Ê†∑ÂºèË°®‰∏≠ÁöÑCSSÂ™í‰ΩìÊü•ËØ¢ --&gt;&lt;style&gt;@media (max-width: 600px) &#123; .facet_sidebar &#123; display: none; &#125;&#125;&lt;/style&gt;ÂΩìÂ™í‰ΩìÊü•ËØ¢ÁªìÊûú‰∏∫trueÊó∂ÔºåÁõ∏Â∫îÁöÑÊ†∑ÂºèÂ∞±‰ºöË¢´Â∫îÁî®„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂç≥‰ΩøÂ™í‰ΩìÊü•ËØ¢ÁªìÊûú‰∏∫falseÔºålinkËøòÊòØ‰ºöÂä†ËΩΩÁõ∏Â∫îÁöÑcssÊñá‰ª∂ÔºåÂè™‰∏çËøáËøô‰ªΩÊ†∑ÂºèÊñá‰ª∂‰∏ç‰ºöË¢´Â∫îÁî®ÁΩ¢‰∫Ü„ÄÇÂ™í‰ΩìÊü•ËØ¢‰∏≠ÔºåÈªòËÆ§ÁöÑÂ™í‰ΩìÁ±ªÂûãÊòØall„ÄÇÂ∏∏ËßÅÁöÑÂ™í‰ΩìÁ±ªÂûãÊúâÔºöÂ™í‰ΩìÁ±ªÂûãÊèèËø∞allÁî®‰∫éÊâÄÊúâÁöÑÂ™í‰ΩìËÆæÂ§á„ÄÇauralÁî®‰∫éËØ≠Èü≥ÂíåÈü≥È¢ëÂêàÊàêÂô®„ÄÇbrailleÁî®‰∫éÁõ≤‰∫∫Áî®ÁÇπÂ≠óÊ≥ïËß¶ËßâÂõûÈ¶àËÆæÂ§á„ÄÇembossedÁî®‰∫éÂàÜÈ°µÁöÑÁõ≤‰∫∫Áî®ÁÇπÂ≠óÊ≥ïÊâìÂç∞Êú∫„ÄÇhandheldÁî®‰∫éÂ∞èÁöÑÊâãÊåÅÁöÑËÆæÂ§á„ÄÇprintÁî®‰∫éÊâìÂç∞Êú∫„ÄÇprojectionÁî®‰∫éÊñπÊ°àÂ±ïÁ§∫ÔºåÊØîÂ¶ÇÂπªÁÅØÁâá„ÄÇscreenÁî®‰∫éÁîµËÑëÊòæÁ§∫Âô®„ÄÇttyÁî®‰∫é‰ΩøÁî®Âõ∫ÂÆöÂØÜÂ∫¶Â≠óÊØçÊ†ÖÊ†ºÁöÑÂ™í‰ΩìÔºåÊØîÂ¶ÇÁîµ‰º†ÊâìÂ≠óÊú∫ÂíåÁªàÁ´Ø„ÄÇtvÁî®‰∫éÁîµËßÜÊú∫Á±ªÂûãÁöÑËÆæÂ§á„ÄÇÈÄªËæëÊìç‰ΩúÁ¨¶Â™í‰ΩìÊü•ËØ¢Êìç‰ΩúÁ¨¶ÂåÖÊã¨andÔºånotÔºåonlyÂíåorÔºà‰πüÂèØ‰ª•ÊòØÈÄóÂè∑‚ÄúÔºå‚ÄùÔºâ„ÄÇandandÊìç‰ΩúÁ¨¶Âè™ÊúâÂΩìÂêÑ‰∏™Êü•ËØ¢ÈÉΩ‰∏∫trueÊó∂ÔºåÊâçËøîÂõûtrue„ÄÇÊØîÂ¶ÇÔºå‰∏ãÈù¢ÁöÑÂ™í‰ΩìÊü•ËØ¢‰ªÖÂú®ÂèØËßÜÂå∫ÂüüÂÆΩÂ∫¶‰∏çÂ∞è‰∫é700ÂÉèÁ¥†Âπ∂‰∏îÂú®Ê®™Â±èÊó∂ÊúâÊïàÔºö1@media (min-width: 700px) and (orientation: landscape) &#123; ... &#125;ËøôÈáåÂ™í‰ΩìÁ±ªÂûãÈªòËÆ§‰∏∫allÔºåÂ¶ÇÊûúË¶ÅÂ∞ÜÂ™í‰ΩìÁ±ªÂûãÈôêÂà∂‰∏∫ÁîµËÑëÂ±èÂπïÔºåÂàôÊîπÂÜôÂ™í‰ΩìÊü•ËØ¢‰∏∫Ôºö1@media tv and (min-width: 700px) and (orientation: landscape) &#123; ... &#125;notnotÂÖ≥ÈîÆÂ≠óÂ∫îÁî®‰∫éÊï¥‰∏™Â™í‰ΩìÊü•ËØ¢ÔºåÂú®Â™í‰ΩìÊü•ËØ¢‰∏∫ÂÅáÊó∂ËøîÂõûÁúü„ÄÇÊØîÂ¶Ç‰∏ãÈù¢ÁöÑÂ™í‰ΩìÊü•ËØ¢Âú®Â±èÂπïÂÆΩÂ∫¶Â§ß‰∫é700pxÂπ∂‰∏îÈùûÊ®™Â±èÊó∂ÊúâÊïàÔºö1@media not (min-width: 700px) and (orientation: landscape) &#123; ... &#125;ÂÖ∂Á≠â‰ª∑‰∫éÔºö1@media not ((min-width: 700px) and (orientation: landscape)) &#123; ... &#125;ÈÄóÂè∑ÂàÜÈöîÂàóË°®Â™í‰ΩìÊü•ËØ¢‰∏≠‰ΩøÁî®ÈÄóÂè∑ÂàÜÈöîÊïàÊûúÁ≠âÂêå‰∫é or ÈÄªËæëÊìç‰ΩúÁ¨¶„ÄÇÂΩì‰ΩøÁî®ÈÄóÂè∑ÂàÜÈöîÁöÑÂ™í‰ΩìÊü•ËØ¢Êó∂ÔºåÂ¶ÇÊûú‰ªª‰Ωï‰∏Ä‰∏™Â™í‰ΩìÊü•ËØ¢ËøîÂõûÁúüÔºåÊ†∑ÂºèÂ∞±ÊòØÊúâÊïàÁöÑ„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥Âú®ÊúÄÂ∞èÂÆΩÂ∫¶‰∏∫700ÂÉèÁ¥†ÊàñÊòØÊ®™Â±èÁöÑÊâãÊåÅËÆæÂ§á‰∏äÂ∫îÁî®‰∏ÄÁªÑÊ†∑ÂºèÔºå‰Ω†ÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö1@media (min-width: 700px), handheld and (orientation: landscape) &#123; ... &#125;onlyonly ÂÖ≥ÈîÆÂ≠óÈò≤Ê≠¢ËÄÅÊóßÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅÂ∏¶Â™í‰ΩìÂ±ûÊÄßÁöÑÊü•ËØ¢ËÄåÂ∫îÁî®Âà∞ÁªôÂÆöÁöÑÊ†∑ÂºèÔºö1&lt;link rel="stylesheet" media="only screen and (color)" href="example.css" /&gt;Â∏∏Áî®Â™í‰ΩìÂ±ûÊÄßÂêëÊâÄÊúâËÉΩÊòæÁ§∫È¢úËâ≤ÁöÑËÆæÂ§áÂ∫îÁî®Ê†∑ÂºèË°®Ôºö1@media all and (color) &#123; ... &#125;ÂêëÊâÄÊúâÈªëÁôΩËÆæÂ§áÂ∫îÁî®Ê†∑ÂºèË°®Ôºö1@media all and (monochrome) &#123; ... &#125;ÂêëÁ´ñÂ±èËÆæÂ§áÂ∫îÁî®Ê†∑ÂºèË°®Ôºö1@media all and (orientation: portrait) &#123; ... &#125;ÂêëÊ®™Â±èËÆæÂ§áÂ∫îÁî®Ê†∑ÂºèË°®Ôºö1@media all and (orientation: landscape) &#123; ... &#125;ÂêëÊúÄÂ∞èÂÉèÁ¥†ÂØÜÂ∫¶‰∏∫300dpiÁöÑËÆæÂ§áÂ∫îÁî®Ê†∑ÂºèË°®Ôºö1@media all and (min-resolution: 300dpi) &#123; ... &#125;ÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶Â±ûÊÄß‰∏äÈù¢‰æãÂ≠ê‰∏≠ÊúâÂá∫Áé∞Ôºå‰∏çÂÜçËµòËø∞„ÄÇ]]></content>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3 animation]]></title>
    <url>%2FCSS3-animation.html</url>
    <content type="text"><![CDATA[CSS3ÁöÑanimationÂ±ûÊÄßÂèØ‰ª•ÁªòÂà∂ÂêÑÁßçÂ§çÊùÇÁöÑÂä®ÁîªÔºåanimationÂ±ûÊÄßÁî±‰ª•‰∏ã8ÁßçÂ±ûÊÄßÁöÑÁÆÄÂÜôÂΩ¢ÂºèÔºö animation-nameÔºåanimation-durationÔºåanimation-timing-functionÔºåanimation-delayÔºåanimation-iteration-countÔºåanimation-direction Âíå animation-fill-mode„ÄÇ‰∏ãÈù¢‰∏Ä‰∏Ä‰ªãÁªçËøôÂÖ´ÁßçÂ±ûÊÄß„ÄÇanimation-nameCSS3‰∏≠‰ΩøÁî®@keyframesÂÆö‰πâÂä®ÁîªÁöÑÂêçÁß∞‰ª•ÂèäÂÖ∑‰ΩìÂä®ÁîªÁöÑÂÖ≥ÈîÆÂ∏ß„ÄÇËÄåanimation-nameÂ±ûÊÄßÂàôÊòØÁî®‰∫éÊåáÂÆö‰ΩøÁî®Âì™‰∏™Âä®ÁîªÔºåÊØîÂ¶Ç‰ΩøÁî®@keyframesÂÆö‰πâ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂä®ÁîªÔºö1234@-webkit-keyframes demo&#123; from &#123; left: 0; &#125; to &#123; left: 400px ;&#125;&#125;‰πüÂèØ‰ª•‰ΩøÁî®ÁôæÂàÜÊØîÊù•ÂÆö‰πâÂÖ≥ÈîÆÂ∏ß‰ΩçÁΩÆÔºö12345@-webkit-keyframes demo&#123; 0% &#123; left: 0; &#125; 50% &#123; left: 200px; &#125; 100% &#123; left: 400px; &#125;&#125;ÁÑ∂Âêé‰ΩøÁî®animation-nameÂ±ûÊÄßÊåáÂÆö‰ΩøÁî®demoÂä®ÁîªÔºö123div &#123; -webkit-animation-name: demo;&#125;animation-durationanimation-durationÊåáÂÆöÂØπË±°Âä®ÁîªÁöÑÊåÅÁª≠Êó∂Èó¥„ÄÇÂ±ûÊÄßÂÄº‰∏∫Ê≠£Êï∞ÔºåÂçï‰ΩçÂèØ‰ª•ÊòØÁßí(s)ÊàñËÄÖÊØ´Áßí(ms)„ÄÇÈªòËÆ§ÂÄº‰∏∫0ÔºåË°®ÊòéÂä®Áîª‰∏çÊâßË°å„ÄÇÊØîÂ¶ÇÔºöSee the Pen QgRQgM by wuyouzhuguli (@mrbird) on CodePen.animation-timing-functionËÆæÁΩÆÂØπË±°Âä®ÁîªÁöÑËøáÊ∏°Á±ªÂûãÔºåÂ¶ÇÊûúÊèê‰æõÂ§ö‰∏™Â±ûÊÄßÂÄºÔºå‰ª•ÈÄóÂè∑ËøõË°åÂàÜÈöî„ÄÇÁ±ª‰ºº‰∫étransition-timing-function„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1animation-timing-function: linear | ease | ease-in | ease-out | ease-in-out | step-start | step-end | steps(&lt;number&gt;[, [ start | end ] ]?) | cubic-bezier(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;) [, linear | ease | ease-in | ease-out | ease-in-out | step-start | step-end | steps(&lt;number&gt;[, [ start | end ] ]?) | cubic-bezier(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;) ]*;Â±ûÊÄßÂèØÂèñÁöÑÂÄºÊúâÔºöeaseÔºöÁºìËß£ÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0.25,0.1,0.25,1.0)ÂáΩÊï∞ÔºåÊó¢Á´ãÊñπË¥ùÂ°ûÂ∞î„ÄÇlinearÔºöÁ∫øÊÄßÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0.0,0.0,1.0,1.0)ÂáΩÊï∞„ÄÇease-inÔºöÊ∏êÊòæÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0.42,0,1.0,1.0)ÂáΩÊï∞„ÄÇease-outÔºöÊ∏êÈöêÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0,0,0.58,1.0)ÂáΩÊï∞„ÄÇease-in-outÔºöÊ∏êÊòæÊ∏êÈöêÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0.42,0,0.58,1.0)ÂáΩÊï∞„ÄÇstep-startÔºöÈ©¨‰∏äËΩ¨Ë∑≥Âà∞Âä®ÁîªÁªìÊùüÁä∂ÊÄÅ„ÄÇstep-endÔºö‰øùÊåÅÂä®ÁîªÂºÄÂßãÁä∂ÊÄÅÔºåÁõ¥Âà∞Âä®ÁîªÊâßË°åÊó∂Èó¥ÁªìÊùüÔºåÈ©¨‰∏äËΩ¨Ë∑≥Âà∞Âä®ÁîªÁªìÊùüÁä∂ÊÄÅ„ÄÇsteps(&lt;number&gt;[, [ start | end ] ]?)ÔºöÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞number‰∏∫ÊåáÂÆöÁöÑÈó¥ÈöîÊï∞ÔºåÂç≥ÊääÂä®ÁîªÂàÜ‰∏∫nÊ≠•Èò∂ÊÆµÊÄßÂ±ïÁ§∫ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÈªòËÆ§‰∏∫endÔºåËÆæÁΩÆÊúÄÂêé‰∏ÄÊ≠•ÁöÑÁä∂ÊÄÅÔºåstart‰∏∫ÁªìÊùüÊó∂ÁöÑÁä∂ÊÄÅÔºåend‰∏∫ÂºÄÂßãÊó∂ÁöÑÁä∂ÊÄÅÔºåËã•ËÆæÁΩÆ‰∏éanimation-fill-modeÁöÑÊïàÊûúÂÜ≤Á™ÅÔºåËÄå‰ª•animation-fill-modeÁöÑËÆæÁΩÆ‰∏∫Âä®ÁîªÁªìÊùüÁöÑÁä∂ÊÄÅ„ÄÇcubic-bezier(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)ÔºöÁâπÊÆäÁöÑÁ´ãÊñπË¥ùÂ°ûÂ∞îÊõ≤Á∫øÊïàÊûú„ÄÇÂêÑÁßçÊïàÊûúÂØπÊØîÔºöSee the Pen WOBzLm by wuyouzhuguli (@mrbird) on CodePen.animation-delayËÆæÁΩÆÂä®ÁîªÂª∂ËøüÊâßË°åÁöÑÊó∂Èó¥„ÄÇÈªòËÆ§ÂÄº0Ë°®Á§∫Á´ãÂç≥ÊâßË°åÔºåÊ≠£Êï∞‰∏∫Âä®ÁîªÂª∂Ëøü‰∏ÄÂÆöÊó∂Èó¥ÔºåË¥üÊï∞‰∏∫Êà™Êñ≠‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÁöÑÂä®Áîª„ÄÇÂçï‰Ωç‰∏∫Áßí(s)ÊàñÊØ´Áßí(s)„ÄÇÂÖ∑‰ΩìÂÆû‰æãÔºöSee the Pen zzQjOK by wuyouzhuguli (@mrbird) on CodePen.animation-iteration-countÊåáÂÆöÂØπË±°Âä®ÁîªÂæ™ÁéØÊí≠ÊîæÁöÑÊ¨°Êï∞„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1animation-iteration-count: &lt;number&gt;|infinite;ÂÄº‰∏∫numberÔºöËá™ÂÆö‰πâÂä®ÁîªÊâßË°åÊ¨°Êï∞ÔºåËÆæÁΩÆÂÄºÂèØ‰∏∫0ÊàñÊ≠£Êï¥Êï∞„ÄÇinfiniteÔºöÊó†ÈôêÂæ™ÁéØ„ÄÇSee the Pen dREeoJ by wuyouzhuguli (@mrbird) on CodePen.animation-directionÁΩÆÂØπË±°Âä®ÁîªÂæ™ÁéØÊí≠ÊîæÊ¨°Êï∞Â§ß‰∫é1Ê¨°Êó∂ÔºåÂä®ÁîªÊòØÂê¶ÂèçÂêëËøêÂä®„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1animation-direction: normal | reverse | alternate | alternate-reverse [, normal | reverse | alternate | alternate-reverse ]*;Â±ûÊÄßÂèØÂèñÁöÑÂÄºÊúâÔºönormalÔºöÊ≠£Â∏∏ÊñπÂêë„ÄÇreverseÔºöÂä®ÁîªÂèçÂêëËøêË°å,ÊñπÂêëÂßãÁªà‰∏énormalÁõ∏Âèç„ÄÇÔºàFF14.0.1‰ª•‰∏ã‰∏çÊîØÊåÅÔºâ„ÄÇalternateÔºöÂä®Áîª‰ºöÂæ™ÁéØÊ≠£ÂèçÊñπÂêë‰∫§ÊõøËøêÂä®ÔºåÂ•áÊï∞Ê¨°Ôºà1„ÄÅ3„ÄÅ5‚Ä¶‚Ä¶Ôºâ‰ºöÊ≠£Â∏∏ËøêÂä®ÔºåÂÅ∂Êï∞Ê¨°Ôºà2„ÄÅ4„ÄÅ6‚Ä¶‚Ä¶Ôºâ‰ºöÂèçÂêëËøêÂä®ÔºåÂç≥ÊâÄÊúâÁõ∏ÂÖ≥ËÅîÁöÑÂÄºÈÉΩ‰ºöÂèçÂêë„ÄÇalternate-reverseÔºöÂä®Áîª‰ªéÂèçÂêëÂºÄÂßãÔºåÂÜçÊ≠£ÂèçÊñπÂêë‰∫§ÊõøËøêÂä®ÔºåËøêÂä®ÊñπÂêëÂßãÁªà‰∏éalternateÂÆö‰πâÁöÑÁõ∏Âèç„ÄÇÔºàFF14.0.1‰ª•‰∏ã‰∏çÊîØÊåÅÔºâ„ÄÇÂêÑ‰∏™ÊïàÊûúÂØπÊØîÔºöSee the Pen QgRrEL by wuyouzhuguli (@mrbird) on CodePen.animation-fill-modeËÆæÁΩÆÂØπË±°Âä®ÁîªÊó∂Èó¥‰πãÂ§ñÁöÑÁä∂ÊÄÅ„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1animation-fill-mode: none | forwards | backwards | both;Â±ûÊÄßÂèØÂèñÁöÑÂÄºÊúâÔºönoneÔºöÈªòËÆ§ÂÄº„ÄÇ‰∏çËÆæÁΩÆÂØπË±°Âä®Áîª‰πãÂ§ñÁöÑÁä∂ÊÄÅ„ÄÇforwardsÔºöÁªìÊùüÂêé‰øùÊåÅÂä®ÁîªÁªìÊùüÊó∂ÁöÑÁä∂ÊÄÅÔºå‰ΩÜÂΩìanimation-direction‰∏∫0ÔºåÂàôÂä®Áîª‰∏çÊâßË°åÔºåÊåÅÁª≠‰øùÊåÅÂä®ÁîªÂºÄÂßãÊó∂ÁöÑÁä∂ÊÄÅ„ÄÇbackwardsÔºöÁªìÊùüÂêéËøîÂõûÂä®ÁîªÂºÄÂßãÊó∂ÁöÑÁä∂ÊÄÅ„ÄÇbothÔºöÁªìÊùüÂêéÂèØÈÅµÂæ™forwardsÂíåbackwards‰∏§‰∏™ËßÑÂàô„ÄÇSee the Pen KqLRap by wuyouzhuguli (@mrbird) on CodePen.animation-play-stateËÆæÁΩÆÂØπË±°Âä®ÁîªÁöÑÁä∂ÊÄÅÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1animation-play-state: running | pausedÂÖ∂‰∏≠running‰∏∫ÈªòËÆ§ÂÄºÔºåË°®Á§∫ËøêË°åÂä®Áîª‰∏≠ÔºõpausedË°®Á§∫ÊöÇÂÅúÂä®Áîª„ÄÇ‰æãÂ¶ÇÔºöSee the Pen owRdwd by wuyouzhuguli (@mrbird) on CodePen.ÂèÇËÄÉËá™http://isux.tencent.com/css3]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3 transition]]></title>
    <url>%2FCSS3-transition.html</url>
    <content type="text"><![CDATA[transformÂëàÁé∞ÁöÑÊòØ‰∏ÄÁßçÂèòÂΩ¢ÁªìÊûúÔºåËÄåTransationÂëàÁé∞ÁöÑÊòØ‰∏ÄÁßçËøáÊ∏°ÔºåÈÄö‰øóÁÇπËØ¥Â∞±ÊòØ‰∏ÄÁßçÂä®ÁîªËΩ¨Êç¢ËøáÁ®ãÔºåÂ¶ÇÊ∏êÊòæ„ÄÅÊ∏êÂº±„ÄÅÂä®ÁîªÂø´ÊÖ¢Á≠â„ÄÇtransitionÂèØ‰ª•ÂíåTransformÂêåÊó∂‰ΩøÁî®„ÄÇtransitionÊòØ‰∏Ä‰∏™Â§çÂêàÂ±ûÊÄßÔºåÂèØ‰ª•ÂêåÊó∂ÂÆö‰πâtransition-property„ÄÅtransition-duration„ÄÅtransition-timing-function„ÄÅtransition-delayÂ≠êÂ±ûÊÄßÂÄº„ÄÇtransition-propertytransition-propertyËÆæÁΩÆË¶Å‰ª•Âä®ÁîªÊñπÂºèÂèòÊç¢ÁöÑCSSÂ±ûÊÄß„ÄÇÈªòËÆ§ÂÄºallË°®Á§∫ÂèòÊç¢ÊâÄÊúâÁöÑÂ±ûÊÄßÔºåÂ¶ÇÊûúÂè™ÈíàÂØπÂçï‰∏™ÊàñËÄÖÂ§ö‰∏™CSSÂ±ûÊÄßËøõË°åÂèòÊç¢ÔºåÂ∞±ÂèØ‰ª•Áî®Ëøô‰∏™Â±ûÊÄßÊù•ËøõË°åÂçïÁã¨ËÆæÁΩÆ„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1transition-property: all | none | &lt;property&gt;[ ,&lt;property&gt; ]*‰æãÂ¶ÇÔºöSee the Pen ModvYa by wuyouzhuguli (@mrbird) on CodePen.transition-durationtransition-durationÁî®Êù•ÂÆö‰πâËΩ¨Êç¢Âä®ÁîªÁöÑÊó∂Èó¥ÈïøÂ∫¶ÔºåÂç≥‰ªéÊóßÂ±ûÊÄßÊç¢Âà∞Êñ∞Â±ûÊÄßËä±Ë¥πÁöÑÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫Áßí„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂä®ÁîªËøáÊ∏°Êó∂Èó¥‰∏∫0Áßí„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1transition-duration:&lt;time&gt;[ ,&lt;time&gt;]*;‰æãÂ¶ÇÔºöSee the Pen OgYjXq by wuyouzhuguli (@mrbird) on CodePen.transition-delaytransition-delayÂèØ‰ª•ËÆæÁΩÆÂä®ÁîªÂª∂ËøüÊâßË°åÁöÑÊó∂Èó¥ÔºåÈªòËÆ§ÂÄº0Ë°®Á§∫Á´ãÂç≥ÊâßË°åÔºåÊó∂Èó¥ÂèØ‰ª•ÊòØÊ≠£Êï∞‰πüÂèØ‰ª•ÊòØË¥üÊï∞ÔºåË¥üÊï∞Ë°®Á§∫Êà™Êñ≠ËßÑÂÆöÊó∂Èó¥ÂÜÖÁöÑÂä®Áîª„ÄÇÂçï‰ΩçÊòØÁßíÔºå‰πüÂèØ‰ª•ÊòØÊØ´Áßí„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1transition-delay:&lt;time&gt;[ ,&lt;time&gt;]*;timeÁöÑÂèñÂÄºÔºö0Ôºö‰∏çÂª∂ËøüÔºåÁõ¥Êé•ÊâßË°å„ÄÇÊ≠£Êï∞ÔºöÊåâÁÖßËÆæÁΩÆÁöÑÊó∂Èó¥Âª∂Ëøü„ÄÇË¥üÊï∞ÔºöËÆæÁΩÆÊó∂Èó¥ÂâçÁöÑÂä®ÁîªÂ∞ÜË¢´Êà™Êñ≠„ÄÇSee the Pen dREzWK by wuyouzhuguli (@mrbird) on CodePen.transition-timing-functiontransition-timing-functionÂèØ‰ª•ËÆæÁΩÆÂä®ÁîªÁöÑËøáÊ∏°ÊïàÊûúÔºåÈªòËÆ§ÂÄºease„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1transition-timing-function: linear | ease | ease-in | ease-out | ease-in-out | cubic-bezier(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;)[ ,linear | ease | ease-in | ease-out | ease-in-out | cubic-bezier(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;, &lt;number&gt;) ]* ;Â±ûÊÄßÂèØÂèñÁöÑÂÄºÂ¶Ç‰∏ãÔºöeaseÔºöÁºìËß£ÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0.25,0.1,0.25,1.0)ÂáΩÊï∞ÔºåÊó¢Á´ãÊñπË¥ùÂ°ûÂ∞î„ÄÇlinearÔºöÁ∫øÊÄßÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0.0,0.0,1.0,1.0)ÂáΩÊï∞„ÄÇease-inÔºöÊ∏êÊòæÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0.42,0,1.0,1.0)ÂáΩÊï∞„ÄÇease-outÔºöÊ∏êÈöêÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0,0,0.58,1.0)ÂáΩÊï∞„ÄÇease-in-outÔºöÊ∏êÊòæÊ∏êÈöêÊïàÊûúÔºåÁ≠âÂêå‰∫écubic-bezier(0.42,0,0.58,1.0)ÂáΩÊï∞„ÄÇcubic-bezierÔºöÁâπÊÆäÁöÑÁ´ãÊñπË¥ùÂ°ûÂ∞îÊõ≤Á∫øÊïàÊûú„ÄÇÂêÑÁßçÊïàÊûúÂØπÊØîÔºöSee the Pen LLojdr by wuyouzhuguli (@mrbird) on CodePen.Â§ö‰∏™ÂÄºÁöÑËøêÁî®CSS3ÈáåÂ§¥ÁöÑÂä®ÁîªÂ±ûÊÄßÂèØ‰ª•ÂØπÂ∫îÂ§ö‰∏™ÂÄºÔºå‰πüÂ∞±ÊòØËØ¥ÂèØ‰ª•ÂØπËøõË°åÂä®ÁîªÁöÑ‰∏çÂêåÁöÑÂ±ûÊÄßÊù•ËÆæÁΩÆ‰∏ç‰∏ÄÊ†∑ÁöÑÂÄº„ÄÇ‰∏æ‰∏™‰æãÂ≠êËØ¥ÊòéÔºöSee the Pen ZyNXxj by wuyouzhuguli (@mrbird) on CodePen.ÂèØ‰ª•ÁúãÂá∫Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊâÄÊúâÁöÑÂ±ûÊÄßÈÉΩÊòØÂú®ÂêåÊ†∑ÁöÑÊó∂Èó¥ÂÜÖÂÆåÊàê‰∫ÜÂä®ÁîªÔºåËÄåÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÁöÑleft,top,backgroundÊòØÂú®‰∏çÂêåÁöÑÊó∂Èó¥ÂÜÖÂÆåÊàêÂä®ÁîªÔºåËøôÂ∞±ÊòØÂØπÂèòÊç¢Êó∂Èó¥ËÆæÁΩÆ‰∫ÜÂ§ö‰∏™ÂÄºÁöÑÊïàÊûúÔºåÊØè‰∏™ËøõË°åÂä®ÁîªÁöÑÂ±ûÊÄßÂØπÂ∫î‰∫ÜÁõ∏Â∫îÁöÑÂèòÊç¢Êó∂Èó¥„ÄÇÂèÇËÄÉËá™http://isux.tencent.com/css3]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3 transform]]></title>
    <url>%2FCSS3-transform.html</url>
    <content type="text"><![CDATA[transformÂ±ûÊÄßËÉΩÂØπÂÖÉÁ¥†ÂØπË±°ËøõË°åÂèòÂΩ¢Êìç‰ΩúÔºå‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ãÂá†ÁßçÔºöÊóãËΩ¨rotate„ÄÅÁº©Êîæscale„ÄÅÁßªÂä®translate„ÄÅÂÄæÊñúskew‰ª•ÂèäÁü©ÈòµÂèòÂΩ¢matrix„ÄÇÂü∫Êú¨ËØ≠Ê≥ïÔºö1transform: none | &lt;transform-function&gt;[&lt;transform-function&gt;]*noneË°®Á§∫‰∏çËøõË°åÂèòÊç¢Ôºõ&lt;transform-function&gt;Ë°®Á§∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂèòÊç¢ÂáΩÊï∞Ôºå‰ª•Á©∫Ê†ºÂàÜÂºÄÔºåÂõ†Ê≠§ÂèØ‰ª•ÂêåÊó∂ÂØπ‰∏Ä‰∏™ÂÖÉÁ¥†ËøõË°åtransformÁöÑÂ§öÁßçÂ±ûÊÄßÊìç‰Ωú„ÄÇÂåÖÊã¨Ôºörotate(&lt;angle&gt;)ÔºöÊóãËΩ¨ÂÖÉÁ¥†„ÄÇscale(&lt;number&gt;[, &lt;number&gt;])ÔºöÁº©ÊîæÂÖÉÁ¥†„ÄÇtranslate(&lt;translation-value&gt;[, &lt;translation-value&gt;])ÔºöÁßªÂä®ÂÖÉÁ¥†„ÄÇskew(&lt;angle&gt; [,&lt;angle&gt;])ÔºöÂÄæÊñúÂÖÉÁ¥†„ÄÇmatrix(&lt;number&gt;,&lt;number&gt;,&lt;number&gt;,&lt;number&gt;,&lt;number&gt;,&lt;number&gt;)ÔºöÁü©ÈòµÂèòÂΩ¢„ÄÇperspective(length)ÔºöÈÄèËßÜ„ÄÇrotate()rotate()ÂáΩÊï∞ËÉΩÂ§üÊóãËΩ¨ÂÖÉÁ¥†ÔºåÂÆÉ‰∏ªË¶ÅÊòØÂú®‰∫åÁª¥Á©∫Èó¥ÂÜÖËøõË°åÊìç‰ΩúÔºåÈÄöËøá‰∏Ä‰∏™ËßíÂ∫¶ÂèÇÊï∞ÂÄºÔºåÊù•ËÆæÂÆöÊóãËΩ¨ÁöÑÂπÖÂ∫¶„ÄÇÂ¶ÇÊûúÂØπÂÖÉÁ¥†Êú¨Ë∫´ÊàñËÄÖÂÖÉÁ¥†ËÆæÁΩÆ‰∫ÜperspectiveÂÄºÔºåÈÇ£‰πàrotate3d()ÂáΩÊï∞ÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™3Áª¥Á©∫Èó¥ÂÜÖÁöÑÊóãËΩ¨„ÄÇÂü∫Êú¨ËØ≠Ê≥ïÔºö1transform:rotate(&lt;angle&gt;);ÂèñÂÄºÂ¶Ç‰∏ãÔºörotate(&lt;angle&gt;)Ôºö&lt;angle&gt;‰∏∫‰∏Ä‰∏™ËßíÂ∫¶ÂÄºÔºåÂçï‰ΩçdegÔºåÂèØ‰ª•‰∏∫Ê≠£Êï∞ÊàñËÄÖË¥üÊï∞ÔºåÊ≠£Êï∞ÊòØÈ°∫Êó∂ÈíàÊóãËΩ¨ÔºåË¥üÊï∞ÊòØÈÄÜÊó∂ÈíàÊóãËΩ¨„ÄÇrotateX(angele)ÔºöÁõ∏ÂΩì‰∫érotate3d(1,0,0,angle)ÊåáÂÆöÂú®3Áª¥Á©∫Èó¥ÂÜÖÁöÑXËΩ¥ÊóãËΩ¨„ÄÇrotateY(angele)ÔºöÁõ∏ÂΩì‰∫érotate3d(0,1,0,angle)ÊåáÂÆöÂú®3Áª¥Á©∫Èó¥ÂÜÖÁöÑYËΩ¥ÊóãËΩ¨„ÄÇrotateZ(angele)ÔºöÁõ∏ÂΩì‰∫érotate3d(0,0,1,angle)ÊåáÂÆöÂú®3Áª¥Á©∫Èó¥ÂÜÖÁöÑZËΩ¥ÊóãËΩ¨„ÄÇÂÖ∑‰ΩìÁ§∫‰æãÂ¶Ç‰∏ãÔºöSee the Pen JJqbzj by wuyouzhuguli (@mrbird) on CodePen.ÂÖ≥‰∫éperspectiveËßÅ‰∏ãÊñá‰ªãÁªç„ÄÇscale()scale()ÂáΩÊï∞ËÉΩÂ§üÁº©ÊîæÂÖÉÁ¥†„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1transform:scale(&lt;number&gt;[, &lt;number&gt;]);ÂèñÂÄºÂ¶Ç‰∏ãÔºöscale(&lt;number&gt;[, &lt;number&gt;])Ë°®Á§∫‰ΩøÂÖÉÁ¥†Âú®XËΩ¥ÂíåYËΩ¥ÂêåÊó∂Áº©Êîæ„ÄÇ&lt;number&gt;Ë°®Á§∫Áº©ÊîæÂÄçÊï∞ÔºåÂèØ‰ª•ÊòØÊ≠£Êï∞ÔºåË¥üÊï∞ÂíåÂ∞èÊï∞„ÄÇË¥üÊï∞ÊòØÂÖàÁøªËΩ¨ÂÖÉÁ¥†ÁÑ∂ÂêéÂÜçÁº©ÊîæÔºåXÂÄº‰∏∫Ë¥üÔºåÁªïYËΩ¥ÊóãËΩ¨ÔºõYÂÄº‰∏∫Ë¥üÔºåÁªïXËΩ¥ÊóãËΩ¨„ÄÇÂåÖÂê´‰∏§‰∏™ÂèÇÊï∞ÔºåÂ¶ÇÊûúÁº∫Â∞ëÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÈÇ£‰πàÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÁöÑÂÄºÁ≠â‰∫éÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞„ÄÇscaleX(&lt;number&gt;)Ë°®Á§∫Âè™Âú®XËΩ¥(Ê∞¥Âπ≥ÊñπÂêë)Áº©ÊîæÂÖÉÁ¥†„ÄÇscaleY(&lt;number&gt;)Ë°®Á§∫Âè™Âú®YËΩ¥(ÂûÇÁõ¥ÊñπÂêë)Áº©ÊîæÂÖÉÁ¥†„ÄÇscaleZ(&lt;number&gt;)Ë°®Á§∫Âè™Âú®ZËΩ¥Áº©ÊîæÂÖÉÁ¥†„ÄÇÂâçÊèêÊòØÂÖÉÁ¥†Êú¨Ë∫´ÊàñËÄÖÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥†ËÆæÂÆö‰∫ÜÈÄèËßÜÂÄº„ÄÇÂÖ∑‰ΩìÁ§∫‰æãÂ¶Ç‰∏ãÔºöSee the Pen yXWgLG by wuyouzhuguli (@mrbird) on CodePen.translate()translate()ÂáΩÊï∞ËÉΩÂ§üÁßªÂä®ÂÖÉÁ¥†„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1transform:translate(&lt;translation-value&gt;[, &lt;translation-value&gt;]);ÂèñÂÄºÂ¶Ç‰∏ãÔºötranslate(&lt;translation-value&gt;[, &lt;translation-value&gt;])Ë°®Á§∫‰ΩøÂÖÉÁ¥†Âú®XËΩ¥ÂíåYËΩ¥ÂêåÊó∂ÁßªÂä®Ôºå&lt;translation-value&gt;Ë°®Á§∫‰ΩçÁßªÈáè„ÄÇÂåÖÂê´‰∏§‰∏™ÂèÇÊï∞ÔºåÂ¶ÇÊûúÁúÅÁï•‰∫ÜÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂàôÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫0ÔºõÂ¶ÇÊûúÂèÇÊï∞‰∏∫Ë¥üÔºåÂàôË°®Á§∫ÂæÄÁõ∏ÂèçÁöÑÊñπÂêëÁßªÂä®„ÄÇtranslateX(&lt;translation-value&gt;)Ë°®Á§∫Âè™Âú®XËΩ¥(Ê∞¥Âπ≥ÊñπÂêë)ÁßªÂä®ÂÖÉÁ¥†„ÄÇtranslateY(&lt;translation-value&gt;)Ë°®Á§∫Âè™Âú®YËΩ¥(ÂûÇÁõ¥ÊñπÂêë)ÁßªÂä®ÂÖÉÁ¥†„ÄÇtranslateZ(&lt;translation-value&gt;)Ë°®Á§∫Âè™Âú®ZËΩ¥ÁßªÂä®ÂÖÉÁ¥†ÔºåÂâçÊèêÊòØÂÖÉÁ¥†Êú¨Ë∫´ÊàñËÄÖÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥†ËÆæÂÆö‰∫ÜÈÄèËßÜÂÄº„ÄÇÂÖ∑‰ΩìÁ§∫‰æãÂ¶Ç‰∏ãÔºöSee the Pen mwYRPw by wuyouzhuguli (@mrbird) on CodePen.skew()skew()ÂáΩÊï∞ËÉΩÂ§üËÆ©ÂÖÉÁ¥†ÂÄæÊñúÊòæÁ§∫„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1transform:skew(&lt;angle&gt; [,&lt;angle&gt;]);ÂèñÂÄºÂ¶Ç‰∏ãÔºöskew(&lt;angle&gt; [, &lt;angle&gt;])ÂåÖÂê´‰∏§‰∏™ÂèÇÊï∞ÂÄºÔºåÂàÜÂà´Ë°®Á§∫XËΩ¥ÂíåYËΩ¥ÂÄæÊñúÁöÑËßíÂ∫¶ÔºåÂ¶ÇÊûúÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫Á©∫ÔºåÂàôÈªòËÆ§‰∏∫0ÔºåÂèÇÊï∞‰∏∫Ë¥üË°®Á§∫ÂêëÁõ∏ÂèçÊñπÂêëÂÄæÊñú„ÄÇskewX(&lt;angle&gt;)Ë°®Á§∫Âè™Âú®XËΩ¥(Ê∞¥Âπ≥ÊñπÂêë)ÂÄæÊñú„ÄÇskewY(&lt;angle&gt;)Ë°®Á§∫Âè™Âú®YËΩ¥(ÂûÇÁõ¥ÊñπÂêë)ÂÄæÊñú„ÄÇSee the Pen GEarWO by wuyouzhuguli (@mrbird) on CodePen.perspectiveperspective‰∏∫ÈÄèËßÜÁöÑÊÑèÊÄùÔºåÁî®‰∫éËÆæÂÆöÊü•ÁúãÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÔºåËê•ÈÄ†‰∏ÄÁßç3DÁöÑÁ©∫Èó¥ÊÑüÔºåÂÄºË∂äÂ§ßÔºåÊÑüËßâ‰∏äÁ¶ªÂæóË∂äËøúÔºõÂÄºË∂äÂ∞èÔºåÊÑüËßâÊòØÁ¶ªÂæóË∂äËøë„ÄÇËøôÂØπ3DÂèòÊç¢ÁöÑÂÖÉÁ¥†Êù•ËØ¥ÊòØÂøÖÈ°ªÁöÑÂ±ûÊÄß„ÄÇÂÜôÊ≥ïÊúâ‰∏§ÁßçÔºöÂçïÁã¨‰Ωú‰∏∫‰∏Ä‰∏™Â±ûÊÄßÔºödiv { perspective: 100px}„ÄÇÈÖçÂêàtransformÔºödiv { transform: perspective(100px) rotateX(60deg) }„ÄÇÂØπÊØîÂÖ∑ÊúâperspectiveÂÄºÂèäÊ≤°ÊúâperspectiveÂÄºÁöÑÂå∫Âà´ÔºöSee the Pen webgNR by wuyouzhuguli (@mrbird) on CodePen.ÂØπÊØîpersepctiveÂÄºÁöÑÂ§ßÂ∞èÂØπ3DÊïàÊûúÁöÑÂΩ±ÂìçÔºöSee the Pen vZwgwR by wuyouzhuguli (@mrbird) on CodePen.‰∏äÈù¢ÁªìÊûúÂç∞ËØÅ‰∫ÜÔºöÂÄºË∂äÂ§ßÔºåÊÑüËßâ‰∏äÁ¶ªÂæóË∂äËøúÔºõÂÄºË∂äÂ∞èÔºåÊÑüËßâÊòØÁ¶ªÂæóË∂äËøëÁöÑÁªìËÆ∫„ÄÇtransform-origintransformÁöÑÂèÇÁÖßÁÇπÈªòËÆ§‰∏∫ÂÖÉÁ¥†ÁöÑ‰∏≠ÂøÉÁÇπÔºåÂ¶ÇÊûúË¶ÅÊîπÂèòËøô‰∏™ÂèÇÁÖßÁÇπÔºåÂèØ‰ª•ÊòØÁî®transform-originÂ±ûÊÄßËøõË°åËá™ÂÆö‰πâ„ÄÇËØ•Â±ûÊÄßÊèê‰æõ2‰∏™ÂèÇÊï∞ÂÄºÔºåÁ¨¨‰∏Ä‰∏™Áî®‰∫éÊ®™ÂùêÊ†áÔºåÁ¨¨‰∫å‰∏™Áî®‰∫éÁ∫µÂùêÊ†áÔºõÂ¶ÇÊûúÂè™Êèê‰æõ‰∏Ä‰∏™ÔºåËØ•ÂÄºÂ∞ÜÁî®‰∫éÊ®™ÂùêÊ†áÔºåÁ∫µÂùêÊ†áÂ∞ÜÈªòËÆ§‰∏∫50%ÔºöpercentageÔºöÁî®ÁôæÂàÜÊØîÊåáÂÆöÂùêÊ†áÂÄº„ÄÇÂèØ‰ª•‰∏∫Ë¥üÂÄº„ÄÇlengthÔºöÁî®ÈïøÂ∫¶ÂÄºÊåáÂÆöÂùêÊ†áÂÄº„ÄÇÂèØ‰ª•‰∏∫Ë¥üÂÄº„ÄÇleft center rightÊòØÊ∞¥Âπ≥ÊñπÂêëÂèñÂÄºÔºåËÄåtop center bottomÊòØÂûÇÁõ¥ÊñπÂêëÁöÑÂèñÂÄº„ÄÇÊü•ÁúãËÆæÁΩÆ‰∏çÂêå‰∏≠ÂøÉÁÇπÁöÑÊóãËΩ¨ÊïàÊûúÔºöSee the Pen OgYpJd by wuyouzhuguli (@mrbird) on CodePen.backface-visibilitybackface-visibilityÂ±ûÊÄßÂèØÁî®‰∫éÈöêËóèÂÜÖÂÆπÁöÑËÉåÈù¢„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËÉåÈù¢ÂèØËßÅÔºåËøôÊÑèÂë≥ÁùÄÂç≥‰ΩøÂú®ÁøªËΩ¨ÂêéÔºåÂèòÊç¢ÁöÑÂÜÖÂÆπ‰ªçÁÑ∂ÂèØËßÅ„ÄÇ‰ΩÜÂΩìbackface-visibilityËÆæÁΩÆ‰∏∫ hidden Êó∂ÔºåÊóãËΩ¨ÂêéÂÜÖÂÆπÂ∞ÜÈöêËóèÔºåÂõ†‰∏∫ÊóãËΩ¨ÂêéÊ≠£Èù¢Â∞Ü‰∏çÂÜçÂèØËßÅ„ÄÇSee the Pen OgYpyq by wuyouzhuguli (@mrbird) on CodePen.transform-styleËÆæÁΩÆÂÜÖÂµåÁöÑÂÖÉÁ¥†Âú® 3D Á©∫Èó¥Â¶Ç‰ΩïÂëàÁé∞„ÄÇÊúâ‰∏§‰∏™ÂÄºÔºöflatÔºöÊâÄÊúâÂ≠êÂÖÉÁ¥†Âú® 2D Âπ≥Èù¢ÂëàÁé∞„ÄÇpreserve-3dÔºö‰øùÁïô3DÁ©∫Èó¥„ÄÇÊØîÂ¶ÇÔºöSee the Pen ZyNeJL by wuyouzhuguli (@mrbird) on CodePen.ÂèÇËÄÉËá™http://isux.tencent.com/css3/]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3ËÉåÊôØÂ±ûÊÄß]]></title>
    <url>%2FCSS3%E8%83%8C%E6%99%AF%E5%B1%9E%E6%80%A7.html</url>
    <content type="text"><![CDATA[background-sizebackground-sizeÂ±ûÊÄßÁî®Êù•ÊéßÂà∂ËÉåÊôØÂõæÁâáÁöÑÂ§ßÂ∞è„ÄÇÂèÇÊï∞ÁöÑÂÄºÂèØ‰ª•ÊòØÊï∞ÂÄº‰πüÂèØ‰ª•ÊòØÁôæÂàÜÊï∞ÔºåËøòÂèØ‰ª•ÊòØcoverÂíåcontain„ÄÇÂ¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞ÔºåÊ≠§ÂÄºÁî®Êù•ËßÑÂÆöËÉåÊôØÂõæÁâáÁöÑÂÆΩÂ∫¶ÔºåËøô‰∏™Êó∂ÂÄôËÉåÊôØÂõæÁâáÁöÑÈ´òÂ∫¶ÊòØÊåâÁÖßÂÆΩÂ∫¶ËøõË°åÁ≠âÊØî‰æãÁº©ÊîæÔºõÂ¶ÇÊûúÊúâ‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Áî®Êù•ËßÑÂÆöËÉåÊôØÂõæÁâáÁöÑÂÆΩÂ∫¶ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞Áî®Êù•ËßÑÂÆöËÉåÊôØÂõæÁâáÁöÑÈ´òÂ∫¶„ÄÇÊï∞ÂÄºÊàñÁôæÂàÜÊØî‰æãÂ¶ÇÔºöSee the Pen pwBKrV by wuyouzhuguli (@mrbird) on CodePen.ÂΩìËÆæÁΩÆbackground-size‰∏∫120%Êó∂ÔºåÂ∞∫ÂØ∏Ë∂ÖËøáÂÆπÂô®ÔºåÂõæÁâáÂ∞Ü‰ºöË¢´Ë£ÅÂàá„ÄÇcoverÂ±ûÊÄßÂÄºËÆæÁΩÆ‰∏∫cover‰πãÂêéÔºåËÉåÊôØÂõæÂÉè‰ºöÁ≠âÊØîÁº©ÊîæÂà∞ÂÆåÂÖ®Ë¶ÜÁõñÂÆπÂô®ÔºåËÉåÊôØÂõæÂÉèÊúâÂèØËÉΩË∂ÖÂá∫ÂÆπÂô®Ôºå‰∏çËøáË∂ÖÂá∫ÁöÑÈÉ®ÂàÜÂ∞Ü‰ºöË¢´Ë£ÅÂàá„ÄÇ‰æãÂ¶ÇÔºöSee the Pen PjgaEp by wuyouzhuguli (@mrbird) on CodePen.containcontain‰∏écoverÁöÑÂå∫Âà´ÊòØÔºåcontainÂè™ÊåëÊ®™ÂêëÊàñËÄÖÁ∫µÂêë‰ªªÊÑè‰∏Ä‰∏™Êñπ‰ΩçÂ∞ÜÂÆπÂô®Â°´ÂÖÖÊª°ÔºöSee the Pen yXrEER by wuyouzhuguli (@mrbird) on CodePen.background-originbackground-originÂ±ûÊÄßÁî®‰∫éÊåáÂÆöËÉåÊôØÂõæÁâá‰ªé‰ªÄ‰πàÂú∞ÊñπÂºÄÂßãÁªòÂà∂Ôºå‰ΩÜÂπ∂‰∏çÈôêÂà∂ÁªòÂà∂Âå∫Âüü„ÄÇÈªòËÆ§ÂÄº‰∏∫padding-boxËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1background-origin:border-box|padding-box|content-boxborder-boxÊ≠§Â±ûÊÄßÂÄºËßÑÂÆöËÉåÊôØÂõæÁâá‰ªéborderÂå∫ÂüüÂºÄÂßãÁªòÂà∂ÔºàÂåÖÊã¨borderÔºâ„ÄÇÊØîÂ¶ÇÔºöSee the Pen gRyKQR by wuyouzhuguli (@mrbird) on CodePen.ÂèØ‰ª•ÁúãÂá∫ËÉåÊôØÂõæÁâáÊòØ‰ªéËæπÊ°ÜÂºÄÂßãÊ∏≤ÊüìÁöÑÔºåÂåÖÊã¨ËæπÊ°ÜÂå∫Âüü„ÄÇpadding-boxËßÑÂÆöËÉåÊôØÂõæÁâáÊòØ‰ªépaddingÂºÄÂßãÁªòÂà∂ÁöÑÔºåÂåÖÊã¨paddingÂå∫ÂüüÔºå‰æãÂ¶ÇÔºöSee the Pen JJVZzd by wuyouzhuguli (@mrbird) on CodePen.ÂèØËßÅËÉåÊôØÂõæÁâáÊòØ‰ªépaddingÂå∫ÂüüÂºÄÂßãÁªòÂà∂ÁöÑ„ÄÇcontent-boxÊ≠§Â±ûÊÄßÂÄºËßÑÂÆöÔºåËÉåÊôØÂõæÁâáÊòØ‰ªéÂÜÖÂÆπÂå∫ÂüüÂºÄÂßãÁªòÂà∂ÁöÑÔºåÊâÄË∞ìÂÜÖÂÆπÂå∫ÂüüÂ∞±ÊòØÂá∫ÂéªborderÂíåpaddingÂå∫ÂüüÔºåÊØîÂ¶ÇÔºöSee the Pen WOWyWy by wuyouzhuguli (@mrbird) on CodePen.ÂèØËßÅÔºåËÉåÊôØÂõæÁâáÊòØ‰ªéÂÜÖÂÆπÂå∫ÂüüÂºÄÂßãÁªòÂà∂ÁöÑ„ÄÇ‰ΩÜÂè≥‰∏ãËßípaddingÂíåborderÂå∫ÂüüÈÉΩÊúâËÉåÊôØÂõæÁâáÁöÑÊòæÁ§∫ÔºåÂõ†‰∏∫background-originÂ±ûÊÄß‰ªéÂêçÂ≠óÂèØ‰ª•ÁúãÂá∫ÔºåÂÆÉÂè™ËßÑÂÆöÂõæÁâáÁöÑËµ∑Ê∫ê‰ΩçÁΩÆÔºåËÄåÂπ∂‰∏çÂÖ≥ÂøÉÂõæÁâáÁöÑÁªìÊùü‰ΩçÁΩÆ„ÄÇË¶ÅÈôêÂà∂ÂõæÁâáÁöÑÁªìÊùü‰ΩçÁΩÆÔºåÂèØ‰ª•‰ΩøÁî®background-clipÂ±ûÊÄß„ÄÇbackground-clipbackground-clipÂ±ûÊÄßËßÑÂÆöËÉåÊôØÂõæÁâáÂú®Âì™‰∫õÂå∫ÂüüÂèØ‰ª•ÊòæÁ§∫„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1background-clip:border-box|padding-box|content-box|text|no-clipborder-boxborder-boxÂ±ûÊÄßÂÄºËßÑÂÆöÔºåËÉåÊôØÂõæÁâáÂèØ‰ª•Âú®ËæπÊ°ÜËåÉÂõ¥ÂÜÖÊòæÁ§∫Ôºå‰æãÂ¶ÇÔºöSee the Pen zzXLOY by wuyouzhuguli (@mrbird) on CodePen.ÂèØÁúãÂà∞ÔºåËôΩÁÑ∂ËßÑÂÆöËÉåÊôØÂõæÂèØÂú®ËæπÊ°ÜÂÜÖÊòæÁ§∫Ôºå‰ΩÜÂ∑¶‰∏äÂå∫ÂüüËæπÊ°Ü‰∏ãÂç¥Ê≤°ÊúâËÉåÊôØÂõæÔºåÂõ†‰∏∫background-originÂ±ûÊÄßÁöÑÈªòËÆ§ÂÄº‰∏∫padding-boxÔºÅpadding-boxpadding-boxÂ±ûÊÄßÂÄºËßÑÂÆöÔºåËÉåÊôØÂõæÁâáÂèØ‰ª•Âú®paddingËåÉÂõ¥ÂÜÖÊòæÁ§∫Ôºå‰∏çËÉΩÂú®borderÂå∫ÂüüÊòæÁ§∫Ôºå‰æãÂ¶ÇÔºöSee the Pen LLvBYZ by wuyouzhuguli (@mrbird) on CodePen.content-boxcontent-boxÂ±ûÊÄßÂÄºËßÑÂÆöËÉåÊôØÂõæÁâáÂèØ‰ª•Âú®contentÂå∫ÂüüÔºå‰πüÂ∞±ÊòØÈô§ÂéªpaddingÂíåborderÁöÑÂå∫ÂüüÂÜÖÊòæÁ§∫Ôºå‰æãÂ¶ÇÔºöSee the Pen XgQBJr by wuyouzhuguli (@mrbird) on CodePen.ÂèØ‰ª•ÁúãÂá∫ÔºåËÉåÊôØÂõæÁâáËøô‰∏™Êó∂ÂÄôÂè™ËÉΩÂ§üÂú®contentËåÉÂõ¥ÂÜÖÊòæÁ§∫‰∫Ü„ÄÇtext‰ªéÂâçÊôØÂÜÖÂÆπÁöÑÂΩ¢Áä∂ÔºàÊØîÂ¶ÇÊñáÂ≠óÔºâ‰Ωú‰∏∫Ë£ÅÂâ™Âå∫ÂüüÂêëÂ§ñË£ÅÂâ™Ôºå‰πüÂ∞±ÊòØËØ¥Âè™ÊúâÂâçÊôØÂÜÖÂÆπÁöÑÂΩ¢Áä∂ÂÜÖÊòæÁ§∫ËÉåÊôØÂõæÁâáÔºå‰æãÂ¶ÇÂè™ÊúâÊñáÂ≠óÂÜÖÊòæÁ§∫ËÉåÊôØ„ÄÇÊØîÂ¶ÇÔºöSee the Pen PjgBqQ by wuyouzhuguli (@mrbird) on CodePen.ÂèÇËÄÉËá™Ôºöhttp://www.softwhy.com/]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3ËæπÊ°ÜÁõ∏ÂÖ≥Â±ûÊÄß]]></title>
    <url>%2FCSS3%E8%BE%B9%E6%A1%86%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7.html</url>
    <content type="text"><![CDATA[CSS3Ê†áÂáÜÂèëÂ∏É‰πãÂâçÔºåÂØπËæπÊ°ÜÁöÑÊ†∑ÂºèÁöÑËÆæÂÆöÊòØÈùûÂ∏∏ÂçïË∞ÉÁöÑ„ÄÇCSS3Ê†áÂáÜÂèëÂ∏É‰πãÂêéÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂõæÁâáÊù•ÂÆöÂà∂ËæπÊ°ÜÔºåÂèØ‰ª•ËÆæÁΩÆÂÖÉÁ¥†ÁöÑÈò¥ÂΩ±‰ª•ÂèäÈÄâÊã©‰ΩøÁî®Âì™ÁßçÁõíÂ≠êÊ®°ÂûãÁ≠â„ÄÇborder-imageborder-imageÂ±ûÊÄßÂèØ‰ª•Áî®ÂõæÁâá‰Ωú‰∏∫ËæπÊ°ÜÊ†∑Âºè„ÄÇborder-imageÂ±ûÊÄßÂèØ‰ª•ÊãÜÂàÜ‰∏∫5‰∏™Â±ûÊÄßÔºö12345border-image-source // ËæπÊ°ÜÂõæÁâáÊ∫êborder-image-slice // ËæπÊ°ÜÂõæÁâáÂàáÂâ≤Â∞∫ÂØ∏border-image-width // ËæπÊ°ÜÂõæÁâáÂÆΩÂ∫¶border-image-outset // ËæπÊ°ÜÂõæÁâáÂå∫ÂüüË∂ÖÂá∫ÂÖÉÁ¥†ËæπÊ°ÜÁöÑÂ∞∫ÂØ∏border-image-repeat // ËæπÊ°ÜÂõæÁâá‰∏≠Èó¥ÈÉ®ÂàÜÂú®ÂÖÉÁ¥†ÂØπÂ∫îÈÉ®ÂàÜÁöÑÂ≠òÂú®ÊñπÂºèborder-image-sourceËÆæÁΩÆËæπÊ°ÜÂõæÁâáÁöÑÊ∫êÔºåÁî®url()ÊñπÂºèËßÑÂÆöÂõæÁâáË∑ØÂæÑÔºåÁõ∏ÂØπÂíåÁªùÂØπË∑ØÂæÑÈÉΩÂèØ„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1border-image-source : none | &lt;url&gt;border-image-sliceborder-image-sliceÁî®Êù•ËßÑÂÆöÂõæÁâáÁöÑÂàáÂâ≤‰ΩçÁΩÆ„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1border-image-slice: [ &lt;number&gt; | &lt;percentage&gt;]&#123;1,4&#125;Â±ûÊÄßÂÄºÂèØ‰ª•‰∏∫numberÔºå‰πüÂèØ‰ª•ÊòØpercentage„ÄÇÂ¶ÇÊûúÊòØpercentageÊñπÂºèÔºåÂàôÊòØÁõ∏ÂØπ‰∫éÂõæÁâáÁöÑÂ∞∫ÂØ∏„ÄÇÊØîÂ¶ÇÊúâÂ¶Ç‰∏ã‰∏Ä‰∏™ËæπÊ°ÜÂõæÁâáÔºöÊØè‰∏Ä‰∏™Â∞èÊñπÂùóÁöÑÂ∞∫ÂØ∏ÊòØ27pxÔºåÈÇ£‰πàÊ≠§ÂõæÁâáÁöÑÈïøÂÆΩÂ∞∫ÂØ∏ÊòØ(27*3)ÂÉèÁ¥†„ÄÇ‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†ÅËøõË°åÂàáÂâ≤Ôºö1border-image-slice:27px 27px 27px 27px;ÁªìÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂõæÁâáË¢´ÂàáÂâ≤ÂêéÔºå‰ºöË¢´ÂàíÂàÜ‰∏∫‰πù‰∏™Âå∫ÂüüÔºåËøô‰∏™‰πù‰∏™Âå∫Âüü‰ºö‰∏éÂÖÉÁ¥†ÁöÑ‰πù‰∏™Âå∫ÂüüÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑ„ÄÇborder-image-widthborder-image-widthÁî®Êù•ËßÑÂÆöËæπÊ°ÜÂõæÁâáÂÆΩÂ∫¶ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1border-image-width : [ &lt;length&gt; | &lt;percentage&gt; | &lt;number&gt; | auto ]&#123;1,4&#125;Ê≠§Â±ûÊÄßÂèØ‰ª•ÁúÅÁï•ÔºåÊ≠§Êó∂ËæπÊ°ÜÂõæÁâáÂå∫Âüü‰∏éÂÖÉÁ¥†ÁöÑborderÂÆΩÂ∫¶ÊòØ‰∏ÄËá¥ÁöÑ„ÄÇÊ≠§Â±ûÊÄßÂèØ‰ª•Êúâ1-4ÂÄºÔºåÂèñÂÄºÊñπÂºèÂíåborder-widthÁ±ª‰ººÔºåÂêåÊó∂‰πüÈÅµÂæ™‰∏äÂè≥‰∏ãÂ∑¶ÊñπÂºè„ÄÇborder-image-outsetborder-image-outsetÊ≠§Â±ûÊÄßÁî®Êù•ËßÑÂÆöËæπÊ°ÜÂõæÁâáÂå∫ÂüüË∂ÖÂá∫ÂÖÉÁ¥†ËæπÊ°ÜÁöÑÂ∞∫ÂØ∏ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1border-image-outset : [ &lt;length&gt; | &lt;number&gt; ]&#123;1,4&#125;border-image-repeatborder-image-repeatÁî®Êù•ËßÑÂÆöÔºåÂàáÂâ≤ÂêéÁöÑËæπÊ°ÜÂõæÁâá‰∏≠Èó¥ÈÉ®ÂàÜÔºàÊºîÁ§∫ÂõæÁâá‰∏≠ÁöÑÈªÑËâ≤ÈÉ®ÂàÜÔºâÂú®ÂÖÉÁ¥†ÂØπÂ∫îÈÉ®ÂàÜÁöÑÂ≠òÂú®ÊñπÂºè„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1border-image-repeat: [ stretch | repeat | round ]&#123;1,2&#125;‰∏âÁßçÂÄºÁöÑÂê´‰πâÂ¶Ç‰∏ãÔºöstretchÔºöÂõæÁâá‰ª•Âª∂Â±ïÊñπÂºèÊù•Â°´ÂÖÖËØ•Âå∫Âüü„ÄÇrepeatÔºöÂõæÁâá‰ª•ÈáçÂ§çÂπ≥Èì∫ÊñπÂºèÊù•Â°´ÂÖÖËØ•Âå∫Âüü„ÄÇroundÔºöÂõæÁâá‰ª•ÈáçÂ§çÂπ≥Èì∫ÊñπÂºèÊù•Â°´ÂÖÖËØ•Âå∫Âüü„ÄÇÂ¶ÇÊûúÊ≤°Êúâ‰ª•Êï¥Êï∞ÁöÑÂÄçÊï∞Êù•Â°´ÂÖÖËØ•Âå∫ÂüüÔºåÂõæÁâá‰ºöËøõË°åÁº©Êîæ‰ª•‰æø‰∫éÊï¥Êï∞ÊÄßÂÄçÊï∞ÁöÑÂπ≥Èì∫Â°´ÂÖÖ„ÄÇ‰∏ÄËà¨ÈÉΩÊòØÈááÁî®round„ÄÇÂÖ∑‰ΩìÂÆû‰æãÁ§∫‰æã1ÔºöSee the Pen border-image-one by wuyouzhuguli (@mrbird) on CodePen.‰ª•‰∏ä‰ª£Á†Å‰∏≠Ôºåborder-image-sliceËÆæÁΩÆ‰∏∫27ÔºåÁî±‰∫éÊ≤°ÊúâËßÑÂÆöborder-image-widthÔºåÈÇ£‰πàÂ∞Ü‰ª•ËæπÊ°ÜÁöÑÂ∞∫ÂØ∏‰∏∫Ê†áÂáÜÔºåÂèàÁî±‰∫éÊ≤°ÊúâËßÑÂÆöborder-image-repeatÂ±ûÊÄßÔºåÂàôÈªòËÆ§ÈááÁî®stretchÊñπÂºèÔºå‰πüÂ∞±ÊòØÊãâ‰º∏Ë¢´ÂàáÂâ≤ÁöÑ‰∏≠Èó¥Âå∫ÂüüÔºà‰πüÂç≥ÊòØÊºîÁ§∫Âõæ‰∏≠ÁöÑÈªÑËâ≤Âå∫ÂüüÔºâ„ÄÇÁ§∫‰æã2ÔºöSee the Pen border-image-two by wuyouzhuguli (@mrbird) on CodePen.ËæπÊ°ÜËÆæÁΩÆ‰∏∫54pxÔºåËæπÊ°ÜÂõæÁâáÂ∞Ü‰ºöËá™ÈÄÇÂ∫î„ÄÇÁ§∫‰æã3ÔºöSee the Pen border-image-three by wuyouzhuguli (@mrbird) on CodePen.roundÊñπÂºèÂèØ‰ª•Ëá™Âä®Ë∞ÉÊï¥ÂàáÂâ≤ÂêéËæπÊ°ÜÂõæÁâá‰∏≠Èó¥ÈÉ®ÂàÜÔºàÊºîÁ§∫ÂõæÈªÑËâ≤ÈÉ®ÂàÜÔºâÂ∞∫ÂØ∏ÊñπÂºèÂÆûÁé∞ÈáçÂ§çÂπ≥Èì∫ÊïàÊûúÔºåÊâÄ‰ª•‰∏ç‰ºöÂá∫Áé∞repeatÈÇ£Ê†∑ÁöÑÊÆãÁº∫Áé∞Ë±°„ÄÇbox-shadowbox-shadowÁî®Êù•ËÆæÁΩÆÂÖÉÁ¥†ÁöÑÊäïÂΩ±ÊïàÊûú„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1box-shadow:h-shadow v-shadow blur spread color inset;ÊØè‰∏™ÂèÇÊï∞ÁöÑÂÖ∑‰ΩìÊÑè‰πâÔºöh-shadowÔºöÂøÖÈúÄÔºåËÆæÁΩÆÂÖÉÁ¥†Èò¥ÂΩ±Ê∞¥Âπ≥ÂÅèÁßªÈáèÔºåÂèØ‰ª•‰∏∫Ë¥üÂÄºÔºåÂçï‰ΩçÊòØÂÉèÁ¥†„ÄÇv-shadowÔºöÂøÖÈúÄÔºåËÆæÁΩÆÂÖÉÁ¥†Èò¥ÂΩ±ÂûÇÁõ¥ÂÅèÁßªÈáèÔºåÂèØ‰ª•‰∏∫Ë¥üÂÄºÔºåÂçï‰ΩçÊòØÂÉèÁ¥†„ÄÇblurÔºöÂèØÈÄâÔºåÈò¥ÂΩ±Ê®°Á≥äÂçäÂæÑÔºåÂè™ËÉΩÂ§ü‰∏∫Ê≠£ÂÄºÔºåÂ¶ÇÊûú‰∏∫0ÔºåË°®Á§∫‰∏çÂÖ∑ÊúâÊ®°Á≥äÊïàÊûúÔºåÂçï‰ΩçÂÉèÁ¥†„ÄÇspreadÔºöÂèØÈÄâÔºåÈò¥ÂΩ±ÁöÑÊâ©Â±ïÂçäÂæÑÂ∞∫ÂØ∏ÔºåÂèØ‰ª•‰∏∫Ë¥üÂÄºÔºåÂçï‰ΩçÊòØÂÉèÁ¥†„ÄÇcolorÔºöÂèØÈÄâÔºåËÆæÁΩÆÈò¥ÂΩ±ÁöÑÈ¢úËâ≤ÔºõÁúÅÁï•Ê≠§ÂèÇÊï∞ÔºåÊµèËßàÂô®ÈÄâÂèñÈªòËÆ§È¢úËâ≤ÔºåÂêÑ‰∏™ÊµèËßàÂô®ÁöÑÈªòËÆ§ÂèØËÉΩ‰∏çÂêåÔºåÊúâÁöÑ‰∏∫ÈÄèÊòé„ÄÇinsetÔºöÂèØÈÄâÔºåÂèØ‰ª•Â∞ÜÂ§ñÈÉ®Èò¥ÂΩ±Êîπ‰∏∫ÂÜÖÈÉ®Èò¥ÂΩ±„ÄÇÂÖ∑‰ΩìÂÆû‰æãÁ§∫‰æã1ÔºåÂè™ËÆæÁΩÆÊ∞¥Âπ≥ÂíåÂûÇÁõ¥ÁöÑÂÅèÁßªÈáèÔºöSee the Pen box-shadow-one by wuyouzhuguli (@mrbird) on CodePen.Á§∫‰æã2ÔºåÊñ∞Â¢ûÊ®°Á≥äÂçäÂæÑÂíåÈò¥ÂΩ±È¢úËâ≤ÔºöSee the Pen box-shadow-two by wuyouzhuguli (@mrbird) on CodePen.Á§∫‰æã3ÔºåËÆæÁΩÆÂ§ö‰∏™Èò¥ÂΩ±ÔºöSee the Pen box-shadow-three by wuyouzhuguli (@mrbird) on CodePen.box-sizingbox-sizingÂ±ûÊÄßÁî®‰∫éÊåáÂÆöÂÖÉÁ¥†ÈááÁî®Âì™ÁßçÁõíÂ≠êÊ®°Âûã„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1box-sizing Ôºöcontent-box || border-box || inheritÂ¶ÇÊûúÂ±ûÊÄßÂÄºÊòØcontent-boxÔºåÈÇ£‰πàÂ∞ÜÈááÁî®Ê†áÂáÜÁõíÊ®°ÂûãÔºõÂ¶ÇÊûúÂ±ûÊÄßÂÄºÊòØborder-boxÔºåÈÇ£‰πàÂ∞ÜÈááÁî®ÊÄ™ÂºÇÊ®°ÂºèÁõíÊ®°ÂûãÔºõÂ¶ÇÊûúÂ±ûÊÄßÂÄºÊòØinheritÔºåÈÇ£‰πàÂ∞ÜÈááÁî®ÁªßÊâøÊñπÂºè„ÄÇÁõíÂ≠êÊ®°ÂûãÁõÆÂâçÂÆâË£ÖW3CÁöÑÊ†áÂáÜÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÁßçÔºöÊ†áÂáÜÁõíÂ≠êÊ®°ÂûãÂíåÊÄ™ÂºÇÁõíÂ≠êÊ®°Âûã„ÄÇÊ†áÂáÜÁõíÂ≠êÊ®°ÂûãÔºåÊúÄÂ∏∏ËßÅÁöÑÁõíÂ≠êÊ®°ÂûãÔºåÂú®ËøôÁßçÁõíÂ≠êÊ®°Âûã‰∏ãÔºåÂÖÉÁ¥†ÂÆûÈôÖÂç†ÂÆΩ‰∏∫Ôºöwidth+padding+border+marginÔºõÂÆûÈôÖÂç†È´ò‰∏∫Ôºöheight+padding+border+margin„ÄÇÊÄ™ÂºÇÁõíÂ≠êÊ®°ÂûãÔºåÂÆûÈôÖÂç†ÂÆΩÔºöwidth+marginÔºõÂÆûÈôÖÂç†È´òÔºöheight+margin„ÄÇÂÖ∂‰∏≠widthÂíåheightÂåÖÂê´contentÔºåpaddingÔºåborder„ÄÇÊ†áÂáÜÁõíÂ≠êÊ®°Âûã‰∏ãÂÖÉÁ¥†ÁöÑwidthÂíåheightÊûÑÊàê‰∫ÜÂÖÉÁ¥†ÁöÑÂÜÖÂÆπÂå∫ÂüüÔºåËÄåËøô‰∏™Âå∫ÂüüÂØπÂ∫îÁùÄÊÄ™ÂºÇÁõíÂ≠êÊ®°Âûã‰∏ãcontent„ÄÇÂÖ∑‰ΩìÂÆû‰æãSee the Pen box-sizing by wuyouzhuguli (@mrbird) on CodePen.‰ª•‰∏ä‰ª£Á†Å‰∏≠ÔºåÊúâ‰∏Ä‰∏™boxÂÆπÂô®Âíå‰∏§‰∏™Â≠êdivÔºåÁî±‰∫éÁ≤æÁ°ÆËÆæÂÆö‰∫ÜÂ∑¶Âè≥‰∏§‰∏™Â≠êdivÁöÑÂÆΩÂ∫¶ÔºåÊÅ∞Â•ΩÂíåboxÂÆπÂô®ÂÆΩÂ∫¶Áõ∏ÂêåÔºå‰∏îÈááÁî®ÊµÆÂä®ÔºåÊâÄ‰ª•‰∏§‰∏™Â≠êdivÂèØ‰ª•Ê∞¥Âπ≥ÊéíÂàó„ÄÇÁé∞Âú®ÁªôÊµÆÂä®ÁöÑ‰∏§‰∏™ÂÖÉÁ¥†Ê∑ªÂä†paddingÂ±ûÊÄßÂÄºÔºåËßÇÂØüÁªìÊûúÔºöSee the Pen box-sizing-two by wuyouzhuguli (@mrbird) on CodePen.Áî±‰∫éÈªòËÆ§ÈááÁî®Ê†áÂáÜÁõíÂ≠êÊ®°ÂûãÔºåÁªôÂÖÉÁ¥†Ê∑ªÂä†‰∫ÜpaddingÂ±ûÊÄßÂêéÔºåÂÖÉÁ¥†ÂÆûÈôÖÂç†ÂÆΩÂ∫¶ÊîπÂèò‰∫ÜÔºàÊØîÂ¶ÇÂÆΩÂ∫¶‰∏∫width+padding+border+marginÔºåÂõ†‰∏∫Â¢ûÂä†‰∫ÜpaddingÔºåÊâÄ‰ª•ÊÄª‰ΩìÁöÑÂÄºÂèòÂ§ß‰∫ÜÔºâÔºåÂπ∂‰∏îÂ§ß‰∫éÁà∂ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÔºåÊâÄ‰ª•ÂØºËá¥‰∫ÜÊç¢Ë°å„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈááÁî®ÊÄ™ÂºÇÁõíÂ≠êÊ®°ÂûãÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºöSee the Pen RgOMaL by wuyouzhuguli (@mrbird) on CodePen.ÊÄ™ÂºÇÁõíÂ≠êÊ®°Âûã‰∏ãÔºåÂÖÉÁ¥†ÁöÑwidthÊ≤°ÊúâÊîπÂèòÔºåÊâÄ‰ª•ÂÆûÈôÖÂç†ÂÆΩÊ≤°ÂèòÔºàwidth+marginÔºâ„ÄÇËÄåwidthÂú®ÊÄ™ÂºÇÁõíÂ≠êÊ®°Âûã‰∏ãÁöÑÂÄº‰∏∫Ôºöcontent+padding+borderÔºåÂõ†‰∏∫ÊÄª‰ΩìÁöÑÂÄºÊ≤°ÂèòÔºåborder‰∏çÂèòÔºåpaddingÂèòÂ§ßÔºåÊâÄ‰ª•‰ΩøÂæócontentÂèòÂ∞è„ÄÇÂèÇËÄÉËá™Ôºöhttp://www.softwhy.com/]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BootstrapValidatorÊåáÂçó]]></title>
    <url>%2FBootstrapValidator%E6%8C%87%E5%8D%97.html</url>
    <content type="text"><![CDATA[BootstrapValidatorÊòØ‰∏ÄÊ¨æÂü∫‰∫éjQueryÁöÑBootstrapË°®ÂçïÊ†°È™åÊèí‰ª∂ÔºåÊèê‰æõ‰∫ÜÈùûÂ∏∏‰∏∞ÂØåÁöÑÊ†°È™åËßÑÂàô„ÄÇÂáÜÂ§áÂ∑•‰ΩúË¶Å‰ΩøÁî®BootstrapValidatorÔºåÈúÄË¶ÅÂÖàÂºïÂÖ•ÂøÖË¶ÅÁöÑÊñá‰ª∂Ôºö12345&lt;link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap-3.0.3.min.css"/&gt;&lt;link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrapValidator-0.5.2.min.css"/&gt;&lt;script type="text/javascript" src="js/jquery-1.11.1.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript" src="bootstrap/js/bootstrap-3.0.3.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript" src="bootstrap/js/bootstrapValidator-0.5.2.min.js"&gt;&lt;/script&gt;ÂÖ∂‰∏≠ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØjQueryÁâàÊú¨ÂøÖÈ°ªÂ§ß‰∫é1.9.1„ÄÇÊñá‰ª∂‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://drive.google.com/open?id=1FVhZT899gewytpLVTwD-4x2uR1tSXFkN„ÄÇÈúÄË¶ÅÊ†°È™åÁöÑË°®ÂçïÂøÖÈ°ªÁî±&lt;form&gt;&lt;/form&gt;Ê†áÁ≠æÂåÖË£πÔºåÂπ∂‰∏îÈúÄË¶ÅÈ™åËØÅÁöÑÂ≠óÊÆµÁî±&lt;div class=&quot;form-group&quot;&gt;&lt;/div&gt;ÂåÖË£πÔºåÂπ∂‰∏îÊúânameÂ±ûÊÄß„ÄÇÊØîÂ¶ÇÔºö123456&lt;form&gt; &lt;div class="form-group"&gt; &lt;label&gt;labelName&lt;/label&gt; &lt;input type="text" class="form-control" name="fieldName"/&gt; &lt;/div&gt;&lt;/form&gt;ÁªëÂÆöÊ†°È™åËßÑÂàôÂØπformÂÖÉÁ¥†ÁªëÂÆöÊ†°È™åËßÑÂàôÔºö1234567891011121314151617181920212223242526272829303132333435363738$("form").bootstrapValidator(&#123; // ÊåáÂÆö‰∏çÈ™åËØÅÁöÑÊÉÖÂÜµ // ÂÄºÂèØËÆæÁΩÆ‰∏∫‰ª•‰∏ã‰∏âÁßçÁ±ªÂûãÔºö // 1„ÄÅString ':disabled, :hidden, :not(:visible)' // 2„ÄÅArray ÈªòËÆ§ÂÄº [':disabled', ':hidden', ':not(:visible)'] // 3„ÄÅÂ∏¶ÂõûË∞ÉÂáΩÊï∞ // [':disabled', ':hidden', function($field, validator) &#123; // $field ÂΩìÂâçÈ™åËØÅÂ≠óÊÆµdomËäÇÁÇπ // validator È™åËØÅÂÆû‰æãÂØπË±° // ÂèØ‰ª•ÂÜçÊ¨°Ëá™ÂÆö‰πâ‰∏çË¶ÅÈ™åËØÅÁöÑËßÑÂàô // ÂøÖÈ°ªË¶ÅreturnÔºåreturn true or false; return !$field.is(':visible'); &#125;] // excluded: [':disabled', ':hidden', ':not(:visible)'], // ÁîüÊïàËßÑÂàô // enabled:Â≠óÊÆµÂÄºÂèëÁîüÂèòÂåñÂ∞±Ëß¶ÂèëÈ™åËØÅ // disabled/submitted:ÁÇπÂáªÊèê‰∫§Êó∂Ëß¶ÂèëÈ™åËØÅ live: 'disabled', // ÂõæÊ†á feedbackIcons: &#123; valid: 'glyphicon glyphicon-ok', invalid: 'glyphicon glyphicon-remove', validating: 'glyphicon glyphicon-refresh' &#125;, fields: &#123; field1: &#123; // Â≠óÊÆµÂêç validators: &#123; // ... &#125; &#125;, field2: &#123; validators: &#123; // ... &#125; &#125; &#125;&#125;);‰∏ãÈù¢ÂÖ∑‰Ωì‰ªãÁªçÂêÑÁßçÊ†°È™åËßÑÂàô„ÄÇÈùûÁ©∫Ê†°È™åÈùûÁ©∫Ê†°È™åÊòØÊúÄÂ∏∏ËßÅÁöÑ‰∏ÄÁßçÊ†°È™å‰πã‰∏ÄÔºåÊØîÂ¶ÇÂØπnameÂ±ûÊÄß‰∏∫userNameÁöÑÂ≠óÊÆµËøõË°åÈùûÁ©∫Ê†°È™åÔºö1234567userName: &#123; // nameÂ±ûÊÄßÂÄº validators: &#123; notEmpty: &#123; // ÈùûÁ©∫Ê†°È™å message: 'Áî®Êà∑Âêç‰∏çËÉΩ‰∏∫Á©∫!' &#125; &#125;&#125;,ÊñáÊú¨ÈïøÂ∫¶Ê†°È™åÊØîÂ¶ÇÂØπuserNameÁöÑÈïøÂ∫¶ËøõË°åÊéßÂà∂Ôºö123456789userName: &#123; validators: &#123; stringLength: &#123; // ÈïøÂ∫¶Ê†°È™å min: 3, max: 10, message: 'Áî®Êà∑ÂêçÈïøÂ∫¶%s~%s‰∏™Â≠óÁ¨¶ÔºÅ' &#125; &#125;&#125;,ËøôÈáåuserNameÁöÑÈïøÂ∫¶Ë¢´ÈôêÂà∂‰∏∫3~10‰∏™Â≠óÁ¨¶ÔºàÂåÖÂê´3Âíå10Ôºâ„ÄÇ%sÂàÜÂà´Ë°®Á§∫3Âíå10„ÄÇÊ≠£ÂàôÊ†°È™åBootstrapValidatorÊîØÊåÅÊ≠£ÂàôË°®ËææÂºèÊ†°È™åÔºåÊØîÂ¶ÇÔºö12345678userName: &#123; validators: &#123; regexp: &#123; //Ê≠£ÂàôÊ†°È™å regexp: /^[a-zA-Z0-9_]+$/, message:'Áî®Êà∑Âêç‰ªÖÊîØÊï∞Â≠óÔºåÂ≠óÊØçÂíå‰∏ãÂàíÁ∫øÁöÑÁªÑÂêà' &#125;, &#125;&#125;,ËøúÁ®ãÊ†°È™åËøúÁ®ãÊ†°È™å‰ΩøÁî®AjaxÂºÇÊ≠•ËØ∑Ê±Ç‰ªéÊúçÂä°Á´ØËøõË°åÊ†°È™åÔºåÊØîÂ¶ÇÊ†°È™åuserNameÁöÑÂÄºÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®„ÄÇÂ¶ÇÔºö1234567891011121314userName: &#123; validators: &#123; remote: &#123; url: "user/confirmUserName.do", message: "Áî®Êà∑ÂêçÂ∑≤Â≠òÂú®", type: "get", data: function()&#123; // È¢ùÂ§ñÁöÑÊï∞ÊçÆÔºåÈªòËÆ§‰∏∫ÂΩìÂâçÊ†°È™åÂ≠óÊÆµ,‰∏çÈúÄË¶ÅÁöÑËØùÂéªÊéâÂç≥ÂèØ return &#123; "name": $("input[name='userName']").val().trim() &#125;; &#125; &#125; &#125;&#125;,ÂÅáÂ¶ÇuserNameÂ≠óÊÆµÂ°´ÂÜôÁöÑÂÄº‰∏∫123ÔºåÂàôÂèÇÊï∞Ê†ºÂºè‰∏∫ÔºöuserName=123&amp;name=123ÔºåÊâÄ‰ª•Â¶ÇÊûúÊó†ÈúÄÈ¢ùÂ§ñÂèÇÊï∞ÁöÑËØùÔºådataÂ±ûÊÄßÂèØ‰ª•Áï•Âéª„ÄÇÊúçÂä°Á´ØÔºö123456789101112@RequestMapping("user/confirmUserName")@ResponseBodypublic Map&lt;String,Boolean&gt; confirmUserName(String name) &#123; Map&lt;String,Boolean&gt; map = new HashMap&lt;String, Boolean&gt;(); map.put("valid", true); // Ê®°ÊãüÊï∞ÊçÆÂ∫ì‰∏≠Â∑≤ÁªèÂ≠òÂú®‚ÄúMike‚Äù if(name.equals("Mike"))&#123; // ËÆæÁΩÆÊ†°È™å‰∏çÈÄöËøá map.put("valid", false); &#125; return map;&#125;ÂΩìvalid‰∏∫trueÁöÑÊó∂ÂÄôÔºåË°®Á§∫MikeÁî®Êà∑ÂêçÂèØÁî®ÔºõÂΩìvalid‰∏∫falseÁöÑÊó∂ÂÄôÔºåË°®Á§∫MikeÂ∑≤Ë¢´Ê≥®ÂÜå„ÄÇÈÇÆÁÆ±Ê†°È™åBootstrapValidatorÊèê‰æõ‰∫ÜÈÇÆÁÆ±Ê†°È™åÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•‰∏çÁî®ÊâãÂä®ÁºñÂÜôÈÇÆÁÆ±ÁöÑÊ≠£ÂàôË°®ËææÂºèÔºö1234567email: &#123; validators: &#123; emailAddress: &#123; // ÂèØ‰ª•‰∏çÁî®Ëá™Â∑±ÂÜôÊ≠£Âàô message: 'ÈÇÆÁÆ±Ê†ºÂºè‰∏çÊ≠£Á°Æ' &#125; &#125;&#125;,ÂØπÊØîÊ†°È™åÂØπÊØîÊ†°È™åÂ∞±ÊòØÊåáÂΩìÂâçÂ≠óÊÆµÁöÑÂÄºÂíåÂà´ÁöÑÂ≠óÊÆµÁöÑÂÄºÁõ∏ÊØîËæÉÔºå‰∫ßÁîüÊ†°È™åÁªìÊûú„ÄÇÂ∏∏Áî®‰∫éÂØÜÁ†ÅÂ≠óÊÆµÔºåÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãformË°®ÂçïÔºö12345678910&lt;form&gt; &lt;div class="form-group"&gt; &lt;label&gt;ËØ∑ËæìÂÖ•ÂØÜÁ†Å&lt;/label&gt; &lt;input type="text" class="form-control" name="password"/&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;label&gt;ËØ∑ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å&lt;/label&gt; &lt;input type="text" class="form-control" name="confirmPassword"/&gt; &lt;/div&gt;&lt;/form&gt;Â∏∏Áî®ÁöÑÊ†°È™åËßÑÂàôÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122password: &#123; validators: &#123; notEmpty: &#123; message: 'ËØ∑ËæìÂÖ•ÂØÜÁ†Å' &#125;, different: &#123; // ÊØîËæÉÊòØÂê¶‰∏çÂêåÔºåÂê¶ÁöÑËØùÊ†°È™å‰∏çÈÄöËøá field: 'userName', // ÂíåuserNameÂ≠óÊÆµÊØîËæÉ message: 'ÂØÜÁ†Å‰∏çËÉΩ‰∏éÁî®Êà∑ÂêçÁõ∏ÂêåÔºÅ' &#125; &#125;&#125;,confirmPassword: &#123; validators: &#123; notEmpty: &#123; message: 'ËØ∑ÂÜçÊ¨°Á°ÆËÆ§ÂØÜÁ†ÅÔºÅ' &#125;, identical: &#123; // ÊØîËæÉÊòØÂê¶Áõ∏ÂêåÔºåÂê¶ÁöÑËØùÊ†°È™å‰∏çÈÄöËøá field: 'password', // ÂíåpasswordÂ≠óÊÆµÊØîËæÉ message: '‰∏§Ê¨°ÂØÜÁ†ÅËæìÂÖ•‰∏ç‰∏ÄËá¥' &#125; &#125;&#125;,Â§çÈÄâÊ°ÜÊ†°È™åÂ§çÈÄâÊ°ÜÊ†°È™åÁî®‰∫éÊéßÂà∂Â§çÈÄâÊ°ÜÁöÑÈÄâ‰∏≠‰∏™Êï∞Ôºö1234567891011121314151617181920212223&lt;div class="form-group"&gt; &lt;label&gt;ÂÖ¥Ë∂£Áà±Â•Ω&lt;/label&gt; &lt;div class="checkbox"&gt; &lt;label&gt; &lt;input type="checkbox" name="hobbies" value="swimming" /&gt; Ê∏∏Ê≥≥ &lt;/label&gt; &lt;/div&gt; &lt;div class="checkbox"&gt; &lt;label&gt; &lt;input type="checkbox" name="hobbies" value="fitness" /&gt; ÂÅ•Ë∫´ &lt;/label&gt; &lt;/div&gt; &lt;div class="checkbox"&gt; &lt;label&gt; &lt;input type="checkbox" name="hobbies" value="football" /&gt; Ë∂≥ÁêÉ &lt;/label&gt; &lt;/div&gt; &lt;div class="checkbox"&gt; &lt;label&gt; &lt;input type="checkbox" name="hobbies" value="sleep" /&gt; Áù°Ëßâ &lt;/label&gt; &lt;/div&gt;&lt;/div&gt;Ê†°È™åËßÑÂàôÔºö123456789hobbies: &#123; validators: &#123; choice: &#123; min: 1, max: 3, message: 'ËØ∑ÈÄâÊã©1~3È°πÂÖ¥Ë∂£Áà±Â•Ω' &#125; &#125;&#125;,Êï∞Â≠óËåÉÂõ¥Ê†°È™åÊï∞Â≠óËåÉÂõ¥Ê†°È™åÁ±ª‰ºº‰∏éÊñáÊú¨ÈïøÂ∫¶Ê†°È™åÔºå‰∏çËøáÂÖ∂‰∏ÄËà¨Áî®‰∫éÊï∞Â≠óÁ±ªÂûãÁöÑÈïøÂ∫¶Ê†°È™åÔºåÊØîÂ¶ÇÈôêÂà∂Âπ¥ÈæÑËåÉÂõ¥‰∏∫1~150Ôºö123456789age: &#123; validators: &#123; between: &#123; min: 0, max: 150, message: 'ËØ∑ËæìÂÖ•Ê≠£Â∏∏ÁöÑÂπ¥ÈæÑ,ËåÉÂõ¥‰∏∫%sÂà∞%s', &#125; &#125;&#125;,Èô§‰∫Ü‰ΩøÁî®betweenÂ§ñÔºåËøòÂèØ‰ª•‰ΩøÁî®lessThanÂíågreaterThanÊù•ÂÆûÁé∞ÂíåbetweenÁ±ª‰ººÁöÑÊïàÊûúÔºö1234567891011121314age: &#123; validators: &#123; lessThan: &#123; value: 150, inclusive: true, // ÊòØÂê¶ÂåÖÂê´150Ôºåtrue‰∏∫ÂåÖÂê´ message: 'Âπ¥ÈæÑÂøÖÈ°ªÂ∞è‰∫éÁ≠â‰∫é%s' &#125;, greaterThan: &#123; value: 0, inclusive: false, ‰∏çÂåÖÂê´0 message: 'Âπ¥ÈæÑÂøÖÈ°ªÂ§ß‰∫é%s' &#125; &#125;&#125;,Êñá‰ª∂Ê†°È™åÊñá‰ª∂Ê†°È™åÁî®‰∫éÂØπ‰∏ä‰º†ÁöÑÈôÑ‰ª∂Á±ªÂûãÔºåÂ§ßÂ∞èÁ≠âËøõË°åÈôêÂà∂ÔºåÂ∏∏Áî®ÁöÑËßÑÂàôÂ¶Ç‰∏ãÔºö12345678910files: &#123; validators: &#123; file: &#123; maxSize: 1024*1024, // Êñá‰ª∂Â§ßÂ∞èÔºåÂçï‰Ωç‰∏∫bÔºåËøôÈáå‰∏∫1mb extension: 'jpg,png', // Ê†ºÂºè type: 'image/jpeg,image/png', // ÂØπÂ∫îÁöÑMIME type message: 'Êñá‰ª∂‰∏çÂêàÊ≥ïÔºåÂøÖÈ°ªÂ∞è‰∫é1MBÔºåÂπ∂‰∏îÊ†ºÂºè‰∏∫jpgÊàñpng' &#125; &#125;&#125;,Êõ¥ËØ¶ÁªÜÁöÑÊ†°È™åËßÑÂàôÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöÈÄâÈ°πHTMLÂ±ûÊÄßÁ±ªÂûãÊèèËø∞extensiondata-fv-file-extensionStringÂÖÅËÆ∏ÁöÑÊâ©Â±ïÂêçÔºåÁî®ÈÄóÂè∑ÂàÜÈöîmaxFilesdata-fv-file-maxfilesNumberÊúÄÂ§ßÊñá‰ª∂Êï∞maxSizedata-fv-file-maxsizeNumberÊúÄÂ§ßÊñá‰ª∂Â§ßÂ∞èÔºà‰ª•Â≠óËäÇ‰∏∫Âçï‰ΩçÔºâmaxTotalSizedata-fv-file-maxtotalsizeNumberÊâÄÊúâÊñá‰ª∂ÁöÑÊúÄÂ§ßÂ§ßÂ∞èÔºà‰ª•Â≠óËäÇ‰∏∫Âçï‰ΩçÔºâminFilesdata-fv-file-minfilesNumberÊñá‰ª∂ÁöÑÊúÄÂ∞èÊï∞ÈáèminSizedata-fv-file-minsizeNumberÊúÄÂ∞èÊñá‰ª∂Â§ßÂ∞èÔºà‰ª•Â≠óËäÇ‰∏∫Âçï‰ΩçÔºâminTotalSizedata-fv-file-mintotalsizeNumberÊâÄÊúâÊñá‰ª∂ÁöÑÊúÄÂ∞èÂ§ßÂ∞èÔºà‰ª•Â≠óËäÇ‰∏∫Âçï‰ΩçÔºâmessagedata-fv-file-messageStringÈîôËØØÊ∂àÊÅØtypedata-fv-file-typeStringÂÖÅËÆ∏ÁöÑMIMEÁ±ªÂûãÔºå‰ª•ÈÄóÂè∑ÂàÜÈöî„ÄÇ‰æãÂ¶ÇÔºöËÆæÁΩÆimage/jpeg,image/png,application/pdfÂè™ÂÖÅËÆ∏‰∏ä‰º†JPEGÔºåPNGÂõæÂÉèÂíåPDFÊñáÊ°£„ÄÇ‰∏ãË°®ÊòæÁ§∫‰∫ÜÂ∏∏ËßÅÁöÑMIMEÁ±ªÂûã„ÄÇÂØπ‰∫éÂÖ∂‰ªñMIMEÁ±ªÂûãÔºåÂèØ‰ª•ÂèÇËÄÉhttps://www.sitepoint.com/mime-types-complete-list/„ÄÇMIMEÁ±ªÂûãÊñá‰ª∂Êâ©Â±ïÂêçapplication/msworddocapplication/pdfpdfapplication/rtfrtfapplication/vnd.ms-excelxlsapplication/vnd.ms-powerpointpptapplication/x-rar-compressedrarapplication/x-shockwave-flashswfapplication/zipzipaudio/midimid midi karaudio/mpeg,audio/mp3mp3audio/oggoggaudio/x-m4am4aaudio/x-realaudioraimage/gifgifimage/jpegjpeg jpgimage/pngpngimage/tifftif tiffimage/vnd.wap.wbmpwbmpimage/x-iconicoimage/x-jngjngimage/x-ms-bmpbmpimage/svg+xmlsvg svgzimage/webpwebptext/csscsstext/htmlhtml htm shtmltext/plaintxttext/xmlxmlvideo/3gpp3gpp 3gpvideo/mp4mp4video/mpegmpeg mpgvideo/quicktimemovvideo/webmwebmvideo/x-flvflvvideo/x-m4vm4vvideo/x-ms-wmvwmvvideo/x-msvideoavicallbackÈ™åËØÅcallbackÁî®‰∫éÊ†°È™åÈ™åËØÅÁ†ÅÁ≠âÁ±ªÂûãÔºåÊØîÂ¶ÇË¶ÅÂÆûÁé∞‰∏ãÈù¢ËøôÊ†∑ÁöÑÊïàÊûúÔºöHTML‰ª£Á†ÅÔºö1234&lt;div class="form-group"&gt; &lt;label id="question"&gt;&lt;/label&gt; &lt;input type="text" class="form-control" name="answer" /&gt;&lt;/div&gt;ÁîüÊàêÊï∞Â≠¶ÁÆóÂºèÔºö1234function randomNumber(min, max) &#123; return Math.floor(Math.random() * (max - min + 1) + min);&#125;;$('#question').html([randomNumber(1, 100), '+', randomNumber(1, 200), '='].join(' '));Ê†°È™åËßÑÂàôÔºö123456789101112answer: &#123; validators: &#123; callback: &#123; message: "Á≠îÊ°à‰∏çÊ≠£Á°ÆÔºÅ", callback: function(value, validator)&#123; // È™åËØÅÁ≠îÊ°àÊòØÂê¶Ê≠£Á°ÆÔºåvalue‰∏∫Áî®Êà∑ËæìÂÖ•ÁöÑÂÄº var items = $('#question').html().split(' '); var sum = parseInt(items[0]) + parseInt(items[2]); return value == sum; &#125; &#125; &#125;&#125;ÂÆûÈôÖ‰∏≠ÔºåÂèØ‰ª•Â∞Ü‰∏äÈù¢ÁöÑÊ†°È™åËßÑÂàôÁªÑÂêàÂú®‰∏ÄËµ∑ÔºåÂÆûÁé∞Êõ¥Â§çÊùÇÁöÑÊ†°È™å„ÄÇÂ∏∏Áî®‰∫ã‰ª∂ÊâãÂä®Ëß¶ÂèëÊ†°È™åÊâãÂä®Ëß¶ÂèëÊ†°È™åÂåÖÂê´Ëß¶ÂèëÂçï‰∏™Â≠óÊÆµÂíåËß¶ÂèëÊï¥‰∏™Ë°®ÂçïÔºö1234// Êï¥‰∏™Ë°®Âçï$("form").bootstrapValidator('validate');// Âçï‰∏™Â≠óÊÆµ$("form").data('bootstrapValidator').validateField('fieldName');Ëé∑ÂèñÂΩìÂâçË°®ÂçïÊ†°È™åÁªìÊûúËé∑ÂèñÂΩìÂâçË°®ÂçïÊ†°È™åÁä∂ÊÄÅÔºåÊ†°È™åÈÄöËøáËøîÂõûtrueÔºåÂê¶ÂàôËøîÂõûfalseÔºö1234var bootstrapValidators = $("form").data('bootstrapValidator');if(bootstrapValidators.isValid()) &#123; // todo&#125;ÈáçÁΩÆÊ†°È™å12$('form').data('bootstrapValidator').resetForm(true); // ÈáçÁΩÆÊ†°È™å$('form')[0].reset();// Ë°®ÂçïÊ∏ÖÁ©∫]]></content>
      <tags>
        <tag>Bootstrap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript‰∏≠ÁöÑÂùóÁ∫ß‰ΩúÁî®Âüü]]></title>
    <url>%2FJavaScript%E4%B8%AD%E7%9A%84%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F.html</url>
    <content type="text"><![CDATA[ÊâÄË∞ìÁöÑÂùóÁ∫ß‰ΩúÁî®ÂüüÈÄö‰øóÁöÑËÆ≤Â∞±ÊòØ‰ΩøÁî®{}ÂàõÈÄ†‰∏Ä‰∏™‰ª£Á†ÅÂùóÔºåÁÑ∂ÂêéÂú®Ëøô‰πã‰∏≠Â£∞ÊòéÁöÑÂèòÈáèÂú®‰ª£Á†ÅÂùó‰πãÂ§ñÈÉΩÊòØ‰∏çÂèØËÆøÈóÆÁöÑ„ÄÇÂú®ES6Ê†áÂáÜÂèëÂ∏É‰πãÂâçÔºåJavaScriptË°®Èù¢‰∏äÂπ∂Ê≤°ÊúâÁöÑÂùóÁ∫ß‰ΩúÁî®ÂüüÁöÑÊ¶ÇÂøµÔºå‰ΩÜÂÖ∂ÂÆûÈôÖÂåÖÂê´‰∏Ä‰∫õÈöêÂºèÁöÑÂùóÁ∫ß‰ΩúÁî®ÂüüÔºöÂáΩÊï∞‰ΩúÁî®ÂüüÂíåtry/catch„ÄÇES6‰∏≠Êñ∞Â¢û‰∫ÜletÂÖ≥ÈîÆÂ≠óÔºå‰πüÂèØ‰ª•ÊòæÂºèÁöÑÂàõÈÄ†ÂùóÁ∫ß‰ΩúÁî®Âüü„ÄÇJavaScript‰∏≠ÔºåforÂæ™ÁéØÂíåifÁ≠âËØ≠Âè•ÈÉΩÂèØ‰ª•ÂàõÂª∫‚ÄúÂùó‚ÄùÔºå‰ΩÜÂÖ∂Âπ∂‰∏çÊòØÂùóÁ∫ß‰ΩúÁî®ÂüüÔºö123456789101112// for for (var i = 0; i &lt;= 3; i++) &#123; var a = 5;&#125;console.log(i); // 4console.log(a); // 5// ifif (true) &#123; var b = 6;&#125;console.log(b); // 6ÂèØËßÅÂú®ÂùóÈáåÈù¢Â£∞ÊòéÁöÑÂèòÈáèÈÉΩË¢´Ê≥ÑÊºèÂà∞Â§ñÈÉ®‰ΩúÁî®Âüü‰∏≠‰∫Ü„ÄÇÂáΩÊï∞‰ΩúÁî®ÂüüÂáΩÊï∞‰ΩúÁî®ÂüüÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏Ä‰∏™ÂùóÁ∫ß‰ΩúÁî®ÂüüÔºö1234function foo() &#123; var a = 3;&#125;console.log(a); // ReferenceError: a is not definedÂú®ÂáΩÊï∞Â§ñÈÉ®ÂØπaÁöÑRHSÊü•ËØ¢Â§±Ë¥•ÔºåÊâÄ‰ª•ÊäõÂá∫ReferenceErrorÂºÇÂ∏∏„ÄÇtry/catchES3 ËßÑËåÉ‰∏≠ËßÑÂÆötry/catchÁöÑcatchÂàÜÂè•‰ºöÂàõÂª∫‰∏Ä‰∏™Âùó‰ΩúÁî®ÂüüÔºåÂÖ∂‰∏≠Â£∞ÊòéÁöÑÂèòÈáè‰ªÖÂú®catchÂÜÖÈÉ®ÊúâÊïà„ÄÇ123456try &#123; throw 2;&#125; catch (a) &#123; console.log(a); // 2&#125;console.log(a); // ReferenceError: a is not definedletES6ÂºïÂÖ•ÁöÑletÂÖ≥ÈîÆÂ≠óÈÖçÂêà{}ÂèØ‰ª•ÊòæÁ§∫Âú∞ÂàõÂª∫ÂùóÁ∫ß‰ΩúÁî®ÂüüÔºö12345&#123; let a = 3; console.log(a); // 3&#125;console.log(a); // ReferenceError: a is not definedconstÂÖ≥ÈîÆÂ≠ó‰πüÂèØ‰ª•ÂàõÂª∫ÂùóÁ∫ß‰ΩúÁî®ÂüüÔºåÂè™‰∏çËøáconstÁî®‰∫éÂ£∞ÊòéÂ∏∏ÈáèÁΩ¢‰∫Ü„ÄÇ]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript‰∏≠ÁöÑÊèêÂçá]]></title>
    <url>%2FJavaScript%E6%8F%90%E5%8D%87.html</url>
    <content type="text"><![CDATA[ÂØπ‰∫évar a = 3Êàë‰ª¨‰∏ÄËà¨ËÆ§‰∏∫ËøôÊòØ‰∏Ä‰∏™Â£∞ÊòéÔºå‰ΩÜÂÆûÈôÖ‰∏äJavaScriptÂºïÊìéÂπ∂‰∏çËøô‰πàËÆ§‰∏∫„ÄÇÂÆÉÂ∞Üvar aÂíåa = 2ÂΩì‰Ωú‰∏§‰∏™ÂçïÁã¨ÁöÑÂ£∞ÊòéÔºåÁ¨¨‰∏Ä‰∏™ÊòØÁºñËØëÈò∂ÊÆµÁöÑ‰ªªÂä°ÔºåËÄåÁ¨¨‰∫å‰∏™ÂàôÊòØÊâßË°åÈò∂ÊÆµÁöÑ‰ªªÂä°„ÄÇËøôÊÑèÂë≥ÁùÄÊó†ËÆ∫‰ΩúÁî®Âüü‰∏≠ÁöÑÂ£∞ÊòéÂá∫Áé∞Âú®‰ªÄ‰πàÂú∞ÊñπÔºåÈÉΩÂ∞ÜÂú®‰ª£Á†ÅÊú¨Ë∫´Ë¢´ÊâßË°åÂâçÈ¶ñÂÖàËøõË°åÂ§ÑÁêÜ„ÄÇÂèØ‰ª•Â∞ÜËøô‰∏™ËøáÁ®ãÂΩ¢Ë±°Âú∞ÊÉ≥Ë±°ÊàêÊâÄÊúâÁöÑÂ£∞ÊòéÔºàÂèòÈáèÂíåÂáΩÊï∞ÔºâÈÉΩ‰ºöË¢´‚ÄúÁßªÂä®‚ÄùÂà∞ÂêÑËá™‰ΩúÁî®ÂüüÁöÑÊúÄÈ°∂Á´ØÔºåËøô‰∏™ËøáÁ®ãË¢´Áß∞‰∏∫ÊèêÂçá„ÄÇ ËÄÉËôëÂ¶Ç‰∏ã‰ª£Á†ÅÊÆµÔºö123a = 3;var a;console.log(a);ÂèØËÉΩ‰Ω†‰ºöËßâÂæó‰∏äËø∞‰ª£Á†ÅÂ∞ÜËæìÂá∫undefinedÔºå‰ΩÜÂÖ∂ÂÆûÈôÖ‰∏äÂÆÉËÉΩÂ§üÂ¶ÇÊÑøÁöÑËæìÂá∫3„ÄÇÂõ†‰∏∫‰∏äËø∞‰ª£Á†ÅÂú®ÁªèËøáJavaScriptÂºïÊìéÁºñËØë‰πãÂêéÔºåÂèòÊàê‰∫ÜËøôÊ†∑Ôºö123var a;a = 3;console.log(a);ËøôÁßçÂØπÂèòÈáèÁöÑÂ£∞ÊòéË¢´ÊãâÂà∞ÂÖ∂‰ΩúÁî®ÂüüÁöÑÊúÄÈ°∂Á´ØÁöÑËøáÁ®ãÂ∞±ÊòØÊèêÂçá„ÄÇÂÜçÂ¶ÇÊúâÂ¶Ç‰∏ã‰ª£Á†ÅÊÆµÔºö12console.log(a);var a = 3;‰∏äËø∞‰ª£Á†ÅÂ∞ÜËæìÂá∫undefinedÔºåËÄåÈùûReferenceErrorÂºÇÂ∏∏ÔºåÂ¶Ç‰∏äÊâÄËø∞ÔºåÂú®ÁªèËøáJavaScriptÂºïÊìéÁºñËØë‰πãÂêéÔºåvar aË¢´ÊèêÂçáÂà∞‰∫Ü‰ΩúÁî®‰∫éÈ°∂ÈÉ®Ôºö123var a;console.log(a);a = 3;ÊâÄ‰ª•ÂØπaÁöÑRHSÊü•ËØ¢Âπ∂‰∏ç‰ºöÂ§±Ë¥•ÔºåÂè™‰∏çËøáa‰∏∫undefinedÁΩ¢‰∫Ü„ÄÇÂáΩÊï∞ÁöÑÂ£∞Êòé‰πüÂèØ‰ª•Ë¢´ÊèêÂçáÔºåÊØîÂ¶ÇÔºö12345foo(); // 3function foo() &#123; var a = 3; console.log(a);&#125;ÂÆûÈôÖ‰∏ä‰∏∫Ôºö12345function foo() &#123; var a = 3; console.log(a);&#125;foo(); // 3ÂáΩÊï∞Â£∞ÊòéÁöÑÊèêÂçáÈúÄË¶ÅÊ≥®ÊÑè‰∏ÄÁÇπÔºöÂáΩÊï∞‰ºòÂÖàÂéüÂàôÔºöÂáΩÊï∞Â£∞ÊòéÂíåÂèòÈáèÂ£∞ÊòéÈÉΩ‰ºöË¢´ÊèêÂçá„ÄÇ‰ΩÜÂáΩÊï∞Â£∞ÊòéÂ∞ÜÂÖàË¢´ÊèêÂçáÔºö123456789foo(); // 4var foo = function() &#123; var a = 3; console.log(a);&#125;function foo() &#123; var a = 4; console.log(a);&#125;ÁªèËøáJavaScriptÂºïÊìéÁºñËØë‰πãÂêéÔºå‰ª£Á†ÅÂèòÊàêÔºö123456789function foo() &#123; var a = 4; console.log(a);&#125;foo();foo = function() &#123; var a = 3; console.log(a);&#125;ÂÖ∂‰∏≠var fooËøô‰∏™ÈáçÂ§çÁöÑÂ£∞ÊòéÂ∑≤ÁªèË¢´Áï•Âéª„ÄÇ„Ää‰Ω†‰∏çÁü•ÈÅìÁöÑJavaScript‰∏äÂç∑„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript‰∏≠ÁöÑIIFE]]></title>
    <url>%2FJavaScript%E4%B8%AD%E7%9A%84IIFE.html</url>
    <content type="text"><![CDATA[IIFE(Immediately Invoked Function Expression)ÊåáÁöÑÊòØÁ´ãÂç≥ÊâßË°åÂáΩÊï∞Ë°®ËææÂºèÔºåÂ∏∏ËßÅÁöÑÂΩ¢ÂºèÊúâ‰∏§ÁßçÔºö(function(){ .. })()Âíå(function(){ .. }())„ÄÇIIFEÁöÑÂ≠òÂú®‰∏ÄËà¨ÊòØ‰∏∫‰∫ÜÂáèÂ∞ëÂëΩÂêçÊ±°ÊüìÁöÑÈóÆÈ¢ò„ÄÇËÄÉËôëÂ¶Ç‰∏ã‰ª£Á†ÅÔºö12345function foo() &#123; var a = 3; console.log(a);&#125;foo(); // 3ÂÅáÂ¶ÇÂáΩÊï∞foo()Âè™ÊâßË°å‰∏ÄÊ¨°ÔºåÊàë‰ª¨Êõ¥Âä†ÂÖ≥Ê≥®ÁöÑÊòØÂáΩÊï∞ÊâÄÂÆûÁé∞ÁöÑÂäüËÉΩËÄåÂπ∂‰∏çÂú®ÊÑèÂáΩÊï∞Âè´‰ªÄ‰πàÔºàÂõ†‰∏∫Âπ∂‰∏çÈúÄË¶ÅÂú®Âà´ÁöÑÂú∞ÊñπË¢´Ë∞ÉÁî®ÔºâÔºåËøôÊó∂ÂÄôÂª∫ËÆÆ‰ΩøÁî®IIFEÊù•‰ª£ÊõøÔºö1234(function() &#123; var a = 3; console.log(a); // 3&#125;)();ÊàñËÄÖ1234(function()&#123; var a = 3; console.log(a); // 3&#125;());‰∏∫‰∫ÜÊèêÈ´òÂáΩÊï∞ÁöÑÂèØËØªÊÄßÔºå‰Ω†ÂèØËÉΩ‰ºöÁªôËøô‰∏™ÂåøÂêçÂáΩÊï∞Ë°®ËææÂºèÂä†‰∏ä‰∏Ä‰∏™ÂêçÁß∞ÔºåÊØîÂ¶ÇÔºö1234(function foo()&#123; var a = 3; console.log(a); // 3&#125;());ÂØπIIFEÁöÑÂÖ∑ÂêçÂπ∂‰∏ç‰ºöÊ±°ÊüìÂÖ∂Â§ñÈÉ®ÁöÑËØçÊ≥ï‰ΩúÁî®ÂüüÔºå‰Ω†ÂèØ‰ª•ÁªßÁª≠Âú®Â§ñÈÉ®Â£∞Êòé‰∏Ä‰∏™ÂêçÁß∞‰∏∫fooÁöÑÂáΩÊï∞ÔºåÊØîÂ¶ÇÔºö123456789function foo() &#123; var a = 4; console.log(a); &#125;(function foo()&#123; var a = 3; console.log(a); // 3&#125;());foo(); // 4IIFEËøòË¢´Â∏∏Áî®‰∫éJSÊ®°ÂùóÂåñËÆæËÆ°ÔºåÊØîÂ¶ÇÔºö123456789101112131415161718192021var modules = (function() &#123; // ÁßÅÊúâÂèòÈáè var msg = "hello world"; var msgArr = ['h', 'e', 'l', 'l', 'o']; function helloWorld() &#123; console.log(msg); &#125; function sayHello() &#123; console.log(msgArr.join('')); &#125; // Êö¥Èú≤ÊñπÊ≥ï return &#123; helloWorld: helloWorld, sayHello: sayHello &#125;&#125;)();modules.helloWorld(); // hello worldmodules.sayHello(); // helloconsole.log(modules.msg); // undefinedÂèØËßÅÂú®Â§ñÈÉ®Êó†Ê≥ïËÆøÈóÆÊ®°ÂùóÂåñÂÜÖÈÉ®ÂèÇÊï∞ÔºåËøôÈÅøÂÖç‰∫ÜÂÜÖÈÉ®ÂèÇÊï∞Ë¢´ÁßÅËá™ÁØ°Êîπ‰ª•ÂèäÂèòÈáèÊ±°ÊüìÁ≠âÈóÆÈ¢ò„ÄÇ]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3Ê∏êÂèò]]></title>
    <url>%2FCSS3%E6%B8%90%E5%8F%98.html</url>
    <content type="text"><![CDATA[Âú®CSS3Ê†áÂáÜÂèëÂ∏É‰πãÂâçÔºåÁΩëÈ°µ‰∏äÁöÑÊ∏êÂèòÊïàÊûú‰∏ÄËà¨ÈÉΩÊòØËÆæËÆ°Â∏à‰ΩøÁî®ÂõæÂΩ¢ÂåñËÆæËÆ°ËΩØ‰ª∂ÁîüÊàêÂõæÁâáÔºåÁÑ∂Âêé‰Ωú‰∏∫È°µÈù¢ËÉåÊôØÂÆûÁé∞ÁöÑ„ÄÇÂú®CSS3Ê†áÂáÜÂèëÂ∏É‰πãÂêéÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÁºñÂÜôCSS‰ª£Á†ÅÊù•ËΩªÊùæÂÆûÁé∞Ê∏êÂèòÊïàÊûú„ÄÇÊ∏êÂèò‰∏ªË¶ÅÂåÖÂê´Á∫øÊÄßÊ∏êÂèòÂíåÂæÑÂêëÊ∏êÂèò„ÄÇÁ∫øÊÄßÊ∏êÂèòÁ∫øÊÄßÊ∏êÂèòÔºàLinear GradientsÔºâÂåÖÂê´Âêë‰∏ã/Âêë‰∏ä/ÂêëÂ∑¶/ÂêëÂè≥/ÂØπËßíÊñπÂêëÁöÑÈ¢úËâ≤Ê∏êÂèò„ÄÇÂü∫Êú¨ËØ≠Ê≥ïÔºö1background: linear-gradient(direction, color-stop1, color-stop2, ...); ‚Äãdirection‰∏∫Ê∏êÂèòÊñπÂêëÔºåcolor-stop1‰∏∫Ê∏êÂèòËµ∑ÂßãÈ¢úËâ≤Ôºåcolor-stop2‰∏∫Ê∏êÂèòÁªìÊùüÈ¢úËâ≤„ÄÇ‰ªé‰∏äÂà∞‰∏ãÔºàÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºâÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÁ∫øÊÄßÊ∏êÂèòÊñπÂêëÂ∞±ÊòØ‰ªéÂ∑¶Âà∞Âè≥ÔºåÊâÄ‰ª•Ëøô‰∏™Êó∂ÂÄôdirectionÂ±ûÊÄßÂèØ‰ª•Áï•Âéª„ÄÇ‰æãÂ¶ÇÔºöSee the Pen liner-graident by wuyouzhuguli (@mrbird) on CodePen.‰∏∫‰∫ÜÂÖºÂÆπwebkitÂÜÖÊ†∏ÊµèËßàÂô®ÔºåÂÆûÈôÖÁöÑ‰ª£Á†ÅÂ∫îËØ•‰∏∫Ôºö123456div &#123; height: 200px; width: 200px; background: linear-gradient(#FFFFCC,#FF6666); background: -webkit-gradient(linear,left top, left bottom,from(#FFFFCC),to(#FF6666));&#125;ÂÖ≥‰∫éCSS3Â±ûÊÄßÂÖºÂÆπÊÄßÂâçÁºÄÔºåÂèØ‰ª•‰ΩøÁî®sublime text 3ÁöÑAutoprefixerÊèí‰ª∂Êù•Ëá™Âä®ÁîüÊàê„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåËøòÂèØ‰ª•ÊåáÂÆöËµ∑Ê≠¢È¢úËâ≤ÁöÑËµ∑Âßã‰ΩçÁΩÆÔºåÊØîÂ¶Ç‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠êÔºöSee the Pen linear-gradient(location) by wuyouzhuguli (@mrbird) on CodePen.‰ªéÊ∏êÂèòÊñπÂêë10%ÈïøÂ∫¶ÂºÄÂßãÂà∞Ê∏êÂèòÊñπÂêë60%ÈïøÂ∫¶‰πãÈó¥ÔºåÈ¢úËâ≤‰ªé#FFCÊ∏êÂèòÂà∞#F66„ÄÇÂ∞è‰∫é10%ÈÉ®ÂàÜËÉåÊôØÈ¢úËâ≤ÂÆåÂÖ®‰∏∫#FFCÔºåÂ§ß‰∫é60%ÈÉ®ÂàÜËÉåÊôØÈ¢úËâ≤ÂÆåÂÖ®‰∏∫#F66„ÄÇ‰ªéÂ∑¶Âà∞Âè≥‰ªéÂ∑¶Âà∞Âè≥Âè™ÈúÄÂ∞ÜdirectionÂ±ûÊÄßÂÄºËÆæ‰∏∫to rightÔºå‰æãÂ¶ÇÔºöSee the Pen liner-gradient(to right) by wuyouzhuguli (@mrbird) on CodePen.ÂØπËßíÊñπÂêëÂèØ‰ª•ÈÄöËøáÊåáÂÆöÊ∞¥Âπ≥ÂíåÂûÇÁõ¥ÁöÑËµ∑Âßã‰ΩçÁΩÆÊù•Âà∂‰Ωú‰∏Ä‰∏™ÂØπËßíÊ∏êÂèò„ÄÇ‰æãÂ¶Ç‰ªéÂ∑¶‰∏äËßíÂà∞Âè≥‰∏ãËßíÊñπÂêëÊ∏êÂèòÔºöSee the Pen liner-gradient(ÂØπËßí) by wuyouzhuguli (@mrbird) on CodePen.‰ΩøÁî®‰ªªÊÑèËßíÂ∫¶Â¶ÇÊûúÊÉ≥Ë¶ÅÂú®Ê∏êÂèòÁöÑÊñπÂêë‰∏äÂÅöÊõ¥Â§öÁöÑÊéßÂà∂Ôºå‰Ω†ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ËßíÂ∫¶ÔºåËÄå‰∏çÁî®È¢ÑÂÆö‰πâÊñπÂêëÔºàto bottom„ÄÅto top„ÄÅto right„ÄÅto left„ÄÅto bottom rightÔºåÁ≠âÁ≠âÔºâ„ÄÇËØ≠Ê≥ïÔºö1background: linear-gradient(angle, color-stop1, color-stop2); ‚ÄãangleÊåáÊ∞¥Âπ≥Á∫øÂíåÊ∏êÂèòÁ∫ø‰πãÈó¥ÁöÑËßíÂ∫¶ÔºåÈÄÜÊó∂ÈíàÊñπÂêëËÆ°ÁÆó„ÄÇÊç¢Âè•ËØùËØ¥Ôºå0degÂ∞ÜÂàõÂª∫‰∏Ä‰∏™‰ªé‰∏ãÂà∞‰∏äÁöÑÊ∏êÂèòÔºå90degÂ∞ÜÂàõÂª∫‰∏Ä‰∏™‰ªéÂ∑¶Âà∞Âè≥ÁöÑÊ∏êÂèò„ÄÇ‰ΩÜÊòØÔºåËØ∑Ê≥®ÊÑèÂæàÂ§öÊµèËßàÂô®(Chrome,Safari,firefoxÁ≠â)ÁöÑ‰ΩøÁî®‰∫ÜÊóßÁöÑÊ†áÂáÜÔºåÂç≥ 0deg Â∞ÜÂàõÂª∫‰∏Ä‰∏™‰ªéÂ∑¶Âà∞Âè≥ÁöÑÊ∏êÂèòÔºå90deg Â∞ÜÂàõÂª∫‰∏Ä‰∏™‰ªé‰∏ãÂà∞‰∏äÁöÑÊ∏êÂèò„ÄÇÊç¢ÁÆóÂÖ¨Âºè 90 - x = y ÂÖ∂‰∏≠ x ‰∏∫Ê†áÂáÜËßíÂ∫¶Ôºåy‰∏∫ÈùûÊ†áÂáÜËßíÂ∫¶„ÄÇ‰∏ãÈù¢ÁöÑÂÆû‰æãÊºîÁ§∫‰∫ÜÂ¶Ç‰ΩïÂú®Á∫øÊÄßÊ∏êÂèò‰∏ä‰ΩøÁî®ËßíÂ∫¶ÔºöSee the Pen liner-gradient(use angle) by wuyouzhuguli (@mrbird) on CodePen.‰ΩøÁî®Â§ö‰∏™È¢úËâ≤ÁªìÁÇπÈô§‰∫ÜËÆæÁΩÆ‰∏ÄÁªÑËµ∑ÂßãÈ¢úËâ≤ÂíåÁªìÊùüÈ¢úËâ≤Â§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•ËÆæÁΩÆÂ§öÁªÑÊ∏êÂèòÈ¢úËâ≤„ÄÇÊØîÂ¶ÇÔºöSee the Pen liner-gradient(repeat) by wuyouzhuguli (@mrbird) on CodePen.‰ΩøÁî®ÈÄèÊòéÂ∫¶CSS3 Ê∏êÂèò‰πüÊîØÊåÅÈÄèÊòéÂ∫¶ÔºàtransparencyÔºâÔºåÂèØÁî®‰∫éÂàõÂª∫ÂáèÂº±ÂèòÊ∑°ÁöÑÊïàÊûú„ÄÇ‰∏∫‰∫ÜÊ∑ªÂä†ÈÄèÊòéÂ∫¶ÔºåÊàë‰ª¨‰ΩøÁî® rgba() ÂáΩÊï∞Êù•ÂÆö‰πâÈ¢úËâ≤ÁªìÁÇπ„ÄÇÊØîÂ¶ÇÔºöSee the Pen liner-gradient(opacity) by wuyouzhuguli (@mrbird) on CodePen.ÈáçÂ§çÁöÑÁ∫øÊÄßÊ∏êÂèòrepeating-linear-gradient()ÂáΩÊï∞Áî®‰∫éÈáçÂ§çÁ∫øÊÄßÊ∏êÂèòÔºåËØ≠Ê≥ïÂíålinear-gradient()Áõ∏ÂêåÔºå‰æãÂ¶ÇÔºöSee the Pen repeating-linear-gradient by wuyouzhuguli (@mrbird) on CodePen.‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÊúâ‰∏Ä‰∏™ÁôΩËâ≤Êù°Á∫π‰ªé0Âà∞.25emÁ∫øÊÄßÊ∏êÂèòÔºåÊé•ÁùÄ‰∏ÄÊù°#FF6È¢úËâ≤Êù°Á∫π‰ªé.25emÂà∞.75em„ÄÇÔºà#FF6È¢úËâ≤Êù°Á∫πÂÆΩÂ∫¶ = .75em - .25em = .5em = ÁôΩËâ≤Êù°Á∫πÂÆΩÂ∫¶ÁöÑ‰∏§ÂÄç Ôºù .25em * 2Ôºâ„ÄÇÂæÑÂêëÊ∏êÂèòÂæÑÂêëÊ∏êÂèòÊåáÁöÑÊòØ‰ªéÂúÜÂøÉÂêëÂ§ñÊâ©Êï£ÁöÑÊ∏êÂèòÔºå‰∏∫‰∫ÜÂàõÂª∫‰∏Ä‰∏™ÂæÑÂêëÊ∏êÂèòÔºåÂøÖÈ°ªËá≥Â∞ëÂÆö‰πâ‰∏§ÁßçÈ¢úËâ≤ÁªìÁÇπ„ÄÇÈ¢úËâ≤ÁªìÁÇπÂç≥‰Ω†ÊÉ≥Ë¶ÅÂëàÁé∞Âπ≥Á®≥ËøáÊ∏°ÁöÑÈ¢úËâ≤„ÄÇÂêåÊó∂Ôºå‰Ω†‰πüÂèØ‰ª•ÊåáÂÆöÊ∏êÂèòÁöÑ‰∏≠ÂøÉ„ÄÅÂΩ¢Áä∂ÔºàÂéüÂûãÊàñÊ§≠ÂúÜÂΩ¢Ôºâ„ÄÅÂ§ßÂ∞è„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊ∏êÂèòÁöÑ‰∏≠ÂøÉÊòØ centerÔºàË°®Á§∫Âú®‰∏≠ÂøÉÁÇπÔºâÔºåÊ∏êÂèòÁöÑÂΩ¢Áä∂ÊòØ ellipseÔºàË°®Á§∫Ê§≠ÂúÜÂΩ¢ÔºâÔºåÊ∏êÂèòÁöÑÂ§ßÂ∞èÊòØ farthest-cornerÔºàË°®Á§∫Âà∞ÊúÄËøúÁöÑËßíËêΩÔºâ„ÄÇÈ¢úËâ≤ÁªìÁÇπÂùáÂåÄÂàÜÂ∏ÉÔºàÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºâÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöSee the Pen radial-gradient by wuyouzhuguli (@mrbird) on CodePen.È¢úËâ≤ÁªìÁÇπ‰∏çÂùáÂåÄÂàÜÂ∏ÉÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöSee the Pen radial-gradient1 by wuyouzhuguli (@mrbird) on CodePen.ÈáçÂ§çÁöÑÂæÑÂêëÊ∏êÂèòÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöSee the Pen repeating-dadial-gradient by wuyouzhuguli (@mrbird) on CodePen.]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∞ÉÊïôSublime Text 3]]></title>
    <url>%2F%E8%B0%83%E6%95%99sublime-text3.html</url>
    <content type="text"><![CDATA[Sublime Text 3 ÊòØ‰∏ÄÊ¨æÁºñËæëÂô®ËΩØ‰ª∂ÔºåËá™Â∏¶ËØ≠Ê≥ïÈ´ò‰∫ÆÔºå‰ª£Á†ÅÊèêÁ§∫ÔºåËá™Âä®Ë°•ÂÖ®Á≠âËÆ©ÂºÄÂèëËÄÖÁà±‰∏çÈáäÊâãÁöÑÂäüËÉΩ„ÄÇÂπ∂‰∏îÂêØÂä®ÈÄüÂ∫¶ÊûÅÂø´ÔºåÊîØÊåÅËá™ÂÆö‰πâ‰∏ªÈ¢òÂíåÂÆâË£ÖÁ¨¨‰∏âÊñπÊèí‰ª∂„ÄÇ‰∏çËøáÂàö‰∏ãËΩΩÁöÑSublime Text‰∏ç‰ªÖÂõæÊ†áÂ∑®‰∏ëÔºå‰∏ªÈ¢òËøòÈöæÁúãÔºåÂª∫ËÆÆÂØπÂÖ∂ËøõË°å‰∏ÄÁï™Ë∞ÉÊïô„ÄÇË∞ÉÊïôÂåÖÊã¨ÈÖçÁΩÆ‰∏ªÈ¢òÔºåÂÆâË£ÖÊèí‰ª∂Ôºå‰∫ÜËß£Âø´Êç∑ÈîÆÂíåÈÖçÁΩÆ‰∫ëÂêåÊ≠•Á≠â„ÄÇË∞ÉÊïô‰πãÂâçÈúÄË¶ÅÂÆâË£ÖPackage Control„ÄÇ‰ΩøÁî®Âø´Êç∑ÈîÆCtrl+Shift+PÂëºÂá∫Command PaletteÔºåÁÑ∂ÂêéËæìÂÖ•install Package ControlÔºåÁÑ∂ÂêéEnterÂç≥ÂèØÂÆâË£Ö„ÄÇÂÆòÊñπPackage ControlÂ∏ÇÂú∫Ôºöhttps://packagecontrol.io/„ÄÇÂÆâË£Ö‰∏ªÈ¢òSublime TextÂåÖÂê´ÂæàÂ§ö‰ºòÁßÄÁöÑÁ¨¨‰∏âÊñπ‰∏ªÈ¢òÔºå‰∏çËøá‰∏™‰∫∫ËøòÊòØÊØîËæÉÂñúÊ¨¢Boxy Theme„ÄÇÂú®Command Palette‰∏≠ËæìÂÖ•installÔºåÈÄâÊã©Package Control: install PackageÔºöÁÇπÂáªEnterÂëºÂá∫Package ControlÂêéËæìÂÖ•Boxy ThemeÂêéÁÇπÂáªEnterÂç≥ÂèØÂÆâË£Ö„ÄÇÊéßÂà∂Âè∞ÊèêÁ§∫ÂÆâË£ÖÊàêÂäüÂêéÔºå‰ΩøÁî®Âø´Êç∑ÈîÆCtrl+Shift+PÂëºÂá∫Command PaletteÔºåËæìÂÖ•boxyÔºåÈÄâÊã©Boxy Theme:ActivationÂç≥ÂèØÂú®Boxy ThemeËá™Â∏¶ÁöÑÂá†Ê¨æ‰∏ªÈ¢ò‰∏≠ËøõË°åÂàáÊç¢Ôºö‰∏™‰∫∫ÊØîËæÉÂñúÊ¨¢YesterdayËøôÊ¨æ‰∏ªÈ¢òÔºöYesterdayÁõ∏ÂÖ≥ÈÖçÁΩÆÔºàPreferences‚ÜísettingsÔºâÔºö12345678910111213141516171819202122232425&#123; "color_scheme": "Packages/Boxy Theme/schemes/Boxy Yesterday.tmTheme", "font_size": 11, "ignored_packages": [ "Vintage" ], "theme": "Boxy Yesterday.sublime-theme", // Settings "theme_accent_sky": true, "theme_button_rounded": true, "theme_find_panel_close_hidden": true, "theme_find_panel_size_xs": true, "theme_grid_border_size_lg": true, "theme_icon_button_highlighted": true, "theme_icons_atomized": true, "theme_popup_border_visible": true, "theme_quick_panel_size_md": true, "theme_scrollbar_rounded": true, "theme_sidebar_disclosure": true, "theme_sidebar_indent_top_level_disabled": true, "theme_statusbar_size_md": true, "theme_tab_rounded": true, "theme_tab_selected_prelined": true&#125;ËøòÂèØ‰ª•ÂÆâË£Ö‰∏éËØ•‰∏ªÈ¢òÈÖçÂ•óÁöÑMono File IconsÊèí‰ª∂ÔºåÁî®‰∫éÁæéÂåñ‰∏çÂêåÊ†ºÂºèÊñá‰ª∂ÁöÑÂõæÊ†áÊ†∑Âºè„ÄÇÂÆâË£ÖÊñπÊ≥ïÂêå‰∏äÔºå‰∏çÂÜçËµòËø∞„ÄÇÊïàÊûúÂ¶Ç‰∏ãÔºöÂõæÊ†áÊõøÊç¢ÂèØ‰ª•Âú®Dribbble‰∏≠ÊêúÁ¥¢Sublime TextÔºåÁÑ∂Âêé‰∏ãËΩΩÂñúÊ¨¢ÁöÑÂõæÊ†á„ÄÇ‰∏çËøáÂ§ßÂ§öÊï∞Á¥†ÊùêÈÉΩÊòØMacÁöÑicnsÊ†ºÂºèÁöÑÔºåÂèØ‰ª•Âú®https://iconverticons.com/online/ÁΩëÁ´ô‰∏≠Âú®Á∫øËΩ¨Êç¢‰∏∫windows‰∏≠ÁöÑicoÊ†ºÂºè„ÄÇÂÆâË£ÖÊèí‰ª∂Êé®ËçêÂá†Ê¨æÂ∏∏Áî®ÁöÑÊèí‰ª∂ÔºöAutoprefixerÂú®ÁºñÂÜôCSS‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºåÁªèÂ∏∏ÈúÄË¶Å‰∏∫‰∫ÜÂÖºÂÆπ‰∏çÂêåÂÜÖÊ†∏ÁöÑÊµèËßàÂô®ËÄåÂú®Â±ûÊÄßÂâçÁºñÂÜô-webkit-Ôºå-ms-,-moz-Á≠âÂâçÁºÄ„ÄÇ‰ΩøÁî®ËøôÊ¨æÊèí‰ª∂ÂèØ‰ª•Êõø‰ª£Êàë‰ª¨Ëá™Âä®ÂÆåÊàêËøô‰ª∂‰∫ã„ÄÇ Êèí‰ª∂Âú∞ÂùÄhttps://packagecontrol.io/packages/Autoprefixer„ÄÇÂÆâË£ÖÊñπÂºèÂíå‰∏ªÈ¢òÁöÑÂÆâË£Ö‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞Ôºå‰∏ãÈù¢Êèí‰ª∂Â∞Ü‰∏çÂÜçÊèèËø∞ÂÆâË£ÖÊñπÊ≥ï„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºåÂèØ‰ª•ÈÖçÁΩÆÂø´Êç∑ÈîÆÔºàPreferences‚Üíkey BindingsÔºâÔºö123456[ &#123; "keys": ["alt+shift+p"], "command": "autoprefixer" &#125;]ÊàñËÄÖÁõ¥Êé•Âú®Command Palette‰∏≠ËæìÂÖ•autoÔºåÈÄâÊã©Á¨¨‰∏ÄÈ°πÔºöÊïàÊûúÂ¶Ç‰∏ãÔºöQuoteHTMLQuoteHTMLÂèØÂ∞ÜHTMLÁâáÊÆµËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ÁâáÊÆµÔºåÂú®Êìç‰ΩúDOMÁöÑÊó∂ÂÄôÈùûÂ∏∏Êñπ‰æøÔºåÁúÅÂéª‰∫ÜËá™Â∑±ÊâãÂä®ÊãºÊé•ÁöÑÊó∂Èó¥„ÄÇÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãHTMLÁâáÊÆµÔºö1234567&lt;select class="form-control" id="typeSel" style="width:260px;padding: 0px 6px;"&gt; &lt;option value="1"&gt;option_1&lt;/option&gt; &lt;option value="2"&gt;option_2&lt;/option&gt; &lt;option value="3"&gt;option_3&lt;/option&gt; &lt;option value="4"&gt;option_4&lt;/option&gt; &lt;option value="5"&gt;option_5&lt;/option&gt;&lt;/select&gt;Âú®Command Palette‰∏≠ËæìÂÖ•qÔºöÂèØÊ†πÊçÆÂÆûÈôÖÈúÄÊ±ÇËá™Áî±ÈÄâÊã©ÔºåËøôÈáåÈÄâÊã©Á¨¨‰∫åÈ°πÁÑ∂ÂêéÊï≤ÂáªEnterÔºåÊïàÊûúÂ¶Ç‰∏ãÔºöÁúüÊòØÊûÅÂÖ∂Êñπ‰æøÁöÑËØ¥ÔºÅ‰πüÂèØ‰ª•Ëá™Â∑±ËÆæÁΩÆÂø´Êç∑ÈîÆ„ÄÇJsFormatJsFormatÊèí‰ª∂ÂèØ‰ª•Â∞ÜÂéãÁº©ÂêéÁöÑJS‰ª£Á†ÅÊ†ºÂºèÂåñÔºåÈªòËÆ§ÁªëÂÆöÂø´Êç∑ÈîÆCtrl+Alt+F,‰πüÂèØ‰ª•Ëá™Â∑±ËÆæÁΩÆÂø´Êç∑ÈîÆÔºö123456789&#123; "keys": ["ctrl+alt+f"], "command": "js_format", "context": [&#123; "key": "selector", "operator": "equal", "operand": "source.javascript" &#125;]&#125;ÊàñËÄÖÂú®Command Palette‰∏≠ËæìÂÖ•formatÔºöÂÄºÂæó‰∏ÄÊèêÁöÑÊòØÔºåÂÆÉ‰πüÂèØ‰ª•Ê†ºÂºèÂåñJSONÊï∞ÊçÆ„ÄÇCSSFormatÂíåJsFormatÁ±ª‰ººÁöÑÊòØÔºåCSSFormatÁî®‰∫éÊ†ºÂºèÂåñÂéãÁº©ÂêéÁöÑCSS‰ª£Á†Å„ÄÇÂÆâË£ÖÂÆåÊàêÂêéÔºåÂè≥ÈîÆÈÄâÊã©CSS FormatÂèØÁúãÂà∞ÂØπÂ∫îÁöÑÂá†‰∏™ÈÄâÈ°πÔºå‰∏çÂêåÈÄâÈ°πÊ†ºÂºèÂåñÁöÑÊ†∑Âºè‰∏ç‰∏ÄÊ†∑ÔºåÂèØËá™Ë°å‰ΩìÈ™å„ÄÇ‰πüÂèØ‰ª•Âú®Command Palette‰∏≠ËæìÂÖ•format cssÂπ∂Êåâ‰∏ãEnterÊù•Ê†ºÂºèÂåñCSS‰ª£Á†ÅÔºöHTML-CSS-JS PrettifyHTML-CSS-JS PrettifyÊòØ‰∏ÄÊ¨æÂü∫‰∫énode.jsÁöÑHTML/CSS/JS ‰ª£Á†ÅÁæéÂåñÊèí‰ª∂„ÄÇÂõ†‰∏∫ÊòØÂü∫‰∫énode.jsÔºåÊâÄ‰ª•ÂÆâË£ÖÂâçÈúÄË¶ÅÈÖçÁΩÆÂ•Ωnode.jsÁéØÂ¢É„ÄÇÂÆâË£ÖÂ•ΩÂêéÔºåÈúÄË¶ÅÂú®Êèí‰ª∂ËÆæÁΩÆÈáåÈÖçÁΩÆÊú¨Âú∞node.jsÁöÑÂÆâË£ÖË∑ØÂæÑÔºåÂè≥ÈîÆÈÄâÊã©HTML/CSS/JS Prettify ‚Üí Plugin Options - DefaultÔºöÁé∞ÊúâÂ¶Ç‰∏ã‰∏ÄÊÆµÊ†ºÂºèÊ∑∑‰π±ÁöÑjs‰ª£Á†ÅÔºöÂè≥ÈîÆÈÄâÊã©HTML/CSS/JS Prettify ‚Üí Prettify CodeÔºöÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöMinifyMinifyÊòØ‰∏ÄÊ¨æÂèØ‰ª•ÂéãÁº©JsÔºåCSSÔºåHTMLÔºåJSONÔºåSVGÁ≠âÊ†ºÂºèÊñá‰ª∂ÁöÑÊèí‰ª∂„ÄÇÂÆâË£ÖÂÆåÊèí‰ª∂ÂêéÊâìÂºÄcmdËæìÂÖ•‰∏ãÈù¢ÂëΩ‰ª§ÂÆâË£ÖÔºö1npm install -g clean-css uglifycss js-beautify html-minifier uglify-js minjson svgoÂ¶ÇÊûú‰Ω†Â∑≤ÁªèÂÆâË£ÖËøáÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∫õÁöÑËØùÂèØ‰ª•Áî®‰∏ãÈù¢ÂëΩ‰ª§Êõ¥Êñ∞Ôºö1npm update -g clean-css uglifycss js-beautify html-minifier uglify-js minjson svgoÁÑ∂ÂêéÂè≥ÈîÆ‰∏≠Â∞±ÊúâMinifyÁöÑÈÄâÈ°π‰∫ÜÔºöColor‚ÄãHelperColorHelperÊèê‰æõCSSÈ¢úËâ≤È¢ÑËßàÔºåÊèê‰æõÈ¢úËâ≤ËΩ¨Êç¢ÔºåÂπ∂ÂÖÅËÆ∏Âú®Ë∞ÉËâ≤Êùø‰∏≠Â≠òÂÇ®ÂíåËÆøÈóÆÂñúÁà±ÁöÑÈ¢úËâ≤„ÄÇÂÆâË£ÖËØ•Êèí‰ª∂ÂêéÔºåCSS‰∏≠È¢úËâ≤Â±ûÊÄßÂÄºÂâç‰ºöÂá∫Áé∞‰∏Ä‰∏™Áõ∏Â∫îÈ¢úËâ≤ÁöÑÂ∞èÊñπÂùóÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÁÇπÂáªÂ∞èÊñπÂùóÔºåÂèØ‰ª•ËøõË°åÈ¢úËâ≤Ê†ºÂºèÁöÑËΩ¨Êç¢ÔºåÂ¶Ç16ËøõÂà∂ËΩ¨RGB,RGBA,HSLÂíåHSLAÔºö‰πüÂèØ‰ª•Âú®Ë∞ÉËâ≤Êùø‰∏≠Ëé∑ÂèñËá™Â∑±ÂñúÊ¨¢ÁöÑÈ¢úËâ≤ÔºåÂπ∂ÊèíÂÖ•ÔºöBetter CompletionÁõ∏ÊØîSublime Text 3Ëá™Â∏¶ÁöÑ‰ª£Á†ÅË°•ÂÖ®ÂäüËÉΩÔºåBetter CompletionÂèØ‰ª•Êèê‰æõÊõ¥Â•ΩËá™Âä®Ë°•ÂÖ®ÂäüËÉΩÔºåÊîØÊåÅJavaScriptÔºåjQueryÔºåLodashÔºåUnderscoreÔºåHTML5ÔºåCSS3ÂíåBootstrapÁ≠â„ÄÇÂÆâË£ÖÂÆåÂêéÂú®Command PaletteËæìÂÖ•sbcÔºåÁÑ∂ÂêéÊåâ‰∏ãEnterÈîÆÔºöÂú®ÂºπÂá∫ÁöÑÊñá‰ª∂‰∏≠ËæìÂÖ•Â¶Ç‰∏ãÈÖçÁΩÆÔºåÂπ∂‰∏îÂ∞ÜÈÇ£‰∫õÈúÄË¶ÅÂºÄÂêØËá™Âä®Ë°•ÂÖ®ÂäüËÉΩËØ≠Ë®ÄÁöÑÈÄâÈ°πÂêéÁöÑfalseÊîπ‰∏∫trueÔºö123456789101112131415161718192021222324252627282930313233343536&#123; // `true` means enable it. // `false` means disable it. "completion_active_list": &#123; // build-in completions "css-properties": true, "gruntjs-plugins": false, "html": true, "lodash": false, "javascript": true, "jquery": true, "jquery-sq": false, // Single Quote "php": false, "phpci": false, "sql": true, "twitter-bootstrap": true, "twitter-bootstrap-less-variables": true, "twitter-bootstrap3": true, "twitter-bootstrap3-sass-variables": false, "underscorejs": false, "react": false, // Your own completions? // ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User/sbc-api-my-angularjs.sublime-settings "my-angularjs": false, // ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User/sbc-api-my-glossary.sublime-settings "my-glossary": false, // ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User/sbc-api-my-html.sublime-settings "my-html": false, // ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User/sbc-api-my-javascript.sublime-settings "my-javascript": false &#125;&#125;jQueryËá™Âä®Ë°•ÂÖ®ÁöÑÊïàÊûúÂõæÂ¶Ç‰∏ãÔºöModificModificÁ™ÅÂá∫ÊòæÁ§∫Ë°åËá™‰∏äÊ¨°Êèê‰∫§‰ª•Êù•ÁöÑÊõ¥ÊîπÊÉÖÂÜµÔºàÊîØÊåÅGitÔºåSVNÁ≠âÁâàÊú¨ÊéßÂà∂Â∑•ÂÖ∑Ôºâ„ÄÇÂÆâË£ÖÂÆåÂêéÔºåÂ¶ÇÊûúÂú®ÁâàÊú¨ÊéßÂà∂ÁÆ°ÁêÜÁõÆÂΩï‰∏ã‰øÆÊîπ‰∫ÜÊñá‰ª∂Ë°åÔºåÊñ∞Â¢ûÁöÑÈÉ®ÂàÜ‰ª•‰∏âËßíÊ†áÊòæÁ§∫Ôºå‰øÆÊîπÁöÑÈÉ®ÂàÜ‰ª•Ëè±ÂΩ¢ÊòæÁ§∫ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöWakaTimeWakaTimeÊèí‰ª∂Áî®‰∫éÂú®Dashboard‰∏≠ÊòæÁ§∫‰Ω†ËøôÂë®ÁöÑÁºñÁ®ãÊó∂Èó¥ÔºåÁºñÂÜô‰ª£Á†ÅÁßçÁ±ªÂç†ÊØîÁ≠â‰ø°ÊÅØ„ÄÇÂÆâË£ÖÂÆåÊèí‰ª∂ÂêéÔºåÂú®Sublime TextÁºñËæëÂô®‰∏ãÊñπ‰ºöË¶ÅÊ±ÇÊÇ®ËæìÂÖ•ÂØÜÂåôÂπ∂Êåâ‰∏ãEnterÂç≥ÂèØÔºåÂØÜÂåôËé∑ÂèñÂú∞ÂùÄÔºöhttps://wakatime.com/settings/account#apikeyÔºöÂú®ÁºñÂÜô‰∏ÄÊÆµÊó∂Èó¥ÂêéÔºåÂ∞±ÂèØ‰ª•Âéªhttps://wakatime.com/dashboard‰∏≠Êü•Áúã‰Ω†ÁöÑÁºñÁ†ÅÊÉÖÂÜµÂï¶ÔºöÂ∏∏Áî®Âø´Êç∑ÈîÆËøôÈáåÂè™ÂàóÂá∫‰∫ÜSublime TextÂú®window‰∏≠‰∏Ä‰∫õÊØîËæÉÂ∏∏Áî®ÁöÑËá™Â∏¶Âø´Êç∑ÈîÆÔºö12345678910111213141516171819202122232425262728293031323334353637Alt+R : ÂºÄÂêØÊ≠£ÂàôË°®ËææÂºèÂäüËÉΩAlt+Enter: ÊâæÂà∞ÂåπÈÖçÁõÆÊ†áÂêéÂÖ®ÈÉ®ÈÄâÊã©Ctrl+RÔºöÂâçÂæÄ methodCtrl+MÔºöË∑≥ËΩ¨Âà∞ÂØπÂ∫îÊã¨Âè∑ÊåâCtrl+Shift+‰∏ä‰∏ãÈîÆÔºåÂèØÊõøÊç¢Ë°åCtrl+DÔºöÈÄâÊã©ÂçïËØçÔºåÈáçÂ§çÂèØÂ¢ûÂä†ÈÄâÊã©‰∏ã‰∏Ä‰∏™Áõ∏ÂêåÁöÑÂçïËØçCtrl+LÔºöÈÄâÊã©Ë°åÔºåÈáçÂ§çÂèØ‰æùÊ¨°Â¢ûÂä†ÈÄâÊã©‰∏ã‰∏ÄË°åCtrl+Shift+PÔºöÊâìÂºÄÂëΩ‰ª§Èù¢ÊùøCtrl+GÔºöË∑≥ËΩ¨Âà∞Á¨¨Âá†Ë°åCtrl+WÔºöÂÖ≥Èó≠ÂΩìÂâçÊâìÂºÄÊñá‰ª∂Ctrl+KKÔºöÂà†Èô§ÂΩìÂâçË°åÂÖâÊ†áÂêéÁöÑÊâÄÊúâÂÜÖÂÆπCtrl+Shift+WÔºöÂÖ≥Èó≠ÊâÄÊúâÊâìÂºÄÊñá‰ª∂Ctrl+Shift+VÔºöÁ≤òË¥¥Âπ∂Ê†ºÂºèÂåñCtrl+Shift+LÔºöÈÄâÊã©Â§öË°åCtrl+Shift+EnterÔºöÂú®ÂΩìÂâçË°åÂâçÊèíÂÖ•Êñ∞Ë°åCtrl+Shift+KÔºöÂà†Èô§ÂΩìÂâçË°åCtrl+UÔºöËΩØÊí§ÈîÄÔºåÊí§ÈîÄÂÖâÊ†á‰ΩçÁΩÆCtrl+JÔºöÈÄâÊã©Ê†áÁ≠æÂÜÖÂÆπCtrl+FÔºöÊü•ÊâæÂÜÖÂÆπCtrl+Shift+FÔºöÊü•ÊâæÂπ∂ÊõøÊç¢Ctrl+HÔºöÊõøÊç¢Ctrl+NÔºöÊñ∞Âª∫Á™óÂè£Ctrl+K+BÔºöÂºÄÂÖ≥‰æßÊ†èCtrl+Shift+MÔºöÈÄâ‰∏≠ÂΩìÂâçÊã¨Âè∑ÂÜÖÂÆπÔºåÈáçÂ§çÂèØÈÄâÁùÄÊã¨Âè∑Êú¨Ë∫´Ctrl+F2ÔºöËÆæÁΩÆ/Âà†Èô§Ê†áËÆ∞Ctrl+/ÔºöÊ≥®ÈáäÂΩìÂâçË°åCtrl+Shift+/ÔºöÂΩìÂâç‰ΩçÁΩÆÊèíÂÖ•Ê≥®ÈáäCtrl+Alt+/ÔºöÂùóÊ≥®ÈáäÔºåÂπ∂FocusÂà∞È¶ñË°åÔºåÂÜôÊ≥®ÈáäËØ¥ÊòéÁî®ÁöÑCtrl+Shift+AÔºöÈÄâÊã©ÂΩìÂâçÊ†áÁ≠æÂâçÂêéÔºå‰øÆÊîπÊ†áÁ≠æÁî®ÁöÑF11ÔºöÂÖ®Â±èShift+F11ÔºöÂÖ®Â±èÂÖçÊâìÊâ∞Ê®°ÂºèÔºåÂè™ÁºñËæëÂΩìÂâçÊñá‰ª∂Alt+F3ÔºöÈÄâÊã©ÊâÄÊúâÁõ∏ÂêåÁöÑËØçAlt+.ÔºöÈó≠ÂêàÊ†áÁ≠æAlt+Shift+Êï∞Â≠óÔºöÂàÜÂ±èÊòæÁ§∫Alt+Êï∞Â≠óÔºöÂàáÊç¢ÊâìÂºÄÁ¨¨N‰∏™Êñá‰ª∂Ctrl+shift+D: Â§á‰ªΩÂ§ö‰∏™ÂΩìÂâçË°åCtrl+shift+T: ÊÅ¢Â§çÂ∑≤ÁªèÂÖ≥Èó≠ÁöÑÊ†áÁ≠æÂú®‰∏çÂêåËÆæÂ§á‰∏ãÂêåÊ≠•‰∏™‰∫∫ÈÖçÁΩÆÂèØ‰ª•‰ΩøÁî®GitÂêåÊ≠•Packages/User/Êñá‰ª∂Â§πÔºàÂèØ‰ª•Âú®Preferences‚ÜíBrowse Packages‚Ä¶ÊâìÂºÄÔºâ‰∏ãÁöÑÂÜÖÂÆπÔºåÊ≠§Êñá‰ª∂Â§πÂåÖÂê´Package Control.sublime-settingsÊñá‰ª∂ÔºåÂÖ∂‰∏≠ÂåÖÂê´ÊâÄÊúâÂ∑≤ÂÆâË£ÖËΩØ‰ª∂ÂåÖÁöÑÂàóË°®„ÄÇ‰ΩøÁî®GitÂêåÊ≠•Âà∞Âè¶‰∏ÄÂè∞Êú∫Âô®Ôºå‰∏ãÊ¨°ÂêØÂä®Sublime TextÊó∂ÔºåPackage Control Â∞ÜÂÆâË£Ö‰ªª‰Ωï‰∏¢Â§±ÁöÑËΩØ‰ª∂ÂåÖÁöÑÊ≠£Á°ÆÁâàÊú¨„ÄÇÊúâ‰∫õÊèí‰ª∂ÂÆâË£ÖÂêéÈúÄË¶ÅÈáçÂêØSublime TextÊâçËÉΩÁîüÊïà„ÄÇÊèí‰ª∂ÂÆâË£ÖÂ§ö‰∫ÜÔºåÂèØËÉΩÂºïËµ∑Âø´Êç∑ÈîÆÁöÑÂÜ≤Á™ÅÔºåÈúÄË¶ÅÂºïËµ∑Ê≥®ÊÑè„ÄÇ]]></content>
      <tags>
        <tag>Sublime Text</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitÂàÜÊîØÁÆ°ÁêÜ]]></title>
    <url>%2FGit%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86.html</url>
    <content type="text"><![CDATA[git branchÂëΩ‰ª§‰∏ç‰ªÖ‰ªÖËÉΩÂàõÂª∫ÂíåÂà†Èô§ÂàÜÊîØÔºåÂ¶ÇÊûú‰∏çÂä†‰ªª‰ΩïÂèÇÊï∞ÔºåÂÆÉ‰ºöÁªôÂá∫ÂΩìÂâçÊâÄÊúâÂàÜÊîØÁöÑÊ∏ÖÂçïÔºö1234$ git branch develop* master testÂ∏¶*Ë°®Á§∫ÂΩìÂâçÊâÄÂú®ÂàÜÊîØ„ÄÇ‰ΩøÁî®ÂëΩ‰ª§git branch -vÂàôÂèØ‰ª•Êü•ÁúãÂêÑ‰∏™ÂàÜÊîØÊúÄÂêé‰∏Ä‰∏™Êèê‰∫§ÂØπË±°ÁöÑ‰ø°ÊÅØÔºö1234$ git branch -v develop ef993bc update About.html* master 0986092 [ahead 26] update index.html test 19fffc0 add test file‰ΩøÁî®ÂëΩ‰ª§git branch --mergedÂèØ‰ª•Êü•ÁúãÂì™‰∫õÂàÜÊîØ‰∏éÂΩìÂâçÂàÜÊîØËøõË°å‰∫ÜÂêàÂπ∂Êìç‰ΩúÔºö123$ git branch --merged develop* master‰∏é‰πãÁõ∏ÂèçÁöÑÂëΩ‰ª§‰∏∫git branch --no-merged:12$ git branch --no-merged testtestÂàÜÊîØ‰∏≠ËøòÂåÖÂê´ÁùÄÂ∞öÊú™ÂêàÂπ∂ËøõÊù•ÁöÑÂ∑•‰ΩúÊàêÊûúÔºåÊâÄ‰ª•ÁÆÄÂçïÂú∞Áî®git branch -dÂà†Èô§ËØ•ÂàÜÊîØ‰ºöÊèêÁ§∫ÈîôËØØÔºåÂõ†‰∏∫ÈÇ£Ê†∑ÂÅö‰ºö‰∏¢Â§±Êï∞ÊçÆÔºö123$ git branch -d testerror: The branch 'test' is not fully merged.If you are sure you want to delete it, run 'git branch -D test'.GitÊèêÁ§∫ÂèØ‰ª•Áî®Â§ßÂÜôÁöÑÂà†Èô§ÈÄâÈ°π -D Âº∫Âà∂ÊâßË°å„ÄÇ]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitÂàÜÊîØÁöÑÂàõÂª∫‰∏éÂêàÂπ∂]]></title>
    <url>%2FGit%E5%88%86%E6%94%AF%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%90%88%E5%B9%B6.html</url>
    <content type="text"><![CDATA[ÂÅáËÆæÁõÆÂâçÊ≠£Âú®ÂºÄÂèëÂÖ¨Âè∏ÁΩëÁ´ôÔºåÂπ∂‰∏î‰ΩøÁî®GitÁÆ°ÁêÜÈ°πÁõÆ‰ª£Á†ÅÔºåÂ∏∏ËßÅÁöÑÊµÅÁ®ãÂ§ß‰ΩìÂ¶Ç‰∏ã:1.ÂºÄÂèëÂÖ¨Âè∏ÁΩëÁ´ô„ÄÇ2.‰∏∫‰∫ÜÂºÄÂèëÊüê‰∏™Êñ∞ÂäüËÉΩÊñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºàÂÅáÂ¶ÇÂè´developÔºâÔºåÂπ∂Âú®ËØ•ÂàÜÊîØ‰∏äËøõË°åÂºÄÂèë„ÄÇ3.Êé•Âà∞ÊµãËØïÁªÑÁöÑBugÂèçÈ¶àÔºåËøîÂõû‰∏ªÂàÜÊîØÔºåÊñ∞Âª∫‰∏Ä‰∏™Êñ∞ÁöÑÂàÜÊîØÔºàbugFixÔºâÔºåÂú®ËØ•ÂàÜÊîØ‰∏ä‰øÆÂ§çBugÔºåÁÑ∂Âêé‰∏é‰∏ªÂàÜÊîØmasterÂêàÂπ∂„ÄÇ4.Â∞ÜÂàÜÊîØÂàáÊç¢ÂõûdevelopÔºåÁªßÁª≠ÂºÄÂèëÊñ∞ÂäüËÉΩÔºåÁªìÊùüÂêéÂíå‰∏ªÂàÜÊîØmasterÂêàÂπ∂„ÄÇÂàÜÊîØÁöÑÊñ∞Âª∫‰∏éÂàáÊç¢ÂÅáÂ¶ÇÂÖ¨Âè∏ÁΩëÁ´ôÈ°πÁõÆÂ∑≤ÁªèÂºÄÂèë‰∫Ü‰∏ÄÊÆµÊó∂Èó¥ÔºåÂπ∂‰∏î‰ΩøÁî®GitÊèê‰∫§‰∫ÜÂá†Ê¨°Êõ¥Êñ∞ÔºåÊèê‰∫§ÂéÜÂè≤Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ‰∏∫‰∫ÜÂºÄÂèëÊñ∞ÂäüËÉΩÔºåÊñ∞Âª∫ÂàÜÊîØdevelopÂπ∂ÂàáÊç¢Âà∞ËØ•ÂàÜÊîØÔºö1234$ git branch develop$ git checkout developSwitched to branch 'develop'‰πüÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§git checkout -bÁõ¥Êé•Êñ∞Âª∫Âπ∂ÂàáÊç¢Ôºö12$ git checkout -b developSwitched to a new branch 'develop'ÊâßË°å‰∏äËø∞ÂëΩ‰ª§ÂêéÔºå‰ªìÂ∫ìÂéÜÂè≤Â§ßËá¥Â¶Ç‰∏ãÊâÄÁ§∫Ôºö GitÊñ∞Âª∫‰∫Ü‰∏Ä‰∏™ÂàÜÊîØÊåáÈíàdevelopÔºåÁÑ∂ÂêéÂ∞ÜHEADÊåáÂêëdevelop„ÄÇÊé•‰∏ãÊù•Âú®ËØ•ÂàÜÊîØ‰∏äÂºÄÂøÉÁöÑÂºÄÂèëÊñ∞ÂäüËÉΩÔºåÊØîÂ¶ÇÊñ∞Âª∫‰∫ÜÂÖ¨Âè∏ÁΩëÁ´ôAboutÈ°µÈù¢ÔºåÊ∑ªÂä†‰∫ÜÂÜÖÂÆπÁÑ∂ÂêéÊèê‰∫§‰∫ÜÊ≠§Ê¨°‰øÆÊîπÔºö12345678$ vim About.html$ git add About.html$ git commit -a -m "add About.html page"[develop b462691] add About.html page 1 file changed, 12 insertions(+) create mode 100644 About.htmlÊ≠§Êó∂Ôºå‰ªìÂ∫ìÂéÜÂè≤Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ËøôÊó∂ÂÄôÊé•Âà∞ÊµãËØïÁªÑÂÖ¨Âè∏ÁΩëÁ´ô‰∏ªÈ°µindex.htmlÁöÑBugÂèçÈ¶àÔºå‰∫éÊòØÂ∞ÜÂàÜÊîØÂàáÊç¢Âõû‰∏ªÂàÜÊîØmasterÔºåÁÑ∂ÂêéÊñ∞Âª∫ÂàÜÊîØbugFixÔºå‰øÆÂ§çBugÔºåÂπ∂Êèê‰∫§ËØ•‰øÆÂ§çÔºö1234567891011$ git checkout masterSwitched to branch 'master'$ git checkout -b "bugFix"Switched to a new branch 'bugFix'$ vim index.html$ git commit -a -m "update index.html page"[bugFix 11a3074] update index.html page 1 file changed, 2 insertions(+), 2 deletions(-)Ê≠§Êó∂Ôºå‰ªìÂ∫ìÂéÜÂè≤Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ÂÅáÂ¶ÇÁ°ÆÂÆöBug‰øÆÂ§çÂêéÔºåÂèØ‰ª•ÂàáÊç¢ÂõûmasterÂàÜÊîØÔºåÁÑ∂ÂêéÂ∞ÜbugFixÂíåmasterÂàÜÊîØÂêàÂπ∂Ôºö12345$ git merge bugFixUpdating e7ad858..11a3074Fast-forward index.html | 4 ++-- 1 file changed, 2 insertions(+), 2 deletions(-)ÂêàÂπ∂Êó∂Âá∫Áé∞‰∫Ü‚ÄúFast forward‚ÄùÁöÑÊèêÁ§∫„ÄÇÂ¶ÇÊûúÈ°∫ÁùÄ‰∏Ä‰∏™ÂàÜÊîØËµ∞‰∏ãÂéªÂèØ‰ª•Âà∞ËææÂè¶‰∏Ä‰∏™ÂàÜÊîØÁöÑËØùÔºåÈÇ£‰πàGitÂú®ÂêàÂπ∂‰∏§ËÄÖÊó∂ÔºåÂè™‰ºöÁÆÄÂçïÂú∞ÊääÊåáÈíàÂè≥ÁßªÔºåÂõ†‰∏∫ËøôÁßçÂçïÁ∫øÁöÑÂéÜÂè≤ÂàÜÊîØ‰∏çÂ≠òÂú®‰ªª‰ΩïÈúÄË¶ÅËß£ÂÜ≥ÁöÑÂàÜÊ≠ßÔºåÊâÄ‰ª•ËøôÁßçÂêàÂπ∂ËøáÁ®ãÂèØ‰ª•Áß∞‰∏∫Âø´ËøõÔºàFast forwardÔºâ„ÄÇÊ≠§Êó∂bugFixÂàÜÊîØÂ∑≤ÁªèÂÆåÊàê‰∫ÜÂéÜÂè≤‰ΩøÂëΩÔºåÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§git branch -dÂ∞ÜÂÖ∂Âà†Èô§Ôºö12$ git branch -d bugFixDeleted branch bugFix (was 11a3074).ÂêàÂπ∂master‰∏ébugFixÔºåÂπ∂Âà†Èô§bugFixÂàÜÊîØÂêéÔºå‰ªìÂ∫ìÂéÜÂè≤Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö Bug‰øÆÂ§çÂêéÔºåÂàáÊç¢ÂõûdevelopÂàÜÊîØÁªßÁª≠ÂºÄÂèëÊñ∞ÁöÑÂäüËÉΩÔºåÂπ∂‰∏îÊèê‰∫§Ôºö12345678$ git checkout developSwitched to branch &apos;develop&apos;$ vim About.html$ git commit -a -m &quot;add copyright&quot;[develop df8d879] add copyright 1 file changed, 1 insertion(+)Ê≠§Êó∂Ôºå‰ªìÂ∫ìÂéÜÂè≤Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ÂàÜÊîØÂêàÂπ∂ÂíåÂêàÂπ∂masterÂàÜÊîØ‰∏ébugFixÂàÜÊîØÈÇ£Ê†∑ÔºåÂêàÂπ∂master‰∏édevelopÂàÜÊîØËøáÁ®ã‰πüÂ∑Æ‰∏çÂ§öÔºö1234567$ git checkout masterSwitched to branch 'master'$ git merge developMerge made by the 'recursive' strategy. About.html | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-)Áî±‰∫émasterÊåáÂêëÁöÑC4Âπ∂‰∏çÊòØdevelopÊåáÂêëC5ÁöÑÁõ¥Êé•Á•ñÂÖàC2ÔºåÊâÄ‰ª•ÂêàÂπ∂ÊñπÂºè‰∏çÊòØ‚ÄúFast forward‚ÄùÔºåGit ‰ºöÁî®‰∏§‰∏™ÂàÜÊîØÁöÑÊú´Á´ØÔºàC4 Âíå C5Ôºâ‰ª•ÂèäÂÆÉ‰ª¨ÁöÑÂÖ±ÂêåÁ•ñÂÖàÔºàC2ÔºâËøõË°å‰∏ÄÊ¨°ÁÆÄÂçïÁöÑ‰∏âÊñπÂêàÂπ∂ËÆ°ÁÆó„ÄÇÂêàÂπ∂masterÂíådevelopÂêéÔºå‰ªìÂ∫ìÂéÜÂè≤Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö Ëß£ÂÜ≥ÂêàÂπ∂ÂÜ≤Á™ÅÂÅáÂ¶ÇÂú®‰∏çÂêåÂàÜÊîØ‰∏≠ÈÉΩÂØπÂêå‰∏Ä‰∏™Êñá‰ª∂ËøõË°å‰∫Ü‰øÆÊîπÔºåÈÇ£‰πàÂêàÂπ∂ÁöÑÊó∂ÂÄôÂ∞±‰ºöÂèëÁîüÂÜ≤Á™Å„ÄÇÊØîÂ¶ÇÂú®masterÂàÜÊîØÂíådevelopÂàÜÊîØ‰∏äÈÉΩ‰øÆÊîπ‰∫ÜAbout.htmlÈ°µÈù¢ÔºåÁÑ∂ÂêéËøõË°åÂàÜÊîØÂêàÂπ∂Ôºö1234$ git merge developAuto-merging About.htmlCONFLICT (content): Merge conflict in About.htmlAutomatic merge failed; fix conflicts and then commit the result.Git‰Ωú‰∫ÜÂêàÂπ∂Ôºå‰ΩÜÊ≤°ÊúâÊèê‰∫§ÔºåÂÆÉ‰ºöÂÅú‰∏ãÊù•Á≠â‰Ω†Ëß£ÂÜ≥ÂÜ≤Á™Å„ÄÇÂèØÊòØ‰ΩøÁî®ÂëΩ‰ª§git statusÊü•ÁúãÂì™‰∫õÊñá‰ª∂Â≠òÂú®ÂÜ≤Á™ÅÔºö123456789101112$ git statusOn branch masterYou have unmerged paths. (fix conflicts and run "git commit") (use "git merge --abort" to abort the merge)Unmerged paths: (use "git add &lt;file&gt;..." to mark resolution) both modified: About.htmlno changes added to commit (use "git add" and/or "git commit -a")‰ªª‰ΩïÂåÖÂê´Êú™Ëß£ÂÜ≥ÂÜ≤Á™ÅÁöÑÊñá‰ª∂ÈÉΩ‰ºö‰ª•Êú™ÂêàÂπ∂ÔºàunmergedÔºâÁöÑÁä∂ÊÄÅÂàóÂá∫„ÄÇÁºñËæëAbout.htmlÈ°µÈù¢ÔºåÂèØÁúãÂà∞Êñá‰ª∂ÂåÖÂê´Á±ª‰ºº‰∏ãÈù¢ÈÉ®ÂàÜÁöÑÂÜÖÂÆπÔºö123456&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD &lt;footer&gt;2016~2017 All Rights Reserved&lt;/footer&gt;======= &lt;footer&gt;&amp;copy;2016~2017&lt;/footer&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; developÂèØ‰ª•ÁúãÂà∞ ======= ÈöîÂºÄÁöÑ‰∏äÂçäÈÉ®ÂàÜÔºåÊòØHEADÔºàÂç≥ master ÂàÜÊîØÔºåÂú®ËøêË°åmergeÂëΩ‰ª§Êó∂ÊâÄÂàáÊç¢Âà∞ÁöÑÂàÜÊîØÔºâ‰∏≠ÁöÑÂÜÖÂÆπÔºå‰∏ãÂçäÈÉ®ÂàÜÊòØÂú®developÂàÜÊîØ‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇËß£ÂÜ≥ÂÜ≤Á™ÅÁöÑÂäûÊ≥ïÊó†ÈùûÊòØ‰∫åËÄÖÈÄâÂÖ∂‰∏ÄÊàñËÄÖÁî±‰Ω†‰∫≤Ëá™Êï¥ÂêàÂà∞‰∏ÄËµ∑„ÄÇ1&lt;footer&gt;&amp;copy; 2016~2017 All Rights Reserved&lt;/footer&gt;„Ääpro git„ÄãÂ≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitÊí§ÈîÄÊìç‰Ωú]]></title>
    <url>%2FGit%E6%92%A4%E9%94%80%E6%93%8D%E4%BD%9C.html</url>
    <content type="text"><![CDATA[‰øÆÊîπÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§Â¶ÇÊûúÊèê‰∫§ÂêéÂèëÁé∞ÊÉ≥Ë¶Å‰øÆÊîπÊèê‰∫§‰ø°ÊÅØÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® git commit --amend ÂëΩ‰ª§Ôºå‰ΩøÁî®ËØ•ÂëΩ‰ª§ÂêéÔºåGit‰ºöÂêØÂä®ÊñáÊú¨ÁºñËæëÂô®ÔºåÁÑ∂ÂêéÂèØÁúãÂà∞‰∏äÊ¨°Êèê‰∫§Êó∂ÁöÑËØ¥ÊòéÔºåÁºñËæëÂÆÉÁ°ÆËÆ§Ê≤°ÈóÆÈ¢òÂêé‰øùÂ≠òÈÄÄÂá∫ÔºåÂ∞±‰ºö‰ΩøÁî®Êñ∞ÁöÑÊèê‰∫§ËØ¥ÊòéË¶ÜÁõñÂàöÊâçÁöÑÊèê‰∫§‰ø°ÊÅØÔºö1$ git commit --amendÂ¶ÇÊûúÂàöÊâçÊèê‰∫§Êó∂Âøò‰∫ÜÊöÇÂ≠òÊüê‰∫õ‰øÆÊîπÔºåÂèØ‰ª•ÂÖàË°•‰∏äÊöÇÂ≠òÊìç‰ΩúÔºåÁÑ∂ÂêéÂÜçËøêË°å --amend Êèê‰∫§Ôºö12$ git add forgotten_file$ git commit --amendÂèñÊ∂àÂ∑≤ÁªèÊöÇÂ≠òÁöÑÊñá‰ª∂123456789$ git statusOn branch masterYour branch is ahead of 'origin/master' by 8 commits. (use "git push" to publish your local commits)Changes to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) modified: README.config modified: README.md‰ΩøÁî®ÂëΩ‰ª§ git reset HEAD README.config Â∞ÜREADME.configÁßªÂá∫ÊöÇÂ≠òÂå∫Ôºö123456789101112131415161718$ git reset HEAD README.configUnstaged changes after reset:M README.config$ git statusOn branch masterYour branch is ahead of 'origin/master' by 8 commits. (use "git push" to publish your local commits)Changes to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) modified: README.mdChanges not staged for commit: (use "git add &lt;file&gt;..." to update what will be committed) (use "git checkout -- &lt;file&gt;..." to discard changes in working directory) modified: README.configÂèØÁúãÂà∞ÔºåREADME.configÂ∑≤Áªè‰∏∫Changes not staged for commitÁä∂ÊÄÅ„ÄÇÂèñÊ∂àÂØπÊñá‰ª∂ÁöÑ‰øÆÊîπÂ∞ÜREADME.configÁßªÂá∫ÊöÇÂ≠òÂå∫ÂêéÔºåÂèØ‰ª•Ëøõ‰∏ÄÊ≠•‰ΩøÁî®ÂëΩ‰ª§ git checkout -- README.config ÂèñÊ∂àÂØπREADME.configÁöÑ‰øÆÊîπ„ÄÇ123456789101112131415$ cat README.confighello$ git checkout -- README.config$ git statusOn branch masterYour branch is ahead of 'origin/master' by 8 commits. (use "git push" to publish your local commits)Changes to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) modified: README.md$ cat README.config„Ääpro git„ÄãÂ≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitËøúÁ®ã‰ªìÂ∫ì]]></title>
    <url>%2FGit%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93.html</url>
    <content type="text"><![CDATA[ËøúÁ®ã‰ªìÂ∫ìÊòØÊåáÊâòÁÆ°Âú®ÁΩëÁªú‰∏äÁöÑÈ°πÁõÆ‰ªìÂ∫ìÔºåÂèØËÉΩ‰ºöÊúâÂ•ΩÂ§ö‰∏™ÔºåÂÖ∂‰∏≠Êúâ‰∫õ‰Ω†Âè™ËÉΩËØªÔºåÂè¶Â§ñÊúâ‰∫õÂèØ‰ª•ÂÜô„ÄÇÂêå‰ªñ‰∫∫Âçè‰ΩúÂºÄÂèëÊüê‰∏™È°πÁõÆÊó∂ÔºåÈúÄË¶ÅÁÆ°ÁêÜËøô‰∫õËøúÁ®ã‰ªìÂ∫ìÔºå‰ª•‰æøÊé®ÈÄÅÊàñÊãâÂèñÊï∞ÊçÆÔºåÂàÜ‰∫´ÂêÑËá™ÁöÑÂ∑•‰ΩúËøõÂ±ï„ÄÇ ÁÆ°ÁêÜËøúÁ®ã‰ªìÂ∫ìÁöÑÂ∑•‰ΩúÔºåÂåÖÊã¨Ê∑ªÂä†ËøúÁ®ãÂ∫ìÔºåÁßªÈô§Â∫üÂºÉÁöÑËøúÁ®ãÂ∫ìÔºåÁÆ°ÁêÜÂêÑÂºèËøúÁ®ãÂ∫ìÂàÜÊîØÔºåÂÆö‰πâÊòØÂê¶Ë∑üË∏™Ëøô‰∫õÂàÜÊîØÔºåÁ≠âÁ≠â„ÄÇÊü•ÁúãÂΩìÂâçÁöÑËøúÁ®ãÂ∫ì‰ΩøÁî® git remote ÂëΩ‰ª§ÔºåÂÆÉ‰ºöÂàóÂá∫ÊØè‰∏™ËøúÁ®ãÂ∫ìÁöÑÁÆÄÁü≠ÂêçÂ≠ó„ÄÇÂú®ÂÖãÈöÜÂÆåÊüê‰∏™È°πÁõÆÂêéÔºåËá≥Â∞ëÂèØ‰ª•ÁúãÂà∞‰∏Ä‰∏™Âêç‰∏∫ origin ÁöÑËøúÁ®ãÂ∫ìÔºåGit ÈªòËÆ§‰ΩøÁî®Ëøô‰∏™ÂêçÂ≠óÊù•Ê†áËØÜ‰Ω†ÊâÄÂÖãÈöÜÁöÑÂéüÂßã‰ªìÂ∫ìÔºö1234567891011$ git clone git://github.com/schacon/ticgit.gitCloning into 'ticgit'...remote: Counting objects: 1857, done.remote: Total 1857 (delta 0), reused 0 (delta 0), pack-reused 1857Receiving objects: 100% (1857/1857), 331.41 KiB | 89.00 KiB/s, done.Resolving deltas: 100% (837/837), done.$ cd ticgit$ git remoteorigin‰ΩøÁî® git remote -v ÂëΩ‰ª§ÂèØ‰ª•ÊòæÁ§∫Âá∫ËøúÁ®ã‰ªìÂ∫ìÁöÑÂú∞ÂùÄÔºö123$ git remote -vorigin git://github.com/schacon/ticgit.git (fetch)origin git://github.com/schacon/ticgit.git (push)Ê∑ªÂä†ËøúÁ®ã‰ªìÂ∫ìË¶ÅÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑËøúÁ®ã‰ªìÂ∫ìÔºåÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂêçÂ≠óÔºå‰ª•‰æøÂ∞ÜÊù•ÂºïÁî®ÔºåËøêË°å git remote add [shortname] [url]Ôºö12345$ git remote add paul git://github.com/paulboone/ticgit.git$ git remoteoriginpaul‰ªéËøúÁ®ã‰ªìÂ∫ìÊäìÂèñÊï∞ÊçÆ1.ÊäìÂèñÂπ∂‰ΩÜ‰∏çÂêàÂπ∂ÂàÜÊîØÔºå‰ΩøÁî®ÂëΩ‰ª§ git fetch [remote-name] [branch-name]„ÄÇ1234567$ git fetch paul masterremote: Counting objects: 19, done.remote: Total 19 (delta 11), reused 11 (delta 11), pack-reused 8Unpacking objects: 100% (19/19), done.From git://github.com/paulboone/ticgit * branch master -&gt; FETCH_HEAD * [new branch] master -&gt; paul/master2.ÊäìÂèñÂπ∂‰∏îËá™Âä®ÂêàÂπ∂ÂàÜÊîØÔºå‰ΩøÁî®ÂëΩ‰ª§ git pull [remote-name] [branch-name]„ÄÇ1234$ git pull origin masterFrom git://github.com/schacon/ticgit * branch master -&gt; FETCH_HEADAlready up-to-date.Êé®ÈÄÅÊï∞ÊçÆÂà∞ËøúÁ®ã‰ªìÂ∫ì‰ΩøÁî®ÂëΩ‰ª§ git push [remote-name] [branch-name] ÊääÊú¨Âú∞ÁöÑ master ÂàÜÊîØÊé®ÈÄÅÂà∞ origin ÊúçÂä°Âô®‰∏ä :1$ git push origin masterÁ¨¶Âêà‰∏ãÈù¢‰∏§ÁßçÊÉÖÂÜµÊâçËÉΩÊàêÂäüÊé®ÈÄÅÔºöÊã•ÊúâËøúÁ®ã‰ªìÂ∫ìÂÜôÁöÑÊùÉÈôê„ÄÇÂú®Á¨¶Âêà1ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÂÖ∂‰ªñ‰∫∫Â∑≤ÁªèÂêëËøúÁ®ã‰ªìÂ∫ìÊé®ÈÄÅ‰∫ÜÊõ¥Êñ∞ÔºåÂøÖÈ°ªÂÖàÊõ¥Êñ∞ÊäìÂèñÂà∞Êú¨Âú∞ÔºåÂêàÂπ∂Âà∞Ëá™Â∑±ÁöÑÈ°πÁõÆ‰∏≠ÔºåÁÑ∂ÂêéÊâçÂèØ‰ª•ÂÜçÊ¨°Êé®ÈÄÅ„ÄÇÊü•ÁúãËøúÁ®ã‰ªìÂ∫ì‰ø°ÊÅØ123456789101112$ git remote show origin* remote origin Fetch URL: git://github.com/schacon/ticgit.git Push URL: git://github.com/schacon/ticgit.git HEAD branch: master Remote branches: master tracked ticgit tracked Local branch configured for 'git pull': master merges with remote master Local ref configured for 'git push': master pushes to master (up to date)ËøúÁ®ã‰ªìÂ∫ìÁöÑÂà†Èô§ÂíåÈáçÂëΩÂêç‰ΩøÁî® git remote rename ÂëΩ‰ª§‰øÆÊîπÊüê‰∏™ËøúÁ®ã‰ªìÂ∫ìÂú®Êú¨Âú∞ÁöÑÁÆÄÁß∞ÔºåÊØîÂ¶ÇÊÉ≥Êää paul ÊîπÊàê paulbooneÔºö12345$ git remote rename paul paulboone$ git remoteoriginpaulbooneÂØπËøúÁ®ã‰ªìÂ∫ìÁöÑÈáçÂëΩÂêçÔºå‰πü‰ºö‰ΩøÂØπÂ∫îÁöÑÂàÜÊîØÂêçÁß∞ÂèëÁîüÂèòÂåñÔºåÂéüÊù•ÁöÑ paul/master ÂàÜÊîØÁé∞Âú®Êàê‰∫Ü paulboone/master‰ΩøÁî®ÂëΩ‰ª§ git remote rm Âà†Èô§Âú®Êú¨Âú∞ÁöÑËøúÁ®ã‰ªìÂ∫ìÂú∞ÂùÄÔºö1234$ git remote rm paulboone$ git remoteorigin„ÄäPro Git„ÄãÂ≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitÁâàÊú¨ÂõûÈÄÄ]]></title>
    <url>%2FGit%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80.html</url>
    <content type="text"><![CDATA[Git‰∏≠ÔºåÊØèÊ¨°commitÊèê‰∫§ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™ÂéÜÂè≤Á∫™ÂΩï„ÄÇ‰ΩøÁî® git log Êü•ÁúãcommitÂéÜÂè≤Ôºö12345678910$ git log --oneline ec88247 modifyed bar.html,foo.txt add new.txt47384c8 modify bar.html in clone again31e1f6f modify foo.txt in original again8747b24 Merge branch 'master' of /home/mrbird/projects/first-project27b76ec modify foo.txt in original796e40d modify bar.html in clone8e1b132 modify foo.txt,add 'hello msg'94418b1 add bar.html,modify foo.txt,delete bar.txtc2e4810 add foo.txt bar.txtÊØè‰∏™ËÆ∞ÂΩïÈÉΩÊúâ‰∏Ä‰∏™‰∏é‰πãÂØπÂ∫îÁöÑcommit idÔºåÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§git reset --hard commit_idÊù•ÂõûÈÄÄÂà∞Áõ∏Â∫îÁöÑÁâàÊú¨„ÄÇÈô§Ê≠§‰πãÂç°ÔºåÂú®Git‰∏≠Ôºå‰ΩøÁî®HEADÊù•‰ª£Ë°®ÂΩìÂâçÁâàÊú¨ÔºåÂ¶ÇÈúÄÂõûÈÄÄÂà∞Ââç‰∏Ä‰∏™ÁâàÊú¨ÔºåÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§git reset --hard HEAD^ÔºåÂâç‰∏§‰∏™ÁâàÊú¨ÂàôÁî®HEAD~2Ë°®Á§∫Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇÂΩìÂâçÁâàÊú¨id‰∏∫ec88247‚Ä¶ÊØîÂ¶ÇÔºåÁé∞Ë¶ÅÂõûÈÄÄÂà∞commit_id‰∏∫47384c8‚Ä¶ÁöÑÁâàÊú¨ÔºåÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÂëΩ‰ª§Ôºö12$ git reset --hard 47384c8HEAD is now at 47384c8again modify bar.html in cloneÊàñÔºö12$ git reset --hard HEAD^HEAD is now at 47384c8 modify bar.html in clone againÂÜçÊ¨°Êü•ÁúãcommitÂéÜÂè≤Ôºö123456789$ git log --oneline 47384c8 modify bar.html in clone again31e1f6f modify foo.txt in original again8747b24 Merge branch 'master' of /home/mrbird/projects/first-project27b76ec modify foo.txt in original796e40d modify bar.html in clone8e1b132 modify foo.txt,add 'hello msg'94418b1 add bar.html,modify foo.txt,delete bar.txtc2e4810 add foo.txt bar.txtÂèØÂèëÁé∞Ôºåcommit_id‰∏∫ec88247‚Ä¶ÁöÑËÆ∞ÂΩïÂ∑≤Áªè‰∏çËßÅ‰∫ÜÔºåÂ¶ÇÊûúË¶ÅÂõûÈÄÄÂà∞Ëøô‰∏™ÁâàÊú¨ÔºåÂèàÂøòËÆ∞‰∫Ü‰∏é‰πãÂØπÂ∫îÁöÑcommit_idËØ•ÊÄé‰πàÂäûÂë¢„ÄÇËøôÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®git reflogÂëΩ‰ª§Êù•Êü•ÁúãÊìç‰ΩúÂéÜÂè≤Ôºö1234$ git reflog47384c8 HEAD@&#123;0&#125;: reset: moving to 47384c8ec88247 HEAD@&#123;1&#125;: reset: moving to ec88247...ÂèØÁúãÂà∞ÔºåÂõûÈÄÄÂà∞commit_id‰∏∫47384c8‚Ä¶ÁöÑ‰∏ä‰∏Ä‰∏™ÁâàÊú¨ÁöÑcommit_id‰∏∫ec88247‚Ä¶ÔºåÊâÄ‰ª•Ôºå‰ΩøÁî®Â¶Ç‰∏ãÂëΩ‰ª§Âç≥ÂèØÂõûÂà∞‰∏ÄÂºÄÂßãÂõûÈÄÄÂâçÁöÑÁâàÊú¨Ôºö12$ git reset --hard ec88247HEAD is now at ec88247 modifyed bar.html,foo.txt add new.txt]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitÁä∂ÊÄÅË∑üË∏™]]></title>
    <url>%2FGit%E7%8A%B6%E6%80%81%E8%B7%9F%E8%B8%AA.html</url>
    <content type="text"><![CDATA[ÂØπ‰∫é‰ªª‰Ωï‰∏Ä‰∏™Êñá‰ª∂ÔºåÂú® Git ÂÜÖÈÉΩÂè™Êúâ‰∏âÁßçÁä∂ÊÄÅÔºöÂ∑≤Êèê‰∫§ÔºàcommittedÔºâÔºåÂ∑≤‰øÆÊîπÔºàmodifiedÔºâÂíåÂ∑≤ÊöÇÂ≠òÔºàstagedÔºâ„ÄÇ1.Â∑≤Êèê‰∫§ÔºöË°®Á§∫ËØ•Êñá‰ª∂Â∑≤ÁªèË¢´ÂÆâÂÖ®Âú∞‰øùÂ≠òÂú®ÁâàÊú¨Â∫ì‰∏≠‰∫Ü„ÄÇ2.Â∑≤‰øÆÊîπÔºöË°®Á§∫‰øÆÊîπ‰∫ÜÊüê‰∏™Êñá‰ª∂Ôºå‰ΩÜËøòÊ≤°ÊúâÊèê‰∫§Âà∞ÊöÇÂ≠òÂå∫„ÄÇ3.Â∑≤ÊöÇÂ≠òÔºöË°®Á§∫ÊääÂ∑≤‰øÆÊîπÁöÑÊñá‰ª∂Â∑≤ÁªèÊîæÂà∞ÊöÇÂ≠òÂå∫‰∫ÜÔºå‰∏ãÊ¨°Êèê‰∫§Êó∂‰∏ÄÂπ∂Ë¢´‰øùÂ≠òÂà∞ÁâàÊú¨Â∫ì‰∏≠„ÄÇÊ£ÄÊü•ÂΩìÂâçÊñá‰ª∂Áä∂ÊÄÅË¶ÅÁ°ÆÂÆöÂì™‰∫õÊñá‰ª∂ÂΩìÂâçÂ§Ñ‰∫é‰ªÄ‰πàÁä∂ÊÄÅÔºåÂèØ‰ª•Áî® git status ÂëΩ‰ª§„ÄÇ1234$ git statusOn branch masterYour branch is up-to-date with 'origin/master'.nothing to commit, working tree cleanËØ¥ÊòéÁé∞Âú®ÁöÑÂ∑•‰ΩúÁõÆÂΩïÁõ∏ÂΩìÂπ≤ÂáÄÔºåÂπ∂‰∏îÂΩìÂâçÊâÄÂú®ÂàÜÊîØ‰∏∫master„ÄÇÂú®ÂΩìÂâçÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™READMEÊñá‰ª∂ÔºåÁÑ∂ÂêéËøêË°å git status ‰ºöÁúãÂà∞ËØ•Êñá‰ª∂Âá∫Áé∞Âú®Êú™Ë∑üË∏™Êñá‰ª∂ÂàóË°®‰∏≠Ôºö123456789$ git statusOn branch masterYour branch is up-to-date with 'origin/master'.Untracked files: (use "git add &lt;file&gt;..." to include in what will be committed) READMEnothing added to commit but untracked files present (use "git add" to track)Êú™Ë∑üË∏™ÁöÑÊñá‰ª∂ÊÑèÂë≥ÁùÄGitÂú®‰πãÂâçÁöÑÂø´ÁÖßÔºàÊèê‰∫§Ôºâ‰∏≠Ê≤°ÊúâËøô‰∫õÊñá‰ª∂„ÄÇË∑üË∏™Êñ∞Êñá‰ª∂‰ΩøÁî®ÂëΩ‰ª§ git add ÂºÄÂßãË∑üË∏™Êñá‰ª∂READMEÔºö1$ git add READMEÂÜçËøêË°å git status ÂëΩ‰ª§Ôºå‰ºöÁúãÂà∞ README Êñá‰ª∂Â∑≤Ë¢´Ë∑üË∏™ÔºåÂπ∂Â§Ñ‰∫éÊöÇÂ≠òÁä∂ÊÄÅÔºö1234567$ git statusOn branch masterYour branch is up-to-date with 'origin/master'.Changes to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) new file: READMEÂè™Ë¶ÅÂú® ‚ÄúChanges to be committed‚Äù ËøôË°å‰∏ãÈù¢ÁöÑÔºåÂ∞±ËØ¥ÊòéÊòØÂ∑≤ÊöÇÂ≠òÁä∂ÊÄÅ„ÄÇgit add ÂêéÈù¢ÂèØ‰ª•ÊåáÊòéË¶ÅË∑üË∏™ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïË∑ØÂæÑ„ÄÇÂ¶ÇÊûúÊòØÁõÆÂΩïÁöÑËØùÔºåÂ∞±ËØ¥ÊòéË¶ÅÈÄíÂΩíË∑üË∏™ËØ•ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂„ÄÇÊöÇÂ≠òÂ∑≤‰øÆÊîπÊñá‰ª∂‰øÆÊîπÂ∑≤Ë∑üË∏™ËøáÁöÑÊñá‰ª∂ READMEÔºåÁÑ∂ÂêéÂÜçÊ¨°ËøêË°å git status ÂëΩ‰ª§Ôºö12345678910111213$ git statusOn branch masterYour branch is up-to-date with 'origin/master'.Changes to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) new file: READMEChanges not staged for commit: (use "git add &lt;file&gt;..." to update what will be committed) (use "git checkout -- &lt;file&gt;..." to discard changes in working directory) modified: READMEREADMEÊñá‰ª∂Âá∫Áé∞‰∫Ü‰∏§Ê¨°Ôºå‰∏ÄÊ¨°ÊòØÊú™ÊöÇÂ≠òÔºå‰∏ÄÊ¨°ÊòØ‰∏ÄÊöÇÂ≠ò„ÄÇÂ¶ÇÊûúÁé∞Âú®Êèê‰∫§ÁöÑËØùÔºåÈÇ£‰πàÊèê‰∫§ÁöÑÂ∞ÜÊòØÂ∑≤ÊöÇÂ≠òÁöÑREADMEÔºåÂØπREADMEÁöÑ‰øÆÊîπÂπ∂‰∏ç‰ºöË¢´Êèê‰∫§„ÄÇÈáçÊñ∞ËøêË°å git add ÊääÊúÄÊñ∞ÁâàÊú¨READMEÈáçÊñ∞ÊöÇÂ≠òËµ∑Êù•Ôºö12345678$ git add README$ git statusOn branch masterYour branch is up-to-date with 'origin/master'.Changes to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) new file: READMEÂøΩÁï•Êüê‰∫õÊñá‰ª∂Â¶ÇÊó•ÂøóÊñá‰ª∂ÔºåÁºñËØëÁºìÂ≠òÊñá‰ª∂Á≠âÊ≤°ÂøÖË¶ÅÁ∫≥ÂÖ•GitÁÆ°ÁêÜÁöÑÊñá‰ª∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™.gitignoreÊñá‰ª∂Êù•Â∞ÜËøô‰∫õÊñá‰ª∂ÊéíÈô§Âú®Â§ñ„ÄÇÊØîÂ¶ÇÔºö123$ cat .gitignore*.[oa]*~Á¨¨‰∏ÄË°åÂëäËØâ Git ÂøΩÁï•ÊâÄÊúâ‰ª• .o Êàñ .a ÁªìÂ∞æÁöÑÊñá‰ª∂„ÄÇÁ¨¨‰∫åË°åÂëäËØâ Git ÂøΩÁï•ÊâÄÊúâ‰ª•Ê≥¢Êµ™Á¨¶Ôºà~ÔºâÁªìÂ∞æÁöÑÊñá‰ª∂„ÄÇÊñá‰ª∂ .gitignore ÁöÑÊ†ºÂºèËßÑËåÉÂ¶Ç‰∏ãÔºöÊâÄÊúâÁ©∫Ë°åÊàñËÄÖ‰ª•Ê≥®ÈáäÁ¨¶Âè∑ ÔºÉ ÂºÄÂ§¥ÁöÑË°åÈÉΩ‰ºöË¢´ Git ÂøΩÁï•„ÄÇÂèØ‰ª•‰ΩøÁî®Ê†áÂáÜÁöÑ glob Ê®°ÂºèÂåπÈÖçÔºàglobÊåáshellÁÆÄÂåñÂêéÁöÑÊ≠£ÂàôË°®ËææÂºèÔºâ„ÄÇÂåπÈÖçÊ®°ÂºèÊúÄÂêéË∑üÂèçÊñúÊù†Ôºà/ÔºâËØ¥ÊòéË¶ÅÂøΩÁï•ÁöÑÊòØÁõÆÂΩï„ÄÇË¶ÅÂøΩÁï•ÊåáÂÆöÊ®°Âºè‰ª•Â§ñÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÔºåÂèØ‰ª•Âú®Ê®°ÂºèÂâçÂä†‰∏äÊÉäÂèπÂè∑Ôºà!ÔºâÂèñÂèç„ÄÇÁúã‰∏Ä‰∏™ .gitignore Êñá‰ª∂ÁöÑ‰æãÂ≠êÔºö12345678910111213# Ê≠§‰∏∫Ê≥®Èáä ‚Äì Â∞ÜË¢´ Git ÂøΩÁï•# ÂøΩÁï•ÊâÄÊúâ .a ÁªìÂ∞æÁöÑÊñá‰ª∂*.a# ‰ΩÜ lib.a Èô§Â§ñ!lib.a# ‰ªÖ‰ªÖÂøΩÁï•È°πÁõÆÊ†πÁõÆÂΩï‰∏ãÁöÑ TODO Êñá‰ª∂Ôºå‰∏çÂåÖÊã¨ subdir/TODO/TODO# ÂøΩÁï• build/ ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂build/# ‰ºöÂøΩÁï• doc/notes.txt ‰ΩÜ‰∏çÂåÖÊã¨ doc/server/arch.txtdoc/*.txt# ignore all .txt files in the doc/ directorydoc/**/*.txtÊü•ÁúãÂ∑≤ÊöÇÂ≠òÂíåÊú™ÊöÇÂ≠òÁöÑÊõ¥Êñ∞ÂÜçÊ¨°‰øÆÊîπREADMEÊñá‰ª∂Ôºå‰ΩÜ‰∏çÊ∑ªÂä†Âà∞ÊöÇÂ≠òÂå∫„ÄÇÁé∞Âú®READMEÂ∑≤Áªè‰øÆÊîπ‰∫Ü‰∏§Ê¨°ÔºåÁ¨¨‰∏ÄÊ¨°Ê∑ªÂä†ÂÜÖÂÆπ‚Äúhello git‚ÄùÂπ∂‰∏î‰ΩøÁî® git add Ê∑ªÂä†Âà∞‰∫ÜÊöÇÂ≠òÂå∫„ÄÇÁ¨¨‰∫åÊ¨°Ê∑ªÂä†ÂÜÖÂÆπ‚Äúhello world‚ÄùÔºå‰ΩÜÂπ∂Êú™Ê∑ªÂä†Âà∞ÊöÇÂ≠òÂå∫„ÄÇËã•Ë¶ÅÁúãÂ∑≤ÁªèÊöÇÂ≠òËµ∑Êù•ÁöÑÊñá‰ª∂Âíå‰∏äÊ¨°Êèê‰∫§Êó∂ÁöÑÂø´ÁÖß‰πãÈó¥ÁöÑÂ∑ÆÂºÇÔºåÂèØ‰ª•Áî® git diff --stagedÂëΩ‰ª§Ôºö12345678$ git diff --stageddiff --git a/README b/READMEnew file mode 100644index 0000000..8d0e412--- /dev/null+++ b/README@@ -0,0 +1 @@+hello gitÁõ¥Êé•‰ΩøÁî® git diff ÂëΩ‰ª§Êü•ÁúãÂ∑≤ÊöÇÂ≠òÂíåÊú™ÊöÇÂ≠òÊñá‰ª∂‰πãÈó¥ÁöÑÂ∑ÆÂºÇÔºö12345678$ git diffdiff --git a/README b/READMEindex 8d0e412..05fe86c 100644--- a/README+++ b/README@@ -1 +1,2 @@ hello git+hello worldÂèØÁúãÂà∞ÔºåÂØπ‰∫éREADMEÊñá‰ª∂Êù•ËØ¥ÔºåÊú™ÊöÇÂ≠òÂíåÂ∑≤ÊöÇÂ≠òÊñá‰ª∂Áõ∏ÊØîÔºåÊ∑ªÂä†‰∫Ü‰∏ÄË°å‚Äúhello world‚Äù„ÄÇÊèê‰∫§Êõ¥Êñ∞‰ΩøÁî® git commit -m ÂëΩ‰ª§Êù•Êèê‰∫§Êõ¥Êñ∞Ôºö1234$ git commit -m 'ÂàõÂª∫READMEÊñá‰ª∂ÔºåÂÜÖÂÆπ‰∏∫hello git'[master 1f9882d] ÂàõÂª∫READMEÊñá‰ª∂ÔºåÂÜÖÂÆπ‰∏∫hello git 1 file changed, 1 insertion(+) create mode 100644 READMEË∑≥ËøáÊöÇÂ≠òÂå∫ÂÅáÂ¶Ç‰Ω†ËßâÂæó git add ËøáÁ®ãÁπÅÁêêÔºåÂèØ‰ª•‰ΩøÁî® git commit -a ÂëΩ‰ª§Êù•Ë∑≥ËøáÊ∑ªÂä†Êñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫ÁöÑÊ≠•È™§ÔºåÁõ¥Êé•Êèê‰∫§„ÄÇÊØîÂ¶ÇÔºåÂØπ‰∫éREADMEÁöÑÁ¨¨‰∫åÊ¨°‰øÆÊîπÔºåÊàë‰ª¨ËøòÊú™Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞ÊöÇÂ≠òÂå∫ÔºåÊâÄ‰ª•Á¨¨‰∏ÄÊ¨°‰ΩøÁî® git commit ÂëΩ‰ª§Âè™ÊòØÊèê‰∫§‰∫ÜÂØπREADMEÊñá‰ª∂ÁöÑÁ¨¨‰∏ÄÊ¨°‰øÆÊîπÔºö1234567891011$ git statusOn branch masterYour branch is ahead of 'origin/master' by 1 commit. (use "git push" to publish your local commits)Changes not staged for commit: (use "git add &lt;file&gt;..." to update what will be committed) (use "git checkout -- &lt;file&gt;..." to discard changes in working directory) modified: READMEno changes added to commit (use "git add" and/or "git commit -a")‰ΩøÁî® git commit -a ÂëΩ‰ª§Áõ¥Êé•Â∞ÜREADMEÊñá‰ª∂ÁöÑÁ¨¨‰∫åÊ¨°‰øÆÊîπÊèê‰∫§Âà∞ÁâàÊú¨Â∫ìÔºö123$ git commit -a -m "Ê∑ªÂä†hello world"[master db06721] Ê∑ªÂä†hello world 1 file changed, 1 insertion(+)ÁßªÈô§Êñá‰ª∂ÁßªÈô§Êñá‰ª∂ÂàÜ‰∏∫‰∏§ÁßçÊÉÖÂÜµÔºö‰ªéÁâàÊú¨Â∫ìÂíåÊú¨Âú∞Â∑•‰ΩúÁõÆÂΩï‰∏≠ÁßªÈô§Ôºõ‰ªÖ‰ªéÁâàÊú¨Â∫ìÁßªÈô§„ÄÇ1.‰ªéÁâàÊú¨Â∫ìÂíåÊú¨Âú∞Â∑•‰ΩúÁõÆÂΩï‰∏≠ÁßªÈô§„ÄÇ‰ΩøÁî® git rm ÂëΩ‰ª§Êù•ÁßªÈô§README:123456$ git rm READMErm 'README'$ git commit -m 'Âà†Èô§README'[master 99a0462] Âà†Èô§README 1 file changed, 3 deletions(-) delete mode 100644 READMEÂà∞Êú¨Âú∞Â∑•‰ΩúÁõÆÂΩï‰∏ãÊü•ÁúãÔºå‰ºöÂèëÁé∞READMEÊñá‰ª∂Â∑≤Áªè‰∏çÂ≠òÂú®‰∫Ü„ÄÇËøôÈáåÊúâÁßçÊÉÖÂÜµÔºåÂÅáÂ¶ÇREADMEÊñá‰ª∂ËøòÂú®ÊöÇÂ≠òÂå∫Âπ∂Êú™Êèê‰∫§Ôºå‰ΩøÁî® git rm ÂëΩ‰ª§Â∞Ü‰ºöÂá∫ÈîôÔºö1234$ git rm READMEerror: the following file has changes staged in the index: README(use --cached to keep the file, or -f to force removal)GitÊèêÁ§∫Êàë‰ª¨‰ΩøÁî® git rm -f ÂëΩ‰ª§Êù•Âà†Èô§„ÄÇ12$ git rm -f temp.logrm 'temp.log'2.‰ªÖ‰ªéÁâàÊú¨Â∫ìÁßªÈô§„ÄÇÊØîÂ¶ÇÁé∞Âú®‰∏çÂ∞èÂøÉÂ∞Ütemp.logÊñá‰ª∂Ê∑ªÂä†Âπ∂Êèê‰∫§Âà∞ÁâàÊú¨Â∫ì‰∏≠‰∫ÜÔºö12345$ git add temp.log$ git commit -m "add temp.log"[master fa31ea5] add temp.log 1 file changed, 0 insertions(+), 0 deletions(-) create mode 100644 temp.logÁé∞Âú®ÊÉ≥Â∞ÜÂÖ∂‰ªéÁâàÊú¨Â∫ì‰∏≠Âà†Èô§Ôºå‰ΩÜÂπ∂‰∏çÂà†Èô§Êú¨Âú∞Êñá‰ª∂ÔºåËÄåÊòØÈöèÂêéÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞.gitignoreÊñá‰ª∂‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§git rm --cachedÔºö1234567$ git rm --cached temp.logrm 'temp.log'$ git commit -m "delete temp.log"[master e512a82] delete temp.log 1 file changed, 0 insertions(+), 0 deletions(-) delete mode 100644 temp.logÁßªÂä®Êñá‰ª∂ÔºàÈáçÂëΩÂêçÔºâgit mv ÂëΩ‰ª§Áî®Êù•ÈáçÂëΩÂêçÊñá‰ª∂ÔºåÊØîÂ¶ÇÂ∞ÜREAMEÊñá‰ª∂ÈáçÂëΩÂêç‰∏∫README.configÔºö123456789$ git mv README README.config$ git statusOn branch masterYour branch is ahead of 'origin/master' by 7 commits. (use "git push" to publish your local commits)Changes to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) renamed: README -&gt; README.configÂÖ∂ËøáÁ®ãÁ±ª‰ºº‰∫éÔºö123$ mv README README.config$ git rm README$ git add README.config„ÄäPro Git„ÄãÂ≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Áà∂Â≠êÈ°µÈù¢ÂÖÉÁ¥†ÁöÑËé∑Âèñ‰∏éÊñπÊ≥ïÁöÑË∞ÉÁî®[ËΩ¨]]]></title>
    <url>%2F%E7%88%B6%E5%AD%90%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0%E7%9A%84%E8%8E%B7%E5%8F%96%E4%B8%8E%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8.html</url>
    <content type="text"><![CDATA[javaScriptÂ≠êÈ°µÈù¢Ë∞ÉÁî®Áà∂È°µÈù¢ÊñπÊ≥ïÔºöÊ†ºÂºèÔºöparent.Áà∂È°µÈù¢ÊñπÊ≥ïÂÆû‰æãÔºöparent.pClick(); // pClick ‰∏∫Áà∂È°µÈù¢ js ÊñπÊ≥ïÂ≠êÈ°µÈù¢Ëé∑ÂèñÁà∂È°µÈù¢ÂÖÉÁ¥†ÔºöÊ†ºÂºèÔºöwindow.parent.document.getElementById(‚ÄúÁà∂Á™óÂè£ÂÖÉÁ¥†ID‚Äù);ÂÆû‰æãÔºöwindow.parent.document.getElementById(‚ÄúpBtnOk‚Äù);// pBtnOk‰∏∫Áà∂È°µÈù¢Ê†áÁ≠æ idjQueryÁà∂È°µÈù¢Ëé∑ÂèñÂ≠êÈ°µÈù¢ÂÖÉÁ¥†ÔºöÊ†ºÂºèÔºö$(‚Äú#iframeÁöÑID‚Äù).contents().find(‚Äú#iframe‰∏≠ÁöÑÊéß‰ª∂ID‚Äù).click();ÂÆû‰æãÔºö$(‚Äú#ifm‚Äù).contents().find(‚Äú#iBtnOk‚Äù).click(); // ifm ‰∏∫ &lt;iframe&gt; Ê†áÁ≠æ id; iBtnOk ‰∏∫Â≠êÈ°µÈù¢ÊåâÈíÆ idÁà∂È°µÈù¢Ë∞ÉÁî®Â≠êÈ°µÈù¢ÊñπÊ≥ïÔºöÊ†ºÂºèÔºö$(‚Äú#iframeÁöÑID‚Äù)[0].contentWindow.iframeÊñπÊ≥ï();ÂÆû‰æãÔºö$(‚Äú#ifm‚Äù)[0].contentWindow().iClick(); // ifm ‰∏∫ &lt;iframe&gt; Ê†áÁ≠æ id; iClick‰∏∫Â≠êÈ°µÈù¢ js ÊñπÊ≥ïÂ≠êÈ°µÈù¢Ëé∑ÂèñÁà∂È°µÈù¢ÂÖÉÁ¥†ÔºöÊ†ºÂºèÔºö$(‚Äú#Áà∂È°µÈù¢ÂÖÉÁ¥†id‚Äù , parent.document);ÂÆû‰æãÔºö$(‚Äú#pBtnOk‚Äù , parent.document).click(); // pBtnOk ‰∏∫Áà∂È°µÈù¢Ê†áÁ≠æ idËΩ¨Ëá™http://www.cnblogs.com/it-xcn/p/5896231.html]]></content>
      <tags>
        <tag>JavaScript</tag>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3È¢úËâ≤Â±ûÊÄß]]></title>
    <url>%2FCSS3%E9%A2%9C%E8%89%B2%E5%B1%9E%E6%80%A7.html</url>
    <content type="text"><![CDATA[opacityopacityÁî®Êù•ËÆæÁΩÆÂÖÉÁ¥†ÁöÑÈÄèÊòéÂ∫¶„ÄÇÂèñÂÄºËåÉÂõ¥‰∏∫0~1Ôºå0Ë°®Á§∫ÂÆåÂÖ®ÈÄèÊòéÔºå1Ë°®Á§∫‰∏çÈÄèÊòé„ÄÇRGBARGBAÊòØÂú®RGBÂü∫Á°Ä‰∏äÂ¢ûÂä†‰∫ÜÊéßÂà∂alphaÈÄèÊòéÂ∫¶ÁöÑÂèÇÊï∞„ÄÇÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1rgba(R,G,B,A)ÂèÇÊï∞Ëß£Êûê:Ôºà1ÔºâR(red)ÔºöÁ∫¢Ëâ≤ÂÄº„ÄÇÊ≠£Êï¥Êï∞ | ÁôæÂàÜÊï∞„ÄÇÔºà2ÔºâG(green)ÔºöÁªøËâ≤ÂÄº„ÄÇÊ≠£Êï¥Êï∞ | ÁôæÂàÜÊï∞„ÄÇÔºà3ÔºâB(blue)ÔºöËìùËâ≤ÂÄº„ÄÇÊ≠£Êï¥Êï∞ | ÁôæÂàÜÊï∞„ÄÇÔºà4ÔºâA(Alpha)ÔºöAlphaÈÄèÊòéÂ∫¶ÔºåÂèñÂÄº0~1‰πãÈó¥„ÄÇR„ÄÅG„ÄÅB‰∏â‰∏™ÂèÇÊï∞ÁöÑÊ≠£Êï¥Êï∞ÂèñÂÄºÊòØ0-255ÔºåÁôæÂàÜÊØîÂèñÂÄºÊòØ0.0% - 100.0%„ÄÇÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑèÁöÑÊòØÔºåÂπ∂ÈùûÊâÄÊúâÁöÑÊµèËßàÂô®ÈÉΩÊîØÊåÅÁôæÂàÜÊï∞ÂèÇÊï∞ÂÄº„ÄÇÁÆÄÂçïÁ§∫‰æãÂ¶Ç‰∏ãÔºöSee the Pen rgba by wuyouzhuguli (@mrbird) on CodePen.HSL()HSLÂ∞±ÊòØËâ≤Ë∞É(Hue)„ÄÅÈ•±ÂíåÂ∫¶(Saturation)Âíå‰∫ÆÂ∫¶(Lightness)ÁöÑÁº©ÂÜô„ÄÇÈÄöËøá‰∏â‰∏™È¢úËâ≤ÈÄöÈÅìÁöÑÂè†Âä†ÂÆûÁé∞Ë∞ÉËäÇÈ¢úËâ≤ÁöÑÂäüËÉΩ„ÄÇHÔºö0(Êàñ360)Ë°®Á§∫Á∫¢Ëâ≤Ôºå120Ë°®Á§∫ÁªøËâ≤Ôºå240Ë°®Á§∫ËìùËâ≤Ôºå‰πüÂèØÂèñÂÖ∂‰ªñÊï∞ÂÄºÊù•ÊåáÂÆöÈ¢úËâ≤„ÄÇÂèñÂÄº‰∏∫Ôºö0 - 360„ÄÇSÔºöÂèñÂÄº‰∏∫Ôºö0.0% - 100.0%Ôºõ0% ÊÑèÂë≥ÁùÄÁÅ∞Ëâ≤ÔºåËÄå 100% ÊòØÂÖ®ÂΩ©„ÄÇLÔºöÂèñÂÄº‰∏∫Ôºö0.0% - 100.0%Ôºõ0% ÊòØÈªëËâ≤Ôºå100% ÊòØÁôΩËâ≤„ÄÇHSLA()HSLA()Âú®HSL()Âü∫Á°Ä‰∏äÂ¢ûÂä†‰∫Ü‰∏Ä‰∏™ÈÄèÊòéÂ∫¶ÊïàÊûú„ÄÇcurrentColorÊ≠§Â±ûÊÄß‰ª£Ë°®ÂΩìÂâçÂÖÉÁ¥†Ë¢´Â∫îÁî®‰∏äÁöÑcolorÈ¢úËâ≤ÂÄºÔºå‰πüÂèØ‰ª•ËØ¥ÂΩìÂâçÂÖÉÁ¥†ÁöÑÊñáÊú¨È¢úËâ≤ÂÄº„ÄÇ‰æãÂ¶ÇÔºöSee the Pen currentColor by wuyouzhuguli (@mrbird) on CodePen.ÂèÇËÄÉËá™ËöÇËöÅÈÉ®ËêΩ]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3ÊñáÊú¨Â±ûÊÄß]]></title>
    <url>%2FCSS3%E6%96%87%E6%9C%AC%E5%B1%9E%E6%80%A7.html</url>
    <content type="text"><![CDATA[text-shadowËØ•Â±ûÊÄßÁî®‰∫éËÆæÁΩÆÊñáÂ≠óÈò¥ÂΩ±ÊïàÊûúÔºåÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1text-shadow:[È¢úËâ≤ xËΩ¥ yËΩ¥ Ê®°Á≥äÂçäÂæÑ],[È¢úËâ≤ xËΩ¥ yËΩ¥ Ê®°Á≥äÂçäÂæÑ]...ËØ≠Ê≥ïÊ≥®Èáä:Ôºà1ÔºâÈ¢úËâ≤ÔºöË°®Á§∫Èò¥ÂΩ±ÁöÑÈ¢úËâ≤ÂÄº„ÄÇÔºà2ÔºâxËΩ¥ÔºöÊ∞¥Âπ≥ÊñπÂêëÁöÑÂÅèÁßªÈáèÔºåÂçï‰ΩçÊòØÂÉèÁ¥†„ÄÇÔºà3ÔºâyËΩ¥ÔºöÂûÇÁõ¥ÊñπÂêëÁöÑÂÅèÁßªÈáèÔºåÂçï‰ΩçÊòØÂÉèÁ¥†„ÄÇÔºà4ÔºâÊ®°Á≥äÂçäÂæÑÔºöÈò¥ÂΩ±ÁöÑÂΩ±ÂìçËåÉÂõ¥Ôºå‰∏çËÉΩ‰∏∫Ë¥üÂÄºÔºåÂÄºË∂äÂ§ßË∂äÊ®°Á≥ä„ÄÇ‰ª£Á†ÅÂÆû‰æãÔºöxËΩ¥ÂÅèÁßªÈáèÊºîÁ§∫ÔºöSee the Pen text-shadow by wuyouzhuguli (@mrbird) on CodePen.Â§öÂ±ÇÈò¥ÂΩ±:ÊâÄË∞ìÂ§öÂ±ÇÂºïÁî®ÔºåÂ∞±ÊòØÁªôÊñáÂ≠óÊñΩÂä†Â§ö‰∏™Èò¥ÂΩ±Ê†∑ÂºèÂç≥ÂèØÔºå‰πãÈó¥Áî®ÈÄóÂè∑ÂàÜÈöî„ÄÇtext-stroketext-strokeÂ±ûÊÄßÂèØ‰ª•ËÆæÁΩÆÊñáÂ≠óÁöÑÊèèËæπÊïàÊûú„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1text-strokeÔºö[ text-stroke-width ] || [ text-stroke-color ]ËØ≠Ê≥ïÊ≥®ÈáäÔºöÔºà1Ôºâtext-stroke-widthÔºöËÆæÁΩÆÂÖÉÁ¥†‰∏≠ÊñáÊú¨ÁöÑÊèèËæπÂéöÂ∫¶„ÄÇÔºà2Ôºâtext-stroke-colorÔºöËÆæÁΩÆÂÖÉÁ¥†‰∏≠ÊñáÊú¨ÁöÑÊèèËæπÈ¢úËâ≤„ÄÇ‰ª£Á†ÅÂÆû‰æãÔºöSee the Pen text-stroke by wuyouzhuguli (@mrbird) on CodePen.text-strokeÊòØ‰∏Ä‰∏™Â§çÂêàÂ±ûÊÄßÔºå‰πüÂèØ‰ª•Â∞ÜÂÆÉ‰ª¨ÊãÜÂºÄÂçïÁã¨ËÆæÁΩÆÔºöSee the Pen text-stroke1 by wuyouzhuguli (@mrbird) on CodePen.text-overflowËØ•Â±ûÊÄßÁî®‰∫éÊéßÂà∂ÊñáÊú¨Ê∫¢Âá∫Ê†∑ÂºèÔºåÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1text-overflowÔºöclip | ellipsisËØ≠Ê≥ïÊ≥®ÈáäÔºöÔºà1ÔºâclipÔºöÊ≠§Â±ûÊÄßÂÄºË°®Á§∫Áõ¥Êé•Ë£ÅÂàáÔºåÂπ∂‰∏çÊòæÁ§∫ÁúÅÁï•Ê†áËÆ∞(‚Ä¶)„ÄÇÔºà2ÔºâellipsisÔºöÊ≠§Â±ûÊÄßÂèØ‰ª•ËÆæÁΩÆÂΩìÊñáÊú¨Ê∫¢Âá∫Êó∂Â∞ÜÊòæÁ§∫ÁúÅÁï•Ê†áËÆ∞(‚Ä¶)„ÄÇÈúÄË¶Å‰∏éoverflow:hiddenÂíåwhite-space:nowrapÈÖçÂêà‰ΩøÁî®ÊâçËÉΩÂ§üÁîüÊïà„ÄÇ‰ª£Á†ÅÂÆû‰æãÔºöSee the Pen text-overflow by wuyouzhuguli (@mrbird) on CodePen.text-fill-colorËÆæÁΩÆÊñáÂ≠óÁöÑÂ°´ÂÖÖÈ¢úËâ≤ÔºåÂêåÊó∂ËÆæÁΩÆtext-fill-colorÂíåcolorÔºåtext-fill-colorÂ∞Ü‰ºöË¶ÜÁõñcolorÂ±ûÊÄß„ÄÇ‰ª£Á†ÅÂÆû‰æãÔºö‰ΩøÁî®text-fill-colorÂíåtext-strokeÂ±ûÊÄßÊù•Âà∂ÈÄ†ÈïÇÁ©∫ÊñáÂ≠óÊïàÊûúÔºöSee the Pen text-fill-color by wuyouzhuguli (@mrbird) on CodePen.word-wrapËØ•Â±ûÊÄßÊèê‰æõÊç¢Ë°åÁöÑÂäüËÉΩÔºåÂü∫Êú¨ËØ≠Ê≥ïÔºö1word-wrap: normal | break-wordËØ≠Ê≥ïÊ≥®ÈáäÔºöÔºà1ÔºânormalÔºöÈªòËÆ§ÂÄºÔºå‰øùÊåÅÊµèËßàÂô®ÁöÑÈªòËÆ§Â§ÑÁêÜÔºåÂè™Âú®ÂÖÅËÆ∏ÁöÑÊñ≠Â≠óÁÇπÊç¢Ë°åÔºå‰πüÂ∞±ÊòØÈùûËøûÁª≠ÁöÑËã±ÊñáÂ≠óÁ¨¶Êï∞Â≠óÊàñËÄÖÊ±âÂ≠óÂèØ‰ª•ËøõË°åÊç¢Ë°å„ÄÇÔºà2Ôºâbreak-wordÔºöÊ≠§Â±ûÊÄßÂÄºÂèØ‰ª•ÂÆûÁé∞ÂÜÖÂÆπÊç¢Ë°åÔºå‰πüÂ∞±ÊòØÂèØ‰ª•ÂÆûÁé∞Âú®ËæπÁïåÂÜÖÊç¢Ë°åÔºå‰∏çËÉΩÂ§üË∂ÖÂá∫ËæπÁïå„ÄÇ‰ª£Á†ÅÂÆû‰æãÔºöSee the Pen word-wrap by wuyouzhuguli (@mrbird) on CodePen.@font-faceËØ•Â±ûÊÄßÁî®‰∫éÂºïÂÖ•ÁΩëÁªú‰∏≠ÁöÑÂ≠ó‰ΩìÔºåÂü∫Êú¨ËØ≠Ê≥ïÔºö123456@font-face &#123; font-family: &lt;YourWebFontName&gt;; src: &lt;source&gt; [&lt;format&gt;][,&lt;source&gt; [&lt;format&gt;]]*; [font-weight: &lt;weight&gt;]; [font-style: &lt;style&gt;];&#125;ËØ≠Ê≥ïÊ≥®ÈáäÔºöÔºà1ÔºâYourWebFontNameÔºöÂøÖÈúÄÔºåËá™ÂÆö‰πâÂ≠ó‰ΩìÁöÑÂêçÁß∞„ÄÇÔºà2ÔºâsourceÔºöÂøÖÈúÄÔºåËßÑÂÆöËá™ÂÆö‰πâÂ≠ó‰ΩìÁöÑË∑ØÂæÑÔºåÂèØ‰ª•ÊòØÁõ∏ÂØπË∑ØÂæÑ‰πüÂèØ‰ª•ÊòØÁªùÂØπË∑ØÂæÑ„ÄÇÔºà3ÔºâformatÔºöÂèØÈÄâÔºåËßÑÂÆöËá™ÂÆö‰πâÂ≠ó‰ΩìÁöÑÊ†ºÂºèÔºåÁî®Êù•Â∏ÆÂä©ÊµèËßàÂô®ËØÜÂà´Ôºå‰∏ªË¶ÅÁ±ªÂûã:truetype(.ttf)Ôºåopentype(.otf)Ôºåtruetype-aatÔºåembedded-opentype(.eot)Ôºåsvg(.svg)Á≠â„ÄÇÔºà4Ôºâfont-weightÔºöÂèØÈÄâÔºåËßÑÂÆöÂ≠ó‰ΩìÊòØÂê¶‰∏∫Á≤ó‰Ωì„ÄÇÔºà5Ôºâfont-styleÔºöÂèØÈÄâÔºåËßÑÂÆöÂ≠ó‰ΩìÁöÑÊ†∑ÂºèÔºåÊØîÂ¶ÇÊñú‰Ωì„ÄÇ‰ª£Á†ÅÂÆû‰æãÔºö12345678@font-face &#123; font-family: 'MyWebFont'; src: url('webfont.eot'); /* IE9 Compat Modes */ src: url('webfont.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */ url('webfont.woff') format('woff'), /* Modern Browsers */ url('webfont.ttf') format('truetype'), /* Safari, Android, iOS */ url('webfont.svg#svgFontName') format('svg'); /* Legacy iOS */&#125;ÂèÇËÄÉËá™ËöÇËöÅÈÉ®ËêΩ]]></content>
      <tags>
        <tag>CSS3</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeanoteÂçöÂÆ¢Ê∑ªÂä†ËøáÊ∏°Âä®Áîª]]></title>
    <url>%2FLeanote%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB.html</url>
    <content type="text"><![CDATA[‰∏∫‰∫ÜÊèêÈ´òÂçöÂÆ¢Áî®Êà∑‰ΩìÈ™åÔºåÊàë‰ª¨ÂèØ‰ª•‰∏∫ÂÖ∂Ê∑ªÂä†‰∏Ä‰∫õÂä®ÁîªÊïàÊûú„ÄÇËøôÁØáÂçöÊñá‰∏ªË¶Å‰ªãÁªçÂ¶Ç‰ΩïÊ∑ªÂä†È°µÈù¢ÂàáÊç¢Âä®Áîª‰ª•ÂèäÈ°µÈù¢Âä†ËΩΩÂä®Áîª„ÄÇÈúÄË¶ÅÁî®Âà∞ÁöÑÊèí‰ª∂ÔºöAnimsition.jsÔºöhttp://git.blivesta.com/animsition/Loader.cssÔºöhttps://connoratherton.com/loadersÈ°µÈù¢ÂàáÊç¢Âä®ÁîªÈ¶ñÂÖà‰ªéhttps://github.com/blivesta/animsition‰∏ä‰∏ãËΩΩÊèí‰ª∂ÂåÖÔºåËß£ÂéãÂêéÂú®ÂçöÂÆ¢‰∏ªÈ¢ò‰∏≠ÂºïÂÖ•animsition.cssÂíåanimsition.jsÔºö12&lt;script src="&#123;&#123;$.themeBaseUrl&#125;&#125;/animsition.js"&gt;&lt;/script&gt;&lt;link href="&#123;&#123;$.themeBaseUrl&#125;&#125;/animsition.css" rel="stylesheet"&gt;ËøôÈáå‰∏çÂºïÂÖ•ÂéãÁº©ÁâàÁöÑÂéüÂõ†ÊòØ‰∏∫‰∫ÜÊñπ‰æøÂæÖ‰ºö‰øÆÊîπÊ∫êÁ†Å„ÄÇ ÁÑ∂ÂêéÊâæÂà∞ÂçöÂÆ¢‰∏ªÈ¢ò‰∏≠ÁöÑbodyÊ†áÁ≠æÔºåÊ∑ªÂä† class=&quot;animsition&quot;Ôºö1&lt;body class="animsition"&gt;Êé•ÁùÄÊâæÂà∞ÂçöÂÆ¢‰∏ªÈ¢ò‰∏≠ÊâÄÊúâÁöÑaÊ†áÁ≠æÔºåÊ∑ªÂä†class=&quot;animsition-link&quot;„ÄÇ ÊúÄÂêéË∞ÉÁî®AnimsitionÂä®ÁîªÔºö123456789101112131415161718192021$(document).ready(function() &#123; $(".animsition").animsition(&#123; inClass: 'fade-in', outClass: 'fade-out', inDuration: 400, outDuration: 400, linkElement: '.animsition-link', loading: true, loadingParentElement: 'html', loadingClass: 'line-scale-pulse-out-rapid', loadingInner: '', timeout: false, timeoutCountdown: 5000, onLoadEvent: true, browser: [ 'animation-duration', '-webkit-animation-duration'], overlay : false, overlayClass : 'animsition-overlay-slide', overlayParentElement : 'html', transition: function(url)&#123; window.location.href = url; &#125; &#125;); &#125;inClassÂíåoutClassÊåáÂÆö‰∫ÜÈ°µÈù¢ËΩΩÂÖ•ÂíåÁ¶ªÂºÄÊó∂ÂÄôÊâÄÂ±ïÁ§∫ÁöÑÂä®ÁîªÔºåËøôÈáå‰ΩøÁî®Ê∑°ÂÖ•Ê∑°Âá∫ÁöÑÊïàÊûú„ÄÇAnimsitionÊèê‰æõ‰∫ÜËÆ∏Â§öÂä®ÁîªÊïàÊûúÔºåÂèØÊ†πÊçÆËá™Â∑±ÁöÑÂñúÂ•ΩÊõ¥Êç¢„ÄÇinDurationÂíåoutDurationÊåáÂÆö‰∫ÜÂä®ÁîªÁöÑÊåÅÁª≠Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´Áßí„ÄÇlinkElementÊåáÂÆöË∂ÖÈìæÊé•ÂÖÉÁ¥†ÔºåËøôÈáåÊòØÊàë‰ª¨‰∏äÈù¢Ê∑ªÂä†‰∫Üclass=&quot;animsition-link&quot;ÁöÑaÊ†áÁ≠æ„ÄÇÈ°µÈù¢Âä†ËΩΩÂä®ÁîªLoader.cssÊòØ‰∏Ä‰∏™Á∫ØCSSÂä†ËΩΩÂä®ÁîªÊèí‰ª∂„ÄÇAnimsitionÊèí‰ª∂Ëá™Â∏¶ÁöÑÂä†ËΩΩÂä®Áîª‰∏çÂ§™ÁæéËßÇÔºåÊâÄ‰ª•‰ΩøÁî®ËØ•Êèí‰ª∂ÊõøÊç¢„ÄÇ È¶ñÂÖà‰ªéhttps://github.com/ConnorAtherton/loaders.css‰∏ä‰∏ãËΩΩÊèí‰ª∂ÂåÖÔºåËß£ÂéãÂêéÊâìÂºÄloaders.css-master/demo/demo.htmlÂèØÁúãÂà∞ËÆ∏Â§öÁæéËßÇÁöÑÂä†ËΩΩÂä®Áîª„ÄÇÈÄâÊã©‰∏Ä‰∏™Ëá™Â∑±ÂñúÊ¨¢ÁöÑÂä®ÁîªÔºåÁÑ∂ÂêéF12Êü•ÁúãÂÖ∂HTMLÊ∫ê‰ª£Á†ÅÔºåÊØîÂ¶ÇÔºö‰ªéÊ∫êÁ†Å‰∏≠ÂèØÁü•ÈÅìÔºåËøô‰∏™Âä®ÁîªÂØπÂ∫îÁöÑclassÂêçÁß∞‰∏∫line-scale-pulse-out-rapidÁÑ∂Âêé‰øÆÊîπ‰∏ÄÂºÄÂßãÂºïÂÖ•ÁöÑanimsition.jsÔºåÊâæÂà∞Âπ∂‰øÆÊîπaddLoadingÂáΩÊï∞Ôºö12345addLoading: function(n) &#123; var html = '&lt;div class="' + n.loadingClass + '"&gt;'; html += '&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;'; t(n.loadingParentElement).append(html);&#125;,ËøôÈáåloadingClassÂ±ûÊÄßÂêçÁß∞ÊòØÂú® $(&quot;.animsition&quot;).animsition({})ÂáΩÊï∞‰∏≠ÊåáÂÆöÁöÑÔºåÁªÜÂøÉÁöÑ‰Ω†ÂèØËÉΩ‰ºöÂèëÁé∞ÔºåÊàëÂ∑≤ÁªèÂú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Â∞ÜloadingClassÂ±ûÊÄßÂÄºÊåáÂÆö‰∏∫line-scale-pulse-out-rapid‰∫Ü„ÄÇÊé•‰∏ãÊù•‰øÆÊîπanimsition.cssÔºåÊâæÂà∞Âíå.animsition-loadingÊúâÂÖ≥ÁöÑ‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/* loading option */.animsition-loading,.animsition-loading:after &#123; width: 32px; height: 32px; position: fixed; top: 50%; left: 50%; margin-top: -16px; margin-left: -16px; border-radius: 50%; z-index: 100;&#125; .animsition-loading &#123; background-color: transparent; border-top: 5px solid rgba(0, 0, 0, 0.2); border-right: 5px solid rgba(0, 0, 0, 0.2); border-bottom: 5px solid rgba(0, 0, 0, 0.2); border-left: 5px solid #eee; -webkit-transform: translateZ(0); transform: translateZ(0); -webkit-animation-iteration-count:infinite; animation-iteration-count:infinite; -webkit-animation-timing-function: linear; animation-timing-function: linear; -webkit-animation-duration: .8s; animation-duration: .8s; -webkit-animation-name: animsition-loading; animation-name: animsition-loading;&#125; @-webkit-keyframes animsition-loading &#123; 0% &#123; -webkit-transform: rotate(0deg); transform: rotate(0deg); &#125; 100% &#123; -webkit-transform: rotate(360deg); transform: rotate(360deg); &#125;&#125; @keyframes animsition-loading &#123; 0% &#123; -webkit-transform: rotate(0deg); transform: rotate(0deg); &#125; 100% &#123; -webkit-transform: rotate(360deg); transform: rotate(360deg); &#125;&#125;ËøôÊÆµ‰ª£Á†ÅÊòØAnimsitionÊèí‰ª∂Ëá™Â∏¶ÁöÑÂä†ËΩΩÂä®ÁîªÔºåÂ∞ÜÂÖ∂Âà†Èô§„ÄÇÁÑ∂Âêé‰ªéloaders.css-master/loader.css‰∏≠ÊâæÂà∞Âíå.line-scale-pulse-out-rapidÊúâÂÖ≥ÁöÑCSS‰ª£Á†ÅÔºö12345678910111213141516171819202122232425262728293031323334353637383940@-webkit-keyframes line-scale-pulse-out-rapid &#123; 0% &#123; -webkit-transform: scaley(1); transform: scaley(1); &#125; 80% &#123; -webkit-transform: scaley(0.3); transform: scaley(0.3); &#125; 90% &#123; -webkit-transform: scaley(1); transform: scaley(1); &#125; &#125; @keyframes line-scale-pulse-out-rapid &#123; 0% &#123; -webkit-transform: scaley(1); transform: scaley(1); &#125; 80% &#123; -webkit-transform: scaley(0.3); transform: scaley(0.3); &#125; 90% &#123; -webkit-transform: scaley(1); transform: scaley(1); &#125; &#125; .line-scale-pulse-out-rapid &gt; div &#123; background-color: #fff; width: 4px; height: 35px; border-radius: 2px; margin: 2px; -webkit-animation-fill-mode: both; animation-fill-mode: both; display: inline-block; vertical-align: middle; -webkit-animation: line-scale-pulse-out-rapid 0.9s -0.5s infinite cubic-bezier(0.11, 0.49, 0.38, 0.78); animation: line-scale-pulse-out-rapid 0.9s -0.5s infinite cubic-bezier(0.11, 0.49, 0.38, 0.78); &#125;.line-scale-pulse-out-rapid &gt; div:nth-child(2), .line-scale-pulse-out-rapid &gt; div:nth-child(4) &#123; -webkit-animation-delay: -0.25s !important; animation-delay: -0.25s !important; &#125;.line-scale-pulse-out-rapid &gt; div:nth-child(1), .line-scale-pulse-out-rapid &gt; div:nth-child(5) &#123; -webkit-animation-delay: 0s !important; animation-delay: 0s !important; &#125;Â∞ÜËøôÊÆµ‰ª£Á†ÅÊ∑ªÂä†Âà∞animsition.css‰∏≠„ÄÇËøôÈáå.line-scale-pulse-out-rapid &gt; div ÁöÑËÉåÊôØËâ≤ÊòØÁôΩËâ≤ÁöÑÔºàbackground-color: #fffÔºâÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÂ∞ÜÂÖ∂‰øÆÊîπ‰∏∫Ëá™Â∑±ÈúÄË¶ÅÁöÑÈ¢úËâ≤ÔºåÊØîÂ¶ÇÂçö‰∏ªÂ∞ÜÂÖ∂ÊõøÊç¢‰∏∫ÊµÖÁªøËâ≤Ôºö1234.line-scale-pulse-out-rapid &gt; div &#123; background-color: #6db33f; ...&#125;ÊúÄÂêé‰∏ÄÊ≠•ÔºåÊàë‰ª¨ÈúÄË¶Å‰øÆÊîπÂä†ËΩΩÂä®ÁîªÊ®°ÂùódivÁöÑÂÆö‰ΩçÊñπÂºè‰∏∫Âõ∫ÂÆöÂÆö‰ΩçÂπ∂‰∏îÂ±Ö‰∏≠Ôºö12345.line-scale-pulse-out-rapid &#123; position: fixed; top: 50%; left: 50%&#125;Â∞Ü‰∏äÈù¢ÁöÑÊ≠•È™§‰æùÊ¨°ÂÅöÂÆåÂêéÔºåÂú®Âä†ËΩΩÂåÖÂê´ËæÉÂ§öÂõæÁâáÁöÑÂçöÂÆ¢ÊàñËÄÖÁΩëÁªú‰∏ç‰Ω≥ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁöÑÂä†ËΩΩÂä®ÁîªÔºöAnimsitionÊèí‰ª∂ËøòÊúâÊ∑ªÂä†Ë¶ÜÁõñÁâ©overlayÂäüËÉΩÔºåÂçö‰∏ªÊ≤°Êúâ‰ΩøÁî®Ëøô‰∏™ÂäüËÉΩÔºåÊâÄ‰ª•‰∏çÂÜç‰ªãÁªçÔºåÂÖ∑‰ΩìÂèØÊü•ÈòÖÂÆòÊñπAPI„ÄÇ]]></content>
      <tags>
        <tag>Leanote</tag>
        <tag>theme</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git‰ΩøÁî®ÂÖ•Èó®]]></title>
    <url>%2FGit%E4%BD%BF%E7%94%A8%E5%85%A5%E9%97%A8.html</url>
    <content type="text"><![CDATA[ÂáÜÂ§áGitÁéØÂ¢ÉÈ¶ñÂÖàÂú®ubuntu‰∏≠Êü•ÁúãÊòØÂê¶ÂÆâË£Ö‰∫ÜGitÔºö123$ gitThe program 'git' is currently not installed. You can install it by typing:sudo apt install gitlinuxÊèêÁ§∫Â∞öÊú™ÂÆâË£ÖGitÔºåÂπ∂Êèê‰æõ‰∫ÜÂÆâË£ÖÁöÑÊåá‰ª§Ôºösudo apt install git„ÄÇÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®GitÈúÄË¶ÅËÆæÁΩÆ‰∏™‰∫∫‰ø°ÊÅØÔºåÂ¶ÇÁî®Êà∑ÂêçÈÇÆÁÆ±Á≠âÔºö12$ git config --global user.name "mrbird"$ git config --global user.email "mrbird@leanote.com"ÂàõÂª∫GitÈ°πÁõÆÈ¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™projectsÁõÆÂΩïÔºåÁÑ∂ÂêéÂú®projects‰∏ãÂàõÂª∫first-projectÈ°πÁõÆÔºåÂåÖÂê´foo.txtÂíåbar.txt‰∏§‰∏™Êñá‰ª∂Ôºö12345678910111213$ mkdir projects$ cd projects/$ mkdir first-project$ cd first-project/$ vi foo.txt$ vi bar.txt$ tree -A projects/projects/‚îî‚îÄ‚îÄ first-project ‚îú‚îÄ‚îÄ bar.txt ‚îî‚îÄ‚îÄ foo.txt 1 directory, 2 filesÂàõÂª∫ÁâàÊú¨Â∫ìÈ¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®first-project‰∏ãÂàõÂª∫‰∏Ä‰∏™GitÁâàÊú¨Â∫ìÔºåÁî®‰∫éÂ≠òÂÇ®È°πÁõÆÊú¨Ë∫´ÂèäÂÖ∂ÂéÜÂè≤„ÄÇÂØπ‰∫é‰∏Ä‰∏™Â∏¶ÊúâÁâàÊú¨Â∫ìÁöÑÈ°πÁõÆÁõÆÂΩïÔºå‰∏ÄËà¨Áß∞‰πã‰∏∫Â∑•‰ΩúÂå∫„ÄÇ123$ cd first-project/$ git initInitialized empty Git repository in /home/mrbird/projects/first-project/.git/ÂÜçÊ¨°‰ΩøÁî®treeÂëΩ‰ª§Â∞±ÂèØ‰ª•ÁúãÂà∞ÔºåÂú®first-projectÁõÆÂΩï‰∏ãÂ§ö‰∫Ü‰∏™.gitÈöêËóèÁõÆÂΩïÔºåËØ•ÁõÆÂΩïÂ∞±ÊòØGitÁî®‰∫éË∑üË∏™Âπ∂ÁÆ°ÁêÜÁâàÊú¨Â∫ìÁî®ÁöÑÔºö1234567$ tree -aA projects/projects/‚îî‚îÄ‚îÄ first-project ‚îú‚îÄ‚îÄ bar.txt ‚îú‚îÄ‚îÄ foo.txt ‚îî‚îÄ‚îÄ .git...È¶ñÊ¨°Êèê‰∫§Êé•‰∏ãÊù•ÔºåÈúÄË¶ÅÂ∞Üfoo.txtÂíåbar.txtÊ∑ªÂä†Âà∞ÁâàÊú¨Â∫ì‰∏≠Âéª„ÄÇÂú®Git‰∏≠ÔºåÈÄöÂ∏∏Â∞ÜÈ°πÁõÆÁöÑ‰∏Ä‰∏™ÁâàÊú¨Áß∞‰πã‰∏∫‰∏ÄÊ¨°Êèê‰∫§„ÄÇÊèê‰∫§ÂàÜ‰∏∫‰∏§‰∏™Ê≠•È™§Ôºö‰ΩøÁî®git addÂëΩ‰ª§Êù•Á°ÆÂÆö‰∏ãÊ¨°Êèê‰∫§ÂâçÂ∫îËØ•ÂåÖÂê´ÁöÑÊñá‰ª∂Ôºõ‰ΩøÁî®git commitÂëΩ‰ª§Â∞ÜËøô‰∫õÊñá‰ª∂‰º†ÈÄÅÂà∞ÁâàÊú¨Â∫ì‰∏≠ÔºåÂπ∂ÁîüÊàêÊï£ÂàóÂÄº‰ª•Ê†áËØÜËøôÊ¨°Êõ¥Êñ∞„ÄÇ123456$ git add foo.txt bar.txt $ git commit -m "add foo.txt bar.txt"[master (root-commit) c2e4810] add foo.txt bar.txt 2 files changed, 0 insertions(+), 0 deletions(-) create mode 100644 bar.txt create mode 100644 foo.txtÊ£ÄÊü•Áä∂ÊÄÅÁé∞Âú®Â∞Üfirst-projectÁõÆÂΩï‰∏ãÁöÑbar.txtÊñá‰ª∂Âà†Èô§ÔºåÊ∑ªÂä†bar.htmlÊñá‰ª∂Ôºå‰øÆÊîπfoo.txtÊñá‰ª∂ÂÜÖÂÆπ„ÄÇÁÑ∂Âêé‰ΩøÁî®git statusÂëΩ‰ª§Êü•ÁúãÁä∂ÊÄÅÔºö123456789101112131415$ git statusOn branch masterChanges not staged for commit: (use "git add/rm &lt;file&gt;..." to update what will be committed) (use "git checkout -- &lt;file&gt;..." to discard changes in working directory) deleted: bar.txt modified: foo.txt Untracked files: (use "git add &lt;file&gt;..." to include in what will be committed) bar.html no changes added to commit (use "git add" and/or "git commit -a")Âõ†‰∏∫ËøòÊ≤°Êúâ‰ΩøÁî®git addÂëΩ‰ª§Â∞Übar.htmlÊ∑ªÂä†Âà∞ÁâàÊú¨Â∫ìÔºåÊâÄ‰ª•ÊòæÁ§∫‰∏∫Êú™Ë∑üË∏™Áä∂ÊÄÅÔºàUntrackedÔºâ„ÄÇ Êàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®git diffÂëΩ‰ª§Êù•Êü•ÁúãË¢´‰øÆÊîπÁöÑÊñá‰ª∂ÂÖ∑‰Ωì‰øÆÊîπ‰∫ÜÂï•Ôºö1234567$ git diff foo.txtdiff --git a/foo.txt b/foo.txtindex e69de29..3f9a7b1 100644--- a/foo.txt+++ b/foo.txt@@ -0,0 +1 @@+foo fileÂèØ‰ª•ÁúãÂá∫Ôºåfoo.txtÊñá‰ª∂Ê∑ªÂä†‰∫Ü‰∏ÄË°åÂÜÖÂÆπÔºöfoo file„ÄÇÊèê‰∫§‰øÆÊîπÂ∞Ü‰∏äËø∞ÁöÑ‰øÆÊîπÂΩíÊ°£Êàê‰∏ÄÊ¨°Êñ∞ÁöÑÊèê‰∫§ÔºåÂç≥Ê∑ªÂä†foo.txtÂíåÊñ∞Êñá‰ª∂bar.htmlÔºåÂà†Èô§bar.txtÔºö123$ git add foo.txt bar.html $ git rm bar.txt rm 'bar.txt'ÂÜçÊ¨°‰ΩøÁî®git statusÂëΩ‰ª§Êü•ÁúãÂΩìÂâçÁä∂ÊÄÅÔºö12345678$ git statusOn branch masterChanges to be committed: (use "git reset HEAD &lt;file&gt;..." to unstage) new file: bar.html deleted: bar.txt modified: foo.txtËøôÊó∂ÂÄôÊàë‰ª¨Â∞±ÂèØ‰ª•ÊîæÂøÉÁöÑ‰ΩøÁî®git commitÊù•Êèê‰∫§Ëøô‰∫õ‰øÆÊîπÔºö12345$ git commit -m "add bar.html,modify foo.txt,delete bar.txt"[master 94418b1] add bar.html,modify foo.txt,delete bar.txt 3 files changed, 2 insertions(+) create mode 100644 bar.html delete mode 100644 bar.txtÊòæÁ§∫ÂéÜÂè≤‰ΩøÁî®git logÂëΩ‰ª§ÂèØ‰ª•Êü•ÁúãÊâÄÊúâÊèê‰∫§ÁöÑÂéÜÂè≤ÔºåÂπ∂ÊåâÊó∂Èó¥È°∫Â∫èÂÄíÂ∫èÊéíÂàóÔºö123456789101112$ git logcommit 94418b10e64f46bc4f48049037fadcb12efc5d10Author: mrbird &lt;mrbird@leanote.com&gt;Date: Sat May 27 14:09:51 2017 +0800 add bar.html,modify foo.txt,delete bar.txt commit c2e48100c4f2fc8afaed2b1cac90deaf6a7e34ecAuthor: mrbird &lt;mrbird@leanote.com&gt;Date: Sat May 27 11:08:29 2017 +0800 add foo.txt bar.txtGitÂçè‰ΩúÂäüËÉΩÂÅáÂ¶ÇÁé∞Âú®ËøòÊúâÂè¶Â§ñ‰∏Ä‰ΩçÂºÄÂèëËÄÖ‰πüÂèÇ‰∏éÂºÄÂèëfirst-projectËøô‰∏™È°πÁõÆÔºå‰∏∫‰∫ÜÊñπ‰æøÂÆûÈ™åÔºåÁé∞Âú®Âú®projectsÁõÆÂΩï‰∏ãÂºÄËæüÂè¶Â§ñ‰∏Ä‰∏™Â∑•‰ΩúÂå∫first-project-cloneÔºå‰æõÁ¨¨‰∫å‰ΩçÂºÄÂèëËÄÖ‰ΩøÁî®„ÄÇÂÖãÈöÜÁâàÊú¨Â∫ìÁé∞‰ΩøÁî®git cloneÊù•ÂÖãÈöÜfirst-projectÔºåËØ•ÁâàÊú¨Â∫ìÂâØÊú¨ÂåÖÂê´‰∫ÜÊâÄÊúâÂéüÂßã‰ø°ÊÅØÂíåÊï¥‰∏™È°πÁõÆÁöÑÂéÜÂè≤‰ø°ÊÅØÔºö123$ git clone projects/first-project/ projects/first-project-cloneCloning into 'projects/first-project-clone'...done.ÂÖãÈöÜÂêéÔºåËßÇÂØüÈ°πÁõÆÁªìÊûÑÔºö123456789101112$ tree -aA projects/projects/‚îú‚îÄ‚îÄ first-project‚îÇ ‚îú‚îÄ‚îÄ bar.html‚îÇ ‚îú‚îÄ‚îÄ foo.txt‚îÇ ‚îî‚îÄ‚îÄ .git‚îÇ ‚îú‚îÄ‚îÄ ...‚îî‚îÄ‚îÄ first-project-clone ‚îú‚îÄ‚îÄ bar.html ‚îú‚îÄ‚îÄ foo.txt ‚îî‚îÄ‚îÄ .git ‚îú‚îÄ‚îÄ ...‰ªéÂè¶‰∏Ä‰∏™ÁâàÊú¨Â∫ì‰∏≠Ëé∑Âèñ‰øÆÊîπÁé∞Âú®ÔºåÂú®first-project/foo.txtÊñá‰ª∂‰∏≠ÊèíÂÖ•‰∏ÄË°å‰ø°ÊÅØ‚Äùhello world,hello git‚ÄùÔºåÂπ∂‰∏îÊèê‰∫§‰øÆÊîπÔºö123456$ cd projects/first-project$ vi foo.txt $ git add foo.txt $ git commit -m "modify foo.txt in original"[master 8e1b132] modify foo.txt in original 1 file changed, 1 insertion(+)ÂêåÊó∂‰øÆÊîπÂÖãÈöÜÁâàÊú¨Â∫ìfirst-project-clone‰∏≠ÁöÑbar.htmlÔºåÂπ∂‰∏îÊèê‰∫§‰øÆÊîπÔºö1234$ git add bar.html$ git commit -m "modify bar.html in clone"[master 796e40d] modify bar.html in clone 1 file changed, 1 insertion(+)Áé∞Âú®ÔºåÊñ∞ÁöÑÊèê‰∫§Â∑≤ÁªèË¢´Â≠òÂÖ•Âà∞‰∫Üfirst-projectÁâàÊú¨Â∫ì‰∏≠Ôºå‰ΩÜÊòØÂÖ∂ÂÖãÈöÜÁâàÊú¨Â∫ìfirst-project-cloneÂπ∂Ê≤°ÊúâÂèñÂæóËøôÊ¨°‰øÆÊîπÔºàÂç≥foo.txtËøòÊòØ‰øùÊåÅÂéüÊ†∑Ôºâ„ÄÇÂ¶ÇÊûúÂÖãÈöÜÁâàÊú¨Â∫ì‰πüË¶ÅËé∑ÂèñÂéüÁâàÊú¨Â∫ì‰∏≠ÁöÑ‰øÆÊîπÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®git pullÂëΩ‰ª§Êù•Ëé∑ÂèñÔºö12345678910111213141516$ cd ../first-project-clone/$ cat foo.txt foo file$ git pullremote: Counting objects: 3, done.remote: Compressing objects: 100% (2/2), done.remote: Total 3 (delta 0), reused 0 (delta 0)Unpacking objects: 100% (3/3), done.From /home/mrbird/projects/first-project 8e1b132..27b76ec master -&gt; origin/masterMerge made by the 'recursive' strategy. foo.txt | 1 + 1 file changed, 1 insertion(+)$ cat foo.txt foo filehello world,hello gitÁî±‰∫éÂú®ÂàõÂª∫ÂÖãÈöÜÁâàÊú¨Â∫ìÁöÑÊó∂ÂÄôÔºåÂéüÁâàÊú¨Â∫ìÁöÑË∑ØÂæÑÂ∞±Â∑≤ÁªèË¢´Â≠òÂÇ®Âà∞ÂÖãÈöÜÁâàÊú¨Â∫ì‰∏≠‰∫Ü„ÄÇÊâÄ‰ª•Âú®ÂÖãÈöÜÁâàÊú¨Â∫ì‰∏≠‰ΩøÁî®git pullÂëΩ‰ª§Ôºå‰∏çÂ∏¶Ë∑ØÂæÑÁöÑËØùÔºåÈªòËÆ§Â∞±ÊòØ‰ªéÂéüÁâàÊú¨Â∫ì‰∏≠ÂèñÂõû‰øÆÊîπ„ÄÇ ‰ªéÁªìÊûú‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåGit‰ªéÂéüÁâàÊú¨Â∫ì‰∏≠ÂèñÂõû‰∫Ü‰øÆÊîπÔºå‰∏éÂÖãÈöÜ‰Ωì‰∏≠ÁöÑ‰øÆÊîπËøõË°å‰∫ÜÊØîÂØπÔºåÂπ∂‰∏îÂêàÂπ∂‰∫ÜËøô‰∫õ‰øÆÊîπ„ÄÇËøô‰∏™ËøáÁ®ãÁß∞‰∏∫ÂêàÂπ∂ÔºàmergeÔºâ„ÄÇÂú®pullËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÂèëÁîü‰∫ÜÂÜ≤Á™ÅÔºåÊØîÂ¶Ç‰∏§‰ΩçÂºÄÂèëËÄÖÂêåÊó∂ÂØπfoo.txtÊñá‰ª∂ËøõË°å‰∫Ü‰øÆÊîπÔºåGit‰∏ç‰ºöËá™Âä®ÂéªÂ§ÑÁêÜËøô‰∫õÂÜ≤Á™ÅÔºåÂøÖÈ°ªÊâãÂä®ÂéªÂÅö‰øÆÊîπ„ÄÇÂú®pullÂèñÂõû‰øÆÊîπÔºåÂπ∂‰∏îmergeÂêàÂπ∂‰πãÂêéÔºåÂèØ‰ª•‰ΩøÁî®git log --graphÂëΩ‰ª§Êù•Êü•ÁúãÂõæÂΩ¢ÂåñÊó•ÂøóÔºö12345678 $ git log --graph --oneline * 8747b24 Merge branch 'master' of /home/mrbird/projects/first-project|\ | * 27b76ec modify foo.txt in original* | 796e40d modify bar.html in clone|/ * 94418b1 add bar.html,modify foo.txt,delete bar.txt* c2e4810 add foo.txt bar.txt‰ªé‰∏äÈù¢ÂèØ‰ª•Ê∏ÖÊô∞ÁöÑÁúãÂá∫ÔºåÂàÜÊîØÂêàÂπ∂ÁöÑÊÉÖÂÜµ„ÄÇ‰ªé‰ªªÊÑèÁâàÊú¨Â∫ì‰∏≠ÂèñÂõû‰øÆÊîπgit pullÂ∏¶‰∏ä‰ªìÂ∫ìË∑ØÂæÑÁöÑËØùÂ∞±ÂèØ‰ª•‰ªé‰ªªÊÑè‰∏Ä‰∏™ÁâàÊú¨Â∫ì‰∏≠ÂèñÂõû‰øÆÊîπ‰∫ÜÔºåÁé∞Âú®Âú®ÂéüÁâàÊú¨Â∫ìfirst-project‰∏≠ÂèñÂõûÂÖ∂ÂÖãÈöÜÁâàÊú¨Â∫ìfirst-project-cloneÂØπbar.htmlÁöÑ‰øÆÊîπÔºö1234567891011$ git pull ../first-project-clone/remote: Counting objects: 5, done.remote: Compressing objects: 100% (4/4), done.remote: Total 5 (delta 0), reused 0 (delta 0)Unpacking objects: 100% (5/5), done.From ../first-project-clone * branch HEAD -&gt; FETCH_HEADUpdating 27b76ec..8747b24Fast-forward bar.html | 1 + 1 file changed, 1 insertion(+)ÂàõÂª∫ÂÖ±‰∫´ÁâàÊú¨Â∫ìÈô§‰∫Ü‰ΩøÁî®git pullÂëΩ‰ª§‰ªéÂà´ÁöÑÁâàÊú¨Â∫ìÂèñÂõû‰øÆÊîπÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®git pushÂëΩ‰ª§Â∞ÜÊú¨Âú∞‰øÆÊîπ‰º†ÈÄÅÁªôÂÖ∂‰ªñÁâàÊú¨Â∫ì„ÄÇ ‰∏çËøáÔºågit pushÂëΩ‰ª§Âè™ÈÄÇÁî®‰∫éÈÇ£‰∫õÊ≤°ÊúâÂºÄÂèëËÄÖÂú®‰∏äÈù¢ÂÖ∑‰ΩìÂ∑•‰ΩúÁöÑÁâàÊú¨Â∫ì„ÄÇÈÄöÂ∏∏ÁöÑÂÅöÊ≥ïÊòØÂàõÂª∫‰∏Ä‰∏™Ê≤°ÊúâÂ∑•‰ΩúÂå∫ÁöÑÁâàÊú¨Â∫ìÔºå‰πüÁß∞‰πã‰∏∫Ë£∏ÁâàÊú¨Â∫ì„ÄÇË£∏ÁâàÊú¨Â∫ìÂ∞±ÊòØÂçïÁ∫ØÁî®‰∫éÂ≠òÊîæÂêÑ‰∏™ÂºÄÂèëËøôÊèê‰∫§ÔºàpushÔºâÁöÑ‰øÆÊîπÔºåÊñπ‰æøÂà´ÁöÑÂºÄÂèëËÄÖÂèñÂõûÔºàpullÔºâËøô‰∫õ‰øÆÊîπ„ÄÇÁé∞‰ΩøÁî®git clone --bareÂëΩ‰ª§Êù•ÂàõÂª∫Ë£∏ÁâàÊú¨Â∫ìÔºö123$ git clone --bare first-project first-project-bareCloning into bare repository 'first-project-bare'...done.‰ΩøÁî®pushÂêëË£∏ÁâàÊú¨Â∫ìÊèê‰∫§‰øÆÊîπÂÜçÊ¨°‰øÆÊîπÂéüÁâàÊú¨Â∫ìfirst-project‰∏≠ÁöÑfoo.txtÊñá‰ª∂ÔºåÂπ∂‰∏îÊèê‰∫§‰øÆÊîπÔºö1234$ git add foo.txt $ git commit -m "modify foo.txt in original again"[master 31e1f6f] modify foo.txt in original again 1 file changed, 1 insertion(+), 1 deletion(-)Áé∞Âú®‰ΩøÁî®git pushÂêëË£∏ÁâàÊú¨Â∫ìÊèê‰∫§ËøôÊ¨°‰øÆÊîπÔºåpushÈúÄË¶ÅÊåáÂÆöÁõÆÊ†áÁâàÊú¨Â∫ìË∑ØÂæÑ‰ª•ÂèäÂÖ∂ÂàÜÊîØ„ÄÇ1234567$ git push ../first-project-bare/ masterCounting objects: 3, done.Compressing objects: 100% (2/2), done.Writing objects: 100% (3/3), 316 bytes | 0 bytes/s, done.Total 3 (delta 0), reused 0 (delta 0)To ../first-project-bare/ 8747b24..31e1f6f master -&gt; masterÂ¶ÇÊûúÂè¶‰∏Ä‰ΩçÂºÄÂèëËÄÖÂú®Êàë‰ª¨‰πãÂâçÂ∞±Â∑≤Áªèpush‰∫Ü‰øÆÊîπÔºåÈÇ£Ê≠§Ê¨°ÁöÑpushÊìç‰ΩúÂ∞Ü‰ºöË¢´ÊãíÁªùÔºåÂøÖÈ°ªÂÖàpullÂõû‰øÆÊîπÔºåÊâçËÉΩpushÊàë‰ª¨ÁöÑ‰øÆÊîπ„ÄÇ‰ΩøÁî®pull‰ªéË£∏ÁâàÊú¨Â∫ìÂèñÂõû‰øÆÊîπ123456789101112$ cd ../first-project$ git pull ../first-project-bare/ masterremote: Counting objects: 3, done.remote: Compressing objects: 100% (2/2), done.remote: Total 3 (delta 0), reused 0 (delta 0)Unpacking objects: 100% (3/3), done.From ../first-project-bare * branch master -&gt; FETCH_HEADUpdating 8747b24..31e1f6fFast-forward foo.txt | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-)]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQuery‰∏≠ÁöÑDeferredÂíåPromise]]></title>
    <url>%2FjQuery%E4%B8%AD%E7%9A%84Deferred%E5%92%8CPromise.html</url>
    <content type="text"><![CDATA[jQuery‰∏≠ÁöÑDeferredÂíåPromiseÊúâÂä©‰∫éÊàë‰ª¨Â§ÑÁêÜAjaxËøôÊ†∑ÁöÑÂºÇÊ≠•ËøáÁ®ãÔºå‰ª•jQuery‰∏≠ÁöÑ\$.ajax()‰∏∫‰æãÔºåÂΩìÂµåÂ•óÂ§ö‰∏™\$.ajax()ÂºÇÊ≠•ÂáΩÊï∞Êó∂Ôºå‰ª£Á†ÅÂ∞±Êàê‰∫Ü‰∏ãÈù¢ËøôÊ†∑Ôºö12345678910111213141516171819202122$.ajax(&#123; url: "myUrl1.do", success:function()&#123; $.ajax(&#123; url: "myUrl2.do", success:function()&#123; $.ajax(&#123; url: "myUrl3.do", success:function()&#123; $.ajax(&#123; url: "myUrl4.do", success:function(r)&#123; console.log("ÂÅáÂ¶Ç‰Ω†ÊÑøÊÑè‰∏ÄÂ±Ç‰∏ÄÂ±ÇÂâ•ÂºÄÊàëÁöÑÂøÉ...") console.log(r); &#125; &#125;); &#125; &#125;); &#125; &#125;); &#125;&#125;);ËøôÁßç‚ÄúÈáëÂ≠óÂ°î‚ÄùÂºèÁöÑ‰ª£Á†ÅÂ∞±ÊòØÊâÄË∞ìÁöÑ‚ÄúÂõûË∞ÉÂú∞Áã±‚Äù„ÄÇËøôÁßçÈ£éÊ†ºÁöÑ‰ª£Á†Å‰ΩøÂæóË∞ÉËØïÂèòÂæóÂæàÂõ∞ÈöæÔºå‰ΩøÁî®jQuery‰∏≠PromiseÂØπË±°ÂèØ‰ª•ÂæàÂ•ΩÁöÑÂ§ÑÁêÜËøô‰∏™ÈóÆÈ¢ò„ÄÇ‰ΩøÁî®PromiseÊîπÂÜô\$.ajax()ÂõûË∞ÉÂÆûÈôÖ‰∏äÔºå$.ajax()ËøîÂõûÁöÑÂ∞±ÊòØPromiseÂØπË±°ÔºåÂ¶ÇÔºö12345678910var promise = $.ajax(&#123;url:'myUrl.do'&#125;);promise.done(function()&#123; // ÊàêÂäüÊó∂ÔºåÊâßË°åËØ•ÂáΩÊï∞&#125;)promise.fail(function()&#123; // Â§±Ë¥•Êó∂ÔºåÊâßË°åËØ•ÂáΩÊï∞&#125;)promise.always(function()&#123; // Êó†ËÆ∫ÊàêÂäüÊàñÂ§±Ë¥•ÔºåÈÉΩÊâßË°åËØ•ÂáΩÊï∞&#125;)Êàë‰ª¨‰πüÂèØ‰ª•Áî®then()ÊñπÊ≥ïÊäädone()Âíåfail()ÂêàÂπ∂Âà∞‰∏ÄËµ∑„ÄÇ12345promise.then(function()&#123; // done&#125;, function()&#123; // fail&#125;)Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë°®Á§∫doneÊñπÊ≥ïÔºåÁ¨¨‰∫å‰∏™ÊñπÊ≥ïË°®Á§∫failÊñπÊ≥ïÔºõÂ¶ÇÊûúÂè™‰º†ÈÄí‰∏Ä‰∏™ÂèÇÊï∞ÁöÑËØùÔºåÂ∞±Ë°®Á§∫doneÊñπÊ≥ï„ÄÇÊâÄ‰ª•ÔºåÁé∞Âú®Êù•ÊîπÂÜô‰∏Ä‰∏ã‰∏äÈù¢ÁöÑ‚ÄúÈáëÂ≠óÂ°î‚Äù‰ª£Á†ÅÔºö1234567891011var promise1 = $.ajax(&#123;url:"myUrl1.do"&#125;);var promise2 = promise1.then(function()&#123; return $.ajax(&#123;url:"myUrl2.do"&#125;);&#125;);var promise3 = promise2.then(function()&#123; return $.ajax(&#123;url:"myUrl3.do"&#125;);&#125;);var promise4 = promise3.then(function()&#123; return $.ajax(&#123;url:"myUrl4.do"&#125;);&#125;);promise4.then(function(r)&#123;console.log(r);&#125;);ÊòØ‰∏çÊòØÂ•Ω‰∫ÜÂæàÂ§öÔºüjQuery‰∏≠ÁöÑ$.when()ÂΩìÂ§ö‰∏™AjaxËØ∑Ê±ÇÈÉΩÊàêÂäüÁöÑÊó∂ÂÄôÔºåÊâßË°åÊüê‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•‰ΩøÁî®$.when()ÊñπÊ≥ï„ÄÇÂ¶ÇÔºö123456789$.when( $.ajax(&#123;url:'myUrl1.do'&#125;), $.ajax(&#123;url:'myUrl2.do'&#125;)).done(function(result1, result2)&#123; console.log(result1); console.log(result2);&#125;).fail(function(r)&#123; console.log("error");&#125;)Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÂè™ÊúâÂΩì‰∏§‰∏™AjaxËØ∑Ê±ÇÈÉΩÊàêÂäüÊó∂ÔºåÊâç‰ºöË∞ÉÁî®doneÊñπÊ≥ï„ÄÇÂê¶ÂàôÂ∞±Ë∞ÉÁî®failÊñπÊ≥ï„ÄÇ$.Deferred()$.Deferred().promise()ÊñπÊ≥ïÂèØ‰ª•ËøîÂõû‰∏Ä‰∏™PromiseÂØπË±°„ÄÇ$.Deferred()ÂåÖÂê´‰∫Ü‰∏âÁßçÁä∂ÊÄÅÔºöpendingÔºöÁ≠âÂæÖÁä∂ÊÄÅresolvedÔºöÊàêÂäüÔºàËß£ÂÜ≥ÔºâÁä∂ÊÄÅrejectedÔºöÂ§±Ë¥•ÔºàÊãíÁªùÔºâÁä∂ÊÄÅÈªòËÆ§ÁöÑÁä∂ÊÄÅ‰∏∫pendingÔºåÂèØ‰ª•‰ΩøÁî®resolveÂíårejectÊñπÊ≥ïÊù•ÊîπÂèòÁä∂ÊÄÅÔºö12345var deferred = $.Deferred();console.log(deferred.state()); //pendingdeferred.reject();console.log(deferred.state()); //rejectedÊàñËÄÖÔºö12345var deferred = $.Deferred();console.log(deferred.state()); //pendingdeferred.resolve();console.log(deferred.state()); //resolvedÂΩìÁä∂ÊÄÅ‰∏∫rejectedÊó∂ÔºåÊâßË°åfailÊñπÊ≥ï„ÄÇÂΩìÁä∂ÊÄÅ‰∏∫resolvedÊó∂ÔºåÊâßË°ådoneÊñπÊ≥ï„ÄÇËÄåalwaysÊñπÊ≥ïÊó†ËÆ∫ÊàêÂäü‰∏éÂ§±Ë¥•ÈÉΩ‰ºöÊâßË°å„ÄÇ‰æãÂ¶ÇÔºå‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠ê‰∏âÁßíÂêéÂºπÂá∫successÔºöSee the Pen deferred by wuyouzhuguli (@mrbird) on CodePen.]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryÂáΩÊï∞attr()Âíåprop()ÁöÑÂå∫Âà´ [ËΩ¨]]]></title>
    <url>%2FjQuery%E5%87%BD%E6%95%B0attr-%E5%92%8Cprop-%E7%9A%84%E5%8C%BA%E5%88%AB-%E8%BD%AC.html</url>
    <content type="text"><![CDATA[Âú®jQuery‰∏≠Ôºåattr()ÂáΩÊï∞Âíåprop()ÂáΩÊï∞ÈÉΩÁî®‰∫éËÆæÁΩÆÊàñËé∑ÂèñÊåáÂÆöÁöÑÂ±ûÊÄßÔºåÂÆÉ‰ª¨ÁöÑÂèÇÊï∞ÂíåÁî®Ê≥ï‰πüÂá†‰πéÂÆåÂÖ®Áõ∏Âêå„ÄÇ ‰ΩÜ‰∏çÂæó‰∏çËØ¥ÁöÑÊòØÔºåËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑÁî®Â§ÑÂç¥Âπ∂‰∏çÁõ∏Âêå„ÄÇ‰∏ãÈù¢Êàë‰ª¨Êù•ËØ¶ÁªÜ‰ªãÁªçËøô‰∏§‰∏™ÂáΩÊï∞‰πãÈó¥ÁöÑÂå∫Âà´„ÄÇÊìç‰ΩúÂØπË±°‰∏çÂêåÂæàÊòéÊòæÔºåattrÂíåpropÂàÜÂà´ÊòØÂçïËØçattributeÂíåpropertyÁöÑÁº©ÂÜôÔºåÂπ∂‰∏îÂÆÉ‰ª¨ÂùáË°®Á§∫‚ÄùÂ±ûÊÄß‚ÄùÁöÑÊÑèÊÄù„ÄÇ‰∏çËøáÔºåÂú®jQuery‰∏≠ÔºåattributeÂíåpropertyÂç¥ÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÊ¶ÇÂøµ„ÄÇattributeË°®Á§∫HTMLÊñáÊ°£ËäÇÁÇπÁöÑÂ±ûÊÄßÔºåpropertyË°®Á§∫JSÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇ1234567 &lt;!-- ËøôÈáåÁöÑid„ÄÅclass„ÄÅdata_idÂùáÊòØËØ•ÂÖÉÁ¥†ÊñáÊ°£ËäÇÁÇπÁöÑattribute --&gt;&lt;div id="message" class="test" data_id="123"&gt;&lt;/div&gt; &lt;script type="text/javascript"&gt;// ËøôÈáåÁöÑname„ÄÅage„ÄÅurlÂùáÊòØobjÁöÑpropertyvar obj = &#123; name: "CodePlayer", age: 18, url: "http://www.365mini.com/" &#125;;&lt;/script&gt;Âú®jQuery‰∏≠Ôºåprop()ÂáΩÊï∞ÁöÑËÆæËÆ°ÁõÆÊ†áÊòØÁî®‰∫éËÆæÁΩÆÊàñËé∑ÂèñÊåáÂÆöDOMÂÖÉÁ¥†ÔºàÊåáÁöÑÊòØJSÂØπË±°ÔºåElementÁ±ªÂûãÔºâ‰∏äÁöÑÂ±ûÊÄßpropertyÔºõattr()ÂáΩÊï∞ÁöÑËÆæËÆ°ÁõÆÊ†áÊòØÁî®‰∫éËÆæÁΩÆÊàñËé∑ÂèñÊåáÂÆöDOMÂÖÉÁ¥†ÊâÄÂØπÂ∫îÁöÑÊñáÊ°£ËäÇÁÇπ‰∏äÁöÑÂ±ûÊÄßattribute„ÄÇ12345678&lt;!-- attr()ÂáΩÊï∞ÈíàÂØπÁöÑÊòØËØ•ÊñáÊ°£ËäÇÁÇπÁöÑattribute --&gt;&lt;div id="message" class="test" data_id="123"&gt;&lt;/div&gt; &lt;script type="text/javascript"&gt;// prop()ÂáΩÊï∞ÈíàÂØπÁöÑÊòØËØ•DOMÂÖÉÁ¥†(msg)Ëá™Ë∫´ÁöÑpropertyvar msg = document.getElementById("message");var $msg = $(msg);&lt;/script&gt;ÂΩìÁÑ∂ÔºåÂú®jQueryÁöÑÂ∫ïÂ±ÇÂÆûÁé∞‰∏≠ÔºåÂáΩÊï∞attr()Âíåprop()ÁöÑÂäüËÉΩÈÉΩÊòØÈÄöËøáJSÂéüÁîüÁöÑElementÂØπË±°ÔºàÂ¶Ç‰∏äËø∞‰ª£Á†Å‰∏≠ÁöÑmsgÔºâÂÆûÁé∞ÁöÑ„ÄÇattr()ÂáΩÊï∞‰∏ªË¶Å‰æùËµñÁöÑÊòØElementÂØπË±°ÁöÑgetAttribute()ÂíåsetAttribute()‰∏§‰∏™ÊñπÊ≥ï„ÄÇprop()ÂáΩÊï∞‰∏ªË¶Å‰æùËµñÁöÑÂàôÊòØJS‰∏≠ÂéüÁîüÁöÑÂØπË±°Â±ûÊÄßËé∑ÂèñÂíåËÆæÁΩÆÊñπÂºè„ÄÇ1234567891011121314151617181920212223&lt;div id="message" class="test" data_id="123"&gt;&lt;/div&gt;&lt;script type="text/javascript"&gt;var msg = document.getElementById("message");var $msg = $(msg); /* attr()‰æùËµñÁöÑÊòØElementÂØπË±°ÁöÑelement.getAttribute( attribute ) * Âíå element.setAttribute( attribute, value ) */ // Áõ∏ÂΩì‰∫é msg.setAttribute("data_id", 145);$msg.attr("data_id", 145);// Áõ∏ÂΩì‰∫é msg.getAttribute("data_id");var dataId = $msg.attr("data_id"); // 145 /* prop()‰æùËµñÁöÑÊòØJSÂéüÁîüÁöÑ element[property] * Âíå element[property] = value; */ // Áõ∏ÂΩì‰∫é msg["pid"] = "pidÂÄº";$msg.prop("pid", "pidÂÄº");// Áõ∏ÂΩì‰∫é msg["pid"];var testProp = $msg.prop("pid"); // pidÂÄº&lt;/script&gt;ÂΩìÁÑ∂ÔºåjQueryÂØπËøô‰∫õÊìç‰ΩúÊñπÂºèËøõË°å‰∫ÜÂ∞ÅË£ÖÔºå‰ΩøÊàë‰ª¨Êìç‰ΩúËµ∑Êù•Êõ¥Âä†Êñπ‰æø(ÊØîÂ¶Ç‰ª•ÂØπË±°ÂΩ¢ÂºèÂêåÊó∂ËÆæÁΩÆÂ§ö‰∏™Â±ûÊÄß)ÔºåÂπ∂‰∏îÂÆûÁé∞‰∫ÜË∑®ÊµèËßàÂô®ÂÖºÂÆπ„ÄÇÊ≠§Â§ñÔºåËôΩÁÑ∂prop()ÈíàÂØπÁöÑÊòØDOMÂÖÉÁ¥†ÁöÑpropertyÔºåËÄå‰∏çÊòØÂÖÉÁ¥†ËäÇÁÇπÁöÑattribute„ÄÇ‰∏çËøáDOMÂÖÉÁ¥†Êüê‰∫õÂ±ûÊÄßÁöÑÊõ¥Êîπ‰πü‰ºöÂΩ±ÂìçÂà∞ÂÖÉÁ¥†ËäÇÁÇπ‰∏äÂØπÂ∫îÁöÑÂ±ûÊÄß„ÄÇ‰æãÂ¶ÇÔºåpropertyÁöÑidÂØπÂ∫îattributeÁöÑidÔºåpropertyÁöÑclassNameÂØπÂ∫îattributeÁöÑclass„ÄÇ12345678910&lt;div id="message" class="test" data_id="123"&gt;&lt;/div&gt;&lt;script type="text/javascript"&gt;var msg = document.getElementById("message");var $msg = $(msg); console.log( $msg.attr("class") ); // test$msg.prop("className", "newTest");// ‰øÆÊîπclassName(property)ÂØºËá¥class(attitude)‰πüÈöè‰πãÊõ¥Êîπconsole.log( $msg.attr("class") ); // newTest&lt;/script&gt;Â∫îÁî®ÁâàÊú¨‰∏çÂêåattr()ÊòØjQuery 1.0ÁâàÊú¨Â∞±ÊúâÁöÑÂáΩÊï∞Ôºåprop()ÊòØjQuery 1.6ÁâàÊú¨Êñ∞Â¢ûÁöÑÂáΩÊï∞„ÄÇÊØ´Êó†ÁñëÈóÆÔºåÂú®1.6‰πãÂâçÔºå‰Ω†Âè™ËÉΩ‰ΩøÁî®attr()ÂáΩÊï∞Ôºõ1.6Âèä‰ª•ÂêéÁâàÊú¨Ôºå‰Ω†ÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÈúÄË¶ÅÈÄâÊã©ÂØπÂ∫îÁöÑÂáΩÊï∞„ÄÇÁî®‰∫éËÆæÁΩÆÁöÑÂ±ûÊÄßÂÄºÁ±ªÂûã‰∏çÂêåÁî±‰∫éattr()ÂáΩÊï∞Êìç‰ΩúÁöÑÊòØÊñáÊ°£ËäÇÁÇπÁöÑÂ±ûÊÄßÔºåÂõ†Ê≠§ËÆæÁΩÆÁöÑÂ±ûÊÄßÂÄºÂè™ËÉΩÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºåÂ¶ÇÊûú‰∏çÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºå‰πü‰ºöË∞ÉÁî®ÂÖ∂toString()ÊñπÊ≥ïÔºåÂ∞ÜÂÖ∂ËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤Á±ªÂûã„ÄÇ prop()ÂáΩÊï∞Êìç‰ΩúÁöÑÊòØJSÂØπË±°ÁöÑÂ±ûÊÄßÔºåÂõ†Ê≠§ËÆæÁΩÆÁöÑÂ±ûÊÄßÂÄºÂèØ‰ª•‰∏∫ÂåÖÊã¨Êï∞ÁªÑÂíåÂØπË±°Âú®ÂÜÖÁöÑ‰ªªÊÑèÁ±ªÂûã„ÄÇ123456789101112&lt;input id="uid" type="checkbox" checked="true" value="1"&gt;&lt;script type="text/javascript"&gt;// ÂΩìÂâçjQueryÁâàÊú¨‰∏∫1.11.1var uid = document.getElementById("uid");var $uid = $(uid); console.log($uid.attr("checked")); // checkedconsole.log(typeof $uid.attr("checked")); // string console.log($uid.prop("checked")); // trueconsole.log(typeof $uid.prop("checked")); //boolean&lt;/script&gt;ÂÖ∂‰ªñÁªÜËäÇÈóÆÈ¢òÂú®jQuery 1.6‰πãÂâçÔºåÂè™Êúâattr()ÂáΩÊï∞ÂèØÁî®ÔºåËØ•ÂáΩÊï∞‰∏ç‰ªÖÊâøÊãÖ‰∫ÜattributeÁöÑËÆæÁΩÆÂíåËé∑ÂèñÂ∑•‰ΩúÔºåËøòÂêåÊó∂ÊâøÊãÖ‰∫ÜpropertyÁöÑËÆæÁΩÆÂíåËé∑ÂèñÂ∑•‰Ωú„ÄÇ‰æãÂ¶ÇÔºöÂú®jQuery 1.6‰πãÂâçÔºåattr()‰πüÂèØ‰ª•ËÆæÁΩÆÊàñËé∑ÂèñtagName„ÄÅclassName„ÄÅnodeName„ÄÅnodeTypeÁ≠âDOMÂÖÉÁ¥†ÁöÑproperty„ÄÇÁõ¥Âà∞jQuery 1.6Êñ∞Â¢ûprop()ÂáΩÊï∞ÔºåÂπ∂Áî®Êù•ÊâøÊãÖpropertyÁöÑËÆæÁΩÆÊàñËé∑ÂèñÂ∑•‰Ωú‰πãÂêéÔºåattr()ÊâçÂè™Áî®Êù•Ë¥üË¥£attributeÁöÑËÆæÁΩÆÂíåËé∑ÂèñÂ∑•‰Ωú„ÄÇÊ≠§Â§ñÔºåÂØπ‰∫éË°®ÂçïÂÖÉÁ¥†ÁöÑchecked„ÄÅselected„ÄÅdisabledÁ≠âÂ±ûÊÄßÔºåÂú®jQuery 1.6‰πãÂâçÔºåattr()Ëé∑ÂèñËøô‰∫õÂ±ûÊÄßÁöÑËøîÂõûÂÄº‰∏∫BooleanÁ±ªÂûãÔºöÂ¶ÇÊûúË¢´ÈÄâ‰∏≠ÔºàÊàñÁ¶ÅÁî®ÔºâÂ∞±ËøîÂõûtrueÔºåÂê¶ÂàôËøîÂõûfalse„ÄÇ‰ΩÜÊòØ‰ªé1.6ÂºÄÂßãÔºå‰ΩøÁî®attr()Ëé∑ÂèñËøô‰∫õÂ±ûÊÄßÁöÑËøîÂõûÂÄº‰∏∫StringÁ±ªÂûãÔºåÂ¶ÇÊûúË¢´ÈÄâ‰∏≠ÔºàÊàñÁ¶ÅÁî®ÔºâÂ∞±ËøîÂõûchecked„ÄÅselectedÊàñdisabledÔºåÂê¶ÂàôÔºàÂç≥ÂÖÉÁ¥†ËäÇÁÇπÊ≤°ÊúâËØ•Â±ûÊÄßÔºâËøîÂõûundefined„ÄÇÂπ∂‰∏îÔºåÂú®Êüê‰∫õÁâàÊú¨‰∏≠ÔºåËøô‰∫õÂ±ûÊÄßÂÄºË°®Á§∫ÊñáÊ°£Âä†ËΩΩÊó∂ÁöÑÂàùÂßãÁä∂ÊÄÅÂÄºÔºåÂç≥‰Ωø‰πãÂêéÊõ¥Êîπ‰∫ÜËøô‰∫õÂÖÉÁ¥†ÁöÑÈÄâ‰∏≠ÔºàÊàñÁ¶ÅÁî®ÔºâÁä∂ÊÄÅÔºåÂØπÂ∫îÁöÑÂ±ûÊÄßÂÄº‰πü‰∏ç‰ºöÂèëÁîüÊîπÂèò„ÄÇÂõ†‰∏∫jQueryËÆ§‰∏∫ÔºöattributeÁöÑchecked„ÄÅselected„ÄÅdisabledÂ∞±ÊòØË°®Á§∫ËØ•Â±ûÊÄßÂàùÂßãÁä∂ÊÄÅÁöÑÂÄºÔºåpropertyÁöÑchecked„ÄÅselected„ÄÅdisabledÊâçË°®Á§∫ËØ•Â±ûÊÄßÂÆûÊó∂Áä∂ÊÄÅÁöÑÂÄºÔºàÂÄº‰∏∫trueÊàñfalseÔºâ„ÄÇÂõ†Ê≠§ÔºåÂú®jQuery 1.6Âèä‰ª•ÂêéÁâàÊú¨‰∏≠ÔºåËØ∑‰ΩøÁî®prop()ÂáΩÊï∞Êù•ËÆæÁΩÆÊàñËé∑Âèñchecked„ÄÅselected„ÄÅdisabledÁ≠âÂ±ûÊÄß„ÄÇÂØπ‰∫éÂÖ∂ÂÆÉËÉΩÂ§üÁî®prop()ÂÆûÁé∞ÁöÑÊìç‰ΩúÔºå‰πüÂ∞ΩÈáè‰ΩøÁî®prop()ÂáΩÊï∞„ÄÇ12345678910111213141516171819&lt;input id="uid" type="checkbox" checked="checked" value="1"&gt; &lt;script type="text/javascript"&gt;// ÂΩìÂâçjQueryÁâàÊú¨‰∏∫1.11.1var uid = document.getElementById("uid");var $uid = $(uid); console.log( $uid.attr("checked") ); // checkedconsole.log( $uid.prop("checked") ); // true // ÂèñÊ∂àÂ§çÈÄâÊ°ÜuidÁöÑÈÄâ‰∏≠(Â∞ÜÂÖ∂ËÆæ‰∏∫falseÂç≥ÂèØ)// Áõ∏ÂΩì‰∫é uid.checked = false;$uid.prop("checked", false); // attr()Ëé∑ÂèñÁöÑÊòØÂàùÂßãÁä∂ÊÄÅÁöÑÂÄºÔºåÂç≥‰ΩøÂèñÊ∂à‰∫ÜÈÄâ‰∏≠Ôºå‰πü‰∏ç‰ºöÊîπÂèòconsole.log( $uid.attr("checked") ); // checked// prop()Ëé∑ÂèñÁöÑÂÄºÂ∑≤ÁªèÂèëÁîüÂèòÂåñconsole.log( $uid.prop("checked") ); // false&lt;/script&gt;ËΩ¨Ëá™CodePlayer]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[viÁºñËæëÂô®ÁöÑ‰∏âÁßçÊ®°Âºè]]></title>
    <url>%2Fvi%E7%BC%96%E8%BE%91%E5%99%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F.html</url>
    <content type="text"><![CDATA[ÈÄöÂ∏∏Êù•ËØ¥ÔºåviÁºñËæëÂô®Êúâ‰∏âÁßçÊ®°ÂºèÔºåÂàÜÂà´ÊòØ‰∏ÄËà¨Êåá‰ª§Ê®°Âºè„ÄÅÁºñËæëÊ®°Âºè‰∏éÊåá‰ª§Ë°åÂëΩ‰ª§Ê®°Âºè„ÄÇ Ëøô‰∏âÁßçÊ®°ÂºèÁöÑ‰ΩúÁî®ÂàÜÂà´ÊòØÔºö‰∏ÄËà¨Êåá‰ª§Ê®°ÂºèÔºàcommand modeÔºâ‰ª• vi ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Â∞±Áõ¥Êé•ËøõÂÖ•‰∏ÄËà¨Êåá‰ª§Ê®°Âºè‰∫ÜÔºàËøôÊòØÈªòËÆ§ÁöÑÊ®°ÂºèÔºå‰πüÁÆÄÁß∞‰∏∫‰∏ÄËà¨Ê®°ÂºèÔºâ„ÄÇÂú®Ëøô‰∏™Ê®°Âºè‰∏≠Ôºå ‰Ω†ÂèØ‰ª•‰ΩøÁî®‰∏ä‰∏ãÂ∑¶Âè≥ÊåâÈîÆÊù•ÁßªÂä®ÂÖâÊ†áÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®Âà†Èô§Â≠óÁ¨¶ÊàñÂà†Èô§Êï¥Ë°åÊù•Â§ÑÁêÜÊñá‰ª∂ÂÜÖÂÆπÔºå ‰πüÂèØ‰ª•‰ΩøÁî®Â§çÂà∂„ÄÅÈªèË¥¥Êù•Â§ÑÁêÜ‰Ω†ÁöÑÊñá‰ª∂Êï∞ÊçÆ„ÄÇÁºñËæëÊ®°ÂºèÔºàinsert modeÔºâÁºñËæëÊ®°ÂºèÂèØ‰ª•ÂØπÂÜÖÂÆπËøõË°åÁºñËæëÔºåÊåâ‰∏ãi, I, o, O, a, A, r, RÁ≠â‰ªª‰Ωï‰∏Ä‰∏™Â≠óÊØç‰πãÂêéÂç≥ÂèØËøõÂÖ•ÁºñËæëÊ®°Âºè„ÄÇÂ¶ÇÊûúË¶ÅÂõûÂà∞‰∏ÄËà¨Êåá‰ª§Ê®°ÂºèÊó∂Ôºå ÂàôÂøÖÈ°ªË¶ÅÊåâ‰∏ãEscËøô‰∏™ÊåâÈîÆÂç≥ÂèØÈÄÄÂá∫ÁºñËæëÊ®°Âºè„ÄÇÂëΩ‰ª§Ë°åÊ®°ÂºèÔºàcommand-line modeÔºâÂú®‰∏ÄËà¨Ê®°ÂºèÂΩì‰∏≠ÔºåËæìÂÖ•:, /, ? ‰∏â‰∏™‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÊåâÈíÆÔºåÂ∞±ÂèØ‰ª•Â∞ÜÂÖâÊ†áÁßªÂä®Âà∞ÊúÄÂ∫ï‰∏ãÈÇ£‰∏ÄË°å„ÄÇÂú®Ëøô‰∏™Ê®°ÂºèÂΩì‰∏≠Ôºå ÂèØ‰ª•Êèê‰æõ‰Ω†ÊêúÂØªËµÑÊñôÁöÑÂä®‰ΩúÔºåËÄåËØªÂèñ„ÄÅÂ≠òÁõò„ÄÅÂ§ßÈáèÂèñ‰ª£Â≠óÁ¨¶„ÄÅÁ¶ªÂºÄ vi „ÄÅÊòæÁ§∫Ë°åÂè∑Á≠âÁ≠âÁöÑÂä®‰ΩúÂàôÊòØÂú®Ê≠§Ê®°Âºè‰∏≠ËææÊàêÁöÑÔºÅ ÊÄª‰πãÔºå‰∏âËÄÖÁöÑÂÖ≥Á≥ªÂèØ‰ª•Áî®‰∏ãÂõæÊù•Ê¶ÇÂÜµÔºöÂêÑÊ®°Âºè‰∏ãÁöÑÂø´Êç∑ÈîÆ‰∏ÄËà¨Êåá‰ª§Ê®°ÂºèÁßªÂä®ÂÖâÊ†áÁöÑÊñπÊ≥ïh Êàñ ÂêëÂ∑¶ÁÆ≠Â§¥ÈîÆ(‚Üê)ÂÖâÊ†áÂêëÂ∑¶ÁßªÂä®‰∏Ä‰∏™Â≠óÁ¨¶j Êàñ Âêë‰∏ãÁÆ≠Â§¥ÈîÆ(‚Üì)ÂÖâÊ†áÂêë‰∏ãÁßªÂä®‰∏Ä‰∏™Â≠óÁ¨¶k Êàñ Âêë‰∏äÁÆ≠Â§¥ÈîÆ(‚Üë)ÂÖâÊ†áÂêë‰∏äÁßªÂä®‰∏Ä‰∏™Â≠óÁ¨¶l Êàñ ÂêëÂè≥ÁÆ≠Â§¥ÈîÆ(‚Üí)ÂÖâÊ†áÂêëÂè≥ÁßªÂä®‰∏Ä‰∏™Â≠óÁ¨¶hjkl ÊòØÊéíÂàóÂú®‰∏ÄËµ∑ÁöÑÔºåÂõ†Ê≠§ÂèØ‰ª•‰ΩøÁî®ËøôÂõõ‰∏™ÊåâÈíÆÊù•ÁßªÂä®ÂÖâÊ†á„ÄÇ Â¶ÇÊûúÊÉ≥Ë¶ÅËøõË°åÂ§öÊ¨°ÁßªÂä®ÁöÑËØùÔºå‰æãÂ¶ÇÂêë‰∏ãÁßªÂä® 30 Ë°åÔºåÂèØ‰ª• ‰ΩøÁî® ‚Äú30j‚Äù Êàñ ‚Äú30‚Üì‚Äù ÁöÑÁªÑÂêàÊåâÈîÆÔºå‰∫¶Âç≥Âä†‰∏äÊÉ≥Ë¶ÅËøõË°åÁöÑÊ¨°Êï∞ÔºàÊï∞Â≠óÔºâÂêéÔºåÊåâ‰∏ãÂä®‰ΩúÂç≥ÂèØÔºÅ[Ctrl] + [f]Â±èÂπïÂêë‰∏ãÁßªÂä®‰∏ÄÈ°µÔºåÁõ∏ÂΩì‰∫é [Page Down]ÊåâÈîÆ[Ctrl] + [b]Â±èÂπïÂêë‰∏äÁßªÂä®‰∏ÄÈ°µÔºåÁõ∏ÂΩì‰∫é [Page Up] ÊåâÈîÆ&nbsp;[Ctrl] + [d]&nbsp;Â±èÂπïÂêë‰∏ãÁßªÂä®ÂçäÈ°µ[Ctrl] + [u]&nbsp;Â±èÂπïÂêë‰∏äÁßªÂä®ÂçäÈ°µn&lt;space&gt;n Ë°®Á§∫Êï∞Â≠óÔºå‰æãÂ¶Ç 20 „ÄÇÊåâ‰∏ãÊï∞Â≠óÂêéÂÜçÊåâÁ©∫Ê†ºÈîÆÔºåÂÖâÊ†á‰ºöÂêëÂè≥ÁßªÂä®Ëøô‰∏ÄË°åÁöÑ n ‰∏™ Â≠óÁ¨¶„ÄÇ‰æãÂ¶Ç 20 ÂàôÂÖâÊ†á‰ºöÂêëÂêéÈù¢ÁßªÂä® 20 ‰∏™Â≠óÁ¨¶Ë∑ùÁ¶ª„ÄÇ0 ÊàñÂäüËÉΩÈîÆ[Home]ÁßªÂä®Âà∞Ëøô‰∏ÄË°åÁöÑÊúÄÂâçÈù¢Â≠óÁ¨¶Â§Ñ$ ÊàñÂäüËÉΩÈîÆ[End]&nbsp;ÁßªÂä®Âà∞Ëøô‰∏ÄË°åÁöÑÊúÄÂêéÈù¢Â≠óÁ¨¶Â§ÑH &nbsp;&nbsp;ÂÖâÊ†áÁßªÂä®Âà∞Ëøô‰∏™Â±èÂπïÁöÑÊúÄ‰∏äÊñπÈÇ£‰∏ÄË°åÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶M&nbsp;ÂÖâÊ†áÁßªÂä®Âà∞Ëøô‰∏™Â±èÂπïÁöÑ‰∏≠Â§ÆÈÇ£‰∏ÄË°åÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶L&nbsp;ÂÖâÊ†áÁßªÂä®Âà∞Ëøô‰∏™Â±èÂπïÁöÑÊúÄ‰∏ãÊñπÈÇ£‰∏ÄË°åÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶GÁßªÂä®Âà∞Ëøô‰∏™Êñá‰ª∂ÁöÑÊúÄÂêé‰∏ÄË°ånGn ‰∏∫Êï∞Â≠ó„ÄÇÁßªÂä®Âà∞Ëøô‰∏™Êñá‰ª∂ÁöÑÁ¨¨ n Ë°å„ÄÇ‰æãÂ¶Ç 20G Âàô‰ºöÁßªÂä®Âà∞Ëøô‰∏™Êñá‰ª∂ÁöÑÁ¨¨ 20 Ë°ågg &nbsp;ÁßªÂä®Âà∞Ëøô‰∏™Êñá‰ª∂ÁöÑÁ¨¨‰∏ÄË°ån&lt;Enter&gt;&nbsp;n ‰∏∫Êï∞Â≠ó„ÄÇÂÖâÊ†áÂêë‰∏ãÁßªÂä® n Ë°åÊêúÁ¥¢‰∏éÊõøÊç¢/word&nbsp;ÂêëÂÖâÊ†á‰πã‰∏ãÂØªÊâæ‰∏Ä‰∏™ÂêçÁß∞‰∏∫ word ÁöÑÂ≠óÁ¨¶‰∏≤?word&nbsp;ÂêëÂÖâÊ†á‰πã‰∏äÂØªÊâæ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂêçÁß∞‰∏∫ word ÁöÑÂ≠óÁ¨¶‰∏≤n&nbsp;ÈáçÂ§çÂâç‰∏Ä‰∏™ÊêúÂØªÁöÑÂä®‰ΩúN&nbsp;‰∏é n ÂàöÂ•ΩÁõ∏ÂèçÔºå‰∏∫ÂèçÂêëËøõË°åÂâç‰∏Ä‰∏™ÊêúÂØªÂä®‰Ωú„ÄÇ ‰æãÂ¶Ç /word ÂêéÔºåÊåâ‰∏ã N ÂàôË°®Á§∫ ?word:n1,n2s/word1/word2/gn1 ‰∏é n2 ‰∏∫Êï∞Â≠ó„ÄÇÂú®Á¨¨ n1 ‰∏é n2 Ë°å‰πãÈó¥ÂØªÊâæ word1 Ëøô‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜËØ•Â≠óÁ¨¶‰∏≤Âèñ‰ª£ ‰∏∫ word2 Ôºå ÊØîÂ¶ÇÔºöÂú® 100 Âà∞ 200 Ë°å‰πãÈó¥ÊêúÂØª nullÂπ∂Âèñ‰ª£‰∏∫ NULL&nbsp;Âàô :100,200s/null/NULL/g:1,$s/word1/word2/g&nbsp;‰ªéÁ¨¨‰∏ÄË°åÂà∞ÊúÄÂêé‰∏ÄË°åÂØªÊâæ word1 Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜËØ•Â≠óÁ¨¶‰∏≤Âèñ‰ª£‰∏∫ word2&nbsp;:1,$s/word1/word2/gc&nbsp;‰ªéÁ¨¨‰∏ÄË°åÂà∞ÊúÄÂêé‰∏ÄË°åÂØªÊâæ word1 Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜËØ•Â≠óÁ¨¶‰∏≤Âèñ‰ª£‰∏∫ word2 „ÄÇ‰∏îÂú®Âèñ‰ª£ÂâçÊòæÁ§∫ÊèêÁ§∫Â≠óÁ¨¶ ÁªôÁî®Êà∑Á°ÆËÆ§ (confirm) ÊòØÂê¶ÈúÄË¶ÅÂèñ‰ª£Âà†Èô§ÔºåÂ§çÂà∂‰∏éÈªèË¥¥x, X&nbsp;Âú®‰∏ÄË°åÂ≠óÂΩì‰∏≠Ôºåx ‰∏∫ÂêëÂêéÂà†Èô§‰∏Ä‰∏™Â≠óÁ¨¶Ôºå X ‰∏∫ÂêëÂâçÂà†Èô§‰∏Ä‰∏™Â≠óÁ¨¶nx&nbsp;n‰∏∫Êï∞Â≠óÔºåËøûÁª≠ÂêëÂêéÂà†Èô§ n ‰∏™Â≠óÁ¨¶dd&nbsp;Âà†Èô§Ê∏∏Ê†áÊâÄÂú®ÁöÑÈÇ£‰∏ÄÊï¥Ë°åndd&nbsp;n ‰∏∫Êï∞Â≠ó„ÄÇÂà†Èô§ÂÖâÊ†áÊâÄÂú®ÁöÑÂêë‰∏ã n Ë°åÔºå‰æãÂ¶Ç 20dd ÂàôÊòØÂà†Èô§ 20 Ë°åd1G&nbsp;Âà†Èô§ÂÖâÊ†áÊâÄÂú®Âà∞Á¨¨‰∏ÄË°åÁöÑÊâÄÊúâÊï∞ÊçÆdGÂà†Èô§ÂÖâÊ†áÊâÄÂú®Âà∞ÊúÄÂêé‰∏ÄË°åÁöÑÊâÄÊúâÊï∞ÊçÆd$&nbsp;Âà†Èô§Ê∏∏Ê†áÊâÄÂú®Â§ÑÔºåÂà∞ËØ•Ë°åÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠óÁ¨¶d0&nbsp;Âà†Èô§Ê∏∏Ê†áÊâÄÂú®Â§ÑÔºåÂà∞ËØ•Ë°åÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶yy&nbsp;Â§çÂà∂Ê∏∏Ê†áÊâÄÂú®ÁöÑÈÇ£‰∏ÄË°ånyy&nbsp;n ‰∏∫Êï∞Â≠ó„ÄÇÂ§çÂà∂ÂÖâÊ†áÊâÄÂú®ÁöÑÂêë‰∏ã n Ë°åÔºå‰æãÂ¶Ç 20yy ÂàôÊòØÂ§çÂà∂ 20 Ë°åy1G&nbsp;Â§çÂà∂ÂÖâÊ†áÊâÄÂú®Ë°åÂà∞Á¨¨‰∏ÄË°åÁöÑÊâÄÊúâÊï∞ÊçÆyG&nbsp;Â§çÂà∂ÂÖâÊ†áÊâÄÂú®Ë°åÂà∞ÊúÄÂêé‰∏ÄË°åÁöÑÊâÄÊúâÊï∞ÊçÆy0&nbsp;Â§çÂà∂ÂÖâÊ†áÊâÄÂú®ÁöÑÈÇ£‰∏™Â≠óÁ¨¶Âà∞ËØ•Ë°åË°åÈ¶ñÁöÑÊâÄÊúâÊï∞ÊçÆy$&nbsp;Â§çÂà∂ÂÖâÊ†áÊâÄÂú®ÁöÑÈÇ£‰∏™Â≠óÁ¨¶Âà∞ËØ•Ë°åË°åÂ∞æÁöÑÊâÄÊúâÊï∞ÊçÆp, P&nbsp;p ‰∏∫Â∞ÜÂ∑≤Â§çÂà∂ÁöÑÊï∞ÊçÆÈªèË¥¥Âà∞ÂÖâÊ†á‰∏ã‰∏ÄË°åÔºåP Âàô‰∏∫ÈªèË¥¥Âà∞‰∏ä‰∏ÄË°åJ&nbsp;Â∞ÜÂÖâÊ†áÊâÄÂú®Ë°å‰∏é‰∏ã‰∏ÄË°åÁöÑÊï∞ÊçÆÁªìÂêàÊàêÂêå‰∏ÄË°åu&nbsp;ÂõûÈÄÄÔºåÁ±ª‰ºº‰∫éCtrl+z[Ctrl]+r&nbsp;ÂâçËøõÔºåÁ±ª‰ºº‰∫éCtrl+y.ÈáçÂ§çÂâç‰∏Ä‰∏™Âä®‰Ωú„ÄÇ Â¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÈáçÂ§çÂà†Èô§„ÄÅÈáçÂ§çÈªèË¥¥Á≠âÂä®‰ΩúÔºåÊåâ‰∏ãÂ∞èÊï∞ÁÇπ.Â∞±Â•Ω‰∫Ü‰∏ÄËà¨Êåá‰ª§Ê®°ÂºèÂàáÊç¢Âà∞ÁºñËæëÊ®°ÂºèÁöÑÂèØÁî®ÁöÑÂø´Êç∑ÈîÆËøõÂÖ•INSERTÊàñREPLACEÊ®°Âºèi, I &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;ËøõÂÖ•ÊèíÂÖ•Ê®°Âºè(Insert mode)Ôºö i ‰∏∫‰ªéÁõÆÂâçÂÖâÊ†áÊâÄÂú®Â§ÑÊèíÂÖ•ÔºåI ‰∏∫Âú®ÁõÆÂâçÊâÄÂú®Ë°åÁöÑÁ¨¨‰∏Ä‰∏™ÈùûÁ©∫Ê†ºÁ¨¶Â§ÑÂºÄÂßãÊèíÂÖ•a, A&nbsp;ËøõÂÖ•ÊèíÂÖ•Ê®°Âºè(Insert mode)Ôºö a ‰∏∫‰ªéÁõÆÂâçÂÖâÊ†áÊâÄÂú®ÁöÑ‰∏ã‰∏Ä‰∏™Â≠óÁ¨¶Â§ÑÂºÄÂßãÊèíÂÖ•Ôºå A ‰∏∫‰ªéÂÖâÊ†áÊâÄÂú®Ë°åÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠óÁ¨¶Â§ÑÂºÄÂßãÊèíÂÖ•o, O&nbsp;ËøõÂÖ•ÊèíÂÖ•Ê®°Âºè(Insert mode)Ôºö o ‰∏∫Âú®ÁõÆÂâçÂÖâÊ†áÊâÄÂú®ÁöÑ‰∏ã‰∏ÄË°åÂ§ÑÊèíÂÖ•Êñ∞ÁöÑ‰∏ÄË°åÔºõ O ‰∏∫Âú®ÁõÆÂâçÂÖâÊ†áÊâÄÂú®Â§ÑÁöÑ‰∏ä‰∏ÄË°åÊèíÂÖ•Êñ∞ÁöÑ‰∏ÄË°år, R&nbsp;ËøõÂÖ•Âèñ‰ª£Ê®°Âºè(Replace mode)Ôºö r Âè™‰ºöÂèñ‰ª£ÂÖâÊ†áÊâÄÂú®ÁöÑÈÇ£‰∏Ä‰∏™Â≠óÁ¨¶‰∏ÄÊ¨°ÔºõR ‰ºö‰∏ÄÁõ¥Âèñ‰ª£ÂÖâÊ†áÊâÄÂú®ÁöÑÊñáÂ≠óÔºåÁõ¥Âà∞Êåâ‰∏ã ESC ‰∏∫Ê≠¢[Esc]&nbsp;ÈÄÄÂá∫ÁºñËæëÊ®°ÂºèÔºåÂõûÂà∞‰∏ÄËà¨Êåá‰ª§Ê®°Âºè‰∏≠‰∏ÄËà¨Êåá‰ª§Ê®°ÂºèÂàáÊç¢Âà∞ÂëΩ‰ª§Ë°åÊ®°ÂºèÂèØÁî®ÁöÑÂø´Êç∑ÈîÆÂëΩ‰ª§Ë°åÊ®°ÂºèÁöÑÂ≠òÂÇ®ÔºåÁ¶ªÂºÄÁ≠âÊåá‰ª§:w &nbsp; &nbsp;&nbsp;Â∞ÜÁºñËæëÁöÑÊï∞ÊçÆÂÜôÂÖ•Á°¨ÁõòÊñá‰ª∂‰∏≠Ôºà‰øùÂ≠òÔºâ:w!&nbsp;Ëã•Êñá‰ª∂Â±ûÊÄß‰∏∫Âè™ËØªÊó∂ÔºåÂº∫Âà∂ÂÜôÂÖ•ËØ•Êñá‰ª∂„ÄÇ‰∏çËøáÔºåÂà∞Â∫ïËÉΩ‰∏çËÉΩÂÜôÂÖ•ÔºåËøòÊòØË∑ü‰Ω†ÂØπËØ•Êñá‰ª∂ÁöÑÊñá‰ª∂ÊùÉÈôêÊúâÂÖ≥:q &nbsp;Á¶ªÂºÄ vi:q!&nbsp;Ëã•Êõæ‰øÆÊîπËøáÊñá‰ª∂ÔºåÂèà‰∏çÊÉ≥ÂÇ®Â≠òÔºå‰ΩøÁî® ! ‰∏∫Âº∫Âà∂Á¶ªÂºÄ‰∏çÂÇ®Â≠òÊñá‰ª∂:wq&nbsp;ÂÇ®Â≠òÂêéÁ¶ªÂºÄÔºåËã•‰∏∫ :wq! Âàô‰∏∫Âº∫Âà∂ÂÇ®Â≠òÂêéÁ¶ªÂºÄZZ&nbsp;Ëã•Êñá‰ª∂Ê≤°ÊúâÊõ¥Âä®ÔºåÂàô‰∏çÂÇ®Â≠òÁ¶ªÂºÄÔºåËã•Êñá‰ª∂Â∑≤ÁªèË¢´Êõ¥Âä®ËøáÔºåÂàôÂÇ®Â≠òÂêéÁ¶ªÂºÄÔºÅ:w filenameÂ∞ÜÁºñËæëÁöÑÊï∞ÊçÆÂÇ®Â≠òÊàêÂè¶‰∏Ä‰∏™Êñá‰ª∂:r filenameÂú®ÁºñËæëÁöÑÊï∞ÊçÆ‰∏≠ÔºåËØªÂÖ•Âè¶‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊï∞ÊçÆ„ÄÇ‰∫¶Âç≥Â∞ÜfilenameËøô‰∏™Êñá‰ª∂ÂÜÖÂÆπÂä†Âà∞Ê∏∏Ê†áÊâÄÂú®Ë°åÂêéÈù¢:n1,n2 w filename&nbsp;Â∞Ü n1 Âà∞ n2 ÁöÑÂÜÖÂÆπÂÇ®Â≠òÊàê filename Ëøô‰∏™Êñá‰ª∂:! command&nbsp;ÊöÇÊó∂Á¶ªÂºÄ vi Âà∞Êåá‰ª§Ë°åÊ®°Âºè‰∏ãÊâßË°å command ÁöÑÊòæÁ§∫ÁªìÊûú„ÄÇ‰æãÂ¶Ç :! ls /homeÂç≥ÂèØÂú® vi ÂΩì‰∏≠ÂØüÁúã /home Â∫ï‰∏ã‰ª• ls ËæìÂá∫ÁöÑÊñá‰ª∂‰ø°ÊÅØvim ÁéØÂ¢ÉÁöÑÂèòÊõ¥:set nu&nbsp;ÊòæÁ§∫Ë°åÂè∑ÔºåËÆæÂÆö‰πãÂêéÔºå‰ºöÂú®ÊØè‰∏ÄË°åÁöÑÂâçÁºÄÊòæÁ§∫ËØ•Ë°åÁöÑË°åÂè∑:set nonu&nbsp;‰∏é:set nu Áõ∏ÂèçÔºå‰∏∫ÂèñÊ∂àË°åÂè∑„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryÊïàÊûúÂáΩÊï∞]]></title>
    <url>%2FjQuery%E6%95%88%E6%9E%9C%E5%87%BD%E6%95%B0.html</url>
    <content type="text"><![CDATA[Âü∫Êú¨show()Áî®‰∫éÊòæÁ§∫ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇÊ≠§Â§ñÔºå‰Ω†ËøòÂèØ‰ª•ÊåáÂÆöÂÖÉÁ¥†ÊòæÁ§∫ÁöÑËøáÊ∏°Âä®ÁîªÊïàÊûú„ÄÇ Â¶ÇÊûúÂÖÉÁ¥†Êú¨Ë∫´ÊòØÂèØËßÅÁöÑÔºåÂàô‰∏çÂØπÂÖ∂‰Ωú‰ªª‰ΩïÊîπÂèò„ÄÇÂ¶ÇÊûúÂÖÉÁ¥†ÊòØÈöêËóèÁöÑÔºåÂàô‰ΩøÂÖ∂ÂèØËßÅ„ÄÇ Â∏∏Áî®ËØ≠Ê≥ïÔºöjQueryObject.show( [ duration ] [, easing ] [, complete ] )„ÄÇÂèÇÊï∞ÊèèËø∞durationÂèØÈÄâ/String/NumberÁ±ªÂûãÊåáÂÆöËøáÊ∏°Âä®ÁîªËøêË°åÂ§öÈïøÊó∂Èó¥ÔºàÊØ´ÁßíÊï∞ÔºâÔºåÈªòËÆ§ÂÄº‰∏∫400„ÄÇËØ•ÂèÇÊï∞‰πüÂèØ‰ª•‰∏∫Â≠óÁ¨¶‰∏≤‚Äùfast‚ÄùÔºà=200ÔºâÊàñ‚Äùslow‚ÄùÔºà=600Ôºâ„ÄÇeasingÂèØÈÄâ/StringÁ±ªÂûãÊåáÂÆö‰ΩøÁî®‰ΩïÁßçÂä®ÁîªÊïàÊûúÔºåÈªòËÆ§‰∏∫‚Äùswing‚ÄùÔºåËøòÂèØ‰ª•ËÆæ‰∏∫‚Äùlinear‚ÄùÊàñÂÖ∂‰ªñËá™ÂÆö‰πâÁöÑÂä®ÁîªÊ†∑ÂºèÁöÑÂáΩÊï∞ÂêçÁß∞„ÄÇcompleteÂèØÈÄâ/FunctionÁ±ªÂûãÂÖÉÁ¥†ÊòæÁ§∫ÂÆåÊØïÂêéÈúÄË¶ÅÊâßË°åÁöÑÂáΩÊï∞„ÄÇÂáΩÊï∞ÂÜÖÁöÑ thisÊåáÂêëÂΩìÂâçDOMÂÖÉÁ¥†„ÄÇ ÊØîÂ¶ÇÊòæÁ§∫pÂÖÉÁ¥†ÔºåËøáÊ∏°Âä®Áîª‰∏∫600msÔºö12$("p").show(600); // ÊàñËÄÖ $("p").show("slow"); $("p").show( &#123; duration: 1000 &#125; );ÊòæÁ§∫pÂÖÉÁ¥†ÔºåËøáÂ∫¶Âä®Áîª‰∏∫200msÔºåÂä®ÁîªÊïàÊûú‰∏∫linearÔºö1$("p").show(600,"linear");ÊòæÁ§∫pÂÖÉÁ¥†ÔºåÂπ∂Ê∑ªÂä†ÂõûË∞ÉÂáΩÊï∞Ôºö1$("p").show(function()&#123; alert('ÊòæÁ§∫ÂÆåÊØï') &#125;);hide()Áî®‰∫éÈöêËóèÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ‰ΩúÁî®Âíåshow()Áõ∏ÂèçÔºåËØ≠Ê≥ï‰∏ÄÊ†∑ÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇ ‰æãÂ¶ÇÈöêËóèpÂÖÉÁ¥†ÔºåÂä®ÁîªÈÄüÂ∫¶‰∏∫fastÔºåÂπ∂Ê∑ªÂä†ÂõûË∞ÉÔºö1$("p").hide("fast",function()&#123; alert('ÈöêËóèÂÆåÊØï') &#125;);ÊªëÂä®slideDown()Áî®‰∫éÊòæÁ§∫ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∏¶ÊúâÂêë‰∏ãÊªëÂä®ÁöÑËøáÊ∏°Âä®ÁîªÊïàÊûú„ÄÇ Âêë‰∏ãÊªëÂä®ÁöÑÂä®ÁîªÊïàÊûúÔºåÂç≥ÂÖÉÁ¥†ÂèØËßÅÂå∫ÂüüÁöÑÈ´òÂ∫¶‰ªé0ÈÄêÊ∏êÂ¢ûÂ§ßÂà∞ÂÖ∂ÂéüÊúâÈ´òÂ∫¶(Âêë‰∏ãÈÄêÊ∏êÂ±ïÂºÄ)„ÄÇ Â¶ÇÊûúÂÖÉÁ¥†Êú¨Ë∫´ÊòØÂèØËßÅÁöÑÔºåÂàô‰∏çÂØπÂÖ∂‰Ωú‰ªª‰ΩïÊîπÂèò„ÄÇÂ¶ÇÊûúÂÖÉÁ¥†ÊòØÈöêËóèÁöÑÔºåÂàô‰ΩøÂÖ∂ÂèØËßÅ„ÄÇ ËØ≠Ê≥ïÂíåshow()‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞„ÄÇslideUp()ÊïàÊûúÂíåslideUp()Áõ∏ÂèçÔºåËØ≠Ê≥ï‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞„ÄÇslideToggle()Áî®‰∫éÂàáÊç¢ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∏¶ÊúâÊªëÂä®ÁöÑËøáÊ∏°Âä®ÁîªÊïàÊûú„ÄÇ ÊâÄË∞ì‚ÄùÂàáÊç¢‚ÄùÔºå‰πüÂ∞±ÊòØÂ¶ÇÊûúÂÖÉÁ¥†ÂΩìÂâçÊòØÂèØËßÅÁöÑÔºåÂàôÂ∞ÜÂÖ∂ÈöêËóèÔºàÂêë‰∏äÊªëÂä®ÔºâÔºõÂ¶ÇÊûúÂÖÉÁ¥†ÂΩìÂâçÊòØÈöêËóèÁöÑÔºåÂàô‰ΩøÂÖ∂ÊòæÁ§∫ÔºàÂêë‰∏ãÊªëÂä®Ôºâ„ÄÇ ËØ≠Ê≥ïÂíåshow()‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞„ÄÇ ‰æãÂ¶ÇÔºåÂêë‰∏äÊàñÂêë‰∏ãÊªëÂä®‰∏ãÊãâÊ°ÜdivÂÖÉÁ¥†ÔºåÂπ∂Ê∑ªÂä†ÂõûË∞ÉÔºö12345678$("div").slideToggle(function()&#123; var $this = $(this); if($this.is(":visible"))&#123; alert("Âêë‰∏ãÊªëÂä®Â±ïÂºÄ"); &#125;else&#123; alert("Âêë‰∏äÊªëÂä®ÈöêËóè"); &#125;&#125;);Ê∑°ÂÖ•Ê∑°Âá∫fadeIn()Áî®‰∫éÊòæÁ§∫ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∏¶ÊúâÊ∑°ÂÖ•ÁöÑËøáÊ∏°Âä®ÁîªÊïàÊûú„ÄÇ Ê∑°ÂÖ•ÁöÑÂä®ÁîªÊïàÊûúÔºåÂç≥ÂÖÉÁ¥†ÁöÑ‰∏çÈÄèÊòéÂ∫¶ÁöÑÊØî‰æã‰ªé0%ÈÄêÊ∏êÂ¢ûÂä†Âà∞100%„ÄÇ Â¶ÇÊûúÂÖÉÁ¥†Êú¨Ë∫´ÊòØÂèØËßÅÁöÑÔºåÂàô‰∏çÂØπÂÖ∂‰Ωú‰ªª‰ΩïÊîπÂèò„ÄÇÂ¶ÇÊûúÂÖÉÁ¥†ÊòØÈöêËóèÁöÑÔºåÂàô‰ΩøÂÖ∂ÂèØËßÅ„ÄÇ ËØ≠Ê≥ïÂíåshow()‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞„ÄÇfadeOut()Áî®‰∫éÈöêËóèÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∏¶ÊúâÊ∑°Âá∫ÁöÑËøáÊ∏°Âä®ÁîªÊïàÊûú„ÄÇÊïàÊûúÂíåfadeIn()Áõ∏ÂèçÔºåËØ≠Ê≥ïÂíåshow()‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞„ÄÇfadeTo()‰ª•Ê∏êËøõÁöÑÊñπÂºèÊääÂÖÉÁ¥†‰ªéÂΩìÂâçÈÄèÊòéÁöÑËøáÊ∏°Âà∞ÊåáÂÆöÁöÑÈÄèÊòéÂ∫¶„ÄÇÂèØ‰ª•ÊåáÂÆöËøáÊ∏°Êó∂ÈïøÔºåÁõÆÊ†áÈÄèÊòéÂ∫¶ÔºåÂõûË∞ÉÂáΩÊï∞Á≠â„ÄÇ Â∏∏Áî®ËØ≠Ê≥ïÔºöfadeTo(duration,opacity [,complete])„ÄÇ ‰æãÂ¶ÇÔºåÂ∞ÜpÂÖÉÁ¥†ÁöÑÈÄèÊòéÁöÑË∞ÉÊï¥‰∏∫.5ÔºåÊó∂Èïø200msÔºåÂπ∂Ê∑ªÂä†ÂõûË∞ÉÔºö123$( "p" ).fadeTo( "slow" , 0.5, function() &#123; // Animation complete.&#125;);fadeToggle()Áî®‰∫éÂàáÊç¢ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∏¶ÊúâÊ∑°ÂÖ•/Ê∑°Âá∫ÁöÑËøáÊ∏°Âä®ÁîªÊïàÊûú„ÄÇ ÊâÄË∞ì‚ÄùÂàáÊç¢‚ÄùÔºåÂç≥Â¶ÇÊûúÂÖÉÁ¥†ÂΩìÂâçÊòØÂèØËßÅÁöÑÔºåÂàôÂ∞ÜÂÖ∂ÈöêËóèÔºàÊ∑°Âá∫ÔºâÔºõÂ¶ÇÊûúÂÖÉÁ¥†ÂΩìÂâçÊòØÈöêËóèÁöÑÔºåÂàô‰ΩøÂÖ∂ÊòæÁ§∫ÔºàÊ∑°ÂÖ•Ôºâ„ÄÇËØ≠Ê≥ïÂíåshow()‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞„ÄÇËá™ÂÆö‰πâanimate()Áî®‰∫éÊâßË°å‰∏Ä‰∏™Âü∫‰∫écssÂ±ûÊÄßÁöÑËá™ÂÆö‰πâÂä®Áîª„ÄÇ ‰Ω†ÂèØ‰ª•‰∏∫ÂåπÈÖçÁöÑÂÖÉÁ¥†ËÆæÁΩÆcssÊ†∑ÂºèÔºåanimate()ÂáΩÊï∞Â∞Ü‰ºöÊâßË°å‰∏Ä‰∏™‰ªéÂΩìÂâçÊ†∑ÂºèÂà∞ÊåáÂÆöÁöÑcssÊ†∑ÂºèÁöÑ‰∏Ä‰∏™ËøáÊ∏°Âä®Áîª„ÄÇ Â∏∏Áî®ËØ≠Ê≥ïÔºöjQueryObject.animate( cssProperties [, duration ] [, easing ] [, complete ] )„ÄÇÂèÇÊï∞ÊèèËø∞cssPropertiesObjectÁ±ªÂûã‰∏Ä‰∏™ÊàñÂ§ö‰∏™cssÂ±ûÊÄßÁöÑÈîÆÂÄºÂØπÊâÄÊûÑÊàêÁöÑObjectÂØπË±°„ÄÇdurationÂèØÈÄâ/String/NumberÁ±ªÂûãÊåáÂÆöÂä®ÁîªËøêË°åÂ§öÈïøÊó∂Èó¥ÔºàÊØ´ÁßíÊï∞ÔºâÔºåÈªòËÆ§ÂÄº‰∏∫400„ÄÇËØ•ÂèÇÊï∞‰πüÂèØ‰ª•‰∏∫Â≠óÁ¨¶‰∏≤‚Äùfast‚ÄùÔºà=200ÔºâÊàñ‚Äùslow‚ÄùÔºà=600Ôºâ„ÄÇeasingÂèØÈÄâ/StringÁ±ªÂûãÊåáÂÆö‰ΩøÁî®‰ΩïÁßçÂä®ÁîªÊïàÊûúÔºåÈªòËÆ§‰∏∫‚Äùswing‚ÄùÔºåËøòÂèØ‰ª•ËÆæ‰∏∫ ‚Äúlinear‚ÄùÊàñÂÖ∂‰ªñËá™ÂÆö‰πâÁöÑÂä®ÁîªÊ†∑ÂºèÂáΩÊï∞„ÄÇcompleteÂèØÈÄâ/FunctionÁ±ªÂûãÂÖÉÁ¥†ÊòæÁ§∫ÂÆåÊØïÂêéÈúÄË¶ÅÊâßË°åÁöÑÂáΩÊï∞„ÄÇÂáΩÊï∞ÂÜÖÁöÑthisÊåáÂêëÂΩìÂâçDOMÂÖÉÁ¥†„ÄÇÂ§ßÂ§öÊï∞ÈùûÊï∞ÂÄºÁöÑcssÂ±ûÊÄßÈÉΩÊó†Ê≥ïÁî®Êù•ÊâßË°åÂä®Áîª„ÄÇ‰æãÂ¶ÇÔºöwidth„ÄÅheight„ÄÅleft„ÄÅtopÈÉΩÂèØÁî®‰∫éÂä®ÁîªÔºå‰ΩÜcolor„ÄÅbackground-colorÊó†Ê≥ïÁî®‰∫éÂä®ÁîªÔºàÈô§Èùû‰ΩøÁî®jQuery.Color()Êèí‰ª∂Ôºâ„ÄÇÈô§Èùû‰Ω†‰∏∫Â±ûÊÄßÂÄºÊåáÂÆö‰∫ÜÂçï‰ΩçÔºà‰æãÂ¶ÇÔºöpx„ÄÅem„ÄÅ%ÔºâÔºåÂê¶ÂàôÈªòËÆ§ÁöÑÊï∞ÂÄºÂçï‰Ωç‰∏∫ÂÉèÁ¥†ÔºàpxÔºâ„ÄÇÈÄüÂÜôÁöÑcssÂ±ûÊÄßÂèØËÉΩÊó†Ê≥ïËé∑ÂæóÂÆåÊï¥ÂÖ®Èù¢ÁöÑÊîØÊåÅÔºå‰æãÂ¶ÇÔºöborder„ÄÅmarginÁ≠âÔºåÂõ†Ê≠§‰∏çÊé®Ëçê‰ΩøÁî®„ÄÇ‰Ω†ËøòÂèØ‰ª•Â∞ÜcssÂ±ûÊÄßÂÄºËÆæ‰∏∫‰∏Ä‰∫õÁâπÂÆöÁöÑÂ≠óÁ¨¶‰∏≤Ôºå‰æãÂ¶ÇÔºö‚Äùshow‚Äù„ÄÅ‚Äùhide‚Äù„ÄÅ‚Äùtoggle‚ÄùÔºåÂàôjQuery‰ºöË∞ÉÁî®ËØ•Â±ûÊÄßÈªòËÆ§ÁöÑÂä®ÁîªÂΩ¢Âºè„ÄÇÊ≠§Â§ñÔºåcssÂ±ûÊÄßÂÄº‰πüÂèØ‰ª•ÊòØÁõ∏ÂØπÁöÑÔºå‰Ω†ÂèØ‰ª•‰∏∫Â±ûÊÄßÂÄºÂä†‰∏äÂâçÁºÄ‚Äù+=‚ÄùÊàñ‚Äù-=‚ÄùÔºå‰ª•‰æø‰∫éÂú®ÂéüÊù•ÁöÑÂ±ûÊÄßÂÄº‰∏äÂ¢ûÂä†ÊàñÂáèÂ∞ëÊåáÂÆöÁöÑÊï∞ÂÄº„ÄÇ‰æãÂ¶ÇÔºö{ &quot;height&quot;: &quot;+=100px&quot; }ÔºåË°®Á§∫Âú®ÂéüÊúâÈ´òÂ∫¶ÁöÑÂü∫Á°Ä‰∏äÂ¢ûÂä†100px„ÄÇ‰æãÂ¶ÇÔºåÁªôdivÈ´òÂ∫¶Ë∞ÉÊï¥‰∏∫300pxÔºåÂÆΩÂ∫¶Ë∞ÉÊï¥‰∏∫400pxÔºåÂä®ÁîªÊó∂Èïø‰∏∫slowÔºö1$("div").animate( &#123; width: "400px", height: "300px" &#125;, "slow" );Ê†πÊçÆdivÈ´òÂ∫¶ÂàáÊç¢ÊòæÁ§∫/ÈöêËóèÔºåÊòæÁ§∫Êó∂È´òÂ∫¶‰ªé0Â¢ûÂä†Âà∞ÂéüÈ´òÂ∫¶ÔºåÈöêËóèÊó∂È´òÂ∫¶‰ªéÂéüÈ´òÂ∫¶ÂáèÂ∞èÂà∞0Ôºö1$("div").animate( &#123; height: "toggle" &#125;);stop()Áî®‰∫éÂÅúÊ≠¢ÂΩìÂâçÂåπÈÖçÂÖÉÁ¥†‰∏äÊ≠£Âú®ËøêË°åÁöÑÂä®Áîª„ÄÇÊØîÂ¶ÇdivÁªëÂÆö‰∫Ü‰∏â‰∏™animateÂä®ÁîªÂáΩÊï∞Ôºö123var $myDiv = $("div");$myDiv.animate( &#123; height: "+=300px" &#125;, 2000 ); // Âä®Áîª1$myDiv.animate( &#123; width: "50%" &#125;, 1000 ); // Âä®Áîª2ÂÅáËÆæÂΩìÂâçdivÂÖÉÁ¥†Ê≠£Âú®ÊâßË°åÁ¨¨‰∏Ä‰∏™Âä®ÁîªÔºåÊ≠§Êó∂ÊâßË°å‰ª•‰∏ãstop()ÂáΩÊï∞Êó∂ÔºåÊïàÊûú‰∏∫Ôºö1234$myDiv.stop( ); // È©¨‰∏äÂÅúÊ≠¢Âä®Áîª1ÔºåÁªßÁª≠ÊåâÈ°∫Â∫èÊâßË°åÂä®Áîª2ÂíåÂä®Áîª3$myDiv.stop( true ); // È©¨‰∏äÂÅúÊ≠¢Âä®Áîª1ÔºåÂπ∂‰∏î‰∏çÂÜçÊâßË°åÂä®Áîª2ÂíåÂä®Áîª3$myDiv.stop( "fx", true ); // ÊïàÊûúÂíå$myDiv.stop( true );‰∏ÄÊ†∑$myDiv.stop( true, true ); // Á´ãÂàªÈ©¨‰∏äÊâßË°åÂÆåÂä®Áîª1ÔºåÂπ∂‰∏çÂÜçÊâßË°åÂä®Áîª2ÂíåÂä®Áîª3delay()Áî®‰∫éÂª∂ËøüÈòüÂàó‰∏≠‰∏ã‰∏ÄÈ°πÁöÑÊâßË°å„ÄÇdelay()ÂèØ‰ª•Â∞ÜÈòüÂàó‰∏≠Á≠âÂæÖÊâßË°åÁöÑ‰∏ã‰∏Ä‰∏™Âä®ÁîªÂª∂ËøüÊåáÂÆöÁöÑÊó∂Èó¥ÂêéÊâçÊâßË°å„ÄÇÂÆÉÂ∏∏Áî®Âú®ÈòüÂàó‰∏≠ÁöÑ‰∏§‰∏™jQueryÊïàÊûúÂáΩÊï∞‰πãÈó¥Ôºå‰ªéËÄåÂú®‰∏ä‰∏Ä‰∏™Âä®ÁîªÊïàÊûúÊâßË°åÂêéÂª∂Ëøü‰∏ã‰∏Ä‰∏™Âä®ÁîªÊïàÊûúÁöÑÊâßË°åÊó∂Èó¥„ÄÇ Â¶ÇÊûú‰∏ã‰∏ÄÈ°π‰∏çÊòØÊïàÊûúÂä®ÁîªÔºàÊØîÂ¶Çshow()Â∞±‰∏çÊòØÊïàÊûúÂä®ÁîªÔºâÔºåÂàôÂÆÉ‰∏ç‰ºöË¢´Âä†ÂÖ•ÊïàÊûúÈòüÂàó‰∏≠ÔºåÂõ†Ê≠§ËØ•ÂáΩÊï∞‰∏ç‰ºöÂØπÂÆÉËøõË°åÂª∂ËøüË∞ÉÁî®„ÄÇ ÊØîÂ¶ÇÔºö123var $myDiv = $("div");$myDiv.slideUp( 1000 ).delay( 5000 ).slideDown( 1500 );//ÂÖàÊâßË°åslideUp()ÔºåÁÑ∂ÂêéÁ≠âÂæÖ5sÔºåÂú®ÊâßË°åslideDown()finish()ÂÅúÊ≠¢ÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑÂä®ÁîªÔºåÂà†Èô§ÊâÄÊúâÈòüÂàó‰∏≠ÁöÑÂä®ÁîªÔºåÁõ¥Êé•ÊòæÁ§∫ÊúÄÁªàÂä®ÁîªÊâßË°åÂÆåÊØïÁöÑÊïàÊûú„ÄÇÊØîÂ¶ÇdivÁªëÂÆö‰∫Ü‰∏â‰∏™animateÂä®ÁîªÂáΩÊï∞Ôºö1234var $myDiv = $("div");$myDiv.animate( &#123; height: "+=300px" &#125;, 2000 ); // Âä®Áîª1$myDiv.animate( &#123; width: "50%" &#125;, 1000 ); // Âä®Áîª2$myDiv.animate( &#123; width: "200px", height: "100px" &#125;, 1000 ); // Âä®Áîª3ÂÅáËÆæÂΩìÂâçdivÂÖÉÁ¥†Ê≠£Âú®ÊâßË°åÁ¨¨‰∏Ä‰∏™Âä®ÁîªÔºåÊ≠§Êó∂ÊâßË°åfinish()ÂáΩÊï∞Êó∂ÔºåÁ´ãÂàªÂÅúÊ≠¢ÂΩìÂâçÂä®ÁîªÔºåÂπ∂‰∏îdivÁõ¥Êé•Âèò‰∏∫ÊúÄÁªàÁä∂ÊÄÅÔºàwidth: &quot;200px&quot;, height: &quot;100px&quot;Ôºâ„ÄÇËÆæÁΩÆjQuery.fx.intervalÁî®‰∫éËÆæÁΩÆjQueryÂä®ÁîªÊØèÈöîÂ§öÂ∞ëÊØ´ÁßíÁªòÂà∂‰∏ÄÂ∏ßÂõæÂÉèÔºåËØ•ÂÄºË∂äÂ∞èÔºåÂàôÂä®ÁîªÁöÑËß¶ÂèëÊ¨°Êï∞Ë∂äÂ§öÔºåÂä®ÁîªÊïàÊûú‰πüÊõ¥ÊòéÊòæ„ÄÅÊõ¥Âπ≥ÊªëÔºåÂΩìÁÑ∂‰πüÂ∞±Ë∂äËÄóË¥πÊÄßËÉΩÔºåÈªòËÆ§ÂÄº‰∏∫13„ÄÇËÆæÁΩÆÂ∏ßÊï∞‰∏∫5Ôºö1$.fx.interval = 5;jQuery.fx.offÂÖ≥Èó≠È°µÈù¢‰∏äÊâÄÊúâÁöÑÂä®Áîª„ÄÇÊääËøô‰∏™Â±ûÊÄßËÆæÁΩÆ‰∏∫trueÂèØ‰ª•Á´ãÂç≥ÂÖ≥Èó≠ÊâÄÊúâÂä®ÁîªÔºàÊâÄÊúâÊïàÊûú‰ºöÁ´ãÂç≥ÊâßË°åÂÆåÊØïÔºâ„ÄÇ Êúâ‰∫õÊÉÖÂÜµ‰∏ãÂèØËÉΩÈúÄË¶ÅËøôÊ†∑ÔºåÊØîÂ¶Ç‰Ω†Âú®ÈÖçÁΩÆÊØîËæÉ‰ΩéÁöÑÁîµËÑë‰∏ä‰ΩøÁî®jQuery„ÄÇÂΩìÊääËøô‰∏™Â±ûÊÄßËÆæÊàêfalse‰πãÂêéÔºåÂèØ‰ª•ÈáçÊñ∞ÂºÄÂêØÊâÄÊúâÂä®Áîª„ÄÇ Á¶ÅÁî®Âä®ÁîªÊïàÊûúÔºö1$.fx.off = true; // Á¶ÅÁî®Âä®ÁîªÊïàÊûúÂèÇËÄÉÁΩëÁ´ôÔºöhttp://www.365mini.com/http://caibaojian.com/jquery/]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryÂ∑•ÂÖ∑ÂáΩÊï∞]]></title>
    <url>%2FjQuery%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0.html</url>
    <content type="text"><![CDATA[Êï∞ÁªÑÂíåÂØπË±°Êìç‰Ωú$.each()Áî®‰∫éÈÅçÂéÜÂØπË±°ÊàñÊï∞ÁªÑÔºöjQuery.each(array,callback)ÊàñjQuery.each(object,callback)„ÄÇ ‰æãÂ¶ÇÔºåÈÅçÂéÜÊï∞ÁªÑÔºö123$.each([ 27, 41 ], function( index, value ) &#123; console.log( index + ": " + value );&#125;);ÈÅçÂéÜÂØπË±°Ôºö1234567var obj = &#123; "name": "mrbird", "age": "24"&#125;;$.each( obj, function( key, value ) &#123; console.log( key + ": " + value );&#125;)$.extend()Â∞Ü‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂØπË±°ÁöÑÂÜÖÂÆπÂêàÂπ∂Âà∞Á¨¨‰∏Ä‰∏™ÂØπË±°‰∏≠„ÄÇÊúâ‰∏§ÁßçÊûÑÈÄ†ÂáΩÊï∞ÔºöjQuery.extend( target [, object1 ] [, objectN... ] )ÂíåjQuery.extend( [ deep ], target , object1 [, objectN... ] )„ÄÇÂ¶ÇÊûúÂ§ö‰∏™ÂØπË±°ÂÖ∑ÊúâÁõ∏ÂêåÁöÑÂ±ûÊÄßÔºåÂàôÂêéËÄÖ‰ºöË¶ÜÁõñÂâçËÄÖÁöÑÂ±ûÊÄßÂÄº„ÄÇÂèÇÊï∞ÊèèËø∞deepÂèØÈÄâBooleanÁ±ªÂûã ÊåáÁ§∫ÊòØÂê¶Ê∑±Â∫¶ÂêàÂπ∂ÂØπË±°ÔºåÈªòËÆ§‰∏∫falseÔºå‰∏çËÉΩÊòéÂÜôfalse„ÄÇÂ¶ÇÊûúËØ•ÂÄº‰∏∫trueÔºå‰∏îÂ§ö‰∏™ÂØπË±°ÁöÑÊüê‰∏™ÂêåÂêçÂ±ûÊÄß‰πüÈÉΩÊòØÂØπË±°ÔºåÂàôËØ•‚ÄùÂ±ûÊÄßÂØπË±°‚ÄùÁöÑÂ±ûÊÄß‰πüÂ∞ÜËøõË°åÂêàÂπ∂„ÄÇtargetObjectÁ±ªÂûãÁõÆÊ†áÂØπË±°ÔºåÂÖ∂‰ªñÂØπË±°ÁöÑÊàêÂëòÂ±ûÊÄßÂ∞ÜË¢´Â§çÂà∂Âà∞ËØ•ÂØπË±°‰∏ä„ÄÇobject1ÂèØÈÄâ/ObjectÁ±ªÂûãÁ¨¨‰∏Ä‰∏™Ë¢´ÂêàÂπ∂ÁöÑÂØπË±°„ÄÇobjectNÂèØÈÄâ/ObjectÁ±ªÂûãÁ¨¨N‰∏™Ë¢´ÂêàÂπ∂ÁöÑÂØπË±°„ÄÇ‰æãÂ¶ÇÔºåÂêàÂπ∂‰∏§‰∏™ÂØπË±°Ôºå‰øÆÊîπÁ¨¨‰∏Ä‰∏™ÂØπË±°Ôºö123456789101112var object1 = &#123; apple: 0, banana: &#123; weight: 52, price: 100 &#125;, cherry: 97&#125;;var object2 = &#123; banana: &#123; price: 200 &#125;, durian: 100&#125;;$.extend( object1, object2 );console.log(JSON.stringify( object1 )); // &#123;"apple":0,"banana":&#123;"price":200&#125;,"cherry":97,"durian":100&#125;ÈÄíÂΩíÂêàÂπ∂‰∏§‰∏™ÂØπË±°Ôºå‰øÆÊîπÁ¨¨‰∏Ä‰∏™ÂØπË±°Ôºö12$.extend( true, object1, object2 );// &#123;"apple":0,"banana":&#123;"weight":52,"price":200&#125;,"cherry":97,"durian":100&#125;$.grep()ÂáΩÊï∞Áî®‰∫é‰ΩøÁî®ÊåáÂÆöÁöÑÂáΩÊï∞ËøáÊª§Êï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõûËøáÊª§ÂêéÁöÑÊï∞ÁªÑ„ÄÇ Ê∫êÊï∞ÁªÑ‰∏ç‰ºöÂèóÂà∞ÂΩ±ÂìçÔºåËøáÊª§ÁªìÊûúÂè™ÂèçÊò†Âú®ËøîÂõûÁöÑÁªìÊûúÊï∞ÁªÑ‰∏≠„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1jQuery.grep( array, function [, invert ] )ÂèÇÊï∞ÊèèËø∞arrayArrayÁ±ªÂûã Â∞ÜË¢´ËøáÊª§ÁöÑÊï∞ÁªÑ„ÄÇfunctionFunctionÁ±ªÂûã ÊåáÂÆöÁöÑËøáÊª§ÂáΩÊï∞„ÄÇinvertÂèØÈÄâ/BooleanÁ±ªÂûã ÈªòËÆ§ÂÄº‰∏∫ false „ÄÇÊåáÂÆöÊòØÂê¶ÂèçËΩ¨ËøáÊª§ÁªìÊûú„ÄÇ‰æãÂ¶ÇÔºö12345678$.grep( [ 0, 1, 2 ], function( n, i ) &#123; return n &gt; 0;&#125;);// [1, 2]$.grep( [ 0, 1, 2 ], function( n, i ) &#123; return n &gt; 0;&#125;,true);// [0]$.makeArray()Â∞Ü‰∏Ä‰∏™Á±ªÊï∞ÁªÑÂØπË±°ËΩ¨Êç¢‰∏∫ÁúüÊ≠£ÁöÑÊï∞ÁªÑÂØπË±°„ÄÇ‰æãÂ¶ÇÔºö1234var obj = &#123; 0: "mrbird", 1: "blog", 2: true &#125;;console.log(obj instanceof Array); // falsevar arr = $.makeArray(obj);console.log(arr instanceof Array); // true$.map()Áî®‰∫éÂ§ÑÁêÜÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†(ÊàñÂØπË±°ÁöÑÊØè‰∏™Â±ûÊÄß)ÔºåÂπ∂Â∞ÜÂ§ÑÁêÜÁªìÊûúÂ∞ÅË£Ö‰∏∫Êñ∞ÁöÑÊï∞ÁªÑËøîÂõû„ÄÇ‰æãÂ¶ÇÔºöÂ∞ÜÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÄº+4ÔºåÂπ∂ËøîÂõûÔºö1234var arr = $.map( [ 0, 1, 2 ], function( n ) &#123; return n + 4;&#125;);console.log(arr); // [4, 5, 6]Êï∞ÁªÑ‰∏≠Â§ß‰∫é0ÁöÑÂÄº+1ÔºåÂ∞è‰∫é0ÁöÑÂà†Èô§Ôºö1234var arr = $.map( [ -3, 0, 1, 5 ], function( n ) &#123; return n &gt; 0 ? n + 1 : null;&#125;);console.log(arr); // [2, 6]Â∞ÜÂéüÂßãÊï∞ÁªÑÊò†Â∞ÑÂà∞Êñ∞ÁöÑÊï∞ÁªÑÔºåÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÂä†‰∏äÂÖ∂ÂéüÂßãÂÄºÂíåÂÄºÂä†1Ôºö1234var arr = $.map( [ 0, 1, 2 ], function( n ) &#123; return [ n, n + 1 ];&#125;);console.log(arr); // [ 0, 1, 1, 2, 2, 3 ]Â∞ÜÂØπË±°ÁöÑÈîÆÊò†Â∞ÑÂà∞Êï∞ÁªÑÔºö12345var obj = &#123; width: 10, height: 15, length: 20 &#125;;var keys = $.map( obj, function( value, key ) &#123; return key;&#125;);console.log(obj); // [ "width", "height", "length" ]$.inArray()Áî®‰∫éÂú®Êï∞ÁªÑ‰∏≠ÊêúÁ¥¢ÊåáÂÆöÁöÑÂÄºÔºåÂπ∂ËøîÂõûÂÖ∂Á¥¢ÂºïÂÄº„ÄÇÂ¶ÇÊûúÊï∞ÁªÑ‰∏≠‰∏çÂ≠òÂú®ËØ•ÂÄºÔºåÂàôËøîÂõû -1„ÄÇ1234var arr = [ 4, "Pete", 8, "John" ];console.log($.inArray( "John", arr )); // 3console.log($.inArray( 4, arr )); // 0console.log($.inArray( "mrbird", arr )); // -1$merge()Â∞Ü‰∏§‰∏™Êï∞ÁªÑÁöÑÂÜÖÂÆπÂêàÂπ∂Âà∞Á¨¨‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠„ÄÇ‰æãÂ¶ÇÔºö12var arr = $.merge( [ 0, 1, 2 ], [ 2, 3, 4 ] )console.log(arr); // [0, 1, 2, 2, 3, 4]ÂáΩÊï∞Êìç‰Ωú$.noop()ÂáΩÊï∞‰∏∫‰∏Ä‰∏™Á©∫ÂáΩÊï∞Ôºå‰ªÄ‰πà‰πü‰∏çÂÅö„ÄÇÂÖ∂Ê∫êÁ†Å‰∏∫Ôºö1noop: function() &#123;&#125;$.proxy()Áî®‰∫éÊîπÂèòÂáΩÊï∞ÁöÑ‰∏ä‰∏ãÊñá„ÄÇ‰Ω†ÂèØ‰ª•Â∞ÜÊåáÂÆöÂáΩÊï∞‰º†ÂÖ•ËØ•ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Â∞ÜËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåÂÖ∂ÊâßË°å‰ª£Á†Å‰∏çÂèòÔºå‰ΩÜÂáΩÊï∞ÂÜÖÈÉ®ÁöÑ‰∏ä‰∏ãÊñáthisÂ∑≤ÁªèË¢´Êõ¥Êîπ‰∏∫ÊåáÂÆöÂÄº„ÄÇ ‰æãÂ¶ÇÔºö12345678function test()&#123; console.log(this); &#125;test(); // Window var object = &#123; name : "mrbird", age : 100 &#125;var proxy = $.proxy(test,object);proxy(); // ObjectÊµãËØïÊìç‰Ωú$.contains()Áî®‰∫éÂà§Êñ≠ÊåáÂÆöÂÖÉÁ¥†ÂÜÖÊòØÂê¶ÂåÖÂê´Âè¶‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ ÁÆÄËÄåË®Ä‰πãÔºåËØ•ÂáΩÊï∞Áî®‰∫éÂà§Êñ≠Âè¶‰∏Ä‰∏™DOMÂÖÉÁ¥†ÊòØÂê¶ÊòØÊåáÂÆöDOMÂÖÉÁ¥†ÁöÑÂêé‰ª£„ÄÇjQuery.contains()‰ªÖÁî®‰∫éÊØîËæÉ‰∏§‰∏™DOMÂÖÉÁ¥†Ôºå‰∏çËÉΩÁî®‰∫éÊØîËæÉnodeListÊàñËÄÖjQueryÂØπË±°„ÄÇ‰æãÂ¶ÇÔºö123456&lt;div id="n1"&gt; &lt;p id="n2"&gt; &lt;span id="n3"&gt;leanote&lt;/span&gt; &lt;/p&gt;&lt;/div&gt;&lt;p id="n4"&gt;mrbird's blog&lt;/p&gt;12345678var $n1 = $("#n1")[0];var $n2 = $("#n2")[0];var $n3 = $("#n3")[0];var $n4 = $("#n4")[0]; console.log( $.contains( $n1, $n2 ) ); // trueconsole.log( $.contains( $n1, $n3 ) ); // trueconsole.log( $.contains( $n1, $n4 ) ); // false$.type()Áî®‰∫éÁ°ÆÂÆöJavaScriptÂÜÖÁΩÆÂØπË±°ÁöÑÁ±ªÂûãÔºåÂπ∂ËøîÂõûÂ∞èÂÜôÂΩ¢ÂºèÁöÑÁ±ªÂûãÂêçÁß∞„ÄÇJavaScript‰πüËá™Â∏¶Êúâ‰∏Ä‰∏™typeofËøêÁÆóÁ¨¶ÔºåÂèØ‰ª•Á°ÆÂÆöÊï∞ÊçÆÁöÑÁ±ªÂûã„ÄÇ‰∏çËøáÂØπ‰∫éÁªùÂ§ßÂ§öÊï∞ÂØπË±°ËÄåË®ÄÔºåtypeofËøêÁÆóÁ¨¶ÈÉΩËøîÂõûObjectÔºåÊó†Ê≥ïÂå∫ÂàÜÂÖ∑‰ΩìÁöÑÁ±ªÂûã„ÄÇ$.type()ÂèØ‰ª•Êõ¥Âä†Á≤æÁ°ÆÂú∞Á°ÆÂÆöJSÂÜÖÁΩÆÂØπË±°ÁöÑÁ±ªÂûã„ÄÇ123456789101112131415161718192021console.log( $.type( undefined ) ); // undefinedconsole.log( $.type( null ) ); // nullconsole.log( $.type( true ) ); // booleanconsole.log( $.type( new Boolean(false) ) ); // booleanconsole.log( $.type( 3 ) ); // numberconsole.log( $.type( new Number(3) ) ); // numberconsole.log( $.type( "test" ) ); // stringconsole.log( $.type( new String("test") ) ); // stringconsole.log( $.type( function()&#123;&#125; ) ); // functionconsole.log( $.type( new Function() ) ); // functionconsole.log( $.type( [] ) ); // arrayconsole.log( $.type( new Array() ) ); // arrayconsole.log( $.type( new Date() ) ); // dateconsole.log( $.type( new Error() ) ); // errorconsole.log( $.type( /test/ ) ); // regexpconsole.log( $.type( new RegExp("\\d+") ) ); // regexp /* Èô§‰∏äËø∞Á±ªÂûãÁöÑÂØπË±°Â§ñÔºåÂÖ∂‰ªñÂØπË±°‰∏ÄÂæãËøîÂõû"object" */console.log( $.type( &#123;&#125; ) ); // objectfunction User() &#123; &#125;console.log( $.type( new User() ) ); // object$.isArray()Áî®‰∫éÂà§Êñ≠ÊåáÂÆöÂèÇÊï∞ÊòØÂê¶ÊòØ‰∏Ä‰∏™Êï∞ÁªÑ„ÄÇ$.isFunction()Áî®‰∫éÂà§Êñ≠ÊåáÂÆöÂèÇÊï∞ÊòØÂê¶ÊòØ‰∏Ä‰∏™ÂáΩÊï∞„ÄÇ$.isEmptyObject()Áî®‰∫éÂà§Êñ≠ÊåáÂÆöÂèÇÊï∞ÊòØÂê¶ÊòØ‰∏Ä‰∏™Á©∫ÂØπË±°„ÄÇ123console.log( $.isEmptyObject( &#123; &#125; ) ); // trueconsole.log( $.isEmptyObject( new Object() ) ); // trueconsole.log( $.isEmptyObject( new Function() ) ); // true$.isPlainObject()Áî®‰∫éÂà§Êñ≠ÊåáÂÆöÂèÇÊï∞ÊòØÂê¶ÊòØ‰∏Ä‰∏™Á∫ØÁ≤πÁöÑÂØπË±°„ÄÇ ÊâÄË∞ì‚ÄúÁ∫ØÁ≤πÁöÑÂØπË±°‚ÄùÔºåÂ∞±ÊòØËØ•ÂØπË±°ÊòØÈÄöËøá{}Êàñnew ObjectÂàõÂª∫ÁöÑ„ÄÇ123456console.log( $.isPlainObject( &#123; &#125; ) ); // trueconsole.log( $.isPlainObject( new Object() ) ); // trueconsole.log( $.isPlainObject( &#123; name: "CodePlayer"&#125; ) ); // trueconsole.log( $.isPlainObject( &#123; sayHi: function()&#123;&#125; &#125; ) ); // true console.log( $.isPlainObject( new Function() ) ); // false$.isWindow()Âà§Êñ≠ÂΩìÂâçÂØπË±°ÊòØÂê¶‰∏∫ÊµèËßàÂô®ÂÜÖÁΩÆÁöÑWindowÂØπË±°„ÄÇ12console.log( $.isWindow( this ) ); // trueconsole.log( $.isWindow( window ) ); // true$.isNumeric()Áî®‰∫éÂà§Êñ≠ÊåáÂÆöÂèÇÊï∞ÊòØÂê¶ÊòØ‰∏Ä‰∏™Êï∞Â≠óÂÄº„ÄÇÂ≠óÁ¨¶‰∏≤Êìç‰Ωú$.trim()ËØ•ÂáΩÊï∞ÂèØ‰ª•ÂéªÈô§Â≠óÁ¨¶‰∏≤ÂºÄÂßãÂíåÊú´Â∞æ‰∏§Á´ØÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶(Áõ¥Âà∞ÈÅáÂà∞Á¨¨‰∏Ä‰∏™ÈùûÁ©∫ÁôΩÂ≠óÁ¨¶‰∏≤‰∏∫Ê≠¢)„ÄÇÂÆÉ‰ºöÊ∏ÖÈô§ÂåÖÊã¨Êç¢Ë°åÁ¨¶„ÄÅÁ©∫Ê†º„ÄÅÂà∂Ë°®Á¨¶Á≠âÂ∏∏ËßÅÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶„ÄÇÂ¶ÇÊûúÂèÇÊï∞str‰∏çÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºåËØ•ÂáΩÊï∞Â∞ÜËá™Âä®Â∞ÜÂÖ∂ËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤Ôºà‰∏ÄËà¨Ë∞ÉÁî®ÂÖ∂toString()ÊñπÊ≥ïÔºâ„ÄÇÂ¶ÇÊûúÂèÇÊï∞str‰∏∫nullÊàñundefinedÔºåÂàôËøîÂõûÁ©∫Â≠óÁ¨¶‰∏≤„ÄÇURL$.param()Áî®‰∫éÂ∞Ü‰∏Ä‰∏™JSÊï∞ÁªÑÊàñÁ∫ØÁ≤πÁöÑÂØπË±°Â∫èÂàóÂåñ‰∏∫Â≠óÁ¨¶‰∏≤ÂÄºÔºå‰ª•‰æøÁî®‰∫éURLÊü•ËØ¢Â≠óÁ¨¶‰∏≤ÊàñAJAXËØ∑Ê±Ç„ÄÇÂ¶ÇÊûú‰º†ÂÖ•ÁöÑ‰∏çÊòØÊï∞ÁªÑÊàñ‚ÄúÁ∫ØÁ≤πÁöÑÂØπË±°‚ÄùÔºåÂàôËøîÂõûÁ©∫Â≠óÁ¨¶‰∏≤ÔºõÂ¶ÇÊûú‰º†ÂÖ•ÁöÑÊòØnull„ÄÅundefinedÁ≠âÊó†Ê≥ïËÆøÈóÆÂ±ûÊÄßÁöÑÂÄºÔºåÂàôÁõ¥Êé•Êä•Èîô„ÄÇÊâÄË∞ì‚ÄúÁ∫ØÁ≤πÁöÑÂØπË±°‚ÄùÔºåÂ∞±ÊòØÈÄöËøá{}Êàñnew Object()Ëá™Ë°åÂàõÂª∫ÁöÑÂØπË±°„ÄÇJSÂÜÖÁΩÆÁöÑBoolean„ÄÅNumber„ÄÅString„ÄÅDate„ÄÅRegExp„ÄÅFunction„ÄÅWindowÁ≠âÁ±ªÂûãÁöÑÂØπË±°ÈÉΩ‰∏çÁÆóÊòØ‚ÄúÁ∫ØÁ≤πÁöÑÂØπË±°‚Äù„ÄÇËøîÂõûÁöÑÂ≠óÁ¨¶‰∏≤Â∑≤ÁªèËøáURLÁºñÁ†ÅÂ§ÑÁêÜÔºàÈááÁî®ÁöÑÂ≠óÁ¨¶ÈõÜ‰∏∫UTF-8Ôºâ„ÄÇÁúã‰∏Ä‰∫õ‰æãÂ≠êÔºö123// Â≠óÁ¨¶‰∏≤Â∞ÜË¢´Áúã‰Ωú‰∏Ä‰∏™Â≠óÁ¨¶Êï∞ÁªÑconsole.log( $.param( "mrbird" )); // 0=m&amp;1=r&amp;2=b&amp;3=i&amp;4=r&amp;5=dconsole.log( $.param( &#123; name:"mrbird", job:"Coder" &#125; )); // name=mrbird&amp;job=CoderÂ¶ÇÊûúÂèÇÊï∞ÊòØ‰∏Ä‰∏™Êï∞ÁªÑArrayÔºåÈÇ£‰πàÂÆÉÁöÑÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂåÖÂê´nameÂ±ûÊÄßÂíåvalueÂ±ûÊÄßÁöÑÂØπË±°ÔºåÂÖ∂‰ªñÂ±ûÊÄß‰∏ç‰ºöË¢´Â§ÑÁêÜÔºàvalueÂ±ûÊÄßÂèØ‰ª•Ê≤°ÊúâÔºåÈªòËÆ§ÂÖ∂ÂÄº‰∏∫undefinedÔºåÂ∞ÜË¢´ËΩ¨Êç¢‰∏∫Á©∫Â≠óÁ¨¶‰∏≤Ôºâ„ÄÇ‰æãÂ¶ÇÔºö123456var array = [ &#123; name: "name", value: "mrbird" &#125;, &#123; name: "age", value: 100, extra: "ignore" &#125;, &#123; name: "grade" &#125;];console.log( $.param( array )); // name=mrbird&amp;age=100&amp;grade=ÁºñÂÜôÊèí‰ª∂$.error()Áî®‰∫é‰∏∫ÊØè‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑerror‰∫ã‰ª∂ÁªëÂÆöÂ§ÑÁêÜÂáΩÊï∞„ÄÇ‰æãÂ¶ÇÂõæÁâáÂä†ËΩΩÂ§±Ë¥•Êó∂ÔºåÂºπÂá∫Ê°ÜÊèêÈÜíÔºö123$("img").error( function()&#123; alert( "ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•!" );&#125; );Êàë‰ª¨ËøòÂèØ‰ª•‰∏∫‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞‰º†ÈÄí‰∏Ä‰∫õÈôÑÂä†ÁöÑÊï∞ÊçÆÔºåÂπ∂Áî®EventÂØπË±°Ëé∑ÂèñÔºö123456var newImageURL = "../img/test.png"; $("img").error( newImageURL, function(event)&#123; this.src = event.data; console.log(event.data); // ../img/test.png&#125; );$.fn.jqueryÁî®‰∫éËøîÂõûÂΩìÂâçjQueryÂ∫ìÁöÑÁâàÊú¨Âè∑„ÄÇ1console.log($.fn.jquery); // 1.11.1ÊàñËÄÖ‰ΩøÁî®‰ªªÊÑèjQueryÂØπË±°ÁöÑjqueryÂ±ûÊÄßËÆøÈóÆÔºö1console.log($("body").jquery); // 1.11.1ÂèÇËÄÉÁΩëÁ´ôÔºöhttp://www.365mini.com/http://jquery.com/http://caibaojian.com/jquery/]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeanoteÂçöÂÆ¢‰∏ªÈ¢òSummer]]></title>
    <url>%2FLeanote%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98Summer.html</url>
    <content type="text"><![CDATA[Â§èÂ§©Âà∞‰∫ÜÔºåÊâÄ‰ª•‰∏ªÈ¢òÂêçÂ≠óÂ∞±Âè´SummerÂêß„ÄÇ‰∏ªÈ¢òÂèÇËÄÉËá™https://cn.vuejs.org/v2/api/„ÄÇemoji‰ΩúËÄÖColinXu„ÄÇÁî±‰∫éÊØè‰∏™‰∫∫ÂçïÈ°µÁöÑËø•ÂºÇÔºåÊâÄ‰ª•ÊàëÊääËá™ÂÆö‰πâÁöÑÂçïÈ°µÂéªÊéâ‰∫Ü„ÄÇÂçïÈ°µÊ†∑ÂºèËá™ÂÆö‰πâÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÊÄùË∑ØÔºö123456&#123;&#123;if eq $.single.Title "Friends"&#125;&#125; &#123;&#123;template "friends.html" $&#125;&#125;&#123;&#123;end&#125;&#125;&#123;&#123;if eq $.single.Title "Music"&#125;&#125; &#123;&#123;template "music.html" $&#125;&#125;&#123;&#123;end&#125;&#125;ÂÖ≥‰∫éË≠¶ÂëäÊ°ÜÔºåÂú®Á¨îËÆ∞ÁºñËæëÂô®ÈáåÈÄâ‰∏≠ÊñáÂ≠óÂä†‰∏ãÂàíÁ∫øÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ‰∏ªÈ¢òÂ∑≤‰∏äÊû∂‰∏ªÈ¢òÂ∏ÇÂú∫ÔºåÊúâ‰ªÄ‰πàÈóÆÈ¢òÊ¨¢ËøéÁïôË®Ä„ÄÇÊúÄÊñ∞Âú∞ÂùÄÔºögithub]]></content>
      <tags>
        <tag>Leanote</tag>
        <tag>theme</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryÁ≠õÈÄâÊìç‰Ωú]]></title>
    <url>%2FjQuery%E7%AD%9B%E9%80%89%E6%93%8D%E4%BD%9C.html</url>
    <content type="text"><![CDATA[jQueryÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑÁ≠õÈÄâÂáΩÊï∞Êù•ÂØπjQueryÈÄâÊã©Âô®ÈÄâÊã©ÁöÑÁªìÊûúËøõË°åÁ≠õÈÄâ„ÄÇÁ≠õÈÄâÂáΩÊï∞Â§ßËá¥ÂèØÂàÜ‰∏∫‰∏â‰∏™Á±ªÂà´ÔºöËøáÊª§ÔºåÊü•ÊâæÂíå‰∏≤ËÅî„ÄÇËøáÊª§eq(index)Ëé∑ÂèñÁ¨¨N‰∏™ÂÖÉÁ¥†„ÄÇindex‰∏∫ÂÖÉÁ¥†‰ΩçÁΩÆÔºå‰∏∫Ê≠£Êï∞Êó∂Ë°®Á§∫‰ªéÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂºÄÂßãÔºå‰ªé0ÁÆóËµ∑Ôºõ‰∏∫Ë¥üÊï∞Êó∂Ë°®Á§∫‰ªéÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÂºÄÂßãÔºå‰ªé-1ÂºÄÂßã„ÄÇ‰æãÂ¶ÇÔºåËé∑ÂèñÂåπÈÖçÁöÑÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†Ôºö12&lt;p&gt; This is just a test.&lt;/p&gt;&lt;p&gt; So is this&lt;/p&gt;1$("p").eq(1); // &lt;p&gt; So is this&lt;/p&gt; ‚ÄãËé∑ÂèñÂÄíÊï∞Á¨¨‰∫å‰∏™ÂÖÉÁ¥†Ôºö1$("p").eq(-2); //&lt;p&gt; This is just a test.&lt;/p&gt;first()Ëé∑ÂèñÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ‰æãÂ¶ÇÔºåËé∑ÂèñulÁöÑÁ¨¨‰∏Ä‰∏™liÔºö1234567&lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2&lt;/li&gt; &lt;li&gt;list item 3&lt;/li&gt; &lt;li&gt;list item 4&lt;/li&gt; &lt;li&gt;list item 5&lt;/li&gt;&lt;/ul&gt;1$('ul&gt;li').first(); // &lt;li&gt;list item 1&lt;/li&gt;last()Âíåfirst()Áõ∏ÂèçÔºåËé∑ÂèñÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇhasClass(class)hasClass()ÊñπÊ≥ïÊ£ÄÊü•Ë¢´ÈÄâÂÖÉÁ¥†ÊòØÂê¶ÂåÖÂê´ÊåáÂÆöÁöÑclass„ÄÇ‰æãÂ¶ÇÔºåÂà§Êñ≠ÈÄâ‰∏≠ÂÖÉÁ¥†ÊòØÂê¶Âê´ÊúâhappyÁ±ªÔºö1&lt;div class="happy"&gt;&lt;/div&gt;1var a = $("div").hasClass("happy"); //truefilter(selector,[fn])filter()ÊñπÊ≥ïÂ∞ÜÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêàÁº©Âáè‰∏∫ÂåπÈÖçÊåáÂÆöÈÄâÊã©Âô®ÁöÑÂÖÉÁ¥†„ÄÇselectorÔºöÂ≠óÁ¨¶‰∏≤ÂÄºÔºåÂåÖÂê´‰æõÂåπÈÖçÂΩìÂâçÂÖÉÁ¥†ÈõÜÂêàÁöÑÈÄâÊã©Âô®Ë°®ËææÂºè„ÄÇfnÔºöÂõûË∞ÉÂáΩÊï∞ÔºåÂèØÈÄâ„ÄÇ‰æãÂ¶ÇÔºå‰øùÁïôÂ∏¶ÊúâselectÁ±ªÁöÑÂÖÉÁ¥†Ôºö123&lt;p&gt;Hello&lt;/p&gt;&lt;p&gt;Hello Again&lt;/p&gt;&lt;p class="selected"&gt;And Again&lt;/p&gt;1$("p").filter(".selected"); //&lt;p class="selected"&gt;And Again&lt;/p&gt;‰ΩøÁî®ÂõûË∞ÉÂáΩÊï∞ÂÆûÁé∞Ôºö123$("p").filter(function(index)&#123; return $(this).hasClass('selected'); &#125;);thisÊåáÂΩìÂâçÈÅçÂéÜÁöÑÂÖÉÁ¥†ÔºåËøîÂõûtrueÁöÑÂÖÉÁ¥†Â∞ÜË¢´‰øùÁïô„ÄÇ‰øùÁïôÁ¨¨‰∏Ä‰∏™ÊàñÂ∏¶ÊúâselectÁ±ªÁöÑÂÖÉÁ¥†Ôºö1$("p").filter(".selected,:first"); // &lt;p&gt;Hello&lt;/p&gt;, &lt;p class="selected"&gt;And Again&lt;/p&gt;is(selector,[fn])is()Ê†πÊçÆÈÄâÊã©Âô®„ÄÅÂÖÉÁ¥†Êàñ jQuery ÂØπË±°Êù•Ê£ÄÊµãÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêàÔºåÂ¶ÇÊûúËøô‰∫õÂÖÉÁ¥†‰∏≠Ëá≥Â∞ëÊúâ‰∏Ä‰∏™ÂÖÉÁ¥†ÂåπÈÖçÁªôÂÆöÁöÑÂèÇÊï∞ÔºåÂàôËøîÂõû true„ÄÇfnÔºöÂõûË∞ÉÂáΩÊï∞ÔºåÂèØÈÄâ„ÄÇ‰æãÂ¶ÇÔºåÂà§Êñ≠inputÁöÑÁà∂ÂÖÉÁ¥†ÊòØÂê¶‰∏∫formÔºö123&lt;form&gt; &lt;input type="checkbox" /&gt;&lt;/form&gt;1$("input[type='checkbox']").parent().is("form") //true‰ΩøÁî®ÂõûË∞ÉÂáΩÊï∞ÂÆûÁé∞Ôºö123$("input[type='checkbox']").parent().is(function()&#123; return $(this)[0].nodeName == 'FORM'; &#125;);map(callback(index,domElement))map()ÊääÊØè‰∏™ÂÖÉÁ¥†ÈÄöËøáÂáΩÊï∞‰º†ÈÄíÂà∞ÂΩìÂâçÂåπÈÖçÈõÜÂêà‰∏≠ÔºåÁîüÊàêÂåÖÂê´ËøîÂõûÂÄºÁöÑÊñ∞ÁöÑ jQuery ÂØπË±°„ÄÇ‰æãÂ¶ÇÔºåÊúâÂ¶Ç‰∏ãË°®ÂçïÔºåË¶ÅËé∑Âèñ‰ª•ÈÄóÂè∑ÂàÜÈöîÁöÑÂ§çÈÄâÊ°ÜÂàóË°®IDÔºö1234567891011121314151617181920&lt;form method="post" action=""&gt; &lt;fieldset&gt; &lt;div&gt; &lt;label for="two"&gt;2&lt;/label&gt; &lt;input type="checkbox" value="2" id="two" name="number[]"&gt; &lt;/div&gt; &lt;div&gt; &lt;label for="four"&gt;4&lt;/label&gt; &lt;input type="checkbox" value="4" id="four" name="number[]"&gt; &lt;/div&gt; &lt;div&gt; &lt;label for="six"&gt;6&lt;/label&gt; &lt;input type="checkbox" value="6" id="six" name="number[]"&gt; &lt;/div&gt; &lt;div&gt; &lt;label for="eight"&gt;8&lt;/label&gt; &lt;input type="checkbox" value="8" id="eight" name="number[]"&gt; &lt;/div&gt; &lt;/fieldset&gt;&lt;/form&gt;123$(':checkbox').map(function() &#123; return this.id;&#125;).get().join(','); //"two,four,six,eight"has(selector)has()Â∞ÜÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêàÁº©Âáè‰∏∫Êã•ÊúâÂåπÈÖçÊåáÂÆöÈÄâÊã©Âô®Êàñ DOM ÂÖÉÁ¥†ÁöÑÂêé‰ª£ÁöÑÂ≠êÈõÜ„ÄÇ‰æãÂ¶ÇÔºåÊúâÂ¶Ç‰∏ãÂµåÂ•óÁöÑÂàóË°®Ôºö1234567891011&lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2 &lt;ul&gt; &lt;li&gt;list item 2-a&lt;/li&gt; &lt;li&gt;list item 2-b&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt;list item 3&lt;/li&gt; &lt;li&gt;list item 4&lt;/li&gt;&lt;/ul&gt;Áé∞Âú®ÁªôÂåÖÂê´ulÁöÑliÊ∑ªÂä†Á∫¢Ëâ≤ËÉåÊôØËâ≤Ôºö1$( "li" ).has( "ul" ).css( "background-color", "red" );not()not()‰ªéÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêà‰∏≠Âà†Èô§ÂÖÉÁ¥†„ÄÇ‰æãÂ¶ÇÊúâÂ¶Ç‰∏ãÂàóË°®Ôºö1234567&lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2&lt;/li&gt; &lt;li id="notli"&gt;list item 3&lt;/li&gt; &lt;li&gt;list item 4&lt;/li&gt; &lt;li&gt;list item 5&lt;/li&gt;&lt;/ul&gt;ÁªôÈô§‰∫Ülist item 3Â§ñÁöÑliÊ∑ªÂä†Á∫¢Ëâ≤ËÉåÊôØËâ≤Ôºö1$( "li" ).not("#notli").css( "background-color", "red" );slice(selector,end) ‚Äãslice()ÊääÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêàÁº©Âáè‰∏∫ÊåáÂÆöÁöÑÊåáÊï∞ËåÉÂõ¥ÁöÑÂ≠êÈõÜ„ÄÇÂèÇÊï∞ÊèèËø∞selectorÂü∫‰∫é 0 ÁöÑÊï¥Êï∞ÂÄºÔºåÊåáÁ§∫ÂºÄÂßãÈÄâÂèñÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÔºõÂ¶ÇÊûúÊòØË¥üÊï∞ÔºåÂàôÊåáÁ§∫‰ªéÈõÜÂêàÊú´Á´ØÂºÄÂßãÁöÑÂÅèÁßªÈáè„ÄÇendÂü∫‰∫é 0 ÁöÑÊï¥Êï∞ÂÄºÔºåÊåáÁ§∫ÁªìÊùüÈÄâÂèñÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÔºõÂ¶ÇÊûúÊòØË¥üÊï∞ÔºåÂàôÊåáÁ§∫‰ªéÈõÜÂêàÊú´Á´ØÂºÄÂßãÁöÑÂÅèÁßªÈáè„ÄÇ Â¶ÇÊûúÁúÅÁï•ÔºåÂàôÈÄâÂèñËåÉÂõ¥‰ºöÂú®ÈõÜÂêàÊú´Á´ØÁªìÊùü„ÄÇ‰æãÂ¶ÇÔºåÁªôÁ¨¨‰∏ÄÁ¨¨‰∫å‰∏™pÂÖÉÁ¥†Âä†Á≤óÔºö123456&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;1$("p").slice(0, 2).wrapInner("&lt;b&gt;&lt;/b&gt;");ÁªôÂÄíÊï∞Á¨¨‰∫å‰∏™pÂÖÉÁ¥†Âä†Á≤óÔºö1$("p").slice(-2, -1).wrapInner("&lt;b&gt;&lt;/b&gt;");ÁªôÁ¨¨‰∏â‰∏™ÂèäÂÖ∂‰ª•ÂêéÁöÑpÂÖÉÁ¥†Âä†Á≤óÔºö1$("p").slice(2).wrapInner("&lt;b&gt;&lt;/b&gt;");Êü•Êâæchildren()ËøîÂõûÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂ≠êÂÖÉÁ¥†ÔºåÊ∑ªÂä†ÂèØÈÄâÂèÇÊï∞ÂèØÈÄöËøáÈÄâÊã©Âô®ËøõË°åËøáÊª§„ÄÇ‰æãÂ¶ÇÔºöÊâæÂà∞divÁöÑÊâÄÊúâÂåÖÂê´selectedÁ±ªÁöÑÂ≠êÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ÁΩÆ‰∏∫ËìùËâ≤Ôºö123456&lt;div&gt; &lt;span&gt;Hello&lt;/span&gt; &lt;p class="selected"&gt;Hello Again&lt;/p&gt; &lt;div class="selected"&gt;And Again&lt;/div&gt; &lt;p&gt;And One Last Time&lt;/p&gt;&lt;/div&gt;1$( "div" ).children( ".selected" ).css( "color", "blue" );closest(selector)closest()ÊñπÊ≥ïËé∑ÂæóÂåπÈÖçÈÄâÊã©Âô®ÁöÑÁ¨¨‰∏Ä‰∏™Á•ñÂÖàÂÖÉÁ¥†Ôºå‰ªéÂΩìÂâçÂÖÉÁ¥†ÂºÄÂßãÊ≤ø DOM Ê†ëÂêë‰∏ä„ÄÇ‰æãÂ¶ÇÔºåÂΩìÂàóË°®Ë¢´ÁÇπÂáªÁöÑÊó∂ÂÄôÊ∑ªÂä†ËÉåÊôØËâ≤ÔºåÂÖ∂‰ΩôÁöÑÁßªÈô§ËÉåÊôØËâ≤Ôºö123$( document ).bind("click", function( e ) &#123; $( e.target ).closest("li").addClass("hilight").siblings().removeClass("hilight");&#125;);find(selector)find()ÊñπÊ≥ïËé∑ÂæóÂΩìÂâçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂêé‰ª£ÔºåÈÄöËøáÈÄâÊã©Âô®„ÄÅjQuery ÂØπË±°ÊàñÂÖÉÁ¥†Êù•Á≠õÈÄâ„ÄÇ‰æãÂ¶ÇÔºöÊêúÁ¥¢ÊâÄÊúâÊÆµËêΩ‰∏≠ÁöÑÂêé‰ª£ span ÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂÖ∂È¢úËâ≤ËÆæÁΩÆ‰∏∫Á∫¢Ëâ≤Ôºö1$("p").find("span").css('color','red');next(selector)next()Ëé∑ÂæóÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†Á¥ßÈÇªÁöÑÂêåËÉûÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúÊèê‰æõÈÄâÊã©Âô®ÔºåÂàôÂèñÂõûÂåπÈÖçËØ•ÈÄâÊã©Âô®ÁöÑ‰∏ã‰∏Ä‰∏™ÂêåËÉûÂÖÉÁ¥†„ÄÇ‰æãÂ¶ÇÔºåÊúâÂ¶Ç‰∏ãÁÆÄÂçïÂàóË°®Ôºö1234567&lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2&lt;/li&gt; &lt;li class="third-item"&gt;list item 3&lt;/li&gt; &lt;li&gt;list item 4&lt;/li&gt; &lt;li&gt;list item 5&lt;/li&gt;&lt;/ul&gt;Â∞Ülist item 4Ê∑ªÂä†Á∫¢Ëâ≤ËÉåÊôØËâ≤Ôºö1$('li.third-item').next().css('background-color', 'red');Â∞Ülist item 3Ê∑ªÂä†Á∫¢Ëâ≤ËÉåÊôØËâ≤Ôºö1$('li').next('.third-item').css('background-color', 'red');Á≠â‰ª∑‰∫éÔºö1$('ul').find('.third-item').css('background-color', 'red');nextAll(selector)Êü•ÊâæÂΩìÂâçÂÖÉÁ¥†‰πãÂêéÊâÄÊúâÁöÑÂêåËæàÂÖÉÁ¥†„ÄÇËøòÊòØ‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÁªôlist item 3‰πãÂêéÁöÑÊâÄÊúâÂêåÁ∫ßliÊ∑ªÂä†Á∫¢Ëâ≤ËÉåÊôØËâ≤Ôºö1$('li.third-item').nextAll().css('background-color', 'red');ÈÄâÊã©Âô®Áî®Ê≥ïÔºåÁªôÂê´ÊúâredÁ±ªÁöÑliÊ∑ªÂä†Á∫¢Ëâ≤ËÉåÊôØËâ≤Ôºö12345678910&lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2&lt;/li&gt; &lt;li class="red"&gt;list item 3&lt;/li&gt; &lt;li&gt;list item 4&lt;/li&gt; &lt;li class="red"&gt;list item 5&lt;/li&gt;&lt;/ul&gt;&lt;script&gt; $('li').nextAll('.red').css('background-color', 'red');&lt;/script&gt;nextUntil()Êü•ÊâæÂΩìÂâçÂÖÉÁ¥†‰πãÂêéÊâÄÊúâÁöÑÂêåËæàÂÖÉÁ¥†ÔºåÁõ¥Âà∞ÈÅáÂà∞ÂåπÈÖçÁöÑÈÇ£‰∏™ÂÖÉÁ¥†‰∏∫Ê≠¢„ÄÇ‰æãÂ¶ÇÔºåÊúâÂ¶Ç‰∏ãÂàóË°®Ôºö1234567891011121314&lt;dl&gt; &lt;dt id="term-1"&gt;term 1&lt;/dt&gt; &lt;dd&gt;definition 1-a&lt;/dd&gt; &lt;dd&gt;definition 1-b&lt;/dd&gt; &lt;dd&gt;definition 1-c&lt;/dd&gt; &lt;dd&gt;definition 1-d&lt;/dd&gt; &lt;dt id="term-2"&gt;term 2&lt;/dt&gt; &lt;dd&gt;definition 2-a&lt;/dd&gt; &lt;dd&gt;definition 2-b&lt;/dd&gt; &lt;dd&gt;definition 2-c&lt;/dd&gt; &lt;dt id="term-3"&gt;term 3&lt;/dt&gt; &lt;dd&gt;definition 3-a&lt;/dd&gt; &lt;dd&gt;definition 3-b&lt;/dd&gt;&lt;/dl&gt;ÊâæÂà∞Ë∑üÈöè &lt;dt id=&quot;term-1&quot;&gt; ÁöÑÂêåËÉûÂÖÉÁ¥†ÔºåÁõ¥Âà∞ &lt;dt id=&quot;term-3&quot;&gt;ÔºåÂπ∂‰∏∫ÂÆÉ‰ª¨ËÆæÁΩÆËìùËâ≤ÊñáÊú¨È¢úËâ≤Ôºö1$("#term-1").nextUntil("#term-3").css("color", "blue");ÊïàÊûúÂ¶ÇÂõæÔºöÊâæÂà∞Ë∑üÈöè &lt;dt id=&quot;term-1&quot;&gt; ÁöÑ&lt;dd&gt;ÂêåËÉûÂÖÉÁ¥†ÔºåÁõ¥Âà∞ &lt;dt id=&quot;term-3&quot;&gt;ÔºåÂπ∂‰∏∫ÂÆÉ‰ª¨ËÆæÁΩÆËìùËâ≤ÊñáÊú¨È¢úËâ≤Ôºö1$("#term-1").nextUntil("#term-3",'dd').css("color", "blue"); Ëé∑ÂæóË¢´ÂÆö‰ΩçÁöÑÊúÄËøëÁ•ñÂÖàÂÖÉÁ¥†„ÄÇËøô‰∫õÂÆö‰ΩçÂåÖÊã¨relativeÔºåabsoluteÊàñfixed„ÄÇ‰æãÂ¶ÇÔºåÊúâÂ¶Ç‰∏ãhtmlÔºö1234567891011121314151617&lt;ul class="level-1"&gt; &lt;li class="item-i"&gt;I&lt;/li&gt; &lt;li class="item-ii" style="position: relative;"&gt;II &lt;ul class="level-2"&gt; &lt;li class="item-a"&gt;A&lt;/li&gt; &lt;li class="item-b"&gt;B &lt;ul class="level-3"&gt; &lt;li class="item-1"&gt;1&lt;/li&gt; &lt;li class="item-2"&gt;2&lt;/li&gt; &lt;li class="item-3"&gt;3&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li class="item-c"&gt;C&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li class="item-iii"&gt;III&lt;/li&gt;&lt;/ul&gt;Áªô&lt;li class=&quot;item-a&quot;&gt;ÊúÄËøëÁöÑË¢´ÂÆö‰ΩçÁà∂ÂÖÉÁ¥†ÔºåÂç≥&lt;li class=&quot;item-ii&quot; style=&quot;position: relative;&quot;&gt;Ê∑ªÂä†Á∫¢Ëâ≤ËÉåÊôØËâ≤Ôºö1$('li.item-a').offsetParent().css('background-color', 'red');parent(selector)Ëé∑ÂèñÂåπÈÖçÂÖÉÁ¥†ÊúÄËøëÁöÑÁà∂ÂÖÉÁ¥†„ÄÇÊé•ÁùÄ‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÁªô&lt;li class=&quot;item-a&quot;&gt;ÁöÑÁà∂ÂÖÉÁ¥†ÔºåÂç≥&lt;ul class=&quot;level-2&quot;&gt;Ê∑ªÂä†Á∫¢Ëâ≤ËÉåÊôØËâ≤Ôºö1$('li.item-a').parent().css('background-color', 'red'); ‚ÄãÂÜçÂ¶ÇÊúâÂ¶Ç‰∏ãhtmlÔºö12&lt;div&gt;&lt;p&gt;Hello&lt;/p&gt;&lt;/div&gt;&lt;div class="selected"&gt;&lt;p&gt;Hello Again&lt;/p&gt;&lt;/div&gt;1$("p").parent(".selected").css("background", "yellow");ÁªìÊûúÂè™ÊúâHello AgainÊã•ÊúâÈªÑËâ≤ËÉåÊôØËâ≤„ÄÇparents(selector)Ëé∑ÂèñÂåπÈÖçÂÖÉÁ¥†ÁöÑÁ¨¶ÂêàÁ≠õÈÄâÂô®selectorÊâÄÊúâÂ±ÇÁ∫ßÁöÑÁà∂ÂÖÉÁ¥†„ÄÇÊúâÂ¶Ç‰∏ãhtmlÔºö1234567891011121314&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt; &lt;div&gt; &lt;p&gt; &lt;span&gt; &lt;b&gt;&lt;/b&gt; &lt;/span&gt; &lt;/p&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;12345678var a = $("b").parents().map(function()&#123; return this.nodeName;&#125;).get().join(',');console.log(a); //SPAN,P,DIV,BODY,HTMLvar b = $("b").parents("p").map(function()&#123; return this.nodeName;&#125;).get().join(',');console.log(b); //PparentsUntil(selector)Êü•ÊâæÂΩìÂâçÂÖÉÁ¥†ÁöÑÊâÄÊúâÁöÑÁà∂ËæàÂÖÉÁ¥†ÔºåÁõ¥Âà∞ÈÅáÂà∞ÂåπÈÖçÁöÑÈÇ£‰∏™ÂÖÉÁ¥†‰∏∫Ê≠¢„ÄÇÊé•ÁùÄ‰∏äÈù¢ÁöÑhtmlÔºåÊúâÂ¶Ç‰∏ãjs‰ª£Á†ÅÔºö1234var parentEls = $("b").parentsUntil('div').map(function()&#123; return this.nodeName;&#125;).get().join(',');console.log(parentEls); // SPAN,Pprev(selector)Âíånext(selector)Áõ∏Âèç„ÄÇprevAll(selector)ÂíånextAll(selector)Áõ∏Âèç„ÄÇprevUntil(selector)ÂíånextUntil()Áõ∏Âèç„ÄÇsiblings(selector)ÂåπÈÖçÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂêåËÉû„ÄÇ‰∏≤ËÅîadd()add() ÊñπÊ≥ïÂ∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÂåπÈÖçÂÖÉÁ¥†ÁöÑÈõÜÂêà‰∏≠„ÄÇ‰æãÂ¶ÇÔºåÊü•ÊâæÊâÄÊúâdivÂπ∂Ê∑ªÂä†ËæπÊ°Ü„ÄÇÁÑ∂ÂêéÂ∞ÜÊâÄÊúâpÊ∑ªÂä†Âà∞jQueryÂØπË±°‰∏≠Âπ∂Â∞ÜÂÖ∂ËÉåÊôØËÆæÁΩÆ‰∏∫ÈªÑËâ≤„ÄÇ1$( "div" ).css( "border", "2px solid red" ).add( "p" ).css( "background", "yellow" );ËøôÈáåÂè™ÊúâdivÊ∑ªÂä†‰∫ÜËæπÊ°ÜÔºÅÁªôÊâÄÊúâpÂíåspanÊ∑ªÂä†ÈªÑËâ≤ËÉåÊôØËâ≤Ôºö1$( "p" ).add( "span" ).css( "background", "yellow" );addBack()ËØ•ÂáΩÊï∞Áî®‰∫éÊõø‰ª£1.8ÁâàÊú¨‰πãÂâçÁöÑandSelf()ÂáΩÊï∞„ÄÇÈÄöËøá‰∏Ä‰∏™‰æãÂ≠êÊù•Ê¥ûÂØüÂÖ∂‰ΩúÁî®Ôºö1234567&lt;ul&gt; &lt;li&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2&lt;/li&gt; &lt;li class="third-item"&gt;list item 3&lt;/li&gt; &lt;li&gt;list item 4&lt;/li&gt; &lt;li&gt;list item 5&lt;/li&gt;&lt;/ul&gt;12345678var a = $('li.third-item').nextAll().map(function()&#123; return this.innerHTML&#125;).get().join(',');var b = $('li.third-item').nextAll().addBack().map(function()&#123; return this.innerHTML&#125;).get().join(',');console.log(a); // list item 4,list item 5console.log(b); // list item 3,list item 4,list item 5contents()contents()ÊñπÊ≥ïËé∑ÂæóÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂ≠êËäÇÁÇπÔºåÂåÖÊã¨ÊñáÊú¨ÂíåÊ≥®ÈáäËäÇÁÇπ„ÄÇ‰æãÂ¶ÇÔºöÊâæÂà∞p‰∏≠ÁöÑÊâÄÊúâÊñáÊú¨ËäÇÁÇπÔºåÂπ∂Áî®Á≤ó‰ΩìÊ†áÁ≠æÂåÖË£ÖÂÆÉ‰ª¨Ôºö1$("p").contents().filter(function()&#123; return this.nodeType != 1; &#125;).wrap("&lt;b/&gt;");‰∏ãË°®‰∏∫html‰∏≠nodeTypeÁöÑÂèñÂÄºÔºöËäÇÁÇπÁ±ªÂûãÊèèËø∞1Element‰ª£Ë°®ÂÖÉÁ¥†2Attr‰ª£Ë°®Â±ûÊÄß3Text‰ª£Ë°®ÂÖÉÁ¥†ÊàñÂ±ûÊÄß‰∏≠ÁöÑÊñáÊú¨ÂÜÖÂÆπ„ÄÇ4CDATASection‰ª£Ë°®ÊñáÊ°£‰∏≠ÁöÑ CDATA ÈÉ®ÂàÜÔºà‰∏ç‰ºöÁî±Ëß£ÊûêÂô®Ëß£ÊûêÁöÑÊñáÊú¨Ôºâ„ÄÇ5EntityReference‰ª£Ë°®ÂÆû‰ΩìÂºïÁî®„ÄÇ6Entity‰ª£Ë°®ÂÆû‰Ωì„ÄÇ7ProcessingInstruction‰ª£Ë°®Â§ÑÁêÜÊåá‰ª§„ÄÇ8Comment‰ª£Ë°®Ê≥®Èáä„ÄÇ9Document‰ª£Ë°®Êï¥‰∏™ÊñáÊ°£ÔºàDOM Ê†ëÁöÑÊ†πËäÇÁÇπÔºâ„ÄÇ10DocumentTypeÂêë‰∏∫ÊñáÊ°£ÂÆö‰πâÁöÑÂÆû‰ΩìÊèê‰æõÊé•Âè£11DocumentFragment‰ª£Ë°®ËΩªÈáèÁ∫ßÁöÑ Document ÂØπË±°ÔºåËÉΩÂ§üÂÆπÁ∫≥ÊñáÊ°£ÁöÑÊüê‰∏™ÈÉ®ÂàÜ12Notation‰ª£Ë°® DTD ‰∏≠Â£∞ÊòéÁöÑÁ¨¶Âè∑„ÄÇend()end()ÊñπÊ≥ïÁªìÊùüÂΩìÂâçÈìæÊù°‰∏≠ÁöÑÊúÄËøëÁöÑÁ≠õÈÄâÊìç‰ΩúÔºåÂπ∂Â∞ÜÂåπÈÖçÂÖÉÁ¥†ÈõÜËøòÂéü‰∏∫‰∏ÄÂºÄÂßãÁöÑÁä∂ÊÄÅ„ÄÇ‰æãÂ¶ÇÔºåÁé∞ÊúâÂ¶Ç‰∏ãhtmlÔºö12345&lt;ul class="first"&gt; &lt;li class="foo"&gt;list item 1&lt;/li&gt; &lt;li&gt;list item 2&lt;/li&gt; &lt;li class="bar"&gt;list item 3&lt;/li&gt;&lt;/ul&gt; ‚Äã12$('ul.first').find('.foo').css('background-color', 'red') .end().find('.bar').css('background-color', 'green');ËøôÊù°ÈìæÂºèÁöÑjQueryÊìç‰Ωú‰ª£Á†ÅÈ¶ñÂÖàÈÄâÂèñ‰∫ÜÁ±ªÂêç‰∏∫firstÁöÑulÔºåÁÑ∂Âêé‰ΩøÁî®find(&#39;.foo&#39;)ÊâæÂà∞&lt;li class=&quot;foo&quot;&gt;list item 1&lt;/li&gt;ÔºåÁªôÂÖ∂Ê∑ªÂä†‰∫ÜÁ∫¢Ëâ≤ËÉåÊôØËâ≤„ÄÇÈöèÂêéÔºåend()ÊñπÊ≥ïÂ∞ÜjQueryÂØπË±°ËøòÂéü‰∏∫‰∏ÄÂºÄÂßãÁöÑÁä∂ÊÄÅÔºåÂç≥(&#39;ul.first&#39;)ÔºåÂÜç‰ΩøÁî®find(&#39;.bar&#39;)ÊâæÂà∞&lt;li class=&quot;bar&quot;&gt;list item 3&lt;/li&gt;ÔºåÁªôÂÖ∂Ê∑ªÂä†ÁªøËâ≤ËÉåÊôØËâ≤„ÄÇÊïàÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂ¶ÇÊûúÂéªÈô§end()ÂáΩÊï∞Ôºå‰ºöÂõ†Êâæ‰∏çÂà∞&lt;li class=&quot;bar&quot;&gt;list item 3&lt;/li&gt;ÔºåÊ∑ªÂä†ÁªøËâ≤ËÉåÊôØËâ≤Â§±Ë¥•„ÄÇÂéªÈô§end()ÊïàÊûúÂ¶Ç‰∏ãÔºö‰∏ÄËà¨‰∏∫‰∫ÜËßÜËßâ‰∏äÁöÑÂØπÁß∞Ôºå‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊú´Á´Ø‰πüÂä†‰∏äend()Ôºö12345$('ul.first').find('.foo') .css('background-color', 'red') .end().find('.bar') .css('background-color', 'green') .end();ÂèÇËÄÉÁΩëÁ´ôhttp://api.jquery.com/http://www.w3school.com.cn/jqueryhttp://caibaojian.com/jquery]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryÊìç‰ΩúÊñáÊ°£Êñ∞ÂßøÂäø]]></title>
    <url>%2FjQuery%E6%93%8D%E4%BD%9C%E6%96%87%E6%A1%A3%E6%96%B0%E5%A7%BF%E5%8A%BF.html</url>
    <content type="text"><![CDATA[Áé∞Ë¶ÅÂú®body‰∏ãÊèíÂÖ•‰∏ÄÂº†ÂåÖÂê´‰∏Ä‰∫õÂ±ûÊÄßÁöÑÂõæÁâáÔºå‰ΩøÁî®jQueryÊìç‰Ωúdocument‰º†ÁªüÁöÑÂÅöÊ≥ïÊòØÔºö12345678var html = ' &lt;img src="../images/little.bear.png" alt="Little Bear"'+ ' title="I woof in your general direction" '+ ' onclick="showTitle($(this));"&gt;&lt;img/&gt;'$(html).appendTo('body');function showTitle(val)&#123; var $this = val; alert($this.attr('title'));&#125;Áé∞‰ΩøÁî®Êõ¥‰ºòÈõÖÁöÑÊñπÊ≥ïÊù•ÂÆûÁé∞Ëøô‰∏™Êìç‰ΩúÔºö123456789$('&lt;img&gt;',&#123; src: '../images/little.bear.png', alt: 'Little Bear', title:'I woof in your general direction', click: function() &#123; alert($(this).attr('title')); &#125;&#125;).appendTo('body');Ê≥®Ôºö$(&#39;&lt;img&gt;&#39;)Á≠âÂêå‰∫é$(&#39;&lt;img&gt;&lt;/img&gt;&#39;)Êàñ$(&#39;&lt;img/&gt;&#39;)„ÄäjQueryÂÆûÊàò Á¨¨‰∏âÁâà„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâjQueryÈÄâÊã©Âô®]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89jQuery%E9%80%89%E6%8B%A9%E5%99%A8.html</url>
    <content type="text"><![CDATA[jQueryËá™Ë∫´Êèê‰æõ‰∫ÜËÆ∏Â§öÈÄâÊã©Âô®ÔºåÈô§Ê≠§‰πãÂ§ñÂÖ∂ËøòÂÖÅËÆ∏Êàë‰ª¨Ëá™ÂÆö‰πâÈÄâÊã©Âô®„ÄÇ‰∏ãÈù¢ËøôÁßçËá™ÂÆö‰πâÈÄâÊã©Âô®ÁöÑÊñπÊ≥ï‰ªÖÈÄÇÁî®‰∫é1.8ÂèäÂÖ∂‰ª•ÂêéÁöÑÁâàÊú¨„ÄÇËÄÉËôëÊúâÂ¶Ç‰∏ãhtmlÁâáÊÆµÔºö123456&lt;ul class="levels"&gt; &lt;li data-level="1" data-points="1" data-technologies="javascript node grunt"&gt;Level 1&lt;/li&gt; &lt;li data-level="2" data-points="10" data-technologies="jquery requirejs"&gt;Level 2&lt;/li&gt; &lt;li data-level="3" data-points="100" data-technologies="php composer"&gt;Level 3&lt;/li&gt; &lt;li data-level="4" data-points="1000" data-technologies="javascript jquery"&gt;Level 4&lt;/li&gt;&lt;/ul&gt;ÂÅáÂ¶ÇÊàë‰ª¨ÈúÄË¶ÅÈÄâÊã©Âá∫data-levelÂ±ûÊÄßÂÄºÂ§ß‰∫é2Ôºådata-pointsÂ§ß‰∫é100Âπ∂‰∏îdata-technologiesÂ±ûÊÄßÂåÖÂê´‚Äùjquery‚ÄùÁöÑliÔºå‰º†ÁªüÁöÑÂÅöÊ≥ïÊòØÔºö12345678910111213//ÂÖàÁ≠õÈÄâÂá∫data-technologiesÂ±ûÊÄßÂåÖÂê´"jquery"ÁöÑlivar $levels = $('.levels li[data-technologies~="jquery"]');var matchedLevels = [];//Âæ™ÁéØÈÅçÂéÜ$levelsÔºåÂ∞ÜÁ¨¶ÂêàÊù°‰ª∂ÁöÑliÂ°ûÂà∞matchedLevelsÊï∞ÁªÑÈáåfor (var i = 0; i &lt; $levels.length; i++) &#123; if ($levels[i].getAttribute('data-level') &gt; 2 &amp;&amp; $levels[i].getAttribute('data-points') &gt; 100) &#123; matchedLevels.push($levels[i]); &#125;&#125;console.log(matchedLevels.length); // 1Â¶ÇÊûúÈúÄË¶ÅÂ§öÊ¨°‰ΩøÁî®ÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫Ëá™ÂÆö‰πâÈÄâÊã©Âô®ÔºåËÆ©‰ª£Á†ÅÊõ¥‰ºòÈõÖÔºö1234567$.expr[':'].requiredLevel = $.expr.createPseudo(function (filterParam) &#123; return function (element, context, isXml) &#123; return element.getAttribute('data-level') &gt; 2 &amp;&amp; element.getAttribute('data-points') &gt; 100 &amp;&amp; element.getAttribute('data-technologies').indexOf('jquery') &gt;= 0; &#125;;&#125;);createPseudoÊñπÊ≥ïÁî®‰∫éÂàõÈÄ†Ëá™ÂÆö‰πâÈÄâÊã©Âô®ÔºåÂèØÂêëÂÖ∂‰º†ÈÄíÂèÇÊï∞filterParamÔºåÂèÇÊï∞ÂêçÂèØ‰ª•Âè¶Ëµ∑ÂÖ∂ÂêçÔºåËøôÈáåÈúÄÊ±ÇÂõ∫ÂÆöÔºåÊâÄ‰ª•‰∏çÂøÖ‰º†ÂèÇ„ÄÇelementË°®Á§∫ÂΩìÂâçÂ§ÑÁêÜÁöÑÂÖÉÁ¥†ÔºåisXMLÁî®‰∫éÊåáÂÆöÊòØÂê¶‰∏∫XMLÊñáÊú¨ÔºåÈªòËÆ§‰∏∫false„ÄÇcontextÈªòËÆ§‰∏∫Êï¥‰∏™documentÔºåÂèØ‰ª•ÊåáÂÆöËåÉÂõ¥Êù•Â¢ûÂº∫ÊÄßËÉΩÔºöÊØîÂ¶ÇÊü•ÊâædivÂÜÖÁöÑpÂÖÉÁ¥†Ôºö12$("div p") Êàñ$("p","div")ÁªìÊûú‰∏ÄËá¥ÔºåÁ¨¨‰∫åÁßçÂÜôÊ≥ïÊïàÁéáÊõ¥È´ò„ÄÇË®ÄÂΩíÊ≠£‰º†Ôºå‰ΩøÁî®‰∏äËø∞ÂÆö‰πâÁöÑÈÄâÊã©Âô®Êù•Êü•ËØ¢Êª°Ë∂≥Êù°‰ª∂ÁöÑliÔºö123var $requiredLevels = $('li:requiredLevel','.levels ');console.log($requiredLevels.length); // 1console.log($requiredLevels.html()); // Level 4‰º†ÈÄíÂèÇÊï∞ÂÅáÂ¶ÇÂ∞ÜÈúÄÊ±ÇÊîπ‰∏∫ÔºåÊü•ÊâæÂá∫data-pointsÂ§ß‰∫éÊüê‰∏™Êï¥Êï∞ÂÄºÁöÑliÔºåË¶ÅÊÄé‰πàÂÅöÂë¢ÔºüËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•Áî®‰∏äfilterParam‰∫ÜÔºö1234567$.expr[':'].pointsHigherThan = $.expr.createPseudo(function (filterParam) &#123; // ÁºìÂ≠òÂèÇÊï∞Ôºå‰ª•‰æõÈó≠ÂåÖ‰ΩøÁî® var points = parseInt(filterParam, 10); return function (element, context, isXml) &#123; return element.getAttribute('data-points') &gt; points; &#125;;&#125;);ÊµãËØïÔºö12var $higherPointsLevels = $('li:pointsHigherThan(50)','.levels ');console.log($higherPointsLevels.length); // 2„ÄäjQueryÂÆûÊàò Á¨¨‰∏âÁâà„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[canvas‰∏éÊ∏êÂèòËâ≤]]></title>
    <url>%2Fcanvas%E4%B8%8E%E6%B8%90%E5%8F%98%E8%89%B2.html</url>
    <content type="text"><![CDATA[Á∫øÊÄßÊ∏êÂèòÁªòÂà∂Á∫øÊÄßÊ∏êÂèòÔºåÈúÄË¶ÅÁî®Âà∞ÂõæÂΩ¢‰∏ä‰∏ãÊñáÁöÑcreateLinearGradientÊñπÊ≥ïÊù•ÂàõÂª∫gradientÂØπË±°ÔºåÊñπÊ≥ïÁ≠æÂêçÂ¶Ç‰∏ãÔºö1var gradient = context.createLinearGradient(x0,y0,x1,y1);(x0,y0)‰∏∫Ê∏êÂèòËµ∑ÂßãÁÇπÁöÑÂùêÊ†áÔºå(x1,y1)‰∏∫Ê∏êÂèòÁªìÊùüÁöÑÁöÑÂùêÊ†á„ÄÇÊé•‰∏ãÊù•ÈúÄË¶ÅÊåáÂÆöÊ∏êÂèòÁöÑÈ¢úËâ≤ÔºåÂèØ‰ª•ÈÄöËøágradientÂØπË±°ÁöÑaddColorStopÊñπÊ≥ïÊù•ËÆæÂÆöÔºåÊñπÊ≥ïÁ≠æÂêçÂ¶Ç‰∏ãÔºö1gradient.addColorStop(stop,color);ÂÖ∂‰∏≠stop‰∏∫‰ªã‰∫é 0.0 ‰∏é 1.0 ‰πãÈó¥ÁöÑÂÄºÔºåË°®Á§∫Ê∏êÂèò‰∏≠ÂºÄÂßã‰∏éÁªìÊùü‰πãÈó¥ÁöÑ‰ΩçÁΩÆÔºõcolor‰∏∫ÁªòÂà∂Êó∂‰ΩøÁî®ÁöÑÈ¢úËâ≤„ÄÇÊúÄÂêéÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÂ∞ÜgradientÂØπË±°Ëµã‰∫àÁªôfillStyleÂ±ûÊÄßÔºö1context.fillStyle = gradient;ÁªòÂà∂‰∏Ä‰∏™Ê∏êÂèòËâ≤Áü©ÂΩ¢Ôºö12345678910var canvas = document.getElementById("canvas");var context = canvas.getContext("2d");//ËÆæÂÆöÊ∏êÂèòËåÉÂõ¥var g = context.createLinearGradient(0,0,250,150);//ËÆæÁΩÆÊ∏êÂèòËµ∑ÁÇπÈ¢úËâ≤g.addColorStop(0,'#FF9999');//ËÆæÁΩÆÊ∏êÂèòÁªàÁÇπÈ¢úËâ≤g.addColorStop(1,'#FFFF99');context.fillStyle = g;context.fillRect(0,0,250,150);ÊòæÁ§∫ÊïàÊûúÔºöÂæÑÂêëÊ∏êÂèòÂæÑÂêëÊ∏êÂèòÊåáÁöÑÊòØÊ≤øÁùÄÂúÜÂΩ¢ÁöÑÂçäÂæÑÊñπÂêëÂêëÂ§ñÊâ©Êï£ÁöÑÊ∏êÂèòÊñπÂºè„ÄÇÁªòÂà∂ÂæÑÂêëÊ∏êÂèò‰ΩøÁî®ÁöÑÊòØÂõæÂΩ¢‰∏ä‰∏ãÊñáÁöÑcreateRadialGradientÊñπÊ≥ïÊù•ÂàõÂª∫gradientÂØπË±°ÔºåÊñπÊ≥ïÁ≠æÂêçÂ¶Ç‰∏ãÔºö1var gradient = context.createRadialGradient(x0,y0,r0,x1,y1,r1);(x0,y0)‰∏∫Ê∏êÂèòÁöÑÂºÄÂßãÂúÜÂøÉÂùêÊ†áÔºår0‰∏∫Ê∏êÂèòÂºÄÂßãÂúÜÁöÑÂçäÂæÑÔºõ(x1,y1)‰∏∫Ê∏êÂèòÁöÑÁªìÊùüÂúÜÂøÉÂùêÊ†áÔºår1‰∏∫Ê∏êÂèòÁªìÊùüÂúÜÁöÑÂçäÂæÑ„ÄÇÂâ©‰ΩôÁöÑÊìç‰ΩúÂíåÁ∫øÊÄßÊ∏êÂèò‰∏ÄËá¥Ôºå‰∏çÂÜçËµòËø∞„ÄÇËøôÈáåÁªòÂà∂‰∏Ä‰∏™ÂæÑÂêëÊ∏êÂèòÁöÑÂúÜÔºö1234567var g = context.createRadialGradient(100,100,0,100,100,100);g.addColorStop(0,'#FFFF99');g.addColorStop(1,'#FF9999');context.beginPath();context.arc(100,100,100,0,Math.PI*2,false);context.fillStyle = g;context.fill();ÊòæÁ§∫ÊïàÊûúÔºö„ÄäHTML5‰∏éCSS3ÊùÉÂ®ÅÊåáÂçó„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>HTML5</tag>
        <tag>Canvas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[canvasÁªòÂà∂ÁÆÄÂçïÂõæÂΩ¢]]></title>
    <url>%2Fcanvas%E7%BB%98%E5%88%B6%E7%AE%80%E5%8D%95%E5%9B%BE%E5%BD%A2.html</url>
    <content type="text"><![CDATA[canvasÊòØHTML5‰∏≠‰∏ìÈó®Áî®Êù•ÁªòÂà∂ÂõæÂΩ¢ÁöÑÂÖÉÁ¥†„ÄÇÂú®È°µÈù¢‰∏äÊîæÁΩÆ‰∏Ä‰∏™canvasÂÖÉÁ¥†Â∞±Áõ∏ÂΩì‰∫éÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÁîªÂ∏É„ÄÇÁªòÂà∂ËøáÁ®ãÁî±JSËÑöÊú¨ÂÆåÊàê„ÄÇÈ¶ñÂÖàÂú®È°µÈù¢‰∏äÊ∑ªÂä†‰∏Ä‰∏™canvasÂÖÉÁ¥†Ôºö12345678910&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;html5&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;canvas id="canvas" width="500" height="400"/&gt;&lt;/body&gt;&lt;/html&gt;Âü∫Êú¨Ê≠•È™§‰ΩøÁî®canvasÁªòÂà∂ÂõæÂΩ¢ÁöÑÂá†‰∏™Âü∫Êú¨Ê≠•È™§Ôºö1.Ëé∑ÂèñcanvasÂØπË±°Ôºö1var canvas = document.getElementById("canvas");2.ÂèñÂæó‰∏ä‰∏ãÊñácontextÔºåÂÖ∂ÂåÖÂê´ËÆ∏Â§öÁªòÂà∂ÁöÑÊñπÊ≥ïÔºö1var context = canvas.getContext("2d");ÁõÆÂâç‰ªÖÊúâ2dÂèÇÊï∞ÂèØÈÄâ„ÄÇ3.ËÆæÁΩÆÁªòÂõæÊ†∑ÂºèÔºöÁªòÂõæÊ†∑Âºè‰∏ªË¶ÅÂåÖÂê´ÂõæÂΩ¢Â°´ÂÖÖÊ†∑ÂºèfillStyleÔºåÂõæÂΩ¢ËæπÊ°ÜÊ†∑ÂºèstrokeStyleÂíåÁ∫øÂÆΩlineWidth„ÄÇ123456//ËÆæÁΩÆÂ°´ÂÖÖÊ†∑Âºè‰∏∫Á∫¢Ëâ≤context.fillStyle = "red";//ËÆæÁΩÆËæπÊ°Ü‰∏∫ÈªÑËâ≤context.strokeStyle = "yellow";//ËÆæÁΩÆÁ∫øÂÆΩ‰∏∫1pxcontext.lineWidth = 1;4.ÂºÄÂßãÁªòÂà∂ÂõæÂΩ¢ÔºöÂÖ∑‰ΩìÁªòÂà∂ÊñπÊ≥ï‰∏ãÈù¢ÈôÜÁª≠Â±ïÂºÄ„ÄÇÁªòÂà∂Áü©ÂΩ¢‰ΩøÁî®fillRectÊñπÊ≥ï‰∏éstrokeRectÊñπÊ≥ïÊù•ÁªòÂà∂Áü©ÂΩ¢ÂíåÁü©ÂΩ¢ËæπÊ°ÜÔºö12context.fillRect(x,y,width,height);context.strokeRect(x,y,width,height);‚ÄãxÔºåy‰∏∫Áü©ÂΩ¢Â∑¶‰∏äËßíËµ∑ÁÇπÂùêÊ†áÔºåwidth‰∏∫Áü©ÂΩ¢ÂÆΩÔºåheight‰∏∫Áü©ÂΩ¢È´ò„ÄÇÂºÄÂßãÁªòÂà∂Ôºö1234567891011121314var canvas = document.getElementById("canvas");var context = canvas.getContext("2d");// ËÆæÁΩÆcanvasÁîªÂ∏ÉÈ¢úËâ≤context.fillStyle = "#F7F7F7";context.fillRect(0,0,300,300);//ËÆæÁΩÆÂ°´ÂÖÖÈ¢úËâ≤ÔºåËæπÊ°ÜÈ¢úËâ≤context.fillStyle = "#E4F0C3";context.strokeStyle = "#F06560";//ËÆæÁΩÆÁ∫øÂÆΩcontext.lineWidth = 1;//ÁªòÂà∂Áü©ÂΩ¢context.fillRect(50,50,100,100);//ÁªòÂà∂Áü©ÂΩ¢ËæπÊ°Ücontext.strokeRect(50,50,150,150);ÁªìÊûúÔºöÂÖ≥‰∫éÁü©ÂΩ¢ÔºåËøòÊúâ‰∏Ä‰∏™clearRectÊñπÊ≥ïÔºåÁî®‰∫éÊ∏ÖÈô§ÊåáÂÆöÁü©ÂΩ¢Âå∫ÂüüÂÉèÁ¥†Ôºö1context.clearRect(x,y,width,height);Âú®‰∏äÈù¢ÁöÑJSËÑöÊú¨‰∏≠Âä†ÂÖ•‰∏ãÈù¢ËøôË°å‰ª£Á†ÅÔºö1context.clearRect(50,50,50,50);ÊïàÊûúÔºöÁªòÂà∂ÂúÜÂΩ¢ÔºåÊâáÂΩ¢ÔºåÊ§≠ÂúÜÁªòÂà∂ÂúÜÂΩ¢‰∏ªË¶ÅÂ§ö‰∫ÜÂºÄÂßãÂàõÂª∫Ë∑ØÂæÑbeginPathÂíåÂÖ≥Èó≠Ë∑ØÂæÑclosePathËøô‰∏§‰∏™ËøáÁ®ã„ÄÇ‰∏ªË¶ÅÊ≠•È™§Ôºö1.ÂºÄÂßãÂàõÂª∫Ë∑ØÂæÑÔºö1context.beginPath();2.ÁªòÂà∂ÂúÜÂΩ¢Ë∑ØÂæÑÔºöÊñπÊ≥ïÔºö1context.arc(x,y,r,sAngle,eAngle,anticlockwise);ÂÖ∂‰∏≠xÔºåy‰∏∫ÁªòÂà∂ÂúÜÂΩ¢ÁöÑËµ∑ÁÇπÂùêÊ†áÂç≥ÂúÜÂøÉÔºår‰∏∫ÂúÜÂΩ¢ÂçäÂæÑÔºåsAngleÔºàËµ∑ÂßãËßíÔºâÂíåeAngleÔºàÁªìÊùüËßíÔºâÂÜ≥ÂÆö‰∫ÜÂúÜÁöÑÂºßÂ∫¶Ôºå‰∏§ËÄÖÁöÑËøûÁ∫øÂÜ≥ÂÆö‰∫ÜÂúÜÁöÑÂΩ¢Áä∂ÔºåanticlockwiseË°®Á§∫ÊòØÂê¶ÊåâÈÄÜÊó∂ÈíàÊñπÂêëÁªòÂà∂Ôºå‰∏∫booleanÁ±ªÂûã„ÄÇ3.ÂÖ≥Èó≠Ë∑ØÂæÑÔºö1context.closePath();ËÆæÁΩÆÂ°´ÂÖÖÊ†∑Âºè„ÄÇÁªòÂà∂ÂúÜÂΩ¢Á§∫‰æãÔºö1234567891011121314var canvas = document.getElementById("canvas");var context = canvas.getContext("2d");for(var i = 0;i &lt; 6; i++)&#123; //ÂºÄÂßãÂàõÂª∫Ë∑ØÂæÑ context.beginPath(); //ÁªòÂà∂ÂúÜÔºåMath.PI*2‰∏∫2œÄÂºßÂ∫¶ context.arc(i*25,i*25,i*10,0,Math.PI*2,true); //ÂÖ≥Èó≠Ë∑ØÂæÑ context.closePath(); //ËÆæÁΩÆÂ°´ÂÖÖÈ¢úËâ≤ context.fillStyle = "rgba(66,185,131,0.4)"; //ËøõË°åÂ°´ÂÖÖ context.fill();&#125;Â∫¶‰∏éÂºßÂ∫¶Êç¢ÁÆóÔºö1¬∞ = 1/180œÄ radÊïàÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂÅáÂ¶Ç‰∏çÂÖ≥Èó≠Ë∑ØÂæÑ‰ºöÊÄéÊ†∑Âë¢ÔºüÂ∞Ü‰∏äÈù¢ÁöÑ‰ª£Á†ÅÊîπ‰∏∫Ôºö12345678for(var i = 0;i &lt; 6; i++)&#123; //ÁªòÂà∂ÂúÜÔºåMath.PI*2‰∏∫2œÄÂºßÂ∫¶ context.arc(i*25,i*25,i*10,0,Math.PI*2,true); //ËÆæÁΩÆÂ°´ÂÖÖÈ¢úËâ≤ context.fillStyle = "rgba(66,185,131,0.4)"; //ËøõË°åÂ°´ÂÖÖ context.fill();&#125;ÊïàÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö‰∏çÂÖ≥Èó≠Ë∑ØÂæÑÂ∞Ü‰ºöÂØºËá¥ÂÜçÁªòÂà∂Á¨¨‰∫å‰∏™ÂúÜÁöÑÊó∂ÂÄôÔºåÁ¨¨‰∏Ä‰∏™ÂúÜ‰ºöÊ†πÊçÆ‰πãÂâçÁöÑË∑ØÂæÑÂÜçÊ¨°ÁªòÂà∂‰∏ÄÊ¨°„ÄÇÊâÄ‰ª•Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÁ¨¨‰∏Ä‰∏™ÂúÜÁªòÂà∂‰∫Ü5Ê¨°ÔºåÁ¨¨‰∫å‰∏™ÂúÜÁªòÂà∂‰∫Ü4Ê¨°Ôºå‰ª•Ê≠§Á±ªÊé®Ôºå‰ª•Ëá≥‰∫éÁ¨¨‰∏Ä‰∏™ÂúÜÁöÑÈ¢úËâ≤ÊúÄÊ∑±„ÄÇÂÖ≥‰∫éÂºßÂ∫¶ÁöÑÂèÇËÄÉÂèØËßÅ‰∏ãÂõæÔºöÈ°∫Êó∂ÈíàÂíåÈÄÜÊó∂ÈíàÁöÑÂ∑ÆÂà´‰∏æ‰∏™‰æãÂ≠êËØ¥ÊòéÔºöÈ°∫Êó∂ÈíàÔºåÂºßÂ∫¶‰∏∫0.5radÔºö1234567context.beginPath();context.arc(100,100,100,0,Math.PI*0.5,false);context.closePath();context.fillStyle = "rgba(66,185,131,0.4)";context.strokeStyle = "#F06560";context.fill();context.stroke();ÊïàÊûúÂ¶Ç‰∏ãÂõæÔºöÂ∞ÜfalseÊîπ‰∏∫trueÔºåÂç≥ÈÄÜÊó∂ÈíàÊó∂ÔºöÊ§≠ÂúÜÁöÑÁªòÂà∂ÂÖ¨ÂºèÂ¶Ç‰∏ãÔºö1context.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);ÂÖ∂‰∏≠xÔºåy‰∏∫Ëµ∑ÂßãÂùêÊ†áÔºåradiusX‰∏∫Ê§≠ÂúÜÊ®™ÂêëÂçäÂæÑÔºåradiusY‰∏∫Ê§≠ÂúÜÁ∫µÂêëÂçäÂæÑÔºårotation‰∏∫Ê§≠ÂúÜÈ°∫Êó∂ÈíàÊóãËΩ¨ËßíÂ∫¶ÔºåstartAngleÔºàËµ∑ÂßãËßíÔºâÂíåendAngleÔºàÁªìÊùüËßíÔºâÂÜ≥ÂÆö‰∫ÜÂúÜÁöÑÂºßÂ∫¶Ôºå‰∏§ËÄÖÁöÑËøûÁ∫øÂÜ≥ÂÆö‰∫ÜÂúÜÁöÑÂΩ¢Áä∂ÔºåanticlockwiseË°®Á§∫ÊòØÂê¶ÊåâÈÄÜÊó∂ÈíàÊñπÂêëÁªòÂà∂Ôºå‰∏∫booleanÁ±ªÂûã„ÄÇÁªòÂà∂‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊ§≠ÂúÜÔºö12345context.beginPath();context.ellipse(100,100,50,90,Math.PI*0.25,0,Math.PI*2,false);context.closePath();context.fillStyle = "rgba(66,185,131,0.4)";context.fill();ÊïàÊûúÂõæÔºöÁªòÂà∂Áõ¥Á∫ø‰∏éÁªòÂà∂Áõ¥Á∫øÊúâÂÖ≥ÁöÑÊñπÊ≥ï‰∏ªË¶ÅÊúâ‰∏§‰∏™Ôºö1context.moveTo(x,y);moveToÊñπÊ≥ïÂ∞ÜÁªòÂà∂ÂÖâÊ†áÁßªÂä®Âà∞xÔºåy‰ΩçÁΩÆ„ÄÇ1context.lineTo(x,y);lineToÊñπÊ≥ïÂ∞Ü‰ªéÂΩìÂâçÂÖâÊ†á‰ΩçÁΩÆÂºÄÂßãÔºåÂà∞xÔºåy‰ΩçÁΩÆÈó¥ÁªòÂà∂‰∏ÄÊù°Áõ¥Á∫ø„ÄÇÂ§öÊ¨°Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÔºåÂàô‰∏ã‰∏ÄÊ¨°ÁöÑËµ∑ÁÇπ‰∏∫‰∏ä‰∏ÄÊ¨°lineToÁöÑÁªàÁÇπ„ÄÇ‰ΩøÁî®lineToÊñπÊ≥ïÁªìÂêàÊï∞Â≠¶ÂÖ¨ÂºèÔºåÁªòÂà∂‰∏Ä‰∏™Â§çÊùÇÁöÑÂõæÊ°àÔºö123456789101112131415var dx = 150;var dy = 150;var s = 100;context.beginPath();context.fillStyle = "rgba(230,177,163,.5)";context.strokeStyle = "#e96900";var dig = Math.PI/15*11;for(var i = 0;i &lt; 30 ; i++)&#123; var x = Math.sin(i*dig); var y = Math.cos(i*dig); context.lineTo(dx+x*s,dy+y*s);&#125;context.closePath();context.fill();context.stroke();ÊïàÊûúÂõæÔºöÂõæÂΩ¢‰∏ä‰∏ãÊñáÁöÑlineCapÂ±ûÊÄßÂèØ‰∏∫Áõ¥Á∫øÊ∑ªÂä†Á∫øÂ∏ΩÔºåÂèØÁî®ÁöÑÂ±ûÊÄßÊúâÔºöbuttÔºåÈªòËÆ§ÂÄºÔºå‰∏ç‰∏∫Áõ¥Á∫øÊ∑ªÂä†Á∫øÂ∏Ω„ÄÇroundÔºåÊ∑ªÂä†ÂúÜÂΩ¢Á∫øÂ∏Ω„ÄÇsquareÔºåÊ∑ªÂä†ÊñπÂΩ¢Á∫øÂ∏Ω„ÄÇ‰æãÂ¶ÇÔºö1234567context.strokeStyle = "rgba(66,185,131,0.6)";context.lineWidth = "10";context.beginPath();context.moveTo(50,50);context.lineTo(50,150);context.lineCap = "round";context.stroke();ÊïàÊûúÔºöÂõæÂΩ¢‰∏ä‰∏ãÊñáÁöÑlineJoinÂ±ûÊÄßÊåáÂÆö‰∏§Êù°Á∫ø‰∫§Ê±áÂ§ÑÁöÑÂΩ¢Áä∂ÔºåÂèØÁî®ÁöÑÂÄºÊúâÔºömiterÔºåÈªòËÆ§ÂÄºÔºåÂ∞ñËßíÊãêËßí„ÄÇroundÔºåÂúÜËßíÊãêËßí„ÄÇbevelÔºåÊñúËßíÊãêËßí„ÄÇ‰æãÂ¶ÇÔºö12345678context.strokeStyle = "rgba(66,185,131,0.6)";context.lineWidth = "10";context.beginPath();context.moveTo(50,50);context.lineTo(50,150);context.lineTo(150,150);context.lineJoin = "bevel";context.stroke();ÊïàÊûúÂõæÔºöÂõæÂΩ¢‰∏ä‰∏ãÊñáÁöÑsetLineDashÊñπÊ≥ïÂèØËÆæÁΩÆËôöÁ∫øÁöÑÊ†∑ÂºèÔºö1context.setLineDash(segments);segments‰∏∫‰∏Ä‰∏™Êï∞ÁªÑ„ÄÇÊï∞ÁªÑÈïøÂ∫¶ÂèØÂàÜ‰∏∫4ÁßçÊÉÖÂÜµÔºö1.ÂΩìÊï∞ÁªÑÈïøÂ∫¶‰∏∫1Êó∂Ôºö1context.setLineDash([5]);Ë°®Á§∫Á∫øÊÆµÈïøÂ∫¶‰∏∫5ÔºåÁ∫øÊÆµÈó¥Ë∑ùÁ¶ª‰πü‰∏∫5„ÄÇ2.ÂΩìÊï∞ÁªÑÈïøÂ∫¶‰∏∫2Êó∂Ôºö1context.setLineDash([5,10]);Ë°®Á§∫Á∫øÊÆµÈïøÂ∫¶‰∏∫5ÔºåÁ∫øÊÆµÈó¥Ë∑ùÁ¶ª‰∏∫10„ÄÇ3.ÂΩìÊï∞ÁªÑÈïøÂ∫¶‰∏∫Â§ß‰∫é2ÁöÑÂÅ∂Êï∞Êó∂Ôºö1context.setLineDash([5,10,15,20]);Á¨¨Â•áÊï∞‰∏™Êï∞ÂÄºË°®Á§∫Á∫øÊÆµÈïøÂ∫¶ÔºåÁ¨¨ÂÅ∂Êï∞‰∏™Êï∞ÂÄºË°®Á§∫Á∫øÊÆµÈó¥Ë∑ù„ÄÇ4.ÂΩìÊï∞ÁªÑÈïøÂ∫¶‰∏∫Â§ß‰∫é1ÁöÑÂ•áÊï∞Êó∂Ôºö1context.setLineDash([5,10,15]);ÊµèËßàÂô®‰ºöÂ∞ÜÂÖ∂Ëß£Êûê‰∏∫Ôºö1context.setLineDash([5,10,15,5,10,15]);Áîª‰∏™ËôöÁ∫øËØïËØïÔºö1234567context.strokeStyle = "rgba(66,185,131,0.9)";context.lineWidth = 2;context.beginPath();context.moveTo(10,50);context.lineTo(250,50);context.setLineDash([15,5]);context.stroke();ÊïàÊûúÔºöÁªòÂà∂Êõ≤Á∫øÁªòÂà∂Êõ≤Á∫ø‰ΩøÁî®arcToÊñπÊ≥ïÔºö1context.fillRect(x1,y1,x2,y2,radiusX[radiusY,rotation]);ÂÖ≥‰∫éÂùêÊ†áÂèÇÊï∞ÔºåÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ËøôÂº†ÂõæÔºöÂÖ∂‰∏≠x0Ôºåy0‰∏∫ÂΩìÂâçÁÇπÁöÑÂùêÊ†áÔºåx1Ôºåy1‰∏∫ÁªòÂà∂ÂúÜÂºßÊó∂‰ΩøÁî®ÁöÑÊéßÂà∂ÂùêÊ†áÔºåx2Ôºåy2‰∏∫ÈáçÁÇπÂùêÊ†á„ÄÇradiusX‰∏∫ÂúÜÂºßÁöÑÂçäÂæÑ„ÄÇradiusYÂíårotation‰∏∫ÈöêËóèÂèÇÊï∞ÔºåÂâçËÄÖË°®Á§∫Á∫µÂêëÂçäÂæÑÔºåÂêéËÄÖË°®Á§∫È°∫Êó∂ÈíàÊóãËΩ¨ËßíÂ∫¶„ÄÇÁªòÂà∂‰∏™Êõ≤Á∫øÂõæÔºö1234567891011context.strokeStyle = "rgba(66,185,131,0.9)";context.lineWidth = 2;context.beginPath();context.moveTo(10,50);//Êõ≤Á∫øÁöÑËµ∑ÁÇπcontext.lineTo(100,50);//(150,50)Êõ≤Á∫øÁöÑÊéßÂà∂ÁÇπÔºå(150,100)Êõ≤Á∫øÁöÑÁªàÁÇπÔºåÊõ≤Á∫øÂçäÂæÑ‰∏∫50context.arcTo(150,50,150,100,50);//ÂÜçÊù•‰∏ÄÊù°context.arcTo(100,100,100,50,50);context.stroke();ÊïàÊûúÂõæÔºöÂõæÂΩ¢‰∏ä‰∏ãÊñáÁöÑbezierCurveToÊñπÊ≥ïÁî®‰ª•‰∏âÊ¨°ÁªòÂà∂Ë¥ùÂ°ûÂ∞îÊõ≤Á∫ø„ÄÇ1context.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y); ‚ÄãÂÖ∂‰∏≠cp1x‰∏∫Á¨¨‰∏Ä‰∏™Ë¥ùÂ°ûÂ∞îÊéßÂà∂ÁÇπÁöÑ x ÂùêÊ†áÔºåcp1y‰∏∫Á¨¨‰∏Ä‰∏™Ë¥ùÂ°ûÂ∞îÊéßÂà∂ÁÇπÁöÑ y ÂùêÊ†á„ÄÇcp2x‰∏∫Á¨¨‰∫å‰∏™Ë¥ùÂ°ûÂ∞îÊéßÂà∂ÁÇπÁöÑ x ÂùêÊ†áÔºåcp2y‰∏∫Á¨¨‰∫å‰∏™Ë¥ùÂ°ûÂ∞îÊéßÂà∂ÁÇπÁöÑ y ÂùêÊ†á„ÄÇxÔºåy‰∏∫ÁªàÁÇπÂùêÊ†á„ÄÇ‰æãÂ¶ÇÔºö123456context.strokeStyle = "rgba(66,185,131,0.9)";context.lineWidth = 2;context.beginPath();context.moveTo(50, 150);context.bezierCurveTo(150, 100, 150, 200, 250, 150);context.stroke();ÊïàÊûúÂõæÔºöË¥ùÂ°ûÂ∞îÊõ≤Á∫øÂú®Á∫øÁîüÊàêÂ∑•ÂÖ∑Ôºöhttp://www.j--d.com/bezierÂõæÂΩ¢‰∏ä‰∏ãÊñáÁöÑquadraticCurveToÊñπÊ≥ïÁî®‰ª•‰∫åÊ¨°ÁªòÂà∂Ë¥ùÂ°ûÂ∞îÊõ≤Á∫øÔºö1context.quadraticCurveTo(cpx,cpy,x,y);Áõ∏ËæÉ‰∫ébezierCurveToÊñπÊ≥ïÔºåÂÖ∂Âè™Êúâ‰∏Ä‰∏™ÊéßÂà∂ÁÇπ„ÄÇcpxÔºåcpy‰∏∫ÊéßÂà∂ÁÇπÁöÑÂùêÊ†áÔºåxÔºåy‰∏∫ÁªàÁÇπÂùêÊ†á„ÄÇ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö123456context.strokeStyle = "rgba(66,185,131,0.9)";context.lineWidth = 2;context.beginPath();context.moveTo(50, 50);context.quadraticCurveTo(250, 150, 150, 50);context.stroke();ÊïàÊûúÂõæÔºö„ÄäHTML5‰∏éCSS3ÊùÉÂ®ÅÊåáÂçó„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>HTML5</tag>
        <tag>Canvas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊâìÂåÖÊåá‰ª§tar]]></title>
    <url>%2FLinux%E6%89%93%E5%8C%85%E6%8C%87%E4%BB%A4tar.html</url>
    <content type="text"><![CDATA[gzip, bzip2, xz ‰πüËÉΩÂ§üÈíàÂØπÁõÆÂΩïÊù•ËøõË°åÂéãÁº©Ôºå‰∏çËøáÂÆÉ‰ª¨ÈÉΩÊòØÂØπÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÈÄê‰∏™ÂéãÁº©ÁöÑ„ÄÇËÄåtarÊåá‰ª§ÂàôÂèØ‰ª•Â∞ÜËøô‰∫õÊñá‰ª∂ÂÖàÊâìÂåÖÊàê‰∏Ä‰∏™Â§ßÊñá‰ª∂ÔºåÁÑ∂ÂêéÂÜçËøõË°åÂéãÁº©Êìç‰Ωú„ÄÇ‰ªÖÁî®tarÂëΩ‰ª§ÊâìÂåÖ‰∏çÂéãÁº©ÁöÑÊñá‰ª∂ÔºåÁß∞‰∏∫tarfileÔºåÊó¢ÊâìÂåÖÂèàÂéãÁº©ÁöÑÊñá‰ª∂ÔºåÂ¶Çfile.tar.gzÂàôÊàê‰∏∫tarball„ÄÇtarÊåá‰ª§ÁöÑÈÄâÈ°πÈùûÂ∏∏Â§öÔºå‰∏ÄËà¨Âè™ÊòØÁî®Âá†‰∏™Â∏∏Áî®ÁöÑÔºåÂü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö12345678910111213141516tar [-z|-j|-J] [cv] [-f ÂæÖÂª∫Á´ãÁöÑÊñá‰ª∂Âêç] filename... &lt;==ÊâìÂåÖ‰∏éÂéãÁº©tar [-z|-j|-J] [tv] [-f Â∑≤ÊúâÁöÑtarÊ†ºÂºèÊñá‰ª∂Âêç] &lt;==Êü•ÁúãÊñá‰ª∂Âêçtar [-z|-j|-J] [xv] [-f Â∑≤ÊúâÁöÑtarÊ†ºÂºèÊñá‰ª∂Âêç] [-C ÁõÆÂΩï] &lt;==Ëß£ÂéãÁº©ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-c ÔºöÂª∫Á´ãÊâìÂåÖÊñá‰ª∂ÔºåÂèØÊê≠ÈÖç -v Êù•ÂØüÁúãËøáÁ®ã‰∏≠Ë¢´ÊâìÂåÖÁöÑÊ°£Âêç(filename)-t ÔºöÂØüÁúãÊâìÂåÖÊñá‰ª∂ÁöÑÂÜÖÂÆπÂê´ÊúâÂì™‰∫õÊ°£ÂêçÔºåÈáçÁÇπÂú®ÂØüÁúã„ÄéÊ°£Âêç„ÄèÂ∞±ÊòØ‰∫ÜÔºõ-x ÔºöËß£ÊâìÂåÖÊàñËß£ÂéãÁº©ÁöÑÂäüËÉΩÔºåÂèØ‰ª•Êê≠ÈÖç -C (Â§ßÂÜô) Âú®ÁâπÂÆöÁõÆÂΩïËß£ÂºÄ„ÄÇÁâπÂà´ÁïôÊÑèÁöÑÊòØÔºå -c, -t, -x ‰∏çÂèØÂêåÊó∂Âá∫Áé∞Âú®‰∏Ä‰∏≤Êåá‰ª§Âàó‰∏≠„ÄÇ-z ÔºöÈÄèËøá gzip ÁöÑÊîØÊåÅËøõË°åÂéãÁº©/Ëß£ÂéãÁº©ÔºöÊ≠§Êó∂Ê°£ÂêçÊúÄÂ•Ω‰∏∫ *.tar.gz-j ÔºöÈÄèËøá bzip2 ÁöÑÊîØÊåÅËøõË°åÂéãÁº©/Ëß£ÂéãÁº©ÔºöÊ≠§Êó∂Ê°£ÂêçÊúÄÂ•Ω‰∏∫ *.tar.bz2-J ÔºöÈÄèËøá xz ÁöÑÊîØÊåÅËøõË°åÂéãÁº©/Ëß£ÂéãÁº©ÔºöÊ≠§Êó∂Ê°£ÂêçÊúÄÂ•Ω‰∏∫ *.tar.xz„ÄÇÁâπÂà´ÁïôÊÑèÔºå -z, -j, -J ‰∏çÂèØ‰ª•ÂêåÊó∂Âá∫Áé∞Âú®‰∏Ä‰∏≤Êåá‰ª§Âàó‰∏≠-v ÔºöÂú®ÂéãÁº©/Ëß£ÂéãÁº©ÁöÑËøáÁ®ã‰∏≠ÔºåÂ∞ÜÊ≠£Âú®Â§ÑÁêÜÁöÑÊñá‰ª∂ÂêçÊòæÁ§∫Âá∫Êù•ÔºÅ-f filenameÔºö-f ÂêéÈù¢Ë¶ÅÁ´ãÂàªÊé•Ë¶ÅË¢´Â§ÑÁêÜÁöÑÊ°£ÂêçÔºÅÂª∫ËÆÆ -f ÂçïÁã¨ÂÜô‰∏Ä‰∏™ÈÄâÈ°π-C ÁõÆÂΩï ÔºöËøô‰∏™ÈÄâÈ°πÁî®Âú®Ëß£ÂéãÁº©ÔºåËã•Ë¶ÅÂú®ÁâπÂÆöÁõÆÂΩïËß£ÂéãÁº©ÔºåÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™ÈÄâÈ°π„ÄÇ-p(Â∞èÂÜô) Ôºö‰øùÁïôÂ§á‰ªΩÊï∞ÊçÆÁöÑÂéüÊú¨ÊùÉÈôê‰∏éÂ±ûÊÄßÔºåÂ∏∏Áî®‰∫éÂ§á‰ªΩ(-c)ÈáçË¶ÅÁöÑÈÖçÁΩÆÊñá‰ª∂-P(Â§ßÂÜô) Ôºö‰øùÁïôÁªùÂØπË∑ØÂæÑÔºå‰∫¶Âç≥ÂÖÅËÆ∏Â§á‰ªΩÊï∞ÊçÆ‰∏≠Âê´ÊúâÊ†πÁõÆÂΩïÂ≠òÂú®‰πãÊÑèÔºõ--exclude=FILEÔºöÂú®ÂéãÁº©ÁöÑËøáÁ®ã‰∏≠Ôºå‰∏çË¶ÅÂ∞Ü FILE ÊâìÂåÖÔºÅ‰∏ÄËà¨Êù•ËØ¥ÔºåtarÂëΩ‰ª§Âè™Ë¶ÅËÆ∞‰Ωè‰∏ãÈù¢Ëøô‰∏™ËåÉ‰æãÂ∞±Ë°å‰∫ÜÔºöÂéã Áº©Ôºötar -jcv -f filename.tar.bz2Ë¶ÅË¢´ÂéãÁº©ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÂêçÁß∞Êü• ËØ¢Ôºötar -jtv -f filename.tar.bz2Ëß£ÂéãÁº©Ôºötar -jxv -f filename.tar.bz2 -CÊ¨≤Ëß£ÂéãÁº©ÁöÑÁõÆÂΩïfilename.tar.bz2 ÊòØÊàë‰ª¨Ëá™Â∑±ÂèñÁöÑÊñá‰ª∂ÂêçÔºåtar Âπ∂‰∏ç‰ºöËá™Âä®Â∏ÆÊàë‰ª¨ÁîüÊàêÊâìÂåÖÂéãÁº©ÂêéÁöÑÊñá‰ª∂Âêç„ÄÇÊñá‰ª∂ÂëΩÂêçÊúÄÂ•ΩÁ¨¶ÂêàËßÑËåÉ„ÄÇÁ§∫‰æãÔºö‰ΩøÁî®tarÂëΩ‰ª§ÊâìÂåÖ/etc/ÁõÆÂΩïÔºåÁÑ∂Âêé‰ΩøÁî®-zÔºå-jÔºå-JÈÄâÈ°πËøõË°åÂéãÁº©ÔºåÂπ∂ËßÇÂØüÁªìÊûú‰∏éËÄóÊó∂1234567891011121314151617181920212223242526272829root@ubuntu:/temp# time tar -zpcv -f etc.tar.gz /etctar: Removing leading `/' from member names/etc//etc/ucf.conf/etc/selinux//etc/selinux/semanage.conf... real 0m0.848s //ËÄóÊó∂0.848Áßíuser 0m0.456ssys 0m0.080s root@ubuntu:/temp# time tar -jpcv -f etc.tar.bz2 /etctar: Removing leading `/' from member names/etc//etc/ucf.conf/etc/selinux//etc/selinux/semanage.conf... real 0m1.781s //ËÄóÊó∂1.781Áßíuser 0m1.220ssys 0m0.060s root@ubuntu:/temp# time tar -Jpcv -f etc.tar.xz /etc real 0m7.700s //ËÄóÊó∂7.700Áßíuser 0m5.428ssys 0m0.456sÊü•ÈòÖ tar Êñá‰ª∂ÁöÑÊï∞ÊçÆÂÜÖÂÆπ12345root@ubuntu:/temp# tar -ztv -f etc.tar.gz drwxr-xr-x root/root 0 2017-04-13 09:31 etc/-rw-r--r-- root/root 1260 2016-03-17 04:58 etc/ucf.confdrwxr-xr-x root/root 0 2016-04-21 06:07 etc/selinux/...ÂèØÂèëÁé∞ÔºåÊØè‰∏™Êñá‰ª∂ÂêçÈÉΩÊ≤°‰∫ÜÊ†πÁõÆÂΩï„ÄÇÊ≠£Â¶ÇÂ§á‰ªΩÁöÑÊó∂ÂÄôÂá∫Áé∞ÁöÑË≠¶ÂëäÔºötar: Removing leading `/‚Äò from member namesÈÇ£Ê†∑„ÄÇËøôÁßçÂÅöÊ≥ï‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢Ëß£ÂéãÁº©ÁöÑÊó∂ÂÄôÂá∫Áé∞Ë¶ÜÁõñÊ∫êÊñá‰ª∂ÁöÑÊÉÖÂÜµ„ÄÇÂ¶ÇÊûúË¶Å‰øùÁïôÊñá‰ª∂ÁöÑÊ†πÁõÆÂΩï/ÔºåÂàôÂèØ‰ª•‰ΩøÁî®-PÔºàÂ§ßÂÜôÔºâÈÄâÈ°π„ÄÇÊåáÂÆöÁõÆÂΩïËß£ÂéãÁº©Â¶ÇÊûúÁõ¥Êé•Âú®ÂΩìÂâçÁõÆÂΩï‰∏ãÊâßË°åÂëΩ‰ª§Ôºötar -jxv -f /root/etc.tar.bz2ÔºåÂàôÁõÆÂΩï‰∏ã‰ºöÂ§öÂá∫‰∏™etcÁöÑÁõÆÂΩï„ÄÇÂ¶ÇÊûúË¶ÅÊåáÂÆöËß£ÂéãÁº©ÁöÑÁõÆÂΩïÔºåÂèØ‰ª•‰ΩøÁî®-CÈÄâÈ°π„ÄÇÂ¶ÇÂ∞Ü/temp/etc.tar.gzËß£ÂéãÂà∞/tmpÁõÆÂΩï‰∏ã1root@ubuntu:/temp# tar -zxv -f etc.tar.gz -C /tmpÊåáÂÆöËß£ÂéãÊüê‰∏™Êñá‰ª∂Èô§‰∫Ü‰∏ÄÊ¨°ÊÄßÂÖ®ÈÉ®Ëß£ÂéãÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÊåáÂÆöËß£ÂéãÊüê‰∏™Êñá‰ª∂„ÄÇÊØîÂ¶ÇÊàëË¶ÅËß£Âéãetc.tar.gz‰∏ãÁöÑetc/shadowÔºåÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÂëΩ‰ª§Ôºö12root@ubuntu:/temp# tar -zxv -f etc.tar.gz etc/shadowetc/shadowÊâìÂåÖÊüêÁõÆÂΩïÔºå‰ΩÜ‰∏çÂê´ËØ•ÁõÆÂΩï‰∏ãÁöÑÊüê‰∫õÊñá‰ª∂ÊØîÂ¶ÇÊàëÊÉ≥ÊâìÂåÖ/etcÁõÆÂΩïÔºå‰ΩÜÊòØ‰∏çÊÉ≥ÂåÖÂê´ÁõÆÂΩï‰∏ãÁöÑpppÂíåqqqÊñá‰ª∂Ôºö1root@ubuntu:/temp# tar -zcv -f etc.tar.gz --exclude=/etc/ppp --exclude=/etc/qqq /etcÊàñËÄÖÔºö1root@ubuntu:/temp# vi exclude-fileÈáåÈù¢ËæìÂÖ•12/etc/ppp/etc/qqqÁÑ∂Âêé‰ΩøÁî®ÂëΩ‰ª§Ôºö1root@ubuntu:/temp# tar -zcvf etc.tar.gz --exclude-from exclude-file /etc‰ªÖÂ§á‰ªΩÊØîÊüê‰∏™Êó∂ÂàªËøòË¶ÅÊñ∞ÁöÑÊñá‰ª∂ÊØîÂ¶ÇÔºå‰ªÖÂ§á‰ªΩÊØî/etc/passwdÊñá‰ª∂Êñ∞ÁöÑÊñá‰ª∂ÔºàmtimeÔºâÔºö123456789root@ubuntu:/temp# ls -l /etc/passwd-rw-r--r-- 1 root root 2243 Apr 13 09:30 /etc/passwdroot@ubuntu:/temp# tar -zcv -f etc.newer.passwd.tar.gz --newer-mtime="2017/04/13 09:30" /etc/*tar: Option --newer-mtime: Treating date '2017/04/13 09:30' as 2017-04-13 09:30:00tar: Removing leading `/' from member names/etc/acpi/tar: /etc/acpi/asus-wireless.sh: file is unchanged; not dumpedtar: /etc/acpi/asus-keyboard-backlight.sh: file is unchanged; not dumped...„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÂ∏∏Áî®ÂéãÁº©Êåá‰ª§]]></title>
    <url>%2FLinux%E5%B8%B8%E7%94%A8%E5%8E%8B%E7%BC%A9%E6%8C%87%E4%BB%A4.html</url>
    <content type="text"><![CDATA[Linux ‰∏äÂ∏∏ËßÅÁöÑÂéãÁº©Êåá‰ª§Êúâ gzipÔºåbzip2 ‰ª•ÂèäÊúÄÊñ∞ÁöÑ xz„ÄÇÂéãÁº©Áéá‰ªéÈ´òÂà∞‰Ωé‰∏∫xzÔºåbzip2Ôºågzip„ÄÇÂéãÁº©ÁéáË∂äÈ´òÔºåÂéãÁº©ÊâÄËä±ÁöÑÊó∂Èó¥Â∞±Ë∂äÈïø„ÄÇÊâÄ‰ª•ÂÆûÈôÖÂ∑•‰Ωú‰∏≠ÈúÄË¶ÅÊ†πÊçÆÂÖ∑‰ΩìÊÉÖÂÜµÂú®ÂéãÁº©ÁéáÂíåÂéãÁº©Êó∂Èó¥‰∏≠ÂÅöÂá∫ÊäâÊã©„ÄÇ‰ª•‰∏ã‰∏∫Âá†‰∏™Â∏∏ËßÅÁöÑÂéãÁº©Êñá‰ª∂Êâ©Â±ïÂêçÔºö123456789*.Z compress Á®ãÂ∫èÂéãÁº©ÁöÑÊñá‰ª∂Ôºõ*.zip zip Á®ãÂ∫èÂéãÁº©ÁöÑÊñá‰ª∂Ôºõ*.gz gzip Á®ãÂ∫èÂéãÁº©ÁöÑÊñá‰ª∂Ôºõ*.bz2 bzip2 Á®ãÂ∫èÂéãÁº©ÁöÑÊñá‰ª∂Ôºõ*.xz xz Á®ãÂ∫èÂéãÁº©ÁöÑÊñá‰ª∂Ôºõ*.tar tar Á®ãÂ∫èÊâìÂåÖÁöÑÊï∞ÊçÆÔºåÂπ∂Ê≤°ÊúâÂéãÁº©ËøáÔºõ*.tar.gz tar Á®ãÂ∫èÊâìÂåÖÁöÑÊñá‰ª∂ÔºåÂÖ∂‰∏≠Âπ∂‰∏îÁªèËøá gzip ÁöÑÂéãÁº©*.tar.bz2 tar Á®ãÂ∫èÊâìÂåÖÁöÑÊñá‰ª∂ÔºåÂÖ∂‰∏≠Âπ∂‰∏îÁªèËøá bzip2 ÁöÑÂéãÁº©*.tar.xz tar Á®ãÂ∫èÊâìÂåÖÁöÑÊñá‰ª∂ÔºåÂÖ∂‰∏≠Âπ∂‰∏îÁªèËøá xz ÁöÑÂéãÁº©compressÊåá‰ª§Â∑≤ÁªèËøáÊó∂‰∫ÜÔºåÂèñËÄå‰ª£‰πãÁöÑÊòØgzip„ÄÇgzip, zcat/zmore/zless/zgrepgzipÂèØ‰ª•Ëß£ÂºÄ compressÔºåzip ‰∏é gzip Á≠âËΩØ‰ª∂ÊâÄÂéãÁº© ÁöÑÊñá‰ª∂„ÄÇ gzip ÊâÄÂª∫Á´ãÁöÑÂéãÁº©Êñá‰ª∂‰∏∫ *.gzÔºågzipËØ≠Ê≥ïÔºö12345678gzip [-cdtv#] Êñá‰ª∂Âêçzcat Êñá‰ª∂Âêç.gzÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-c ÔºöÂ∞ÜÂéãÁº©ÁöÑÊï∞ÊçÆËæìÂá∫Âà∞Â±èÂπï‰∏äÔºåÂèØÈÄèËøáÊï∞ÊçÆÊµÅÈáçÂØºÂêëÊù•Â§ÑÁêÜÔºõ-d ÔºöËß£ÂéãÁº©ÁöÑÂèÇÊï∞Ôºõ-t ÔºöÂèØ‰ª•Áî®Êù•Ê£ÄÈ™å‰∏Ä‰∏™ÂéãÁº©Êñá‰ª∂ÁöÑ‰∏ÄËá¥ÊÄßÔΩûÁúãÁúãÊñá‰ª∂ÊúâÊó†ÈîôËØØÔºõ-v ÔºöÂèØ‰ª•ÊòæÁ§∫Âá∫ÂéüÊñá‰ª∂/ÂéãÁº©Êñá‰ª∂Ê°àÁöÑÂéãÁº©ÊØîÁ≠â‰ø°ÊÅØÔºõ-# Ôºö# ‰∏∫Êï∞Â≠óÁöÑÊÑèÊÄùÔºå‰ª£Ë°®ÂéãÁº©Á≠âÁ∫ßÔºå-1 ÊúÄÂø´Ôºå‰ΩÜÊòØÂéãÁº©ÊØîÊúÄÂ∑Æ„ÄÅ-9 ÊúÄÊÖ¢Ôºå‰ΩÜÊòØÂéãÁº©ÊØîÊúÄÂ•ΩÔºÅÈ¢ÑËÆæÊòØ -6Á§∫‰æãÔºö‰ΩøÁî®gzipÂéãÁº©/temp/servicesÊñá‰ª∂ÔºåÂπ∂Êü•ÁúãÂéãÁº©ÊØîÔºö12345root@ubuntu:/temp# gzip -v services services: 61.6% -- replaced with services.gzroot@ubuntu:/temp# ls -lh /etc/services services.gz -rw-r--r-- 1 root root 20K Oct 25 2014 /etc/services-rw-r--r-- 1 root root 7.4K Apr 17 16:15 services.gzÂõ†‰∏∫servicesÊòØÊñáÊú¨Êñá‰ª∂ÔºåÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®zcat/zmore/zless ÂéªËØªÂèñ Ôºö1234567root@ubuntu:/temp# zcat services.gz # Network services, Internet style## Note that it is presently the policy of IANA to assign a single well-known# port number for both TCP and UDP; hence, officially ports have two entries# even if the protocol doesn't support UDP operations....Â∞Üservices.gzËß£ÂéãÁº©Ôºö1root@ubuntu:/temp# gzip -d services.gz‰ΩøÁî®gzipÊåá‰ª§‰ª•ÊúÄÂ•ΩÁöÑÂéãÁº©ÊØîÂéãÁº©servicesÔºåÂπ∂‰øùÁïôÂéüÊñá‰ª∂Ôºö1gzip -9 -c services &gt; services.gz-c ÂèØ‰ª•Â∞ÜÂéüÊú¨Ë¶ÅËΩ¨ÊàêÂéãÁº©Êñá‰ª∂ÁöÑËµÑÊñôÂÜÖÂÆπÔºåÂ∞ÜÂÆÉÂèòÊàêÊñáÂ≠óÁ±ªÂûã‰ªéÂ±èÂπïËæìÂá∫Ôºå ÁÑ∂ÂêéÊàë‰ª¨ÂèØ‰ª•ÈÄèËøáÂ§ß‰∫é (&gt;) Ëøô‰∏™Á¨¶Âè∑ÔºåÂ∞ÜÂéüÊú¨Â∫îËØ•Áî±Â±èÂπïËæìÂá∫ÁöÑÊï∞ÊçÆÔºåËΩ¨ÊàêËæìÂá∫Âà∞Êñá‰ª∂ËÄå‰∏çÊòØÂ±èÂπïÔºåÊâÄ‰ª•Â∞±ËÉΩÂ§üÂª∫Á´ãÂá∫ÂéãÁº©Êñá‰ª∂‰∫Ü„ÄÇÂè™ÊòØÊñá‰ª∂Âêç‰πüË¶ÅËá™Â∑±ÂÜôÔºå ÂΩìÁÑ∂ÊúÄÂ•ΩËøòÊòØÈÅµÂæ™ gzip ÁöÑÂéãÁº©Êñá‰ª∂ÂêçËßÑËåÉ„ÄÇbzip2, bzcat/bzmore/bzless/bzgrepbzip2ÂàôÊòØ‰∏∫‰∫ÜÂèñ‰ª£ gzip Âπ∂Êèê‰æõÊõ¥‰Ω≥ÁöÑÂéãÁº©ÊØîËÄåÊù•ÁöÑÔºåËØ≠Ê≥ïÂíågzipÂ∑Æ‰∏çÂ§öÔºö123456789bzip2 [-cdkzv#] Êñá‰ª∂Âêçbzcat Êñá‰ª∂Âêç.bz2ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-c ÔºöÂ∞ÜÂéãÁº©ÁöÑËøáÁ®ã‰∫ßÁîüÁöÑÊï∞ÊçÆËæìÂá∫Âà∞Â±èÂπï‰∏ä„ÄÇ-d ÔºöËß£ÂéãÁº©ÁöÑÂèÇÊï∞„ÄÇ-k Ôºö‰øùÁïôÊ∫êÊñá‰ª∂ÔºåËÄå‰∏ç‰ºöÂà†Èô§ÂéüÂßãÁöÑÊñá‰ª∂„ÄÇ-z ÔºöÂéãÁº©ÁöÑÂèÇÊï∞ (ÈªòËÆ§ÂÄºÔºåÂèØ‰ª•‰∏çÂä†)„ÄÇ-v ÔºöÂèØ‰ª•ÊòæÁ§∫Âá∫ÂéüÊñá‰ª∂/ÂéãÁº©Êñá‰ª∂Ê°àÁöÑÂéãÁº©ÊØîÁ≠â‰ø°ÊÅØ„ÄÇ-# Ôºö‰∏é gzip ÂêåÊ†∑ÁöÑÔºåÈÉΩÊòØÂú®ËÆ°ÁÆóÂéãÁº©ÊØîÁöÑÂèÇÊï∞Ôºå -9 ÊúÄ‰Ω≥Ôºå -1 ÊúÄÂø´ÔºÅÁ§∫‰æãÔºö‰ΩøÁî®bzip2ÂëΩ‰ª§ÂéãÁº©servicesÊñá‰ª∂Ôºö12root@ubuntu:/temp# bzip2 -v services services: 2.712:1, 2.950 bits/byte, 63.13% saved, 19605 in, 7229 out.xz, xzcat/xzmore/xzless/xzgrepbzip2 Â∑≤ÁªèÂÖ∑ÊúâÂæàÊ£íÁöÑÂéãÁº©ÊØîÔºå‰∏çËøáÊòæÁÑ∂Êüê‰∫õËá™Áî±ËΩØ‰ª∂ÂºÄÂèëËÄÖËøò‰∏çÊª°Ë∂≥ÔºåÂõ†Ê≠§ÂêéÊù•ËøòÊé®Âá∫‰∫Ü xz Ëøô‰∏™ÂéãÁº©ÊØîÊõ¥È´òÁöÑËΩØ‰ª∂„ÄÇxzÁöÑËØ≠Ê≥ïÔºö123456789xz [-dtlkc#] Êñá‰ª∂Âêçxcat Êñá‰ª∂Âêç.xzÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-d ÔºöÂ∞±ÊòØËß£ÂéãÁº©-t ÔºöÊµãËØïÂéãÁº©Êñá‰ª∂ÁöÑÂÆåÊï¥ÊÄßÔºåÁúãÊúâÊ≤°ÊúâÈîôËØØ-l ÔºöÂàóÂá∫ÂéãÁº©Êñá‰ª∂ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ-k Ôºö‰øùÁïôÂéüÊú¨ÁöÑÊñá‰ª∂‰∏çÂà†Èô§-c ÔºöÂêåÊ†∑ÁöÑÔºåÂ∞±ÊòØÂ∞ÜÊï∞ÊçÆÁî±Â±èÂπï‰∏äËæìÂá∫ÁöÑÊÑèÊÄù-# ÔºöÂêåÊ†∑ÁöÑÔºå‰πüÊúâËæÉ‰Ω≥ÁöÑÂéãÁº©ÊØîÁöÑÊÑèÊÄùÂØπÊØîÂàÜÂà´‰ΩøÁî®gzipÔºåbzip2ÂíåxzÂëΩ‰ª§ÈªòËÆ§ÂéãÁº©ÊØîÂØπserviceÊñá‰ª∂ËøõË°åÂéãÁº©ÔºåÂπ∂Êü•ÁúãÊó∂Èó¥Ôºö12345678910111213root@ubuntu:/temp# time gzip -c services &gt; services.gz;time bzip2 -k services;time xz -k services real 0m0.003suser 0m0.000ssys 0m0.000s real 0m0.004suser 0m0.000ssys 0m0.000s real 0m0.076suser 0m0.016ssys 0m0.020sÊü•ÁúãÂéãÁº©ÂêéÁöÑÊñá‰ª∂Â§ßÂ∞èÔºö12345root@ubuntu:/temp# ls -l services services.gz services.bz2 services.xz -rw-r--r-- 1 root root 19605 Apr 17 16:42 services-rw-r--r-- 1 root root 7554 Apr 17 16:43 services.gz-rw-r--r-- 1 root root 7229 Apr 17 16:42 services.bz2-rw-r--r-- 1 root root 7156 Apr 17 16:42 services.xz„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏Ä‰∫õJSÊäÄÂ∑ß[ËΩ¨]]]></title>
    <url>%2F%E4%B8%80%E4%BA%9BJS%E6%8A%80%E5%B7%A7-%E8%BD%AC.html</url>
    <content type="text"><![CDATA[‰ΩøÁî®+Â∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêÊï∞Â≠óËøô‰∏™ÊäÄÂ∑ßÈùûÂ∏∏ÊúâÁî®ÔºåÂÖ∂ÈùûÂ∏∏ÁÆÄÂçïÔºåÂèØ‰ª•‰∫§Â≠óÁ¨¶‰∏≤Êï∞ÊçÆËΩ¨Êç¢ÊàêÊï∞Â≠óÔºå‰∏çËøáÂÖ∂Âè™ÈÄÇÂêàÁî®‰∫éÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆÔºåÂê¶ÂàôÂ∞ÜËøîÂõûNaNÔºåÊØîÂ¶Ç‰∏ãÈù¢ÁöÑÁ§∫‰æãÔºö12345function toNumber(strNumber) &#123; return +strNumber;&#125;console.log(toNumber("1234")); // 1234console.log(toNumber("ACB")); // NaNËøô‰∏™‰πüÈÄÇÁî®‰∫é DateÔºåÂú®Êú¨‰æã‰∏≠ÔºåÂÆÉÂ∞ÜËøîÂõûÁöÑÊòØÊó∂Èó¥Êà≥Êï∞Â≠óÔºö1console.log(+new Date()) // 1461288164385Âπ∂Êù°‰ª∂Á¨¶Â¶ÇÊûú‰Ω†ÂÜô‰∫Ü‰∏ÄÊÆµËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºö123if (conected) &#123; login();&#125;‰Ω†‰πüÂèØ‰ª•Â∞ÜÂèòÈáèÁÆÄÂÜôÔºåÂπ∂‰∏î‰ΩøÁî®&amp;&amp;ÂíåÂáΩÊï∞ËøûÊé•Âú®‰∏ÄËµ∑ÔºåÊØîÂ¶Ç‰∏äÈù¢ÁöÑÁ§∫‰æãÔºåÂèØ‰ª•ÁÆÄÂÜôÊàêËøôÊ†∑Ôºö1conected &amp;&amp; login();‰ΩøÁî® || ËøêÁÆóÁ¨¶Âú®ES6‰∏≠ÊúâÈªòËÆ§ÂèÇÊï∞Ëøô‰∏ÄÁâπÊÄß„ÄÇ‰∏∫‰∫ÜÂú®ËÄÅÁâàÊú¨ÁöÑÊµèËßàÂô®‰∏≠Ê®°ÊãüËøô‰∏ÄÁâπÊÄßÔºåÂèØ‰ª•‰ΩøÁî®||Êìç‰ΩúÁ¨¶ÔºåÂπ∂‰∏îÂ∞ÜÂ∞ÜÈªòËÆ§ÂÄºÂΩìÂÅöÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰º†ÂÖ•„ÄÇÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ËøîÂõûÁöÑÂÄº‰∏∫ falseÔºåÈÇ£‰πàÁ¨¨‰∫å‰∏™ÂÄºÂ∞Ü‰ºöËÆ§‰∏∫ÊòØ‰∏Ä‰∏™ÈªòËÆ§ÂÄº„ÄÇÂ¶Ç‰∏ãÈù¢Ëøô‰∏™Á§∫‰æãÔºö123456789101112function User(name, age) &#123; this.name = name || "Oliver Queen"; this.age = age || 27;&#125; var user1 = new User();console.log(user1.name); // Oliver Queenconsole.log(user1.age); // 27 var user2 = new User("Barry Allen", 25);console.log(user2.name); // Barry Allenconsole.log(user2.age); // 25Ê£ÄÊµãÂØπË±°‰∏≠Â±ûÊÄßÂΩì‰Ω†ÈúÄË¶ÅÊ£ÄÊµã‰∏Ä‰∫õÂ±ûÊÄßÊòØÂê¶Â≠òÂú®ÔºåÈÅøÂÖçËøêË°åÊú™ÂÆö‰πâÁöÑÂáΩÊï∞ÊàñÂ±ûÊÄßÊó∂ÔºåËøô‰∏™Â∞èÊäÄÂ∑ßÂ∞±ÊòæÂæóÂæàÊúâÁî®„ÄÇÂ¶ÇÊûú‰Ω†ÊâìÁÆóÂÆö‰∫õ‰∏Ä‰∫õË∑®ÂÖºÂÆπÁöÑÊµèËßàÂô®‰ª£Á†ÅÔºå‰Ω†‰πüÂèØËÉΩ‰ºöÁî®Âà∞Ëøô‰∏™Â∞èÊäÄÂ∑ß„ÄÇ‰æãÂ¶ÇÔºå‰Ω†ÊÉ≥‰ΩøÁî® document.querySelector() Êù•ÈÄâÊã©‰∏Ä‰∏™ idÔºåÂπ∂‰∏îËÆ©ÂÆÉËÉΩÂÖºÂÆπIE6ÊµèËßàÂô®Ôºå‰ΩÜÊòØÂú®IE6ÊµèËßàÂô®‰∏≠Ëøô‰∏™ÂáΩÊï∞ÊòØ‰∏çÂ≠òÂú®ÁöÑÔºåÈÇ£‰πà‰ΩøÁî®Ëøô‰∏™Êìç‰ΩúÁ¨¶Êù•Ê£ÄÊµãËøô‰∏™ÂáΩÊï∞ÊòØÂê¶Â≠òÂú®Â∞±ÊòæÂæóÈùûÂ∏∏ÁöÑÊúâÁî®ÔºåÂ¶Ç‰∏ãÈù¢ÁöÑÁ§∫‰æãÔºö12345if ('querySelector' in document) &#123; document.querySelector("#id");&#125; else &#123; document.getElementById("id");&#125;Âú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåÂ¶ÇÊûú document ‰∏çÂ≠òÂú® querySelector ÂáΩÊï∞ÔºåÈÇ£‰πàÂ∞±‰ºöË∞ÉÁî® docuemnt.getElementById(&quot;id&quot;)„ÄÇËé∑ÂèñÊï∞ÁªÑ‰∏≠ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†Array.prototype.slice(begin,end)Áî®Êù•Ëé∑ÂèñbeginÂíåend‰πãÈó¥ÁöÑÊï∞ÁªÑÂÖÉÁ¥†„ÄÇÂ¶ÇÊûú‰Ω†‰∏çËÆæÁΩÆendÂèÇÊï∞ÔºåÂ∞Ü‰ºöÂ∞ÜÊï∞ÁªÑÁöÑÈªòËÆ§ÈïøÂ∫¶ÂÄºÂΩì‰ΩúendÂÄº„ÄÇ‰ΩÜÊúâ‰∫õÂêåÂ≠¶ÂèØËÉΩ‰∏çÁü•ÈÅìËøô‰∏™ÂáΩÊï∞ËøòÂèØ‰ª•Êé•ÂèóË¥üÂÄº‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂ¶ÇÊûú‰Ω†ËÆæÁΩÆ‰∏Ä‰∏™Ë¥üÂÄº‰Ωú‰∏∫beginÁöÑÂÄºÔºåÈÇ£‰πà‰Ω†ÂèØ‰ª•Ëé∑ÂèñÊï∞ÁªÑÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇÂ¶ÇÔºö12345var array = [1,2,3,4,5,6]; console.log(array.slice(-1)); // [6]console.log(array.slice(-2)); // [5,6]console.log(array.slice(-3)); // [4,5,6]Êï∞ÁªÑÊà™Êñ≠Ëøô‰∏™Â∞èÊäÄÂ∑ß‰∏ªË¶ÅÁî®Êù•ÈîÅÂÆöÊï∞ÁªÑÁöÑÂ§ßÂ∞èÔºåÂ¶ÇÊûúÁî®‰∫éÂà†Èô§Êï∞ÁªÑ‰∏≠ÁöÑ‰∏Ä‰∫õÂÖÉÁ¥†Êù•ËØ¥ÔºåÊòØÈùûÂ∏∏ÊúâÁî®ÁöÑ„ÄÇ‰æãÂ¶ÇÔºå‰Ω†ÁöÑÊï∞ÁªÑÊúâ10‰∏™ÂÖÉÁ¥†Ôºå‰ΩÜ‰Ω†Âè™ÊÉ≥Âè™Ë¶ÅÂâç‰∫î‰∏™ÂÖÉÁ¥†ÔºåÈÇ£‰πà‰Ω†ÂèØ‰ª•ÈÄöËøá array.length=5 Êù•Êà™Êñ≠Êï∞ÁªÑ„ÄÇÂ¶Ç‰∏ãËøô‰∏™Á§∫‰æãÔºö123456var array = [1,2,3,4,5,6];console.log(array.length); // 6 array.length = 3;console.log(array.length); // 3console.log(array); // [1,2,3]ÂêàÂπ∂Êï∞ÁªÑÂ¶ÇÊûú‰Ω†Ë¶ÅÂêàÂπ∂‰∏§‰∏™Êï∞ÁªÑÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰πã‰∏ã‰Ω†ÈÉΩ‰ºö‰ΩøÁî®Array.concat()ÂáΩÊï∞Ôºö1234var array1 = [1,2,3];var array2 = [4,5,6]; console.log(array1.concat(array2)); // [1,2,3,4,5,6];ÁÑ∂ÂêéËøô‰∏™ÂáΩÊï∞Âπ∂‰∏çÈÄÇÂêàÁî®Êù•ÂêàÂπ∂‰∏§‰∏™Â§ßÂûãÁöÑÊï∞ÁªÑÔºåÂõ†‰∏∫ÂÖ∂Â∞ÜÊ∂àËÄóÂ§ßÈáèÁöÑÂÜÖÂ≠òÊù•Â≠òÂÇ®Êñ∞ÂàõÂª∫ÁöÑÊï∞ÁªÑ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰πã‰∏™ÔºåÂèØ‰ª•‰ΩøÁî® Array.pus().apply(arr1,arr2)Êù•Êõø‰ª£ÂàõÂª∫‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ„ÄÇËøôÁßçÊñπÊ≥ï‰∏çÊòØÁî®Êù•ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑÔºåÂÖ∂Âè™ÊòØÂ∞ÜÁ¨¨‰∏Ä‰∏™Á¨¨‰∫å‰∏™Êï∞ÁªÑÂêàÂπ∂Âú®‰∏ÄËµ∑ÔºåÂêåÊó∂ÂáèÂ∞ëÂÜÖÂ≠òÁöÑ‰ΩøÁî®Ôºö1234var array1 = [1,2,3];var array2 = [4,5,6]; console.log(array1.push.apply(array1, array2)); // [1,2,3,4,5,6];Â∞ÜNodeListËΩ¨Êç¢ÊàêÊï∞ÁªÑÂ¶ÇÊûú‰Ω†ËøêË°å document.querySelectorAll(‚Äúp‚Äù) ÂáΩÊï∞Êó∂ÔºåÂÆÉÂèØËÉΩËøîÂõûDOMÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÔºå‰πüÂ∞±ÊòØNodeListÂØπË±°„ÄÇ‰ΩÜËøô‰∏™ÂØπË±°‰∏çÂÖ∑ÊúâÊï∞ÁªÑÁöÑÂáΩÊï∞ÂäüËÉΩÔºåÊØîÂ¶Ç sort()„ÄÅreduce()„ÄÅmap()„ÄÅilter() Á≠â„ÄÇ‰∏∫‰∫ÜËÆ©Ëøô‰∫õÂéüÁîüÁöÑÊï∞ÁªÑÂáΩÊï∞ÂäüËÉΩ‰πüËÉΩÁî®‰∫éÂÖ∂‰∏äÈù¢ÔºåÈúÄË¶ÅÂ∞ÜËäÇÁÇπÂàóË°®ËΩ¨Êç¢ÊàêÊï∞ÁªÑ„ÄÇÂèØ‰ª•‰ΩøÁî® [].slice.call(elements) Êù•ÂÆûÁé∞Ôºö123var elements = document.querySelectorAll("p"); // NodeListvar arrayElements = [].slice.call(elements); // Â∞ÜNodeListËΩ¨Âåñ‰∏∫Êï∞ÁªÑvar arrayElements = Array.from(elements); // Âè¶‰∏ÄÁßçÊñπÂºèÂ∞ÜNodeListËΩ¨Âåñ‰∏∫Êï∞ÁªÑHTML5 DOM ÈÄâÊã©Âô®1234567// querySelector() ËøîÂõûÂåπÈÖçÂà∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†var item = document.querySelector('.item');console.log(item); // querySelectorAll() ËøîÂõûÂåπÈÖçÂà∞ÁöÑÊâÄÊúâÂÖÉÁ¥†ÔºåÊòØ‰∏Ä‰∏™nodeListÈõÜÂêàvar items = document.querySelectorAll('.item');console.log(items[0]);Èº†Ê†áÊªöËΩÆ‰∫ã‰ª∂12345678910111213$('#content').on("mousewheel DOMMouseScroll", function (event) &#123; // chrome &amp; ie || // firefox var delta = (event.originalEvent.wheelDelta &amp;&amp; (event.originalEvent.wheelDelta &gt; 0 ? 1 : -1)) || (event.originalEvent.detail &amp;&amp; (event.originalEvent.detail &gt; 0 ? -1 : 1)); if (delta &gt; 0) &#123; // Âêë‰∏äÊªöÂä® console.log('mousewheel top'); &#125; else if (delta &lt; 0) &#123; // Âêë‰∏ãÊªöÂä® console.log('mousewheel bottom'); &#125; &#125;);Ê£ÄÊµãÊµèËßàÂô®ÊòØÂê¶ÊîØÊåÅsvg1234567function isSupportSVG() &#123; var SVG_NS = 'http://www.w3.org/2000/svg'; return !!document.createElementNS &amp;&amp;!!document.createElementNS(SVG_NS, 'svg').createSVGRect; &#125; // ÊµãËØïconsole.log(isSupportSVG());Ê£ÄÊµãÊµèËßàÂô®ÊòØÂê¶ÊîØÊåÅcanvas12345678910function isSupportCanvas() &#123; if(document.createElement('canvas').getContext)&#123; return true; &#125;else&#123; return false; &#125;&#125; // ÊµãËØïconsole.log(isSupportCanvas());ËΩ¨Ëá™http://www.mrfront.com/]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊñá‰ª∂‰∏éÊåá‰ª§ÊêúÁ¥¢]]></title>
    <url>%2FLinux%E6%96%87%E4%BB%B6%E4%B8%8E%E6%8C%87%E4%BB%A4%E6%90%9C%E7%B4%A2.html</url>
    <content type="text"><![CDATA[ÂΩìÊàë‰ª¨Ë¶ÅÂØπLinux‰∏ãÁöÑÊüê‰∏™Êñá‰ª∂ÂÅö‰øÆÊîπÁöÑÊó∂ÂÄôÔºåÂøÖÈ°ªÂÖàÁü•ÈÅìÊñá‰ª∂ÁöÑ‰ΩçÁΩÆÔºåËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•‰ΩøÁî®Êñá‰ª∂ÊêúÁ¥¢Êåá‰ª§Êù•ÂÆåÊàê„ÄÇËÄåÊåá‰ª§ÁöÑÊêúÁ¥¢ÂàôÂèØ‰ª•Áü•ÈÅìËØ•Êåá‰ª§Êñá‰ª∂ÁöÑÂÆûÈôÖÂ≠òÊîæ‰ΩçÁΩÆ„ÄÇÊåá‰ª§ÊêúÁ¥¢whichÈÄöËøáwhichÂèØ‰ª•Áü•ÈÅìÊåá‰ª§ÁöÑÂÆåÊï¥Êñá‰ª∂ÂêçÊîæÂú®Âì™Èáå„ÄÇËØ≠Ê≥ïÔºö123which [-a] commandÈÄâÈ°πÊàñÂèÇÊï∞Ôºö-a ÔºöÂ∞ÜÊâÄÊúâÁî± PATH ÁõÆÂΩï‰∏≠ÂèØ‰ª•ÊâæÂà∞ÁöÑÊåá‰ª§ÂùáÂàóÂá∫ÔºåËÄå‰∏çÊ≠¢Á¨¨‰∏Ä‰∏™Ë¢´ÊâæÂà∞ÁöÑÊåá‰ª§ÂêçÁß∞ÁÆÄÂçïÁ§∫‰æãÔºö123456mrbird@ubuntu:~$ which ls/bin/lsmrbird@ubuntu:~$ which passwd/usr/bin/passwdmrbird@ubuntu:~$ which which/usr/bin/whichtypeÊåá‰ª§‰πüÂèØ‰ª•ÂÆûÁé∞Êåá‰ª§ÊêúÁ¥¢Ôºö1234mrbird@ubuntu:~$ type passwdpasswd is hashed (/usr/bin/passwd)mrbird@ubuntu:~$ type whichwhich is hashed (/usr/bin/which)Êñá‰ª∂Ê°£ÂêçÁöÑÊêúÂØªwhereis (Áî±‰∏Ä‰∫õÁâπÂÆöÁöÑÁõÆÂΩï‰∏≠ÂØªÊâæÊñá‰ª∂Êñá‰ª∂Âêç)Ôºöwhereis Âè™ÊâæÁ≥ªÁªü‰∏≠Êüê‰∫õÁâπÂÆöÁõÆÂΩïÂ∫ï‰∏ãÁöÑÊñá‰ª∂ ÔºåÂü∫Êú¨ËØ≠Ê≥ïÔºö1234567whereis [-bmsu] Êñá‰ª∂ÊàñÁõÆÂΩïÂêçÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-l :ÂèØ‰ª•ÂàóÂá∫ whereis ‰ºöÂéªÊü•ËØ¢ÁöÑÂá†‰∏™‰∏ªË¶ÅÁõÆÂΩïËÄåÂ∑≤-b :Âè™Êâæ binary Ê†ºÂºèÁöÑÊñá‰ª∂-m :Âè™ÊâæÂú®ËØ¥ÊòéÊñá‰ª∂ manual Ë∑ØÂæÑ‰∏ãÁöÑÊñá‰ª∂-s :Âè™Êâæ source Êù•Ê∫êÊñá‰ª∂-u :ÊêúÂØª‰∏çÂú®‰∏äËø∞‰∏â‰∏™È°πÁõÆÂΩì‰∏≠ÁöÑÂÖ∂‰ªñÁâπÊÆäÊñá‰ª∂Á§∫‰æãÔºö1234567891011121314151617#Êü•ÁúãwhereisÊêúÂØªÁöÑÁõÆÂΩïÔºömrbird@ubuntu:~$ whereis -lbin: /usr/binbin: /usr/sbinbin: /usr/libbin: /binbin: /sbinbin: /etcbin: /libbin: /lib64... mrbird@ubuntu:~$ whereis passwdpasswd: /usr/bin/passwd /etc/passwd /usr/share/man/man1/passwd.1ssl.gz /usr/share/man/man1/passwd.1.gz /usr/share/man/man5/passwd.5.gz#Âè™Êü•ÊâæÂú®ËØ¥ÊòéÊñá‰ª∂ manual Ë∑ØÂæÑ‰∏ãÁöÑÊñá‰ª∂mrbird@ubuntu:~$ whereis -m passwdpasswd: /usr/share/man/man1/passwd.1ssl.gz /usr/share/man/man1/passwd.1.gz /usr/share/man/man5/passwd.5.gzlocate / updatedbÔºölocateÂàôÊòØÂà©Áî®Êï∞ÊçÆÂ∫ìÊù•ÊêúÂØªÊñá‰ª∂ÂêçÔºåÂπ∂‰∏îÊ≤°ÊúâÂÆûÈôÖÁöÑÊêúÂØªÁ°¨ÁõòÂÜÖÁöÑÊñá‰ª∂Á≥ªÁªüÊÄÅ„ÄÇlocateËØ≠Ê≥ïÔºö1234567locate [-ir] keywordÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-i ÔºöÂøΩÁï•Â§ßÂ∞èÂÜôÁöÑÂ∑ÆÂºÇÔºõ-c Ôºö‰∏çËæìÂá∫Ê°£ÂêçÔºå‰ªÖËÆ°ÁÆóÊâæÂà∞ÁöÑÊñá‰ª∂Êï∞Èáè-l Ôºö‰ªÖËæìÂá∫Âá†Ë°åÁöÑÊÑèÊÄùÔºå‰æãÂ¶ÇËæìÂá∫‰∫îË°åÂàôÊòØ -l 5-S ÔºöËæìÂá∫ locate ÊâÄ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂ∫ìÊñá‰ª∂ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂåÖÊã¨ËØ•Êï∞ÊçÆÂ∫ìÁ∫™ÂΩïÁöÑÊñá‰ª∂/ÁõÆÂΩïÊï∞ÈáèÁ≠â-r ÔºöÂêéÈù¢ÂèØÊé•Ê≠£ËßÑË°®Á§∫Ê≥ïÁöÑÊòæÁ§∫ÊñπÂºèÁ§∫‰æãÔºö123456789101112131415#ÊâæÂá∫Á≥ªÁªü‰∏≠ÊâÄÊúâ‰∏épasswdÁõ∏ÂÖ≥ÁöÑÊ°£ÂêçÔºå‰∏îÂè™ÂàóÂá∫5‰∏™mrbird@ubuntu:~$ locate -l 5 passwd/etc/passwd/etc/passwd-/etc/cron.daily/passwd/etc/init/passwd.conf/etc/pam.d/chpasswd #ÂàóÂá∫locateÊü•ËØ¢ÊâÄ‰ΩøÁî®ÁöÑÊï∞ÊçÆÂ∫ìÊñá‰ª∂‰πãÊñá‰ª∂Âêç‰∏éÂêÑÊï∞ÊçÆÊï∞Èáèmrbird@ubuntu:~$ locate -SDatabase /var/lib/mlocate/mlocate.db: 22,021 directories 218,810 files 11,880,406 bytes in file names 5,267,885 bytes used to store database‰∏∫ locate ÂØªÊâæÁöÑÊï∞ÊçÆÊòØÁî±Â∑≤Âª∫Á´ãÁöÑÊï∞ÊçÆÂ∫ì /var/lib/mlocate/ÈáåÈù¢ÁöÑÊï∞ÊçÆÊâÄÊêúÂØªÂà∞ÁöÑÔºå ÊâÄ‰ª•‰∏çÁî®Áõ¥Êé•Âú®ÂéªÁ°¨ÁõòÂΩì‰∏≠Â≠òÂèñÊï∞ÊçÆ„ÄÇËÄåÊï∞ÊçÆÂ∫ìÁöÑÂª∫Á´ãÈªòËÆ§ÊòØÂú®ÊØèÂ§©ÊâßË°å‰∏ÄÊ¨°ÔºåÊâÄ‰ª•ÂΩì‰Ω†Êñ∞Âª∫Á´ãËµ∑Êù•ÁöÑÊñá‰ª∂Ôºå Âç¥ËøòÂú®Êï∞ÊçÆÂ∫ìÊõ¥Êñ∞‰πãÂâçÊêúÂØªËØ•Êñá‰ª∂ÔºåÈÇ£‰πà locate ‰ºöÂëäËØâ‰Ω†Êâæ‰∏çÂà∞ÔºÅÂèØ‰ª•‰ΩøÁî®updatedbÊåá‰ª§ÊâãÂä®Êõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂõ†‰∏∫ updatedb ‰ºöÂéªÊêúÂØªÁ°¨ÁõòÔºåÊâÄ‰ª•ÂΩì‰Ω†ÊâßË°å updatedb Êó∂ÔºåÂèØËÉΩ‰ºöÁ≠âÂæÖÊï∞ÂàÜÈíüÁöÑÊó∂Èó¥„ÄÇfindÔºöfindÊåá‰ª§Áõ¥Êé•ÊêúÁ¥¢Á°¨ÁõòÔºåÊâÄ‰ª•ÂÖ∑‰ΩìÊêúÁ¥¢Êó∂Èó¥Ê†πÊçÆÁ°¨ÁõòÊÄßËÉΩËÄåÂÆö„ÄÇÂü∫Êú¨ËØ≠Ê≥ïÔºö‰∏éÊó∂Èó¥ÊúâÂÖ≥ÁöÑÈÄâÈ°πÔºö1234567find [PATH] [option] [action]ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö1. ‰∏éÊó∂Èó¥ÊúâÂÖ≥ÁöÑÈÄâÈ°πÔºöÂÖ±Êúâ -atime, -ctime ‰∏é -mtime Ôºå‰ª• -mtime ËØ¥Êòé -mtime n Ôºön ‰∏∫Êï∞Â≠óÔºåÊÑè‰πâ‰∏∫Âú® n Â§©‰πãÂâçÁöÑ„Äé‰∏ÄÂ§©‰πãÂÜÖ„ÄèË¢´Êõ¥Âä®ËøáÂÜÖÂÆπÁöÑÊñá‰ª∂Ôºõ -mtime +n ÔºöÂàóÂá∫Âú® n Â§©‰πãÂâç(‰∏çÂê´ n Â§©Êú¨Ë∫´)Ë¢´Êõ¥Âä®ËøáÂÜÖÂÆπÁöÑÊñá‰ª∂Ê°£ÂêçÔºõ -mtime -n ÔºöÂàóÂá∫Âú® n Â§©‰πãÂÜÖ(Âê´ n Â§©Êú¨Ë∫´)Ë¢´Êõ¥Âä®ËøáÂÜÖÂÆπÁöÑÊñá‰ª∂Ê°£Âêç„ÄÇ -newer file Ôºöfile ‰∏∫‰∏Ä‰∏™Â≠òÂú®ÁöÑÊñá‰ª∂ÔºåÂàóÂá∫ÊØî file ËøòË¶ÅÊñ∞ÁöÑÊñá‰ª∂Ê°£Âêç‰∏æ‰∏™‰æãÂ≠êÔºåÂΩìn‰∏∫4Êó∂Ôºö+4 ‰ª£Ë°®Â§ß‰∫éÁ≠â‰∫é 5 Â§©ÂâçÁöÑÊ°£ÂêçÔºõ-4 ‰ª£Ë°®Â∞è‰∫éÁ≠â‰∫é 4 Â§©ÂÜÖÁöÑÊñá‰ª∂Ê°£ÂêçÔºõ 4 ÂàôÊòØ‰ª£Ë°® 4-5 ÈÇ£‰∏ÄÂ§©ÁöÑÊñá‰ª∂Ê°£Âêç„ÄÇÁ§∫‰æãÔºö12345678910#ÂàóÂá∫24Â∞èÊó∂ÂÜÖÊúâÊõ¥ÊîπËøáÂÜÖÂÆπÔºàmtimeÔºâÁöÑÊñá‰ª∂Ê°£ÂêçÔºöroot@ubuntu:~# find / -mtime 0 #ÂØªÊâæ/etcÂ∫ï‰∏ãÁöÑÊñá‰ª∂ÔºåÂ¶ÇÊûúÊñá‰ª∂Êó•ÊúüÊØî/etc/passwdÊñ∞Â∞±ÂàóÂá∫root@ubuntu:~# find /etc -newer /etc/passwd/etc/etc/apparmor.d/etc/apparmor.d/cache/etc/apparmor.d/cache/.features/etc/gshadow‰∏é‰ΩøÁî®ËÄÖÊàñÁªÑÂêçÊúâÂÖ≥ÁöÑÂèÇÊï∞Ôºö12345678910ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö2. ‰∏é‰ΩøÁî®ËÄÖÊàñÁªÑÂêçÊúâÂÖ≥ÁöÑÂèÇÊï∞Ôºö -uid n Ôºön ‰∏∫Êï∞Â≠óÔºåËøô‰∏™Êï∞Â≠óÊòØÁî®Êà∑ÁöÑË¥¶Âè∑ IDÔºå‰∫¶Âç≥ UID ÔºåËøô‰∏™ UID ÊòØËÆ∞ÂΩïÂú® /etc/passwd ÈáåÈù¢‰∏éË¥¶Âè∑ÂêçÁß∞ÂØπÂ∫îÁöÑÊï∞Â≠ó„ÄÇ -gid n Ôºön ‰∏∫Êï∞Â≠óÔºåËøô‰∏™Êï∞Â≠óÊòØÁªÑÂêçÁöÑ IDÔºå‰∫¶Âç≥ GIDÔºåËøô‰∏™ GID ËÆ∞ÂΩïÂú®/etc/group„ÄÇ -user name Ôºöname ‰∏∫‰ΩøÁî®ËÄÖË¥¶Âè∑ÂêçÁß∞„ÄÇ‰æãÂ¶Ç mrbird„ÄÇ -group nameÔºöname ‰∏∫ÁªÑÂêçÔºå‰æãÂ¶Ç users „ÄÇ -nouser ÔºöÂØªÊâæÊñá‰ª∂ÁöÑÊã•ÊúâËÄÖ‰∏çÂ≠òÂú® /etc/passwd ÁöÑ‰∫∫„ÄÇ -nogroup ÔºöÂØªÊâæÊñá‰ª∂ÁöÑÊã•ÊúâÁæ§ÁªÑ‰∏çÂ≠òÂú®‰∫é /etc/group ÁöÑÊñá‰ª∂„ÄÇ ÂΩì‰Ω†Ëá™Ë°åÂÆâË£ÖËΩØ‰ª∂Êó∂ÔºåÂæàÂèØËÉΩËØ•ËΩØ‰ª∂ÁöÑÂ±ûÊÄßÂΩì‰∏≠Âπ∂Ê≤°ÊúâÊñá‰ª∂Êã•ÊúâËÄÖÔºåËøôÊòØÂèØËÉΩÁöÑ„ÄÇÂú®Ëøô‰∏™Êó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî® -nouser ‰∏é -nogroup ÊêúÂØª„ÄÇÁ§∫‰æãÔºö12345678#ÊêúÂØª/homeÂ∫ï‰∏ãÂ±û‰∫émrbirdÁî®Êà∑ÁöÑÊñá‰ª∂root@ubuntu:~# find /home -user mrbird/home/mrbird/home/mrbird/.sudo_as_admin_successful... #ÊêúÂØªÁ≥ªÁªü‰∏≠‰∏çÂ±û‰∫é‰ªª‰Ωï‰∫∫ÁöÑÊñá‰ª∂root@ubuntu:~# find / -nouser‰∏éÊñá‰ª∂ÊùÉÈôêÂèäÂêçÁß∞ÊúâÂÖ≥ÁöÑÂèÇÊï∞Ôºö1234567891011121314151617ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö3. ‰∏éÊñá‰ª∂ÊùÉÈôêÂèäÂêçÁß∞ÊúâÂÖ≥ÁöÑÂèÇÊï∞Ôºö -name filenameÔºöÊêúÂØªÊñá‰ª∂Âêç‰∏∫ filename ÁöÑÊñá‰ª∂Ôºõ -size [+-]SIZEÔºöÊêúÂØªÊØî SIZE ËøòË¶ÅÂ§ß(+)ÊàñÂ∞è(-)ÁöÑÊñá‰ª∂„ÄÇËøô‰∏™ SIZE ÁöÑËßÑÊ†ºÊúâÔºö c: ‰ª£Ë°® byteÔºå k: ‰ª£Ë°® 1024bytes„ÄÇÊâÄ‰ª•ÔºåË¶ÅÊâæÊØî 50KBËøòË¶ÅÂ§ßÁöÑÊñá‰ª∂Ôºå Â∞±ÊòØ„Äé -size +50k „Äè -type TYPE ÔºöÊêúÂØªÊñá‰ª∂ÁöÑÁ±ªÂûã‰∏∫ TYPE ÁöÑÔºåÁ±ªÂûã‰∏ªË¶ÅÊúâÔºö‰∏ÄËà¨Ê≠£ËßÑÊñá‰ª∂ (f), Ë£ÖÁΩÆÊñá‰ª∂ (b, c), ÁõÆÂΩï (d), ËøûÁªìÊ°£ (l), socket (s), Âèä FIFO (p) Á≠âÂ±ûÊÄß„ÄÇ -perm mode ÔºöÊêúÂØªÊñá‰ª∂ÊùÉÈôê„ÄéÂàöÂ•ΩÁ≠â‰∫é„Äè mode ÁöÑÊñá‰ª∂ÔºåËøô‰∏™ mode ‰∏∫Á±ª‰ºº chmod ÁöÑÂ±ûÊÄßÂÄºÔºå‰∏æ‰æãÊù•ËØ¥Ôºå -rwxr-xr-x ÁöÑÂ±ûÊÄß‰∏∫ 0755„ÄÇ -perm -mode ÔºöÊêúÂØªÊñá‰ª∂ÊùÉÈôê„ÄéÂøÖÈ°ªË¶ÅÂÖ®ÈÉ®ÂõäÊã¨ mode ÁöÑÊùÉÈôê„ÄèÁöÑÊñá‰ª∂Ôºå‰∏æ‰æãÊù•ËØ¥ÔºåÊàë ‰ª¨Ë¶ÅÊêúÂØª -rwxr--r-- Ôºå‰∫¶Âç≥ 0744 ÁöÑÊñá‰ª∂Ôºå‰ΩøÁî® -perm -0744Ôºå ÂΩì‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊùÉÈôê‰∏∫ -rwsr-xr-x Ôºå‰∫¶Âç≥ 4755 Êó∂Ôºå‰πü‰ºöË¢´ÂàóÂá∫Êù•Ôºå Âõ†‰∏∫ -rwsr-xr-x ÁöÑÂ±ûÊÄßÂ∑≤ÁªèÂõäÊã¨‰∫Ü -rwxr--r-- ÁöÑÂ±ûÊÄß‰∫Ü„ÄÇ -perm /mode ÔºöÊêúÂØªÊñá‰ª∂ÊùÉÈôê„ÄéÂåÖÂê´‰ªª‰∏Ä mode ÁöÑÊùÉÈôê„ÄèÁöÑÊñá‰ª∂Ôºå‰∏æ‰æãÊù•ËØ¥ÔºåÊàë‰ª¨ÊêúÂØª -rwxr-xr-x Ôºå‰∫¶Âç≥ -perm /755 Êó∂ÔºåÂΩì‰∏Ä‰∏™Êñá‰ª∂Â±ûÊÄß‰∏∫ -rw------- ‰πü‰ºöË¢´ÂàóÂá∫Êù•ÔºåÂõ†‰∏∫‰ªñÊúâ -rw.... ÁöÑÂ±ûÊÄßÂ≠òÂú®.Á§∫‰æãÔºö12345678910111213141516171819202122232425262728#ÊâæÂá∫Ê°£Âêç‰∏∫passwdËøô‰∏™Êñá‰ª∂root@ubuntu:~# find / -name passwd/usr/share/lintian/overrides/passwd/usr/share/doc/passwd/usr/share/bash-completion/completions/passwd...#ÊâæÂá∫Êñá‰ª∂ÂêçÂåÖÂê´‰∫ÜpasswdËøô‰∏™ÂÖ≥ÈîÆËØçÁöÑÊñá‰ª∂root@ubuntu:~# find / -name *passwd*/usr/share/app-install/desktop/kdepasswd:kde4__kdepasswd.desktop/usr/share/app-install/desktop/usermode:redhat-userpasswd.desktop/usr/share/lintian/overrides/base-passwd... #ÊâæÂá∫/runÁõÆÂΩï‰∏ãÔºåÊñá‰ª∂Á±ªÂûã‰∏∫SocketÁöÑÊñá‰ª∂root@ubuntu:~# find /run -type s/run/NetworkManager/private-dhcp/run/cups/cups.sock/run/uuidd/request/run/avahi-daemon/socket... #ÊêúÂØªÊñá‰ª∂ÊùÉÈôê‰∏∫666ÁöÑÊñá‰ª∂root@ubuntu:~# find / -perm 666/dev/vsock/dev/net/tun/dev/ptmx...È¢ùÂ§ñÂèØËøõË°åÁöÑÊìç‰ΩúÔºö1234ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö4. È¢ùÂ§ñÂèØËøõË°åÁöÑÂä®‰ΩúÔºö -exec command Ôºöcommand ‰∏∫ÂÖ∂‰ªñÊåá‰ª§Ôºå-exec ÂêéÈù¢ÂèØÂÜçÊé•È¢ùÂ§ñÁöÑÊåá‰ª§Êù•Â§ÑÁêÜÊêúÂØªÂà∞ÁöÑÁªìÊûú„ÄÇ -print ÔºöÂ∞ÜÁªìÊûúÊâìÂç∞Âà∞Â±èÂπï‰∏äÔºåËøô‰∏™Âä®‰ΩúÊòØÈ¢ÑËÆæÂä®‰Ωú„ÄÇÁ§∫‰æãÔºö12345678#ÊêúÂØª/runÁõÆÂΩï‰∏ãÊñá‰ª∂ÊùÉÈôê‰∏∫666ÁöÑÊñá‰ª∂ÔºåÂπ∂Áî®ls -lÂëΩ‰ª§Êü•ÁúãÂÖ∂‰ø°ÊÅØroot@ubuntu:~# find /run -perm 666 -exec ls -l &#123;&#125; \;srw-rw-rw- 1 root root 0 Apr 13 10:34 /run/cups/cups.socksrw-rw-rw- 1 root root 0 Apr 13 10:34 /run/uuidd/requestsrw-rw-rw- 1 root root 0 Apr 13 10:34 /run/avahi-daemon/socketsrw-rw-rw- 1 root root 0 Apr 13 10:34 /run/acpid.socketsrw-rw-rw- 1 root root 0 Apr 13 10:34 /run/dbus/system_bus_socket...{}‰ª£Ë°®ÁöÑÊòØÁî± find ÊâæÂà∞ÁöÑÂÜÖÂÆπÔºå-exec ‰∏ÄÁõ¥Âà∞\;ÊòØÊâßË°åÈ¢ùÂ§ñÂä®‰ΩúÁöÑÊåá‰ª§„ÄÇËøôÈáå‰∏çËÉΩÁî®ÁÆ°Á∫øÊù•‰ª£Êõø-execÔºö12root@ubuntu:~# find /run -perm 666 | ls -ltotal 0„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊñá‰ª∂È¢ÑËÆæÊùÉÈôêumask]]></title>
    <url>%2FLinux%E6%96%87%E4%BB%B6%E9%A2%84%E8%AE%BE%E6%9D%83%E9%99%90umask.html</url>
    <content type="text"><![CDATA[ÂΩìÊàë‰ª¨Âú®Linux‰∏ãÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁõÆÂΩïÊàñÊñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂÆÉÈÉΩ‰ºöÊúâ‰∏™ÈªòËÆ§ÁöÑÊùÉÈôê„ÄÇËøô‰∏™ÊùÉÈôêÁöÑËÆæÂÆöÂíåumaskÊúâÂÖ≥ÔºåumaskÊåáÁöÑÊòØÔºöÁõÆÂâçÁî®Êà∑Âú®Âª∫Á´ãÊñá‰ª∂ÊàñÁõÆÂΩïÊó∂ÂÄôÁöÑÊùÉÈôêÈªòËÆ§ÂÄº„ÄÇÊü•ÈòÖÂΩìÂâçÁî®Êà∑umaskÊñπÂºèÊúâ‰∏§ÁßçÔºå‰∏ÄÁßçÂèØ‰ª•Áõ¥Êé•ËæìÂÖ• umask ÔºåÂ∞±ÂèØ‰ª•ÁúãÂà∞Êï∞Â≠óÂûãÊÄÅÁöÑÊùÉÈôêËÆæÂÆöÂàÜÊï∞Ôºå ‰∏ÄÁßçÂàôÊòØ Âä†ÂÖ• -S (Symbolic) Ëøô‰∏™ÈÄâÈ°πÔºåÂ∞±‰ºö‰ª•Á¨¶Âè∑Á±ªÂûãÁöÑÊñπÂºèÊù•ÊòæÁ§∫Âá∫ÊùÉÈôê‰∫ÜÔºö1234root@ubuntu:~# umask0022root@ubuntu:~# umask -Su=rwx,g=rx,o=rxumaskÁöÑÁ¨¨‰∏Ä‰∏™ÂÄº‰∏∫ÁâπÊÆäÊùÉÈôê„ÄÇÂâ©‰∏ãÁöÑ‰∏â‰∏™ÂÄºÂàÜÂà´Â∞±‰ª£Ë°®‰∫ÜrÔºåwÔºåx‰∫Ü„ÄÇLinux‰∏≠ÔºåÊñá‰ª∂ÁöÑÈ¢ÑËÆæÊùÉÈôê‰∏∫-rw-rw-rw-ÔºåÁõÆÂΩïÁöÑÈ¢ÑËÆæÊùÉÈôê‰∏∫drwxrwxrwx„ÄÇË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåumask ÁöÑÂàÜÊï∞ÊåáÁöÑÊòØËØ•ÈªòËÆ§ÂÄºÈúÄË¶ÅÂáèÊéâÁöÑÊùÉÈôêÔºÅÊâÄ‰ª•Â¶ÇÊûúumaskÁöÑÂÄº‰∏∫022ÁöÑÊó∂ÂÄôÔºåÂú®ÂàõÂª∫Êñ∞Êñá‰ª∂ÊàñÁõÆÂΩïÁöÑÊó∂ÂÄôÔºåÂÖ∂ÊùÉÈôêÁöÑËÆ°ÁÆóÊñπÂºè‰∏∫ÔºöÂª∫Á´ãÊñá‰ª∂Êó∂Ôºö(-rw-rw-rw-) - (‚Äî‚Äìw‚Äìw-) ==&gt; -rw-r‚Äìr‚ÄìÂª∫Á´ãÁõÆÂΩïÊó∂Ôºö(drwxrwxrwx) - (‚Äî‚Äìw‚Äìw-) ==&gt; drwxr-xr-xÈ™åËØÅ‰∏Ä‰∏ãÔºö12345678root@ubuntu:~# cd /temproot@ubuntu:/temp# umask0022root@ubuntu:/temp# touch file1root@ubuntu:/temp# mkdir dir1root@ubuntu:/temp# ls -ld file1 dir1drwxr-xr-x 2 root root 4096 Apr 13 14:35 dir1-rw-r--r-- 1 root root 0 Apr 13 14:35 file1ÊîπÂèòumaskÁöÑÂÄºÔºö123root@ubuntu:/temp# umask 033root@ubuntu:/temp# umask0033„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊñá‰ª∂ÈöêËóèÂ±ûÊÄß]]></title>
    <url>%2FLinux%E6%96%87%E4%BB%B6%E9%9A%90%E8%97%8F%E5%B1%9E%E6%80%A7.html</url>
    <content type="text"><![CDATA[LinuxÊñá‰ª∂ÊàñÁõÆÂΩïÈô§‰∫Ürwxrwxrwx‰πù‰∏™ÊùÉÈôêËÆæÂÆöÂ§ñÔºåËøòÊúâÈöêËóèÁöÑÂ±ûÊÄß„ÄÇËÆæÁΩÆÊñá‰ª∂ÊàñÁõÆÂΩïÁöÑÈöêËóèÂ±ûÊÄßÂèØ‰ª•Êåá‰ª§chattrÔºåËÄåÊòæÁ§∫Êñá‰ª∂ÊàñÁõÆÂΩïÁöÑÈöêËóèÂ±ûÊÄßÂàôÁî®Êåá‰ª§lsattr„ÄÇchattrÔºöËØ≠Ê≥ïÔºö123456789101112131415chattr [+-=][ASacdistu] Êñá‰ª∂ÊàñÁõÆÂΩïÂêçÁß∞ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö+ ÔºöÂ¢ûÂä†Êüê‰∏Ä‰∏™ÁâπÊÆäÂèÇÊï∞ÔºåÂÖ∂‰ªñÂéüÊú¨Â≠òÂú®ÂèÇÊï∞Âàô‰∏çÂä®„ÄÇ- ÔºöÁßªÈô§Êüê‰∏Ä‰∏™ÁâπÊÆäÂèÇÊï∞ÔºåÂÖ∂‰ªñÂéüÊú¨Â≠òÂú®ÂèÇÊï∞Âàô‰∏çÂä®„ÄÇ= ÔºöËÆæÂÆö‰∏ÄÂÆöÔºå‰∏î‰ªÖÊúâÂêéÈù¢Êé•ÁöÑÂèÇÊï∞A ÔºöÂΩìËÆæÂÆö‰∫Ü A Ëøô‰∏™Â±ûÊÄßÊó∂ÔºåËã•‰Ω†ÊúâÂ≠òÂèñÊ≠§Êñá‰ª∂(ÊàñÁõÆÂΩï)Êó∂Ôºå‰ªñÁöÑËÆøÈóÆÊó∂Èó¥ atime Â∞Ü‰∏ç‰ºöË¢´‰øÆÊîπÔºåÂèØÈÅøÂÖç I/O ËæÉÊÖ¢ÁöÑÊú∫Âô®ËøáÂ∫¶ÁöÑÂ≠òÂèñÁ£ÅÁõò„ÄÇS Ôºö‰∏ÄËà¨Êñá‰ª∂ÊòØÂºÇÊ≠•ÂÜôÂÖ•Á£ÅÁõòÁöÑÔºåÂ¶ÇÊûúÂä†‰∏ä S Ëøô‰∏™Â±ûÊÄßÊó∂ÔºåÂΩì‰Ω†ËøõË°å‰ªª‰ΩïÊñá‰ª∂ÁöÑ‰øÆÊîπÔºåËØ•Êõ¥Âä®‰ºö„ÄéÂêåÊ≠•„ÄèÂÜôÂÖ•Á£ÅÁõò‰∏≠„ÄÇa ÔºöÂΩìËÆæÂÆö a ‰πãÂêéÔºåËøô‰∏™Êñá‰ª∂Â∞ÜÂè™ËÉΩÂ¢ûÂä†Êï∞ÊçÆÔºåËÄå‰∏çËÉΩÂà†Èô§‰πü‰∏çËÉΩ‰øÆÊîπÊï∞ÊçÆÔºåÂè™Êúâ root ÊâçËÉΩËÆæÂÆöËøôÂ±ûÊÄßc ÔºöËøô‰∏™Â±ûÊÄßËÆæÂÆö‰πãÂêéÔºåÂ∞Ü‰ºöËá™Âä®ÁöÑÂ∞ÜÊ≠§Êñá‰ª∂„ÄéÂéãÁº©„ÄèÔºåÂú®ËØªÂèñÁöÑÊó∂ÂÄôÂ∞Ü‰ºöËá™Âä®Ëß£ÂéãÁº©Ôºå‰ΩÜÊòØÂú®ÂÇ®Â≠òÁöÑÊó∂ÂÄôÔºåÂ∞Ü‰ºöÂÖàËøõË°åÂéãÁº©ÂêéÂÜçÂÇ®Â≠ò„ÄÇd ÔºöÂΩì dump Á®ãÂ∫èË¢´ÊâßË°åÁöÑÊó∂ÂÄôÔºåËÆæÂÆö d Â±ûÊÄßÂ∞ÜÂèØ‰ΩøËØ•Êñá‰ª∂(ÊàñÁõÆÂΩï)‰∏ç‰ºöË¢´ dump Â§á‰ªΩi Ôºö‰ªñÂèØ‰ª•ËÆ©‰∏Ä‰∏™Êñá‰ª∂„Äé‰∏çËÉΩË¢´Âà†Èô§„ÄÅÊîπÂêç„ÄÅËÆæÂÆöËøûÁªì‰πüÊó†Ê≥ïÂÜôÂÖ•ÊàñÊñ∞Â¢ûÊï∞ÊçÆ„ÄèÂØπ‰∫éÁ≥ªÁªüÂÆâÂÖ®ÊÄßÊúâÁõ∏ÂΩìÂ§ßÁöÑÂ∏ÆÂä©„ÄÇÂè™Êúâ root ËÉΩËÆæÂÆöÊ≠§Â±ûÊÄß„ÄÇs ÔºöÂΩìÊñá‰ª∂ËÆæÂÆö‰∫Ü s Â±ûÊÄßÊó∂ÔºåÂ¶ÇÊûúËøô‰∏™Êñá‰ª∂Ë¢´Âà†Èô§Ôºå‰ªñÂ∞Ü‰ºöË¢´ÂÆåÂÖ®ÁöÑÁßªÈô§Âá∫Ëøô‰∏™Á°¨ÁõòÁ©∫Èó¥ÔºåÊâÄ‰ª•Â¶ÇÊûúËØØÂà†‰∫ÜÔºåÂÆåÂÖ®Êó†Ê≥ïÊïëÂõûÊù•‰∫Ü„ÄÇu Ôºö‰∏é s Áõ∏ÂèçÁöÑÔºåÂΩì‰ΩøÁî® u Êù•ÈÖçÁΩÆÊñá‰ª∂Ê°àÊó∂ÔºåÂ¶ÇÊûúËØ•Êñá‰ª∂Ë¢´Âà†Èô§‰∫ÜÔºåÂàôÊï∞ÊçÆÂÜÖÂÆπÂÖ∂ÂÆûËøòÂ≠òÂú®Á£ÅÁõò‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®Êù•ÊïëÊè¥ËØ•Êñá‰ª∂„ÄÇÊ≥®ÊÑè 1ÔºöÂ±ûÊÄßËÆæÂÆöÂ∏∏ËßÅÁöÑÊòØ a ‰∏é i ÁöÑËÆæÂÆöÂÄºÔºåËÄå‰∏îÂæàÂ§öËÆæÂÆöÂÄºÂøÖÈ°ªË¶ÅË∫´‰∏∫ root ÊâçËÉΩËÆæÂÆö„ÄÇÊ≥®ÊÑè 2Ôºöxfs Êñá‰ª∂Á≥ªÁªü‰ªÖÊîØÊè¥ AadiS ËÄåÂ∑≤„ÄÇÁ§∫‰æãÔºöÂú®/temp‰∏ãÊñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂ÔºåÂπ∂Âä†ÂÖ•iÈÄâÈ°πÔºåÁÑ∂ÂêéÂ∞ùËØïÂà†Èô§Ôºö1234root@ubuntu:/temp# touch file2root@ubuntu:/temp# chattr +i file2root@ubuntu:/temp# rm file2rm: cannot remove 'file2': Operation not permittedÊìç‰ΩúË¢´ÊãíÁªùÔºåÂè™ÊúâÁßªÈô§iÈÄâÈ°πÂêéÔºåÊâçËÉΩÂ§üÂà†Èô§Ôºö12root@ubuntu:/temp# chattr -i file2root@ubuntu:/temp# rm file2lsattrÔºöËØ≠Ê≥ïÔºö12345lsattr [-adR] Êñá‰ª∂ÊàñÁõÆÂΩïÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-a ÔºöÂ∞ÜÈöêËóèÊñá‰ª∂ÁöÑÂ±ûÊÄß‰πüÁßÄÂá∫Êù•Ôºõ-d ÔºöÂ¶ÇÊûúÊé•ÁöÑÊòØÁõÆÂΩïÔºå‰ªÖÂàóÂá∫ÁõÆÂΩïÊú¨Ë∫´ÁöÑÂ±ûÊÄßËÄåÈùûÁõÆÂΩïÂÜÖÁöÑÊñá‰ª∂ÂêçÔºõ-R ÔºöËøûÂêåÂ≠êÁõÆÂΩïÁöÑÊï∞ÊçÆ‰πü‰∏ÄÂπ∂ÂàóÂá∫Êù•„ÄÇÁ§∫‰æãÔºö1234root@ubuntu:/temp# touch file2root@ubuntu:/temp# chattr +iA file2root@ubuntu:/temp# lsattr file2----i--A-----e-- file2„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊñá‰ª∂Êó∂Èó¥Á±ªÂûã]]></title>
    <url>%2FLinux%E6%96%87%E4%BB%B6%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B.html</url>
    <content type="text"><![CDATA[LinuxÊñá‰ª∂Êúâ‰∏â‰∏™‰∏ªË¶ÅÁöÑÂèòÂä®Êó∂Èó¥Ôºömodification time (mtime)Ôºö ÂΩìËØ•Êñá‰ª∂ÁöÑ„ÄéÂÜÖÂÆπÊï∞ÊçÆ„ÄèÂèòÊõ¥Êó∂ÔºåÂ∞±‰ºöÊõ¥Êñ∞Ëøô‰∏™Êó∂Èó¥„ÄÇÂÜÖÂÆπÊï∞ÊçÆÊåáÁöÑÊòØÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºåËÄå‰∏çÊòØÊñá‰ª∂ÁöÑÂ±ûÊÄßÊàñÊùÉÈôê„ÄÇstatus time (ctime)Ôºö ÂΩìËØ•Êñá‰ª∂ÁöÑ„ÄéÁä∂ÊÄÅ (status)„ÄèÊîπÂèòÊó∂ÔºåÂ∞±‰ºöÊõ¥Êñ∞Ëøô‰∏™Êó∂Èó¥Ôºå‰∏æ‰æãÊù•ËØ¥ÔºåÂÉèÊòØÊùÉÈôê‰∏éÂ±ûÊÄßË¢´Êõ¥Êîπ‰∫ÜÔºåÈÉΩ‰ºöÊõ¥Êñ∞Ëøô‰∏™Êó∂Èó¥„ÄÇaccess time (atime)Ôºö ÂΩì„ÄéËØ•Êñá‰ª∂ÁöÑÂÜÖÂÆπË¢´ÂèñÁî®„ÄèÊó∂ÔºåÂ∞±‰ºöÊõ¥Êñ∞Ëøô‰∏™ËØªÂèñÊó∂Èó¥ (atime)„ÄÇ‰∏æ‰æãÊù•ËØ¥ÔºåÊàë‰ª¨‰ΩøÁî® cat ÂéªËØªÂèñ/etc/ltrace.confÔºå Â∞±‰ºöÊõ¥Êñ∞ËØ•Êñá‰ª∂ÁöÑatime „ÄÇÊü•Áúã/etc/ltrace.confÊñá‰ª∂ÁöÑÁõ∏ÂÖ≥Êó∂Èó¥Ôºö12345root@ubuntu:/home/mrbird# date;ls -l /etc/ltrace.conf;ls -l --time=atime /etc/ltrace.conf;ls -l --time=ctime /etc/ltrace.conf Wed Apr 12 02:32:27 PDT 2017-rw-r--r-- 1 root root 14867 Apr 11 2016 /etc/ltrace.conf-rw-r--r-- 1 root root 14867 Apr 12 00:31 /etc/ltrace.conf-rw-r--r-- 1 root root 14867 Apr 11 03:20 /etc/ltrace.confÈªòËÆ§ÁöÑÊÉÖÂÜµ‰∏ãÔºåls ÊòæÁ§∫Âá∫Êù•ÁöÑÊòØËØ•Êñá‰ª∂ÁöÑ mtime„ÄÇË¶Å‰øÆÊîπÊñá‰ª∂Áõ∏ÂÖ≥Êó∂Èó¥Â±ûÊÄßÔºåÂèØ‰ª•‰ΩøÁî®touchÊåá‰ª§„ÄÇËØ≠Ê≥ïÔºö1234567touch [-acdmt] Êñá‰ª∂ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-a Ôºö‰ªÖ‰øÆËÆ¢ access timeÔºõ-c Ôºö‰ªÖ‰øÆÊîπÊñá‰ª∂ÁöÑÊó∂Èó¥ÔºåËã•ËØ•Êñá‰ª∂‰∏çÂ≠òÂú®Âàô‰∏çÂª∫Á´ãÊñ∞Êñá‰ª∂Ôºõ-d ÔºöÂêéÈù¢ÂèØ‰ª•Êé•Ê¨≤‰øÆËÆ¢ÁöÑÊó•ÊúüËÄå‰∏çÁî®ÁõÆÂâçÁöÑÊó•ÊúüÔºå‰πüÂèØ‰ª•‰ΩøÁî® --date="Êó•ÊúüÊàñÊó∂Èó¥"-m Ôºö‰ªÖ‰øÆÊîπ mtime Ôºõ-t ÔºöÂêéÈù¢ÂèØ‰ª•Êé•Ê¨≤‰øÆËÆ¢ÁöÑÊó∂Èó¥ËÄå‰∏çÁî®ÁõÆÂâçÁöÑÊó∂Èó¥ÔºåÊ†ºÂºè‰∏∫[YYYYMMDDhhmm]Êñ∞Âª∫‰∏Ä‰∏™Á©∫Êñá‰ª∂ÔºåÂπ∂Êü•ÁúãÂÖ∂Êó∂Èó¥Ôºö123root@ubuntu:/temp# touch testouchroot@ubuntu:/temp# ls -l testouch-rw-r--r-- 1 root root 0 Apr 12 02:40 testouch‰øÆÊîπtestouchÁöÑmtime‰∏∫‰∏§Â§©ÂâçÔºö12root@ubuntu:/temp# ls -l testouch-rw-r--r-- 1 root root 0 Apr 10 02:45 testouch‰øÆÊîπtestouchÁöÑatime‰∏∫2017/01/01 00:00Ôºö123root@ubuntu:/temp# touch -a -t 201701010000 testouch root@ubuntu:/temp# ls -l --time=atime testouch -rw-r--r-- 1 root root 0 Jan 1 00:00 testouch„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊñá‰ª∂ÂÜÖÂÆπÊü•ÈòÖ]]></title>
    <url>%2FLinux%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%9F%A5%E9%98%85.html</url>
    <content type="text"><![CDATA[LinuxÊñá‰ª∂ÂÜÖÂÆπÊü•ÈòÖ‰∏ªË¶Å‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ÔºöcatÔºöÁî±Á¨¨‰∏ÄË°åÂºÄÂßãÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ„ÄÇtacÔºö‰ªéÊúÄÂêé‰∏ÄË°åÂºÄÂßãÊòæÁ§∫ÔºåÂèØ‰ª•ÁúãÂá∫ tac ÊòØ cat ÁöÑÂÄíÁùÄÂÜô„ÄÇnlÔºöÊòæÁ§∫ÁöÑÊó∂ÂÄôÔºåÈ°∫ÈÅìËæìÂá∫Ë°åÂè∑„ÄÇmoreÔºö‰∏ÄÈ°µ‰∏ÄÈ°µÁöÑÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ„ÄÇlessÔºö‰∏é more Á±ª‰ººÔºå‰ΩÜÊòØÊØî more Êõ¥Â•ΩÁöÑÊòØÔºå‰ªñÂèØ‰ª•ÂæÄÂâçÁøªÈ°µ„ÄÇheadÔºöÂè™ÁúãÂ§¥Âá†Ë°å„ÄÇtailÔºöÂè™ÁúãÂ∞æÂ∑¥Âá†Ë°å„ÄÇodÔºö‰ª•‰∫åËøõÂà∂ÁöÑÊñπÂºèËØªÂèñÊñá‰ª∂ÂÜÖÂÆπ„ÄÇÁõ¥Êé•Ê£ÄËßÜÊñá‰ª∂ÂÜÖÂÆπcatÔºöcat ÊòØ Concatenate (ËøûÁª≠) ÁöÑÁÆÄÂÜôÔºå‰∏ªË¶ÅÁöÑÂäüËÉΩÊòØÂ∞Ü‰∏Ä‰∏™Êñá‰ª∂ÁöÑÂÜÖÂÆπËøûÁª≠ÁöÑÂç∞Âá∫Âú®Â±èÂπï‰∏äÈù¢„ÄÇËØ≠Ê≥ïÔºö12345678cat [-AbEnTv]ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-A ÔºöÁõ∏ÂΩì‰∫é -vET ÁöÑÊï¥ÂêàÈÄâÈ°πÔºåÂèØÂàóÂá∫‰∏Ä‰∫õÁâπÊÆäÂ≠óÁ¨¶ËÄå‰∏çÊòØÁ©∫ÁôΩËÄåÂ∑≤Ôºõ-b ÔºöÂàóÂá∫Ë°åÂè∑Ôºå‰ªÖÈíàÂØπÈùûÁ©∫ÁôΩË°åÂÅöË°åÂè∑ÊòæÁ§∫ÔºåÁ©∫ÁôΩË°å‰∏çÊ†áË°åÂè∑ÔºÅ-E ÔºöÂ∞ÜÁªìÂ∞æÁöÑÊñ≠Ë°åÂ≠óÁ¨¶ $ ÊòæÁ§∫Âá∫Êù•Ôºõ-n ÔºöÊâìÂç∞Âá∫Ë°åÂè∑ÔºåËøûÂêåÁ©∫ÁôΩË°å‰πü‰ºöÊúâË°åÂè∑Ôºå‰∏é -b ÁöÑÈÄâÈ°π‰∏çÂêåÔºõ-T ÔºöÂ∞Ü [tab] ÊåâÈîÆ‰ª• ^I ÊòæÁ§∫Âá∫Êù•Ôºõ-v ÔºöÂàóÂá∫‰∏Ä‰∫õÁúã‰∏çÂá∫Êù•ÁöÑÁâπÊÆäÂ≠óÁ¨¶Á§∫‰æãÔºö‰ΩøÁî®catÂëΩ‰ª§Êü•ÈòÖ/etc/legalÊñá‰ª∂ÂÜÖÂÆπÔºåÂπ∂Âä†‰∏äË°åÂè∑Ôºö123456789root@ubuntu:~# cat -n /etc/legal 1 2 The programs included with the Ubuntu system are free software; 3 the exact distribution terms for each program are described in the 4 individual files in /usr/share/doc/copyright. 5 6 Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by 7 applicable law. 8tacÔºàÂèçÂêëÂàóÁ§∫ÔºâÔºötac ÂàöÂ•ΩÊòØÂ∞Ü cat ÂèçÂÜôËøáÊù•ÔºåÊâÄ‰ª•‰ªñÁöÑÂäüËÉΩÂ∞±Ë∑ü cat Áõ∏Âèç„ÄÇcat ÊòØÁî±Á¨¨‰∏ÄË°åÂà∞ÊúÄÂêé‰∏ÄË°åËøûÁª≠ÊòæÁ§∫Âú®Â±èÂπï‰∏äÔºåËÄå tac ÂàôÊòØÁî±ÊúÄÂêé‰∏ÄË°åÂà∞Á¨¨‰∏ÄË°åÂèçÂêëÂú®Â±èÂπï‰∏äÊòæÁ§∫Âá∫Êù•„ÄÇ‰ΩøÁî®tacÂëΩ‰ª§Êü•ÈòÖ/etc/legalÊñá‰ª∂ÂÜÖÂÆπÔºö12345678root@ubuntu:~# tac /etc/legal applicable law.Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by individual files in /usr/share/doc/copyright.the exact distribution terms for each program are described in theThe programs included with the Ubuntu system are free software;nlÔºàÊ∑ªÂä†Ë°åÂè∑ÊâìÂç∞ÔºâÔºönlÂèØ‰ª•Â∞ÜËæìÂá∫ÁöÑÊñá‰ª∂ÂÜÖÂÆπËá™Âä®ÁöÑÂä†‰∏äË°åÂè∑„ÄÇÂÖ∂È¢ÑËÆæÁöÑÁªìÊûú‰∏écat -nÊúâÁÇπ‰∏çÂ§™‰∏ÄÊ†∑Ôºå nlÂèØ‰ª•Â∞ÜË°åÂè∑ÂÅöÊØîËæÉÂ§öÁöÑÊòæÁ§∫ËÆæËÆ°ÔºåÂåÖÊã¨‰ΩçÊï∞‰∏éÊòØÂê¶Ëá™Âä®Ë°•ÈΩê 0 Á≠âÁ≠âÁöÑÂäüËÉΩ„ÄÇËØ≠Ê≥ïÔºö12345678910nl [-bnw] Êñá‰ª∂ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-b ÔºöÊåáÂÆöË°åÂè∑ÊåáÂÆöÁöÑÊñπÂºèÔºå‰∏ªË¶ÅÊúâ‰∏§ÁßçÔºö -b a ÔºöË°®Á§∫‰∏çËÆ∫ÊòØÂê¶‰∏∫Á©∫Ë°åÔºå‰πüÂêåÊ†∑ÂàóÂá∫Ë°åÂè∑(Á±ª‰ºº cat -n)Ôºõ -b t ÔºöÂ¶ÇÊûúÊúâÁ©∫Ë°åÔºåÁ©∫ÁöÑÈÇ£‰∏ÄË°å‰∏çË¶ÅÂàóÂá∫Ë°åÂè∑(ÈªòËÆ§ÂÄº)Ôºõ-n ÔºöÂàóÂá∫Ë°åÂè∑Ë°®Á§∫ÁöÑÊñπÊ≥ïÔºå‰∏ªË¶ÅÊúâ‰∏âÁßçÔºö -n ln ÔºöË°åÂè∑Âú®Â±èÂπïÁöÑÊúÄÂ∑¶ÊñπÊòæÁ§∫Ôºõ -n rn ÔºöË°åÂè∑Âú®Ëá™Â∑±Â≠óÊÆµÁöÑÊúÄÂè≥ÊñπÊòæÁ§∫Ôºå‰∏î‰∏çÂä† 0 Ôºõ -n rz ÔºöË°åÂè∑Âú®Ëá™Â∑±Â≠óÊÆµÁöÑÊúÄÂè≥ÊñπÊòæÁ§∫Ôºå‰∏îÂä† 0 Ôºõ-w ÔºöË°åÂè∑Â≠óÊÆµÁöÑÂç†Áî®ÁöÑÂ≠óÁ¨¶Êï∞Á§∫‰æãÔºö‰ΩøÁî®nlÊòæÁ§∫/etc/legalÊñá‰ª∂ÂÜÖÂÆπÔºö12345678root@ubuntu:~# nl /etc/legal 1 The programs included with the Ubuntu system are free software; 2 the exact distribution terms for each program are described in the 3 individual files in /usr/share/doc/copyright. 4 Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by 5 applicable law.ÂèØËßÅÔºåÁ©∫Ë°åÂπ∂Ê≤°ÊúâÊòæÁ§∫Ë°åÂè∑ÔºåÂèØ‰ª•‰ΩøÁî®-b aÈÄâÈ°πÊòæÁ§∫Á©∫Ë°åË°åÂè∑Ôºö123456789root@ubuntu:~# nl -b a /etc/legal 1 2 The programs included with the Ubuntu system are free software; 3 the exact distribution terms for each program are described in the 4 individual files in /usr/share/doc/copyright. 5 6 Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by 7 applicable law. 8ÂèØÁøªÈ°µÊü•ÈòÖÂΩìÊñá‰ª∂ÂÜÖÂÆπËæÉÂ§öÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•‰ΩøÁî®moreÂíålessÂëΩ‰ª§Êù•ÁøªÈ°µÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ„ÄÇmoreÔºö‰ΩøÁî®moreÊü•ÈòÖ/etc/ltrace.confÔºåÈ°µÈù¢ÊúÄÂêé‰∏ÄË°å‰ºöÊòæÁ§∫Âá∫ÁõÆÂâçÊòæÁ§∫ÁöÑÁôæÂàÜÊØîÔºöËøòÂèØ‰ª•Âú®ÊúÄÂêé‰∏ÄË°åËæìÂÖ•‰∏Ä‰∫õÊúâÁî®ÁöÑÊåá‰ª§Ôºö123456Á©∫Ê†ºÈîÆ (space)Ôºö‰ª£Ë°®Âêë‰∏ãÁøª‰∏ÄÈ°µÔºõEnter Ôºö‰ª£Ë°®Âêë‰∏ãÁøª‰∏ÄË°åÔºõ/Â≠óÁ¨¶‰∏≤ Ôºö‰ª£Ë°®Âú®Ëøô‰∏™ÊòæÁ§∫ÁöÑÂÜÖÂÆπÂΩì‰∏≠ÔºåÂêë‰∏ãÊêúÂØª„ÄéÂ≠óÁ¨¶‰∏≤„ÄèËøô‰∏™ÂÖ≥ÈîÆËØçÔºõ:f ÔºöÁ´ãÂàªÊòæÁ§∫Âá∫Êñá‰ª∂Âêç‰ª•ÂèäÁõÆÂâçÊòæÁ§∫ÁöÑË°åÊï∞Ôºõq Ôºö‰ª£Ë°®Á´ãÂàªÁ¶ªÂºÄ more Ôºå‰∏çÂÜçÊòæÁ§∫ËØ•Êñá‰ª∂ÂÜÖÂÆπÔºõb Êàñ [ctrl]-b Ôºö‰ª£Ë°®ÂæÄÂõûÁøªÈ°µÔºå‰∏çËøáËøôÂä®‰ΩúÂè™ÂØπÊñá‰ª∂ÊúâÁî®ÔºåÂØπÁÆ°Á∫øÊó†Áî®„ÄÇ ‚ÄãlessÔºöless ÁöÑÁî®Ê≥ïÊØîËµ∑ more ÂèàÊõ¥Âä†ÁöÑÊúâÂºπÊÄßÔºålessÂèØÁî®ÁöÑÊåá‰ª§ÊúâÔºö bash Á©∫Ê†ºÈîÆ ÔºöÂêë‰∏ãÁøªÂä®‰∏ÄÈ°µÔºõ [pagedown]ÔºöÂêë‰∏ãÁøªÂä®‰∏ÄÈ°µÔºõ [pageup] ÔºöÂêë‰∏äÁøªÂä®‰∏ÄÈ°µÔºõ /Â≠óÁ¨¶‰∏≤ ÔºöÂêë‰∏ãÊêúÂØª„ÄéÂ≠óÁ¨¶‰∏≤„ÄèÁöÑÂäüËÉΩÔºõ ?Â≠óÁ¨¶‰∏≤ ÔºöÂêë‰∏äÊêúÂØª„ÄéÂ≠óÁ¨¶‰∏≤„ÄèÁöÑÂäüËÉΩÔºõ n ÔºöÈáçÂ§çÂâç‰∏Ä‰∏™ÊêúÂØª (‰∏é / Êàñ ? ÊúâÂÖ≥) N ÔºöÂèçÂêëÁöÑÈáçÂ§çÂâç‰∏Ä‰∏™ÊêúÂØª (‰∏é / Êàñ ? ÊúâÂÖ≥) g ÔºöÂâçËøõÂà∞Ëøô‰∏™ËµÑÊñôÁöÑÁ¨¨‰∏ÄË°åÂéªÔºõ G ÔºöÂâçËøõÂà∞Ëøô‰∏™Êï∞ÊçÆÁöÑÊúÄÂêé‰∏ÄË°åÂéª (Ê≥®ÊÑèÂ§ßÂ∞èÂÜô)Ôºõ q ÔºöÁ¶ªÂºÄ less Ëøô‰∏™Á®ãÂ∫è„ÄÇ ‚Äã12345678## ‰ª•Ë°å‰∏∫Âçï‰ΩçÊü•ÈòÖ### headÔºàÂèñÂá∫ÂâçÈù¢Âá†Ë°åÔºâÔºöËØ≠Ê≥ïÔºö```bashhead [-n number] Êñá‰ª∂ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-n ÔºöÂêéÈù¢Êé•Êï∞Â≠óÔºå‰ª£Ë°®ÊòæÁ§∫Âá†Ë°åÁöÑÊÑèÊÄùÁ§∫‰æãÔºö12345678910#‰ΩøÁî®headÊåá‰ª§Êü•ÈòÖ/etc/ltrace.confÔºåÈªòËÆ§ËæìÂá∫Ââç10Ë°åroot@ubuntu:~# head /etc/ltrace.conf ; ltrace.conf;; ~/.ltrace.conf will also be read, if it exists. The -F option may be...#Âè™Êü•ÁúãÂâç1Ë°åroot@ubuntu:~# head -n 1 /etc/ltrace.conf ; ltrace.confÂ¶ÇÊûúÊï∞Â≠óÊòØË¥üÊï∞ÁöÑËØùÔºåÂ¶Ç‰ΩøÁî®Êåá‰ª§head -n -100 /etc/file ÂàôË°®Á§∫ËæìÂá∫fileÊñá‰ª∂ÂéªÈô§Âêé100Ë°åÂêéÁöÑÊâÄÊúâË°å„ÄÇÂç≥Â¶ÇÊûúfileÊñá‰ª∂Êúâ150Ë°åÔºå‰ΩøÁî®ËØ•Êåá‰ª§ÂêéÔºåÂè™‰ºöËæìÂá∫Ââç50Ë°å„ÄÇtailÔºàÂèñÂá∫ÂêéÈù¢Âá†Ë°åÔºâÔºöËØ≠Ê≥ïÔºö12345tail [-n number] Êñá‰ª∂ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-n ÔºöÂêéÈù¢Êé•Êï∞Â≠óÔºå‰ª£Ë°®ÊòæÁ§∫Âá†Ë°åÁöÑÊÑèÊÄù-f ÔºöË°®Á§∫ÊåÅÁª≠‰æ¶ÊµãÂêéÈù¢ÊâÄÊé•ÁöÑÊ°£ÂêçÔºåË¶ÅÁ≠âÂà∞Êåâ‰∏ã[ctrl]-c Êâç‰ºöÁªìÊùü tail ÁöÑ‰æ¶Êµã‰ΩøÁî®ÊñπÊ≥ïÂíåheadÁ±ª‰ºº„ÄÇÂ¶ÇÊûúË¶ÅÊü•ÈòÖ/etc/ltrace.confÁ¨¨11Ë°åÂà∞20Ë°åÁöÑÊï∞ÊçÆÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÁÆ°Á∫ø (|)ËøûÊé•headÂíåtailÊåá‰ª§„ÄÇÁÆ°Á∫øÁöÑÊÑèÊÄùÊòØÔºöÂâçÈù¢ÁöÑÊåá‰ª§ÊâÄËæìÂá∫ÁöÑËÆØÊÅØÔºåËØ∑ÈÄèËøáÁÆ°Á∫ø‰∫§Áî±ÂêéÁª≠ ÁöÑÊåá‰ª§ÁªßÁª≠‰ΩøÁî®„ÄÇ1234567891011root@ubuntu:~# head -n 20 /etc/ltrace.conf | tail -n 10typedef in_addr = struct(hex(uint));int inet_aton(string, +in_addr*);hex(uint) inet_addr(string);hex(uint) inet_network(string);string inet_ntoa(in_addr);in_addr inet_makeaddr(hex(int), hex(int));hex(uint) inet_lnaof(in_addr);hex(uint) inet_netof(in_addr); ; bfd.hÂä†‰∏äË°åÂè∑Ôºö1234567891011root@ubuntu:~# cat -n /etc/ltrace.conf | head -n 20 | tail -n 10 11 typedef in_addr = struct(hex(uint)); 12 int inet_aton(string, +in_addr*); 13 hex(uint) inet_addr(string); 14 hex(uint) inet_network(string); 15 string inet_ntoa(in_addr); 16 in_addr inet_makeaddr(hex(int), hex(int)); 17 hex(uint) inet_lnaof(in_addr); 18 hex(uint) inet_netof(in_addr); 19 20 ; bfd.hÈùûÁ∫ØÊñáÊú¨Ê°£Ôºö odÂΩìÊü•ÈòÖÈùûÊñáÊú¨Êñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂ∫îËØ•‰ΩøÁî®odÂëΩ‰ª§„ÄÇËØ≠Ê≥ïÔºö123456789od [-t TYPE] Êñá‰ª∂ÈÄâÈ°πÊàñÂèÇÊï∞Ôºö-t ÔºöÂêéÈù¢ÂèØ‰ª•Êé•ÂêÑÁßç„ÄéÁ±ªÂûã (TYPE)„ÄèÁöÑËæìÂá∫Ôºå‰æãÂ¶ÇÔºö a ÔºöÂà©Áî®ÈªòËÆ§ÁöÑÂ≠óÁ¨¶Êù•ËæìÂá∫Ôºõ c Ôºö‰ΩøÁî® ASCII Â≠óÁ¨¶Êù•ËæìÂá∫ d[size] ÔºöÂà©Áî®ÂçÅËøõÂà∂(decimal)Êù•ËæìÂá∫Êï∞ÊçÆÔºåÊØè‰∏™Êï¥Êï∞Âç†Áî® size bytes Ôºõ f[size] ÔºöÂà©Áî®ÊµÆÁÇπÊï∞(floating)Êù•ËæìÂá∫Êï∞ÊçÆÔºåÊØè‰∏™Êï∞Âç†Áî® size bytes Ôºõ o[size] ÔºöÂà©Áî®ÂÖ´ËøõÂà∂(octal)Êù•ËæìÂá∫Êï∞ÊçÆÔºåÊØè‰∏™Êï¥Êï∞Âç†Áî® size bytes Ôºõ x[size] ÔºöÂà©Áî®ÂçÅÂÖ≠ËøõÂà∂(hexadecimal)Êù•ËæìÂá∫Êï∞ÊçÆÔºåÊØè‰∏™Êï¥Êï∞Âç†Áî® size bytes ÔºõÁ§∫‰æãÔºöÂ∞Ü/usr/bin/passwd ÁöÑÂÜÖÂÆπ‰ΩøÁî® ASCII ÊñπÂºèÊù•Â±ïÁé∞Ôºö123456789od -t c /usr/bin/passwd 0000000 177 E L F 002 001 001 \0 \0 \0 \0 \0 \0 \0 \0 \00000020 003 \0 &gt; \0 001 \0 \0 \0 0 &gt; \0 \0 \0 \0 \0 \00000040 @ \0 \0 \0 \0 \0 \0 \0 360 314 \0 \0 \0 \0 \0 \00000060 \0 \0 \0 \0 @ \0 8 \0 \t \0 @ \0 034 \0 033 \00000100 006 \0 \0 \0 005 \0 \0 \0 @ \0 \0 \0 \0 \0 \0 \00000120 @ \0 \0 \0 \0 \0 \0 \0 @ \0 \0 \0 \0 \0 \0 \00000140 370 001 \0 \0 \0 \0 \0 \0 370 001 \0 \0 \0 \0 \0 \0...Â∞Ü/etc/issue Ëøô‰∏™Êñá‰ª∂ÁöÑÂÜÖÂÆπ‰ª• 8 Ëøõ‰ΩçÂàóÂá∫ÂÇ®Â≠òÂÄº‰∏é ASCII ÁöÑÂØπÁÖßË°®Ôºö123456root@ubuntu:~# od -t oCc /etc/issue0000000 125 142 165 156 164 165 040 061 066 056 060 064 056 062 040 114 U b u n t u 1 6 . 0 4 . 2 L0000020 124 123 040 134 156 040 134 154 012 012 T S \ n \ l \n \n0000032„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊñá‰ª∂‰∏éÁõÆÂΩïÁÆÄÂçïÊìç‰Ωú]]></title>
    <url>%2FLinux%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C.html</url>
    <content type="text"><![CDATA[Linux‰∏ãÂá†‰∏™ÁâπÊÆäÁöÑÁõÆÂΩïÔºö12345. ‰ª£Ë°®Ê≠§Â±ÇÁõÆÂΩï.. ‰ª£Ë°®‰∏ä‰∏ÄÂ±ÇÁõÆÂΩï- ‰ª£Ë°®Ââç‰∏Ä‰∏™Â∑•‰ΩúÁõÆÂΩï~ ‰ª£Ë°®„ÄéÁõÆÂâçÁî®Êà∑Ë∫´‰ªΩ„ÄèÊâÄÂú®ÁöÑÂÆ∂ÁõÆÂΩï~mrbird ‰ª£Ë°® mrbird Ëøô‰∏™Áî®Êà∑ÁöÑÂÆ∂ÁõÆÂΩïÁõÆÂΩïÁõ∏ÂÖ≥Êìç‰ΩúÂá†‰∏™Â∏∏ËßÅÁöÑÂ§ÑÁêÜÁõÆÂΩïÁöÑÊåá‰ª§ÔºöcdÔºöÂèòÊç¢ÁõÆÂΩïÔºõpwdÔºöÊòæÁ§∫ÂΩìÂâçÁõÆÂΩïÔºõmkdirÔºöÂª∫Á´ã‰∏Ä‰∏™Êñ∞ÁöÑÁõÆÂΩïÔºõrmdirÔºöÂà†Èô§‰∏Ä‰∏™Á©∫ÁöÑÁõÆÂΩï„ÄÇcd (change directory, ÂèòÊç¢ÁõÆÂΩï)Ôºö1234567891011#ÂàáÊç¢Âà∞varÁõÆÂΩï‰∏ãmrbird@ubuntu:~$ cd /var#ÂõûÂà∞ÂàöÂàöÈÇ£‰∏™ÁõÆÂΩïmrbird@ubuntu:/var$ cd -/home/mrbird#ÂàáÊç¢Âà∞Áî®Êà∑mrbirdÁöÑÂÆ∂ÁõÆÂΩïmrbird@ubuntu:~$ cd ~mrbird#‰∏ä‰∏ÄÂ±ÇÁõÆÂΩïmrbird@ubuntu:~$ cd ..#ÂΩìÂâçÁõÆÂΩïmrbird@ubuntu:/home$ cd .pwd (Print Working DirectoryÔºåÊòæÁ§∫ÁõÆÂâçÊâÄÂú®ÁöÑÁõÆÂΩï)ÔºöËØ≠Ê≥ïÔºö123pwd [-P]ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-P ÔºöÊòæÁ§∫Âá∫Á°ÆÂÆûÁöÑË∑ØÂæÑÔºåËÄåÈùû‰ΩøÁî®ÈìæÊé• (link) Ë∑ØÂæÑ„ÄÇÁ§∫‰æãÔºö1234567root@ubuntu:/home/mrbird# pwd/home/mrbirdroot@ubuntu:/home/mrbird# cd /var/lockroot@ubuntu:/var/lock# pwd/var/lockroot@ubuntu:/var/lock# pwd -P/run/lockÂä†ÂÖ•-pÈÄâÈ°πÂêéÔºåÊòæÁ§∫Âá∫‰∫Ü/var/lockÁöÑÁúüÂÆûË∑ØÂæÑÔºåÂõ†‰∏∫ÂÆÉÊòØ‰∏™ÈìæÊé•Ê°£„ÄÇmkdir (make directoryÔºåÂª∫Á´ãÊñ∞ÁõÆÂΩï)ÔºöËØ≠Ê≥ïÔºö1234mkdir [-mp] ÁõÆÂΩïÂêçÁß∞ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-m ÔºöÈÖçÁΩÆÊñá‰ª∂Ê°àÁöÑÊùÉÈôêÔºÅÁõ¥Êé•ËÆæÂÆöÔºå‰∏çÈúÄË¶ÅÁúãÈ¢ÑËÆæÊùÉÈôê (umask) ÁöÑËÑ∏Ëâ≤-p ÔºöÂ∏ÆÂä©‰Ω†Áõ¥Êé•Â∞ÜÊâÄÈúÄË¶ÅÁöÑÁõÆÂΩï(ÂåÖÂê´‰∏äÂ±ÇÁõÆÂΩï)ÈÄíÂΩíÂª∫Á´ãËµ∑Êù•„ÄÇ ‚ÄãÁ§∫‰æãÔºö1234567891011121314#ÂàõÂª∫ÁõÆÂΩïtemproot@ubuntu:~# mkdir /temproot@ubuntu:~# cd /temp#Áõ¥Êé•ÂàõÂª∫Â§öÂ±ÇÁ∫ßÁõÆÂΩïÊä•Èîôroot@ubuntu:/temp# mkdir test1/test2/test3mkdir: cannot create directory 'test1/test2/test3': No such file or directory#Âä†ÂÖ•-pÈÄíÂΩíÂàõÂª∫root@ubuntu:/temp# mkdir -p test1/test2/test3#ÂàõÂª∫ÁõÆÂΩïtest2ÔºåÊùÉÈôê‰∏∫711root@ubuntu:/temp# mkdir -m 711 test2root@ubuntu:/temp# ls -altotal 16...drwx--x--x 2 root root 4096 Apr 11 18:43 test2rmdir (Âà†Èô§„ÄéÁ©∫„ÄèÁöÑÁõÆÂΩï)ÔºöËØ≠Ê≥ïÔºö123rmdir [-p] ÁõÆÂΩïÂêçÁß∞ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-p ÔºöËøûÂêå„Äé‰∏äÂ±Ç„Äè„ÄéÁ©∫ÁöÑ„ÄèÁõÆÂΩï‰πü‰∏ÄËµ∑Âà†Èô§Á§∫‰æãÔºö12345678910#Âà†Èô§Á©∫ÁõÆÂΩïtest2root@ubuntu:/temp# rmdir test2root@ubuntu:/temp# lstest1#Âà†Èô§ÈùûÁ©∫ÁõÆÂΩïtest1ÔºåÊèêÁ§∫Êó†Ê≥ïÂà†Èô§root@ubuntu:/temp# rmdir test1rmdir: failed to remove 'test1': Directory not empty#‰ΩøÁî®-pÈÄíÂΩíÂà†Èô§root@ubuntu:/temp# rmdir -p test1/test2/test3root@ubuntu:/temp# lsÊñá‰ª∂‰∏éÁõÆÂΩïÁÆ°ÁêÜÁõ∏ÂÖ≥ÁöÑÂëΩ‰ª§ÊúâÔºölsÔºöÊòæÁ§∫Â±ûÊÄßÔºõcpÔºöÊã∑Ë¥ùÔºõrmÔºöÂà†Èô§Êñá‰ª∂ÔºõmvÁßªÂä®ÁõÆÂΩïÊàñÊñá‰ª∂Á≠â„ÄÇlsÔºàlistÔºâÊñá‰ª∂‰∏éÁõÆÂΩïÁöÑÊ£ÄËßÜÔºöËØ≠Ê≥ïÔºö123456789101112131415161718192021222324ls [-aAdfFhilnrRSt] Êñá‰ª∂ÂêçÊàñÁõÆÂΩïÂêçÁß∞..ls [--color=&#123;never,auto,always&#125;] Êñá‰ª∂ÂêçÊàñÁõÆÂΩïÂêçÁß∞..ls [--full-time] Êñá‰ª∂ÂêçÊàñÁõÆÂΩïÂêçÁß∞..ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-a ÔºöÂÖ®ÈÉ®ÁöÑÊñá‰ª∂ÔºåËøûÂêåÈöêËóèÊ°£( ÂºÄÂ§¥‰∏∫ . ÁöÑÊñá‰ª∂) ‰∏ÄËµ∑ÂàóÂá∫Êù•(Â∏∏Áî®)-A ÔºöÂÖ®ÈÉ®ÁöÑÊñá‰ª∂ÔºåËøûÂêåÈöêËóèÊ°£Ôºå‰ΩÜ‰∏çÂåÖÊã¨ . ‰∏é .. Ëøô‰∏§‰∏™ÁõÆÂΩï-d Ôºö‰ªÖÂàóÂá∫ÁõÆÂΩïÊú¨Ë∫´ÔºåËÄå‰∏çÊòØÂàóÂá∫ÁõÆÂΩïÂÜÖÁöÑÊñá‰ª∂Êï∞ÊçÆ(Â∏∏Áî®)-f ÔºöÁõ¥Êé•ÂàóÂá∫ÁªìÊûúÔºåËÄå‰∏çËøõË°åÊéíÂ∫è (ls È¢ÑËÆæ‰ºö‰ª•Ê°£ÂêçÊéíÂ∫èÔºÅ)-F ÔºöÊ†πÊçÆÊñá‰ª∂„ÄÅÁõÆÂΩïÁ≠â‰ø°ÊÅØÔºåÁªô‰∫àÈôÑÂä†Êï∞ÊçÆÁªìÊûÑÔºå‰æãÂ¶ÇÔºö *:‰ª£Ë°®ÂèØÊâßË°åÊñá‰ª∂Ôºõ /:‰ª£Ë°®ÁõÆÂΩïÔºõ =:‰ª£Ë°® socket Êñá‰ª∂Ôºõ |:‰ª£Ë°® FIFO Êñá‰ª∂Ôºõ-h ÔºöÂ∞ÜÊñá‰ª∂ÂÆπÈáè‰ª•‰∫∫Á±ªËæÉÊòìËØªÁöÑÊñπÂºè(‰æãÂ¶Ç GB, KB Á≠âÁ≠â)ÂàóÂá∫Êù•Ôºõ-i ÔºöÂàóÂá∫ inode Âè∑Á†ÅÔºåinode ÁöÑÊÑè‰πâ‰∏ã‰∏ÄÁ´†Â∞Ü‰ºö‰ªãÁªçÔºõ-l ÔºöÈïøÊï∞ÊçÆ‰∏≤Ë°åÂá∫ÔºåÂåÖÂê´Êñá‰ª∂ÁöÑÂ±ûÊÄß‰∏éÊùÉÈôêÁ≠âÁ≠âÊï∞ÊçÆÔºõ(Â∏∏Áî®)-n ÔºöÂàóÂá∫ UID ‰∏é GID ËÄåÈùû‰ΩøÁî®ËÄÖ‰∏éÁæ§ÁªÑÁöÑÂêçÁß∞ (UID ‰∏é GID ‰ºöÂú®Ë¥¶Âè∑ÁÆ°ÁêÜÊèêÂà∞ÔºÅ)-r ÔºöÂ∞ÜÊéíÂ∫èÁªìÊûúÂèçÂêëËæìÂá∫Ôºå‰æãÂ¶ÇÔºöÂéüÊú¨Ê°£ÂêçÁî±Â∞èÂà∞Â§ßÔºåÂèçÂêëÂàô‰∏∫Áî±Â§ßÂà∞Â∞èÔºõ-R ÔºöËøûÂêåÂ≠êÁõÆÂΩïÂÜÖÂÆπ‰∏ÄËµ∑ÂàóÂá∫Êù•ÔºåÁ≠â‰∫éËØ•ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÈÉΩ‰ºöÊòæÁ§∫Âá∫Êù•Ôºõ-S Ôºö‰ª•Êñá‰ª∂ÂÆπÈáèÂ§ßÂ∞èÊéíÂ∫èÔºåËÄå‰∏çÊòØÁî®Ê°£ÂêçÊéíÂ∫èÔºõ-t Ôºö‰æùÊó∂Èó¥ÊéíÂ∫èÔºåËÄå‰∏çÊòØÁî®Ê°£Âêç„ÄÇ--color=never Ôºö‰∏çË¶Å‰æùÊçÆÊñá‰ª∂ÁâπÊÄßÁªô‰∫àÈ¢úËâ≤ÊòæÁ§∫Ôºõ--color=always ÔºöÊòæÁ§∫È¢úËâ≤--color=auto ÔºöËÆ©Á≥ªÁªüËá™Ë°å‰æùÊçÆËÆæÂÆöÊù•Âà§Êñ≠ÊòØÂê¶Áªô‰∫àÈ¢úËâ≤--full-time Ôºö‰ª•ÂÆåÊï¥Êó∂Èó¥Ê®°Âºè (ÂåÖÂê´Âπ¥„ÄÅÊúà„ÄÅÊó•„ÄÅÊó∂„ÄÅÂàÜ) ËæìÂá∫--time=&#123;atime,ctime&#125; ÔºöËæìÂá∫ access Êó∂Èó¥ÊàñÊîπÂèòÊùÉÈôêÂ±ûÊÄßÊó∂Èó¥ (ctime) ËÄåÈùûÂÜÖÂÆπÂèòÊõ¥Êó∂Èó¥ (modification time)lsÂëΩ‰ª§ÂæàÂ∏∏Áî®ÔºåËøôÈáå‰ªÖÁ§∫‰æã--colorÔºå--full-timeÔºå--timeÂèÇÊï∞Ôºö--colorÂèÇÊï∞ÁöÑ‰ΩøÁî®ÔºölsÈªòËÆ§ÊòæÁ§∫Ê†πÊçÆÊñá‰ª∂ÁâπÊÄßÊòæÁ§∫È¢úËâ≤ÔºåÂèØ‰ª•‰ΩøÁî®--color=neverÂÖ≥Èó≠ÔºÅ--full-timeÂèÇÊï∞ÁöÑ‰ΩøÁî®Ôºö12345678root@ubuntu:/var# ls --full-timetotal 48drwxr-xr-x 2 root root 4096 2017-04-11 18:07:45.485003705 -0700 backupsdrwxr-xr-x 15 root root 4096 2017-04-11 03:49:17.681766424 -0700 cachedrwxrwsrwt 2 root whoopsie 4096 2017-04-11 04:17:29.961240226 -0700 crashdrwxr-xr-x 64 root root 4096 2017-04-11 04:56:56.702320395 -0700 libdrwxrwsr-x 2 root staff 4096 2016-04-12 13:14:23.000000000 -0700 local...ËØ•ÂÆåÊï¥ÁöÑÂëàÁé∞‰∫ÜÊñá‰ª∂ÁöÑ‰øÆÊîπÊó∂Èó¥ (modification time)„ÄÇcpÔºàcopyÔºâÂ§çÂà∂Êñá‰ª∂ÊàñÁõÆÂΩïÔºöËØ≠Ê≥ïÔºö1234567891011121314[root@study ~]# cp [-adfilprsu] Êù•Ê∫êÊñá‰ª∂(source) ÁõÆÊ†áÊñá‰ª∂(destination)[root@study ~]# cp [options] source1 source2 source3 .... directoryÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-a ÔºöÁõ∏ÂΩì‰∫é -dr --preserve=all ÁöÑÊÑèÊÄùÔºåËá≥‰∫é dr ËØ∑ÂèÇËÄÉ‰∏ãÂàóËØ¥ÊòéÔºõ(Â∏∏Áî®)-d ÔºöËã•Êù•Ê∫êÊñá‰ª∂‰∏∫ÈìæÊé•Êñá‰ª∂ÁöÑÂ±ûÊÄß(link file)ÔºåÂàôÂ§çÂà∂ÈìæÊé•Êñá‰ª∂Â±ûÊÄßËÄåÈùûÊñá‰ª∂Êú¨Ë∫´Ôºõ-f Ôºö‰∏∫Âº∫Âà∂(force)ÁöÑÊÑèÊÄùÔºåËã•ÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®‰∏îÊó†Ê≥ïÂºÄÂêØÔºåÂàôÁßªÈô§ÂêéÂÜçÂ∞ùËØï‰∏ÄÊ¨°Ôºõ-i ÔºöËã•ÁõÆÊ†áÊñá‰ª∂(destination)Â∑≤ÁªèÂ≠òÂú®Êó∂ÔºåÂú®Ë¶ÜÁõñÊó∂‰ºöÂÖàËØ¢ÈóÆÂä®‰ΩúÁöÑËøõË°å(Â∏∏Áî®)-l ÔºöËøõË°åÁ°¨ÂºèËøûÁªì(hard link)ÁöÑËøûÁªìÊ°£Âª∫Á´ãÔºåËÄåÈùûÂ§çÂà∂Êñá‰ª∂Êú¨Ë∫´Ôºõ-p ÔºöËøûÂêåÊñá‰ª∂ÁöÑÂ±ûÊÄß(ÊùÉÈôê„ÄÅÁî®Êà∑„ÄÅÊó∂Èó¥)‰∏ÄËµ∑Â§çÂà∂ËøáÂéªÔºåËÄåÈùû‰ΩøÁî®ÈªòËÆ§Â±ûÊÄß(Â§á‰ªΩÂ∏∏Áî®)Ôºõ-r ÔºöÈÄíÂΩíÊåÅÁª≠Â§çÂà∂ÔºåÁî®‰∫éÁõÆÂΩïÁöÑÂ§çÂà∂Ë°å‰∏∫Ôºõ(Â∏∏Áî®)-s ÔºöÂ§çÂà∂Êàê‰∏∫Á¨¶Âè∑ÈìæÊé•Êñá‰ª∂ (symbolic link)Ôºå‰∫¶Âç≥„ÄéÂø´Êç∑ÊñπÂºè„ÄèÊñá‰ª∂Ôºõ-u Ôºödestination ÊØî source ÊóßÊâçÊõ¥Êñ∞ destinationÔºåÊàñ destination ‰∏çÂ≠òÂú®ÁöÑÊÉÖÂÜµ‰∏ãÊâçÂ§çÂà∂„ÄÇ--preserve=all ÔºöÈô§‰∫Ü -p ÁöÑÊùÉÈôêÁõ∏ÂÖ≥ÂèÇÊï∞Â§ñÔºåËøòÂä†ÂÖ• SELinux ÁöÑÂ±ûÊÄß, links, xattr Á≠â‰πüÂ§çÂà∂‰∫Ü„ÄÇ ÊúÄÂêéÈúÄË¶ÅÊ≥®ÊÑèÁöÑÔºåÂ¶ÇÊûúÊù•Ê∫êÊ°£Êúâ‰∏§‰∏™‰ª•‰∏äÔºåÂàôÊúÄÂêé‰∏Ä‰∏™ÁõÆÁöÑÊñá‰ª∂‰∏ÄÂÆöË¶ÅÊòØ„ÄéÁõÆÂΩï„ÄèÊâçË°å„ÄÇ‰∏çÂêåÊùÉÈôêÁî®Êà∑‰ΩøÁî®cpÂëΩ‰ª§‰ºö‰∫ßÁîü‰∏çÂêåÁöÑÁªìÊûúÔºå‰∏ãÈù¢‰∏æÂá†‰∏™ÂÆû‰æãÔºö12345678910111213141516171819202122232425262728293031323334353637383940#Áî® root Ë∫´‰ªΩÔºåÂ∞ÜÂÆ∂ÁõÆÂΩï‰∏ãÁöÑ .bashrc Â§çÂà∂Âà∞ /tmp ‰∏ãÔºåÂπ∂Êõ¥Âêç‰∏∫ bashrcroot@ubuntu:~# cp ~/.bashrc /temp/bashrc#‰ΩøÁî®-iÈÄâÈ°πÔºåÂΩìÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®Êó∂Ôºå‰ºöËøõË°åÊìç‰ΩúËØ¢ÈóÆroot@ubuntu:~# cp -i ~/.bashrc /temp/bashrccp: overwrite '/temp/bashrc'? y &lt;==n ‰∏çË¶ÜÁõñÔºåy ‰∏∫Ë¶ÜÁõñ root@ubuntu:/var/log# cd /temp#Â§çÂà∂/var/log/wtmp Âà∞ÂΩìÂâçÔºà/tempÔºâÁõÆÂΩïÔºåÂà´ÂøòËÆ∞‰∫ÜÂä†.root@ubuntu:/temp# cp /var/log/wtmp .root@ubuntu:/temp# lsbashrc wtmp #‰ΩøÁî®ls -lÂëΩ‰ª§ËßÇÂØüÊ∫êÊñá‰ª∂ÂíåÂ§çÂà∂Êñá‰ª∂ÁöÑÊùÉÈôêÔºåÂèØËßÅ‰∏§ËÄÖÂπ∂‰∏ç‰∏ÄËá¥root@ubuntu:/temp# ls -l /var/log/wtmp wtmp-rw-rw-r-- 1 root utmp 8448 Apr 11 18:11 /var/log/wtmp-rw-r--r-- 1 root root 8448 Apr 11 19:08 wtmp#‰ΩøÁî®-aÈÄâÈ°πÔºåËøûÂêåÊùÉÈôê‰∏ÄËµ∑Â§çÂà∂root@ubuntu:/temp# cp -a /var/log/wtmp wtmp1root@ubuntu:/temp# ls -l /var/log/wtmp wtmp wtmp1-rw-rw-r-- 1 root utmp 8448 Apr 11 18:11 /var/log/wtmp-rw-r--r-- 1 root root 8448 Apr 11 19:08 wtmp-rw-rw-r-- 1 root utmp 8448 Apr 11 18:11 wtmp1 #ÈÖçÂêà-rÈÄâÈ°πÂ∞Ü/var/log/ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÂÜÖÂÆπÂ§çÂà∂Âà∞/tempÁõÆÂΩï‰∏ãroot@ubuntu:/temp# cp -ar /var/log/ .root@ubuntu:/temp# lsbashrc log wtmp wtmp1root@ubuntu:/temp# ls logXorg.0.log auth.log dmesg gpu-manager.log lightdm ... #Âª∫Á´ã‰∏Ä‰∏™bashrcÊñá‰ª∂ÁöÑËøûÁªìÊ°£ (symbolic link)root@ubuntu:/temp# cp -s bashrc bashrc_slinkroot@ubuntu:/temp# cp -l bashrc bashrc_hlinkroot@ubuntu:/temp# ls -ltotal 36-rw-r--r-- 2 root root 3106 Apr 11 19:04 bashrc-rw-r--r-- 2 root root 3106 Apr 11 19:04 bashrc_hlinklrwxrwxrwx 1 root root 6 Apr 11 19:24 bashrc_slink -&gt; bashrc...ÊúÄÂêé‰∏Ä‰∏™‰æãÂ≠ê‰∏≠Ôºå‰ΩøÁî® -l Âèä -s ÈÉΩ‰ºöÂª∫Á´ãÊâÄË∞ìÁöÑËøûÁªìÊ°£(link file)Ôºå‰ΩÜÊòØËøô‰∏§ÁßçËøûÁªìÊ°£Âç¥Êúâ‰∏ç‰∏ÄÊ†∑ÁöÑÊÉÖÂÜµ„ÄÇÈÇ£‰∏™ -l Â∞±ÊòØÊâÄË∞ìÁöÑÂÆû‰ΩìÈìæÊé•(hard link)ÔºåËá≥‰∫é -s ÂàôÊòØÁ¨¶Âè∑ÈìæÊé•(symbolic link)Ôºå ÁÆÄÂçïÊù•ËØ¥Ôºåbashrc_slink ÊòØ‰∏Ä‰∏™„ÄéÂø´Êç∑ÊñπÂºè„ÄèÔºåËøô‰∏™Âø´Êç∑ÊñπÂºè‰ºöËøûÁªìÂà∞ bashrc Âéª„ÄÇÊâÄ‰ª•‰Ω†‰ºöÁúãÂà∞Ê°£ÂêçÂè≥‰æß‰ºöÊúâ‰∏™ÊåáÂêë(-&gt;)ÁöÑÁ¨¶Âè∑„ÄÇbashrc_hlink Êñá‰ª∂‰∏é bashrc ÁöÑÂ±ûÊÄß‰∏éÊùÉÈôêÂÆåÂÖ®‰∏ÄÊ®°‰∏ÄÊ†∑Ôºå‰∏éÂ∞öÊú™ËøõË°åËøûÁªìÂâçÁöÑÂ∑ÆÂºÇÂàôÊòØÁ¨¨‰∫åÊ†èÁöÑ link Êï∞Áî± 1 ÂèòÊàê 2„ÄÇrmÔºàremoveÔºâÁßªÈô§Êñá‰ª∂ÊàñÁõÆÂΩïÔºöËØ≠Ê≥ïÔºö12345rm [-fir] Êñá‰ª∂ÊàñÁõÆÂΩïÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-f ÔºöÂ∞±ÊòØ force ÁöÑÊÑèÊÄùÔºåÂøΩÁï•‰∏çÂ≠òÂú®ÁöÑÊñá‰ª∂Ôºå‰∏ç‰ºöÂá∫Áé∞Ë≠¶ÂëäËÆØÊÅØÔºõ-i Ôºö‰∫íÂä®Ê®°ÂºèÔºåÂú®Âà†Èô§Ââç‰ºöËØ¢ÈóÆ‰ΩøÁî®ËÄÖÊòØÂê¶Âä®‰Ωú-r ÔºöÈÄíÂΩíÂà†Èô§ÔºåËøôÊòØÈùûÂ∏∏Âç±Èô©ÁöÑÈÄâÈ°πÔºÅÔºÅÁ§∫‰æãÔºö12345678910111213141516171819202122232425#Âà†Èô§/tempÁõÆÂΩï‰∏ãÁöÑbashrcÊñá‰ª∂root@ubuntu:/temp# rm -i bashrcrm: remove regular file 'bashrc'? y #Âà†Èô§/temp/logÁõÆÂΩïroot@ubuntu:/temp# rmdir logrmdir: failed to remove 'log': Directory not empty#ÈùûÁ©∫ÁõÆÂΩïÔºå‰ΩøÁî®rm -rÂëΩ‰ª§ÈÄíÂΩíÂà†Èô§ÔºåÊó†ÈúÄËØ¢ÈóÆÁöÑËØùÂéªÊéâ-iÈÄâÈ°πÂç≥ÂèØroot@ubuntu:/temp# rm -ri logrm: descend into directory 'log'? yrm: descend into directory 'log/vmware'? yrm: remove regular file 'log/vmware/rc.local.log'? ^C #Âà†Èô§‰∏Ä‰∏™Â∏¶Êúâ - ÂºÄÂ§¥ÁöÑÊñá‰ª∂root@ubuntu:/temp# touch ./-aaa-root@ubuntu:/temp# ls-aaa- bashrc_hlink bashrc_slink log wtmp wtmp1root@ubuntu:/temp# rm -aaa-rm: invalid option -- 'a'Try 'rm ./-aaa-' to remove the file '-aaa-'. &lt;== bashÁªôÁöÑÂª∫ËÆÆTry 'rm --help' for more information.#Âõ†‰∏∫-ÊòØÈÄâÈ°πÁöÑÊÑèÊÄùÔºåÁ≥ªÁªüËØØÂà§Ôºå‰ΩøÁî®ËΩ¨‰πâÁ¨¶Ëß£ÂÜ≥Ôºöroot@ubuntu:/temp# rm ./-aaa-root@ubuntu:/temp# lsbashrc_hlink bashrc_slink log wtmp wtmp1ÊúÄÂêé‰∏Ä‰∏™‰æãÂ≠ê‰∏≠Ôºå‰ΩøÁî®ÂëΩ‰ª§rm -- -aaa-‰πüÂèØ‰ª•Âà†Èô§-aaa-Êñá‰ª∂„ÄÇmvÔºàmoveÔºâÁßªÂä®Êñá‰ª∂‰∏éÁõÆÂΩïÔºåÊàñÈáçÂëΩÂêçÔºöËØ≠Ê≥ïÔºö123456mv [-fiu] source destinationmv [options] source1 source2 source3 .... directoryÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö-f Ôºöforce Âº∫Âà∂ÁöÑÊÑèÊÄùÔºåÂ¶ÇÊûúÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®Ôºå‰∏ç‰ºöËØ¢ÈóÆËÄåÁõ¥Êé•Ë¶ÜÁõñÔºõ-i ÔºöËã•ÁõÆÊ†áÊñá‰ª∂ (destination) Â∑≤ÁªèÂ≠òÂú®Êó∂ÔºåÂ∞±‰ºöËØ¢ÈóÆÊòØÂê¶Ë¶ÜÁõñÔºÅ-u ÔºöËã•ÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®Ôºå‰∏î source ÊØîËæÉÊñ∞ÔºåÊâç‰ºöÊõ¥Êñ∞ (update)Á§∫‰æãÔºö1234567891011121314151617#Âú®/temp‰∏ãÊñ∞Âª∫ÁõÆÂΩïtmpÔºåÁÑ∂ÂêéÂ∞ÜbashrcÊñá‰ª∂ÁßªÂä®Âà∞ËØ•ÁõÆÂΩï‰∏ãroot@ubuntu:/temp# mkdir tmproot@ubuntu:/temp# mv bashrc tmproot@ubuntu:/temp# lsbashrc_hlink bashrc_slink log tmp wtmp wtmp1root@ubuntu:/temp# ls tmpbashrc #Â∞ÜÁõÆÂΩïtmpÈáçÂëΩÂêç‰∏∫tmp1root@ubuntu:/temp# mv tmp tmp1root@ubuntu:/temp# lsbashrc_hlink bashrc_slink log tmp1 wtmp wtmp1 #Â∞ÜlogÁõÆÂΩï‰∏ãÁöÑwtmpÂíåvmwareÊñá‰ª∂‰∏ÄËµ∑ÁßªÂä®Âà∞tmp1ÁõÆÂΩï‰∏ãroot@ubuntu:/temp# mv log/wtmp log/vmware tmp1root@ubuntu:/temp# ls tmp1bashrc vmware wtmpÊü•ÁúãÊñá‰ª∂Á±ªÂûãÂ¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÁü•ÈÅìÊüê‰∏™Êñá‰ª∂ÁöÑÂü∫Êú¨Êï∞ÊçÆÔºå‰æãÂ¶ÇÊòØÂ±û‰∫éASCII ÊàñËÄÖÊòØdata Êñá‰ª∂ÔºåÊàñËÄÖÊòØ binaryÁ≠âÔºåÂèØ‰ª•Âà©Áî® file Ëøô‰∏™Êåá‰ª§Êù•Êü•ÁúãÔºö1234567mrbird@ubuntu:/temp$ file bashrc_hlink bashrc_hlink: ASCII textmrbird@ubuntu:/temp$ file wtmpwtmp: datamrbird@ubuntu:/temp$ file /usr/bin/passwd /usr/bin/passwd: setuid ELF 64-bit LSB shared object, x86-64, version 1 (SYSV),dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=40a9016718f4247f09acc62e1bbf056372bf31f5, stripped„ÄäÈ∏üÂì•ÁöÑLinuxÁßÅÊàøËèú„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS‰ºòÂÖàÁ∫ßËßÑÂàô]]></title>
    <url>%2FCSS%E4%BC%98%E5%85%88%E7%BA%A7%E8%A7%84%E5%88%99.html</url>
    <content type="text"><![CDATA[ÁâπÊÆäÊÄßÂ¶ÇÊûú‰∏Ä‰∏™ÂÖÉÁ¥†Êúâ‰∏§‰∏™‰ª•‰∏äÂÜ≤Á™ÅÁöÑÂ±ûÊÄßÂ£∞ÊòéÔºåÈÇ£‰πàÁâπÊÆäÊÄßÔºàspecificityÔºâÈ´òÁöÑÂ£∞ÊòéÂ∞Ü‰ºöËÉúÂá∫„ÄÇÁâπÊÆäÊÄßÁöÑÂÄºË°®Ëø∞‰∏∫Âõõ‰∏™ÈÉ®ÂàÜÔºåÂ¶Ç0,0,0,0ÔºåÂÖ∑‰ΩìËßÑÂàôÔºö1.ÈÄâÊã©Âô®‰∏≠ÁªôÂÆöÁöÑÂêÑ‰∏™IDÂ±ûÊÄßÂÄºÔºåÂä†0,1,0,0„ÄÇ2.ÈÄâÊã©Âô®‰∏≠ÁªôÂÆöÁöÑÂêÑ‰∏™Á±ªÂ±ûÂûãÂÄºÔºåÂ±ûÊÄßÈÄâÊã©Âíå‰º™Á±ªÔºåÂä†0,0,1,0„ÄÇ3.ÈÄâÊã©Âô®‰∏≠ÁªôÂÆöÁöÑÂêÑ‰∏™ÂÖÉÁ¥†Âíå‰º™ÂÖÉÁ¥†ÔºåÂä†0,0,0,1„ÄÇ4.ÈÄöÈÖçÁ¨¶ÂØπÁâπÊÆäÊÄßÊ≤°Êúâ‰ªª‰ΩïË¥°ÁåÆÔºåÂä†0,0,0,0„ÄÇÊØîÂ¶ÇÔºö1234567h1 &#123;color: red;&#125; /* specificity = 0,0,0,1 */p em &#123;color: purple;&#125; /* specificity = 0,0,0,2 */*.grape &#123;color: purple;&#125; /* specificity = 0,0,1,0 */.bright &#123;color: purple;&#125; /* specificity = 0,0,0,1 */p.bright em.dark &#123;color: maroon;&#125; /* specificity = 0,0,2,2 */#drop-down &#123;color: green;&#125; /* specificity = 0,1,0,0 */div#sidebar *[href] &#123;color: black;&#125; /* specificity = 0,1,1,1 */ÁâπÊÆäÊÄßÂ§ßÂ∞èÁöÑÊØîËæÉËßÑÂàô‰∏∫‰ªéÂ∑¶Âà∞Âè≥ÔºåÊï∞ÂÄºÂ§ßÁöÑË∂äÂ§ß„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåËÄÉËôëÊúâÂ¶Ç‰∏ãËßÑÂàôÁöÑhtmlÔºö12345678910111213&lt;style&gt; h1 + p &#123;color: black; font-style: italic&#125; /* specificity = 0,0,0,2 */ p &#123;color: gray; background: white; font-style: normal&#125; /* specificity = 0,0,0,1 */ *.aside &#123;color: black; background: silver&#125; /* specificity = 0,0,1,0 */&lt;/style&gt;&lt;body&gt; &lt;h1&gt;Greeting!&lt;/h1&gt; &lt;p class="aside"&gt;It's a fine way to start a day.&lt;/p&gt; &lt;p&gt;There are many ways to greet a man.&lt;/p&gt; &lt;h1&gt;Salutations&lt;/h1&gt; &lt;p&gt;There is nothing finer than a hearty welcome from ...&lt;/p&gt; &lt;p class="aside"&gt;Although a thick and juicy hamburger with...&lt;/p&gt;&lt;/body&gt;ÊúÄÁªàÊòæÁ§∫Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂÜÖËÅîÊ†∑ÂºèÁâπÊÆäÊÄßÁâπÊÆäÊÄßÂÄºÁöÑÁ¨¨‰∏Ä‰ΩçÊòØ‰∏∫ÂÜÖËÅîÊ†∑Âºè‰øùÁïôÁöÑÔºåÊØè‰∏™ÂÜÖËÅîÊ†∑ÂºèÁöÑÁâπÊÆäÊÄßÈÉΩ‰∏∫1,0,0,0ÔºåÊØîÂ¶Ç‰∏ãÈù¢ÁöÑh1ÂÖÉÁ¥†Â∞ÜÊòæÁ§∫‰∏∫ÁªøËâ≤Ôºö12h1#meadow &#123;color: red&#125;&lt;h1 id="meadow" style="color: green;"&gt;The title&lt;/h1&gt;ÈáçË¶ÅÊÄßÂØπ‰∫éÊüê‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÂ£∞ÊòéÔºåÂèØ‰ª•Âú®Ëøô‰∫õÂ£∞ÊòéÁöÑÁªìÊùüÂàÜÂè∑ÂâçÊèíÂÖ•!important„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÈùûÈáçË¶ÅÂ£∞ÊòéÂíåÈáçË¶ÅÂ£∞ÊòéÂÜ≤Á™ÅÔºåËÉúÂá∫ÁöÑÊÄªÊòØÈáçË¶ÅÂ£∞Êòé„ÄÇÂ¶ÇÔºö1234567&lt;style&gt; h1 &#123;color: green !important;&#125; h1.title &#123;color: red&#125;&lt;/style&gt;&lt;body&gt; &lt;h1 class="title"&gt;Greeting!&lt;/h1&gt;&lt;/body&gt;ÊúÄÁªàh1‰∏∫ÁªøËâ≤„ÄÇÁªßÊâøÂØπ‰∫éÁªßÊâøÁöÑÂÄºÊ≤°ÊúâÁâπÊÆäÊÄßÔºåËÄåÈùû0ÁâπÊÆäÊÄß„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö12345678&lt;style&gt; * &#123;color: lightcoral&#125; h1.title &#123;color: black&#125;&lt;/style&gt;&lt;body&gt; &lt;h1 class="title"&gt;Meerkat &lt;em&gt;Central&lt;/em&gt;&lt;/h1&gt; &lt;p&gt;Welcome to the best place on the web...&lt;/p&gt;&lt;/body&gt;ÊòæÁ§∫Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÁªìÊûúËØÅÊòé‰∫Ü0ÁâπÊÆäÊÄßÊØîÊó†ÁâπÊÆäÊÄßË¶ÅÂº∫„ÄÇÊåâÊùÉÈáçÂíåÊù•Ê∫êÊéíÂ∫è‰∏ÄËà¨Êù•ËØ¥ÔºåÊùÉÈáçÁî±Â§ßÂà∞Â∞èÁöÑÈ°∫Â∫è‰∏∫Ôºö1.ËØªËÄÖÁöÑÈáçË¶ÅÂ£∞Êòé„ÄÇ2.Âàõ‰Ωú‰∫∫ÂëòÁöÑÈáçË¶ÅÂ£∞Êòé„ÄÇ3.Âàõ‰Ωú‰∫∫ÂëòÁöÑÊ≠£Â∏∏Â£∞Êòé„ÄÇ4.ËØªËÄÖÁöÑÊ≠£Â∏∏Â£∞Êòé„ÄÇ5.Áî®Êà∑‰ª£ÁêÜÂ£∞Êòé„ÄÇCSS‰∏≠ÁöÑÊ†∑Âºè‰∏ÄÂÖ±Êúâ‰∏âÁßçÊù•Ê∫êÔºöÂàõ‰Ωú‰∫∫Âëò„ÄÅËØªËÄÖÂíåÁî®Êà∑‰ª£ÁêÜ„ÄÇÂàõ‰Ωú‰∫∫ÂëòÔºàauthor‚Äôs+styleÔºâÊ†∑ÂºèÂ∫îËØ•ÊòØÊàë‰ª¨ÊúÄÁÜüÊÇâÁöÑÔºåÂ¶ÇÊûú‰Ω†ÊòØ‰∏Ä‰∏™ÂâçÁ´ØÂºÄÂèëËÄÖÔºåÈÇ£‰πà‰Ω†ÂÜôÁöÑÈÇ£‰∫õÊ†∑ÂºèÂ∞±Âè´ÂÅöÂàõ‰Ωú‰∫∫ÂëòÊ†∑Âºè„ÄÇÁî®Êà∑‰ª£ÁêÜÊ†∑ÂºèÔºàagent‚Äôs+styleÔºâ„ÄÇÁî®Êà∑‰ª£ÁêÜ‰πüÂ∞±ÊòØÊàë‰ª¨ÈÄöÂ∏∏ÊâÄËØ¥ÁöÑÊµèËßàÂô®ÔºàIE„ÄÅFirefoxÁ≠âÁ≠âÔºâÔºåËøô‰∫õÊµèËßàÂô®‰ºöÊèê‰æõ‰∏Ä‰∫õÈªòËÆ§ÁöÑÊ†∑Âºè„ÄÇËØªËÄÖÊ†∑ÂºèÔºàreader‚Äôs+styleÔºâ„ÄÇÊâÄË∞ìËØªËÄÖËá™ÁÑ∂Â∞±ÊòØÊµèËßàÁΩëÈ°µÁöÑÁî®Êà∑ÔºåÊúâ‰∫õÊó∂ÂÄôËøô‰∫õÁî®Êà∑ÈáåÂèØËÉΩ‰ºöÊúâ‰∫∫‰∏çÊª°ÊÑèÁΩëÈ°µÁöÑÈÖçËâ≤ÔºåÊàñËÄÖÂ≠ó‰ΩìÂ§ßÂ∞èÔºåËøôÊó∂ÂÄô‰ªñ‰ª¨Â∞±ÊòØÈÄöËøáÊµèËßàÂô®Êèê‰æõÁöÑÊé•Âè£‰∏∫ÁΩëÁ´ôÊ∑ªÂä†ËØªËÄÖÊ†∑Âºè„ÄÇÊØîÂ¶ÇÔºö12p em &#123;color: black;&#125; /* author's style sheet*/ p em &#123;color: yellow;&#125; /* reader's style sheet*/Á¨¨‰∏ÄÊù°ËßÑÂàôÂ∞ÜËÉúÂá∫„ÄÇ12p em &#123;color: black !important;&#125; /* author's style sheet*/ p em &#123;color: yellow !important;&#125; /* reader's style sheet*/Á¨¨‰∫åÊù°ËßÑÂàôÂ∞ÜËÉúÂá∫„ÄÇ]]></content>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntu16.04Êê≠Âª∫JavaÂºÄÂèëÁéØÂ¢É]]></title>
    <url>%2Fubuntu16-04%E6%90%AD%E5%BB%BAJava%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html</url>
    <content type="text"><![CDATA[ÂÆâË£ÖJDKJDK1.8‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://pan.baidu.com/s/1qYPORRAÔºåJDKÂÆâË£ÖÊ≠•È™§Ôºö1.Â∞Ü‰∏ãËΩΩÁöÑÂåÖËß£ÂéãÂà∞/opt/jvmÔºö12sudo mkdir /opt/jvmsudo tar zxvf jdk-8u77-linux-x64.tar.gz -C /opt/jvmÂ¶ÇÊûúÊèêÁ§∫Â§±Ë¥•ÔºåÊòØÂõ†‰∏∫ÁõÆÂΩïÊùÉÈôê‰∏çË∂≥ÔºåÂèØ‰ª•‰ΩøÁî®chmodÊîπÂèòÊùÉÈôêÔºö1sudo chmod 777 /opt /opt/jvm2.ÈÖçÁΩÆjdkÁöÑÁéØÂ¢ÉÂèòÈáèÔºåÊâìÂºÄ /etc/profileÊñá‰ª∂Ôºàsudo vim /etc/profileÔºâÔºåÂú®Êñá‰ª∂Êú´Â∞æÊ∑ªÂä†‰∏ãËØ≠Âè•Ôºö1234export JAVA_HOME=/opt/jvm/jdk1.8.0_77export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/libexport PATH=$&#123;JAVA_HOME&#125;/bin:$PATHÁÇπÂáªEscÔºåËæìÂÖ•:wq‰øùÂ≠òÈÄÄÂá∫„ÄÇ3.‰ΩøÂÖ∂ÁîüÊïàÔºö1sudo source /etc/profileÂ¶ÇËã•ÊèêÁ§∫sudo: sourceÔºöÊâæ‰∏çÂà∞ÂëΩ‰ª§ÔºåÂèØ‰ª•ÂàáÊç¢‰∏∫rootÔºåÂÜçÊ¨°ÊâßË°åÔºåÊìç‰ΩúÂ¶Ç‰∏ãÔºö12sudo -s -Hsource /etc/profileÊ£ÄÊü•ÊòØÂê¶ÊàêÂäüÔºö1234mrbird@mrbird-xps13:~$ java -versionjava version "1.8.0_77"Java(TM) SE Runtime Environment (build 1.8.0_77-b03)Java HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)ÂÆâË£Öeclipseeclipse‰∏ãËΩΩÔºåÂÆòÁΩëÔºöhttps://www.eclipse.org/downloads/eclipse-packages/?osType=linux&amp;release=undefinedÔºåÊàñËÄÖÁôæÂ∫¶‰∫ëÔºöhttp://pan.baidu.com/s/1pKMmRR9„ÄÇeclipseÂÆâË£ÖÊ≠•È™§Ôºö1.‰∏ãËΩΩÂêéÂàáÊç¢Âà∞‰∏ãËΩΩÁõÆÂΩïÔºåÂ∞ÜÂÖ∂Ëß£ÂéãÂà∞/opt/Êñá‰ª∂Â§π‰∏≠Ôºö1sudo tar zxvf eclipse-jee-neon-3-linux-gtk-x86_64.tar.gz -C /opt2.ÁÑ∂ÂêéÂà∞/opt/eclipseÁõÆÂΩï‰∏ãÂèåÂáªeclipseÂç≥ÂèØÔºå‰∏∫‰∫ÜÊñπ‰æøÔºåÂª∫ËÆÆÂ∞ÜÂÖ∂ÈîÅÂÆöÂà∞ÂêØÂä®Âô®„ÄÇÂÆâË£ÖMySQL1.Âú®Ubuntu 16.04‰∏äÂÆâË£ÖMySQLÔºö1sudo apt-get install mysql-server mysql-client2.ÂÆâË£ÖËøáÁ®ã‰∏≠ÈúÄË¶Å‰Ω†ËæìÂÖ•MySQL ÁÆ°ÁêÜÂëòÁî®Êà∑ÔºàrootÔºâÂØÜÁ†Å „ÄÇ3.ËøêË°åMySQLÂàùÂßãÂåñÂÆâÂÖ®ËÑöÊú¨Ôºö1sudo mysql_secure_installation4.Ê†πÊçÆÊèêÁ§∫‰ø°ÊÅØËÆæÁΩÆÔºöÊõ¥ÊîπrootÂØÜÁ†Å„ÄÅÁßªÈô§MySQLÁöÑÂåøÂêçÁî®Êà∑„ÄÅÁ¶ÅÊ≠¢rootËøúÁ®ãÁôªÂΩï„ÄÅÂà†Èô§testÊï∞ÊçÆÂ∫ì„ÄÇÊ£ÄÊü•ÊòØÂê¶ÊàêÂäüÔºö123456789101112131415161718192021222324252627mrbird@mrbird-xps13:~$ mysql -u root -pEnter password: Welcome to the MySQL monitor. Commands end with ; or \g.Your MySQL connection id is 4Server version: 5.7.17-0ubuntu0.16.04.1 (Ubuntu) Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners. Type 'help;' or '\h' for help. Type '\c' to clear the current input statement. mysql&gt; show databases -&gt; ;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema || sys |+--------------------+4 rows in set (0.00 sec) mysql&gt;]]></content>
      <tags>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XPS13ÂÆâË£Öwin10 ubuntuÂèåÁ≥ªÁªü]]></title>
    <url>%2FXPS13%E5%AE%89%E8%A3%85win10-ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F.html</url>
    <content type="text"><![CDATA[ËøôÂá†Â§©Ë¢´ÂÆâË£ÖÂèåÁ≥ªÁªüÊäòËÖæÂæóÂ§üÂëõÔºåÊò®Â§©Áªà‰∫éÂÆâË£ÖÊàêÂäüÔºåÊâÄ‰ª•Êí∞ÂÜôÊ≠§Êñá‰ª•Â§áÂøò„ÄÇÂÆâË£ÖÂíåÂêØÂä®ÊñπÂºèÂùá‰∏∫UEFIÔºåËøõË°å‰ª•‰∏ãÊìç‰ΩúÊó∂ÂÖàËøõË°åÊï∞ÊçÆÂ§á‰ªΩÔºÅÂçö‰∏ªÁîµËÑë‰∏∫Dell XPS13 9350Ôºå‰∏çÂêåÁîµËÑëËøõÂÖ•BIOSÂø´Êç∑ÈîÆÂèØËÉΩ‰∏ç‰∏ÄÊ†∑ÔºåËØ∑Ëá™Ë°åÁôæÂ∫¶„ÄÇÂÆâË£Öwin10win10ÈÄâÊã©ÁöÑÊòØÂÆ∂Â∫≠‰∏≠ÊñáÁâà1607 64bitÔºåÂõ†‰∏∫Â∫èÂàóÂè∑ÊòØÁÉßÂú®‰∏ªÊùø‰∏äÁöÑÔºåÊâÄ‰ª•ÂÆâË£ÖÂÆåËÅîÁΩëÂ∞±Ëá™Âä®ÊøÄÊ¥ª‰∫ÜÔºåËÄå‰∏îÂØπ‰∫éÊàëÊù•ËØ¥ÂÆ∂Â∫≠ÁâàÂíå‰∏ì‰∏öÁâàÊ≤°ÊúâÂ§™Â§ßÂå∫Âà´‚Ä¶win10ÈïúÂÉèÊñá‰ª∂‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://pan.baidu.com/s/1dF3Q8IdÔºå‰∏ãËΩΩÂêéÁî®UltraISOÂ∞ÜÈïúÂÉèÊñá‰ª∂ÂàªÂΩïÂà∞UÁõòÈáåÔºö1.ÊâìÂºÄUltralISOÔºåÈÄâÊã©Êñá‰ª∂‚ÜíÊâìÂºÄÔºåÈÄâ‰∏≠‰∏ãËΩΩÂ•ΩÁöÑwin10ÈïúÂÉèÊñá‰ª∂Ôºö 2.ÈÄâÊã©ÂêØÂä®‚ÜíÂÜôÂÖ•Á°¨ÁõòÊò†ÂÉèÔºåÁ°¨ÁõòÈ©±Âä®Âô®ÈÄâÊã©ÊèíÂÖ•ÁöÑUÁõòÔºö3.ÁÇπÂáª‰æøÊç∑ÂêØÂä®‚ÜíÂÜôÂÖ•Êñ∞ÁöÑÈ©±Âä®Âô®ÂºïÂØºÊâáÂå∫‚ÜíWindows9xÔºåÂºπÂá∫Ê°ÜÔºö4.ÁÇπÂáªÁ°ÆÂÆöÔºåÁÑ∂ÂêéÁÇπÂáªÂÜôÂÖ•ÔºåÁ≠âÂæÖÂÜôÂÖ•ÂÆåÊØï„ÄÇÂÜôÂÖ•ÂÆåÊØïÂêéÈáçÂêØÁîµËÑëÔºåÂá∫Áé∞ÂìÅÁâåLogoÁöÑÊó∂ÂÄôÊåâF2ËøõÂ¶ÇBIOSËÆæÁΩÆÁïåÈù¢„ÄÇËøõË°åÂ¶Ç‰∏ãËÆæÁΩÆÔºö‚Ä¢ Â∞ÜSecurity Boot ËÆæÁΩÆ‰∏∫Disabled‚Ä¢ ÂêØÂä®ÊñπÂºèËÆæÁΩÆ‰∏∫UEFI‰øùÂ≠òËÆæÁΩÆÈáçÂêØÁîµËÑëÔºåÂá∫Áé∞ÂìÅÁâåLogoÁöÑÊó∂ÂÄôÊåâF12ËøõÂÖ•ÂêØÂä®ÈÄâÊã©ÁïåÈù¢ÔºåÁÑ∂ÂêéÈÄâÊã©UEFIÊ®°Âºè‰∏ãÁöÑUÁõòÈÄâÈ°πÔºåÊé•‰∏ãÊù•Ê†πÊçÆÊèêÁ§∫Êìç‰ΩúÂç≥ÂèØ„ÄÇÂÆâË£ÖÈÄî‰∏≠ÔºåÂèØËÉΩÂá∫Áé∞Êó†Ê≥ïÂ∞ÜwindowsÂÆâË£ÖÂà∞Á£ÅÁõò0ÁöÑÂàÜÂå∫1ÈîôËØØÊèêÁ§∫ÔºåËß£ÂÜ≥ÂäûÊ≥ï‰∏∫ÔºöÊåâ‰Ωè‚Äúshift+f10‚ÄùÔºåÂëºÂá∫‚Äúcmd‚ÄùÂëΩ‰ª§Á¨¶ËæìÂÖ•Â¶Ç‰∏ãÂëΩ‰ª§Ôºö1234567diskpart //ÂõûËΩ¶ÊâßË°åÔºåËøõÂÖ•diskpartÂëΩ‰ª§Ê®°Âºèlist disk //ÂõûËΩ¶ÊâßË°åÔºåÊòæÁ§∫Á£ÅÁõò‰ø°ÊÅØselect disk 0 //ÂõûËΩ¶ÊâßË°åÔºåÈÄâÊã©Á¨¨0‰∏™Á£ÅÁõòÔºàÁîµËÑëÁöÑÁ°¨ÁõòÁºñÂè∑ÊòØ‰ªé0ÂºÄÂßãÁöÑÔºâclean //ÂõûËΩ¶ÊâßË°åÔºåÂà†Èô§Á£ÅÁõòÂàÜÂå∫&amp;Ê†ºÂºèÂåñÔºàÊâÄ‰ª•ËØ¥Ë¶ÅÂÅöÂ•ΩÂ§á‰ªΩÔºÅÔºâconvert mbr //ÂõûËΩ¶ÊâßË°åÔºåÂ∞ÜÂΩìÂâçÁ£ÅÁõòÂàÜÂå∫ËÆæÁΩÆ‰∏∫mbrÂΩ¢Âºèconvert gpt //ÂõûËΩ¶ÊâßË°åÔºåÂ∞ÜÂ∞ÜÂΩìÂâçÁ£ÅÁõòÂàÜÂå∫ËÆæÁΩÆ‰∏∫gptÂΩ¢Âºèexit //ÂõûËΩ¶ÊâßË°åÔºåÈÄÄÂá∫Âà∑Êñ∞Á£ÅÁõòÔºåÂç≥ÂèØÁªßÁª≠ÂÆâË£Ö„ÄÇÂÆâË£ÖUbuntu16.04ÈïúÂÉèÊñá‰ª∂Âú®ubuntuÂÆòÁΩë‰∏ãËΩΩÔºöhttps://www.ubuntu.com/download/desktop„ÄÇÂÆâË£ÖÂâçÔºåÂÖàÂú®win10‰∏ãÂéãÁº©Âá∫100GBÁöÑÁ£ÅÁõòÁ©∫Èó¥ÔºàÊàëÁöÑÁ£ÅÁõòÂ§ßÂ∞è‰∏∫256GBÔºåÊâÄ‰ª•ÂàÜ100GBÁªôubuntuÔºå‰øùÊåÅÊú™ÂàÜÈÖçÁä∂ÊÄÅÔºâ„ÄÇÂêåÊ†∑‰ΩøÁî®UltralISOÂ∞ÜubuntuÈïúÂÉèÊñá‰ª∂ÂàªÂΩïËøõUÁõòÈáåÔºàUÁõòÂÖàÊ†ºÂºèÂåñ‰∏∫FAT32Ê®°ÂºèÔºåÁÑ∂ÂêéÂàªÂΩïÊó∂ÂÜôÂÖ•Êñ∞ÁöÑÈ©±Âä®Âô®ÂºïÂØºÊâáÂå∫‰∏∫syslinuxÔºâ„ÄÇÂàªÂΩïÂÆåÈáçÂêØÁîµËÑëÔºåÂá∫Áé∞ÂìÅÁâåLogoÁöÑÊó∂ÂÄôÊåâF12ËøõÂÖ•ÂêØÂä®ÈÄâÊã©ÁïåÈù¢ÔºåÈÄâÊã©UEFIÊ®°Âºè‰∏ãÁöÑUÁõòÈÄâÈ°πÔºåÁÑ∂ÂêéInstall ubuntu„ÄÇÂÆâË£ÖËøáÁ®ã‰∏≠‰∏çË¶ÅÈÄâÊã©‚Äú‰∏éÂÖ∂ÂÆÉÁ≥ªÁªüÂÖ±Â≠ò‚ÄùÈÇ£‰∏ÄÈ°πÔºåËÄåÈÄâÊã©ÊúÄÂêéÈÇ£‰∏™‚ÄúÂÖ∂ÂÆÉÈÄâÈ°πÔºàÂàõÂª∫Ëá™Â∑±ÁöÑÂàÜÂå∫Ôºâ‚ÄùÔºåÁÑ∂ÂêéÈÄâÊã©Á©∫Èó≤ÂàÜÂå∫ÔºàÂ∞±ÊòØÂàöÂàöÂàÜÂá∫Êù•ÁöÑ100GBÔºâÔºå‰∏ãÈù¢‰æùÊ¨°ÁÇπÂáªÊñ∞Âª∫ÂàÜÂå∫Ë°®Êù•ÊåÇËΩΩÂàÜÂå∫Ôºö1.Êñ∞Âª∫efiÁ≥ªÁªüÂàÜÂå∫ÔºåÈÄâ‰∏≠ÈÄªËæëÂàÜÂå∫ÂíåÁ©∫Èó¥Ëµ∑Âßã‰ΩçÁΩÆÔºåÂàÜÈÖç512MB„ÄÇ2.ÊåÇËΩΩ‚Äú/home‚ÄùÔºåÁ±ªÂûã‰∏∫EXT4Êó•ÂøóÊñá‰ª∂Á≥ªÁªüÔºåÈÄâ‰∏≠ÈÄªËæëÂàÜÂå∫ÂíåÁ©∫Èó¥Ëµ∑Âßã‰ΩçÁΩÆÔºåÂàÜÈÖç20GB„ÄÇ3.ÊåÇËΩΩ‚Äú/usr‚ÄùÔºåÁ±ªÂûã‰∏∫EXT4Êó•ÂøóÊñá‰ª∂Á≥ªÁªüÔºåÈÄâ‰∏≠ÈÄªËæëÂàÜÂå∫ÂíåÁ©∫Èó¥Ëµ∑Âßã‰ΩçÁΩÆÔºåÂàÜÈÖç45GB„ÄÇ4.ÊåÇËΩΩ‚Äú/‚ÄùÔºåÁ±ªÂûã‰∏∫EXT4Êó•ÂøóÊñá‰ª∂Á≥ªÁªüÔºåÈÄâ‰∏≠ÈÄªËæëÂàÜÂå∫ÂíåÁ©∫Èó¥Ëµ∑Âßã‰ΩçÁΩÆÔºåÂàÜÈÖç20GB„ÄÇ5.swap‰∫§Êç¢Á©∫Èó¥ÔºåËøô‰∏™‰πüÂ∞±ÊòØËôöÊãüÂÜÖÂ≠òÁöÑÂú∞ÊñπÔºåÈÄâÊã©‰∏ªÂàÜÂå∫ÂíåÁ©∫Èó¥Ëµ∑Âßã‰ΩçÁΩÆÔºåÂâ©‰∏ãÁöÑÂÜÖÂ≠òÈÉΩÂàÜÈÖçÁªôÂÆÉ„ÄÇÂàÜÈÖçÂ•ΩÂêÑ‰∏™ÊåÇËΩΩÁÇπÂêéÔºåÈÄâÊã©‚ÄúÂÆâË£ÖÂºïÂØºÂêØÂä®Âô®ÁöÑËÆæÂ§á‚ÄùÔºåÈÄâÊã©Á¨¨‰∏ÄÊ≠•ÂàõÂª∫ÁöÑefiÁ≥ªÁªüÂàÜÂå∫ÔºÅÔºÅÔºÅÔºÅÔºÅÂÆâË£ÖÊàêÂäüÂêéÔºåÊãîÊéâUÁõòÂπ∂‰∏îÈáçÂêØÔºåÂá∫Áé∞ÂìÅÁâåLogoÁöÑÊó∂ÂÄôÊåâF2ËøõÂ¶ÇBIOSËÆæÁΩÆÁïåÈù¢ÂºÄÂêØSecure BootÔºå‰øùÂ≠òÈÄÄÂá∫ÂêØÂä®ÁîµËÑëÂ∞±ÂèØ‰ª•ÁúãÂà∞Á≥ªÁªüÈÄâÊã©ÁïåÈù¢‰∫Ü„ÄÇÊúÄÂêéË¥¥‰∏§Âº†ÂÆâË£ÖÂ•ΩÂêéÁöÑÁ≥ªÁªüÊà™ÂõæÔºöwin10ubuntuÔºö]]></content>
      <tags>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LinuxÊñá‰ª∂ÊùÉÈôê]]></title>
    <url>%2FLinux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90.html</url>
    <content type="text"><![CDATA[Linux ÊúÄ‰ºòÁßÄÁöÑÂú∞Êñπ‰πã‰∏ÄÂ∞±Âú®‰∫é‰ªñÁöÑÂ§ö‰∫∫Â§ö‰ªªÂä°ÁéØÂ¢É„ÄÇËÄå‰∏∫‰∫ÜËÆ©ÂêÑ‰∏™‰ΩøÁî®ËÄÖÂÖ∑ÊúâËæÉ‰øùÂØÜÁöÑÊñá‰ª∂Êï∞ÔºåÂõ†Ê≠§Êñá‰ª∂ÁöÑÊùÉÈôêÁÆ°ÁêÜÂ∞±ÂèòÂæóÂæàÈáçË¶Å‰∫Ü„ÄÇLinux‰∏ÄËà¨Â∞ÜÊñá‰ª∂ÂèØÂ≠òÂèñÁöÑË∫´‰ªΩÂàÜ‰∏∫‰∏â‰∏™Á±ªÂà´Ôºöowner/group/othersÔºå‰∏î‰∏âÁßçË∫´‰ªΩÂêÑÊúâread/write/executeÁ≠âÊùÉÈôê„ÄÇÊñá‰ª∂Â±ûÊÄß‰ΩøÁî®lsÂëΩ‰ª§Êü•ÁúãÂΩìÂâçÁõÆÂΩï‰∏ãÊñá‰ª∂ÁöÑÂ±ûÊÄßÔºö12345678910111213mrbird@mrbird-xps13:~$ ls -alhÊÄªÁî®Èáè 196Kdrwxr-xr-x 32 mrbird mrbird 4.0K 3Êúà 26 11:34 .drwxr-xr-x 4 root root 4.0K 3Êúà 25 03:31 ..drwxrwxr-x 4 mrbird mrbird 4.0K 3Êúà 26 10:58 .audacity-data-rw------- 1 mrbird mrbird 5.5K 3Êúà 26 11:18 .bash_history-rw-r--r-- 1 mrbird mrbird 220 3Êúà 25 03:31 .bash_logout-rw-r--r-- 1 mrbird mrbird 3.7K 3Êúà 25 03:31 .bashrcdrwx------ 25 mrbird mrbird 4.0K 3Êúà 26 11:34 .cachedrwx------ 30 mrbird mrbird 4.0K 3Êúà 26 10:51 .configdrwxrwxr-x 4 mrbird mrbird 4.0K 3Êúà 25 20:19 .cxofficedrwx------ 3 mrbird mrbird 4.0K 3Êúà 25 11:35 .dbus...Êñá‰ª∂Â±ûÊÄßÂàÜ‰∏∫7‰∏™ÈÉ®ÂàÜÔºå‰ªéÂ∑¶Âà∞Âè≥‰æùÊ¨°ÊòØÔºöÊñá‰ª∂Á±ªÂûãÂíåÊùÉÈôêÔºåËøûÊé•Êï∞ÔºåÊã•ÊúâËÄÖÔºåÁæ§ÁªÑÔºåÊñá‰ª∂ÂÆπÈáèÔºå‰øÆÊîπÊó•ÊúüÂíåÊñá‰ª∂Âêç„ÄÇ1.Êñá‰ª∂ÁöÑÁ±ªÂûã‰∏éÊùÉÈôêÔºàpermissionÔºâÔºöÂ¶ÇÔºödrwxrwxr-xÊàë‰ª¨ÊãÜÂàÜ‰∏∫d rwx rwx r-x Âõõ‰∏™ÈÉ®ÂàÜÔºåÁ¨¨‰∏ÄÈÉ®ÂàÜ‰ª£Ë°®Êñá‰ª∂Á±ªÂûãÔºåÁ±ªÂûãÊúâÔºö‚Ä¢ ÂΩì‰∏∫[ d ]ÂàôÊòØÁõÆÂΩïÔºå‰æãÂ¶Ç‰∏äÈù¢Êñá‰ª∂Âêç‰∏∫„Äé.config„ÄèÁöÑÈÇ£‰∏ÄË°å„ÄÇ‚Ä¢ ÂΩì‰∏∫[ - ]ÂàôÊòØÊñá‰ª∂Ôºå‰æãÂ¶Ç‰∏äË°®Ê°£Âêç‰∏∫„Äé.bash_history„ÄèÈÇ£‰∏ÄË°å„ÄÇ‚Ä¢ Ëã•ÊòØ[ l ]ÂàôË°®Á§∫‰∏∫ËøûÁªìÊ°£Ôºàlink fileÔºâ„ÄÇ‚Ä¢ Ëã•ÊòØ[ b ]ÂàôË°®Á§∫‰∏∫Ë£ÖÁΩÆÊñá‰ª∂ÈáåÈù¢ÁöÑÂèØ‰æõÂÇ®Â≠òÁöÑÊé•Âè£ËÆæÂ§áÔºàÂèØÈöèÊú∫Â≠òÂèñË£ÖÁΩÆÔºâ„ÄÇ‚Ä¢ Ëã•ÊòØ[ c ]ÂàôË°®Á§∫‰∏∫Ë£ÖÁΩÆÊñá‰ª∂ÈáåÈù¢ÁöÑ‰∏≤Ë°åÁ´ØÂè£ËÆæÂ§áÔºå‰æãÂ¶ÇÈîÆÁõò„ÄÅÈº†Ê†áÔºà‰∏ÄÊ¨°ÊÄßËØªÂèñË£ÖÁΩÆÔºâ„ÄÇÂâ©‰ΩôÁöÑ‰∏â‰∏™ÈÉ®ÂàÜÂàÜÂà´Ë°®Á§∫Êñá‰ª∂Êã•ÊúâËÄÖÂèØÂÖ∑Â§áÁöÑÊùÉÈôêÔºåÂä†ÂÖ•Ê≠§Áæ§ÁªÑË¥¶Âè∑ÁöÑÊùÉÈôêÂíåÈùûÊú¨‰∫∫‰∏îÊ≤°ÊúâÂä†ÂÖ•Êú¨Áæ§ÁªÑ‰πãÂÖ∂‰ªñË¥¶Âè∑ÁöÑÊùÉÈôê„ÄÇÂÖ∂‰∏≠rwxÂàÜÂà´Ë°®Á§∫Ôºö[ r ]‰ª£Ë°®ÂèØËØªÔºàreadÔºâ„ÄÅ[ w ]‰ª£Ë°® ÂèØÂÜôÔºàwriteÔºâ„ÄÅ[ x ]‰ª£Ë°®ÂèØÊâßË°åÔºàexecuteÔºâ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊùÉÈôêÔºåÂ∞±Áî®ÂáèÂè∑[ - ]Ë°®Á§∫„ÄÇ2.ËøûÊé•Êï∞Ôºài-nodeÔºâÔºöÊØè‰∏™Êñá‰ª∂ÈÉΩ‰ºöÂ∞Ü‰ªñÁöÑÊùÉÈôê‰∏éÂ±ûÊÄßËÆ∞ÂΩïÂà∞Êñá‰ª∂Á≥ªÁªüÁöÑ i-node ‰∏≠Ôºå‰∏çËøáÊàë‰ª¨‰ΩøÁî®ÁöÑÁõÆÂΩïÊ†ëÂç¥ÊòØ‰ΩøÁî®Êñá‰ª∂ÂêçÊù•ËÆ∞ÂΩïÔºåÂõ†Ê≠§ÊØè‰∏™Ê°£ÂêçÂ∞±‰ºöËøûÁªìÂà∞‰∏Ä‰∏™ i-node„ÄÇËøô‰∏™Â±ûÊÄßËÆ∞ÂΩïÁöÑÂ∞±ÊòØÊúâÂ§öÂ∞ë‰∏çÂêåÁöÑÊ°£ÂêçËøûÁªìÂà∞Áõ∏ÂêåÁöÑ‰∏Ä‰∏™ i-node Âè∑Á†Å‰∫Ü„ÄÇ3.Êã•ÊúâËÄÖÔºöË°®Á§∫Ëøô‰∏™Êñá‰ª∂(ÊàñÁõÆÂΩï)ÁöÑ„ÄéÊã•ÊúâËÄÖË¥¶Âè∑„Äè„ÄÇ4.Áæ§ÁªÑÔºöÂú® Linux Á≥ªÁªü‰∏ãÔºå‰Ω†ÁöÑË¥¶Âè∑‰ºöÂä†ÂÖ•‰∫é‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁöÑÁæ§ÁªÑ‰∏≠„ÄÇ‰æãÂ¶Çp1Ôºåp2Ôºåp3ÂùáÂ±û‰∫é people Ëøô‰∏™Áæ§ÁªÑÔºåÂÅáËÆæÊüê‰∏™Êñá‰ª∂ÊâÄÂ±ûÁöÑÁæ§ÁªÑ‰∏∫ peopleÔºå‰∏îËØ•Êñá‰ª∂ÁöÑÊùÉÈôê‰∏∫Ôºà-rwxrwx---ÔºâÔºåÂàôp1Ôºåp2Ôºåp3‰∏â‰∫∫ÂØπ‰∫éËØ•Êñá‰ª∂ÈÉΩÂÖ∑ÊúâÂèØËØª„ÄÅÂèØÂÜô„ÄÅÂèØÊâßË°åÁöÑÊùÉÈôêÔºàÁúãÁæ§ÁªÑÊùÉÈôêÔºâ„ÄÇ ‰ΩÜÂ¶ÇÊûúÊòØ‰∏çÂ±û‰∫épeopleÁæ§ÁªÑÁöÑÂÖ∂‰ªñË¥¶Âè∑ÔºåÂØπ‰∫éÊ≠§Êñá‰ª∂Â∞±‰∏çÂÖ∑Êúâ‰ªª‰ΩïÊùÉÈôê‰∫Ü„ÄÇ5.Êñá‰ª∂ÂÆπÈáèÔºö‰ª£Ë°®Êñá‰ª∂ÁöÑÂÆπÈáèÂ§ßÂ∞èÔºåÈªòËÆ§Âçï‰Ωç‰∏∫ bytes„ÄÇ6.‰øÆÊîπÊó•ÊúüÔºö‰ª£Ë°®Êñá‰ª∂ÂàõÂª∫ÊàñÊúÄÂêé‰øÆÊîπÁöÑÊó•Êúü„ÄÇ7.Êñá‰ª∂ÂêçÔºöÂ¶ÇÊûú‰∏∫ÈöêËóèÊñá‰ª∂ÔºåÂàô‰ª•.ÂºÄÂ§¥„ÄÇÊõ¥ÊîπÊñá‰ª∂Â±ûÊÄßÂíåÊùÉÈôêÊ∂âÂèäÁöÑÊåá‰ª§ÔºöchgrpÔºöÊîπÂèòÊñá‰ª∂ÊâÄÂ±ûÁæ§ÁªÑÔºåchownÔºöÊîπÂèòÊñá‰ª∂Êã•ÊúâËÄÖÔºåchmodÔºöÊîπÂèòÊñá‰ª∂ÁöÑÊùÉÈôê„ÄÇ1.chgrpÔºàchange groupÔºâÔºöËØ≠Ê≥ïÔºö1234chgrp [-R] dirname/filename ...ÈÄâÈ°π‰∏éÂèÇÊï∞:-R : ËøõË°åÈÄíÂΩíÔºàrecursiveÔºâÁöÑÊåÅÁª≠ÂèòÊõ¥Ôºå‰∫¶Âç≥ËøûÂêåÊ¨°ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂„ÄÅ ÁõÆÂΩïÈÉΩÊõ¥Êñ∞Êàê‰∏∫Ëøô‰∏™Áæ§ÁªÑ‰πãÊÑè„ÄÇÂ∏∏Â∏∏Áî®Âú®ÂèòÊõ¥Êüê‰∏ÄÁõÆÂΩïÂÜÖÊâÄÊúâÁöÑÊñá‰ª∂ÁöÑÊÉÖÂÜµ„ÄÇÊØîÂ¶ÇÔºåÊîπÂèòÊñá‰ª∂examples.desktopÁöÑÁæ§ÁªÑ‰∏∫rootÔºö123456789root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rw-r--r-- 1 mrbird mrbird 8.8K 3Êúà 25 03:31 examples.desktop...root@mrbird-xps13:/home/mrbird# chgrp root examples.desktop root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rw-r--r-- 1 mrbird root 8.8K 3Êúà 25 03:31 examples.desktop...2.chownÔºàchange ownerÔºâÔºöchown‰∏ç‰ΩÜÂèØ‰ª•ÊîπÂèòÊñá‰ª∂Êã•ÊúâËÄÖÔºå‰πüÂèØ‰ª•ÊîπÂèòÁæ§ÁªÑÔºÅËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1234chown [-R] Ë¥¶Âè∑ÂêçÁß∞ Êñá‰ª∂ÊàñÁõÆÂΩïchown [-R] Ë¥¶Âè∑ÂêçÁß∞:ÁªÑÂêç Êñá‰ª∂ÊàñÁõÆÂΩïÈÄâÈ°π‰∏éÂèÇÊï∞:-R : ËøõË°åÈÄíÂΩí(recursive)ÁöÑÊåÅÁª≠ÂèòÊõ¥,‰∫¶Âç≥ËøûÂêåÊ¨°ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÈÉΩÂèòÊõ¥‰æãÔºöÂ∞Üexamples.desktopÁöÑÊã•ÊúâËÄÖÊîπ‰∏∫rootÔºö123456789root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rw-r--r-- 1 mrbird mrbird 8.8K 3Êúà 25 03:31 examples.desktop...root@mrbird-xps13:/home/mrbird# chown root examples.desktop root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rw-r--r-- 1 root mrbird 8.8K 3Êúà 25 03:31 examples.desktop...‰æãÔºöÂ∞Üexamples.desktopÁöÑÊã•ÊúâËÄÖÂíåÁæ§ÁªÑÈÉΩÊîπ‰∏∫rootÔºö12345root@mrbird-xps13:/home/mrbird# chown root:root examples.desktop root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rw-r--r-- 1 root root 8.8K 3Êúà 25 03:31 examples.desktop...3.chmodÔºöÊîπÂèòÊùÉÈôêÊúâ‰∏§ÁßçÊñπÂºèÔºöÊï∞Â≠óÁ±ªÂûãÂíåÁ¨¶Âè∑Á±ªÂûã„ÄÇ‚Ä¢ Êï∞Â≠óÁ±ªÂûãÊîπÂèòÊñá‰ª∂ÊùÉÈôêÔºörwxÂàÜÂà´‰ª£Ë°®421Ôºå‰æãÂ¶ÇÂΩìÊùÉÈôê‰∏∫: [-rwxrwx---] ÂàÜÊï∞ ÂàôÊòØÔºöowner = rwx = 4+2+1 = 7group = rwx = 4+2+1 = 7others= ‚Äî = 0+0+0 = 0Êï∞Â≠óÁ±ªÂûãÊîπÂèòÊùÉÈôêËØ≠Ê≥ïÔºö1234chmod [-R] xyz Êñá‰ª∂ÊàñÁõÆÂΩïÈÄâÈ°π‰∏éÂèÇÊï∞:xyz : Â∞±ÊòØÂàöÂàöÊèêÂà∞ÁöÑÊï∞Â≠óÁ±ªÂûãÁöÑÊùÉÈôêÂ±ûÊÄß,‰∏∫ rwx Â±ûÊÄßÊï∞ÂÄºÁöÑÁõ∏Âä†„ÄÇ-R : ËøõË°åÈÄíÂΩí(recursive)ÁöÑÊåÅÁª≠ÂèòÊõ¥,‰∫¶Âç≥ËøûÂêåÊ¨°ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÈÉΩ‰ºöÂèòÊõ¥‰æãÔºöÂ∞Üexamples.desktopÁöÑÊùÉÈôêÈÉΩÂêØÁî®Ôºö123456789root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rw-r--r-- 1 root root 8.8K 3Êúà 25 03:31 examples.desktop...root@mrbird-xps13:/home/mrbird# chmod 777 examples.desktop root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rwxrwxrwx 1 root root 8.8K 3Êúà 25 03:31 examples.desktop...‚Ä¢ Á¨¶Âè∑Á±ªÂûãÊîπÂèòÊñá‰ª∂ÊùÉÈôêÂú®Á¨¶Âè∑Á±ªÂûãÊîπÂèòÊùÉÈôêÁöÑËßÑÂàô‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî®uÔºågÔºåoÊù•‰ª£Ë°®userÔºågroupÂíåowner‰∏âÁßçË∫´‰ªΩÁöÑÊùÉÈôê„ÄÇÊ≠§Â§ñÔºåa Âàô‰ª£Ë°® all ‰∫¶Âç≥ÂÖ®ÈÉ®ÁöÑË∫´‰ªΩ„ÄÇÁõ∏Â∫îËßÑÂàôÂèØÁúã‰∏ãË°®Ôºöchmodugoa+(Âä†ÂÖ•)-(Èô§Âéª)=(ËÆæÂÆö)rwxÊñá‰ª∂ÊàñÁõÆÂΩï‰æãÂ¶ÇÔºåÂ∞ÜÊñá‰ª∂examples.desktopÁöÑÊùÉÈôêÊîπ‰∏∫-rw-r--r--Ôºö12345root@mrbird-xps13:/home/mrbird# chmod u=rw,go=r examples.desktop root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rw-r--r-- 1 root root 8.8K 3Êúà 25 03:31 examples.desktop...‰æãÂ¶ÇÔºåÂ¢ûÂä†Êñá‰ª∂examples.desktopÊØè‰∏™‰∫∫ÂùáÂèØÂÜôÂÖ•ÁöÑÊùÉÈôêÔºö12345root@mrbird-xps13:/home/mrbird# chmod a+w examples.desktop root@mrbird-xps13:/home/mrbird# ls -lhÊÄªÁî®Èáè 48K-rw-rw-rw- 1 root root 8.8K 3Êúà 25 03:31 examples.desktop...ÊùÉÈôêÁöÑÊÑè‰πâ1.ÂØπ‰∫éÊñá‰ª∂Êù•ËØ¥Ôºårwx‰ª£Ë°®Ôºö‚Ä¢ r (read)ÔºöÂèØËØªÂèñÊ≠§‰∏ÄÊñá‰ª∂ÁöÑÂÆûÈôÖÂÜÖÂÆπ,Â¶ÇËØªÂèñÊñáÊú¨Êñá‰ª∂ÁöÑÊñáÂ≠óÂÜÖÂÆπÁ≠â„ÄÇ‚Ä¢ w (write)ÔºöÂèØ‰ª•ÁºñËæë„ÄÅÊñ∞Â¢ûÊàñËÄÖÊòØ‰øÆÊîπËØ•Êñá‰ª∂ÁöÑÂÜÖÂÆπÔºà‰ΩÜ‰∏çÂê´Âà†Èô§ËØ•Êñá‰ª∂Ôºâ„ÄÇ‚Ä¢ x (eXecute)ÔºöËØ•Êñá‰ª∂ÂÖ∑ÊúâÂèØ‰ª•Ë¢´Á≥ªÁªüÊâßË°åÁöÑÊùÉÈôêÔºàÁ±ª‰ºº‰∏éwindow‰∏≠ÁöÑexeÔºåbatÁ≠âÔºâ„ÄÇ2.ÂØπ‰∫éÁõÆÂΩïÊù•ËØ¥Ôºårwx‰ª£Ë°®Ôºö‚Ä¢ r (read contents in directory)ÔºöË°®Á§∫ÂÖ∑ÊúâËØªÂèñÁõÆÂΩïÁªìÊûÑÂàóË°®ÁöÑÊùÉÈôêÔºåÊâÄ‰ª•ÂΩì‰Ω†ÂÖ∑ÊúâËØªÂèñÔºàrÔºâ‰∏Ä‰∏™ÁõÆÂΩïÁöÑÊùÉÈôêÊó∂ÔºåË°®Á§∫‰Ω†ÂèØ‰ª•Êü•ËØ¢ËØ•ÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÂêçÊï∞ÊçÆ„ÄÇ ÊâÄ‰ª•‰Ω†Â∞±ÂèØ‰ª•Âà©Áî® ls Ëøô‰∏™Êåá‰ª§Â∞ÜËØ•ÁõÆÂΩïÁöÑÂÜÖÂÆπÂàóË°®ÊòæÁ§∫Âá∫Êù•„ÄÇ‚Ä¢ w (modify contents of directory)ÔºöË°®Á§∫‰Ω†ÂÖ∑ÊúâÂºÇÂä®ËØ•ÁõÆÂΩïÁªìÊûÑÂàóË°®ÁöÑÊùÉÈôêÔºå‰πüÂ∞±ÊòØÂèØ‰ª•ÂØπËØ•ÁõÆÂΩïÊàñËÄÖÂÖ∂‰∏ãÁöÑÊñá‰ª∂ËøõË°åÊõæÂà†ÊîπÊìç‰ΩúÔºÅ‚Ä¢ x (access directory)ÔºöÁõÆÂΩïÁöÑ x ‰ª£Ë°®ÁöÑÊòØÁî®Êà∑ËÉΩÂê¶ËøõÂÖ•ËØ•ÁõÆÂΩïÊàê‰∏∫Â∑•‰ΩúÁõÆÂΩïÔºåÊâÄË∞ìÁöÑÂ∑•‰ΩúÁõÆÂΩïÔºàwork directoryÔºâÂ∞±ÊòØ‰Ω†ÁõÆÂâçÊâÄÂú®ÁöÑÁõÆÂΩï„ÄÇ]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeanoteÂçöÂÆ¢‰∏ªÈ¢òMaterial Design]]></title>
    <url>%2FLeanote%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98Material-Design.html</url>
    <content type="text"><![CDATA[Material DesignÔºàÂç°ÁâáÂºèÊùêÊñôËÆæËÆ°ÔºâÊòØË∞∑Ê≠åÂú®I/O 2014‰∏äÂèëÂ∏ÉÁöÑÊñ∞ÁöÑËÆæËÆ°ËØ≠Ë®Ä„ÄÇÂú®MaterialÁöÑÊâÅÂπ≥ÂåñËÆæËÆ°‰∏≠ÔºåÂÆÉ‰ΩøÁî®‰∫ÜÂàÜÂ±ÇÂÖÉÁ¥†Êù•Ëê•ÈÄ†‰∏âÁª¥Á©∫Èó¥„ÄÇËØ•‰∏ªÈ¢òÊúâLightÂíåDark‰∏§ÁßçÊòæÁ§∫Ê®°ÂºèÔºåÂèØÈÄöËøátoolBarÂè≥‰æßÁöÑÊåâÈíÆÂàáÊç¢„ÄÇÂçöÂÆ¢ÂèØÂú®‰∏ªÈ¢òÊñá‰ª∂theme.json‰∏≠‰ΩúÁÆÄÂçïÁöÑ‰øÆÊîπÔºåtheme.jsonÊñá‰ª∂ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö12345678910111213&#123; ... "WebImgName": "leanote.png", "Color": "blue", "ColorStrength": "300", "BlogImg": "material.jpg", "FriendLinks": [ &#123;"Title": "My Note", "Url": "https://leanote.com/note"&#125;, &#123;"Title": "Leanote Home", "Url": "https://leanote.com"&#125;, &#123;"Title": "Leanote BBS", "Url": "http://bbs.leanote.com"&#125;, &#123;"Title": "Leanote Github", "Url": "https://github.com/leanote/leanote"&#125; ]&#125;‰∏ªÈ¢òÈ¢ÑËßàÔºötheme.jsonÊñá‰ª∂‰∏≠ÔºåWebImgName ‰∏∫ÁΩëÈ°µÂ∞èÂõæÊ†áÂõæÁâáÂêçÁß∞+Ê†ºÂºèÂêçÔºå BlogImg‰∏∫ÂçöÂÆ¢Ê†áÈ¢òËÉåÊôØÂõæ+Ê†ºÂºèÂêçÔºåÊ†áÈ¢òÁöÑËÉåÊôØÂõæÂ∞∫ÂØ∏Âª∫ËÆÆ‰∏∫350X130ÔºåColor‰∏∫ÂçöÂÆ¢È¢úËâ≤ÔºàÊØîÂ¶ÇtoolBarÂíåÊåâÈíÆÁ≠âÁªÑ‰ª∂ÁöÑÈ¢úËâ≤ÔºâÔºåColorStrength‰∏∫È¢úËâ≤ÁöÑÊµìÂ∫¶„ÄÇ‰∏ãÈù¢‰∏∫ÊâÄÊúâÂèØÂèñÁöÑÂÄºÔºö ËøôÈáåÊúâ‰∏ÄÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºåÈ¢úËâ≤ÂêçÁß∞ÂøÖÈ°ª‰∏∫ÂÖ®Â∞èÂÜôÔºåÊØîÂ¶ÇBlueÂ∫îÂÜô‰∏∫blue„ÄÇÂ¶ÇÊúâÈóÆÈ¢òÔºåÊ¨¢ËøéÁïôË®Ä„ÄÇ2017Âπ¥3Êúà20Êó•‰øÆÂ§ç‰∫ÜÂá†Â§ÑÂú®ÁÅ´ÁãêÊµèËßàÂô®‰∏ãÁöÑbug„ÄÇ2017Âπ¥3Êúà23Êó•‰øÆÂ§çMarkdown‰∏ãÁÇπÂáªÊñáÁ´†ÂØºËà™‰∏çË∑≥ËΩ¨ÈóÆÈ¢ò„ÄÇÊúÄÊñ∞‰∏ªÈ¢òÂåÖ‰∏ãËΩΩÂú∞ÂùÄÔºögithub]]></content>
      <tags>
        <tag>Leanote</tag>
        <tag>theme</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êê≠Âª∫SSM (Spring+SpringMVC+MyBatis)]]></title>
    <url>%2F%E6%90%AD%E5%BB%BASSM-Spring-SpringMVC-MyBatis.html</url>
    <content type="text"><![CDATA[Spring+SpringMVCÁöÑÊê≠Âª∫ÂèÇËÄÉÂçöÊñá ‚Äî‚Äî Êê≠Âª∫SpringMVC„ÄÇËøôÈáå‰∏ªË¶ÅËÆ∞ÂΩïSpringMVC‰∏éMyBatisÁöÑÊï¥Âêà„ÄÇÂáÜÂ§áÂ∑•‰ΩúÊï∞ÊçÆÂ∫ì‰ΩøÁî®MySqlÔºåÂàõÂª∫‰∏ÄÂº†ÊµãËØïË°®Ôºö1234567 CREATE TABLE `emp` ( `ID` int(4) NOT NULL AUTO_INCREMENT, `NAME` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `AGE` int(11) DEFAULT NULL, `BIRTHDAY` date DEFAULT NULL, PRIMARY KEY (`ID`))ÂºïÂÖ•‰æùËµñÔºö123456789101112131415161718192021222324252627282930313233343536&lt;!-- spring‰∫ãÂä° --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt;&lt;/dependency&gt; &lt;!-- spring jdbc --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;!-- mysqlÊï∞ÊçÆÂ∫ìËøûÊé•ÂåÖ--&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;!-- Êï∞ÊçÆÂ∫ìËøûÊé•Ê±†--&gt;&lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.1.2&lt;/version&gt;&lt;/dependency&gt;&lt;!-- mybatis --&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- mybaits-spring --&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.0&lt;/version&gt;&lt;/dependency&gt;SpringÈÖçÁΩÆÊñá‰ª∂Âú®applicationContext.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆÊï∞ÊçÆÂ∫ìÔºö12345678910111213&lt;!-- Â±ûÊÄßÂç†‰ΩçÁ¨¶ --&gt;&lt;context:property-placeholder location="classpath:/config.properties" /&gt;&lt;!--ÈÖçÁΩÆÊï∞ÊçÆÊ∫ê--&gt;&lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close"&gt; &lt;property name="driverClass" value="$&#123;jdbc.driver&#125;" /&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;" /&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;" /&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;" /&gt; &lt;property name="maxPoolSize" value="40" /&gt; &lt;property name="minPoolSize" value="1" /&gt; &lt;property name="initialPoolSize" value="10" /&gt; &lt;/bean&gt;ÈÖçÁΩÆSqlSessionFactory‰ª•ÂèäsqlSessionTemplateÔºö12345678910&lt;!-- mybatis ÁöÑSqlSessionFactory --&gt;&lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean" scope="prototype"&gt; &lt;property name="dataSource" ref="dataSource"/&gt; &lt;!-- ÊåáÂÆömybaitsÈÖçÁΩÆÊñá‰ª∂Ë∑ØÂæÑ --&gt; &lt;property name="configLocation" value="classpath:mybatis-config.xml"/&gt;&lt;/bean&gt;&lt;!-- sqlSessionTemplate --&gt;&lt;bean id="sqlSessionTemplate" class="org.mybatis.spring.SqlSessionTemplate" scope="prototype"&gt; &lt;constructor-arg index="0" ref="sqlSessionFactory"/&gt;&lt;/bean&gt;ÈÖçÁΩÆ‰∫ãÂä°Ôºö1234567&lt;!-- ‰∫ãÁâ©ÁÆ°ÁêÜÂô®ÈÖçÁΩÆ --&gt;&lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource"/&gt;&lt;/bean&gt;&lt;!-- ÂºÄÂêØÊ≥®Ëß£‰∫ãÂä° --&gt;&lt;tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="true"/&gt;ÈÖçÁΩÆÊâ´ÊèèmapperÔºö123456&lt;!-- ÈááÁî®Ëá™Âä®Êâ´ÊèèÁöÑÊñπÂºèÂàõÂª∫mapper bean --&gt;&lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt; &lt;property name="basePackage" value="ssm"/&gt; &lt;property name="sqlSessionTemplateBeanName" value="sqlSessionTemplate"/&gt; &lt;property name="annotationClass" value="org.springframework.stereotype.Repository"/&gt;&lt;/bean&gt;MyBatisÈÖçÁΩÆÊñá‰ª∂mybaits-config.xmlÔºö123456789101112131415161718192021 &lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt; &lt;configuration&gt; &lt;settings&gt; &lt;setting name="cacheEnabled" value="true"/&gt; &lt;setting name="useGeneratedKeys" value="true"/&gt; &lt;setting name="defaultExecutorType" value="REUSE"/&gt; &lt;setting name="lazyLoadingEnabled" value="true"/&gt; &lt;setting name="defaultStatementTimeout" value="25000"/&gt; &lt;/settings&gt; &lt;typeAliases&gt; &lt;!--ÁªôÂÆû‰ΩìÁ±ªËµ∑‰∏Ä‰∏™Âà´Âêç --&gt; &lt;typeAlias type="ssm.mrbird.entity.Emp" alias="emp" /&gt; &lt;/typeAliases&gt; &lt;mappers&gt; &lt;!--RoleMapper.xmlË£ÖËΩΩËøõÊù• ÂêåÁ≠â‰∫éÊää'mapper'ÁöÑÂÆûÁé∞Ë£ÖËΩΩËøõÊù• --&gt; &lt;mapper resource="ssm/mrbird/mapper/EmpMapper.xml" /&gt; &lt;/mappers&gt; &lt;/configuration&gt;ÂàõÂª∫ÂÆû‰ΩìÂàõÂª∫Â∫ìË°®ÂØπÂ∫îÂÆû‰ΩìEmpÔºö12345678910import java.io.Serializable;import java.sql.Date; public class Emp implements Serializable&#123; private long id; private String name; private int age; private Date birthday; // get set Áï•&#125;Êé•Âè£‰∏éÊò†Â∞ÑÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´Âü∫Êú¨CRUDÁöÑÊé•Âè£EmpMapperÔºö12345678910import org.springframework.stereotype.Repository;import ssm.mrbird.entity.Emp; @Repositorypublic interface EmpMapper &#123; public void insertEmp(Emp emp); public void updateEmp(Emp emp); public void deleteEmp(long id); public Emp getEmp(long id);&#125;ÂÖ∂ÂØπÂ∫îÁöÑÊò†Â∞ÑÊñá‰ª∂EmpMapper.xmlÔºö1234567891011121314151617181920212223&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="ssm.mrbird.mapper.EmpMapper"&gt; &lt;insert id="insertEmp" parameterType="emp"&gt; insert into emp(name,age,birthday) values (#&#123;name&#125;,#&#123;age&#125;,#&#123;birthday&#125;) &lt;/insert&gt; &lt;update id="updateEmp" parameterType="emp"&gt; update emp &lt;set&gt; &lt;if test="name != null"&gt;name = #&#123;name&#125;,&lt;/if&gt; &lt;if test="age != null"&gt;age = #&#123;age&#125;,&lt;/if&gt; &lt;if test="birthday != null"&gt;birthday = #&#123;birthday&#125;&lt;/if&gt; &lt;/set&gt; where id = #&#123;id&#125; &lt;/update&gt; &lt;delete id="deleteEmp" parameterType="long"&gt; delete from emp where id = #&#123;id&#125; &lt;/delete&gt; &lt;select id="getEmp" parameterType="long" resultType="emp"&gt; select id,name,age,birthday from emp where id = #&#123;id&#125; &lt;/select&gt;&lt;/mapper&gt;ÈÖçÁΩÆÊúçÂä°Â±ÇÈ¶ñÂÖàÂàõÂª∫Êé•Âè£EmpServiceÔºö12345678import ssm.mrbird.entity.Emp; public interface EmpService &#123; public void insertEmp(Emp emp); public void updateEmp(Emp emp); public void deleteEmp(long id); public Emp getEmp(long id); &#125;ÂÖ∂ÂÆûÁé∞Á±ªEmpServiceImplÔºö123456789101112131415161718192021222324252627282930313233343536import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Propagation;import org.springframework.transaction.annotation.Transactional; import ssm.mrbird.entity.Emp;import ssm.mrbird.mapper.EmpMapper;@Service@Transactional(propagation=Propagation.SUPPORTS,readOnly=true)public class EmpServiceImpl implements EmpService&#123; @Autowired private EmpMapper empMapper; @Override @Transactional(propagation=Propagation.REQUIRED,readOnly=false) public void insertEmp(Emp emp) &#123; this.empMapper.insertEmp(emp); &#125; @Override @Transactional(propagation=Propagation.REQUIRED,readOnly=false) public void updateEmp(Emp emp) &#123; this.empMapper.updateEmp(emp); &#125; @Override @Transactional(propagation=Propagation.REQUIRED,readOnly=false) public void deleteEmp(long id) &#123; this.empMapper.deleteEmp(id); &#125; @Override public Emp getEmp(long id) &#123; return this.empMapper.getEmp(id); &#125;&#125;ËøôÈáåÈááÁî®Ê≥®Ëß£ÁöÑÊñπÂºèÈÖçÁΩÆ‰∫ãÂä°„ÄÇÂÖ≥‰∫é‰∫ãÂä°ÔºåÂèØÂèÇËÄÉÂçöÊñá ‚Äî‚Äî Spring‰∫ãÂä°ÁÆ°ÁêÜ„ÄÇÊµãËØïÊúÄÁªàÔºåÂ∑•Á®ãÁöÑÁõÆÂΩïÁªìÊûÑ‰∏∫ÔºöÊµãËØïÂàõÂª∫EmpÔºö1234567891011121314151617181920@Controllerpublic class TestController &#123; @Autowired private EmpService empService; @RequestMapping(value="/insert",method=RequestMethod.GET) @ResponseBody public String insertEmp()&#123; try &#123; Emp emp = new Emp(); emp.setName("mrbird"); emp.setAge(100); this.empService.insertEmp(emp); return "success"; &#125; catch (Exception e) &#123; e.printStackTrace(); return "fail"; &#125; &#125;&#125;ÂêØÂä®È°πÁõÆÔºåËÆøÈóÆÔºöhttp://localhost:8080/ssm/insertÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö1234567mysql&gt; select * from emp;+----+--------+------+----------+| ID | NAME | AGE | BIRTHDAY |+----+--------+------+----------+| 1 | mrbird | 100 | NULL |+----+--------+------+----------+1 row in set (0.00 sec)ÊèíÂÖ•ÊàêÂäü„ÄÇÊµãËØïgetEmpÔºö12345678910@RequestMapping(value="/get",method=RequestMethod.GET)@ResponseBodypublic String getEmp()&#123; try &#123; return this.empService.getEmp(1l).getName(); &#125; catch (Exception e) &#123; e.printStackTrace(); return "fail"; &#125;&#125;ËÆøÈóÆÔºöhttp://localhost:8080/ssm/getÊµãËØïupdateEmpÔºö12345678910111213@RequestMapping(value="/update",method=RequestMethod.GET)@ResponseBodypublic String updateEmp()&#123; try &#123; Emp emp = this.empService.getEmp(1l); emp.setAge(250); this.empService.updateEmp(emp); return "success"; &#125; catch (Exception e) &#123; e.printStackTrace(); return "fail"; &#125;&#125;ËÆøÈóÆÔºöhttp://localhost:8080/ssm/updateÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö1234567mysql&gt; select * from emp;+----+--------+------+----------+| ID | NAME | AGE | BIRTHDAY |+----+--------+------+----------+| 1 | mrbird | 250 | NULL |+----+--------+------+----------+1 row in set (0.00 sec)Êõ¥Êñ∞ÊàêÂäü„ÄÇÊµãËØïdeleteEmpÔºö1234567891011@RequestMapping(value="/delete",method=RequestMethod.GET)@ResponseBodypublic String deleteEmp()&#123; try &#123; this.empService.deleteEmp(1l); return "success"; &#125; catch (Exception e) &#123; e.printStackTrace(); return "fail"; &#125;&#125;ËÆøÈóÆÔºöhttp://localhost:8080/ssm/deleteÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö12mysql&gt; select * from emp;Empty set (0.00 sec)Âà†Èô§ÊàêÂäü„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>MyBatis</tag>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êê≠Âª∫SSH (Spring+SpringMVC+Hibernate)]]></title>
    <url>%2F%E6%90%AD%E5%BB%BASSH-Spring-SpringMVC-Hibernate.html</url>
    <content type="text"><![CDATA[Spring+SpringMVCÁöÑÊê≠Âª∫ÂèÇËÄÉÂçöÊñá ‚Äî‚Äî Êê≠Âª∫SpringMVC„ÄÇËøôÈáå‰∏ªË¶ÅËÆ∞ÂΩïSpringMVC‰∏éHibernateÁöÑÊï¥Âêà„ÄÇÂáÜÂ§áÂ∑•‰ΩúÊï∞ÊçÆÂ∫ì‰ΩøÁî®MySqlÔºåÂàõÂª∫‰∏ÄÂº†ÊµãËØïË°®Ôºö1234567CREATE TABLE `emp` ( `ID` int(4) NOT NULL AUTO_INCREMENT, `NAME` varchar(50) COLLATE utf8_unicode_ci NOT NULL, `AGE` int(11) DEFAULT NULL, `BIRTHDAY` date DEFAULT NULL, PRIMARY KEY (`ID`))ÂºïÂÖ•‰æùËµñÔºö12345678910111213141516171819202122232425262728293031&lt;!-- spring‰∫ãÂä° --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt;&lt;/dependency&gt; &lt;!-- spring orm --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-orm&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;!-- hibernate --&gt;&lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt; &lt;version&gt;4.3.5.Final&lt;/version&gt;&lt;/dependency&gt;&lt;!-- mysqlÊï∞ÊçÆÂ∫ìËøûÊé•ÂåÖ--&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt;&lt;/dependency&gt; &lt;!-- Êï∞ÊçÆÂ∫ìËøûÊé•Ê±†--&gt;&lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.1.2&lt;/version&gt;&lt;/dependency&gt;ÈÖçÁΩÆÊï∞ÊçÆÂ∫ìÂú®applicationContext.xml‰∏≠ÈÖçÁΩÆÊï∞ÊçÆÂ∫ìÔºö1234567891011121314151617181920&lt;!-- Â±ûÊÄßÂç†‰ΩçÁ¨¶ --&gt;&lt;context:property-placeholder location="classpath:/config.properties" /&gt; &lt;!--ÈÖçÁΩÆÊï∞ÊçÆÊ∫ê--&gt;&lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close"&gt; &lt;!--Êï∞ÊçÆÂ∫ìËøûÊé•È©±Âä®--&gt; &lt;property name="driverClass" value="$&#123;jdbc.driver&#125;" /&gt; &lt;!--Êï∞ÊçÆÂ∫ìÂú∞ÂùÄ--&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;" /&gt; &lt;!--Áî®Êà∑Âêç--&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;" /&gt; &lt;!--ÂØÜÁ†Å--&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;" /&gt; &lt;!--ÊúÄÂ§ßËøûÊé•Êï∞--&gt; &lt;property name="maxPoolSize" value="40" /&gt; &lt;!--ÊúÄÂ∞èËøûÊé•Êï∞--&gt; &lt;property name="minPoolSize" value="1" /&gt; &lt;!--ÂàùÂßãÂåñËøûÊé•Ê±†ÂÜÖÁöÑÊï∞ÊçÆÂ∫ìËøûÊé•--&gt; &lt;property name="initialPoolSize" value="10" /&gt; &lt;/bean&gt;ÂÖ∂‰∏≠Ôºåconfig.propertiesÈÖçÁΩÆÊñá‰ª∂ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö12345678910#database connection configjdbc.driver = com.mysql.jdbc.Driverjdbc.url = jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8jdbc.username = rootjdbc.password = 123456 #hibernate confighibernate.dialect = org.hibernate.dialect.MySQLDialecthibernate.show_sql = truehibernate.format_sql = trueÈÖçÁΩÆsessionFactoryÂú®applicationContext.xml‰∏≠ÈÖçÁΩÆsessionFactoryÔºö12345678910111213141516&lt;!--ÈÖçÁΩÆsessionÂ∑•ÂéÇ--&gt;&lt;bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean"&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;!-- ÊåáÂÆöÂÆû‰ΩìÁ±ªÊâ´ÊèèË∑ØÂæÑ --&gt; &lt;property name="packagesToScan" value="ssh.mrbird.entity" /&gt; &lt;property name="hibernateProperties"&gt; &lt;props&gt; &lt;!--ÊåáÂÆöÊï∞ÊçÆÂ∫ìÊñπË®Ä--&gt; &lt;prop key="hibernate.dialect"&gt;$&#123;hibernate.dialect&#125;&lt;/prop&gt; &lt;!--Âú®ÊéßÂà∂Âè∞ÊòæÁ§∫ÊâßË°åÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúËØ≠Âè•--&gt; &lt;prop key="hibernate.show_sql"&gt;$&#123;hibernate.show_sql&#125;&lt;/prop&gt; &lt;!--Âú®ÊéßÂà∂Âè∞ÊòæÁ§∫ÊâßË°åÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúËØ≠Âè•ÔºàÊ†ºÂºèÔºâ--&gt; &lt;prop key="hibernate.format_sql"&gt;$&#123;hibernate.format_sql&#125;&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt;&lt;/bean&gt;‰ΩøÁî®springÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÊú∫Âà∂Ôºö123456&lt;!-- ‰∫ãÁâ©ÁÆ°ÁêÜÂô®ÈÖçÁΩÆ --&gt;&lt;bean id="transactionManager" class="org.springframework.orm.hibernate4.HibernateTransactionManager"&gt; &lt;property name="sessionFactory" ref="sessionFactory" /&gt;&lt;/bean&gt;&lt;!-- ÂºÄÂêØÊ≥®Ëß£‰∫ãÂä° --&gt;&lt;tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="true"/&gt;ÂàõÂª∫Â∫ìË°®ÂÆû‰Ωì123456789101112131415161718192021222324252627282930import java.io.Serializable;import java.sql.Date; import javax.persistence.Column;import javax.persistence.Entity;import javax.persistence.GeneratedValue;import javax.persistence.GenerationType;import javax.persistence.Id;import javax.persistence.Table; @Entity@Table(name = "Emp")public class Emp implements Serializable&#123; private static final long serialVersionUID = 1L; @Id @GeneratedValue(strategy = GenerationType.AUTO) @Column(name = "ID") private long id; @Column(name = "NAME") private String name; @Column(name = "AGE") private int age; @Column(name = "BIRTHDAY") private Date birthday; // get set Áï•&#125;Êï∞ÊçÆÂ∫ìËÆøÈóÆÂ±ÇÂàõÂª∫EmpDaoÊé•Âè£ÔºåÂåÖÂê´Âü∫Êú¨ÁöÑCRUDÊñπÊ≥ïÔºö12345678import ssh.mrbird.entity.Emp; public interface EmpDao &#123; Emp findEmpById(long id); void deleteEmpById(long id); void updateEmp(Emp emp); void saveEmp(Emp emp);&#125;ÂÖ∂ÂÆûÁé∞Á±ªEmpDaoImplÔºö123456789101112131415161718192021222324252627282930313233343536import org.hibernate.Session;import org.hibernate.SessionFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Repository;import org.springframework.transaction.annotation.Propagation;import org.springframework.transaction.annotation.Transactional; import ssh.mrbird.entity.Emp; @Repository@Transactional(propagation=Propagation.SUPPORTS,readOnly=true)public class EmpDaoImpl implements EmpDao&#123; //Ê≥®ÂÖ•SessionFactory @Autowired private SessionFactory sessionFactory; //Ëé∑Âèñsession private Session getCurrentSession() &#123; return this.sessionFactory.getCurrentSession(); &#125; public Emp findEmpById(long id) &#123; return (Emp) getCurrentSession().get(Emp.class, id); &#125; @Transactional(propagation=Propagation.REQUIRED,readOnly=false) public void deleteEmpById(long id) &#123; Emp emp = findEmpById(id); getCurrentSession().delete(emp); &#125; @Transactional(propagation=Propagation.REQUIRED,readOnly=false) public void updateEmp(Emp emp) &#123; getCurrentSession().update(emp); &#125; @Transactional(propagation=Propagation.REQUIRED,readOnly=false) public void saveEmp(Emp emp) &#123; getCurrentSession().save(emp); &#125;&#125;‰ΩøÁî®Ê≥®Ëß£ÁöÑÊñπÂºèÊéßÂà∂‰∫ãÂä°ÔºåÂÖ≥‰∫é‰∫ãÂä°ÔºåÂèØÂèÇËÄÉÂçöÊñá ‚Äî‚Äî Spring‰∫ãÂä°ÁÆ°ÁêÜ„ÄÇÊµãËØïÊúÄÁªàÔºåÂ∑•Á®ãÁöÑÁõÆÂΩïÁªìÊûÑ‰∏∫ÔºöapplicationContext.xmlÂÆåÊï¥ÈÖçÁΩÆÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:p="http://www.springframework.org/schema/p" xmlns:tx="http://www.springframework.org/schema/tx" xsi:schemaLocation=" http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd"&gt; &lt;!-- ÂºÄÂêØÁªÑ‰ª∂Êâ´Êèè --&gt; &lt;context:component-scan base-package="ssh"/&gt; &lt;!-- ÂêØÁî®Spring mvc --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- ÈÖçÁΩÆviewResolver --&gt; &lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver" p:prefix="/WEB-INF/views/" p:suffix=".jsp"&gt; &lt;/bean&gt; &lt;!-- Â±ûÊÄßÂç†‰ΩçÁ¨¶ --&gt; &lt;context:property-placeholder location="classpath:/config.properties" /&gt; &lt;!--ÈÖçÁΩÆÊï∞ÊçÆÊ∫ê--&gt; &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close"&gt; &lt;property name="driverClass" value="$&#123;jdbc.driver&#125;" /&gt; &lt;property name="jdbcUrl" value="$&#123;jdbc.url&#125;" /&gt; &lt;property name="user" value="$&#123;jdbc.username&#125;" /&gt; &lt;property name="password" value="$&#123;jdbc.password&#125;" /&gt; &lt;property name="maxPoolSize" value="40" /&gt; &lt;property name="minPoolSize" value="1" /&gt; &lt;property name="initialPoolSize" value="10" /&gt; &lt;/bean&gt; &lt;!--ÈÖçÁΩÆsessionÂ∑•ÂéÇ--&gt; &lt;bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean"&gt; &lt;property name="dataSource" ref="dataSource" /&gt; &lt;!-- ÊåáÂÆöÂÆû‰ΩìÁ±ªÊâ´ÊèèË∑ØÂæÑ --&gt; &lt;property name="packagesToScan" value="ssh.mrbird.entity" /&gt; &lt;property name="hibernateProperties"&gt; &lt;props&gt; &lt;prop key="hibernate.dialect"&gt;$&#123;hibernate.dialect&#125;&lt;/prop&gt; &lt;prop key="hibernate.show_sql"&gt;$&#123;hibernate.show_sql&#125;&lt;/prop&gt; &lt;prop key="hibernate.format_sql"&gt;$&#123;hibernate.format_sql&#125;&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- ‰∫ãÁâ©ÁÆ°ÁêÜÂô®ÈÖçÁΩÆ --&gt; &lt;bean id="transactionManager" class="org.springframework.orm.hibernate4.HibernateTransactionManager"&gt; &lt;property name="sessionFactory" ref="sessionFactory" /&gt; &lt;/bean&gt; &lt;!-- ÂºÄÂêØÊ≥®Ëß£‰∫ãÂä° --&gt; &lt;tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="true"/&gt;&lt;/beans&gt;ÁºñÂÜôÊµãËØïControllerÔºö1234567891011121314151617181920212223242526272829303132333435363738394041@Controllerpublic class TestController &#123; @Autowired private EmpDaoImpl empDao; @RequestMapping(value="/saveEmp",method=RequestMethod.GET) @ResponseBody public String saveEmp()&#123; //Áõ¥Êé•Ê®°ÊãüÊï∞ÊçÆ try&#123; Emp emp = new Emp(); emp.setName("mrbird"); emp.setAge(100); empDao.saveEmp(emp); return "success"; &#125;catch(Exception e)&#123; e.printStackTrace(); return "fail"; &#125; &#125; @RequestMapping(value="/findEmp",method=RequestMethod.GET) @ResponseBody public String findEmp()&#123; Emp emp = empDao.findEmpById(1); return emp.getName(); &#125; @RequestMapping(value="/updateEmp",method=RequestMethod.GET) @ResponseBody public String updateEmp()&#123; Emp emp = empDao.findEmpById(1l); emp.setAge(250); empDao.updateEmp(emp); return "success"; &#125; @RequestMapping(value="/deleteEmp",method=RequestMethod.GET) @ResponseBody public String deleteEmp()&#123; empDao.deleteEmpById(1l); return "success"; &#125;&#125;ÂêØÂä®Â∑•Á®ãÔºåËÆøÈóÆÔºöhttp://localhost:8080/ssh/saveEmpÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö1234567mysql&gt; select * from emp;+----+--------+------+----------+| ID | NAME | AGE | BIRTHDAY |+----+--------+------+----------+| 1 | mrbird | 100 | NULL |+----+--------+------+----------+1 row in set (0.00 sec)Êï∞ÊçÆÊèíÂÖ•ÊàêÂäüÔºåÂâ©‰∏ãÁöÑÊµãËØïÁï•„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>SpringMVC</tag>
        <tag>Hibernate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ServletÁä∂ÊÄÅÁÆ°ÁêÜ]]></title>
    <url>%2FServlet%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86.html</url>
    <content type="text"><![CDATA[ServletÁä∂ÊÄÅÁÆ°ÁêÜÔºöÂ∞ÜÂÆ¢Êà∑Á´Ø(ÊµèËßàÂô®)‰∏éÊúçÂä°Âô®‰πãÈó¥Â§öÊ¨°‰∫§‰∫íÔºà‰∏ÄÊ¨°ËØ∑Ê±ÇÔºå‰∏ÄÊ¨°ÂìçÂ∫îÔºâÂΩìÂÅö‰∏Ä‰∏™Êï¥‰ΩìÊù•ÁúãÂæÖÔºåÂπ∂‰∏îÂ∞ÜÂ§öÊ¨°‰∫§‰∫íÊâÄÊ∂âÂèäÁöÑÊï∞ÊçÆÔºàÂç≥Áä∂ÊÄÅÔºâ‰øùÂ≠ò‰∏ãÊù•„ÄÇÂ¶Ç‰ΩïËøõË°åÁä∂ÊÄÅÁÆ°ÁêÜÔºü1.ÂÆ¢Êà∑Á´ØÁä∂ÊÄÅÁÆ°ÁêÜÊäÄÊúØÔºöÂç≥Â∞ÜÁä∂ÊÄÅ‰øùÂ≠òÂú®ÂÆ¢Êà∑Á´ØÔºåÊúâ‰ª£Ë°®ÊÄßÁöÑÊòØcookieÊäÄÊúØ„ÄÇ2.ÊúçÂä°Âô®Á´ØÁä∂ÊÄÅÁÆ°ÁêÜÊäÄÊúØÔºöÂç≥Â∞ÜÁä∂ÊÄÅ‰øùÂ≠òÂú®ÊúçÂä°Âô®Á´ØÔºåÊúâ‰ª£Ë°®ÊÄßÁöÑÊòØsessionÊäÄÊúØ„ÄÇcookieÊµèËßàÂô®ÂêëwebÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÊó∂ÔºåÊúçÂä°Âô®‰ºöÂ∞ÜÂ∞ëÈáèÁöÑÊï∞ÊçÆ‰ª•set-cookieÊ∂àÊÅØÂ§¥ÁöÑÊñπÂºèÂèëÈÄÅÁªôÊµèËßàÂô®ÔºåÊµèËßàÂô®‰ºöÂ∞ÜËøô‰∫õÊï∞ÊçÆ‰øùÂ≠ò‰∏ãÊù•„ÄÇÂΩìÊµèËßàÂô®ÂÜçÊ¨°ËÆøÈóÆÊúçÂä°Âô®Êó∂Ôºå‰ºöÂ∞ÜËøô‰∫õÊï∞ÊçÆ‰ª•cookieÊ∂àÊÅØÂ§¥ÁöÑÊñπÂºèÂèëÈÄÅÁªôÊúçÂä°Âô®„ÄÇÂàõÂª∫cookieÔºö12Cookie c = new Cookie(String name,String value);response.addCookie(c);Êü•ËØ¢cookieÔºö1234567Cookie[] cookies = request.getCookies();if(cookies != null)&#123; for(Cookie c : cookies)&#123; String cookieName = c.getName(); String cookieValue = c.getValue(); &#125;&#125;ÁºñÁ†ÅÈóÆÈ¢òÔºöcookieÂè™ËÉΩ‰øùÂ≠òÂêàÊ≥ïÁöÑasciiÂ≠óÁ¨¶ÔºåÂ¶ÇÊûúË¶Å‰øùÂ≠ò‰∏≠ÊñáÔºåÈúÄË¶ÅÂ∞Ü‰∏≠ÊñáËΩ¨Êç¢ÊàêÂêàÊ≥ïÁöÑasciiÂ≠óÁ¨¶ÔºàÁºñÁ†ÅÔºâ„ÄÇ1String str = URLEncoder.encode("Âåó‰∫¨","utf-8");encodeÊñπÊ≥ïÂÖàÂ∞Ü‚ÄùÂåó‰∫¨‚ÄùÊåâÁÖß‚Äùutf-8‚ÄùËøõË°åÁºñÁ†ÅÔºàÁºñÁ†Å‰πãÂêé‰ºöÂæóÂà∞‰∏Ä‰∏™Â≠óËäÇÊï∞ÁªÑÔºâÔºåÁÑ∂ÂêéÂ∞ÜÂ≠óËäÇÊï∞ÁªÑËΩ¨Êç¢Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÁ±ª‰ºº‰∫é%AD%EF%88%DD%AF%48%„ÄÇ12// Â∞ÜÂ≠óÁ¨¶‰∏≤ËøòÂéüString decodeValue = URLDecoder.decode(str,"utf-8");ÁîüÂ≠òÊó∂Èó¥ÔºöÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊµèËßàÂô®‰ºöÂ∞Ücookie‰øùÂ≠òÂú®ÂÜÖÂ≠òÈáåÈù¢ÔºåÂè™Ë¶ÅÊµèËßàÂô®‰∏çÂÖ≥Èó≠Ôºåcookie‰ºö‰∏ÄÁõ¥Â≠òÂú®„ÄÇ‰πüÂèØ‰ª•Áî®‰ª£Á†ÅÊåáÂÆöÂÖ∂ÁîüÂ≠òÊó∂Èó¥Ôºö1cookie.setMaxAge(int seconds);Ê≥®ÊÑèsecondsÂçï‰ΩçÊòØÁßí„ÄÇsecondsÂèñÂÄºÊúâ‰∏âÁßçÊÉÖÂÜµÔºö1.seconds &gt; 0ÔºöÊµèËßàÂô®‰øùÂ≠òcookieÁöÑÊúÄÈïøÊó∂Èó¥‰∏∫ËÆæÁΩÆÁöÑÂèÇÊï∞ÂÄºÔºåÂ¶ÇÊûúË∂ÖËøáÊåáÂÆöÁöÑÊó∂Èó¥ÔºåÊµèËßàÂô®‰ºöÂà†Èô§Ëøô‰∏™cookie„ÄÇÊµèËßàÂô®‰ºöÂ∞Ücookie‰øùÂ≠òÂú®Á°¨Áõò‰∏ä„ÄÇ2.seconds = 0ÔºöÂà†Èô§cookie„ÄÇÊØîÂ¶ÇÔºåË¶ÅÂà†Èô§‰∏Ä‰∏™ÂêçÁß∞‰∏∫‚Äùaddr‚ÄùÁöÑcookieÔºö123Cookie c = new Cookie("addr","");c.setMaxAge(0);response.addCookie(c);3.sencods &lt; 0ÔºöÁº∫ÁúÅÂÄº,ÊµèËßàÂô®‰ºöÂ∞ÜcookieÊîæÂà∞ÂÜÖÂ≠òÈáåÈù¢„ÄÇ‰øÆÊîπcookieÔºöÊâÄË∞ìCookieÁöÑ‰øÆÊîπÔºåÊú¨Ë¥®ÊòØËé∑ÂèñÂà∞Ë¶ÅÂèòÊõ¥ÂÄºÁöÑCookieÔºåÈÄöËøásetValueÊñπÊ≥ïÂ∞ÜÊñ∞ÁöÑÊï∞ÊçÆÂ≠òÂÖ•Âà∞cookie‰∏≠ÔºåÁÑ∂ÂêéÁî±responseÂìçÂ∫îÂØπË±°ÂèëÂõûÂà∞ÂÆ¢Êà∑Á´ØÔºåÂØπÂéüÊúâÊóßÂÄºË¶ÜÁõñÂêéÂç≥ÂÆûÁé∞‰∫Ü‰øÆÊîπ„ÄÇsessionÊúçÂä°Âô®‰∏∫‰∏çÂêåÁöÑÂÆ¢Êà∑Á´ØÂú®ÂÜÖÂ≠ò‰∏≠ÂàõÂª∫‰∫ÜÁî®‰∫é‰øùÂ≠òÊï∞ÊçÆÁöÑSessionÂØπË±°ÔºåÂπ∂Â∞ÜÁî®‰∫éÊ†áËØÜËØ•ÂØπË±°ÁöÑÂîØ‰∏ÄIdÂèëÂõûÁªô‰∏éËØ•ÂØπË±°ÂØπÂ∫îÁöÑÂÆ¢Êà∑Á´Ø„ÄÇÂΩìÊµèËßàÂô®ÂÜçÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÊó∂ÔºåSessionId‰πü‰ºöË¢´ÂèëÈÄÅËøáÊù•ÔºåÊúçÂä°Âô®Âá≠ÂÄüËøô‰∏™ÂîØ‰∏ÄIdÊâæÂà∞‰∏é‰πãÂØπÂ∫îÁöÑSessionÂØπË±°„ÄÇÂú®ÊúçÂä°Âô®Á´ØÁª¥Êä§ÁöÑËøô‰∫õÁî®‰∫é‰øùÂ≠ò‰∏é‰∏çÂêåÂÆ¢Êà∑Á´Ø‰∫§‰∫íÊó∂ÁöÑÊï∞ÊçÆÁöÑÂØπË±°Âè´ÂÅöSession„ÄÇSessionÂØπË±°ÂèØ‰ª•‰øùÂ≠òÊõ¥Â§çÊùÇÁöÑÂØπË±°Á±ªÂûãÊï∞ÊçÆ‰∫ÜÔºå‰∏çÂÉèCookieÂè™ËÉΩ‰øùÂ≠òÂ≠óÁ¨¶‰∏≤„ÄÇËé∑ÂæósessionÂØπË±°Ôºö1.ÊñπÂºè‰∏ÄÔºö1HttpSession session = request.getSession(boolean flag);flag‰∏∫trueÊó∂ÔºöÂÖàÊü•ÁúãËØ∑Ê±ÇÂΩì‰∏≠ÊúâÊ≤°ÊúâsessionIdÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÊúçÂä°Âô®Ë¶ÅÂàõÂª∫‰∏Ä‰∏™sessionÂØπË±°ÔºõÂ¶ÇÊûúÊúâsessionIdÔºåÊúçÂä°Âô®‰ºö‰æùÊçÆsessionIdÊü•ÊâæÂØπÂ∫îÁöÑsessionÂØπË±°ÔºåÂ¶ÇÊûúÊâæÂà∞‰∫ÜÂàôËøîÂõûÔºåÊâæ‰∏çÂà∞ÊúçÂä°Âô®‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑsessionÂØπË±°„ÄÇflag‰∏∫falseÊó∂ÔºöÂÖàÊü•ÁúãËØ∑Ê±ÇÂΩì‰∏≠ÊúâÊ≤°ÊúâsessionIdÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÊúçÂä°Âô®‰∏ç‰ºöÂàõÂª∫sessionÂØπË±°ÔºåËøîÂõûnull„ÄÇÂ¶ÇÊûúÊúâsessionIdÔºåÊúçÂä°Âô®‰ºö‰æùÊçÆsessionIdÊü•ÊâæÂØπÂ∫îÁöÑsessionÂØπË±°ÔºåÂ¶ÇÊûúÊâæÂà∞‰∫ÜÂàôËøîÂõûÔºåÊâæ‰∏çÂà∞ËøîÂõûnull„ÄÇ2.ÊñπÂºè‰∫åÔºö12HttpSession session = request.getSession();// Á≠â‰ª∑‰∫é request.getSession(true)„ÄÇ‰ΩøÁî®sessionÂØπË±°ÁªëÂÆöÊï∞ÊçÆÔºö1void session.setAttribute(String name,Object obj);Ëé∑ÂèñÁªëÂÆöÊï∞ÊçÆÊàñÁßªÈô§ÁªëÂÆöÊï∞ÊçÆÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12void session.getAttribute(String name);void session.removeAttribute(String name);sessionË∂ÖÊó∂Ôºö‰ªÄ‰πàÊòØsessionË∂ÖÊó∂ÔºüwebÊúçÂä°Âô®‰ºöÂ∞ÜÁ©∫Èó≤Êó∂Èó¥ËøáÈïøÁöÑsessionÂØπË±°Âà†Èô§ÊéâÔºà‰∏∫‰∫ÜËäÇÁúÅÂÜÖÂ≠òÁ©∫Èó¥ËµÑÊ∫êÔºâ„ÄÇwebÊúçÂä°Âô®Áº∫ÁúÅÁöÑË∂ÖÊó∂Êó∂Èó¥ÈôêÂà∂Ôºå‰∏ÄËà¨ÊòØ30ÂàÜ„ÄÇÂèØ‰ª•‰øÆÊîπÁº∫ÁúÅÁöÑË∂ÖÊó∂Êó∂Èó¥ÈôêÂà∂ÔºåÊØîÂ¶ÇÔºåÂèØ‰ª•‰øÆÊîπtomcatÁöÑweb.xmlÔºö123&lt;session-config&gt; &lt;session-timeout&gt;30&lt;/session-timeout&gt;&lt;/session-config&gt;‰ΩøÁî®ÁºñÁ®ãÁöÑÊñπÂºèÊù•‰øÆÊîπÔºö1session.setMaxInactiveInterval(int seconds);Á´ãÂç≥Âà†Èô§sessionÂØπË±°Ôºö1session.invalidate();session‰ºòÁº∫ÁÇπÔºösessionÂØπË±°ÁöÑÊï∞ÊçÆÁî±‰∫é‰øùÂ≠òÂú®ÊúçÂä°Âô®Á´ØÔºåÂπ∂‰∏çÂú®ÁΩëÁªú‰∏≠ËøõË°å‰º†ËæìÔºåÊâÄ‰ª•ÂÆâÂÖ®‰∏Ä‰∫õÔºåÂπ∂‰∏îËÉΩÂ§ü‰øùÂ≠òÁöÑÊï∞ÊçÆÁ±ªÂûãÊõ¥‰∏∞ÂØåÔºåÂêåÊó∂Session‰πüËÉΩÂ§ü‰øùÂ≠òÊõ¥Â§öÁöÑÊï∞ÊçÆÔºåCookieÂè™ËÉΩ‰øùÂ≠òÂ§ßÁ∫¶4kbÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇsessionÁöÑÂÆâÂÖ®ÊÄßÊòØ‰ª•Áâ∫Áâ≤ÊúçÂä°Âô®ËµÑÊ∫ê‰∏∫‰ª£‰ª∑ÁöÑÔºåÂ¶ÇÊûúÁî®Êà∑ÈáèËøáÂ§ßÔºå‰ºö‰∏•ÈáçÂΩ±ÂìçÊúçÂä°Âô®ÁöÑÊÄßËÉΩ„ÄÇ]]></content>
      <tags>
        <tag>servlet&amp;jsp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MongoDB ÊñáÊ°£Êü•ËØ¢]]></title>
    <url>%2FMongoDB-%E6%96%87%E6%A1%A3%E6%9F%A5%E8%AF%A2.html</url>
    <content type="text"><![CDATA[MongoDBÊü•ËØ¢Ê∂µÁõñ‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö1.‰ΩøÁî®findÊàñËÄÖfindOneÂáΩÊï∞ÂíåÊü•ËØ¢ÊñáÊ°£ÂØπÊï∞ÊçÆÂ∫ìÊâßË°åÊü•ËØ¢Ôºõ2.‰ΩøÁî®$Êù°‰ª∂Êü•ËØ¢ÂÆûÁé∞ËåÉÂõ¥Êü•ËØ¢ÔºåÊï∞ÊçÆÈõÜÂåÖÂê´Êü•ËØ¢Ôºå‰∏çÁ≠âÂºèÊü•ËØ¢Ôºå‰ª•ÂèäÂÖ∂ÂÆÉ‰∏Ä‰∫õÊü•ËØ¢Ôºõ3.Êü•ËØ¢Â∞Ü‰ºöËøîÂõû‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÊ∏∏Ê†áÔºåÊ∏∏Ê†áÂè™‰ºöÂú®‰Ω†ÈúÄË¶ÅÊó∂ÊâçÂ∞ÜÈúÄË¶ÅÁöÑÊñáÊ°£ÊâπÈáèËøîÂõûÔºõ4.ÈíàÂØπÊ∏∏Ê†áÊâßË°åÁöÑÂÖÉÊìç‰ΩúÔºåÂåÖÊã¨ÂøΩÁï•‰∏ÄÂÆöÊï∞ÈáèÁöÑÁªìÊûúÔºåÊàñËÄÖÈôêÂÆöËøîÂõûÁªìÊûúÁöÑÊï∞ÈáèÔºå‰ª•ÂèäÂØπÁªìÊûúÊéíÂ∫è„ÄÇfindÁÆÄ‰ªãÊåáÂÆöÈúÄË¶ÅËøîÂõûÁöÑÈîÆÊØîÂ¶ÇÔºåÊàëÂè™ÂØπblogÈõÜÂêàÁöÑÂçöÊñápostÊÑüÂÖ¥Ë∂£ÔºåÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÊü•ËØ¢ËØ≠Âè•Ôºö1234&gt; db.blog.find(&#123;&#125;,&#123;"post":1&#125;)&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "post" : "MongoDBÊñáÊ°£CUD" &#125;&#123; "_id" : ObjectId("58acf64b3c8ad0b0d9d65f4a"), "post" : "MongoDB shell" &#125;&#123; "_id" : ObjectId("58acf65d3c8ad0b0d9d65f4d"), "post" : "start Spring Boot" &#125;Â¶ÇÊûú‰∏çÂ∏åÊúõËøîÂõû‚Äú_id‚ÄùÔºåÂèØ‰ª•ËøôÊ†∑Ôºö1234&gt; db.blog.find(&#123;&#125;,&#123;"post":1,"_id":0&#125;)&#123; "post" : "MongoDBÊñáÊ°£CUD" &#125;&#123; "post" : "MongoDB shell" &#125;&#123; "post" : "start Spring Boot" &#125;Êü•ËØ¢Êù°‰ª∂ÊØîËæÉÊìç‰ΩúÁ¨¶MongoDB‰∏≠ÁöÑÊØîËæÉÊìç‰ΩúÁ¨¶Êúâ‰∫îÁßçÔºåÂÖ∂‰∏≠$gtÔºå$gteÔºå$ltÔºå$lteÂàÜÂà´ÂØπÂ∫î&gt;Ôºå&gt;=Ôºå&lt;Ôºå&lt;=ÔºåÊØîÂ¶ÇÊü•ËØ¢blogÈòÖËØªÈáèpageviewÂ§ß‰∫é5ÁöÑÊñáÊ°£Ôºö123456789&gt; db.blog.find(&#123;"pageview":&#123;"$gte":5&#125;&#125;).pretty()&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "name" : "mrbird's blog", "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 5, "like" : 2, "date" : ISODate("2017-02-22T05:45:03.006Z")&#125;ËøôÂõõÁßçÊìç‰ΩúÁ¨¶‰πüÂèØÁî®‰∫éÊó•ÊúüÊØîËæÉÔºåÊØîÂ¶ÇÔºö123456&gt; var date = new Date("01/01/2017")&gt; db.blog.find(&#123;"date":&#123;"$gte":date&#125;&#125;,... &#123;"post":1,"date":1,"_id":0&#125;)&#123; "post" : "MongoDBÊñáÊ°£CUD", "date" : ISODate("2017-02-22T05:45:03.006Z") &#125;&#123; "post" : "MongoDB shell", "date" : ISODate("2017-02-22T05:45:03.006Z") &#125;&#123; "post" : "start Spring Boot", "date" : ISODate("2017-02-22T05:45:03.006Z") &#125;Âè¶Â§ñ‰∏Ä‰∏™ÊØîËæÉÊìç‰ΩúÁ¨¶‰∏∫$neÔºånot equalÔºåÂèØ‰ª•Áî®‰∫éÊâÄÊúâÁ±ªÂûãÔºåÊØîÂ¶ÇÔºö1234&gt; db.blog.find(&#123;"post":&#123;"$ne":"MongoDB shell"&#125;&#125;,... &#123;"post":1&#125;)&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "post" : "MongoDBÊñáÊ°£CUD" &#125;&#123; "_id" : ObjectId("58acf65d3c8ad0b0d9d65f4d"), "post" : "start Spring Boot" &#125;ORÊü•ËØ¢$inÊìç‰ΩúÁ¨¶ÂèØ‰ª•Êü•ËØ¢‰∏Ä‰∏™ÈîÆÁöÑÂ§ö‰∏™ÂÄºÔºåÊØîÂ¶ÇÔºö1234&gt; db.blog.find(&#123;"post":&#123;"$in":["MongoDBÊñáÊ°£CUD","MongoDB shell"]&#125;&#125;,... &#123;"post":1,"_id":0&#125;)&#123; "post" : "MongoDBÊñáÊ°£CUD" &#125;&#123; "post" : "MongoDB shell" &#125;ÂÖ∂‰∏≠Êï∞ÁªÑ‰∏≠ÁöÑÂÄºÂèØ‰ª•ÊòØ‰∏çÂêåÁ±ªÂûãÁöÑ„ÄÇ‰∏é$inÁõ∏ÂèçÁöÑÊòØ$ninÔºåÂ¶ÇÔºö123&gt; db.blog.find(&#123;"post":&#123;"$nin":["MongoDBÊñáÊ°£CUD","MongoDB shell"]&#125;&#125;,... &#123;"post":1,"_id":0&#125;)&#123; "post" : "start Spring Boot" &#125;$orÊìç‰ΩúÁ¨¶ÂíåSQL‰∏≠ÁöÑÂê´‰πâÁ±ª‰ººÔºåÊØîÂ¶ÇÊü•ËØ¢post‰∏∫MongoDBÊñáÊ°£CUDÊàñËÄÖpageview‰∏∫3ÁöÑÊñáÊ°£Ôºö12345&gt; db.blog.find(&#123;"$or":[&#123;"post":"MongoDBÊñáÊ°£CUD"&#125;,&#123;"pageview":3&#125;]&#125;,...&#123;"post":1,"pageview":1,"_id":0&#125;).pretty()&#123; "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 5 &#125;&#123; "post" : "MongoDB shell", "pageview" : 3 &#125;&#123; "post" : "start Spring Boot", "pageview" : 3 &#125;$not$mod‰∏∫ÂèñÊ®°ËøêÁÆóÁ¨¶ÔºåÊØîÂ¶ÇÊü•ËØ¢pageview‰∏∫3ÁöÑÂÄçÊï∞ÁöÑÂçöÊñáÔºö123&gt; db.blog.find(&#123;"pageview":&#123;"$mod":[3,0]&#125;&#125;,&#123;"post":1,"pageview":1,"_id":0&#125;)&#123; "post" : "MongoDB shell", "pageview" : 3 &#125;&#123; "post" : "start Spring Boot", "pageview" : 3 &#125;$notËøêÁÆóÁ¨¶Áî®‰∫éÂèñÂèçÔºåÊØîÂ¶ÇÂèñpageview‰∏ç‰∏∫3ÁöÑÂÄçÊï∞ÁöÑÂçöÊñáÔºö123&gt; db.blog.find(&#123;"pageview":&#123;"$not":&#123;"$mod":[3,0]&#125;&#125;&#125;, ...&#123;"post":1,"pageview":1,"_id":0&#125;)&#123; "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 5 &#125;$and$andÊìç‰ΩúÁ¨¶ÂíåSQL‰∏≠ÁöÑÂê´‰πâÁ±ª‰ººÔºåÊØîÂ¶ÇÊü•Êâæpost‰∏∫MongoDBÊñáÊ°£CUD‰∏îpageviewÂ§ß‰∫é3ÁöÑÊñáÊ°£Ôºö123&gt; db.blog.find(&#123;"$and":[&#123;"post":"MongoDBÊñáÊ°£CUD"&#125;,&#123;"pageview":&#123;"$gt":3&#125;&#125;]&#125;,... &#123;"post":1,"pageview":1,"_id":0&#125;)&#123; "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 5 &#125;ÁâπÂÆöÁ±ªÂûãÁöÑÊü•ËØ¢null„ÄÇÊü•ËØ¢ÊñáÊ°£Êüê‰∏™ÈîÆÁöÑÂÄº‰∏∫nullÔºå‰ºöÂ∞Ü‰∏çÂåÖÂê´ËØ•ÈîÆÁöÑÊñáÊ°£‰πüÊü•ËØ¢Âá∫Êù•ÔºåÊØîÂ¶ÇÔºö1234567&gt; db.blog.find(&#123;&#125;,&#123;"post":1,"like":1,"_id":0&#125;)&#123; "post" : "MongoDBÊñáÊ°£CUD", "like" : 2 &#125;&#123; "post" : "MongoDB shell" &#125;&#123; "post" : "start Spring Boot", "like" : null &#125;&gt; db.blog.find(&#123;"like":null&#125;,&#123;"post":1,"like":1,"_id":0&#125;)&#123; "post" : "MongoDB shell" &#125;&#123; "post" : "start Spring Boot", "like" : null &#125;ÂèØ‰ª•ÈÄöËøá$existsÊù°‰ª∂Âà§Êñ≠ÈîÆÊòØÂê¶Â≠òÂú®ÔºåÊØîÂ¶ÇÔºö123&gt; db.blog.find(&#123;"like":&#123;"$in":[null],"$exists":true&#125;&#125;, ...&#123;"post":1,"like":1,"_id":0&#125;)&#123; "post" : "start Spring Boot", "like" : null &#125;MongoDBÊü•ËØ¢‰πüÊîØÊåÅÈîÆÂÄºÁöÑÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÔºåËøôÈáåÂ∞±ÊáíÂæóËÆ∞ÂΩï‰∫Ü„ÄÇÊü•ËØ¢Êï∞ÁªÑÂÖàÁúã‰∏™Ê†óÂ≠êÔºö1234567&gt; db.food.find()&#123; "_id" : ObjectId("58ad45986596dd54570ce1ed"), "fruit" : [ "Ë•øÁìú", "È¶ôËïâ", "Ê°ÉÂ≠ê" ] &#125;&#123; "_id" : ObjectId("58ad45c76596dd54570ce1ee"), "fruit" : [ "Ë•øÁìú", "ËäíÊûú", "Êù®Ê°É" ] &#125;&#123; "_id" : ObjectId("58ad45f76596dd54570ce1ef"), "fruit" : [ "ÂìàÂØÜÁìú", "Ëë°ËêÑ", "Ê®±Ê°É" ] &#125;&gt; db.food.find(&#123;"fruit":"Ë•øÁìú"&#125;)&#123; "_id" : ObjectId("58ad45986596dd54570ce1ed"), "fruit" : [ "Ë•øÁìú", "È¶ôËïâ", "Ê°ÉÂ≠ê" ] &#125;&#123; "_id" : ObjectId("58ad45c76596dd54570ce1ee"), "fruit" : [ "Ë•øÁìú", "ËäíÊûú", "Êù®Ê°É" ] &#125;Êü•ÊâæÊó¢ÂåÖÂê´Ë•øÁìúÂèàÂåÖÂê´ËäíÊûúÁöÑÊñáÊ°£Ôºå‰ΩøÁî®$allÊìç‰ΩúÁ¨¶Ôºö12&gt; db.food.find(&#123;"fruit":&#123;"$all":["Ë•øÁìú","ËäíÊûú"]&#125;&#125;)&#123; "_id" : ObjectId("58ad45c76596dd54570ce1ee"), "fruit" : [ "Ë•øÁìú", "ËäíÊûú", "Êù®Ê°É" ] &#125;ÂÖ∂‰∏≠ÔºåÊï∞ÁªÑ‰∏≠ÂÄºÁöÑÈ°∫Â∫è‰∏çÈáçË¶Å„ÄÇÂ¶ÇÊûú‰∏ç‰ΩøÁî®$all Â∞±ÊòØÁ≤æÂáÜÂåπÈÖç‰∫ÜÔºåÊØîÂ¶Ç‰∏ãÈù¢Ëøô‰∏™Êü•ËØ¢Â∞ÜÊü•ËØ¢‰∏çÂá∫‰ªª‰ΩïÁªìÊûúÔºö1&gt; db.food.find(&#123;"fruit":["Ë•øÁìú","ËäíÊûú"]&#125;)‰πüÂèØ‰ª•Ê†πÊçÆÊï∞ÁªÑÁöÑ‰∏ãÊ†áËøõË°åÊü•ËØ¢ÔºåÊØîÂ¶ÇÔºö12&gt; db.food.find(&#123;"fruit.1":"Ëë°ËêÑ"&#125;)&#123; "_id" : ObjectId("58ad45f76596dd54570ce1ef"), "fruit" : [ "ÂìàÂØÜÁìú", "Ëë°ËêÑ", "Ê®±Ê°É" ] &#125;$sizeÊìç‰ΩúÁ¨¶Áî®‰∫éÊ†πÊçÆÊï∞ÁªÑÁöÑÈïøÂ∫¶ËøõË°åÊü•ËØ¢ÂåπÈÖçÔºåÊØîÂ¶ÇÊü•ÊâæfruitÊï∞ÁªÑÈïøÂ∫¶‰∏∫3ÁöÑÊñáÊ°£Ôºö1234&gt; db.food.find(&#123;"fruit":&#123;"$size":3&#125;&#125;)&#123; "_id" : ObjectId("58ad45986596dd54570ce1ed"), "fruit" : [ "Ë•øÁìú", "È¶ôËïâ", "Ê°ÉÂ≠ê" ] &#125;&#123; "_id" : ObjectId("58ad45c76596dd54570ce1ee"), "fruit" : [ "Ë•øÁìú", "ËäíÊûú", "Êù®Ê°É" ] &#125;&#123; "_id" : ObjectId("58ad45f76596dd54570ce1ef"), "fruit" : [ "ÂìàÂØÜÁìú", "Ëë°ËêÑ", "Ê®±Ê°É" ] &#125;Ê≥®ÊÑèÔºö$sizeÊìç‰ΩúÁ¨¶‰∏çËÉΩ$gtÁ≠âÊØîËæÉÊìç‰ΩúÁ¨¶‰∏ÄËµ∑‰ΩøÁî®ÔºÅ$sliceÊìç‰ΩúÁ¨¶ÂèØ‰ª•ËøîÂõûÊüê‰∏™ÈîÆÂåπÈÖçÁöÑÊï∞ÁªÑÂÖÉÁ¥†ÁöÑ‰∏Ä‰∏™Â≠êÈõÜÔºåÊØîÂ¶ÇÔºö1234&gt; db.food.find(&#123;&#125;,&#123;"fruit":&#123;"$slice":2&#125;&#125;)&#123; "_id" : ObjectId("58ad45986596dd54570ce1ed"), "fruit" : [ "Ë•øÁìú", "È¶ôËïâ" ] &#125;&#123; "_id" : ObjectId("58ad45c76596dd54570ce1ee"), "fruit" : [ "Ë•øÁìú", "ËäíÊûú" ] &#125;&#123; "_id" : ObjectId("58ad45f76596dd54570ce1ef"), "fruit" : [ "ÂìàÂØÜÁìú", "Ëë°ËêÑ" ] &#125;Â¶ÇÊûúÊÉ≥ËøîÂõûÊï∞ÁªÑÁöÑÂêé‰∏§‰∏™ÂÖÉÁ¥†ÔºåÂèØ‰ª•ËøôÊ†∑Ôºö1234&gt; db.food.find(&#123;&#125;,&#123;"fruit":&#123;"$slice":-2&#125;&#125;)&#123; "_id" : ObjectId("58ad45986596dd54570ce1ed"), "fruit" : [ "È¶ôËïâ", "Ê°ÉÂ≠ê" ] &#125;&#123; "_id" : ObjectId("58ad45c76596dd54570ce1ee"), "fruit" : [ "ËäíÊûú", "Êù®Ê°É" ] &#125;&#123; "_id" : ObjectId("58ad45f76596dd54570ce1ef"), "fruit" : [ "Ëë°ËêÑ", "Ê®±Ê°É" ] &#125;$slice‰πüÂèØ‰ª•ÊåáÂÆöÂÅèÁßªÈáèÔºåÊØîÂ¶ÇÔºö1234&gt; db.food.find(&#123;&#125;,&#123;"fruit":&#123;"$slice":[1,3]&#125;&#125;)&#123; "_id" : ObjectId("58ad45986596dd54570ce1ed"), "fruit" : [ "È¶ôËïâ", "Ê°ÉÂ≠ê" ] &#125;&#123; "_id" : ObjectId("58ad45c76596dd54570ce1ee"), "fruit" : [ "ËäíÊûú", "Êù®Ê°É" ] &#125;&#123; "_id" : ObjectId("58ad45f76596dd54570ce1ef"), "fruit" : [ "Ëë°ËêÑ", "Ê®±Ê°É" ] &#125;[1,1]Ë°®Á§∫Ë∑≥ËøáÂâç1‰∏™ÂÖÉÁ¥†ÔºåËøîÂõûÁ¨¨2~3‰∏™ÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÊ≤°ÊúâÈÇ£‰πàÂ§öÂÖÉÁ¥†ÔºåÂ∞±ËøîÂõûÁ¨¨2‰∏™ÂÖÉÁ¥†‰πãÂêéÁöÑÊâÄÊúâÂÖÉÁ¥†„ÄÇÊï∞ÁªÑÁöÑËåÉÂõ¥Êü•ËØ¢Êï∞ÁªÑÁöÑËåÉÂõ¥Êü•ËØ¢ÈúÄË¶ÅÊ≥®ÊÑè‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ¶ÇÔºö12345678&gt; db.test.find()&#123; "_id" : ObjectId("58b0eca3a263b332501bc7b5"), "x" : 5 &#125;&#123; "_id" : ObjectId("58b0eca9a263b332501bc7b6"), "x" : 15 &#125;&#123; "_id" : ObjectId("58b0ecaea263b332501bc7b7"), "x" : 25 &#125;&#123; "_id" : ObjectId("58b0ecbda263b332501bc7b8"), "x" : [ 5, 25 ] &#125; &gt; db.test.find(&#123;"x":&#123;"$gt":10,"$lt":20&#125;&#125;)&#123; "_id" : ObjectId("58b0eca9a263b332501bc7b6"), "x" : 15 &#125;&#123; "_id" : ObjectId("58b0ecbda263b332501bc7b8"), "x" : [ 5, 25 ] &#125;Êü•ËØ¢ÁªìÊûú‰∏çÁ¨¶ÂêàÈ¢ÑÊúüÔºåÂõ†‰∏∫Êï∞ÁªÑ‰∏≠ÁöÑ5Á¨¶Âêà$lt:20Ôºå25Á¨¶Âêà$gt:10„ÄÇË¶ÅÂØπÊï∞ÁªÑÂÖÉÁ¥†ËøõË°åËåÉÂõ¥Êü•ËØ¢ÔºåÂèØÂÄüÂä©$elemMatchÊìç‰ΩúÁ¨¶Ôºö12&gt; db.test.find(&#123;"x":&#123;"$elemMatch":&#123;"$gt":10,"$lt":20&#125;&#125;&#125;)&gt; //Êü•ËØ¢‰∏çÂà∞‰ªª‰ΩïÁªìÊûúËøô‰∏™Êü•ËØ¢Ê≤°Êúâ‰ªª‰ΩïÁªìÊûúÔºåÂõ†‰∏∫{ &quot;_id&quot; : ObjectId(&quot;58b0eca9a263b332501bc7b6&quot;), &quot;x&quot; : 15 }ÊñáÊ°£xÁöÑÂÄº‰∏çÊòØÊï∞ÁªÑÁ±ªÂûãÔºåÂπ∂‰∏î$elemMatchÊìç‰ΩúÁ¨¶‰ΩøÂæóÊï∞ÁªÑÂÖÉÁ¥†ÁöÑÊØè‰∏Ä‰∏™ÂÄºÈÉΩÂøÖÈ°ª‰∏éÊù°‰ª∂Áõ∏ÂåπÈÖç„ÄÇÊü•ËØ¢ÂÜÖÂµåÊñáÊ°£12345678910111213141516171819202122232425&gt; db.blog.find().pretty()&#123; "_id" : ObjectId("58b11d0ca263b332501bc7b9"), "title" : "MongoDBÊü•ËØ¢", "like" : "2", "comments" : &#123; "name" : "ltsc", "comment" : "good post" &#125;&#125;&#123; "_id" : ObjectId("58b11daca263b332501bc7ba"), "title" : "MongoDB shell", "like" : "3", "comments" : [ &#123; "name" : "ltsc", "comment" : "good post" &#125;, &#123; "name" : "xiaohema", "comment" : "‰∏çÊòéËßâÂéâ" &#125; ]&#125;Ë¶ÅÊü•ËØ¢ÂåÖÂê´Âêç‰∏∫‚Äùxiaohema‚ÄùÔºåÂπ∂‰∏îËØÑËÆ∫‰∏∫‚Äù‰∏çÊòéËßâÂéâÁöÑ‚ÄùÂçöÊñáÔºåÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÊü•ËØ¢Ôºö12345678910111213141516&gt; db.blog.find(&#123;"comments":&#123;"$elemMatch":&#123;"name":"xiaohema","comment":"‰∏çÊòéËßâÂéâ"&#125;&#125;&#125;).pretty()&#123; "_id" : ObjectId("58b11daca263b332501bc7ba"), "title" : "MongoDB shell", "like" : "3", "comments" : [ &#123; "name" : "ltsc", "comment" : "good post" &#125;, &#123; "name" : "xiaohema", "comment" : "‰∏çÊòéËßâÂéâ" &#125; ]&#125;$whereÊü•ËØ¢ÂΩì‰∏ÄËà¨Êü•ËØ¢ÈÉΩ‰∏çËÉΩÊª°Ë∂≥Êü•ËØ¢Ë¶ÅÊ±ÇÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®$whereÊìç‰ΩúÁ¨¶ÔºåÊØîÂ¶ÇÊúâÂ¶Ç‰∏ãÊñáÊ°£Ôºö123&gt; db.food.find(&#123;&#125;,&#123;"_id":0&#125;)&#123; "ËçâËéìËõãÁ≥ï" : 4, "ËäùÂ£´ËõãÁ≥ï" : 5, "Â∑ßÂÖãÂäõËõãÁ≥ï" : 4 &#125;&#123; "Êë©Âç°ÂíñÂï°" : 3, "ÊãøÈìÅÂíñÂï°" : 6, "ÁÉ≠Â∑ßÂÖãÂäõ" : 1 &#125;Áé∞Ë¶ÅÊü•ËØ¢Âê´ÊúâÁõ∏ÂêåÊï∞ÈáèÈ£üÁâ©ÁöÑÊñáÊ°£ÔºåÂèØ‰ª•‰ΩøÁî®$whereÊìç‰ΩúÁ¨¶Ôºö12345678910&gt; db.food.find(&#123;"$where":function()&#123;... for(var current in this)&#123;... for(var next in this)&#123;... if(current != next &amp;&amp; this[current] == this[next])&#123;... return true;... &#125;... &#125;... &#125;... &#125;&#125;,&#123;"_id":0&#125;)&#123; "ËçâËéìËõãÁ≥ï" : 4, "ËäùÂ£´ËõãÁ≥ï" : 5, "Â∑ßÂÖãÂäõËõãÁ≥ï" : 4 &#125;‰ΩÜÊòØÂú®ÂÆûÈôÖÊÉÖÂÜµ‰∏ãÔºåÂá∫‰∫éÂØπÊÄßËÉΩÂíåÂÆâÂÖ®ÁöÑËÄÉËôëÔºåÂ∫îËØ•Â∞ΩÈáè‰∏ç‰ΩøÁî®$where„ÄÇÊ∏∏Ê†áMongoDB‰ΩøÁî®Ê∏∏Ê†áËøîÂõûfindÊü•ËØ¢ÁªìÊûúÔºå‰ΩøÁî®hasNextÂáΩÊï∞Âà§Êñ≠Ê∏∏Ê†á‰∏≠ÊòØÂê¶ËøòÊúâÂÖ∂‰ªñÁªìÊûúÔºå‰ΩøÁî®nextÂáΩÊï∞Êù•Ëø≠‰ª£ÁªìÊûúÔºåÂ¶ÇÔºö123456789101112131415&gt; function create()&#123;... db.test.drop();... for(var i = 0;i&lt;100;i++)&#123;... db.test.insert(&#123;"x":i&#125;);... &#125;&#125;&gt; create()&gt; var cursor = db.test.find()&gt; cursor.hasNext()true&gt; cursor.next()&#123; "_id" : ObjectId("58b12834a263b332501bc7bd"), "x" : 0 &#125;&gt; cursor.next()&#123; "_id" : ObjectId("58b12834a263b332501bc7be"), "x" : 1 &#125;&gt; cursor.next()&#123; "_id" : ObjectId("58b12834a263b332501bc7bf"), "x" : 2 &#125;Ê∏∏Ê†áËøòÂÆûÁé∞‰∫ÜJavaScriptÁöÑËø≠‰ª£Âô®Êé•Âè£ÔºåÂèØ‰ª•‰ΩøÁî®forEachÂæ™ÁéØÊù•Ëø≠‰ª£ËæìÂá∫ÁªìÊûúÔºö12345678910111213&gt; cursor.forEach(function(x)&#123;... print(x.x);... &#125;)34567...9899&gt; cursor.hasNext()falselimitÔºåskipÂíåsortlimitÁî®‰∫éÈôêÂà∂ËøîÂõûÁªìÊûúÁöÑÊï∞ÈáèÔºåÊØîÂ¶ÇÔºö1234&gt; db.test.find().limit(3)&#123; "_id" : ObjectId("58b12834a263b332501bc7bd"), "x" : 0 &#125;&#123; "_id" : ObjectId("58b12834a263b332501bc7be"), "x" : 1 &#125;&#123; "_id" : ObjectId("58b12834a263b332501bc7bf"), "x" : 2 &#125;Ë¶ÅÊòØÂåπÈÖçÁöÑÊï∞ÈáèËøò‰∏çÂà∞3‰∏™ÔºåÂàôËøîÂõûÂåπÈÖçÁöÑÊï∞Èáè„ÄÇskipÂàôÊòØÁî®‰∫éË∑≥ËøáN‰∏™Êï∞ÈáèÂêéÔºåËøîÂõûÂâ©‰∏ãÁöÑÊü•ËØ¢ÁªìÊûúÔºåÊØîÂ¶ÇÔºö1234&gt; db.test.find().skip(97)&#123; "_id" : ObjectId("58b12834a263b332501bc81e"), "x" : 97 &#125;&#123; "_id" : ObjectId("58b12834a263b332501bc81f"), "x" : 98 &#125;&#123; "_id" : ObjectId("58b12834a263b332501bc820"), "x" : 99 &#125;sortÂàôÊòØÁî®‰∫éÂØπËøîÂõûÁªìÊûúÁöÑÊéíÂ∫èÔºå-1Ë°®Á§∫ÈôçÂ∫èÔºå1Ë°®Á§∫ÂçáÂ∫èÔºåÂ¶ÇÔºö12345&gt; db.test.find().limit(4).sort(&#123;"x":-1&#125;)&#123; "_id" : ObjectId("58b12834a263b332501bc820"), "x" : 99 &#125;&#123; "_id" : ObjectId("58b12834a263b332501bc81f"), "x" : 98 &#125;&#123; "_id" : ObjectId("58b12834a263b332501bc81e"), "x" : 97 &#125;&#123; "_id" : ObjectId("58b12834a263b332501bc81d"), "x" : 96 &#125;ÂΩì‰ΩøÁî®skipÁï•ËøáËæÉÂ§öÊï∞ÈáèÊñáÊ°£Êó∂ÔºåÈÄüÂ∫¶‰ºöÂèòÂæóÂæàÊÖ¢ÔºåÊØîÂ¶ÇÂ∏∏Áî®ÁöÑÂàÜÈ°µÈúÄÊ±ÇÔºö123&gt; var page1 = db.test.find().limit(100)&gt; var page2 = db.test.find().skip(100).limit(100)&gt; var page3 = db.test.find().skip(200).limit(100)Ê≠£Â¶ÇÂâçÈù¢ÊâÄËØ¥ÁöÑÔºåËøô‰ºöÂØºËá¥ÈÄüÂ∫¶ÂæàÊÖ¢ÔºåÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ËøôÁßçÊÄùË∑ØÂèñ‰ª£ÔºåÊØîÂ¶Ç‰ΩøÁî®dateÈôçÂ∫èÊù•ÊòæÁ§∫ÊñáÊ°£ÂàóË°®Ôºö1&gt; var page1 = db.test.find().sort(&#123;"date":-1&#125;).limit(100)ÁÑ∂ÂêéÂèØ‰ª•‰ΩøÁî®ÊúÄÂêé‰∏Ä‰∏™ÊñáÊ°£ÁöÑdate‰Ωú‰∏∫Êü•ËØ¢Êù°‰ª∂ÔºåÂ¶ÇÔºö1234567var latest = nullwhile(page1.hasNext())&#123; latest = page1.next();&#125;//Ëé∑Âèñ‰∏ã‰∏ÄÈ°µvar page2 = db.test.find(&#123;"date":&#123;"$gt":&#123;latest.date&#125;&#125;&#125;);page2.sort(&#123;"date":-1&#125;).limit(100);Ëé∑ÂèñÁöÑ‰∏ÄËá¥ÊÄßÁúã‰∏™Ê†óÂ≠êÔºö123456var cursor = db.test.find();while(cursor.hasNext())&#123; var current = curosr.next(); var modify = process(current); db.test.save(modify);&#125;ÂÖ∂‰∏≠process‰∏∫Êüê‰∏™‰øÆÊîπÊñáÊ°£ÂáΩÊï∞„ÄÇËøôÊ†∑ÂÅöÂΩìÊñáÊ°£ËæÉÂ§ßÁöÑÊó∂ÂÄôÔºåÊ∏∏Ê†áÂèØËÉΩ‰ºöÂ§öÊ¨°ËøîÂõûÂêå‰∏Ä‰∏™ÊñáÊ°£ÔºåËÄåÂπ∂‰∏çËÉΩÈ¢ÑÊúüÁöÑËøõË°åÈÅçÂéÜ„ÄÇÂõ†‰∏∫ÂΩì‰øùÂ≠òÊñáÊ°£ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊñáÊ°£ËæÉÂ§ßÔºåÊñáÊ°£Èó¥ÁöÑÁ©∫ÈöôÂèà‰∏çË∂≥ÔºåËøôÊó∂ÂÄôÊñáÊ°£Êó†Ê≥ïÈ¢ÑÊúüÁöÑ‰øùÂ≠òÂõûÊï∞ÊçÆÂ∫ìÔºåMongoDB‰ºöÂ∞ÜÂÖ∂Êå™Ëá≥ÈõÜÂêàÁöÑÊú´Â∞æÔºå‰∏∫‰∫ÜÈÅøÂÖçËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨ÂèØ‰ª•ÂØπÊü•ËØ¢Ê∑ªÂä†Âø´ÁÖß„ÄÇ‰ΩøÁî®Êü•ËØ¢Âø´ÁÖßÂêéÔºåÊü•ËØ¢‰ºöÂØπ‚Äù_id‚ÄùËøõË°åÈÅçÂéÜÔºåËøôÂ∞±‰øùËØÅ‰∫ÜÊØè‰∏™ÊñáÊ°£Âè™‰ºöËøîÂõû‰∏ÄÊ¨°Ôºå‰øÆÊîπ‰∏äËø∞Êü•ËØ¢Ôºö1var cursor = db.test.find().snapshot();„ÄäMongoDBÊùÉÂ®ÅÊåáÂçó„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MongoDB</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MongoDBÊñáÊ°£CUD]]></title>
    <url>%2FMongoDB%E6%96%87%E6%A1%A3CUD.html</url>
    <content type="text"><![CDATA[ÊèíÂÖ•ÊñáÊ°£‰ΩøÁî®insertÂêëÈõÜÂêà‰∏≠ÊèíÂÖ•‰∏Ä‰∏™ÊñáÊ°£Ôºö1234&gt; db.test.insert(&#123;"name":"mrbird"&#125;)WriteResult(&#123; "nInserted" : 1 &#125;)&gt; db.test.findOne()&#123; "_id" : ObjectId("58a99b8168e0d7b9f6992c69"), "name" : "mrbird" &#125;ÊèíÂÖ•ÁöÑÊñáÊ°£Ê≤°Êúâ‚Äú_id‚ÄùÈîÆÁöÑËØùÔºåËøô‰∏™Êìç‰Ωú‰ºöËá™Âä®‰∏∫ÊñáÊ°£Ê∑ªÂä†‰∏Ä‰∏™‚Äú_id‚ÄùÈîÆ„ÄÇ ÊâπÈáèÊèíÂÖ•ÊñáÊ°£ÂàôÈúÄ‰ΩøÁî®insertManyÂáΩÊï∞ÔºåÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÊñáÊ°£Êï∞ÁªÑÔºö123456789101112&gt; db.test.insertMany([&#123;"name":"Jane"&#125;,&#123;"name":"KangKang"&#125;])&#123; "acknowledged" : true, "insertedIds" : [ ObjectId("58a99d6468e0d7b9f6992c6b"), ObjectId("58a99d6468e0d7b9f6992c6c") ]&#125;&gt; db.test.find()&#123; "_id" : ObjectId("58a99b8168e0d7b9f6992c69"), "name" : "mrbird" &#125;&#123; "_id" : ObjectId("58a99d6468e0d7b9f6992c6b"), "name" : "Jane" &#125;&#123; "_id" : ObjectId("58a99d6468e0d7b9f6992c6c"), "name" : "KangKang" &#125;Ë¶ÅÊü•Áúã‰∏Ä‰∏™ÊñáÊ°£ÁöÑÂ§ßÂ∞èÔºåÂèØ‰ª•‰ΩøÁî®Object.bsonsize(doc)ÂáΩÊï∞ÔºàÂçï‰Ωç‰∏∫Â≠óËäÇÔºâÔºö12&gt; Object.bsonsize(db.test.find(&#123;"name":"mrbird"&#125;))1215Âà†Èô§ÊñáÊ°£Âà†Èô§ÊñáÊ°£‰ΩøÁî®removeÂáΩÊï∞ÔºåÊé•Êî∂‰∏Ä‰∏™Êü•ËØ¢ÊñáÊ°£ÔºåÊâÄÊúâÂåπÈÖçÁöÑÊñáÊ°£ÈÉΩÂ∞Ü‰ºöË¢´Âà†Èô§Ôºö12345&gt; db.test.remove(&#123;"name":"mrbird"&#125;)WriteResult(&#123; "nRemoved" : 1 &#125;)&gt; db.test.find()&#123; "_id" : ObjectId("58a99d6468e0d7b9f6992c6b"), "name" : "Jane" &#125;&#123; "_id" : ObjectId("58a99d6468e0d7b9f6992c6c"), "name" : "KangKang" &#125;Ë¶ÅÊ∏ÖÁ©∫Êï¥‰∏™ÈõÜÂêàÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî®dropÂáΩÊï∞Ôºö123&gt; db.test.drop()true&gt; db.test.find()Êõ¥Êñ∞ÊñáÊ°£‰ΩøÁî®updateÂáΩÊï∞Êõ¥Êñ∞ÊñáÊ°£ÔºåÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºåÊü•ËØ¢ÊñáÊ°£Âíå‰øÆÊîπÂô®ÊñáÊ°£ÔºåÂ¶ÇÔºö1234567891011121314151617&gt; db.test.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird.leanote.com"&#125;&gt; var mrbird = db.test.findOne(&#123;"name":"mrbird"&#125;)&gt; mrbird.blog = "mrbird's blog"mrbird's blog&gt; db.test.update(&#123;"name":"mrbird"&#125;,mrbird)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.test.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog"&#125;$inc‰øÆÊîπÂô®Áî®Êù•Â¢ûÂä†ÊàñÂáèÂ∞ëÂ∑≤ÊúâÁöÑÈîÆÂÄºÔºåÂ¶ÇÊûúËØ•ÈîÆ‰∏çÂ≠òÂú®ÂàôÂàõÈÄ†‰∏Ä‰∏™„ÄÇÊØîÂ¶ÇÔºö123456789101112131415161718192021222324252627282930313233 &gt; db.test.findOne(&#123;"name":"mrbird"&#125;) &#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog"&#125;&gt; db.test.update(&#123;"name":"mrbird"&#125;,&#123;"$inc":&#123;"pageview":1&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.test.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog", "pageview" : 1&#125;&gt; db.test.update(&#123;"name":"mrbird"&#125;,&#123;"$inc":&#123;"pageview":100&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.test.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog", "pageview" : 101&#125;&gt; db.test.update(&#123;"name":"mrbird"&#125;,&#123;"$inc":&#123;"pageview":-50&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.test.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog", "pageview" : 51&#125;$incÂè™ËÉΩÁî®‰∫éÊï¥ÂûãÔºåÈïøÊï¥ÂûãÊàñÂèåÁ≤æÂ∫¶ÊµÆÁÇπÂûãÁöÑÂÄº„ÄÇ$setÁî®‰∫é‰øÆÊîπÊñáÊ°£ÁöÑÂ≠óÊÆµÂÄºÔºåÂΩìËøô‰∏™Â≠óÊÆµ‰∏çÂ≠òÂú®ÁöÑÊó∂ÂÄôÂ∞±ÂàõÂª∫‰∏Ä‰∏™„ÄÇÂ¶ÇÔºö123456789101112131415161718&gt; db.test.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog", "pageview" : 51&#125;&gt; db.test.update(&#123;"_id":ObjectId("58a9ace92363ff29a7d881e9")&#125;, ... &#123;"$set":&#123;"note":"love leanote!!"&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.test.findOne(&#123;"_id":ObjectId("58a9ace92363ff29a7d881e9")&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog", "pageview" : 51, "note" : "love leanote!!"&#125;$setËøòÂèØ‰ª•‰øÆÊîπÈîÆÁöÑÁ±ªÂûãÔºåÊØîÂ¶ÇÂ∞ÜnoteÈîÆÁöÑÂÄºÊîπ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºö1234567891011121314&gt; db.test.update(&#123;"_id":ObjectId("58a9ace92363ff29a7d881e9")&#125;,... &#123;"$set":&#123;"note":["love leanote","the fun of code"]&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.test.findOne(&#123;"_id":ObjectId("58a9ace92363ff29a7d881e9")&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog", "pageview" : 51, "note" : [ "love leanote", "the fun of code" ]&#125;$set‰πüÂèØ‰ª•‰øÆÊîπÂÜÖÂµåÊñáÊ°£ÔºåÊØîÂ¶ÇÔºö12345678910111213141516171819202122&gt; db.blog.findOne()&#123; "_id" : ObjectId("58aa47f645b899838bfb6114"), "name" : "mrbird's blog", "post" : "mongodb", "comment" : &#123; "name" : "xiaohema", "msg" : "Â≠¶‰π†‰∫ÜÔºåÊÑüË∞¢ÂàÜ‰∫´" &#125;&#125;&gt; db.blog.update(&#123;"name":"mrbird's blog"&#125;,... &#123;"$set":&#123;"comment.msg":"Â•ΩÔºåÊîØÊåÅÂ®ÅÊ≠¶ÊúâÂ∏åÊúõ‰∫Ü"&#125;&#125;)&gt; db.blog.findOne()&#123; "_id" : ObjectId("58aa47f645b899838bfb6114"), "name" : "mrbird's blog", "post" : "mongodb", "comment" : &#123; "name" : "xiaohema", "msg" : "Â•ΩÔºåÊîØÊåÅÂ®ÅÊ≠¶ÊúâÂ∏åÊúõ‰∫Ü" &#125;&#125;‰ΩøÁî®$unsetÂèØÂà†Èô§ÈîÆÔºåÊØîÂ¶ÇÔºö12345678910&gt; db.test.update(&#123;"_id":ObjectId("58a9ace92363ff29a7d881e9")&#125;,... &#123;"$unset":&#123;"note":1&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.test.findOne(&#123;"_id":ObjectId("58a9ace92363ff29a7d881e9")&#125;)&#123; "_id" : ObjectId("58a9ace92363ff29a7d881e9"), "name" : "mrbird", "blog" : "mrbird's blog", "pageview" : 51&#125;Êï∞ÁªÑ‰øÆÊîπÂô®$push‰ºöÂêëÂ∑≤ÊúâÁöÑÊï∞ÁªÑÊú´Â∞æÊ∑ªÂä†‰∏Ä‰∏™ÂÄºÔºåÂ¶ÇÊûúÊï∞ÁªÑ‰∏çÂ≠òÂú®ÔºåÂàôÂàõÂª∫ËØ•Êï∞ÁªÑ„ÄÇÊØîÂ¶ÇÔºö123456789101112131415161718192021&gt; db.blog.findOne()&#123; "_id" : ObjectId("58aa47f645b899838bfb6114"), "name" : "mrbird's blog", "post" : "mongodb"&#125;&gt; db.blog.update(&#123;"name":"mrbird's blog"&#125;, &#123;"$push":...&#123;"comments": &#123;"name":"ltsc","msg":"‰∏çÊòéËßâÂéâ"&#125;&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.blog.findOne()&#123; "_id" : ObjectId("58aa47f645b899838bfb6114"), "name" : "mrbird's blog", "post" : "mongodb", "comments" : [ &#123; "name" : "ltsc", "msg" : "‰∏çÊòéËßâÂéâ" &#125; ]&#125;Â¶ÇÊûúË¶Å‰∏ÄÊ¨°ÊÄßÂêëÊï∞ÁªÑ‰∏≠Ê∑ªÂä†Â§ö‰∏™ÂÄºÔºåÂèØ‰ª•‰ΩøÁî®$pushÁªìÂêà$each‰øÆÊîπÂô®„ÄÇÊØîÂ¶ÇÔºö123456789101112131415161718192021222324&gt; db.blog.update(&#123;"name":"mrbird's blog"&#125;,... &#123;"$push":&#123;"comments":&#123;"$each":[... &#123;"name":"Althars","msg":"siguoyi"&#125;,... &#123;"name":"jint","msg":"ÂéâÂÆ≥‰∫ÜÊàëÁöÑÂì•"&#125;]&#125;&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.blog.findOne()&#123; "_id" : ObjectId("58aa47f645b899838bfb6114"), "name" : "mrbird's blog", "post" : "mongodb", "comments" : [ &#123; "name" : "ltsc", "msg" : "‰∏çÊòéËßâÂéâ" &#125;, &#123; "name" : "Althars", "msg" : "siguoyi" &#125;, &#123; "name" : "jint", "msg" : "ÂéâÂÆ≥‰∫ÜÊàëÁöÑÂì•" &#125; ]$sliceÂèØ‰ª•Âú®‰∏∫Êï∞ÁªÑÊ∑ªÂä†ÂÄºÁöÑÊó∂ÂÄôÊà™ÂèñÊï∞ÁªÑÔºå‰ΩÜÂøÖÈ°ªÈÖçÂêà$pushÂíå$each‰∏ÄËµ∑‰ΩøÁî®ÔºåÂê¶ÂàôÊä•ËØ≠Ê≥ïÈîôËØØÔºåÊØîÂ¶ÇÔºö123456789101112131415161718192021222324252627&gt; db.user.findOne()&#123; "_id" : ObjectId("58aa5e8a6a294f5543ff66eb"), "name" : "KangKang", "sex" : "male", "habbit" : [ "basketball", "football", "swimming", "running" ]&#125;&gt; db.user.update(&#123;"name":"KangKang"&#125;,... &#123;"$push":&#123;"habbit":&#123;"$each":... ["eating"],"$slice":-3&#125;&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.user.findOne()&#123; "_id" : ObjectId("58aa5e8a6a294f5543ff66eb"), "name" : "KangKang", "sex" : "male", "habbit" : [ "swimming", "running", "eating" ]&#125;‰ªéÁªìÊûúÂèØ‰ª•ÁúãÂá∫Ôºå$sliceÊà™Âèñ‰∫ÜÊï∞ÁªÑÊúÄÊñ∞ÁöÑ‰∏â‰∏™ÂÄº„ÄÇÊ≥®ÊÑèÔºå$sliceÁöÑÂÄºÂøÖÈ°ªÊòØË¥üÊï¥Êï∞„ÄÇÁé∞Âú®ÊúâËøô‰πà‰∏ÄÁßçÊÉÖÂÜµÔºå$push‰øÆÊîπÂô®ÂèØ‰ª•Âêë‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠Ê∑ªÂä†ÈáçÂ§çÁöÑÂÄºÔºåÂ¶ÇÔºö12345678910111213141516171819&gt; db.user.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58aa7cb06a294f5543ff66ec"), "name" : "mrbird", "email" : [ "mrbird@qq.com" ]&#125;&gt; db.user.update(&#123;"name":"mrbird"&#125;, &#123;"$push":&#123;"email":"mrbird@qq.com"&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.user.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58aa7cb06a294f5543ff66ec"), "name" : "mrbird", "email" : [ "mrbird@qq.com", "mrbird@qq.com" ]&#125;Â¶ÇÊûúÂ∏åÊúõÊï∞ÁªÑ‰∏≠Ê∑ªÂä†ÁöÑÂÄº‰∏çÈáçÂ§çÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî®$addToSet‰øÆÊîπÂô®Ôºö12345678910111213141516&gt; db.user.update(&#123;"name":"mrbird"&#125;, &#123;"$unset":&#123;"email":1&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.user.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58aa7cb06a294f5543ff66ec"), "name" : "mrbird" &#125;&gt; db.user.update(&#123;"name":"mrbird"&#125;, ... &#123;"$addToSet":&#123;"email":&#123;"$each":["mrbird@qq.com","mrbird@qq.com","mrbird@gmail.com"]&#125;&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.user.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58aa7cb06a294f5543ff66ec"), "name" : "mrbird", "email" : [ "mrbird@qq.com", "mrbird@gmail.com" ]&#125;Âà†Èô§Êï∞ÁªÑÂÖÉÁ¥†ÊúâÂá†ÁßçÊñπÊ≥ïÔºåÊØîÂ¶Ç$popÔºå{‚Äú$pop‚Äù:{&quot;key&quot;:1}}Ë°®Á§∫‰ªéÊï∞ÁªÑÂ∞æÈÉ®Âà†Èô§ÂÖÉÁ¥†Ôºå-1ÂàôË°®Á§∫‰ªéÂ§¥ÈÉ®Âà†Èô§Ôºö1234567891011121314151617181920&gt; db.user.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58aa7cb06a294f5543ff66ec"), "name" : "mrbird", "email" : [ "mrbird@qq.com", "mrbird@gmail.com" ]&#125;&gt; db.user.update(&#123;"name":"mrbird"&#125;,... &#123;"$pop":&#123;"email":1&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.user.findOne(&#123;"name":"mrbird"&#125;)&#123; "_id" : ObjectId("58aa7cb06a294f5543ff66ec"), "name" : "mrbird", "email" : [ "mrbird@qq.com" ]&#125;Âè¶Â§ñ‰∏Ä‰∏™Âà†Èô§Êï∞ÁªÑÂÖÉÁ¥†ÁöÑ‰øÆÊîπÂô®‰∏∫$pullÔºåËØ•Êìç‰ΩúÁ¨¶‰ºöÂ∞ÜÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†‰ªéÊï∞ÁªÑ‰∏≠Âà†Èô§„ÄÇÊØîÂ¶ÇÔºö12345678910111213141516171819202122232425262728&gt; db.user.update(&#123;"name":"KangKang"&#125;,... &#123;"$push":&#123;"habbit":"eating"&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.user.findOne(&#123;"name":"KangKang"&#125;)&#123; "_id" : ObjectId("58aa5e8a6a294f5543ff66eb"), "name" : "KangKang", "sex" : "male", "habbit" : [ "swimming", "running", "eating", "eating" ]&#125;&gt; db.user.update(&#123;"name":"KangKang"&#125;,... &#123;"$pull":&#123;"habbit":"eating"&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.user.findOne(&#123;"name":"KangKang"&#125;)&#123; "_id" : ObjectId("58aa5e8a6a294f5543ff66eb"), "name" : "KangKang", "sex" : "male", "habbit" : [ "swimming", "running" ]&#125;ËøòÂèØ‰ª•ÈÄöËøáÊï∞ÁªÑÁöÑ‰∏ãÊ†á‰øÆÊîπÊï∞ÁªÑÂÜÖÂÆπÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243&gt; db.blog.find(&#123;"name":"mrbird's blog"&#125;).pretty()&#123; "_id" : ObjectId("58aa47f645b899838bfb6114"), "name" : "mrbird's blog", "post" : "mongodb", "comments" : [ &#123; "name" : "ltsc", "msg" : "‰∏çÊòéËßâÂéâ" &#125;, &#123; "name" : "Althars", "msg" : "siguoyi" &#125;, &#123; "name" : "jint", "msg" : "ÂéâÂÆ≥‰∫ÜÊàëÁöÑÂì•" &#125; ]&#125;&gt; db.blog.update(&#123;"name":"mrbird's blog"&#125;,... &#123;"$set":&#123;"comments.1.msg":"ÂõõÂõΩ‰ª•"&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.blog.find(&#123;"name":"mrbird's blog"&#125;).pretty()&#123; "_id" : ObjectId("58aa47f645b899838bfb6114"), "name" : "mrbird's blog", "post" : "mongodb", "comments" : [ &#123; "name" : "ltsc", "msg" : "‰∏çÊòéËßâÂéâ" &#125;, &#123; "name" : "Althars", "msg" : "ÂõõÂõΩ‰ª•" &#125;, &#123; "name" : "jint", "msg" : "ÂéâÂÆ≥‰∫ÜÊàëÁöÑÂì•" &#125; ]&#125;ËøôÁßçÂÅöÊ≥ïÊúâÂ±ÄÈôêÊÄßÔºåÂ∞±ÊòØÂøÖÈ°ªÂÖàÁü•ÈÅìÂæÖ‰øÆÊîπÂ≠óÊÆµÁöÑÊï∞ÁªÑ‰∏ãÊ†áÔºåÂèØ‰ª•‰ΩøÁî®Âè¶Â§ñ‰∏ÄÁßçÊñπÊ≥ïÔºå‰∏ãÈù¢ËøôÁßçÊñπÊ≥ïÂè™ÈúÄË¶ÅÁü•ÈÅìÂæÖ‰øÆÊîπÂ≠óÊÆµÂ∞±Ë°å‰∫ÜÔºö1234567891011121314151617181920212223&gt; db.blog.update(&#123;"comments.msg":"ÂõõÂõΩ‰ª•"&#125;,... &#123;"$set":&#123;"comments.$.msg":"ÁúãÂÆåÊ≠§ÊñáÔºåÁäπÂ¶ÇÈÜçÈÜêÁÅåÈ°∂"&#125;&#125;)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.blog.find(&#123;"name":"mrbird's blog"&#125;).pretty()&#123; "_id" : ObjectId("58aa47f645b899838bfb6114"), "name" : "mrbird's blog", "post" : "mongodb", "comments" : [ &#123; "name" : "ltsc", "msg" : "‰∏çÊòéËßâÂéâ" &#125;, &#123; "name" : "Althars", "msg" : "ÁúãÂÆåÊ≠§ÊñáÔºåÁäπÂ¶ÇÈÜçÈÜêÁÅåÈ°∂" &#125;, &#123; "name" : "jint", "msg" : "ÂéâÂÆ≥‰∫ÜÊàëÁöÑÂì•" &#125; ]&#125;updateÂáΩÊï∞ÁöÑÁ¨¨‰∏â‰∏™ÂèÇÊï∞‰∏∫upsertÔºåËÆæÁΩÆ‰∏∫trueÊó∂ÔºåÊñ∞‰∏Ä‰∏™ÊñáÊ°£ÔºåÊ≤°ÊúâÊâæÂà∞ÂåπÈÖçÁöÑÊü•ËØ¢ÊñáÊ°£Êó∂ÔºåÊèíÂÖ•ËØ•ÊñáÊ°£ÔºåÊâæÂà∞‰∫ÜÂ∞±Êõ¥Êñ∞ÔºåÊØîÂ¶ÇÔºö1234567891011121314151617&gt; db.blog.findOne(&#123;"name":"mrbrid","post":"MongoDBÊñáÊ°£CUD"&#125;)null&gt; db.blog.update(&#123;"name":"mrbrid","post":"MongoDBÊñáÊ°£CUD"&#125;,... &#123;"$inc":&#123;"pageview":1&#125;&#125;,true)WriteResult(&#123; "nMatched" : 0, "nUpserted" : 1, "nModified" : 0, "_id" : ObjectId("58acf0743c8ad0b0d9d65f45")&#125;)&gt; db.blog.findOne(&#123;"name":"mrbrid","post":"MongoDBÊñáÊ°£CUD"&#125;)&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "name" : "mrbrid", "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 1&#125;updateÂáΩÊï∞ÁöÑÁ¨¨Âõõ‰∏™ÂèÇÊï∞‰∏∫multiÔºåËÆæÁΩÆ‰∏∫trueÁöÑÊó∂ÂÄôÔºåÊâπÈáèÊõ¥Êñ∞ÂíåÊü•ËØ¢ÊñáÊ°£ÂåπÈÖçÁöÑÊñáÊ°£ÔºåÊØîÂ¶ÇÂ∞Ümrbird‚Äôs blogÈõÜÂêà‰∏≠ÊâÄÊúâÊñáÊ°£ÁöÑpageviewÂ¢ûÂä†1Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041&gt; db.blog.find().pretty()&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "name" : "mrbird's blog", "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 1&#125;&#123; "_id" : ObjectId("58acf64b3c8ad0b0d9d65f4a"), "name" : "mrbird's blog", "post" : "MongoDB shell", "pageview" : 1&#125;&#123; "_id" : ObjectId("58acf65d3c8ad0b0d9d65f4d"), "name" : "mrbird's blog", "post" : "start Spring Boot", "pageview" : 1&#125;&gt; db.blog.update(&#123;"name":"mrbird's blog"&#125;,&#123;"$inc":&#123;"pageview":1&#125;&#125;,... false,true)WriteResult(&#123; "nMatched" : 3, "nUpserted" : 0, "nModified" : 3 &#125;)&gt; db.blog.find().pretty()&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "name" : "mrbird's blog", "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 2&#125;&#123; "_id" : ObjectId("58acf64b3c8ad0b0d9d65f4a"), "name" : "mrbird's blog", "post" : "MongoDB shell", "pageview" : 2&#125;&#123; "_id" : ObjectId("58acf65d3c8ad0b0d9d65f4d"), "name" : "mrbird's blog", "post" : "start Spring Boot", "pageview" : 2&#125;Âè¶Â§ñÔºåË∞ÉÁî®getLastErrorÂèØÊü•ÁúãÊúÄËøë‰∏ÄÊ¨°Êõ¥Êñ∞ÁöÑÊñáÊ°£Êï∞ÈáèÔºåÂ¶ÇÔºö12345678910&gt; db.runCommand(&#123;getLastError:1&#125;)&#123; "connectionId" : 1, "updatedExisting" : true, "n" : 3, "syncMillis" : 0, "writtenTo" : null, "err" : null, "ok" : 1&#125;Êã•ÊúâÁ±ª‰ºº‰∫ãÂä°ÁâπÊÄßÁöÑÊõ¥Êñ∞‰∏éÊü•ËØ¢Êìç‰ΩúfindAndModify„ÄÇÂÆÉÊòØÂéüÂ≠êÊÄßÁöÑÔºå‰ºöËøîÂõûÁ¨¶ÂêàÊü•ËØ¢Êù°‰ª∂ÁöÑÊõ¥Êñ∞ÂêéÁöÑÊñáÊ°£„ÄÇ‰∏ÄÊ¨°ÊúÄÂ§öÂè™Êõ¥Êñ∞‰∏Ä‰∏™ÊñáÊ°£Ôºå‰πüÂ∞±ÊòØÊù°‰ª∂queryÊù°‰ª∂Ôºå‰∏îÊâßË°åsortÂêéÁöÑÁ¨¨‰∏Ä‰∏™ÊñáÊ°£„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123456789db.COLLECTION_NAME.findAndModify(&#123; query:&#123;&#125;, update:&#123;&#125;, remove:true|false, new:true|false, sort:&#123;&#125;, fields:&#123;&#125;, upsert:true|false&#125;); ‚ÄãqueryÊòØÊü•ËØ¢ÈÄâÊã©Âô®Ôºå‰∏éfindOneÁöÑÊü•ËØ¢ÈÄâÊã©Âô®Áõ∏Âêå„ÄÇupdateÊòØË¶ÅÊõ¥Êñ∞ÁöÑÂÄºÔºå‰∏çËÉΩ‰∏éremoveÂêåÊó∂Âá∫Áé∞„ÄÇremoveË°®Á§∫Âà†Èô§Á¨¶ÂêàqueryÊù°‰ª∂ÁöÑÊñáÊ°£Ôºå‰∏çËÉΩ‰∏éupdateÂêåÊó∂Âá∫Áé∞„ÄÇnew‰∏∫trueÔºöËøîÂõûÊõ¥Êñ∞ÂêéÁöÑÊñáÊ°£ÔºåfalseÔºöËøîÂõûÊõ¥Êñ∞ÂâçÁöÑÔºåÈªòËÆ§ÊòØfalse„ÄÇsortÔºöÊéíÂ∫èÊù°‰ª∂Ôºå‰∏ésortÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏ÄËá¥„ÄÇfields:ÊäïÂΩ±Êìç‰ΩúÔºå‰∏éfindÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏ÄËá¥„ÄÇupsert:‰∏éupdateÁöÑupsertÂèÇÊï∞‰∏ÄÊ†∑„ÄÇ‰æãÂ≠êÔºö12345678910111213141516171819202122232425262728293031&gt; db.blog.findAndModify(&#123;... "query":&#123;"name":"mrbird's blog"&#125;,... "update":&#123;... "$inc":&#123;"pageview":1&#125;,... "$set":&#123;"like":1&#125;&#125;&#125;)&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "name" : "mrbird's blog", "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 3&#125;&gt; db.blog.find().pretty()&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "name" : "mrbird's blog", "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 4, "like" : 1&#125;&#123; "_id" : ObjectId("58acf64b3c8ad0b0d9d65f4a"), "name" : "mrbird's blog", "post" : "MongoDB shell", "pageview" : 3&#125;&#123; "_id" : ObjectId("58acf65d3c8ad0b0d9d65f4d"), "name" : "mrbird's blog", "post" : "start Spring Boot", "pageview" : 3&#125;ÂèØÂèëÁé∞ÔºåÊâßË°åfindAndModifyÂêéÔºåËøîÂõûË¢´Êõ¥Êñ∞ÂâçÔºàÈªòËÆ§ÊòæÁ§∫Êõ¥Êñ∞ÂâçÁöÑÔºâÁöÑÊñáÊ°£ÔºåÂπ∂‰∏îÂè™Êõ¥Êñ∞‰∫ÜÂåπÈÖçÁöÑÁ¨¨‰∏ÄÊù°ÊñáÊ°£„ÄÇÂ¶ÇÊûúË¶ÅËøîÂõûË¢´Êõ¥Êñ∞ÂêéÁöÑÊñáÊ°£ÔºåÊàë‰ª¨ËÆæÁΩÆnew ‰∏∫trueÔºö1234567891011&gt; db.blog.findAndModify(&#123; ..."query":&#123;"name":"mrbird's blog"&#125;, ..."update":&#123; "$inc":&#123;"pageview":1&#125;, "$set":&#123;"like":2&#125;&#125;,..."new":true&#125;)&#123; "_id" : ObjectId("58acf0743c8ad0b0d9d65f45"), "name" : "mrbird's blog", "post" : "MongoDBÊñáÊ°£CUD", "pageview" : 5, "like" : 2&#125;„ÄäMongoDBÊùÉÂ®ÅÊåáÂçó„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MongoDB</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeanoteÂçöÂÆ¢‰∏ªÈ¢òConciseness]]></title>
    <url>%2FLeanote%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98Conciseness.html</url>
    <content type="text"><![CDATA[‰∏ªÈ¢òConcisenessÂ∑≤‰∏äÊû∂LeanoteÂçöÂÆ¢‰∏ªÈ¢òÂ∏ÇÂú∫„ÄÇËØ•‰∏ªÈ¢ò‰øÆÊîπËá™roomcarÁöÑpure‰∏ªÈ¢ò„ÄÇ‰∏ªÈ¢òÈ¢ÑËßàÂõæÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöËØ•‰∏ªÈ¢òÂèØËá™Ë°å‰øÆÊîπÔºåËøôÈáåÂÅöÂá†ÁÇπ‰ªãÁªç„ÄÇ‰øÆÊîπÂõæÁâáÁºñËæë‰∏ªÈ¢òÔºåÊâæÂà∞theme.jsonÊñá‰ª∂‰ª•‰∏ãÂ≠óÊÆµÔºö12345..."BlogImgName": "blogImg.jpg","WebImgName": "webImg.png","ErrorImgName": "robot.png", ...BlogImgName‰∏∫ÂçöÂÆ¢About MeÂõæÁâáÔºåWebImgName‰∏∫ÁΩëÈ°µÂ∞èÂõæÊ†áÔºåErrorImgName‰∏∫404È°µÈù¢ÂõæÁâá„ÄÇÂÅáÂ¶ÇÁé∞Âú®ÊÇ®ÊÉ≥Â∞ÜAbout MeÁöÑÂõæÁâáÊç¢‰∏∫Ëá™Â∑±‰∏ä‰º†ÁöÑÂêç‰∏∫handsomeBoy.pngÁöÑÁÖßÁâáÔºåÂè™ÈúÄÂ∞Ütheme.jsonÊñá‰ª∂ÁöÑBlogImgNameÂ≠óÊÆµÂÄºÊç¢‰Ωç‚ÄúhandsomeBoy.png‚ÄùÂç≥ÂèØ„ÄÇ‰øÆÊîπAbout MeËøûÊé•ÁºñËæë‰∏ªÈ¢òÔºåÊâæÂà∞theme.jsonÊñá‰ª∂‰ª•‰∏ãÂ≠óÊÆµÔºö123"QQ": "123456","Weico": "http://weibo.com/","Facebook": "https://www.facebook.com/",ÂèØÂ∞ÜÂ±ûÊÄßÂÄºÊç¢‰∏∫Ëá™Â∑±ÁöÑËøûÊé•Âç≥ÂèØ„ÄÇ‰øÆÊîπÈü≥‰πêÈü≥‰πêÊèí‰ª∂Êù•Ëá™Ôºö32Á©∫Èó¥„ÄÇ‰øÆÊîπÈü≥‰πêÂè™ÈúÄ‰øÆÊîπtheme.jsonÊñá‰ª∂‰∏≠ÁöÑMusicUrl Â±ûÊÄßÂç≥ÂèØ„ÄÇËØ•Â±ûÊÄßÁöÑÂÄº‰∏∫‰∏Ä‰∏™Êï∞ÁªÑÔºåÊ†ºÂºèÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1&#123;"title": "musicTitle","artist":"artist","mp3": "musicUrl","cover": "musicCover"&#125;,title‰∏∫Ê≠åÊõ≤ÂêçÔºåartist‰∏∫Ê≠åÊâãÂêçÔºåmp3‰∏∫Èü≥‰πêËøûÊé•Ôºåcover‰∏∫‰∏ìËæëÂ∞ÅÈù¢„ÄÇÂÖ≥‰∫éËøôÂá†‰∏™ÂÄºÁöÑËé∑ÂèñÊñπÊ≥ïÔºå‰∏ãÈù¢ÂÅöËØ¶ÁªÜ‰ªãÁªçÔºö1.ÊØîÂ¶ÇÂú®ÁΩëÊòì‰∫ëÈü≥‰πê‰∏≠ÊêúÁ¥¢Ëé´ÊñáËîöÁöÑ„ÄäÂΩì‰Ω†ËÄÅ‰∫Ü„ÄãÔºåÂèØÂæóÂà∞Èü≥‰πêÈìæÊé•‰∏∫Ôºöhttp://music.163.com/#/song?id=30621954&amp;userid=3425798„ÄÇÂÖ∂‰∏≠songÁöÑid‰∏∫30621954„ÄÇ2.Â§çÂà∂ËØ•idÔºåÊâìÂºÄÈìæÊé•Ôºöhttp://music.163.com/api/song/detail/?id=yourId&amp;ids=%5ByourId%5D&amp;csrf_token=„ÄÇ3.Â∞ÜÈìæÊé•‰∏≠ÁöÑyourIdÊõ¥Êîπ‰∏∫Á¨¨‰∏ÄÊù°Â§çÂà∂ÁöÑÈü≥‰πêidÔºåÁÑ∂ÂêéÂõûËΩ¶ÔºåÂèØÁúãÂà∞È°µÈù¢Ëß£ÊûêÂá∫‰∏Ä‰∏™jsonÊ†ºÂºèÂÜÖÂÆπÔºö123456789101112131415161718192021222324252627282930313233343536373839&#123;"songs": [ &#123; "name": "ÂΩì‰Ω†ËÄÅ‰∫Ü", "id": 30621954,... "artists": [ &#123; "name": "Ëé´ÊñáËîö", "id": 8926, "picId": 0, "img1v1Id": 0, "briefDesc": "", "picUrl": "http://p3.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg", "img1v1Url": "http://p4.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg", "albumSize": 0, "alias": [], "trans": "", "musicSize": 0 &#125; ], "album": &#123; "name": "ÂΩì‰Ω†ËÄÅ‰∫Ü", "id": 3104146, "type": "EP/Single", "size": 1, "picId": 7860408627221136, "blurPicUrl": "http://p3.music.126.net/2nJOdPf1RlGY_tQdB5ZdPA==/7860408627221136.jpg", "companyId": 0, "pic": 7860408627221136, "picUrl": "http://p4.music.126.net/2nJOdPf1RlGY_tQdB5ZdPA==/7860408627221136.jpg", "publishTime": 1424188800007,... "mp3Url": "http://m2.music.126.net/tQ0pNmpsiHIsxEl-CnMmJg==/7897792022607979.mp3" &#125; ],"equalizers": &#123;&#125;,"code": 200&#125;‰∏ÄÂ§ßÊÆµjsonÊï∞ÊçÆÔºåÂíåÊàë‰ª¨ÊúâÂÖ≥ÁöÑÂ∞±Âá†‰∏™ÔºåÂÖ∂‰∏≠titleËøôÈáåÊàë‰ª¨Â°´ÂÜô‰∏∫‚ÄúÂΩì‰Ω†ËÄÅ‰∫Ü‚ÄùÔºåartist‰∏∫‚ÄúËé´ÊñáËîö‚ÄùÔºåmp3‰∏∫jsonÊï∞ÊçÆ‰∏≠ÁöÑmp3UrlÂ≠óÊÆµÔºåËøôÈáå‰∏∫Ôºöhttp://m2.music.126.net/tQ0pNmpsiHIsxEl-CnMmJg==/7897792022607979.mp3„ÄÇcover‰∏∫jsonÊñá‰ª∂‰∏≠ÁöÑalbumÁöÑpicUrlÂ≠óÊÆµÂÄºÔºåËøôÈáå‰∏∫Ôºöhttp://p4.music.126.net/2nJOdPf1RlGY_tQdB5ZdPA==/7860408627221136.jpg„ÄÇÊâÄ‰ª•ÊúÄÁªàÁöÑËøôÈ¶ñÊ≠åÁöÑ‰ª£Á†Å‰∏∫Ôºö123456 &#123; "title": "ÂΩì‰Ω†ËÄÅ‰∫Ü", "artist":"Ëé´ÊñáËîö", "mp3": "http://m2.music.126.net/tQ0pNmpsiHIsxEl-CnMmJg==/7897792022607979.mp3", "cover": "http://p4.music.126.net/2nJOdPf1RlGY_tQdB5ZdPA==/7860408627221136.jpg"&#125;,Â∞ÜËøôÊÆµ‰ª£Á†ÅÂä†Âà∞theme.jsonÊñá‰ª∂‰∏≠ÁöÑmusicUrlÂ±ûÊÄß‰∏≠Âç≥ÂèØ„ÄÇËæìÂÖ•ÁâπÊïàÂú®ÊêúÁ¥¢‰ª•ÂèäËØÑËÆ∫Ê°ÜÂÜÖÂä†Â¶Ç‰∫ÜÊèí‰ª∂activate-power-mode.jsÁâπÊïàÔºåÂ¶ÇÊûú‰∏çÈúÄË¶ÅÂèØ‰ª•ÊâæÂà∞0-c.htmlÁ¨¨55Ë°åÔºö12345&lt;script&gt; POWERMODE.colorful = true; POWERMODE.shake = false; document.body.addEventListener('input', POWERMODE);&lt;/script&gt;Â∞ÜËøôÂá†Ë°å‰ª£Á†ÅÂà†ÊéâÂç≥ÂèØ„ÄÇÂºπÂá∫Â±ÇÈ°µÈù¢ÂºπÂá∫Â±Ç‰ΩøÁî®ÁöÑÊòØsweetAlert.jsÊèí‰ª∂„ÄÇÂΩìÂà†Èô§ËØÑËÆ∫‰ª•ÂèäÊú™ÁôªÂΩïÁä∂ÂÜµ‰∏ãÁÇπÂáªÂçöÊñáÁöÑËØÑËÆ∫ÂíåÁÇπËµûÊåâÈíÆÂç≥ÂèØËß¶ÂèëÔºåÂ¶ÇÔºöÁõ∏Â∫îAPIÂèØÊü•ÁúãsweetAlertÊèí‰ª∂ÂÆòÁΩë„ÄÇÂú®‰∏ªÈ¢òshare_comment.jsÊñá‰ª∂‰∏≠ÂèØÊâæÂà∞Áõ∏ÂÖ≥‰ª£Á†Å„ÄÇÂ¶ÇÊûúÊúâÁñëÈóÆÔºåÊ¨¢ËøéÁïôË®Ä„ÄÇ2017Âπ¥3Êúà27Êó•‰øÆÂ§ç‰∏Ä‰∫õbugÔºåÊ†∑ÂºèË∞ÉÊï¥„ÄÇÊúÄÊñ∞ÂÆâË£ÖÂåÖÔºögithub]]></content>
      <tags>
        <tag>Leanote</tag>
        <tag>theme</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MongoDB shell]]></title>
    <url>%2FMongoDB-shell.html</url>
    <content type="text"><![CDATA[ÂêØÂä®MongoDBÂÆâË£ÖÂ•ΩMongoDBÔºåÂ∞ÜÂÖ∂binÁõÆÂΩïÈÖçÁΩÆÂà∞Á≥ªÁªüÁéØÂ¢ÉÂèòÈáèpathÂêéÔºåÂú®Á£ÅÁõò‰∏äÂàõÂª∫‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì‰øùÂ≠òÁõÆÂΩïÔºåÊØîÂ¶ÇD:\MongoDBÔºåÁÑ∂ÂêéÊâìÂºÄÂëΩ‰ª§Á™óÂè£ËæìÂÖ•Â¶Ç‰∏ãÂëΩ‰ª§ÂêØÂä®MongoDBÊúçÂä°Ôºö1&gt; mongod --dbpath=d:\mongodbÂΩìÁúãÂà∞ËæìÂá∫Â¶Ç‰∏ã‰ø°ÊÅØÔºåË°®ÊòéÂêØÂä®ÊàêÂäüÔºåÁ´ØÂè£Âè∑‰∏∫27017Ôºö12...[thread1] waiting for connections on port 27017ÊâìÂºÄÂè¶Â§ñ‰∏Ä‰∏™ÂëΩ‰ª§Á™óÂè£‰Ωú‰∏∫ÂÆ¢Êà∑Á´ØÔºåËæìÂÖ•mongoÂç≥ÂèØËøû‰∏äÊúçÂä°Ôºö1234&gt; mongoMongoDB shell version v3.4.2connecting to: mongodb://127.0.0.1:27017MongoDB server version: 3.4.2ËØ≠Ê≥ïÁ≥ñMongoDB shellËá™Â∏¶‰∫Ü‰∏Ä‰∫õËØ≠Ê≥ïÁ≥ñÔºö123456show dbs ÂàóÂá∫ÊâÄÊúâDBuse dbname ÂàáÊç¢ÂΩìÂâçDBshow tables Êàñ show collections ÂàóÂá∫ÂΩìÂâçDBÁöÑÊâÄÊúâË°®/ÈõÜÂêàshow users ÂàóÂá∫ÂΩìÂâçDBÁöÑÊâÄÊúâÁî®Êà∑show profile ÂàóÂá∫ÂΩìÂâçDBÁöÑÊâÄÊúâÊÖ¢Êü•ËØ¢show logs ÂàóÂá∫ËøêË°åÊó•Âøó‰ΩøÁî®shellÊâßË°åËÑöÊú¨ÂÅáÂ¶ÇÂú®C:\Program Files\MongoDB\Server\3.4\binÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™test.jsËÑöÊú¨Êñá‰ª∂Ôºö1print("hello MnogoDB")Êúâ‰∏§ÁßçÊñπÂºèËÆ©MongoDBÊâßË°åËØ•ËÑöÊú¨ÔºöËøû‰∏äÊúçÂä°Ââç123456789&gt; exitbye C:\Users\Dell&gt;cd ../../program files/mongodb/server/3.4/binC:\Program Files\MongoDB\Server\3.4\bin&gt;mongo test.jsMongoDB shell version v3.4.2connecting to: mongodb://127.0.0.1:27017MongoDB server version: 3.4.2hello MnogoDBÂèØÁúãÂà∞ÔºåshellÈ°µÈù¢ÊâßË°å‰∫Ütest.jsËÑöÊú¨Âπ∂Â¶ÇÊúüËæìÂá∫hello MongoDBÔºàË∑ØÂæÑÂøÖÈ°ªÂíåËÑöÊú¨ÊâÄÂú®Ë∑ØÂæÑ‰∏ÄËá¥Ôºâ„ÄÇËøû‰∏äÊúçÂä°ÂêéËøû‰∏äÊúçÂä°ÂêéÔºåÂèØ‰ΩøÁî®load()ÂáΩÊï∞ÊâßË°åËÑöÊú¨Ôºö123&gt; load("test.js")hello MnogoDBtrueÂè¶Â§ñ‰∏Ä‰∏™Â∞±ÊòØÂèØ‰ª•Âú®shell‰∏≠ÂàùÂßãÂåñ‰∏Ä‰∫õËæÖÂä©ÂáΩÊï∞ÔºåÊØîÂ¶ÇÂÆö‰πâ‰∏Ä‰∏™hello.jsÔºö12345var hello = function()&#123; var world = ["handsome","charming"]; var index = Math.floor(Math.random()*2); print("hello mrbird,you are so "+world[index]);&#125;Âú®shell‰∏≠Âä†ËΩΩËøô‰∏™ËÑöÊú¨ÔºåhelloÂáΩÊï∞Â∞±ÂèØ‰ª•‰ΩøÁî®‰∫ÜÔºö12345678&gt; typeof helloundefined&gt; load("hello.js")true&gt; typeof hellofunction&gt; hello()hello mrbird,you are so charming.mongorc.jsÂØπ‰∫é‰∏Ä‰∫õÂ∏∏Áî®ÁöÑËÑöÊú¨ÔºåÂ¶ÇÊûúÊØèÊ¨°ÂêØÂä®ÊúçÂä°ÂêéÈÉΩÁî®load()ÊâãÂä®Âä†ËΩΩÔºåËøôÂ∞ÜÂæàÁπÅÁêê„ÄÇÂØπ‰∫éËøô‰∫õÂ∏∏Áî®ÁöÑËÑöÊú¨ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖ∂ÊîæÂú®.mongorc.jsÊñá‰ª∂‰∏≠ÔºåÂõ†‰∏∫MongoDBÂêØÂä®ÁöÑÊó∂ÂÄôÔºå‰ºöËá™Âä®Âä†ËΩΩËØ•ËÑöÊú¨„ÄÇÊØîÂ¶ÇÂú®.mongorc.jsÂä†ÂÖ•‰∏ÄÂè•ÈóÆÂÄôËØ≠Ôºö1print("Hello mrbird,welcome to use mongoDB")ËøûÊé•ÊúçÂä°Êó∂ÔºåshellÁ™óÂè£ËæìÂá∫Ôºö12345&gt; mongoMongoDB shell version v3.4.2connecting to: mongodb://127.0.0.1:27017MongoDB server version: 3.4.2Hello mrbird,welcome to use mongoDB‰πüÂèØ‰ª•Âä†Â¶Ç‰∏Ä‰∫õÂÆûÁî®ÂäüËÉΩÔºåÊØîÂ¶ÇÊ∑ªÂä†Èò≤Ê≠¢Ëá™Â∑±ËØØÂà†ÁöÑjsËÑöÊú¨Ôºö123456789var no = function()&#123; print("Please don't");&#125;;// Á¶ÅÊ≠¢Âà†Èô§Êï∞ÊçÆÂ∫ìdb.dropDatabases = DB.prototype.dropDatabases = no;// Á¶ÅÊ≠¢Âà†Èô§ÈõÜÂêàDBCollection.prototype.drop = no;// Á¶ÅÊ≠¢Âà†Èô§Á¥¢ÂºïDBCollection.prototype.dropIndex = no;ÊµãËØï‰∏Ä‰∏ãÔºö123456&gt; show collectionsblog&gt; db.blog.drop();Please don't&gt; show collectionsblogÈÖçÂêàÁºñËæëÂô®Âú®shell‰∏≠ÁºñËæëÊñáÊ°£ÊòØ‰∏Ä‰ª∂È∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖÔºåÊàë‰ª¨ÂèØ‰ª•Âú®.mongorc.jsÊñá‰ª∂‰∏≠Âä†ÂÖ•Ëá™Â∑±ÁöÑËÑöÊú¨ÁºñËæëÂô®Ôºö1EDITOR = "\"D:\\Program Files (x86)\\Notepad++\\notepad++.exe\""ËøôÈáåÊåáÂÆöÁºñËæëÂô®‰∏∫notepad++ÔºåÁÑ∂ÂêéÂú®shell‰∏≠Âç≥ÂèØÂÆûÁî®editÂëΩ‰ª§Êù•ÁºñËæë‰∏Ä‰∏™ÂèòÈáèÔºö123456789&gt; db.blog.findOne()&#123; "_id" : ObjectId("58a86088eb4ef940034d2733"), "title" : "mongodb shell", "content" : "mongodbË∂ÖÁ∫ßÊúâË∂£", "date" : ISODate("2017-02-18T14:55:39.679Z")&#125;&gt; var msg = db.blog.findOne()&gt; edit msgÁïåÈù¢ÂºπÂá∫ÔºöÂú®ÁºñËæëÂô®‰∏≠‰øÆÊîπcontentÂÜÖÂÆπÂêéÔºå‰øùÂ≠òÂπ∂ÈÄÄÂá∫ÁºñËæëÂô®ÔºåÂèòÈáèÂ∞±‰ºöË¢´ÈáçÊñ∞Ëß£ÊûêÁÑ∂ÂêéÂä†ËΩΩÂõûshellÔºö123456789&gt; db.blog.update(&#123;title: "mongodb shell"&#125;,msg)WriteResult(&#123; "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 &#125;)&gt; db.blog.findOne()&#123; "_id" : ObjectId("58a86088eb4ef940034d2733"), "title" : "mongodb shell", "content" : "mongodb is interesting", "date" : ISODate("2017-02-18T14:55:39.679Z")&#125;ÂèØÁúãÂà∞ÔºåÊñáÊ°£Â∑≤‰øÆÊîπ„ÄÇ„ÄäMongoDBÊùÉÂ®ÅÊåáÂçó„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MongoDB</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IntelliJ IDEA ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ]]></title>
    <url>%2FIntelliJ-IDEA-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html</url>
    <content type="text"><![CDATA[IntelliJ IDEA ‰∏ªË¶ÅÁî®‰∫éÊîØÊåÅ Java„ÄÅScala„ÄÅGroovy Á≠âËØ≠Ë®ÄÁöÑÂºÄÂèëÂ∑•ÂÖ∑ÔºåÂêåÊó∂ÂÖ∑Â§áÊîØÊåÅÁõÆÂâç‰∏ªÊµÅÁöÑÊäÄÊúØÂíåÊ°ÜÊû∂ÔºåÊìÖÈïø‰∫é‰ºÅ‰∏öÂ∫îÁî®„ÄÅÁßªÂä®Â∫îÁî®Âíå Web Â∫îÁî®ÁöÑÂºÄÂèë„ÄÇÊúÄËøë‰ΩøÁî®ÂêéËßâÂæóÊØîeclipseÂº∫Â§™Â§ö„ÄÇÂàùÊ¨°‰ΩøÁî®Ë¶ÅÈÖçÁΩÆÂêÑÁßçÂºÄÂèëÁéØÂ¢ÉÔºåÊâÄ‰ª•ËÆ∞‰πã„ÄÇÈÖçÁΩÆGit1.Âú®ÂÆòÁΩëhttps://git-scm.com/‰∏ãËΩΩGit for windowsÂπ∂ÂÆâË£Ö„ÄÇ2.ÊâìÂºÄIntelliJ IDEAÁöÑËÆæÁΩÆÁïåÈù¢ÔºåÈÄâÊã©Version Control ‚Üí GitÔºöÂ∞ÜPath to Git executableËÆæÁΩÆ‰∏∫GitÂÆâË£ÖË∑ØÂæÑ„ÄÇÈÖçÁΩÆGitHub1.ÊâìÂºÄIntelliJ IDEAÁöÑËÆæÁΩÆÁïåÈù¢ÔºåÈÄâÊã©Version Control ‚Üí GitHub„ÄÇ2.Â°´ÂÜôË¥¶Âè∑ÂØÜÁ†ÅÔºåÂπ∂ÊµãËØïÊòØÂê¶ÁôªÈôÜÊàêÂäüÔºöÈÖçÁΩÆMaven1.È¶ñÂÖàÈÖçÁΩÆMavenÊú¨Âú∞ËµÑÊ∫êÂ∫ìÂ≠òÊîæË∑ØÂæÑ(Êã∑Ë¥ùMavenËá™Â∏¶settings.xmlÔºåÊâìÂºÄ‰øÆÊîπÂ≠òÊîæË∑ØÂæÑ)Ôºö1&lt;localRepository&gt;D:\MyMaven\repository&lt;/localRepository&gt;2.ÊâìÂºÄIntelliJ IDEAÁöÑËÆæÁΩÆÁïåÈù¢ÔºåÈÄâÊã©Build,Execution,Deployment ‚Üí Build Tools ‚Üí MavenÔºöÈÄâÊã©Áõ∏Â∫îsettings.xmlÊñá‰ª∂Âç≥ÂèØ„ÄÇ]]></content>
      <tags>
        <tag>IntelliJ IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Security‰øùÊä§ÊñπÊ≥ï]]></title>
    <url>%2FSpring-Security%E4%BF%9D%E6%8A%A4%E6%96%B9%E6%B3%95.html</url>
    <content type="text"><![CDATA[Spring SecurityÊèê‰æõ‰∫Ü‰∏âÁßç‰∏çÂêåÁöÑÂÆâÂÖ®Ê≥®Ëß£Ôºö1.Spring SecurityËá™Â∏¶ÁöÑ@SecuredÊ≥®Ëß£Ôºõ2.JSR-250ÁöÑ@RolesAllowedÊ≥®Ëß£Ôºõ3.Ë°®ËææÂºèÈ©±Âä®ÁöÑÊ≥®Ëß£ÔºåÂåÖÊã¨@PreAuthorize„ÄÅ@PostAuthorize„ÄÅ@PreFilterÂíå @PostFilter„ÄÇ@SecuredÂú®Spring-Security.xml‰∏≠ÂêØÁî®@SecuredÊ≥®Ëß£Ôºö1&lt;global-method-security secured-annotations="enabled"/&gt;‰æãÂ¶ÇÂè™ÊúâÊã•ÊúâÊùÉÈôê‚ÄúROLE_ADMIN‚ÄùÁöÑÁî®Êà∑ÊâçËÉΩËÆøÈóÆ‰∏ãÈù¢Ëøô‰∏™ÊñπÊ≥ïÔºö1234@Secured("ROLE_ADMIN")public void test()&#123; ...&#125;ÊùÉÈôê‰∏çË∂≥Êó∂ÔºåÊñπÊ≥ïÊäõÂá∫Access DeniedÂºÇÂ∏∏„ÄÇ@SecuredÊ≥®Ëß£‰ºö‰ΩøÁî®‰∏Ä‰∏™StringÊï∞ÁªÑ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÊØè‰∏™StringÂÄºÊòØ‰∏Ä‰∏™ÊùÉÈôêÔºåË∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ïËá≥Â∞ëÈúÄË¶ÅÂÖ∑Â§áÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™ÊùÉÈôê„ÄÇÂ¶ÇÔºö1234@Secured(&#123;"ROLE_ADMIN","ROLE_USER"&#125;)public void test()&#123; ...&#125;@RolesAllowed@RolesAllowedÊ≥®Ëß£Âíå@SecuredÊ≥®Ëß£Âú®ÂêÑ‰∏™ÊñπÈù¢Âü∫Êú¨‰∏äÈÉΩÊòØ‰∏ÄËá¥ÁöÑ„ÄÇÂêØÁî®@RolesAllowedÊ≥®Ëß£Ôºö1&lt;global-method-security jsr250-annotations="enabled"/&gt;Ê†óÂ≠êÔºö1234@RolesAllowed("ROLE_ADMIN")public void test()&#123; ...&#125;SpELÊ≥®Ëß£ÂêØÁî®ËØ•Ê≥®Ëß£Ôºö1&lt;global-method-security pre-post-annotations="enabled"/&gt;@PreAuthorizeËØ•Ê≥®Ëß£Áî®‰∫éÊñπÊ≥ïÂâçÈ™åËØÅÊùÉÈôêÔºåÊØîÂ¶ÇÈôêÂà∂ÈùûVIPÁî®Êà∑Êèê‰∫§blogÁöÑnoteÂ≠óÊÆµÂ≠óÊï∞‰∏çÂæóË∂ÖËøá1000Â≠óÔºö1234@PreAuthorize("hasRole('ROLE_ADMIN') and #form.note.length() &lt;= 1000 or hasRole('ROLE_VIP')")public void writeBlog(Form form)&#123; ...&#125;Ë°®ËææÂºè‰∏≠ÁöÑ#formÈÉ®ÂàÜÁõ¥Êé•ÂºïÁî®‰∫ÜÊñπÊ≥ï‰∏≠ÁöÑÂêåÂêçÂèÇÊï∞„ÄÇËøô‰ΩøÂæóSpring SecurityËÉΩÂ§üÊ£ÄÊü•‰º†ÂÖ•ÊñπÊ≥ïÁöÑÂèÇÊï∞ÔºåÂπ∂Â∞ÜËøô‰∫õÂèÇÊï∞Áî®‰∫éËÆ§ËØÅÂÜ≥Á≠ñÁöÑÂà∂ÂÆö„ÄÇ@PostAuthorizeÊñπÊ≥ïÂêéË∞ÉÁî®ÊùÉÈôêÈ™åËØÅÔºåÊØîÂ¶ÇÊ†°È™åÊñπÊ≥ïËøîÂõûÂÄºÔºö12345@PreAuthorize("hasRole(ROLE_USER)")@PostAuthorize("returnObject.user.userName == principal.username")public User getUserById(long id)&#123; ... &#125;Spring SecurityÂú®SpEL‰∏≠Êèê‰æõ‰∫ÜÂêç‰∏∫returnObject ÁöÑÂèòÈáè„ÄÇÂú®ËøôÈáåÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™UserÂØπË±°ÔºåÊâÄ‰ª•Ëøô‰∏™Ë°®ËææÂºèÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆuserÂØπË±°‰∏≠ÁöÑuserNameÂ±ûÊÄß„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Security JSPÊ†áÁ≠æÂ∫ì]]></title>
    <url>%2FSpring-Security-JSP%E6%A0%87%E7%AD%BE%E5%BA%93.html</url>
    <content type="text"><![CDATA[Spring SecurityÊèê‰æõ‰∫Ü‰∏ÄÂ•óJSPÊ†áÁ≠æÂ∫ìÁî®‰∫é‰øùÊä§JSPËßÜÂõæ„ÄÇËØ•Â∫ìÊØîËæÉÂ∞èÔºåÂè™Êèê‰æõ‰∫Ü‰∏â‰∏™Ê†áÁ≠æ„ÄÇË¶Å‰ΩøÁî®Ëøô‰∏™Â∫ìÔºåÂÖàÂú®JSPÈ°µÈ¶ñÂä†ÂÖ•Ôºö1&lt;%@ taglib uri="http://www.springframework.org/security/tags" prefix="sec" %&gt;ËØ•Â∫ìÂåÖÂê´ÁöÑ‰∏â‰∏™Ê†áÁ≠æÂ¶Ç‰∏ãÔºö&lt;security:accesscontrollist&gt;ÔºöÂ¶ÇÊûúÁî®Êà∑ÈÄöËøáËÆøÈóÆÊéßÂà∂ÂàóË°®Êéà‰∫à‰∫ÜÊåáÂÆöÁöÑÊùÉÈôêÔºåÈÇ£‰πàÊ∏≤ÊüìËØ•Ê†áÁ≠æ‰Ωì‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇ&lt;security:authentication&gt;ÔºöÊ∏≤ÊüìÂΩìÂâçÁî®Êà∑ËÆ§ËØÅÂØπË±°ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ&lt;security:authorize&gt;ÔºöÂ¶ÇÊûúÁî®Êà∑Ë¢´Êéà‰∫à‰∫ÜÁâπÂÆöÁöÑÊùÉÈôêÊàñËÄÖSpELË°®ËææÂºèÁöÑËÆ°ÁÆóÁªìÊûú‰∏∫trueÔºåÈÇ£‰πàÊ∏≤ÊüìËØ•Ê†áÁ≠æ‰Ωì‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇËÆ§ËØÅÁî®Êà∑‰ø°ÊÅØ‰ΩøÁî®&lt;security:authentication&gt; JSPÊ†áÁ≠æÂèØ‰ª•ËÆøÈóÆÁî®Êà∑ÁöÑËÆ§ËØÅËØ¶ÊÉÖÔºöprincipalÔºöÁî®Êà∑ÁöÑÂü∫Êú¨‰ø°ÊÅØÂØπË±°„ÄÇ‰ΩøÁî®adminÁôªÈôÜÔºåÊü•ÁúãÂÖ∂Áî®Êà∑ËÆ§ËØÅËØ¶ÊÉÖÔºö1&lt;sec:authentication property="principal"/&gt;È°µÈù¢ÊòæÁ§∫ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö12345678org.springframework.security.core.userdetails.User@586034f: Username: admin; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_ADMIN,ROLE_USERËøòÂèØ‰ª•Â∞ÜÂÖ∂ËµãÂÄºÁªôÂèòÈáèÔºåÂπ∂ÊåáÂÆö‰ΩúÁî®ÂüüÔºö1&lt;sec:authentication property="principal" var="principal" scope="request"/&gt;detailsÔºöËÆ§ËØÅÁöÑÈôÑÂä†‰ø°ÊÅØÔºàIPÂú∞ÂùÄ„ÄÅËØÅ‰ª∂Â∫èÂàóÂè∑„ÄÅ‰ºöËØùIDÁ≠âÔºâ„ÄÇÊü•ÁúãadminÁî®Êà∑ÁöÑdetailsÂ±ûÊÄßÔºö1&lt;sec:authentication property="details"/&gt;È°µÈù¢ÊòæÁ§∫ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123org.springframework.security.web.authentication.WebAuthenticationDetails@21a2c: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: D45BA834E227E0DA5596FF8C56FB9CA1authoritiesÔºö‰∏ÄÁªÑÁî®‰∫éË°®Á§∫Áî®Êà∑ÊâÄÊéà‰∫àÊùÉÈôêÁöÑGrantedAuthorityÂØπË±°„ÄÇÊü•ÁúãadminÁî®Êà∑ÁöÑauthoritiesÂ±ûÊÄßÔºö1&lt;sec:authentication property="authorities"/&gt;È°µÈù¢ÊòæÁ§∫ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö1[ROLE_ADMIN, ROLE_USER]credentialsÔºöÁî®‰∫éÊ†∏ÂÆûÁî®Êà∑ÁöÑÂá≠ËØÅÔºàÈÄöÂ∏∏ÔºåËøô‰ºöÊòØÁî®Êà∑ÁöÑÂØÜÁ†ÅÔºâ„ÄÇÊ†πÊçÆÊùÉÈôêÂ±ïÁ§∫JSPÈ°µÈù¢ÁöÑÂÜÖÂÆπ‰πüÂèØ‰ª•Ê†πÊçÆÁî®Êà∑ÁöÑÊùÉÈôêËøõË°åÊúâÊù°‰ª∂ÁöÑÂ±ïÁ§∫ÔºåÊØîÂ¶ÇÂè™ËÆ©adminÁúãÂà∞admin I love u‰ø°ÊÅØÔºö123&lt;sec:authorize access="hasRole('ROLE_ADMIN')"&gt; admin i love u&lt;/sec:authorize&gt;ÊµãËØïËøáÁ®ã‰∏≠ÂèëÁé∞Á®ãÂ∫èÊä•ÈîôÔºöNo WebApplicationContext found: no ContextLoaderListener registered?„ÄÇ‰øÆÊîπweb.xmlÂä†ÂÖ•ContextLoaderListenerÈÖçÁΩÆÔºö123456789101112131415161718192021&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt; classpath:applicationContext.xml &lt;/param-value&gt;&lt;/context-param&gt;&lt;listener&gt; &lt;listener-class&gt; org.springframework.web.context.ContextLoaderListener &lt;/listener-class&gt; &lt;/listener&gt; &lt;servlet&gt; &lt;servlet-name&gt;spring&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;spring&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;...ÁªìÊûúÊäõÂá∫Êñ∞ÂºÇÂ∏∏ÔºöCould not open ServletContext resource [/WEB-INF/spring-servlet.xml]„ÄÇÂú®WEB-INF‰∏ãÂàõÂª∫‰∏Ä‰∏™spring-servlet.xmlÊñá‰ª∂Âç≥ÂèØÔºö1234567891011&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd"&gt; &lt;!-- some tags --&gt;&lt;/beans&gt;]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âü∫‰∫éÊï∞ÊçÆÂ∫ìÁî®Êà∑ËÆ§ËØÅ]]></title>
    <url>%2F%E5%9F%BA%E4%BA%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81.html</url>
    <content type="text"><![CDATA[ÂÆûÈôÖÂºÄÂèë‰∏≠Áî®Êà∑ÁöÑ‰ø°ÊÅØ‰∏ÄËà¨Â≠òÊîæÂú®Êï∞ÊçÆÂ∫ìË°®ÈáåÔºåÊâÄ‰ª•Êàë‰ª¨‰ΩøÁî®ÂÖÉÁ¥†Êõø‰ª£Áé∞‰ΩøÁî®MysqlÊï∞ÊçÆÂ∫ìÊºîÁ§∫ÔºåË°®ÁªìÊûÑÂ¶Ç‰∏ãÔºö123456789101112131415161718192021CREATE TABLE `role` ( `id` int(20) NOT NULL AUTO_INCREMENT COMMENT 'ËßíËâ≤ÁºñÂè∑', `name` varchar(60) NOT NULL COMMENT 'ËßíËâ≤', `note` varchar(100) DEFAULT NULL COMMENT 'ÊèèËø∞', PRIMARY KEY (`id`));CREATE TABLE `user` ( `id` int(20) NOT NULL AUTO_INCREMENT COMMENT 'Áî®Êà∑ÁºñÂè∑', `username` varchar(60) NOT NULL COMMENT 'Áî®Êà∑Âêç', `password` varchar(60) NOT NULL COMMENT 'ÂØÜÁ†Å', `status` int(20) NOT NULL COMMENT 'Áä∂ÊÄÅ', `note` varchar(100) DEFAULT NULL COMMENT 'ÊèèËø∞', PRIMARY KEY (`id`));CREATE TABLE `user_role` ( `role_id` int(20) NOT NULL COMMENT 'ËßíËâ≤ÁºñÂè∑', `user_id` int(20) NOT NULL COMMENT 'Áî®Êà∑ÁºñÂè∑', PRIMARY KEY (`role_id`,`user_id`), CONSTRAINT `user_role_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`), CONSTRAINT `user_role_ibfk_1` FOREIGN KEY (`role_id`) REFERENCES `role` (`id`));ÊèíÂÖ•ÊµãËØïÊï∞ÊçÆÔºö1234567INSERT INTO `role` VALUES ('1', 'ROLE_ADMIN', 'ÁÆ°ÁêÜÂëòËßíËâ≤');INSERT INTO `role` VALUES ('2', 'ROLE_USER', 'Áî®Êà∑ËßíËâ≤');INSERT INTO `user` VALUES ('1', 'admin', 'admin', '1', 'ÁÆ°ÁêÜÂëò');INSERT INTO `user` VALUES ('2', 'user', 'user', '1', 'ÊôÆÈÄöÁî®Êà∑');INSERT INTO `user_role` VALUES ('1', '1');INSERT INTO `user_role` VALUES ('1', '2');INSERT INTO `user_role` VALUES ('2', '2');Âä†ÂÖ•spring-jdbc‰ª•Âèämysql-connector‰æùËµñÔºö12345678910&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;4.3.2.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt;&lt;/dependency&gt;‰øÆÊîπspring-securityÈÖçÁΩÆÔºö123456789101112131415161718&lt;bean id="datasource" class="org.springframework.jdbc.datasource.DriverManagerDataSource" p:driverClassName="com.mysql.jdbc.Driver" p:url="jdbc:mysql://localhost:3306/security?useUnicode=true&amp;characterEncoding=UTF-8" p:username="root" p:password="123456"/&gt;&lt;jdbc-user-service id="user_service" data-source-ref="datasource" users-by-username-query="select username,password,status as enabled from user where username=?" authorities-by-username-query="select u.username,r.name as authority from user u join user_role ur on u.id=ur.user_id join role r on r.id=ur.role_id where u.username=?"/&gt;users-by-username-query‰∏∫Ê†πÊçÆÁî®Êà∑ÂêçÊü•ÊâæÁî®Êà∑ÔºåÁ≥ªÁªüÈÄöËøá‰º†ÂÖ•ÁöÑÁî®Êà∑ÂêçÊü•ËØ¢ÂΩìÂâçÁî®Êà∑ÁöÑÁôªÂΩïÂêçÔºåÂØÜÁ†ÅÂíåÊòØÂê¶Ë¢´Á¶ÅÁî®Ëøô‰∏ÄÁä∂ÊÄÅ„ÄÇauthorities-by-username-query‰∏∫Ê†πÊçÆÁî®Êà∑ÂêçÊü•ÊâæÊùÉÈôêÔºåÁ≥ªÁªüÈÄöËøá‰º†ÂÖ•ÁöÑÁî®Êà∑ÂêçÊü•ËØ¢ÂΩìÂâçÁî®Êà∑Â∑≤Ë¢´Êéà‰∫àÁöÑÊâÄÊúâÊùÉÈôê„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâSpring SecurityÁôªÂΩïÈ°µ]]></title>
    <url>%2F%E8%87%AA%E5%AE%9A%E4%B9%89Spring-Security%E7%99%BB%E5%BD%95%E9%A1%B5.html</url>
    <content type="text"><![CDATA[ËôΩÁÑ∂Spring SecurityÊ°ÜÊû∂ÁªôÊàë‰ª¨Ëµ†ÈÄÅ‰∫Ü‰∏™ÁôªÂΩïÈ°µÈù¢Ôºå‰ΩÜËøô‰∏™È°µÈù¢Ëøá‰∫éÁÆÄÂçïÔºåSpring SecurityÂÖÅËÆ∏Êàë‰ª¨Ëá™ÂÆö‰πâÁôªÂΩïÈ°µ„ÄÇÂáÜÂ§áÂ∑•‰ΩúÁ¨¨‰∏ÄÊ≠•Âú®maven‰∏≠Âä†ÂÖ•Spring SecurityÁõ∏ÂÖ≥‰æùËµñÔºàSpring MVCÂ∑≤Êê≠Âª∫Â•ΩÔºâ„ÄÇ123456789101112131415&lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt; &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt; &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt; &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;&lt;/dependency&gt;‰∏∫‰∫ÜÂú®È°πÁõÆ‰∏≠‰ΩøÁî® Spring Security ÊéßÂà∂ÊùÉÈôêÔºåÈ¶ñÂÖàË¶ÅÂú®web.xml ‰∏≠ÈÖçÁΩÆËøáÊª§Âô®ÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•ÊéßÂà∂ÂØπËøô‰∏™È°πÁõÆÁöÑÊØè‰∏™ËØ∑Ê±Ç‰∫Ü„ÄÇ12345678&lt;filter&gt; &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;&lt;/filter&gt;&lt;filter-mapping&gt; &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;applicationContext.xmlÁöÑÈÖçÁΩÆÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:p="http://www.springframework.org/schema/p" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd"&gt; &lt;!-- ÂºÄÂêØÁªÑ‰ª∂Êâ´Êèè --&gt; &lt;context:component-scan base-package="spring"/&gt; &lt;!-- ÂêØÁî®Spring mvc --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- ÈÖçÁΩÆviewResolver --&gt; &lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver" p:prefix="/WEB-INF/views/" p:suffix=".jsp" p:viewClass="org.springframework.web.servlet.view.JstlView"&gt; &lt;/bean&gt; &lt;mvc:resources location="/css/" mapping="/css/**"/&gt; &lt;!-- ÂºïÂÖ•spring-security.xml --&gt; &lt;import resource="spring-security.xml"/&gt;&lt;/beans&gt;Âú®applicationContext.xml‰∏≠Ôºå‰ΩøÁî®&lt;import/&gt;Ê†áÁ≠æÂºïÂÖ•‰∫Üspring-security.xmlÈÖçÁΩÆ„ÄÇspring-security.xmlÂÖàÁÆÄÂçïÈÖçÁΩÆÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;b:beans xmlns:b="http://www.springframework.org/schema/beans" xmlns="http://www.springframework.org/schema/security" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd"&gt; &lt;!-- ËÆæÁΩÆÂÖçÈ™åËØÅË∑ØÂæÑ --&gt; &lt;http pattern="/**/*.css" security="none"/&gt; &lt;http pattern="/**/*.jpg" security="none"/&gt; &lt;http pattern="/**/*.jpeg" security="none"/&gt; &lt;http pattern="/checkCode" security="none"/&gt; &lt;http auto-config="true"&gt; &lt;intercept-url pattern="/login" access="IS_AUTHENTICATED_ANONYMOUSLY" /&gt; &lt;intercept-url pattern="/admin" access="ROLE_ADMIN"/&gt; &lt;intercept-url pattern="/**" access="ROLE_USER"/&gt; &lt;form-login login-page="/login"/&gt; &lt;custom-filter ref="loginfilter" before="FORM_LOGIN_FILTER" /&gt; &lt;/http&gt; &lt;b:bean id="loginfilter" class="spring.security.web.MrbirdUsernamePasswordAuthenticationFilter"&gt; &lt;b:property name="filterProcessesUrl" value="/j_spring_security_check"/&gt; &lt;!-- ÁôªÂÖ•È°µÈù¢form mothed ÂøÖÈ°ªÊòØpost --&gt; &lt;b:property name="postOnly" value="true"/&gt; &lt;b:property name="authenticationManager" ref="authenticationManager" /&gt; &lt;b:property name="continueChainBeforeSuccessfulAuthentication" value="false"/&gt; &lt;/b:bean&gt; &lt;user-service id="user_service"&gt; &lt;user name="admin" password="123456" authorities="ROLE_USER,ROLE_ADMIN"/&gt; &lt;user name="user" password="123456" authorities="ROLE_USER"/&gt; &lt;/user-service&gt; &lt;authentication-manager alias="authenticationManager"&gt; &lt;authentication-provider user-service-ref="user_service"/&gt; &lt;/authentication-manager&gt;&lt;/b:beans&gt;‰∏äËø∞ÈÖçÁΩÆ‰∏≠‰∏ªË¶ÅÂπ≤‰∫ÜÂá†‰ª∂‰∫ãÔºö1.Â£∞ÊòéÂú®xml ‰∏≠‰ΩøÁî®Spring Security Êèê‰æõÁöÑÂëΩÂêçÁ©∫Èó¥xmlns=‚Äùhttp://www.springframework.org/schema/security&quot;„ÄÇ2.ËÆæÁΩÆ‰∏Ä‰∫õÂÖçÈ™åËØÅËµÑÊ∫êÊàñËÄÖË∑ØÂæÑ„ÄÇ3.Âà©Áî®intercept-urlÊù•Âà§Êñ≠Áî®Êà∑ÈúÄË¶ÅÂÖ∑Êúâ‰ΩïÁßçÊùÉÈôêÊâçËÉΩËÆøÈóÆÂØπÂ∫îÁöÑurlËµÑÊ∫êÔºåÂèØ‰ª•Âú®pattern‰∏≠ÊåáÂÆö‰∏Ä‰∏™ÁâπÂÆöÁöÑurlËµÑÊ∫êÔºåaccessÊåáÊòéÈúÄË¶ÅÁöÑÊùÉÈôê„ÄÇÊØîÂ¶Çurl ‚Äú/admin‚Äù ÂøÖÈ°ªÊã•ÊúâROLE_ADMINÁöÑÁî®Êà∑ÊâçËÉΩËÆøÈóÆ„ÄÇÂú®ÂÆûÈôÖ‰ΩøÁî®‰∏≠ÔºåSpring SecurityÈááÁî®ÁöÑÊòØ‰∏ÄÁßçÂ∞±ËøëÂéüÂàôÔºåÂ∞±ÊòØËØ¥ÂΩìÁî®Êà∑ËÆø ÈóÆÁöÑurl ËµÑÊ∫êÊª°Ë∂≥Â§ö‰∏™intercepter-url Êó∂ÔºåÁ≥ªÁªüÂ∞Ü‰ΩøÁî®Á¨¨‰∏Ä‰∏™Á¨¶ÂêàÊù°‰ª∂ÁöÑ intercept-url ËøõË°åÊùÉÈôêÊéßÂà∂„ÄÇ4.access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot;ÊåáÂÆöÂåøÂêçÁî®Êà∑‰πüÂèØ‰ª•ËÆøÈóÆ„ÄÇ5.&lt;form-login/&gt;Ê†áÁ≠æÁöÑlogin-page=‚Äù/login‚ÄùÂ±ûÊÄßË°®Á§∫ÁôªÂΩïÈ°µÈù¢ÁöÑËØ∑Ê±ÇÔºåÁî±ÊéßÂà∂Âô®ÂéªÂ§ÑÁêÜ„ÄÇ6.&lt;custom-filter/&gt;Ê†áÁ≠æÂºïÁî®‰∫Ü‰∏Ä‰∏™Âêç‰∏∫loginfilterÁöÑËøáÊª§Âô®ÔºåÁî®‰∫éÁôªÂΩïÁöÑÊó∂ÂÄôËøõË°åÈ™åËØÅ„ÄÇ7.Êé•‰∏ãÊù•ÂÆö‰πâ‰∫Üid‰∏∫loginfilterÁöÑbeanÔºåÂÖ∂filterProcessesUrlËÆæÂÆö‰∫ÜÁôªÂΩïÈ°µË°®ÂçïÊèê‰∫§Êó∂ÁöÑËØ∑Ê±ÇÔºõauthenticationManagerÂ±ûÊÄßÊåáÂêëauthenticationManager„ÄÇËØ•beanÂØπÂ∫îÁöÑÁ±ª‰∏ãÊñáÂÜçÂÅö‰ªãÁªç„ÄÇ8.user-service‰∏≠ÂÆö‰πâ‰∫Ü‰∏§‰∏™Áî®Êà∑Ôºåadmin ÂíåuserÔºåpasswordÂ±ûÊÄßÂÆö‰πâÂÖ∂ÂØÜÁ†ÅÔºåauthoritiesÂ±ûÊÄß‰∏∫ÂÖ∂ÂàÜÈÖçÊùÉÈôê„ÄÇ9.&lt;authentication-manager/&gt;Ê†áÁ≠æÊ≥®ÂÜå‰∫Ü‰∏Ä‰∏™ËÆ§ËØÅÁÆ°ÁêÜÂô®ÔºåÂπ∂ÈÄöËøá &lt;authentication-provider/&gt;Ê†áÁ≠æÁöÑuser-service-refÂ±ûÊÄßÂ∞Ü‰πãÂâçÂÆö‰πâÁöÑÁî®Êà∑Ë£ÖÈÖçËµ∑Êù•„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåËøòÂèØ‰ª•‰ΩøÁî®SpELË°®ËææÂºèËøõË°åurlÁöÑÊã¶Êà™„ÄÇÂêØÁî®SpELÂêØÁî®SpELÔºö123&lt;http auto-config="true" use-expressions="true"&gt; ...&lt;/http&gt;Spring SecurityÊîØÊåÅÁöÑÊâÄÊúâSpELË°®ËææÂºèÂ¶Ç‰∏ãÔºöÂÆâÂÖ®Ë°®ËææÂºèËÆ°ÁÆóÁªìÊûúauthenticationÁî®Êà∑ÁöÑËÆ§ËØÅÂØπË±°denyAllÁªìÊûúÂßãÁªà‰∏∫falsehasAnyRole(list of&nbsp;roles)Â¶ÇÊûúÁî®Êà∑Ë¢´Êéà‰∫à‰∫ÜÂàóË°®‰∏≠‰ªªÊÑèÁöÑÊåáÂÆöËßíËâ≤ÔºåÁªìÊûú‰∏∫truehasRole(role)Â¶ÇÊûúÁî®Êà∑Ë¢´Êéà‰∫à‰∫ÜÊåáÂÆöÁöÑËßíËâ≤ÔºåÁªìÊûú‰∏∫truehasIpAddress(IP Address)Â¶ÇÊûúËØ∑Ê±ÇÊù•Ëá™ÊåáÂÆöIPÁöÑËØùÔºåÁªìÊûú‰∏∫trueisAnonymous()Â¶ÇÊûúÂΩìÂâçÁî®Êà∑‰∏∫ÂåøÂêçÁî®Êà∑ÔºåÁªìÊûú‰∏∫trueisAuthenticated()Â¶ÇÊûúÂΩìÂâçÁî®Êà∑ËøõË°å‰∫ÜËÆ§ËØÅÁöÑËØùÔºåÁªìÊûú‰∏∫trueisFullyAuthenticated()Â¶ÇÊûúÂΩìÂâçÁî®Êà∑ËøõË°å‰∫ÜÂÆåÊï¥ËÆ§ËØÅÁöÑËØùÔºà‰∏çÊòØÈÄöËøáRemember-meÂäüËÉΩËøõË°åÁöÑËÆ§ ËØÅÔºâÔºåÁªìÊûú‰∏∫trueisRememberMe()Â¶ÇÊûúÂΩìÂâçÁî®Êà∑ÊòØÈÄöËøáRemember-meËá™Âä®ËÆ§ËØÅÁöÑÔºåÁªìÊûú‰∏∫truepermitAllÁªìÊûúÂßãÁªà‰∏∫trueprincipalÁî®Êà∑ÁöÑprincipalÂØπË±°‰ΩøÁî®SpELÊîπÂÜôÁöÑaccessÂ±ûÊÄßÔºö123456&lt;http auto-config="true" access-denied-page="/deny" use-expressions="true"&gt; &lt;intercept-url pattern="/login" access="permitAll" /&gt; &lt;intercept-url pattern="/admin" access="hasRole('ROLE_ADMIN')"/&gt; &lt;intercept-url pattern="/**" access="hasRole('ROLE_USER')"/&gt; ...&lt;/http&gt;Êé•‰∏ãÊù•Ëá™Â∑±ÁºñÂÜô‰∏™ÁôªÂΩïÈ°µ„ÄÇËá™ÂÆö‰πâÁôªÂΩïÈ°µlogin.jspÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;%@ taglib uri="http://www.springframework.org/tags" prefix="s" %&gt;&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/&gt; &lt;title&gt;login page&lt;/title&gt; &lt;link href="&lt;c:url value='/css/bootstrap.min.css'/&gt;" rel="stylesheet" type="text/css"&gt; &lt;link href="&lt;c:url value='/css/bootstrap-theme.min.css'/&gt;" rel="stylesheet" type="text/css"&gt; &lt;link href="&lt;c:url value='/css/templatemo_style.css'/&gt;" rel="stylesheet" type="text/css"&gt; &lt;/head&gt;&lt;body class="templatemo-bg-gray"&gt;&lt;div class="container"&gt; &lt;div class="col-md-12"&gt; &lt;h1 class="margin-bottom-15"&gt;Login Page&lt;/h1&gt; &lt;form action="&lt;s:url value='/j_spring_security_check'/&gt;" class="form-horizontal templatemo-container templatemo-login-form-1 margin-bottom-30" role="form" method="post"&gt; &lt;div class="form-group"&gt; &lt;div class="col-xs-12"&gt; &lt;div class="control-wrapper"&gt; &lt;span class="form-text"&gt;username&lt;/span&gt; &lt;input type="text" class="form-control" name="j_username"/&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;div class="col-md-12"&gt; &lt;div class="control-wrapper"&gt; &lt;span class="form-text"&gt;password&lt;/span&gt; &lt;input type="password" class="form-control" name="j_password"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;div class="col-md-12"&gt; &lt;div class="control-wrapper"&gt; &lt;span class="form-text"&gt;validateCode&lt;/span&gt; &lt;input type="password" class="form-control" name="validateCode"&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="form-group"&gt; &lt;div class="col-md-12"&gt; &lt;div class="control-wrapper"&gt; &lt;input type="submit" value="Log in" class="btn btn-info"&gt; &lt;input type="reset" value="Reset" class="btn btn-info"&gt; &lt;img id="checkCodeImg" title="È™åËØÅÁ†Å‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô" src="checkCode" onclick="changeValidateCode()" style="cursor: pointer;"&gt; &lt;a href="javascript:;" onclick="changeValidateCode()"&gt;Áúã‰∏çÊ∏ÖÔºü&lt;/a&gt; &lt;span class="form-error"&gt; $&#123;sessionScope['SPRING_SECURITY_LAST_EXCEPTION'].message&#125; &lt;/span&gt; &lt;span class="form-error"&gt; $&#123;SPRING_SECURITY_403_EXCEPTION.message&#125; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;script type="text/javascript"&gt; function changeValidateCode()&#123; document.getElementById("checkCodeImg").src = "checkCode"+ "?nocache=" + new Date().getTime(); &#125; &lt;/script&gt;&lt;/html&gt;‰∏éSpring SecurityÁõ∏ÂÖ≥ÁöÑÂ∞±Âá†‰∏™Ôºö1./j_spring_security_checkÔºåÊèê‰∫§ÁôªÂΩï‰ø°ÊÅØÁöÑURLÂú∞ÂùÄ„ÄÇ2.j_usernameÔºåËæìÂÖ•ÁôªÂΩïÂêçÁöÑÂèÇÊï∞ÂêçÁß∞„ÄÇ3.j_passwordÔºåËæìÂÖ•ÂØÜÁ†ÅÁöÑÂèÇÊï∞ÂêçÁß∞„ÄÇ4.${sessionScope[&#39;SPRING_SECURITY_LAST_EXCEPTION&#39;].message}Âíå${SPRING_SECURITY_403_EXCEPTION.message}Áî®‰∫éËæìÂá∫ÁôªÂΩïÂ§±Ë¥•ÁöÑÂºÇÂ∏∏‰ø°ÊÅØ„ÄÇlogin.jspÈ°µÈù¢Â∞æÈÉ®Ê∑ªÂä†‰∫ÜÈ™åËØÅÁ†ÅÈ™åËØÅ„ÄÇÈ™åËØÅÁ†ÅÂØπÂ∫îÁöÑcontrollerÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091@Controllerpublic class CodeController &#123; @RequestMapping(value="/checkCode") public void createCheckCode(HttpServletRequest request, HttpServletResponse response) throws IOException&#123; //ËÆæÁΩÆ‰∏çÁºìÂ≠òÂõæÁâá response.setHeader("Pragma", "No-cache"); response.setHeader("Cache-Control", "No-cache"); response.setDateHeader("Expires", 0); //ÊåáÂÆöÁîüÊàêÁöÑÂìçÂ∫îÁ±ªÂûãÂèäÊ†ºÂºè-ÂõæÁâájpg response.setContentType("image/jpeg"); //ÊåáÂÆöÁîüÊàêÈ™åËØÅÁ†ÅÁöÑÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶ int width=66,height=30; //ÂàõÂª∫BufferedImageÂØπË±°,ÂÖ∂‰ΩúÁî®Áõ∏ÂΩì‰∫é‰∏ÄÂõæÁâá BufferedImage image=new BufferedImage(width,height,BufferedImage.TYPE_INT_RGB); //ÂàõÂª∫GraphicsÂØπË±°,ÂÖ∂‰ΩúÁî®Áõ∏ÂΩì‰∫éÁîªÁ¨î Graphics g=image.getGraphics(); //ÂàõÂª∫Grapchics2DÂØπË±° Graphics2D g2d=(Graphics2D)g; Random random=new Random(); //ÂÆö‰πâÂ≠ó‰ΩìÊ†∑Âºè Font mfont=new Font("Ê•∑‰Ωì",Font.BOLD,20); g.setColor(getRandColor(200,250)); //ÁªòÂà∂ËÉåÊôØ g.fillRect(0, 0, width, height); //ËÆæÁΩÆÂ≠ó‰Ωì g.setFont(mfont); g.setColor(getRandColor(180,200)); //ÁªòÂà∂20Êù°È¢úËâ≤Âíå‰ΩçÁΩÆÂÖ®ÈÉ®‰∏∫ÈöèÊú∫‰∫ßÁîüÁöÑÁ∫øÊù°,ËØ•Á∫øÊù°‰∏∫2f for(int i=0;i&lt;20;i++)&#123; int x=random.nextInt(width-1); int y=random.nextInt(height-1); int x1=random.nextInt(6)+1; int y1=random.nextInt(12)+1; //ÂÆöÂà∂Á∫øÊù°Ê†∑Âºè BasicStroke bs=new BasicStroke(2f,BasicStroke.CAP_BUTT, BasicStroke.JOIN_BEVEL); Line2D line=new Line2D.Double(x,y,x+x1,y+y1); g2d.setStroke(bs); //ÁªòÂà∂Áõ¥Á∫ø g2d.draw(line); &#125; String sRand=""; String ctmp=""; String[] rBase=&#123;"1","2","3","4","5","6","7","8","9", "a","b","c","d","e","f","g", "h","i","j","k", "m","n", "o","p","q", "r","s","t", "u","v","w", "x","y","z", "A","B","C","D","E","F","G", "H", "J","K","L","M","N", "O","P","Q", "R","S","T", "U","V","W", "X","Y","Z"&#125;; //Âà∂ÂÆöËæìÂá∫ÁöÑÈ™åËØÅÁ†Å‰∏∫Âõõ‰Ωç for(int i=0;i&lt;4;i++)&#123; int index = random.nextInt(rBase.length-1); ctmp = rBase[index]; sRand+=ctmp; Color color=new Color(20+random.nextInt(110),20+random.nextInt(110), random.nextInt(110)); g.setColor(color); /*Â∞ÜÊñáÂ≠óÊóãËΩ¨Âà∂ÂÆöËßíÂ∫¶*/ Graphics2D g2d_word=(Graphics2D)g; AffineTransform trans=new AffineTransform(); //trans.rotate((45)*3.14/180,15*i+8,7); /*Áº©ÊîæÊñáÂ≠ó*/ float scaleSize=random.nextFloat()+0.8f; if(scaleSize&gt;1f) scaleSize=1f; trans.scale(scaleSize, scaleSize); g2d_word.setTransform(trans); g.drawString(ctmp, 12*i+12, 22); &#125; HttpSession session=request.getSession(true); session.setAttribute("validateCode", sRand); //ÈáäÊîægÊâÄÂç†Áî®ÁöÑÁ≥ªÁªüËµÑÊ∫ê g.dispose(); //ËæìÂá∫ÂõæÁâá ImageIO.write(image,"JPEG",response.getOutputStream()); &#125; /*ËØ•ÊñπÊ≥ï‰∏ªË¶Å‰ΩúÁî®ÊòØËé∑ÂæóÈöèÊú∫ÁîüÊàêÁöÑÈ¢úËâ≤*/ public Color getRandColor(int s,int e)&#123; Random random=new Random (); if(s&gt;255) s=255; if(e&gt;255) e=255; int r,g,b; r=s+random.nextInt(e-s); g=s+random.nextInt(e-s); b=s+random.nextInt(e-s); return new Color(r,g,b); &#125; &#125;Êé•‰∏ãÊù•ÁºñÂÜôindex.jspÔºåÊàêÂäüÁôªÂΩïÂêéË∑≥ËΩ¨Âà∞ËØ•È°µÈù¢Ôºö12345678910111213141516171819&lt;%@ taglib uri="http://www.springframework.org/security/tags" prefix="sec" %&gt;&lt;%@ taglib uri="http://www.springframework.org/tags" prefix="s" %&gt;&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/&gt; &lt;title&gt;index page&lt;/title&gt; &lt;link href="&lt;c:url value='/css/templatemo_style.css'/&gt;" rel="stylesheet" type="text/css"&gt; &lt;/head&gt;&lt;body class="templatemo-bg-gray"&gt; &lt;div class="index-div"&gt; &lt;span class="index-text"&gt;hello:&lt;sec:authentication property="name"/&gt;&lt;/span&gt;&lt;br/&gt; &lt;hr&gt; &lt;a href="&lt;s:url value='/admin'/&gt;"&gt;admin.jsp&lt;/a&gt; &lt;a href="j_spring_security_logout"&gt;logout&lt;/a&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;ÁºñÂÜôadmin.jspÁî®‰∫éÊµãËØïÊùÉÈôêÊéßÂà∂Ôºö1234567891011121314&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/&gt; &lt;title&gt;admin page&lt;/title&gt; &lt;link href="&lt;c:url value='/css/templatemo_style.css'/&gt;" rel="stylesheet" type="text/css"&gt; &lt;/head&gt;&lt;body class="templatemo-bg-gray"&gt; &lt;div class="index-div"&gt; &lt;span class="index-text"&gt;welcome admin!&lt;/span&gt;&lt;br/&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;È°µÈù¢Ë∑≥ËΩ¨controllerÔºö123456789101112131415161718import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping; @Controllerpublic class LoginController &#123; @RequestMapping(value="/login") public String login()&#123; return "login"; &#125; @RequestMapping(value="/admin") public String admin()&#123; return "admin"; &#125; @RequestMapping(value="/index") public String index()&#123; return "index"; &#125;&#125;Â§ÑÁêÜÁôªÂΩïÂú®spring-security.xmlÊñá‰ª∂‰∏≠ÂÆö‰πâÁöÑloginfilterËøáÊª§Âô®ÂØπÂ∫îÁöÑÁ±ªÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.HttpSession; import org.springframework.security.authentication.AuthenticationServiceException;import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;import org.springframework.security.core.Authentication;import org.springframework.security.core.AuthenticationException;import org.springframework.security.web.authentication .UsernamePasswordAuthenticationFilter;import org.springframework.util.StringUtils; public class MrbirdUsernamePasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter&#123; private boolean postOnly = true; public static final String VALIDATE_CODE = "validateCode"; public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException &#123; if (postOnly &amp;&amp; !request.getMethod().equals("POST")) &#123; throw new AuthenticationServiceException( "Authentication method not supported: " + request.getMethod()); &#125; //Ëé∑ÂèñËæìÂÖ•ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å String username = obtainUsername(request); String password = obtainPassword(request); //Ê†°È™å if (username == null || StringUtils.isEmpty(username.trim())) &#123; //Ê†°È™å‰∏çÈÄöËøáÊó∂ÊäõÂá∫Áõ∏Â∫îÁöÑÂºÇÂ∏∏ throw new AuthenticationServiceException( messages.getMessage("Auth.usernameIsNull")); &#125; if (password == null || StringUtils.isEmpty(password.trim())) &#123; throw new AuthenticationServiceException( messages.getMessage("Auth.passwordIsNull")); &#125; //Ê†°È™åÈ™åËØÅÁ†Å checkValidateCode(request); username = username.trim(); UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(username, password); setDetails(request, authRequest); //‰∏çÂÅöÁî®Êà∑ÁöÑÈ™åËØÅÂ∑•‰ΩúÔºåÂõ†‰∏∫Âú®org.springframework.security.web.access //.intercept.FilterSecurityInterceptor‰∏≠‰ºöÂÅöÈ™åËØÅ„ÄÇ‰∏çÈúÄË¶ÅÈáçÂ§çÈ™åËØÅ„ÄÇ return this.getAuthenticationManager().authenticate(authRequest); &#125; protected void checkValidateCode(HttpServletRequest request) &#123; HttpSession session = request.getSession(); String sessionValidateCode = obtainSessionValidateCode(session); //ËÆ©‰∏ä‰∏ÄÊ¨°ÁöÑÈ™åËØÅÁ†ÅÂ§±Êïà session.setAttribute(VALIDATE_CODE, null); String validateCodeParameter = obtainValidateCodeParameter(request); if (StringUtils.isEmpty(validateCodeParameter) || !sessionValidateCode.equalsIgnoreCase(validateCodeParameter)) &#123; throw new AuthenticationServiceException("È™åËØÅÁ†ÅÈîôËØØÔºÅ"); &#125; &#125; private String obtainValidateCodeParameter(HttpServletRequest request) &#123; Object obj = request.getParameter(VALIDATE_CODE); return null == obj ? "" : obj.toString().toLowerCase(); &#125; protected String obtainSessionValidateCode(HttpSession session) &#123; Object obj = session.getAttribute(VALIDATE_CODE); return null == obj ? "" : obj.toString().toLowerCase(); &#125; &#125;MrbirdUsernamePasswordAuthenticationFilterÁªßÊâøËá™UsernamePasswordAuthenticationFilterÔºå‰∏ªË¶ÅÂ∑•‰ΩúÊòØËé∑ÂèñÁî®Êà∑Âú®ÁôªÂΩïÁïåÈù¢ËæìÂÖ•ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÂπ∂Âà§Êñ≠ÊòØÂê¶‰∏∫Á©∫Ôºå‰ª•ÂèäÂà§Êñ≠È™åËØÅÁ†ÅÁöÑÊ≠£Á°ÆÊÄß„ÄÇUsernamePasswordAuthenticationToken ‰∏≠Êúâ2‰∏™ÂèÇÊï∞Object principalÔºà‰∏ªË¶ÅÁöÑË∫´‰ªΩËÆ§ËØÅ‰ø°ÊÅØÔºâÔºåObject credentialsÔºàÁî®‰∫éËØÅÊòéprincipalÊòØÊ≠£Á°ÆÁöÑ‰ø°ÊÅØÔºåÊØîÂ¶ÇÂØÜÁ†ÅÔºâÂú®‰∏Ä‰∏™Â∏¶ÊúâusernameÂíåpasswordÁöÑÊùÉÈôêËÆ§ËØÅËØ∑Ê±Ç‰∏≠ÔºåprincipalÂ∞±‰ºöË¢´ËµãÂÄºusernameÔºåcredentialsÂ∞±‰ºöË¢´ËµãÂÄºpassword„ÄÇÊàë‰ª¨ËøòÂèØ‰ª•Âú®Spring Security.xml‰∏≠ÁöÑloginfilter beanÈÖçÁΩÆÁôªÂΩïÊàêÂäü‰∏éÂ§±Ë¥•ÁöÑËøáÊª§Âô®Ôºö1234567891011121314151617181920&lt;b:bean id="loginfilter" class="spring.security.web.MrbirdUsernamePasswordAuthenticationFilter"&gt; ... &lt;!-- È™åËØÅÊàêÂäüÂêéÁöÑÂ§ÑÁêÜ--&gt; &lt;b:property name="authenticationSuccessHandler" ref="authenticationSuccessHandler"/&gt; &lt;!-- È™åËØÅÂ§±Ë¥•ÂêéÁöÑÂ§ÑÁêÜ--&gt; &lt;b:property name="authenticationFailureHandler" ref="authenticationFailureHandler"/&gt; ...&lt;/b:bean&gt;&lt;!-- ÁôªÂÖ•‰ø°ÊÅØÈ™åËØÅÂ§±Ë¥•ÂêéÔºåÈÄÄÂõûÂà∞ÁôªÂÖ•È°µÈù¢ --&gt;&lt;b:bean id="authenticationFailureHandler" class="org.springframework.security.web.authentication .SimpleUrlAuthenticationFailureHandler"&gt; &lt;b:property name="defaultFailureUrl" value="/login?error=true"/&gt; &lt;/b:bean&gt; &lt;!-- ÁôªÂÖ•‰ø°ÊÅØÈ™åËØÅÊàêÂäüÂêéÔºåÁôªÂÖ•Á≥ªÁªü‰∏ªÈ°µ --&gt;&lt;b:bean id="authenticationSuccessHandler" class="spring.security.web.MrbirdLoginSuccessHandler"&gt; &lt;b:property name="defaultTargetUrl" value="/index"/&gt;&lt;/b:bean&gt;ÂÖ∂‰∏≠ÔºåMrbirdLoginSuccessHandlerÁî®‰∫éÂ§ÑÁêÜÁôªÂΩïÊàêÂäüÂêéÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇÁîüÊàêÊó•ÂøóÁ≠âÔºö1234567891011121314151617181920212223import java.io.IOException;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse; import org.springframework.security.core.Authentication;import org.springframework.security.core.userdetails.User;import org.springframework.security.web.authentication .SavedRequestAwareAuthenticationSuccessHandler; public class MrbirdLoginSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler &#123; public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,Authentication authentication) throws ServletException, IOException&#123; System.out.println("ÁôªÂΩïÊàêÂäüÔºÅ"); //Ëé∑ÂèñÁôªÂΩï‰∫∫‰ø°ÊÅØ User user = (User) authentication.getPrincipal(); System.out.println(user.getUsername()+user.getAuthorities()); //Ë∑≥ËΩ¨Âà∞‰∏ªÈ°µÈù¢ super.onAuthenticationSuccess(request, response, authentication); &#125;&#125;Â§ÑÁêÜÁôªÂá∫ÂêåÊ†∑ÔºåÊàë‰ª¨ÂèØ‰ª•Ê∑ªÂä†ÁôªÂá∫ËøáÊª§Âô®ÔºåÂú®Spring Security.xml‰∏≠ÁöÑ‰∏≠ÈÖçÁΩÆÁôªÂá∫ËøáÊª§Âô®Ôºö12345678910&lt;http auto-config="true"&gt; ... &lt;logout invalidate-session="true" logout-url="/j_spring_security_logout" success-handler-ref="logoutSuccessHandler"/&gt; &lt;/http&gt; &lt;!-- ÁôªÂá∫ÊàêÂäüÔºåÂ§ÑÁêÜÁ±ª --&gt;&lt;b:bean id="logoutSuccessHandler" class="spring.security.web.MrbirdLogoutSuccessHandler"&gt; &lt;b:property name="defaultTargetUrl" value="/login"/&gt;&lt;/b:bean&gt;logoutSuccessHandlerÂØπÂ∫îÁöÑÁ±ªMrbirdLogoutSuccessHandlerÔºö12345678910111213141516171819202122232425import java.io.IOException;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse; import org.springframework.security.core.Authentication;import org.springframework.security.core.userdetails.User;import org.springframework.security.web.authentication .AbstractAuthenticationTargetUrlRequestHandler;import org.springframework.security.web.authentication.logout .LogoutSuccessHandler; public class MrbirdLogoutSuccessHandler extends AbstractAuthenticationTargetUrlRequestHandler implements LogoutSuccessHandler&#123; public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException &#123; System.out.println("ÁôªÂá∫ÊàêÂäüÔºÅ"); User user = (User) authentication.getPrincipal(); System.out.println(user.getUsername()+user.getAuthorities()); //Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ super.handle(request, response, authentication); &#125;&#125;ÂºÇÂ∏∏‰ø°ÊÅØÊú¨Âú∞ÂåñSpring SecurityËá™Â∏¶ÁöÑÂºÇÂ∏∏‰ø°ÊÅØÊòæÁ§∫ÊòØÁ∫ØËã±ÊñáÁöÑÔºå‰ΩÜSpring SecurityÊîØÊåÅÂºÇÂ∏∏‰ø°ÊÅØÊú¨Âú∞ÂåñÔºåËøô‰∫õ‰ø°ÊÅØÂåÖÊã¨ËÆ§ËØÅÂ§±Ë¥•„ÄÅËÆøÈóÆË¢´ÊãíÁªùÁ≠â„ÄÇÂú®Spring Security.xml‰∏≠ÈÖçÁΩÆÔºö12345678910&lt;b:bean id="loginfilter" class="spring.security.web.MrbirdUsernamePasswordAuthenticationFilter"&gt; ... &lt;b:property name="messageSource" ref="messageSource"/&gt; &lt;/b:bean&gt;&lt;!-- ÂÆö‰πâÁôªÂΩïÈ°µÈù¢ÂºÇÂ∏∏‰ø°ÊÅØÁöÑÊú¨Âú∞Âåñ --&gt; &lt;b:bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource"&gt; &lt;b:property name="basename" value="classpath:messages_zh_CN"/&gt; &lt;/b:bean&gt;ÂÖ∂‰∏≠Ôºåmessages_zh_CN.propertiesÈÖçÁΩÆÂ¶Ç‰∏ãÔºö123AbstractUserDetailsAuthenticationProvider.badCredentials=\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEFAuth.usernameIsNull=\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7AAuth.passwordIsNull=\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7AAbstractUserDetailsAuthenticationProvider.badCredentialsÂÆö‰πâ‰∫ÜË¥¶Êà∑ÊàñÂØÜÁ†Å‰∏çÂåπÈÖçÊó∂ÂÄôÁöÑÂºÇÂ∏∏‰ø°ÊÅØÔºåAuth.usernameIsNullÂíåAuth.passwordIsNullÂàôÊòØMrbirdUsernamePasswordAuthenticationFilter‰∏≠ÊäõÂá∫ÁöÑÂºÇÂ∏∏„ÄÇËá™ÂÆö‰πâÈôêÂà∂È°µÈù¢ÂΩìÈ°µÈù¢Âõ†‰∏∫Áî®Êà∑ÊùÉÈôê‰∏çË∂≥ËÄåÂèóÈôêÁöÑÊó∂ÂÄôÔºåÊòæÁ§∫ÁöÑÊòØ403 Access is DeniedÈ°µÈù¢ÔºåÊàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâËøô‰∏™ÂèóÈôêÈ°µÈù¢„ÄÇ‰øÆÊîπÈÖçÁΩÆspring security.xmlÊñá‰ª∂ÁöÑÂÖÉÁ¥†ÔºåÊ∑ªÂä†Ëá™ÂÆö‰πâËÆøÈóÆÊãíÁªùÈ°µÈù¢ÁöÑÂú∞ÂùÄÔºö123&lt;http auto-config="true" access-denied-page="/deny" &gt; ...&lt;/http&gt;Âú®LoginController‰∏≠Ê∑ªÂä†Ôºö12345...@RequestMapping(value="/deny")public String deny()&#123; return "deny";&#125;deny.jsp123456789101112131415&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/&gt; &lt;title&gt;deny page&lt;/title&gt; &lt;link href="&lt;c:url value='/css/templatemo_style.css'/&gt;" rel="stylesheet" type="text/css"&gt; &lt;/head&gt;&lt;body class="templatemo-bg-gray"&gt; &lt;div class="index-div"&gt; &lt;span class="index-text-deny" style='color:#C7425C;font-size:28px;'&gt; sorry,Insufficient authority +_+ &lt;/span&gt;&lt;br/&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;ÊµãËØïÊúÄÁªàÔºåÂ∑•Á®ãÁöÑÁõÆÂΩïÁªìÊûÑ‰∏∫Ôºöspring security.xmlÊúÄÁªàÈÖçÁΩÆÂ¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;b:beans xmlns:b="http://www.springframework.org/schema/beans" xmlns="http://www.springframework.org/schema/security" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd"&gt; &lt;!-- ËÆæÁΩÆÂÖçÈ™åËØÅË∑ØÂæÑ --&gt; &lt;http pattern="/**/*.css" security="none"/&gt; &lt;http pattern="/**/*.jpg" security="none"/&gt; &lt;http pattern="/**/*.jpeg" security="none"/&gt; &lt;http pattern="/checkCode" security="none"/&gt; &lt;http auto-config="true" access-denied-page="/deny" use-expressions="true"&gt; &lt;intercept-url pattern="/login" access="permitAll" /&gt; &lt;intercept-url pattern="/admin" access="hasRole('ROLE_ADMIN')"/&gt; &lt;intercept-url pattern="/**" access="hasRole('ROLE_USER')"/&gt; &lt;form-login login-page="/login"/&gt; &lt;custom-filter ref="loginfilter" before="FORM_LOGIN_FILTER" /&gt; &lt;logout invalidate-session="true" logout-url="/j_spring_security_logout" success-handler-ref="logoutSuccessHandler"/&gt; &lt;/http&gt; &lt;b:bean id="loginfilter" class="spring.security.web.MrbirdUsernamePasswordAuthenticationFilter"&gt; &lt;b:property name="filterProcessesUrl" value="/j_spring_security_check"/&gt; &lt;!-- ÁôªÂÖ•È°µÈù¢form mothed ÂøÖÈ°ªÊòØpost --&gt; &lt;b:property name="postOnly" value="true"/&gt; &lt;!-- ÊùÉÈôêÁÆ°ÁêÜÂô® --&gt; &lt;b:property name="authenticationManager" ref="authenticationManager" /&gt; &lt;b:property name="continueChainBeforeSuccessfulAuthentication" value="false"/&gt; &lt;!-- È™åËØÅÊàêÂäüÂêéÁöÑÂ§ÑÁêÜ--&gt; &lt;b:property name="authenticationSuccessHandler" ref="authenticationSuccessHandler"/&gt; &lt;!-- È™åËØÅÂ§±Ë¥•ÂêéÁöÑÂ§ÑÁêÜ--&gt; &lt;b:property name="authenticationFailureHandler" ref="authenticationFailureHandler"/&gt; &lt;b:property name="messageSource" ref="messageSource"/&gt; &lt;/b:bean&gt; &lt;!-- ÂÆö‰πâÁôªÂΩïÈ°µÈù¢ÂºÇÂ∏∏‰ø°ÊÅØÁöÑÊú¨Âú∞Âåñ --&gt; &lt;b:bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource"&gt; &lt;b:property name="basename" value="classpath:messages_zh_CN"/&gt; &lt;/b:bean&gt; &lt;!-- ÁôªÂÖ•‰ø°ÊÅØÈ™åËØÅÂ§±Ë¥•ÂêéÔºåÈÄÄÂõûÂà∞ÁôªÂÖ•È°µÈù¢ --&gt; &lt;b:bean id="authenticationFailureHandler" class="org.springframework.security.web.authentication .SimpleUrlAuthenticationFailureHandler"&gt; &lt;b:property name="defaultFailureUrl" value="/login?error=true"/&gt; &lt;/b:bean&gt; &lt;!-- ÁôªÂÖ•‰ø°ÊÅØÈ™åËØÅÊàêÂäüÂêéÔºåÁôªÂÖ•Á≥ªÁªü‰∏ªÈ°µ --&gt; &lt;b:bean id="authenticationSuccessHandler" class="spring.security.web.MrbirdLoginSuccessHandler"&gt; &lt;b:property name="defaultTargetUrl" value="/index"/&gt; &lt;/b:bean&gt; &lt;!-- ÁôªÂá∫ÊàêÂäüÔºåÂ§ÑÁêÜÁ±ª --&gt; &lt;b:bean id="logoutSuccessHandler" class="spring.security.web.MrbirdLogoutSuccessHandler"&gt; &lt;b:property name="defaultTargetUrl" value="/login"/&gt; &lt;/b:bean&gt; &lt;user-service id="user_service"&gt; &lt;user name="admin" password="123456" authorities="ROLE_USER,ROLE_ADMIN"/&gt; &lt;user name="user" password="123456" authorities="ROLE_USER"/&gt; &lt;/user-service&gt; &lt;authentication-manager alias="authenticationManager"&gt; &lt;authentication-provider user-service-ref="user_service"/&gt; &lt;/authentication-manager&gt;&lt;/b:beans&gt;ÂêØÂä®Â∑•Á®ãÔºåËÆøÈóÆÔºöhttp://localhost:8080/spring-security/loginÂΩìÁôªÂΩïÂ§±Ë¥•Êó∂ÔºåÈ°µÈù¢Â¶Ç‰∏ãÔºöadminÊàêÂäüÁôªÂΩïÂêéÔºöÊéßÂà∂Âè∞ËæìÂá∫Ôºö12ÁôªÂΩïÊàêÂäüÔºÅadmin[ROLE_ADMIN, ROLE_USER]ÁÇπÂáªadmin.jspÔºöÁÇπÂáªlogoutÂõûÂà∞ÁôªÂΩïÈ°µÈù¢Ôºå‰ΩøÁî®userÁôªÂΩïÔºöÁÇπÂáªadmin.jspÔºöËÆøÈóÆÂèóÈôê„ÄÇsource code]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Spring Security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Carrying data across redirect requests]]></title>
    <url>%2FCarrying-data-across-redirect-requests.html</url>
    <content type="text"><![CDATA[ÈáçÂÆöÂêëËØ∑Ê±Ç‰º†ÈÄíÊï∞ÊçÆ‰∏ªË¶ÅÊúâURLÂíåflash‰∏§ÁßçÊñπÂºèÔºöURL123456@RequestMapping(value="/redirect",method=RequestMethod.GET)public String redirect(Model model)&#123; model.addAttribute("name", "KangKang"); model.addAttribute("id", 1l); return "redirect:/index/redirect/&#123;name&#125;";&#125;ÈáçÂÆöÂêë URLË∑ØÂæÑÂ∞Ü‰ºöÊòØ‚Äú/index/redirect/KangKang?id=1l‚Äù„ÄÇÈáçÂÆöÂêëÊñπÊ≥ïÔºö1234@RequestMapping(value="/redirect/&#123;name&#125;")public String getValue(@PathVariable String name,Long id)&#123; // do something&#125;ÈÄöËøáÊñ≠ÁÇπÔºåÂèØÁúãÂà∞nameÁöÑÂÄº‰∏∫KangKangÔºåid‰∏∫1l„ÄÇflashURLÂè™ËÉΩ‰º†ÈÄíStringÁ≠âÁÆÄÂçïÁ±ªÂûãÂÄºÔºåËÄåflashÂàôÂèØ‰º†ÈÄíJavaÂØπË±°Á≠âÂ§çÊùÇÁöÑÂÄº„ÄÇSpringÊèê‰æõ‰∫ÜÈÄöËøáRedirectAttributesËÆæÁΩÆflashÂ±ûÊÄßÁöÑÊñπÊ≥ïÔºåËøôÊòØSpring 3.1ÂºïÂÖ•ÁöÑModel ÁöÑ‰∏Ä‰∏™Â≠êÊé•Âè£„ÄÇRedirectAttributesÊèê‰æõ‰∫ÜModelÁöÑÊâÄÊúâÂäüËÉΩ„ÄÇ12345678@RequestMapping(value="/redirect",method=RequestMethod.GET)public String redirect(RedirectAttributes model)&#123; User user = new User(); user.setId(2l); user.setName("Jane"); model.addFlashAttribute(user); return "redirect:/index/redirect/flash";&#125;ÈáçÂÆöÂêëÊñπÊ≥ïÔºö1234@RequestMapping(value="/redirect/flash")public String getValue(Model model)&#123; return "testRedirect";&#125;testRedirect.jspÈ°µÈù¢ÂèØ‰ª•Áõ¥Êé•Áî®ELËÆøÈóÆUserÂØπË±°„ÄÇÂ¶ÇÊûúË¶ÅÂú®ÊñπÊ≥ï‰∏≠Ëé∑ÂèñUserÂØπË±°ÁöÑÂ±ûÊÄßÔºåÂèØ‰ª•‰ΩøÁî®@ModelAttribute(‚Äúuser‚Äù)Ê†áÁ≠æ„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring multipart‰∏ä‰º†‰∏ãËΩΩ]]></title>
    <url>%2FSpring-multipart%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD.html</url>
    <content type="text"><![CDATA[Âä†ÂÖ•‰æùËµñApache Commons FileUploadÔºö12345&lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt;maven tomcatËÆæÁΩÆURIÁºñÁ†Å‰∏∫UTF-8Ôºö123456789&lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.1&lt;/version&gt; &lt;configuration&gt; &lt;uriEncoding&gt;UTF-8&lt;/uriEncoding&gt; &lt;port&gt;8080&lt;/port&gt; &lt;/configuration&gt;&lt;/plugin&gt;multipartËß£ÊûêÂô®12345678&lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="defaultEncoding" value="utf-8"/&gt; &lt;!-- Âçï‰Ωç‰∏∫Â≠óËäÇ,ËøôÈáå‰∏∫100MB --&gt; &lt;property name="maxUploadSize" value="104857600"/&gt; &lt;!-- ‰∏¥Êó∂ÁõÆÂΩï --&gt; &lt;property name="uploadTempDir" value="/WEB-INF/temp"/&gt;&lt;/bean&gt;formË°®Âçï12345&lt;form action='&lt;s:url value="/upload"/&gt;' method="post" enctype="multipart/form-data"&gt; ÈÄâÊã©Êñá‰ª∂:&lt;input type="file" name="upload"&gt; &lt;input type="submit" value="Êèê‰∫§"&gt; &lt;/form&gt;Â§ÑÁêÜmultipartËØ∑Ê±Ç123456789101112131415161718192021222324252627282930313233343536373839404142434445@Controller@RequestMapping("/")public class FileUploadController &#123; @RequestMapping(value="upload",method=RequestMethod.GET) public String upload() &#123; return "upload"; &#125; @RequestMapping(value="upload",method=RequestMethod.POST) //@RequestPart("upload")ÂØπ‰∫éinputÊ°ÜÁöÑnameÂ±ûÊÄß public String processUpload(@RequestPart("upload") MultipartFile file, HttpServletRequest request,Model model) &#123; try&#123; if(file != null &amp;&amp; !file.isEmpty())&#123; // ‰øùÂ≠òÁöÑÊñá‰ª∂ÂêçÊú™UUID+‰∏ä‰º†Êñá‰ª∂ÂêçÔºåÂπ∂‰∏îËøáÊª§Êñá‰ª∂ÂêçÁâπÊÆäÂ≠óÁ¨¶ String fileName = makeFileName(StringFilter(file.getOriginalFilename())); String filePath = request.getSession().getServletContext() .getRealPath("/") + "/WEB-INF/upload/" + fileName; File uploadFile = new File(filePath); if(!uploadFile.exists())&#123; uploadFile.mkdirs(); &#125; // ËΩ¨Â≠òÊñá‰ª∂ file.transferTo(uploadFile); model.addAttribute("name",file.getOriginalFilename()); return "result"; &#125;else&#123; return "fail"; &#125; &#125;catch(Exception e)&#123; e.printStackTrace(); return "fail"; &#125; &#125; String makeFileName(String filename) &#123; return UUID.randomUUID().toString() + "_" + filename; &#125; String StringFilter(String str) throws PatternSyntaxException &#123; String regEx = "[`~!@#$%^&amp;*+=|&#123;&#125;':; ',//[//]&lt;&gt;/?~ÔºÅ@#Ôø•%‚Ä¶‚Ä¶&amp;*ÔºàÔºâ‚Äî‚Äî+|&#123;&#125;„Äê„Äë‚ÄòÔºõÔºö‚Äù‚Äú‚Äô„ÄÇÔºå„ÄÅÔºü]"; Pattern p = Pattern.compile(regEx); Matcher m = p.matcher(str); return m.replaceAll("").trim(); &#125;&#125;Â§öÊñá‰ª∂‰∏ä‰º†ÁöÑËØùÔºåÂè™ÈúÄÂ∞ÜMultipartFile fileÊîπ‰∏∫MultipartFile[] filesÔºåinputÊ†áÁ≠æÂä†‰∏ämultiple=‚Äùmultiple‚ÄùÂç≥ÂèØ„ÄÇÂ§ÑÁêÜ‰∏ãËΩΩÂΩìÊñá‰ª∂‰∏ä‰º†ÊàêÂäüÂêéÔºåÈ°µÈù¢Ë∑≥ËΩ¨Âà∞result.jspÔºö12&lt;p&gt;‰∏ä‰º†ÊàêÂäü&lt;/p&gt;&lt;a href="&lt;s:url value='/download?fileName=$&#123;name &#125;'/&gt;"&gt;$&#123;name &#125;&lt;/a&gt;Áé∞Â§ÑÁêÜ‰∏ãËΩΩËØ∑Ê±ÇÔºö123456789101112131415161718192021222324@RequestMapping(value="download") public void processDownload(String fileName,HttpServletResponse response, HttpServletRequest request) throws UnsupportedEncodingException&#123; String realFileName = fileName.substring(fileName.indexOf("_") + 1); try &#123; response.setCharacterEncoding("utf-8"); response.setContentType("multipart/form-data"); response.setHeader("Content-Disposition", "attachment;fileName=" + java.net.URLEncoder.encode(realFileName,"utf-8")); String filePath = request.getSession().getServletContext().getRealPath("/") + "WEB-INF/upload/" + fileName; InputStream inputStream = new FileInputStream(new File(filePath)); OutputStream os = response.getOutputStream(); byte[] b = new byte[2048]; int length; while ((length = inputStream.read(b)) &gt; 0) &#123; os.write(b, 0, length); &#125; os.close(); inputStream.close(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125;&#125;ÂºÇÊ≠•Â§ÑÁêÜÂºÇÊ≠•Â§ÑÁêÜmultipartÂèØ‰ª•‰ΩøÁî®jQuery.form.jsÊèí‰ª∂Êù•ÂÆåÊàêÔºö12345678$("#form_id").ajaxSubmit(&#123; url: "url.do", type: "post", dataType: "json", success: function(r)&#123; // your code here. &#125;&#125;);formË°®Âçï‰ª£Á†ÅÔºö123&lt;form enctype="multipart/form-data"&gt; ÈÄâÊã©Êñá‰ª∂:&lt;input type="file" name="upload"&gt; &lt;/form&gt;ÂêéÁ´Ø‰ª£Á†Å‰∏çÂèò„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring‰∏≠‰ΩøÁî®Apache TilesÂ∏ÉÂ±Ä]]></title>
    <url>%2FSpring-Apache-Tiles.html</url>
    <content type="text"><![CDATA[ÂÅáËÆæÊàë‰ª¨ÊÉ≥‰∏∫Â∫îÁî®‰∏≠ÁöÑÊâÄÊúâÈ°µÈù¢ÂÆö‰πâ‰∏Ä‰∏™ÈÄöÁî®ÁöÑÂ§¥ÈÉ®ÂíåÂ∫ïÈÉ®„ÄÇÊúÄÂéüÂßãÁöÑÊñπÂºèÂ∞±ÊòØÊü•ÊâæÊØè‰∏™JSPÊ®°ÊùøÔºåÂπ∂‰∏∫ÂÖ∂Ê∑ªÂä†Â§¥ÈÉ®ÂíåÂ∫ïÈÉ®ÁöÑHTML„ÄÇ‰ΩÜÊòØËøôÁßçÊñπÊ≥ïÁöÑÊâ©Â±ïÊÄßÂπ∂‰∏çÂ•ΩÔºå‰πüÈöæ‰ª•Áª¥Êä§„ÄÇÊõ¥Â•ΩÁöÑÊñπÂºèÊòØ‰ΩøÁî®Â∏ÉÂ±ÄÂºïÊìéÔºåÂ¶ÇApache TilesÔºåÂÆö‰πâÈÄÇÁî®‰∫éÊâÄÊúâÈ°µÈù¢ÁöÑÈÄöÁî®È°µÈù¢Â∏ÉÂ±Ä„ÄÇSpring MVC‰ª•ËßÜÂõæËß£ÊûêÂô®ÁöÑÂΩ¢Âºè‰∏∫Apache TilesÊèê‰æõ‰∫ÜÊîØÊåÅ„ÄÇÈÖçÁΩÆTilesËßÜÂõæËß£ÊûêÂô®È¶ñÂÖàÂºïÂÖ•‰æùËµñÔºö123456789101112131415&lt;dependency&gt; &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt; &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt; &lt;version&gt;3.0.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt; &lt;artifactId&gt;tiles-core&lt;/artifactId&gt; &lt;version&gt;3.0.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt; &lt;artifactId&gt;tiles-api&lt;/artifactId&gt; &lt;version&gt;3.0.7&lt;/version&gt;&lt;/dependency&gt;ÈÖçÁΩÆÔºö1234567891011121314&lt;!-- ÊåáÂÆötiles.xml --&gt;&lt;bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles3.TilesConfigurer"&gt; &lt;property name="definitions"&gt; &lt;list&gt; &lt;value&gt;/WEB-INF/views/tiles.xml&lt;/value&gt; &lt;/list&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!-- ‰ª£ÊõøInternalResourceViewResolver --&gt;&lt;bean id="viewResolver" class="org.springframework.web.servlet.view.tiles3.TilesViewResolver"/&gt;&lt;!-- ÈÖçÁΩÆÈùôÊÄÅËµÑÊ∫êË∑ØÂæÑ --&gt;&lt;mvc:resources location="/images/" mapping="/images/**"/&gt;tiles.xmlËßÅ‰∏ãÊñá„ÄÇtiles.xml1234567891011121314151617181920&lt;?xml version="1.0" encoding="utf-8" ?&gt;&lt;!DOCTYPE tiles-definitions PUBLIC "-//Apache Software Foundation//DTD Tiles Configuration 3.0//EN" "http://tiles.apache.org/dtds/tiles-config_3_0.dtd"&gt;&lt;tiles-definitions&gt; &lt;!-- ËÆæÁΩÆÂü∫Êú¨tileÔºåÂÆö‰πâ‰∫Üheader,body,footer --&gt; &lt;definition name="base" template="/WEB-INF/views/page.jsp"&gt; &lt;put-attribute name="header" value="/WEB-INF/views/header.jsp" /&gt; &lt;put-attribute name="footer" value="/WEB-INF/views/footer.jsp" /&gt; &lt;/definition&gt; &lt;!-- ÊãìÂ±ïtileÔºånameÂØπÂ∫îcontroller‰∏≠ÁöÑËßÜÂõæÂêçÔºåbodyÊåáÂÆöÈ°µÈù¢‰∏ª‰ΩìÂÜÖÂÆπ --&gt; &lt;definition name="index" extends="base"&gt; &lt;put-attribute name="body" value="/WEB-INF/views/index.jsp" /&gt; &lt;/definition&gt; &lt;definition name="register" extends="base"&gt; &lt;put-attribute name="body" value="/WEB-INF/views/register.jsp" /&gt; &lt;/definition&gt; &lt;/tiles-definitions&gt;ÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÂÆö‰πâ‰∫Ü‰∏Ä‰∏™TileÔºåÂÆÉÊúÄÁªàÂºïÁî®ÁöÑÊòØ‰∏Ä‰∏™JSPÊ®°Êùø„ÄÇÂêç‰∏∫baseÁöÑTile‰∏≠ÔºåÊ®°Êùø‰∏∫page.jspÔºåËøòÂÆö‰πâ‰∫ÜÈ°µÈ¶ñÂíåÈ°µËÑöÁöÑÊ®°ÊùøJSPÔºöheader.jspÔºö1234567&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;&lt;%@ taglib uri="http://www.springframework.org/tags" prefix="s" %&gt;&lt;a href="&lt;s:url value="/index/" /&gt;"&gt; &lt;img src='&lt;c:url value="/images/leanote.png"/&gt;' border="0"/&gt;&lt;/a&gt;footer.jspÔºö123&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;Copyright ¬© Leanotepage.jspÔºö12345678910111213141516171819202122232425&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;%@ taglib uri="http://www.springframework.org/tags" prefix="s" %&gt;&lt;%@ taglib uri="http://tiles.apache.org/tags-tiles" prefix="t" %&gt;&lt;%@ page session="false" %&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;leanote ËöÇËöÅÁ¨îËÆ∞&lt;/title&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- Â§¥ÈÉ® --&gt; &lt;div id="header"&gt; &lt;t:insertAttribute name="header" /&gt; &lt;/div&gt; &lt;!-- ‰∏ª‰ΩìÂÜÖÂÆπÔºåÂØπÂ∫îtiles.xml‰∏≠ÁªßÊâøbaseÁöÑTile --&gt; &lt;div id="content"&gt; &lt;t:insertAttribute name="body" /&gt; &lt;/div&gt; &lt;!-- Â∞æÈÉ® --&gt; &lt;div id="footer"&gt; &lt;t:insertAttribute name="footer" /&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt;Âêç‰∏∫indexÂíåregisterÁöÑTileÂêÑËá™ÈÉΩÁªßÊâø‰∫Übase TileÔºåËøòÂÆö‰πâ‰∫ÜbodyÔºåÂàÜÂà´ÂºïÁî®index.jspÂíåregister.jspÔºöindex.jspÔºö12345&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;p&gt;ËöÇËöÅÁ¨îËÆ∞ÔºåÊúâÊûÅÂÆ¢ËåÉÁöÑ‰∫ëÁ¨îËÆ∞ÔºÅ&lt;/p&gt;&lt;p&gt;ÂâçÊâÄÊú™ÊúâÁöÑÊñáÊ°£‰ΩìÈ™åÔºåËøë‰πéÂÆåÁæéÁöÑÂπ≥Âè∞Ë¶ÜÁõñÔºåÊîØÊåÅÂõ¢ÈòüÂçèÂêåÔºå‰ºÅ‰∏öÁ∫ßÁßÅÊúâ‰∫ë&lt;/p&gt;&lt;p&gt;ËöÇËöÅÁ¨îËÆ∞ = Á¨îËÆ∞ + ÂçöÂÆ¢ + Âçè‰Ωú + ÁßÅÊúâ‰∫ë&lt;/p&gt;register.jspÔºö1234567891011121314&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;%@ taglib uri="http://www.springframework.org/tags/form" prefix="sf" %&gt; &lt;h3&gt;Ê≥®ÂÜåleanote&lt;/h3&gt;&lt;sf:form method="post" commandName="form" action="$&#123;pageContext.request.contextPath&#125;/register"&gt; &lt;sf:label path="name" cssErrorClass="error"&gt;Áî®Êà∑ÂêçÔºö&lt;/sf:label&gt; &lt;sf:input path="name" cssErrorClass="error"/&gt; &lt;sf:errors path="name" cssClass="error"/&gt;&lt;br/&gt; ÈÇÆÁÆ±Ôºö&lt;sf:input path="email"/&gt;&lt;sf:errors path="email" cssClass="error"/&gt;&lt;br/&gt; ÂØÜÁ†ÅÔºö&lt;sf:password path="password" /&gt;&lt;sf:errors path="password" cssClass="error"/&gt;&lt;br/&gt; &lt;input type="submit" value="Ê≥®ÂÜå" /&gt;&lt;/sf:form&gt;ÊµãËØïËÆøÈóÆhttp://localhost:8080/spring/index/ÔºöËÆøÈóÆhttp://localhost:8080/spring/registerindex/ÂèØ‰ª•ÁúãÂà∞ÔºåÂ§¥ÈÉ®ÂíåÂ∞æÈÉ®ÊòØÂõ∫ÂÆöÁöÑÔºåÂèòÁöÑÂè™ÊòØbodyÈÉ®ÂàÜ„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>Apache Tiles</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringË°®ÂçïÊ†°È™å]]></title>
    <url>%2FSpring%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C.html</url>
    <content type="text"><![CDATA[‰ªéSpring 3.0ÂºÄÂßãÔºåSpringÂØπJavaÊ†°È™åAPIÔºàJava Validation APIÔºåÂèàÁß∞JSR-303ÔºâÊèê‰æõ‰∫ÜÊîØÊåÅ„ÄÇÂú®Spring MVC‰∏≠Ë¶Å‰ΩøÁî®JavaÊ†°È™åAPIÁöÑËØùÔºåÂπ∂‰∏çÈúÄË¶Å‰ªÄ‰πàÈ¢ùÂ§ñÁöÑÈÖçÁΩÆ„ÄÇÂè™Ë¶Å‰øùËØÅÂú®Á±ªË∑ØÂæÑ‰∏ãÂåÖÂê´Ëøô‰∏™Java APIÁöÑÂÆûÁé∞Âç≥ÂèØÔºåÊØîÂ¶ÇHibernate Validator„ÄÇÂºïÂÖ•hibernate-validatorÔºö123456&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;&lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; &lt;version&gt;5.2.4.Final&lt;/version&gt;&lt;/dependency&gt;Ê†°È™åÊ≥®Ëß£ÊâÄÊúâÁöÑÊ≥®Ëß£ÈÉΩ‰Ωç‰∫éjavax.validation.constraintsÂíåorg.hibernate.validator.constraintsÂåÖ‰∏≠„ÄÇ‰∏ãË°®ÂàóÂá∫‰∫ÜËøô‰∫õÊ†°È™åÊ≥®Ëß£„ÄÇÊ≥®Ëß£ÊèèËø∞@NullÈôêÂà∂Âè™ËÉΩ‰∏∫null@NotNullÈôêÂà∂ÂøÖÈ°ª‰∏ç‰∏∫null@AssertFalseÈôêÂà∂ÂøÖÈ°ª‰∏∫false@AssertTrueÈôêÂà∂ÂøÖÈ°ª‰∏∫true@DecimalMax(value)ÈôêÂà∂ÂøÖÈ°ª‰∏∫‰∏Ä‰∏™‰∏çÂ§ß‰∫éÊåáÂÆöÂÄºÁöÑÊï∞Â≠ó@DecimalMin(value)ÈôêÂà∂ÂøÖÈ°ª‰∏∫‰∏Ä‰∏™‰∏çÂ∞è‰∫éÊåáÂÆöÂÄºÁöÑÊï∞Â≠ó@Digits(integer,fraction)ÈôêÂà∂ÂøÖÈ°ª‰∏∫‰∏Ä‰∏™Â∞èÊï∞Ôºå‰∏îÊï¥Êï∞ÈÉ®ÂàÜÁöÑ‰ΩçÊï∞‰∏çËÉΩË∂ÖËøáintegerÔºå Â∞èÊï∞ÈÉ®ÂàÜÁöÑ‰ΩçÊï∞‰∏çËÉΩË∂ÖËøáfraction@FutureÈôêÂà∂ÂøÖÈ°ªÊòØ‰∏Ä‰∏™Â∞ÜÊù•ÁöÑÊó•Êúü@PastÈôêÂà∂ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ËøáÂéªÁöÑÊó•Êúü@Max(value)ÈôêÂà∂ÂøÖÈ°ª‰∏∫‰∏Ä‰∏™‰∏çÂ§ß‰∫éÊåáÂÆöÂÄºÁöÑÊï∞Â≠ó@Min(value)ÈôêÂà∂ÂøÖÈ°ª‰∏∫‰∏Ä‰∏™‰∏çÂ∞è‰∫éÊåáÂÆöÂÄºÁöÑÊï∞Â≠ó@PastÈôêÂà∂ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ËøáÂéªÁöÑÊó•Êúü@Pattern(value)ÈôêÂà∂ÂøÖÈ°ªÁ¨¶ÂêàÊåáÂÆöÁöÑÊ≠£ÂàôË°®ËææÂºè@Size(max,min)ÈôêÂà∂Â≠óÁ¨¶ÈïøÂ∫¶ÂøÖÈ°ªÂú®minÂà∞max‰πãÈó¥@SafeHtmlÂ≠óÁ¨¶‰∏≤ÊòØÂÆâÂÖ®ÁöÑhtml@URLÂ≠óÁ¨¶‰∏≤ÊòØÂêàÊ≥ïÁöÑURL@NotBlankÂ≠óÁ¨¶‰∏≤ÂøÖÈ°ªÊúâÂ≠óÁ¨¶@NotEmptyÂ≠óÁ¨¶‰∏≤‰∏ç‰∏∫NULLÔºåÈõÜÂêàÊúâÂ≠óÁ¨¶@AssertFalseÂøÖÈ°ªÊòØfalse@AssertTrueÂøÖÈ°ªÊòØtrue‰ΩøÁî®Ê†°È™åÊ≥®Ëß£ÈÖçÁΩÆÂÆû‰ΩìÁ±ªÊñ∞Âª∫‰∏Ä‰∏™Ë°®ÂçïÂÆû‰ΩìÁ±ªÔºåÂπ∂Âä†‰∏äÊ≥®Ëß£Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041import javax.validation.constraints.NotNull;import javax.validation.constraints.Size;import org.hibernate.validator.constraints.Email; public class Form &#123; @NotNull @Size(min = 5, max = 16, message = "&#123;name.msg&#125;") private String name; @NotNull() @Email(message = "&#123;email.msg&#125;") private String email; @NotNull @Size(min = 5, max = 16, message = "&#123;password.msg&#125;") private String password; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getEmail() &#123; return email; &#125; public void setEmail(String email) &#123; this.email = email; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125;&#125;messageÂ±ûÊÄßÁî®‰∫éÊ∑ªÂä†ÂõΩÈôÖÂåñÊîØÊåÅÔºåÊé•‰∏ãÊù•ÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ValidationMessages.propertiesÁöÑÊñá‰ª∂ÔºàÈªòËÆ§Âè´Ëøô‰∏™Ôºå‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºåÊîæÂú®src/main/resourcesË∑ØÂæÑ‰∏ãÔºâÔºö123name.msg=\u7528\u6237\u540D\u957F\u5EA6\u4E3A&#123;min&#125;\u5230&#123;max&#125;\u4E2A\u5B57\u7B26password.msg=\u5BC6\u7801\u957F\u5EA6\u4E3A&#123;min&#125;\u5230&#123;max&#125;\u4E2A\u5B57\u7B26email.msg=\u90AE\u7BB1\u683C\u5F0F\u4E0D\u5408\u6CD5ValidationMessages.propertiesÊñá‰ª∂‰∏≠ÊØèÊù°‰ø°ÊÅØÁöÑkeyÂÄºÂØπÂ∫î‰∫éÊ≥®Ëß£‰∏≠messageÂ±ûÊÄßÂç†‰ΩçÁ¨¶ÁöÑ ÂÄº„ÄÇÂêåÊó∂ÔºåÊúÄÂ∞èÂíåÊúÄÂ§ßÈïøÂ∫¶Âú®ValidationMessages.propertiesÊñá‰ª∂‰∏≠ÊúâËá™Â∑±ÁöÑÂç†‰ΩçÁ¨¶‚Äî‚Äî{min}Âíå{max}‚Äî‚ÄîÂÆÉ‰ª¨‰ºöÂºïÁî®@SizeÊ≥®Ëß£‰∏äÊâÄËÆæÁΩÆÁöÑminÂíåmaxÂ±ûÊÄß„ÄÇËá™ÂÆö‰πâÊ†°È™åËßÑÂàô‰∏äÈù¢ÁöÑÊ≥®Ëß£ÈÉΩÊòØËæÉ‰∏∫ÁÆÄÂçïÁöÑÊ≥®Ëß£ÔºåÂÆûÈôÖÁºñÁ®ã‰∏≠Ê†°È™åÁöÑËßÑÂàôÂèØËÉΩ‰∫îËä±ÂÖ´Èó®„ÄÇÂΩìËá™Â∏¶ÁöÑËøô‰∫õÊ≥®Ëß£Êó†Ê≥ïÊª°Ë∂≥Êàë‰ª¨ÁöÑÈúÄÊ±ÇÊó∂ÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ëá™ÂÆö‰πâÊ†°È™åÊ≥®Ëß£„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÊ†°È™åÊ≥®Ëß£ÁöÑÂü∫Êú¨Ê†ºÂºèÔºö1234567891011121314151617import javax.validation.Constraint;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target@Target(&#123;ElementType.FIELD, ElementType.METHOD&#125;)@Retention(RetentionPolicy.RUNTIME)@Constraint(validatedBy = MyConstraintValidator.class)public @interface MyConstraint &#123; String message(); Class&lt;?&gt;[] groups() default &#123;&#125;; Class&lt;? extends Payload&gt;[] payload() default &#123;&#125;;&#125;ÂÖ∂‰∏≠@ConstraintÊ≥®Ëß£Ë°®ÊòéËøô‰∏™Ê≥®Ëß£ÊòØÁî®‰∫éËßÑÂàôÊ†°È™åÁöÑÔºåvalidatedByÂ±ûÊÄßË°®ÊòéÁî®‰ªÄ‰πàÂéªÊ†°È™åÔºåËøôÈáåÊàë‰ª¨ÊåáÂÆöÁöÑÁ±ª‰∏∫MyConstraintValidator„ÄÇÊ≥®Ëß£ËøòÂåÖÂê´‰∫Ü‰∏â‰∏™‰π¶Â±ûÊÄßÔºåÂ±ûÊÄßmessageÊåáÂÆöÂΩìÊ†°È™å‰∏çÈÄöËøáÁöÑÊó∂ÂÄôÊèêÁ§∫‰ªÄ‰πà‰ø°ÊÅØ„ÄÇÊé•‰∏ãÊù•ÁºñÂÜôMyConstraintValidatorÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910111213141516import javax.validation.ConstraintValidator;import javax.validation.ConstraintValidatorContext;public class MyConstraintValidator implements ConstraintValidator&lt;MyConstraint, Object&gt; &#123; @Override public void initialize(MyConstraint myConstraint) &#123; System.out.println("my validator init"); &#125; @Override public boolean isValid(Object o, ConstraintValidatorContext constraintValidatorContext) &#123; System.out.println(o); return false; &#125;&#125;MyConstraintValidatorÂÆûÁé∞‰∫ÜConstraintValidatorÊé•Âè£ÔºåËØ•Êé•Âè£ÂøÖÈ°ªÊåáÂÆö‰∏§‰∏™Ê≥õÂûãÔºåÁ¨¨‰∏Ä‰∏™Ê≥õÂûãÊåáÁöÑÊòØ‰∏äÈù¢ÂÆö‰πâÁöÑÊ≥®Ëß£Á±ªÂûãÔºåÁ¨¨‰∫å‰∏™Ê≥õÂûãË°®Á§∫Ê†°È™åÂØπË±°ÁöÑÁ±ªÂûã„ÄÇMyConstraintValidatorÂÆûÁé∞‰∫ÜConstraintValidatorÊé•Âè£ÁöÑinitializeÊñπÊ≥ïÂíåisValidÊñπÊ≥ï„ÄÇinitializeÊñπÊ≥ïÁî®‰∫éËØ•Ê†°È™åÂàùÂßãÂåñÁöÑÊó∂ÂÄôËøõË°å‰∏Ä‰∫õÊìç‰ΩúÔºõisValidÊñπÊ≥ïÁî®‰∫éÁºñÂÜôÊ†°È™åÈÄªËæëÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ÈúÄË¶ÅÊ†°È™åÁöÑÂÄºÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫Ê†°È™å‰∏ä‰∏ãÊñá„ÄÇSpring JSPÂ∫ì‰∏∫‰∫Ü‰ΩøÁî®Spring JSPÂ∫ìÔºåÈúÄË¶ÅÂú®JSPÈ°µÈ¶ñÂä†ÂÖ•Ôºö12&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;&lt;%@ taglib uri="http://www.springframework.org/tags/form" prefix="sf" %&gt;ÂºïÂÖ•‰æùËµñÔºö123456&lt;!-- https://mvnrepository.com/artifact/jstl/jstl --&gt;&lt;dependency&gt; &lt;groupId&gt;jstl&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt;&lt;/dependency&gt;Áõ∏ÂÖ≥Ê†áÁ≠æÂ¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöJSPÊ†áÁ≠æÊèèËø∞&lt;sf:checkbox&gt;Ê∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;input&gt;Ê†áÁ≠æÔºåÂÖ∂‰∏≠typeÂ±ûÊÄßËÆæÁΩÆ‰∏∫checkbox&lt;sf:checkboxes&gt;Ê∏≤ÊüìÊàêÂ§ö‰∏™HTML &lt;input&gt;Ê†áÁ≠æÔºåÂÖ∂‰∏≠typeÂ±ûÊÄßËÆæÁΩÆ‰∏∫checkbox&lt;sf:errors&gt;Âú®‰∏Ä‰∏™HTML &lt;span&gt;‰∏≠Ê∏≤ÊüìËæìÂÖ•ÂüüÁöÑÈîôËØØ&lt;sf:form&gt;Ê∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;form&gt;Ê†áÁ≠æÔºåÂπ∂‰∏∫ÂÖ∂ÂÜÖÈÉ®Ê†áÁ≠æÊö¥Èú≤ÁªëÂÆöË∑ØÂæÑÔºåÁî®‰∫éÊï∞ÊçÆÁªëÂÆö&lt;sf:hidden&gt;Ê∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;input&gt;Ê†áÁ≠æÔºåÂÖ∂‰∏≠typeÂ±ûÊÄßËÆæÁΩÆ‰∏∫hidden&lt;sf:input&gt;Ê∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;input&gt;Ê†áÁ≠æÔºåÂÖ∂‰∏≠typeÂ±ûÊÄßËÆæÁΩÆ‰∏∫text&lt;sf:label&gt;Ê∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;label&gt;Ê†áÁ≠æ&lt;sf:option&gt;Ê∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;option&gt;Ê†áÁ≠æÔºåÂÖ∂selectedÂ±ûÊÄßÊ†πÊçÆÊâÄÁªëÂÆöÁöÑÂÄºËøõË°åËÆæÁΩÆ&lt;sf:options&gt;ÊåâÁÖßÁªëÂÆöÁöÑÈõÜÂêà„ÄÅÊï∞ÁªÑÊàñMapÔºåÊ∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;option&gt;Ê†áÁ≠æÁöÑÂàóË°®&lt;sf:password&gt;Ê∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;input&gt;Ê†áÁ≠æÔºåÂÖ∂‰∏≠typeÂ±ûÊÄßËÆæÁΩÆ‰∏∫password&lt;sf:radiobutton&gt;Ê∏≤ÊüìÊàê‰∏Ä‰∏™HTML &lt;input&gt;Ê†áÁ≠æÔºåÂÖ∂‰∏≠typeÂ±ûÊÄßËÆæÁΩÆ‰∏∫radio&lt;sf:radiobuttons&gt;Ê∏≤ÊüìÊàêÂ§ö‰∏™HTML &lt;input&gt;Ê†áÁ≠æÔºåÂÖ∂‰∏≠typeÂ±ûÊÄßËÆæÁΩÆ‰∏∫radio&lt;sf:select&gt;Ê∏≤Êüì‰∏∫‰∏Ä‰∏™HTML &lt;select&gt;Ê†áÁ≠æ&lt;sf:textarea&gt;Ê∏≤Êüì‰∏∫‰∏Ä‰∏™HTML &lt;textarea&gt;Ê†áÁ≠æÁî®Spring JSPÊ†áÁ≠æÂàõÂª∫‰∏Ä‰∏™register.jspÔºö123456789101112131415161718192021222324252627&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;&lt;%@ taglib uri="http://www.springframework.org/tags/form" prefix="sf" %&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html;chartset=utf-8"&gt; &lt;title&gt;leanote ËöÇËöÅÁ¨îËÆ∞&lt;/title&gt;&lt;/head&gt;&lt;style&gt; input&#123;margin-top:5px;&#125; label.error&#123;color:red;&#125; span.error&#123;color:red;&#125; input.error&#123;border:1px solid red;&#125;&lt;/style&gt;&lt;body&gt; &lt;sf:form method="post" commanName="form" action="$&#123;pageContext.request.contextPath&#125;/register"&gt; &lt;sf:label path="name" cssErrorClass="error"&gt;Áî®Êà∑ÂêçÔºö&lt;/sf:label&gt; &lt;sf:input path="name" cssErrorClass="error"/&gt; &lt;sf:errors path="name" cssClass="error"/&gt;&lt;br/&gt; ÈÇÆÁÆ±Ôºö&lt;sf:input path="email"/&gt;&lt;sf:errors path="email" cssClass="error"/&gt;&lt;br/&gt; ÂØÜÁ†ÅÔºö&lt;sf:password path="password"/&gt;&lt;sf:errors path="password" cssClass="error"/&gt;&lt;br/&gt; &lt;input type="submit" value="Ê≥®ÂÜå"/&gt; &lt;/sf:form&gt;&lt;/body&gt;&lt;/html&gt;&lt;sf:form&gt;‰ºöÊ∏≤Êüì‰∏∫‰∏Ä‰∏™HTML&lt;form&gt;Ê†áÁ≠æÔºå‰πüÂèØ‰ª•ÈÄöËøácommandNameÂ±ûÊÄßÊûÑÂª∫ÈíàÂØπÊüê‰∏™Ê®°ÂûãÂØπË±°ÁöÑ‰∏ä‰∏ãÊñá‰ø°ÊÅØ„ÄÇËøôÈáåËÆæ‰∏∫formÔºàÂæÖ‰ºöÂú®controller‰∏≠‰º†ÈÄíÂà∞Ê≠§È°µÈù¢Ôºâ„ÄÇcssClassÂ±ûÊÄßÂèØ‰ª•ÁªôÊ†áÁ≠æÂä†‰∏äÊ†∑ÂºèClassÔºåÁî®‰∫éÂú®CSS‰∏≠ÂØπÂÖ∂ÈÄâ‰∏≠Âπ∂‰øÆÊîπÊ†∑Âºè„ÄÇpathÂ±ûÊÄßÊåáÂêëÂÆû‰ΩìÁ±ªformÂØπÂ∫îÁöÑÂ±ûÊÄßÂêçÁß∞„ÄÇÂ¶ÇÊûúÂ∞Ü&lt;sf:errors/&gt;Ê†áÁ≠æÁöÑpathÂ±ûÊÄßËÆæÁΩÆ‰∏∫*ÁöÑËØùÔºåÂÖ∂Â∞ÜÊòæÁ§∫ÊâÄÊúâ‰∏çÊª°Ë∂≥Ê†°È™åÁöÑÊèêÁ§∫‰ø°ÊÅØ„ÄÇcssErrorClassÂ±ûÊÄßÊåáÂÆöÊ†°È™å‰∏çÈÄöËøáÊó∂ÂÄôÈô§‰∫Ü&lt;sf:errors/&gt;Ê†áÁ≠æÂ§ñÁöÑÊ†áÁ≠æÊ†∑Âºè„ÄÇÁºñÂÜôcontrollerRegesterÊéßÂà∂Âô®Â¶Ç‰∏ãÊâÄÁ§∫Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142import javax.validation.Valid;import mrbird.mvc.entity.Form;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.validation.BindingResult;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod; @Controllerpublic class LeanoteController &#123; @RequestMapping(value = "/registerindex", method = RequestMethod.GET) public String register(Model model) &#123; //ÂØπÂ∫î&lt;sf:form/&gt;Ê†áÁ≠æÁöÑcommandNameÂ±ûÊÄßÂÄº model.addAttribute(new Form()); return "register"; &#125; @RequestMapping(value = "/register", method = RequestMethod.POST) //formÂèÇÊï∞Ê∑ªÂä†‰∫Ü@ValidÊ≥®Ëß£ÔºåËøô‰ºöÂëäÁü•SpringÔºåÈúÄË¶ÅÁ°Æ‰øùËøô‰∏™ÂØπË±°Êª°Ë∂≥Ê†°È™åÈôêÂà∂„ÄÇ //ErrorsÂèÇÊï∞Ë¶ÅÁ¥ßË∑üÂú®Â∏¶Êúâ@ValidÊ≥®Ëß£ÁöÑÂèÇÊï∞ÂêéÈù¢ public String submit(@Valid Form form, BindingResult result) &#123; if (result.hasErrors()) &#123; // ËæìÂá∫Ê†°È™åÂ§±Ë¥•‰ø°ÊÅØ result.getAllErrors().stream().forEach(e -&gt; &#123; FieldError fieldError = (FieldError) e; System.out.println(((FieldError) e).getField() + " " + e.getDefaultMessage()); &#125; ); //Âá∫ÈîôÊó∂ÂõûÂà∞Ê≥®ÂÜåÈ°µÈù¢ÔºåËøôÈáå‰∏çËÉΩÂ§üÁî®ÈáçÂÆöÂêëÔºå‰∏çÁÑ∂Áúã‰∏çÂà∞ÈîôËØØÊèêÁ§∫‰ø°ÊÅØ return "register"; &#125; //Ê†°È™åÈÄöËøáÔºåÈáçÂÆöÂêëÂà∞/success/&#123;name&#125; return "redirect:/success/" + form.getName(); &#125; @RequestMapping(value = "/success/&#123;name&#125;", method = RequestMethod.GET) public String success(@PathVariable String name, Model model) &#123; model.addAttribute(name); return "success"; &#125;&#125;ÈÉ®ÁΩ≤È°πÁõÆÔºåËÆøÈóÆÔºöhttp://localhost:8080/spring/registerindexÔºö]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring‰º†ÈÄíÂèÇÊï∞]]></title>
    <url>%2FSpring%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0.html</url>
    <content type="text"><![CDATA[ÊÄªÁªì‰∏ãÂπ≥Êó∂‰ΩøÁî®SpringÊó∂ÔºåÊúçÂä°Á´ØÊé•Êî∂ÂÆ¢Êà∑Á´Ø‰º†ÈÄíÁöÑÂèÇÊï∞ÁöÑÂá†ÁßçÊñπÂºè„ÄÇÂêåÂêçÂèòÈáèÂú®ÂÆ¢Êà∑Á´ØÔºå‰ΩøÁî®GETËØ∑Ê±ÇÂèëÈÄÅ‰∏Ä‰∏™ÂèòÈáèÂà∞ÊúçÂä°Á´ØÔºåÊØîÂ¶Ç‰º†ÈÄí‰∏Ä‰∏™testParamÂèòÈáèÔºö12345var testParam = 'mrbird';$.ajax(&#123; url:"$&#123;pageContext.request.contextPath&#125;/test?testParam="+testParam, method:"get"&#125;);ÊúçÂä°Á´ØÔºö12345678@Controller@RequestMapping(value="/test")public class TestContoller &#123; @RequestMapping(method=RequestMethod.GET) public void test(String testParam)&#123; &#125;&#125;Áî®testParamÂêåÂêçÂèÇÊï∞Êé•Êî∂ÔºåÈÄöËøáÊñ≠ÁÇπÔºåÂæóÂà∞ÁöÑÂÄº‰∏∫mrbird„ÄÇ@requestParamÂíåÁ¨¨‰∏ÄÁßçÊñπÊ≥ïÁ±ª‰ººÔºåÂè™‰∏çËøá‰ΩøÁî®@requestParamÊ≥®Ëß£ÂêéÔºåÂèòÈáèÂèØ‰ª•‰ΩøÁî®Âà´ÁöÑÂêçÂ≠óÂëΩÂêçÔºö12345678@Controller@RequestMapping(value="/test")public class TestContoller &#123; @RequestMapping(method=RequestMethod.GET) public void test(@RequestParam("testParam") String param)&#123; &#125;&#125;HttpServletRequestÈÄöËøáHttpServletRequestÂØπË±°Ëé∑ÂèñÔºö12345678@Controller@RequestMapping(value="/test")public class TestContoller &#123; @RequestMapping(method=RequestMethod.GET) public void test(HttpServletRequest request)&#123; String param = request.getParameter("testParam"); &#125;&#125;POJO‰ΩøÁî®POJOÊé•Êî∂ÂèÇÊï∞ÈÄÇÁî®‰∫éÂèÇÊï∞ÈáèËæÉÂ§öÁöÑÊó∂ÂÄôÔºåÊØîÊñπËØ¥Ë°®ÂçïÊèê‰∫§ÁöÑÊó∂ÂÄôÔºå‰ΩÜËøôÈáåÊàë‰ª¨ËøòÊòØÁî®testParamÊ†óÂ≠êÊºîÁ§∫„ÄÇÂàõÂª∫‰∏Ä‰∏™Áî®‰∫éÊé•Êî∂ÂèÇÊï∞ÁöÑPOJOÔºåÂπ∂ÂÆö‰πâÂíå‰º†ÈÄíÂèÇÊï∞ÂêåÂêçÁöÑÂ±ûÊÄßÔºö12345678910public class Params &#123; private String testParam; public String getTestParam() &#123; return testParam; &#125; public void setTestParam(String testParam) &#123; this.testParam = testParam; &#125;&#125;ÊúçÂä°Á´ØÔºö12345678@Controller@RequestMapping(value="/test")public class TestContoller &#123; @RequestMapping(method=RequestMethod.GET) public void test(Params param)&#123; String testParam = param.getTestParam(); &#125;&#125;Âç†‰ΩçÁ¨¶Êàë‰ª¨Â∞ÜGETËØ∑Ê±ÇÁöÑURLÊîπ‰∏∫Ôºö1url:"$&#123;pageContext.request.contextPath&#125;/test/"+testParam,Â∞ÜÂèÇÊï∞ÈÄöËøáURLË∑ØÂæÑËøõË°åÊ†áËØÜÔºåËÄå‰∏çÊòØÈÄöËøáÊü•ËØ¢ÂèÇÊï∞„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞ËøôÁßçË∑ØÂæÑÂèòÈáèÔºåSpring MVCÂÖÅËÆ∏Êàë‰ª¨Âú®@RequestMappingË∑ØÂæÑ‰∏≠Ê∑ªÂä†Âç†‰ΩçÁ¨¶„ÄÇÂç†‰ΩçÁ¨¶ÁöÑÂêçÁß∞Ë¶ÅÁî®Â§ßÊã¨Âè∑Ôºà‚Äú{‚ÄùÂíå‚Äú}‚ÄùÔºâÊã¨Ëµ∑Êù•„ÄÇË∑ØÂæÑ‰∏≠ÁöÑÂÖ∂‰ªñÈÉ®ÂàÜË¶Å‰∏éÊâÄÂ§ÑÁêÜÁöÑËØ∑Ê±ÇÂÆåÂÖ®ÂåπÈÖçÔºå ‰ΩÜÊòØÂç†‰ΩçÁ¨¶ÈÉ®ÂàÜÂèØ‰ª•ÊòØ‰ªªÊÑèÁöÑÂÄº„ÄÇ‰øÆÊîπcontrollerÔºö12345678@Controller@RequestMapping(value="/test")public class TestContoller &#123; @RequestMapping(value="&#123;testParam&#125;",method=RequestMethod.GET) public void test(@PathVariable String testParam)&#123; &#125;&#125;testÊñπÊ≥ïÂèÇÊï∞ÂêçÁß∞ÂøÖÈ°ªÂíåÂç†‰ΩçÁ¨¶ÂêçÁß∞Áõ∏Âêå„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êê≠Âª∫SpringMVC]]></title>
    <url>%2F%E6%90%AD%E5%BB%BASpringMVC.html</url>
    <content type="text"><![CDATA[guide‰∏ãÂõæÂ±ïÁ§∫‰∫ÜËØ∑Ê±ÇÂú®Spring MVC‰∏≠ÁöÑËøáÁ®ãÔºöÁéØÂ¢ÉÂáÜÂ§á‰ΩøÁî®MavenÊûÑÂª∫Spring web MVC project„ÄÇÊñ∞Âª∫Maven ProjectÔºàÈÄâ‰∏≠skip archetype selectionÔºâ:ÁÇπÂáªnextÔºåÁÑ∂ÂêéÂ°´ÂÜôGroup IdÂíåArtifact IdÔºåÊâìÂåÖÊñπÂºè‰∏∫warÔºöfinishÂêéÔºåÂè≥ÂáªÈ°πÁõÆÔºåÈÄâÊã©propertiesÔºåÈÄâ‰∏≠Deployment AssemblyÔºåÁßªÈô§ÈÄâ‰∏≠ÁöÑË∑ØÂæÑÔºöapplyÂêéÈÄâÊã©Project FacetsÔºåÂãæÈÄâDynamic Web ModuleÔºåÁÇπÂáª‰∏ãÊñπÁöÑFurther configuration avaiableÔºöÂ¶Ç‰∏ãÂ°´ÂÜôÂêéÁ°ÆÂÆöÂç≥ÂèØÔºöÂáÜÂ§áÂ•ΩÂêéÔºåÂú®pom‰∏≠ÂºïÂÖ•‰æùËµñ‰ª•ÂèäÈÖçÁΩÆtomcatÊèí‰ª∂Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;4.3.2.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.annotation&lt;/groupId&gt; &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.inject&lt;/groupId&gt; &lt;artifactId&gt;javax.inject&lt;/artifactId&gt; &lt;version&gt;1&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;!-- Â∏ÉÁΩÆÂà∞tomcat --&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.1&lt;/version&gt; &lt;configuration&gt; &lt;!--Âú®ËøôÈáåÂÆö‰πâÁ´ØÂè£Âè∑ --&gt; &lt;port&gt;8080&lt;/port&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt;XMLÈÖçÁΩÆÊê≠Âª∫web.xml‰∏≠ÈÖçÁΩÆDispatcherServletÔºö1234567891011121314&lt;!-- ÈÖçÁΩÆdispatcherServlet --&gt;&lt;servlet&gt; &lt;servlet-name&gt;mvc-xml&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;mvc-xml&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;ÈÖçÁΩÆapplicationContext.xmlÔºö123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:p="http://www.springframework.org/schema/p" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd"&gt; &lt;!-- ÂºÄÂêØÁªÑ‰ª∂Êâ´Êèè --&gt; &lt;context:component-scan base-package="mrbird"/&gt; &lt;!-- ÂêØÁî®Spring mvc --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- ÈÖçÁΩÆviewResolver --&gt; &lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver" p:prefix="/WEB-INF/views/" p:suffix=".jsp"&gt; &lt;/bean&gt;&lt;/beans&gt;ÁºñÂÜô‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑcotrollerÔºö1234567891011import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod; @Controllerpublic class IndexController &#123; @RequestMapping(value="/index",method=RequestMethod.GET) public String index()&#123; return "index"; &#125;&#125;ÁºñÂÜô‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑÈ°µÈù¢Ôºö12345678910111213&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;&lt;title&gt;leanote ËöÇËöÅÁ¨îËÆ∞&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;ËöÇËöÅÁ¨îËÆ∞ÔºåÊúâÊûÅÂÆ¢ËåÉÁöÑ‰∫ëÁ¨îËÆ∞ÔºÅ&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;‰∏ÄÂàáÂáÜÂ§áÂ∞±Áª™ÔºåÂêØÂä®È°πÁõÆÔºåËÆøÈóÆhttp://localhost:8080/mvc-xml/indexÔºöJavaConfigÈÖçÁΩÆÊê≠Âª∫ÈÖçÁΩÆDispatcherServletÔºö123456789101112131415161718import org.springframework.web.servlet.support .AbstractAnnotationConfigDispatcherServletInitializer; public class WebAppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer&#123; @Override protected Class&lt;?&gt;[] getRootConfigClasses() &#123; return new Class&lt;?&gt;[]&#123;RootConfig.class&#125;; &#125; @Override protected Class&lt;?&gt;[] getServletConfigClasses() &#123; return new Class&lt;?&gt;[]&#123;WebConfig.class&#125;; &#125; @Override protected String[] getServletMappings() &#123; return new String[]&#123;"/"&#125;; &#125;&#125;WebConfigÔºö123456789101112131415161718192021@Configuration//ÂºÄÂêØspring mvc@EnableWebMvc//ÂºÄÂêØÊâ´Êèè@ComponentScan("mrbird")public class WebConfig extends WebMvcConfigurerAdapter&#123; //ÈÖçÁΩÆviewResolver @Bean public ViewResolver viewResolver()&#123; InternalResourceViewResolver resolver = new InternalResourceViewResolver(); resolver.setPrefix("/WEB-INF/views/"); resolver.setSuffix(".jsp"); resolver.setExposeContextBeansAsAttributes(true); return resolver; &#125; @Override public void configureDefaultServletHandling( DefaultServletHandlerConfigurer configurer)&#123; configurer.enable(); &#125;&#125;Êñ∞ÁöÑWebConfigÁ±ªËøòÊâ©Â±ï‰∫ÜWebMvcConfigurerAdapterÂπ∂ÈáçÂÜô‰∫ÜÂÖ∂configureDefaultServletHandling()ÊñπÊ≥ï„ÄÇÈÄöËøáË∞ÉÁî®DefaultServletHandlerConfigurerÁöÑenable()ÊñπÊ≥ïÔºåÊàë‰ª¨Ë¶ÅÊ±ÇDispatcherServletÂ∞ÜÂØπÈùôÊÄÅËµÑÊ∫êÁöÑËØ∑Ê±ÇËΩ¨ÂèëÂà∞ServletÂÆπÂô®‰∏≠ÈªòËÆ§ÁöÑServlet‰∏äÔºåËÄå‰∏çÊòØ‰ΩøÁî®DispatcherServletÊú¨Ë∫´Êù•Â§ÑÁêÜÊ≠§Á±ªËØ∑Ê±Ç„ÄÇRootConfigÔºö123456@Configuration@ComponentScan(basePackages=&#123;"mrbird"&#125;, excludeFilters=&#123;@Filter(type=FilterType.ANNOTATION,value=EnableWebMvc.class)&#125;)public class RootConfig &#123; &#125;ControllerÂíåJSPÈ°µÈù¢Âêå‰∏ä„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringÊ≥®ÂÖ•Â§ñÈÉ®ÂÄº]]></title>
    <url>%2FSpring%E6%B3%A8%E5%85%A5%E5%A4%96%E9%83%A8%E5%80%BC.html</url>
    <content type="text"><![CDATA[SpringÊ≥®ÂÖ•Â§ñÈÉ®Êñá‰ª∂ÁöÑÂÄºÊúâÂá†ÁßçÊñπÂºèÔºöSpring EnvironmentÂú®Spring‰∏≠ÔºåÂ§ÑÁêÜÂ§ñÈÉ®ÂÄºÁöÑÊúÄÁÆÄÂçïÊñπÂºèÂ∞±ÊòØÂ£∞ÊòéÂ±ûÊÄßÊ∫êÂπ∂ÈÄöËøáSpringÁöÑEnvironmentÊù•Ê£ÄÁ¥¢Â±ûÊÄß„ÄÇÂ£∞Êòé‰∏Ä‰∏™PhoneÊé•Âè£Ôºö123public interface Phone &#123; public void phoneMsg();&#125;ÂÆûÁé∞Á±ªGooglePixelÔºö123456789101112131415public class GooglePixel implements Phone&#123; private String name; private String cpu; private String battery; public GooglePixel(String name, String cpu, String battery) &#123; this.name = name; this.cpu = cpu; this.battery = battery; &#125; public void phoneMsg() &#123; System.out.println(name+"ÔºåcpuÂûãÂè∑Ôºö"+cpu+"ÔºåÁîµÊ±†ÂÆπÈáèÔºö"+battery); &#125;&#125;ÂàõÂª∫‰∏Ä‰∏™Â§ñÈÉ®ÈÖçÁΩÆÁ±ªÔºögooglePixel.propertiesÔºö123phone.name=Google Pixelphone.battery=2770mAhphone.cpu=Qualcomm Xiaolong 821Âú®JavaConfig‰∏≠Âä†ËΩΩÂ§ñÈÉ®ÈÖçÁΩÆÔºåÂπ∂Áî®SpringÁöÑEnvironmentÂØπË±°Ëé∑ÂèñÔºö123456789101112131415161718192021import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.PropertySource;import org.springframework.core.env.Environment; @Configuration//Âä†ËΩΩÂ§ñÈÉ®ÈÖçÁΩÆÊñá‰ª∂@PropertySource("classpath:/mrbird/leanote/properties/googlePixel.properties")public class PhoneConfig &#123; //Ê≥®ÂÖ•SpringÁéØÂ¢ÉÂØπË±° @Autowired private Environment env; @Bean(name="googlePixel") public Phone phone()&#123; return new GooglePixel( env.getProperty("phone.name"), env.getProperty("phone.cpu"), env.getProperty("phone.battery")); &#125;&#125;ÊµãËØïÊòØÂê¶Ê≥®ÂÖ•ÊàêÂäüÔºö1234567public class Test &#123; public static void main(String[] args) &#123; ApplicationContext ac = new AnnotationConfigApplicationContext(PhoneConfig.class); Phone googlePixel = (Phone) ac.getBean("googlePixel"); googlePixel.phoneMsg(); &#125;&#125;ÊéßÂà∂Âè∞ËæìÂá∫Ôºö1Google PixelÔºåcpuÂûãÂè∑ÔºöQualcomm Xiaolong 821ÔºåÁîµÊ±†ÂÆπÈáèÔºö2770mAhgetProperty()ÊñπÊ≥ïÂπ∂‰∏çÊòØËé∑ÂèñÂ±ûÊÄßÂÄºÁöÑÂîØ‰∏ÄÊñπÊ≥ïÔºågetProperty()ÊñπÊ≥ïÊúâÂõõ‰∏™ÈáçËΩΩÁöÑÂèòÁßçÂΩ¢ÂºèÔºö1234String getProperty(String key)String getProperty(String key,String defaultValue)T getProperty(String key,Class&lt;T&gt; type)T getProperty(Stirng key,Class&lt;T&gt; type,T defaultValue)Ââç‰∏§ÁßçÂΩ¢ÂºèÁöÑgetProperty()ÊñπÊ≥ïÈÉΩ‰ºöËøîÂõûStringÁ±ªÂûãÁöÑÂÄº„ÄÇ‰∏äÈù¢ÁöÑÊ†óÂ≠ê‰ΩøÁî®Á¨¨‰∏ÄÁßçgetProperty()ÊñπÊ≥ï„ÄÇÁ®çÂæÆÂØπ@BeanÊñπÊ≥ïËøõË°å‰∏Ä‰∏ã‰øÆÊîπÔºåËøôÊ†∑Âú®ÊåáÂÆöÂ±ûÊÄß‰∏çÂ≠òÂú®ÁöÑÊó∂ÂÄôÔºå‰ºö‰ΩøÁî®‰∏Ä‰∏™ÈªòËÆ§ÂÄºÔºö1234567@Bean(name="googlePixel") public Phone phone()&#123; return new GooglePixel( env.getProperty("phone.name","Ë∞∑Ê≠åPixel"), env.getProperty("phone.cpu","È´òÈÄöÊû≠Èæô821"), env.getProperty("phone.battery","2770ÊØ´ÂÆâÊó∂")); &#125;Ââ©‰∏ãÁöÑ‰∏§ÁßçgetProperty()ÊñπÊ≥ï‰∏éÂâçÈù¢ÁöÑ‰∏§ÁßçÈùûÂ∏∏Á±ª‰ººÔºå‰ΩÜÊòØÂÆÉ‰ª¨ÂèØ‰ª•‰º†ÂÖ•Á±ªÂûã„ÄÇEnvironmentËøòÊèê‰æõ‰∫ÜÂá†‰∏™‰∏éÂ±ûÊÄßÁõ∏ÂÖ≥ÁöÑÊñπÊ≥ïÔºåÂ¶ÇÊûú‰Ω†Âú®‰ΩøÁî®getProperty()ÊñπÊ≥ïÁöÑÊó∂ÂÄô Ê≤°ÊúâÊåáÂÆöÈªòËÆ§ÂÄºÔºåÂπ∂‰∏îËøô‰∏™Â±ûÊÄßÊ≤°ÊúâÂÆö‰πâÁöÑËØùÔºåËé∑ÂèñÂà∞ÁöÑÂÄºÊòØnull„ÄÇÂ¶ÇÊûú‰Ω†Â∏åÊúõËøô‰∏™Â±ûÊÄßÂøÖÈ°ªË¶ÅÂÆö‰πâÔºåÈÇ£‰πàÂèØ‰ª•‰ΩøÁî®getRequiredProperty()ÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567@Bean(name="googlePixel") public Phone phone()&#123; return new GooglePixel( env.getRequiredProperty("phone.name"), env.getRequiredProperty("phone.cpu"), env.getRequiredProperty("phone.battery")); &#125;Âú®ËøôÈáåÔºåÂ¶ÇÊûúphone.nameÊàñphone.cpuÊàñphone.batteryÂ±ûÊÄßÊ≤°ÊúâÂÆö‰πâÁöÑËØùÔºåÂ∞Ü‰ºöÊäõÂá∫ IllegalStateExceptionÂºÇÂ∏∏„ÄÇÂ¶ÇÊûúÊÉ≥Ê£ÄÊü•‰∏Ä‰∏ãÊüê‰∏™Â±ûÊÄßÊòØÂê¶Â≠òÂú®ÁöÑËØùÔºåÈÇ£‰πàÂèØ‰ª•Ë∞ÉÁî®EnvironmentÁöÑ containsProperty()ÊñπÊ≥ïÔºö1boolean nameExists = env.containsProperty("phone.name");Â±ûÊÄßÂç†‰ΩçÁ¨¶ÂàõÂª∫‰∏Ä‰∏™phone-config.xmlÊñá‰ª∂Ôºå‰ΩøÁî®Spring contextÂëΩÂêçÁ©∫Èó¥‰∏≠ÁöÑcontext:propertyplaceholderÂÖÉÁ¥†ÁîüÊàêPropertySourcesPlaceholderConfigurer beanÔºö1234567891011121314151617&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:c="http://www.springframework.org/schema/c" xmlns:context="http://www.springframework.org/schema/context" xmlns:util="http://www.springframework.org/schema/util" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd"&gt; &lt;context:property-placeholder location="classpath:/mrbird/leanote/properties/googlePixel.properties"/&gt; &lt;bean id="googlePixel" class="mrbird.leanote.javaconfig.GooglePixel" c:name="$&#123;phone.name&#125;" c:cpu="$&#123;phone.cpu&#125;" c:battery="$&#123;phone.battery&#125;"/&gt;&lt;/beans&gt;ÊµãËØïÔºö123456789101112@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration("classpath:phone-config.xml")public class Test &#123; @Autowired @Qualifier("googlePixel") private Phone phone; @Test public void drive()&#123; assertNotNull(phone); phone.phoneMsg(); &#125;&#125;ËæìÂá∫ÁªìÊûúÂêå‰∏ä„ÄÇÊàñËÄÖ‰∏çÁî®XMLÊòæÁ§∫ÈÖçÁΩÆBeanÔºåÂºÄÂêØËá™Âä®Êâ´ÊèèÔºå‰ΩøÁî®Ê≥®Ëß£Ê≥®ÂÖ•Â±ûÊÄßÂÄºÔºö12&lt;!-- ÂºÄÂêØÊâ´Êèè --&gt;&lt;context:component-scan base-package="mrbird.leanote.javaconfig"/&gt;GooglePixelÁ±ªÂ±ûÊÄßÊ≥®ÂÖ•Ôºö12345678910111213141516171819@Componentpublic class GooglePixel implements Phone&#123; @Value("$&#123;phone.name&#125;") private String name; @Value("$&#123;phone.cpu&#125;") private String cpu; @Value("$&#123;phone.battery&#125;") private String battery; public GooglePixel(String name, String cpu, String battery) &#123; this.name = name; this.cpu = cpu; this.battery = battery; &#125; public void phoneMsg() &#123; System.out.println(name+"ÔºåcpuÂûãÂè∑Ôºö"+cpu+"ÔºåÁîµÊ±†ÂÆπÈáèÔºö"+battery); &#125;&#125;ÊàñËÄÖÊûÑÈÄ†Âô®Ê≥®ÂÖ•Ôºö12345678910...public GooglePixel( @Value("$&#123;phone.name&#125;")String name, @Value("$&#123;phone.cpu&#125;")String cpu, @Value("$&#123;phone.battery&#125;")String battery) &#123; this.name = name; this.cpu = cpu; this.battery = battery;&#125;...util:propertiesÂú®phone-config.xmlÊñá‰ª∂‰∏≠Ôºö12345678910111213141516171819&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:c="http://www.springframework.org/schema/c" xmlns:context="http://www.springframework.org/schema/context" xmlns:util="http://www.springframework.org/schema/util" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.3.xsd"&gt; &lt;util:properties id="p" location="classpath:/mrbird/leanote/properties/googlePixel.properties"/&gt; &lt;bean id="googlePixel" class="mrbird.leanote.javaconfig.GooglePixel" c:name="#&#123;p['phone.name']&#125;" c:cpu="#&#123;p['phone.cpu']&#125;" c:battery="#&#123;p['phone.battery']&#125;"/&gt;&lt;/beans&gt;ÂíåÂç†‰ΩçÁ¨¶Âå∫Âà´ÊòØÔºåËøôÈáåÈúÄË¶ÅÁî®spELË°®ËææÂºèËé∑ÂèñÂ±ûÊÄßÁöÑÂÄºÔºåÂπ∂‰∏î‰∏çËÉΩÂÜô‰∏∫Ôºö‚Äù#{p.phone.name}‚ÄùÔºåËøôÊ†∑SpringËØªÂèñ‰∏çÂà∞Â±ûÊÄßÂÄºÔºåÂ∞Ü‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇ‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆÂíåÂç†‰ΩçÁ¨¶Á±ª‰ººÔºåÊØîÂ¶ÇsetÊ≥®ÂÖ•Ôºö12345678...@Value("#&#123;p['phone.name']&#125;")private String name;@Value("#&#123;p['phone.cpu']&#125;")private String cpu;@Value("#&#123;p['phone.battery']&#125;")private String battery;...ÊàñËÄÖ‰ΩøÁî®systemPropertiesÊù•‰ª£ÊõøpÔºö12345678...@Value("#&#123;systemProperties['phone.name']&#125;")private String name;@Value("#&#123;systemProperties['phone.cpu']&#125;")private String cpu;@Value("#&#123;systemProperties['phone.battery']&#125;")private String battery;...someÔºöXML123&lt;context:property-placeholder location="classpath:....properties"/&gt; &lt;context:component-scan base-package=""/&gt; &lt;import resource="classpath:....xml"/&gt;Ê≥®Ëß£Ôºö123@PropertySource(value = "classpath:....properties")@ComponentScan(basePackages = "")@ImportResource(value = &#123;"classpath:....xml"&#125;)]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringÊù°‰ª∂ÂåñË£ÖÈÖçBean]]></title>
    <url>%2FSpring%E6%9D%A1%E4%BB%B6%E5%8C%96%E8%A3%85%E9%85%8DBean.html</url>
    <content type="text"><![CDATA[Spring4ÂºïÂÖ•‰∫Ü@ConditionalÊ≥®Ëß£ÔºåÂèØÈÖçÂêà@BeanÊàñËÄÖ@ComponentÊ≥®Ëß£‰∏ÄËµ∑‰ΩøÁî®„ÄÇÁî®CET4ËÄÉËØïÊù•ÊºîÁ§∫@ConditionalÊ≥®Ëß£„ÄÇÊñ∞Âª∫ËÄÉËØïÁªìÊûúResultÊé•Âè£Ôºö123public interface Result &#123; public void getResult();&#125;ÂÆûÁé∞Á±ªCET4Ôºö12345public class CET4 implements Result&#123; public void getResult() &#123; System.out.println("ÊÅ≠Âñú‰Ω†ÈÄöËøáCET4"); &#125;&#125;ÂÆö‰πâÂ≠¶ÁîüÊé•Âè£Ôºö123public interface Student &#123; public void exam();&#125;ÂÆûÁé∞Á±ªXiaoMingÔºö12345678910public class XiaoMing implements Student&#123; //Ê≥®ÂÖ•result @Autowired(required=false) private Result result; public void exam() &#123; if(result == null) System.out.println("Êä±Ê≠âÔºåCET4Êú™ÈÄöËøá"); else result.getResult(); &#125;&#125;ÈÖçÁΩÆJavaConfigÔºö12345678910111213141516import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Conditional;import org.springframework.context.annotation.Configuration; @Configurationpublic class ConditionConfig &#123; @Bean @Conditional(ResultCondition.class) public Result result()&#123; return new CET4(); &#125; @Bean(name="xiaoming") public Student student()&#123; return new XiaoMing(); &#125;&#125;ÂèØ‰ª•ÁúãÂà∞Ôºå@Conditional‰∏≠ÁªôÂÆö‰∫Ü‰∏Ä‰∏™ClassÔºåÂÆÉÊåáÊòé‰∫ÜÊù°‰ª∂‚Äî‚ÄîÂú®Êú¨‰æã‰∏≠Ôºå‰πüÂ∞±ÊòØResultConditionÔºö123456789101112131415import org.springframework.context.annotation.Condition;import org.springframework.context.annotation.ConditionContext;import org.springframework.core.env.Environment;import org.springframework.core.type.AnnotatedTypeMetadata; public class ResultCondition implements Condition&#123; public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) &#123; Environment env = context.getEnvironment(); //Ëé∑ÂèñÁéØÂ¢ÉÂèòÈáè‰∏≠ÁöÑresultÂ±ûÊÄß String result = env.getProperty("result"); if("success".equals(result)) return true; else return false; &#125;&#125;ËÆæÁΩÆÁªô@ConditionalÁöÑÁ±ªÂèØ‰ª•ÊòØ‰ªªÊÑèÂÆûÁé∞‰∫ÜConditionÊé•Âè£ÁöÑÁ±ªÂûã„ÄÇÂèØ‰ª•ÁúãÂá∫Êù•ÔºåËøô‰∏™Êé•Âè£ÂÆûÁé∞Ëµ∑Êù•ÂæàÁÆÄÂçïÁõ¥Êé•ÔºåÂè™ÈúÄÊèê‰æõmatches()ÊñπÊ≥ïÁöÑÂÆûÁé∞Âç≥ÂèØ„ÄÇÂ¶ÇÊûúmatches()ÊñπÊ≥ïËøîÂõû trueÔºåÈÇ£‰πàÂ∞±‰ºöÂàõÂª∫Â∏¶Êúâ@ConditionalÊ≥®Ëß£ÁöÑbean„ÄÇÂ¶ÇÊûúmatches()ÊñπÊ≥ïËøîÂõûfalseÔºåÂ∞Ü‰∏ç‰ºöÂàõÂª∫Ëøô‰∫õbean„ÄÇConditionContextÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂ§ßËá¥Â¶Ç‰∏ãÊâÄÁ§∫Ôºö1234567public interface conditioncontext&#123; BeanDefinitionRegistry getRegistry(); ConfigurableListableBeanFactory getBeanFactory(); ResourceLoader getResourceLoader(); Environment getEnvironment(); ClassLoder getClassLoader();&#125;ÈÄöËøáConditionContextÔºåÊàë‰ª¨ÂèØ‰ª•ÂÅöÂà∞Â¶Ç‰∏ãÂá†ÁÇπÔºö1.ÂÄüÂä©getRegistry()ËøîÂõûÁöÑBeanDefinitionRegistryÊ£ÄÊü•beanÂÆö‰πâÔºõ2.ÂÄüÂä©getBeanFactory()ËøîÂõûÁöÑConfigurableListableBeanFactoryÊ£ÄÊü•beanÊòØÂê¶Â≠òÂú®ÔºåÁîöËá≥Êé¢Êü•beanÁöÑÂ±ûÊÄßÔºõ3.ÂÄüÂä©getEnvironment()ËøîÂõûÁöÑEnvironmentÊ£ÄÊü•ÁéØÂ¢ÉÂèòÈáèÊòØÂê¶Â≠òÂú®‰ª•ÂèäÂÆÉÁöÑÂÄºÊòØ‰ªÄ‰πàÔºõ4.ËØªÂèñÂπ∂Êé¢Êü•getResourceLoader()ËøîÂõûÁöÑResourceLoaderÊâÄÂä†ËΩΩÁöÑËµÑÊ∫êÔºõ5.ÂÄüÂä©getClassLoader()ËøîÂõûÁöÑClassLoaderÂä†ËΩΩÂπ∂Ê£ÄÊü•Á±ªÊòØÂê¶Â≠òÂú®„ÄÇAnnotatedTypeMetadataÂàôËÉΩÂ§üËÆ©Êàë‰ª¨Ê£ÄÊü•Â∏¶Êúâ@BeanÊ≥®Ëß£ÁöÑÊñπÊ≥ï‰∏äËøòÊúâ‰ªÄ‰πàÂÖ∂‰ªñÁöÑÊ≥®Ëß£„ÄÇÂÉèConditionContext‰∏ÄÊ†∑ÔºåAnnotatedTypeMetadata‰πüÊòØ‰∏Ä‰∏™Êé•Âè£„ÄÇÂÆÉÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö12345678910public interface AnnotatedTypeMetadata&#123; boolean isAnnotated(String annotationType); Map&lt;String,Object&gt; getAnnotationAttributes(String annotationType); Map&lt;String,Object&gt; getAnnotationAttributes( String annotationType,boolean classValuesAsString); MutilValueMap&lt;String,Object&gt; getAllAnnotationAttributes( String annotationType); MutilValueMap&lt;String,Object&gt; getAllAnnotationAttributes( String annotationType,boolean classValuesAsString);&#125;ÂÄüÂä©isAnnotated()ÊñπÊ≥ïÔºåÊàë‰ª¨ËÉΩÂ§üÂà§Êñ≠Â∏¶Êúâ@BeanÊ≥®Ëß£ÁöÑÊñπÊ≥ïÊòØ‰∏çÊòØËøòÊúâÂÖ∂‰ªñÁâπÂÆöÁöÑÊ≥®Ëß£„ÄÇÂÄüÂä©ÂÖ∂‰ªñÁöÑÈÇ£‰∫õÊñπÊ≥ïÔºåÊàë‰ª¨ËÉΩÂ§üÊ£ÄÊü•@BeanÊ≥®Ëß£ÁöÑÊñπÊ≥ï‰∏äÂÖ∂‰ªñÊ≥®Ëß£ÁöÑÂ±ûÊÄß„ÄÇÁé∞Âú®ÊµãËØï@ConditionalÊ≥®Ëß£ÁöÑ‰ΩúÁî®Ôºö12345678public class TestConditional &#123; public static void main(String[] args) &#123; System.setProperty("result", "fail"); ApplicationContext ac = new AnnotationConfigApplicationContext(ConditionConfig.class); Student xiaoming = (Student) ac.getBean("xiaoming"); xiaoming.exam(); &#125;&#125;ËøôÈáåËÆæÁΩÆresult‰∏∫failÔºåResultConditionÁöÑmatches()ÊñπÊ≥ïËøîÂõûfalseÔºåÊâÄ‰ª•CET4 BeanÂπ∂‰∏ç‰ºöË¢´ÂàõÂª∫ÔºåÁªìÊûúÂ∫îËØ•ËæìÂá∫‚ÄúÊä±Ê≠âÔºåCET4Êú™ÈÄöËøá‚ÄùÔºåÊµãËØïÁªìÊûúÔºö1Êä±Ê≠âÔºåCET4Êú™ÈÄöËøá]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringÊ∑∑ÂêàË£ÖÈÖçBean]]></title>
    <url>%2FSpring%E6%B7%B7%E5%90%88%E8%A3%85%E9%85%8DBean.html</url>
    <content type="text"><![CDATA[SpringÂèØ‰ª•ÈÄöËøáJava‰ª£Á†Å‰ª•ÂèäXMLÈÖçÁΩÆÊù•Ë£ÖÈÖçBeanÔºå‰∏ç‰ªÖÂ¶ÇÊ≠§ÔºåSpringËøòÂèØ‰ª•Ê∑∑ÂêàËøô‰∏§ÁßçË£ÖÈÖçÊñπÊ≥ï„ÄÇJavaConfig‰∏≠ÂºïÂÖ•XMLÈÖçÁΩÆÂéªÈô§@ComponentScanÊ≥®Ëß£ÔºåËÆ©ÊâÄÊúâÁöÑBeanÊòæÁ§∫ÈÖçÁΩÆ„ÄÇÂàõÂª∫‰∏Ä‰∏™DriverConfigÈÖçÁΩÆÁ±ªÔºåÈáåÈù¢Âè™Ë£ÖÈÖç‰∏Ä‰∏™‚Äúlaosiji‚ÄùBeanÔºö1234567@Configurationpublic class DriverConfig &#123; @Bean(name="laosiji") public Driver driver()&#123; return new LaoSiJi(); &#125;&#125;ÂàõÂª∫‰∏Ä‰∏™car-config.xmlÈÖçÁΩÆÔºåÂú®ÈáåÈù¢‰ΩøÁî®xmlÊñπÂºèÈÖçÁΩÆCar BeanÔºö12345678910&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:c="http://www.springframework.org/schema/c" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;bean id="wulinghongguang" class="mrbird.leanote.javaconfig.WuLing" c:_-ref="laosiji"/&gt;&lt;/beans&gt;ÊúÄÂêéÂàõÂª∫‰∏Ä‰∏™MainConfigÈÖçÁΩÆÁ±ªÔºåÂºïÂÖ•CarConfig‰ª•Âèäcar-config.xmlÈÖçÁΩÆÔºö123456789101112import org.springframework.context.annotation.Import;import org.springframework.context.annotation.ImportResource;import org.springframework.test.context.ContextConfiguration; @ContextConfiguration//ÂØºÂÖ•DriverConfigÈÖçÁΩÆÁ±ª@Import(DriverConfig.class)//JavaConfig‰∏≠ÂºïÂÖ•XMLÈÖçÁΩÆ@ImportResource("classpath:car-config.xml")public class MainConfig &#123; &#125;ÊµãËØïÊòØÂê¶Ê≥®ÂÖ•ÊàêÂäüÔºö1234567891011121314151617@RunWith(SpringJUnit4ClassRunner.class)//ÂØºÂÖ•MainConfigÈÖçÁΩÆÁ±ª@ContextConfiguration(classes=MainConfig.class)public class CarTest &#123; @Autowired @Qualifier("wulinghongguang") private Car car; @Autowired private Driver driver; @Test public void drive()&#123; assertNotNull(car); car.drive(); assertNotNull(driver); driver.drive(); &#125;&#125;ÊµãËØïÈÄöËøáÔºåÈ°µÈù¢ËæìÂá∫Ôºö12Âø´‰∏äËΩ¶ÔºåÊù•‰∏çÂèäËß£Èáä‰∫ÜÂø´‰∏äËΩ¶ÔºåÊù•‰∏çÂèäËß£Èáä‰∫ÜXMLÈÖçÁΩÆ‰∏≠ÂºïÂÖ•JavaConfigÂàõÂª∫‰∏Ä‰∏™main-config.xmlÔºåÈáåÈù¢ÂàÜÂà´ÂºïÂÖ•DriverConfig‰ª•Âèäcar-config.xmlÔºö123456789&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:c="http://www.springframework.org/schema/c" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt; &lt;bean class="mrbird.leanote.javaconfig.DriverConfig"/&gt; &lt;import resource="car-config.xml"/&gt;&lt;/beans&gt;ÊµãËØïÔºö12345678910111213141516@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration("classpath:main-config.xml")public class CarTest &#123; @Autowired @Qualifier("wulinghongguang") private Car car; @Autowired private Driver driver; @Test public void drive()&#123; assertNotNull(car); car.drive(); assertNotNull(driver); driver.drive(); &#125;&#125;ÊµãËØïÈÄöËøáÔºåËæìÂá∫Â¶Ç‰∏ä„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java‰ª£Á†ÅË£ÖÈÖçBean]]></title>
    <url>%2FJava%E4%BB%A3%E7%A0%81%E8%A3%85%E9%85%8DBean.html</url>
    <content type="text"><![CDATA[Èô§‰∫ÜÂèØ‰ª•‰ΩøÁî®XMLÈÖçÁΩÆBeanÂ§ñÔºåËøòÂèØ‰ª•‰ΩøÁî®Java‰ª£Á†ÅÊù•Ë£ÖÈÖçBean„ÄÇÂáÜÂ§áÂ∑•‰ΩúÂàõÂª∫MavenÈ°πÁõÆÔºåÂä†ÂÖ•Â¶Ç‰∏ã‰æùËµñÔºö12345678910111213141516171819202122232425262728&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;4.3.2.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;4.3.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt; &lt;artifactId&gt;system-rules&lt;/artifactId&gt; &lt;version&gt;1.16.0&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;ÂàõÂª∫BeanÂàõÂª∫DriverÊé•Âè£Ôºö123public interface Driver &#123; public void drive();&#125;ÂÖ∂ÂÆûÁé∞Á±ªLaoSiJiÔºö12345public class LaoSiJi implements Driver&#123; public void drive() &#123; System.out.println("Âø´‰∏äËΩ¶ÔºåÊù•‰∏çÂèäËß£Èáä‰∫Ü"); &#125;&#125;ÁªôËÄÅÂè∏Êú∫ÂàÜÈÖç‰∏ÄËæÜËΩ¶ÔºåÂÆö‰πâCarÊé•Âè£Ôºö123public interface Car &#123; public void drive();&#125;ÂÖ∂ÂÆûÁé∞Á±ª‰∫îËè±ÂÆèÂÖâÔºö1234567891011public class WuLing implements Car&#123; private Driver driver; // ÈÄöËøáÊûÑÈÄ†Âô®Ê≥®ÂÖ•ËÄÅÂè∏Êú∫ @Autowired public WuLing(Driver driver) &#123; this.driver = driver; &#125; public void drive() &#123; driver.drive(); &#125;&#125;ÂàõÂª∫ÈÖçÁΩÆÁ±ªÈÖçÁΩÆÁ±ª‰∏≠ÂèØ‰ª•ÊòæÁ§∫ÁöÑÈÖçÁΩÆBeanÔºå‰πüÂèØ‰ª•ÈááÁî®Ëá™Âä®Êâ´ÊèèÁöÑÊñπÊ≥ïÊù•ÁÆÄÂåñÈÖçÁΩÆ„ÄÇÊòæÁ§∫ÈÖçÁΩÆÔºö1234567891011121314151617import mrbird.leanote.javaconfig.Car;import mrbird.leanote.javaconfig.CarConfig;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration; @Configurationpublic class CarConfig &#123; //ÊòæÁ§∫ÈÖçÁΩÆdriverÂíåcar @Bean public Driver driver()&#123; return new LaoSiJi(); &#125; @Bean public Car car(Driver driver)&#123; return new WuLing(driver); &#125;&#125;Ëá™Âä®Êâ´ÊèèÔºöËá™Âä®Êâ´ÊèèÁöÑËØùÁ®çÂæÆ‰øÆÊîπÈÖçÁΩÆÁ±ªÔºö1234567import org.springframework.context.annotation.ComponentScan;import org.springframework.context.annotation.Configuration; @Configuration@ComponentScanpublic class CarConfig &#123;&#125;ÁÑ∂ÂêéÂú®‰∏äÈù¢ÂàõÂª∫ÁöÑBeanÁ±ª‰∏äÊ∑ªÂä†@ComponentÊ≥®Ëß£ÔºåËÆ©SpringÂèëÁé∞Âπ∂Ê≥®ÂÖ•Âà∞ÈÖçÁΩÆÁ±ª‰∏≠„ÄÇÊµãËØïÊµãËØïÊòØÂê¶Ê≥®ÂÖ•ÊàêÂäüÔºö12345678910111213141516171819202122232425import mrbird.leanote.javaconfig.Car;import mrbird.leanote.javaconfig.CarConfig;import static org.junit.Assert.*;import org.junit.Rule;import org.junit.Test;import org.junit.contrib.java.lang.system.StandardOutputStreamLog;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner; @RunWith(SpringJUnit4ClassRunner.class)//Âä†ËΩΩÈÖçÁΩÆÁ±ª@ContextConfiguration(classes=CarConfig.class)public class CarTest &#123; @Rule public final StandardOutputStreamLog log = new StandardOutputStreamLog(); @Autowired private Car car; @Test public void drive()&#123; assertNotNull(car); car.drive(); &#125;&#125;ËæìÂá∫Ôºö1Âø´‰∏äËΩ¶ÔºåÊù•‰∏çÂèäËß£Èáä‰∫Ü]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âá†‰∏™Á≤æÂΩ©ÁöÑJavaScript‰ª£Á†ÅÊÆµ]]></title>
    <url>%2F%E5%87%A0%E4%B8%AA%E7%B2%BE%E5%BD%A9%E7%9A%84JavaScript%E4%BB%A3%E7%A0%81%E6%AE%B5.html</url>
    <content type="text"><![CDATA[1.Ê†πÊçÆÁªôÂÆöÁöÑÊù°‰ª∂Âú®ÂéüÊúâÁöÑÊï∞ÁªÑ‰∏äÔºåÂæóÂà∞ÊâÄÈúÄË¶ÅÁöÑÊñ∞Êï∞ÁªÑ1234567891011var a = [-1, -1, 1, 2, -2, -2, -3, -3, 3, -3];function f(s, e) &#123; var ret = []; for (var i in s) &#123; // Ê†πÊçÆÂéüÊúâÁöÑÊï∞ÁªÑÈïøÂ∫¶ËøõË°åÂæ™ÁéØ ret.push(e(s[i])); &#125; return ret;&#125;f(a, function(n) &#123; return n &gt; 0 ? n : 0&#125;); // ‰º†Ëæì‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞‰Ωú‰∏∫ÈÄªËæëÂà§Êñ≠‚Äã2.ÊØîÂéüÁîütypeÊàñtypeofÊõ¥ËØ¶ÁªÜÁöÑÁ±ªÂûãÁõëÊµãÊñπÊ≥ï1234function type(p) &#123; /function.(\w*)\(\)/.test(p.constructor); //ÈÄöËøáÂÖ∂ÊûÑÈÄ†ÂáΩÊï∞Êù•Ëé∑ÂèñÂØπÂ∫îÁöÑÁ±ªÂûã„ÄÇ return RegExp.$1;&#125;3.ÈÄöËøáÁßª‰ΩçËøêÁÆóÊù•Êõø‰ª£‚ÄùparseInt‚Äù123~~3.14 = &gt; 3;// ~~ ÂèñÊï¥„ÄÇ~ÂèñÂΩìÂâçÊï∞ÂÄºÁöÑÂèç,~~Ë°®Á§∫ÂÜçÊ¨°ÂèñÂèçÔºå‰πüÂ∞±ÊòØÂæóÂà∞ÂΩìÂâçËá™Ë∫´// ÔºàËØ¥ÊòéÔºåJS‰∏≠ÁöÑ‚Äú‰Ωç‚ÄùËøêÁÆó‰ºöÂ∞ÜÊï∞ÂÄºËá™Âä®ËΩ¨Êç¢‰∏∫Êï¥Ôºâ4.Â∞ÜÊï∞ÂÄºËΩ¨Êç¢‰∏∫16ËøõÂà∂ÁöÑÂ≠óÁ¨¶‰∏≤ÔºàÂ∏∏Áî®‰∫éË°®Á§∫Ëâ≤ÂΩ©Ôºâ1234(~~ (Math.random() * (1 &lt;&lt; 24))).toString(16)// ~~ ÈÄöËøá‰ΩçËøêÁÆóÊù•ÂèñÊï¥„ÄÇ// &lt;&lt; Â∑¶Áßª‰Ωç„ÄÇÂ∞Ü1ÁöÑ‰∫åËøõÂà∂Êï∞Â∑¶Áßª24‰Ωç„ÄÇËÄå1&lt;&lt;24 == 2^24(RGBÊ®°Âºè‰∏ãÊúÄÂ§öÂèØË°®Á§∫ÁöÑËâ≤ÂΩ©Êï∞Èáè)// toString(16) Â∞ÜÊï∞ÂÄºËΩ¨Êç¢‰∏∫16ËøõÂà∂ÁöÑÂ≠óÁ¨¶‰∏≤ËæìÂá∫„ÄÇ5.Ê≠£ÂàôÂåπÈÖçÊ∏ÖÈô§‰∏§‰æßÁ©∫Ê†º1234var trim = function(v)&#123; var patrn = /^\s*(.*?)\s+$/; return (patrn.test(v))? RegExp.$1 : 'null ';&#125;ËΩ¨Ëá™ÔºöÂæÆ‰ø°ÂÖ¨‰ºóÂè∑ÔºöJavaScriptcn]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatis Dynamic SQL]]></title>
    <url>%2FMyBatis-Dynamic-SQL.html</url>
    <content type="text"><![CDATA[MyBatis ÁöÑÂº∫Â§ßÁâπÊÄß‰πã‰∏Ä‰æøÊòØÂÆÉÁöÑÂä®ÊÄÅ SQL„ÄÇÂ¶ÇÊûú‰Ω†Êúâ‰ΩøÁî® JDBC ÊàñÂÖ∂‰ªñÁ±ª‰ººÊ°ÜÊû∂ÁöÑÁªèÈ™åÔºå‰Ω†Â∞±ËÉΩ‰Ωì‰ºöÂà∞Ê†πÊçÆ‰∏çÂêåÊù°‰ª∂ÊãºÊé• SQL ËØ≠Âè•ÊúâÂ§ö‰πàÁóõËã¶„ÄÇÊãºÊé•ÁöÑÊó∂ÂÄôË¶ÅÁ°Æ‰øù‰∏çËÉΩÂøò‰∫ÜÂøÖË¶ÅÁöÑÁ©∫Ê†ºÔºåËøòË¶ÅÊ≥®ÊÑèÁúÅÊéâÂàóÂêçÂàóË°®ÊúÄÂêéÁöÑÈÄóÂè∑„ÄÇÂà©Áî®Âä®ÊÄÅ SQL Ëøô‰∏ÄÁâπÊÄßÂèØ‰ª•ÂΩªÂ∫ïÊëÜËÑ±ËøôÁßçÁóõËã¶„ÄÇifÂä®ÊÄÅ SQL ÈÄöÂ∏∏Ë¶ÅÂÅöÁöÑ‰∫ãÊÉÖÊòØÊúâÊù°‰ª∂Âú∞ÂåÖÂê´ where Â≠êÂè•ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÊØîÂ¶ÇÔºö12345678910&lt;select id="findRoles" resultType="roleList"&gt; SELECT * FROM t_role WHERE 1 = 1 &lt;if test="roleNo != null and roleNo != ''"&gt; AND role_no like concat('%',#&#123;roleNo&#125;,'%') &lt;/if&gt; &lt;if test="roleName != null and roleName != ''"&gt; AND role_name like concat('%',#&#123;roleName&#125;,'%') &lt;/if&gt;&lt;/select&gt;choose, when, otherwiseÊúâ‰∫õÊó∂ÂÄôÔºåÊàë‰ª¨‰∏çÊÉ≥Áî®Âà∞ÊâÄÊúâÁöÑÊù°‰ª∂ËØ≠Âè•ÔºåËÄåÂè™ÊÉ≥‰ªé‰∏≠Êã©ÂÖ∂‰∏Ä‰∫å„ÄÇÈíàÂØπËøôÁßçÊÉÖÂÜµÔºåMyBatis Êèê‰æõ‰∫Ü choose ÂÖÉÁ¥†ÔºåÂÆÉÊúâÁÇπÂÉè Java ‰∏≠ÁöÑ switch ËØ≠Âè•„ÄÇÂ¶ÇÔºö123456789101112131415&lt;select id="findRoles" resultType="roleList"&gt; SELECT * FROM t_role WHERE 1 = 1 &lt;choose&gt; &lt;when test="roleNo != null and roleNo != ''"&gt; AND role_no = #&#123;roleNo&#125; &lt;/when&gt; &lt;when test="roleName != null and roleName != ''"&gt; AND role_name like concat('%',#&#123;roleName&#125;,'%') &lt;/when&gt; &lt;otherwise&gt; AND note is not null &lt;/otherwise&gt; &lt;/choose&gt;&lt;/select&gt;trim, where, setÂú®Á¨¨‰∏Ä‰∏™Ê†óÂ≠ê‰∏≠ÔºåÂÅáÂ¶Ç‰∏çÂä†‰∏ä1=1ÁöÑËØùÔºåÊØîÂ¶ÇÂΩìÁ¨¨‰∏Ä‰∏™Êù°‰ª∂‰∏çÊàêÁ´ãÁöÑÊó∂ÂÄôÔºåSQLÂ∞±ÂèòÊàê‰∫ÜËøôÊ†∑Ôºö1SELECT * FROM t_role WHERE AND roleName like concat('%',#&#123;roleName&#125;,'%')‰∏∫‰∫ÜÈò≤Ê≠¢ËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®whereÂÖÉÁ¥†Ôºö1234567891011&lt;select id="findRoles" resultType="roleList"&gt; SELECT * FROM t_role &lt;where&gt; &lt;if test="roleNo != null and roleNo != ''"&gt; AND role_no like concat('%',#&#123;roleNo&#125;,'%') &lt;/if&gt; &lt;if test="roleName != null and roleName != ''"&gt; AND role_name like concat('%',#&#123;roleName&#125;,'%') &lt;/if&gt; &lt;/where&gt;&lt;/select&gt;where ÂÖÉÁ¥†Áü•ÈÅìÂè™ÊúâÂú®‰∏Ä‰∏™‰ª•‰∏äÁöÑifÊù°‰ª∂ÊúâÂÄºÁöÑÊÉÖÂÜµ‰∏ãÊâçÂéªÊèíÂÖ•‚ÄúWHERE‚ÄùÂ≠êÂè•„ÄÇËÄå‰∏îÔºåËã•ÊúÄÂêéÁöÑÂÜÖÂÆπÊòØ‚ÄúAND‚ÄùÊàñ‚ÄúOR‚ÄùÂºÄÂ§¥ÁöÑÔºåwhere ÂÖÉÁ¥†‰πüÁü•ÈÅìÂ¶Ç‰ΩïÂ∞Ü‰ªñ‰ª¨ÂéªÈô§„ÄÇÂíå where ÂÖÉÁ¥†Á≠â‰ª∑ÁöÑËá™ÂÆö‰πâ trim ÂÖÉÁ¥†‰∏∫Ôºö123&lt;trim prefix="WHERE" prefixOverrides="AND |OR "&gt; ... &lt;/trim&gt;perfixË°®Á§∫ËØ≠Âè•ÂâçÁºÄÔºåprefixOverridesË°®Á§∫Ë¶ÅÂéªÈô§ÁöÑÂâçÁºÄÔºàÊ≥®ÊÑèÊ≠§‰æã‰∏≠ÁöÑÁ©∫Ê†º‰πüÊòØÂøÖË¶ÅÁöÑÔºâ„ÄÇÂÆÉÂ∏¶Êù•ÁöÑÁªìÊûúÂ∞±ÊòØÊâÄÊúâÂú® prefixOverrides Â±ûÊÄß‰∏≠ÊåáÂÆöÁöÑÂÜÖÂÆπÂ∞ÜË¢´ÁßªÈô§ÔºåÂπ∂‰∏îÊèíÂÖ• prefix Â±ûÊÄß‰∏≠ÊåáÂÆöÁöÑÂÜÖÂÆπ„ÄÇÁ±ª‰ººÁöÑÁî®‰∫éÂä®ÊÄÅÊõ¥Êñ∞ËØ≠Âè•ÁöÑËß£ÂÜ≥ÊñπÊ°àÂè´ÂÅö set„ÄÇset ÂÖÉÁ¥†ÂèØ‰ª•Ë¢´Áî®‰∫éÂä®ÊÄÅÂåÖÂê´ÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÂàóÔºåËÄåËàçÂéªÂÖ∂‰ªñÁöÑ„ÄÇÊØîÂ¶ÇÔºö123456789101112&lt;update id="updateRole" parameterType="role"&gt; update t_role &lt;set&gt; &lt;if test="roleName != null and roleName != ''"&gt; role_name = #&#123;roleName&#125;, &lt;/if&gt; &lt;if test="note != null and note != ''"&gt; note = #&#123;note&#125; &lt;/if&gt; where role_no = #&#123;roleNo&#125; &lt;/set&gt;&lt;/update&gt;ËøôÈáåÔºåset ÂÖÉÁ¥†‰ºöÂä®ÊÄÅÂâçÁΩÆ SET ÂÖ≥ÈîÆÂ≠óÔºåÂêåÊó∂‰πü‰ºöÊ∂àÈô§Êó†ÂÖ≥ÁöÑÈÄóÂè∑„ÄÇÂØπÂ∫îÁöÑtrimÂÖÉÁ¥†ÁöÑÂÜôÊ≥ï‰∏∫Ôºö123&lt;trim prefix="SET" suffixOverrides=","&gt; ...&lt;/trim&gt;suffixOverridesÂéªÈô§ÂêéÁºÄ„ÄÇforEachÂä®ÊÄÅ SQL ÁöÑÂè¶Â§ñ‰∏Ä‰∏™Â∏∏Áî®ÁöÑÂøÖË¶ÅÊìç‰ΩúÊòØÈúÄË¶ÅÂØπ‰∏Ä‰∏™ÈõÜÂêàËøõË°åÈÅçÂéÜÔºåÈÄöÂ∏∏ÊòØÂú®ÊûÑÂª∫ IN Êù°‰ª∂ËØ≠Âè•ÁöÑÊó∂ÂÄô„ÄÇÊØîÂ¶ÇÔºö1234567&lt;select id="findUserBySex" resultType="user"&gt; select * from t_user where sex in &lt;forEach item="sex" index="index" collection="sexList" open="(" separator="," close=")"&gt; #&#123;sex&#125; &lt;/forEach&gt;&lt;/select&gt;ËØ¥ÊòéÔºö 1.collectionÈÖçÁΩÆÁöÑsexListÊòØ‰º†ÈÄíËøõÊù•ÁöÑÂèÇÊï∞ÂêçÁß∞ÔºåÂèØ‰ª•‰∏∫Êï∞ÁªÑÔºåListÔºåSetÊàñÈõÜÂêà„ÄÇ2.itemÈÖçÁΩÆÁöÑÊòØÂæ™ÁéØ‰∏≠ÂΩìÂâçÁöÑÂÖÉÁ¥†„ÄÇ3.indexÈÖçÁΩÆÁöÑÊòØÂΩìÂâçÂÖÉÁ¥†ÁöÑ‰∏ãÊ†á„ÄÇ4.openÂíåcloseÈÖçÁΩÆÁöÑÊòØ‰ª•‰ªÄ‰πàÁ¨¶Âè∑Â∞ÜËøô‰∫õÈõÜÂêàÂÖÉÁ¥†ÂåÖË£πËµ∑Êù•„ÄÇ5.separatorÈÖçÁΩÆÁöÑÊòØÈó¥ÈöîÁ¨¶„ÄÇbindbindÂÖÉÁ¥†ÂèØ‰ª•‰ªé OGNL Ë°®ËææÂºè‰∏≠ÂàõÂª∫‰∏Ä‰∏™ÂèòÈáèÂπ∂Â∞ÜÂÖ∂ÁªëÂÆöÂà∞‰∏ä‰∏ãÊñá„ÄÇÊØîÂ¶ÇÔºö1234&lt;select id="findRole" resultMap="roleList"&gt; &lt;bind name="pattern" value="'%' + _parameter + '%'"/&gt; select * from t_role where role_name like #&#123;pattern&#125;&lt;/select&gt;ÂÖ∂‰∏≠_paramrter‰ª£Ë°®ÁöÑÊòØ‰º†ËøõÊù•ÁöÑÂèÇÊï∞ÔºåÂíåÈÄöÈÖçÁ¨¶ËøûÊé•ÂêéËµãÁªô‰∫Üpattern„ÄÇMulti-db vendor support‰∏Ä‰∏™ÈÖçÁΩÆ‰∫Ü‚Äú_databaseId‚ÄùÂèòÈáèÁöÑ databaseIdProvider ÂØπ‰∫éÂä®ÊÄÅ‰ª£Á†ÅÊù•ËØ¥ÊòØÂèØÁî®ÁöÑÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Ê†πÊçÆ‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ìÂéÇÂïÜÊûÑÂª∫ÁâπÂÆöÁöÑËØ≠Âè•„ÄÇÊØîÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö1234567891011&lt;insert id="insert"&gt; &lt;selectKey keyProperty="id" resultType="int" order="BEFORE"&gt; &lt;if test="_databaseId == 'oracle'"&gt; select seq_users.nextval from dual &lt;/if&gt; &lt;if test="_databaseId == 'db2'"&gt; select nextval for seq_users from sysibm.sysdummy1" &lt;/if&gt; &lt;/selectKey&gt; insert into users values (#&#123;id&#125;, #&#123;name&#125;)&lt;/insert&gt;„ÄäÊ∑±ÂÖ•ÊµÖÂá∫MyBatisÊäÄÊúØÂéüÁêÜ‰∏éÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatis Cache]]></title>
    <url>%2FMyBatis-Cache.html</url>
    <content type="text"><![CDATA[MyBatisÂØπÁºìÂ≠òÊèê‰æõ‰∫ÜÊîØÊåÅÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂè™ÂºÄÂêØ‰∫Ü‰∏ÄÁ∫ßÁºìÂ≠òÔºåË¶ÅÂºÄÂêØ‰∫åÁ∫ßÁºìÂ≠òÈúÄË¶ÅËøõË°åÈÖçÁΩÆ„ÄÇ‰∏∫‰∫ÜÈ™åËØÅËøô‰∏™ËøáÁ®ãÔºåÊàë‰ª¨ÂàõÂª∫log4j.propertiesÔºö1234log4j.rootLogger=DEBUG , stdout log4j.logger.mrbird.leanote=DEBUG log4j.appender.stdout=org.apache.log4j.ConsoleAppender log4j.appender.stdout.layout=org.apache.log4j.PatternLayoutÂú®mybatis-config.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆÂÆÉÔºö1234&lt;settings&gt; ... &lt;setting name="logImpl" value="LOG4J"/&gt;&lt;/settings&gt;‰∏ÄÁ∫ßÁºìÂ≠ò‰∏ÄÁ∫ßÁºìÂ≠òÊòØÈíàÂØπ‰∫é‰∏Ä‰∏™SqlSessionËÄåË®ÄÁöÑÔºåÂú®ÂèÇÊï∞ÂíåSQLÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂêå‰∏Ä‰∏™SqlSessionÂØπË±°Ë∞ÉÁî®Âêå‰∏Ä‰∏™MapperÊñπÊ≥ïÔºåÂè™‰ºöÊâßË°å‰∏ÄÊ¨°SQLÔºåËÄå‰∏çÂêåÁöÑSqlSessionÈÉΩÊòØÁõ∏‰∫íÈöîÁ¶ªÁöÑÔºåÊâÄ‰ª•Âç≥‰Ωø‰ΩøÁî®Áõ∏ÂêåÁöÑMapperÔºåÁõ∏ÂêåÁöÑÊñπÊ≥ïÔºå‰πü‰ºöÂÜçÊ¨°ÂèëÈÄÅSQLËøõË°åÊü•ËØ¢„ÄÇ‰∏æ‰∏™Ê†óÂ≠êÔºö1234567891011121314151617181920212223242526272829SqlSession sqlSession1 = null;SqlSession sqlSession2 = null;final Logger logger = Logger.getLogger(MyBatisMain.class);try &#123; sqlSession1 = SqlSessionFactoryUtil.openSqlSession(); RoleMapper roleMapper1 = sqlSession1.getMapper(RoleMapper.class); Role role1 = roleMapper1.getRoleById(1L); logger.debug("‰ΩøÁî®Âêå‰∏Ä‰∏™sqlSessionÂÜçÊ¨°ÊâßË°å"); Role role2 = roleMapper1.getRoleById(1L); //‰ΩøÁî®‰∫åÁ∫ßÁºìÂ≠òÁöÑÊó∂ÂÄôÔºåSqlSessionË∞ÉÁî®‰∫ÜcommitÊñπÊ≥ïÂêéÊâç‰ºöÁîüÊïà sqlSession1.commit(); logger.debug("‰ΩøÁî®‰∏çÂêåsqlSessionÂÜçÊ¨°ÊâßË°å"); sqlSession2 = SqlSessionFactoryUtil.openSqlSession(); RoleMapper roleMapper2 = sqlSession2.getMapper(RoleMapper.class); Role role3 = roleMapper2.getRoleById(1L); //‰ΩøÁî®‰∫åÁ∫ßÁºìÂ≠òÁöÑÊó∂ÂÄôÔºåSqlSessionË∞ÉÁî®‰∫ÜcommitÊñπÊ≥ïÂêéÊâç‰ºöÁîüÊïà sqlSession2.commit();&#125; catch (Exception e) &#123; e.printStackTrace(); sqlSession1.rollback();sqlSession2.rollback();&#125;finally&#123; if(sqlSession1 != null)&#123; sqlSession1.close(); &#125; if(sqlSession2 != null)&#123; sqlSession2.close(); &#125;&#125;Êü•ÁúãÊéßÂà∂Âè∞ËæìÂá∫Êó•ÂøóÔºö1234567891011121314151617181920212223242526Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.PooledDataSource forcefully closed/removed all connections.PooledDataSource forcefully closed/removed all connections.PooledDataSource forcefully closed/removed all connections.PooledDataSource forcefully closed/removed all connections.Opening JDBC ConnectionCreated connection 1995619265.Setting autocommit to false on JDBC Connection [com.mysql.jdbc.JDBC4Connection@76f2bbc1]==&gt; Preparing: select * from t_role where id = ? ==&gt; Parameters: 1(Long)&lt;== Total: 1‰ΩøÁî®Âêå‰∏Ä‰∏™sqlSessionÂÜçÊ¨°ÊâßË°å‰ΩøÁî®‰∏çÂêåsqlSessionÂÜçÊ¨°ÊâßË°åOpening JDBC ConnectionCreated connection 2044366277.Setting autocommit to false on JDBC Connection [com.mysql.jdbc.JDBC4Connection@79da8dc5]==&gt; Preparing: select * from t_role where id = ? ==&gt; Parameters: 1(Long)&lt;== Total: 1Resetting autocommit to true on JDBC Connection [com.mysql.jdbc.JDBC4Connection@76f2bbc1]Closing JDBC Connection [com.mysql.jdbc.JDBC4Connection@76f2bbc1]Returned connection 1995619265 to pool.Resetting autocommit to true on JDBC Connection [com.mysql.jdbc.JDBC4Connection@79da8dc5]Closing JDBC Connection [com.mysql.jdbc.JDBC4Connection@79da8dc5]Returned connection 2044366277 to pool.ÂèØËßÅ‰∏ÄÁ∫ßÁºìÂ≠òÊòØÈíàÂØπ‰∫éSqlSessionÂ±ÇÈù¢ÁöÑ„ÄÇ‰∫åÁ∫ßÁºìÂ≠ò‰∫åÁ∫ßÁºìÂ≠òÊòØÈíàÂØπ‰∫éSqlSessionFactoryÂ±ÇÈù¢ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥Âè™Ë¶ÅÊòØÂêå‰∏Ä‰∏™SqlSessionFactoryÂàõÂª∫ÁöÑSqlSessionÔºåÂÆÉ‰ª¨Èó¥ÈÉΩÂ∞ÜÂÖ±‰∫´ÁºìÂ≠ò„ÄÇÂºÄÂêØ‰∫åÁ∫ßÁºìÂ≠òÈúÄË¶ÅPOJOÈÉΩÂÆûÁé∞SerializableÊé•Âè£ÔºåÂπ∂Âú®‰Ω†ÁöÑ SQL Êò†Â∞ÑÊñá‰ª∂‰∏≠Ê∑ªÂä†‰∏ÄË°å:1&lt;cache/&gt;Â≠óÈù¢‰∏äÁúãÂ∞±ÊòØËøôÊ†∑„ÄÇËøô‰∏™ÁÆÄÂçïËØ≠Âè•ÁöÑÊïàÊûúÂ¶Ç‰∏ã: 1.Êò†Â∞ÑËØ≠Âè•Êñá‰ª∂‰∏≠ÁöÑÊâÄÊúâ select ËØ≠Âè•Â∞Ü‰ºöË¢´ÁºìÂ≠ò„ÄÇ2.Êò†Â∞ÑËØ≠Âè•Êñá‰ª∂‰∏≠ÁöÑÊâÄÊúâ insert,update Âíå delete ËØ≠Âè•‰ºöÂà∑Êñ∞ÁºìÂ≠ò„ÄÇ3.ÁºìÂ≠ò‰ºö‰ΩøÁî® Least Recently Used(LRU,ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑ)ÁÆóÊ≥ïÊù•Êî∂Âõû„ÄÇ4.Ê†πÊçÆÊó∂Èó¥Ë°®(ÊØîÂ¶Ç no Flush Interval,Ê≤°ÊúâÂà∑Êñ∞Èó¥Èöî), ÁºìÂ≠ò‰∏ç‰ºö‰ª•‰ªª‰ΩïÊó∂Èó¥È°∫Â∫è Êù•Âà∑Êñ∞„ÄÇ5.ÁºìÂ≠ò‰ºöÂ≠òÂÇ®ÂàóË°®ÈõÜÂêàÊàñÂØπË±°(Êó†ËÆ∫Êü•ËØ¢ÊñπÊ≥ïËøîÂõû‰ªÄ‰πà)ÁöÑ 1024 ‰∏™ÂºïÁî®„ÄÇ6.ÁºìÂ≠ò‰ºöË¢´ËßÜ‰∏∫ÊòØ read/write(ÂèØËØª/ÂèØÂÜô)ÁöÑÁºìÂ≠ò,ÊÑèÂë≥ÁùÄÂØπË±°Ê£ÄÁ¥¢‰∏çÊòØÂÖ±‰∫´ÁöÑ,ËÄå ‰∏îÂèØ‰ª•ÂÆâÂÖ®Âú∞Ë¢´Ë∞ÉÁî®ËÄÖ‰øÆÊîπ,ËÄå‰∏çÂπ≤Êâ∞ÂÖ∂‰ªñË∞ÉÁî®ËÄÖÊàñÁ∫øÁ®ãÊâÄÂÅöÁöÑÊΩúÂú®‰øÆÊîπ„ÄÇÂºÄÂêØ‰∫åÁ∫ßÁºìÂ≠òÂêéÔºåÂÜçÊ¨°ÊâßË°å‰∏äÈù¢ÁöÑÊñπÊ≥ïÔºåÊü•ÁúãÊéßÂà∂Âè∞ËæìÂá∫Êó•ÂøóÔºö1234567891011121314151617181920Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.PooledDataSource forcefully closed/removed all connections.PooledDataSource forcefully closed/removed all connections.PooledDataSource forcefully closed/removed all connections.PooledDataSource forcefully closed/removed all connections.Cache Hit Ratio [mrbird.leanote.mapper.RoleMapper]: 0.0Opening JDBC ConnectionCreated connection 330382173.Setting autocommit to false on JDBC Connection [com.mysql.jdbc.JDBC4Connection@13b13b5d]==&gt; Preparing: select * from t_role where id = ? ==&gt; Parameters: 1(Long)&lt;== Total: 1‰ΩøÁî®Âêå‰∏Ä‰∏™sqlSessionÂÜçÊ¨°ÊâßË°åCache Hit Ratio [mrbird.leanote.mapper.RoleMapper]: 0.0‰ΩøÁî®‰∏çÂêåsqlSessionÂÜçÊ¨°ÊâßË°åCache Hit Ratio [mrbird.leanote.mapper.RoleMapper]: 0.3333333333333333Resetting autocommit to true on JDBC Connection [com.mysql.jdbc.JDBC4Connection@13b13b5d]Closing JDBC Connection [com.mysql.jdbc.JDBC4Connection@13b13b5d]Returned connection 330382173 to pool.ÂèØËßÅÔºå‰ªéÂ§¥Âà∞Â∞æÂè™ÂèëÈÄÅ‰∫Ü‰∏ÄÊ¨°SQLËøõË°åÊü•ËØ¢„ÄÇÂ±ûÊÄßÈÉΩÂèØ‰ª•ÈÄöËøáÁºìÂ≠òÂÖÉÁ¥†ÁöÑÂ±ûÊÄßÊù•‰øÆÊîπ„ÄÇÊØîÂ¶ÇÔºö1&lt;cache eviction="FIFO" flushInterval="60000" size="512" readOnly="true"/&gt;Ëøô‰∏™Êõ¥È´òÁ∫ßÁöÑÈÖçÁΩÆÂàõÂª∫‰∫Ü‰∏Ä‰∏™ FIFO ÁºìÂ≠ò,Âπ∂ÊØèÈöî 60 ÁßíÂà∑Êñ∞,Â≠òÊï∞ÁªìÊûúÂØπË±°ÊàñÂàóË°®ÁöÑ 512 ‰∏™ÂºïÁî®,ËÄå‰∏îËøîÂõûÁöÑÂØπË±°Ë¢´ËÆ§‰∏∫ÊòØÂè™ËØªÁöÑ,Âõ†Ê≠§Âú®‰∏çÂêåÁ∫øÁ®ã‰∏≠ÁöÑË∞ÉÁî®ËÄÖ‰πãÈó¥‰øÆÊîπÂÆÉ‰ª¨‰ºö ÂØºËá¥ÂÜ≤Á™Å„ÄÇÂèØÁî®ÁöÑÊî∂ÂõûÁ≠ñÁï•Êúâ: 1.LRU ‚Äì ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑ:ÁßªÈô§ÊúÄÈïøÊó∂Èó¥‰∏çË¢´‰ΩøÁî®ÁöÑÂØπË±°„ÄÇ2.FIFO ‚Äì ÂÖàËøõÂÖàÂá∫:ÊåâÂØπË±°ËøõÂÖ•ÁºìÂ≠òÁöÑÈ°∫Â∫èÊù•ÁßªÈô§ÂÆÉ‰ª¨„ÄÇ3.SOFT ‚Äì ËΩØÂºïÁî®:ÁßªÈô§Âü∫‰∫éÂûÉÂúæÂõûÊî∂Âô®Áä∂ÊÄÅÂíåËΩØÂºïÁî®ËßÑÂàôÁöÑÂØπË±°„ÄÇ4.WEAK ‚Äì Âº±ÂºïÁî®:Êõ¥ÁßØÊûÅÂú∞ÁßªÈô§Âü∫‰∫éÂûÉÂúæÊî∂ÈõÜÂô®Áä∂ÊÄÅÂíåÂº±ÂºïÁî®ËßÑÂàôÁöÑÂØπË±°„ÄÇÈªòËÆ§ÁöÑÊòØ LRU„ÄÇflushInterval(Âà∑Êñ∞Èó¥Èöî)ÂèØ‰ª•Ë¢´ËÆæÁΩÆ‰∏∫‰ªªÊÑèÁöÑÊ≠£Êï¥Êï∞,ËÄå‰∏îÂÆÉ‰ª¨‰ª£Ë°®‰∏Ä‰∏™ÂêàÁêÜÁöÑÊØ´Áßí ÂΩ¢ÂºèÁöÑÊó∂Èó¥ÊÆµ„ÄÇÈªòËÆ§ÊÉÖÂÜµÊòØ‰∏çËÆæÁΩÆ,‰πüÂ∞±ÊòØÊ≤°ÊúâÂà∑Êñ∞Èó¥Èöî,ÁºìÂ≠ò‰ªÖ‰ªÖË∞ÉÁî®ËØ≠Âè•Êó∂Âà∑Êñ∞„ÄÇsize(ÂºïÁî®Êï∞ÁõÆ)ÂèØ‰ª•Ë¢´ËÆæÁΩÆ‰∏∫‰ªªÊÑèÊ≠£Êï¥Êï∞,Ë¶ÅËÆ∞‰Ωè‰Ω†ÁºìÂ≠òÁöÑÂØπË±°Êï∞ÁõÆÂíå‰Ω†ËøêË°åÁéØÂ¢ÉÁöÑ ÂèØÁî®ÂÜÖÂ≠òËµÑÊ∫êÊï∞ÁõÆ„ÄÇÈªòËÆ§ÂÄºÊòØ 1024„ÄÇreadOnly(Âè™ËØª)Â±ûÊÄßÂèØ‰ª•Ë¢´ËÆæÁΩÆ‰∏∫ true Êàñ false„ÄÇÂè™ËØªÁöÑÁºìÂ≠ò‰ºöÁªôÊâÄÊúâË∞ÉÁî®ËÄÖËøîÂõûÁºì Â≠òÂØπË±°ÁöÑÁõ∏ÂêåÂÆû‰æã„ÄÇÂõ†Ê≠§Ëøô‰∫õÂØπË±°‰∏çËÉΩË¢´‰øÆÊîπ„ÄÇËøôÊèê‰æõ‰∫ÜÂæàÈáçË¶ÅÁöÑÊÄßËÉΩ‰ºòÂäø„ÄÇÂèØËØªÂÜôÁöÑÁºìÂ≠ò ‰ºöËøîÂõûÁºìÂ≠òÂØπË±°ÁöÑÊã∑Ë¥ù(ÈÄöËøáÂ∫èÂàóÂåñ) „ÄÇËøô‰ºöÊÖ¢‰∏Ä‰∫õ,‰ΩÜÊòØÂÆâÂÖ®,Âõ†Ê≠§ÈªòËÆ§ÊòØ false„ÄÇ„ÄäÊ∑±ÂÖ•ÊµÖÂá∫MyBatisÊäÄÊúØÂéüÁêÜ‰∏éÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatisÁ∫ßËÅî]]></title>
    <url>%2FMyBatis%E7%BA%A7%E8%81%94.html</url>
    <content type="text"><![CDATA[MyBatis‰∏≠ÁöÑÁ∫ßËÅîÂàÜ‰∏∫3ÁßçÔºöassociationÔºåcollectionÂíådiscriminatorÔºö1.associationÔºö‰ª£Ë°®‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ªÔºåÊØîÂ¶ÇÂ≠¶ÁîüÂíåÂ≠¶ÁîüËØÅÊòØ‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ª„ÄÇ2.collectionÔºö‰ª£Ë°®‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÔºåÊØîÂ¶ÇÂ≠¶ÁîüÂíåËØæÁ®ãÊòØ‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÔºå‰∏Ä‰∏™Â≠¶ÁîüÂèØ‰ª•ÊúâÂ§ö‰∏™ËØæÁ®ã„ÄÇ3.discriminatorÔºöÈâ¥Âà´Âô®ÔºåÂÆÉÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÈÄâÊã©ÈááÁî®Âì™‰∏™Á±ª‰Ωú‰∏∫ÂÆû‰æãÔºåÂÖÅËÆ∏‰Ω†Ê†πÊçÆÁâπÂÆöÁöÑÊù°‰ª∂ÂéªÂÖ≥ËÅî‰∏çÂêåÁöÑÁªìÊûúÈõÜ„ÄÇ‰∏∫‰∫ÜÂ≠¶‰π†Ëøô‰∫õ‰∏ú‰∏úÔºåËÆæËÆ°‰∏Ä‰∏™Ê®°ÂûãÂÖ≥Á≥ªÔºöÊ†πÊçÆÊ®°ÂûãÊñ∞Âª∫Â∫ìË°®Ôºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061CREATE TABLE t_lecture( id int(20) not null auto_increment comment 'ÁºñÂè∑', lecture_name VARCHAR(60) not null comment 'ËØæÁ®ãÂêçÁß∞', PRIMARY KEY (id)); CREATE table t_student( id int(20) not null auto_increment comment 'ÁºñÂè∑', cnname VARCHAR(60) not null comment 'Â≠¶ÁîüÂßìÂêç', sex TINYINT(4) not null COMMENT 'ÊÄßÂà´', selfcard_no int(20) not NULL COMMENT 'Â≠¶ÁîüËØÅÂè∑', note VARCHAR(1024) COMMENT 'Â§áÊ≥®', PRIMARY KEY (id)); CREATE table t_student_health_female( id int(20) not null auto_increment comment 'ÁºñÂè∑', student_id VARCHAR(60) not null comment 'Â≠¶ÁîüÁºñÂè∑', check_date VARCHAR(60) not NULL COMMENT 'Ê£ÄÊü•Êó•Êúü', heart VARCHAR(60) not NULL COMMENT 'ÂøÉ', liver VARCHAR(60) not NULL COMMENT 'ËÇù', spleen VARCHAR(60) not NULL COMMENT 'ËÑæ', lung VARCHAR(60) not NULL COMMENT 'ËÇ∫', kidney VARCHAR(60) not NULL COMMENT 'ËÇæ', uterus VARCHAR(60) not NULL COMMENT 'Â≠êÂÆ´', note VARCHAR(1024) not NULL comment 'Â§áÊ≥®', PRIMARY KEY (id)); CREATE table t_student_health_male( id int(20) not null auto_increment comment 'ÁºñÂè∑', student_id VARCHAR(60) not null comment 'Â≠¶ÁîüÁºñÂè∑', check_date VARCHAR(60) not NULL COMMENT 'Ê£ÄÊü•Êó•Êúü', heart VARCHAR(60) not NULL COMMENT 'ÂøÉ', liver VARCHAR(60) not NULL COMMENT 'ËÇù', spleen VARCHAR(60) not NULL COMMENT 'ËÑæ', lung VARCHAR(60) not NULL COMMENT 'ËÇ∫', kidney VARCHAR(60) not NULL COMMENT 'ËÇæ', prostate VARCHAR(60) not NULL COMMENT 'ÂâçÂàóËÖ∫', note VARCHAR(1024) not NULL comment 'Â§áÊ≥®', PRIMARY KEY (id)); create table t_student_lecture( id int(20) not null auto_increment COMMENT 'ÁºñÂè∑', student_id int(20) not null comment 'Â≠¶ÁîüÁºñÂè∑', lecture_id int(20) not null comment 'ËØæÁ®ãÁºñÂè∑', grade DECIMAL(16,2) not null comment 'ËØÑÂàÜ', note VARCHAR(1024) comment 'Â§áÊ≥®', PRIMARY KEY (id)); create table t_student_selfcard( id int(20) not null auto_increment COMMENT 'ÁºñÂè∑', student_id int(20) not null comment 'Â≠¶ÁîüÁºñÂè∑', native VARCHAR(60) not NULL COMMENT 'Á±çË¥Ø', issue_date date NOT NULL comment 'ÂèëËØÅÊó•Êúü', end_date date not NULL COMMENT 'ÁªìÊùüÊó•Êúü', note VARCHAR(1024) comment 'Â§áÊ≥®', PRIMARY KEY (id));associationÁî®t_studentÂíåt_student_selfcardÊºîÁ§∫‰∏ÄÂØπ‰∏ÄÁ∫ßËÅî„ÄÇÊñ∞Â¢ûStudent POJOÔºö12345678910public class Student &#123; private Long id; private String cnName; private Sex sex; private Long selfCardNo; private String note; //‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ª private StudentSelfcard selfCard; // getterÔºåsetterÁï•&#125;StudentSelfcard POJOÔºö123456789public class StudentSelfcard &#123; private Long id; private Long studentId; private String natives; private Date issueDate; private Date endDate; private String note; // getterÔºåsetterÁï•&#125;ÂÆö‰πâÊé•Âè£StudentSelfcardMapperÔºö1234public interface StudentSelfcardMapper &#123; public StudentSelfcard findStudentSelfcardByStudentId(Long id); public int insertStudentSelfcard(StudentSelfcard selfCard);&#125;ÂàõÂª∫ÂØπÂ∫îÁöÑÊò†Â∞ÑÊñá‰ª∂StudentSelfcardMapper.xmlÔºö123456789101112131415161718&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentSelfcardMapper"&gt; &lt;sql id="studentSelfcard_column"&gt; id,student_id as studentId,native as natives,issue_date as issueDate, end_date as endDate,note &lt;/sql&gt; &lt;select id="findStudentSelfcardByStudentId" parameterType="long" resultType="studentSelfcard"&gt; select &lt;include refid="studentSelfcard_column"/&gt; from t_student_selfcard where student_id = #&#123;studentId&#125; &lt;/select&gt; &lt;insert id="insertStudentSelfcard" parameterType="studentSelfcard"&gt; insert into t_student_selfcard (student_id,native,issue_date,end_date, note) values (#&#123;studentId&#125;,#&#123;natives&#125;,#&#123;issueDate&#125;,#&#123;endDate&#125;,#&#123;note&#125;) &lt;/insert&gt;&lt;/mapper&gt;Êé•ÁùÄÂÆö‰πâÊé•Âè£StudentMapperÔºö1234public interface StudentMapper &#123; public Student findStudentById(Long id); public int createStudent(Student s);&#125;ÂÖ∂Áõ∏ÂØπ‰∫éÁöÑÊò†Â∞ÑÊñá‰ª∂StudentMapper.xmlÔºö1234567891011121314151617181920212223242526272829303132&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentMapper"&gt; &lt;resultMap type="student" id="studentList"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="cnname" property="cnName"/&gt; &lt;result column="sex" property="sex" typeHandler="org.apache.ibatis.type.EnumTypeHandler"/&gt; &lt;result column="selfcard_no" property="selfCardNo"/&gt; &lt;result column="note" property="note"/&gt; &lt;!-- ‰∏ÄÂØπ‰∏ÄÂÖ≥ËÅîÔºåcolumnÊåáÂÆöÁî®Âì™ÂàóÁöÑÂÄº‰Ωú‰∏∫selectÊü•ËØ¢ÁöÑÊù°‰ª∂ÔºåÂ¶ÇÊûúÊúâÂ§ö‰∏™ÂÄºÁî® ÈÄóÂè∑ÈöîÂºÄÔºåselectÊåáÂÆöÊü•ËØ¢ÊñπÊ≥ï--&gt; &lt;association property="selfCard" column="id" select="mrbird.leanote.mapper.StudentSelfcardMapper.findStudentSelfcardByStudentId"/&gt; &lt;/resultMap&gt; &lt;sql id="student_column"&gt; id,cnname as cnName,sex,selfcard_no as selfCardNo,note &lt;/sql&gt; &lt;select id="findStudentById" parameterType="long" resultMap="studentList"&gt; select &lt;include refid="student_column"/&gt; from t_student where id = #&#123;id&#125; &lt;/select&gt; &lt;!-- ËÆæÁΩÆ‰∏ªÈîÆÂõûÂ°´Ôºå‰æõt_student_selfcardÁöÑstudent_idÂ≠óÊÆµ‰ΩøÁî® --&gt; &lt;insert id="createStudent" parameterType="student" useGeneratedKeys="true" keyProperty="id"&gt; insert into t_student(cnname,sex,selfcard_no,note) values (#&#123;cnName&#125;, #&#123;sex,typeHandler=org.apache.ibatis.type.EnumTypeHandler&#125;, #&#123;selfCardNo&#125;,#&#123;note&#125;) &lt;/insert&gt;&lt;/mapper&gt;ËÆæÁΩÆÂà´ÂêçÔºåÊåáÂÆömapperÁï•„ÄÇÂÖàÂæÄÂ∫ìË°®ÊèíÂÖ•ÂÄºÔºö123456789101112131415161718192021...sqlSession = SqlSessionFactoryUtil.openSqlSession();StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);StudentSelfcardMapper selfcardMapper = sqlSession.getMapper(StudentSelfcardMapper.class);Student student = new Student();student.setCnName("Ëæõ‰πÖÂ•à");student.setNote("ÊóãÊ∂°Ëæõ‰πÖÂ•à");student.setSelfCardNo(10000L);student.setSex(Sex.FEMALE);int n = studentMapper.createStudent(student);if( n == 1)&#123; StudentSelfcard selfCard = new StudentSelfcard(); selfCard.setStudentId(student.getId()); selfCard.setNatives("Á¶èÂ∑û"); selfCard.setIssueDate(new Date()); selfCard.setEndDate(new Date()); selfCard.setNote("ÊóãÊ∂°Ëæõ‰πÖÂ•àÁöÑÂ≠¶ÁîüËØÅ"); selfcardMapper.insertStudentSelfcard(selfCard);&#125;sqlSession.commit();...Êü•ËØ¢Â∫ìË°®Ôºö123456789101112131415mysql&gt; select * from t_student;+----+--------+--------+-------------+------------+| id | cnname | sex | selfcard_no | note |+----+--------+--------+-------------+------------+| 10 | Ëæõ‰πÖÂ•à | FEMALE | 10000 | ÊóãÊ∂°Ëæõ‰πÖÂ•à |+----+--------+--------+-------------+------------+1 row in set (0.00 sec) mysql&gt; select * from t_student_selfcard;+----+------------+--------+------------+------------+--------------------+| id | student_id | native | issue_date | end_date | note |+----+------------+--------+------------+------------+--------------------+| 2 | 10 | Á¶èÂ∑û | 2017-01-06 | 2017-01-06 | ÊóãÊ∂°Ëæõ‰πÖÂ•àÁöÑÂ≠¶ÁîüËØÅ |+----+------------+--------+------------+------------+--------------------+1 row in set (0.00 sec)ÊèíÂÖ•ÊàêÂäüÔºåÁé∞ÊµãËØïÁ∫ßËÅîËé∑ÂèñÔºö1234567...sqlSession = SqlSessionFactoryUtil.openSqlSession();StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);Student student = studentMapper.findStudentById(10L);System.out.println(student.getSelfCard().getNote());sqlSession.commit();...ÊéßÂà∂Âè∞ËæìÂá∫Ôºö1ÊóãÊ∂°Ëæõ‰πÖÂ•àÁöÑÂ≠¶ÁîüËØÅsuccess.collectionÂ≠¶ÁîüÂíåÂ≠¶ÁîüÊàêÁª©ÊòØ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºåÊâÄ‰ª•Áî®t_studentÂíåt_student_lectureË°®ÁªÉ‰π†‰∏ÄÂØπÂ§öÁ∫ßËÅî„ÄÇ‰øÆÊîπStudent POJOÔºö12345678910public class Student &#123; private Long id; private String cnName; private Sex sex; private Long selfCardNo; private String note; //‰∏ÄÂØπÂ§öÂÖ≥ËÅî private List&lt;StudentLecture&gt; lectures; // getterÔºåsetterÁï•&#125;Êñ∞Â¢ûStudentLecture POJOÔºö12345678public class StudentLecture &#123; private Long id; private Long studentId; private Long lectureId; private Double grade; private String note; // getterÔºåsetterÁï•&#125;Êñ∞Âª∫StudentLectureMapperÊé•Âè£Ôºö1234public interface StudentLectureMapper &#123; public List&lt;StudentLecture&gt; getLecturesByStudentId(Long studentId); public int insertStudentLecture(StudentLecture lecture);&#125;ÂÖ∂ÂØπÂ∫îÁöÑÊò†Â∞ÑÊñá‰ª∂StudentLectureMapper.xmlÔºö1234567891011121314151617181920212223242526&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentLectureMapper"&gt; &lt;resultMap type="studentLecture" id="lectures"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="student_id" property="studentId"/&gt; &lt;result column="lecture_id" property="lectureId"/&gt; &lt;result column="grade" property="grade"/&gt; &lt;result column="note" property="note"/&gt; &lt;/resultMap&gt; &lt;sql id="student_lecture_column"&gt; id,student_id as studentId,lecture_id as lectureId,grade,note &lt;/sql&gt; &lt;select id="getLecturesByStudentId" parameterType="long" resultMap="lectures"&gt; select &lt;include refid="student_lecture_column"/&gt; from t_student_lecture where student_id = #&#123;studentId&#125; &lt;/select&gt; &lt;insert id="insertStudentLecture" parameterType="student"&gt; &lt;![CDATA[ insert into t_student_lecture(student_id,lecture_id,grade,note) values (#&#123;studentId&#125;,#&#123;lectureId&#125;,#&#123;grade&#125;,#&#123;note&#125;) ]]&gt; &lt;/insert&gt;&lt;/mapper&gt;‰øÆÊîπStudentMapper.xmlÔºö12345678910111213141516171819202122232425262728293031&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentMapper"&gt; &lt;resultMap type="student" id="studentList"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="cnname" property="cnName"/&gt; &lt;result column="sex" property="sex" typeHandler="org.apache.ibatis.type.EnumTypeHandler"/&gt; &lt;result column="selfcard_no" property="selfCardNo"/&gt; &lt;result column="note" property="note"/&gt; &lt;!-- ‰∏ÄÂØπÂ§öÂÖ≥ËÅîÔºåcolumnÊåáÂÆöÁî®Âì™ÂàóÁöÑÂÄº‰Ωú‰∏∫selectÊü•ËØ¢ÁöÑÊù°‰ª∂ÔºåÂ¶ÇÊûúÁî±Â§ö‰∏™ÂÄºÁî® ÈÄóÂè∑ÈöîÂºÄÔºåselectÊåáÂÆöÊü•ËØ¢ÊñπÊ≥ï--&gt; &lt;collection property="lectures" column="id" select="mrbird.leanote.mapper.StudentLectureMapper.getLecturesByStudentId"/&gt; &lt;/resultMap&gt; &lt;sql id="student_column"&gt; id,cnname as cnName,sex,selfcard_no as selfCardNo,note &lt;/sql&gt; &lt;select id="findStudentById" parameterType="long" resultMap="studentList"&gt; select &lt;include refid="student_column"/&gt; from t_student where id = #&#123;id&#125; &lt;/select&gt; &lt;!-- ËÆæÁΩÆ‰∏ªÈîÆÂõûÂ°´Ôºå‰æõt_student_selfcardÁöÑstudent_idÂ≠óÊÆµ‰ΩøÁî® --&gt; &lt;insert id="createStudent" parameterType="student" useGeneratedKeys="true" keyProperty="id"&gt; insert into t_student(cnname,sex,selfcard_no,note) values (#&#123;cnName&#125;, #&#123;sex,typeHandler=org.apache.ibatis.type.EnumTypeHandler&#125;, #&#123;selfCardNo&#125;,#&#123;note&#125;) &lt;/insert&gt;&lt;/mapper&gt;ÂÖàÊèíÂÖ•‰∏Ä‰∫õÊµãËØïÊï∞ÊçÆÔºö12345678910111213141516171819202122232425...sqlSession = SqlSessionFactoryUtil.openSqlSession();StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);StudentLectureMapper lectureMapper = sqlSession.getMapper(StudentLectureMapper.class);Student student = new Student();student.setCnName("Ê∞¥Èó®");student.setSelfCardNo(11111L);student.setNote("Ê≥¢È£éÊ∞¥Èó®");student.setSex(Sex.MALE);int n = studentMapper.createStudent(student);if(n == 1)&#123; Long studentId = student.getId(); String[] noteArr = new String[]&#123;"ËØ≠ÊñáÊàêÁª©","Êï∞Â≠¶ÊàêÁª©","Ëã±ËØ≠ÊàêÁª©"&#125;; Double[] gradeArr = new Double[]&#123;99.0,100.0,98.0&#125;; for(int i=0;i&lt;noteArr.length;i++)&#123; StudentLecture lecture = new StudentLecture(); lecture.setStudentId(studentId); lecture.setLectureId(Long.valueOf(i)); lecture.setGrade(gradeArr[i]); lecture.setNote(noteArr[i]); lectureMapper.insertStudentLecture(lecture); &#125;&#125;sqlSession.commit();...Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö123456789101112131415161718mysql&gt; select * from t_student;+----+--------+--------+-------------+------------+| id | cnname | sex | selfcard_no | note |+----+--------+--------+-------------+------------+| 10 | Ëæõ‰πÖÂ•à | FEMALE | 10000 | ÊóãÊ∂°Ëæõ‰πÖÂ•à || 12 | Ê∞¥Èó® | MALE | 11111 | Ê≥¢È£éÊ∞¥Èó® |+----+--------+--------+-------------+------------+2 rows in set (0.01 sec) mysql&gt; select * from t_student_lecture;+----+------------+------------+--------+----------+| id | student_id | lecture_id | grade | note |+----+------------+------------+--------+----------+| 1 | 12 | 0 | 99.00 | ËØ≠ÊñáÊàêÁª© || 2 | 12 | 1 | 100.00 | Êï∞Â≠¶ÊàêÁª© || 3 | 12 | 2 | 98.00 | Ëã±ËØ≠ÊàêÁª© |+----+------------+------------+--------+----------+3 rows in set (0.00 sec)ÊèíÂÖ•ÊàêÂäüÔºåÁé∞ÊµãËØïÁ∫ßËÅîËé∑ÂèñlecturesÔºö123456789...sqlSession = SqlSessionFactoryUtil.openSqlSession();StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);Student student = studentMapper.findStudentById(12L);List&lt;StudentLecture&gt; lectures = student.getLectures();for(StudentLecture l : lectures)&#123; System.out.println(l.getNote()+"Ôºö"+l.getGrade());&#125; ...ÊéßÂà∂Âè∞ËæìÂá∫Ôºö123ËØ≠ÊñáÊàêÁª©Ôºö99.0Êï∞Â≠¶ÊàêÁª©Ôºö100.0Ëã±ËØ≠ÊàêÁª©Ôºö98.0success.discriminatorÈâ¥Âà´Âô®ÂÖ∂ÂÆûÂêåÂÖ∂‰ªñÁ∫ßËÅî‰∏ÄÊ†∑ÔºåÂè™‰∏çËøáÊòØÂ§ö‰∫Ü‰∏™Èâ¥Âà´ÁöÑËøáÁ®ãÁΩ¢‰∫Ü„ÄÇ‰∏∫‰∫ÜÂ≠¶‰π†Èâ¥Âà´Âô®ÔºåÊàë‰ª¨Âêët_student_health_femaleÂíåt_student_health_male‰∏≠ÊèíÂÖ•‰∏ÄÁªÑÊï∞ÊçÆÔºö12345678910111213141516171819202122232425INSERT INTO `t_student_health_female`VALUES( 1, '10', '2017-1-6', 'ÂøÉÊ≠£Â∏∏', 'ËÇùÊ≠£Â∏∏', 'ËÑæÊ≠£Â∏∏', 'ËÇ∫Ê≠£Â∏∏', 'ËÇæÊ≠£Â∏∏', 'Â≠êÂÆ´Ê≠£Â∏∏', 'ÂÅ•Â∫∑'); INSERT INTO `t_student_health_male`VALUES( 1, '12', '2017-1-6', 'ÂøÉËÑèËâØÂ•Ω', 'ËÇùËâØÂ•Ω', 'ËÑæËâØÂ•Ω', 'ËÇ∫ËâØÂ•Ω', 'ËÇæËâØÂ•Ω', 'ÂâçÂàóËÖ∫ËâØÂ•Ω', 'ÂÅ•Â∫∑');ÂÖ∂ÂØπÂ∫îÁöÑÂÆû‰ΩìÁ±ªStudentHealthFemaleÂíåStudentHealthMaleÁï•„ÄÇÊñ∞Â¢û‰∏§‰∏™POJOÔºöMaleStudentÂíåFemaleStudentÂùáÁªßÊâøËá™StudentÔºö1234public class MaleStudent extends Student&#123; private List&lt;StudentHealthMale&gt; studentHealthMaleList; // getterÔºåsetterÁï•&#125;1234public class FemaleStudent extends Student&#123; private List&lt;StudentHealthFemale&gt; studentHealthFemaleList; // getterÔºåsetterÁï•&#125;Êé•ÁùÄÁºñÂÜô‰∏§‰∏™Êé•Âè£StudentHealthMaleMapperÂíåStudentHealthFemaleMapperÔºåÂåÖÂê´‰∏Ä‰∏™Ê†πÊçÆstudentIdËé∑ÂèñhealthÁöÑÊäΩË±°ÊñπÊ≥ïÔºö12345import mrbird.leanote.pojo.StudentHealthMale; public interface StudentHealthMaleMapper &#123; public StudentHealthMale findStudentHealthMaleByStudentId(Long studentId);&#125;12345import mrbird.leanote.pojo.StudentHealthFemale; public interface StudentHealthFemaleMapper &#123; public StudentHealthFemale findStudentHealthFemaleByStudentId(Long studentId);&#125;ÂêÑËá™ÂØπÂ∫îÁöÑÊò†Â∞ÑÂô®ÔºöStudentHealthMaleMapper.xmlÔºö123456789&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentHealthMaleMapper"&gt; &lt;select id="findStudentHealthMaleByStudentId" parameterType="long" resultType="studentHealthMale"&gt; select * from t_student_health_male where student_id = #&#123;studentId&#125; &lt;/select&gt; &lt;/mapper&gt;Âõ†‰∏∫Âú®MyBatisÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆ‰∫Ü&lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;ÔºåÂπ∂‰∏îÊï∞ÊçÆÂ∫ìÂëΩÂêçËßÑËåÉÔºåÊâÄ‰ª•ËøôÈáåÂèØ‰ª•Áî®select * from‚Ä¶studentHealthFemaleMapper.xmlÔºö12345678&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentHealthFemaleMapper"&gt; &lt;select id="findStudentHealthFemaleByStudentId" parameterType="long" resultType="studentHealthFemale"&gt; select * from t_student_health_female where student_id = #&#123;studentId&#125; &lt;/select&gt; &lt;/mapper&gt;Êé•‰∏ãÊù•Â∞±ÊòØÈáçÁÇπ‰∫ÜÔºåÊàë‰ª¨‰øÆÊîπStudentMapper.xmlÔºö123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentMapper"&gt; &lt;!-- ÂÆö‰πâmaleStudentListÔºåÁ±ªÂûã‰∏∫‚ÄúmaleStudent‚Äù„ÄÇËøôÊòØ‰∏Ä‰∏™‰∏ÄÂØπÂ§öÂÖ≥ËÅîÔºå‰∏Ä‰∏™Â≠¶ÁîüÂèØ‰ª•‰ΩìÊ£ÄÂ§öÊ¨°„ÄÇ Ë∞ÉÁî®ÁöÑÊñπÊ≥ï‰∏∫findStudentHealthMaleByStudentId„ÄÇ Ê≠£Â¶ÇÂÖ∂POJOÁªßÊâøStudentÈÇ£Ê†∑ÔºåresultMap‰πüÂêåÊ†∑ÁªßÊâøËá™studentList--&gt; &lt;resultMap type="maleStudent" id="maleStudentList" extends="studentList"&gt; &lt;collection property="studentHealthMaleList" column="id" select="mrbird.leanote.mapper.StudentHealthMaleMapper .findStudentHealthMaleByStudentId"/&gt; &lt;/resultMap&gt; &lt;resultMap type="femaleStudent" id="femaleStudentList" extends="studentList"&gt; &lt;collection property="studentHealthFemaleList" column="id" select="mrbird.leanote.mapper.StudentHealthFemaleMapper .findStudentHealthFemaleByStudentId"/&gt; &lt;/resultMap&gt; &lt;resultMap type="student" id="studentList"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="cnname" property="cnName"/&gt; &lt;result column="sex" property="sex"/&gt; &lt;result column="selfcard_no" property="selfCardNo"/&gt; &lt;result column="note" property="note"/&gt; &lt;!-- ÈÖçÁΩÆÈâ¥Âà´Âô®ÔºåÁ±ª‰ºº‰∫éswitchÔºåÁî®‰∫éÈâ¥Âà´ÁöÑÂàó‰∏∫‚Äúsex‚ÄùÔºå ÂÄº‰∏∫MALEÊó∂ÁªìÊûúÈõÜ‰∏∫maleStudentList ÂÄº‰∏∫FEMALEÊó∂ÁªìÊûúÈõÜ‰∏∫femaleStudentList --&gt; &lt;discriminator javaType="string" column="sex"&gt; &lt;case value="MALE" resultMap="maleStudentList"&gt;&lt;/case&gt; &lt;case value="FEMALE" resultMap="femaleStudentList"&gt;&lt;/case&gt; &lt;/discriminator&gt; &lt;/resultMap&gt; &lt;sql id="student_column"&gt; id,cnname as cnName,sex,selfcard_no as selfCardNo,note &lt;/sql&gt; &lt;select id="findStudentById" parameterType="long" resultMap="studentList"&gt; select &lt;include refid="student_column"/&gt; from t_student where id = #&#123;id&#125; &lt;/select&gt;&lt;/mapper&gt;ÊµãËØï‰∏Ä‰∏ãÔºö1234567...sqlSession = SqlSessionFactoryUtil.openSqlSession();StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);MaleStudent student = (MaleStudent) studentMapper.findStudentById(12L);System.out.println(student.getCnName()+"ÁöÑ"+ student.getStudentHealthMaleList().get(0).getProstate());...È°µÈù¢ËæìÂá∫Ôºö1Ê∞¥Èó®ÁöÑÂâç‰æãËÖ∫ËâØÂ•Ω(‚âñ ‚Äø ‚âñ)‚úßÂª∂ËøüÂä†ËΩΩÂÅáÂ¶Ç‰∏ÄÊ¨°ÊÄßÂ∞ÜÊâÄÊúâ‰∏éStudentÊúâÂÖ≥ÁöÑ‰ø°ÊÅØÈÉΩÂä†ËΩΩÂá∫Êù•ÔºåËøôÂøÖÂÆö‰ºöÈÄ†ÊàêÊÄßËÉΩÁöÑÈóÆÈ¢òÔºåÂ¶ÇÔºö1234567891011121314151617181920212223&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentMapper"&gt; &lt;resultMap type="student" id="studentList"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="cnname" property="cnName"/&gt; &lt;result column="sex" property="sex"/&gt; &lt;result column="selfcard_no" property="selfCardNo"/&gt; &lt;result column="note" property="note"/&gt; &lt;association property="selfCard" column="id" select="mrbird.leanote.mapper.StudentSelfcardMapper .findStudentSelfcardByStudentId"/&gt; &lt;collection property="lectures" column="id" select="mrbird.leanote.mapper.StudentLectureMapper .getLecturesByStudentId"/&gt; &lt;discriminator javaType="string" column="sex"&gt; &lt;case value="MALE" resultMap="maleStudentList"&gt;&lt;/case&gt; &lt;case value="FEMALE" resultMap="femaleStudentList"&gt;&lt;/case&gt; &lt;/discriminator&gt; &lt;/resultMap&gt; ... &lt;/mapper&gt;MyBatisÁöÑÂª∂ËøüÂä†ËΩΩÁ≠ñÁï•ÂèØ‰ª•ÂæàÂ•ΩÁöÑÂ∫îÂØπËøôÁßçÊÉÖÂÜµ„ÄÇÂè™ÈúÄÂú®mybatis-config.xml‰∏≠ÈÖçÁΩÆÔºö1234567&lt;settings&gt; ... &lt;!-- ÂºÄÂêØÂª∂ËøüÂä†ËΩΩ --&gt; &lt;setting name="lazyLoadingEnabled" value="true"/&gt; &lt;!-- ÂÖ≥Èó≠ÊåâÂ±ÇÁ∫ßÂä†ËΩΩ --&gt; &lt;setting name="aggressiveLazyLoading" value="false"/&gt;&lt;/settings&gt;ÁÑ∂ÂêéÊàë‰ª¨Âú®Á∫ßËÅîÊ†áÁ≠æ‰∏äÂèØ‰ª•Ëá™Áî±ÁöÑÈÖçÁΩÆfetchType=‚Äùlazy‚ÄùÊàñËÄÖfetchType=‚Äùeager‚ÄùÊù•ÊîπÂèòÂä†ËΩΩÁ≠ñÁï•„ÄÇeager Ëã±[Àài:g…ô(r)] Áæé[Àài…°…ö] adj. ÊÄ•Âàá; Ê∏¥ÊúõÁöÑ; ÁÉ≠ÂøÉÁöÑ; ÁÉ≠ÂàáÁöÑÔºåÁÉ≠ÊÉÖÊ¥ãÊ∫¢ÁöÑ;Âè¶Â§ñ‰∏ÄÁßçÁ∫ßËÅîÊâÄË∞ìÁöÑÂè¶Â§ñ‰∏ÄÁßçÁ∫ßËÅîÂ∞±ÊòØÁî®‰∏ÄÊù°sqlÊü•Âá∫ÊâÄÊúâÂ≠¶ÁîüÁöÑ‰ø°ÊÅØÔºåÊ≤°ÊúâÊÄßËÉΩÈóÆÈ¢ò„ÄÇÂú®StudentMapper‰∏≠ÂÆö‰πâ‰∏Ä‰∏™Êü•ÊâæÊâÄÊúâÂ≠¶Áîü‰ø°ÊÅØÁöÑÊäΩË±°ÊñπÊ≥ïÔºö1public List&lt;Student&gt; finAllStudentMsg();ÂÖ∂Êò†Â∞ÑÊñá‰ª∂Â¶Ç‰∏ãÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentMapper"&gt; &lt;select id="finAllStudentMsg" resultMap="allStudentList"&gt; select s.id,s.cnname,s.sex,s.selfcard_no,s.note as snote, IF (s.sex = 'MALE',shm.id,shf.id) as hid, IF (s.sex = 'MALE',shm.check_date,shf.check_date) as checkDate, IF (s.sex = 'MALE',shm.heart,shf.heart) as heart, IF (s.sex = 'MALE',shm.liver,shf.liver) as liver, IF (s.sex = 'MALE',shm.spleen,shf.spleen) as spleen, IF (s.sex = 'MALE',shm.lung,shf.lung) as lung, IF (s.sex = 'MALE',shm.kidney,shf.kidney) as kidney, IF (s.sex = 'MALE',shm.note,shf.note) as hnote, shm.prostate,shf.uterus, ss.id as ssid,ss.native as natives, ss.issue_date as issueDate,ss.end_date as endDate, ss.note as ssNote, sl.id as slid,sl.lecture_id as lectureId,sl.grade, sl.note as slNote FROM t_student s LEFT JOIN t_student_health_male shm on s.id = shm.student_id LEFT JOIN t_student_health_female shf on s.id = shf.student_id LEFT JOIN t_student_selfcard ss on s.id = ss.student_id LEFT JOIN t_student_lecture sl on s.id = sl.student_id &lt;/select&gt; &lt;resultMap type="student" id="allStudentList"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="cnname" property="cnName"/&gt; &lt;result column="sex" property="sex"/&gt; &lt;result column="selfcard_no" property="selfCardNo"/&gt; &lt;result column="snote" property="note"/&gt; &lt;!-- javaTypeÂ±ûÊÄßÂëäËØâMyBtisÁî®Âì™‰∏™Á±ªÂéªÊò†Â∞ÑËøô‰∫õÂ≠óÊÆµ --&gt; &lt;association property="selfCard" column="id" javaType="studentSelfcard"&gt; &lt;result property="id" column="ssid"/&gt; &lt;result property="studentId" column="id"/&gt; &lt;result property="natives" column="natives"/&gt; &lt;result property="issueDate" column="issueDate"/&gt; &lt;result property="endDate" column="endDate"/&gt; &lt;result property="note" column="ssNote"/&gt; &lt;/association&gt; &lt;collection property="lectures" ofType="studentLecture"&gt; &lt;result property="id" column="slid"/&gt; &lt;result property="studentId" column="id"/&gt; &lt;result property="lectureId" column="lectureId"/&gt; &lt;result property="grade" column="grade"/&gt; &lt;result property="note" column="slNote"/&gt; &lt;/collection&gt; &lt;discriminator javaType="string" column="sex"&gt; &lt;case value="MALE" resultMap="maleStudentList"&gt;&lt;/case&gt; &lt;case value="FEMALE" resultMap="femaleStudentList"&gt;&lt;/case&gt; &lt;/discriminator&gt; &lt;/resultMap&gt; &lt;resultMap type="maleStudent" id="maleStudentList" extends="allStudentList"&gt; &lt;!-- ofTypeÂ±ûÊÄßÊåáÂÆö‰∫ÜÂÖ∂Ê≥õÂûã --&gt; &lt;collection property="studentHealthMaleList" ofType="studentHealthMale"&gt; &lt;id property="id" column="hid"/&gt; &lt;result property="studentId" column="id"/&gt; &lt;result property="checkDate" column="checkDate"/&gt; &lt;result property="heart" column="heart"/&gt; &lt;result property="liver" column="liver"/&gt; &lt;result property="spleen" column="spleen"/&gt; &lt;result property="lung" column="lung"/&gt; &lt;result property="kidney" column="kidney"/&gt; &lt;result property="prostate" column="prostate"/&gt; &lt;result property="note" column="hnote"/&gt; &lt;/collection&gt; &lt;/resultMap&gt; &lt;resultMap type="femaleStudent" id="femaleStudentList" extends="allStudentList"&gt; &lt;collection property="studentHealthFemaleList" ofType="studentHealthFemale"&gt; &lt;id property="id" column="hid"/&gt; &lt;result property="studentId" column="id"/&gt; &lt;result property="checkDate" column="checkDate"/&gt; &lt;result property="heart" column="heart"/&gt; &lt;result property="liver" column="liver"/&gt; &lt;result property="spleen" column="spleen"/&gt; &lt;result property="lung" column="lung"/&gt; &lt;result property="kidney" column="kidney"/&gt; &lt;result property="uterus" column="uterus"/&gt; &lt;result property="note" column="hnote"/&gt; &lt;/collection&gt; &lt;/resultMap&gt;&lt;/mapper&gt;ÊµãËØïfinAllStudentMsgÊñπÊ≥ïÔºö12345678910111213141516171819202122232425262728293031323334...sqlSession = SqlSessionFactoryUtil.openSqlSession();StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);List&lt;Student&gt; students = studentMapper.finAllStudentMsg();for(Student student : students)&#123; if("MALE".equalsIgnoreCase(student.getSex().toString()))&#123; MaleStudent male = (MaleStudent) student; System.out.println(male.getCnName()+"ÁöÑÂç°Âè∑Ôºö"+male.getSelfCardNo()); StudentSelfcard selfcard = male.getSelfCard(); System.out.println("Êù•Ëá™Ôºö"+selfcard.getNatives()+","+selfcard.getNote()); List&lt;StudentLecture&gt; lectures = male.getLectures(); for(StudentLecture le : lectures)&#123; System.out.println(le.getNote()+"Ôºö"+le.getGrade()); &#125; List&lt;StudentHealthMale&gt; healthMales = male.getStudentHealthMaleList(); for(StudentHealthMale healthMale : healthMales)&#123; System.out.println(healthMale.getCheckDate()+"Ôºå"+healthMale.getProstate()); &#125; &#125;else&#123; FemaleStudent female = (FemaleStudent) student; System.out.println(female.getCnName()+"ÁöÑÂç°Âè∑Ôºö"+female.getSelfCardNo()); StudentSelfcard selfcard = female.getSelfCard(); System.out.println("Êù•Ëá™Ôºö"+selfcard.getNatives()+","+selfcard.getNote()); List&lt;StudentLecture&gt; lectures = female.getLectures(); for(StudentLecture le : lectures)&#123; System.out.println(le.getNote()+"Ôºö"+le.getGrade()); &#125; List&lt;StudentHealthFemale&gt; healthFemales = female.getStudentHealthFemaleList(); for(StudentHealthFemale healthfemale : healthFemales)&#123; System.out.println(healthfemale.getCheckDate()+"Ôºå"+healthfemale.getUterus()); &#125; &#125;&#125;...ÊéßÂà∂Âè∞ËæìÂá∫Ôºö123456789101112Ëæõ‰πÖÂ•àÁöÑÂç°Âè∑Ôºö10000Êù•Ëá™ÔºöÁ¶èÂ∑û,ÊóãÊ∂°Ëæõ‰πÖÂ•àÁöÑÂ≠¶ÁîüËØÅËØ≠ÊñáÊàêÁª©Ôºö99.0Êï∞Â≠¶ÊàêÁª©Ôºö99.0Ëã±ËØ≠ÊàêÁª©Ôºö99.02017-1-6ÔºåÂ≠êÂÆ´Ê≠£Â∏∏Ê∞¥Èó®ÁöÑÂç°Âè∑Ôºö11111Êù•Ëá™ÔºöÂé¶Èó®,Ê≥¢È£éÊ∞¥Èó®ÁöÑÂ≠¶ÁîüËØÅËØ≠ÊñáÊàêÁª©Ôºö99.0Êï∞Â≠¶ÊàêÁª©Ôºö100.0Ëã±ËØ≠ÊàêÁª©Ôºö98.02017-1-6ÔºåÂâç‰æãËÖ∫ËâØÂ•ΩËøôÁßçÊñπÂºèÊØîËæÉÁõ¥ËßÇÊòé‰∫ÜÔºå‰ΩÜÊòØSQLÁºñÂÜôËµ∑Êù•ËæÉ‰∏∫ÁπÅÁêê„ÄÇ„ÄäÊ∑±ÂÖ•ÊµÖÂá∫MyBatisÊäÄÊúØÂéüÁêÜ‰∏éÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatisÊò†Â∞ÑÂô®]]></title>
    <url>%2FMyBatis%E6%98%A0%E5%B0%84%E5%99%A8.html</url>
    <content type="text"><![CDATA[Êò†Â∞ÑÂô®ÁöÑÈÖçÁΩÆÔºöÂÖÉÁ¥†ÂêçÁß∞ÊèèËø∞selectÊü•ËØ¢ËØ≠Âè•insertÊèíÂÖ•ËØ≠Âè•updateÊõ¥Êñ∞ËØ≠Âè•deleteÂà†Èô§ËØ≠Âè•sqlÂÖÅËÆ∏ÂÆö‰πâ‰∏ÄÈÉ®ÂàÜSQLÔºåÁÑ∂ÂêéÂêÑ‰∏™Âú∞ÊñπÂºïÁî®resultMapÁî®‰∫éÂÆö‰πâÁªìÊûúÈõÜcacheÁªôÂÆöÂëΩÂêçÊéß‰ª∂ÁöÑÁºìÂ≠òÈÖçÁΩÆcache-refÂÖ∂ÂÆÉÂëΩÂêçÊéß‰ª∂ÁºìÂ≠òÈÖçÁΩÆÁöÑÂºïÁî®selectmapUnderscoreToCamelCaseÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂêç‰∏ÄËà¨ÈááÁî®‰∏ãÂàíÁ∫øÂëΩÂêçËßÑÂàôÔºåËÄåjava‰∏≠ÁöÑÂ≠óÊÆµÂêçÁî®ÁöÑÊòØÈ©ºÂ≥∞ÂëΩÂêçËßÑÂàôÔºöJavaBeanÊï∞ÊçÆÂ∫ìididroleNamerole_namenotenoteisGirl&nbsp; &nbsp;is_girlÂ¶ÇÊûúÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂëΩÂêçËßÑËåÉÔºåÊàë‰ª¨ÂèØ‰ª•Âú®settins‰∏≠ÈÖçÁΩÆmapUnderscoreToCamelCase‰∏∫trueÔºö123&lt;settings&gt; &lt;setting name="mapUnderscoreToCamelCase" value="true"/&gt;&lt;/settings&gt;MyBatisÂ∞±‰ºöËá™Âä®Â∞ÜÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂêçËΩ¨Êç¢‰∏∫JavaBeanÁöÑÂ≠óÊÆµÂêçÔºåÊØîÂ¶ÇÔºö123&lt;select id="getRole" parameterType="long" resultType="role"&gt; &lt;![CDATA[select * from t_role where id = #&#123;id&#125;]]&gt;&lt;/select&gt;Â¶ÇÊûú‰∏çÂ∞ÜmapUnderscoreToCamelCaseËÆæÁΩÆ‰∏∫trueÔºåÂàôselectÂÖÉÁ¥†ÂøÖÈ°ªÊåáÊòéÂ≠óÊÆµÂà´ÂêçÔºö1234&lt;select id="getRole" parameterType="long" resultType="role"&gt; &lt;![CDATA[select id,role_name as roleName, note,is_girl as isGirl from t_role where id = #&#123;id&#125;]]&gt;&lt;/select&gt;Âê¶ÂàôÊ≤°ÊúâÂØπÂ∫î‰∏äÁöÑÂ≠óÊÆµÂÄº‰∏∫null„ÄÇ‰º†ÈÄíÂ§ö‰∏™ÂèÇÊï∞1.‰ΩøÁî®Map‰º†ÂèÇÂÆö‰πâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÔºö1public List&lt;Role&gt; getRole(Map&lt;String,String&gt; params);Êò†Â∞ÑÊñá‰ª∂‰∏≠ÈÖçÁΩÆselectÔºö12345678910111213&lt;resultMap type="role" id="roleList"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="role_name" property="roleName"/&gt; &lt;result column="note" property="note"/&gt; &lt;result column="is_girl" property="isGirl" javaType="Boolean" jdbcType="VARCHAR"/&gt;&lt;/resultMap&gt;&lt;select id="getRole" resultMap="roleList"&gt; &lt;![CDATA[select * from t_role where role_name like concat('%',#&#123;roleName&#125;,'%') and note like concat('%',#&#123;note&#125;,'%') ]]&gt;&lt;/select&gt;ÊµãËØïÔºö1234567891011...sqlSession = SqlSessionFactoryUtil.openSqlSession();RoleMapper mapper = sqlSession.getMapper(RoleMapper.class);Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();params.put("roleName", "ÈõèÁî∞");params.put("note", "Êó•Âêë");List&lt;Role&gt; roleList = mapper.getRole(params);for(Role r : roleList)&#123; System.out.println(r.getRoleName()+" is a girl:"+r.getIsGirl());&#125;...ËæìÂá∫Ôºö1ÈõèÁî∞ is a girl:true2.‰ΩøÁî®Ê≥®Ëß£‰º†ÂèÇ‰øÆÊîπÊäΩË±°ÊñπÊ≥ïÔºö12public List&lt;Role&gt; getRole(@Param("roleName")String roleName, @Param("note")String note);ÊµãËØïÔºö12345678...sqlSession = SqlSessionFactoryUtil.openSqlSession();RoleMapper mapper = sqlSession.getMapper(RoleMapper.class);List&lt;Role&gt; roleList = mapper.getRole("ÈõèÁî∞", "Êó•Âêë");for(Role r : roleList)&#123; System.out.println(r.getRoleName()+" is a girl:"+r.getIsGirl());&#125;...ËæìÂá∫Ôºö1ÈõèÁî∞ is a girl:true3.‰ΩøÁî®JavaBean‰º†ÂèÇÂÆö‰πâ‰∏Ä‰∏™‰º†ÈÄíÂèÇÊï∞JavaBeanÔºö12345678910111213141516public class RoleParams &#123; private String roleName; private String note; public String getRoleName() &#123; return roleName; &#125; public void setRoleName(String roleName) &#123; this.roleName = roleName; &#125; public String getNote() &#123; return note; &#125; public void setNote(String note) &#123; this.note = note; &#125;&#125;‰øÆÊîπÊäΩË±°ÊñπÊ≥ïÔºö1public List&lt;Role&gt; getRole(RoleParams params);ÊµãËØïÔºö1234567891011...sqlSession = SqlSessionFactoryUtil.openSqlSession();RoleMapper mapper = sqlSession.getMapper(RoleMapper.class);RoleParams params = new RoleParams();params.setRoleName("È∏£‰∫∫");params.setNote("ÊóãÊ∂°");List&lt;Role&gt; roleList = mapper.getRole(params);for(Role r : roleList)&#123; System.out.println(r.getRoleName()+" is a girl:"+r.getIsGirl());&#125;...ËæìÂá∫Ôºö1È∏£‰∫∫ is a girl:falseinsert‰∏ªÈîÆÂõûÂ°´ÂíåËá™ÂÆö‰πâÂºÄÂèë‰∏≠ÊúâÊó∂ÂÄôÈúÄË¶ÅËé∑ÂèñÂà∞ÊèíÂÖ•Ë°åÁöÑ‰∏ªÈîÆÂÄºÔºåMyBatisÁöÑ‰∏ªÈîÆÂõûÂ°´ÂèØ‰ª•ÂÆåÊàêËøô‰∏™ÂäüËÉΩ„ÄÇÂÆö‰πâ‰∏Ä‰∏™createRoleÊäΩË±°ÊñπÊ≥ïÔºö1public int createRole(Role role);Êò†Â∞ÑÔºö1234567&lt;insert id="createRole" parameterType="role" useGeneratedKeys="true" keyProperty="id"&gt; &lt;![CDATA[ insert into t_role(role_name,note,is_girl) values (#&#123;roleName&#125;,#&#123;note&#125;, #&#123;isGirl,typeHandler=mrbird.leanote.typehandler.BooleanTypeHandler&#125;) ]]&gt;&lt;/insert&gt;useGeneratedKeys‰ºö‰ΩøMyBatis‰ΩøÁî®JDBCÁöÑgetGeneratedKeysÊñπÊ≥ïÊù•Ëé∑ÂèñÂá∫Áî±Êï∞ÊçÆÂ∫ìÂÜÖÈÉ®ÁîüÊàêÁöÑ‰∏ªÈîÆÔºåkeyPropertyË°®Á§∫‰ª•Âì™‰∏™Âàó‰∏∫Â±ûÊÄßÁöÑ‰∏ªÈîÆ„ÄÇÊµãËØïËé∑Âèñ‰∏ªÈîÆÔºö1234567891011...sqlSession = SqlSessionFactoryUtil.openSqlSession();RoleMapper mapper = sqlSession.getMapper(RoleMapper.class);Role role = new Role();role.setRoleName("‰ΩêÂä©");role.setNote("ÂÆáÊô∫Ê≥¢");role.setIsGirl(Boolean.FALSE);mapper.createRole(role);System.out.println(role.getId()); //7sqlSession.commit();...È°µÈù¢ËæìÂá∫ 7ÔºåÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö123456789mysql&gt; select * from t_role;+----+-----------+----------+---------+| id | role_name | note | is_girl |+----+-----------+----------+---------+| 1 | ÈõèÁî∞ | Êó•ÂêëÈõèÁî∞ | Y || 2 | È∏£‰∫∫ | ÊóãÊ∂°È∏£‰∫∫ | N || 7 | ‰ΩêÂä© | ÂÆáÊô∫Ê≥¢ | N |+----+-----------+----------+---------+3 rows in set (0.00 sec)ÂÅáÂ¶ÇÊï∞ÊçÆÂ∫ì‰∏ªÈîÆÊ≤°ÊúâËÆæÁΩÆËá™Â¢ûÔºåÊàë‰ª¨ÁöÑË¶ÅÊ±ÇÊòØÔºöÂ¶ÇÊûúË°®t_roleÊ≤°ÊúâËÆ∞ÂΩïÔºåÂàôidËÆæÁΩÆ‰∏∫1ÔºåÂê¶ÂàôÊàë‰ª¨ÂèñÊúÄÂ§ßidÂä†2„ÄÇËøôÊó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•ÂØπÊò†Â∞ÑÊñá‰ª∂ÁöÑinsertÊ†áÁ≠æÁ®ç‰Ωú‰øÆÊîπÔºö1234567891011121314&lt;insert id="createRole" parameterType="role" useGeneratedKeys="true" keyProperty="id"&gt; &lt;!-- resultTypeÂøÖÈ°ªÂíåPOJOÈáåidÁöÑÁ±ªÂûã‰∏ÄËá¥ --&gt; &lt;selectKey keyProperty="id" resultType="long" order="BEFORE"&gt; &lt;![CDATA[ select if(max(id) is null,1,max(id)+2) as id from t_role ]]&gt; &lt;/selectKey&gt; &lt;![CDATA[ insert into t_role(id,role_name,note,is_girl) values (#&#123;id&#125;,#&#123;roleName&#125;, #&#123;note&#125;, #&#123;isGirl,typeHandler=mrbird.leanote.typehandler.BooleanTypeHandler&#125;) ]]&gt;&lt;/insert&gt;ÊµãËØïÔºö1234567891011...sqlSession = SqlSessionFactoryUtil.openSqlSession();RoleMapper mapper = sqlSession.getMapper(RoleMapper.class);Role role = new Role();role.setRoleName("Â∞èÊ®±");role.setNote("Êò•ÈáéÊ®±");role.setIsGirl(Boolean.TRUE);mapper.createRole(role);System.out.println(role.getId()); //9sqlSession.commit();...ËæìÂá∫9ÂíåÊàë‰ª¨È¢ÑÊúüÁöÑ‰∏ÄËá¥ÔºåÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö12345678910mysql&gt; select * from t_role;+----+-----------+----------+---------+| id | role_name | note | is_girl |+----+-----------+----------+---------+| 1 | ÈõèÁî∞ | Êó•ÂêëÈõèÁî∞ | Y || 2 | È∏£‰∫∫ | ÊóãÊ∂°È∏£‰∫∫ | N || 7 | ‰ΩêÂä© | ÂÆáÊô∫Ê≥¢ | N || 9 | Â∞èÊ®± | Êò•ÈáéÊ®± | Y |+----+-----------+----------+---------+4 rows in set (0.00 sec)update &amp; deleteupdateÂíådeleteËæÉ‰∏∫ÁÆÄÂçïÔºå‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊõ¥Êñ∞ÂíåÂà†Èô§‰æãÂ≠êÔºö1234567891011&lt;update id="updateRole" parameterType="role"&gt; &lt;![CDATA[ update t_role set role_name = #&#123;roleName&#125;, note = #&#123;note&#125; where id = #&#123;id&#125; ]]&gt;&lt;/update&gt;&lt;delete id="deleteRole" parameterType="long"&gt; &lt;![CDATA[ delete from t_role where id = #&#123;id&#125; ]]&gt;&lt;/delete&gt;ÂèÇÊï∞ÂèÇÊï∞ÈÖçÁΩÆÂèÇÊï∞Èô§‰∫ÜÂèØ‰ª•ÊåáÂÆöjavaTypeÔºåjdbcTypeÂíåtypeHandlerÂ§ñÔºåËøòÂèØ‰ª•ÂØπÊï∞ÂÄºÁ±ªÂûãÁöÑÂèÇÊï∞ËÆæÁΩÆÁ≤æÂ∫¶Ôºö1#&#123;price,javaType=double,jdbcType=NUMERIC,numericScale=2&#125;$‰∏é‰∫ï#{}ÁöÑÂÄºË¢´‰Ωú‰∏∫sqlÁöÑÂèÇÊï∞ÔºåËÄå${}Âàô‰ºöË¢´ÂΩì‰ΩúsqlÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇsqlÂÖÉÁ¥†sqlÂÖÉÁ¥†ÁöÑ‰ΩúÁî®ÊòØÂèØ‰ª•ÂÆö‰πâsqlËØ≠Âè•ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÁÑ∂ÂêéÂØºÂá∫ÂºïÁî®Ôºö123456789&lt;sql id="t_role_column"&gt; &lt;![CDATA[id,role_name as roleName,note,is_girl as isGirl]]&gt;&lt;/sql&gt;&lt;select id="getRole" resultMap="roleList"&gt; select &lt;include refid="t_role_column"/&gt; from t_role where role_name like concat('%',#&#123;roleName&#125;,'%') and note like concat('%',#&#123;note&#125;,'%')&lt;/select&gt;‰∏äËø∞‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™id‰∏∫t_role_columnÁöÑsqlÔºåÁÑ∂ÂêéÂú®selectÂÖÉÁ¥†‰∏≠‰ΩøÁî®includeÂÖÉÁ¥†ÂºïÁî®‰∫ÜÂÆÉÔºå‰ªéËÄåËææÂà∞‰∫ÜÈáçÁî®ÁöÑÂäüËÉΩ„ÄÇËøòÂèØ‰ª•Âú®sqlÂÖÉÁ¥†‰∏≠ÊåáÂÆöÊ†áÁ≠æÔºö12345678910111213&lt;sql id="t_role_column"&gt; &lt;![CDATA[$&#123;prefix&#125;.id,$&#123;prefix&#125;.role_name as roleName, $&#123;prefix&#125;.note,$&#123;prefix&#125;.is_girl as isGirl]]&gt;&lt;/sql&gt;&lt;select id="getRole" resultMap="roleList"&gt; select &lt;include refid="t_role_column"&gt; &lt;property name="prefix" value="t"/&gt; &lt;/include&gt; from t_role t where t.role_name like concat('%',#&#123;roleName&#125;,'%') and t.note like concat('%',#&#123;note&#125;,'%')&lt;/select&gt;Ëøô‰∏™ÂäüËÉΩÂú®‰ΩøÁî®ÂÖ≥ËÅîÊü•ËØ¢ÁöÑÊó∂ÂÄôËæÉ‰∏∫Êñπ‰æø„ÄÇÁ∫ßËÅîüéâMyBatisÁ∫ßËÅîcacheüéâMyBatisÁºìÂ≠òÊú∫Âà∂„ÄäÊ∑±ÂÖ•ÊµÖÂá∫MyBatisÊäÄÊúØÂéüÁêÜ‰∏éÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatisÈÖçÁΩÆÊñá‰ª∂]]></title>
    <url>%2FMyBatis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html</url>
    <content type="text"><![CDATA[MyBatisÈÖçÁΩÆÊñá‰ª∂mybatis-config.xmlÂåÖÂê´Ôºö‚ñ† propertiesÔºöÁî®‰∫éÈÖçÁΩÆÂ±ûÊÄß‰ø°ÊÅØ„ÄÇ‚ñ† settingsÔºöÁî®‰∫éÈÖçÁΩÆMyBatisÁöÑËøêË°åÊó∂ÊñπÂºè„ÄÇ‚ñ† typeAliasesÔºöÈÖçÁΩÆÁ±ªÂûãÂà´ÂêçÔºåÂèØ‰ª•Âú®xml‰∏≠Áî®Âà´ÂêçÂèñ‰ª£ÂÖ®ÈôêÂÆöÂêç„ÄÇ‚ñ† typeHandlersÔºöÈÖçÁΩÆÁ±ªÂûãÂ§ÑÁêÜÂô®„ÄÇ‚ñ† pluginsÔºöÈÖçÁΩÆÊã¶Êà™Âô®ÔºåÁî®‰∫éÊã¶Êà™sqlËØ≠Âè•ÁöÑÊâßË°å„ÄÇ‚ñ† environmentsÔºöÈÖçÁΩÆÊï∞ÊçÆÊ∫ê‰ø°ÊÅØ„ÄÅËøûÊé•Ê±†„ÄÅ‰∫ãÂä°Â±ûÊÄßÁ≠â„ÄÇ‚ñ† mappersÔºöÈÖçÁΩÆSQLÊò†Â∞ÑÊñá‰ª∂„ÄÇÊ≥®ÊÑèÔºöËøô‰∫õÈÖçÁΩÆÂøÖÈ°ªÊåâÁÖß‰∏äËø∞ÁöÑÈ°∫Â∫èËøõË°åÈÖçÁΩÆÔºÅ]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatis typeHandler]]></title>
    <url>%2FMyBatis-typeHandler.html</url>
    <content type="text"><![CDATA[MyBatisÂú®ËÆæÁΩÆÂèÇÊï∞ÊàñËÄÖ‰ªéÁªìÊûúÈõÜ‰∏≠Ëé∑ÂèñÂèÇÊï∞ÁöÑÊó∂ÂÄôÔºåÈÉΩ‰ºöÁî®Âà∞Ê≥®ÂÜå‰∫ÜÁöÑtypeHandlerËøõË°åÂ§ÑÁêÜ„ÄÇtypeHandlerÁöÑ‰ΩúÁî®‰∏∫Â∞ÜÂèÇÊï∞‰ªéjavaTypeËΩ¨‰∏∫jdbcTypeÔºåÊàñËÄÖ‰ªéÊï∞ÊçÆÂ∫ìÂèñÂá∫ÁªìÊûúÊó∂ÊääjdbcTypeËΩ¨‰∏∫javaType„ÄÇÂ∏¶ÁöÑtypeHandlerÁ±ªÂûãÂ§ÑÁêÜÂô®JavaÁ±ªÂûãJDBCÁ±ªÂûãBooleanTypeHandlerjava.lang.Boolean,booleanÊï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑBOOLEANByteTypeHandlerjava.lang.Byte,byteÊï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑNUMERICÊàñBYTEShortTypeHandler&nbsp;&nbsp;&nbsp;&nbsp;java.lang.Short,shortÊï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑNUMERICÊàñSHORT INTEGERIntegerTypeHandler&nbsp;java.lang.Integer,intÊï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑNUMERICÊàñINTEGERLongTypeHandler&nbsp;java.lang.Long,longÊï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑNUMERICÊàñLONG INTEGERFloatTypeHandler&nbsp;java.lang.Float,floatÊï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑNUMERICÊàñFLOATDoubleTypeHandler&nbsp;java.lang.Double,doubleÊï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑNUMERICÊàñDOUBLEBigDecimalTypeHandlerjava.math.BigDecimalÊï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑNUMERICÊàñDECIMALStringTypeHandler&nbsp;java.lang.StirngCHAR,VARCHARClobypeHandler&nbsp;java.lang.StringCLOB,LONGVARCHARNStringTypeHanlerjava.lang.StringNVARCHAR,NCHARNClobTypeHandler&nbsp;java.lang.StringNNCLOBByteArrayTypeHandler&nbsp;byte[]Êï∞ÊçÆÂ∫ìÂÖºÂÆπÁöÑÂ≠óËäÇÊµÅÁ±ªÂûãBlobTypeHandler&nbsp;byte[]BLOB,LONGVARBINARYDateTypeHandler&nbsp;java.util.DateTIMESTAMPDateOnlyTypeHandler&nbsp;java.util.DateDATETimeOnlyTypeHandler&nbsp;java.util.DateTIMESqlTimestampTypeHandler&nbsp;java.sql.TimestampTIMESTAMPSqlDateTypeHandler&nbsp;java.sql.DateDATESqlTimeTypeHandler&nbsp;java.sql.TimeTIMEObjectTypeHandler&nbsp;AnyOTHERÊàñÊú™ÊåáÂÆöÁ±ªÂûãEnumTypeHandler&nbsp;Enumeration TypeVARCHARÊàñ‰ªªÊÑèÂÖºÂÆπÁöÑÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºåÂ≠ò ÂÇ®Êûö‰∏æÁöÑÂêçÁß∞EnumOrdinalTypeHandler&nbsp;Enumeration Type‰ªª‰ΩïÂÖºÂÆπÁöÑNUMERICÊàñDOUBLEÁ±ªÂûãÔºå Â≠òÂÇ®Êûö‰∏æÁöÑÁ¥¢Âºï‰∏∫‰∫ÜÊºîÁ§∫Ëá™Â∏¶ÁöÑtypeHandlerÔºåÊñ∞Âª∫‰∏ÄÂº†Ë°®Ôºö1234567CREATE TABLE `t_role` ( `id` int(20) NOT NULL AUTO_INCREMENT COMMENT 'ÁºñÂè∑', `role_name` varchar(60) NOT NULL COMMENT 'ËßíËâ≤ÂêçÁß∞', `note` varchar(1024) DEFAULT NULL COMMENT 'Â§áÊ≥®', `is_girl` varchar(20) DEFAULT NULL COMMENT 'ÊòØÂê¶‰∏∫Â•≥Â≠©', PRIMARY KEY (`id`))Â∫ìË°®ÂØπÂ∫îÁöÑÂÆû‰ΩìÁ±ªRoleÁï•„ÄÇÊé•Âè£RoleMapper‰∏≠ÂÆö‰πâ‰∏Ä‰∏™createRole()ÊäΩË±°ÊñπÊ≥ïÔºö1public int createRole(Role role);Êò†Â∞ÑÊñá‰ª∂Ôºö123456&lt;insert id="createRole" parameterType="role"&gt; &lt;![CDATA[ insert into t_role(role_name,note,is_girl) values (#&#123;roleName&#125;,#&#123;note&#125;, #&#123;isGirl&#125;) ]]&gt;&lt;/insert&gt;ÊµãËØïÊèíÂÖ•ÊñπÊ≥ïÔºö12345678910......sqlSession = SqlSessionFactoryUtil.openSqlSession();RoleMapper roleMapper = sqlSession.getMapper(RoleMapper.class);Role role = new Role();role.setRoleName("ÈõèÁî∞");role.setNote("Êó•ÂêëÈõèÁî∞");role.setIsGirl(Boolean.TRUE);roleMapper.createRole(role);sqlSession.commit();......Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö1234567mysql&gt; select * from t_role;+----+-----------+----------+---------+| id | role_name | note | is_girl |+----+-----------+----------+---------+| 1 | ÈõèÁî∞ | Êó•ÂêëÈõèÁî∞ | 1 |+----+-----------+----------+---------+1 row in set (0.00 sec)‰ªéÁªìÊûú‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÈªòËÆ§ÁöÑBooleantypeHandlerÂ∞ÜtrueËΩ¨Êç¢‰∏∫‰∫Ü1„ÄÇÂ¶ÇÊûúÊÉ≥ÊäätrueËΩ¨Êç¢‰∏∫Y,falseËΩ¨Êç¢‰∏∫N,Êàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâBooleantypeHandler„ÄÇËá™ÂÆö‰πâtypeHandlerËá™ÂÆö‰πâtypeHandlerÂèØ‰ª•ÈÄöËøáÁªßÊâøBasetypeHandlerÊàñËÄÖÂÆûÁé∞typeHandlerÊé•Âè£Êù•ÂÆûÁé∞ÔºåÁé∞Ëá™ÂÆö‰πâ‰∏Ä‰∏™BooleanTypeHandlerÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package mrbird.leanote.typehandler; import java.sql.CallableStatement;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;import org.apache.ibatis.type.JdbcType;import org.apache.ibatis.type.TypeHandler; public class BooleanTypeHandler implements TypeHandler&lt;Boolean&gt;&#123; @Override public Boolean getResult(ResultSet arg0, String arg1) throws SQLException &#123; String str = arg0.getString(arg1); Boolean flag = Boolean.FALSE; if(str.equalsIgnoreCase("Y"))&#123; flag = Boolean.TRUE; &#125; return flag; &#125; @Override public Boolean getResult(ResultSet arg0, int arg1) throws SQLException &#123; String str = arg0.getString(arg1); Boolean flag = Boolean.FALSE; if(str.equalsIgnoreCase("Y"))&#123; flag = Boolean.TRUE; &#125; return flag; &#125; @Override public Boolean getResult(CallableStatement arg0, int arg1) throws SQLException &#123; String str = arg0.getString(arg1); Boolean flag = Boolean.FALSE; if(str.equalsIgnoreCase("Y"))&#123; flag = Boolean.TRUE; &#125; return flag; &#125; @Override public void setParameter(PreparedStatement arg0, int arg1, Boolean arg2, JdbcType arg3) throws SQLException &#123; Boolean flag = (Boolean) arg2; String value = flag == true ? "Y" : "N"; arg0.setString(arg1, value); &#125;&#125;Âú®mybatis-config.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆËØ•typeHandlerÔºö1234&lt;typeHandlers&gt; &lt;typeHandler javaType="Boolean" jdbcType="VARCHAR" handler="mrbird.leanote.typehandler.BooleanTypeHandler" /&gt;&lt;/typeHandlers&gt;ÁÑ∂ÂêéÂú®Êò†Â∞ÑÊñá‰ª∂‰∏≠ÂØπÈúÄË¶ÅËΩ¨Êç¢ÁöÑÂ≠óÊÆµÊ†áÊ≥®javaTypeÂíåjdbcTypeÔºåÊàñËÄÖÊó†ÈúÄÂú®mybatis-config.xml‰∏≠Ê≥®ÂÜåÁõ¥Êé•Âú®Êò†Â∞ÑÊñá‰ª∂‰∏≠ÊåáÊòétypeHandlerÁöÑË∑ØÂæÑÂç≥ÂèØ„ÄÇÊåáÊòéjavaTypeÂíåjdbcTypeÔºå‰∏éÊ≥®ÂÜå‰∏≠ÁöÑ‰∏ÄËá¥Âç≥ÂèØÊâæÂà∞Áõ∏ÂØπÂ∫îÁöÑtypeHandlerÔºö123456&lt;insert id="createRole" parameterType="role"&gt; &lt;![CDATA[ insert into t_role(role_name,note,is_girl) values (#&#123;roleName&#125;,#&#123;note&#125;, #&#123;isGirl,javaType=Boolean,jdbcType=VARCHAR&#125;) ]]&gt;&lt;/insert&gt;ÊàñÊåáÊòétypeHandlerË∑ØÂæÑÔºö123456&lt;insert id="createRole" parameterType="role"&gt; &lt;![CDATA[ insert into t_role(role_name,note,is_girl) values (#&#123;roleName&#125;,#&#123;note&#125;, #&#123;isGirl,typeHandler=mrbird.leanote.typehandler.BooleanTypeHandler&#125;) ]]&gt;&lt;/insert&gt;ÊµãËØïÔºö12345678910......sqlSession = SqlSessionFactoryUtil.openSqlSession();RoleMapper roleMapper = sqlSession.getMapper(RoleMapper.class);Role role = new Role();role.setRoleName("È∏£‰∫∫");role.setNote("ÊóãÊ∂°È∏£‰∫∫");role.setIsGirl(Boolean.FALSE);roleMapper.createRole(role);sqlSession.commit();......Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö12345678mysql&gt; select * from t_role;+----+-----------+----------+---------+| id | role_name | note | is_girl |+----+-----------+----------+---------+| 1 | ÈõèÁî∞ | Êó•ÂêëÈõèÁî∞ | 1 || 2 | È∏£‰∫∫ | ÊóãÊ∂°È∏£‰∫∫ | N |+----+-----------+----------+---------+2 rows in set (0.00 sec)ÂèØÂèëÁé∞ÔºåfalseÂ∑≤ÁªèËΩ¨Êç¢‰∏∫N‰∫Ü„ÄÇÊûö‰∏æÁ±ªÂûãtypeHandlerMyBatisËá™Â∏¶‰∏§ÁßçÊûö‰∏æÁ±ªÂûãÂ§ÑÁêÜÂô®Ôºö1.org.apache.ibatis.type.EnumOrdinalTypeHandler2.org.apache.ibatis.type.EnumTypeHandlerEnumOrdinalTypeHandler‰ΩøÁî®Êï¥Êï∞‰∏ãÊ†á‰º†ÈÄíÔºåEnumTypeHandler‰ΩøÁî®Êûö‰∏æÂ≠óÁ¨¶‰∏≤‰º†ÈÄí„ÄÇÂàõÂª∫‰∏Ä‰∏™Êûö‰∏æÁ±ªÂûãSexÔºö1234567891011121314151617181920212223package mrbird.leanote.enums; public enum Sex &#123; MALE(1,"Áî∑"),FEMALE(2,"Â•≥"); private int id; private String name; private Sex(int id, String name) &#123; this.id = id; this.name = name; &#125; public int getId() &#123; return id; &#125; public void setId(int id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125;EnumOrdinalTypeHandlerÂàõÂª∫‰∏ÄÂº†Ë°®Êù•ÊºîÁ§∫EnumOrdinalTypeHandlerÔºö12345678CREATE TABLE `t_student` ( `id` int(20) NOT NULL AUTO_INCREMENT COMMENT 'ÁºñÂè∑', `cnname` varchar(60) NOT NULL COMMENT 'Â≠¶ÁîüÂßìÂêç', `sex` tinyint(4) NOT NULL COMMENT 'ÊÄßÂà´', `selfcard_no` int(20) NOT NULL COMMENT 'Â≠¶ÁîüËØÅÂè∑', `note` varchar(1024) DEFAULT NULL COMMENT 'Â§áÊ≥®', PRIMARY KEY (`id`))ËøôÈáåsexÂ≠óÊÆµÁ±ªÂûã‰∏∫tinyintÁ±ªÂûã„ÄÇStudentÂÆû‰ΩìÁ±ªÁï•„ÄÇÂÆö‰πâ‰∏Ä‰∏™interfaceÔºö123456789package mrbird.leanote.mapper; import java.util.List;import mrbird.leanote.pojo.Student; public interface StudentMapper &#123; public List&lt;Student&gt; getAllStudent(); public int createStudent(Student stu);&#125;ÂØπÂ∫îÁöÑÊò†Â∞ÑÊñá‰ª∂StudentMapper.xmlÔºö123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentMapper"&gt; &lt;resultMap type="student" id="studentList"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="cnname" property="cnName"/&gt; &lt;result column="sex" property="sex" typeHandler="org.apache.ibatis.type.EnumOrdinalTypeHandler"/&gt; &lt;result column="selfcard_no" property="selfCardNo"/&gt; &lt;result column="note" property="note"/&gt; &lt;/resultMap&gt; &lt;select id="getAllStudent" resultMap="studentList"&gt; &lt;![CDATA[select * from t_student]]&gt; &lt;/select&gt; &lt;insert id="createStudent" parameterType="student"&gt; &lt;![CDATA[ insert into t_student(cnname,sex,selfcard_no,note) values ( #&#123;cnName&#125;, #&#123;sex,typeHandler=org.apache.ibatis.type.EnumOrdinalTypeHandler&#125;, #&#123;selfCardNo&#125;,#&#123;note&#125;) ]]&gt; &lt;/insert&gt;&lt;/mapper&gt;ÊµãËØïcreateStudentÊñπÊ≥ïÔºö12345678910...StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);Student stu = new Student();stu.setCnName("È∏£‰∫∫");stu.setSex(Sex.MALE);stu.setSelfCardNo(1L);stu.setNote("Êº©Ê∂°È∏£‰∫∫");studentMapper.createStudent(stu);sqlSession.commit();...Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö1234567mysql&gt; select * from t_student;+----+--------+-----+-------------+----------+| id | cnname | sex | selfcard_no | note |+----+--------+-----+-------------+----------+| 1 | È∏£‰∫∫ | 0 | 1 | Êº©Ê∂°È∏£‰∫∫ |+----+--------+-----+-------------+----------+1 row in set (0.00 sec)ÂèØËßÅEnumOrdinalTypeHandlerÂ∑≤ÁªèÂ∞ÜMALEËΩ¨Êç¢‰∏∫‰∫ÜMALEÁöÑ‰∏ãÊ†á‰∫Ü„ÄÇÊµãËØïgetAllStudentÊñπÊ≥ïÔºö1234567...StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);List&lt;Student&gt; students = studentMapper.getAllStudent();for(Student stu : students)&#123; System.out.println(stu.getCnName()+"ÊÄßÂà´Ôºö"+stu.getSex());&#125;...ÊéßÂà∂Âè∞ËæìÂá∫Ôºö1È∏£‰∫∫ÊÄßÂà´ÔºöMALEEnumTypeHandler‰∏∫‰∫ÜÊºîÁ§∫EnumTypeHandlerÔºåÊàë‰ª¨ÈúÄË¶ÅÊääsexÂ≠óÊÆµÁ±ªÂûãÊîπ‰∏∫VARCHARÔºö1alter table t_student modify column sex VARCHAR(20);‰øÆÊîπÊò†Â∞ÑÊñá‰ª∂‰∏≠ÁöÑtypeHandlerÔºö123456789101112131415161718192021222324&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;mapper namespace="mrbird.leanote.mapper.StudentMapper"&gt; &lt;resultMap type="student" id="studentList"&gt; &lt;id column="id" property="id"/&gt; &lt;result column="cnname" property="cnName"/&gt; &lt;result column="sex" property="sex" typeHandler="org.apache.ibatis.type.EnumTypeHandler"/&gt; &lt;result column="selfcard_no" property="selfCardNo"/&gt; &lt;result column="note" property="note"/&gt; &lt;/resultMap&gt; &lt;select id="getAllStudent" resultMap="studentList"&gt; &lt;![CDATA[select * from t_student]]&gt; &lt;/select&gt; &lt;insert id="createStudent" parameterType="student"&gt; &lt;![CDATA[ insert into t_student(cnname,sex,selfcard_no,note) values ( #&#123;cnName&#125;, #&#123;sex,typeHandler=org.apache.ibatis.type.EnumTypeHandler&#125;, #&#123;selfCardNo&#125;,#&#123;note&#125;) ]]&gt; &lt;/insert&gt;&lt;/mapper&gt;ÊµãËØïcreateStudentÊñπÊ≥ïÔºö12345678910...StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class);Student stu = new Student();stu.setCnName("ÈõèÁî∞");stu.setSex(Sex.FEMALE);stu.setSelfCardNo(2L);stu.setNote("Êó•ÂêëÈõèÁî∞");studentMapper.createStudent(stu);sqlSession.commit();...Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö1234567mysql&gt; select * from t_student where selfcard_no = '2';+----+--------+--------+-------------+----------+| id | cnname | sex | selfcard_no | note |+----+--------+--------+-------------+----------+| 2 | ÈõèÁî∞ | FEMALE | 2 | Êó•ÂêëÈõèÁî∞ |+----+--------+--------+-------------+----------+1 row in set (0.00 sec)ÂèØËßÅEnumTypeHandler‰øùÂ≠òÁöÑÊòØÊûö‰∏æÂ≠óÁ¨¶‰∏≤„ÄÇ„ÄäÊ∑±ÂÖ•ÊµÖÂá∫MyBatisÊäÄÊúØÂéüÁêÜ‰∏éÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatisÈÖçÁΩÆÊï∞ÊçÆÂ∫ì]]></title>
    <url>%2FMyBatis%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93.html</url>
    <content type="text"><![CDATA[xmlÊñá‰ª∂ÈÖçÁΩÆÁõ¥Êé•Âú®mybatis-config.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆÔºö123456&lt;dataSource type="POOLED"&gt; &lt;property name="driver" value="com.mysql.jdbc.Driver" /&gt; &lt;property name="url" value="jdbc:mysql://localhost:3306/mybatis"/&gt; &lt;property name="username" value="root" /&gt; &lt;property name="password" value="6742530" /&gt; &lt;/dataSource&gt;propertiesÈÖçÁΩÆÊñá‰ª∂‰∏∫‰∫ÜÊñπ‰æøÊó•ÂêéÁª¥Êä§‰øÆÊîπÔºåÊàë‰ª¨Áî®propertiesÈÖçÁΩÆÊñá‰ª∂Êù•ÈÖçÁΩÆÊï∞ÊçÆÂ∫ìÂ±ûÊÄßÔºödb.propertiesÔºö1234driver:com.mysql.jdbc.Driverurl:jdbc:mysql://localhost:3306/mybatisusername:rootpassword:123456Âú®mybatis-config.xmlÊñá‰ª∂‰∏≠ÂºïÂÖ•Ôºö1234567&lt;properties resource="db.properties"/&gt;&lt;dataSource type="POOLED"&gt; &lt;property name="driver" value="$&#123;driver&#125;" /&gt; &lt;property name="url" value="$&#123;url&#125;"/&gt; &lt;property name="username" value="$&#123;username&#125;" /&gt; &lt;property name="password" value="$&#123;password&#125;" /&gt; &lt;/dataSource&gt;ÂèÇÊï∞‰º†ÈÄíÂÅáÂ¶ÇË¶ÅÂØπdb.propertiesÊñá‰ª∂‰∏≠ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅËøõË°åÂä†ÂØÜÔºåÈÇ£Êàë‰ª¨ÂàôÈúÄË¶ÅÂú®ÁîüÊàêSqlSessionFactoryÁöÑÊó∂ÂÄôÂØπÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅËß£ÂØÜÔºàÂÅáËÆæËß£ÂØÜÊñπÊ≥ï‰∏∫decode()ÔºâÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445public class SqlSessionFactoryUtil &#123; InputStream cfgStream = null; Reader cfgReader = null; InputStream proStream = null; Reader proReader = null; Properties properties = null; private static SqlSessionFactory sqlSessionFactory = null; //Á±ªÁ∫øÁ®ãÈîÅ private static final Class CLASS_LOCK = SqlSessionFactoryUtil.class; //ÁßÅÊúâÂåñÊûÑÈÄ†ÂáΩÊï∞ private SqlSessionFactoryUtil()&#123;&#125; //ÊûÑÂª∫SqlSessionFactory public static SqlSessionFactory initSqlSessionFactory()&#123; try&#123; //ËØªÂÖ•ÈÖçÁΩÆÊñá‰ª∂ÊµÅ cfgStream = Resources.getResourceAsStream("mybatis-config.xml"); cfgReader = new InputStreamReader(cfgStream); //ËØªÂÖ•Â±ûÊÄßÊñá‰ª∂ proStream = Resources.getResourceAsStream(db.properties); proReader = new InputStreamReader(proStream); properties = new Properties(); properties.load(proReader); properties.setProperty("username", decode(properties.getProperty("username"))); properties.setProperty("password", decode(properties.getProperty("password"))); &#125;catch(IOException e)&#123; e.printStackTrace(); &#125; synchronized (CLASS_LOCK) &#123; if(sqlSessionFactory == null)&#123; sqlSessionFactory = new SqlSessionFactoryBuilder().build(cfgStream); &#125; &#125; return sqlSessionFactory; &#125; //ÂàõÂª∫SqlSession public static SqlSession openSqlSession()&#123; if(sqlSessionFactory == null)&#123; initSqlSessionFactory(); &#125; return sqlSessionFactory.openSession(); &#125;&#125;environmentsÈÖçÁΩÆÁéØÂ¢É1234567891011121314&lt;environments default="development"&gt; &lt;environment id="development"&gt; &lt;!-- ÈááÁî®JDBC‰∫ãÂä°ÁÆ°ÁêÜ --&gt; &lt;transactionManager type="JDBC"&gt; &lt;property name="autoCommit" value="false"/&gt; &lt;/transactionManager&gt; &lt;dataSource type="POOLED"&gt; &lt;property name="driver" value="com.mysql.jdbc.Driver" /&gt; &lt;property name="url" value="jdbc:mysql://localhost:3306/mybatis"/&gt; &lt;property name="username" value="root" /&gt; &lt;property name="password" value="6742530" /&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt;defaultÂ±ûÊÄßË°®ÊòéÈªòËÆ§ÈÄâÁî®Âì™‰∏™Êï∞ÊçÆÂ∫ì„ÄÇidÂ±ûÊÄß‰∏∫‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÈÖçÁΩÆÁöÑÊ†áËØÜÔºåÂèØ‰ª•ÂêåÊó∂ÈÖçÁΩÆÂ§ö‰∏™Êï∞ÊçÆÂ∫ì„ÄÇdataSourceÁöÑtypeÂ±ûÊÄßÂèØÈÄâÈùûËøûÊé•Ê±†UNPOOLEDÔºåËøûÊé•Ê±†POOLEDÂíåJNDI„ÄäÊ∑±ÂÖ•ÊµÖÂá∫MyBatisÊäÄÊúØÂéüÁêÜ‰∏éÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MyBatis Guide]]></title>
    <url>%2FMyBatis-Guide.html</url>
    <content type="text"><![CDATA[ÂáÜÂ§áÂ∑•‰ΩúÂàõÂª∫Ë°®t_roleÔºö123456create table T_ROLE( id INT(20) not null auto_increment COMMENT 'ÁºñÂè∑', role_name VARCHAR(60) not null comment 'ËßíËâ≤ÂêçÁß∞', note varchar(1024) comment 'Â§áÊ≥®', PRIMARY KEY (id));Ê∑ªÂä†MyBatis jarÂåÖÂíåmySqlËøûÊé•È©±Âä®ÔºöMyBatis-jareclipseÊñá‰ª∂Ë∑ØÂæÑÔºöÂêÑÊñá‰ª∂ËØ¥ÊòéÔºöÊñá‰ª∂‰ΩúÁî®MyBatisMain.javaËøêË°åMyBatisÁ®ãÂ∫èÁöÑÂÖ•Âè£ÔºåÂåÖÂê´mainÊñπÊ≥ïRoleMapper.javaÊò†Â∞ÑÂô®RoleMapper.xmlÊò†Â∞ÑÂô®ÈÖçÁΩÆÊñá‰ª∂Role.javaPOJOSqlSessionFactoryUtil.javaÊûÑÂª∫SqlSessionFactoryÔºåÂπ∂ÂàõÂª∫SqlSessionmybatis-config.xmlMyBatisÈÖçÁΩÆÈÖçÁΩÆmybatis-config.xml1234567891011121314151617181920212223242526272829&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt; &lt;configuration&gt; &lt;typeAliases&gt; &lt;!--ÁªôÂÆû‰ΩìÁ±ªËµ∑‰∏Ä‰∏™Âà´Âêç role --&gt; &lt;typeAlias type="mrbird.leanote.pojo.Role" alias="role" /&gt; &lt;/typeAliases&gt; &lt;!--Êï∞ÊçÆÊ∫êÈÖçÁΩÆ --&gt; &lt;environments default="development"&gt; &lt;environment id="development"&gt; &lt;!-- ÈááÁî®JDBC‰∫ãÂä°ÁÆ°ÁêÜ --&gt; &lt;transactionManager type="JDBC"&gt; &lt;property name="autoCommit" value="false"/&gt; &lt;/transactionManager&gt; &lt;dataSource type="POOLED"&gt; &lt;property name="driver" value="com.mysql.jdbc.Driver" /&gt; &lt;property name="url" value="jdbc:mysql://localhost:3306/mybatis"/&gt; &lt;property name="username" value="root" /&gt; &lt;property name="password" value="6742530" /&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;mappers&gt; &lt;!--RoleMapper.xmlË£ÖËΩΩËøõÊù• ÂêåÁ≠â‰∫éÊää'dao'ÁöÑÂÆûÁé∞Ë£ÖËΩΩËøõÊù• --&gt; &lt;mapper resource="mrbird/leanote/mapper/RoleMapper.xml" /&gt; &lt;/mappers&gt; &lt;/configuration&gt;ÊûÑÂª∫SqlSessionFactoryÂà©Áî®mybatis-config.xmlÂÆåÊàêSqlSessionFactoryÁöÑÊûÑÂª∫ÔºåÂπ∂ÂàõÂª∫SqlSession„ÄÇÈááÁî®Âçï‰æãÁöÑÂΩ¢ÂºèÊûÑÂª∫SqlSessionFactory„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839package mrbird.leanote.util; import java.io.IOException;import java.io.InputStream;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder; public class SqlSessionFactoryUtil &#123; private static SqlSessionFactory sqlSessionFactory = null; //Á±ªÁ∫øÁ®ãÈîÅ private static final Class CLASS_LOCK = SqlSessionFactoryUtil.class; //ÁßÅÊúâÂåñÊûÑÈÄ†ÂáΩÊï∞ private SqlSessionFactoryUtil()&#123;&#125; //ÊûÑÂª∫SqlSessionFactory public static SqlSessionFactory initSqlSessionFactory()&#123; String resource = "mybatis-config.xml"; InputStream in = null; try &#123; in = Resources.getResourceAsStream(resource); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; synchronized (CLASS_LOCK) &#123; if(sqlSessionFactory == null)&#123; sqlSessionFactory = new SqlSessionFactoryBuilder().build(in); &#125; &#125; return sqlSessionFactory; &#125; //ÂàõÂª∫SqlSession public static SqlSession openSqlSession()&#123; if(sqlSessionFactory == null)&#123; initSqlSessionFactory(); &#125; return sqlSessionFactory.openSession(); &#125;&#125;POJOÂàõÂª∫‰∏Ä‰∏™‰∏éÂ∫ìË°®ÂØπÂ∫îÁöÑPOJOÔºö12345678910111213141516171819202122232425package mrbird.leanote.pojo; public class Role &#123; private Long id; private String roleName; private String note; public Long getId() &#123; return id; &#125; public void setId(Long id) &#123; this.id = id; &#125; public String getRoleName() &#123; return roleName; &#125; public void setRoleName(String roleName) &#123; this.roleName = roleName; &#125; public String getNote() &#123; return note; &#125; public void setNote(String note) &#123; this.note = note; &#125; &#125;Êé•Âè£‰∏éÊò†Â∞ÑÊñá‰ª∂Êñ∞Âª∫‰∏Ä‰∏™RoleMapperÊé•Âè£ÔºåÂåÖÂê´ÁÆÄÂçïÁöÑCRUDÊäΩË±°ÊñπÊ≥ïÔºö123456789package mrbird.leanote.mapper; import mrbird.leanote.pojo.Role; public interface RoleMapper &#123; public Role getRole(Long id); public int deleteRole(Long id); public int createRole(Role role);&#125;ÁºñÂÜôRoleMapper.xmlÊò†Â∞ÑÊñá‰ª∂ÔºåËÆ©ÂÖ∂Ëá™Âä®Êò†Â∞ÑRoleMapper interfaceÔºö1234567891011121314151617181920212223&lt;?xml version="1.0" encoding="UTF-8" ?&gt; &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt; &lt;!--ÂíåÊé•Âè£Ë∑ØÂæÑÂíåÂêçÁß∞‰øùÊåÅ‰∏ÄËá¥ÔºåMyBatis‰ºöËá™Âä®Â∏ÆÊàë‰ª¨ÊâæÂà∞Ëøô‰∏™ Mapper--&gt; &lt;mapper namespace="mrbird.leanote.mapper.RoleMapper"&gt; &lt;!-- id‰∏éÊé•Âè£ÊñπÊ≥ïÂêç‰∏ÄËá¥ÔºåÂèÇÊï∞Á±ªÂûã‰∏éÊé•Âè£ÊñπÊ≥ïÂèÇÊï∞Á±ªÂûã‰∏ÄËá¥ÔºåËøîÂõûÂÄºÁ±ªÂûã‰∏éÊé•Âè£ÊñπÊ≥ï‰∏ÄËá¥ 'role'‰∏∫mybatis-config.xml‰∏≠ÂÆö‰πâÁöÑÂà´Âêç --&gt; &lt;select id="getRole" parameterType="long" resultType="role"&gt; &lt;![CDATA[ select id,role_name as roleName,note from t_role where id = #&#123;id&#125; ]]&gt; &lt;/select&gt; &lt;insert id="createRole" parameterType="role"&gt; &lt;![CDATA[ insert into t_role(role_name,note) values (#&#123;roleName&#125;,#&#123;note&#125;) ]]&gt; &lt;/insert&gt; &lt;delete id="deleteRole" parameterType="long"&gt; &lt;![CDATA[ delete from t_role where id = #&#123;id&#125; ]]&gt; &lt;/delete&gt;&lt;/mapper&gt;ÊµãËØïÊµãËØïÊèíÂÖ•Êï∞ÊçÆÔºö12345678910111213141516171819202122232425262728package mrbird.leanote.mian; import mrbird.leanote.mapper.RoleMapper;import mrbird.leanote.pojo.Role;import mrbird.leanote.util.SqlSessionFactoryUtil;import org.apache.ibatis.session.SqlSession; public class MyBatisMain &#123; public static void main(String[] args) &#123; SqlSession sqlSession = null; try &#123; sqlSession = SqlSessionFactoryUtil.openSqlSession(); RoleMapper roleMapper = sqlSession.getMapper(RoleMapper.class); Role role = new Role(); role.setRoleName("mrbird"); role.setNote("the fun of code"); roleMapper.createRole(role); sqlSession.commit(); &#125; catch (Exception e) &#123; e.printStackTrace(); sqlSession.rollback(); &#125;finally&#123; if(sqlSession != null)&#123; sqlSession.close(); &#125; &#125; &#125;&#125;ËøêË°åÂêéÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö1234567mysql&gt; select * from t_role;+----+-----------+-----------------+| id | role_name | note |+----+-----------+-----------------+| 1 | mrbird | the fun of code |+----+-----------+-----------------+1 row in set (0.00 sec)ÂàõÂª∫ÊàêÂäü„ÄÇÊµãËØïÂà†Èô§Ôºö123456789101112131415161718public class MyBatisMain &#123; public static void main(String[] args) &#123; SqlSession sqlSession = null; try &#123; sqlSession = SqlSessionFactoryUtil.openSqlSession(); RoleMapper roleMapper = sqlSession.getMapper(RoleMapper.class); roleMapper.deleteRole(1L); sqlSession.commit(); &#125; catch (Exception e) &#123; e.printStackTrace(); sqlSession.rollback(); &#125;finally&#123; if(sqlSession != null)&#123; sqlSession.close(); &#125; &#125; &#125;&#125;ËøêË°åÂêéÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö12mysql&gt; select * from t_role;Empty set (0.00 sec)Âà†Èô§ÊàêÂäü„ÄÇ„ÄäÊ∑±ÂÖ•ÊµÖÂá∫MyBatisÊäÄÊúØÂéüÁêÜ‰∏éÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS ‰∏≠ÁöÑLHSÂíåRHS]]></title>
    <url>%2FJS-%E4%B8%AD%E7%9A%84LHS%E5%92%8CRHS.html</url>
    <content type="text"><![CDATA[LHSÂíåRHSÁöÑÂê´‰πâÊòØ‚ÄùËµãÂÄºÊìç‰ΩúÁ¨¶ÁöÑÂ∑¶‰æßÊàñÂè≥‰æß‚ÄùÔºåÂπ∂‰∏ç‰∏ÄÂÆöÊÑèÂë≥ÁùÄÂ∞±ÊòØ‚Äú=ËµãÂÄºÊìç‰ΩúÁ¨¶ÁöÑÂ∑¶‰æßÊàñÂè≥‰æß‚Äú„ÄÇËµãÂÄºÊìç‰ΩúËøòÊúâÂÖ∂‰ªñÂá†ÁßçÂΩ¢ÂºèÔºåÂõ†Ê≠§Âú®Ê¶ÇÂøµ‰∏äÊúÄÂ•ΩÂ∞ÜÂÖ∂ÁêÜËß£‰∏∫‚ÄùËµãÂÄºÊìç‰ΩúÁöÑÁõÆÊ†áÊòØË∞ÅÔºàLHSÔºâ‚Äú‰ª•Âèä‚ÄùË∞ÅÊòØËµãÂÄºÊìç‰ΩúÁöÑÊ∫êÂ§¥ÔºàRHSÔºâ‚Äú„ÄÇÊØîÂ¶Ç‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠êÔºö1234function foo(a)&#123; console.log(a);&#125;foo(2);ÊúÄÂêé‰∏ÄË°åfoo(..)ÂáΩÊï∞ÁöÑË∞ÉÁî®ÈúÄË¶ÅÂØπfooËøõË°åRHSÂºïÁî®ÔºåÊÑèÂë≥ÁùÄÂéªÊâæÂà∞‚ÄùfooÁöÑÂÄºÔºåÂπ∂ÊääÂÆÉÁªôÊàë‚Äú„ÄÇ‰ª£Á†Å‰∏≠ÔºåÈöêÂºèÁöÑ a = 2 Êìç‰ΩúËøõË°å‰∫Ü‰∏ÄÊ¨°LHSÊü•ËØ¢ÔºåÊâæÂà∞ËµãÂÄºÊìç‰ΩúÁöÑÁõÆÊ†áa‚Äî‚ÄîfooÂáΩÊï∞ÁöÑÂΩ¢ÂºèÂèÇÊï∞„ÄÇÊé•‰∏ãÊù•ÂØπaËøõË°åRHSÂºïÁî®ÔºåÂπ∂Â∞ÜÂæóÂà∞ÁöÑÂÄº‰º†Áªôconsole.log(..)„ÄÇconsole.log(..)Êú¨Ë∫´‰πüÈúÄË¶ÅÂØπconsoleËøõË°å‰∏ÄÊ¨°RHSÂºïÁî®ÔºåÊü•ÊâæÊòØÂê¶Êúâ‰∏Ä‰∏™Âè´‰ΩúlogÁöÑÊñπÊ≥ï„ÄÇÂΩìLHSÊü•ËØ¢Â§±Ë¥•Êó∂ÔºåÂºïÊìé‰ºöÂú®ÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏≠ÂàõÂª∫ËØ•ÂèòÈáèÔºö12345function foo(a)&#123; b = a;&#125;foo(2);console.log(window.b); //2ÂΩìRHSÊü•ËØ¢Â§±Ë¥•Êó∂ÔºåÂºïÊìé‰ºöÊäõÂá∫ReferenceErrorÂºÇÂ∏∏Ôºö1234function foo()&#123; var b = a;&#125;foo();ÂºïÊìéÊäõÂá∫ÔºöUncaught ReferenceError: a is not defined„ÄÇ„Ää‰Ω†‰∏çÁü•ÈÅìÁöÑJavaScript‰∏äÂç∑„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ajax]]></title>
    <url>%2FAjax.html</url>
    <content type="text"><![CDATA[JavaScript AjaxXMLHttpRequestÂØπË±°1234567891011function getXHR() &#123; //Ê†πÊçÆÂØπË±°Âà§Êñ≠ÊµèËßàÂô® if(window.XMLHttpRequest) &#123; //‰∏çÊòØIE return new XMLHttpRequest(); &#125;else&#123; //IE return new ActiveXObject("Microsoft.XMLHttp"); &#125;&#125;var xhr = getXHR();getËØ∑Ê±ÇÊâìÂºÄËØ∑Ê±ÇÔºö1xhr.open("get", "example.php?name1=value1&amp;name2=value2", true);trueË°®Á§∫ÂèëÈÄÅÂºÇÊ≠•ËØ∑Ê±Ç„ÄÇ‰∏ãÈù¢Ëøô‰∏™ÂáΩÊï∞ÂèØ‰ª•ËæÖÂä©ÂêëÁé∞ÊúâURL ÁöÑÊú´Â∞æÊ∑ªÂä†Êü•ËØ¢Â≠óÁ¨¶‰∏≤ÂèÇÊï∞Ôºö12345function addURLParam(url, name, value) &#123; url += (url.indexOf("?") == -1 ? "?" : "&amp;"); url += encodeURIComponent(name) + "=" + encodeURIComponent(value); return url;&#125;addURLParam()ÂáΩÊï∞Êé•Âèó‰∏â‰∏™ÂèÇÊï∞ÔºöË¶ÅÊ∑ªÂä†ÂèÇÊï∞ÁöÑURL„ÄÅÂèÇÊï∞ÁöÑÂêçÁß∞ÂíåÂèÇÊï∞ÁöÑÂÄº„ÄÇ‰∏ãÈù¢ÊòØ‰ΩøÁî®Ëøô‰∏™ÂáΩÊï∞Êù•ÊûÑÂª∫ËØ∑Ê±ÇURL ÁöÑÁ§∫‰æã„ÄÇ12345678var url = "example.php";//Ê∑ªÂä†ÂèÇÊï∞url = addURLParam(url, "name", "Nicholas");url = addURLParam(url, "book", "Professional JavaScript");//ÂàùÂßãÂåñËØ∑Ê±Çxhr.open("get", url, false);ÂèëÈÄÅËØ∑Ê±ÇÔºö1xhr.send(null);ËøôÈáåÁöÑsend()ÊñπÊ≥ïÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂç≥Ë¶Å‰Ωú‰∏∫ËØ∑Ê±Ç‰∏ª‰ΩìÂèëÈÄÅÁöÑÊï∞ÊçÆ„ÄÇÂ¶ÇÊûú‰∏çÈúÄË¶ÅÈÄöËøáËØ∑Ê±Ç‰∏ª‰ΩìÂèëÈÄÅÊï∞ÊçÆÔºåÂàôÂøÖÈ°ª‰º†ÂÖ•nullÔºåÂõ†‰∏∫Ëøô‰∏™ÂèÇÊï∞ÂØπÊúâ‰∫õÊµèËßàÂô®Êù•ËØ¥ÊòØÂøÖÈúÄÁöÑ„ÄÇË∞ÉÁî®send()‰πãÂêéÔºåËØ∑Ê±ÇÂ∞±‰ºöË¢´ÂàÜÊ¥æÂà∞ÊúçÂä°Âô®„ÄÇÂõûË∞ÉÂáΩÊï∞ÔºöXHR ÂØπË±°ÁöÑreadyState Â±ûÊÄßÂèØÂèñÁöÑÂÄºÔºö0ÔºöÊú™ÂàùÂßãÂåñ„ÄÇÂ∞öÊú™Ë∞ÉÁî®open()ÊñπÊ≥ï„ÄÇ1ÔºöÂêØÂä®„ÄÇÂ∑≤ÁªèË∞ÉÁî®open()ÊñπÊ≥ïÔºå‰ΩÜÂ∞öÊú™Ë∞ÉÁî®send()ÊñπÊ≥ï„ÄÇ2ÔºöÂèëÈÄÅ„ÄÇÂ∑≤ÁªèË∞ÉÁî®send()ÊñπÊ≥ïÔºå‰ΩÜÂ∞öÊú™Êé•Êî∂Âà∞ÂìçÂ∫î„ÄÇ3ÔºöÊé•Êî∂„ÄÇÂ∑≤ÁªèÊé•Êî∂Âà∞ÈÉ®ÂàÜÂìçÂ∫îÊï∞ÊçÆ„ÄÇ4ÔºöÂÆåÊàê„ÄÇÂ∑≤ÁªèÊé•Êî∂Âà∞ÂÖ®ÈÉ®ÂìçÂ∫îÊï∞ÊçÆÔºåËÄå‰∏îÂ∑≤ÁªèÂèØ‰ª•Âú®ÂÆ¢Êà∑Á´Ø‰ΩøÁî®‰∫Ü„ÄÇÂè™Ë¶ÅreadyState Â±ûÊÄßÁöÑÂÄºÁî±‰∏Ä‰∏™ÂÄºÂèòÊàêÂè¶‰∏Ä‰∏™ÂÄºÔºåÈÉΩ‰ºöËß¶Âèë‰∏ÄÊ¨°readystatechange ‰∫ã‰ª∂„ÄÇÂèØ‰ª•Âà©Áî®Ëøô‰∏™‰∫ã‰ª∂Êù•Ê£ÄÊµãÊØèÊ¨°Áä∂ÊÄÅÂèòÂåñÂêéreadyState ÁöÑÂÄº„ÄÇ123456789xhr.onreadystatechange = function()&#123;callback(xhr);&#125;;//ÂõûË∞ÉÂáΩÊï∞function callback(xhr) &#123; //ÂΩìËØ∑Ê±ÇÁªìÊùü‰∏îÊ≤°Êä•ÈîôÊó∂ if(xhr.readyState==4 &amp;&amp; xhr.status==200) &#123; var txt = xhr.responseText; console.log(txt); &#125;&#125; ‚ÄãÂú®Êî∂Âà∞ÂìçÂ∫îÂêéÔºåÂìçÂ∫îÁöÑÊï∞ÊçÆ‰ºöËá™Âä®Â°´ÂÖÖXHR ÂØπË±°ÁöÑÂ±ûÊÄßÔºåÁõ∏ÂÖ≥ÁöÑÂ±ûÊÄßÁÆÄ‰ªãÂ¶Ç‰∏ã„ÄÇresponseTextÔºö‰Ωú‰∏∫ÂìçÂ∫î‰∏ª‰ΩìË¢´ËøîÂõûÁöÑÊñáÊú¨„ÄÇresponseXMLÔºöÂ¶ÇÊûúÂìçÂ∫îÁöÑÂÜÖÂÆπÁ±ªÂûãÊòØ‚Äùtext/xml‚ÄùÊàñ‚Äùapplication/xml‚ÄùÔºåËøô‰∏™Â±ûÊÄß‰∏≠Â∞Ü‰øùÂ≠òÂåÖÂê´ÁùÄÂìçÂ∫îÊï∞ÊçÆÁöÑXML DOM ÊñáÊ°£„ÄÇstatusÔºöÂìçÂ∫îÁöÑHTTP Áä∂ÊÄÅ„ÄÇstatusTextÔºöHTTP Áä∂ÊÄÅÁöÑËØ¥Êòé„ÄÇpostËØ∑Ê±Ç12345678910xhr.open("post", "postexample.php", true);xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");//ÂèëÈÄÅformË°®ÂçïÊï∞ÊçÆvar form = document.getElementById("form");xhr.send(serialize(form));//ÂèëÈÄÅÊôÆÈÄöÊï∞ÊçÆxhr.send("name = Nicholas");xhr.send("book = Professional JavaScript");jQuery Ajaxload()load() ÊñπÊ≥ïÈÄöËøá AJAX ËØ∑Ê±Ç‰ªéÊúçÂä°Âô®Âä†ËΩΩÊï∞ÊçÆÔºåÂπ∂ÊääËøîÂõûÁöÑÊï∞ÊçÆÊîæÁΩÆÂà∞ÊåáÂÆöÁöÑÂÖÉÁ¥†‰∏≠„ÄÇËØ≠Ê≥ïÔºö1load(url,data,function(response,status,xhr));ÂèÇÊï∞ÊèèËø∞urlËßÑÂÆöË¶ÅÂ∞ÜËØ∑Ê±ÇÂèëÈÄÅÂà∞Âì™‰∏™ URL„ÄÇdataÂèØÈÄâ„ÄÇËßÑÂÆöËøûÂêåËØ∑Ê±ÇÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÁöÑÊï∞ÊçÆ„ÄÇfunction(response,status,xhr)ÂèØÈÄâ„ÄÇËßÑÂÆöÂΩìËØ∑Ê±ÇÂÆåÊàêÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇÈ¢ùÂ§ñÁöÑÂèÇÊï∞Ôºöresponse&amp;nbsp - ÂåÖÂê´Êù•Ëá™ËØ∑Ê±ÇÁöÑÁªìÊûúÊï∞ÊçÆstatus&amp;nbsp - ÂåÖÂê´ËØ∑Ê±ÇÁöÑÁä∂ÊÄÅÔºà‚Äùsuccess‚Äù, ‚Äúnotmodified‚Äù, ‚Äúerror‚Äù, ‚Äútimeout‚Äù Êàñ ‚Äúparsererror‚ÄùÔºâxhr&amp;nbsp - ÂåÖÂê´ XMLHttpRequest ÂØπË±°Â¶ÇÂú®id‰∏∫resultÁöÑdiv‰∏≠Âä†ËΩΩtest.htmlÈ°µÈù¢Ôºö1$("#result").load("test.html");\$.get()Âíå\$.post()$.get()ÊñπÊ≥ï‰ΩøÁî® HTTP GET ËØ∑Ê±Ç‰ªéÊúçÂä°Âô®Âä†ËΩΩÊï∞ÊçÆ„ÄÇËØ≠Ê≥ïÔºö1$.get(URL,data,function(data,status,xhr),dataType);ÂèÇÊï∞ÔºöÂèÇÊï∞ÊèèËø∞URLÂøÖÈúÄ„ÄÇËßÑÂÆöÊÇ®ÈúÄË¶ÅËØ∑Ê±ÇÁöÑ URL„ÄÇdataÂèØÈÄâ„ÄÇËßÑÂÆöËøûÂêåËØ∑Ê±ÇÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÁöÑÊï∞ÊçÆ„ÄÇfunction(data,status,xhr)ÂèØÈÄâ„ÄÇËßÑÂÆöÂΩìËØ∑Ê±ÇÊàêÂäüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇÈ¢ùÂ§ñÁöÑÂèÇÊï∞Ôºödata&amp;nbsp - ÂåÖÂê´Êù•Ëá™ËØ∑Ê±ÇÁöÑÁªìÊûúÊï∞ÊçÆstatus&amp;nbsp - ÂåÖÂê´ËØ∑Ê±ÇÁöÑÁä∂ÊÄÅÔºà‚Äùsuccess‚Äù„ÄÅ‚Äùnotmodified‚Äù„ÄÅ‚Äùerror‚Äù„ÄÅ‚Äùtimeout‚Äù„ÄÅ‚Äùparsererror‚ÄùÔºâxhr&amp;nbsp - ÂåÖÂê´ XMLHttpRequest ÂØπË±°dataTypeÂèØÈÄâ„ÄÇËßÑÂÆöÈ¢ÑÊúüÁöÑÊúçÂä°Âô®ÂìçÂ∫îÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇÈªòËÆ§Âú∞ÔºåjQuery ‰ºöÊô∫ËÉΩÂà§Êñ≠„ÄÇÂèØËÉΩÁöÑÁ±ªÂûãÔºöxml - ‰∏Ä‰∏™ XML ÊñáÊ°£html - HTML ‰Ωú‰∏∫Á∫ØÊñáÊú¨text - Á∫ØÊñáÊú¨Â≠óÁ¨¶‰∏≤script - ‰ª• JavaScript ËøêË°åÂìçÂ∫îÔºåÂπ∂‰ª•Á∫ØÊñáÊú¨ËøîÂõûjson - ‰ª• JSON ËøêË°åÂìçÂ∫îÔºåÂπ∂‰ª• JavaScript ÂØπË±°ËøîÂõûjsonp - ‰ΩøÁî® JSONP Âä†ËΩΩ‰∏Ä‰∏™ JSON ÂùóÔºåÂ∞ÜÊ∑ªÂä†‰∏Ä‰∏™ ‚Äú?callback=?‚Äù Âà∞ URL Êù•ËßÑÂÆöÂõûË∞ÉÂ¶ÇÔºö123456$.get("get.php",&#123; userName : $("#userName").val().trim(), content : $("#content").val().trim() &#125;,function(data)&#123; // do something&#125;,"json");$.post()Âíå$.get()Á±ª‰ººÔºåÂå∫Âà´Âú®‰∫é$.post()ÂèØÂèëÈÄÅÁöÑÊï∞ÊçÆÈáèÊõ¥Â§ß„ÄÇ\$.ajax()ËØ≠Ê≥ïÔºö1$.ajax(&#123;name:value, name:value, ... &#125;)‰∏ãÈù¢ÁöÑË°®Ê†º‰∏≠ÂàóÂá∫‰∫ÜÂèØËÉΩÁöÑÂêçÁß∞/ÂÄºÔºöÂêçÁß∞ÂÄº/ÊèèËø∞asyncÂ∏ÉÂ∞îÂÄºÔºåË°®Á§∫ËØ∑Ê±ÇÊòØÂê¶ÂºÇÊ≠•Â§ÑÁêÜ„ÄÇÈªòËÆ§ÊòØ true„ÄÇbeforeSend( xhr )ÂèëÈÄÅËØ∑Ê±ÇÂâçËøêË°åÁöÑÂáΩÊï∞„ÄÇcacheÂ∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÊµèËßàÂô®ÊòØÂê¶ÁºìÂ≠òË¢´ËØ∑Ê±ÇÈ°µÈù¢„ÄÇÈªòËÆ§ÊòØ true„ÄÇcomplete( xhr,status )ËØ∑Ê±ÇÂÆåÊàêÊó∂ËøêË°åÁöÑÂáΩÊï∞ÔºàÂú®ËØ∑Ê±ÇÊàêÂäüÊàñÂ§±Ë¥•‰πãÂêéÂùáË∞ÉÁî®ÔºåÂç≥Âú® success Âíå error ÂáΩÊï∞‰πãÂêéÔºâ„ÄÇcontentTypeÂèëÈÄÅÊï∞ÊçÆÂà∞ÊúçÂä°Âô®Êó∂ÊâÄ‰ΩøÁî®ÁöÑÂÜÖÂÆπÁ±ªÂûã„ÄÇÈªòËÆ§ÊòØÔºö‚Äùapplication/x-www-form-urlencoded‚Äù„ÄÇcontext‰∏∫ÊâÄÊúâ AJAX Áõ∏ÂÖ≥ÁöÑÂõûË∞ÉÂáΩÊï∞ËßÑÂÆö ‚Äúthis‚Äù ÂÄº„ÄÇdataËßÑÂÆöË¶ÅÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÁöÑÊï∞ÊçÆ„ÄÇdataFilter( data , type )Áî®‰∫éÂ§ÑÁêÜ XMLHttpRequest ÂéüÂßãÂìçÂ∫îÊï∞ÊçÆÁöÑÂáΩÊï∞„ÄÇdataTypeÈ¢ÑÊúüÁöÑÊúçÂä°Âô®ÂìçÂ∫îÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇerror( xhr,status,error )Â¶ÇÊûúËØ∑Ê±ÇÂ§±Ë¥•Ë¶ÅËøêË°åÁöÑÂáΩÊï∞„ÄÇglobalÂ∏ÉÂ∞îÂÄºÔºåËßÑÂÆöÊòØÂê¶‰∏∫ËØ∑Ê±ÇËß¶ÂèëÂÖ®Â±Ä AJAX ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è„ÄÇÈªòËÆ§ÊòØ true„ÄÇifModifiedÂ∏ÉÂ∞îÂÄºÔºåËßÑÂÆöÊòØÂê¶‰ªÖÂú®ÊúÄÂêé‰∏ÄÊ¨°ËØ∑Ê±Ç‰ª•Êù•ÂìçÂ∫îÂèëÁîüÊîπÂèòÊó∂ÊâçËØ∑Ê±ÇÊàêÂäü„ÄÇÈªòËÆ§ÊòØ false„ÄÇjsonpÂú®‰∏Ä‰∏™ jsonp ‰∏≠ÈáçÂÜôÂõûË∞ÉÂáΩÊï∞ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇjsonpCallbackÂú®‰∏Ä‰∏™ jsonp ‰∏≠ËßÑÂÆöÂõûË∞ÉÂáΩÊï∞ÁöÑÂêçÁß∞„ÄÇpasswordËßÑÂÆöÂú® HTTP ËÆøÈóÆËÆ§ËØÅËØ∑Ê±Ç‰∏≠‰ΩøÁî®ÁöÑÂØÜÁ†Å„ÄÇprocessDataÂ∏ÉÂ∞îÂÄºÔºåËßÑÂÆöÈÄöËøáËØ∑Ê±ÇÂèëÈÄÅÁöÑÊï∞ÊçÆÊòØÂê¶ËΩ¨Êç¢‰∏∫Êü•ËØ¢Â≠óÁ¨¶‰∏≤„ÄÇÈªòËÆ§ÊòØ true„ÄÇscriptCharsetËßÑÂÆöËØ∑Ê±ÇÁöÑÂ≠óÁ¨¶ÈõÜ„ÄÇsuccess( result,status,xhr )ÂΩìËØ∑Ê±ÇÊàêÂäüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇtimeoutËÆæÁΩÆÊú¨Âú∞ÁöÑËØ∑Ê±ÇË∂ÖÊó∂Êó∂Èó¥Ôºà‰ª•ÊØ´ÁßíËÆ°Ôºâ„ÄÇtraditionalÂ∏ÉÂ∞îÂÄºÔºåËßÑÂÆöÊòØÂê¶‰ΩøÁî®ÂèÇÊï∞Â∫èÂàóÂåñÁöÑ‰º†ÁªüÊ†∑Âºè„ÄÇtypeËßÑÂÆöËØ∑Ê±ÇÁöÑÁ±ªÂûãÔºàGET Êàñ POSTÔºâ„ÄÇurlËßÑÂÆöÂèëÈÄÅËØ∑Ê±ÇÁöÑ URL„ÄÇÈªòËÆ§ÊòØÂΩìÂâçÈ°µÈù¢„ÄÇusernameËßÑÂÆöÂú® HTTP ËÆøÈóÆËÆ§ËØÅËØ∑Ê±Ç‰∏≠‰ΩøÁî®ÁöÑÁî®Êà∑Âêç„ÄÇxhrÁî®‰∫éÂàõÂª∫ XMLHttpRequest ÂØπË±°ÁöÑÂáΩÊï∞„ÄÇ]]></content>
      <tags>
        <tag>Ajax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BOM location]]></title>
    <url>%2FBOM-location.html</url>
    <content type="text"><![CDATA[‰ΩøÁî®location ÂØπË±°ÂèØ‰ª•ÈÄöËøáÂæàÂ§öÊñπÂºèÊù•ÊîπÂèòÊµèËßàÂô®ÁöÑ‰ΩçÁΩÆ„ÄÇÂ¶ÇÔºö1location.assign("http://www.wrox.com");ÊàñÔºö12window.location = "http://www.wrox.com";location.href = "http://www.wrox.com";Âè¶Â§ñÔºå‰øÆÊîπlocation ÂØπË±°ÁöÑÂÖ∂‰ªñÂ±ûÊÄß‰πüÂèØ‰ª•ÊîπÂèòÂΩìÂâçÂä†ËΩΩÁöÑÈ°µÈù¢„ÄÇ‰∏ãÈù¢ÁöÑ‰æãÂ≠êÂ±ïÁ§∫‰∫ÜÈÄöËøáÂ∞Ühash„ÄÅsearch„ÄÅhostname„ÄÅpathname Âíåport Â±ûÊÄßËÆæÁΩÆ‰∏∫Êñ∞ÂÄºÊù•ÊîπÂèòURL„ÄÇ12345678910111213141516//ÂÅáËÆæÂàùÂßãURL ‰∏∫http://www.wrox.com/WileyCDA/ //Â∞ÜURL ‰øÆÊîπ‰∏∫"http://www.wrox.com/WileyCDA/#section1"location.hash = "#section1"; //Â∞ÜURL ‰øÆÊîπ‰∏∫"http://www.wrox.com/WileyCDA/?q=javascript"location.search = "?q=javascript"; //Â∞ÜURL ‰øÆÊîπ‰∏∫"http://www.yahoo.com/WileyCDA/"location.hostname = "www.yahoo.com"; //Â∞ÜURL ‰øÆÊîπ‰∏∫"http://www.yahoo.com/mydir/"location.pathname = "mydir"; //Â∞ÜURL ‰øÆÊîπ‰∏∫"http://www.yahoo.com:8080/WileyCDA/"location.port = 8080;‰ΩøÁî®location.replace(url)‰ºöÂØºËá¥ÊµèËßàÂô®‰ΩçÁΩÆÊîπÂèòÔºå‰ΩÜ‰∏ç‰ºöÂú®ÂéÜÂè≤ËÆ∞ÂΩï‰∏≠ÁîüÊàêÊñ∞ËÆ∞ÂΩï„ÄÇ‚ÄùÂêéÈÄÄ‚ÄùÊåâÈíÆÂ∞Ü‰∏çÂèØÁÇπÂáª„ÄÇreload()Ôºö12location.reload(); //ÈáçÊñ∞Âä†ËΩΩÔºàÊúâÂèØËÉΩ‰ªéÁºìÂ≠ò‰∏≠Âä†ËΩΩÔºâlocation.reload(true); //ÈáçÊñ∞Âä†ËΩΩÔºà‰ªéÊúçÂä°Âô®ÈáçÊñ∞Âä†ËΩΩÔºâ]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript FunctionÁ±ªÂûã]]></title>
    <url>%2FJavaScript-Function%E7%B1%BB%E5%9E%8B.html</url>
    <content type="text"><![CDATA[ÂáΩÊï∞Â£∞Êòé‰∏éÂáΩÊï∞Ë°®ËææÂºèÂáΩÊï∞Â£∞ÊòéÈïøËøôÊ†∑Ôºö123function sum(num1, num2)&#123; return num1 + num2;&#125;ÂáΩÊï∞Ë°®ËææÂºèÈïøËøôÊ†∑Ôºö123var sum = function(num1, num2)&#123; return num1 + num2;&#125;;Âå∫Âà´ÔºöËß£ÊûêÂô®Âú®ÂêëÊâßË°åÁéØÂ¢É‰∏≠Âä†ËΩΩÊï∞ÊçÆÊó∂ÔºåÂØπÂáΩÊï∞Â£∞ÊòéÂíåÂáΩÊï∞Ë°®ËææÂºèÂπ∂Èùû‰∏ÄËßÜÂêå‰ªÅ„ÄÇËß£ÊûêÂô®‰ºöÁéáÂÖàËØªÂèñÂáΩÊï∞Â£∞ÊòéÔºåÂπ∂‰ΩøÂÖ∂Âú®ÊâßË°å‰ªª‰Ωï‰ª£Á†Å‰πãÂâçÂèØÁî®ÔºàÂèØ‰ª•ËÆøÈóÆÔºâÔºõËá≥‰∫éÂáΩÊï∞Ë°®ËææÂºèÔºåÂàôÂøÖÈ°ªÁ≠âÂà∞Ëß£ÊûêÂô®ÊâßË°åÂà∞ÂÆÉÊâÄÂú®ÁöÑ‰ª£Á†ÅË°åÔºåÊâç‰ºöÁúüÊ≠£Ë¢´Ëß£ÈáäÊâßË°å„ÄÇÂ¶Ç‰∏ãÈù¢ËØ≠Âè•‰∏çÊä•ÈîôÔºö1234alert(sum(10,10));function sum(num1, num2)&#123; return num1 + num2;&#125;ËÄå‰∏ãÈù¢ËØ≠Âè•Êä•ÈîôÔºö1234alert(sum(10,10));var sum = function(num1, num2)&#123; return num1 + num2;&#125;;Èô§‰∫Ü‰ªÄ‰πàÊó∂ÂÄôÂèØ‰ª•ÈÄöËøáÂèòÈáèËÆøÈóÆÂáΩÊï∞Ëøô‰∏ÄÁÇπÂå∫Âà´‰πãÂ§ñÔºåÂáΩÊï∞Â£∞Êòé‰∏éÂáΩÊï∞Ë°®ËææÂºèÁöÑËØ≠Ê≥ïÂÖ∂ÂÆûÊòØÁ≠â‰ª∑ÁöÑ„ÄÇ‰Ωú‰∏∫ÂÄºÁöÑÂáΩÊï∞Âõ†‰∏∫ECMAScript ‰∏≠ÁöÑÂáΩÊï∞ÂêçÊú¨Ë∫´Â∞±ÊòØÂèòÈáèÔºåÊâÄ‰ª•ÂáΩÊï∞‰πüÂèØ‰ª•‰Ωú‰∏∫ÂÄºÊù•‰ΩøÁî®„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ç‰ªÖÂèØ‰ª•ÂÉè‰º†ÈÄíÂèÇÊï∞‰∏ÄÊ†∑Êää‰∏Ä‰∏™ÂáΩÊï∞‰º†ÈÄíÁªôÂè¶‰∏Ä‰∏™ÂáΩÊï∞ÔºåËÄå‰∏îÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫Âè¶‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÁªìÊûúËøîÂõû„ÄÇÂ¶ÇÔºö12345678function callSomeFunction(someFunction, someArgument)&#123; return someFunction(someArgument);&#125;function add10(num)&#123; return num + 10;&#125;var result1 = callSomeFunction(add10, 10);alert(result1); //20ÂáΩÊï∞ÂÜÖÈÉ®Â±ûÊÄßargumentsÂú®ÂáΩÊï∞‰ΩìÂÜÖÂèØ‰ª•ÈÄöËøáarguments ÂØπË±°Êù•ËÆøÈóÆÂèÇÊï∞Êï∞ÁªÑÔºå‰ªéËÄåËé∑Âèñ‰º†ÈÄíÁªôÂáΩÊï∞ÁöÑÊØè‰∏Ä‰∏™ÂèÇÊï∞ÔºåÊØîÂ¶ÇÂÆö‰πâ‰∏Ä‰∏™ËÆ°ÁÆó‰ªªÊÑè‰∏™ÂèÇÊï∞ÁöÑÂíåÁöÑÂáΩÊï∞Ôºö1234567function sum() &#123; var s = 0; for(var i=0;i&lt;arguments.length;i++) &#123; s += arguments[i]; &#125; return s;&#125;ËôΩÁÑ∂argumentsÁöÑ‰∏ªË¶ÅÁî®ÈÄîÊòØ‰øùÂ≠òÂáΩÊï∞ÂèÇÊï∞Ôºå‰ΩÜËøô‰∏™ÂØπË±°ËøòÊúâ‰∏Ä‰∏™ÂêçÂè´calleeÁöÑÂ±ûÊÄßÔºåËØ•Â±ûÊÄßÊòØ‰∏Ä‰∏™ÊåáÈíàÔºåÊåáÂêëÊã•ÊúâËøô‰∏™argumentsÂØπË±°ÁöÑÂáΩÊï∞„ÄÇËØ∑Áúã‰∏ãÈù¢Ëøô‰∏™ÈùûÂ∏∏ÁªèÂÖ∏ÁöÑÈò∂‰πòÂáΩÊï∞„ÄÇ1234567function factorial(num)&#123; if (num &lt;=1) &#123; return 1; &#125; else &#123; return num * factorial(num-1) &#125;&#125;Ëøô‰∏™ÂáΩÊï∞ÁöÑÊâßË°å‰∏éÂáΩÊï∞Âêçfactorial Á¥ßÁ¥ßËÄ¶ÂêàÂú®‰∫Ü‰∏ÄËµ∑„ÄÇ‰∏∫‰∫ÜÊ∂àÈô§ËøôÁßçÁ¥ßÂØÜËÄ¶ÂêàÁöÑÁé∞Ë±°ÔºåÂèØ‰ª•ÂÉè‰∏ãÈù¢ËøôÊ†∑‰ΩøÁî®arguments.callee„ÄÇ1234567function factorial(num)&#123; if (num &lt;=1) &#123; return 1; &#125; else &#123; return num * arguments.callee(num-1) &#125;&#125;thisthisÂºïÁî®ÁöÑÊòØÂáΩÊï∞ÊçÆ‰ª•ÊâßË°åÁöÑÁéØÂ¢ÉÂØπË±°‚Äî‚ÄîÊàñËÄÖ‰πüÂèØ‰ª•ËØ¥ÊòØthis ÂÄºÔºàÂΩìÂú®ÁΩëÈ°µÁöÑÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏≠Ë∞ÉÁî®ÂáΩÊï∞Êó∂Ôºåthis ÂØπË±°ÂºïÁî®ÁöÑÂ∞±ÊòØwindowÔºâ„ÄÇÂ¶ÇÔºö12345678window.color = "red";var o = &#123; color: "blue" &#125;;function sayColor()&#123; alert(this.color);&#125;sayColor(); //"red"o.sayColor = sayColor;o.sayColor(); //"blue"callerECMAScript 5 ‰πüËßÑËåÉÂåñ‰∫ÜÂè¶‰∏Ä‰∏™ÂáΩÊï∞ÂØπË±°ÁöÑÂ±ûÊÄßÔºöcaller„ÄÇËøô‰∏™Â±ûÊÄß‰∏≠‰øùÂ≠òÁùÄË∞ÉÁî®ÂΩìÂâçÂáΩÊï∞ÁöÑÂáΩÊï∞ÁöÑÂºïÁî®ÔºåÂ¶ÇÊûúÊòØÂú®ÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏≠Ë∞ÉÁî®ÂΩìÂâçÂáΩÊï∞ÔºåÂÆÉÁöÑÂÄº‰∏∫null„ÄÇ‰æãÂ¶ÇÔºö1234567function outer()&#123; inner();&#125;function inner()&#123; alert(inner.caller);&#125;outer();‰ª•‰∏ä‰ª£Á†Å‰ºöÂØºËá¥Ë≠¶ÂëäÊ°Ü‰∏≠ÊòæÁ§∫outer()ÂáΩÊï∞ÁöÑÊ∫ê‰ª£Á†Å„ÄÇÂõ†‰∏∫outer()Ë∞ÉÁî®‰∫Üinner()ÔºåÊâÄ‰ª•inner.caller Â∞±ÊåáÂêëouter()„ÄÇÂ±ûÊÄßÂíåÊñπÊ≥ïECMAScript ‰∏≠ÁöÑÂáΩÊï∞ÊòØÂØπË±°ÔºåÂõ†Ê≠§ÂáΩÊï∞‰πüÊúâÂ±ûÊÄßÂíåÊñπÊ≥ï„ÄÇÊØè‰∏™ÂáΩÊï∞ÈÉΩÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÔºölength Âíåprototype„ÄÇlengthlengthÂ±ûÊÄßË°®Á§∫ÂáΩÊï∞Â∏åÊúõÊé•Êî∂ÁöÑÂëΩÂêçÂèÇÊï∞ÁöÑ‰∏™Êï∞ÔºåÂ¶Ç‰∏ãÈù¢ÁöÑ‰æãÂ≠êÊâÄÁ§∫„ÄÇ123456789101112function sayName(name)&#123; alert(name);&#125;function sum(num1, num2)&#123; return num1 + num2;&#125;function sayHi()&#123; alert("hi");&#125;alert(sayName.length); //1alert(sum.length); //2alert(sayHi.length); //0prototypeÂØπ‰∫éECMAScript ‰∏≠ÁöÑÂºïÁî®Á±ªÂûãËÄåË®ÄÔºåprototypeÊòØ‰øùÂ≠òÂÆÉ‰ª¨ÊâÄÊúâÂÆû‰æãÊñπÊ≥ïÁöÑÁúüÊ≠£ÊâÄÂú®„ÄÇÂ¶ÇÔºö12345678910111213function Person()&#123;&#125;Person.prototype.name = "Nicholas";Person.prototype.age = 29;Person.prototype.job = "Software Engineer";Person.prototype.sayName = function()&#123; alert(this.name);&#125;;var person1 = new Person();person1.sayName(); //"Nicholas"var person2 = new Person();person2.sayName(); //"Nicholas"alert(person1.sayName == person2.sayName); //trueÂèØ‰ª•ÈÄöËøáisPrototypeOf()ÊñπÊ≥ïÊù•Á°ÆÂÆö‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÊòØÂè¶‰∏Ä‰∏™ÂØπË±°ÁöÑÂéüÂûãÔºö12alert(Person.prototype.isPrototypeOf(person1)); //truealert(Person.prototype.isPrototypeOf(person2)); //true‰ΩøÁî®Object.getPrototypeOf()ÂèØ‰ª•Êñπ‰æøÂú∞ÂèñÂæó‰∏Ä‰∏™ÂØπË±°ÁöÑÂéüÂûãÔºö12alert(Object.getPrototypeOf(person1) == Person.prototype); //truealert(Object.getPrototypeOf(person1).name); //"Nicholas"ÊØèÂΩì‰ª£Á†ÅËØªÂèñÊüê‰∏™ÂØπË±°ÁöÑÊüê‰∏™Â±ûÊÄßÊó∂ÔºåÈÉΩ‰ºöÊâßË°å‰∏ÄÊ¨°ÊêúÁ¥¢ÔºåÁõÆÊ†áÊòØÂÖ∑ÊúâÁªôÂÆöÂêçÂ≠óÁöÑÂ±ûÊÄß„ÄÇÊêúÁ¥¢È¶ñÂÖà‰ªéÂØπË±°ÂÆû‰æãÊú¨Ë∫´ÂºÄÂßã„ÄÇÂ¶ÇÊûúÂú®ÂÆû‰æã‰∏≠ÊâæÂà∞‰∫ÜÂÖ∑ÊúâÁªôÂÆöÂêçÂ≠óÁöÑÂ±ûÊÄßÔºåÂàôËøîÂõûËØ•Â±ûÊÄßÁöÑÂÄºÔºõÂ¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÔºåÂàôÁªßÁª≠ÊêúÁ¥¢ÊåáÈíàÊåáÂêëÁöÑÂéüÂûãÂØπË±°ÔºåÂú®ÂéüÂûãÂØπË±°‰∏≠Êü•ÊâæÂÖ∑ÊúâÁªôÂÆöÂêçÂ≠óÁöÑÂ±ûÊÄß„ÄÇÂ¶ÇÊûúÂú®ÂéüÂûãÂØπË±°‰∏≠ÊâæÂà∞‰∫ÜËøô‰∏™Â±ûÊÄßÔºåÂàôËøîÂõûËØ•Â±ûÊÄßÁöÑÂÄº„ÄÇËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøáÂØπË±°ÂÆû‰æãËÆøÈóÆ‰øùÂ≠òÂú®ÂéüÂûã‰∏≠ÁöÑÂÄºÔºå‰ΩÜÂç¥‰∏çËÉΩÈÄöËøáÂØπË±°ÂÆû‰æãÈáçÂÜôÂéüÂûã‰∏≠ÁöÑÂÄº„ÄÇÂ¶ÇÊûúÊàë‰ª¨Âú®ÂÆû‰æã‰∏≠Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™Â±ûÊÄßÔºåËÄåËØ•Â±ûÊÄß‰∏éÂÆû‰æãÂéüÂûã‰∏≠ÁöÑ‰∏Ä‰∏™Â±ûÊÄßÂêåÂêçÔºåÈÇ£Êàë‰ª¨Â∞±Âú®ÂÆû‰æã‰∏≠ÂàõÂª∫ËØ•Â±ûÊÄßÔºåËØ•Â±ûÊÄßÂ∞Ü‰ºöÂ±èËîΩÂéüÂûã‰∏≠ÁöÑÈÇ£‰∏™Â±ûÊÄß„ÄÇ12345678910111213function Person()&#123;&#125;Person.prototype.name = "Nicholas";Person.prototype.age = 29;Person.prototype.job = "Software Engineer";Person.prototype.sayName = function()&#123; alert(this.name);&#125;;var person1 = new Person();var person2 = new Person();person1.name = "Greg";alert(person1.name); //"Greg"‚Äî‚ÄîÊù•Ëá™ÂÆû‰æãalert(person2.name); //"Nicholas"‚Äî‚ÄîÊù•Ëá™ÂéüÂûã‰ΩøÁî®deleteÊìç‰ΩúÁ¨¶ÂàôÂèØ‰ª•ÂÆåÂÖ®Âà†Èô§ÂÆû‰æãÂ±ûÊÄßÔºå‰ªéËÄåËÆ©Êàë‰ª¨ËÉΩÂ§üÈáçÊñ∞ËÆøÈóÆÂéüÂûã‰∏≠ÁöÑÂ±ûÊÄßÔºåÂ¶Ç‰∏ãÊâÄÁ§∫„ÄÇ123456789101112131415function Person()&#123;&#125;Person.prototype.name = "Nicholas";Person.prototype.age = 29;Person.prototype.job = "Software Engineer";Person.prototype.sayName = function()&#123; alert(this.name);&#125;;var person1 = new Person();var person2 = new Person();person1.name = "Greg";alert(person1.name); //"Greg"‚Äî‚ÄîÊù•Ëá™ÂÆû‰æãalert(person2.name); //"Nicholas"‚Äî‚ÄîÊù•Ëá™ÂéüÂûãdelete person1.name;alert(person1.name); //"Nicholas"‚Äî‚ÄîÊù•Ëá™ÂéüÂûã‰ΩøÁî®hasOwnProperty()ÊñπÊ≥ïÂèØ‰ª•Ê£ÄÊµã‰∏Ä‰∏™Â±ûÊÄßÊòØÂ≠òÂú®‰∫éÂÆû‰æã‰∏≠ÔºåËøòÊòØÂ≠òÂú®‰∫éÂéüÂûã‰∏≠„ÄÇËøô‰∏™ÊñπÊ≥ïÔºà‰∏çË¶ÅÂøò‰∫ÜÂÆÉÊòØ‰ªéObject ÁªßÊâøÊù•ÁöÑÔºâÂè™Âú®ÁªôÂÆöÂ±ûÊÄßÂ≠òÂú®‰∫éÂØπË±°ÂÆû‰æã‰∏≠Êó∂ÔºåÊâç‰ºöËøîÂõûtrue„ÄÇ123456789101112131415161718192021function Person()&#123;&#125;Person.prototype.name = "Nicholas";Person.prototype.age = 29;Person.prototype.job = "Software Engineer";Person.prototype.sayName = function()&#123; alert(this.name);&#125;;var person1 = new Person();var person2 = new Person();alert(person1.hasOwnProperty("name")); //false person1.name = "Greg";alert(person1.name); //"Greg"‚Äî‚ÄîÊù•Ëá™ÂÆû‰æãalert(person1.hasOwnProperty("name")); //truealert(person2.name); //"Nicholas"‚Äî‚ÄîÊù•Ëá™ÂéüÂûãalert(person2.hasOwnProperty("name")); //false delete person1.name;alert(person1.name); //"Nicholas"‚Äî‚ÄîÊù•Ëá™ÂéüÂûãalert(person1.hasOwnProperty("name")); //falseÂú®ÂçïÁã¨‰ΩøÁî®inÊìç‰ΩúÁ¨¶‰ºöÂú®ÈÄöËøáÂØπË±°ËÉΩÂ§üËÆøÈóÆÁªôÂÆöÂ±ûÊÄßÊó∂ËøîÂõûtrueÔºåÊó†ËÆ∫ËØ•Â±ûÊÄßÂ≠òÂú®‰∫éÂÆû‰æã‰∏≠ËøòÊòØÂéüÂûã‰∏≠„ÄÇÁúã‰∏ÄÁúã‰∏ãÈù¢ÁöÑ‰æãÂ≠ê„ÄÇ12345678910111213141516171819202122232425262728function Person()&#123;&#125;Person.prototype.name = "Nicholas";Person.prototype.age = 29;Person.prototype.job = "Software Engineer";Person.prototype.sayName = function()&#123; alert(this.name);&#125;; var person1 = new Person();var person2 = new Person(); alert(person1.hasOwnProperty("name")); //falsealert("name" in person1); //true person1.name = "Greg";alert(person1.name); //"Greg" ‚Äî‚ÄîÊù•Ëá™ÂÆû‰æãalert(person1.hasOwnProperty("name")); //truealert("name" in person1); //true alert(person2.name); //"Nicholas" ‚Äî‚ÄîÊù•Ëá™ÂéüÂûãalert(person2.hasOwnProperty("name")); //falsealert("name" in person2); //true delete person1.name;alert(person1.name); //"Nicholas" ‚Äî‚ÄîÊù•Ëá™ÂéüÂûãalert(person1.hasOwnProperty("name")); //falsealert("name" in person1); //trueË¶ÅÂèñÂæóÂØπË±°‰∏äÊâÄÊúâÂèØÊûö‰∏æÁöÑÂÆû‰æãÂ±ûÊÄßÔºåÂèØ‰ª•‰ΩøÁî®ECMAScript 5 ÁöÑObject.keys()ÊñπÊ≥ï„ÄÇËøô‰∏™ÊñπÊ≥ïÊé•Êî∂‰∏Ä‰∏™ÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÊâÄÊúâÂèØÊûö‰∏æÂ±ûÊÄßÁöÑÂ≠óÁ¨¶‰∏≤Êï∞ÁªÑ„ÄÇ1234567891011121314151617function Person()&#123;&#125;Person.prototype.name = "Nicholas";Person.prototype.age = 29;Person.prototype.job = "Software Engineer";Person.prototype.sayName = function()&#123; alert(this.name);&#125;; var keys = Object.keys(Person.prototype);alert(keys); //"name,age,job,sayName" var p1 = new Person();p1.name = "Rob";p1.age = 31;var p1keys = Object.keys(p1);alert(p1keys); //"name,age"Â¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÂæóÂà∞ÊâÄÊúâÂÆû‰æãÂ±ûÊÄßÔºåÊó†ËÆ∫ÂÆÉÊòØÂê¶ÂèØÊûö‰∏æÔºåÈÉΩÂèØ‰ª•‰ΩøÁî®Object.getOwnPropertyNames()ÊñπÊ≥ï„ÄÇ12345678var keys = Object.getOwnPropertyNames(Person.prototype);alert(keys); //"constructor,name,age,job,sayName" var p1 = new Person();p1.name = "Rob";p1.age = 31;var p1keys = Object.getOwnPropertyNames(p1);alert(p1keys); //"name,age"ÊØè‰∏™ÂáΩÊï∞ÈÉΩÂåÖÂê´‰∏§‰∏™ÈùûÁªßÊâøËÄåÊù•ÁöÑÊñπÊ≥ïÔºöapply()Âíåcall()„ÄÇapply()Âíåcall()Ëøô‰∏§‰∏™ÊñπÊ≥ïÁöÑÁî®ÈÄîÈÉΩÊòØÂú®ÁâπÂÆöÁöÑ‰ΩúÁî®Âüü‰∏≠Ë∞ÉÁî®ÂáΩÊï∞ÔºåÂÆûÈôÖ‰∏äÁ≠â‰∫éËÆæÁΩÆÂáΩÊï∞‰ΩìÂÜÖthis ÂØπË±°ÁöÑÂÄº„ÄÇapply()ÊñπÊ≥ïÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÊòØÂú®ÂÖ∂‰∏≠ËøêË°åÂáΩÊï∞ÁöÑ‰ΩúÁî®ÂüüÔºåÂè¶‰∏Ä‰∏™ÊòØÂèÇÊï∞Êï∞ÁªÑ„ÄÇÂÖ∂‰∏≠ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂèØ‰ª•ÊòØArray ÁöÑÂÆû‰æãÔºå‰πüÂèØ‰ª•ÊòØargumentsÂØπË±°„ÄÇ‰æãÂ¶ÇÔºö1234567891011function sum(num1, num2)&#123; return num1 + num2;&#125;function callSum1(num1, num2)&#123; return sum.apply(this, arguments); // ‰º†ÂÖ•arguments ÂØπË±°&#125;function callSum2(num1, num2)&#123; return sum.apply(this, [num1, num2]); // ‰º†ÂÖ•Êï∞ÁªÑ&#125;alert(callSum1(10,10)); //20alert(callSum2(10,10)); //20Âú®ËøôÈáåÔºåthisÂ∞±Áõ∏ÂΩì‰∫éwindow„ÄÇÂØπ‰∫écall()ÊñπÊ≥ïËÄåË®ÄÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØthis ÂÄºÊ≤°ÊúâÂèòÂåñÔºåÂèòÂåñÁöÑÊòØÂÖ∂‰ΩôÂèÇÊï∞ÈÉΩÁõ¥Êé•‰º†ÈÄíÁªôÂáΩÊï∞„ÄÇ1234567function sum(num1, num2)&#123; return num1 + num2;&#125;function callSum(num1, num2)&#123; return sum.call(this, num1, num2);&#125;alert(callSum(10,10)); //20‰∫ãÂÆû‰∏äÔºå‰º†ÈÄíÂèÇÊï∞Âπ∂Èùûapply()Âíåcall()ÁúüÊ≠£ÁöÑÁî®Ê≠¶‰πãÂú∞ÔºõÂÆÉ‰ª¨ÁúüÊ≠£Âº∫Â§ßÁöÑÂú∞ÊñπÊòØËÉΩÂ§üÊâ©ÂÖÖÂáΩÊï∞Ëµñ‰ª•ËøêË°åÁöÑ‰ΩúÁî®Âüü„ÄÇ12345678910window.color = "red";var o = &#123; color: "blue" &#125;;function sayColor()&#123; alert(this.color);&#125; sayColor(); //redsayColor.call(this); //redsayColor.call(window); //redsayColor.call(o); //blueECMAScript 5 ËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÊñπÊ≥ïÔºöbind()„ÄÇËøô‰∏™ÊñπÊ≥ï‰ºöÂàõÂª∫‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÂÆû‰æãÔºåÂÖ∂this ÂÄº‰ºöË¢´ÁªëÂÆöÂà∞‰º†Áªôbind()ÂáΩÊï∞ÁöÑÂÄº„ÄÇ‰æãÂ¶ÇÔºö1234567window.color = "red";var o = &#123; color: "blue" &#125;;function sayColor()&#123; alert(this.color);&#125;var objectSayColor = sayColor.bind(o);objectSayColor(); //blue ‚Äã„ÄäJavaScriptÈ´òÁ∫ßÁ®ãÂ∫èËÆæËÆ°„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript CreateObject]]></title>
    <url>%2FJavaScript-CreateObject.html</url>
    <content type="text"><![CDATA[ÂàõÂª∫Ëá™ÂÆö‰πâÁ±ªÂûãÁöÑÊúÄÂ∏∏ËßÅÊñπÂºèÔºåÂ∞±ÊòØÁªÑÂêà‰ΩøÁî®ÊûÑÈÄ†ÂáΩÊï∞Ê®°Âºè‰∏éÂéüÂûãÊ®°Âºè„ÄÇÊûÑÈÄ†ÂáΩÊï∞Ê®°ÂºèÁî®‰∫éÂÆö‰πâÂÆû‰æãÂ±ûÊÄßÔºåËÄåÂéüÂûãÊ®°ÂºèÁî®‰∫éÂÆö‰πâÊñπÊ≥ïÂíåÂÖ±‰∫´ÁöÑÂ±ûÊÄß„ÄÇÁªìÊûúÔºåÊØè‰∏™ÂÆû‰æãÈÉΩ‰ºöÊúâËá™Â∑±ÁöÑ‰∏Ä‰ªΩÂÆû‰æãÂ±ûÊÄßÁöÑÂâØÊú¨Ôºå‰ΩÜÂêåÊó∂ÂèàÂÖ±‰∫´ÁùÄÂØπÊñπÊ≥ïÁöÑÂºïÁî®ÔºåÊúÄÂ§ßÈôêÂ∫¶Âú∞ËäÇÁúÅ‰∫ÜÂÜÖÂ≠ò„ÄÇÂè¶Â§ñÔºåËøôÁßçÊ∑∑ÊàêÊ®°ÂºèËøòÊîØÊåÅÂêëÊûÑÈÄ†ÂáΩÊï∞‰º†ÈÄíÂèÇÊï∞„ÄÇÂ¶ÇÔºö123456789101112131415161718function Person(name, age, job)&#123; this.name = name; this.age = age; this.job = job; this.friends = ["Shelby", "Court"];&#125;Person.prototype = &#123; constructor : Person, sayName : function()&#123; return this.name; &#125;&#125;var person1 = new Person("Nicholas", 29, "Software Engineer");var person2 = new Person("Greg", 27, "Doctor");alert(person1.friends); //"Shelby,Count"alert(person2.friends); //"Shelby,Count"alert(person1.friends === person2.friends); //falsealert(person1.sayName === person2.sayName); //trueÂú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÂÆû‰æãÂ±ûÊÄßÈÉΩÊòØÂú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂÆö‰πâÁöÑÔºåËÄåÁî±ÊâÄÊúâÂÆû‰æãÂÖ±‰∫´ÁöÑÂ±ûÊÄßconstructor ÂíåÊñπÊ≥ïsayName()ÂàôÊòØÂú®ÂéüÂûã‰∏≠ÂÆö‰πâÁöÑ„ÄÇËÄå‰øÆÊîπ‰∫Üperson1.friendsÔºàÂêëÂÖ∂‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Êñ∞Â≠óÁ¨¶‰∏≤ÔºâÔºåÂπ∂‰∏ç‰ºöÂΩ±ÂìçÂà∞person2.friendsÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÂàÜÂà´ÂºïÁî®‰∫Ü‰∏çÂêåÁöÑÊï∞ÁªÑ„ÄÇ ËøôÁßçÊûÑÈÄ†ÂáΩÊï∞‰∏éÂéüÂûãÊ∑∑ÊàêÁöÑÊ®°ÂºèÔºåÊòØÁõÆÂâçÂú®ECMAScript ‰∏≠‰ΩøÁî®ÊúÄÂπøÊ≥õ„ÄÅËÆ§ÂêåÂ∫¶ÊúÄÈ´òÁöÑ‰∏ÄÁßçÂàõÂª∫Ëá™ÂÆö‰πâÁ±ªÂûãÁöÑÊñπÊ≥ï„ÄÇ„ÄäJavaScriptÈ´òÁ∫ßÁ®ãÂ∫èËÆæËÆ°„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript ArrayÁ±ªÂûã]]></title>
    <url>%2FJavaScript-Array%E7%B1%BB%E5%9E%8B.html</url>
    <content type="text"><![CDATA[Ê£ÄÊµãÊï∞ÁªÑECMAScript 5 Êñ∞Â¢û‰∫ÜArray.isArray()ÊñπÊ≥ï„ÄÇËøô‰∏™ÊñπÊ≥ïÁöÑÁõÆÁöÑÊòØÊúÄÁªàÁ°ÆÂÆöÊüê‰∏™ÂÄºÂà∞Â∫ïÊòØ‰∏çÊòØÊï∞ÁªÑ„ÄÇ123if (Array.isArray(value))&#123; //ÂØπÊï∞ÁªÑÊâßË°åÊüê‰∫õÊìç‰Ωú&#125;ËΩ¨Êç¢ÊñπÊ≥ïÊâÄÊúâÂØπË±°ÈÉΩÂÖ∑ÊúâtoLocaleString()„ÄÅtoString()ÂíåvalueOf()ÊñπÊ≥ï„ÄÇÂÖ∂‰∏≠ÔºåË∞ÉÁî®Êï∞ÁªÑÁöÑtoString()ÊñπÊ≥ï‰ºöËøîÂõûÁî±Êï∞ÁªÑ‰∏≠ÊØè‰∏™ÂÄºÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÊãºÊé•ËÄåÊàêÁöÑ‰∏Ä‰∏™‰ª•ÈÄóÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇËÄå Ë∞ÉÁî®valueOf()ËøîÂõûÁöÑËøòÊòØÊï∞ÁªÑ„ÄÇ1234var colors = ["red", "blue", "green"]; // ÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´3 ‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÊï∞ÁªÑalert(colors.toString()); // red,blue,greenalert(colors.valueOf()); // red,blue,greenalert(colors); // red,blue,greenÊúÄÂêé‰∏ÄË°å‰ª£Á†ÅÁõ¥Êé•Â∞ÜÊï∞ÁªÑ‰º†ÈÄíÁªô‰∫Üalert()„ÄÇÁî±‰∫éalert()Ë¶ÅÊé•Êî∂Â≠óÁ¨¶‰∏≤ÂèÇÊï∞ÔºåÊâÄ‰ª•ÂÆÉ‰ºöÂú®ÂêéÂè∞Ë∞ÉÁî®toString()ÊñπÊ≥ïÔºåÁî±Ê≠§‰ºöÂæóÂà∞‰∏éÁõ¥Êé•Ë∞ÉtoString()ÊñπÊ≥ïÁõ∏ÂêåÁöÑÁªìÊûú„ÄÇjoin()ÊñπÊ≥ïÂè™Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂç≥Áî®‰ΩúÂàÜÈöîÁ¨¶ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéËøîÂõûÂåÖÂê´ÊâÄÊúâÊï∞ÁªÑÈ°πÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ123var colors = ["red", "green", "blue"];alert(colors.join(",")); //red,green,bluealert(colors.join("||")); //red||green||blueÊ†àÊñπÊ≥ïÊ†àÊòØ‰∏ÄÁßçLIFOÔºàLast-In-First-OutÔºåÂêéËøõÂÖàÂá∫ÔºâÁöÑÊï∞ÊçÆÁªìÊûÑÔºå‰πüÂ∞±ÊòØÊúÄÊñ∞Ê∑ªÂä†ÁöÑÈ°πÊúÄÊó©Ë¢´ÁßªÈô§„ÄÇËÄåÊ†à‰∏≠È°πÁöÑÊèíÂÖ•ÔºàÂè´ÂÅöÊé®ÂÖ•ÔºâÂíåÁßªÈô§ÔºàÂè´ÂÅöÂºπÂá∫ÔºâÔºåÂè™ÂèëÁîüÂú®‰∏Ä‰∏™‰ΩçÁΩÆ‚Äî‚ÄîÊ†àÁöÑÈ°∂ÈÉ®„ÄÇECMAScript ‰∏∫Êï∞ÁªÑ‰∏ìÈó®Êèê‰æõ‰∫Üpush()Âíåpop()ÊñπÊ≥ïÔºå‰ª•‰æøÂÆûÁé∞Á±ª‰ººÊ†àÁöÑË°å‰∏∫„ÄÇpush()ÊñπÊ≥ïÂèØ‰ª•Êé•Êî∂‰ªªÊÑèÊï∞ÈáèÁöÑÂèÇÊï∞ÔºåÊääÂÆÉ‰ª¨ÈÄê‰∏™Ê∑ªÂä†Âà∞Êï∞ÁªÑÊú´Â∞æÔºåÂπ∂ËøîÂõû‰øÆÊîπÂêéÊï∞ÁªÑÁöÑÈïøÂ∫¶„ÄÇËÄåpop()ÊñπÊ≥ïÂàô‰ªéÊï∞ÁªÑÊú´Â∞æÁßªÈô§ÊúÄÂêé‰∏ÄÈ°πÔºåÂáèÂ∞ëÊï∞ÁªÑÁöÑlengthÂÄºÔºåÁÑ∂ÂêéËøîÂõûÁßªÈô§ÁöÑÈ°π„ÄÇ12345678var colors = new Array(); // ÂàõÂª∫‰∏Ä‰∏™Êï∞ÁªÑvar count = colors.push("red", "green"); // Êé®ÂÖ•‰∏§È°πalert(count); //2count = colors.push("black"); // Êé®ÂÖ•Âè¶‰∏ÄÈ°πalert(count); //3var item = colors.pop(); // ÂèñÂæóÊúÄÂêé‰∏ÄÈ°πalert(item); //"black"alert(colors.length); //2ÈòüÂàóÊñπÊ≥ïÈòüÂàóÊï∞ÊçÆÁªìÊûÑÁöÑËÆøÈóÆËßÑÂàôÊòØFIFOÔºàFirst-In-First-OutÔºå ÂÖàËøõÂÖàÂá∫Ôºâ„ÄÇÈòüÂàóÂú®ÂàóË°®ÁöÑÊú´Á´ØÊ∑ªÂä†È°πÔºå‰ªéÂàóË°®ÁöÑÂâçÁ´ØÁßªÈô§È°π„ÄÇshift()ÊñπÊ≥ïÁßªÈô§Êï∞ÁªÑ‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™È°πÂπ∂ËøîÂõûËØ•È°πÔºåÂêåÊó∂Â∞ÜÊï∞ÁªÑÈïøÂ∫¶Âáè1„ÄÇ12345678var colors = new Array(); //ÂàõÂª∫‰∏Ä‰∏™Êï∞ÁªÑvar count = colors.push("red", "green"); //Êé®ÂÖ•‰∏§È°πalert(count); //2count = colors.push("black"); //Êé®ÂÖ•Âè¶‰∏ÄÈ°πalert(count); //3var item = colors.shift(); //ÂèñÂæóÁ¨¨‰∏ÄÈ°πalert(item); //"red"alert(colors.length); //2ECMAScript Ëøò‰∏∫Êï∞ÁªÑÊèê‰æõ‰∫Ü‰∏Ä‰∏™unshift()ÊñπÊ≥ï„ÄÇÈ°æÂêçÊÄù‰πâÔºåunshift()‰∏éshift()ÁöÑÁî®ÈÄîÁõ∏ÂèçÔºöÂÆÉËÉΩÂú®Êï∞ÁªÑÂâçÁ´ØÊ∑ªÂä†‰ªªÊÑè‰∏™È°πÂπ∂ËøîÂõûÊñ∞Êï∞ÁªÑÁöÑÈïøÂ∫¶„ÄÇ12345var colors = new Array(); //ÂàõÂª∫‰∏Ä‰∏™Êï∞ÁªÑvar count = colors.unshift("red", "green"); //Êé®ÂÖ•‰∏§È°πalert(count); //2count = colors.unshift("black"); //Êé®ÂÖ•Âè¶‰∏ÄÈ°πalert(count); //3ÈáçÊéíÂ∫èÊñπÊ≥ïÊï∞ÁªÑ‰∏≠Â∑≤ÁªèÂ≠òÂú®‰∏§‰∏™ÂèØ‰ª•Áõ¥Êé•Áî®Êù•ÈáçÊéíÂ∫èÁöÑÊñπÊ≥ïÔºöreverse()Âíåsort()„ÄÇreverse()ÊñπÊ≥ï‰ºöÂèçËΩ¨Êï∞ÁªÑÈ°πÁöÑÈ°∫Â∫è„ÄÇ123var values = [1, 2, 3, 4, 5];values.reverse();alert(values); //5,4,3,2,1sort()ÊñπÊ≥ïÊåâÂçáÂ∫èÊéíÂàóÊï∞ÁªÑÈ°π‚Äî‚ÄîÂç≥ÊúÄÂ∞èÁöÑÂÄº‰Ωç‰∫éÊúÄÂâçÈù¢ÔºåÊúÄÂ§ßÁöÑÂÄºÊéíÂú®ÊúÄÂêéÈù¢„ÄÇ‰∏∫‰∫ÜÂÆûÁé∞ÊéíÂ∫èÔºåsort()ÊñπÊ≥ï‰ºöË∞ÉÁî®ÊØè‰∏™Êï∞ÁªÑÈ°πÁöÑtoString()ËΩ¨ÂûãÊñπÊ≥ïÔºåÁÑ∂ÂêéÊØîËæÉÂæóÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤Ôºå‰ª•Á°ÆÂÆöÂ¶Ç‰ΩïÊéíÂ∫è„ÄÇ123var values = [0, 1, 5, 10, 15];values.sort();alert(values); //0,1,10,15,5sort()ÊñπÊ≥ïËøòÂèØ‰ª•Êé•Êî∂‰∏Ä‰∏™ÊØîËæÉÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰ª•‰æøÊàë‰ª¨ÊåáÂÆöÂì™‰∏™ÂÄº‰Ωç‰∫éÂì™‰∏™ÂÄºÁöÑÂâçÈù¢„ÄÇ123456function compare(value1, value2)&#123; return value2 - value1;&#125;var values = [0, 1, 5, 10, 15];values.sort(compare);alert(values); // 15,10,5,1,0Êìç‰ΩúÊñπÊ≥ïconcat()ÊñπÊ≥ïÂèØ‰ª•Âü∫‰∫éÂΩìÂâçÊï∞ÁªÑ‰∏≠ÁöÑÊâÄÊúâÈ°πÂàõÂª∫‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ„ÄÇËøô‰∏™ÊñπÊ≥ï‰ºöÂÖàÂàõÂª∫ÂΩìÂâçÊï∞ÁªÑ‰∏Ä‰∏™ÂâØÊú¨ÔºåÁÑ∂ÂêéÂ∞ÜÊé•Êî∂Âà∞ÁöÑÂèÇÊï∞Ê∑ªÂä†Âà∞Ëøô‰∏™ÂâØÊú¨ÁöÑÊú´Â∞æÔºåÊúÄÂêéËøîÂõûÊñ∞ÊûÑÂª∫ÁöÑÊï∞ÁªÑ„ÄÇÂú®Ê≤°ÊúâÁªôconcat()ÊñπÊ≥ï‰º†ÈÄíÂèÇÊï∞ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÆÉÂè™ÊòØÂ§çÂà∂ÂΩìÂâçÊï∞ÁªÑÂπ∂ËøîÂõûÂâØÊú¨„ÄÇÂ¶ÇÊûú‰º†ÈÄíÁªôconcat()ÊñπÊ≥ïÁöÑÊòØ‰∏ÄÊàñÂ§ö‰∏™Êï∞ÁªÑÔºåÂàôËØ•ÊñπÊ≥ï‰ºöÂ∞ÜËøô‰∫õÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏ÄÈ°πÈÉΩÊ∑ªÂä†Âà∞ÁªìÊûúÊï∞ÁªÑ‰∏≠„ÄÇÂ¶ÇÊûú‰º†ÈÄíÁöÑÂÄº‰∏çÊòØÊï∞ÁªÑÔºåËøô‰∫õÂÄºÂ∞±‰ºöË¢´ÁÆÄÂçïÂú∞Ê∑ªÂä†Âà∞ÁªìÊûúÊï∞ÁªÑÁöÑÊú´Â∞æ„ÄÇ1234var colors = ["red", "green", "blue"];var colors2 = colors.concat("yellow", ["black", "brown"]);alert(colors); //red,green,bluealert(colors2); //red,green,blue,yellow,black,brownslice()ÊñπÊ≥ïÂèØ‰ª•Êé•Âèó‰∏ÄÊàñ‰∏§‰∏™ÂèÇÊï∞ÔºåÂç≥Ë¶ÅËøîÂõûÈ°πÁöÑËµ∑ÂßãÂíåÁªìÊùü‰ΩçÁΩÆ„ÄÇÂú®Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÊÉÖÂÜµ‰∏ãÔºåslice()ÊñπÊ≥ïËøîÂõû‰ªéËØ•ÂèÇÊï∞ÊåáÂÆö‰ΩçÁΩÆÂºÄÂßãÂà∞ÂΩìÂâçÊï∞ÁªÑÊú´Â∞æÁöÑÊâÄÊúâÈ°π„ÄÇÂ¶ÇÊûúÊúâ‰∏§‰∏™ÂèÇÊï∞ÔºåËØ•ÊñπÊ≥ïËøîÂõûËµ∑ÂßãÂíåÁªìÊùü‰ΩçÁΩÆ‰πãÈó¥ÁöÑÈ°π‚Äî‚Äî‰ΩÜ‰∏çÂåÖÊã¨ÁªìÊùü‰ΩçÁΩÆÁöÑÈ°π„ÄÇ12345var colors = ["red", "green", "blue", "yellow", "purple"];var colors2 = colors.slice(1);var colors3 = colors.slice(1,4);alert(colors2); //green,blue,yellow,purplealert(colors3); //green,blue,yellowsplice()ÊñπÊ≥ïÔºö12345678910var colors = ["red", "green", "blue"];var removed = colors.splice(0,1); // Âà†Èô§Á¨¨‰∏ÄÈ°πalert(colors); // green,bluealert(removed); // redÔºåËøîÂõûÁöÑÊï∞ÁªÑ‰∏≠Âè™ÂåÖÂê´‰∏ÄÈ°πremoved = colors.splice(1, 0, "yellow", "orange"); // ‰ªé‰ΩçÁΩÆ1 ÂºÄÂßãÊèíÂÖ•‰∏§È°πalert(colors); // green,yellow,orange,bluealert(removed); // ËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Á©∫Êï∞ÁªÑremoved = colors.splice(1, 1, "red", "purple"); // ÊèíÂÖ•‰∏§È°πÔºåÂà†Èô§‰∏ÄÈ°πalert(colors); // green,red,purple,orange,bluealert(removed); // yellowÔºåËøîÂõûÁöÑÊï∞ÁªÑ‰∏≠Âè™ÂåÖÂê´‰∏ÄÈ°π‰ΩçÁΩÆÊñπÊ≥ïECMAScript 5 ‰∏∫Êï∞ÁªÑÂÆû‰æãÊ∑ªÂä†‰∫Ü‰∏§‰∏™‰ΩçÁΩÆÊñπÊ≥ïÔºöindexOf()ÂíålastIndexOf()„ÄÇËøô‰∏§‰∏™ÊñπÊ≥ïÈÉΩÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöË¶ÅÊü•ÊâæÁöÑÈ°πÂíåÔºàÂèØÈÄâÁöÑÔºâË°®Á§∫Êü•ÊâæËµ∑ÁÇπ‰ΩçÁΩÆÁöÑÁ¥¢Âºï„ÄÇÂÖ∂‰∏≠ÔºåindexOf()ÊñπÊ≥ï‰ªéÊï∞ÁªÑÁöÑÂºÄÂ§¥Ôºà‰ΩçÁΩÆ0ÔºâÂºÄÂßãÂêëÂêéÊü•ÊâæÔºålastIndexOf()ÊñπÊ≥ïÂàô‰ªéÊï∞ÁªÑÁöÑÊú´Â∞æÂºÄÂßãÂêëÂâçÊü•Êâæ„ÄÇÊ≤°ÊúâÊâæÂà∞ËøîÂõû-1„ÄÇ12345var numbers = [1,2,3,4,5,4,3,2,1];alert(numbers.indexOf(4)); //3alert(numbers.lastIndexOf(4)); //5alert(numbers.indexOf(4, 4)); //5alert(numbers.lastIndexOf(4, 4)); //3Ëø≠‰ª£ÊñπÊ≥ïevery()ÔºöÂØπÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏ÄÈ°πËøêË°åÁªôÂÆöÂáΩÊï∞ÔºåÂ¶ÇÊûúËØ•ÂáΩÊï∞ÂØπÊØè‰∏ÄÈ°πÈÉΩËøîÂõûtrueÔºåÂàôËøîÂõûtrue„ÄÇfilter()ÔºöÂØπÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏ÄÈ°πËøêË°åÁªôÂÆöÂáΩÊï∞ÔºåËøîÂõûËØ•ÂáΩÊï∞‰ºöËøîÂõûtrue ÁöÑÈ°πÁªÑÊàêÁöÑÊï∞ÁªÑ„ÄÇforEach()ÔºöÂØπÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏ÄÈ°πËøêË°åÁªôÂÆöÂáΩÊï∞„ÄÇËøô‰∏™ÊñπÊ≥ïÊ≤°ÊúâËøîÂõûÂÄº„ÄÇmap()ÔºöÂØπÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏ÄÈ°πËøêË°åÁªôÂÆöÂáΩÊï∞ÔºåËøîÂõûÊØèÊ¨°ÂáΩÊï∞Ë∞ÉÁî®ÁöÑÁªìÊûúÁªÑÊàêÁöÑÊï∞ÁªÑ„ÄÇsome()ÔºöÂØπÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏ÄÈ°πËøêË°åÁªôÂÆöÂáΩÊï∞ÔºåÂ¶ÇÊûúËØ•ÂáΩÊï∞ÂØπ‰ªª‰∏ÄÈ°πËøîÂõûtrueÔºåÂàôËøîÂõûtrue„ÄÇ‰ª•‰∏äÊñπÊ≥ïÈÉΩ‰∏ç‰ºö‰øÆÊîπÊï∞ÁªÑ‰∏≠ÁöÑÂåÖÂê´ÁöÑÂÄº„ÄÇ123456789var numbers = [1,2,3,4,5,4,3,2,1];var everyResult = numbers.every(function(item, index, array)&#123; return (item &gt; 2);&#125;);alert(everyResult); //falsevar someResult = numbers.some(function(item, index, array)&#123; return (item &gt; 2);&#125;);alert(someResult); //true‰ª•‰∏ä‰ª£Á†ÅË∞ÉÁî®‰∫Üevery()Âíåsome()Ôºå‰º†ÂÖ•ÁöÑÂáΩÊï∞Âè™Ë¶ÅÁªôÂÆöÈ°πÂ§ß‰∫é2 Â∞±‰ºöËøîÂõûtrue„ÄÇÂØπ‰∫éevery()ÔºåÂÆÉËøîÂõûÁöÑÊòØfalseÔºåÂõ†‰∏∫Âè™ÊúâÈÉ®ÂàÜÊï∞ÁªÑÈ°πÁ¨¶ÂêàÊù°‰ª∂„ÄÇÂØπ‰∫ésome()ÔºåÁªìÊûúÂ∞±ÊòØtrueÔºåÂõ†‰∏∫Ëá≥Â∞ëÊúâ‰∏ÄÈ°πÊòØÂ§ß‰∫é2 ÁöÑ„ÄÇfilter()ÂáΩÊï∞Ôºö12345var numbers = [1,2,3,4,5,4,3,2,1];var filterResult = numbers.filter(function(item, index, array)&#123; return (item &gt; 2);&#125;);alert(filterResult); //[3,4,5,4,3]map()‰πüËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåËÄåËøô‰∏™Êï∞ÁªÑÁöÑÊØè‰∏ÄÈ°πÈÉΩÊòØÂú®ÂéüÂßãÊï∞ÁªÑ‰∏≠ÁöÑÂØπÂ∫îÈ°π‰∏äËøêË°å‰º†ÂÖ•ÂáΩÊï∞ÁöÑÁªìÊûú„ÄÇ‰æãÂ¶ÇÔºåÂèØ‰ª•ÁªôÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏ÄÈ°π‰πò‰ª•2ÔºåÁÑ∂ÂêéËøîÂõûËøô‰∫õ‰πòÁßØÁªÑÊàêÁöÑÊï∞ÁªÑÔºö12345var numbers = [1,2,3,4,5,4,3,2,1];var mapResult = numbers.map(function(item, index, array)&#123; return item * 2;&#125;);alert(mapResult); //[2,4,6,8,10,8,6,4,2]forEach()Áî®‰∫éËø≠‰ª£Êï∞ÁªÑÔºö1234var numbers = [1,2,3,4,5,4,3,2,1];numbers.forEach(function(item, index, array)&#123; //ÊâßË°åÊüê‰∫õÊìç‰Ωú&#125;);ÂΩíÂπ∂ÊñπÊ≥ï‰ΩøÁî®reduce()ÊñπÊ≥ïÂèØ‰ª•ÊâßË°åÊ±ÇÊï∞ÁªÑ‰∏≠ÊâÄÊúâÂÄº‰πãÂíåÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇÔºö12345var values = [1,2,3,4,5];var sum = values.reduce(function(prev, cur, index, array)&#123; return prev + cur;&#125;);alert(sum); //15Á¨¨‰∏ÄÊ¨°ÊâßË°åÂõûË∞ÉÂáΩÊï∞Ôºåprev ÊòØ1Ôºåcur ÊòØ2„ÄÇÁ¨¨‰∫åÊ¨°Ôºåprev ÊòØ3Ôºà1 Âä†2 ÁöÑÁªìÊûúÔºâÔºåcur ÊòØ3ÔºàÊï∞ÁªÑÁöÑÁ¨¨‰∏âÈ°πÔºâ„ÄÇËøô‰∏™ËøáÁ®ã‰ºöÊåÅÁª≠Âà∞ÊääÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏ÄÈ°πÈÉΩËÆøÈóÆ‰∏ÄÈÅçÔºåÊúÄÂêéËøîÂõûÁªìÊûú„ÄÇ reduceRight()ÁöÑ‰ΩúÁî®Á±ª‰ººÔºåÂè™‰∏çËøáÊñπÂêëÁõ∏ÂèçËÄåÂ∑≤Ôºö12345var values = [1,2,3,4,5];var sum = values.reduceRight(function(prev, cur, index, array)&#123; return prev + cur;&#125;);alert(sum); //15Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÁ¨¨‰∏ÄÊ¨°ÊâßË°åÂõûË∞ÉÂáΩÊï∞Ôºåprev ÊòØ5Ôºåcur ÊòØ4„ÄÇÂΩìÁÑ∂ÔºåÊúÄÁªàÁªìÊûúÁõ∏ÂêåÔºåÂõ†‰∏∫ÊâßË°åÁöÑÈÉΩÊòØÁÆÄÂçïÁõ∏Âä†ÁöÑÊìç‰Ωú„ÄÇ‰ΩøÁî®reduce()ËøòÊòØreduceRight()Ôºå‰∏ªË¶ÅÂèñÂÜ≥‰∫éË¶Å‰ªéÂì™Â§¥ÂºÄÂßãÈÅçÂéÜÊï∞ÁªÑ„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÂÆÉ‰ª¨ÂÆåÂÖ®Áõ∏Âêå„ÄÇÊûÅÂÄº12var values = [1, 2, 3, 4, 5, 6, 7, 8];var max = Math.max.apply(Math, values); //8„ÄäJavaScriptÈ´òÁ∫ßÁ®ãÂ∫èËÆæËÆ°„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSP Ê†áÁ≠æÊñá‰ª∂]]></title>
    <url>%2FJSP-%E6%A0%87%E7%AD%BE%E6%96%87%E4%BB%B6.html</url>
    <content type="text"><![CDATA[ÂÆöÂà∂JSPÊ†áÁ≠æÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∫õJSTLÂíåELÊ≤°ÊúâÊèê‰æõÁöÑÂäüËÉΩÔºåÂü∫Êú¨Ê≠•È™§Â∞±ÊòØÁºñÂÜôÊ†áÁ≠æÂ§ÑÁêÜÂô®ÁÑ∂ÂêéÊ≥®ÂÜåÊ†áÁ≠æ„ÄÇ‰ªéJSP2.0‰ª•ÂêéÔºåÂèØ‰ª•Áõ¥Êé•ÁºñÂÜôÊ†áÁ≠æÊñá‰ª∂Ôºà.tagÔºâÊù•‰ª£ÊõøÂÆöÂà∂JSPÊ†áÁ≠æ„ÄÇÁõ∏ÊØîÂÆöÂà∂JSPÊ†áÁ≠æÔºåÊ†áÁ≠æÊñá‰ª∂Êó†ÈúÄÁºñÂÜôJava‰ª£Á†ÅÔºåÊó†ÈúÄÊ≥®ÂÜåÊ†áÁ≠æÔºåÂè™ÈúÄË¶ÅÂú®tagÊñá‰ª∂‰∏≠ÂÜô‰ª£Á†ÅÈÄªËæëÂç≥ÂèØ„ÄÇ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºöÂú®WEB-INF‰∏ãÂàõÂª∫tagsÊñá‰ª∂Â§πÔºåÁÑ∂ÂêéÂú®ÈáåÈù¢Êñ∞Âª∫‰∏Ä‰∏™firstTag.tagÊñá‰ª∂Ôºö123456&lt;%@tag import="java.util.Date"%&gt;&lt;%@tag import="java.text.SimpleDateFormat"%&gt;&lt;% SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd"); out.print(sdf.format(new Date()));%&gt;ÁÑ∂ÂêéÂú®firstTagTest.jspÈ°µÈù¢‰∏≠‰ΩøÁî®ÂÆÉÔºö12&lt;%@ taglib prefix="mt" tagdir="/WEB-INF/tags"%&gt;Today is:&lt;mt:firstTag/&gt;ÈÉ®ÁΩ≤Âà∞Tomcat‰∏≠ÔºåÂêØÂä®ÊúçÂä°ÔºåËÆøÈóÆËØ•jspÔºåÈ°µÈù¢ÊòæÁ§∫ÔºöThat‚Äô all.Ê†áÁ≠æÊñá‰ª∂‰∏≠ÁöÑÈöêÂºèÂØπË±°ÔºöÂØπË±°Á±ªÂûãrequestjavax.servlet.http.HttpServletRequestresponsejavax.servlet.http.HttpServletResponseoutjavax.servlet.jsp.JspWritersessionjavax.servlet.http.HttpSessionapplicationjavax.servlet.ServletContextconfigjavax.servlet.ServletConfigjspContextjavax.servlet.jsp.JspContextÂíåJspÁöÑÈöêÂºèÂØπË±°Á±ª‰ºº„ÄÇÊ†áÁ≠æÊñá‰ª∂Êåá‰ª§tagÊåá‰ª§tagÊåá‰ª§Â∏∏Áî®Â±ûÊÄßÔºöÂ±ûÊÄßÊèèËø∞display-nameÈÄöËøáXMLÂ∑•ÂÖ∑ÊòæÁ§∫ÁöÑÁÆÄÁß∞ÔºåÈªòËÆ§‰∏∫Ê†áÁ≠æÂêçbody-contentÊ†áÁ≠æ‰∏ª‰ΩìÂÜÖÂÆπÁöÑ‰ø°ÊÅØÔºåÂèØ‰ª•‰∏∫emptyÔºåtagdependentÊàñscriptlessÔºàÈªòËÆ§ÔºâimportÂØºÂÖ•JavaÁ±ªÂûãpageEncodingÊåáÂÆöÁºñÁ†ÅisELIgnoredsÊòØÂê¶‰ΩøÁî®ELË°®ËææÂºèincludeÊåá‰ª§ËØ•Êåá‰ª§ÂèØ‰ª•ÂºïÂÖ•ÈùôÊÄÅÊñá‰ª∂ÔºàHTMLÊñá‰ª∂ÔºâÊàñÂä®ÊÄÅÊñá‰ª∂ÔºàÂè¶‰∏Ä‰∏™Ê†áÁ≠æÊñá‰ª∂Ôºâ„ÄÇÂ¶ÇÊúâÈùôÊÄÅHTMLÊñá‰ª∂included.htmlÔºö123456789101112131415161718192021222324252627282930313233343536&lt;table border=1&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td style="text-align: center;"&gt;&lt;strong&gt;object&lt;/strong&gt;&lt;/td&gt; &lt;td style="text-align: center;"&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;request&lt;/td&gt; &lt;td&gt;javax.servlet.http.HttpServletRequest&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;response&lt;/td&gt; &lt;td&gt;javax.servlet.http.HttpServletResponse&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;out&lt;/td&gt; &lt;td&gt;javax.servlet.jsp.JspWriter&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;session&lt;/td&gt; &lt;td&gt;javax.servlet.http.HttpSession&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;application&lt;/td&gt; &lt;td&gt;javax.servlet.ServletContext&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;config&lt;/td&gt; &lt;td&gt;javax.servlet.ServletConfig&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;jspContext&lt;/td&gt; &lt;td&gt;javax.servlet.jsp.JspContext&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;included.tagÊñá‰ª∂Ôºö1234&lt;%@tag pageEncoding="utf-8" %&gt;&lt;% out.print("ÂíåJspÁöÑÈöêÂºèÂØπË±°Á±ª‰ºº„ÄÇ");%&gt;Âú®include.tagÊ†áÁ≠æ‰∏≠ÂºïÁî®included.htmlÂíåincluded.tagÔºö1234&lt;%@tag pageEncoding="utf-8"%&gt;Ê†áÁ≠æÊñá‰ª∂‰∏≠ÁöÑÈöêÂºèÂØπË±°Ôºö&lt;/br&gt;&lt;/br&gt;&lt;%@include file="/WEB-INF/tags/included.html"%&gt;&lt;/br&gt;&lt;%@include file="/WEB-INF/tags/included.tag"%&gt;Âú®jspÈ°µÈù¢‰∏≠ÊµãËØïÔºö123&lt;%@taglib prefix="mt" tagdir="/WEB-INF/tags" %&gt;&lt;%@page pageEncoding="utf-8" %&gt;&lt;mt:include/&gt;ÂêØÂä®ËÆøÈóÆÔºåÈ°µÈù¢ÊòæÁ§∫ÔºötaglibÊåá‰ª§ËØ•Êåá‰ª§ÁöÑ‰ΩúÁî®Â∞±ÊòØÂú®‰∏Ä‰∏™Ê†áÁ≠æÊñá‰ª∂‰∏≠‰ΩøÁî®Âè¶Â§ñ‰∏Ä‰∏™Ê†áÁ≠æÔºåÂ¶ÇÁé∞ÊúâtaglibDemo.tagÔºö12&lt;%@ taglib prefix="mt" tagdir="/WEB-INF/tags" %&gt;Today's date : &lt;mt:firstTag/&gt;ËØ•Ê†áÁ≠æË∞ÉÁî®‰∫ÜÁ¨¨‰∏Ä‰∏™‰æãÂ≠ê‰∏≠ÂàõÂª∫ÁöÑfirstTagÊ†áÁ≠æ„ÄÇattributeÊåá‰ª§ËØ•Êåá‰ª§Âú®Ê†áÁ≠æ‰∏≠‰ΩøÁî®Â±ûÊÄßÔºåattributeÂ∏∏Áî®ÁöÑÂ±ûÊÄßÊúâÔºöÂ±ûÊÄßÊèèËø∞nameÂ±ûÊÄßÂêçrequiredÊòØÂê¶ÂºèÂøÖÈ°ªÁöÑÔºåÈªòËÆ§‰∏∫falsetype&nbsp;&nbsp;&nbsp;&nbsp;Á±ªÂûãÔºåÈªòËÆ§‰∏∫StringÁºñÂÜô‰∏Ä‰∏™Êó∂Èó¥Ê†ºÂºèÂåñÊ†áÁ≠æformatDate.tagÔºö1234567&lt;%@tag import="java.util.Date"%&gt;&lt;%@tag import="java.text.SimpleDateFormat"%&gt;&lt;%@ attribute name="fmt" required="true"%&gt;&lt;% SimpleDateFormat sdf = new SimpleDateFormat(fmt); out.print(sdf.format(new Date()));%&gt;jsp‰∏≠ÊµãËØïÔºö123&lt;%@ taglib prefix="mt" tagdir="/WEB-INF/tags" %&gt;&lt;mt:dateFormat fmt="yyyy-MM-dd HH:mm:ss"/&gt;&lt;/br&gt;&lt;mt:dateFormat fmt="yyyyMMdd"/&gt;È°µÈù¢ÊòæÁ§∫ÔºövariableÊåá‰ª§Áî®‰∫éÂÆö‰πâÊ†áÁ≠æÊñá‰ª∂ÁöÑÂèòÈáèÔºåÂ∏∏Áî®ÁöÑÂ±ûÊÄßÊúâÔºöÂ±ûÊÄßÊèèËø∞name-givenÂèòÈáèÂêçscopeËåÉÂõ¥descriptionÊèèËø∞Â¶Ç‰∏ãÊ†áÁ≠æÔºåÂÆÉÊúâ‰∏§‰∏™ÂèòÈáèÔºölongDateÂíåshortDateÔºö123456789101112&lt;%@tag import="java.text.SimpleDateFormat"%&gt;&lt;%@tag import="java.util.Date"%&gt;&lt;%@ variable name-given="longDate" %&gt;&lt;%@ variable name-given="shortDate" %&gt;&lt;% Date date = new Date(); SimpleDateFormat longFormat = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss"); SimpleDateFormat shortFormat = new SimpleDateFormat("yyyy-MM-dd"); jspContext.setAttribute("longDate", longFormat.format(date)); jspContext.setAttribute("shortDate", shortFormat.format(date));%&gt;&lt;jsp:doBody/&gt;jspÈ°µÈù¢ÂºïÁî®Ôºö12345678&lt;%@ taglib prefix="tags" tagdir="/WEB-INF/tags" %&gt;Today's date:&lt;br/&gt;&lt;tags:varDemo&gt;In long format: $&#123;longDate&#125;&lt;br/&gt;In short format: $&#123;shortDate&#125;&lt;/tags:varDemo&gt;ÊµãËØïÔºåÈ°µÈù¢ÊòæÁ§∫Ôºö]]></content>
      <tags>
        <tag>servlet&amp;jsp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IO Stream]]></title>
    <url>%2FIO-Stream.html</url>
    <content type="text"><![CDATA[Êàë‰ª¨ÁºñÂÜôÁöÑÁ®ãÂ∫èÈô§‰∫ÜËá™Ë∫´‰ºöÂÆö‰πâ‰∏Ä‰∫õÊï∞ÊçÆ‰ø°ÊÅØÂ§ñÔºåÁªèÂ∏∏Ëøò‰ºöÂºïÁî®Â§ñÁïåÁöÑÊï∞ÊçÆÔºåÊàñÊòØÂ∞ÜËá™Ë∫´ÁöÑÊï∞ÊçÆÂèëÈÄÅÂà∞Â§ñÁïå„ÄÇÊØîÂ¶ÇÔºåÊàë‰ª¨ÁºñÂÜôÁöÑÁ®ãÂ∫èÊÉ≥ËØªÂèñ‰∏Ä‰∏™ÊñáÊú¨Êñá‰ª∂ÔºåÂèàÊàñËÄÖÊàë‰ª¨ÊÉ≥Â∞ÜÁ®ãÂ∫è‰∏≠ÁöÑÊüê‰∫õÊï∞ÊçÆÂÜôÂÖ•Âà∞‰∏Ä‰∏™Êñá‰ª∂‰∏≠„ÄÇËøôÊó∂Êàë‰ª¨Â∞±Ë¶Å‰ΩøÁî®ËæìÂÖ•‰∏éËæìÂá∫„ÄÇ‰ªÄ‰πàÊòØËæìÂÖ•(read):ËæìÂÖ•ÊòØ‰∏Ä‰∏™‰ªéÂ§ñÁïåËøõÂÖ•Âà∞Á®ãÂ∫èÁöÑÊñπÂêëÔºåÈÄöÂ∏∏Êàë‰ª¨ÈúÄË¶Å‚ÄúËØªÂèñ‚ÄùÂ§ñÁïåÁöÑÊï∞ÊçÆÊó∂Ôºå‰ΩøÁî®ËæìÂÖ•„ÄÇÊâÄ‰ª•ËæìÂÖ•ÊòØÁî®Êù•ËØªÂèñÊï∞ÊçÆÁöÑ„ÄÇ‰ªÄ‰πàÊòØËæìÂá∫(write):ËæìÂá∫ÊòØ‰∏Ä‰∏™‰ªéÁ®ãÂ∫èÂèëÈÄÅÂà∞Â§ñÁïåÁöÑÊñπÂêëÔºåÈÄöÂ∏∏Êàë‰ª¨ÈúÄË¶Å‚ÄùÂÜôÂá∫‚ÄùÊï∞ÊçÆÂà∞Â§ñÁïåÊó∂Ôºå‰ΩøÁî®ËæìÂá∫„ÄÇÊâÄ‰ª•ËæìÂá∫ÊòØÁî®Êù•ÂÜôÂá∫Êï∞ÊçÆÁöÑ„ÄÇInputStreamÊòØÊâÄÊúâÂ≠óËäÇËæìÂÖ•ÊµÅÁöÑÁà∂Á±ªÔºåÂÖ∂ÂÆö‰πâ‰∫ÜÂü∫Á°ÄÁöÑËØªÂèñÊñπÊ≥ïÔºåÂ∏∏Áî®ÁöÑÊñπÊ≥ïÂ¶Ç‰∏ã:1.int read():ËØªÂèñ‰∏Ä‰∏™Â≠óËäÇÔºå‰ª•intÂΩ¢ÂºèËøîÂõûÔºåËØ•intÂÄºÁöÑ‚Äù‰ΩéÂÖ´‰Ωç‚ÄùÊúâÊïàÔºåËã•ËøîÂõûÂÄº‰∏∫-1ÂàôË°®Á§∫EOF„ÄÇ2.int read(byte[] d):Â∞ùËØïÊúÄÂ§öËØªÂèñÁªôÂÆöÊï∞ÁªÑÁöÑlength‰∏™Â≠óËäÇÂπ∂Â≠òÂÖ•ËØ•Êï∞ÁªÑÔºåËøîÂõûÂÄº‰∏∫ÂÆûÈôÖËØªÂèñÂà∞ÁöÑÂ≠óËäÇÈáè„ÄÇOutputStreamÊòØÊâÄÊúâÂ≠óËäÇËæìÂá∫ÊµÅÁöÑÁà∂Á±ªÔºåÂÖ∂ÂÆö‰πâ‰∫ÜÂü∫Á°ÄÁöÑÂÜôÂá∫ÊñπÊ≥ïÔºåÂ∏∏Áî®ÁöÑÊñπÊ≥ïÂ¶Ç‰∏ã:1.void write(int d):ÂÜôÂá∫‰∏Ä‰∏™Â≠óËäÇ,ÂÜôÁöÑÊòØÁªôÂÆöÁöÑintÁöÑ‚Äù‰ΩéÂÖ´‰Ωç‚Äù„ÄÇ2.void write(byte[] d):Â∞ÜÁªôÂÆöÁöÑÂ≠óËäÇÊï∞ÁªÑ‰∏≠ÁöÑÊâÄÊúâÂ≠óËäÇÂÖ®ÈÉ®ÂÜôÂá∫„ÄÇÊñá‰ª∂ÊµÅFileOutputStreamjava.io.FileOutputStreamÔºöÊñá‰ª∂Â≠óËäÇËæìÂá∫ÊµÅÔºåÁî®‰∫éÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Âà∞Êñá‰ª∂‰∏≠ÁöÑÊµÅÔºåËØ•ÊµÅÊòØ‰∏Ä‰∏™‰ΩéÁ∫ßÊµÅ„ÄÇ‰ΩéÁ∫ßÊµÅÁâπÁÇπ:Êï∞ÊçÆÁöÑÊù•Ê∫êÂíåÂéªÂêëÊòØÊòéÁ°ÆÁöÑÔºåÁúüÂÆûË¥üË¥£‚ÄúÊê¨Ëøê‚ÄùÊï∞ÊçÆÁöÑÊµÅ„ÄÇ123456789101112131415161718192021222324public class FOSDemo &#123; public static void main(String[] args) throws IOException &#123; /* * ÂêëÊñá‰ª∂‰∏≠ÂÜôÂá∫Êï∞ÊçÆ * ‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÊûÑÈÄ†ÊñπÊ≥ï: * FileOutputStream(String path) * FileOutputStream(File file) * ÂàõÂª∫Âá∫Êù•ÁöÑÊñá‰ª∂ËæìÂá∫ÊµÅÊòØË¶ÜÁõñÂÜôÊìç‰ΩúÔºåËã•Êìç‰ΩúÁöÑ * Êñá‰ª∂‰∏≠ÊúâÊï∞ÊçÆÔºå‰ºöÂÖàÂ∞ÜÊï∞ÊçÆÊ∏ÖÈô§ÔºåÈáçÂÜôÊú¨Ê¨°ÂÜôÂá∫ÁöÑÊï∞ÊçÆ„ÄÇ * * Ëã•Â∏åÊúõËøΩÂä†ÂÜôÊìç‰ΩúÔºåÂàôÈúÄË¶Å‰º†ÂÖ•Á¨¨‰∫å‰∏™ÂèÇÊï∞ * ÊòØ‰∏Ä‰∏™booleanÂÄºÔºå‰∏∫trueÂç≥ÂèØ„ÄÇ * FileOutputStream(File file,boolean append) * FileOutputStream(String path,boolean append) */ // File file=new File("fos.txt"); // FileOutputStream fos = new FileOutputStream(file,true); FileOutputStream fos = new FileOutputStream("fos.txt",true); String str = "‰∏ÄÊ≠•‰∏§Ê≠•,‰∏ÄÊ≠•‰∏ÄÊ≠•ÂÉèÁà™Áâô,ÂÉèÈ≠îÈ¨ºÁöÑÊ≠•‰ºê!"; fos.write(str.getBytes("UTF-8")); fos.close(); &#125;&#125;FileInputStreamjava.io.FileInputStreamÔºö‰ΩéÁ∫ßÊµÅÔºåÂèØ‰ª•‰ªéÊñá‰ª∂‰∏≠ËØªÂèñÂ≠óËäÇÔºàÊìç‰ΩúËøáÁ®ãÂíåRandomAccessFileÁõ∏‰ººÔºâ„ÄÇ1234567891011public class FISDemo &#123; public static void main(String[] args) throws IOException &#123; FileInputStream fis = new FileInputStream("fos.txt"); byte[] data = new byte[1024]; int len = fis.read(data); String str = new String(data,0,len,"UTF-8"); System.out.println(str);//‰∏ÄÊ≠•‰∏§Ê≠•,‰∏ÄÊ≠•‰∏ÄÊ≠•ÂÉèÁà™Áâô,ÂÉèÈ≠îÈ¨ºÁöÑÊ≠•‰ºê! fis.close(); &#125;&#125;Â§çÂà∂‰ΩøÁî®Êñá‰ª∂ÊµÅÁöÑÂΩ¢ÂºèÂ§çÂà∂Êñá‰ª∂„ÄÇ1234567891011121314151617 public class CopyDemo1 &#123; public static void main(String[] args) throws IOException &#123; FileInputStream fis = new FileInputStream("fos.txt"); FileOutputStream fos = new FileOutputStream("fos_copy.txt"); byte[] data = new byte[1024*10]; int len = -1; while((len = fis.read(data))!=-1)&#123; fos.write(data,0,len); &#125; System.out.println("Â§çÂà∂ÂÆåÊØï"); fis.close(); fos.close(); &#125;&#125;ÁºìÂÜ≤ÊµÅÂú®ËØªÂèñÊï∞ÊçÆÊó∂Ëã•‰ª•Â≠óËäÇ‰∏∫Âçï‰ΩçËØªÂèñÊï∞ÊçÆÔºå‰ºöÂØºËá¥ËØªÂèñÊ¨°Êï∞Ëøá‰∫éÈ¢ëÁπÅ‰ªéËÄåÂ§ßÂ§ßÁöÑÈôç‰ΩéËØªÂèñÊïàÁéá„ÄÇ‰∏∫Ê≠§Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊèêÈ´ò‰∏ÄÊ¨°ËØªÂèñÁöÑÂ≠óËäÇÊï∞ÈáèÂáèÂ∞ëËØªÂÜôÊ¨°Êï∞Êù•ÊèêÈ´òËØªÂèñÁöÑÊïàÁéá„ÄÇ1.BIS:ÊòØ‰∏Ä‰∏™Â§ÑÁêÜÊµÅÔºåËØ•ÊµÅ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÁºìÂÜ≤ÂäüËÉΩ„ÄÇ2.BOS:‰∏éÁºìÂÜ≤ËæìÂÖ•ÊµÅÁõ∏‰ººÔºåÂú®ÂêëÁ°¨‰ª∂ËÆæÂ§áÂÅöÂÜôÂá∫Êìç‰ΩúÊó∂ÔºåÂ¢ûÂ§ßÂÜôÂá∫Ê¨°Êï∞Êó†Áñë‰πü‰ºöÈôç‰ΩéÂÜôÂá∫ÊïàÁéáÔºå‰∏∫Ê≠§Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÁºìÂÜ≤ËæìÂá∫ÊµÅÊù•‰∏ÄÊ¨°ÊÄßÊâπÈáèÂÜôÂá∫Ëã•Âπ≤Êï∞ÊçÆÂáèÂ∞ëÂÜôÂá∫Ê¨°Êï∞Êù•ÊèêÈ´òÂÜô Âá∫ÊïàÁéá„ÄÇ3.BufferedInputStreamÊòØÁºìÂÜ≤Â≠óËäÇËæìÂÖ•ÊµÅ„ÄÇÂÖ∂ÂÜÖÈÉ®Áª¥Êä§ÁùÄ‰∏Ä‰∏™ÁºìÂÜ≤Âå∫(Â≠óËäÇÊï∞ÁªÑ)Ôºå‰ΩøÁî®ËØ•ÊµÅÂú®ËØªÂèñ‰∏Ä‰∏™Â≠óËäÇÊó∂ÔºåËØ•ÊµÅ‰ºöÂ∞ΩÂèØËÉΩÂ§öÁöÑ‰∏ÄÊ¨°ÊÄßËØªÂèñËã•Âπ≤Â≠óËäÇÂπ∂Â≠òÂÖ•ÁºìÂÜ≤Âå∫ÔºåÁÑ∂ÂêéÈÄê‰∏ÄÁöÑÂ∞ÜÂ≠óËäÇËøîÂõûÔºåÁõ¥Âà∞ÁºìÂÜ≤Âå∫‰∏≠ÁöÑÊï∞ÊçÆË¢´ÂÖ®ÈÉ®ËØªÂèñÂÆåÊØïÔºå‰ºöÂÜçÊ¨°ËØªÂèñËã•Âπ≤Â≠óËäÇ‰ªéËÄåÂèçÂ§ç„ÄÇËøôÊ†∑Â∞±ÂáèÂ∞ë‰∫ÜËØªÂèñÁöÑÊ¨°Êï∞Ôºå‰ªéËÄåÊèêÈ´ò‰∫ÜËØªÂèñÊïàÁéá„ÄÇ4.BufferedOutputStreamÁºìÂÜ≤ËæìÂá∫ÊµÅÂÜÖÈÉ®‰πüÁª¥Êä§ÁùÄ‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ÔºåÊØèÂΩìÊàë‰ª¨ÂêëËØ•ÊµÅÂÜôÊï∞ÊçÆÊó∂ÔºåÈÉΩ‰ºöÂÖàÂ∞ÜÊï∞ÊçÆÂ≠òÂÖ•ÁºìÂÜ≤Âå∫ÔºåÂΩìÁºìÂÜ≤Âå∫Â∑≤Êª°Êó∂ÔºåÁºìÂÜ≤ÊµÅ‰ºöÂ∞ÜÊï∞ÊçÆ‰∏ÄÊ¨°ÊÄßÂÖ®ÈÉ®ÂÜôÂá∫„ÄÇBISÂíåBOSBufferedInputStream‰∏éBufferedOutputStream(BISÂíåBOS):ÁºìÂÜ≤Â≠óËäÇËæìÂÖ•ÊµÅÔºåÁºìÂÜ≤Â≠óËäÇËæìÂá∫ÊµÅ.ËøôÊòØ‰∏ÄÂØπÈ´òÁ∫ßÊµÅÔºå‰ΩúÁî®ÊòØÂèØ‰ª•ÊèêÈ´òËØªÂÜôÊïàÁéá.Ôºà‰ΩúÁî®Á±ª‰ºº‰∫éÂ≠óËäÇÊï∞ÁªÑÔºâ„ÄÇ12345678910111213141516171819202122public class CopyDemo2 &#123; public static void main(String[] args) throws IOException &#123; FileInputStream fis = new FileInputStream("1.mp4"); BufferedInputStream bis = new BufferedInputStream(fis); FileOutputStream fos = new FileOutputStream("1_copy2.mp4"); BufferedOutputStream bos = new BufferedOutputStream(fos); int d = -1; while((d=bis.read())!=-1)&#123; bos.write(d); &#125; System.out.println("Â§çÂà∂ÂÆåÊØï!"); /* * ÂÖ≥Èó≠ÊµÅÁöÑÊó∂ÂÄôÔºåÂè™ÈúÄË¶ÅÂÖ≥Èó≠ÊúÄÂ§ñÂ±ÇÁöÑÈ´òÁ∫ßÊµÅ * Âç≥ÂèØ„ÄÇÂõ†‰∏∫È´òÁ∫ßÊµÅÂú®ÂÖ≥Èó≠Ëá™Ë∫´Ââç‰ºöÂÖàÂ∞ÜÂÖ∂Â§ÑÁêÜ * ÁöÑÊµÅÂÖ≥Èó≠„ÄÇ */ bis.close(); bos.close(); &#125;&#125;flushvoid flush()ÔºåÁºìÂÜ≤ÊµÅÈÉΩÊèê‰æõ‰∫ÜflushÁöÑÂÆûÁé∞„ÄÇ‰ΩúÁî®ÊòØÂº∫Âà∂Â∞ÜÁé∞ÊúâÁºìÂÜ≤Êï∞ÁªÑ‰∏≠ÁöÑÊï∞ÊçÆ‰∏ÄÊ¨°ÊÄßÂÜôÂá∫„ÄÇÈÅøÂÖç‰∫ÜÂõ†ÁºìÂÜ≤Êï∞ÁªÑ‰∏≠Êï∞ÊçÆ‰∏çÂ§üËÄåÂØºËá¥Êñá‰ª∂ÂÜÖÂÆπ‰∏∫Á©∫ÁöÑÈóÆÈ¢ò„ÄÇÈ¢ëÁπÅË∞ÉÁî®ËØ•ÊñπÊ≥ï‰ºöÊèêÈ´òÂÜôÂá∫Ê¨°Êï∞‰ªéËÄåÈôç‰ΩéÂÜôÂá∫ÊïàÁéáÔºå‰ΩÜÊòØÂΩìÊàë‰ª¨ÈúÄË¶ÅÊúâÂÜôÂá∫Êï∞ÊçÆÂç≥Êó∂ÊÄßÁöÑÊó∂ÂÄôÂ∞±Ë¶Å‰ΩøÁî®„ÄÇ12345678910111213public class BosDemo &#123; public static void main(String[] args) throws IOException &#123; FileOutputStream fos = new FileOutputStream("bos.txt"); BufferedOutputStream bos = new BufferedOutputStream(fos); String str = "ÊàëÁà±Âåó‰∫¨Â§©ÂÆâÈó®"; byte[] data = str.getBytes(); bos.write(data); // bos.flush(); bos.close();//closeÂÜÖÈÉ®‰πüÊúâflush()ÊñπÊ≥ï. &#125;&#125;ÂØπË±°ÊµÅÂØπË±°ÊòØÂ≠òÂú®‰∫éÂÜÖÂ≠ò‰∏≠ÁöÑ„ÄÇÊúâÊó∂ÂÄôÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂØπË±°‰øùÂ≠òÂà∞Á°¨Áõò‰∏äÔºåÂèàÊúâÊó∂Êàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂØπË±°‰º†ËæìÂà∞Âè¶‰∏ÄÂè∞ËÆ°ÁÆóÊú∫‰∏äÁ≠âÁ≠âËøôÊ†∑ÁöÑÊìç‰Ωú„ÄÇËøôÊó∂Êàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂØπË±°ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™Â≠óËäÇÂ∫èÂàóÔºåËÄåËøô‰∏™ËøáÁ®ãÂ∞±Áß∞‰∏∫ÂØπË±°Â∫èÂàóÂåñ„ÄÇÁõ∏ÂèçÔºåÊàë‰ª¨ÊúâËøôÊ†∑‰∏Ä‰∏™Â≠óËäÇÂ∫èÂàóÈúÄË¶ÅÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑÂØπË±°ÔºåËøô‰∏™ËøáÁ®ãÂ∞±Áß∞‰∏∫ÂØπË±°ÁöÑÂèçÂ∫èÂàóÂåñ„ÄÇ1.java.io.ObjectOutputStreamÔºöÈ´òÁ∫ßÊµÅÔºåÂäüËÉΩÊòØÂ∞ÜÁªôÂÆöÁöÑ‰∏Ä‰∏™ÂØπË±°ËΩ¨Êç¢‰∏∫‰∏ÄÁªÑÂ≠óËäÇÔºåÁÑ∂ÂêéÈÄöËøáÂÖ∂Â§ÑÁêÜÁöÑÊµÅÂ∞ÜÂ≠óËäÇÂÜôÂá∫„ÄÇ2.java.io.ObjectInputStreamÔºöÈ´òÁ∫ßÊµÅÔºåÂèØ‰ª•ËøõË°åÂØπË±°ÁöÑÂèçÂ∫èÂàóÂåñ„ÄÇÂ∞Ü ‰∏ÄÁªÑÂ≠óËäÇËøòÂéüÂõûÂØπË±°ÔºåÂâçÊèêÊòØËøô‰∏ÄÁªÑÂ≠óËäÇÂøÖÈ°ªÊòØÁî±ObjectOutputStreamÂ∞Ü‰∏Ä‰∏™ÂØπË±°Â∫èÂàóÂåñÂêéÁöÑÂ≠óËäÇËØªÂÜôÂØπË±°‰∏ÄËà¨Áî®‰∫é:‰øùÂ≠òÁé∞ÊúâÂØπË±°Âà∞Á°¨Áõò‰∏äÔºõÂú®ÁΩëÁªú‰∏≠‰º†ËæìÂØπË±°„ÄÇ‰ª•‰∏ãPersonÁ±ªÁî®‰∫éÊµãËØïÂØπË±°ÊµÅËØªÂÜôÂØπË±°Ôºö123456789101112131415161718192021public class Person implements Serializable&#123; private String name; private int age; private String gender; private List&lt;String&gt; otherInfo; public Person()&#123; &#125; public Person(String name, int age, String gender, List&lt;String&gt; otherInfo) &#123; super(); this.name = name; this.age = age; this.gender = gender; this.otherInfo = otherInfo; &#125; // get,setÁï• public String toString()&#123; return name+","+age+","+gender+","+otherInfo; &#125;&#125;ÂØπË±°‚ÜíÂ≠óËäÇ1234567891011121314151617181920212223242526public class OOSDemo &#123; public static void main(String[] args) throws IOException &#123; FileOutputStream fos = new FileOutputStream("person.obj"); ObjectOutputStream oos = new ObjectOutputStream(fos); Person p = new Person(); p.setName("Ë∑ØÈ£û"); p.setAge(18); p.setGender("Áî∑"); List&lt;String&gt; otherInfo = new ArrayList&lt;String&gt;(); otherInfo.add("ËíôÂ•á¬∑D¬∑Ë∑ØÈ£û"); otherInfo.add("Ë¶ÅÊàê‰∏∫Êµ∑Ë¥ºÁéãÁöÑÁî∑‰∫∫"); otherInfo.add("ÁßØÊûÅ‰πêËßÇ"); p.setOtherInfo(otherInfo); /* * void writeObject(Object obj) * ËØ•ÊñπÊ≥ï‰ºöÂ∞ÜÁªôÂÆöÁöÑÂØπË±°ËΩ¨Êç¢‰∏∫‰∏ÄÁªÑÂ≠óËäÇÔºåÁÑ∂ÂêéÂÜôÂá∫ * * Â∫èÂàóÂåñ:Â∞Ü‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑËΩ¨Êç¢‰∏∫‰∏ÄÁªÑÂ≠óËäÇÁöÑËøáÁ®ã * ÊåÅ‰πÖÂåñ:Â∞ÜÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÂÜôÂÖ•Á°¨ÁõòÈïø‰πÖ‰øùÂ≠òÁöÑËøáÁ®ã */ oos.writeObject(p); oos.close(); &#125;&#125;Â≠óËäÇ‚ÜíÂØπË±°123456789101112131415public class OISDemo &#123; public static void main(String[] args) throws IOException, ClassNotFoundException &#123; FileInputStream fis = new FileInputStream("person.obj"); ObjectInputStream ois = new ObjectInputStream(fis); /* * Object readObject() * ËØ•ÊñπÊ≥ï‰ºöËØªÂèñËã•Âπ≤Â≠óËäÇÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ÂèçÂ∫èÂàóÂåñÂõûÂØπË±°„ÄÇ * Âπ∂‰ª•ObjectÂΩ¢ÂºèËøîÂõûÔºåÈúÄË¶ÅËá™Â∑±Âº∫Âà∂Á±ªÂûãËΩ¨Êç¢ */ Person p = (Person)ois.readObject(); System.out.println(p); //Ë∑ØÈ£û,18,Áî∑,[ËíôÂ•á¬∑D¬∑Ë∑ØÈ£û, Ë¶ÅÊàê‰∏∫Êµ∑Ë¥ºÁéãÁöÑÁî∑‰∫∫, ÁßØÊûÅ‰πêËßÇ] ois.close(); &#125;&#125;Â≠óÁ¨¶ÊµÅReaderÊòØÊâÄÊúâÂ≠óÁ¨¶ËæìÂÖ•ÊµÅÁöÑÁà∂Á±ªÔºåËÄåWriterÊòØÊâÄÊúâÂ≠óÁ¨¶ËæìÂá∫ÊµÅÁöÑÁà∂Á±ª„ÄÇÂ≠óÁ¨¶ÊµÅÊòØ‰ª•Â≠óÁ¨¶(char)‰∏∫Âçï‰ΩçËØªÂÜôÊï∞ÊçÆÁöÑ„ÄÇ‰∏ÄÊ¨°Â§ÑÁêÜ‰∏Ä‰∏™unicode„ÄÇÂ≠óÁ¨¶ÊµÅÈÉΩÊòØÈ´òÁ∫ßÊµÅÔºåÂÖ∂Â∫ïÂ±ÇÈÉΩÊòØ‰æùÈù†Â≠óËäÇÊµÅËøõË°åËØªÂÜôÊï∞ÊçÆÁöÑÔºåÊâÄ‰ª•Â∫ïÂ±Ç‰ªçÁÑ∂ÊòØÂü∫‰∫éÂ≠óËäÇËØªÂÜôÊï∞ÊçÆÁöÑ„ÄÇReaderÁöÑÂ∏∏Áî®ÊñπÊ≥ï:1.int read()ÔºöËØªÂèñ‰∏Ä‰∏™Â≠óÁ¨¶ÔºåËøîÂõûÁöÑint‚ÄùÂÄº‰Ωé16‚Äù‰ΩçÊúâÊïà„ÄÇ2.int read(char[] chs)Ôºö‰ªéËØ•ÊµÅ‰∏≠ËØªÂèñ‰∏Ä‰∏™Â≠óÁ¨¶Êï∞ÁªÑlength‰∏™Â≠óÁ¨¶Âπ∂Â≠òÂÖ•ËØ•Êï∞ÁªÑÔºåËøîÂõûÂÄº‰∏∫ÂÆûÈôÖËØªÂèñÂà∞ÁöÑÂ≠óÁ¨¶Èáè„ÄÇWriterÁöÑÂ∏∏Áî®ÊñπÊ≥ï:1.void write(int c)ÔºöÂÜôÂá∫‰∏Ä‰∏™Â≠óÁ¨¶,ÂÜôÂá∫ÁªôÂÆöintÂÄº‚Äù‰Ωé16‚Äù‰ΩçË°®Á§∫ÁöÑÂ≠óÁ¨¶„ÄÇ2.void write(char[] chs)ÔºöÂ∞ÜÁªôÂÆöÂ≠óÁ¨¶Êï∞ÁªÑ‰∏≠ÊâÄÊúâÂ≠óÁ¨¶ÂÜôÂá∫„ÄÇ3.void write(String str)ÔºöÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ÂÜôÂá∫„ÄÇ4.void write(char[] chs,int offset,int len)ÔºöÂ∞ÜÁªôÂÆöÁöÑÂ≠óÁ¨¶Êï∞ÁªÑ‰∏≠‰ªéoffsetÂ§ÑÂºÄÂßãËøûÁª≠ÁöÑlen‰∏™Â≠óÁ¨¶ÂÜôÂá∫„ÄÇWriterWriterÂ≠óÁ¨¶ËæìÂá∫ÊµÅÔºåÁâπÁÇπ:‰ª•Â≠óÁ¨¶‰∏∫Âçï‰ΩçÂÜôÂá∫Êï∞ÊçÆ„ÄÇOutputStreamWriter:Â≠óÁ¨¶ÊµÅÁöÑ‰∏Ä‰∏™Â∏∏Áî®ÂÆûÁé∞Á±ª„ÄÇÁâπÁÇπÊòØÂèØ‰ª•ÊåâÁÖßÊåáÂÆöÁöÑÂ≠óÁ¨¶ÈõÜÂ∞ÜÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑÂ≠óËäÇÂêéÂÜôÂá∫„ÄÇ1234567891011121314151617public class OSWDemo &#123; public static void main(String[] args) throws IOException &#123; FileOutputStream fos = new FileOutputStream("osw.txt"); /* * Â∏∏Áî®ÊûÑÈÄ†ÊñπÊ≥ï: * OutputStreamWriter(OutputStream out) * ÊåâÁÖßÁ≥ªÁªüÈªòËÆ§Â≠óÁ¨¶ÈõÜÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Â≠óËäÇÂêéÂÜôÂá∫ * * OutputStreamWriter(OutputStream out,String charsetName) * ÊåâÁÖßÁªôÂÆöÁöÑÂ≠óÁ¨¶ÈõÜÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Â≠óËäÇÂêéÂÜôÂá∫ */ OutputStreamWriter osw = new OutputStreamWriter(fos,"UTF-8"); osw.write("ÊàëÁà±Âåó‰∫¨Â§©ÂÆâÈó®"); osw.write("Â§©ÂÆâÈó®‰∏äÂ§™Èò≥Âçá"); osw.close(); &#125;&#125;ReaderReaderÂ≠óÁ¨¶ËæìÂÖ•ÊµÅ ÁâπÁÇπ:‰ª•Â≠óÁ¨¶‰∏∫Âçï‰ΩçËØªÂèñÊï∞ÊçÆInputStreamReaderÊòØÂÖ∂Â∏∏Áî®ÂÆûÁé∞Á±ªÔºå‰ΩúÁî®ÊòØÂèØ‰ª•ÊåâÁÖßÊåáÂÆöÁöÑÂ≠óÁ¨¶ÈõÜËØªÂèñÂ≠óÁ¨¶„ÄÇ123456789101112public class ISRDemo &#123; public static void main(String[] args) throws IOException &#123; FileInputStream fis = new FileInputStream("osw.txt"); InputStreamReader isr = new InputStreamReader(fis,"UTF-8"); int d = -1; while((d=isr.read())!=-1)&#123; System.out.print((char)d); &#125; isr.close(); &#125;&#125;ËΩ¨Á†ÅËΩ¨Á†ÅÔºöÊØîÂ¶ÇÂ∞ÜUTF-8ÁºñÁ†ÅÁöÑÊñáÊú¨Êñá‰ª∂ËΩ¨Êç¢‰∏∫GBKÁºñÁ†ÅÁöÑÊñáÊú¨Êñá‰ª∂ÂéüÁêÜ:‰ΩøÁî®UTF-8ÁºñÁ†ÅÂ∞ÜÊØè‰∏Ä‰∏™Â≠óÁ¨¶ËØªÂèñÂá∫Êù•ÔºåÂÜç‰ª•GBKÁºñÁ†ÅÂ∞ÜÂ≠óÁ¨¶ÂÜôÂÖ•Âè¶‰∏Ä‰∏™Êñá‰ª∂Âç≥ÂèØ„ÄÇ123456789101112131415161718public class ChangeCharsetDemo &#123; public static void main(String[] args) throws IOException &#123; FileInputStream fis = new FileInputStream("osw.txt"); InputStreamReader isr = new InputStreamReader(fis,"UTF-8"); FileOutputStream fos= new FileOutputStream("osw_gbk.txt"); OutputStreamWriter osw = new OutputStreamWriter(fos,"GBK"); char[] data = new char[1024*5]; int len = -1; while((len = isr.read(data))!=-1)&#123; osw.write(data,0,len); &#125; System.out.println("ËΩ¨Á†ÅÂÆåÊØï!"); osw.close(); isr.close(); &#125;&#125;PrintWriterÁºìÂÜ≤Â≠óÁ¨¶ËæìÂá∫ÊµÅÔºåÁâπÁÇπÊòØÂèØ‰ª•‰ª•Ë°å‰∏∫Âçï‰ΩçÂÜôÂá∫Â≠óÁ¨¶‰∏≤Âπ∂‰∏îËØ•ÊµÅËøòÂÖ∑Â§áËá™Âä®Ë°åÂà∑Êñ∞ÂäüËÉΩ„ÄÇ‰º†ÁªüÁöÑÁºìÂÜ≤Â≠óÁ¨¶ËæìÂá∫ÊµÅÊòØBufferedWriter.Áî±‰∫éPrintWriterÂú®ÂàõÂª∫ÁöÑÊó∂ÂÄôÂÜÖÈÉ®‰ΩøÁî®‰∫ÜËØ•ÊµÅÔºåÂπ∂‰∏îPrintWriterËøòÂÖ∑ÊúâËá™Âä®Ë°åÂà∑Êñ∞ÔºåÊâÄ‰ª•ÊØîËæÉÂ∏∏Áî®„ÄÇPrintWriterÊèê‰æõ‰∫ÜËã•Âπ≤ÊûÑÈÄ†ÊñπÊ≥ïÔºåÂèØ‰ª•Êñπ‰æøÂø´ÈÄüÂàõÂª∫„ÄÇ123456789101112131415public class PWDemo &#123; public static void main(String[] args) throws IOException &#123; /* * PrintWriterÂèØ‰ª•Áõ¥Êé•ÂàõÂª∫Âü∫‰∫éÊñá‰ª∂ÁöÑÂÜôÊìç‰Ωú: * PrintWriter(File file) * PrintWriter(String path) */ // File file=new File("pw.txt"); // PrintWriter pw = new PrintWriter(file,"UTF-8"); PrintWriter pw = new PrintWriter("pw.txt","UTF-8"); pw.println("ÊàëÁà±Âåó‰∫¨Â§©ÂÆâÈó®"); pw.println("Â§©ÂÆâÈó®‰∏äÂ§™Èò≥Âçá"); pw.close(); &#125;&#125;PrintWriterÂ§ÑÁêÜÂÖ∂‰ªñÊµÅÁöÑÂΩ¢ÂºèÔºö1234567891011121314151617public class PWDemo2 &#123; public static void main(String[] args) throws IOException &#123; /* * PrintWriterÊèê‰æõ‰∫ÜÁî®‰∫éÂ§ÑÁêÜÂÖ∂‰ªñÊµÅÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºå * Êó¢ÂèØ‰ª•Â§ÑÁêÜÂ≠óÁ¨¶ÊµÅÔºå‰πüÂèØ‰ª•Â§ÑÁêÜÂ≠óËäÇÊµÅ„ÄÇ */ FileOutputStream fos = new FileOutputStream("pw2.txt"); /* * Ëã•Ë¶ÅÊåâÁÖßÊåáÂÆöÂ≠óÁ¨¶ÈõÜÂÜôÂá∫ÔºåÈúÄË¶Å‰∏≠Èó¥ÂÜçÂàõÂª∫‰∏Ä‰∏™ * OSWÊù•Ë¥üË¥£ËΩ¨Â≠óÁ¨¶ÈõÜÁöÑÊìç‰Ωú„ÄÇ */ OutputStreamWriter osw = new OutputStreamWriter(fos,"UTF-8"); PrintWriter pw = new PrintWriter(osw); pw.println("Èöè‰æøÂï¶"); pw.close(); &#125;&#125;BufferedReaderjava.io.BufferedReaderÔºöÁºìÂÜ≤Â≠óÁ¨¶ËæìÂÖ•ÊµÅ ÁâπÁÇπ:‰ª•Ë°å‰∏∫Âçï‰ΩçËØªÂèñÂ≠óÁ¨¶‰∏≤„ÄÇ1234567891011121314151617181920212223public class BRDemo &#123; public static void main(String[] args) throws IOException &#123; FileInputStream fis= new FileInputStream( "src" + File.separator + "IO" + File.separator + "BRDemo.java"); InputStreamReader isr = new InputStreamReader(fis); BufferedReader br = new BufferedReader(isr); /* * String readLine() * BufferedReaderÊèê‰æõÁöÑËØ•ÊñπÊ≥ï‰ºöËØªÂèñËã•Âπ≤Â≠óÁ¨¶ÔºåÁõ¥Âà∞ËØªÂèñÂà∞ * Êç¢Ë°åÁ¨¶‰∏∫Ê≠¢ÔºåÁÑ∂ÂêéÂ∞ÜÊç¢Ë°åÁ¨¶‰πãÂâçËØªÂèñÁöÑËøôËã•Âπ≤Â≠óÁ¨¶ÁªÑÊàê‰∏Ä‰∏™ * Â≠óÁ¨¶‰∏≤ËøîÂõû„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÔºåËøîÂõûÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ÊòØ‰∏çÂåÖÂê´Êç¢Ë°åÁ¨¶ÁöÑÔºÅ * Ëã•ËøîÂõûÂÄº‰∏∫null,ËØ¥ÊòéËØªÂèñÂà∞Êñá‰ª∂Êú´Â∞æ‰∫Ü„ÄÇ */ String line = null; while((line = br.readLine())!=null)&#123; System.out.println(line); &#125; br.close(); &#125;&#125;]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÊñá‰ª∂Êìç‰Ωú]]></title>
    <url>%2FJava%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C.html</url>
    <content type="text"><![CDATA[java.io.FileÔºöFileÁöÑÊØè‰∏Ä‰∏™ÂÆû‰æãÁî®Êù•Ë°®Á§∫Á°¨Áõò‰∏äÁöÑ‰∏Ä‰∏™Êñá‰ª∂ÊàñÁõÆÂΩïÔºåÊàë‰ª¨ÈÄöËøáFileÂèØ‰ª•:1.ËÆøÈóÆ‰∏Ä‰∏™Êñá‰ª∂ÊàñÁõÆÂΩïÁöÑÂ±ûÊÄß‰ø°ÊÅØÔºåÊñá‰ª∂ÂêçÔºåÂ§ßÂ∞èÔºå‰øÆÊîπÊó•ÊúüÔºåËÆøÈóÆÊùÉÈôêÁ≠â„ÄÇ2.ÂèØ‰ª•ÂàõÂª∫Êñá‰ª∂ÔºåÂà†Èô§Êñá‰ª∂ÔºåÂàõÂª∫ÁõÆÂΩïÔºåÂà†Èô§ÁõÆÂΩï„ÄÇ3.ÂèØ‰ª•ËÆøÈóÆÁõÆÂΩï‰∏≠ÁöÑÊâÄÊúâÂ≠êÈ°π‰ΩÜÊòØ‰∏çËÉΩËÆøÈóÆÊñá‰ª∂Êï∞ÊçÆ„ÄÇÂü∫Êú¨Êìç‰ΩúÂú®È°πÁõÆÊ†πÁõÆÂΩïÊñ∞Âª∫test.txtÊñá‰ª∂ÔºåÂÜÖÂÆπ‰∏∫hello world„ÄÇ‰ª•‰∏ã‰∏∫Âü∫Êú¨Êìç‰Ωú„ÄÇ123456789101112131415161718192021222324252627282930313233343536public class FileDemo1 &#123; public static void main(String[] args) &#123; /* * Âú®eclipse‰∏≠Ôºå"."ÂΩìÂâçÁõÆÂΩïÔºåÊåáÁöÑÊòØÈ°πÁõÆÁöÑÊ†πÁõÆÂΩï * separatorÁõ∏ÂΩì‰∫é‚Äù/‚Äù */ File file = new File("."+File.separator+"test.txt"); //Ëé∑ÂèñÊñá‰ª∂Âêç String name = file.getName(); /* * Ëé∑ÂèñÊñá‰ª∂Â§ßÂ∞è„ÄÇËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™longÂÄºÔºåË°®Á§∫Âç†Áî®ÁöÑÂ≠óËäÇÈáè * ‰∏≠Êñá‰ª•Âèä‰∏≠ÊñáÁä∂ÊÄÅ‰∏ãÁöÑÊ†áÁÇπÁ¨¶Âè∑ÈÉΩÂç†Áî®‰∏§‰∏™Â≠óËäÇ * Ëã±ÊñáÂèäËã±ÊñáÁä∂ÊÄÅ‰∏ãÁöÑÊ†áÁÇπÁ¨¶Âè∑Âç†Áî®‰∏Ä‰∏™Â≠óËäÇ */ long length = file.length(); // Ëé∑ÂèñÊñá‰ª∂ÊúÄÂêé‰øÆÊîπÊó∂Èó¥ long time = file.lastModified(); // Êü•ÁúãÊñá‰ª∂ÊòØÂê¶ÂÖ∑ÊúâÂèØËøêË°åÔºåÂèØËØªÔºåÂèØÂÜôÁöÑÊùÉÈôê file.canExecute(); file.canRead(); file.canWrite(); // Âà§Êñ≠ÂΩìÂâçFileÂØπË±°Ë°®Á§∫ÁöÑÊòØÂê¶‰∏∫‰∏Ä‰∏™Êñá‰ª∂ boolean isFile = file.isFile(); // Âà§Êñ≠ÂΩìÂâçFileÂØπË±°Ë°®Á§∫ÁöÑÊòØÂê¶‰∏∫‰∏Ä‰∏™ÁõÆÂΩï boolean isDir = file.isDirectory(); //ÊòØÂê¶‰∏∫‰∏Ä‰∏™ÈöêËóèÊñá‰ª∂ boolean isHidden = file.isHidden()); &#125;&#125;ÂàõÂª∫Êñá‰ª∂1234567891011public class FileDemo2 &#123; public static void main(String[] args) throws IOException &#123; // Âú®ÂΩìÂâçÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂demo.txt File file = new File("."+File.separator+"demo.txt"); if(!file.exists())&#123; file.createNewFile(); System.out.println("ÂàõÂª∫ÂÆåÊØï!"); &#125; &#125;&#125;Âà†Èô§Êñá‰ª∂12345678910public class FileDemo3 &#123; public static void main(String[] args) &#123; File file = new File("."+File.separator+"demo.txt"); if(file.exists())&#123; file.delete(); System.out.println("Âà†Èô§ÂÆåÊØï!"); &#125; &#125;&#125; ‚ÄãÂàõÂª∫ÁõÆÂΩï123456789101112public class FileDemo4 &#123; public static void main(String[] args) &#123; // ÂΩìÂâçÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™ÁõÆÂΩïdemo File dir = new File("demo"); if(!dir.exists())&#123; // ÂàõÂª∫ÁõÆÂΩï dir.mkdir(); System.out.println("ÂàõÂª∫ÂÆåÊØï!"); &#125; &#125;&#125;ÂàõÂª∫Â§öÁ∫ßÁõÆÂΩï12345678910111213141516171819public class FileDemo5 &#123; public static void main(String[] args) &#123; // Âú®ÂΩìÂâçÁõÆÂΩï‰∏ãÂàõÂª∫ÁõÆÂΩïa/b/c/d/e/f File dir = new File( "a"+File.separator + "b"+File.separator + "c"+File.separator + "d"+File.separator + "e"+File.separator + "f" ); if(!dir.exists())&#123; // mkdirsÊñπÊ≥ïÂú®ÂàõÂª∫ÂΩìÂâçÁõÆÂΩïÁöÑÂêåÊó∂‰ºöÂ∞ÜÊâÄÊúâ‰∏çÂ≠òÂú®ÁöÑÁà∂ÁõÆÂΩï // Ëá™Âä®ÂàõÂª∫Âá∫Êù•„ÄÇ dir.mkdirs(); System.out.println("ÂàõÂª∫ÂÆåÊØïÔºÅ"); &#125; &#125;&#125;ÁªìÊûúÔºöÂà†Èô§ÁõÆÂΩïÂè™ËÉΩÂà†Èô§Á©∫ÁõÆÂΩï„ÄÇ12345678910public class FileDemo6 &#123; public static void main(String[] args) &#123; File dir = new File("demo"); if(dir.exists())&#123; // Âà†Èô§ÁõÆÂΩïÔºåÂè™ËÉΩÂà†Èô§Á©∫ÁõÆÂΩïÔºåÂç≥: ÁõÆÂΩï‰∏≠‰∏çËÉΩÂê´Êúâ‰ªª‰ΩïÂ≠êÈ°π„ÄÇ dir.delete(); System.out.println("Âà†Èô§ÂÆåÊØï!"); &#125; &#125;&#125;listFilesËé∑Âèñ‰∏Ä‰∏™ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÂ≠êÈ°π„ÄÇ123456789public class FileDemo7 &#123; public static void main(String[] args) &#123; File dir = new File("."); File[] subs = dir.listFiles(); for(File sub : subs)&#123; System.out.println((sub.isFile()?"Êñá‰ª∂:":"ÁõÆÂΩï:")+sub.getName()); &#125; &#125;&#125;FilefilterÊñá‰ª∂ËøáÊª§Âô®FilefilterÔºöËé∑Âèñ‰∏Ä‰∏™ÁõÆÂΩï‰∏ãÁ¨¶ÂêàÊù°‰ª∂ÁöÑÂ≠êÈ°πÔºåÈúÄË¶Å‰ΩøÁî®Êñá‰ª∂ËøáÊª§Âô®Êù•ÂÆö‰πâËøáÊª§Êù°‰ª∂„ÄÇÈÄöÂ∏∏‰ΩøÁî®ÂåøÂêçÂÜÖÈÉ®Á±ªÊù•ÂÆûÁé∞„ÄÇ1234567891011121314151617181920212223242526public class FileDemo8 &#123; public static void main(String[] args) &#123; /* * Ëé∑ÂèñÂΩìÂâçÁõÆÂΩï‰∏ãÊâÄÊúâÂêçÂ≠óÊòØ‰ª•"."ÂºÄÂ§¥ÁöÑÂ≠êÈ°π * ‰ΩøÁî®ÂåøÂêçÂÜÖÈÉ®Á±ª */ FileFilter filter = new FileFilter()&#123; public boolean accept(File file) &#123; String name = file.getName(); System.out.println("Ê≠£Âú®ËøáÊª§:"+name); return name.startsWith("."); &#125; &#125;; File dir = new File("."); /* * ËØ•ÈáçËΩΩÁöÑlistFilesÊñπÊ≥ï‰ºöÂ∞ÜÂΩìÂâçÁõÆÂΩï‰∏≠ÁöÑÊØè * ‰∏Ä‰∏™Â≠êÈ°πÈÉΩ‰∫§ÁªôËøáÊª§Âô®ÔºåÁÑ∂ÂêéÂè™‰øùÁïôÊª°Ë∂≥ËøáÊª§Âô® * Ë¶ÅÊ±Ç(‰∏∫true)ÁöÑÂ≠êÈ°π */ File[] subs = dir.listFiles(filter); for(File sub : subs)&#123; System.out.println(sub.getName()); &#125; &#125;&#125;ËæìÂá∫Ôºö1234567891011Ê≠£Âú®ËøáÊª§:.classpathÊ≠£Âú®ËøáÊª§:.projectÊ≠£Âú®ËøáÊª§:.settingsÊ≠£Âú®ËøáÊª§:aÊ≠£Âú®ËøáÊª§:buildÊ≠£Âú®ËøáÊª§:srcÊ≠£Âú®ËøáÊª§:test.txtÊ≠£Âú®ËøáÊª§:WebContent.classpath.project.settingsÂà†Èô§Âê´ÊúâÂ≠êÈ°πÁõÆÂΩï‰ΩøÁî®‚ÄúÈÄíÂΩí‚ÄùÁöÑÊñπÂºèÂà†Èô§Âê´ÊúâÂ≠êÈ°πÁöÑÁõÆÂΩïÔºàÂà†Èô§‰∏äÈù¢ÂàõÂª∫ÁöÑaÁõÆÂΩïÔºâ„ÄÇ123456789101112131415161718192021public class FileDemo9 &#123; public static void main(String[] args) &#123; File dir = new File("a"); deleteFile(dir); &#125; /** * Â∞ÜÁªôÂÆöÁöÑFileË°®Á§∫ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÂà†Èô§ * @param file */ public static void deleteFile(File file)&#123; if(file.isDirectory())&#123; //ÂÖàÂ∞ÜÂÖ∂ÊâÄÊúâÂ≠êÈ°πÂà†Èô§ File[] subs = file.listFiles(); for(File sub:subs)&#123; //ÈÄíÂΩí deleteFile(sub); &#125; &#125; file.delete(); &#125;&#125;ËØªÂÜôÊñá‰ª∂Êï∞ÊçÆÂÜôÂÖ•Ôºö123456789101112131415161718public class RandomAccessFileDemo1 &#123; public static void main(String[] args) throws IOException &#123; /* * RandomAccessFileÂàõÂª∫ÊîØÊåÅÂæàÂ§öÊ®°Âºè * Â∏∏Áî®ÁöÑÊúâ: * "r":Âè™ËØª * "rw":ËØªÂÜô */ RandomAccessFile raf= new RandomAccessFile("demo.dat","rw"); /* * void write(int d) * ÂêëÊñá‰ª∂‰∏≠ÂÜôÂÖ•‰∏Ä‰∏™Â≠óËäÇÔºåÂÜôÁöÑÊòØËØ•intÂÄºÂØπÂ∫îÁöÑ2ËøõÂà∂ÂÜÖÂÆπ‰∏≠ÁöÑ"‰ΩéÂÖ´‰Ωç", * ËåÉÂõ¥255 */ raf.write(27); raf.close(); &#125;&#125;ËØªÂèñÔºö12345678910111213public class RandomAccessFileDemo2 &#123; public static void main(String[] args) throws IOException &#123; RandomAccessFile raf = new RandomAccessFile("demo.dat","r"); /* * int read() * ËØªÂèñ‰∏Ä‰∏™Â≠óËäÇÔºåÂπ∂‰ª•int(‰ΩéÂÖ´‰Ωç)ÂΩ¢ÂºèËøîÂõû * Ëã•ËØªÂèñÂà∞Êñá‰ª∂Êú´Â∞æÂàôËøîÂõûÂÄº‰∏∫-1 */ int d = raf.read(); System.out.println(d); // 27 raf.close(); &#125;&#125;ÊâπÈáèËØªÂÜôvoid write(byte[] data)ÔºöÊâπÈáèÂÜôÂá∫Â≠óËäÇ„ÄÇ‰∏ÄÊ¨°ÊÄßÂ∞ÜÁªôÂÆöÁöÑÂ≠óËäÇÊï∞ÁªÑ‰∏≠ÁöÑÊâÄÊúâÂ≠óËäÇÂÜôÂá∫„ÄÇ12345678910111213141516171819202122public class RandomAccessFileDemo3 &#123; public static void main(String[] args) throws IOException &#123; RandomAccessFile raf = new RandomAccessFile("demo.dat","rw"); String str = "Êë©Êì¶Êë©Êì¶ÔºåÊòØÈ≠îÈ¨ºÁöÑÊ≠•‰ºê"; /* * byte[] getBytes() * StringÊèê‰æõÁöÑËØ•ÊñπÊ≥ïÂèØ‰ª•Â∞ÜÂΩìÂâçÂ≠óÁ¨¶‰∏≤ * ÊåâÁÖßÁ≥ªÁªüÈªòËÆ§ÁöÑÂ≠óÁ¨¶ÈõÜËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑ‰∏ÄÁªÑÂ≠óËäÇ * * byte[] getBytes(String charset) * ÊåâÁÖßÁªôÂÆöÁöÑÂ≠óÁ¨¶ÈõÜÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫‰∏ÄÁªÑÂ≠óËäÇ * Â≠óÁ¨¶ÈõÜÂêçÁß∞: * GBK:ÂõΩÊ†áÁºñÁ†Å ‰∏≠Êñá2Â≠óËäÇ * UTF-8:ÂèòÈïøÁºñÁ†ÅÈõÜÔºå1-4‰∏™Â≠óËäÇÔºå‰∏≠Êñá3Â≠óËäÇ * ISO8859-1:Ê¨ßÊ¥≤ÁºñÁ†ÅÔºå‰∏çÊîØÊåÅ‰∏≠Êñá */ byte[] data = str.getBytes("GBK"); raf.write(data); System.out.println("ÂÜôÂá∫ÂÆåÊØï"); raf.close(); &#125;&#125;int read(byte[] data)Ôºö‰∏ÄÊ¨°ÊÄßÂ∞ùËØïËØªÂèñÁªôÂÆöÂ≠óËäÇÊï∞ÁªÑÈïøÂ∫¶ÁöÑÂ≠óËäÇÈáèÔºåÂπ∂Â≠òÂÖ•ËØ•Êï∞ÁªÑ‰∏≠ÔºåËøîÂõûÂÄº‰∏∫ÂÆûÈôÖËØªÂèñÂà∞ÁöÑÂ≠óËäÇÈáèÔºåËã•ËøîÂõûÂÄº‰∏∫-1,ÂàôË°®Á§∫ËøôÊ¨°Ê≤°ÊúâËØªÂà∞‰ªª‰ΩïÊï∞ÊçÆ(Êñá‰ª∂Êú´Â∞æ‰∫Ü)„ÄÇ12345678910111213141516public class RandomAccessFileDemo4 &#123; public static void main(String[] args) throws IOException &#123; RandomAccessFile raf = new RandomAccessFile("demo.dat","r"); byte[] data = new byte[100]; int len = raf.read(data);//ÊØèÊ¨°readÁöÑÈïøÂ∫¶Ôºå‰∏çÂÜôÈªòËÆ§‰∏∫1 System.out.println("ËØªÂà∞‰∫Ü"+len+"‰∏™Â≠óËäÇ");//ËØªÂà∞‰∫Ü22‰∏™Â≠óËäÇ /* * ËØ•ÊûÑÈÄ†ÊñπÊ≥ïÂÖÅËÆ∏Êàë‰ª¨Â∞ÜÁªôÂÆöÁöÑÂ≠óËäÇÊï∞ÁªÑ * ‰∏≠ÊåáÂÆöËåÉÂõ¥ÂÜÖÁöÑÂ≠óËäÇËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑÂ≠óÁ¨¶‰∏≤ */ String str = new String(data,0,len,"GBK"); System.out.println(str);//Êë©Êì¶Êë©Êì¶ÔºåÊòØÈ≠îÈ¨ºÁöÑÊ≠•‰ºê raf.close(); &#125;&#125;Â§çÂà∂Êñá‰ª∂ÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏ÄËØª‰∏ÄÂÜô„ÄÇ12345678910111213141516171819public class CopyDemo &#123; public static void main(String[] args) throws IOException &#123; RandomAccessFile src = new RandomAccessFile("1.mp4","r"); RandomAccessFile desc = new RandomAccessFile("1_copy.mp4","rw" ); byte[] buf = new byte[1024*10]; int len = -1; while((len=src.read(buf))!=-1)&#123; /* * void write(byte[] data,int offset,int len) * Â∞ÜÂΩìÂâçÊï∞ÁªÑ‰∏≠‰ªéoffsetÊåáÂÆö‰ΩçÁΩÆÂºÄÂßãÔºåËøûÁª≠len * ‰∏™Â≠óËäÇÂÜôÂá∫ */ desc.write(buf,0,len); &#125; src.close(); desc.close(); &#125;&#125;]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÆöÂà∂JSPÊ†áÁ≠æ]]></title>
    <url>%2F%E5%AE%9A%E5%88%B6JSP%E6%A0%87%E7%AD%BE.html</url>
    <content type="text"><![CDATA[ÂΩìJSTLËá™Â∏¶Ê†áÁ≠æÊó†Ê≥ïÊª°Ë∂≥Êàë‰ª¨ÁöÑÂºÄÂèëÈúÄÊ±ÇÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂèØ‰ª•Ëá™ÂÆö‰πâÊ†áÁ≠æ„ÄÇÂÆöÂà∂Ê†áÁ≠æÂèØ‰ª•ÈÄöËøáÂÆûÁé∞SimpleTagÊé•Âè£ÊàñËÄÖÁªßÊâøSimpleTagSupportÁ±ªÔºàSimpleTagSupportÊèê‰æõ‰∫ÜSimpleTagÊé•Âè£ÈªòËÆ§ÂÆûÁé∞Ôºâ„ÄÇÊ†áÁ≠æÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÂäüËÉΩÈÄªËæëÂÜôÂú®doTag()ÊñπÊ≥ï‰∏≠ÔºåÂÆöÂà∂JSPÊ†áÁ≠æÁöÑÂ§ßËá¥Ê≠•È™§ÂàÜ‰∏∫‰∏§Ê≠•Ôºö1.ÁºñÂÜôÊ†áÁ≠æÂ§ÑÁêÜÂô®2.Ê≥®ÂÜåÊ†áÁ≠æSimpleTagÊ†áÁ≠æÂ§ÑÁêÜÂô®ÁºñÂÜô‰∏Ä‰∏™JavaÁ±ªÔºåÂÆûÁé∞SimpleTagÊé•Âè£Ôºö12345678910111213141516171819202122232425262728public class MyFirstTag implements SimpleTag&#123; JspContext jspContext; @Override public void doTag() throws JspException, IOException &#123; System.out.println("doTag"); jspContext.getOut().print("This is my first tag."); &#125; @Override public JspTag getParent() &#123; return null; &#125; @Override public void setJspBody(JspFragment body) &#123; System.out.println(body); &#125; @Override public void setJspContext(JspContext jspContext) &#123; this.jspContext=jspContext; &#125; @Override public void setParent(JspTag parent) &#123; &#125;&#125;doTagÊñπÊ≥ï‰∏≠ÁºñÂÜô‰∫ÜÂÆöÂà∂Ê†áÁ≠æË¶ÅÂÆûÁé∞ÁöÑÂäüËÉΩ„ÄÇgetParentÔºåsetParentÊñπÊ≥ïÂè™ÊúâÊ†áÁ≠æÂµåÂ•óÂú®Âè¶‰∏Ä‰∏™Ê†áÁ≠æÁöÑÊó∂ÂÄôÊâçË¢´Ë∞ÉÁî®„ÄÇsetJspContextÊñπÊ≥ï‰º†ÈÄí‰∫Ü‰∏Ä‰∏™JspContextÂØπË±°ÔºåJspContextÂØπË±°ÁöÑgetOutÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™JspWriter„ÄÇÊ≥®ÂÜåÊ†áÁ≠æÂú®WEB-INFÊñá‰ª∂Â§π‰∏ãÊñ∞Âª∫‰∏Ä‰∏™tldsÊñá‰ª∂Â§πÔºåÁÑ∂ÂêéÂú®ËØ•Êñá‰ª∂Â§π‰∏ãÊñ∞Âª∫‰∏Ä‰∏™mytags.tldÊñá‰ª∂Ôºö123456789101112131415&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;taglib xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_1.xsd" version="2.1"&gt; &lt;description&gt;Simple tag examples&lt;/description&gt; &lt;tlib-version&gt;1.0&lt;/tlib-version&gt; &lt;short-name&gt;My First Taglib Example&lt;/short-name&gt; &lt;tag&gt; &lt;name&gt;firstTag&lt;/name&gt; &lt;tag-class&gt;MyTags.MyFirstTag&lt;/tag-class&gt; &lt;body-content&gt;empty&lt;/body-content&gt; &lt;/tag&gt;&lt;/taglib&gt;ÊúÄ‰∏ªË¶ÅÁöÑ‰∏∫tagÊ†áÁ≠æÔºånameÊ†áÁ≠æÂêçÔºåtag-class‰∏∫Ê†áÁ≠æjavaÁ±ªË∑ØÂæÑ„ÄÇÂú®jspÈ°µÈù¢‰∏≠‰ΩøÁî®ËØ•Ê†áÁ≠æÔºö123456789&lt;%@ taglib uri="/WEB-INF/tlds/mytags.tld" prefix="mt"%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Testing my first tag&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;mt:firstTag/&gt;&lt;/body&gt;&lt;/html&gt;ÂêØÂä®tomcatËÆøÈóÆËØ•jspÔºåÈ°µÈù¢ÊòæÁ§∫This is my first tag. ÊéßÂà∂Âè∞ËæìÂá∫doTag„ÄÇSimpleTagSupportÂè¶‰∏ÄÁßçÊñπÊ≥ï‰∏∫ÁªßÊâøSimpleTagSupportÁ±ªÔºåÈáçÂÜôdoTagÊñπÊ≥ïÔºåËøôÈáåÊ®°Êãü‰∏Ä‰∏™Êó∂Èó¥Ê†ºÂºèÂåñÊ†áÁ≠æÔºö12345678910111213public class DateFormatTag extends SimpleTagSupport&#123; private String fmt; public void setFmt(String fmt) &#123; this.fmt = fmt; &#125; public void doTag() throws IOException, JspException &#123; JspContext jspContext = getJspContext(); JspWriter out = jspContext.getOut(); SimpleDateFormat sdf = new SimpleDateFormat(fmt); out.print(sdf.format(new Date())); &#125;&#125;fmt‰∏∫Ê†áÁ≠æÁöÑÂ±ûÊÄßÔºåËøôÈáå‰∏∫Êó∂Èó¥Ê†ºÂºèÂåñÁöÑÊ†ºÂºè„ÄÇÈÄöËøáÈùôÊÄÅÊñπÊ≥ïgetJspContextÂèØ‰ª•Ëé∑ÂèñJspContextÂØπË±°„ÄÇÁºñÂÜôÂ•Ω‰æøÁ≠æÂ§ÑÁêÜÂô®ÂêéÔºåÊ≥®ÂÜåÂÆÉÔºö123456789&lt;tag&gt; &lt;name&gt;DateFormat&lt;/name&gt; &lt;tag-class&gt;MyTags.DateFormatTag&lt;/tag-class&gt; &lt;body-content&gt;empty&lt;/body-content&gt; &lt;attribute&gt; &lt;name&gt;fmt&lt;/name&gt; &lt;required&gt;true&lt;/required&gt; &lt;/attribute&gt;&lt;/tag&gt;‚ÄãattributeÊ†áÁ≠æÂÆö‰πâ‰∫ÜÊ†áÁ≠æÁöÑÂ±ûÊÄß„ÄÇÂú®jspÈ°µÈù¢‰∏≠ËøõË°åÊµãËØïÔºö1234567891011121314&lt;%@ taglib uri="/WEB-INF/tlds/mytags.tld" prefix="mt"%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;test dateformat&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;mt:DateFormat fmt="yyyy-MM-dd HH:mm:ss"/&gt;&lt;br/&gt; &lt;mt:DateFormat&gt; &lt;jsp:attribute name="fmt"&gt; yyyy-MM-dd &lt;/jsp:attribute&gt; &lt;/mt:DateFormat&gt;&lt;/body&gt;&lt;/html&gt;‰∏§ÁßçÊñπÂºèÁªôfmtÂ±ûÊÄßËµãÂÄºÔºåÂêØÂä®tomcatËÆøÈóÆËØ•jspÈ°µÈù¢ÔºåÈ°µÈù¢ÊòæÁ§∫ÔºöJspFragmentJspFragmentÂ∞±ÊòØ‰∏ÄÊÆµ‰∏çÂåÖÂê´scripletÁöÑjsp‰ª£Á†ÅÊÆµÔºåJspFragmentÁ±ªÊúâ‰∏§‰∏™ÊñπÊ≥ïÔºögetJspContextÂíåinvoke„ÄÇgetJspContextÊñπÊ≥ïËøîÂõû‰∏éËøô‰∏™JspFragmentÁõ∏ÂÖ≥ÁöÑJspContextÔºåinvokeÊñπÊ≥ïÁî®Êù•ÊâßË°åÁâáÊÆµÔºåÂ¶ÇÊûúÁâáÊÆµ‰∏çÂê´Ê†áÁ≠æÊó†ÈúÄÊâßË°åÁöÑËØùÔºåÂàô‰º†ÈÄínull„ÄÇÁé∞ÂÆöÂà∂‰∏Ä‰∏™selectÊ†áÁ≠æÔºå‰ªªÂä°ÊòØÊ†πÊçÆ‰º†ÂÖ•ÁöÑ‰ª•ÈÄóÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤ËΩ¨‰∏∫ÂØπÂ∫îÁöÑ‰∏ãÊãâÈÄâÊ°Ü„ÄÇselectÊ†áÁ≠æÈáåÁöÑJspFragmentÂÜÖÂÆπ‰∏∫Ôºö1&lt;option value="$&#123;value&#125;"&gt;$&#123;text&#125;&lt;/option&gt;ÁºñÂÜôÊ†áÁ≠æÂ§ÑÁêÜÂô®Ôºö12345678910111213141516171819public class SelectTag extends SimpleTagSupport&#123; private String values; public void setValues(String values) &#123; this.values = values; &#125; public void doTag() throws IOException, JspException &#123; JspContext jspContext = getJspContext(); JspWriter out = jspContext.getOut(); String[] arr= values.split(","); out.print("&lt;select&gt;\n"); for(int i=0;i&lt;arr.length;i++)&#123; jspContext.setAttribute("value", i+1); jspContext.setAttribute("text", arr[i]); getJspBody().invoke(null); &#125; out.print("&lt;/select&gt;\n"); &#125;&#125;Ê≥®ÂÜåËØ•Ê†áÁ≠æÔºö123456789&lt;tag&gt; &lt;name&gt;select&lt;/name&gt; &lt;tag-class&gt;MyTags.SelectTag&lt;/tag-class&gt; &lt;body-content&gt;scriptless&lt;/body-content&gt; &lt;attribute&gt; &lt;name&gt;values&lt;/name&gt; &lt;required&gt;true&lt;/required&gt; &lt;/attribute&gt;&lt;/tag&gt;Âõ†‰∏∫Ê†áÁ≠æÂåÖÂê´JspFragmentÔºåÊâÄ‰ª•body-contentÊ†áÁ≠æÈÖçÁΩÆ‰∏∫scriptless„ÄÇÂú®jspÈ°µÈù¢‰∏≠ÊµãËØïËØ•Ê†áÁ≠æÔºö1234567891011&lt;%@ taglib uri="/WEB-INF/tlds/mytags.tld" prefix="mt"%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;test selecttag&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;mt:select values="fuzhou,xiamen,longyan"&gt; &lt;option value="$&#123;value&#125;"&gt;$&#123;text&#125;&lt;/option&gt; &lt;/mt:select&gt;&lt;/body&gt;&lt;/html&gt;ÂêØÂä®tomcatÔºåËÆøÈóÆËØ•jspÈ°µÈù¢ÔºåÈ°µÈù¢ÊòæÁ§∫ÔºöÊü•ÁúãÊ∫êÁ†ÅÔºö12345&lt;select&gt; &lt;option value="1"&gt;fuzhou&lt;/option&gt; &lt;option value="2"&gt;xiamen&lt;/option&gt; &lt;option value="3"&gt;longyan&lt;/option&gt;&lt;/select&gt;ÂáΩÊï∞ÂÅáÂ¶ÇJSTL‰∏≠ÁöÑÂáΩÊï∞Ê†áÁ≠æ‰∏çËÉΩÊª°Ë∂≥Êàë‰ª¨ÁöÑÂÆûÈôÖÈúÄÊ±ÇÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ëá™Â∑±ÁºñÂÜô„ÄÇÊñ∞Âª∫FunctionÂåÖÔºåÂú®ÂåÖ‰∏ãÂàõÂª∫StringFunctionÁ±ªÔºö12345public class StringFunction &#123; public static String reverseString(String value)&#123; return new StringBuffer(value).reverse().toString(); &#125;&#125;Ê≥®ÂÜåËØ•Ê†áÁ≠æÔºöÂú®WEB-INF‰∏ãÁöÑtlds‰∏ãÊñ∞Âª∫function.tldÔºö123456789101112131415161718&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;taglib xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_1.xsd" version="2.1"&gt; &lt;description&gt;Function tag examples&lt;/description&gt; &lt;tlib-version&gt;1.0&lt;/tlib-version&gt; &lt;function&gt; &lt;description&gt;Reverses a String&lt;/description&gt; &lt;name&gt;reverseString&lt;/name&gt; &lt;function-class&gt;Functions.StringFunction&lt;/function-class&gt; &lt;function-signature&gt; java.lang.String reverseString(java.lang.String) &lt;/function-signature&gt; &lt;/function&gt; &lt;/taglib&gt;nameË°®Á§∫ÂáΩÊï∞Âêç„ÄÇfunction-class‰∏∫ÂÆûÁé∞ËØ•ÂáΩÊï∞ÁöÑJavaÁ±ªÁöÑÂÖ®Á±ªÂêç„ÄÇfunction-signatureË°®Á§∫ËØ•ÂáΩÊï∞ÁöÑÈùôÊÄÅJavaÊñπÊ≥ïÁ≠æÂêç„ÄÇÂú®jsp‰∏≠ÊµãËØïËØ•ELÂáΩÊï∞Ôºö123456789&lt;%@ taglib uri="/WEB-INF/tlds/function.tld" prefix="fn"%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Testing reverseString function&lt;/title&gt;&lt;/head&gt;&lt;body&gt; $&#123;fn:reverseString("Hello World")&#125;&lt;/body&gt;&lt;/html&gt;ÂêØÂä®tomcatÔºåËÆøÈóÆËØ•jspÔºåÈ°µÈù¢ÊòæÁ§∫Ôºö„ÄäServletÂíåJSPÂ≠¶‰π†ÊåáÂçó„ÄãÂ≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>servlet&amp;jsp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSP Standard Tag Library]]></title>
    <url>%2FJSP-Standard-Tag-Library.html</url>
    <content type="text"><![CDATA[JSTLÔºàJSP Standard Tag LibraryÔºâ‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://jstl.java.net/„ÄÇJSTLÂåÖÂê´Ôºö1.JSTL API2.JSTL ImplementationJSPÈ°µÈù¢‰∏≠‰ΩøÁî®JSTLÔºå‰ΩøÁî®taglibÊåá‰ª§ÂºïÂÖ•Ôºö1&lt;%@ taglib rui="uri" prefix="prefix"%&gt;ÈÄöÁî®Âä®‰ΩúÊåá‰ª§ÂºïÂÖ•Ôºö1&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;outÊ†áÁ≠æÊ†áËÆ∞&lt;c:out&gt;ÂÖ∑Êúâ‰ª•‰∏ãÂ±ûÊÄßÔºöÂ±ûÊÄßÊèèËø∞value*+ &nbsp;Ë¶ÅËøêÁÆóÁöÑË°®ËææÂºèdefaultÈªòËÆ§ÂÄºescapeXmlTrueÔºåÂ¶ÇÊûúÊ†áÁ≠æËΩ¨‰πâÁâπÊÆäXMLÂ≠óÁ¨¶*Ë°®Á§∫Â±ûÊÄßÊòØÂøÖÈúÄÁöÑÔºå+Âè∑Ë°®Á§∫ÂèØ‰ª•‰∏∫Ë°®ËææÂºè„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåexcapeXmlÂ±ûÊÄß‰∏∫trueÔºåÊÑèÂë≥ÁùÄ‰ºöÂ∞Ü&lt;Ôºå&gt;Ôºå‚ÄôÔºå‚ÄùÂíå&amp;ËΩ¨Êç¢‰∏∫&lt;Ôºå&gt;Ôºå&#039;Âíå&amp;„ÄÇsetÊ†áÁ≠æ&lt;c:set&gt;Ê†áËÆ∞ÂÖ∑Êúâ‰ª•‰∏ãÂ±ûÊÄßÔºöÂ±ûÊÄßÊèèËø∞value+Ë¶ÅÂàõÂª∫ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊàñË¶ÅÂºïÁî®ÁöÑÈôêÂüüÂØπË±°ÔºåÊàñÊñ∞ÁöÑÂ±ûÊÄßÂÄºtarget+ÂÖ∂Â±ûÊÄßÂ∫îËØ•Ë¢´‰øÆÊîπÁöÑÈôêÂüüÂØπË±°ÁõÆÊ†áproperty+Ë¶Å‰øÆÊîπÁöÑÂ±ûÊÄßÂêçÁß∞varÈôêÂüüÂèòÈáèscopeËåÉÂõ¥ÔºåÈªòËÆ§‰∏∫pageÂ¶ÇÔºåÂàõÂª∫‰∏Ä‰∏™pageËåÉÂõ¥ÁöÑfooÂèòÈáèÔºåÂπ∂ËµãÂÄºÔºö1&lt;c:set var="foo" value="The wisest fool"/&gt;ÂàõÂª∫‰∏Ä‰∏™ÈôêÂüüÂèòÈáèjobÔºåÂÄº‰∏∫requestËåÉÂõ¥ÁöÑÂØπË±°positionÔºåÈôêÂüüÂèòÈáèÁöÑËåÉÂõ¥‰∏∫pageÔºö1&lt;c:set var="job" value="$&#123;requestScope.position&#125;" socpe="page"/&gt;ËÆæÁΩÆaddressÂØπË±°ÁöÑcityÂ±ûÊÄß‰∏∫fuzhouÔºö1&lt;c:set target="$&#123;address&#125;" property="city" value="fuzhzou"/&gt;‰πüÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö123&lt;c:set target="$&#123;address&#125;" property="city"&gt; fuzhou&lt;/c:set&gt;removeÊ†áÁ≠æ&lt;c:remove&gt;Ê†áÁ≠æÂÖ∑Êúâ‰ª•‰∏ãÂ±ûÊÄßÔºöÂ±ûÊÄßÊèèËø∞ÈªòËÆ§ÂÄºvarË¶ÅÂà†Èô§ÁöÑÂèòÈáèÂêçNonescopeÂà†Èô§ÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÊâÄÊúâ‰ΩúÁî®ÂüüÂ¶ÇÂà†Èô§‰ΩúÁî®Âüü‰∏∫pageÁöÑjobÈôêÂüüÂèòÈáèÔºö1&lt;c:remove var="job" scope="page"/&gt;Êù°‰ª∂ÂºèÂä®‰ΩúÊåá‰ª§ÂºïÂÖ•Ôºö1&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;ifÊ†áÁ≠æ&lt;c:if&gt;Ê†áÁ≠æÂÖ∑Êúâ‰ª•‰∏ãÂ±ûÊÄßÔºöÂ±ûÊÄßÊèèËø∞ÈªòËÆ§test*+Êù°‰ª∂ËÆ°ÁÆóNonevarÂèòÈáèÂêçÁß∞Êù•Â≠òÂÇ®Êù°‰ª∂ÁöÑÁªìÊûúÔºåBooleanÁ±ªÂûãNonescopevarÂèòÈáèÁöÑ‰ΩúÁî®ÂüüpageÂ¶ÇÔºö1234&lt;c:set var="salary" scope="session" value="$&#123;2000*2&#125;"/&gt;&lt;c:if test="$&#123;salary &gt; 2000&#125;"&gt; My salary is: &lt;c:out value="$&#123;salary&#125;"/&gt;&lt;/c:if&gt;Ê®°Êãüif‚Ä¶elseÔºö123456&lt;c:if test="$&#123;param.user=='mrbird' &amp;&amp; password=='mrbird'&#125;"&gt; mrbird logged in successfully.&lt;/c:if&gt;&lt;c:if test="$&#123;!(param.user=='mrbird' &amp;&amp; password=='mrbird')&#125;"&gt; userName or password is wrong&lt;/c:if&gt;choose,whenÂíåotherwiseËØ•Ê†áÁ≠æÁ±ª‰ºº‰∫éJava‰∏≠ÁöÑswitchÂíåcaseÂÖ≥ÈîÆÂ≠óÁ±ª‰ººÔºå‰ΩøÁî®ÊñπÊ≥ïÂ¶Ç‰∏ãÔºö1234567891011&lt;c:choose&gt; &lt;c:when test="$&#123;param.user=="mrbird"&#125;"&gt; hi,mrbird. &lt;/c:when&gt; &lt;c:when test="$&#123;param.user=="jint"&#125;"&gt; hi,jint. &lt;/c:when&gt; &lt;c:otherwise&gt; hi,someone else. &lt;/c:otherwise&gt;&lt;/c:choose&gt;iteratorÂä®‰ΩúÊåá‰ª§forEachÊ†áÁ≠æ&lt;c:forEach&gt;Ê†áËÆ∞ÂÖ∑Êúâ‰ª•‰∏ãÂ±ûÊÄßÔºöÂ±ûÊÄßÊèèËø∞ÈªòËÆ§items+Ë¶ÅËø≠‰ª£ÁöÑÂØπË±°ÈõÜÂêàNonebegin+ÂºÄÂßãÁ¥¢Âºï0end+ÁªìÊùüÁ¥¢ÂºïLast elementstep+Ëø≠‰ª£Ê≠•Èïø1varÂΩìÂâçËø≠‰ª£ÂÜÖÂÆπÁöÑÈôêÂüüÂèòÈáèÂêçNonevarStatus‰øùÂ≠òËø≠‰ª£Áä∂ÊÄÅÁöÑÈôêÂüüÂèòÈáèÂêçNoneÂÖ∂‰∏≠ÔºåvarStatusÂåÖÂê´‰∏Ä‰∫õÂ±ûÊÄßÔºö1.currentÂΩìÂâçËøôÊ¨°Ëø≠‰ª£ÁöÑÔºàÈõÜÂêà‰∏≠ÁöÑÔºâÈ°π2.indexÂΩìÂâçËøôÊ¨°Ëø≠‰ª£‰ªé 0 ÂºÄÂßãÁöÑËø≠‰ª£Á¥¢Âºï3.countÂΩìÂâçËøôÊ¨°Ëø≠‰ª£‰ªé 1 ÂºÄÂßãÁöÑËø≠‰ª£ËÆ°Êï∞4.firstÁî®Êù•Ë°®ÊòéÂΩìÂâçËøôËΩÆËø≠‰ª£ÊòØÂê¶‰∏∫Á¨¨‰∏ÄÊ¨°Ëø≠‰ª£ÁöÑÊ†áÂøó5.lastÁî®Êù•Ë°®ÊòéÂΩìÂâçËøôËΩÆËø≠‰ª£ÊòØÂê¶‰∏∫ÊúÄÂêé‰∏ÄÊ¨°Ëø≠‰ª£ÁöÑÊ†áÂøóÂ¶ÇÂæ™ÁéØËæìÂá∫booksÈõÜÂêàÔºåÂπ∂ÊéßÂà∂ÂçïÂèåË°åË°®Ê†ºÊ†∑ÂºèÔºö1234567891011121314151617&lt;table&gt; &lt;tr style="background:#ababff"&gt; &lt;td&gt;ISBN&lt;/td&gt; &lt;td&gt;Title&lt;/td&gt; &lt;/tr&gt; &lt;c:forEach item="$&#123;requestScope.books&#125;" var="book" vatStatus="status"&gt; &lt;c:if test="$&#123;status.count%2 == 0&#125;"&gt; &lt;tr style="background:#eeeeff"&gt; &lt;/c:if&gt; &lt;c:if test="$&#123;status.count%2 != 0&#125;"&gt; &lt;tr style="background:#dedeff"&gt; &lt;/c:if&gt; &lt;td&gt;$&#123;book.isbn&#125;&lt;/td&gt; &lt;td&gt;$&#123;book.title&#125;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt;&lt;/table&gt;ÁÆÄÂçïÁöÑforEachÊ†áÁ≠æÁ§∫‰æãÔºö123&lt;c:forEach var="x" begin="1" end="5"&gt; &lt;c:out value="$&#123;x&#125;"/&gt;,&lt;/c:forEach&gt;È°µÈù¢ËæìÂá∫1Ôºå2Ôºå3Ôºå4Ôºå5„ÄÇforTokensÊ†áÁ≠æforTokensÊ†áÁ≠æ‰ΩøÁî®ÁöÑÊØîËæÉÂ∞ëÔºåÂ∏∏Áî®ÁöÑ‰æãÂ≠êÔºö123&lt;c:forTokens items="Zara,nuha,roshy" delims="," var="name"&gt; &lt;c:out value="$&#123;name&#125;"/&gt;&lt;/c:forTokens&gt;ËøôÂ∞Ü‰∫ßÁîü‰ª•‰∏ãËæìÂá∫ÁªìÊûúÔºö123ZaranuharoshyÊ†ºÂºèÂåñÂä®‰ΩúÊåá‰ª§ÂºïÂÖ•Ôºö1&lt;%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %&gt;formatNumberÊ†áÁ≠æ&lt;fmt:formatNumber&gt;Ê†áÁ≠æÁî®‰∫éÊ†ºÂºèÂåñÊï∞Â≠óÔºåÁôæÂàÜÊØîÂíåË¥ßÂ∏Å„ÄÇ&lt;fmt:formatNumber&gt;Ê†áÁ≠æÊúâÂ¶Ç‰∏ãÂ±ûÊÄßÔºöÂ±ûÊÄßÊèèËø∞ÈªòËÆ§ÂÄºvalue*+Ë¶ÅÊòæÁ§∫ÁöÑÊï∞Â≠óÊó†type+NUMBERÔºåCURRENCYÔºåÊàñ PERCENTÁ±ªÂûãNumberpattern+ÊåáÂÆö‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÊ†ºÂºèÂåñÊ®°ÂºèÁî®‰∫éËæìÂá∫Êó†currencyCode+Ë¥ßÂ∏ÅÁ†ÅÔºàÂΩìtype=‚Äùcurrency‚ÄùÊó∂ÔºâÂèñÂÜ≥‰∫éÈªòËÆ§Âå∫ÂüücurrencySymbol+Ë¥ßÂ∏ÅÁ¨¶Âè∑ (ÂΩì type=‚Äùcurrency‚ÄùÊó∂)ÂèñÂÜ≥‰∫éÈªòËÆ§Âå∫ÂüügroupingUsed+ÊòØÂê¶ÂØπÊï∞Â≠óÂàÜÁªÑ (TRUE Êàñ FALSE)truemaxIntegerDigits+Êï¥ÂûãÊï∞ÊúÄÂ§ßÁöÑ‰ΩçÊï∞Êó†minIntegerDigits+Êï¥ÂûãÊï∞ÊúÄÂ∞èÁöÑ‰ΩçÊï∞Êó†maxFractionDigits+Â∞èÊï∞ÁÇπÂêéÊúÄÂ§ßÁöÑ‰ΩçÊï∞Êó†minFractionDigits+Â∞èÊï∞ÁÇπÂêéÊúÄÂ∞èÁöÑ‰ΩçÊï∞Êó†varÂ≠òÂÇ®Ê†ºÂºèÂåñÊï∞Â≠óÁöÑÂèòÈáèPrint to pagescopevarÂ±ûÊÄßÁöÑ‰ΩúÁî®ÂüüpagepatternÂ±ûÊÄßÂåÖÂê´ÁöÑÂ≠óÁ¨¶ÔºöÁ¨¶Âè∑ÊèèËø∞0‰ª£Ë°®‰∏Ä‰ΩçÊï∞Â≠óE‰ΩøÁî®ÊåáÊï∞Ê†ºÂºè#‰ª£Ë°®‰∏Ä‰ΩçÊï∞Â≠óÔºåËã•Ê≤°ÊúâÂàôÊòæÁ§∫0.Â∞èÊï∞ÁÇπ,Êï∞Â≠óÂàÜÁªÑÂàÜÈöîÁ¨¶;ÂàÜÈöîÊ†ºÂºè-‰ΩøÁî®ÈªòËÆ§Ë¥üÊï∞ÂâçÁºÄ%ÁôæÂàÜÊï∞?ÂçÉÂàÜÊï∞¬§Ë¥ßÂ∏ÅÁ¨¶Âè∑Ôºå‰ΩøÁî®ÂÆûÈôÖÁöÑË¥ßÂ∏ÅÁ¨¶Âè∑‰ª£ÊõøXÊåáÂÆöÂèØ‰ª•‰Ωú‰∏∫ÂâçÁºÄÊàñÂêéÁºÄÁöÑÂ≠óÁ¨¶‚ÄòÂú®ÂâçÁºÄÊàñÂêéÁºÄ‰∏≠ÂºïÁî®ÁâπÊÆäÂ≠óÁ¨¶‰æãÂ≠êÔºö1234567891011121314151617181920&lt;c:set var="balance" value="120000.2309" /&gt;Ê†ºÂºèÂåñÊï∞Â≠ó (1): &lt;fmt:formatNumber value="$&#123;balance&#125;" type="currency"/&gt;Ê†ºÂºèÂåñÊï∞Â≠ó (2): &lt;fmt:formatNumber type="number" maxIntegerDigits="3" value="$&#123;balance&#125;" /&gt;Ê†ºÂºèÂåñÊï∞Â≠ó (3): &lt;fmt:formatNumber type="number" maxFractionDigits="3" value="$&#123;balance&#125;" /&gt;Ê†ºÂºèÂåñÊï∞Â≠ó (4): &lt;fmt:formatNumber type="number" groupingUsed="false" value="$&#123;balance&#125;" /&gt;Ê†ºÂºèÂåñÊï∞Â≠ó (5): &lt;fmt:formatNumber type="percent" maxIntegerDigits="3" value="$&#123;balance&#125;" /&gt;Ê†ºÂºèÂåñÊï∞Â≠ó (6): &lt;fmt:formatNumber type="percent" minFractionDigits="10" value="$&#123;balance&#125;" /&gt;Ê†ºÂºèÂåñÊï∞Â≠ó (7): &lt;fmt:formatNumber type="percent" maxIntegerDigits="3" value="$&#123;balance&#125;" /&gt;Ê†ºÂºèÂåñÊï∞Â≠ó (8): &lt;fmt:formatNumber type="number" pattern="###.###E0" value="$&#123;balance&#125;" /&gt;ÁæéÂÖÉ : &lt;fmt:setLocale value="en_US"/&gt; &lt;fmt:formatNumber value="$&#123;balance&#125;" type="currency"/&gt;ÁªìÊûúÔºö12345678910Êï∞Â≠óÊ†ºÂºèÂåñ:Ê†ºÂºèÂåñÊï∞Â≠ó (1): Ôø•120,000.23Ê†ºÂºèÂåñÊï∞Â≠ó (2): 000.231Ê†ºÂºèÂåñÊï∞Â≠ó (3): 120,000.231Ê†ºÂºèÂåñÊï∞Â≠ó (4): 120000.231Ê†ºÂºèÂåñÊï∞Â≠ó (5): 023%Ê†ºÂºèÂåñÊï∞Â≠ó (6): 12,000,023.0900000000%Ê†ºÂºèÂåñÊï∞Â≠ó (7): 023%Ê†ºÂºèÂåñÊï∞Â≠ó (8): 120E3ÁæéÂÖÉ : $120,000.23formatDateÊ†áÁ≠æ&lt;fmt:formatDate&gt;Ê†áÁ≠æÁî®‰∫é‰ΩøÁî®‰∏çÂêåÁöÑÊñπÂºèÊ†ºÂºèÂåñÊó•Êúü„ÄÇ&lt;fmt:formatDate&gt;Ê†áÁ≠æÊúâÂ¶Ç‰∏ãÂ±ûÊÄßÔºöÂ±ûÊÄßÊèèËø∞ÊòØÂê¶ÂøÖË¶ÅÈªòËÆ§ÂÄºvalueË¶ÅÊòæÁ§∫ÁöÑÊó•ÊúüÊòØÊó†typeDATE, TIME, Êàñ BOTHÂê¶datedateStyleFULL, LONG, MEDIUM, SHORT, Êàñ DEFAULTÂê¶defaulttimeStyleFULL, LONG, MEDIUM, SHORT, Êàñ DEFAULTÂê¶defaultpatternËá™ÂÆö‰πâÊ†ºÂºèÊ®°ÂºèÂê¶Êó†timeZoneÊòæÁ§∫Êó•ÊúüÁöÑÊó∂Âå∫Âê¶ÈªòËÆ§Êó∂Âå∫varÂ≠òÂÇ®Ê†ºÂºèÂåñÊó•ÊúüÁöÑÂèòÈáèÂêçÂê¶ÊòæÁ§∫Âú®È°µÈù¢scopeÂ≠òÂÇ®Ê†ºÂºèÂåñÊó•ÂøóÂèòÈáèÁöÑËåÉÂõ¥Âê¶È°µÈù¢&lt;fmt:formatDate&gt; Ê†áÁ≠æÊ†ºÂºèÊ®°ÂºèÔºö‰ª£Á†ÅÊèèËø∞ÂÆû‰æãGÊó∂‰ª£Ê†áÂøóADy‰∏çÂåÖÂê´Á∫™ÂÖÉÁöÑÂπ¥‰ªΩ„ÄÇÂ¶ÇÊûú‰∏çÂåÖÂê´Á∫™ÂÖÉÁöÑÂπ¥‰ªΩÂ∞è‰∫é 10Ôºå ÂàôÊòæÁ§∫‰∏çÂÖ∑ÊúâÂâçÂØºÈõ∂ÁöÑÂπ¥‰ªΩ„ÄÇ2002MÊúà‰ªΩÊï∞Â≠ó„ÄÇ‰∏Ä‰ΩçÊï∞ÁöÑÊúà‰ªΩÊ≤°ÊúâÂâçÂØºÈõ∂„ÄÇApril &amp; 04dÊúà‰∏≠ÁöÑÊüê‰∏ÄÂ§©„ÄÇ‰∏Ä‰ΩçÊï∞ÁöÑÊó•ÊúüÊ≤°ÊúâÂâçÂØºÈõ∂„ÄÇ20h12 Â∞èÊó∂Âà∂ÁöÑÂ∞èÊó∂„ÄÇ‰∏Ä‰ΩçÊï∞ÁöÑÂ∞èÊó∂Êï∞Ê≤°ÊúâÂâçÂØºÈõ∂„ÄÇ12H24 Â∞èÊó∂Âà∂ÁöÑÂ∞èÊó∂„ÄÇ‰∏Ä‰ΩçÊï∞ÁöÑÂ∞èÊó∂Êï∞Ê≤°ÊúâÂâçÂØºÈõ∂„ÄÇ0mÂàÜÈíü„ÄÇ‰∏Ä‰ΩçÊï∞ÁöÑÂàÜÈíüÊï∞Ê≤°ÊúâÂâçÂØºÈõ∂„ÄÇ45sÁßí„ÄÇ‰∏Ä‰ΩçÊï∞ÁöÑÁßíÊï∞Ê≤°ÊúâÂâçÂØºÈõ∂„ÄÇ52SÊØ´Áßí970EÂë®Âá†TuesdayD‰∏ÄÂπ¥‰∏≠ÁöÑÁ¨¨Âá†Â§©180F‰∏Ä‰∏™Êúà‰∏≠ÁöÑÁ¨¨Âá†‰∏™Âë®Âá†2 (‰∏Ä‰∏™Êúà‰∏≠ÁöÑÁ¨¨‰∫å‰∏™ÊòüÊúü‰∏â)w‰∏ÄÂπ¥‰∏≠ÁöÑÁ¨¨Âá†Âë®r27W‰∏Ä‰∏™Êúà‰∏≠ÁöÑÁ¨¨Âá†Âë®2aa.m./p.m. ÊåáÁ§∫Á¨¶PMkÂ∞èÊó∂(12 Â∞èÊó∂Âà∂ÁöÑÂ∞èÊó∂)24KÂ∞èÊó∂(24 Â∞èÊó∂Âà∂ÁöÑÂ∞èÊó∂)0zÊó∂Âå∫‰∏≠ÈÉ®Ê†áÂáÜÊó∂Èó¥‚Äò&nbsp;ËΩ¨‰πâÊñáÊú¨‚Äò‚Äô&nbsp;ÂçïÂºïÂè∑‰æãÂ≠êÔºö1234567891011&lt;c:set var="now" value="&lt;%=new java.util.Date()%&gt;" /&gt;&lt;p&gt;Êó•ÊúüÊ†ºÂºèÂåñ (1): &lt;fmt:formatDate type="time" value="$&#123;now&#125;" /&gt;&lt;/p&gt;&lt;p&gt;Êó•ÊúüÊ†ºÂºèÂåñ (2): &lt;fmt:formatDate type="date" value="$&#123;now&#125;" /&gt;&lt;/p&gt;&lt;p&gt;Êó•ÊúüÊ†ºÂºèÂåñ (3): &lt;fmt:formatDate type="both" value="$&#123;now&#125;" /&gt;&lt;/p&gt;&lt;p&gt;Êó•ÊúüÊ†ºÂºèÂåñ (4): &lt;fmt:formatDate type="both" dateStyle="short" timeStyle="short" value="$&#123;now&#125;" /&gt;&lt;/p&gt;&lt;p&gt;Êó•ÊúüÊ†ºÂºèÂåñ (5): &lt;fmt:formatDate type="both" dateStyle="medium" timeStyle="medium" value="$&#123;now&#125;" /&gt;&lt;/p&gt;&lt;p&gt;Êó•ÊúüÊ†ºÂºèÂåñ (6): &lt;fmt:formatDate type="both" dateStyle="long" timeStyle="long" value="$&#123;now&#125;" /&gt;&lt;/p&gt;&lt;p&gt;Êó•ÊúüÊ†ºÂºèÂåñ (7): &lt;fmt:formatDate pattern="yyyy-MM-dd" value="$&#123;now&#125;" /&gt;&lt;/p&gt;ÁªìÊûúÔºö12345678Êó•ÊúüÊ†ºÂºèÂåñ:Êó•ÊúüÊ†ºÂºèÂåñ (1): 11:19:43Êó•ÊúüÊ†ºÂºèÂåñ (2): 2016-6-26Êó•ÊúüÊ†ºÂºèÂåñ (3): 2016-6-26 11:19:43Êó•ÊúüÊ†ºÂºèÂåñ (4): 16-6-26 ‰∏äÂçà11:19Êó•ÊúüÊ†ºÂºèÂåñ (5): 2016-6-26 11:19:43Êó•ÊúüÊ†ºÂºèÂåñ (6): 2016Âπ¥6Êúà26Êó• ‰∏äÂçà11Êó∂19ÂàÜ43ÁßíÊó•ÊúüÊ†ºÂºèÂåñ (7): 2016-06-26Ââ©‰∏ãÁöÑfmtÊ†áÁ≠æËæÉÂ∞ë‰ΩøÁî®ÔºåÊáíÂæóËÆ∞ÂΩï„ÄÇÂáΩÊï∞ÂºïÂÖ•Ôºö1&lt;%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;containsÂáΩÊï∞fn:contains()ÂáΩÊï∞ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123&lt;c:if test="$&#123;fn:contains(&lt;ÂéüÂßãÂ≠óÁ¨¶‰∏≤&gt;, &lt;Ë¶ÅÊü•ÊâæÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤&gt;)&#125;"&gt; ...&lt;/c:if&gt; ‚ÄãÂ¶ÇÔºå‰∏ãÈù¢ÁöÑELË°®ËææÂºèÈÉΩËøîÂõûtrueÔºö123&lt;c:set var="myString" value="Hello World"/&gt;$&#123;fn:contains(myString,"Hello")&#125;$&#123;fn:contains("Stella Cadente","Cadente")&#125;containsIgnoreCaseÂáΩÊï∞ÂíåcontainsÁ±ª‰ººÔºå‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇendsWithÂáΩÊï∞Âà§Êñ≠‰ª•‰ªÄ‰πà‰∏∫ÁªìÂ∞æ„ÄÇstartsWithÂáΩÊï∞escapeXmlÂáΩÊï∞Â¶ÇÔºö1$&#123;fn:escapeXml("Use &lt;br&gt; to change lines")&#125;ÊòæÁ§∫‰∏∫Ôºö1Use &lt;br&gt; to change linesindexOfÂáΩÊï∞fn:indexOf()ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰∏≠ÊåáÂÆöÂ≠ê‰∏≤ÁöÑ‰ΩçÁΩÆ„ÄÇfn:indexOf()ÂáΩÊï∞ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1$&#123;fn:indexOf(&lt;ÂéüÂßãÂ≠óÁ¨¶‰∏≤&gt;,&lt;Â≠êÂ≠óÁ¨¶‰∏≤&gt;)&#125;‰æãÂ≠êÔºö12&lt;c:set var="string1" value="This is first String."/&gt;&lt;p&gt;Index: $&#123;fn:indexOf(string1, "first")&#125;&lt;/p&gt;ÁªìÊûúÔºö1Index: 8joinÂáΩÊï∞fn:join()ÂáΩÊï∞Â∞Ü‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†‰ΩøÁî®ÊåáÂÆöÁöÑÂàÜÈöîÁ¨¶Êù•ËøûÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇsplitÂáΩÊï∞fn:split()ÂáΩÊï∞Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Áî®ÊåáÂÆöÁöÑÂàÜÈöîÁ¨¶ÂàÜË£Ç‰∏∫‰∏Ä‰∏™Â≠ê‰∏≤Êï∞ÁªÑ„ÄÇjoinÂíåsplit‰æãÂ≠êÔºö1234&lt;c:set var="string1" value="www runoob com"/&gt;&lt;c:set var="string2" value="$&#123;fn:split(string1, ' ')&#125;" /&gt;&lt;c:set var="string3" value="$&#123;fn:join(string2, '-')&#125;" /&gt;&lt;p&gt;string3 Â≠óÁ¨¶‰∏≤ : $&#123;string3&#125;&lt;/p&gt;ÁªìÊûú‰∏∫Ôºö1Â≠óÁ¨¶‰∏≤‰∏∫ : www-runoob-comlengthÂáΩÊï∞replaceÂáΩÊï∞fn:replace()ÂáΩÊï∞Â∞ÜÂ≠óÁ¨¶‰∏≤‰∏≠ÊâÄÊúâÊåáÂÆöÁöÑÂ≠ê‰∏≤Áî®Âè¶Â§ñÁöÑÂ≠óÁ¨¶‰∏≤ÊõøÊç¢„ÄÇfn:replace()ÂáΩÊï∞ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1$&#123;fn:replace(&lt;ÂéüÂßãÂ≠óÁ¨¶‰∏≤&gt;, &lt;Ë¢´ÊõøÊç¢ÁöÑÂ≠óÁ¨¶‰∏≤&gt;, &lt;Ë¶ÅÊõøÊç¢ÁöÑÂ≠óÁ¨¶‰∏≤&gt;)&#125;‰æãÂ≠êÔºö123&lt;c:set var="string1" value="I am from USA"/&gt;&lt;c:set var="string2" value="$&#123;fn:replace(string1, 'USA', 'China')&#125;" /&gt;&lt;p&gt;ÊõøÊç¢ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ : $&#123;string2&#125;&lt;/p&gt;ÁªìÊûúÔºö1ÊõøÊç¢ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ : I am from ChinasubstringÂáΩÊï∞fn:substring()ÂáΩÊï∞ËøîÂõûÂ≠óÁ¨¶‰∏≤‰∏≠ÊåáÂÆöÂºÄÂßãÂíåÁªìÊùüÁ¥¢ÂºïÁöÑÂ≠ê‰∏≤„ÄÇfn:substring()ÂáΩÊï∞ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö1$&#123;fn:substring(&lt;string&gt;, &lt;beginIndex&gt;, &lt;endIndex&gt;)&#125;‰æãÂ≠êÔºö123&lt;c:set var="string1" value="This is first String."/&gt;&lt;c:set var="string2" value="$&#123;fn:substring(string1, 5, 15)&#125;" /&gt;&lt;p&gt;ÁîüÊàêÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤‰∏∫ : $&#123;string2&#125;&lt;/p&gt;ÁªìÊûúÔºö1ÁîüÊàêÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤‰∏∫ : is first SsubstringBeforeÂáΩÊï∞fn:substringBefore()ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰∏≠ÊåáÂÆöÂ≠ê‰∏≤ÂâçÈù¢ÁöÑÈÉ®ÂàÜ„ÄÇÂ¶ÇÔºö123&lt;c:set var="string1" value="This is first String."/&gt;&lt;c:set var="string2" value="$&#123;fn:substringBefore(string1, 'first')&#125;" /&gt;&lt;p&gt;ÁîüÊàêÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ : $&#123;string2&#125;&lt;/p&gt;ÁªìÊûúÔºö1ÁîüÊàêÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ : This issubstringAfterÂáΩÊï∞toLowerCaseÂáΩÊï∞toUpperCaseÂáΩÊï∞trimÂáΩÊï∞sqlÊ†áÁ≠æÁï•„ÄÇ„ÄäServletÂíåJSPÂ≠¶‰π†ÊåáÂçó„ÄãÂ≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>servlet&amp;jsp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Server Pages]]></title>
    <url>%2FJava-Server-Pages.html</url>
    <content type="text"><![CDATA[scripletJSPÈ°µÈù¢ÂèØ‰ª•Áõ¥Êé•‰π¶ÂÜôJava ‰ª£Á†ÅÔºåJava‰ª£Á†ÅË¶ÅÁî®&lt;% %&gt;ÂåÖË£πËµ∑Êù•Ôºå&lt;% %&gt;‰ª£Á†ÅÂùó‰πüË¢´Êàê‰∏∫scriplet„ÄÇÂèØ‰ª•‰ΩøÁî®pageÊåá‰ª§ÁöÑimportÂØºÂÖ•JavaÁ±ªÂûãÔºåÂê¶ÂàôscripletÈáåÁöÑJavaÁ±ªÂøÖÈ°ª‰ΩøÁî®ÂÖ®Á±ªÂêç„ÄÇÂ¶ÇÔºö123456789101112&lt;%@ page import="java.util.Date"%&gt;&lt;%@ page import="java.text.DataFormat"%&gt;&lt;html&gt; &lt;head&gt;&lt;title&gt;Today's date&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;% DateFormat df = DateFormat.getDateInstance(DateFormat.LONG); String s = df.format(new Date()); out.println("Today is " + s); %&gt; &lt;/body&gt;&lt;/html&gt;ÈöêÂºèÂØπË±°ÂØπË±°ÊèèËø∞requestHttpServletRequestÁ±ªÁöÑÂÆû‰æãresponseHttpServletResponseÁ±ªÁöÑÂÆû‰æãoutPrintWriterÁ±ªÁöÑÂÆû‰æãÔºåÁî®‰∫éÊääÁªìÊûúËæìÂá∫Ëá≥ÁΩëÈ°µ‰∏äsessionHttpSessionÁ±ªÁöÑÂÆû‰æãapplicationServletContextÁ±ªÁöÑÂÆû‰æãÔºå‰∏éÂ∫îÁî®‰∏ä‰∏ãÊñáÊúâÂÖ≥configServletConfigÁ±ªÁöÑÂÆû‰æãpageContextPageContextÁ±ªÁöÑÂÆû‰æãÔºåÊèê‰æõÂØπJSPÈ°µÈù¢ÊâÄÊúâÂØπË±°‰ª•ÂèäÂëΩÂêçÁ©∫Èó¥ÁöÑËÆøÈóÆpageÁ±ª‰ºº‰∫éJavaÁ±ª‰∏≠ÁöÑthisÂÖ≥ÈîÆÂ≠óExceptionExceptionÁ±ªÁöÑÂØπË±°Ôºå‰ª£Ë°®ÂèëÁîüÈîôËØØÁöÑJSPÈ°µÈù¢‰∏≠ÂØπÂ∫îÁöÑÂºÇÂ∏∏ÂØπË±°Ëé∑ÂèñHttpServletRequestÂØπË±°ÁöÑuserNameÂèÇÊï∞Ôºö123&lt;% String userName = request.getParameter("userName");%&gt;PageContextÂÆûÁî®ÊñπÊ≥ï‰∏∫Â≠òÂèñÂ±ûÊÄßÔºösetAttribute()ÂíågetAttribute()„ÄÇsetAttributeÊñπÊ≥ïÁ≠æÂêçÔºö1public abstract void setAttribute(String name, Object value, int scope);scopeÂÄºÂèØ‰ª•ÂèñÔºöPAGE_SCOPE, REQUEST_SCOPE, SESSION_SCOPE, APPLICATION_SCOPE„ÄÇÂ¶ÇÔºå‰∏ãÈù¢scripletÂú®ServletRequset‰∏≠‰øùÂ≠ò‰∫Ü‰∏Ä‰∏™Â±ûÊÄßÔºö1234&lt;% //product is a Java object pageContext.setAttribute("product",product,pageContext.REQUEST.SCOPE);%&gt;Á≠â‰ª∑‰∫éÔºö123&lt;% request.setAttribute("product",product);%&gt;outÂØπË±°Á±ª‰ºº‰∫éÂú®HttpServletResponse‰∏≠Ë∞ÉÁî®getWritter()‰πãÂêéÂæóÂà∞ÁöÑjava.io.PrintWriterÔºåÂ¶ÇÂú®È°µÈù¢ËæìÂá∫WelcomeÔºö123&lt;% out.println("Welcome");%&gt;Êåá‰ª§pageÊåá‰ª§Â∏∏Áî®Êåá‰ª§Ë°®ÔºöÂ±ûÊÄßÂÆö‰πâlanguage=‚ÄùScriptLanguage‚ÄùÊåáÂÆöJSP ContainerÁî®‰ªÄ‰πàËØ≠Ë®ÄÊù•ÁºñËØëÔºåÁõÆÂâçÂè™ÊîØÊåÅJAVAËØ≠Ë®Ä„ÄÇÈªòËÆ§‰∏∫JAVAextends=‚ÄùclassName‚ÄùÂÆö‰πâÊ≠§JSPÁΩëÈ°µ‰∫ßÁîüÁöÑServletÊòØÁªßÊâøÂì™‰∏™import=‚ÄùimportList‚ÄùÂÆö‰πâÊ≠§JSPÁΩëÈ°µË¶Å‰ΩøÁî®Âì™‰∫õJava APIsession=‚Äùtrue|false‚ÄùÂÜ≥ÂÆöÊ≠§È°µÈù¢ÊòØÂê¶‰ΩøÁî®sessionÂØπË±°„ÄÇÈªòËÆ§‰∏∫truebuffer=‚Äùnone|size in kb‚ÄùÂÜ≥ÂÆöËæìÂá∫ÊµÅ(Input stream)ÊòØÂê¶ÂèàÁºìÂÜ≤Âå∫„ÄÇÈªòËÆ§‰∏∫8kbautoFlush=‚Äùtrue|false‚ÄùÂÜ≥ÂÆöËæìÂá∫ÊµÅÁöÑÁºìÂÜ≤Âå∫ÊÖ¢‰∫ÜÂêéÊòØÂê¶ÈúÄË¶ÅËá™Âä®Ê∏ÖÈô§ÔºåÁºìÂÜ≤Âå∫ÊÖ¢‰∫ÜÂêé‰ºö‰∫ßÁîüÂºÇÂ∏∏ÈîôËØØ(Exception).ÈªòËÆ§‰∏∫trueisThreadSafe=‚Äùtrue|false‚ÄùÊòØÂê¶ÊîØÊåÅÁ∫øÁ®ã„ÄÇÈªòËÆ§‰∏∫trueerrorPage=‚Äùurl‚ÄùÂ¶ÇÊûúÊ≠§È°µÂèëÁîüÂºÇÂ∏∏ÔºåÁΩëÈ°µ‰ºöÈáçÊñ∞ÊåáÂêë‰∏Ä‰∏™urlisErrorPage=‚Äùtrue|false‚ÄùË°®Á§∫Ê≠§È°µÈù¢ÊòØÂê¶‰∏∫ÈîôËØØÂ§ÑÁêÜÈ°µÈù¢„ÄÇÈªòËÆ§‰∏∫falsecontentType=‚Äùtext/html;charset=gb2312‚ÄùË°®Á§∫MIMEÁ±ªÂûãÂíåJSPÁöÑÁºñÁ†ÅÊñπÂºè„ÄÇÁ¨îËÄÖ‰ΩøÁî®‰æãÂ∑¶pageEncoding=‚ÄùISO-8859-1‚ÄùÁºñÁ†ÅÊñπÂºè„ÄÇisELLgnored=‚Äùtrue|false‚ÄùË°®Á§∫ÊòØÂê¶Âú®Ê≠§JSPÈ°µÈù¢‰∏≠ELË°®ËææÂºè„ÄÇtrueÂàôÂøΩÁï•ÔºåÂèç‰πãfalseÂàôÊîØÊåÅ„ÄÇÈªòËÆ§‰∏∫false &nbsp; &nbsp;ËÆæÁΩÆjsp‰∏≠Áî®Âà∞ÁöÑËØ≠Ë®Ä,Áî®Âà∞ÁöÑÊòØjavaÔºå‰πüÊòØÁõÆÂâçÂîØ‰∏ÄÊúâÊïàÁöÑËÆæÂÆöÔºö1&lt;%@ page language="java"%&gt;jspÈ°µÈù¢ÊâÄÁî®Âà∞ÁöÑÁ±ªÔºö1&lt;%@ page import="java.sql.*"% &gt;ËÆæÁΩÆËØ•jspÈ°µÈù¢Âá∫Áé∞ÂºÇÂ∏∏Êó∂ÊâÄË¶ÅËΩ¨Âà∞ÁöÑÈ°µÈù¢,Â¶ÇÊûúÊ≤°ËÆæÂÆöÔºåÂÆπÂô®Â∞Ü‰ΩøÁî®ÂΩìÂâçÁöÑÈ°µÈù¢ÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØÔºö1&lt;%@ page errorPage="error.jsp"%&gt;ËÆæÁΩÆËØ•jspÈ°µÈù¢ÊòØÂê¶‰Ωú‰∏∫ÈîôËØØÊòæÁ§∫È°µÈù¢,ÈªòËÆ§ÊòØfalse,Â¶ÇÊûúËÆæÁΩÆ‰∏∫true,ÂÆπÂô®Âàô‰ºöÂú®ÂΩìÂâçÈ°µÈù¢ÁîüÊàê‰∏Ä‰∏™exceptionÂØπË±°Ôºö1&lt;%@ page isErrorPage="true"%&gt;ËÆæÁΩÆÈ°µÈù¢Êñá‰ª∂Ê†ºÂºèÂíåÁºñÁ†ÅÊñπÂºèÔºö1&lt;%@ page contentType="text/html;charset=utf-8"%&gt;ËÆæÁΩÆÂÆπÂô®‰ª•Â§öÁ∫øÁ®ãËøòÊòØÂçïÁ∫øÁ®ãËøêË°åËØ•jspÈ°µÈù¢ÔºåÈªòËÆ§ÊòØtrue,ÊòØÂ§öÁ∫øÁ®ã„ÄÇËÆæÁΩÆ‰∏∫false,Âàô‰ª•ÂçïÁ∫øÁ®ãÁöÑÊñπÂºèËøêË°åËØ•jspÈ°µÈù¢Ôºö1&lt;%@ page isThreadSafe="true"% &gt;ËÆæÁΩÆËØ•jspÈ°µÈù¢ÊòØÂê¶ÂèØ‰ª•Áî®Âà∞sessionÂØπË±°(jspÂÜÖÁΩÆÂØπË±°Ôºå‰∏∫webÂÆπÂô®ÂàõÂª∫),ÈªòËÆ§ÊòØtrue,ËÉΩÁî®Âà∞session.ËÆæÁΩÆ‰∏∫false,ÂàôÁî®‰∏çÂà∞Ôºö1&lt;%@ page session="true"% &gt;includeÊåá‰ª§ËØ≠Ê≥ïÔºö1&lt;%@ include file="url"%&gt;Ë¢´ÂºïÁî®ÁöÑÊñá‰ª∂Êâ©Â±ïÂêç‰∏∫jspf(JSP fragment)„ÄÇËÑöÊú¨ÂÖÉÁ¥†scripletÂâçÈù¢‰ªãÁªç‰∫ÜÔºåËøôÈáå‰∏çÂú®ËµòËø∞„ÄÇË°®ËææÂºè‰ª•&lt;%=ÂºÄÂ§¥Ôºå%&gt;ÁªìÊùüÔºö1Today is &lt;%=java.util.Calendar.getInstance().getTime()%&gt;Á≠â‰ª∑‰∫éÔºö1234Today is&lt;% out.println(java.util.Calendar.getInstance().getTime());%&gt;Â£∞ÊòéÂèØ‰ª•Â£∞ÊòéËÉΩÂ§üÂú®JSPÈ°µÈù¢‰∏≠ÂÆûÁî®ÁöÑÂèòÈáèÂíåÊñπÊ≥ïÔºåÂ£∞ÊòéÁî®&lt;%!%&gt;ÂåÖË£πËµ∑Êù•ÔºåÊØîÂ¶ÇÂú®JSPÈ°µÈù¢‰∏≠Â£∞Êòé‰∏Ä‰∏™getTodaysDateÁöÑÊñπÊ≥ïÔºö1234567891011&lt;%! public String getTodaysDate() &#123; return new java.util.Date(); &#125; %&gt;&lt;html&gt; &lt;head&gt;&lt;title&gt;Declarations&lt;/title&gt;&lt;/head&gt; &lt;body&gt; Today is &lt;%=getTodayDate()%&gt; &lt;/body&gt;&lt;/html&gt;Êàë‰ª¨ÂèØ‰ª•Âà©Áî®Â£∞ÊòéË¶ÜÁõñÂÆûÁé∞Á±ª‰∏≠ÁöÑinitÂíådestoryÊñπÊ≥ïÔºö12345678&lt;%! public void jspInit() &#123; System.out.println("jspInit ..."); &#125; public void jspDestory() &#123; System.out.println("jspDestory ..."); &#125;%&gt;ÂÖ≥Èó≠ËÑöÊú¨‰∏∫‰∫ÜÈ°µÈù¢ÁöÑÊï¥Ê¥ÅÊÄßÔºåÁé∞Âú®‰∏ÄËà¨Áî®ELÔºåJSTLÂèñ‰ª£ËÑöÊú¨ÂÖÉÁ¥†ÔºåÊàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆÂÖ≥Èó≠ËÑöÊú¨ÂÖÉÁ¥†Ôºö123456&lt;jsp-config&gt; &lt;jsp-property-group&gt; &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt; &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt; &lt;/jsp-property-group&gt; &lt;/jsp-config&gt;Âä®‰ΩúÂä®‰Ωú‰ºöË¢´ÁºñËØë‰∏∫ÊâßË°åÊüê‰∏™Êìç‰ΩúÁöÑJava‰ª£Á†ÅÔºå‰æãÂ¶ÇËÆøÈóÆÊüê‰∏™JavaÂØπË±°ÔºåÊàñËÄÖË∞ÉÁî®Êüê‰∏™ÊñπÊ≥ï„ÄÇuseBeanÂ¶ÇÔºö123456789&lt;html&gt; &lt;head&gt; &lt;title&gt;useBean&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;jsp:useBean id="today" class="java.util.Date"/&gt; &lt;%=today%&gt; &lt;/body&gt;&lt;/html&gt;ËøêË°åÈ°µÈù¢ÂêéÔºå‰ºöÂú®ÊµèËßàÂô®ËæìÂá∫ÂΩìÂâçÊó•ÊúüÂíåÊó∂Èó¥„ÄÇÂ≠òÂèñÂ±ûÊÄßÊúâEmployee JavaBeanÔºåÁé∞Âú®È°µÈù¢‰∏≠Â≠òÂèñÂ±ûÊÄßÂÄºÔºö12345678910&lt;html&gt; &lt;head&gt; &lt;title&gt;getProperty and setProperty&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;jsp:useBean id="employee" class="com.mrbird.entity.Employee"/&gt; &lt;jsp:setProperty name="employee" property="firstName" value="Mrbird"/&gt; First Name:&lt;jsp:getProperty name="employee" property="firstName"/&gt; &lt;/body&gt;&lt;/html&gt;includeincludeÂä®‰ΩúÁî®‰∫éÂä®ÊÄÅÂú∞ÂåÖÂê´Âè¶‰∏Ä‰∏™ËµÑÊ∫êÔºåÂÆÉÂèØ‰ª•ÂåÖÂê´Âè¶‰∏Ä‰∏™JSPÈ°µÈù¢Ôºå‰∏Ä‰∏™ServletÔºå‰∏Ä‰∏™ÈùôÊÄÅHTMLÈ°µÈù¢„ÄÇ12345678910 &lt;html&gt; &lt;head&gt; &lt;title&gt;Include Action&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;jsp:include page="jspf/menu.jsp"/&gt; &lt;jsp:param name="text" value="How are you?"/&gt; &lt;/jsp:include&gt; &lt;/body&gt;&lt;/html&gt;includeÂä®‰ΩúÂíåincludeÊåá‰ª§Âå∫Âà´Ôºö‚ë† ‰ΩøÁî®includeÊåá‰ª§ÊâÄÂºïÁî®ÁöÑ‰∏ú‰∏úÊòØÂèëÁîüÂú®È°µÈù¢ËΩ¨Êç¢ÁöÑÊó∂ÂÄôÔºåincludeÂä®‰ΩúÂåÖÂê´ÊòØÂèëÁîüÂú®ËØ∑Ê±ÇÁöÑÊó∂ÂÄô„ÄÇ‚ë° ‰ΩøÁî®includeÊåá‰ª§Êó∂ÔºåË¢´ÂåÖÂê´ÁöÑÊñá‰ª∂Êâ©Â±ïÂêçÊòØ‰ªÄ‰πàÂπ∂‰∏çÈáçË¶ÅÔºåËÄå‰ΩøÁî®includeÂä®‰ΩúÊó∂ÔºåÊñá‰ª∂Êâ©Â±ïÂêçÂøÖÈ°ª‰∏∫jspÔºå‰ª•‰æøÂÆÉËÉΩÂ§ü‰Ωú‰∏∫‰∏Ä‰∏™JSPÈ°µÈù¢ËøõË°åÂ§ÑÁêÜ„ÄÇforwardforwardÂä®‰ΩúÊòØÂ∞ÜÂΩìÂâçÈ°µÈù¢Ë∑≥ËΩ¨Âà∞Âè¶Â§ñ‰∏Ä‰∏™È°µÈù¢ÔºåÊØîÂ¶ÇÔºö123&lt;jsp:forward page="jspf/login.jsp"&gt; &lt;jsp:param name="text" value="Please login"/&gt;&lt;/jsp:forward&gt;ÈîôËØØÂ§ÑÁêÜÂú®ÂèØËÉΩÂèëÁîüÂºÇÂ∏∏ÁöÑjspÈ°µÈù¢ËÆæÁΩÆÂºÇÂ∏∏È°µÈù¢Ë∑ØÂæÑÔºö1&lt;%@ page errorPage="errorHandler.jsp"%&gt;errorHandler.jspÔºö1234567891011&lt;%@ page isErrorPage="true"%&gt;&lt;html&gt; &lt;head&gt;&lt;title&gt;Error&lt;/title&gt;&lt;/head&gt; &lt;body&gt; An error occurred.&lt;br/&gt; Error message: &lt;% out.println(exception.toString); %&gt; &lt;/body&gt;&lt;/html&gt;„ÄäServletÂíåJSPÂ≠¶‰π†ÊåáÂçó„ÄãÂ≠¶‰π†Á¨îËÆ∞]]></content>
      <tags>
        <tag>servlet&amp;jsp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NexusÊê≠Âª∫ÁßÅÊúç]]></title>
    <url>%2FNexus%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D.html</url>
    <content type="text"><![CDATA[ÂÆâË£ÖNexus‰∏ãËΩΩNexusÔºöhttp://pan.baidu.com/s/1miTmJB6 ÔºåÂØÜÁ†ÅÔºö2jh7Ëß£ÂéãÂêéÊâæÂà∞bin/jswÁõÆÂΩï‰∏ãÈÄâÊã©ÂØπ‰∫éÁöÑÊìç‰ΩúÁ≥ªÁªüÊñá‰ª∂Â§πÔºöÂ¶Çwindows-x86-64ÔºåÂèåÂáªstart-nexus.batÂç≥ÂèØÂêØÂä®nexusÔºåÂêØÂä®ÂêéÊµèËßàÂô®ËÆøÈóÆloaclhost:8081/nexus/ÔºöÁÇπÂáªÂè≥‰∏äËßíLog InÁôªÂΩïÔºåÁÆ°ÁêÜÂëòË¥¶Âè∑ÂØÜÁ†Å adminÔºåadmin123„ÄÇNexus‰ªìÂ∫ìÂíå‰ªìÂ∫ìÁªÑNexusÂÜÖÁΩÆ‰ªìÂ∫ìÁÇπÂáªÂ∑¶‰æßÁöÑRepositoriesÂèØÁúãÂà∞ÔºöÁ±ªÂûãÂàÜ‰∏∫ÔºögroupÔºà‰ªìÂ∫ìÁªÑÔºâÔºåproxyÔºà‰ª£ÁêÜÔºâÔºåhostedÔºàÂÆø‰∏ªÔºâÔºåvirtualÔºàËôöÊãüÔºâÔºöCentralÔºö‰ª£ÁêÜMaven‰∏≠Â§Æ‰ªìÂ∫ìÔºåÁ≠ñÁï•‰∏∫ReleaseÔºåÂõ†Ê≠§Âè™‰ºö‰∏ãËΩΩÂíåÁºìÂ≠ò‰∏≠Â§Æ‰ªìÂ∫ì‰∏≠ÁöÑÂèëË°åÁâàÊú¨ÊûÑ‰ª∂ReleasesÔºöÁ≠ñÁï•‰∏∫ReleaseÁöÑÂÆø‰∏ªÁ±ªÂûã‰ªìÂ∫ìÔºåÁî®Êù•ÈÉ®ÁΩ≤ÁªÑÁªáÂÜÖÈÉ®ÁöÑÂèëË°åÁâàÊú¨ÊûÑ‰ª∂SnapshotsÔºöÁ≠ñÁï•‰∏∫SnapshotsÁöÑÂÆø‰∏ªÁ±ªÂûã‰ªìÂ∫ìÔºåÁî®Êù•ÈÉ®ÁΩ≤ÁªÑÁªáÂÜÖÈÉ®ÁöÑÂø´ÁÖßÁâàÊú¨ÊûÑ‰ª∂Apache SnapshotsÔºöÁ≠ñÁï•‰∏∫SnapshotsÁöÑ‰ª£ÁêÜ‰ªìÂ∫ìÔºåÁî®Êù•‰ª£ÁêÜApache Maven‰ªìÂ∫ìÁöÑÂø´ÁÖßÁâàÊú¨ÊûÑ‰ª∂3rd partyÔºöÁ≠ñÁï•‰∏∫ReleaseÁöÑÂÆø‰∏ªÁ±ªÂûã‰ªìÂ∫ìÔºåÁî®Êù•ÈÉ®ÁΩ≤Êó†Ê≥ï‰ªéÂÖ¨ÂÖ±‰ªìÂ∫ìËé∑ÂæóÁöÑÁ¨¨‰∏âÊñπÂèëË°åÁâàÊûÑ‰ª∂Public RepositoriesÔºöËØ•‰ªìÂ∫ìÁªÑ‰∏∫‰∏äËø∞ÊâÄÊúâÁ≠ñÁï•‰∏∫ReleaseÁöÑ‰ªìÂ∫ìËÅöÂêàÂπ∂ÈÄöËøá‰∏ÄËá¥ÁöÑÂú∞ÂùÄÊèê‰æõÊúçÂä°Public Snapshot RepositoriesÔºöËØ•‰ªìÂ∫ìÁªÑ‰∏∫‰∏äËø∞ÊâÄÊúâÁ≠ñÁï•‰∏∫SnapshotsÁöÑ‰ªìÂ∫ìËÅöÂêàÂπ∂ÈÄöËøá‰∏ÄËá¥ÁöÑÂú∞ÂùÄÊèê‰æõÊúçÂä°‰∏äËø∞ÁöÑÂá†Áßç‰ªìÂ∫ìÁ±ªÂûãÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºömavenÂèØ‰ª•Áõ¥Êé•‰ªéÂÆø‰∏ª‰ªìÂ∫ìÂíå‰ª£ÁêÜ‰ªìÂ∫ì‰∏ãËΩΩÊûÑ‰ª∂Ôºå‰ª£ÁêÜ‰ªìÂ∫ì‰ºöÈó¥Êé•Âú∞‰ªéËøúÁ®ã‰ªìÂ∫ì‰∏ãËΩΩÂπ∂ÁºìÂ≠òÊûÑ‰ª∂„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÔºåmavenÂèØ‰ª•‰ªé‰ªìÂ∫ìÁªÑ‰∏ãËΩΩÊûÑ‰ª∂Ôºå‰ªìÂ∫ìÁªÑÊ≤°ÊúâÂÆûÈôÖÁöÑÂÜÖÂÆπÔºåÂÆÉ‰ºöËΩ¨ÂêëÂÖ∂ÂåÖÂê´ÁöÑÂÆø‰∏ª‰ªìÂ∫ìÊàñËÄÖ‰ª£ÁêÜ‰ªìÂ∫ìËé∑ÂæóÂÆûÈôÖÁöÑÊûÑ‰ª∂„ÄÇÂàõÂª∫NexusÂÆø‰∏ª‰ªìÂ∫ìÁÇπÂáªRepositoriesÁïåÈù¢ÁöÑAddÊåâÈíÆÔºåÈÄâÊã©Hosted RepositoryÔºöRepository IDÔºö‰ªìÂ∫ìidÔºåËØ•ÂÄº‰ºöË¢´‰Ωú‰∏∫‰ªìÂ∫ìË∑ØÂæÑÁöÑÊúÄÂêé‰∏ÄÈ°πÂÜÖÂÆπRepository NameÔºö‰ªìÂ∫ìÂêçÁß∞ProviderÔºö‰ªìÂ∫ìÁöÑÊ†ºÂºèÔºå‰∏ÄËà¨ÈÄâÈªòËÆ§ÁöÑMaven2Repository PolicyÔºöÈÖçÁΩÆ‰ªìÂ∫ìÊûÑ‰ª∂‰∏∫Âø´ÁÖßÁ±ªÂûãËøòÊòØÂèëË°åÁ±ªÂûãDefault Local Storage LocationÔºö‰ªìÂ∫ìÈªòËÆ§Âú∞ÂùÄÔºåËá™Âä®Ê†πÊçÆidÁîüÊàêOverride Local Storage LocationÔºöËá™ÂÆö‰πâ‰ªìÂ∫ìÂú∞ÂùÄDeployment PolicyÔºöÈÉ®ÁΩ≤Á≠ñÁï•ÔºåÊúâDisable RedeployÔºàÂêå‰∏ÄÊûÑ‰ª∂Âè™ËÉΩÈÉ®ÁΩ≤‰∏ÄÊ¨°ÔºâÔºåAllow RedeployÔºàÂÖÅËÆ∏ÈáçÊñ∞ÈÉ®ÁΩ≤ÔºâÔºåReadonlyÔºàÁ¶ÅÊ≠¢ÈÉ®ÁΩ≤ÔºâAllow File BrowsingÔºö‰∏∫trueÊó∂‰ª•Ê†ëÂΩ¢ÁªìÊûÑÊµèËßà‰ªìÂ∫ìÂ≠òÂÇ®Êñá‰ª∂ÂÜÖÂÆπInclude in SearchÔºöÊòØÂê¶ÂØπËØ•‰ªìÂ∫ìËøõË°åÁ¥¢ÂºïÂπ∂Êèê‰æõÊêúÁ¥¢Publish URLÔºöÊòØÂê¶ÈÄöËøáURLÊèê‰æõÊúçÂä°Ôºå‰∏∫falseÁöÑÊó∂ÂÄôÔºåËÆøÈóÆËØ•‰ªìÂ∫ìÂú∞ÂùÄ‰ºöÂæóÂà∞HTTP 404 Not FoundÈîôËØØNot Found Cache TTLÔºöÂ¶ÇÊûúÊüêÊñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂú®Ëøô1440ÂàÜÈíüÂÜÖÂÜçÊ¨°ËÆøÈóÆËøô‰∏™Êñá‰ª∂ÔºåÁõ¥Êé•ËøîÂõû‰∏çÂ≠òÂú®‰ø°ÊÅØÊú™ÂÆåÂæÖÁª≠ÔºåÊáíÂæóÂÜô]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mavenËÅöÂêà‰∏éÁªßÊâø]]></title>
    <url>%2Fmaven%E8%81%9A%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF.html</url>
    <content type="text"><![CDATA[maven‰∏≠ËÅöÂêàÂíåÁªßÊâøÊòØ‰∏§‰∏™Ê¶ÇÂøµÔºå‰∏§ËÄÖÁöÑÁõÆÁöÑÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇËÅöÂêàÊòØ‰∏∫‰∫ÜÊñπ‰æøÁöÑÂø´ÈÄüÊûÑÂª∫È°πÁõÆÔºåËÄåÁªßÊâøÊòØ‰∏∫‰∫ÜÊ∂àÈô§‰∏Ä‰∫õÈáçÂ§çÁöÑÈÖçÁΩÆ„ÄÇÂØπ‰∫éËÅöÂêàÊ®°ÂùóÊù•ËØ¥ÔºåÂÆÉÁü•ÈÅìÊúâÂì™‰∫õÊ®°ÂùóË¢´ËÅöÂêà‰∫ÜÔºå‰ΩÜÊòØÈÇ£‰∫õË¢´ËÅöÂêàÁöÑÊ®°ÂùóÂπ∂‰∏çÁü•ÈÅìËøô‰∏™ËÅöÂêàÊ®°ÂùóÁöÑÂ≠òÂú®„ÄÇÂØπ‰∫éÁªßÊâøÂÖ≥Á≥ªÁöÑÁà∂pomÊù•ËØ¥ÔºåÂÆÉ‰∏çÁü•ÈÅìÂì™‰∫õË¢´ËÅöÂêàÁöÑÊ®°ÂùóÔºå‰ΩÜÈÇ£‰∫õË¢´ËÅöÂêàÁöÑÊ®°ÂùóÂøÖÈ°ªÁü•ÈÅìËá™Â∑±ÁöÑÁà∂pomÊòØ‰ªÄ‰πà„ÄÇËÅöÂêàÂºÄÂèë‰∏≠Ôºå‰∏Ä‰∏™È°πÁõÆ‰∏ÄËà¨Ë¢´ÂàÜ‰∏∫Â§ö‰∏™Ê®°ÂùóÔºåÈÄöËøámavenÁöÑËÅöÂêàÁâπÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™Áà∂mavenÈ°πÁõÆÊù•ÁÆ°ÁêÜÊâÄÊúâÁöÑÂ≠êÊ®°Âùó„ÄÇÁé∞Êúâaccount-emailÂíåaccount-persist‰∏§‰∏™mavenÈ°πÁõÆÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™account-parentÈ°πÁõÆÂ∞ÜÂÖ∂ËÅöÂêàÂú®‰∏ÄËµ∑„ÄÇËÅöÂêàÊúâ‰∏§ÁßçÁªìÊûÑÊñπÂºèÔºö1.Áà∂Â≠êÁªìÊûÑÔºö2.Âπ≥Ë°åÁªìÊûÑ‰∏ãÈù¢‰æãÂ≠ê‰ª•Âπ≥Ë°åÁªìÊûÑ‰∏∫‰æã„ÄÇaccount-parentÈÖçÁΩÆÂ¶Ç‰∏ãÔºö12345678910&lt;groupId&gt;com.juvenxu.mvnbook.account&lt;/groupId&gt;&lt;artifactId&gt;account-parent&lt;/artifactId&gt;&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;&lt;packaging&gt;pom&lt;/packaging&gt;&lt;name&gt;Account Parent&lt;/name&gt; &lt;modules&gt; &lt;module&gt;../account-email&lt;/module&gt; &lt;module&gt;../account-persist&lt;/module&gt;&lt;/modules&gt;modulesÂÖÉÁ¥†Áî®‰∫éËÅöÂêàÂ≠êÊ®°ÂùóÔºåpackagingÂÖÉÁ¥†Â£∞ÊòéÂÖ∂ÊâìÂåÖÊñπÂºè‰∏∫pom„ÄÇÂØπ‰∫é‰∏Ä‰∏™ËÅöÂêàÂ≠êÊ®°ÂùóÁöÑÁà∂Ê®°ÂùóÔºåÂÖ∂ÊâìÂåÖÊñπÂºèÂøÖÈ°ª‰∏∫pom„ÄÇÂØπ‰∫éÂπ≥Ë°åÁªìÊûÑÊù•ËØ¥ÔºåÁà∂Ê®°ÂùóÁöÑÂÜÖÂÆπ‰ªÖ‰∏∫‰∏Ä‰∏™pomÊñá‰ª∂„ÄÇÂØπÁà∂Ê®°ÂùóÊâßË°å mvn clean installÂëΩ‰ª§Ôºö12345678910111213[INFO] ------------------------------------------------------------------------[INFO] Reactor Summary:[INFO] [INFO] Account Parent .................................... SUCCESS [0.447s][INFO] Account Email ..................................... SUCCESS [3.334s][INFO] Account Persist ................................... SUCCESS [1.582s][INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 5.489s[INFO] Finished at: Wed Oct 26 16:59:05 CST 2016[INFO] Final Memory: 17M/160M[INFO] ------------------------------------------------------------------------ÁªßÊâøÂ¶ÇÊûúÈúÄË¶ÅÁªßÊâøÁà∂Ê®°Âùópom‰∏≠ÁöÑ‰∏Ä‰∫õÈÖçÁΩÆÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂú®Â≠êÊ®°Âùópom‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÈÖçÁΩÆ123456&lt;parent&gt; &lt;groupId&gt;com.juvenxu.mvnbook.account&lt;/groupId&gt; &lt;artifactId&gt;account-parent&lt;/artifactId&gt; &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../account-parent/pom.xml&lt;/relativePath&gt;&lt;/parent&gt;ÈÄöËøáparentÂÖÉÁ¥†ÊåáÂÆöÂÖ∂Áà∂Ê®°ÂùóÔºårelativePathÊåáÂêëÁà∂Ê®°ÂùóÁöÑpomË∑ØÂæÑÔºåÂÖ∂ÈªòËÆ§ÂÄº‰∏∫../pom.xml„ÄÇÁà∂Ê®°Âùópom‰∏≠Â£∞ÊòéÁöÑ‰∏Ä‰∫õÂÖÉÁ¥†ÂèØ‰ª•Ë¢´Â≠êÊ®°ÂùóÁªßÊâøÔºåÂ∏∏Áî®ÁöÑÊúâÔºö‚ñ† groupIdÔºöÈ°πÁõÆidÔºåÈ°πÁõÆÂùêÊ†áÁöÑÊ†∏ÂøÉÂÖÉÁ¥†‚ñ† versionÔºöÈ°πÁõÆÁâàÊú¨ÔºåÈ°πÁõÆÂùêÊ†áÁöÑÊ†∏ÂøÉÂÖÉÁ¥†‚ñ† descriptionÔºöÈ°πÁõÆÁöÑÊèèËø∞‰ø°ÊÅØ‚ñ† organizationÔºöÈ°πÁõÆÁöÑÁªÑÁªá‰ø°ÊÅØ‚ñ† distributionManagementÔºöÈ°πÁõÆÁöÑÈÉ®ÁΩ≤‰ø°ÊÅØ‚ñ† propertiesÔºöËá™ÂÆö‰πâÁöÑmavenÂ±ûÊÄß‚ñ† dependenciesÔºö‰æùËµñ‚ñ† dependencyManagementÔºö‰æùËµñÁÆ°ÁêÜÈÖçÁΩÆ‚ñ† repositoriesÔºöÈ°πÁõÆÁöÑ‰ªìÂ∫ìÈÖçÁΩÆ‚ñ† buildÔºöÈ°πÁõÆÁöÑÊ∫êÁ†ÅÁõÆÂΩïÈÖçÁΩÆÔºåËæìÂá∫ÁõÆÂΩïÈÖçÁΩÆÔºåÊèí‰ª∂ÈÖçÁΩÆÔºåÊèí‰ª∂ÁÆ°ÁêÜÈÖçÁΩÆÁ≠â‰æùËµñÁªßÊâøÂØπ‰∫éÂ≠êÊ®°ÂùóÂÖ±Áî®ÁöÑ‰æùËµñÔºåÂèØ‰ª•Áªü‰∏ÄÂú®Áà∂Ê®°Âùó‰∏≠Â£∞ÊòéÔºåÊØîÂ¶ÇÂú®Áà∂Ê®°Âùóaccount-parent‰∏≠ÈÖçÁΩÆdependencyManagementÔºö12345678910111213141516171819202122232425262728293031323334&lt;properties&gt; &lt;springframework.version&gt;2.5.6&lt;/springframework.version&gt; &lt;junit.version&gt;4.7&lt;/junit.version&gt;&lt;/properties&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;springframework.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;$&#123;junit.version&#125;&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/dependencyManagement&gt;Â≠êÊ®°Âùó‰ΩøÁî®Ëøô‰∫õ‰æùËµñÁöÑÊó∂ÂÄôÔºåÂè™ÈúÄË¶ÅÁÆÄÂçïÁöÑÈÖçÁΩÆÔºåÂ¶Çaccount-emailÁöÑpomÈÖçÁΩÆÔºö1234567891011121314151617181920212223242526272829303132333435363738&lt;properties&gt; &lt;javax.mail.version&gt;1.4.1&lt;/javax.mail.version&gt; &lt;greenmail.version&gt;1.3.1b&lt;/greenmail.version&gt;&lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.mail&lt;/groupId&gt; &lt;artifactId&gt;mail&lt;/artifactId&gt; &lt;version&gt;$&#123;javax.mail.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.icegreen&lt;/groupId&gt; &lt;artifactId&gt;greenmail&lt;/artifactId&gt; &lt;version&gt;$&#123;greenmail.version&#125;&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt;&lt;/dependencies&gt;ÂèØÂèëÁé∞Ôºåaccount-emailÁöÑdependenciesÈÖçÁΩÆÁúÅÂéª‰∫ÜversionÔºåÂØπ‰∫éjunitËøòÁúÅÂéª‰∫Üscope„ÄÇÁúÅÂéªËøô‰∫õ‰ø°ÊÅØÊòØÂõ†‰∏∫account-emailÁªßÊâø‰∫ÜÁà∂Ê®°ÂùóÁöÑdependencyManagementÈÖçÁΩÆÔºåÂÆåÊï¥ÁöÑ‰æùËµñÂ£∞ÊòéÂ∑≤ÁªèÂåÖÂê´Âú®Áà∂pom‰∏≠ÔºåÂ≠êÊ®°ÂùóÂè™ÈúÄË¶ÅÂ£∞ÊòéÁÆÄÂçïÁöÑgroupIdÂíåartifactIdÂ∞±ÂèØ‰ª•ÊâæÂà∞ÂØπÂ∫îÁöÑ‰æùËµñ„ÄÇÊ≥®ÊÑèÔºöËôΩÁÑ∂ÂÆåÊï¥ÁöÑ‰æùËµñÂ∑≤ÁªèÂåÖÂê´Âú®Áà∂Ê®°Âùópom‰∏≠‰∫ÜÔºå‰ΩÜÂπ∂‰∏çÊòØËØ¥Â≠êÊ®°ÂùóÂÆåÂÖ®‰∏çÈúÄË¶ÅÂ£∞Êòé‰æùËµñ‰∫Ü„ÄÇÊØîÂ¶ÇÂ≠êÊ®°Âùó‰∏çÂ£∞Êòéspring-context-support‰æùËµñÔºåÈÇ£‰πàËØ•‰æùËµñ‰∏ç‰ºöË¢´ÂºïÂÖ•„ÄÇÊèí‰ª∂ÁªßÊâøÂú®Áà∂Ê®°Âùóaccount-parentÁöÑpom‰∏≠ÈÖçÁΩÆpluginManagementÂÖÉÁ¥†Ôºö123456789101112131415161718192021&lt;build&gt; &lt;pluginManagement&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.5&lt;/source&gt; &lt;target&gt;1.5&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt;&lt;/build&gt;Â≠êÊ®°ÂùóÈúÄË¶ÅÁî®Âà∞Ëøô‰∫õÊèí‰ª∂ÁöÑÊó∂ÂÄôÔºåÂè™ÈúÄË¶ÅÁÆÄÂçïÁöÑÈÖçÁΩÆÔºö123456789101112&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt;Âè™ÈúÄË¶ÅÂú®Â≠êÊ®°Âùó‰∏≠ÊåáÂÆöÊèí‰ª∂ÁöÑgroupIdÂíåartifactIdÂ∞±ÂèØ‰ª•Âú®Áà∂Ê®°Âùópom‰∏≠ÊâæÂà∞ÂØπÂ∫îÁöÑÊèí‰ª∂ÈÖçÁΩÆ„ÄÇ„ÄäMavenÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSONÂ∞èËÆ∞]]></title>
    <url>%2FJSON%E5%B0%8F%E8%AE%B0.html</url>
    <content type="text"><![CDATA[JSONÂÖ®Áß∞JavaScript Object NotationÔºåÊòØ‰∏ÄÁßçËΩªÈáèÁ∫ßÁöÑÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºåÂèñÂêçËá™JavaScriptÂØπË±°Ôºå‰ΩÜ‰∏§ËÄÖ‰πãÈó¥Âπ∂Ê≤°Êúâ‰ªÄ‰πàÁõ¥Êé•ÁöÑËÅîÁ≥ª„ÄÇJSONËØ≠Ê≥ïÂíåJavaScriptÂØπË±°ËØ≠Ê≥ï‰∏äÂå∫Âà´Â¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöÂØπÊØîÂÜÖÂÆπJSONJSÂØπË±°ÈîÆÂêçÂøÖÈ°ªÊòØÂä†ÂèåÂºïÂè∑ÂèØÂÖÅËÆ∏‰∏çÂä†„ÄÅÂä†ÂçïÂºïÂè∑„ÄÅÂä†ÂèåÂºïÂè∑Â±ûÊÄßÂÄºÂè™ËÉΩÊòØÊï∞ÂÄºÔºà10ËøõÂà∂Ôºâ„ÄÅ Â≠óÁ¨¶‰∏≤ÔºàÂèåÂºïÂè∑Ôºâ„ÄÅ Â∏ÉÂ∞îÂÄºÂíånullÔºå ‰πüÂèØ‰ª•ÊòØÊï∞ÁªÑÊàñËÄÖÁ¨¶ÂêàJSONË¶ÅÊ±ÇÁöÑÂØπË±°Ôºå ‰∏çËÉΩÊòØÂáΩÊï∞„ÄÅNaN, Infinity, &nbsp;-InfinityÂíåundefined‰ªÄ‰πàÈÉΩÂèØ‰ª•ÈÄóÂè∑ÈóÆÈ¢òÊúÄÂêé‰∏Ä‰∏™Â±ûÊÄßÂêéÈù¢‰∏çËÉΩÊúâÈÄóÂè∑ÂèØ‰ª•Êï∞ÂÄºÂâçÂØº0‰∏çËÉΩÁî®ÔºåÂ∞èÊï∞ÁÇπÂêéÂøÖÈ°ªÊúâÊï∞Â≠óÊ≤°ÈôêÂà∂ÂèØ‰ª•ÁúãÂà∞ÔºåÁõ∏ÂØπ‰∫éJSÂØπË±°ÔºåJSONÁöÑÊ†ºÂºèÊõ¥‰∏•Ê†ºÔºåÊâÄ‰ª•Â§ßÈÉ®ÂàÜÂÜôÁöÑJSÂØπË±°ÊòØ‰∏çÁ¨¶ÂêàJSONÁöÑÊ†ºÂºèÁöÑ„ÄÇÂ¶ÇÔºö123456789101112131415161718192021var obj1 = &#123;&#125;; // ËøôÂè™ÊòØ JS ÂØπË±° // ÂèØÊääËøô‰∏™Áß∞ÂÅöÔºöJSON Ê†ºÂºèÁöÑ JavaScript ÂØπË±° var obj2 = &#123;"width":100,"height":200,"name":"rose"&#125;; // ÂèØÊääËøô‰∏™Áß∞ÂÅöÔºöJSON Ê†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤var str1 = '&#123;"width":100,"height":200,"name":"rose"&#125;'; // Ëøô‰∏™ÂèØÂè´ JSON Ê†ºÂºèÁöÑÊï∞ÁªÑÔºåÊòØ JSON ÁöÑÁ®çÂ§çÊùÇ‰∏ÄÁÇπÁöÑÂΩ¢Âºèvar arr = [ &#123;"width":100,"height":200,"name":"rose"&#125;, &#123;"width":100,"height":200,"name":"rose"&#125;, &#123;"width":100,"height":200,"name":"rose"&#125;,]; // Ëøô‰∏™ÂèØÂè´Á®çÂ§çÊùÇ‰∏ÄÁÇπÁöÑ JSON Ê†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤ var str2='['+ '&#123;"width":100,"height":200,"name":"rose"&#125;,'+ '&#123;"width":100,"height":200,"name":"rose"&#125;,'+ '&#123;"width":100,"height":200,"name":"rose"&#125;,'+']';‰ª•‰∏ãÊòØJSONÁöÑ‰∏Ä‰∫õËΩ¨Êç¢ÊñπÊ≥ï„ÄÇJavaScriptjsÂØπË±°‚ÜíjsonÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÂáΩÊï∞JSON.stringifyÔºåÂáΩÊï∞Á≠æÂêçÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö1JSON.stringify(value[, replacer [, space]])‰∏ãÈù¢Â∞ÜÂàÜÂà´Â±ïÂºÄÂ∏¶1~3‰∏™ÂèÇÊï∞ÁöÑÁî®Ê≥ïÔºöÂü∫Êú¨‰ΩøÁî®‚Äî‚Äî‰ªÖÈúÄ‰∏Ä‰∏™ÂèÇÊï∞12345//ÂàõÂª∫jsÂØπË±°var obj = &#123;"name":"mrbird","age":24&#125;;//Â∞ÜÊ≠§ÂØπË±°ËΩ¨ÊàêjsonÂ≠óÁ¨¶‰∏≤var str = JSON.stringify(obj);// "&#123;"name":"mrbird","age":24&#125;"Á¨¨‰∫å‰∏™ÂèÇÊï∞ÂèØ‰ª•ÊòØÂáΩÊï∞Ôºå‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÂ¶ÇÊûúÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÈÇ£‰πàÂ∫èÂàóÂåñËøáÁ®ã‰∏≠ÁöÑÊØè‰∏™Â±ûÊÄßÈÉΩ‰ºöË¢´Ëøô‰∏™ÂáΩÊï∞ËΩ¨ÂåñÂíåÂ§ÑÁêÜ.Â¶ÇÊûúÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÈÇ£‰πàÂè™ÊúâÂåÖÂê´Âú®Ëøô‰∏™Êï∞ÁªÑ‰∏≠ÁöÑÂ±ûÊÄßÊâç‰ºöË¢´Â∫èÂàóÂåñÂà∞ÊúÄÁªàÁöÑJSONÂ≠óÁ¨¶‰∏≤‰∏≠„ÄÇÂ¶ÇÊûúÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØnullÔºåÈÇ£‰ΩúÁî®‰∏äÂíåÁ©∫ÁùÄÊ≤°Âï•Âå∫Âà´Ôºå‰ΩÜÊòØ‰∏çÊÉ≥ËÆæÁΩÆÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÂè™ÊòØÊÉ≥ËÆæÁΩÆÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•ËÆæÁΩÆÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫null„ÄÇËøôÁ¨¨‰∫å‰∏™ÂèÇÊï∞Ëã•ÊòØÂáΩÊï∞Ôºö123456789101112131415161718var friend=&#123; "firstName": "Good", "lastName": "Man", "phone":"1234567", "age":18&#125;; var friendAfter=JSON.stringify(friend,function(key,value)&#123; if(key==="phone") return "(000)"+value; else if(typeof value === "number") return value + 10; else return value; //Â¶ÇÊûú‰Ω†ÊääËøô‰∏™elseÂàÜÂè•Âà†Èô§ÔºåÈÇ£‰πàÁªìÊûú‰ºöÊòØundefined&#125;); console.log(friendAfter); //ËæìÂá∫Ôºö&#123;"firstName":"Good","lastName":"Man","phone":"(000)1234567","age":28&#125;Á¨¨‰∫å‰∏™ÂèÇÊï∞Ëã•ÊòØÊï∞ÁªÑÔºö12345678910111213var friend=&#123; "firstName": "Good", "lastName": "Man", "phone":"1234567", "age":18&#125;; //Ê≥®ÊÑè‰∏ãÈù¢ÁöÑÊï∞ÁªÑÊúâ‰∏Ä‰∏™ÂÄºÂπ∂‰∏çÊòØ‰∏äÈù¢ÂØπË±°ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™Â±ûÊÄßÂêçvar friendAfter=JSON.stringify(friend,["firstName","address","phone"]); console.log(friendAfter); //&#123;"firstName":"Good","phone":"1234567"&#125;//ÊåáÂÆöÁöÑ‚Äúaddress‚ÄùÁî±‰∫éÊ≤°ÊúâÂú®ÂéüÊù•ÁöÑÂØπË±°‰∏≠ÊâæÂà∞ËÄåË¢´ÂøΩÁï•Â¶ÇÊûúÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÈÇ£‰πàÂè™ÊúâÂú®Êï∞ÁªÑ‰∏≠Âá∫Áé∞ÁöÑÂ±ûÊÄßÊâç‰ºöË¢´Â∫èÂàóÂåñËøõÁªìÊûúÂ≠óÁ¨¶‰∏≤ÔºåÂè™Ë¶ÅÂú®Ëøô‰∏™Êèê‰æõÁöÑÊï∞ÁªÑ‰∏≠Êâæ‰∏çÂà∞ÁöÑÂ±ûÊÄßÂ∞±‰∏ç‰ºöË¢´ÂåÖÂê´ËøõÂéªÔºåËÄåËøô‰∏™Êï∞ÁªÑ‰∏≠Â≠òÂú®‰ΩÜÊòØÊ∫êJSÂØπË±°‰∏≠‰∏çÂ≠òÂú®ÁöÑÂ±ûÊÄß‰ºöË¢´ÂøΩÁï•Ôºå‰∏ç‰ºöÊä•Èîô„ÄÇÁ¨¨‰∏â‰∏™ÂèÇÊï∞Áî®‰∫éÁæéÂåñËæìÂá∫ÊåáÂÆöÁº©ËøõÁî®ÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶ÔºåÂèØ‰ª•Âèñ‰ª•‰∏ãÂá†‰∏™ÂÄºÔºö¬∑ ÊòØ1-10ÁöÑÊüê‰∏™Êï∞Â≠óÔºå‰ª£Ë°®Áî®Âá†‰∏™Á©∫ÁôΩÂ≠óÁ¨¶¬∑ ÊòØÂ≠óÁ¨¶‰∏≤ÁöÑËØùÔºåÂ∞±Áî®ËØ•Â≠óÁ¨¶‰∏≤‰ª£ÊõøÁ©∫Ê†ºÔºåÊúÄÂ§öÂèñËøô‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÂâç10‰∏™Â≠óÁ¨¶¬∑ Ê≤°ÊúâÊèê‰æõËØ•ÂèÇÊï∞Á≠â‰∫éËÆæÁΩÆÊàênullÔºå‰πüÁ≠â‰∫éËÆæÁΩÆ‰∏Ä‰∏™Â∞è‰∫é1ÁöÑÊï∞1234567891011121314151617181920212223242526272829303132333435363738394041424344454647var friend=&#123; "firstName": "Good", "lastName": "Man", "phone":&#123;"home":"1234567","work":"7654321"&#125;&#125;; //Áõ¥Êé•ËΩ¨ÂåñÊòØËøôÊ†∑ÁöÑÔºö//&#123;"firstName":"Good","lastName":"Man","phone":&#123;"home":"1234567","work":"7654321"&#125;&#125; var friendAfter=JSON.stringify(friend,null,4); console.log(friendAfter); /*&#123; "firstName": "Good", "lastName": "Man", "phone": &#123; "home": "1234567", "work": "7654321" &#125;&#125;*/ var friendAfter=JSON.stringify(friend,null,"HAHAHAHA"); console.log(friendAfter); /*&#123;HAHAHAHA"firstName": "Good", HAHAHAHA"lastName": "Man", HAHAHAHA"phone": &#123; HAHAHAHAHAHAHAHA"home": "1234567", HAHAHAHAHAHAHAHA"work": "7654321" HAHAHAHA&#125; &#125;*/ var friendAfter=JSON.stringify(friend,null,"WhatAreYouDoingNow"); console.log(friendAfter); /* ÊúÄÂ§öÂè™Âèñ10‰∏™Â≠óÁ¨¶&#123;WhatAreYou"firstName": "Good", WhatAreYou"lastName": "Man", WhatAreYou"phone": &#123; WhatAreYouWhatAreYou"home": "1234567", WhatAreYouWhatAreYou"work": "7654321" WhatAreYou&#125; &#125;*/JSON.stringifyÂáΩÊï∞ÊúâÂá†‰∏™ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂú∞ÊñπÔºö1.ÈîÆÂêç‰∏çÊòØÂèåÂºïÂè∑ÁöÑÔºàÂåÖÊã¨Ê≤°ÊúâÂºïÂè∑ÊàñËÄÖÊòØÂçïÂºïÂè∑ÔºâÔºå‰ºöËá™Âä®ÂèòÊàêÂèåÂºïÂè∑ÔºõÂ≠óÁ¨¶‰∏≤ÊòØÂçïÂºïÂè∑ÁöÑÔºå‰ºöËá™Âä®ÂèòÊàêÂèåÂºïÂè∑„ÄÇ2.ÊúÄÂêé‰∏Ä‰∏™Â±ûÊÄßÂêéÈù¢ÊúâÈÄóÂè∑ÁöÑÔºå‰ºöË¢´Ëá™Âä®ÂéªÊéâ„ÄÇ3.ÈùûÊï∞ÁªÑÂØπË±°ÁöÑÂ±ûÊÄß‰∏çËÉΩ‰øùËØÅ‰ª•ÁâπÂÆöÁöÑÈ°∫Â∫èÂá∫Áé∞Âú®Â∫èÂàóÂåñÂêéÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ Ëøô‰∏™Â•ΩÁêÜËß£Ôºå‰πüÂ∞±ÊòØÂØπÈùûÊï∞ÁªÑÂØπË±°Âú®ÊúÄÁªàÂ≠óÁ¨¶‰∏≤‰∏≠‰∏ç‰øùËØÅÂ±ûÊÄßÈ°∫Â∫èÂíåÂéüÊù•‰∏ÄËá¥„ÄÇ4.Â∏ÉÂ∞îÂÄº„ÄÅÊï∞Â≠ó„ÄÅÂ≠óÁ¨¶‰∏≤ÁöÑÂåÖË£ÖÂØπË±°Âú®Â∫èÂàóÂåñËøáÁ®ã‰∏≠‰ºöËá™Âä®ËΩ¨Êç¢ÊàêÂØπÂ∫îÁöÑÂéüÂßãÂÄº ‰πüÂ∞±ÊòØ‰Ω†ÁöÑ‰ªÄ‰πànew String(‚Äúbala‚Äù)‰ºöÂèòÊàê‚Äùbala‚ÄùÔºånew Number(2017)‰ºöÂèòÊàê2017„ÄÇ5.undefined„ÄÅ‰ªªÊÑèÁöÑÂáΩÊï∞ÔºàÂÖ∂ÂÆûÊúâ‰∏™ÂáΩÊï∞‰ºöÂèëÁîüÁ•ûÂ•áÁöÑ‰∫ãÔºåÂêéÈù¢‰ºöËØ¥Ôºâ‰ª•Âèä symbolÂÄº„ÄÇÂá∫Áé∞Âú®ÈùûÊï∞ÁªÑÂØπË±°ÁöÑÂ±ûÊÄßÂÄº‰∏≠ÔºöÂú®Â∫èÂàóÂåñËøáÁ®ã‰∏≠‰ºöË¢´ÂøΩÁï•„ÄÇÂá∫Áé∞Âú®Êï∞ÁªÑ‰∏≠Êó∂ÔºöË¢´ËΩ¨Êç¢Êàê null„ÄÇ1234JSON.stringify(&#123;x: undefined, y: function()&#123;return 1;&#125;, z: Symbol("")&#125;); //Âá∫Áé∞Âú®ÈùûÊï∞ÁªÑÂØπË±°ÁöÑÂ±ûÊÄßÂÄº‰∏≠Ë¢´ÂøΩÁï•Ôºö"&#123;&#125;"JSON.stringify([undefined, Object, Symbol("")]); //Âá∫Áé∞Âú®Êï∞ÁªÑÂØπË±°ÁöÑÂ±ûÊÄßÂÄº‰∏≠ÔºåÂèòÊàênullÔºö"[null,null,null]"Â∞ÜJSONÂ≠óÁ¨¶‰∏≤Ëß£Êûê‰∏∫JSÊï∞ÊçÆÁªìÊûÑÂáΩÊï∞JSON.parseÁöÑÁ≠æÂêçÂ¶Ç‰∏ãÔºö1JSON.parse(text[, reviver])Â¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂç≥JSONÂ≠óÁ¨¶‰∏≤‰∏çÊòØÂêàÊ≥ïÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑËØùÔºåÈÇ£‰πàËøô‰∏™ÂáΩÊï∞‰ºöÊäõÂá∫ÈîôËØØ„ÄÇÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØËøôÈáåÊúâ‰∏Ä‰∏™ÂèØÈÄâÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåËøô‰∏™ÂèÇÊï∞ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞‰ΩúÁî®Âú®Â±ûÊÄßÂ∑≤ÁªèË¢´Ëß£Êûê‰ΩÜÊòØËøòÊ≤°ËøîÂõûÂâçÔºåÂ∞ÜÂ±ûÊÄßÂ§ÑÁêÜÂêéÂÜçËøîÂõû„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142var friend=&#123; "firstName": "Good", "lastName": "Man", "phone":&#123;"home":"1234567","work":["7654321","999000"]&#125;&#125;; //Êàë‰ª¨ÂÖàÂ∞ÜÂÖ∂Â∫èÂàóÂåñvar friendAfter=JSON.stringify(friend); //'&#123;"firstName":"Good","lastName":"Man","phone":&#123;"home":"1234567","work":["7654321","999000"]&#125;&#125;' //ÂÜçÂ∞ÜÂÖ∂Ëß£ÊûêÂá∫Êù•ÔºåÂú®Á¨¨‰∫å‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞‰∏≠ÊâìÂç∞Âá∫keyÂíåvalueJSON.parse(friendAfter,function(k,v)&#123; console.log(k); console.log(v); console.log("----");&#125;);/*firstName Good ----lastName Man ----home 1234567 ----0 7654321 ----1 999000 ----work []----phone Object ---- Object ----*/‰ªîÁªÜÁúã‰∏Ä‰∏ãËøô‰∫õËæìÂá∫ÔºåÂèØ‰ª•ÂèëÁé∞Ëøô‰∏™ÈÅçÂéÜÊòØÁî±ÂÜÖËÄåÂ§ñÁöÑÔºåÂèØËÉΩÁî±ÂÜÖËÄåÂ§ñËøô‰∏™ËØçÂ§ßÂÆ∂‰ºöËØØËß£ÔºåÊúÄÈáåÂ±ÇÊòØÂÜÖÈÉ®Êï∞ÁªÑÈáåÁöÑ‰∏§‰∏™ÂÄºÂïäÔºå‰ΩÜÊòØËæìÂá∫ÊòØ‰ªéÁ¨¨‰∏Ä‰∏™Â±ûÊÄßÂºÄÂßãÁöÑÔºåÊÄé‰πàÂ∞±ÊòØÁî±ÂÜÖËÄåÂ§ñÁöÑÂë¢ÔºüËøô‰∏™Áî±ÂÜÖËÄåÂ§ñÊåáÁöÑÊòØÂØπ‰∫éÂ§çÂêàÂ±ûÊÄßÊù•ËØ¥ÁöÑÔºåÈÄö‰øóÂú∞ËÆ≤ÔºåÈÅçÂéÜÁöÑÊó∂ÂÄôÔºå‰ªéÂ§¥Âà∞Â∞æËøõË°åÈÅçÂéÜÔºåÂ¶ÇÊûúÊòØÁÆÄÂçïÂ±ûÊÄßÂÄºÔºàÊï∞ÂÄº„ÄÅÂ≠óÁ¨¶‰∏≤„ÄÅÂ∏ÉÂ∞îÂÄºÂíånullÔºâÔºåÈÇ£‰πàÁõ¥Êé•ÈÅçÂéÜÂÆåÊàêÔºåÂ¶ÇÊûúÊòØÈÅáÂà∞Â±ûÊÄßÂÄºÊòØÂØπË±°ÊàñËÄÖÊï∞ÁªÑÂΩ¢ÂºèÁöÑÔºåÈÇ£‰πàÊöÇÂÅúÔºåÂÖàÈÅçÂéÜËøô‰∏™Â≠êJSONÔºåËÄåÈÅçÂéÜÁöÑÂéüÂàô‰πüÊòØ‰∏ÄÊ†∑ÁöÑÔºåÁ≠âËøô‰∏™Â§çÂêàÂ±ûÊÄßÈÅçÂéÜÂÆåÊàêÔºåÈÇ£‰πàÂÜçÂÆåÊàêÂØπËøô‰∏™Â±ûÊÄßÁöÑÈÅçÂéÜËøîÂõû„ÄÇÊú¨Ë¥®‰∏äÔºåËøôÂ∞±ÊòØ‰∏Ä‰∏™Ê∑±Â∫¶‰ºòÂÖàÁöÑÈÅçÂéÜ„ÄÇÂΩ±Âìç JSON.stringify ÁöÑÁ•ûÂ•áÂáΩÊï∞‚Äî‚Äîobject.toJSONÂ¶ÇÊûú‰Ω†Âú®‰∏Ä‰∏™JSÂØπË±°‰∏äÂÆûÁé∞‰∫ÜtoJSONÊñπÊ≥ïÔºåÈÇ£‰πàË∞ÉÁî®JSON.stringifyÂéªÂ∫èÂàóÂåñËøô‰∏™JSÂØπË±°Êó∂ÔºåJSON.stringify‰ºöÊääËøô‰∏™ÂØπË±°ÁöÑtoJSONÊñπÊ≥ïËøîÂõûÁöÑÂÄº‰Ωú‰∏∫ÂèÇÊï∞ÂéªËøõË°åÂ∫èÂàóÂåñ„ÄÇ1234567891011var info=&#123; "msg":"I Love You", "toJSON":function()&#123; var replaceMsg=new Object(); replaceMsg["msg"]="Go Die"; return replaceMsg; &#125;&#125;; JSON.stringify(info); //Âá∫si‰∫ÜÔºåËøîÂõûÁöÑÊòØÔºö'"&#123;"msg":"Go Die"&#125;"',ËØ¥Â•ΩÁöÑÂøΩÁï•ÂáΩÊï∞Âë¢Ëøô‰∏™ÂáΩÊï∞Â∞±ÊòØËøôÊ†∑Â≠êÁöÑ„ÄÇÂÖ∂ÂÆûDateÁ±ªÂûãÂèØ‰ª•Áõ¥Êé•‰º†ÁªôJSON.stringifyÂÅöÂèÇÊï∞ÔºåÂÖ∂‰∏≠ÁöÑÈÅìÁêÜÂ∞±ÊòØÔºåDateÁ±ªÂûãÂÜÖÁΩÆ‰∫ÜtoJSONÊñπÊ≥ï„ÄÇJava‰∏ãÈù¢ÊòØJSONÂíåJavaÂØπË±°Á≠âÁöÑËΩ¨Êç¢ÊñπÊ≥ï„ÄÇÂáÜÂ§áÂ∑•‰ΩúÔºåÂàõÂª∫EmpÂÆû‰ΩìÁ±ªÔºö1234567891011121314public class Emp implements Serializable &#123; private String name; private Integer age; public Emp() &#123; &#125; public Emp(String name, Integer age) &#123; super(); this.name = name; this.age = age; &#125; //get,setÁï•&#125;javaÂØπË±°‚ÜíjsonÂ≠óÁ¨¶‰∏≤123456789@Testpublic void test1() &#123; //1.Ëé∑ÂèñJavaÂØπË±° Emp e = new Emp("mrbird",24); //2.ÂÖàÂ∞ÜÂÖ∂ËΩ¨Êç¢ÊàêjsonÂØπË±°(Map) JSONObject obj = JSONObject.fromObject(e); //3.Âú®Â∞ÜjsonÂØπË±°ËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤ System.out.println(obj.toString());&#125;ËæìÂá∫Ôºö1&#123;"age":24,"name":"mrbird"&#125;ÈõÜÂêà/Êï∞ÁªÑ‚ÜíjsonÂ≠óÁ¨¶‰∏≤1234567891011@Testpublic void test2() &#123; //1.Ëé∑ÂèñÈõÜÂêà/Êï∞ÁªÑ List&lt;Emp&gt; list = new ArrayList&lt;Emp&gt;(); list.add(new Emp("mrbird",24)); list.add(new Emp("leanote",33)); //2.ÂÖàÊääÈõÜÂêàËΩ¨ÊàêjsonÊï∞ÁªÑ(List) JSONArray ary = JSONArray.fromObject(list); //3.ÊääÊï¥‰∏™Êï∞ÁªÑËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤ System.out.println(ary.toString());&#125;ËæìÂá∫Ôºö1[&#123;"age":24,"name":"mrbird"&#125;,&#123;"age":33,"name":"leanote"&#125;]jsonÂ≠óÁ¨¶‰∏≤‚ÜíjavaÂØπË±°12345678910@Testpublic void test3() &#123; //1.Ëé∑ÂèñjsonÂ≠óÁ¨¶‰∏≤ String str = "&#123;\"name\":\"mrbird\",\"age\":24&#125;"; //2.Â∞ÜÊ≠§Â≠óÁ¨¶‰∏≤ËΩ¨ÊàêjsonÂØπË±°(Map) JSONObject obj = JSONObject.fromObject(str); //3.Â∞ÜjsonÂØπË±°ËΩ¨Êç¢ÊàêJavaÂØπË±°(bean) Emp e = (Emp)JSONObject.toBean(obj, Emp.class); System.out.println(e.getName());&#125;ËæìÂá∫Ôºö1mrbirdjsonÂ≠óÁ¨¶‰∏≤ËΩ¨‚ÜíList1234567891011121314151617@Testpublic void test4() &#123; //1.Ëé∑ÂèñjsonÂ≠óÁ¨¶‰∏≤ String str = "[&#123;\"name\":\"mrbird\",\"age\":24&#125;," + "&#123;\"name\":\"leanote\",\"age\":33&#125;]"; //2.ÂÖàÂ∞ÜÊ≠§Â≠óÁ¨¶‰∏≤ËΩ¨ÊàêjsonÊï∞ÁªÑ(List) //ÂΩìÂâçList‰∏≠Â≠òÁöÑÊòØMap„ÄÇ JSONArray ary = JSONArray.fromObject(str); //3.Â∞ÜList&lt;Map&gt;ËΩ¨ÊàêList&lt;Emp&gt; //JSONArray‰ºöËá™Âä®ÂÆû‰æãÂåñ‰∏Ä‰∏™ÈõÜÂêàÔºåÁÑ∂ÂêéÂ∞Üary‰∏≠ÁöÑÊØè‰∏Ä‰∏™MapËΩ¨ÊàêEmpÔºå //Â¢ûÂä†Âà∞Ëøô‰∏™Êñ∞Âª∫ÁöÑÈõÜÂêà‰∏≠ List&lt;Emp&gt; list = (List&lt;Emp&gt;)JSONArray.toCollection(ary, Emp.class); for(Emp e : list) &#123; System.out.println(e.getName()); &#125;&#125;ÂèÇËÄÉÊñáÁ´† ‚Äì JSONÔºöÂ¶ÇÊûú‰Ω†ÊÑøÊÑè‰∏ÄÂ±Ç‰∏ÄÂ±ÇÂâ•ÂºÄÊàëÁöÑÂøÉÔºå‰Ω†‰ºöÂèëÁé∞‚Ä¶ËøôÈáåÊ∞¥ÂæàÊ∑±‚Äî‚ÄîÊ∑±ÂÖ•ÁêÜËß£JSON]]></content>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mavenÁîüÂëΩÂë®ÊúüÂíåÊèí‰ª∂]]></title>
    <url>%2Fmaven%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%92%8C%E6%8F%92%E4%BB%B6.html</url>
    <content type="text"><![CDATA[mavenÁîüÂëΩÂë®ÊúüÔºàlifecycleÔºâÂØπÊûÑÂª∫ÁöÑËøáÁ®ãËøõË°å‰∫ÜÊäΩË±°ÂíåÁªü‰∏ÄÔºåÂÆûÈôÖÁöÑÂ∑•‰ΩúÊòØÁî±ÂØπÂ∫îÁöÑÊèí‰ª∂ÔºàpluginsÔºâÊù•ÂÆåÊàêÁöÑ„ÄÇmavenÁîüÂëΩÂë®ÊúümavenÁîüÂëΩÂë®ÊúüÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºöcleanÁîüÂëΩÂë®ÊúüËØ•Âë®ÊúüÁöÑ‰ªªÂä°ÊòØÊ∏ÖÁêÜÈ°πÁõÆÔºåÂåÖÂê´‰∏â‰∏™Èò∂ÊÆµÔºöpre-cleanÊâßË°åÊ∏ÖÁêÜÂâçÈúÄË¶ÅÂÆåÊàêÁöÑÂ∑•‰ΩúcleanÊ∏ÖÁêÜ‰∏ä‰∏ÄÊ¨°ÊûÑÂª∫ÁîüÊàêÁöÑÊñá‰ª∂post-cleanÊâßË°åÊ∏ÖÁêÜÂêéÈúÄË¶ÅÂÆåÊàêÁöÑÂ∑•‰ΩúdefaultÁîüÂëΩÂë®ÊúüdefaultÁîüÂëΩÂë®ÊúüÂÆö‰πâ‰∫ÜÁúüÊ≠£ÊûÑÂª∫Êó∂ÈúÄË¶ÅÁöÑÊâÄÊúâÊ≠•È™§„ÄÇvalidateÈ™åËØÅÈ°πÁõÆÊòØÊ≠£Á°ÆÁöÑÔºåÊâÄÊúâÂøÖË¶ÅÁöÑ‰ø°ÊÅØÊòØÂèØÁî®ÁöÑinitializeÂàùÂßãÂåñÊûÑÂª∫Áä∂ÊÄÅÔºå‰æãÂ¶ÇÔºöËÆæÁΩÆÂ±ûÊÄßÊàñÂàõÂª∫ÁõÆÂΩïgenerate-sourcesÁîüÊàêÁºñËØëÊúüÁöÑÊ∫ê‰ª£Á†Å„ÄÇprocess-sourcesÂ§ÑÁêÜÈ°πÁõÆ‰∏ªËµÑÊ∫êÊñá‰ª∂„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÊòØÂØπsrc/main/resourcesÁõÆÂΩïÂÜÖÂÆπËøõË°åÂèòÈáèÊõøÊç¢Á≠âÂ∑•‰ΩúÂêéÔºåÂ§çÂà∂Âà∞È°πÁõÆËæìÂá∫ÁöÑ‰∏ªÁõÆÂΩïclasspathÁõÆÂΩï‰∏≠generate-resourcesÁîüÊàêÂåÖÂê´Âú®ÊâìÂåÖËøáÁ®ã‰∏≠ÁöÑËµÑÊ∫êprocess-resourcesÂ§çÂà∂ÂíåÂ§ÑÁêÜËµÑÊ∫êÂà∞ÁõÆÊ†áÁõÆÂΩïÔºåÂáÜÂ§áÊâìÂåÖcompileÁºñËØëÈ°πÁõÆÁöÑÊ∫ê‰ª£Á†Åprocess-classesÂ§ÑÁêÜÁºñËØëÂêéÁîüÊàêÁöÑclassÊñá‰ª∂generate-test-sourcesÁîüÊàêÁºñËØëÊúüÂÜÖÁöÑÊµãËØïÊ∫ê‰ª£Á†Åprocess-test-sourcesÂ§ÑÁêÜÊµãËØïÊ∫ê‰ª£Á†ÅÔºåÂ¶ÇËøáÊª§‰∏Ä‰∫õÂÄºgenerate-test-resourcesÂàõÂª∫ÊµãËØïËµÑÊ∫êprocess-test-resourcesÂ§çÂà∂ÊµãËØïËµÑÊ∫êÂà∞ÁõÆÊ†áÁõÆÂΩïÂπ∂Â§ÑÁêÜtest-compileÁºñËØëÊµãËØïÊ∫ê‰ª£Á†ÅÂà∞ÊµãËØïÁõÆÊ†áÁõÆÂΩïprocess-test-classesÂ§ÑÁêÜÁºñËØëÊµãËØï‰ª£Á†ÅÂêéÁîüÊàêÁöÑclassÊñá‰ª∂test‰ΩøÁî®ÂêàÈÄÇÁöÑÂçïÂÖÉÊµãËØïÊ°ÜÊû∂ËøêË°åÊµãËØï„ÄÇ Ëøô‰∫õÊµãËØï‰ª£Á†Å‰∏ç‰ºöË¢´ÊâìÂåÖÂíå ÈÉ®ÁΩ≤prepare-packageÊâßË°åÊâìÂåÖÂâçÈúÄË¶ÅÁöÑ‰ªª‰ΩïÂ∑•‰ΩúpackageÊé•Êî∂ÁºñËØëÂ•ΩÁöÑ‰ª£Á†ÅÔºåÊâìÂåÖÊàêÂèØÂèëÂ∏ÉÁöÑÊ†ºÂºèÔºåÂ¶ÇjarÔºåwarÁ≠âpre-integration-testÊâßË°åÈõÜÊàêÊµãËØï‰πãÂâçÊâÄÈúÄÁöÑÊìç‰Ωúintegration-testÂ¶ÇÊûúÈúÄË¶ÅÔºåÂèØ‰ª•Â∞ÜËΩØ‰ª∂ÂåÖÂ§ÑÁêÜÂíåÈÉ®ÁΩ≤Âà∞ÂèØ‰ª•ËøêË°åÈõÜÊàêÊµãËØïÁöÑÁéØÂ¢É‰∏≠post-integration-testÊâßË°åÈõÜÊàêÊµãËØï‰πãÂêéÊâÄÈúÄÁöÑÊìç‰ΩúverifyËøêË°å‰ªª‰ΩïÊ£ÄÊü•‰ª•È™åËØÅÁ®ãÂ∫èÂåÖÊòØÂê¶ÊúâÊïàÂπ∂Á¨¶ÂêàË¥®ÈáèÊ†áÂáÜinstallÂ∞ÜÁ®ãÂ∫èÂåÖÂÆâË£ÖÂà∞mavenÊú¨Âú∞‰ªìÂ∫ìÔºå‰æõÊú¨Âú∞ÂÖ∂‰ªñmavenÈ°πÁõÆ‰ΩøÁî®deployÂ∞ÜÊúÄÁªàÂåÖÂ§çÂà∂Âà∞ËøúÁ®ã‰ªìÂ∫ìÔºå‰æõÂÖ∂ÂÆÉÂºÄÂèë‰∫∫ÂëòÂíåmavenÈ°πÁõÆ‰ΩøÁî®siteÁîüÂëΩÂë®ÊúüsiteÁîüÂëΩÂë®ÊúüÁöÑ‰ΩúÁî®ÊòØÂª∫Á´ãÂíåÂèëÂ∏ÉÈ°πÁõÆÁ´ôÁÇπ„ÄÇpre-siteÊâßË°å‰∏Ä‰∫õÂú®ÁîüÊàêÈ°πÁõÆÁ´ôÁÇπ‰πãÂâçÊâÄÈúÄË¶ÅÂÆåÊàêÁöÑÂ∑•‰ΩúsiteÁîüÊàêÈ°πÁõÆÁ´ôÁÇπÊñáÊ°£post-siteÊâßË°å‰∏Ä‰∫õÂú®ÁîüÊàêÈ°πÁõÆÁ´ôÁÇπ‰πãÂêéÈúÄË¶ÅÂÆåÊàêÁöÑÂ∑•‰Ωúsite-deployÂ∞ÜÁîüÊàêÁöÑÈ°πÁõÆÁ´ôÁÇπÂèëÂ∏ÉÂà∞ÊúçÂä°Âô®‰∏ämavenÁîüÂëΩÂë®ÊúüÊòØÁõ∏‰∫í‰æùËµñÁöÑÂÖ≥Á≥ªÔºåÂ¶ÇÊâßË°å mvn cleanÂëΩ‰ª§Êó∂Ôºå‰ºöÊâßË°åpre-cleanÔºåcleanÈò∂ÊÆµÔºõÊâßË°åmvn deploy‰ºöÊâßË°ådefaultÁîüÂëΩÂë®ÊúüÂâçÈù¢ÁöÑÊâÄÊúâÈò∂ÊÆµ„ÄÇÊèí‰ª∂ÁõÆÊ†ámavenÁîüÂëΩÂë®ÊúüÁöÑÂêÑ‰∏™Èò∂ÊÆµÊòØÂíåÊèí‰ª∂ÁªëÂÆöÂú®‰∏ÄËµ∑ÁöÑÔºå‰∏Ä‰∏™Êèí‰ª∂ÂèØ‰ª•ÂåÖÂê´Â§ö‰∏™ÂäüËÉΩÔºåÊØè‰∏™ÂäüËÉΩÂØπÂ∫îÁîüÂëΩÂë®ÊúüÁöÑ‰∏Ä‰∏™Èò∂ÊÆµÔºåÂπ∂Áß∞ÂÖ∂‰∏∫Êèí‰ª∂ÁõÆÊ†á„ÄÇÂ¶ÇÔºömaven-dependency-pluginÂåÖÂê´Êèí‰ª∂ÁõÆÊ†áÔºödependencyÔºötreeÔºådependencyÔºölistÔºådependencyÔºöanalyzeÁ≠â„ÄÇÂÜÖÁΩÆÁªëÂÆöÊèí‰ª∂mavenÂú®Ê†∏ÂøÉ‰∏∫‰∏Ä‰∫õ‰∏ªË¶ÅÁöÑÁîüÂëΩÂë®ÊúüÁªëÂÆö‰∫ÜËÆ∏Â§öÊèí‰ª∂ÁõÆÊ†áÔºöcleanÁîüÂëΩÂë®ÊúüÈò∂ÊÆµ‰∏éÊèí‰ª∂ÁªëÂÆöÊÉÖÂÜµÔºöÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÊèí‰ª∂ÁõÆÊ†ápre-cleanmaven-clean-plugin:cleancleanpost-cleandefaultÁîüÂëΩÂë®ÊúüÈò∂ÊÆµ‰∏éÊèí‰ª∂ÁªëÂÆöÊÉÖÂÜµÂèäÂÖ∑‰Ωì‰ªªÂä°ÔºöÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÊèí‰ª∂ÁõÆÊ†áÊâßË°å‰ªªÂä°process-resourcesmaven-resources-plugin:resourcesÂ§çÂà∂‰∏ªËµÑÊ∫êÊñá‰ª∂Âà∞ËæìÂá∫ ÁõÆÂΩïcompilemaven-compiler-plugin:compileÁºñËØë‰∏ª‰ª£Á†ÅÂà∞ËæìÂá∫ÁõÆÂΩïprocess-test-resourcesmaven-resources-plugin:testResourcesÂ§çÂà∂ÊµãËØïËµÑÊ∫êÊñá‰ª∂Âà∞Ëæì Âá∫ÁõÆÂΩïtest-compilemaven-compiler-plugin:testCompileÁºñËØëÊµãËØï‰ª£Á†ÅÂà∞ËæìÂá∫ÁõÆ ÂΩïtestmaven-surefire-plugin:testÊâßË°åÊµãËØïÁî®‰æãpackagemaven-jar-plugin:jarÂàõÂª∫È°πÁõÆjarÂåÖinstallmaven-install-plugin:installÂ∞ÜÈ°πÁõÆËæìÂá∫ÊûÑ‰ª∂ÂÆâË£ÖÂà∞ Êú¨Âú∞‰ªìÂ∫ìdeploymaven-deploy-plugin:deployÂ∞ÜÈ°πÁõÆËæìÂá∫ÊûÑ‰ª∂ÈÉ®ÁΩ≤Âà∞ ËøúÁ®ã‰ªìÂ∫ìsiteÁîüÂëΩÂë®ÊúüÈò∂ÊÆµ‰∏éÊèí‰ª∂ÁªëÂÆöÊÉÖÂÜµÔºöÁîüÂëΩÂë®ÊúüÈò∂ÊÆµÊèí‰ª∂ÁõÆÊ†ápre-sitemaven-site-plugin:sitesitepost-sitesite-deploymaven-site-plugin:deployÂ¶ÇÔºåÂØπÈ°πÁõÆÊâßË°å mvn clean install ÂëΩ‰ª§Ôºö1234567891011121314151617181920212223242526272829--- maven-clean-plugin:2.5:clean (default-clean) @ viswcm-project ---[INFO] Deleting D:\workspace\viswcm-project\target[INFO] [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ viswcm-project ---[INFO] Using 'UTF-8' encoding to copy filtered resources.[INFO] Copying 0 resource[INFO] [INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ viswcm-project ---[INFO] Compiling 20 source files to D:\workspace\viswcm-project\target\classes[INFO] [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ viswcm-project ---[INFO] Using 'UTF-8' encoding to copy filtered resources.[INFO] skip non existing resourceDirectory D:\workspace\viswcm-project\src\test\resources[INFO] [INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ viswcm-project ---[INFO] Nothing to compile - all classes are up to date[INFO] [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ viswcm-project ---[INFO] No tests to run.[INFO] [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ viswcm-project ---[INFO] Building jar: D:\workspace\viswcm-project\target\viswcm-project-0.0.1-SNAPSHOT.jar[INFO] [INFO] --- maven-install-plugin:2.4:install (default-install) @ viswcm-project ---[INFO] Installing D:\workspace\viswcm-project\target\viswcm-project-0.0.1-SNAPSHOT.jar to D:\64\m2\repository\com\visgreat\viswcm-project\0.0.1-SNAPSHOT\viswcm-project-0.0.1-SNAPSHOT.jar[INFO] Installing D:\workspace\viswcm-project\pom.xml to D:\64\m2\repository\com\visgreat\viswcm-project\0.0.1-SNAPSHOT\viswcm-project-0.0.1-SNAPSHOT.pom[INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------ÂÖ∂ËæìÂá∫ÁªìÊûúÂíå‰∏äÈù¢ÁöÑË°®Ê†ºÊèèËø∞‰∏ÄËá¥„ÄÇËá™ÂÆö‰πâÊèí‰ª∂ÁªëÂÆöÈô§‰∫ÜmavenÂÜÖÁΩÆÁªëÂÆöÔºåÊàë‰ª¨ËøòÂèØ‰ª•Ëá™Ë°åÁªëÂÆöÊüê‰∏™Êèí‰ª∂Âà∞Êüê‰∏™ÁîüÂëΩÂë®ÊúüÁöÑÊüê‰∏™Èò∂ÊÆµ„ÄÇÊØîÂ¶ÇË¶ÅÁîüÊàêÈ°πÁõÆÊ∫êÁ†ÅjarÂåÖÔºåÊàë‰ª¨ÂèØ‰ª•Â∞Ümaven-source-pluginÊèí‰ª∂ÈÖçÁΩÆÂà∞defaultÁîüÂëΩÂë®ÊúüÁöÑverifyÈò∂ÊÆµÔºö123456789101112131415161718&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt; &lt;version&gt;2.1.1&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;attach-sources&lt;/id&gt; &lt;phase&gt;verify&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;jar-no-fork&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt;‰∏äËø∞ÈÖçÁΩÆÊèèËø∞‰∫Ümaven-source-pluginÊèí‰ª∂ÂùêÊ†áÂ§ñÔºåËøòÊúâÊèí‰ª∂ÊâßË°åÈÖçÁΩÆexecutionsÂÖÉÁ¥†‰∏ãÁöÑÊØè‰∏™executionÂ≠êÂÖÉÁ¥†ÂèØ‰ª•Áî®Êù•ÈÖçÁΩÆÊâßË°å‰∏Ä‰∏™‰ªªÂä°„ÄÇËøôÈáåÈÖçÁΩÆ‰∫Ü‰∏Ä‰∏™id‰∏∫attach-sourcesÁöÑ‰ªªÂä°ÔºåÈÄöËøáphaseÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂ÁªëÂÆöÂà∞verifyÈò∂ÊÆµ‰∏äÔºåÂÜçÈÄöËøágoalsÈÖçÁΩÆÊåáÂÆöÊâßË°åÁöÑÊèí‰ª∂ÁõÆÊ†á„ÄÇËøêË°åmvn verifyÔºö12[INFO] --- maven-source-plugin:2.1.1:jar-no-fork (attach-sources) @ viswcm-project --- [INFO] Building jar: D:\workspace\viswcm-project\target\viswcm-project-0.0.1-SNAPSHOT-sources.jarËé∑ÂèñÊèí‰ª∂‰ø°ÊÅØmavenÂÆòÊñπÊèí‰ª∂Ôºöhttp://maven.apache.org/plugins/index.htmlmavenÂÆòÊñπÊèí‰ª∂‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://repo1.maven.org/maven2/org/apache/maven/plugins/ÈÖçÁΩÆÊèí‰ª∂‰ªìÂ∫ì1234567891011121314&lt;pluginRepositories&gt; &lt;pluginRepository&gt; &lt;id&gt;central&lt;/id&gt; &lt;name&gt;Maven.Plugin.Repository&lt;/name&gt; &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt; &lt;layout&gt;default&lt;/layout&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;releases&gt; &lt;updatePolicy&gt;never&lt;/updatePolicy&gt; &lt;/releases&gt; &lt;/pluginRepository&gt;&lt;/pluginRepositories&gt;„ÄäMavenÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[maven repository]]></title>
    <url>%2Fmaven-repository.html</url>
    <content type="text"><![CDATA[‰øùÂ≠òÊûÑ‰ª∂ÁöÑÂú∞ÊñπÂç≥‰∏∫repositoryÔºà‰ªìÂ∫ìÔºâ„ÄÇ‰ªìÂ∫ìÁöÑÂàÜÁ±ªmaven‰ªìÂ∫ìÂàÜ‰∏∫‰∏§Á±ªÔºöÊú¨Âú∞‰ªìÂ∫ìÂíåËøúÁ®ã‰ªìÂ∫ì„ÄÇÂΩìmavenÊ†πÊçÆpom‰∏≠ÂÆö‰πâÁöÑÂùêÊ†áÂØªÊâæÊûÑ‰ª∂Êó∂ÔºåÈ¶ñÂÖàÂú®Êú¨Âú∞‰ªìÂ∫ì‰∏≠ÂØªÊâæÔºåÂΩìÊâæ‰∏çÂà∞Êó∂ÂÜç‰ªéËøúÁ®ã‰ªìÂ∫ìÂØªÊâæÔºåÈÉΩÊâæ‰∏çÂà∞Êó∂ÊäõÂá∫ÂºÇÂ∏∏„ÄÇmavenËøúÁ®ã‰ªìÂ∫ìËøòÂèØËøõ‰∏ÄÊ≠•ÂàÜÁ±ªÔºöÊú¨Âú∞‰ªìÂ∫ìÈªòËÆ§maven‰ºöÂú®cÁõòÂàõÂª∫‰∏Ä‰∏™.m2ÁöÑÊú¨Âú∞‰ªìÂ∫ìÔºåÂ¶ÇÊûúË¶Å‰øÆÊîπÊú¨Âú∞‰ªìÂ∫ìÂú∞ÂùÄÔºåÂèØ‰ª•‰øÆÊîπsetting.xmlÊñá‰ª∂Ôºö123&lt;settings&gt; &lt;localRepository&gt;D:\64\m2\repository&lt;/localRepository&gt;&lt;/settings&gt;ËøúÁ®ã‰ªìÂ∫ì‰∏≠Â§Æ‰ªìÂ∫ì‰ΩøÁî®Ëß£ÂéãËΩØ‰ª∂ÊâìÂºÄ%M2_HOME%/lib/maven-model-builder-3.1.1.jarÔºåÁÑ∂ÂêéËÆøÈóÆË∑ØÂæÑorg/apache/maven/model/pom-4.0.0.xmlÔºåÂèØÁúãÂà∞Ôºö1234567891011&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;central&lt;/id&gt; &lt;name&gt;Central Repository&lt;/name&gt; &lt;url&gt;http://repo.maven.apache.org/maven2&lt;/url&gt; &lt;layout&gt;default&lt;/layout&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt;&lt;/repositories&gt;ÂåÖÂê´ËøôÊÆµÈÖçÁΩÆÁöÑÊñá‰ª∂ÊòØÊâÄÊúâmavenÈ°πÁõÆÈÉΩ‰ºöÁªßÊâøÁöÑË∂ÖÁ∫ßpom„ÄÇ‰∏äËø∞ÈÖçÁΩÆ‰∏≠ÔºåsnapshotsÂ≠êÂÖÉÁ¥†enabledÁöÑÂÄº‰∏∫falseÔºåË°®Á§∫‰∏ç‰ªé‰∏≠Â§Æ‰ªìÂ∫ì‰∏ãËΩΩÂø´ÁÖßÁâàÊú¨ÁöÑÊûÑ‰ª∂„ÄÇÁßÅÊúçÁßÅÊúçÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑËøúÁ®ã‰ªìÂ∫ìÔºåÊû∂ËÆæ‰∫éÂ±ÄÂüüÁΩëÂÜÖ„ÄÇÂΩìmavenÈúÄË¶Å‰∏ãËΩΩÊûÑ‰ª∂Êó∂ÔºåÂÖà‰ªéÁßÅÊúçÂØªÊâæÔºåÁßÅÊúç‰∏≠Ê≤°ÊúâÂÜç‰ªéÂ§ñÈÉ®‰ªìÂ∫ì‰∏ãËΩΩ„ÄÇÁßÅÊúçÊúâËÆ∏Â§öÊòæËëóÁöÑ‰ºòÁÇπÔºö‚ñ† ËäÇÁúÅÂ§ñÁΩëÂ∏¶ÂÆΩ‚ñ† Âä†ÈÄümavenÊûÑ‰ª∂‚ñ† ÈÉ®ÁΩ≤Á¨¨‰∏âÊñπÊûÑ‰ª∂‚ñ† ÊèêÈ´òÁ®≥ÂÆöÊÄßÔºåÂ¢ûÂº∫ÊéßÂà∂‚ñ† Èôç‰Ωé‰∏≠Â§Æ‰ªìÂ∫ìÁöÑË¥üËç∑ËøúÁ®ã‰ªìÂ∫ìÈÖçÁΩÆÂ¶ÇÊûúÈªòËÆ§ÁöÑËøúÁ®ã‰∏≠Â§Æ‰ªìÂ∫ìÊó†Ê≥ïÊª°Ë∂≥ÈúÄÊ±ÇÔºåÊàë‰ª¨ÂèØ‰ª•Âú®pom‰∏≠Ê∑ªÂä†ËøúÁ®ã‰ªìÂ∫ìÁöÑÈÖçÁΩÆÔºö1234567891011121314151617&lt;project&gt; ... &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;jboss&lt;/id&gt; &lt;name&gt;JBoss Repository&lt;/name&gt; &lt;url&gt;http://repository.jboss.com/maven2/&lt;/url&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;layout&gt;default&lt;/layout&gt; &lt;/repository&gt; &lt;/repositories&gt;&lt;/project&gt;Âú®repositoriesÂÖÉÁ¥†‰∏ãÔºå‰ΩøÁî®repositoryÂÖÉÁ¥†Â£∞Êòé‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËøúÁ®ã‰ªìÂ∫ì„ÄÇ‰∏äÈù¢ÁöÑxmlÂ£∞Êòé‰∫Ü‰∏Ä‰∏™id‰∏∫jbossÔºåÂêçÁß∞‰∏∫JBoss RepositoryÁöÑ‰ªìÂ∫ì„ÄÇ‰ªª‰Ωï‰∏Ä‰∏™‰ªìÂ∫ìÁöÑidÊòØÂîØ‰∏ÄÁöÑÔºåmavenËá™Â∏¶ÁöÑ‰∏≠Â§Æ‰ªìÂ∫ì‰ΩøÁî®ÁöÑid‰∏∫centralÔºåÂ¶ÇÊûúÂÖ∂‰ªñ‰ªìÂ∫ìÁöÑid‰πü‰∏∫centralÔºåÈÇ£‰πàÂÆÉÂ∞ÜË¶ÜÁõñËá™Â∏¶ÁöÑ‰∏≠Â§Æ‰ªìÂ∫ì„ÄÇurlÊåáÂêë‰ªìÂ∫ìÂú∞ÂùÄÔºå‰∏ÄËà¨ËØ•Âú∞ÂùÄÈÉΩÊòØÂü∫‰∫éhttpÂçèËÆÆ„ÄÇreleasesÁöÑenabledÂÄº‰∏∫trueÔºåË°®Á§∫ÂºÄÂêØJBoss‰ªìÂ∫ìÁöÑÂèëÂ∏ÉÁâàÊú¨‰∏ãËΩΩÊîØÊåÅÔºåsnapshotsÁöÑenabledÂÄº‰∏∫falseÔºåË°®Á§∫ÂÖ≥Èó≠JBoss‰ªìÂ∫ìÁöÑÂø´ÁÖßÁâàÊú¨ÁöÑ‰∏ãËΩΩÊîØÊåÅ„ÄÇreleaseÂíåsnapshotsÂÖÉÁ¥†ËøòÂèØ‰ª•ÈÖçÁΩÆÂè¶Â§ñ‰∏§‰∏™Â≠êÂÖÉÁ¥†Ôºö12345&lt;snapshots&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;updatePolicy&gt;daily&lt;/updatePolicy&gt; &lt;checksumPolicy&gt;ignore&lt;/checksumPolicy&gt;&lt;/snapshots&gt;updatePolicyÂÖÉÁ¥†ÈÖçÁΩÆmaven‰ªéËøúÁ®ã‰ªìÂ∫ìÊ£ÄÊü•Êõ¥Êñ∞ÁöÑÈ¢ëÁéáÔºåÈªòËÆ§ÂÄº‰∏∫daily„ÄÇÂÖ∂‰ªñÂèØÁî®ÂÄºÊúâÔºönever ‚Äî‚Äî ‰ªé‰∏çÊ£ÄÊü•Êõ¥Êñ∞Ôºåalways ‚Äî‚Äî ÊØèÊ¨°ÊûÑÂª∫ÈÉΩÊ£ÄÊü•Êõ¥Êñ∞ÔºåintervalÔºöX ‚Äî‚Äî ÊØèÈöîXÂàÜÈíüÊ£ÄÊü•‰∏ÄÊ¨°Êõ¥Êñ∞„ÄÇÁî®Êà∑‰πüÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§ mvn clean install -UÂº∫Âà∂Êõ¥Êñ∞„ÄÇchecksumPolicyÂÖÉÁ¥†Áî®Êù•ÈÖçÁΩÆÂΩì‰∏ãËΩΩÊûÑ‰ª∂Êó∂ÔºåmavenÊ£ÄÈ™åÂíåÈ™åËØÅÂ§±Ë¥•Êó∂ÂÄôÁöÑÂä®‰ΩúÔºåÈªòËÆ§‰∏∫warnÔºåÂç≥ËæìÂá∫Ë≠¶Âëä‰ø°ÊÅØÔºåignoreÂàô‰∏∫ÂøΩÁï•ÈîôËØØ„ÄÇËøúÁ®ã‰ªìÂ∫ìËÆ§ËØÅÂ¶ÇÊûúËøúÁ®ã‰ªìÂ∫ìÂá∫‰∫éÂÆâÂÖ®ÁöÑËÄÉËôëËÆæÁΩÆ‰∫ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåËøôÊó∂ÂÄôÊàë‰ª¨ÂøÖÈ°ªÂú®settings.xml‰∏≠ÈÖçÁΩÆÔºö12345678910&lt;settings&gt; ... &lt;servers&gt; &lt;server&gt; &lt;id&gt;my-proj&lt;/id&gt; &lt;username&gt;repo-user&lt;/username&gt; &lt;password&gt;repo_pwd&lt;/password&gt; &lt;/server&gt; &lt;/servers&gt;&lt;/settings&gt;‰∏äËø∞xmlÊåáÂÆö‰∫Üid‰∏∫my-projÁöÑËøúÁ®ã‰ªìÂ∫ìÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇÈÉ®ÁΩ≤Ëá≥ËøúÁ®ã‰ªìÂ∫ìÂ¶ÇÂâçÊâÄËø∞ÔºåÁßÅÊúç‰∏ÄÂ§ß‰ΩúÁî®ÊòØÂèØ‰ª•ÈÉ®ÁΩ≤Á¨¨‰∏âÊñπÊûÑ‰ª∂„ÄÇÊó†ËÆ∫ÊòØÂºÄÂèë‰∏≠ÁîüÊàêÁöÑÊûÑ‰ª∂ËøòÊòØÊ≠£ÂºèÂèëÂ∏ÉÁöÑÊûÑ‰ª∂ÔºåÈÉΩÈúÄË¶ÅÈÉ®ÁΩ≤Âà∞ÁßÅÊúç‰∏≠‰æõÂ∞èÁªÑ‰∏≠ÁöÑÂÖ∂‰ªñÂºÄÂèë‰∫∫Âëò‰ΩøÁî®ÔºåÂú®mavenÈ°πÁõÆpom‰∏≠ÈÖçÁΩÆÔºö123456789101112131415161718&lt;project&gt; ... &lt;distributionManagement&gt; &lt;snapshotRepository&gt; &lt;id&gt;user-snapshot&lt;/id&gt; &lt;name&gt;User Porject Snapshot&lt;/name&gt; &lt;url&gt;http://192.168.10.217:8081/nexus/ content/repositories/snapshots/&lt;/url&gt; &lt;uniqueVersion&gt;true&lt;/uniqueVersion&gt; &lt;/snapshotRepository&gt; &lt;repository&gt; &lt;id&gt;user-release&lt;/id&gt; &lt;name&gt;User Porject Release&lt;/name&gt; &lt;url&gt;http://192.168.10.217:8081/nexus/ content/repositories/releases/&lt;/url&gt; &lt;/repository&gt; &lt;/distributionManagement&gt;&lt;/project&gt;‰∏äËø∞xmlÊòéÁ°ÆÊåáÂÆö‰∫ÜÂø´ÁÖßÁâàÊú¨ÂíåÂèëË°åÁâàÊú¨ÁöÑÁßÅÊúçidÂíåÂú∞ÂùÄÔºåÂ¶ÇÂâçÊâÄËø∞ÔºåÂ¶ÇÊûúÁßÅÊúçËÆæÁΩÆ‰∫ÜË¥¶Âè∑ÂØÜÁ†ÅÔºåÂàôÂ∫îËØ•Âú®settings.xml‰∏≠ËÆæÁΩÆÂØπÂ∫îidÁöÑÁßÅÊúçË¥¶Âè∑ÂíåÂØÜÁ†ÅÔºåÂ∞±Êú¨‰æãÊù•ËØ¥ÔºåÊàë‰ª¨Â∫îËØ•Âú®settings.xml‰∏≠ËÆæÁΩÆÔºö1234567891011121314&lt;settings&gt; &lt;servers&gt; &lt;server&gt; &lt;id&gt;user-release&lt;/id&gt; &lt;username&gt;deployment&lt;/username&gt; &lt;password&gt;deployment123&lt;/password&gt; &lt;/server&gt; &lt;server&gt; &lt;id&gt;user-snapshot&lt;/id&gt; &lt;username&gt;deployment&lt;/username&gt; &lt;password&gt;deployment123&lt;/password&gt; &lt;/server&gt; &lt;/servers&gt;&lt;/settings&gt;ÈÖçÁΩÆÊ≠£Á°ÆÂêéÔºåÂèØ‰ª•ËøêË°åÂëΩ‰ª§mvn clean deployÂ∞ÜÈ°πÁõÆÊûÑÂª∫ËæìÂá∫ÁöÑÊûÑ‰ª∂ÈÉ®ÁΩ≤Âà∞ÂØπÂ∫îÁöÑËøúÁ®ã‰ªìÂ∫ì„ÄÇÂø´ÁÖßÁâàÊú¨ÁâàÊú¨ÂÖÉÁ¥†version‰∏≠Ê∑ªÂä†SNAPSHOTÊ†áËØÜÔºåË°®ÊòéËØ•ÊûÑ‰ª∂‰∏∫Âø´ÁÖßÁâàÊú¨„ÄÇSNAPSHOTÁâàÊú¨ÁöÑÊûÑ‰ª∂ÂèëÂ∏ÉÂà∞ÁßÅÊúçÁöÑËøáÁ®ã‰∏≠Ôºåmaven‰ºöËá™Âä®Âä†‰∏äÊó∂Èó¥Êà≥„ÄÇÂè¶‰∏Ä‰ΩçÂºÄÂèëËÄÖ‰ªéËØ•ÁßÅÊúçËé∑ÂèñËøô‰∏™ÊûÑ‰ª∂ÁöÑÊó∂ÂÄôÔºåmaven‰ºöËá™Âä®Ëé∑ÂèñÊó∂Èó¥Êà≥ÊúÄÊñ∞ÁöÑÊûÑ‰ª∂„ÄÇÂø´ÁÖßÁâàÊú¨Âè™Â∫îËØ•Âú®ÁªÑÁªáÂÜÖÈÉ®‰æùËµñ‰ΩøÁî®ÔºåÈ°πÁõÆ‰∏çÂ∫îËØ•‰æùËµñ‰∫é‰ªª‰ΩïÁªÑÁªáÂ§ñÈÉ®ÁöÑÂø´ÁÖßÁâàÊú¨‰æùËµñ„ÄÇÂõ†‰∏∫Âø´ÁÖßÁâàÊú¨ÁöÑ‰∏çÁ®≥ÂÆöÊÄß‰ºöÂØπÈ°πÁõÆÈÄ†ÊàêÊΩúÂú®ÁöÑÂç±Èô©„ÄÇÈïúÂÉèÂ¶ÇÊûú‰ªìÂ∫ìBÂèØ‰ª•Êèê‰æõ‰ªìÂ∫ìAÂ≠òÂÇ®ÁöÑÊâÄÊúâÂÜÖÂÆπÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•ËÆ§‰∏∫BÊòØAÁöÑ‰∏Ä‰∏™ÈïúÂÉè„ÄÇmavenÈªòËÆ§ÁöÑËøúÁ®ã‰∏≠Â§Æ‰ªìÂ∫ìÁî±‰∫éÊúçÂä°Âô®‰∏çÂú®‰∏≠ÂõΩÔºåÊâÄ‰ª•ËÆøÈóÆÈÄüÂ∫¶ÂèØËÉΩ‰ºöÊÖ¢‰∫õÔºåËøôÊó∂ÂÄôÂèØ‰ª•ÂÜçsettings.xml‰∏≠ÈÖçÁΩÆ‰∏Ä‰∏™ÈïúÂÉèÔºö1234567891011&lt;settings&gt; ... &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;maven.net.cn&lt;/id&gt; &lt;name&gt;one of the central mirrors in china&lt;/name&gt; &lt;url&gt;http://maven.net.cn/content/groups/public&lt;/url&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;/mirror&gt; &lt;/mirrors&gt;&lt;/settings&gt;&lt;mirrorOf&gt;ÁöÑÂÄº‰∏∫centralÔºåË°®Á§∫ËØ•ÈÖçÁΩÆ‰∏∫‰∏≠Â§Æ‰ªìÂ∫ìÁöÑÈïúÂÉè„ÄÇ‰ªª‰ΩïÂØπ‰∫é‰∏≠Â§Æ‰ªìÂ∫ìÁöÑËØ∑Ê±ÇÈÉΩ‰ºöÊú¨ËΩ¨Ëá≥ËØ•ÈïúÂÉè„ÄÇÈïúÂÉèÂ∏∏Áî®‰∫éÁßÅÊúç„ÄÇÁî±‰∫éÁßÅÊúçÂèØ‰ª•‰ª£ÁêÜ‰ªª‰ΩïÂ§ñÈÉ®ÁöÑÂÖ¨ÂÖ±‰ªìÂ∫ìÔºåÊâÄ‰ª•ÂèØ‰ª•ËØ¥ÁßÅÊúçÂ∞±ÊòØÊâÄÊúâ‰ªìÂ∫ìÁöÑÈïúÂÉè„ÄÇÂ¶ÇÔºö12345678910&lt;settings&gt; ... &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;nexus&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;url&gt;http://192.168.10.217:8081/nexus/content/groups/public/&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt;&lt;/settings&gt;&lt;mirrorOf&gt;ÁöÑÂÄº‰∏∫*Âè∑ÔºåË°®Á§∫http://192.168.10.217:8081/nexus/content/groups/public/ÊòØÊâÄÊúâÂ§ñÈÉ®‰ªìÂ∫ìÁöÑÈïúÂÉè„ÄÇ‰ªª‰ΩïÂØπËøúÁ®ã‰ªìÂ∫ìÁöÑËØ∑Ê±ÇÈÉΩ‰ºöË¢´ËΩ¨Âà∞Ëøô‰∏™Âú∞ÂùÄ„ÄÇ&lt;mirrorOf&gt;ÁöÑÈÖçÁΩÆÔºö‚ñ† &lt;mirrorOf&gt;*&lt;mirrorOf&gt;ÔºöÂåπÈÖçÊâÄÊúâÁöÑËøúÁ®ã‰ªìÂ∫ì‚ñ† &lt;mirrorOf&gt;external:*&lt;mirrorOf&gt;ÔºöÂåπÈÖçÊâÄÊúâ‰∏çÂú®Êú¨Êú∫‰∏äÁöÑËøúÁ®ã‰ªìÂ∫ì‚ñ† &lt;mirrorOf&gt;repo1,repo2&lt;mirrorOf&gt;ÔºöÂåπÈÖç‰ªìÂ∫ìrepo1Âíårepo2‚ñ† &lt;mirrorOf&gt;*,!repo1&lt;mirrorOf&gt;ÔºöÂåπÈÖçÈô§‰∫Ürepo1‰πãÂ§ñÁöÑÊâÄÊúâËøúÁ®ã‰ªìÂ∫ìÈïúÂÉè‰ªìÂ∫ìÂÆåÂÖ®Â±èËîΩ‰∫ÜË¢´ÈïúÂÉè‰ªìÂ∫ìÔºåÂΩìÈïúÂÉè‰ªìÂ∫ìÂÅúÊ≠¢ÊúçÂä°ÁöÑÊó∂ÂÄôÔºåmaven‰ªçÊó†Ê≥ïËÆøÈóÆË¢´ÈïúÂÉè‰ªìÂ∫ìÔºåÂõ†ËÄåÂ∞ÜÊó†Ê≥ï‰∏ãËΩΩÊûÑÂª∫„ÄÇ‰ªìÂ∫ìÊêúÁ¥¢ÊúçÂä°‰∏ãÈù¢ÂàóÂá∫Âá†‰∏™ÁõÆÂâçËÉΩÁî®ÁöÑmavenÂùêÊ†áÊúçÂä°Ôºö1.The Centrl RepositoryÔºöhttp://search.maven.org/2.Maven RepositoryÔºöhttp://www.mvnrepository.com/3.Nexus Repository ManagerÔºöhttps://repository.sonatype.org/#welcome„ÄäMavenÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[svnÊÄªÁªì]]></title>
    <url>%2Fsvn%E6%80%BB%E7%BB%93.html</url>
    <content type="text"><![CDATA[SVNÊòØSubversionÁöÑÁÆÄÁß∞ÔºåÊòØ‰∏Ä‰∏™ÂºÄÊîæÊ∫ê‰ª£Á†ÅÁöÑÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÁõ∏ËæÉ‰∫éRCS„ÄÅCVSÔºåÂÆÉÈááÁî®‰∫ÜÂàÜÊîØÁÆ°ÁêÜÁ≥ªÁªüÔºåÂÆÉÁöÑËÆæËÆ°ÁõÆÊ†áÂ∞±ÊòØÂèñ‰ª£CVS„ÄÇ‰∫íËÅîÁΩë‰∏äÂæàÂ§öÁâàÊú¨ÊéßÂà∂ÊúçÂä°Â∑≤‰ªéCVSËøÅÁßªÂà∞Subversion„ÄÇËØ¥ÂæóÁÆÄÂçï‰∏ÄÁÇπSVNÂ∞±ÊòØÁî®‰∫éÂ§ö‰∏™‰∫∫ÂÖ±ÂêåÂºÄÂèëÂêå‰∏Ä‰∏™È°πÁõÆÔºåÂÖ±Áî®ËµÑÊ∫êÁöÑÁõÆÁöÑ„ÄÇÊúçÂä°Á´ØÂÆâË£Övisualsvn‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://www.visualsvn.com/downloads/ÔºåÈÄâÊã©Ôºö‰∏ãËΩΩÂêéÂºÄÂßãÂÆâË£ÖÔºå‰∏ÄË∑ØnextÔºåÁõ¥Âà∞ÔºöÈÄâÊã©‰ªìÂ∫ìÂú∞ÂùÄÂíåÁ´ØÂè£Âè∑ÔºåÁÑ∂ÂêéÁªßÁª≠nextÂç≥ÂèØ„ÄÇÂÆ¢Êà∑Á´ØÂÆâË£Ötortoisesvn‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://tortoisesvn.net/downloads.htmlÔºåÂÆâË£ÖËøáÁ®ã‰∏ÄË∑ØnextÂç≥ÂèØ„ÄÇtortoisesvnËØ≠Ë®ÄÂåÖÔºåtortoisesvn‰∏ãËΩΩÂú∞ÂùÄ‰∏ãÈù¢ÂèØÈÄâÊã©ÂÆâË£ÖÂØπÂ∫îÁöÑËØ≠Ë®ÄÂåÖÔºöÊúçÂä°Á´ØÈÖçÁΩÆÊñ∞Â¢ûrepository‰ªìÂ∫ìÊâìÂºÄVisualSvn server,Â¶Ç‰∏ãÂõæÊâÄÁ§∫Êñ∞Âª∫‰∏Ä‰∏™repositoryÔºöÂ°´ÂÜô‰ªìÂ∫ìÂêçÁß∞ÔºöÊñ∞Âª∫ÂÆåÂêéÂ∑¶ËæπÁõÆÂΩïÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂàõÂª∫È°πÁõÆÊñá‰ª∂Â§πÂè≥ÈîÆÊñ∞Âª∫Â•ΩÁöÑMyRepositoryÔºåÈÄâÊã©Êñ∞Âª∫ ‚Üí Floder‚Ä¶ÔºöÂ°´ÂÜôFloderÂêçÁß∞ÔºöÁÇπÂáªokÂç≥ÂèØ„ÄÇÂàõÂª∫ÂÆåÂêéÔºöÂàõÂª∫Áî®Êà∑ËøôÈáåÊàë‰ª¨ÂàõÂª∫‰∏§‰∏™ÂºÄÂèëËÄÖË¥¶Âè∑Ôºödeveloper1Âíådeveloper2Ôºå‰∏§‰∏™ÊµãËØï‰∫∫ÂëòÔºötester1Âíåtester2„ÄÇÁÇπÂáªUsers ‚Üí Create UserÔºöÂàõÂª∫Â•Ωdeveloper1ÂêéÂÜçÊâßË°åÂêåÊ†∑Êìç‰ΩúÂàõÂª∫Ââ©‰ΩôÁöÑË¥¶Âè∑ÔºåÂàõÂª∫ÂÆåÂêéÂ¶ÇÂõæÊâÄÁ§∫ÔºöÂàõÂª∫Áî®Êà∑Áæ§ËøôÈáåÊàë‰ª¨Âª∫Á´ã‰∏§‰∏™Áæ§ÔºöÂºÄÂèëËÄÖÁæ§ÂíåÊµãËØï‰∫∫ÂëòÁæ§ÔºöÁÇπÂáªGroups ‚Üí Create Group‚Ä¶ÔºöÁÇπÂáªAddÊåâÈíÆÂêëÁæ§‰∏≠Ê∑ªÂä†Áî®Êà∑ÔºöÁÇπÂáªokÂêéÂ∞±ÂàõÂª∫Â•Ω‰∫ÜdeveloperÁæ§Âπ∂Ê∑ªÂä†‰∫ÜÁõ∏ÂÖ≥‰∫∫ÂëòÔºåÂàõÂª∫ÊµãËØïÁæ§Êìç‰Ωú‰∏ÄÊ†∑ÔºåÂàõÂª∫Â•ΩÂêéÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöËÆæÁΩÆÊùÉÈôêÂè≥ÂáªÈ°πÁõÆÊñá‰ª∂Â§πProject1ÔºåÈÄâÊã©propertiesÔºöÂºπÂá∫Ê°ÜÁÇπÂáªAddÊ∑ªÂä†Áî®Êà∑Áæ§ÔºöÁÇπÂáªokÂêéÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ËÆæÁΩÆÁî®Êà∑Áæ§ÊùÉÈôêÔºöÂõ†‰∏∫ÊµãËØï‰∫∫Âëò‰∏çÂèÇ‰∏éÂºÄÂèëÔºåÊâÄ‰ª•Â∞ÜÂÖ∂ÊùÉÈôêËÆæÁΩÆ‰∏∫Read OnlyÂç≥ÂèØ„ÄÇ‰ΩøÁî®tortoisesvnÂØºÂÖ•È°πÁõÆÂè≥ÂáªÈúÄË¶ÅÂØºÂÖ•ÁöÑÈ°πÁõÆÔºåÈÄâÊã©ÂØºÂÖ•ÔºöÂºπÂá∫Ê°ÜÔºöÂÖ∂‰∏≠URLÊù•Ê∫ê‰∫é‰πãÂâçÂú®ÊúçÂä°Á´ØÊñ∞Âª∫ÁöÑÈ°πÁõÆÊñá‰ª∂Â§πÁöÑURLÂú∞ÂùÄÔºåËé∑ÂèñÊñπÊ≥ï‰∏∫ÔºöÁÇπÂáªÁ°ÆÂÆöÂêéÂç≥ÂèØÂêëÊúçÂä°Âô®ÂØºÂÖ•È°πÁõÆÔºö‰ΩøÁî®tortoisesvnÂØºÂá∫È°πÁõÆÂú®ÈúÄË¶ÅÂØºÂá∫È°πÁõÆÁöÑË∑ØÂæÑ‰∏ãÂè≥ÈîÆÈÄâÊã©SVNÊ£ÄÂá∫ÔºåÁÑ∂ÂêéÂºπÂá∫ÔºöÁÇπÂáªÁ°ÆÂÆöÂêéÂºπÂá∫Ë¥¶Âè∑ÂØÜÁ†ÅÂ°´ÂÜôÊ°ÜÔºåËøôÈáåÊàë‰ª¨ÂàÜÂà´‰ΩøÁî®develop1Âíådeveloper2Ê£ÄÂá∫ÔºöÊ£ÄÂá∫ÂêéÔºöSVNÊèê‰∫§Âú®developer1Êñá‰ª∂Â§π‰∏ãÊñ∞Âª∫‰∏Ä‰∏™readme.txtÊñá‰ª∂ÔºåÁÑ∂ÂêéÈÄâ‰∏≠ËØ•Êñá‰ª∂Âè≥ÂáªÈÄâÊã©Âä†ÂÖ•ÔºöÂÆåÊàêÂêé‰ºöÂèëÁé∞readme.txt‰∏äÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™Âä†Âè∑ÁöÑÂõæÊ†áÔºöÊ≠§Êñá‰ª∂ÂèØ‰ª•Êèê‰∫§Âà∞SVNÂ∫ìÈáå‰∫Ü„ÄÇÈÄâ‰∏≠Êñá‰ª∂Âè≥ÈîÆÈÄâÊã©SVNÊèê‰∫§ÔºöÂèØ‰ª•Âú®‰ø°ÊÅØÊ°ÜÈáåÂ°´ÂÜô‰øÆÊîπ‰ø°ÊÅØÔºåÁÇπÂáªÁ°ÆÂÆöÂêéreadme.txtÂç≥ÂèØË¢´Êèê‰∫§Âà∞SVNÂ∫ìÔºöSVNÊõ¥Êñ∞developer1Êèê‰∫§‰∫ÜÊñ∞Êñá‰ª∂ÔºåÁé∞Âú®Âú®developer2Êñá‰ª∂Â§π‰∏ãÊõ¥Êñ∞Ê≠§Êñá‰ª∂ÔºöÂè≥ÈîÆdeveloper2Êñá‰ª∂Â§πÔºåÈÄâÊã©SVNÊõ¥Êñ∞ÔºåÂºπÂá∫Â°´ÂÜôË¥¶Âè∑ÂØÜÁ†ÅÊ°ÜÔºåÂ°´ÂÜôdeveloper2Ë¥¶Âè∑ÂØÜÁ†ÅÂç≥ÂèØ„ÄÇÊõ¥Êñ∞Âêédeveloper2Êñá‰ª∂Â§πÂêåÊ≠•‰∫Üreadme.txtÊñá‰ª∂ÔºöËß£ÂÜ≥ÂÜ≤Á™ÅÂÜ≤Á™ÅÊù•Ê∫êÔºöÊØîÂ¶Çdeveloper1‰øÆÊîπ‰∫Üreadme.txtÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºåÂπ∂‰∏îÊèê‰∫§‰∫Ü„ÄÇËøôÊó∂ÂÄôdeveloper2Âπ∂Ê≤°ÊúâÂéªÊõ¥Êñ∞developer1Êèê‰∫§ÁöÑÂÜÖÂÆπÔºå‰øÆÊîπÁöÑÊñá‰ª∂‰πü‰∏∫readme.txtÔºådeveloper2‰øÆÊîπÂÆåÊèê‰∫§Êó∂Â∞±‰ºöÂèëÁé∞ÁâàÊú¨ÂÜ≤Á™Å‰∫ÜÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÂÜ≤Á™ÅÁöÑÊñá‰ª∂Ë¢´Ê†áËÆ∞ÈóÆÊÑüÂèπÂè∑ÔºåÂπ∂‰∏îÂ§öÂá∫‰∫Ü3‰∏™Êñá‰ª∂„ÄÇËß£ÂÜ≥ÂÜ≤Á™ÅÊúâ‰∏§ÁßçÂäûÊ≥ïÔºö1.ÈÄâÊã©ÂÜ≤Á™ÅÊñá‰ª∂ÔºåÂè≥ÈîÆÈÄâÊã©SVNËøòÂéüÔºåËøôÊ†∑È°πÁõÆÂ∞±‰ºöË¢´ËøòÂéüÂà∞‰Ω†‰øÆÊîπÂâçÁöÑÁä∂ÊÄÅ„ÄÇËøôÁßçÂÅöÊ≥ïÁº∫ÁÇπÊòæËÄåÊòìËßÅÔºåÈÇ£Â∞±ÊòØ‰Ω†‰øÆÊîπÈÉ®ÂàÜÁöÑ‰ª£Á†ÅÂèòÊ≤°‰∫ÜÔºåÊâÄ‰ª•ÈÄâÊã©ËøôÁßçÊñπÊ≥ïÂâçÔºåËØ∑Ê≥®ÊÑèÂ§á‰ªΩÂ•ΩËá™Â∑±‰øÆÊîπÈÉ®ÂàÜÁöÑÊ∫ê‰ª£Á†Å„ÄÇ2.ÈÄâÊã©ÂÜ≤Á™ÅÊñá‰ª∂ÔºåÂè≥ÈîÆÈÄâÊã©ÁºñËæëÂÜ≤Á™ÅÔºöÁ∫¢Ëâ≤ÈÉ®ÂàÜÂç≥‰∏∫ÂÜ≤Á™ÅÈÉ®ÂàÜÔºåÂèØ‰ª•ÂíåÊèê‰∫§Ê≠§Êñá‰ª∂ÁöÑÂºÄÂèëËÄÖÂïÜÈáèÔºåÂ∞ÜÂïÜÈáèÂ•ΩÂêéÁöÑ‰ª£Á†ÅÊîæÁΩÆ‰∫éÂ∑≤ÂêàÂπ∂ÈÉ®ÂàÜÂç≥ÂèØÔºöÁÇπÂáª‰øùÂ≠òÂêéÔºåÂ§öÂá∫Êù•ÁöÑ3‰∏™Êñá‰ª∂Êú¨Âà†Èô§‰∫ÜÔºåËøôÊó∂ÂÄôÂ∞Üreadme.txtÊèê‰∫§Âç≥ÂèØ„ÄÇÈ™åËØÅÊùÉÈôê‰ΩøÁî®tester1ÁöÑË¥¶Âè∑ÂØºÂá∫È°πÁõÆÂêéÔºåÂú®È°πÁõÆÈáåÊ∑ªÂä†‰∏Ä‰∏™modify.txtÊñá‰ª∂ÔºåÁÑ∂ÂêéÂä†ÂÖ•ÔºåÊèê‰∫§ÔºöÊìç‰ΩúÈôêÂà∂„ÄÇ]]></content>
      <tags>
        <tag>svn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mavenÂùêÊ†á‰∏é‰æùËµñ]]></title>
    <url>%2Fmaven%E5%9D%90%E6%A0%87%E4%B8%8E%E4%BE%9D%E8%B5%96.html</url>
    <content type="text"><![CDATA[ÂùêÊ†áÂú®maven‰∏≠Ôºå‰ªª‰ΩïÊûÑ‰ª∂ÈÉΩÊúâÊòéÁ°ÆÂÆö‰πâÁöÑÂùêÊ†á„ÄÇËøô‰∫õÂùêÊ†áÊòØÈÄöËøá‰∏Ä‰∫õÂÖÉÁ¥†ÂÆö‰πâÁöÑÔºå‰∏ãÈù¢ÊòØnexus-indexerÁöÑÂùêÊ†áÂÆö‰πâÔºö1234&lt;groupId&gt;org.sonatype.nexus&lt;/groupId&gt;&lt;artifactId&gt;nexus-indexer&lt;/artifactId&gt;&lt;version&gt;2.0.0&lt;/version&gt;&lt;packing&gt;jar&lt;/packing&gt;groupIdÔºöÂÆö‰πâÂΩìÂâçmavenÈ°πÁõÆÈö∂Â±ûÁöÑÂÆûÈôÖÈ°πÁõÆÔºå‰∏ÄËà¨Áî±ÂÖ¨Âè∏ÂâçÁºÄ+Èö∂Â±ûÈ°πÁõÆÂêçÁß∞ÁªÑÊàêartifactIdÔºöÂÆö‰πâÂΩìÂâçmavenÈ°πÁõÆÊ®°ÂùóÔºå‰∏ÄËà¨Áî±Èö∂Â±ûÈ°πÁõÆÂêçÁß∞+ÂΩìÂâçmavenÊ®°ÂùóÂêçÁß∞ÁªÑÊàêversionÔºöÁâàÊú¨Âè∑packingÔºöÊâìÂåÖÊñπÂºè„ÄÇÊúâjarÔºåwarÁ≠âÔºåÈªòËÆ§‰∏∫jar classifierÔºöÂÆö‰πâÊûÑ‰ª∂ËæìÂá∫ÁöÑ‰∏Ä‰∫õÈôÑÂ±ûÊûÑ‰ª∂„ÄÇÊú¨‰æã‰∏ªÊûÑ‰ª∂ËæìÂá∫nexus-indexer-2.0.0.jarÔºåÈôÑÂ±ûÊûÑ‰ª∂ÊØîÂ¶ÇÊúâÔºönexus-indexer-2.0.0-javadoc.jarÔºånexus-indexer-2.0.0-source.jarÁ≠â‰æùËµñÈÖçÁΩÆÈô§‰∫Ü‰∏äÈù¢ÁöÑÂü∫Êú¨ÂùêÊ†áÂÆö‰πâÔºå‰æùËµñËøòÂèØ‰ª•ÂåÖÂê´Ôºö123456789101112131415161718192021&lt;project&gt; ... &lt;dependency&gt; &lt;dependency&gt; &lt;groupId&gt;... &lt;/groupId&gt; &lt;artifactId&gt;... &lt;/artifactId&gt; &lt;version&gt;... &lt;/version&gt; &lt;type&gt;... &lt;/type&gt; &lt;scope&gt;... &lt;/scope&gt; &lt;optional&gt;... &lt;/optional&gt; &lt;exclusions&gt; &lt;exclusion&gt; ... &lt;/exclusion&gt; ... &lt;/exclusions&gt; &lt;/dependency&gt; ... &lt;/dependency&gt; ...&lt;/project&gt;typeÔºö‰æùËµñÁöÑÁ±ªÂûãÔºåÂØπÂ∫îÂùêÊ†á‰∏≠ÁöÑpackingÔºåÈªòËÆ§‰∏∫jarÔºå‰∏ÄËà¨‰∏çÁî®Â£∞ÊòéscopeÔºö‰æùËµñÁöÑËåÉÂõ¥optionalÔºöÊ†áËÆ∞‰æùËµñÊòØÂê¶ÂèØÈÄâÔºåËã•‰∏∫trueÂàô‰∏∫ÂèØÈÄâ‰æùËµñ„ÄÇÂèØÈÄâ‰æùËµñ‰∏çËÉΩ‰º†ÈÄíexclusionsÔºöÁî®Êù•ÊéíÈô§‰º†ÈÄíÊÄß‰æùËµñ‰æùËµñËåÉÂõ¥Âú®‰∏Ä‰∏™mavenÈ°πÁõÆ‰∏≠‰∏ªË¶ÅÊúâ‰∏â‰∏™classpathÔºöÁºñËØëclasspathÔºåÊµãËØïclasspathÔºåËøêË°åÊó∂classpath„ÄÇ‰∏ãË°®ÂàóÂá∫‰∫Ü‰æùËµñËåÉÂõ¥ÂíåclasspathÁöÑÂÖ≥Á≥ªÔºö‰æùËµñËåÉÂõ¥ÔºàScopeÔºâÂØπ‰∫éÁºñËØëclasspathÊúâÊïàÂØπ‰∫éÊµãËØïclasspathÊúâÊïàÂØπ‰∫éËøêË°åÊó∂classpathÊúâÊïà‰æãÂ≠êcompile‚àö‚àö‚àöspring-coretest√ó‚àö√óJUnitprovided‚àö‚àö√óservlet-apiruntime√ó‚àö‚àöJDBCÈ©±Âä®ÂÆûÁé∞system‚àö‚àö√óÊú¨Âú∞ÁöÑÔºåMaven‰ªìÂ∫ìÂ§ñÁöÑ Á±ªÂ∫ìÊñá‰ª∂compileÔºöÁºñËØë‰æùËµñËåÉÂõ¥testÔºöÊµãËØï‰æùËµñËåÉÂõ¥providedÔºöÂ∑≤Êèê‰æõ‰æùËµñËåÉÂõ¥runtimeÔºöËøêË°åÊó∂‰æùËµñËåÉÂõ¥systemÔºöÁ≥ªÁªü‰æùËµñËåÉÂõ¥importÔºöÂØºÂÖ•‰æùËµñËåÉÂõ¥‰º†ÈÄíÊÄß‰æùËµñÁé∞ÊúâpomÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.juven.mvnbook.account&lt;/groupId&gt; &lt;artifactId&gt;account-email&lt;/artifactId&gt; &lt;name&gt;Account Email&lt;/name&gt; &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;4.3.3.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;4.3.3.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;4.3.3.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;4.3.3.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.mail&lt;/groupId&gt; &lt;artifactId&gt;mail&lt;/artifactId&gt; &lt;version&gt;1.4.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.icegreen&lt;/groupId&gt; &lt;artifactId&gt;greenmail&lt;/artifactId&gt; &lt;version&gt;1.5.2&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt;‰∏äÈù¢ÁöÑxml‰∏≠Êúâ‰∏Ä‰∏™org.springframeworkÔºöspring-core.4.3.3.RELEASE.jar‰æùËµñ„ÄÇÂú®‰∏≠Â§Æ‰ªìÂ∫ìÊü•ÁúãÂÖ∂xmlÔºå‰ºöÂèëÁé∞ÂÖ∂ËøòÂåÖÂê´‰∫ÜÔºö123456&lt;dependency&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt;&lt;/dependency&gt;ËØ•‰æùËµñÁöÑËåÉÂõ¥‰∏∫compileÔºåËÄåspring-core‰æùËµñÊ≤°ÊúâÁõ¥Êé•Â£∞Êòé‰æùËµñËåÉÂõ¥ÔºåÈªòËÆ§‰∏∫compile„ÄÇÁé∞Âú®account-emailÊúâ‰∏Ä‰∏™compileËåÉÂõ¥ÁöÑspring-core‰æùËµñÔºåspring-coreÊúâ‰∏Ä‰∏™compileËåÉÂõ¥ÁöÑcomms-logging‰æùËµñÔºåÊâÄ‰ª•comms-logging‰ºöÊàê‰∏∫account-emailÁöÑcompileËåÉÂõ¥ÁöÑ‰º†ÈÄíÊÄß‰æùËµñ„ÄÇÁé∞ÂÅáËÆæA‰æùËµñ‰∫éBÔºåB‰æùËµñ‰∫éCÔºåÈÇ£‰πàAÁõ∏ÂØπ‰∫éBÊòØÁ¨¨‰∏ÄÁõ¥Êé•‰æùËµñÔºåBÁõ∏ÂØπ‰∫éCÊòØÁ¨¨‰∫åÁõ¥Êé•‰æùËµñÔºåAÁõ∏ÂØπ‰∫éCÊòØ‰º†ÈÄíÊÄß‰æùËµñÔºåÂÖ∂‰æùËµñËåÉÂõ¥Êåâ‰∏ãË°®ÂÆö‰πâÔºöcompiletestprovidedruntimecompilecompile‚Äî‚Äîcompiletesttest‚Äî‚Äîtestprovidedprovided‚Äîprovidedprovidedruntimeruntime‚Äî‚ÄîruntimeË°®‰∏≠ÔºåÁ¨¨‰∏ÄÂàóÊòØÁ¨¨‰∏ÄÁõ¥Êé•‰æùËµñËåÉÂõ¥ÔºåÁ¨¨‰∏ÄË°åÊòØÁ¨¨‰∫åÁõ¥Êé•‰æùËµñËåÉÂõ¥Ôºå‰∫§ÂèâÈÉ®ÂàÜÊòØÊúÄÁªà‰º†ÈÄíÊÄß‰æùËµñËåÉÂõ¥„ÄÇ‰æùËµñË∞ÉËß£‰æùËµñË∞ÉËß£Êúâ‰∏§‰∏™ÂéüÂàôÔºö1.Ë∑ØÂæÑÊúÄËøëÁöÑ‰ºòÂÖàÁé∞Âú®ÊúâÂ¶Ç‰∏ã‰∏§‰∏™‰æùËµñÔºöA ‚Üí B ‚Üí C ‚Üí XÔºà1.0.0ÔºâA ‚Üí B ‚Üí XÔºà1.2.1ÔºâAÊúâ‰∏§‰∏™ÁâàÊú¨ÁöÑ‰º†ÈÄíÊÄß‰æùËµñXÔºåÂõ†‰∏∫XÔºà1.2.1ÔºâË∑ØÂæÑËæÉÁü≠ÔºåÊâÄ‰ª•ÊúÄÁªàXÔºà1.2.1Ôºâ‰ºöË¢´Ëß£Êûê‰ΩøÁî®„ÄÇ2.Á¨¨‰∏ÄÂ£∞ÊòéËÄÖ‰ºòÂÖàÁé∞Âú®ÊúâÂ¶Ç‰∏ã‰∏§‰∏™‰æùËµñÔºöA ‚Üí B ‚Üí XÔºà1.0.0ÔºâA ‚Üí B ‚Üí XÔºà1.2.1Ôºâ‰∏§‰∏™ÁâàÊú¨XÁöÑ‰æùËµñË∑ØÂæÑ‰∏ÄÊ†∑ÈïøÔºåËøôÊó∂ÂÄôË∞ÅË¢´Ëß£ÊûêÂèñÂÜ≥‰∫éË∞ÅÂÖàÂÆö‰πâÔºÅÊéíÈô§‰æùËµñ‰ΩøÁî®compile:treeÊü•Áúã‰æùËµñÊ†ëÔºö123456789101112131415[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ account-email ---[INFO] com.juven.mvnbook.account:account-email:jar:1.0.0-SNAPSHOT[INFO] +- org.springframework:spring-core:jar:4.3.3.RELEASE:compile[INFO] | \- commons-logging:commons-logging:jar:1.2:compile[INFO] +- org.springframework:spring-beans:jar:4.3.3.RELEASE:compile[INFO] +- org.springframework:spring-context:jar:4.3.3.RELEASE:compile[INFO] | +- org.springframework:spring-aop:jar:4.3.3.RELEASE:compile[INFO] | \- org.springframework:spring-expression:jar:4.3.3.RELEASE:compile[INFO] +- org.springframework:spring-context-support:jar:4.3.3.RELEASE:compile[INFO] +- javax.mail:mail:jar:1.4.7:compile[INFO] | \- javax.activation:activation:jar:1.1:compile[INFO] +- junit:junit:jar:4.7:test[INFO] \- com.icegreen:greenmail:jar:1.5.2:test[INFO] +- com.sun.mail:javax.mail:jar:1.5.6:test[INFO] \- org.slf4j:slf4j-api:jar:1.7.21:testÂ¶Ç‰∏äÊâÄËø∞ÁöÑÔºåspring-coreÈöêÂºè‰æùËµñ‰∫écommons-loggingÔºåÂ¶ÇÊûú‰∏çÊÉ≥‰º†ÈÄíÊ≠§‰æùËµñÔºåÂèØ‰ª•‰∏∫spring-coreÊ∑ªÂä†exclusionsÂÖÉÁ¥†Ôºö1234567891011&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;4.3.3.RELEASE&lt;/version&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;commons-logging&lt;/groupId&gt; &lt;artifactId&gt;commons-logging&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;ÂÜçÊ¨°ÊâßË°ådependency:treeÂëΩ‰ª§Ôºö1234567891011121314[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ account-email ---[INFO] com.juven.mvnbook.account:account-email:jar:1.0.0-SNAPSHOT[INFO] +- org.springframework:spring-core:jar:4.3.3.RELEASE:compile[INFO] +- org.springframework:spring-beans:jar:4.3.3.RELEASE:compile[INFO] +- org.springframework:spring-context:jar:4.3.3.RELEASE:compile[INFO] | +- org.springframework:spring-aop:jar:4.3.3.RELEASE:compile[INFO] | \- org.springframework:spring-expression:jar:4.3.3.RELEASE:compile[INFO] +- org.springframework:spring-context-support:jar:4.3.3.RELEASE:compile[INFO] +- javax.mail:mail:jar:1.4.7:compile[INFO] | \- javax.activation:activation:jar:1.1:compile[INFO] +- junit:junit:jar:4.7:test[INFO] \- com.icegreen:greenmail:jar:1.5.2:test[INFO] +- com.sun.mail:javax.mail:jar:1.5.6:test[INFO] \- org.slf4j:slf4j-api:jar:1.7.21:testÂèØÂèëÁé∞spring-coreÂ∑≤Áªè‰∏ç‰æùËµñ‰∫écommons-logging‰∫ÜÔºåÂΩìÁÑ∂ËøôÈáåÂè™ÊòØÂçïÁ∫ØÊºîÁ§∫ÊéíÈô§‰æùËµñÔºåcommons-loggingÂØπ‰∫éSpringÊ°ÜÊû∂ÊòØÂøÖÈ°ªÁöÑ„ÄÇÂΩíÁ±ª‰æùËµñÂú®‰∏äËø∞ÁöÑpom‰∏≠ÔºåspringÁöÑÁâàÊú¨ÈÉΩ‰∏∫4.3.3.RELEASEÁâàÊú¨ÔºåËÄå‰∏îÂØπ‰∫é‰∏Ä‰∏™Ê°ÜÊû∂Êù•ËØ¥ÔºåÂÖ∂ÂêÑ‰∏™Ê®°ÂùóÁöÑÁâàÊú¨‰∏ÄËà¨ÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåËøôÈáåÊàë‰ª¨ÂèØ‰ª•Áªü‰∏ÄÂ£∞ÊòéÂÖ∂ÁâàÊú¨ÔºåÁÑ∂ÂêéÂºïÁî®Âç≥ÂèØÔºö123456789101112131415161718192021222324&lt;properties&gt; &lt;springframework.version&gt;4.3.3.RELEASE&lt;/springframework.version&gt;&lt;/properties&gt;...&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;springframework.version&#125;&lt;/version&gt;&lt;/dependency&gt;ËøôÊ†∑Âú®‰ª•ÂêéÊõ¥Êñ∞springÁâàÊú¨ÁöÑÊó∂ÂÄôÔºåÂè™ÈúÄË¶Å‰øÆÊîπpropertiesÂç≥ÂèØ„ÄÇ‰ºòÂåñ‰æùËµñÈô§‰∫Ü‰ΩøÁî®dependency:treeÂëΩ‰ª§Â§ñÔºåËøòÂèØ‰ΩøÊòØdependency:listÊü•ÁúãÊâÄÊúâ‰æùËµñÔºödependency:list12345678910111213141516[INFO] --- maven-dependency-plugin:2.8:list (default-cli) @ account-email ---[INFO] [INFO] The following files have been resolved:[INFO] org.springframework:spring-beans:jar:4.3.3.RELEASE:compile[INFO] org.springframework:spring-context-support:jar:4.3.3.RELEASE:compile[INFO] org.slf4j:slf4j-api:jar:1.7.21:test[INFO] junit:junit:jar:4.7:test[INFO] com.sun.mail:javax.mail:jar:1.5.6:test[INFO] com.icegreen:greenmail:jar:1.5.2:test[INFO] commons-logging:commons-logging:jar:1.2:compile[INFO] org.springframework:spring-aop:jar:4.3.3.RELEASE:compile[INFO] javax.activation:activation:jar:1.1:compile[INFO] javax.mail:mail:jar:1.4.7:compile[INFO] org.springframework:spring-core:jar:4.3.3.RELEASE:compile[INFO] org.springframework:spring-context:jar:4.3.3.RELEASE:compile[INFO] org.springframework:spring-expression:jar:4.3.3.RELEASE:compile‰ΩøÁî®dependency:analyzeÂàÜÊûê‰æùËµñÔºö1234567[INFO] &lt;&lt;&lt; maven-dependency-plugin:2.8:analyze (default-cli) @ account-email &lt;&lt;&lt;[INFO] [INFO] --- maven-dependency-plugin:2.8:analyze (default-cli) @ account-email ---[WARNING] Unused declared dependencies found:[WARNING] org.springframework:spring-core:jar:4.3.3.RELEASE:compile[WARNING] org.springframework:spring-beans:jar:4.3.3.RELEASE:compile[INFO] ------------------------------------------------------------------------„ÄäMavenÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®m2eclipseÂàõÂª∫mavenÈ°πÁõÆ]]></title>
    <url>%2F%E4%BD%BF%E7%94%A8m2eclipse%E5%88%9B%E5%BB%BAmaven%E9%A1%B9%E7%9B%AE.html</url>
    <content type="text"><![CDATA[Êñ∞Âª∫mavenÈ°πÁõÆÊñ∞Âª∫‰∏Ä‰∏™maven projectÔºåÂ°´ÂÜôGroup IdÔºåArtifact IdÔºöÁÇπÂáªfinishÂêéÈ°πÁõÆÁõÆÂΩï‰∏ãËá™Âä®ÁîüÊàê‰∫Üpom.xmlÊñá‰ª∂ÔºàProject Object ModelÔºåÈ°πÁõÆÂØπË±°Ê®°ÂûãÔºâÔºö1234567891011121314151617181920212223242526&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;mrbird.leanote.com&lt;/groupId&gt; &lt;artifactId&gt;hello_maven&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;hello_maven&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.7&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt;&lt;groupId&gt;ÂÆö‰πâ‰∫ÜÈ°πÁõÆÂ±û‰∫éÂì™‰∏™ÁªÑÔºå‰∏ÄËà¨‰∏∫ÂÖ¨Âè∏ÂüüÂêçÂä†ÁªÑÂêç„ÄÇ&lt;artifactId&gt;ÂÆö‰πâ‰∫ÜÂΩìÂâçmavenÈ°πÁõÆÂú®ÁªÑ‰∏≠ÁöÑÂîØ‰∏Äid„ÄÇ&lt;version&gt;ÂÆö‰πâ‰∫ÜÂΩìÂâçÈ°πÁõÆÁöÑÁâàÊú¨„ÄÇ&lt;name&gt;ÂÆö‰πâ‰∫ÜÊõ¥‰∏∫ÂèãÂ•ΩÁöÑÈ°πÁõÆÂêçÁß∞„ÄÇ&lt;dependencies&gt;ÂåÖÂê´‰∏Ä‰∏™ÊàñÂ§ö‰∏™&lt;dependency&gt;Ôºå‰∏äÈù¢‰ª£Á†ÅÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™‰æùËµñ‚Äî‚ÄîgroupId‰∏∫junitÔºåartifactId‰∏∫junitÔºåversion‰∏∫4.7„ÄÇÈÄöËøáËøôÊÆµÂ£∞ÊòéÔºåmavenËÉΩÂ§üËá™Âä®‰∏ãËΩΩjunit-4.7.jar„ÄÇÁºñÂÜô‰∏ª‰ª£Á†ÅÂú®src/main/javaÁõÆÂΩï‰∏ãÁöÑmrbird.leanote.com.hello_mavenÂåÖ‰∏ãÊñ∞Âª∫HelloMaven.javaÔºö12345678910public class HelloMaven &#123; public String sayHello()&#123; return "Hello Maven"; &#125; public static void main(String[] args)&#123; System.out.print( new HelloMaven().sayHello() ); &#125;&#125;ËøõË°åmavenËøõË°åÁºñËØëÔºåÂè≥ÂáªÈ°πÁõÆ‚ÜíRun As‚ÜíMaven build‚Ä¶ÔºöÁÑ∂ÂêéÁÇπÂáªrunÔºö12345678910111213141516171819202122[INFO] Scanning for projects...[INFO] [INFO] ------------------------------------------------------------------------[INFO] Building hello_maven 0.0.1-SNAPSHOT[INFO] ------------------------------------------------------------------------[INFO] [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hello_maven ---[INFO] Deleting F:\workspaces\Spring\hello_maven\target[INFO] [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hello_maven ---[INFO] Using 'UTF-8' encoding to copy filtered resources.[INFO] skip non existing resourceDirectory F:\workspaces\Spring\hello_maven\src\main\resources[INFO] [INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ hello_maven ---[INFO] Compiling 1 source file to F:\workspaces\Spring\hello_maven\target\classes[INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 2.443s[INFO] Finished at: Mon Oct 17 13:12:43 CST 2016[INFO] Final Memory: 11M/115M[INFO] ------------------------------------------------------------------------cleanÂëäËØâmavenÊ∏ÖÁêÜËæìÂá∫ÁõÆÂΩïtarget/ÔºåcompileÂëäËØâmavenÁºñËØëÈ°πÁõÆ‰∏ª‰ª£Á†Å„ÄÇ‰ªé‰∏äÈù¢ÁöÑËæìÂá∫ÂèØ‰ª•ÁúãÂá∫ÔºåmavenÈ¶ñÂÖàÊâßË°å‰∫Ücelan‰ªªÂä°ÔºåÂà†Èô§target/ÁõÆÂΩï„ÄÇÊé•ÁùÄÊâßË°åresource‰ªªÂä°ÔºåÂ∞ÜÈ°πÁõÆ‰∏ª‰ª£Á†ÅÁºñËØëËá≥F:\workspaces\Spring\hello_maven\target\classesÁõÆÂΩï„ÄÇÁºñÂÜôÊµãËØï‰ª£Á†ÅÂú®src/test/javaÁõÆÂΩï‰∏ãÁöÑmrbird.leanote.com.hello_mavenÂåÖ‰∏ãÊñ∞Âª∫HelloMavenTest.javaÔºö123456789public class HelloMavenTest&#123; @Test public void testSayHello() &#123; HelloMaven helloMaven = new HelloMaven(); String result = helloMaven.sayHello(); assertEquals( "Hello Maven", result ); &#125;&#125;Ë∞ÉÁî®mavenÊâßË°åÊµãËØïÔºåÂè≥ÂáªÈ°πÁõÆ‚ÜíRun As‚ÜíMaven build‚Ä¶ËæìÂÖ•clean test‚ÜírunÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243[INFO] Scanning for projects...[INFO] [INFO] ------------------------------------------------------------------------[INFO] Building hello_maven 0.0.1-SNAPSHOT[INFO] ------------------------------------------------------------------------[INFO] [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hello_maven ---[INFO] Deleting F:\workspaces\Spring\hello_maven\target[INFO] [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hello_maven ---[INFO] Using 'UTF-8' encoding to copy filtered resources.[INFO] skip non existing resourceDirectory F:\workspaces\Spring\hello_maven\src\main\resources[INFO] [INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ hello_maven ---[INFO] Compiling 1 source file to F:\workspaces\Spring\hello_maven\target\classes[INFO] [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hello_maven ---[INFO] Using 'UTF-8' encoding to copy filtered resources.[INFO] skip non existing resourceDirectory F:\workspaces\Spring\hello_maven\src\test\resources[INFO] [INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ hello_maven ---[INFO] Compiling 1 source file to F:\workspaces\Spring\hello_maven\target\test-classes[INFO] [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ hello_maven ---[INFO] Surefire report directory: F:\workspaces\Spring\hello_maven\target\surefire-reports ------------------------------------------------------- T E S T S-------------------------------------------------------Running mrbird.leanote.com.hello_maven.HelloMavenTestTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.056 sec Results : Tests run: 1, Failures: 0, Errors: 0, Skipped: 0 [INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 2.794s[INFO] Finished at: Mon Oct 17 13:32:08 CST 2016[INFO] Final Memory: 13M/151M[INFO] ------------------------------------------------------------------------ÊµãËØïÈÄöËøá„ÄÇÊâìÂåÖËøêË°åcompileÂíåtest‰πãÂêéÔºåÊâßË°åpackage„ÄÇÂè≥ÂáªÈ°πÁõÆ‚ÜíRun As‚ÜíMaven build‚Ä¶ËæìÂÖ•clean package‚ÜírunÔºö123456789101112131415161718192021...------------------------------------------------------- T E S T S-------------------------------------------------------Running mrbird.leanote.com.hello_maven.HelloMavenTestTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 sec Results : Tests run: 1, Failures: 0, Errors: 0, Skipped: 0 [INFO] [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ hello_maven ---[INFO] Building jar: F:\workspaces\Spring\hello_maven\target\hello_maven-0.0.1-SNAPSHOT.jar[INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 4.254s[INFO] Finished at: Mon Oct 17 13:53:15 CST 2016[INFO] Final Memory: 13M/139M[INFO] ------------------------------------------------------------------------ÊâìÂåÖÊàêÂäüÔºåÂ∑≤ÁªèÁîüÊàê‰∫ÜjarÂåÖ„ÄÇÂ¶ÇÊûúË¶ÅËÆ©Âà´ÁöÑmavenÈ°πÁõÆËÉΩÂ§üÂºïÁî®HelloMavenÔºåÂàôËøòÈúÄÊâßË°å clean installÔºö12345678910111213141516171819202122232425...------------------------------------------------------- T E S T S-------------------------------------------------------Running mrbird.leanote.com.hello_maven.HelloMavenTestTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.064 sec Results : Tests run: 1, Failures: 0, Errors: 0, Skipped: 0 [INFO] [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ hello_maven ---[INFO] Building jar: F:\workspaces\Spring\hello_maven\target\hello_maven-0.0.1-SNAPSHOT.jar[INFO] [INFO] --- maven-install-plugin:2.4:install (default-install) @ hello_maven ---[INFO] Installing F:\workspaces\Spring\hello_maven\target\hello_maven-0.0.1-SNAPSHOT.jar to C:\Users\Administrator\.m2\repository\mrbird\leanote\com\hello_maven\0.0.1-SNAPSHOT\hello_maven-0.0.1-SNAPSHOT.jar[INFO] Installing F:\workspaces\Spring\hello_maven\pom.xml to C:\Users\Administrator\.m2\repository\mrbird\leanote\com\hello_maven\0.0.1-SNAPSHOT\hello_maven-0.0.1-SNAPSHOT.pom[INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 4.486s[INFO] Finished at: Mon Oct 17 14:01:13 CST 2016[INFO] Final Memory: 14M/138M[INFO] ------------------------------------------------------------------------ËØ•Êìç‰Ωú‰ºöÂ∞ÜËØ•È°πÁõÆÊâìÂåÖÂêéÁöÑjarÂíåpomÊñá‰ª∂Êã∑Ë¥ùÂà∞Êú¨Âú∞maven‰ªìÂ∫ì„ÄÇÂõ†‰∏∫‰∏ªÊñπÊ≥ï‰∏≠ÊúâmainÊñπÊ≥ïÔºåÈªòËÆ§ÊâìÂåÖÁîüÊàêÁöÑjarÂåÖÊòØ‰∏çËÉΩËøêË°åÁöÑÔºåÂ¶ÇÔºö12F:\workspaces\Spring\hello_maven&gt;java -jar target/hello_maven-0.0.1-SNAPSHOT.jartarget/hello_maven-0.0.1-SNAPSHOT.jar‰∏≠Ê≤°Êúâ‰∏ªÊ∏ÖÂçïÂ±ûÊÄß‰∏∫‰∫ÜÁîüÊàêÂèØÊâßË°åÁöÑjarÔºåÈúÄË¶ÅÂÄüÂä©maven-shade-pluginÔºåÂú®pom‰∏≠ÈÖçÁΩÆÔºö1234567891011121314151617181920212223242526&lt;build&gt;&lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt; &lt;version&gt;1.2.1&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;shade&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;transformers&gt; &lt;transformer implementation="org.apache.maven.plugins.shade. resource.ManifestResourceTransformer"&gt; &lt;mainClass&gt;mrbird.leanote.com.hello_maven.HelloMaven&lt;/mainClass&gt; &lt;/transformer&gt; &lt;/transformers&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;ÈÖçÁΩÆmainClass‰∏∫mrbird.leanote.com.hello_maven.HelloMaven„ÄÇÂÜçÊ¨°ÊâßË°åclean installÊìç‰ΩúÔºåÁÑ∂ÂêéÊâßË°åjarÔºö12F:\workspaces\Spring\hello_maven&gt;java -jar target/hello_maven-0.0.1-SNAPSHOT.jarHello Maven„ÄäMavenÂÆûÊàò„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁéØÂ¢ÉÂèòÈáèËÆæÁΩÆ]]></title>
    <url>%2F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE.html</url>
    <content type="text"><![CDATA[JDK1.JAVA_HOMEÔºö1C:\Program Files\Java\jdk1.8.0_602.PathÔºö1%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin3.CLASSPATH :1.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\tools.jarÊ£ÄÊµãÔºö1234567C:\Users\Administrator&gt;echo %java_home%C:\Program Files\Java\jdk1.8.0_60 C:\Users\Administrator&gt;java -versionjava version "1.8.0_60"Java(TM) SE Runtime Environment (build 1.8.0_60-b27)Java HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)MAVEN1.M2_HOMEÔºö1D:\Program Files\apache-maven-3.1.12.PathÔºö1%M2_HOME%\binÊµãËØïÔºö12345678910C:\Users\Administrator&gt;echo %m2_home%D:\Program Files\apache-maven-3.1.1 C:\Users\Administrator&gt;mvn -vApache Maven 3.1.1 (0728685237757ffbf44136acec0402957f723d9a)Maven home: D:\Program Files\apache-maven-3.1.1Java version: 1.8.0_60, vendor: Oracle CorporationJava home: C:\Program Files\Java\jdk1.8.0_60\jreDefault locale: zh_CN, platform encoding: GBKOS name: "windows 10", version: "10.0", arch: "amd64", family: "dos"]]></content>
      <tags>
        <tag>ÁéØÂ¢ÉÂèòÈáè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring ‰∫ãÂä°ÁÆ°ÁêÜ]]></title>
    <url>%2FSpring-%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86.html</url>
    <content type="text"><![CDATA[Âú®SimpleJdbcTemplateÁöÑUserDaoImpl‰∏≠ÁöÑaddUser()ÊñπÊ≥ï‰∏≠ÊâãÂä®Âà∂ÈÄ†‰∏Ä‰∏™NullPointerExceptionÂºÇÂ∏∏Ôºö123456789public void addUser(User user) &#123; Map&lt;String, Object&gt; params=new HashMap&lt;String, Object&gt;(); params.put("name", user.getName()); params.put("age", user.getAge()); params.put("pwd", user.getPassword()); jdbcTemplate.update(SQL_INSERT_USER, params); String a = null; a.toString();&#125;ÊµãËØïaddUser()ÊñπÊ≥ïÔºö123456789101112public class TestJdbc &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao dao=ac.getBean("userDao",UserDao.class); User u=new User(); u.setName("testUser"); u.setAge("24"); u.setPassword("123456"); dao.addUser(u); &#125;&#125;ÊâßË°åÊó∂ÔºåÊéßÂà∂Âè∞ÊäõÂá∫NullPointerExceptionÂºÇÂ∏∏Ôºå‰ΩÜÊòØÊï∞ÊçÆÊèíÂÖ•ÊàêÂäü‰∫Ü‰πàÔºüÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö123456SQL&gt; select * from lzp.userinfo; USERI NAME AGE PWD----- ---------- --- ----------8 testUser 24 1234564 SCOTT 25 123456ÂèëÁé∞ËôΩÁÑ∂addUser()ÊñπÊ≥ïÊäõÂá∫‰∫ÜÂºÇÂ∏∏Ôºå‰ΩÜÊòØÊï∞ÊçÆËøòÊòØË¢´ÊàêÂäüÁöÑÊèíÂÖ•ÔºåËøôËøùËÉå‰∫Ü‰∫ãÂä°ÁöÑACIDÂéüÂàô„ÄÇSpringÊèê‰æõ‰∫ÜÂØπ‰∫ãÂä°ÁÆ°ÁêÜÁöÑÊîØÊåÅ„ÄÇËøôÈáå‰ªÖ‰ªãÁªçÂ£∞ÊòéÂºè‰∫ãÂä°„ÄÇÈÄâÊã©‰∫ãÂä°ÁÆ°ÁêÜÂô®JDBC‰∫ãÂä°ÁÆ°ÁêÜÂô®Â¶ÇÊûúÂ∫îÁî®Á®ãÂ∫è‰∏≠Áõ¥Êé•‰ΩøÁî®JDBCÊù•ËøõË°åÊåÅ‰πÖÂåñÔºåÈÇ£‰πàÂ∫îËØ•ÈÄâÊã©DataSourceTransactionManager‰Ωú‰∏∫‰∫ãÂä°ÁÆ°ÁêÜÂô®Ôºö1234&lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt; &lt;property name="dataSource" ref="dataSource" /&gt;&lt;/bean&gt;Hibernate‰∫ãÂä°ÁÆ°ÁêÜÂô®Â¶ÇÊûúÂ∫îÁî®Á®ãÂ∫èÁöÑÊåÅ‰πÖÂåñÊòØÈÄöËøáHibernateÊù•ÂÆûÁé∞ÁöÑÔºåÈÇ£‰πàÂ∫îËØ•ÈÄâÊã©HibernateTransactionManager‰Ωú‰∏∫‰∫ãÂä°ÁÆ°ÁêÜÂô®Ôºö1234&lt;bean id="transactionManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager"&gt; &lt;property name="sessionFactory" ref="sessionFactory" /&gt;&lt;/bean&gt;‰∫ãÂä°‰∫îÂ§ßÂ±ûÊÄß‰º†Êí≠Ë°å‰∏∫‰º†Êí≠Ë°å‰∏∫Ôºàpropagation behaviorÔºâÂÆö‰πâ‰∫ÜÂÆ¢Êà∑Á´Ø‰∏éË¢´Ë∞ÉÁî®ÊñπÊ≥ï‰πãÈó¥ÁöÑ‰∫ãÂä°ËæπÁïå„ÄÇÂç≥‰ΩïÊó∂Ë¶ÅÂàõÂª∫‰∏Ä‰∏™‰∫ãÂä°ÔºåÊàñËÄÖ‰ΩïÊó∂‰ΩøÁî®Â∑≤ÊúâÁöÑ‰∫ãÂä°Ôºö‰º†Êí≠Ë°å‰∏∫Âê´‰πâPROPAGATION_MANDATORYË°®Á§∫ËØ•ÊñπÊ≥ïÂøÖÈ°ªÂú®‰∫ãÂä°‰∏≠ËøõË°åÔºåÂ¶ÇÊûúÂΩìÂâç‰∫ãÂä°‰∏çÂ≠òÂú®ÔºåÂàô‰ºö ÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏PROPAGATION_NESTEDÂ¶ÇÊûúÂΩìÂâçÂ∑≤Â≠òÂú®‰∏Ä‰∏™‰∫ãÂä°ÔºåÈÇ£‰πàËØ•ÊñπÊ≥ïÂú®ÂµåÂ•ó‰∫ãÂä°‰∏≠ËøêË°å„ÄÇ ÂµåÂ•ó‰∫ãÂä°ÂèØ‰ª•Áã¨Á´ã‰∫éÂΩìÂâç‰∫ãÂä°ËøõË°åÂçïÁã¨Âú∞Êèê‰∫§ÊàñÂõûÊªö„ÄÇÂ¶Ç ÊûúÂΩìÂâç‰∫ãÂä°‰∏çÂ≠òÂú®ÔºåÈÇ£‰πàË°å‰∏∫Âíå PROPAGATION_REQUIRED‰∏ÄÊ†∑PROPAGATION_NEVERË°®Á§∫ÂΩìÂâçÊñπÊ≥ï‰∏çËøêË°åÂú®‰∫ãÂä°‰∏ä‰∏ãÊñá‰∏≠„ÄÇÂ¶ÇÊûúÂΩìÂâçÊ≠£Êúâ‰∏Ä‰∏™ ‰∫ãÂä°Âú®ËøêË°åÔºåÂàô‰ºöÊäõÂá∫ÂºÇÂ∏∏PROPAGATION_NOT_SUPPORTEDË°®Á§∫ËØ•ÊñπÊ≥ï‰∏çÂ∫îËØ•ËøêË°åÂú®‰∫ãÂä°‰∏ä‰∏ãÊñá‰∏≠ÔºåÂ¶ÇÊûúÂ≠òÂú®ÂΩìÂâç‰∫ã Âä°ÔºåÂú®ËØ•ÊñπÊ≥ïËøêË°åÊúüÈó¥ÔºåÂΩìÂâç‰∫ãÂä°‰ºöË¢´ÊåÇËµ∑PROPAGATION_REQUIREDË°®Á§∫ÂΩìÂâçÊñπÊ≥ïÂøÖÈ°ªËøêË°åÂú®‰∫ãÂä°‰∏≠ÔºåÂ¶ÇÊûú‰∫ãÂä°‰∏çÂ≠òÂú®ÔºåÂàôÂêØ Âä®‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ãÂä°PROPAGATION_REQUIRED_NEWË°®Á§∫ÂΩìÂâçÊñπÊ≥ïÂøÖÈ°ªËøêË°åÂú®ÂÆÉËá™Â∑±ÁöÑ‰∫ãÂä°‰∏≠„ÄÇ‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ãÂä° Â∞ÜÂêØÂä®„ÄÇÂ¶ÇÊûúÂ≠òÂú®ÂΩìÂâç‰∫ãÂä°ÔºåÂΩìÂâç‰∫ãÂä°‰ºöË¢´ÊåÇËµ∑PROPAGATION_SUPPORTSË°®Á§∫ÂΩìÂâçÊñπÊ≥ï‰∏çÈúÄË¶Å‰∫ãÂä°‰∏ä‰∏ãÊñáÔºå‰ΩÜÊòØÂ¶ÇÊûúÂ≠òÂú®ÂΩìÂâç‰∫ãÂä° ÁöÑËØùÔºåÈÇ£‰πàËØ•ÊñπÊ≥ï‰ºöÂú®Ëøô‰∏™‰∫ãÂä°‰∏≠ËøêË°å&nbsp;&nbsp;ÈöîÁ¶ªÁ∫ßÂà´ÈöîÁ¶ªÁ∫ßÂà´Ôºàisolation levelÔºâÂÆö‰πâ‰∫Ü‰∏Ä‰∏™‰∫ãÂä°ÂèØËÉΩÂèóÂÖ∂‰ªñÂπ∂Âèë‰∫ãÂä°ÁöÑÂΩ±ÂìçÁ®ãÂ∫¶„ÄÇÂπ∂ÂèëÊìç‰ΩúÁõ∏ÂêåÁöÑÊï∞ÊçÆÂèØËÉΩ‰∫ßÁîü‰∏Ä‰∫õÈóÆÈ¢òÔºö1.ËÑèËØªÔºàDirty readsÔºâ‚Äî‚Äî ÂèëÁîüÂú®‰∏Ä‰∏™‰∫ãÂä°ËØªÂèñ‰∫ÜÂè¶‰∏Ä‰∏™‰∫ãÂä°ÊîπÂÜôÂêé‰ΩÜÊú™Êèê‰∫§ÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûúÊîπÂÜôË¢´ÂõûÊªö‰∫ÜÔºåÈÇ£‰πàÁ¨¨‰∏Ä‰∏™‰∫ãÂä°Ëé∑ÂèñÁöÑÊï∞ÊçÆÂ∞±ÊòØ‚ÄúËÑè‚ÄùÁöÑ„ÄÇ2.‰∏çÂèØÈáçÂ§çËØªÔºàNonrepeatable readÔºâ‚Äî‚Äî ‰∏Ä‰∏™‰∫ãÂä°ÊâßË°å‰∏§Ê¨°‰ª•‰∏äÁõ∏ÂêåÊü•ËØ¢ÂæóÂà∞‰∏çÂêåÁöÑÊï∞ÊçÆ„ÄÇËøôÈÄöÂ∏∏ÊòØÂè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°Âú®Ê≠§ÊúüÈó¥Êõ¥Êñ∞‰∫ÜÊï∞ÊçÆ„ÄÇ3.ÂπªËØªÔºàPhantom readÔºâ‚Äî‚Äî ‰∏Ä‰∏™‰∫ãÂä°ËØªÂèñ‰∫ÜÂá†Ë°åÊï∞ÊçÆÔºåÂè¶‰∏Ä‰∏™‰∫ãÂä°ÊèíÂÖ•‰∫ÜÂá†Êù°Êï∞ÊçÆÔºåÂΩìÁ¨¨‰∏Ä‰∏™‰∫ãÂä°ÂÜçÊ¨°ËØªÂèñÊó∂ÂèëÁé∞Â§ö‰∫ÜÂá†Êù°ÂéüÊú¨Ê≤°ÊúâÁöÑÊï∞ÊçÆ„ÄÇÈöîÁ¶ªÁ∫ßÂà´Â¶Ç‰∏ãË°®ÊâÄÁ§∫ÔºöÈöîÁ¶ªÁ∫ßÂà´Âê´‰πâISOLATION_DEFAULT‰ΩøÁî®ÂêéÁ´ØÊï∞ÊçÆÂ∫ìÈªòËÆ§ÁöÑÈöîÁ¶ªÁ∫ßÂà´ISOLATION_READ_UNCOMMITTEDÂÖÅËÆ∏ËØªÂèñÂ∞öÊú™Êèê‰∫§ÁöÑÊï∞ÊçÆË°®Êõ¥„ÄÇÂèØËÉΩÂØºËá¥ËÑèËØªÔºå‰∏çÂèØÈáçÂ§ç ËØªÔºåÂπªËØªISOLATION_READ_COMMITTEDÂÖÅËÆ∏ËØªÂèñÂπ∂Âèë‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§ÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•ÈòªÊ≠¢ËÑèËØªÔºå‰ΩÜ‰∏ç ÂèØÈáçÂ§çËØªÔºåÂπªËØª‰ªçÂèØËÉΩÂèëÁîüISOLATION_REPEATABLE_READÂØπÂêå‰∏ÄÂ≠óÊÆµÁöÑÂ§öÊ¨°ËØªÂèñÁªìÊûú‰∏ÄËá¥ÔºåÈô§ÈùûÊï∞ÊçÆÊòØÊú¨‰∫ãÂä°Ëá™Â∑± ‰øÆÊîπÁöÑ„ÄÇÂèØ‰ª•ÈòªÊ≠¢ËÑèËØªÔºå‰∏çÂèØÈáçÂ§çËØªÔºå‰ΩÜ‰ªçÂèØËÉΩÂèëÁîüÂπªËØªREPEATABLE_SERIALIZABLEÂÆåÂÖ®Êúç‰ªé‰∫ãÂä°ÁöÑACIDÂéüÂàôÔºåÈÅøÂÖçËÑèËØªÔºå‰∏çÂèØÈáçÂ§çËØªÔºåÂπªËØªÂèØ‰ª•ÁúãÂá∫ÔºåISOLATION_READ_UNCOMMITTEDÈöîÁ¶ªÁ∫ßÂà´ÊòØÊúÄ‰ΩéÁöÑÔºåÂèØËÉΩÂØºËá¥ËÑèËØªÔºå‰∏çÂèØÈáçÂ§çËØªÔºåÂπªËØª„ÄÇREPEATABLE_SERIALIZABLEÈöîÁ¶ªÁ∫ßÂà´ÊúÄÈ´òÔºå‰ΩÜÊòØËøô‰ºöÈôç‰ΩéÊï∞ÊçÆËØªÂèñÈÄüÁéáÔºåÂÆÉÈÄöÂ∏∏ÊòØÈÄöËøáÂÆåÂÖ®ÈîÅÂÆö‰∫ãÂä°Áõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÂ∫ìË°®Êù•ÂÆûÁé∞ÁöÑ„ÄÇÂè™ËØªÂè™ËØªÔºàread-onlyÔºâ Â¶ÇÊûú‰∫ãÂä°Âè™ËØªÊï∞ÊçÆÂ∫ìËøõË°åËØªÊìç‰ΩúÔºåÈÇ£‰πàËÆæÁΩÆËØ•Â±ûÊÄß‰∏∫trueÂèØ‰ª•ÁªôÊï∞ÊçÆÂ∫ìÊâßË°å‰ºòÂåñÊé™ÊñΩ„ÄÇÂõ†‰∏∫Âè™ËØªÊòØÂú®‰∫ãÂä°ÂêØÂä®ÔºåÁî±Êï∞ÊçÆÂ∫ìÂÆûÊñΩÁöÑÔºåÊâÄ‰ª•ÂØπÈÇ£‰∫õÂÖ∑Â§áÂêØÂä®‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ãÂä°ÁöÑ‰º†Êí≠Ë°å‰∏∫ÔºàPROPAGATION_REQUIREDÔºåPROPAGATION_REQUIRED_NEWÂíåPROPAGATION_NESTEDÔºâÊâçÊúâÊÑè‰πâ„ÄÇËÆæÁΩÆÂè™ËØªËøò‰ºö‰ΩøHibernateÁöÑflushÊ®°ÂºèË¢´ËÆæÁΩÆ‰∏∫FLUSH_NEVER„ÄÇ‰∫ãÂä°Ë∂ÖÊó∂Ë∂ÖÊó∂ÔºàtimeoutÔºâÂÅáÂ¶Ç‰∫ãÂä°ËøêË°åÊó∂Èó¥ËøáÈïøÔºåÂàô‰ºöÂΩ±ÂìçÊïàÁéáÔºåÊâÄ‰ª•ÂèØ‰ª•ËÆæÁΩÆË∂ÖÊó∂Â±ûÊÄßÔºåË∂ÖÊó∂ÂêéÊâßË°åËá™Âä®ÂõûÊªö„ÄÇÂõ†‰∏∫Ë∂ÖÊó∂Êó∂Èíü‰ºöÂú®‰∫ãÂä°ÂºÄÂêØÊó∂ÂêØÂä®ÔºåÊâÄ‰ª•Âè™ÊúâÂØπÈÇ£‰∫õÂÖ∑Â§áÂêØÂä®‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ãÂä°ÁöÑ‰º†Êí≠Ë°å‰∏∫ÔºàPROPAGATION_REQUIREDÔºåPROPAGATION_REQUIRED_NEWÂíåPROPAGATION_NESTEDÔºâÊâçÊúâÊÑè‰πâ„ÄÇÂõûÊªöÂéüÂàôÈªòËÆ§ÊÉÖÂÜµÈÅáÂà∞ËøêË°åÊúüÂºÇÂ∏∏Â∞±ÂõûÊªö„ÄÇÂõûÊªöÂéüÂàôÂèØ‰ª•ÂÆö‰πâÈÅáÂà∞Âì™‰∫õÂºÇÂ∏∏‰∏çÂõûÊªö„ÄÇXML‰∏≠ÂÆö‰πâ‰∫ãÂä°‰ΩøÁî®txÂëΩÂêçÁ©∫Èó¥ÈÖçÁΩÆÔºö123456&lt;tx:advice id="txAdvice" transaction-manager="transactionManager"&gt; &lt;tx:attributes&gt; &lt;tx:method name="add*" propagation="REQUIRED"/&gt; &lt;tx:method name="*" propagation="SUPPORTS" read-only="true"/&gt; &lt;/tx:attributes&gt;&lt;/tx:advice&gt;transaction-manager‰∏∫‰∏äËø∞ÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÂô®„ÄÇ&lt;tx:method&gt;ÂÖÉÁ¥†‰∏∫Êüê‰∏™ÔºàÊüê‰∫õÔºânameÂ±ûÊÄßÊåáÂÆöÁöÑÊñπÊ≥ïÂÆö‰πâ‰∫ãÂä°ÂèÇÊï∞„ÄÇ&lt;tx:method&gt;ÊúâÂ§ö‰∏™Â±ûÊÄßÊù•Â∏ÆÂä©ÂÆö‰πâÊñπÊ≥ïÁöÑ‰∫ãÂä°Á≠ñÁï•ÔºåËøô‰∫õÂ±ûÊÄßÂØπ‰∫é‰∏äËø∞ÁöÑ‰∫ãÂä°‰∫îÂ§ßÂ±ûÊÄßÔºöÂ±ûÊÄßÂê´‰πâisolationÊåáÂÆöÈöîÁ¶ªÁ∫ßÂà´propagationÊåáÂÆö‰º†Êí≠ÂéüÂàôread-onlyÊåáÂÆö‰∫ãÂä°‰∏∫Âè™ËØªÂõûÊªöÂéüÂàôÔºörollback-forno-rollback-forrollback-forÊåáÂÆö‰∫ãÂä°‰∏∫Âì™‰∫õÊ£ÄÊü•ÂûãÂºÇÂ∏∏ÂõûÊªöno-rollback-forÊåáÂÆö‰∫ãÂä°ÂØπÂì™‰∫õÂºÇÂ∏∏ÁªßÁª≠ËøêË°åËÄå‰∏çÂõûÊªötimeoutËÆæÂÆö‰∫ãÂä°Ë∂ÖÊó∂Êó∂Èó¥Êàë‰ª¨ËøòÈúÄËÆæÂÆöÂì™‰∫õBeanÂ∫îËØ•Ë¢´ÈÄöÁü•Ôºå‰ΩøÁî®aopÂÆö‰πâ‰∏Ä‰∏™ÈÄöÁü•Âô®ÔºàadvisorÔºâÔºö12345&lt;aop:config&gt; &lt;aop:advisor pointcut="execution(* *..UserDaoImpl.*(..))" advice-ref="txAdvice"/&gt;&lt;/aop:config&gt;advice-refÂ±ûÊÄßÂºïÁî®‰∫ÜÂêç‰∏∫txAdviceÁöÑÈÄöÁü•„ÄÇÁé∞Âú®ÊµãËØïÊ∑ªÂä†‰∫ãÂä°ÂêéÁöÑaddUser()ÊñπÊ≥ïÔºö123456789101112public class TestTransaction &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao dao=ac.getBean("userDao",UserDao.class); User u=new User(); u.setName("testTx"); u.setAge("30"); u.setPassword("123456"); dao.addUser(u); &#125;&#125;ÊéßÂà∂Âè∞ÊäõÂá∫ÂºÇÂ∏∏Ôºö12Exception in thread "main" java.lang.NullPointerException at com.spring.dao.UserDaoImpl.addUser(UserDaoImpl.java:51)Êü•ËØ¢Êï∞ÊçÆÔºö123456SQL&gt; select * from lzp.userinfo; USERI NAME AGE PWD----- ---------- --- ----------8 testUser 24 1234564 SCOTT 25 123456ÂèØ‰ª•ÂèëÁé∞testTxÂπ∂Ê≤°ÊúâË¢´ÊèíÂÖ•„ÄÇÊ≥®Ëß£‰∫ãÂä°Èô§‰∫Ü‰ΩøÁî®XMLÂÆö‰πâ‰∫ãÂä°ÔºåÊàë‰ª¨ËøòÂèØ‰ª•Ê≥®Ëß£‰∫ãÂä°ÔºåÈÄöËøáÂ£∞ÊòéÔºö1&lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;&lt;tx:annotation-driven&gt;ÂëäËØâSpringÊ£ÄÊü•‰∏ä‰∏ãÊñá‰∏≠ÊâÄÊúâ‰ΩøÁî®@TransactionÊ≥®Ëß£ÁöÑBeanÔºå‰∏çÁÆ°Ëøô‰∏™Ê≥®Ëß£ÊòØÂú®Á±ªÁ∫ßÂà´‰∏äËøòÊòØÊñπÊ≥ïÁ∫ßÂà´‰∏ä„ÄÇ‰ΩøÁî®Ê≥®Ëß£‰øÆÊîπUserDaoImplÔºö12345678910111213141516@Repository("userDao")@Transactional(propagation=Propagation.SUPPORTS,readOnly=true)public class UserDaoImpl implements UserDao &#123; //... @Transactional(propagation=Propagation.REQUIRED,readOnly=false) public void addUser(User user) &#123; Map&lt;String, Object&gt; params=new HashMap&lt;String, Object&gt;(); params.put("name", user.getName()); params.put("age", user.getAge()); params.put("pwd", user.getPassword()); jdbcTemplate.update(SQL_INSERT_USER, params); String a=null; a.toString(); &#125; //...&#125;ÂÜçÊ¨°ËøêË°åtestTransaction()ÊñπÊ≥ïÔºåÊäõÂá∫ÂºÇÂ∏∏ÂêéÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö123456SQL&gt; select * from lzp.userinfo; USERI NAME AGE PWD----- ---------- --- ----------8 testUser 24 1234564 SCOTT 25 123456ÂèØÂèëÁé∞ÂíåXMLÈÖçÁΩÆ‰∫ãÂä°ÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂêÑËøõÂà∂Êï∞ÁöÑËΩ¨Êç¢]]></title>
    <url>%2F%E5%90%84%E8%BF%9B%E5%88%B6%E6%95%B0%E7%9A%84%E8%BD%AC%E6%8D%A2.html</url>
    <content type="text"><![CDATA[ÊÄªÁªìÂ§áÂøò„ÄÇÂçÅËøõÂà∂ËΩ¨‰∫åËøõÂà∂ÊñπÊ≥ï‰∏∫ÔºöÂçÅËøõÂà∂Êï∞Èô§2Âèñ‰ΩôÊ≥ïÔºåÂç≥ÂçÅËøõÂà∂Êï∞Èô§2Ôºå‰ΩôÊï∞‰∏∫ÊùÉ‰Ωç‰∏äÁöÑÊï∞ÔºåÂæóÂà∞ÁöÑÂïÜÂÄºÁªßÁª≠Èô§2Ôºå‰æùÊ≠§Ê≠•È™§ÁªßÁª≠Âêë‰∏ãËøêÁÆóÁõ¥Âà∞ÂïÜ‰∏∫0‰∏∫Ê≠¢„ÄÇ12345678217/2 = 108 ---- 1108/2 = 54 ---- 054/2 = 27 ---- 027/2 = 13 ---- 113/2 = 6 ---- 16/2 = 3 ---- 03/2 = 1 ---- 11/2 = 0 ---- 1ÊâÄ‰ª•ÂçÅËøõÂà∂217ËΩ¨‰∫åËøõÂà∂Êï∞‰∏∫ 11011001„ÄÇjsËΩ¨Êç¢Ôºö12&gt; parseInt("217").toString(2);&gt; "11011001"‰∫åËøõÂà∂ËΩ¨ÂçÅËøõÂà∂ÊñπÊ≥ï‰∏∫ÔºöÊää‰∫åËøõÂà∂Êï∞ÊåâÊùÉÂ±ïÂºÄ„ÄÅÁõ∏Âä†Âç≥ÂæóÂçÅËøõÂà∂Êï∞„ÄÇ$$ 11011001=1\times2^0+1\times2^3+1\times2^4+1\times2^6+1\times2^7=1+8+16+64+128=217 $$jsËΩ¨Êç¢Ôºö12&gt; parseInt("11011001",2);&gt; 217‰∫åËøõÂà∂ËΩ¨ÂÖ´ËøõÂà∂ÊñπÊ≥ï‰∏∫Ôºö3‰Ωç‰∫åËøõÂà∂Êï∞ÊåâÊùÉÂ±ïÂºÄÁõ∏Âä†ÂæóÂà∞1‰ΩçÂÖ´ËøõÂà∂Êï∞„ÄÇÔºàÊ≥®ÊÑè‰∫ãÈ°πÔºå3‰Ωç‰∫åËøõÂà∂ËΩ¨ÊàêÂÖ´ËøõÂà∂ÊòØ‰ªéÂè≥Âà∞Â∑¶ÂºÄÂßãËΩ¨Êç¢Ôºå‰∏çË∂≥Êó∂Ë°•0Ôºâ„ÄÇ$$ 11011001=(011)(011)(001)=(1\times2^0+1\times2^1)(t\times2^0+1\times2^1)(t\times2^0)=331 $$jsËΩ¨Êç¢Ôºö12&gt; parseInt("11011001",2).toString(8);&gt; "331"ÂÖ´ËøõÂà∂ËΩ¨‰∫åËøõÂà∂ÊñπÊ≥ï‰∏∫ÔºöÂÖ´ËøõÂà∂Êï∞ÊØè‰∏™‰Ωç‰∏äÁöÑÊï∞ÂàÜÂà´ËΩ¨Êç¢‰∏∫‰∏â‰Ωç‰∫åËøõÂà∂ÔºåÈ°∫Â∫è‰ªéÂè≥ÂæÄÂ∑¶„ÄÇ$$ 331=(3)(3)(1)=(011)(011)(001)=11011001 $$jsËΩ¨Êç¢Ôºö12&gt; parseInt('331',8).toString(2);&gt; "11011001"‰∫åËøõÂà∂ËΩ¨ÂçÅÂÖ≠ËøõÂà∂ÊñπÊ≥ï‰∏∫Ôºö‰∏é‰∫åËøõÂà∂ËΩ¨ÂÖ´ËøõÂà∂ÊñπÊ≥ïËøë‰ººÔºåÂÖ´ËøõÂà∂ÊòØÂèñ‰∏âÂêà‰∏ÄÔºåÂçÅÂÖ≠ËøõÂà∂ÊòØÂèñÂõõÂêà‰∏Ä„ÄÇÔºàÊ≥®ÊÑè‰∫ãÈ°πÔºå4‰Ωç‰∫åËøõÂà∂ËΩ¨ÊàêÂçÅÂÖ≠ËøõÂà∂ÊòØ‰ªéÂè≥Âà∞Â∑¶ÂºÄÂßãËΩ¨Êç¢Ôºå‰∏çË∂≥Êó∂Ë°•0Ôºâ„ÄÇ$$ 11011001=(1101)(1001)=(1\times2^0+1\times2^2+1\times2^3)(1\times2^0+1\times2^3)=(13)(9)=d9 $$jsËΩ¨Êç¢Ôºö12&gt; parseInt('11011001',2).toString(16);&gt; "d9"ÂçÅÂÖ≠ËøõÂà∂ËΩ¨‰∫åËøõÂà∂ÊñπÊ≥ï‰∏∫ÔºöÂçÅÂÖ≠ËøõÂà∂Êï∞ÊØè‰∏™‰Ωç‰∏äÁöÑÊï∞ÂàÜÂà´ËΩ¨Êç¢‰∏∫Âõõ‰Ωç‰∫åËøõÂà∂ÔºåÈ°∫Â∫è‰ªéÂè≥ÂæÄÂ∑¶„ÄÇ$$ d9=(d)(9)=(13)(9)=(1101)(1001)=11011001 $$jsËΩ¨Êç¢Ôºö12&gt; parseInt('d9',16).toString(2);&gt; "11011001"ÂçÅËøõÂà∂ËΩ¨ÂÖ´ËøõÂà∂ÊñπÊ≥ïÂíåÂçÅËøõÂà∂ËΩ¨‰∫åËøõÂà∂Á±ª‰ººÔºö123150/8 = 18 ---- 618/8 = 2 ---- 22/8 = 0 ---- 2jsËΩ¨Êç¢Ôºö12&gt; parseInt(150).toString(8);&gt; "226"ÂÖ´ËøõÂà∂ËΩ¨ÂçÅËøõÂà∂ÊñπÊ≥ïÔºöÊääÂÖ´ËøõÂà∂Êï∞ÊåâÊùÉÂ±ïÂºÄ„ÄÅÁõ∏Âä†Âç≥ÂæóÂçÅËøõÂà∂Êï∞„ÄÇ$$ 226=2\times8^2+2\times8^1+6\times8^0=128=16=6=150 $$jsËΩ¨Êç¢Ôºö12&gt; parseInt('226',8);&gt; 150ÂçÅËøõÂà∂ËΩ¨ÂçÅÂÖ≠ËøõÂà∂ÊñπÊ≥ïÂíåÂçÅËøõÂà∂ËΩ¨‰∫åËøõÂà∂Á±ª‰ººÔºö12150/16 = 9 ---- 69/16 = 0 ---- 9jsËΩ¨Êç¢Ôºö12&gt; parseInt(150).toString(16);&gt; "96"ÂçÅÂÖ≠ËøõÂà∂ËΩ¨ÂçÅËøõÂà∂ÊñπÊ≥ïÔºöÊääÂÖ´ËøõÂà∂Êï∞ÊåâÊùÉÂ±ïÂºÄ„ÄÅÁõ∏Âä†Âç≥ÂæóÂçÅËøõÂà∂Êï∞„ÄÇ$$ 96=9\times16^1+6\times16^0=144+16=150 $$jsËΩ¨Êç¢Ôºö12&gt; parseInt('96',16);&gt; 150]]></content>
      <tags>
        <tag>ËøõÂà∂</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring SimpleJdbcTemplate]]></title>
    <url>%2FSpring-SimpleJdbcTemplate.html</url>
    <content type="text"><![CDATA[SpringÊèê‰æõ‰∫ÜJDBCÊ®°ÊùøÔºå‰ª£Êõø‰∫ÜJDBCÁπÅÁêêÊìç‰Ωú„ÄÇ‰ΩøÁî®Spring JDBCÊ®°ÊùøÊàë‰ª¨‰∏çÂÜçÈúÄË¶ÅÊâãÂä®ÂéªÂÖ≥Èó≠ËøûÊé•ÔºåÊäõÂá∫ÁöÑÂºÇÂ∏∏‰πüÊõ¥‰∏∫ÊòéÁ°Æ„ÄÇÂáÜÂ§áÂ∑•‰ΩúÊï∞ÊçÆÂ∫ìÂàõÂª∫Ë°®Ôºö123456create table userinfo ( userid varchar2(5) not null, name varchar2(10), age varchar2(3), pwd varchar2(10))ÂàõÂª∫Â∫èÂàóÔºö1create sequence user_seq start with 1 increment by 1;ÈÖçÁΩÆÊï∞ÊçÆÊ∫êËøûÊé•Ê±†Êñ∞Âª∫‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÈÖçÁΩÆÊñá‰ª∂db.propertiesÔºö123username=oraclepassword=123456url=jdbc:oracle:thin:/localhost:1521/orclÂú®SpringÈÖçÁΩÆÊñá‰ª∂ËØªÂèñdb.properties1&lt;util:properties id="db" location="classpath:db.properties" /&gt;ÈÖçÁΩÆËøûÊé•Ê±†Ôºö1234567891011&lt;bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"&gt; &lt;property name="driverClassName" value="oracle.jdbc.OracleDriver"/&gt; &lt;!-- SpELËØªÂèñ --&gt; &lt;property name="url" value="#&#123;db.url&#125;"/&gt; &lt;property name="username" value="#&#123;db.username&#125;"/&gt; &lt;property name="password" value="#&#123;db.password&#125;"/&gt; &lt;property name="initialSize" value="5"/&gt; &lt;property name="maxActive" value="10"/&gt;&lt;/bean&gt;Èô§‰∫Ü‰∏äËø∞ÈÖçÁΩÆÂ±ûÊÄßÔºå‰∏ãË°®ÂàóÂá∫‰∫ÜBasicDataSourceÁöÑ‰∏Ä‰∫õÂ∏∏Áî®Â±ûÊÄßÔºöÊ±†ÈÖçÁΩÆÂ±ûÊÄßÊâÄÊåáÂÆöÁöÑÂÜÖÂÆπinitialSizeÊ±†ÂêØÂä®Êó∂ÂàõÂª∫ÁöÑËøûÊé•Êï∞ÈáèmaxActiveÂêå‰∏ÄÊó∂Èó¥ÂèØ‰ª•‰ªéÊ±†‰∏≠ÂàÜÈÖçÁöÑÊúÄÂ§öËøûÊé•Êï∞ÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫0ÔºåË°®Á§∫Êó†ÈôêÂà∂maxIdleÊ±†Èáå‰∏ç‰ºöË¢´ÈáäÊîæÁöÑÊúÄÂ§öÁ©∫Èó≤ËøûÊé•Êï∞„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∏∫0ÔºåË°®Á§∫Êó†ÈôêÂà∂maxOpenPreparedStatementsÂú®Âêå‰∏ÄÊó∂Èó¥ËÉΩÂ§ü‰ªéËØ≠Âè•Ê±†‰∏≠ÂàÜÈÖçÁöÑÈ¢ÑÂ§ÑÁêÜËØ≠Âè•ÁöÑÊúÄÂ§ßÊï∞Èáè„ÄÇÂ¶ÇÊûúËÆæÁΩÆ ‰∏∫0ÔºåË°®Á§∫Êó†ÈôêÂà∂maxWaitÂú®ÊäõÂá∫ÂºÇÂ∏∏‰πãÂâçÔºåÊ±†Á≠âÂæÖËøûÊé•ÂõûÊî∂ÁöÑÊúÄÂ§ßÊó∂Èó¥ (ÂΩìÊ≤°ÊúâÂèØÁî®ËøûÊé•Êó∂)„ÄÇ Â¶ÇÊûúËÆæÁΩÆ‰∏∫-1ÔºåË°®Á§∫Êó†ÈôêÁ≠âÂæÖminEvictableIdleTimeMillisËøûÊé•Âú®Ê±†‰∏≠‰øùÊåÅÁ©∫Èó≤ËÄå‰∏çË¢´ÂõûÊî∂ÁöÑÊúÄÂ§ßÊó∂Èó¥minIdleÂú®‰∏çÂàõÂª∫Êñ∞ËøûÊé•ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ±†‰∏≠‰øùÊåÅÁ©∫Èó≤ÁöÑÊúÄÂ∞èËøûÊé•Êï∞poolPreparedStatementsÊòØÂê¶ÂØπÈ¢ÑÂ§ÑÁêÜËØ≠Âè•ËøõË°åÊ±†ÁÆ°ÁêÜÔºàÂ∏ÉÂ∞îÁ±ªÂûãÔºâ‰ΩøÁî®JdbcTemplateÂú®SpringÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆJdbcTemplateÔºö1234&lt;bean id="jdbcTemplate" class="org.springframework.jdbc.core.simple.SimpleJdbcTemplate"&gt; &lt;constructor-arg ref="dataSource"/&gt;&lt;/bean&gt;Êñ∞Âª∫‰∏Ä‰∏™UserÁ±ªÔºåÁî®‰∫éÂ≠òÂÇ®Êü•ËØ¢ÁªìÊûúÔºö1234567public class User &#123; private Integer userId; private String name; private String age; private String password; // get,setÁï•&#125;Êñ∞Âª∫UserDao interfaceÔºåÂÆö‰πâÂü∫Êú¨ÁöÑÂ¢ûÂà†ÊîπÊü•ÊñπÊ≥ïÔºö1234567public interface UserDao &#123; void addUser(User user); void deleteUser(Integer userId); void updateUser(User user); User selectUser(Integer userId); List&lt;User&gt; selectAll();&#125;Êñ∞Âª∫UserDaoÂÆûÁé∞Á±ªUserDaoImplÔºö12345678// DAOÊ≥®Ëß£@Repository("userDao")public class UserDaoImpl implements UserDao &#123; // Ê≥®ÂÖ•JdbcTemplate @Resource private SimpleJdbcTemplate jdbcTemplate; // ......&#125;Â¢ûÂä†Áî®Êà∑ÂÆûÁé∞addUser()ÊñπÊ≥ïÔºö12345678910private static final String SQL_INSERT_USER = "insert into userinfo (userid,name,age,pwd) " + "values (user_seq.nextval,?,?,?)";public void addUser(User user) &#123; Object[] params = &#123; user.getName(), user.getAge(), user.getPassword() &#125;; jdbcTemplate.update(SQL_INSERT_USER, params);&#125;‰∏äËø∞SQL‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÂèÇÊï∞ÔºåËøô‰ΩøÂæóÊàë‰ª¨‰∏çÂæó‰∏ç‰∏•Ê†ºÊåâÁÖßÂèÇÊï∞ÁöÑÈ°∫Â∫èÊù•ÂÆö‰πâÂèÇÊï∞„ÄÇSimpleJdbcTemplateÊîØÊåÅ‰ΩøÁî®ÂëΩÂêçÂèÇÊï∞ÁöÑSQL„ÄÇ‰øÆÊîπaddUser()ÊñπÊ≥ïÔºö12345678910private static final String SQL_INSERT_USER = "insert into userinfo (userid,name,age,pwd) " + "values (user_seq.nextval,:name,:age,:pwd)";public void addUser(User user) &#123; Map&lt;String, Object&gt; params=new HashMap&lt;String, Object&gt;(); params.put("name", user.getName()); params.put("age", user.getAge()); params.put("pwd", user.getPassword()); jdbcTemplate.update(SQL_INSERT_USER, params);&#125;Áé∞Âú®ÔºåÂèÇÊï∞ÁöÑÈ°∫Â∫èÂ∑≤Áªè‰∏çÈáçË¶Å‰∫ÜÔºåÂè™Ë¶ÅÂèÇÊï∞ÂêçÁß∞ÂØπÂ∫î‰∏äÂ∞±Ë°å„ÄÇÊµãËØïÔºö123456789101112public class TestJdbc &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao dao=ac.getBean("userDao",UserDao.class); User user=new User(); user.setName("SCOTT"); user.setAge("25"); user.setPassword("123456"); dao.addUser(user); &#125;&#125;Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºö12345SQL&gt; select * from lzp.userinfo where name='SCOTT'; USERI NAME AGE PWD----- ---------- --- ----------5 SCOTT 25 123456Âà†Èô§Áî®Êà∑ÂÆûÁé∞deleteUser()ÊñπÊ≥ïÔºö12345private static final String SQL_DELETE_USER = "delete from userinfo where userid=?";public void deleteUser(Integer userId) &#123; jdbcTemplate.update(SQL_DELETE_USER, userId);&#125;ÊµãËØïÔºö12345678public class TestJdbc &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao dao=ac.getBean("userDao",UserDao.class); dao.deleteUser(5); &#125;&#125;Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºåSCOTTÂ∑≤Ë¢´Âà†Èô§Ôºö123456SQL&gt; select * from lzp.userinfo; USERI NAME AGE PWD----- ---------- --- ----------6 JANE 24 1234567 MIKE 28 123456Êü•ËØ¢Âçï‰∏™Áî®Êà∑ÂÆûÁé∞selectUser()ÊñπÊ≥ïÔºö1234567891011121314151617private static final String SQL_SELECT_USER = "select * from userinfo where userid = ?";public User selectUser(Integer userId) &#123; return jdbcTemplate.queryForObject( SQL_SELECT_USER, new ParameterizedRowMapper&lt;User&gt;() &#123; public User mapRow(ResultSet rs, int rowNum) throws SQLException &#123; User user = new User(); user.setUserId(rs.getInt("userId")); user.setName(rs.getString("name")); user.setAge(rs.getString("age")); user.setPassword(rs.getString("pwd")); return user; &#125; &#125;, userId);&#125;ÊµãËØïÔºö1234567891011public class TestJdbc &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao dao=ac.getBean("userDao",UserDao.class); User user=new User(); user=dao.selectUser(6); System.out.println(user.getName()); // JANE &#125;&#125;Êü•ËØ¢ÊâÄÊúâÁî®Êà∑ÂÆûÁé∞selectAll()ÊñπÊ≥ïÔºö12345678910111213141516private static final String SQL_SELECT_All_USER = "select * from userinfo"; public List&lt;User&gt; selectAll() &#123; return jdbcTemplate.query( SQL_SELECT_All_USER, new ParameterizedRowMapper&lt;User&gt;() &#123; public User mapRow(ResultSet rs, int rowNum) throws SQLException &#123; User user = new User(); user.setUserId(rs.getInt("userId")); user.setName(rs.getString("name")); user.setAge(rs.getString("age")); user.setPassword(rs.getString("pwd")); return user; &#125; &#125;);&#125;ÊµãËØïÔºö1234567891011public class TestJdbc &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao dao=ac.getBean("userDao",UserDao.class); List&lt;User&gt; list=dao.selectAll(); for(User u:list)&#123; System.out.println(u.getName()); &#125; &#125;&#125;ËæìÂá∫Ôºö12JANEMIKE‰øÆÊîπÁî®Êà∑ÂÆûÁé∞updateUser()ÊñπÊ≥ïÔºö12345678private static final String SQL_UPDATE_USER = "update userinfo set age=:age where userid=:userid";public void updateUser(User user) &#123; Map&lt;String, Object&gt; params=new HashMap&lt;String, Object&gt;(); params.put("userid", user.getUserId()); params.put("age", user.getAge()); jdbcTemplate.update(SQL_UPDATE_USER, params);&#125;ÊµãËØïÔºö1234567891011public class TestJdbc &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); UserDao dao=ac.getBean("userDao",UserDao.class); User user=new User(); user.setUserId(6); user.setAge("100"); dao.updateUser(user); &#125;&#125;Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºåÂèØÂèëÁé∞ÂÄºÂ∑≤Ë¢´‰øÆÊîπÔºö123456SQL&gt; select * from lzp.userinfo; USERI NAME AGE PWD----- ---------- --- ----------6 JANE 100 1234567 MIKE 28 123456Spring JDBC DAOÊîØÊåÅÁ±ªÈô§‰∫ÜÂêëDAO‰∏≠Ê≥®ÂÖ•simpleJdbcTemplateÂ§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáÁªßÊâøSpringÊèê‰æõÁöÑSimpleJdbcDaoSupportÁ±ªÔºö123public class UserDaoImpl extends SimpleJdbcDaoSupport implements UserDao &#123; //... &#125;Ëé∑ÂèñsimpleJdbcTemplateÂØπË±°ÂèØÈÄöËøáÈùôÊÄÅÊñπÊ≥ïÔºögetSimpleJdbcTemplate()„ÄÇ„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQuery ‰∫ã‰ª∂ÂáΩÊï∞]]></title>
    <url>%2FjQuery-%E4%BA%8B%E4%BB%B6%E5%87%BD%E6%95%B0.html</url>
    <content type="text"><![CDATA[È°µÈù¢ËΩΩÂÖ•ready()ÂΩìDOMËΩΩÂÖ•Â∞±Áª™ÂèØ‰ª•Êü•ËØ¢ÂèäÊìçÁ∫µÊó∂ÁªëÂÆö‰∏Ä‰∏™Ë¶ÅÊâßË°åÁöÑÂáΩÊï∞„ÄÇËøô‰∏™ÊñπÊ≥ïÁ∫ØÁ≤πÊòØÂØπÂêëwindow.load‰∫ã‰ª∂Ê≥®ÂÜå‰∫ã‰ª∂ÁöÑÊõø‰ª£ÊñπÊ≥ï„ÄÇÊúâ‰∏Ä‰∏™ÂèÇÊï∞ÂØπjQueryÂáΩÊï∞ÁöÑÂºïÁî®‰ºö‰º†ÈÄíÂà∞Ëøô‰∏™ready‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞‰∏≠„ÄÇÂèØ‰ª•ÁªôËøô‰∏™ÂèÇÊï∞‰ªªÊÑèËµ∑‰∏Ä‰∏™ÂêçÂ≠óÔºåÂπ∂Âõ†Ê≠§ÂèØ‰ª•‰∏çÂÜçÊãÖÂøÉÂëΩÂêçÂÜ≤Á™ÅËÄåÊîæÂøÉÂú∞‰ΩøÁî®$Âà´Âêç„ÄÇÂèØ‰ª•Âú®Âêå‰∏Ä‰∏™È°µÈù¢‰∏≠Êó†ÈôêÊ¨°Âú∞‰ΩøÁî®$(document).ready()‰∫ã‰ª∂„ÄÇÂÖ∂‰∏≠Ê≥®ÂÜåÁöÑÂáΩÊï∞‰ºöÊåâÁÖßÔºà‰ª£Á†Å‰∏≠ÁöÑÔºâÂÖàÂêéÈ°∫Â∫è‰æùÊ¨°ÊâßË°å„ÄÇÁ§∫‰æãÔºöÂú®DOMÂä†ËΩΩÂÆåÊàêÊó∂ËøêË°åÁöÑ‰ª£Á†ÅÔºåÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö123$(document).ready(function()&#123; // Âú®ËøôÈáåÂÜô‰Ω†ÁöÑ‰ª£Á†Å...&#125;);‰ΩøÁî® $(document).ready() ÁöÑÁÆÄÂÜôÔºåÂêåÊó∂ÂÜÖÈÉ®ÁöÑ jQuery ‰ª£Á†Å‰æùÁÑ∂‰ΩøÁî® $ ‰Ωú‰∏∫Âà´ÂêçÔºåËÄå‰∏çÁÆ°ÂÖ®Â±ÄÁöÑ $ ÊòØ‰ªÄ‰πà„ÄÇ123$(function($) &#123; // ‰Ω†ÂèØ‰ª•Âú®ËøôÈáåÁªßÁª≠‰ΩøÁî®$‰Ωú‰∏∫Âà´Âêç...&#125;); ‚Äã‰∫ã‰ª∂Â§ÑÁêÜon(eve,[sel],[data],fn)on()ÊñπÊ≥ïÂú®Ë¢´ÈÄâÂÖÉÁ¥†ÂèäÂ≠êÂÖÉÁ¥†‰∏äÊ∑ªÂä†‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è„ÄÇËá™ jQuery ÁâàÊú¨ 1.7 Ëµ∑Ôºåon() ÊñπÊ≥ïÊòØ bind()„ÄÅlive() Âíå delegate() ÊñπÊ≥ïÁöÑÊñ∞ÁöÑÊõø‰ª£ÂìÅ„ÄÇËØ•ÊñπÊ≥ïÁªô API Â∏¶Êù•ÂæàÂ§ö‰æøÂà©ÔºåÊàë‰ª¨Êé®Ëçê‰ΩøÁî®ËØ•ÊñπÊ≥ïÔºåÂÆÉÁÆÄÂåñ‰∫Ü jQuery ‰ª£Á†ÅÂ∫ì„ÄÇËØ≠Ê≥ïÔºö1$(selector).on(event,childSelector,data,function,map)ÂèÇÊï∞ÊèèËø∞eventÂøÖÈúÄ„ÄÇËßÑÂÆöË¶Å‰ªéË¢´ÈÄâÂÖÉÁ¥†ÁßªÈô§ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂ÊàñÂëΩÂêçÁ©∫Èó¥„ÄÇÁî±Á©∫Ê†ºÂàÜÈöîÂ§ö‰∏™‰∫ã‰ª∂ÂÄº„ÄÇÂøÖÈ°ªÊòØÊúâÊïàÁöÑ‰∫ã‰ª∂„ÄÇchildSelectorÂèØÈÄâ„ÄÇËßÑÂÆöÂè™ËÉΩÊ∑ªÂä†Âà∞ÊåáÂÆöÁöÑÂ≠êÂÖÉÁ¥†‰∏äÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºà‰∏î‰∏çÊòØÈÄâÊã©Âô®Êú¨Ë∫´ÔºåÊØîÂ¶ÇÂ∑≤Â∫üÂºÉÁöÑ delegate() ÊñπÊ≥ïÔºâ„ÄÇdataÂèØÈÄâ„ÄÇËßÑÂÆö‰º†ÈÄíÂà∞ÂáΩÊï∞ÁöÑÈ¢ùÂ§ñÊï∞ÊçÆ„ÄÇfunctionÂèØÈÄâ„ÄÇËßÑÂÆöÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇmapËßÑÂÆö‰∫ã‰ª∂Êò†Â∞Ñ ( {event:function, event:function, ‚Ä¶}) ÔºåÂåÖÂê´Ë¶ÅÊ∑ªÂä†Âà∞ÂÖÉÁ¥†ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂Ôºå‰ª•ÂèäÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇÁ§∫‰æãÔºöÂçïÂáªÊñáÊú¨Êó∂ÔºåÊòæÁ§∫ÊñáÊú¨ÁöÑÂÜÖÂÆπÔºö123$("p").on("click", function()&#123; alert( $(this).text() );&#125;);ÂèñÊ∂àË°®ÂçïÊèê‰∫§Êìç‰ΩúÔºåÂπ∂ÈÄöËøáËøîÂõûfalseÈò≤Ê≠¢‰∫ã‰ª∂ÂÜíÊ≥°Ôºö1$("form").on("submit", false)ÈÄöËøá‰ΩøÁî®.preventDefault()ÂèñÊ∂àÈªòËÆ§Êìç‰ΩúÔºö123$("form").on("submit", function(event) &#123; event.preventDefault();&#125;);‰ΩøÁî®.stopPropagation()ÂÅúÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°ÔºåËÄå‰∏ç‰ºöÈòªÊ≠¢Ë°®ÂçïÊèê‰∫§Ôºö123$("form").on("submit", function(event) &#123; event.stopPropagation();&#125;);off(eve,[sel],[fn])off() ÊñπÊ≥ïÈÄöÂ∏∏Áî®‰∫éÁßªÈô§ÈÄöËøá on() ÊñπÊ≥ïÊ∑ªÂä†ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è„ÄÇËá™ jQuery ÁâàÊú¨ 1.7 Ëµ∑Ôºåoff() ÊñπÊ≥ïÊòØ unbind()„ÄÅdie() Âíå undelegate() ÊñπÊ≥ïÁöÑÊñ∞ÁöÑÊõø‰ª£ÂìÅ„ÄÇËØ•ÊñπÊ≥ïÁªô API Â∏¶Êù•ÂæàÂ§ö‰æøÂà©ÔºåÊàë‰ª¨Êé®Ëçê‰ΩøÁî®ËØ•ÊñπÊ≥ïÔºåÂÆÉÁÆÄÂåñ‰∫Ü jQuery ‰ª£Á†ÅÂ∫ì„ÄÇËØ≠Ê≥ïÔºö1$(selector).off(event,selector,function(eventObj),map)ÂèÇÊï∞ÊèèËø∞eventÂøÖÈúÄ„ÄÇËßÑÂÆöË¶Å‰ªéË¢´ÈÄâÂÖÉÁ¥†ÁßªÈô§ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂ÊàñÂëΩÂêçÁ©∫Èó¥„ÄÇÁî±Á©∫Ê†ºÂàÜÈöîÂ§ö‰∏™‰∫ã‰ª∂ÂÄº„ÄÇÂøÖÈ°ªÊòØÊúâÊïàÁöÑ‰∫ã‰ª∂„ÄÇselectorÂèØÈÄâ„ÄÇËßÑÂÆöÊ∑ªÂä†‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÊó∂ÊúÄÂàù‰º†ÈÄíÁªô on() ÊñπÊ≥ïÁöÑÈÄâÊã©Âô®„ÄÇfunction(eventObj)ÂèØÈÄâ„ÄÇËßÑÂÆöÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇmapËßÑÂÆö‰∫ã‰ª∂Êò†Â∞Ñ ( {event:function, event:function, ‚Ä¶}) ÔºåÂåÖÂê´Ë¶ÅÊ∑ªÂä†Âà∞ÂÖÉÁ¥†ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂Ôºå‰ª•ÂèäÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇÁ§∫‰æãÔºö‰ªéÊâÄÊúâÊÆµËêΩ‰∏≠Âà†Èô§ÊâÄÊúâ‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞Ôºö1$("p").off()‰ªéÊâÄÊúâÊÆµËêΩ‰∏≠Âà†Èô§ÊâÄÊúâÂçïÂáªÂáΩÊï∞Ôºö1$("p").off( "click", "**" )ÈÄöËøá‰º†ÈÄíÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÔºåÂè™Âà†Èô§‰∏Ä‰∏™ÂÖàÂâçÁªëÂÆöÁöÑÂ§ÑÁêÜÂáΩÊï∞Ôºö12345678910var foo = function () &#123; // code to handle some kind of event&#125;; // ... now foo will be called when paragraphs are clicked ...$("body").on("click", "p", foo); // ... foo will no longer be called.$("body").off("click", "p", foo);ÈÄöËøáÂÖ∂ÂëΩÂêçÁ©∫Èó¥Ëß£Èô§ÊâÄÊúâÂßîÊ¥æÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞Ôºö123456789101112var validate = function () &#123; // code to validate form entries&#125;; // delegate events under the ".validator" namespace$("form").on("click.validator", "button", validate); $("form").on("keypress.validator", "input[type='text']", validate); // remove event handlers in the ".validator" namespace $("form").off(".validator");bind(type,[data],fn)‰∏∫ÊØè‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑÁâπÂÆö‰∫ã‰ª∂ÁªëÂÆö‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞„ÄÇ‰∏éÂÖ∂Áõ∏ÂèçÁöÑÂáΩÊï∞‰∏∫unbind()„ÄÇËØ≠Ê≥ïÔºö1$(selector).bind(event,data,function,map)ÂèÇÊï∞ÊèèËø∞eventÂøÖÈúÄ„ÄÇËßÑÂÆöÊ∑ªÂä†Âà∞ÂÖÉÁ¥†ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂„ÄÇÁî±Á©∫Ê†ºÂàÜÈöîÂ§ö‰∏™‰∫ã‰ª∂ÂÄº„ÄÇÂøÖÈ°ªÊòØÊúâÊïàÁöÑ‰∫ã‰ª∂„ÄÇdataÂèØÈÄâ„ÄÇËßÑÂÆö‰º†ÈÄíÂà∞ÂáΩÊï∞ÁöÑÈ¢ùÂ§ñÊï∞ÊçÆ„ÄÇfunctionÂøÖÈúÄ„ÄÇËßÑÂÆöÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇmapËßÑÂÆö‰∫ã‰ª∂Êò†Â∞Ñ ( {event:function, event:function, ‚Ä¶}) ÔºåÂåÖÂê´Ë¶ÅÊ∑ªÂä†Âà∞ÂÖÉÁ¥†ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂Ôºå‰ª•ÂèäÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇÁ§∫‰æãÔºöÂΩìÊØè‰∏™ÊÆµËêΩË¢´ÁÇπÂáªÁöÑÊó∂ÂÄôÔºåÂºπÂá∫ÂÖ∂ÊñáÊú¨Ôºö123$("p").bind("click", function()&#123; alert( $(this).text() );&#125;);ÂêåÊó∂ÁªëÂÆöÂ§ö‰∏™‰∫ã‰ª∂Á±ªÂûãÔºö123$('#foo').bind('mouseenter mouseleave', function() &#123; $(this).toggleClass('entered');&#125;);ÂêåÊó∂ÁªëÂÆöÂ§ö‰∏™‰∫ã‰ª∂Á±ªÂûã/Â§ÑÁêÜÁ®ãÂ∫èÔºö12345$("button").bind(&#123; click:function()&#123;$("p").slideToggle();&#125;, mouseover:function()&#123;$("body").css("background-color","red");&#125;, mouseout:function()&#123;$("body").css("background-color","#FFFFFF");&#125; &#125;);‰Ω†ÂèØ‰ª•Âú®‰∫ã‰ª∂Â§ÑÁêÜ‰πãÂâç‰º†ÈÄí‰∏Ä‰∫õÈôÑÂä†ÁöÑÊï∞ÊçÆÔºö1234function handler(event) &#123; alert(event.data.foo);&#125;$("p").bind("click", &#123;foo: "bar"&#125;, handler);ÈÄöËøáËøîÂõûfalseÊù•ÂèñÊ∂àÈªòËÆ§ÁöÑË°å‰∏∫Âπ∂ÈòªÊ≠¢‰∫ã‰ª∂Ëµ∑Ê≥°Ôºö1$("form").bind("submit", function() &#123; return false; &#125;)ÈÄöËøá‰ΩøÁî® preventDefault() ÊñπÊ≥ïÂè™ÂèñÊ∂àÈªòËÆ§ÁöÑË°å‰∏∫Ôºö123$("form").bind("submit", function(event)&#123; event.preventDefault();&#125;);ÈÄöËøá‰ΩøÁî® stopPropagation() ÊñπÊ≥ïÂè™ÈòªÊ≠¢‰∏Ä‰∏™‰∫ã‰ª∂Ëµ∑Ê≥°Ôºö123$("form").bind("submit", function(event)&#123; event.stopPropagation();&#125;); ‚Äãone(type,[data],fn)one() ÊñπÊ≥ï‰∏∫Ë¢´ÈÄâÂÖÉÁ¥†Ê∑ªÂä†‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºåÂπ∂ËßÑÂÆöÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇÂΩì‰ΩøÁî® one() ÊñπÊ≥ïÊó∂ÔºåÊØè‰∏™ÂÖÉÁ¥†Âè™ËÉΩËøêË°å‰∏ÄÊ¨°‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÂáΩÊï∞„ÄÇËØ≠Ê≥ïÔºö1$(selector).one(event,data,function)ÂèÇÊï∞ÊèèËø∞eventÂøÖÈúÄ„ÄÇËßÑÂÆöÊ∑ªÂä†Âà∞ÂÖÉÁ¥†ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂„ÄÇÁî±Á©∫Ê†ºÂàÜÈöîÂ§ö‰∏™‰∫ã‰ª∂ÂÄº„ÄÇÂøÖÈ°ªÊòØÊúâÊïàÁöÑ‰∫ã‰ª∂„ÄÇdataÂèØÈÄâ„ÄÇËßÑÂÆö‰º†ÈÄíÂà∞ÂáΩÊï∞ÁöÑÈ¢ùÂ§ñÊï∞ÊçÆ„ÄÇfunctionÂøÖÈúÄ„ÄÇËßÑÂÆöÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇÁ§∫‰æãÔºöÂΩìÊâÄÊúâÊÆµËêΩË¢´Á¨¨‰∏ÄÊ¨°ÁÇπÂáªÁöÑÊó∂ÂÄôÔºåÊòæÁ§∫ÊâÄÊúâÂÖ∂ÊñáÊú¨„ÄÇ123$("p").one("click", function()&#123; alert( $(this).text() );&#125;); ‚Äãtrigger(type,[data])trigger() ÊñπÊ≥ïËß¶ÂèëË¢´ÈÄâÂÖÉÁ¥†‰∏äÊåáÂÆöÁöÑ‰∫ã‰ª∂‰ª•Âèä‰∫ã‰ª∂ÁöÑÈªòËÆ§Ë°å‰∏∫ÔºàÊØîÂ¶ÇË°®ÂçïÊèê‰∫§Ôºâ„ÄÇËøô‰∏™ÂáΩÊï∞‰πü‰ºöÂØºËá¥ÊµèËßàÂô®ÂêåÂêçÁöÑÈªòËÆ§Ë°å‰∏∫ÁöÑÊâßË°å„ÄÇÊØîÂ¶ÇÔºåÂ¶ÇÊûúÁî®trigger()Ëß¶Âèë‰∏Ä‰∏™‚Äôsubmit‚ÄôÔºåÂàôÂêåÊ†∑‰ºöÂØºËá¥ÊµèËßàÂô®Êèê‰∫§Ë°®Âçï„ÄÇÂ¶ÇÊûúË¶ÅÈòªÊ≠¢ËøôÁßçÈªòËÆ§Ë°å‰∏∫ÔºåÂ∫îËøîÂõûfalse„ÄÇÁ§∫‰æãÔºöÈ°µÈù¢‰∏ÄÂä†ËΩΩÂ∞±ÊâßË°åbuttonÁöÑclickÂáΩÊï∞Ôºö12345$(document).ready(function()&#123; $("button").click(function()&#123; alert("123"); &#125;).trigger("click");&#125;);Êèê‰∫§Á¨¨‰∏Ä‰∏™Ë°®ÂçïÔºå‰ΩÜ‰∏çÁî®submit()1$("form:first").trigger("submit")Áªô‰∏Ä‰∏™‰∫ã‰ª∂‰º†ÈÄíÂèÇÊï∞1234$("p").click( function (event, a, b) &#123; // ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÁÇπÂáª‰∫ã‰ª∂Êó∂ÔºåaÂíåbÊòØundefinedÁ±ªÂûã // Â¶ÇÊûúÁî®‰∏ãÈù¢ÁöÑËØ≠Âè•Ëß¶ÂèëÔºåÈÇ£‰πàaÊåáÂêë"foo",ËÄåbÊåáÂêë"bar"&#125; ).trigger("click", ["foo", "bar"]);‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•ÊòæÁ§∫‰∏Ä‰∏™‚ÄùHello World‚Äù123$("p").bind("myEvent", function (event, message1, message2) &#123; alert(message1 + ' ' + message2);&#125;).trigger("myEvent", ["Hello","World!"]); ‚ÄãtriggerHandler(type, [data])Ëøô‰∏™ÊñπÊ≥ï‰∏étrigger()Á±ª‰ººÔºå‰ΩÜ‰∏ç‰ºöÊâßË°åÊµèËßàÂô®ÈªòËÆ§Âä®‰ΩúÔºå‰πü‰∏ç‰ºö‰∫ßÁîü‰∫ã‰ª∂ÂÜíÊ≥°„ÄÇ‰∫ã‰ª∂ÂßîÊ¥ælive(type, [data], fn)jQuery ÁªôÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÈôÑÂä†‰∏Ä‰∏™‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞ÔºåÂç≥‰ΩøËøô‰∏™ÂÖÉÁ¥†ÊòØ‰ª•ÂêéÂÜçÊ∑ªÂä†ËøõÊù•ÁöÑ‰πüÊúâÊïà„ÄÇËøô‰∏™ÊñπÊ≥ïÊòØÂü∫Êú¨ÊòØÁöÑ .bind() ÊñπÊ≥ïÁöÑ‰∏Ä‰∏™Âèò‰Ωì„ÄÇ‰ΩøÁî® .bind() Êó∂ÔºåÈÄâÊã©Âô®ÂåπÈÖçÁöÑÂÖÉÁ¥†‰ºöÈôÑÂä†‰∏Ä‰∏™‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞ÔºåËÄå‰ª•ÂêéÂÜçÊ∑ªÂä†ÁöÑÂÖÉÁ¥†Âàô‰∏ç‰ºöÊúâ„ÄÇ‰∏∫Ê≠§ÈúÄË¶ÅÂÜç‰ΩøÁî®‰∏ÄÊ¨° .bind() ÊâçË°å„ÄÇÊØîÂ¶ÇËØ¥Ôºö123&lt;body&gt; &lt;div class="clickme"&gt;Click here&lt;/div&gt;&lt;/body&gt;ÂèØ‰ª•ÁªôËøô‰∏™ÂÖÉÁ¥†ÁªëÂÆö‰∏Ä‰∏™ÁÆÄÂçïÁöÑclick‰∫ã‰ª∂Ôºö123$('.clickme').bind('click', function() &#123; alert("Bound handler called.");&#125;);ÂΩìÁÇπÂáª‰∫ÜÂÖÉÁ¥†ÔºåÂ∞±‰ºöÂºπÂá∫‰∏Ä‰∏™Ë≠¶ÂëäÊ°Ü„ÄÇÁÑ∂ÂêéÔºåÊÉ≥Ë±°‰∏Ä‰∏ãËøô‰πãÂêéÊúâÂè¶‰∏Ä‰∏™ÂÖÉÁ¥†Ê∑ªÂä†ËøõÊù•‰∫Ü„ÄÇ1$('body').append('&lt;div class="clickme"&gt;Another target&lt;/div&gt;');Â∞ΩÁÆ°Ëøô‰∏™Êñ∞ÁöÑÂÖÉÁ¥†‰πüËÉΩÂ§üÂåπÈÖçÈÄâÊã©Âô® ‚Äú.clickme‚Äù Ôºå‰ΩÜÊòØÁî±‰∫éËøô‰∏™ÂÖÉÁ¥†ÊòØÂú®Ë∞ÉÁî® .bind() ‰πãÂêéÊ∑ªÂä†ÁöÑÔºåÊâÄ‰ª•ÁÇπÂáªËøô‰∏™ÂÖÉÁ¥†‰∏ç‰ºöÊúâ‰ªª‰ΩïÊïàÊûú„ÄÇ.live() Â∞±Êèê‰æõ‰∫ÜÂØπÂ∫îËøôÁßçÊÉÖÂÜµÁöÑÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊòØËøôÊ†∑ÁªëÂÆöclick‰∫ã‰ª∂ÁöÑÔºö123$('.clickme').live('click', function() &#123; alert("Live handler called."); &#125;);ÁÑ∂ÂêéÂÜçÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÂÖÉÁ¥†Ôºö1$('body').append('&lt;div class="clickme"&gt;Another target&lt;/div&gt;');ÁÑ∂ÂêéÂÜçÁÇπÂáªÊñ∞Â¢ûÁöÑÂÖÉÁ¥†Ôºå‰ªñ‰æùÁÑ∂ËÉΩÂ§üËß¶Âèë‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞„ÄÇ‰ªé jQuery 1.7 ÂºÄÂßãÔºå‰∏çÂÜçÂª∫ËÆÆ‰ΩøÁî® .live() ÊñπÊ≥ï„ÄÇËØ∑‰ΩøÁî® .on() Êù•Ê∑ªÂä†‰∫ã‰ª∂Â§ÑÁêÜ„ÄÇ‰∏éÂÖ∂‰ΩúÁî®Áõ∏ÂèçÁöÑÂáΩÊï∞‰∏∫die()„ÄÇdelegate(sel,[t],[d],fn)delegate() ÊñπÊ≥ï‰∏∫ÊåáÂÆöÁöÑÂÖÉÁ¥†ÔºàÂ±û‰∫éË¢´ÈÄâÂÖÉÁ¥†ÁöÑÂ≠êÂÖÉÁ¥†ÔºâÊ∑ªÂä†‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºåÂπ∂ËßÑÂÆöÂΩìËøô‰∫õ‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇ‰ΩøÁî® delegate() ÊñπÊ≥ïÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÈÄÇÁî®‰∫éÂΩìÂâçÊàñÊú™Êù•ÁöÑÂÖÉÁ¥†ÔºàÊØîÂ¶ÇÁî±ËÑöÊú¨ÂàõÂª∫ÁöÑÊñ∞ÂÖÉÁ¥†Ôºâ„ÄÇËØ≠Ê≥ïÔºö1$(selector).delegate(childSelector,event,data,function)ÂèÇÊï∞ÊèèËø∞childSelectorÂøÖÈúÄ„ÄÇËßÑÂÆöË¶ÅÊ∑ªÂä†‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â≠êÂÖÉÁ¥†„ÄÇeventÂøÖÈúÄ„ÄÇËßÑÂÆöÊ∑ªÂä†Âà∞ÂÖÉÁ¥†ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∫ã‰ª∂„ÄÇÁî±Á©∫Ê†ºÂàÜÈöîÂ§ö‰∏™‰∫ã‰ª∂ÂÄº„ÄÇÂøÖÈ°ªÊòØÊúâÊïàÁöÑ‰∫ã‰ª∂„ÄÇdataÂèØÈÄâ„ÄÇËßÑÂÆö‰º†ÈÄíÂà∞ÂáΩÊï∞ÁöÑÈ¢ùÂ§ñÊï∞ÊçÆ„ÄÇfunctionÂøÖÈúÄ„ÄÇËßÑÂÆöÂΩì‰∫ã‰ª∂ÂèëÁîüÊó∂ËøêË°åÁöÑÂáΩÊï∞„ÄÇÁ§∫‰æãÔºöÂΩìÁÇπÂáªÈº†Ê†áÊó∂ÔºåÈöêËóèÊàñÊòæÁ§∫ p ÂÖÉÁ¥†ÔºöHTML ‰ª£Á†Å:1234&lt;div&gt; ËøôÊòØ‰∏Ä‰∏™ÊÆµËêΩ„ÄÇ &lt;button&gt;ËØ∑ÁÇπÂáªËøôÈáå&lt;/button&gt;&lt;/div&gt;jQuery ‰ª£Á†Å:123$("div").delegate("button","click",function()&#123; $("p").slideToggle();&#125;); ‚ÄãdelegateËøô‰∏™ÊñπÊ≥ïÂèØ‰Ωú‰∏∫live()ÊñπÊ≥ïÁöÑÊõø‰ª£Ôºå‰ΩøÂæóÊØèÊ¨°‰∫ã‰ª∂ÁªëÂÆöÂà∞ÁâπÂÆöÁöÑDOMÂÖÉÁ¥†„ÄÇ‰ª•‰∏ã‰∏§ÊÆµ‰ª£Á†ÅÊòØÁ≠âÂêåÁöÑ:12345678$("table").delegate("td", "hover", function()&#123; $(this).toggleClass("hover");&#125;);$("table").each(function()&#123; $("td", this).live("hover", function()&#123; $(this).toggleClass("hover"); &#125;); &#125;); ‚Äã‰∏éÂÖ∂Áõ∏ÂèçÁöÑÂáΩÊï∞ÊòØundelegate()„ÄÇ‰∫ã‰ª∂ÂàáÊç¢hover([over,]out)ÂΩìÈº†Ê†áÁßªÂä®Âà∞‰∏Ä‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†‰∏äÈù¢Êó∂Ôºå‰ºöËß¶ÂèëÊåáÂÆöÁöÑÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞„ÄÇÂΩìÈº†Ê†áÁßªÂá∫Ëøô‰∏™ÂÖÉÁ¥†Êó∂Ôºå‰ºöËß¶ÂèëÊåáÂÆöÁöÑÁ¨¨‰∫å‰∏™ÂáΩÊï∞„ÄÇÁ§∫‰æãÔºöÈº†Ê†áÊÇ¨ÂÅúÁöÑË°®Ê†ºÂä†‰∏äÁâπÂÆöÁöÑÁ±ªÔºö12345678$("td").hover( function () &#123; $(this).addClass("hover"); &#125;, function () &#123; $(this).removeClass("hover"); &#125;); ‚Äã‰∏ãÈù¢ËøûÊÆµ‰ª£Á†ÅÊïàÊûúÁõ∏ÂêåÔºö12$("td").bind("mouseenter mouseleave",handlerInOut);$("td").hover(handlerInOut);toggle([s],[easing],[fn])toggle() ÊñπÊ≥ïÂú®Ë¢´ÈÄâÂÖÉÁ¥†‰∏äËøõË°å hide() Âíå show() ‰πãÈó¥ÁöÑÂàáÊç¢„ÄÇÂ¶ÇÔºöÂú®ÊâÄÊúâ ÂÖÉÁ¥†‰∏äËøõË°åÈöêËóèÂíåÊòæÁ§∫‰πãÈó¥ÁöÑÂàáÊç¢Ôºö123$("button").click(function()&#123; $("p").toggle();&#125;);ËØ•ÊñπÊ≥ïÊ£ÄÊü•Ë¢´ÈÄâÂÖÉÁ¥†ÁöÑÂèØËßÅÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÈöêËóèÁöÑÔºåÂàôËøêË°å show()ÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÂèØËßÅÁöÑÔºåÂàôËøêË°å hide() - Ëøô‰ºöÈÄ†Êàê‰∏ÄÁßçÂàáÊç¢ÁöÑÊïàÊûú„ÄÇÂ∏¶ÂèÇÊï∞ËØ≠Ê≥ïÔºö1$(selector).toggle(speed,easing,callback)ÂèÇÊï∞ÊèèËø∞speedÂèØÈÄâ„ÄÇËßÑÂÆöÈöêËóè/ÊòæÁ§∫ÊïàÊûúÁöÑÈÄüÂ∫¶„ÄÇ ÂèØËÉΩÁöÑÂÄºÔºöÊØ´Áßí‚Äúslow‚Äù‚Äúfast‚ÄùeasingÂèØÈÄâ„ÄÇËßÑÂÆöÂú®Âä®ÁîªÁöÑ‰∏çÂêåÁÇπ‰∏äÂÖÉÁ¥†ÁöÑÈÄüÂ∫¶„ÄÇÈªòËÆ§ÂÄº‰∏∫ ‚Äúswing‚Äù„ÄÇ ÂèØËÉΩÁöÑÂÄºÔºö‚Äúswing‚Äù - Âú®ÂºÄÂ§¥/ÁªìÂ∞æÁßªÂä®ÊÖ¢ÔºåÂú®‰∏≠Èó¥ÁßªÂä®Âø´‚Äúlinear‚Äù - ÂåÄÈÄüÁßªÂä®callbackÂèØÈÄâ„ÄÇtoggle() ÊñπÊ≥ïÊâßË°åÂÆå‰πãÂêéÔºåË¶ÅÊâßË°åÁöÑÂáΩÊï∞„ÄÇ1Áßí‰πãÂÜÖÂä®ÊÄÅÈöêËóèÂíåÊòæÁ§∫pÂÖÉÁ¥†Ôºö123$("button").click(function()&#123; $("p").toggle(1000);&#125;);1Áßí‰πãÂÜÖÂä®ÊÄÅÈöêËóèÂíåÊòæÁ§∫pÂÖÉÁ¥†ÔºåÂπ∂ÊâßË°åÂõûË∞ÉÂáΩÊï∞Ôºö12345$("button").click(function()&#123; $("p").toggle(1000,function()&#123; alert("toggle() ÊñπÊ≥ïÂ∑≤ÂÆåÊàê!"); &#125;); ‚Äã&#125;);toggle(fn1,fn2...fnN)ÂáΩÊï∞‰πüÂèØ‰ª•Áî®‰∫éÂá†‰∏™ÂáΩÊï∞Èó¥ÁöÑÂàáÊç¢ÔºåÁé∞ÊúâÂ¶Ç‰∏ã‰ª£Á†ÅÔºö123456789$("panel h5.head").bind("click",function()&#123; var $content=$(this).next("div.content"); if($content.is(":visible"))&#123; $content.hide(); &#125;else&#123; $content.show(); &#125; &#125;);‰ΩøÁî®toggleÊîπÂÜôÔºö1234567$("panel h5.head").toggle( function()&#123; $(this).next("div.content").show(); &#125;,function()&#123; $(this).next("div.content").hide(); &#125;);‰∫ã‰ª∂blur([[data],fn])ÂΩìÂÖÉÁ¥†Â§±ÂéªÁÑ¶ÁÇπÊó∂Ëß¶Âèë blur ‰∫ã‰ª∂„ÄÇÁ§∫‰æãÔºöËß¶ÂèëÊâÄÊúâÊÆµËêΩÁöÑblur‰∫ã‰ª∂Ôºö1$("p").blur();‰ªª‰ΩïÊÆµËêΩÂ§±ÂéªÁÑ¶ÁÇπÊó∂ÂºπÂá∫‰∏Ä‰∏™ ‚ÄúHello World!‚ÄùÂú®ÊØè‰∏Ä‰∏™ÂåπÈÖçÂÖÉÁ¥†ÁöÑblur‰∫ã‰ª∂‰∏≠ÁªëÂÆöÁöÑÂ§ÑÁêÜÂáΩÊï∞Ôºö1$("p").blur( function () &#123; alert("Hello World!"); &#125; ); ‚Äãchange([[data],fn])ÂΩìÂÖÉÁ¥†ÁöÑÂÄºÊîπÂèòÊó∂ÂèëÁîü change ‰∫ã‰ª∂Ôºà‰ªÖÈÄÇÁî®‰∫éË°®ÂçïÂ≠óÊÆµÔºâ„ÄÇÁ§∫‰æãÔºöÂΩì&lt;input&gt;ÊñáÊú¨ÂÄºÂèëÁîüÊîπÂèòÔºå‰∏îÂ§±ÂéªÁÑ¶ÁÇπÊàñËÄÖÊåâEnterÈîÆÁöÑÊó∂ÂÄôËß¶ÂèëÔºö123$("input").change(function()&#123; alert("ÊñáÊú¨Â∑≤Ë¢´‰øÆÊîπ");&#125;);Ê≥®ÊÑèÔºåÂú®ËæìÂÖ•ËøáÁ®ã‰∏≠ÔºåËôΩÁÑ∂ÂÄº‰∏çÊñ≠ÊîπÂèòÔºå‰ΩÜ‰∏ç‰ºöËß¶Âèëchange()ÔºåÈô§Èùû&lt;input&gt;Â§±ÂéªÁÑ¶ÁÇπÊàñËÄÖÊåâEnterÈîÆÁöÑÊó∂ÂÄôËß¶Âèë„ÄÇclick([[data],fn])Áï•„ÄÇdblclick([[data],fn])Áï•„ÄÇerror([[data],fn])ÂΩìÂÖÉÁ¥†ÈÅáÂà∞ÈîôËØØÔºàÊ≤°ÊúâÊ≠£Á°ÆËΩΩÂÖ•ÔºâÊó∂ÔºåÂèëÁîü error ‰∫ã‰ª∂„ÄÇÂ¶ÇÔºöÂõæÁâáÂä†ËΩΩÈîôËØØÊó∂ÔºåÊõøÊç¢‰∏∫ÊñáÊú¨ÊèêÁ§∫Ôºö123$("img").error(function()&#123; $("img").replaceWith("&lt;p&gt;ÂõæÁâáÂä†ËΩΩÈîôËØØ!&lt;/p&gt;");&#125;);focus([[data],fn])ÂΩìÂÖÉÁ¥†Ëé∑ÂæóÁÑ¶ÁÇπÊó∂ÔºåËß¶Âèë focus ‰∫ã‰ª∂„ÄÇÂèØ‰ª•ÈÄöËøáÈº†Ê†áÁÇπÂáªÊàñËÄÖÈîÆÁõò‰∏äÁöÑTABÂØºËà™Ëß¶Âèë„ÄÇËøôÂ∞ÜËß¶ÂèëÊâÄÊúâÁªëÂÆöÁöÑfocusÂáΩÊï∞„ÄÇÁ§∫‰æãÔºöÂΩìÈ°µÈù¢Âä†ËΩΩÂêéÂ∞Ü id ‰∏∫ ‚Äòlogin‚Äô ÁöÑÂÖÉÁ¥†ËÆæÁΩÆÁÑ¶ÁÇπÔºö123$(document).ready(function()&#123; $("#login").focus();&#125;);‰Ωø‰∫∫Êó†Ê≥ï‰ΩøÁî®ÊñáÊú¨Ê°ÜÔºö123$("input[type=text]").focus(function()&#123; this.blur();&#125;); ‚Äãfocusin([data],fn)ÂΩìÂÖÉÁ¥†ÔºàÊàñÂú®ÂÖ∂ÂÜÖÁöÑ‰ªªÊÑèÂÖÉÁ¥†ÔºâËé∑ÂæóÁÑ¶ÁÇπÊó∂ÂèëÁîü focusin ‰∫ã‰ª∂„ÄÇÂΩìÂú®ÂÖÉÁ¥†ÊàñÂú®ÂÖ∂ÂÜÖÁöÑ‰ªªÊÑèÂÖÉÁ¥†‰∏äÂèëÁîü focus ‰∫ã‰ª∂Êó∂Ôºåfocusin() ÊñπÊ≥ïÊ∑ªÂä†Ë¶ÅËøêË°åÁöÑÂáΩÊï∞„ÄÇ‰∏é focus() ÊñπÊ≥ï‰∏çÂêåÁöÑÊòØÔºåfocusin()ÊñπÊ≥ïÂú®‰ªªÊÑèÂ≠êÂÖÉÁ¥†Ëé∑ÂæóÁÑ¶ÁÇπÊó∂‰πü‰ºöËß¶Âèë„ÄÇ‰æãÂ¶ÇÔºåÁé∞ÊúâdivÔºö1234&lt;div style="border: 1px solid black;padding:10px;"&gt; First name: &lt;input type="text"&gt;&lt;br&gt; Last name: &lt;input type="text"&gt;&lt;/div&gt;divÂ≠êÂÖÉÁ¥†&lt;input&gt;Ëé∑ÂæóÁÑ¶ÁÇπÊó∂ÔºåÊîπÂèòdivÁöÑÈ¢úËâ≤Ôºö123$("div").focusin(function()&#123; $(this).css("background-color","#FFFFCC");&#125;);focusout([data],fn)‰∏éfoucusinÁõ∏Âèç„ÄÇkeydown([[data],fn])ÂΩìÈîÆÁõòÊàñÊåâÈíÆË¢´Êåâ‰∏ãÊó∂ÔºåÂèëÁîü keydown ‰∫ã‰ª∂„ÄÇ‰æãÂ¶ÇÔºöÂú®È°µÈù¢ÂÜÖÂØπÈîÆÁõòÊåâÈîÆÂÅöÂá∫ÂõûÂ∫îÔºåÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†ÅÔºö12345678$(window).keydown(function(event)&#123; switch(event.which) &#123; // ... // ‰∏çÂêåÁöÑÊåâÈîÆÂèØ‰ª•ÂÅö‰∏çÂêåÁöÑ‰∫ãÊÉÖ // ‰∏çÂêåÁöÑÊµèËßàÂô®ÁöÑkeycode‰∏çÂêå // ... &#125;&#125;);keypress([[data],fn])keydownÔºöÁî®Êà∑Âú®ÈîÆÁõò‰∏äÊåâ‰∏ãÊüêÊåâÈîÆÊòØÂèëÁîü„ÄÇ‰∏ÄÁõ¥ÊåâÁùÄÊüêÊåâÈîÆÂàô‰ºö‰∏çÊñ≠Ëß¶ÂèëÔºàoperaÊµèËßàÂô®Èô§Â§ñÔºâ„ÄÇkeypressÔºöÁî®Êà∑Êåâ‰∏ã‰∏Ä‰∏™ÊåâÈîÆÔºåÂπ∂‰∫ßÁîü‰∏Ä‰∏™Â≠óÁ¨¶Êó∂ÂèëÁîüÔºà‰πüÂ∞±ÊòØ‰∏çÁÆ°Á±ª‰ººshift„ÄÅalt„ÄÅctrl‰πãÁ±ªÁöÑÈîÆÔºåÂ∞±ÊòØËØ¥Áî®Êà∑Êåâ‰∫Ü‰∏Ä‰∏™ËÉΩÂú®Â±èÂπï‰∏äËæìÂá∫Â≠óÁ¨¶ÁöÑÊåâÈîÆkeypress‰∫ã‰ª∂Êâç‰ºöËß¶ÂèëÔºâ„ÄÇ‰∏ÄÁõ¥ÊåâÁùÄÊüêÊåâÈîÆÂàô‰ºö‰∏çÊñ≠Ëß¶Âèë„ÄÇkeyup([[data],fn])ÂΩìÊåâÈíÆË¢´ÊùæÂºÄÊó∂ÔºåÂèëÁîü keyup ‰∫ã‰ª∂„ÄÇmousedown([[d,fn])ÂΩìÈº†Ê†áÊåáÈíàÁßªÂä®Âà∞ÂÖÉÁ¥†‰∏äÊñπÔºåÂπ∂Êåâ‰∏ãÈº†Ê†áÊåâÈîÆÊó∂Ôºå‰ºöÂèëÁîü mousedown ‰∫ã‰ª∂„ÄÇmousedown ‰∏é click ‰∫ã‰ª∂‰∏çÂêåÔºåmousedown ‰∫ã‰ª∂‰ªÖÈúÄË¶ÅÊåâÈîÆË¢´Êåâ‰∏ãÔºåËÄå‰∏çÈúÄË¶ÅÊùæÂºÄÂç≥ÂèØÂèëÁîü„ÄÇÈº†Ê†áÊåâÈîÆÂèØ‰ª•‰∏∫Â∑¶ÈîÆÂè≥ÈîÆÂíåÊªöËΩÆ„ÄÇmouseup([[data],fn])‰∏émousedown()Áõ∏Âèç„ÄÇ‰æãÂ≠êÔºöÂΩìÈº†Ê†áÊåáÂêë&lt;div&gt;Âπ∂Êåâ‰∏ãÈº†Ê†áÊåâÈîÆÊó∂Ôºå‰ª•ÂèäÊùæÂºÄÊó∂Ëß¶Âèë‰∫ã‰ª∂ÔºöHTMLÔºö1&lt;div&gt;Âú®Ëøô‰∏™ div ÂÖÉÁ¥†‰∏≠Êåâ‰∏ãÂíåÈáäÊîæÈº†Ê†áÊåâÈíÆ„ÄÇ&lt;/div&gt;jQueryÔºö123456$("div").mouseup(function()&#123; $(this).after("ÈáäÊîæÈº†Ê†áÊåâÈíÆ„ÄÇ");&#125;);$("div").mousedown(function()&#123; $(this).after("Êåâ‰∏ãÈº†Ê†áÊåâÈíÆ„ÄÇ");&#125;);mouseenter([[data],fn])ÂΩìÈº†Ê†áÊåáÈíàÁ©øËøáÂÖÉÁ¥†Êó∂Ôºå‰ºöÂèëÁîü mouseenter ‰∫ã‰ª∂„ÄÇËØ•‰∫ã‰ª∂Â§ßÂ§öÊï∞Êó∂ÂÄô‰ºö‰∏é mouseleave ‰∫ã‰ª∂‰∏ÄËµ∑‰ΩøÁî®„ÄÇmouseleave([[data],fn])ÂΩìÈº†Ê†áÊåáÈíàÁ¶ªÂºÄÂÖÉÁ¥†Êó∂Ôºå‰ºöÂèëÁîü mouseleave ‰∫ã‰ª∂„ÄÇËØ•‰∫ã‰ª∂Â§ßÂ§öÊï∞Êó∂ÂÄô‰ºö‰∏é mouseenter ‰∫ã‰ª∂‰∏ÄËµ∑‰ΩøÁî®„ÄÇ‰æãÂ≠êÔºöÂΩìÈº†Ê†áÊåáÈíàËøõÂÖ• &lt;p&gt; ÂÖÉÁ¥†Êó∂ÔºåËÆæÁΩÆËÉåÊôØËâ≤‰∏∫ÈªÑËâ≤ÔºåÁ¶ªÂºÄÊó∂ËÆæÁΩÆ‰∏∫ÁÅ∞Ëâ≤ÔºöHTMLÔºö1&lt;p&gt;Èº†Ê†áÁßªÂä®Âà∞ËØ•ÊÆµËêΩ„ÄÇ&lt;/p&gt;jQueryÔºö123456$("p").mouseenter(function()&#123; $("p").css("background-color","yellow");&#125;);$("p").mouseleave(function()&#123; $("p").css("background-color","lightgray");&#125;);mouseover([[d],fn])ÂΩìÈº†Ê†áÊåáÈíà‰Ωç‰∫éÂÖÉÁ¥†‰∏äÊñπÊó∂Ôºå‰ºöÂèëÁîü mouseover ‰∫ã‰ª∂„ÄÇËØ•‰∫ã‰ª∂Â§ßÂ§öÊï∞Êó∂ÂÄô‰ºö‰∏é mouseout ‰∫ã‰ª∂‰∏ÄËµ∑‰ΩøÁî®„ÄÇÊ≥®ÈáäÔºö‰∏é mouseenter ‰∫ã‰ª∂‰∏çÂêåÔºå‰∏çËÆ∫Èº†Ê†áÊåáÈíàÁ©øËøáË¢´ÈÄâÂÖÉÁ¥†ÊàñÂÖ∂Â≠êÂÖÉÁ¥†ÔºåÈÉΩ‰ºöËß¶Âèë mouseover ‰∫ã‰ª∂„ÄÇmouseout([[data],fn])ÂΩìÈº†Ê†áÊåáÈíà‰ªéÂÖÉÁ¥†‰∏äÁßªÂºÄÊó∂ÔºåÂèëÁîü mouseout ‰∫ã‰ª∂„ÄÇmousemove([[data],fn])ÂΩìÈº†Ê†áÊåáÈíàÂú®ÊåáÂÆöÁöÑÂÖÉÁ¥†‰∏≠ÁßªÂä®Êó∂ÔºåÂ∞±‰ºöÂèëÁîü mousemove ‰∫ã‰ª∂„ÄÇ‰æãÂ≠êÔºöËé∑ÂæóÈº†Ê†áÊåáÈíàÂú®È°µÈù¢‰∏≠ÁöÑ‰ΩçÁΩÆÔºö123$(document).mousemove(function(event)&#123; $("span").text(event.pageX + ", " + event.pageY);&#125;);resize([[data],fn])ÂΩìË∞ÉÊï¥ÊµèËßàÂô®Á™óÂè£ÁöÑÂ§ßÂ∞èÊó∂ÔºåÂèëÁîü resize ‰∫ã‰ª∂„ÄÇ‰æãÂ≠êÔºöHTMLÔºö1&lt;p&gt;Á™óÂè£ÈáçÁΩÆ‰∫Ü &lt;span&gt;0&lt;/span&gt; Ê¨°Â§ßÂ∞è„ÄÇ&lt;/p&gt;jQueryÔºö123$(window).resize(function()&#123; $("span").text(x+=1);&#125;);scroll([[data],fn])ÂΩìÁî®Êà∑ÊªöÂä®ÊåáÂÆöÁöÑÂÖÉÁ¥†Êó∂Ôºå‰ºöÂèëÁîü scroll ‰∫ã‰ª∂„ÄÇÂØπÂÖÉÁ¥†ÊªöÂä®ÁöÑÊ¨°Êï∞ËøõË°åËÆ°Êï∞Ôºö123$("div").scroll(function()&#123; $("span").text(x+=1);&#125;);select([[data],fn])ÂΩì textarea ÊàñÊñáÊú¨Á±ªÂûãÁöÑ input ÂÖÉÁ¥†‰∏≠ÁöÑÊñáÊú¨Ë¢´ÈÄâÊã©Êó∂Ôºå‰ºöÂèëÁîü select ‰∫ã‰ª∂„ÄÇ123$("input").select(function()&#123; alert("ÊñáÊú¨Â∑≤ÈÄâ‰∏≠!");&#125;);submit([[data],fn])ÂΩìÊèê‰∫§Ë°®ÂçïÊó∂Ôºå‰ºöÂèëÁîü submit ‰∫ã‰ª∂„ÄÇËØ•‰∫ã‰ª∂Âè™ÈÄÇÁî®‰∫éË°®ÂçïÂÖÉÁ¥†„ÄÇÂ¶ÇÊûú‰Ω†Ë¶ÅÈòªÊ≠¢Ë°®ÂçïÊèê‰∫§:123$("form").submit( function () &#123; return false;&#125;); ‚Äãunload([[data],fn])ÂΩìÁî®Êà∑Á¶ªÂºÄÈ°µÈù¢Êó∂Ôºå‰ºöÂèëÁîü unload ‰∫ã‰ª∂„ÄÇÂΩìÂèëÁîü‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºå‰ºöËß¶Âèë unload ‰∫ã‰ª∂Ôºö1.ÁÇπÂáªÊüê‰∏™Á¶ªÂºÄÈ°µÈù¢ÁöÑÈìæÊé•2.Âú®Âú∞ÂùÄÊ†è‰∏≠ÈîÆÂÖ•‰∫ÜÊñ∞ÁöÑ URL3.‰ΩøÁî®ÂâçËøõÊàñÂêéÈÄÄÊåâÈíÆ4.ÂÖ≥Èó≠ÊµèËßàÂô®Á™óÂè£5.ÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢unload() ÊñπÊ≥ïÂè™Â∫îÁî®‰∫é window ÂØπË±°„ÄÇ123$(window).unload(function()&#123; alert("Goodbye!");&#125;);]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQuery ÊñáÊ°£Â§ÑÁêÜ]]></title>
    <url>%2FjQuery-%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86.html</url>
    <content type="text"><![CDATA[ÂÜÖÈÉ®ÊèíÂÖ•append(content|fn)ÂêëÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†ÂÜÖÈÉ®ËøΩÂä†ÂÜÖÂÆπ„ÄÇÁ§∫‰æãÔºöÂêëÊâÄÊúâÊÆµËêΩ‰∏≠ËøΩÂä†‰∏Ä‰∫õHTMLÊ†áËÆ∞ÔºöHTML ‰ª£Á†ÅÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").append("&lt;b&gt;Hello&lt;/b&gt;")ÁªìÊûúÔºö1&lt;p&gt;I would like to say: &lt;b&gt;Hello&lt;/b&gt;&lt;/p&gt;‚ÄãappendTo(content)ÊääÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ËøΩÂä†Âà∞Âè¶‰∏Ä‰∏™ÊåáÂÆöÁöÑÂÖÉÁ¥†ÂÖÉÁ¥†ÈõÜÂêà‰∏≠„ÄÇ ÂÆûÈôÖ‰∏äÔºå‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïÊòØÈ¢†ÂÄí‰∫ÜÂ∏∏ËßÑÁöÑ$(A).append(B)ÁöÑÊìç‰ΩúÔºåÂç≥‰∏çÊòØÊääBËøΩÂä†Âà∞A‰∏≠ÔºåËÄåÊòØÊääAËøΩÂä†Âà∞B‰∏≠„ÄÇÁ§∫‰æã1ÔºöÊääÊâÄÊúâÊÆµËêΩËøΩÂä†Âà∞divÂÖÉÁ¥†‰∏≠„ÄÇHTML ‰ª£Á†ÅÔºö12&lt;p&gt;I would like to say: &lt;/p&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt; ‚ÄãjQuery ‰ª£Á†ÅÔºö1$("p").appendTo("div")ÁªìÊûúÔºö12&lt;div&gt;&lt;p&gt;I would like to say: &lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;I would like to say: &lt;/p&gt;&lt;/div&gt; ‚ÄãÁ§∫‰æã2ÔºöÊñ∞Âª∫ÊÆµËêΩËøΩÂä†div‰∏≠Âπ∂Âä†‰∏ä‰∏Ä‰∏™classHTML ‰ª£Á†ÅÔºö1&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt; ‚ÄãjQuery ‰ª£Á†ÅÔºö12345$("&lt;p/&gt;") .appendTo("div") .addClass("test") .end() .addClass("test2"); ‚ÄãÁªìÊûúÔºö12&lt;div&gt;&lt;p class="test test2"&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p class="test"&gt;&lt;/p&gt;&lt;/div&gt;prepend(content)ÂêëÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†ÂÜÖÈÉ®ÂâçÁΩÆÂÜÖÂÆπ„ÄÇÁ§∫‰æã1ÔºöÂêëÊâÄÊúâÊÆµËêΩ‰∏≠ÂâçÁΩÆ‰∏Ä‰∫õHTMLÊ†áËÆ∞‰ª£Á†Å„ÄÇHTML ‰ª£Á†ÅÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").prepend("&lt;b&gt;Hello&lt;/b&gt;");ÁªìÊûúÔºö1&lt;p&gt;&lt;b&gt;Hello&lt;/b&gt;I would like to say: &lt;/p&gt;Á§∫‰æã2ÔºöÂ∞Ü‰∏Ä‰∏™DOMÂÖÉÁ¥†ÂâçÁΩÆÂÖ•ÊâÄÊúâÊÆµËêΩ„ÄÇHTML ‰ª£Á†ÅÔºö1234&lt;p&gt;I would like to say: &lt;/p&gt;&lt;p&gt;I would like to say: &lt;/p&gt;&lt;b class="foo"&gt;Hello&lt;/b&gt;&lt;b class="foo"&gt;Good Bye&lt;/b&gt;jQuery ‰ª£Á†ÅÔºö1$("p").prepend( $(".foo")[0] );ÁªìÊûúÔºö123&lt;p&gt;&lt;b class="foo"&gt;Hello&lt;/b&gt;I would like to say: &lt;/p&gt;&lt;p&gt;&lt;b class="foo"&gt;Hello&lt;/b&gt;I would like to say: &lt;/p&gt;&lt;b class="foo"&gt;Good Bye&lt;/b&gt; ‚ÄãprependTo(content)ÊääÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÂâçÁΩÆÂà∞Âè¶‰∏Ä‰∏™„ÄÅÊåáÂÆöÁöÑÂÖÉÁ¥†ÂÖÉÁ¥†ÈõÜÂêà‰∏≠„ÄÇÂÆûÈôÖ‰∏äÔºå‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïÊòØÈ¢†ÂÄí‰∫ÜÂ∏∏ËßÑÁöÑ$(A).prepend(B)ÁöÑÊìç‰ΩúÔºåÂç≥‰∏çÊòØÊääBÂâçÁΩÆÂà∞A‰∏≠ÔºåËÄåÊòØÊääAÂâçÁΩÆÂà∞B‰∏≠„ÄÇÁ§∫‰æã1ÔºöHTML ‰ª£Á†ÅÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;&lt;div id="foo"&gt;&lt;/div&gt;jQuery ‰ª£Á†ÅÔºö1$("p").prependTo("#foo");ÁªìÊûúÔºö1&lt;div id="foo"&gt;&lt;p&gt;I would like to say: &lt;/p&gt;&lt;/div&gt; ‚ÄãÂ§ñÈÉ®ÊèíÂÖ•after(content|fn)Âú®ÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†‰πãÂêéÊèíÂÖ•ÂÜÖÂÆπ„ÄÇÁ§∫‰æã1ÔºöÂú®ÊâÄÊúâÊÆµËêΩ‰πãÂêéÊèíÂÖ•‰∏Ä‰∫õHTMLÊ†áËÆ∞‰ª£Á†Å„ÄÇHTML ‰ª£Á†ÅÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").after("&lt;b&gt;Hello&lt;/b&gt;");ÁªìÊûúÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;&lt;b&gt;Hello&lt;/b&gt; ‚ÄãÁ§∫‰æã2ÔºöÂú®ÊâÄÊúâÊÆµËêΩ‰πãÂêéÊèíÂÖ•‰∏Ä‰∏™DOMÂÖÉÁ¥†„ÄÇHTML ‰ª£Á†ÅÔºö1&lt;b id="foo"&gt;Hello&lt;/b&gt;&lt;p&gt;I would like to say: &lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").after( $("#foo")[0] );ÁªìÊûúÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;&lt;b id="foo"&gt;Hello&lt;/b&gt; ‚ÄãÁ§∫‰æã3ÔºöÂú®ÊâÄÊúâÊÆµËêΩ‰∏≠ÂêéÊèíÂÖ•‰∏Ä‰∏™jQueryÂØπË±°(Á±ª‰ºº‰∫é‰∏Ä‰∏™DOMÂÖÉÁ¥†Êï∞ÁªÑ)„ÄÇHTML ‰ª£Á†ÅÔºö1&lt;b&gt;Hello&lt;/b&gt;&lt;p&gt;I would like to say: &lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").after( $("b") );ÁªìÊûúÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;&lt;b&gt;Hello&lt;/b&gt; ‚ÄãinsertAfter(content)ÊääÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÊèíÂÖ•Âà∞Âè¶‰∏Ä‰∏™„ÄÅÊåáÂÆöÁöÑÂÖÉÁ¥†ÂÖÉÁ¥†ÈõÜÂêàÁöÑÂêéÈù¢„ÄÇÂÆûÈôÖ‰∏äÔºå‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïÊòØÈ¢†ÂÄí‰∫ÜÂ∏∏ËßÑÁöÑ$(A).after(B)ÁöÑÊìç‰ΩúÔºåÂç≥‰∏çÊòØÊääBÊèíÂÖ•Âà∞AÂêéÈù¢ÔºåËÄåÊòØÊääAÊèíÂÖ•Âà∞BÂêéÈù¢„ÄÇÁ§∫‰æãÔºöÊääÊâÄÊúâÊÆµËêΩÊèíÂÖ•Âà∞‰∏Ä‰∏™ÂÖÉÁ¥†‰πãÂêé„ÄÇ‰∏é $(&quot;#foo&quot;).after(&quot;p&quot;)Áõ∏ÂêåHTML ‰ª£Á†ÅÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;&lt;div id="foo"&gt;Hello&lt;/div&gt;jQuery ‰ª£Á†ÅÔºö1$("p").insertAfter("#foo");ÁªìÊûúÔºö1&lt;div id="foo"&gt;Hello&lt;/div&gt;&lt;p&gt;I would like to say: &lt;/p&gt; ‚Äãbefore(content|fn)Âú®ÊØè‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†‰πãÂâçÊèíÂÖ•ÂÜÖÂÆπ„ÄÇÁ§∫‰æãÔºöÂú®ÊâÄÊúâÊÆµËêΩ‰πãÂâçÊèíÂÖ•‰∏Ä‰∫õHTMLÊ†áËÆ∞‰ª£Á†Å„ÄÇHTML ‰ª£Á†ÅÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").before("&lt;b&gt;Hello&lt;/b&gt;");ÁªìÊûúÔºö1&lt;b&gt;Hello&lt;/b&gt;&lt;p&gt;I would like to say: &lt;/p&gt;insertBefore(content)ÊääÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÊèíÂÖ•Âà∞Âè¶‰∏Ä‰∏™„ÄÅÊåáÂÆöÁöÑÂÖÉÁ¥†ÂÖÉÁ¥†ÈõÜÂêàÁöÑÂâçÈù¢„ÄÇÂÆûÈôÖ‰∏äÔºå‰ΩøÁî®Ëøô‰∏™ÊñπÊ≥ïÊòØÈ¢†ÂÄí‰∫ÜÂ∏∏ËßÑÁöÑ$(A).before(B)ÁöÑÊìç‰ΩúÔºåÂç≥‰∏çÊòØÊääBÊèíÂÖ•Âà∞AÂâçÈù¢ÔºåËÄåÊòØÊääAÊèíÂÖ•Âà∞BÂâçÈù¢„ÄÇÁ§∫‰æãÔºöÊääÊâÄÊúâÊÆµËêΩÊèíÂÖ•Âà∞‰∏Ä‰∏™ÂÖÉÁ¥†‰πãÂâç„ÄÇ‰∏é $(&quot;#foo&quot;).before(&quot;p&quot;)Áõ∏Âêå„ÄÇHTML ‰ª£Á†ÅÔºö1&lt;div id="foo"&gt;Hello&lt;/div&gt;&lt;p&gt;I would like to say: &lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").insertBefore("#foo");ÁªìÊûúÔºö1&lt;p&gt;I would like to say: &lt;/p&gt;&lt;div id="foo"&gt;Hello&lt;/div&gt; ‚ÄãÂåÖË£πwrap(html|element|fn)ÊääÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†Áî®ÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑÁªìÊûÑÂåñÊ†áËÆ∞ÂåÖË£πËµ∑Êù•„ÄÇÁ§∫‰æãÔºöhtmlÂèÇÊï∞ÊèèËø∞ÔºöÊääÊâÄÊúâÁöÑÊÆµËêΩÁî®‰∏Ä‰∏™Êñ∞ÂàõÂª∫ÁöÑdivÂåÖË£πËµ∑Êù•jQuery ‰ª£Á†ÅÔºö1$("p").wrap("&lt;div class='wrap'&gt;&lt;/div&gt;");elemÂèÇÊï∞ÊèèËø∞ÔºöÁî®IDÊòØ‚Äùcontent‚ÄùÁöÑdivÂ∞ÜÊØè‰∏Ä‰∏™ÊÆµËêΩÂåÖË£πËµ∑Êù•jQuery ‰ª£Á†ÅÔºö1$("p").wrap(document.getElementById('content'));ÂõûË∞ÉÂáΩÊï∞ÊèèËø∞ÔºöÁî®ÂéüÂÖàdivÁöÑÂÜÖÂÆπ‰Ωú‰∏∫Êñ∞divÁöÑclassÔºåÂπ∂Â∞ÜÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÂåÖË£πËµ∑Êù•HTML ‰ª£Á†ÅÔºö1234&lt;div class="container"&gt; &lt;div class="inner"&gt;Hello&lt;/div&gt; &lt;div class="inner"&gt;Goodbye&lt;/div&gt;&lt;/div&gt;jQuery ‰ª£Á†ÅÔºö123$('.inner').wrap(function() &#123; return '&lt;div class="' + $(this).text() + '" /&gt;';&#125;);ÁªìÊûúÔºö12345678&lt;div class="container"&gt; &lt;div class="Hello"&gt; &lt;div class="inner"&gt;Hello&lt;/div&gt; &lt;/div&gt; &lt;div class="Goodbye"&gt; &lt;div class="inner"&gt;Goodbye&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; ‚Äãunwrap()Ëøô‰∏™ÊñπÊ≥ïÂ∞ÜÁßªÂá∫ÂÖÉÁ¥†ÁöÑÁà∂ÂÖÉÁ¥†„ÄÇËøôËÉΩÂø´ÈÄüÂèñÊ∂à .wrap()ÊñπÊ≥ïÁöÑÊïàÊûú„ÄÇÂåπÈÖçÁöÑÂÖÉÁ¥†Ôºà‰ª•Âèä‰ªñ‰ª¨ÁöÑÂêåËæàÂÖÉÁ¥†Ôºâ‰ºöÂú®DOMÁªìÊûÑ‰∏äÊõøÊç¢‰ªñ‰ª¨ÁöÑÁà∂ÂÖÉÁ¥†„ÄÇÁ§∫‰æãÔºöHTML ‰ª£Á†ÅÔºö12345&lt;div&gt; &lt;p&gt;Hello&lt;/p&gt; &lt;p&gt;cruel&lt;/p&gt; &lt;p&gt;World&lt;/p&gt;&lt;/div&gt;jQuery ‰ª£Á†ÅÔºö1$("p").unwrap()ÁªìÊûúÔºö123&lt;p&gt;Hello&lt;/p&gt;&lt;p&gt;cruel&lt;/p&gt;&lt;p&gt;World&lt;/p&gt; ‚ÄãwrapAll(html|ele)Â∞ÜÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†Áî®Âçï‰∏™ÂÖÉÁ¥†ÂåÖË£πËµ∑Êù•„ÄÇÁ§∫‰æãÔºöhtmlÊèèËø∞ÔºöÁî®‰∏Ä‰∏™ÁîüÊàêÁöÑdivÂ∞ÜÊâÄÊúâÊÆµËêΩÂåÖË£πËµ∑Êù•„ÄÇHTML‰ª£Á†ÅÔºö123&lt;p&gt;Hello&lt;/p&gt;&lt;p&gt;cruel&lt;/p&gt;&lt;p&gt;World&lt;/p&gt; ‚ÄãjQuery ‰ª£Á†ÅÔºö1$("p").wrapAll("&lt;div&gt;&lt;/div&gt;");ÁªìÊûúÔºö12345&lt;div&gt; &lt;p&gt;Hello&lt;/p&gt; &lt;p&gt;cruel&lt;/p&gt; &lt;p&gt;World&lt;/p&gt;&lt;/div&gt; ‚ÄãelemÊèèËø∞ÔºöÁî®‰∏Ä‰∏™ÁîüÊàêÁöÑdivÂ∞ÜÊâÄÊúâÊÆµËêΩÂåÖË£πËµ∑Êù•jQuery ‰ª£Á†ÅÔºö1$("p").wrapAll(document.createElement("div")); ‚ÄãwrapInner(htm|ele|fn)Â∞ÜÊØè‰∏Ä‰∏™ÂåπÈÖçÁöÑÂÖÉÁ¥†ÁöÑÂ≠êÂÜÖÂÆπ(ÂåÖÊã¨ÊñáÊú¨ËäÇÁÇπ)Áî®‰∏Ä‰∏™HTMLÁªìÊûÑÂåÖË£πËµ∑Êù•„ÄÇÁ§∫‰æãÔºöÂèÇÊï∞htmlÊèèËø∞ÔºöÊääÊâÄÊúâÊÆµËêΩÂÜÖÁöÑÊØè‰∏™Â≠êÂÜÖÂÆπÂä†Á≤ójQuery ‰ª£Á†ÅÔºö1$("p").wrapInner("&lt;b&gt;&lt;/b&gt;");ÂèÇÊï∞elemÊèèËø∞ÔºöÊääÊâÄÊúâÊÆµËêΩÂÜÖÁöÑÊØè‰∏™Â≠êÂÜÖÂÆπÂä†Á≤ójQuery ‰ª£Á†ÅÔºö1$("p").wrapInner(document.createElement("b"));ÂõûË∞ÉÂáΩÊï∞ÊèèËø∞ÔºöÁî®ÂéüÂÖàdivÁöÑÂÜÖÂÆπ‰Ωú‰∏∫Êñ∞divÁöÑclassÔºåÂπ∂Â∞ÜÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÂåÖË£πËµ∑Êù•HTML ‰ª£Á†ÅÔºö1234&lt;div class="container"&gt; &lt;div class="inner"&gt;Hello&lt;/div&gt; &lt;div class="inner"&gt;Goodbye&lt;/div&gt;&lt;/div&gt;jQuery ‰ª£Á†ÅÔºö123$('.inner').wrapInner(function() &#123; return '&lt;div class="' + $(this).text() + '" /&gt;';&#125;);ÁªìÊûúÔºö12345678&lt;div class="container"&gt; &lt;div class="inner"&gt; &lt;div class="Hello"&gt;Hello&lt;/div&gt; &lt;/div&gt; &lt;div class="inner"&gt; &lt;div class="Goodbye"&gt;Goodbye&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;ÊõøÊç¢replaceWith(content|fn)Â∞ÜÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†ÊõøÊç¢ÊàêÊåáÂÆöÁöÑHTMLÊàñDOMÂÖÉÁ¥†„ÄÇÁ§∫‰æã1ÔºöÊääÊâÄÊúâÁöÑÊÆµËêΩÊ†áËÆ∞ÊõøÊç¢ÊàêÂä†Á≤óÁöÑÊ†áËÆ∞„ÄÇHTML ‰ª£Á†ÅÔºö1&lt;p&gt;Hello&lt;/p&gt;&lt;p&gt;cruel&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").replaceWith("&lt;b&gt;Paragraph. &lt;/b&gt;");ÁªìÊûúÔºö1&lt;b&gt;Paragraph. &lt;/b&gt;&lt;b&gt;Paragraph. &lt;/b&gt;&lt;b&gt;Paragraph. &lt;/b&gt; ‚ÄãÁ§∫‰æã2ÔºöÁî®Á¨¨‰∏ÄÊÆµÊõøÊç¢Á¨¨‰∏âÊÆµÔºå‰Ω†ÂèØ‰ª•ÂèëÁé∞‰ªñÊòØÁßªÂä®Âà∞ÁõÆÊ†á‰ΩçÁΩÆÊù•ÊõøÊç¢ÔºåËÄå‰∏çÊòØÂ§çÂà∂‰∏Ä‰ªΩÊù•ÊõøÊç¢„ÄÇHTML ‰ª£Á†ÅÔºö12345&lt;div class="container"&gt; &lt;div class="inner first"&gt;Hello&lt;/div&gt; &lt;div class="inner second"&gt;And&lt;/div&gt; &lt;div class="inner third"&gt;Goodbye&lt;/div&gt;&lt;/div&gt;jQuery ‰ª£Á†ÅÔºö1$('.third').replaceWith($('.first'));ÁªìÊûúÔºö1234&lt;div class="container"&gt; &lt;div class="inner second"&gt;And&lt;/div&gt; &lt;div class="inner first"&gt;Hello&lt;/div&gt;&lt;/div&gt; ‚ÄãreplaceAll(selector)Áî®ÂåπÈÖçÁöÑÂÖÉÁ¥†ÊõøÊç¢ÊéâÊâÄÊúâ selectorÂåπÈÖçÂà∞ÁöÑÂÖÉÁ¥†„ÄÇÂíå replaceWith() Áõ∏Âèç„ÄÇÁ§∫‰æãÔºöÊääÊâÄÊúâÁöÑÊÆµËêΩÊ†áËÆ∞ÊõøÊç¢ÊàêÂä†Á≤óÊ†áËÆ∞HTML ‰ª£Á†ÅÔºö1&lt;p&gt;Hello&lt;/p&gt;&lt;p&gt;cruel&lt;/p&gt;&lt;p&gt;World&lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("&lt;b&gt;Paragraph. &lt;/b&gt;").replaceAll("p");ÁªìÊûúÔºö1&lt;b&gt;Paragraph. &lt;/b&gt;&lt;b&gt;Paragraph. &lt;/b&gt;&lt;b&gt;Paragraph. &lt;/b&gt; ‚ÄãÂà†Èô§empty()Âà†Èô§ÂåπÈÖçÁöÑÂÖÉÁ¥†ÈõÜÂêà‰∏≠ÊâÄÊúâÁöÑÂ≠êËäÇÁÇπ„ÄÇÁ§∫‰æãÔºöÊääÊâÄÊúâÊÆµËêΩÁöÑÂ≠êÂÖÉÁ¥†ÔºàÂåÖÊã¨ÊñáÊú¨ËäÇÁÇπÔºâÂà†Èô§HTML ‰ª£Á†ÅÔºö1&lt;p&gt;Hello, &lt;span&gt;Person&lt;/span&gt; &lt;a href="#"&gt;and person&lt;/a&gt;&lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").empty();ÁªìÊûúÔºö1&lt;p&gt;&lt;/p&gt; ‚Äãremove([expr])‰ªéDOM‰∏≠Âà†Èô§ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇËøô‰∏™ÊñπÊ≥ï‰∏ç‰ºöÊääÂåπÈÖçÁöÑÂÖÉÁ¥†‰ªéjQueryÂØπË±°‰∏≠Âà†Èô§ÔºåÂõ†ËÄåÂèØ‰ª•Âú®Â∞ÜÊù•ÂÜç‰ΩøÁî®Ëøô‰∫õÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ‰ΩÜÈô§‰∫ÜËøô‰∏™ÂÖÉÁ¥†Êú¨Ë∫´Âæó‰ª•‰øùÁïô‰πãÂ§ñÔºåÂÖ∂‰ªñÁöÑÊØîÂ¶ÇÁªëÂÆöÁöÑ‰∫ã‰ª∂ÔºåÈôÑÂä†ÁöÑÊï∞ÊçÆÁ≠âÈÉΩ‰ºöË¢´ÁßªÈô§„ÄÇÁ§∫‰æã1Ôºö‰ªéDOM‰∏≠ÊääÊâÄÊúâÊÆµËêΩÂà†Èô§HTML ‰ª£Á†ÅÔºö1&lt;p&gt;Hello&lt;/p&gt; how are &lt;p&gt;you?&lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").remove();ÁªìÊûúÔºö1how areÁ§∫‰æã2Ôºö‰ªéDOM‰∏≠ÊääÂ∏¶ÊúâhelloÁ±ªÁöÑÊÆµËêΩÂà†Èô§„ÄÇHTML ‰ª£Á†ÅÔºö1&lt;p class="hello"&gt;Hello&lt;/p&gt; how are &lt;p&gt;you?&lt;/p&gt;jQuery ‰ª£Á†ÅÔºö1$("p").remove(".hello");ÁªìÊûúÔºö1how are &lt;p&gt;you?&lt;/p&gt; ‚Äãdetach([expr])‰ªéDOM‰∏≠Âà†Èô§ÊâÄÊúâÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ Ëøô‰∏™ÊñπÊ≥ï‰∏ç‰ºöÊääÂåπÈÖçÁöÑÂÖÉÁ¥†‰ªéjQueryÂØπË±°‰∏≠Âà†Èô§ÔºåÂõ†ËÄåÂèØ‰ª•Âú®Â∞ÜÊù•ÂÜç‰ΩøÁî®Ëøô‰∫õÂåπÈÖçÁöÑÂÖÉÁ¥†„ÄÇ‰∏éremove()‰∏çÂêåÁöÑÊòØÔºåÊâÄÊúâÁªëÂÆöÁöÑ‰∫ã‰ª∂„ÄÅÈôÑÂä†ÁöÑÊï∞ÊçÆÁ≠âÈÉΩ‰ºö‰øùÁïô‰∏ãÊù•„ÄÇÂ§çÂà∂clone([Even[,deepEven]])ÂÖãÈöÜÂåπÈÖçÁöÑDOMÂÖÉÁ¥†Âπ∂‰∏îÈÄâ‰∏≠Ëøô‰∫õÂÖãÈöÜÁöÑÂâØÊú¨„ÄÇÁ§∫‰æã1ÔºöÂÖãÈöÜÊâÄÊúâbÂÖÉÁ¥†ÔºàÂπ∂ÈÄâ‰∏≠Ëøô‰∫õÂÖãÈöÜÁöÑÂâØÊú¨ÔºâÔºåÁÑ∂ÂêéÂ∞ÜÂÆÉ‰ª¨ÂâçÁΩÆÂà∞ÊâÄÊúâÊÆµËêΩ‰∏≠„ÄÇHTML ‰ª£Á†Å:1&lt;b&gt;Hello&lt;/b&gt;&lt;p&gt;, how are you?&lt;/p&gt;jQuery ‰ª£Á†Å:1$("b").clone().prependTo("p");ÁªìÊûú:1&lt;b&gt;Hello&lt;/b&gt;&lt;p&gt;&lt;b&gt;Hello&lt;/b&gt;, how are you?&lt;/p&gt;Á§∫‰æã2ÔºöÂàõÂª∫‰∏Ä‰∏™ÊåâÈíÆÔºå‰ªñÂèØ‰ª•Â§çÂà∂Ëá™Â∑±ÔºåÂπ∂‰∏î‰ªñÁöÑÂâØÊú¨‰πüÊúâÂêåÊ†∑ÂäüËÉΩ„ÄÇHTML ‰ª£Á†Å:1&lt;button&gt;Clone Me!&lt;/button&gt;jQuery ‰ª£Á†Å:123$("button").click(function()&#123; $(this).clone(true).insertAfter(this);&#125;); ‚Äã]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®Ê≥®Ëß£ÈÖçÁΩÆAOPÂàáÈù¢]]></title>
    <url>%2F%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AEAOP%E5%88%87%E9%9D%A2.html</url>
    <content type="text"><![CDATA[Ê≥®Ëß£ÂàáÈù¢Èô§‰∫Ü‰ΩøÁî®XMLÈÖçÁΩÆAOPÂàáÈù¢ÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®Êõ¥ÁÆÄÊ¥ÅÁöÑÊ≥®Ëß£ÈÖçÁΩÆ„ÄÇÁé∞‰ΩøÁî®Ê≥®Ëß£‰øÆÊîπAudienceÁ±ªÔºö123456789101112131415161718192021222324252627282930313233343536import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.AfterReturning;import org.aspectj.lang.annotation.AfterThrowing;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;import org.aspectj.lang.annotation.Pointcut;import org.springframework.stereotype.Component;@Component@Aspectpublic class Audience &#123; // Â£∞ÊòéÂàáÁÇπ @Pointcut("execution(* com.spring.entity.Performer.perform(..))") public void performance()&#123; &#125; // Ë°®Êºî‰πãÂâç @Before("performance()") public void takeSeats()&#123; System.out.println("ËßÇ‰ºóÂÖ•Â∫ß"); &#125; // Ë°®Êºî‰πãÂâç @Before("performance()") public void turnOffCellPhones()&#123; System.out.println("ÂÖ≥Èó≠ÊâãÊú∫"); &#125; // Ë°®Êºî‰πãÂêé @AfterReturning("performance()") public void applaud()&#123; System.out.println("Âï™Âï™Âï™Âï™Âï™"); &#125; // Ë°®ÊºîÂ§±Ë¥•Âêé @AfterThrowing("performance()") public void failure()&#123; System.out.println("ÂùëÁàπÔºåÈÄÄÈí±ÔºÅ"); &#125;&#125;@Aspect‰ΩøÂæóAudienceÊàê‰∏∫‰∫ÜÂàáÈù¢„ÄÇ‰∏∫‰∫ÜËÆ©SpringËØÜÂà´ÊîπÊ≥®Ëß£ÔºåÊàë‰ª¨ËøòÈúÄÂú®XML‰∏≠Ê∑ªÂä†&lt;aop:aspectj-autoproxy/&gt;„ÄÇ&lt;aop:aspectj-autoproxy/&gt;Â∞ÜÂú®SpringÂ∫îÁî®‰∏ä‰∏ãÊñá‰∏≠ÂàõÂª∫‰∏Ä‰∏™AnnotationAwareAspectJAutoProxyCreatorÁ±ªÔºåÂÆÉ‰ºöËá™Âä®‰ª£ÁêÜ@AspectÊ†áÊ≥®ÁöÑBeanÔºö1&lt;aop:aspectj-autoproxy proxy-target-class="true" /&gt;ÂÆû‰æãÂåñkennyÔºåËæìÂá∫Ôºö123456ËßÇ‰ºóÂÖ•Â∫ßÂÖ≥Èó≠ÊâãÊú∫Âî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂï™Âï™Âï™Âï™Âï™ÂíåXMLÈÖçÁΩÆAOPÊïàÊûú‰∏ÄÊ†∑„ÄÇÂú®ËøôÈÄî‰∏≠ÈÅáÂà∞ÈîôËØØÔºö1Ôºöerror at ::0 can't find referenced pointcut XXXÁΩëÁªú‰∏äÁöÑËØ¥Ê≥ïÊòØJDK‰∏çÂåπÈÖçÈÄ†ÊàêÁöÑÔºåÊàëÂéüÊù•Áî®ÁöÑJDK1.7ÂåπÈÖçÁöÑÊòØaspectjrt.1.6Âíåaspectjweaver.1.6,Âõ†Ê≠§‰ºöÊä•Èîô„ÄÇ Â¶ÇÊûúË¶Å‰ΩøÁî®AspectJÂÆåÊàêÊ≥®Ëß£ÂàáÈù¢ÈúÄË¶ÅÊ≥®ÊÑè‰∏ãÈù¢ÁöÑJDK‰∏éAspectJÁöÑÂåπÈÖçÔºöJDK1.6 ‚Äî‚Äî aspectJ1.6JDK1.7 ‚Äî‚Äî aspectJ1.7.3+aspectJ1.7‰∏ãËΩΩÈìæÊé•ÔºöÂØÜÁ†ÅÔºö6wd7Ê≥®Ëß£ÁéØÁªïÈÄöÁü•‰ΩøÁî®@AroundÊ≥®Ëß£ÁéØÁªïÈÄöÁü•Ôºö123456789101112131415161718192021222324@Component@Aspectpublic class Audience &#123; // Â£∞ÊòéÂàáÁÇπ @Pointcut("execution(* com.spring.entity.Performer.perform(..))") public void performance()&#123; &#125; @Around("performance()") public void watch(ProceedingJoinPoint joinpoint)&#123; try&#123; System.out.println("ËßÇ‰ºóÂÖ•Â∫ß"); System.out.println("ÂÖ≥Èó≠ÊâãÊú∫"); long start=System.currentTimeMillis(); // ÊâßË°åË¢´ÈÄöÁü•ÁöÑÊñπÊ≥ïÔºÅ joinpoint.proceed(); long end=System.currentTimeMillis(); System.out.println("Âï™Âï™Âï™Âï™Âï™"); System.out.println("Ë°®ÊºîËÄóÊó∂Ôºö"+(end-start)+" milliseconds"); &#125;catch(Throwable t)&#123; System.out.println("ÂùëÁàπÔºåÈÄÄÈí±ÔºÅ"); &#125; &#125;&#125;ÂÆû‰æãÂåñkennyÔºåËæìÂá∫Ôºö123456ËßÇ‰ºóÂÖ•Â∫ßÂÖ≥Èó≠ÊâãÊú∫Âî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂï™Âï™Âï™Âï™Âï™Ë°®ÊºîËÄóÊó∂Ôºö30 millisecondsÊ≥®Ëß£‰º†ÈÄíÂèÇÊï∞‰øÆÊîπMagicianÁ±ªÔºö123456789101112131415161718192021222324import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;import org.aspectj.lang.annotation.Pointcut;import org.springframework.stereotype.Component;@Component@Aspectpublic class Magician implements MindReader&#123; private String thoughts; // Â£∞ÊòéÂèÇÊï∞ÂåñÂàáÁÇπ @Pointcut("execution(* com.spring.entity." + "Thinker.thinkOfSomething(String)) &amp;&amp; args(thoughts)") public void thinking(String thoughts) &#123; &#125; // ÊääÂèÇÊï∞‰º†ÈÄíÁªôÈÄöÁü• @Before("thinking(thoughts)") public void interceptThoughts(String thoughts) &#123; System.out.println("‰æ¶Âê¨ÂøóÊÑøËÄÖÁöÑÂøÉÂ£∞"); this.thoughts=thoughts; &#125; public String getThoughts() &#123; return thoughts; &#125;&#125;&lt;aop:pointcut&gt;Âèò‰∏∫@PointcutÊ≥®Ëß£Ôºå&lt;aop:before&gt;Âèò‰∏∫@BeforeÊ≥®Ëß£„ÄÇÊµãËØïÔºö12345678910public class TestIntercept &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); Volunteer volunteer = (Volunteer) ac.getBean("volunteer"); volunteer.thinkOfSomething("ÊºîÂá∫ÁúüÁ≤æÂΩ©ÔºÅ"); Magician magician = (Magician) ac.getBean("magician"); System.out.println("ÂøóÊÑøËÄÖÂøÉÈáåÊÉ≥ÁöÑÊòØÔºö"+magician.getThoughts()); &#125;&#125;ËæìÂá∫Ôºö12‰æ¶Âê¨ÂøóÊÑøËÄÖÁöÑÂøÉÂ£∞ÂøóÊÑøËÄÖÂøÉÈáåÊÉ≥ÁöÑÊòØÔºöÊºîÂá∫ÁúüÁ≤æÂΩ©ÔºÅÈÄöËøáÊ≥®Ëß£ÂºïÂÖ•Êñ∞ÁöÑÊñπÊ≥ï‰πãÂâçÈÄöËøáÂú®XML‰∏≠ÈÖçÁΩÆAOPÂàáÈù¢ÁöÑÊñπÊ≥ï‰∏∫BeanÂºïÂÖ•Êñ∞ÁöÑÊñπÊ≥ïÔºåÁé∞Âú®ÊîπÁî®Ê≥®Ëß£ÁöÑÊñπÂºèÊù•ÂÆûÁé∞ÔºöÊñ∞Âª∫‰∏Ä‰∏™ContestantIntroducerÁ±ªÔºö123456789101112import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.DeclareParents;import org.springframework.stereotype.Component;@Component@Aspectpublic class ContestantIntroducer &#123; @DeclareParents( value = "com.spring.entity.Performer+", defaultImpl = OutstandingContestant.class) public static Contestant contestant;&#125;@DeclareParentsÊ≥®Ëß£‰ª£Êõø‰∫Ü‰πãÂâçÁöÑ&lt;aop:declare-parents&gt;Ê†áÁ≠æ„ÄÇ @DeclareParentsÊ≥®Ëß£Áî±‰∏â‰∏™ÈÉ®ÂàÜÁªÑÊàêÔºö1.valueÂ±ûÊÄßÁ≠âÂêå‰∫é&lt;aop:declare-parents&gt;ÁöÑtypes-matchingÂ±ûÊÄß„ÄÇÂÆÉÊ†áËØÜÂ∫îËØ•Ë¢´ÂºïÂÖ•ÊåáÂÆöÊé•Âè£ÁöÑBean„ÄÇ2.defaultImplÂ±ûÊÄßÁ≠âÂêå‰∫é&lt;aop:declare-parents&gt;ÁöÑdefault-implÂ±ûÊÄß„ÄÇÂÆÉÊ†áËØÜËØ•Á±ªÊâÄÂºïÂÖ•Êé•Âè£ÁöÑÂÆûÁé∞„ÄÇ3.Áî±@DeclareParentsÊ≥®Ëß£ÊâÄÊ†áÊ≥®ÁöÑstaticÂ±ûÊÄßÂà∂ËÆ¢‰∫ÜÂ∞ÜË¢´ÂºïÂÖ•ÁöÑÊé•Âè£„ÄÇÊµãËØïÔºö12345678910public class Play &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); Instrumentalist kenny = (Instrumentalist)ac.getBean("kenny"); kenny.perform(); Contestant kenny1=(Contestant) ac.getBean("kenny"); kenny1.receiveAward(); &#125;&#125;ËæìÂá∫Ôºö1234567ËßÇ‰ºóÂÖ•Â∫ßÂÖ≥Èó≠ÊâãÊú∫Âî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂï™Âï™Âï™Âï™Âï™Ë°®ÊºîËÄóÊó∂Ôºö27 millisecondsÂèÇÂä†È¢ÅÂ•ñÂÖ∏Á§º„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®Spring XML‰∏≠Â£∞ÊòéÂàáÈù¢]]></title>
    <url>%2F%E5%9C%A8Spring-XML%E4%B8%AD%E5%A3%B0%E6%98%8E%E5%88%87%E9%9D%A2.html</url>
    <content type="text"><![CDATA[Âú®Spring AOP‰∏≠ÔºåÈúÄË¶Å‰ΩøÁî®AspectJÁöÑÂàáÁÇπË°®ËææÂºèËØ≠Ë®ÄÊù•ÂÆö‰πâÂàáÁÇπ„ÄÇ‰∏ãË°®ÂàóÂá∫‰∫ÜSpring AOPÊâÄÊîØÊåÅÁöÑAspectJÂàáÁÇπÊåáÁ§∫Âô®ÔºöAspectJÊåáÁ§∫Âô®ÊèèËø∞arg()ÈôêÂà∂ËøûÊé•ÁÇπÂåπÈÖçÂèÇÊï∞‰∏∫ÊåáÂÆöÁ±ªÂûãÁöÑÊâßË°åÊñπÊ≥ï@args()ÈôêÂà∂ËøûÊé•ÁÇπÂåπÈÖçÂèÇÊï∞Áî±ÊåáÂÆöÊ≥®Ëß£Ê†áÊ≥®ÁöÑÊâßË°åÊñπÊ≥ïexecution()Áî®‰∫éÂåπÈÖçÊòØËøûÊé•ÁÇπÁöÑÊâßË°åÊñπÊ≥ïthis()ÈôêÂà∂ËøûÊé•ÁÇπÂåπÈÖçAOP‰ª£ÁêÜÁöÑBeanÂºïÁî®ÁöÑÊåáÂÆöÁ±ªÂûãÁöÑÁ±ªtarget()ÈôêÂà∂ËøûÊé•ÁÇπÂåπÈÖçÁõÆÊ†áÂØπË±°‰∏∫ÊâßË°åÁ±ªÂûãÁöÑÁ±ª@target()ÈôêÂà∂ËøûÊé•ÁÇπÂåπÈÖçÁâπÂÆöÁöÑÊâßË°åÂØπË±°ÔºåËøô‰∫õÂØπË±°ÂØπÂ∫îÁöÑÁ±ªË¶ÅÂÖ∑Â§áÊåáÂÆöÁ±ªÂûãÁöÑÊ≥®Ëß£within()ÈôêÂà∂ËøûÊé•ÁÇπÂåπÈÖçÊåáÂÆöÁöÑÁ±ªÂûã@within()ÈôêÂà∂ËøûÊé•ÁÇπÂåπÈÖçÊåáÂÆöÊ≥®Ëß£ÊâÄÊ†áÊ≥®ÁöÑÁ±ªÂûã(ÂΩì‰ΩøÁî®Spring AOPÊó∂ÔºåÊñπÊ≥ïÂÆö‰πâÂú®Áî±ÊåáÂÆöÁöÑÊ≥®Ëß£ÊâÄÊ†áÊ≥®ÁöÑÁ±ªÈáå)@annotation()ÈôêÂà∂ÂåπÈÖçÂ∏¶ÊúâÊåáÂÆöÊ≥®Ëß£ËøûÊé•ÁÇπÁºñÂÜôÂàáÁÇπÂ¶Ç‰∏ãÊâÄÁ§∫ÁöÑÂàáÁÇπË°®ËææÂºèË°®Á§∫ÂΩìInstrumentÁöÑplay()ÊñπÊ≥ïÊâßË°åÊó∂‰ºöËß¶ÂèëÈÄöÁü•„ÄÇ1execution(* com.spring.entity.Instrument.play(..))‰ΩøÁî®execution()ÊåáÁ§∫Âô®ÈÄâÊã©InstrumentÁöÑplay()ÊñπÊ≥ï„ÄÇÊñπÊ≥ïË°®ËææÂºè‰ª•*ÂºÄÂßãÔºåË°®Á§∫ËøîÂõû‰ªªÊÑèÁ±ªÂûãÁöÑËøîÂõûÂÄº„ÄÇÁÑ∂ÂêéÊåáÂÆö‰∫ÜÂÖ®ÈôêÂÆöÁ±ªÂêçÂíåÊñπÊ≥ïÂêç„ÄÇÂØπ‰∫éÂèÇÊï∞ÂàóË°®(..)Ê†áËØÜÂàáÁÇπÈÄâÊã©‰ªªÊÑèÁöÑpay()ÊñπÊ≥ïÔºåÊó†ËÆ∫ÊñπÊ≥ïÁöÑÂÖ•ÂèÇÊòØ‰ªÄ‰πà„ÄÇ‰ΩøÁî®SpringÁöÑBean()ÊåáÁ§∫Âô®Spring2.5ÂºïÂÖ•‰∫ÜÊñ∞ÁöÑbean()ÊåáÁ§∫Âô®„ÄÇÂ¶ÇÔºö1execution(* com.spring.entity.Instrument.play()) and bean(eddie)Ë°®Á§∫ÔºåÊâßË°åInstrumentÁöÑplay()ÊñπÊ≥ïÊó∂Â∫îÁî®ÈÄöÁü•ÔºåÂπ∂‰∏îBeanÁöÑID‰∏∫eddie„ÄÇXML‰∏≠ÈÖçÁΩÆAOPÂú®Spring XML‰∏≠ÈÖçÁΩÆAOP‰ΩøÁî®ÂÖÉÁ¥†Ôºå‰∏ãË°®Ê¶ÇËø∞‰∫ÜAOPÈÖçÁΩÆÂÖÉÁ¥†„ÄÇAOPÈÖçÁΩÆÂÖÉÁ¥†ÊèèËø∞&lt;aop:advisor&gt;ÂÆö‰πâAOPÈÄöÁü•Âô®&lt;aop:after&gt;ÂÆö‰πâAOPÂêéÁΩÆÈÄöÁü•(‰∏çÁÆ°Ë¢´ÈÄöÁü•ÁöÑÊñπÊ≥ïÊòØÂê¶ÊâßË°åÊàêÂäü)&lt;aop:after-returning&gt;ÂÆö‰πâAOP after-returningÈÄöÁü•&lt;aop:after-throwing&gt;ÂÆö‰πâAOP after-throwingÈÄöÁü•&lt;aop:around&gt;ÂÆö‰πâAOPÁéØÁªïÈÄöÁü•&lt;aop:aspect&gt;ÂÆö‰πâÂàáÈù¢&lt;aop:aspectj-autoproxy&gt;ÂêØÁî®@AspectJÊ≥®Ëß£È©±Âä®ÂàáÈù¢&lt;aop:before&gt;ÂÆö‰πâAOPÂâçÁΩÆÈÄöÁü•&lt;aop:config&gt;È°∂Â±ÇÁöÑAOPÈÖçÁΩÆÂÖÉÁ¥†&lt;aop:declare-parents&gt;‰∏∫Ë¢´ÈÄöÁü•ÁöÑÂØπË±°ÂºïÂÖ•È¢ùÂ§ñÁöÑÊé•Âè£ÔºåÂπ∂ÈÄèÊòéÁöÑÂÆûÁé∞&lt;aop:pointcut&gt;ÂÆö‰πâÂàáÁÇπ‰∏∫‰∫ÜÊºîÁ§∫Spring AOPÔºåÁé∞Âú®ÂÆö‰πâ‰∏Ä‰∏™ËßÇ‰ºóÁ±ª AudienceÔºö123456789101112131415161718public class Audience &#123; // Ë°®Êºî‰πãÂâç public void takeSeats()&#123; System.out.println("ËßÇ‰ºóÂÖ•Â∫ß"); &#125; // Ë°®Êºî‰πãÂâç public void turnOffCellPhones()&#123; System.out.println("ÂÖ≥Èó≠ÊâãÊú∫"); &#125; // Ë°®Êºî‰πãÂêé public void applaud()&#123; System.out.println("Âï™Âï™Âï™Âï™Âï™"); &#125; // Ë°®ÊºîÂ§±Ë¥•Âêé public void failure()&#123; System.out.println("ÂùëÁàπÔºåÈÄÄÈí±ÔºÅ"); &#125;&#125;Âú®Spring XML‰∏≠ÈÖçÁΩÆËØ•BeanÔºö1&lt;bean id="audience" class="com.spring.entity.Audience"/&gt;Â£∞ÊòéÂâçÁΩÆÂíåÂêéÁΩÆÈÄöÁü•Â∞Üaudience BeanÂèòÊàê‰∏Ä‰∏™ÂàáÈù¢Ôºö12345678910111213141516&lt;aop:config&gt; &lt;aop:aspect ref="audience"&gt; &lt;aop:before pointcut= "execution(* com.spring.entity.Performer.perform(..))" method="takeSeats"/&gt; &lt;aop:before pointcut= "execution(* com.spring.entity.Performer.perform(..))" method="turnOffCellPhones"/&gt; &lt;aop:after-returning pointcut= "execution(* com.spring.entity.Performer.perform(..))" method="applaud"/&gt; &lt;aop:after-throwing pointcut= "execution(* com.spring.entity.Performer.perform(..))" method="failure"/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt;Âõõ‰∏™ÂàáÁÇπÁöÑË°®ËææÂºèÂÆåÂÖ®‰∏ÄÊ†∑ÔºåÊàë‰ª¨ÂèØ‰ª•ÁÆÄÂåñ‰∏äËø∞ÂÜôÊ≥ïÔºö1234567891011121314&lt;aop:config&gt; &lt;aop:aspect ref="audience"&gt; &lt;aop:pointcut id="performance" expression="execution(* com.spring.entity.Performer.perform(..))"/&gt; &lt;aop:before pointcut-ref="performance" method="takeSeats"/&gt; &lt;aop:before pointcut-ref="performance" method="turnOffCellPhones"/&gt; &lt;aop:after-returning pointcut-ref="performance" method="applaud"/&gt; &lt;aop:after-throwing pointcut-ref="performance" method="failure"/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt;ÂÜçÊ¨°ÂÆû‰æãÂåñkennyÔºö12345678public class Play &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); Instrumentalist kenny=(Instrumentalist)ac.getBean("kenny"); kenny.perform(); &#125;&#125;ÁªìÊûúÂèëÁé∞Êä•ÈîôÔºö12Exception in thread "main" java.lang.ClassCastException: com.sun.proxy.$Proxy8 cannot be cast to...ÂéüÂõ†ÊöÇÊó∂Ëøò‰∏çÊôìÂæó‚Ä¶üò¢Ëß£ÂÜ≥ÂäûÊ≥ïÔºåÂú®&lt;aop:config&gt;ÂÖÉÁ¥†Ê∑ªÂä†proxy-target-class=&quot;true&quot;Ôºö123&lt;aop:config proxy-target-class="true"&gt; //...&lt;/aop:config&gt;ËæìÂá∫Ôºö12345ËßÇ‰ºóÂÖ•Â∫ßÂÖ≥Èó≠ÊâãÊú∫Âî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂï™Âï™Âï™Âï™Âï™Áé∞Âú®Âú®InstrumentalistÁöÑperform()ÊñπÊ≥ïÈáåÂà∂ÈÄ†‰∏Ä‰∏™ÂºÇÂ∏∏Ôºö12345public void perform() &#123; System.out.println("Âî±Ôºö"+song+""); instrument = null; instrument.play();&#125;ÂÆû‰æãÂåñkennyËæìÂá∫Ôºö12345ËßÇ‰ºóÂÖ•Â∫ßÂÖ≥Èó≠ÊâãÊú∫Âî±ÔºöMay RainÂùëÁàπÔºåÈÄÄÈí±ÔºÅException in thread "main" java.lang.NullPointerExceptionÂ£∞ÊòéÁéØÁªïÈÄöÁü•Â¶ÇÊûú‰∏ç‰ΩøÁî®ÊàêÂëòÂèòÈáèÔºåÈÇ£‰πàÂú®ÂâçÁΩÆÈÄöÁü•ÂíåÂêéÁΩÆÈÄöÁü•‰πãÈó¥ÂÖ±‰∫´‰ø°ÊÅØÊòØÈùûÂ∏∏È∫ªÁÉ¶ÁöÑ„ÄÇÂèØ‰ª•‰ΩøÁî®ÁéØÁªïÈÄöÁü•‰ª£ÊõøÂâçÁΩÆÈÄöÁü•ÂíåÂêéÁΩÆÈÄöÁü•ÔºåÁé∞Âú®Âú®AudienceÁ±ªÈáåÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÊñπÊ≥ïÔºö123456789101112131415 public void watch(ProceedingJoinPoint joinpoint)&#123; try&#123; System.out.println("ËßÇ‰ºóÂÖ•Â∫ß"); System.out.println("ÂÖ≥Èó≠ÊâãÊú∫"); long start=System.currentTimeMillis(); // ÊâßË°åË¢´ÈÄöÁü•ÁöÑÊñπÊ≥ïÔºÅ joinpoint.proceed(); long end=System.currentTimeMillis(); System.out.println("Âï™Âï™Âï™Âï™Âï™"); System.out.println("Ë°®ÊºîËÄóÊó∂Ôºö"+(end-start)+"milliseconds"); &#125;catch(Throwable t)&#123; System.out.println("ÂùëÁàπÔºåÈÄÄÈí±ÔºÅ"); &#125;&#125;ÂØπ‰∫éÊñ∞ÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨‰ΩøÁî®‰∫ÜProceedingJoinPoint‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøô‰∏™ÂØπË±°ÂèØ‰ª•Âú®ÈÄöÁü•ÈáåË∞ÉÁî®Ë¢´ÈÄöÁü•ÁöÑÊñπÊ≥ïÔºÅÔºÅÊàë‰ª¨Ë¶ÅÊääÊéßÂà∂ËΩ¨ÁªôË¢´ÈÄöÁü•ÁöÑÊñπÊ≥ïÊó∂ÔºåÂøÖÈ°ªË∞ÉÁî®ProceedingJoinPointÁöÑproceed()ÊñπÊ≥ï„ÄÇ‰øÆÊîπ&lt;aop:config&gt;ÂÖÉÁ¥†Ôºö123456789&lt;aop:config proxy-target-class="true"&gt; &lt;aop:aspect ref="audience"&gt; &lt;aop:pointcut id="performance" expression="execution(* com.spring.entity.Performer.perform(..))"/&gt; &lt;aop:around pointcut-ref="performance" method="watch"/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt;ÂÆû‰æãÂåñkennyËæìÂá∫Ôºö123456ËßÇ‰ºóÂÖ•Â∫ßÂÖ≥Èó≠ÊâãÊú∫Âî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂï™Âï™Âï™Âï™Âï™Ë°®ÊºîËÄóÊó∂Ôºö20 millisecondsÂÅáÂ¶Ç‰∏çË∞ÉÁî®ProceedingJoinPointÁöÑproceed()ÊñπÊ≥ïÂèëÁé∞ËæìÂá∫‰∏∫Ôºö1234ËßÇ‰ºóÂÖ•Â∫ßÂÖ≥Èó≠ÊâãÊú∫Âï™Âï™Âï™Âï™Âï™Ë°®ÊºîËÄóÊó∂Ôºö0 millisecondsËøôÊ†∑Êàë‰ª¨‰ΩøÁî®AOPÂ∞±Ê≤°Âï•ÊÑè‰πâ‰∫Ü„ÄÇÊàë‰ª¨ÁîöËá≥ÂèØ‰ª•ÈáçÂ§çË∞ÉÁî®ProceedingJoinPointÁöÑproceed()ÊñπÊ≥ïÔºåÈáçÂ§çÊâßË°åperform()ÊñπÊ≥ïÔºåËæìÂá∫Ôºö12345678910ËßÇ‰ºóÂÖ•Â∫ßÂÖ≥Èó≠ÊâãÊú∫Âî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂï™Âï™Âï™Âï™Âï™Ë°®ÊºîËÄóÊó∂Ôºö22 milliseconds‰∏∫ÈÄöÁü•‰º†ÈÄíÂèÇÊï∞ÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑÂèÇËµõËÄÖÔºå‰ªñÊòØ‰∏Ä‰∏™ËØªÂøÉËÄÖÔºåÁî±MindReaderÊé•Âè£ÊâÄÂÆö‰πâÔºö1234public interface MindReader &#123; void interceptThoughts(String thoughts); String getThoughts();&#125;È≠îÊúØÂ∏àMagicianÂÆûÁé∞ËØ•Êé•Âè£Ôºö1234567891011public class Magician implements MindReader&#123; private String thoughts; public void interceptThoughts(String thoughts) &#123; System.out.println("‰æ¶Âê¨ÂøóÊÑøËÄÖÁöÑÂøÉÂ£∞"); this.thoughts=thoughts; &#125; public String getThoughts() &#123; return thoughts; &#125;&#125;ÂÜçÂÆö‰πâ‰∏Ä‰∏™MagicianÊâÄË¶Å‰æ¶Âê¨ÁöÑÂøóÊÑøËÄÖÔºåÈ¶ñÂÖàÂÆö‰πâ‰∏Ä‰∏™ÊÄùËÄÉËÄÖÊé•Âè£Ôºö123public interface Thinker &#123; void thinkOfSomething(String thoughts);&#125;ÂøóÊÑøËÄÖVolunteerÂÆûÁé∞ËØ•Êé•Âè£Ôºö123456789public class Volunteer implements Thinker&#123; private String thoughts; public void thinkOfSomething(String thoughts) &#123; this.thoughts=thoughts; &#125; public String getThoughts()&#123; return thoughts; &#125;&#125;Êé•‰∏ãÊù•‰ΩøÁî®Spring AOP‰º†ÈÄíVolunteerÁöÑthoughtsÂèÇÊï∞Ôºå‰ª•Ê≠§ÂÆûÁé∞MagicianÁöÑ‰æ¶Âê¨„ÄÇ„ÄÇ„ÄÇ:1234567891011&lt;bean id="magician" class="com.spring.entity.Magician"/&gt;&lt;aop:config proxy-target-class="true"&gt; &lt;aop:aspect ref="magician"&gt; &lt;aop:pointcut id="thinking" expression=" execution(* com.spring.entity.Volunteer.thinkOfSomething(String)) and args(thoughts)"/&gt; &lt;aop:before pointcut-ref="thinking" method="interceptThoughts" arg-names="thoughts"/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt;arg-namesÂ±ûÊÄß‰º†ÈÄí‰∫ÜÂèÇÊï∞ÁªôinterceptThoughts()ÊñπÊ≥ï„ÄÇÊµãËØïÔºö12345678910public class TestIntercept &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); Volunteer volunteer = (Volunteer) ac.getBean("volunteer"); volunteer.thinkOfSomething("ÊºîÂá∫ÁúüÁ≤æÂΩ©ÔºÅ"); Magician magician = (Magician) ac.getBean("magician"); System.out.println("ÂøóÊÑøËÄÖÂøÉÈáåÊÉ≥ÁöÑÊòØÔºö"+magician.getThoughts()); &#125;&#125;ËæìÂá∫Ôºö12‰æ¶Âê¨ÂøóÊÑøËÄÖÁöÑÂøÉÂ£∞ÂøóÊÑøËÄÖÂøÉÈáåÊÉ≥ÁöÑÊòØÔºöÊºîÂá∫ÁúüÁ≤æÂΩ©ÔºÅÈÄöËøáÂàáÈù¢ÂºïÂÖ•Êñ∞ÁöÑÊñπÊ≥ïÁé∞Âú®ÂÅáËÆæË¶ÅÁªôPerformerÊ¥æÁîüÁ±ªÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÊñπÊ≥ïÔºå‰º†ÁªüÂÅöÊ≥ïÊòØÊâæÂà∞ÊâÄÊúâÊ¥æÁîüÁ±ªÔºåËÆ©ÂêéÈÄê‰∏™Â¢ûÂä†Êñ∞ÁöÑÊñπÊ≥ïÊàñËÄÖÂÆûÁé∞„ÄÇËøô‰∏ç‰ΩÜÂæàÁ¥ØËÄå‰∏îÂÅáËÆæÁ¨¨‰∏âÊñπÂÆûÁé∞Ê≤°ÊúâÊ∫êÁ†ÅÁöÑËØùÔºåËøô‰∏™ËøáÁ®ã‰ºöÂèòÂæóÂæàÂõ∞Èöæ„ÄÇÂπ∏Â•ΩÔºåÈÄöËøáSpring AOPÂèØ‰ª•‰∏çÂøÖÂÖ•‰æµÊÄßÂú∞ÊîπÂèòÂéüÊúâÂú∞ÂÆûÁé∞„ÄÇÊØîÂ¶ÇÔºåÁé∞Âú®Ë¶ÅÁªôÊâÄÊúâÊºîÂá∫ËÄÖÊ∑ªÂä†‰∏Ä‰∏™receiveAward()ÊñπÊ≥ïÔºöÊñ∞Â¢û‰∏Ä‰∏™Êé•Âè£ContestantÔºö123public interface Contestant &#123; void receiveAward();&#125;Áî±OutstandingContestantÂÆûÁé∞Ôºö12345public class OutstandingContestant implements Contestant&#123; public void receiveAward() &#123; System.out.println("ÂèÇÂä†È¢ÅÂ•ñÂÖ∏Á§º"); &#125;&#125;XMLÔºö12345678&lt;aop:config proxy-target-class="true"&gt; &lt;aop:aspect&gt; &lt;aop:declare-parents types-matching="com.spring.entity.Performer+" implement-interface="com.spring.entity.Constentant" default-impl="com.spring.entity.OutstandingContestant"/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt;ÊàñËÄÖÔºö123456789&lt;bean id="contestantDelegate" class="com.spring.entity.OutstandingContestant"/&gt;&lt;aop:config proxy-target-class="true"&gt; &lt;aop:aspect&gt; &lt;aop:declare-parents types-matching="com.spring.entity.Performer+" implement-interface="com.spring.entity.Contestant" delegate-ref="contestantDelegate"/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt;types-matchingÊåáÂÆöÊâÄË¶ÅÊ∑ªÂä†Êñ∞ÊñπÊ≥ïÁöÑÊ¥æÁîüÁ±ªÂÆûÁé∞ÁöÑÊé•Âè£Ôºåimplement-interfaceÊåáÂÆöË¶ÅÂÆûÁé∞Êñ∞ÁöÑÊé•Âè£Ôºådefault-implÊåáÂÆöËøô‰∏™Êé•Âè£ÁöÑÂÆûÁé∞Á±ª„ÄÇÊµãËØïÔºö12345678910public class Play &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); Instrumentalist kenny=(Instrumentalist)ac.getBean("kenny"); kenny.perform(); Contestant kenny1=(Contestant) ac.getBean("kenny"); kenny1.receiveAward(); &#125;&#125;ËæìÂá∫Ôºö123Âî±ÔºöMay RainÂêπËê®ÂÖãÊñØÂèÇÂä†È¢ÅÂ•ñÂÖ∏Á§º„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AOPÊúØËØ≠]]></title>
    <url>%2FAOP%E6%9C%AF%E8%AF%AD.html</url>
    <content type="text"><![CDATA[Âú®ËΩØ‰ª∂‰∏öÔºåAOP‰∏∫Aspect Oriented ProgrammingÁöÑÁº©ÂÜôÔºåÊÑè‰∏∫ÔºöÈù¢ÂêëÂàáÈù¢ÁºñÁ®ãÔºåÈÄöËøáÈ¢ÑÁºñËØëÊñπÂºèÂíåËøêË°åÊúüÂä®ÊÄÅ‰ª£ÁêÜÂÆûÁé∞Á®ãÂ∫èÂäüËÉΩÁöÑÁªü‰∏ÄÁª¥Êä§ÁöÑ‰∏ÄÁßçÊäÄÊúØ„ÄÇAOPÊòØOOPÁöÑÂª∂Áª≠ÔºåÊòØËΩØ‰ª∂ÂºÄÂèë‰∏≠ÁöÑ‰∏Ä‰∏™ÁÉ≠ÁÇπÔºå‰πüÊòØSpringÊ°ÜÊû∂‰∏≠ÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂÜÖÂÆπÔºåÊòØÂáΩÊï∞ÂºèÁºñÁ®ãÁöÑ‰∏ÄÁßçË°çÁîüËåÉÂûã„ÄÇÂà©Áî®AOPÂèØ‰ª•ÂØπ‰∏öÂä°ÈÄªËæëÁöÑÂêÑ‰∏™ÈÉ®ÂàÜËøõË°åÈöîÁ¶ªÔºå‰ªéËÄå‰ΩøÂæó‰∏öÂä°ÈÄªËæëÂêÑÈÉ®ÂàÜ‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶Èôç‰ΩéÔºåÊèêÈ´òÁ®ãÂ∫èÁöÑÂèØÈáçÁî®ÊÄßÔºåÂêåÊó∂ÊèêÈ´ò‰∫ÜÂºÄÂèëÁöÑÊïàÁéá„ÄÇ‚Äî‚Äî ÁôæÂ∫¶ÁôæÁßëÈÄöÁü•(Advice)Âú®AOP‰∏≠ÔºåÂàáÈù¢ÁöÑÂ∑•‰ΩúË¢´Áß∞‰∏∫ÈÄöÁü•„ÄÇÈÄöÁü•ÂÆö‰πâ‰∫ÜÂàáÈù¢ÊòØ‰ªÄ‰πà‰ª•Âèä‰ΩïÊó∂‰ΩøÁî®„ÄÇSpringÂàáÈù¢ÂèØ‰ª•Â∫îÁî®5‰∏≠Á±ªÂûãÁöÑÈÄöÁü•ÔºöBefore ‚Äî‚Äî Âú®ÊñπÊ≥ïË¢´Ë∞ÉÁî®‰πãÂâçË∞ÉÁî®ÈÄöÁü•„ÄÇAfter ‚Äî‚Äî Âú®ÊñπÊ≥ïÂÆåÊàê‰πãÂêéË∞ÉÁî®ÈÄöÁü•ÔºåÊó†ËÆ∫ÊñπÊ≥ïÊòØÂê¶ÊâßË°åÊàêÂäü„ÄÇAfter-returning ‚Äî‚Äî Âú®ÊñπÊ≥ïÊàêÂäüÊâßË°å‰πãÂêéË∞ÉÁî®ÈÄöÁü•„ÄÇAfter-throwing ‚Äî‚Äî Âú®ÊñπÊ≥ïÊäõÂá∫ÂºÇÂ∏∏‰ª•ÂêéË∞ÉÁî®ÈÄöÁü•„ÄÇAround ‚Äî‚Äî ÈÄöÁü•ÂåÖË£π‰∫ÜË¢´ÈÄöÁü•ÁöÑÊñπÊ≥ïÔºåÂú®Ë¢´ÈÄöÁü•ÁöÑÊñπÊ≥ïË∞ÉÁî®‰πãÂâçÂíåË∞ÉÁî®‰πãÂêéÊâßË°åËá™ÂÆö‰πâÁöÑË°å‰∏∫„ÄÇËøûÊé•ÁÇπ(Joinpoint)ËøûÊé•ÁÇπÊòØÂú®Â∫îÁî®ÊâßË°åËøáÁ®ã‰∏≠ËÉΩÂ§üÊèíÂÖ•ÂàáÈù¢ÁöÑ‰∏Ä‰∏™ÁÇπ„ÄÇËøô‰∏™ÁÇπÂèØ‰ª•ÊòØË∞ÉÁî®ÊñπÊ≥ïÊó∂ÔºåÊäõÂá∫ÂºÇÂ∏∏Êó∂ÔºåÁîöËá≥ÊòØ‰øÆÊîπ‰∏Ä‰∏™Â≠óÊÆµÊó∂„ÄÇÂàáÈù¢‰ª£Á†ÅÂèØ‰ª•Âà©Áî®Ëøô‰∫õÁÇπÊèíÂÖ•Âà∞Â∫îÁî®ÁöÑÊ≠£Â∏∏ÊµÅÁ®ã‰πã‰∏≠ÔºåÂπ∂Ê∑ªÂä†Êñ∞ÁöÑË°å‰∏∫„ÄÇÂàáÁÇπ(Pointcut)ÂàáÁÇπÁöÑÂÆö‰πâ‰ºöÂåπÈÖçÈÄöÁü•ÊâÄË¶ÅÁªáÂÖ•ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËøûÊé•ÁÇπ„ÄÇÊàë‰ª¨ÈÄöÂ∏∏‰ΩøÁî®ÊòéÁ°ÆÁöÑÁ±ªÂíåÊñπÊ≥ïÂêçÁß∞Êù•ÊåáÂÆöËøô‰∫õÂàáÁÇπÔºåÊàñÊòØÂà©Áî®Ê≠£ÂàôË°®ËææÂºèÂÆö‰πâÂåπÈÖçÁöÑÁ±ªÂíåÊñπÊ≥ïÂêçÁß∞Ê®°ÂºèÊù•ÊåáÂÆöËøô‰∫õÂàáÁÇπ„ÄÇÂàáÈù¢(Aspect)ÂàáÈù¢ÊòØÈÄöÁü•ÂíåÂàáÁÇπÁöÑÁªìÂêà„ÄÇÈÄöÁü•ÂíåÂàáÁÇπÂÖ±ÂêåÂÆö‰πâ‰∫ÜÂÖ≥‰∫éÂàáÈù¢ÁöÑÂÖ®ÈÉ®ÂÜÖÂÆπ ‚Äî‚Äî ÂÆÉÊòØ‰ªÄ‰πàÔºåÂú®‰ΩïÊó∂Âíå‰ΩïÂ§ÑÂÆåÊàêÂÖ∂ÂäüËÉΩ„ÄÇÂºïÂÖ•(Introduction)ÂºïÂÖ•ÂÖÅËÆ∏Êàë‰ª¨ÂêëÁé∞ÊúâÁöÑÁ±ªÊ∑ªÂä†Êñ∞ÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄß„ÄÇÁªáÂÖ•(Weaving)ÁªáÂÖ•ÊòØÂ∞ÜÂàáÈù¢Â∫îÁî®Âà∞ÁõÆÊ†áÂØπË±°Êù•ÂàõÂª∫Êñ∞ÁöÑ‰ª£ÁêÜÂØπË±°ÁöÑËøáÁ®ã„ÄÇÂàáÈù¢Âú®ÊåáÂÆöÁöÑËøûÊé•ÁÇπË¢´ÁªáÂÖ•Âà∞ÁõÆÊ†áÂØπË±°‰∏≠„ÄÇÂú®ÁõÆÊ†áÂØπË±°ÁöÑÁîüÂëΩÂë®ÊúüÈáåÊúâÂ§ö‰∏™ÁÇπÂèØ‰ª•ËøõË°åÁªáÂÖ•ÔºöÁºñËØëÂô® ‚Äî‚Äî ÂàáÈù¢Âú®ÁõÆÊ†áÁ±ªÁºñËØëÊó∂Ë¢´ÁªáÂÖ•„ÄÇÁ±ªÂä†ËΩΩÊúü ‚Äî‚Äî ÂàáÈù¢Âú®ÁõÆÊ†áÁ±ªÂä†ËΩΩÂà∞JVMÊó∂Ë¢´ÁªáÂÖ•„ÄÇËøêË°åÊúü ‚Äî‚Äî ÂàáÈù¢Âú®Â∫îÁî®ËøêË°åÁöÑÊüê‰∏™Êó∂ÂÄôË¢´ÁªáÂÖ•„ÄÇSpring AOPÂ∞±ÊòØ‰ª•ËøôÁßçÊñπÂºèÁªáÂÖ•ÂàáÈù¢ÁöÑ„ÄÇ]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Ëá™Âä®Ê£ÄÊµãBean]]></title>
    <url>%2FSpring-%E8%87%AA%E5%8A%A8%E6%A3%80%E6%B5%8BBean.html</url>
    <content type="text"><![CDATA[ÂºÄÂêØËá™Âä®Ê£ÄÊµãÂºÄÂêØËá™Âä®Ê£ÄÊµãBeanÊúâ‰∏§ÁßçÊñπÂºèÔºöXMLÈÖçÁΩÆ&lt;context:annotation-config&gt;ËôΩÁÑ∂Ê∂àÈô§‰∫Ü&lt;property&gt;Âíå&lt;constructor-arg&gt;ÂÖÉÁ¥†Ôºå‰ΩÜÊàë‰ª¨‰ªçÈúÄ‰ΩøÁî®&lt;bean&gt;ÂÖÉÁ¥†ÊòæÁ§∫ÂÆö‰πâBean„ÄÇ&lt;context:component-scan&gt;Èô§‰∫ÜÂÆåÊàê‰∏é&lt;context:annotation-config&gt;‰∏ÄÊ†∑ÁöÑÂ∑•‰ΩúËøòÂèØ‰ª•Ëá™Âä®Ê£ÄÊµãBeanÂíåÂÆö‰πâBean„ÄÇÂú®Spring XML‰∏≠ÈÖçÁΩÆÔºö12&lt;context:component-scan base-package="com.spring.entity"&gt;&lt;/context:component-scan&gt;base-packageÊåáÂÆö‰∫ÜÊâ´ÊèèÁöÑË∑ØÂæÑ„ÄÇJavaÈÖçÁΩÆ1234567import org.springframework.context.annotation.ComponentScan;import org.springframework.context.annotation.Configuration; @Configuration@ComponentScanpublic class InstrumentConfig&#123;&#125;@ComponentScan‰ºöÊâ´Êèè‰∏éËØ•Á±ªÁõ∏ÂêåÂåÖ‰∏ãÁöÑÊâÄÊúâÂ∏¶Êúâ@ComponentÊ≥®Ëß£ÁöÑÁ±ª„ÄÇÂ¶ÇÊûúÊÉ≥ÊòéÁ°ÆÊåáÂá∫Êâ´ÊèèË∑ØÂæÑÔºåÂèØ‰ª•ÈÖçÁΩÆvalueÔºö1@ComponentScan(basePackages="com.spring")‰πüÂèØ‰ª•ÈÖçÁΩÆÂ§ö‰∏™Êâ´ÊèèË∑ØÂæÑÔºö1@ComponentScan(basePackages=&#123;"com.spring.entity","com.spring.dao"&#125;)Èô§‰∫ÜÊåáÂÆöÊâ´ÊèèË∑ØÂæÑÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÊåáÂÆöÊâ´ÊèèÁöÑÁ±ªÂûãÔºö1@ComponentScan(basePackageClasses=&#123;Piano.class,Guitar.class&#125;)‰∏∫Ëá™Âä®Ê£ÄÊµãÊ†áÊ≥®BeanÊ≥®Ëß£Á±ªÂûãÔºö@Component ‚Äî‚Äî ÈÄöÁî®ÁöÑÊûÑÈÄ†ÂûãÊ≥®Ëß£ÔºåÊ†áËØÜËØ•Á±ª‰∏∫SpringÁªÑ‰ª∂„ÄÇ@Controller ‚Äî‚Äî Ê†áËØÜÂ∞ÜËØ•Á±ªÂÆö‰πâ‰∏∫Spring MVC ControllerÁªÑ‰ª∂„ÄÇ@Repository ‚Äî‚Äî Ê†áËØÜÂ∞ÜËØ•Á±ªÂÆö‰πâ‰∏∫Êï∞ÊçÆ‰ªìÂ∫ì„ÄÇ@Service ‚Äî‚Äî Ê†áËØÜÂ∞ÜËØ•Á±ªÂÆö‰πâ‰∏∫ÊúçÂä°„ÄÇÈÄöËøáÊ†áÊ≥®Ëøô‰∫õÊ≥®Ëß£ÔºåSpringÊâçÁü•ÈÅìÂì™‰∫õÁ±ªË¶ÅË¢´Ê≥®ÂÜå‰∏∫Spring Bean„ÄÇÂ¶ÇÔºå‰ΩøÁî®@ComponentÊ†áÊ≥®GuitarÁ±ªÔºö123456@Componentpublic class Guitar implements Instrument&#123; public void play() &#123; System.out.println("ÂºπÂ•èÂêâ‰ªñ"); &#125; &#125;SpringÊâ´Êèècom.spring.entityÂåÖÊó∂Ôºå‰ºöÂèëÁé∞‰ΩøÁî®@ComponentÊ≥®Ëß£ÊâÄÊ†áÊ≥®ÁöÑGuitarÔºåÂπ∂Ëá™Âä®Â∞ÜÂÖ∂Ê≥®ÂÜå‰∏∫Spring Bean„ÄÇBeanÁöÑIDÈªòËÆ§‰∏∫Êó†ÈôêÂÆöÈ¶ñÂ≠óÊØçÂ∞èÂÜôÁ±ªÂêçÔºå‰πüÂ∞±ÊòØguitar„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•ÊòæÂºèËÆæÂÆöIDÔºö1234567891011121314151617181920212223242526272829@Component("kenny")public class Instrumentalist implements Performer&#123; @Value("May Rain") private String song; @Autowired @Qualifier("guitar") private Instrument instrument; public Instrumentalist() &#123; &#125; public void perform() &#123; System.out.println("Âî±Ôºö"+song+""); instrument.play(); &#125; //Ê≥®ÂÖ•Ê≠åÊõ≤ public String getSong() &#123; return song; &#125; public void setSong(String song) &#123; this.song = song; &#125; public Instrument getInstrument() &#123; return instrument; &#125; //Ê≥®ÂÖ•‰πêÂô® public void setInstrument(Instrument instrument) &#123; this.instrument = instrument; &#125;&#125;‰πüÂèØ‰ª•‰ΩøÁî®@Named(&quot;kenny&quot;)‰ª£Êõø@Component(&quot;kenny&quot;)Ôºå‰ΩÜ‰∏ÄËà¨Êàë‰ª¨ËøòÊòØ‰ΩøÁî®@Component(&quot;kenny&quot;)ÊØîËæÉÁõ¥ËßÇ„ÄÇÁÑ∂ÂêéÂÆû‰æãÂåñkenny BeanÔºö12345678public class Play &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext("applicationContext.xml"); Instrumentalist kenny=(Instrumentalist)ac.getBean("kenny"); kenny.perform(); &#125;&#125;ËæìÂá∫Ôºö12Âî±ÔºöMay RainÂºπÂ•èÂêâ‰ªñÁé∞Âú®Âú®XML‰∏≠Ê≤°Êúâ‰ªª‰Ωï&lt;bean&gt;ÂÖÉÁ¥†Ôºå‰πüÂÆûÁé∞‰∫ÜÂíåÂÖàÂâç‰∏ÄÊ†∑ÁöÑÊïàÊûú„ÄÇÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåÈÅáÂà∞‰∫Ü‰∏§‰∏™ÈóÆÈ¢òÔºö12345678Exception in thread "main" org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [F:\workspaces\Spring\Spring2\build\classes\com\spring\entity\Guitar.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [F:\workspaces\Spring\Spring2\build\classes\com\spring\entity\Guitar.class]; nested exception is java.lang.IllegalArgumentExceptionÈÄöËøáÊü•ÈòÖËµÑÊñôÔºåÂèëÁé∞Êúâ‰ΩçËÄÅÂ§ñÁªôÂá∫‰∫ÜËß£ÈáäÔºöNote that the Java 8 bytecode level (-target 1.8, as required by -source 1.8) is only fully supported as of Spring Framework 4.0. In particular, Spring 3.2 based applications need to be compiled with a maximum of Java 7 as the target, even if they happen to be deployed onto a Java 8 runtime. Please upgrade to Spring 4 for Java 8 based applications.‰∫éÊòØÂ∞ÜjdkÊîπ‰∏∫1.7ÁâàÊú¨„ÄÇ‰øÆÊîπÂêéÂèàÈÅáÂà∞ÂºÇÂ∏∏Ôºö12Exception in thread "main" java.lang.UnsupportedClassVersionError: ...ÂéüÊù•ÊòØjdkÁâàÊú¨ÂíåjvmÁâàÊú¨‰∏ç‰∏ÄËá¥ÊâÄËá¥„ÄÇÂè≥ÈîÆÈ°πÁõÆ‚Äì&gt;properties‚Äì&gt;java compiler ‚Äì&gt; Enable project specific settings ‚Äì&gt;Â∞Ücompiler compliance levelËÆæÁΩÆ‰∏∫1.7ÔºåËá≥Ê≠§ÈóÆÈ¢òÈÉΩËß£ÂÜ≥‰∫Ü„ÄÇËøáÊª§ÁªÑ‰ª∂Êâ´Êèè&lt;context:component-scan&gt;ÈªòËÆ§Êâ´ÊèèÊåáÂÆöË∑ØÂæÑ‰∏ãÈÄöËøá@ComponentÊ†áÊ≥®ÁöÑBean„ÄÇÂÅáÂ¶ÇÁé∞Âú®Êàë‰ª¨Âè™Ë¶ÅÊääInstrumentÊâÄÊ¥æÁîüÁöÑÁ±ªÊ≥®ÂÜå‰∏∫Spring BeanÔºåÊàë‰ª¨‰∏çÂæó‰∏çÂéªÊü•ÁúãÊâÄÊúâjava‰ª£Á†ÅÔºå‰∏Ä‰∏™‰∏Ä‰∏™ÁöÑÁªôInstrumentÊ¥æÁîüÁ±ªÊ∑ªÂä†@ComponentÊ≥®Ëß£ÔºåÂÅáÂ¶ÇÊúâÁ¨¨‰∏âÊñπÂÆûÁé∞‰∫ÜInstrumentÔºåÂÖ∂Ê∫êÁ†ÅÊàë‰ª¨ËøòÁúã‰∏çÂà∞ÔºåËøôÊó∂ÂÄôÊ∑ªÂä†@ComponentÊ≥®Ëß£Â∞±ÂèòÂæóÈùûÂ∏∏Âõ∞ÈöæÁîöËá≥‰∏çÂèØËÉΩ„ÄÇÂπ∏Â•ΩÔºåÊàë‰ª¨ËøòÂèØ‰ª•Áªô&lt;context:component-scan&gt;ÂÖÉÁ¥†Ê∑ªÂä†ËøáÊª§Ë°å‰∏∫ÔºöÈÄöËøá‰∏∫ÂÖ∂ÈÖçÁΩÆ&lt;context:include-filter&gt;Âíå&lt;context:exclude-filter&gt;Â≠êÂÖÉÁ¥†„ÄÇÊØîÂ¶ÇÔºö123456&lt;context:component-scan base-package="com.spring.entity"&gt; &lt;context:include-filter type="assignable" expression="com.spring.entity.Instrument"/&gt; &lt;context:exclude-filter type="annotation" expression="com.spring.entity.SkipIt"/&gt;&lt;/context:component-scan&gt;ÂÖ∂‰∏≠ÔºåËøáÊª§Âô®Á±ªÂûãÊúâ5ÁßçÔºöËøáÊª§Âô®Á±ªÂûãÊèèËø∞annotationËøáÊª§Âô®Êâ´Êèè‰ΩøÁî®ÊåáÂÆöÊ≥®Ëß£ÊâÄÊ†áÊ≥®ÁöÑÈÇ£‰∫õÁ±ªÔºåÈÄöËøáexpressionÂ±ûÊÄßÊåáÂÆöË¶ÅÊâ´ÊèèÁöÑÊ≥®Ëß£assignableËøáÊª§Âô®Êâ´ÊèèÊ¥æÁîü‰∫éexpressionÂ±ûÊÄßÊâÄÊåáÂÆöÁ±ªÂûãÁöÑÈÇ£‰∫õÁ±ªaspectjËøáÊª§Âô®Êâ´Êèè‰∏éexpressionÂ±ûÊÄßÊâÄÊåáÂÆöÁöÑAspectJË°®ËææÂºèÊâÄÂåπÈÖçÁöÑÈÇ£‰∫õÁ±ªcustom‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑorg.springframework.core.type.TypeFilterÂÆûÁé∞Á±ªÔºåËØ•Á±ªÁî±expression Â±ûÊÄßÊåáÂÆöregexËøáÊª§Âô®Êâ´ÊèèÁ±ªÁöÑÂêçÁß∞‰∏éexpressionÂ±ûÊÄßÊâÄÊåáÂÆöÁöÑÊ≠£ÂàôË°®ËææÂºèÊâÄÂåπÈÖçÁöÑÁ±ªcom.spring.entity.SkipItËá™ÂÆö‰πâÈôêÂÆöÂô®Ôºö123456@Target(&#123;ElementType.FIELD,ElementType.PARAMETER,ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Qualifierpublic @interface SkipIt &#123; &#125;com.spring.entityÁõÆÂΩï‰∏ãÊúâ‰∏â‰∏™Á±ªÊ¥æÁîü‰∫éInstrumentÔºöPianoÔºåSaxophoneÔºåGuitar„ÄÇÁé∞Âú®Áî®@SkipItÊ†áÊ≥®PianoÂíåGuitarÁ±ªÔºö123456@SkipItpublic class Piano implements Instrument&#123; public void play() &#123; System.out.println("Èí¢Áê¥Â£∞ÂìçËµ∑"); &#125;&#125;123456@SkipItpublic class Guitar implements Instrument&#123; public void play() &#123; System.out.println("ÂºπÂ•èÂêâ‰ªñ"); &#125; &#125;Saxophone‰∏çÂÅö‰ªª‰ΩïÊ†áÊ≥®Ôºö12345public class Saxophone implements Instrument&#123; public void play() &#123; System.out.println("ÂêπËê®ÂÖãÊñØ"); &#125;&#125;ÂÆû‰æãÂåñkennyÔºåËæìÂá∫Ôºö12Âî±ÔºöMay RainÂêπËê®ÂÖãÊñØÈùûÂ∏∏Êñπ‰æøÔºÅ„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Ëá™Âä®Ë£ÖÈÖçBean]]></title>
    <url>%2FSpring-%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8DBean.html</url>
    <content type="text"><![CDATA[‰∏∫‰∫ÜÁÆÄÂåñXMLÈÖçÁΩÆÔºåSpringÊèê‰æõ‰∫ÜËá™Âä®Ë£ÖÈÖçÔºàautowiringÔºâ„ÄÇÂõõÁßçÁ±ªÂûãËá™Âä®Ë£ÖÈÖçbyNameËá™Âä®Ë£ÖÈÖçbyNameËá™Âä®Ë£ÖÈÖçÈÅµÂæ™Á∫¶ÂÆöÔºö‰∏∫Â±ûÊÄßËá™Âä®Ë£ÖÈÖçID‰∏éËØ•Â±ûÊÄßÁöÑÂêçÂ≠óÁõ∏ÂêåÁöÑBean„ÄÇ‰æãÂ¶ÇÔºåÂ∞ÜÂÖàÂâçÁöÑkenny‰æãÂ≠êÔºö1234&lt;bean id="kenny" class="com.spring.entity.Instrumentalist"&gt; &lt;property name="instrument" ref="saxophone"&gt;&lt;/property&gt; &lt;property name="song" value="May Rain"/&gt;&lt;/bean&gt;Êîπ‰∏∫Ôºö123&lt;bean id="kenny" class="com.spring.entity.Instrumentalist" autowire="byName"&gt; &lt;property name="song" value="May Rain"/&gt;&lt;/bean&gt;ÈÄöËøáautowireÂ±ûÊÄßÔºåSpringÂ∞±ÂèØ‰ª•Âà©Áî®Ê≠§‰ø°ÊÅØËá™Âä®Ë£ÖÈÖçkennyÁöÑÂâ©‰∏ãÁöÑinstrumentÂ±ûÊÄß‰∫Ü„ÄÇÈÖçÁΩÆ‰∏Ä‰∏™id‰∏∫‚Äùinstrument‚ÄùÁöÑBeanÔºö1&lt;bean id="instrument" class="com.spring.entity.Saxophone"/&gt;ËøôÊ†∑ÔºåsaxophoneÂ∞±Ëá™Âä®Ë£ÖÈÖçÁªôkennyÁöÑinstrumentÂ±ûÊÄß‰∫Ü„ÄÇÂΩìÊâæ‰∏çÂà∞Êó∂ÔºåÂàôËØ•Â±ûÊÄß‰∏çËøõË°åË£ÖÈÖç„ÄÇÂ¶ÇÊûúÂ§ö‰∏™Instrumentalist BeanÈÉΩË¢´ÈÖçÁΩÆ‰∏∫byNameËá™Âä®Ë£ÖÈÖçÔºåÈÇ£‰ªñ‰ª¨Â∞Ü‰ºöÊºîÂ•èÂêå‰∏Ä‰∏™‰πêÂô®„ÄÇbyTypeËá™Âä®Ë£ÖÈÖçbyTypeËá™Âä®Ë£ÖÈÖçÈÄöËøáÂØªÊâæÂì™‰∏Ä‰∏™BeanÁöÑÁ±ªÂûã‰∏éÂ±ûÊÄßÁöÑÁ±ªÂûãÁõ∏ÂåπÈÖç„ÄÇÂ¶ÇÊûúÊâæÂà∞Â§ö‰∏™‰∏éÈúÄË¶ÅË£ÖÈÖçÁöÑÂ±ûÊÄßÁ±ªÂûãÁõ∏ÂåπÈÖçÁöÑBeanÔºåSpring‰ºöÁõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏„ÄÇÊâÄ‰ª•ÔºåÂ∫îÁî®Âè™ÂÖÅËÆ∏Â≠òÂú®‰∏Ä‰∏™Á±ªÂûãÁõ∏ÂåπÈÖçÁöÑBean„ÄÇ‰ΩÜÂú®ÂÆûÈôÖ‰∏≠ÔºåXML‰∏≠ÂèØËÉΩÂ≠òÂú®Â§ö‰∏™Á±ªÂûã‰∏ÄÊ†∑ÁöÑBeanÔºå‰∏∫‰∫ÜËß£ÂÜ≥ËøôÁßçÊÉÖÂÜµÔºåSpringÊèê‰æõ‰∫Ü‰∏§ÁßçËß£ÂÜ≥ÊñπÊ≥ïÔºö‚ë† ‰∏∫Ëá™Âä®Ë£ÖÈÖçÊ†áËØÜ‰∏Ä‰∏™È¶ñÈÄâBean‰ΩøÁî®&lt;bean&gt;ÂÖÉÁ¥†ÁöÑprimaryÂ±ûÊÄß„ÄÇÂ¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™Ëá™Âä®Ë£ÖÈÖçÁöÑÂÄôÈÄâBeanÁöÑprimaryÂ±ûÊÄßËÆæÁΩÆ‰∏∫trueÔºåÈÇ£‰πàÂÖ∂Â∞ÜË¢´‰ºòÂÖàÈÄâÊã©„ÄÇÊØîÂ¶ÇËÆæÁΩÆsaxophone‰∏∫È¶ñÈÄâBeanÔºö1&lt;bean id="saxophone" class="com.spring.entity.Saxophone" primary="true"/&gt;‰πüÂèØ‰ª•‰ΩøÁî®@PrimaryÊ≥®Ëß£„ÄÇ ‚ë° ÂèñÊ∂àÊüê‰∏™BeanËá™Âä®Ë£ÖÈÖçÁöÑÂÄôÈÄâËµÑÊ†º‰ΩøÁî®ÊñπÊ≥ï‰∏∫ËÆæÁΩÆBeanÁöÑautowire-candidateÂ±ûÊÄß‰∏∫falseÂç≥ÂèØÔºö1&lt;bean id="saxophone" class="com.spring.entity.Saxophone" autowire-candidate="false"/&gt;constructorËá™Âä®Ë£ÖÈÖçÂ¶ÇÊûúÈÄöËøáÊûÑÈÄ†Âô®Ê≥®ÂÖ•ÈÖçÁΩÆBeanÔºåÈÇ£‰πàÂèØ‰ª•ÁßªÈô§&lt;constructor-arg&gt;ÂÖÉÁ¥†„ÄÇÂ¶ÇÂ∞ÜÂÖàÂâçÁöÑdukeÈÖçÁΩÆÔºö1&lt;bean id="duke" class="com.spring.entity.Juggler" autowire="constructor"/&gt;ÈÄöËøáautowire=&quot;constructor&quot;Â£∞ÊòéÔºåSpring‰ºöÂéªËé∑ÂèñJugglerÊüê‰∏™ÊûÑÈÄ†Âô®ÁöÑÊâÄÊúâÂèÇÊï∞Á±ªÂûãÔºåÁÑ∂ÂêéÂÜçXML‰∏≠ÂØªÊâæ‰∏éÂÖ∂Á±ªÂûãÂåπÈÖçÁöÑBean„ÄÇsoÔºåconstructorËá™Âä®Ë£ÖÈÖç‰∏ébyTypeËá™Âä®Ë£ÖÈÖçÂÖ∑ÊúâÁõ∏ÂêåÁöÑÂ±ÄÈôêÊÄß„ÄÇautodetectËá™Âä®Ë£ÖÈÖçdetect Ëã±[d…™Ààtekt] Áæé[d…™Ààt…õkt] vt. Êü•ÊòéÔºåÂèëÁé∞; Ê¥ûÂØü; ‰æ¶ÂØüÔºå‰æ¶Êü•; [ÁîµÂ≠êÂ≠¶] Ê£ÄÊ≥¢1&lt;bean id="duke" class="com.spring.entity.Juggler" autowire="autodetect"/&gt;ÈÄöËøáËØ•Â£∞ÊòéÔºåSpringÈ¶ñÊ¨°Â∞ùËØï‰ΩøÁî®constructorËá™Âä®Ë£ÖÈÖçÔºåÂ§±Ë¥•ÁöÑËØùÂÜçÊ¨°Â∞ùËØï‰ΩøÁî®byTypeËá™Âä®Ë£ÖÈÖç„ÄÇÈªòËÆ§Ëá™Âä®Ë£ÖÈÖçÈÄöËøáÈÖçÁΩÆ&lt;beans&gt;ÂÖÉÁ¥†‰∏äÂ¢ûÂä†‰∏Ä‰∏™default-autowireÂ±ûÊÄßÔºö123456789101112131415161718192021222324252627&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:util="http://www.springframework.org/schema/util" xmlns:jee="http://www.springframework.org/schema/jee" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jpa="http://www.springframework.org/schema/data/jpa" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.3.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd" default-autowire="byType"&gt; &lt;!--Bean declarations go here --&gt;&lt;/beans&gt;ËøôÊ†∑ÁöÑËØùÔºåSpringÈÖçÁΩÆÊñá‰ª∂ÈáåÁöÑÊâÄÊúâBeanÈÉΩÂ∞Ü‰ΩøÁî®byTypeËá™Âä®Ë£ÖÈÖçÔºåÈô§ÈùûBeanËá™Â∑±ÈÖçÁΩÆ‰∫ÜautowireÂ±ûÊÄß„ÄÇÊ∑∑ÂêàË£ÖÈÖç‰∏Ä‰∏™BeanÂèØ‰ª•ÂêåÊó∂‰ΩøÁî®Ëá™Âä®Ë£ÖÈÖçÂíåÊòæÁ§∫Ë£ÖÈÖçÔºåÂ¶ÇÔºö12345&lt;bean id="kenny" class="com.spring.entity.Instrumentalist" autowire="byType"&gt; &lt;property name="song" value="May Rain"/&gt; &lt;property name="instrument" ref="saxophone"&gt;&lt;/property&gt;&lt;/bean&gt;Ê∑∑Âêà‰ΩøÁî®ÂèØ‰ª•ÈÅøÂÖçÂΩìËá™Âä®Ë£ÖÈÖçÂ§±Ë¥•ÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®ÊòæÁ§∫Ë£ÖÈÖçË¶ÜÁõñËá™Âä®Ë£ÖÈÖç„ÄÇ‰ΩøÁî®constructorËá™Âä®Ë£ÖÈÖçÊó∂Ôºå‰∏çËÉΩÊ∑∑Âêà‰ΩøÁî®constructorËá™Âä®Ë£ÖÈÖçÁ≠ñÁï•ÂíåÂÖÉÁ¥†„ÄÇ‰ΩøÁî®Ê≥®Ëß£Ë£ÖÈÖç1&lt;context:annotation-config/&gt;annotation Ëã±[Àå√¶n…ô‚Äôte…™ Én] Áæé[Àå√¶n…ô‚Äôte…™ Én] n. Ê≥®Èáä;&lt;context:annotation-config/&gt;ÂèØ‰ª•Ê∂àÈô§Spring‰∏≠ÁöÑ&lt;property&gt;Âíå&lt;constructor-arg&gt;ÂÖÉÁ¥†„ÄÇÊ≥®ÊÑèÔºåÊàë‰ª¨ËøòÊòØÂæó‰ΩøÁî®&lt;bean&gt;ÂÖÉÁ¥†ÊòæÁ§∫ÂÆö‰πâBean„ÄÇ@Autowired‰æãÂ¶ÇÔºåÂú®InstrumentalistÁöÑsetInstrument()ÊñπÊ≥ïËøõË°åÊ†áÊ≥®Ôºö12345//Ê≥®ÂÖ•‰πêÂô®@Autowiredpublic void setInstrument(Instrument instrument) &#123; this.instrument = instrument;&#125;ËøôÊ†∑ÔºåÊàë‰ª¨ÂèØ‰ª•ÁßªÈô§Áî®Êù•ÂÆö‰πâInstrumentalistÁöÑinstrumentÂ±ûÊÄßÊâÄÂØπÂ∫îÁöÑ&lt;property&gt;ÂÖÉÁ¥†‰∫Ü„ÄÇÈÄöËøá@AutowiredÊ≥®Ëß£ÔºåSpring‰ºöÈÄöËøábyTypeËá™Âä®Ë£ÖÈÖç„ÄÇÂÅáÂ¶Ç@AutowiredÊ≥®Ëß£Ê†áÊ≥®‰∫éÂ±ûÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•Âà†Èô§setterÊñπÊ≥ïÔºö12@Autowiredprivate Instrument instrument;@Autowired‰πüÂèØ‰ª•Ê†áÊ≥®‰∫éÊûÑÈÄ†Âô®ÔºåËøôÊ†∑XMLÊñá‰ª∂‰∏≠ÂèØ‰ª•ÁúÅÂéª&lt;constructor-arg&gt;ÂÖÉÁ¥†ÈÖçÁΩÆBeanÔºö1234@Autowiredpublic Instrumentalist(Instrument instrument) &#123; this.instrument=instrument;&#125;ÂΩìÂ§ö‰∏™ÊûÑÈÄ†Âô®ÈÉΩÈÄöËøá@AutowiredÊ≥®Ëß£ÁöÑÊó∂ÂÄôÔºåSpringÂ∞±‰ºö‰ªéÊâÄÊúâÊª°Ë∂≥Ë£ÖÈÖçÊù°‰ª∂ÁöÑÊûÑÈÄ†Âô®‰∏≠ÈÄâÊã©Âá∫ÂèÇÊï∞ÊúÄÂ§öÁöÑÈÇ£‰∏™„ÄÇÂèØÈÄâÁöÑËá™Âä®Ë£ÖÈÖçÔºöÈÄöËøá@AutowiredÊ†áÊ≥®ÁöÑÂ±ûÊÄßÊàñËÄÖÂèÇÊï∞ÂøÖÈ°ªÊòØÂèØË£ÖÈÖçÁöÑ„ÄÇÂÅáÂ¶ÇÂåπÈÖçÂ§±Ë¥•ÔºåÂàôÊäõÂá∫NoSuchBeanDefinitionExceptionÂºÇÂ∏∏„ÄÇÂÅáÂ¶ÇÂ±ûÊÄß‰∏ç‰∏ÄÂÆöË¶ÅË£ÖÈÖçÔºånullÂÄº‰πüÂèØ‰ª•Êé•Êî∂ÁöÑËØùÔºåÊàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆrequired=fasleÊù•ËÆ©Ëá™Âä®Ë£ÖÈÖçÂèò‰∏∫ÂèØÈÄâÔºö12@Autowired(required=false)private Instrument instrument;ÂΩì‰ΩøÁî®ÊûÑÈÄ†Âô®Ë£ÖÈÖçÊó∂ÔºåÂè™Êúâ‰∏Ä‰∏™ÊûÑÈÄ†Âô®ÂèØ‰ª•Â∞Ü@AutowiredÁöÑrequiredÂ±ûÊÄßËÆæÁΩÆ‰∏∫trueÔºåÂÖ∂‰ΩôÁöÑÂè™ËÉΩËÆæÁΩÆ‰∏∫false„ÄÇÈôêÂÆöÊ≠ß‰πâÊÄß‰æùËµñÔºöÂ¶ÇÊûúÈÄöËøá@AutowiredÊ≥®Ëß£ÂåπÈÖçÂà∞Â•ΩÂá†‰∏™BeanÔºå‰∏∫‰∫ÜÈâ¥Âà´Âì™‰∏Ä‰∏™ÊòØÊàë‰ª¨ÈúÄË¶ÅÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Âú®@AutowiredÊ≥®Ëß£‰∏ãÊ∑ªÂä†@QualifierÊ≥®Ëß£Ôºöqualifier Ëã±[Ààkw…íl…™fa…™…ô(r)] Áæé[Ààkw…ë:l…™fa…™…ô(r)] n. ÂêàÊ†ºËÄÖÔºåÂ∑≤ÂèñÂæóËµÑÊ†ºÁöÑ‰∫∫; [ËØ≠] ‰øÆÈ•∞ËØ≠; È¢ÑÈÄâËµõÔºåËµÑÊ†ºËµõ123@Autowired@Qualifier("guitar")private Instrument instrument;Â¶Ç‰∏äÊâÄÁ§∫Ôºå@QualifierÊ≥®Ëß£Â∞ÜÂ∞ùËØïÊ≥®ÂÖ•ID‰∏∫‚Äùguitar‚ÄùÁöÑBean„ÄÇÈô§‰∫ÜÈÄöËøáBeanÁöÑIDÊù•ÂåπÈÖçÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰øÆÊîπguitar BeanÈÖçÁΩÆÔºö123&lt;bean class="com.spring.entity.Guitar"&gt; &lt;qualifier value="Stringed"/&gt;&lt;/bean&gt;&lt;qualifier&gt;ÂÖÉÁ¥†ÈôêÂÆö‰∫Üguitar BeanÊòØ‰∏Ä‰∏™Âº¶‰πêÂô®(stringed)„ÄÇËøôÊó∂ÂÄôÂèØ‰ª•Â∞Ü‰∏äÈù¢ÁöÑÊ≥®Ëß£‰øÆÊîπ‰∏∫Ôºö123@Autowired@Qualifier("Stringed")private Instrument instrument;ÂàõÂª∫Ëá™ÂÆö‰πâÁöÑÈôêÂÆöÂô®ÔºöÈ¶ñÂÖàÔºåÈÄöËøáÂ¶Ç‰∏ã‰ª£Á†ÅÂàõÂª∫Ëá™ÂÆö‰πâÁöÑÈôêÂÆöÂô®Ôºö123456789101112import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;import org.springframework.beans.factory.annotation.Qualifier; @Target(&#123;ElementType.FIELD,ElementType.PARAMETER,ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Qualifierpublic @interface StringedInstrument &#123; &#125;ËøôÊ†∑ÔºåÊàë‰ª¨Âú®guitarÁ±ª‰∏äÊ∑ªÂä†Ê≠§ÈôêÂÆöÂô®Ôºö123456@StringedInstrumentpublic class Guitar implements Instrument&#123; public void play() &#123; System.out.println("ÂºπÂ•èÂêâ‰ªñ"); &#125; &#125;Âú®Ëá™Âä®Ë£ÖÈÖçÁöÑinstrumentÂ±ûÊÄßËøõË°åÈôêÂÆöÔºö123@Autowired@StringedInstrumentprivate Instrument instrument;ËøôÊ†∑guitarÂ∞±‰ºöË¢´Ë£ÖÈÖçÁöÑinstrumentÂ±ûÊÄßÈáåÔºÅÂÅáÂ¶ÇÂåπÈÖçÂà∞Â§ö‰∏™BeanÔºåÈúÄË¶ÅËøõ‰∏ÄÊ≠•ÁöÑÁº©Â∞èËåÉÂõ¥ÔºåÁªßÁª≠ÂÆö‰πâËá™ÂÆö‰πâÈôêÂÆöÂô®Âç≥ÂèØÔºÅ@InjectMaven‰æùËµñÔºö123456&lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt;&lt;dependency&gt; &lt;groupId&gt;javax.inject&lt;/groupId&gt; &lt;artifactId&gt;javax.inject&lt;/artifactId&gt; &lt;version&gt;1&lt;/version&gt;&lt;/dependency&gt;‰∏∫‰∫ÜËßÑËåÉÂêÑÁßç‰æùËµñÊ≥®ÂÖ•Ê°ÜÊû∂ÁöÑÁºñÁ®ãÊ®°ÂûãÔºåJCP(Java Community Process)ÂèëÂ∏É‰∫ÜJava‰æùËµñÊ≥®ÂÖ•ËßÑËåÉÔºåÁÆÄÁß∞‰∏∫JCR-330„ÄÇSpring 3.0ÂºÄÂßãÂÖºÂÆπËØ•‰æùËµñÊ≥®ÂÖ•Ê®°Âûã„ÄÇ@InjectÊ≥®Ëß£Âá†‰πéÂèØ‰ª•ÂÆåÂÖ®Êõø‰ª£@Autowired„ÄÇÂ¶ÇÔºö12@Injectprivate Instrument instrument;@Inject‰πüÂèØ‰ª•Ê†áÊ≥®‰∫éÂ±ûÊÄßÔºåÊñπÊ≥ïÂíåÊûÑÈÄ†Âô®Ôºå‰∏çËøá@InjectÊ≤°ÊúârequiredÂ±ûÊÄßÔºåÊâÄ‰ª•@InjectÊ≥®Ëß£ÊâÄÊ†áÊ≥®ÁöÑ‰æùËµñÂÖ≥Á≥ªÂøÖÈ°ªÂ≠òÂú®ÔºåÂê¶ÂàôÊäõÂá∫ÂºÇÂ∏∏„ÄÇÈôêÂÆö@InjectÊâÄÊ†áÊ≥®ÁöÑÂ±ûÊÄßÁ±ª‰ºº‰∫éÂâçÈù¢ÁöÑ@QualifierÔºå@InjectÊâÄÂØπÂ∫îÁöÑÊòØ@NamedÊ≥®Ëß£Ôºö123@Inject@Named("piano")private Instrument instrument;ÂàõÂª∫Ëá™ÂÆö‰πâÁöÑJSR-330 QualifierÈÄöËøá‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ@NewStringedInstrumentÊ≥®Ëß£Ôºö123456789101112import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;import javax.inject.Qualifier; @Target(&#123;ElementType.FIELD,ElementType.PARAMETER,ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Qualifierpublic @interface NewStringedInstrument &#123; &#125;ÂíåÂâçÈù¢ÁöÑËá™ÂÆö‰πâÈôêÂÆöÂô®ÂîØ‰∏ÄÁöÑÂå∫Âà´Â∞±ÊòØ@QualifierÊ≥®Ëß£ÁöÑÂØºÂÖ•Â£∞Êòé„ÄÇÂú®Ê≥®Ëß£‰∏≠‰ΩøÁî®SpELË°®ËææÂºèSpring3.0 ÂºïÂÖ•‰∫Ü@ValueÔºåÂÖ∂ÂèØ‰ª•Ê≥®Ëß£Ë£ÖÈÖçStringÁ±ªÂûãÂíåÂü∫Êú¨Á±ªÂûãÁöÑÂÄº„ÄÇÊØîÂ¶ÇÔºåÊàë‰ª¨ÈÄöËøá@ValueÊ≥®Ëß£‰º†ÂÖ•‰∏Ä‰∏™StringÁ±ªÂûãÁöÑÂÄºÔºö12@Value("May Rain")private String song;ËøôÊ†∑‚ÄùMay Rain‚ÄùÂ∞±Ë¢´Ê≥®ÂÖ•Âà∞songÂ±ûÊÄß‰∏≠‰∫Ü„ÄÇÊàë‰ª¨ËøòÂèØ‰ª•ÁªìÂêàSpELË°®ËææÂºèÔºö12@Value("#&#123;systemProperties.myFavoriteSong&#125;")private String song;@ResourceMaven‰æùËµñÔºö123456&lt;!-- https://mvnrepository.com/artifact/javax.annotation/jsr250-api --&gt;&lt;dependency&gt; &lt;groupId&gt;javax.annotation&lt;/groupId&gt; &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;@ResourceÊ≥®Ëß£ÊòØJSR-250ÂèëÂ∏ÉÁöÑÊ≥®Ëß£„ÄÇ‰∏é@AutowiredÂíå@Inject‰∏çÂêåÁöÑÊòØÔºå@ResourceÊ≥®Ëß£‰∏çËÉΩÁî®‰∫éÊûÑÈÄ†Âô®ÔºÅ@ResourceÊ≥®Ëß£ÈªòËÆ§‰ΩøÁî®byNameËá™Âä®Ë£ÖÈÖçÔºÅ@ResourceÊúâ‰∏§‰∏™‰∏≠ÈáçË¶ÅÁöÑÂ±ûÊÄßÔºönameÂíåtype ÔºåËÄåSpringÂ∞Ü@ResourceÊ≥®Ëß£ÁöÑnameÂ±ûÊÄßËß£Êûê‰∏∫beanÁöÑ ÂêçÂ≠óÔºåËÄåtypeÂ±ûÊÄßÂàôËß£Êûê‰∏∫beanÁöÑÁ±ªÂûã„ÄÇÊâÄ‰ª•Â¶ÇÊûú‰ΩøÁî®nameÂ±ûÊÄßÔºåÂàô‰ΩøÁî®byNameÁöÑËá™Âä®Ê≥®ÂÖ•Á≠ñÁï•ÔºåËÄå‰ΩøÁî®typeÂ±ûÊÄßÊó∂Âàô‰ΩøÁî® byTypeËá™Âä®Ê≥®ÂÖ•Á≠ñÁï•„ÄÇÂ¶ÇÊûúÊó¢‰∏çÊåáÂÆöname‰πü‰∏çÊåáÂÆötypeÂ±ûÊÄßÔºåËøôÊó∂Â∞ÜÈÄöËøáÂèçÂ∞ÑÊú∫Âà∂‰ΩøÁî®byNameËá™Âä®Ê≥®ÂÖ•Á≠ñÁï•„ÄÇbyNameÔºö12@Resource(name="piano")private Instrument instrument;byTypeÔºö12@Resource(type=Instrument.class)private Instrument instrument;„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpELË°®ËææÂºè]]></title>
    <url>%2FSpEL%E8%A1%A8%E8%BE%BE%E5%BC%8F.html</url>
    <content type="text"><![CDATA[Spring3ÂºïÂÖ•‰∫ÜSpringË°®ËææÂºèËØ≠Ë®Ä(Spring Expression LanguageÔºåSpEL)„ÄÇÂâçÈù¢‰ªãÁªçÁöÑÊ≥®ÂÖ•ÈÉΩÊòØÁºñÂÜôSpringÈÖçÁΩÆÊñá‰ª∂ÁöÑÊó∂ÂÄôÂ∞±Á°ÆÂÆö‰∫ÜÁöÑ„ÄÇËÄåSpELÂÆÉÈÄöËøáËøêË°åÊúüÈó¥ÊâßË°åÁöÑË°®ËææÂºèÂ∞ÜÂÄºË£ÖÈÖçÂà∞BeanÁöÑÂ±ûÊÄßÊàñËÄÖÊûÑÈÄ†Âô®ÂèÇÊï∞‰∏≠„ÄÇSpELÊúâËÆ∏Â§öÁâπÊÄßÔºö1.‰ΩøÁî®BeanÁöÑIDÊù•ÂºïÁî®Bean2.Ë∞ÉÁî®ÊñπÊ≥ïÂíåËÆøÈóÆÂØπË±°ÁöÑÂ±ûÊÄß3.ÂØπÂÄºËøõË°åÁÆóÊï∞ÔºåÂÖ≥Á≥ªÂíåÈÄªËæëËøêÁÆó4.Ê≠£ÂàôË°®ËææÂºèÂåπÈÖç5.ÈõÜÂêàÊìç‰ΩúSpELÁöÑÂü∫Êú¨‰ΩøÁî®Â≠óÈù¢ÂÄºÊúÄÁÆÄÂçïÁöÑSpELË°®ËææÂºè‰ªÖÂåÖÂê´‰∏Ä‰∏™Â≠óÈù¢ÂÄº„ÄÇÂÅáËÆæÁé∞Âú®Êüê‰∏™Á±ªÁöÑcountÂ±ûÊÄßÁöÑÂÄº‰∏∫5ÔºåÊàë‰ª¨Áî®SpELË°®ËææÂºèË°®Á§∫Ôºö1&lt;property name="count" value="#&#123;5&#125;"/&gt;#{ }Á¨¶Âè∑‰ºöÊèêÈÜíSpringÔºåÈáåÈù¢ÁöÑÂÜÖÂÆπÊòØ‰∏Ä‰∏™SpELË°®ËææÂºè„ÄÇÂÆÉ‰ª¨ËøòÂèØ‰ª•‰∏éÈùûSpELË°®ËææÂºèÊ∑∑Áî®Ôºö1&lt;property name="message" value="the value is #&#123;5&#125;"/&gt;JavaÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÈÉΩÂèØ‰ª•Âá∫Áé∞Âú®SpELË°®ËææÂºè‰∏≠„ÄÇË°®ËææÂºè‰∏≠ÁöÑÊï∞Â≠ó‰πüÂèØ‰ª•‰ΩøÁî®ÁßëÂ≠¶ËÆ∞Êï∞Ê≥ïÔºö1&lt;property name="salary" value="#&#123;1e4&#125;"/&gt;ÂºïÁî®Bean , PropertiesÂíåÊñπÊ≥ïSpELË°®ËææÂºèËÉΩÂ§üÈÄöËøáÂÖ∂‰ªñBeanÁöÑIDËøõË°åÂºïÁî®„ÄÇÂ¶ÇÔºö1&lt;constructor-arg value="#&#123;deceivedByLife&#125;"/&gt;ÂÖ∂Á≠â‰ª∑‰∫éÔºö1&lt;constructor-arg ref="deceivedByLife"/&gt;carlÂèÇËµõËÄÖÊòØ‰∏Ä‰ΩçÊ®°‰ªøÈ´òÊâãÔºåkennyÂî±‰ªÄ‰πàÊ≠åÔºåÂºπÂ•è‰ªÄ‰πà‰πêÂô®Ôºå‰ªñÂ∞±Âî±‰ªÄ‰πàÊ≠åÔºåÂºπÂ•è‰ªÄ‰πà‰πêÂô®Ôºö1234567&lt;bean id="kenny" class="com.spring.entity.Instrumentalist" p:song="May Rain" p:instrument-ref="piano"/&gt;&lt;bean id="carl" class="com.spring.entity.Instrumentalist"&gt; &lt;property name="instrument" value="#&#123;kenny.instrument&#125;"/&gt; &lt;property name="song" value="#&#123;kenny.song&#125;"/&gt;&lt;/bean&gt;As you can seeÔºåÂ±ûÊÄßÁöÑÂÄºÁî±keyÂíåvalueÁªÑÊàê„ÄÇkeyÊåáÂÆökenny&lt;bean&gt; ÁöÑidÔºåvalueÊåáÂÆökenny&lt;bean&gt;ÁöÑsongÂ±ûÊÄß„ÄÇÂÖ∂Á≠â‰ª∑‰∫éÊâßË°å‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö12Instrumentalist carl = new Instrumentalist();carl.setSong(kenny.getSong());Èô§‰∫ÜËÆøÈóÆÁ±ªÁöÑÂ±ûÊÄßÔºåSpELË°®ËææÂºèËøòÂèØ‰ª•ËÆøÈóÆÁ±ªÁöÑÊñπÊ≥ï„ÄÇÂÅáËÆæÁé∞Âú®Êúâ‰∏™SongSelectorÁ±ªÔºåËØ•Á±ªÊúâ‰∏™selectSong()ÊñπÊ≥ïÔºåËøôÊ†∑ÁöÑËØùcarlÂ∞±ÂèØ‰ª•‰∏çÁî®Ê®°‰ªøÂà´‰∫∫ÔºåÂºÄÂßãÂî±songSelectorÊâÄÈÄâÁöÑÊ≠å‰∫ÜÔºö1&lt;property name="song" value="#&#123;SongSelector.selectSong()&#125;"/&gt;carlÊúâ‰∏™ÁôñÂ•ΩÔºåÊ≠åÊõ≤Âêç‰∏çÊòØÂ§ßÂÜôÁöÑ‰ªñÂ∞±ÊµëË∫´ÈöæÂèóÔºåÊàë‰ª¨Áé∞Âú®Ë¶ÅÂÅöÁöÑÂ∞±ÊòØ‰ªÖ‰ªÖÂØπËøîÂõûÁöÑÊ≠åÊõ≤Ë∞ÉÁî®toUpperCase()ÊñπÊ≥ïÔºö1&lt;property name="song" value="#&#123;SongSelector.selectSong().toUpperCase()&#125;"/&gt;Ê≥®ÊÑèÔºöËøôÈáåÊàë‰ª¨‰∏çËÉΩÁ°Æ‰øù‰∏çÊäõÂá∫NullPointerExceptionÔºå‰∏∫‰∫ÜÈÅøÂÖçËøô‰∏™ËÆ®ÂéåÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®SpELÁöÑnull-safeÂ≠òÂèñÂô®1&lt;property name="song" value="#&#123;SongSelector.selectSong()?.toUpperCase()&#125;"/&gt;yesÔºåÂ∞±ÊòØËøô‰πàÁÆÄÂçï„ÄÇ?.Á¨¶Âè∑‰ºöÁ°Æ‰øùÂ∑¶ËæπÁöÑË°®ËææÂºè‰∏ç‰ºö‰∏∫nullÔºåÂ¶ÇÊûú‰∏∫nullÁöÑËØùÂ∞±‰∏ç‰ºöË∞ÉÁî®toUpperCase()ÊñπÊ≥ï‰∫Ü„ÄÇÊìç‰ΩúÁ±ªÂú®SpELË°®ËææÂºè‰∏≠Ôºå‰ΩøÁî®T()ËøêÁÆóÁ¨¶‰ºöË∞ÉÁî®Á±ªÁöÑ‰ΩúÁî®ÂüüÂíåÊñπÊ≥ï„ÄÇ‰æãÂ¶ÇÔºåÊàë‰ª¨Ë¶ÅË∞ÉÁî®java.lang.MathÁöÑPIÂÄºÔºö1&lt;property name="pi" value="#&#123;T(java.lang.Math).PI&#125;"/&gt;Ëé∑Âèñ0~1ÈöèÊú∫Êï∞Ôºö1&lt;property name="random" value="#&#123;T(java.lang.Math).random()&#125;"/&gt;Âú®SpELÂÄº‰∏äÊâßË°åÊìç‰ΩúSpELÊèê‰æõ‰∫ÜÂá†ÁßçËøêÁÆóÁ¨¶ÔºöËøêÁÆóÁ¨¶Á±ªÂûãËøêÁÆóÁ¨¶ÁÆóÊï∞ËøêÁÆó+, -, *, /, %, ^ÂÖ≥Á≥ªËøêÁÆó&lt;, &gt;, ==, &lt;=, &gt;=, lt, gt, eq, le, geÈÄªËæëËøêÁÆóand, or, not, !Êù°‰ª∂ËøêÁÆó?:(ternary), ?:(Elvis)Ê≠£ÂàôË°®ËææÂºèmatchesÁÆóÊï∞ËøêÁÆóÂä†Ê≥ïËøêÁÆóÔºö1&lt;property name="add" value="#&#123;counter.total+42&#125;"/&gt;Âä†Âè∑ËøòÂèØ‰ª•Áî®‰∫éÂ≠óÁ¨¶‰∏≤ÊãºÊé•Ôºö1&lt;property name="blogName" value="#&#123;my blog name is+' '+mrBird &#125;"/&gt;^ËøêÁÆóÁ¨¶ÊâßË°åÂπÇËøêÁÆóÔºåÂÖ∂‰ΩôÁÆóÊï∞ËøêÁÆóÁ¨¶ÂíåJava‰∏ÄÊØõ‰∏ÄÊ†∑ÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇÂÖ≥Á≥ªËøêÁÆóÂà§Êñ≠‰∏Ä‰∏™BeanÁöÑÊüê‰∏™Â±ûÊÄßÊòØÂê¶Á≠â‰∫é100Ôºö1&lt;property name="eq" value="#&#123;counter.total==100&#125;"/&gt;ËøîÂõûÂÄºÊòØbooleanÁ±ªÂûã„ÄÇÂÖ≥Á≥ªËøêÁÆóÁ¨¶ÂîØ‰∏ÄÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºöÂú®Spring XMLÈÖçÁΩÆÊñá‰ª∂‰∏≠Áõ¥Êé•ÂÜô&gt;=Âíå&lt;=‰ºöÊä•Èîô„ÄÇÂõ†‰∏∫Ëøô‚Äù&lt;‚ÄùÂíå‚Äù&gt;‚Äù‰∏§‰∏™Á¨¶Âè∑Âú®XML‰∏≠ÊúâÁâπÊÆäÁöÑÂê´‰πâ„ÄÇÊâÄ‰ª•ÂÆûÈôÖ‰ΩøÁî®Êó∂ÔºåÊúÄÂè∑‰ΩøÁî®ÊñáÊú¨Á±ªÂûã‰ª£ÊõøÁ¨¶Âè∑ÔºöËøêÁÆóÁ¨¶Á¨¶Âè∑ÊñáÊú¨Á±ªÂûãÁ≠â‰∫é==eqÂ∞è‰∫é&lt;ltÂ∞è‰∫éÁ≠â‰∫é&lt;=leÂ§ß‰∫é&gt;gtÂ§ß‰∫éÁ≠â‰∫é&gt;=geÂ¶ÇÔºö1&lt;property name="eq" value="#&#123;counter.total le 100&#125;"/&gt;ÈÄªËæëËøêÁÆóSpELË°®ËææÂºèÊèê‰æõ‰∫ÜÂ§öÁßçÈÄªËæëËøêÁÆóÁ¨¶ÔºåÂÖ∂Âê´‰πâÂíåJava‰πüÊòØ‰∏ÄÊØõ‰∏ÄÊ†∑ÔºåÂè™‰∏çËøáÁ¨¶Âè∑‰∏ç‰∏ÄÊ†∑ÁΩ¢‰∫Ü„ÄÇ‰ΩøÁî®andËøêÁÆóÁ¨¶Ôºö1&lt;property name="largeCircle" value="#&#123;shape.kind == 'circle' and shape.perimeter gt 10000&#125;"/&gt;‰∏§Ëæπ‰∏∫trueÊó∂ÊâçËøîÂõûtrue„ÄÇÂÖ∂‰ΩôÊìç‰Ωú‰∏ÄÊ†∑ÔºåÂè™‰∏çËøáÈùûËøêÁÆóÊúânotÂíå!‰∏§ÁßçÁ¨¶Âè∑ÂèØ‰æõÈÄâÊã©„ÄÇÈùûËøêÁÆóÔºö1&lt;property name="outOfStack" value="#&#123;!product.available&#125;"/&gt;Êù°‰ª∂ËøêÁÆóÊù°‰ª∂ËøêÁÆóÁ¨¶Á±ª‰ºº‰∫éJavaÁöÑ‰∏âÁõÆËøêÁÆóÁ¨¶Ôºö12&lt;property name="instrument" value="#&#123;songSelector.selectSong() == 'May Rain' ? piano:saxphone&#125;"/&gt;ÂΩìÈÄâÊã©ÁöÑÊ≠åÊõ≤‰∏∫‚ÄùMay Rain‚ÄùÁöÑÊó∂ÂÄôÔºå‰∏Ä‰∏™id‰∏∫pianoÁöÑBeanÂ∞ÜË£ÖÈÖçÂà∞instrumentÂ±ûÊÄß‰∏≠ÔºåÂê¶Âàô‰∏Ä‰∏™id‰∏∫saxophoneÁöÑBeanÂ∞ÜË£ÖÈÖçÂà∞instrumentÂ±ûÊÄß‰∏≠„ÄÇÊ≥®ÊÑèÂå∫Âà´pianoÂíåÂ≠óÁ¨¶‰∏≤‚Äúpiano‚ÄùÔºÅ‰∏Ä‰∏™Â∏∏ËßÅÁöÑ‰∏âÁõÆËøêÁÆóÁ¨¶ÁöÑ‰ΩøÁî®Âú∫ÂêàÊòØÂà§Êñ≠ÊòØÂê¶‰∏∫nullÂÄºÔºö1&lt;property name="song" value="#&#123;kenny.song !=null ? kenny.song:'Jingle Bells'&#125;"/&gt;ËøôÈáåÔºåkenny.songÂºïÁî®ÈáçÂ§ç‰∫Ü‰∏§Ê¨°ÔºåSpELÊèê‰æõ‰∫Ü‰∏âÁõÆËøêÁÆóÁ¨¶ÁöÑÂèò‰ΩìÊù•ÁÆÄÂåñË°®ËææÂºèÔºö1&lt;property name="song" value="#&#123;kenny.song !=null ?:'Jingle Bells'&#125;"/&gt;Âú®‰ª•‰∏äÁ§∫‰æã‰∏≠ÔºåÂ¶ÇÊûúkenny.song‰∏ç‰∏∫nullÔºåÈÇ£‰πàË°®ËææÂºèÁöÑÊ±ÇÂÄºÁªìÊûúÊòØkenny.songÂê¶ÂàôÂ∞±ÊòØ‚ÄúJingle Bells‚Äù„ÄÇÊ≠£ÂàôË°®ËææÂºèÈ™åËØÅÈÇÆÁÆ±Ôºö12&lt;property name="email" value="#&#123;admin.email matches '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.com'&#125;"/&gt;ËôΩÁÑ∂Ëøô‰∏™ÈÇÆÁÆ±Ê≠£Âàô‰∏çÂ§üÂÅ•Â£ÆÔºå‰ΩÜÂØπ‰∫éÊºîÁ§∫matchesÊù•ËØ¥Ë∂≥Â§üÂï¶„ÄÇÂú®SpEL‰∏≠Á≠õÈÄâÈõÜÂêà‰∏∫‰∫ÜÂ±ïÁ§∫SpELÊìç‰ΩúÈõÜÂêàÁöÑÊñπÊ≥ïÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™CityÁ±ªÔºö1234567891011121314151617181920212223public class City &#123; private String name; private String state; private int population; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getState() &#123; return state; &#125; public void setState(String state) &#123; this.state = state; &#125; public int getPopulation() &#123; return population; &#125; public void setPopulation(int population) &#123; this.population = population; &#125;&#125;ÂêåÊ†∑ÔºåÊàë‰ª¨Âú®SpringÂÆπÂô®‰∏≠‰ΩøÁî®&lt;util:list&gt;ÂÖÉÁ¥†ÈÖçÁΩÆ‰∏Ä‰∏™ÂåÖÂê´CityÂØπË±°ÁöÑListÈõÜÂêàÔºö123456789101112131415161718&lt;util:list id="cities"&gt; &lt;bean class="com.spring.entity.City" p:name="Chicago" p:state="IL" p:population="2853114"/&gt; &lt;bean class="com.spring.entity.City" p:name="Atlanta" p:state="GA" p:population="537958"/&gt; &lt;bean class="com.spring.entity.City" p:name="Dallas" p:state="TX" p:population="1279910"/&gt; &lt;bean class="com.spring.entity.City" p:name="Houston" p:state="TX" p:population="2242193"/&gt; &lt;bean class="com.spring.entity.City" p:name="Odessa" p:state="TX" p:population="90943"/&gt; &lt;bean class="com.spring.entity.City" p:name="El Paso" p:state="TX" p:population="613190"/&gt; &lt;bean class="com.spring.entity.City" p:name="Jal" p:state="NM" p:population="1996"/&gt; &lt;bean class="com.spring.entity.City" p:name="Las Cruces" p:state="NM" p:population="91865"/&gt;&lt;/util:list&gt;ËÆøÈóÆÈõÜÂêàÊàêÂëòÂÆö‰πâ‰∏Ä‰∏™ChoseCityÁ±ªÔºö123456789public class ChoseCity &#123; private City city; public void setCity(City city) &#123; this.city = city; &#125; public City getCity() &#123; return city; &#125;&#125;ÈÄâÂèñÈõÜÂêà‰∏≠ÁöÑÊüê‰∏Ä‰∏™ÊàêÂëòÔºåÂπ∂ËµãÂÄºÁªôcityÂ±ûÊÄß‰∏≠Ôºö123&lt;bean id="choseCity" class="com.spring.entity.ChoseCity"&gt; &lt;property name="city" value="#&#123;cities[0]&#125;"/&gt;&lt;/bean&gt;ÂÆû‰æãÂåñËøô‰∏™BeanÔºö12345678public class ChoseaCity &#123; public static void main(String[] args) &#123; String conf="applicationContext.xml"; ApplicationContext ac=new ClassPathXmlApplicationContext(conf); ChoseCity c=(ChoseCity)ac.getBean("choseCity"); System.out.println(c.getCity().getName()); &#125;&#125;ËæìÂá∫Ôºö1ChicagoÈöèÊú∫ÁöÑÈÄâÊã©‰∏Ä‰∏™cityÔºö123&lt;bean id="choseCity" class="com.spring.entity.ChoseCity"&gt; &lt;property name="city" value="#&#123;cities[T(java.lang.Math).random()*cities.size()]&#125;"/&gt;&lt;/bean&gt;‰∏≠Êã¨Âè∑[]ËøêÁÆóÁ¨¶ÂßãÁªàÈÄöËøáÁ¥¢ÂºïËÆøÈóÆÈõÜÂêà‰∏≠ÁöÑÊàêÂëò„ÄÇ[]ËøêÁÆóÁ¨¶ÂêåÊ†∑ÂèØ‰ª•Áî®Êù•Ëé∑Âèñjava.util.MapÈõÜÂêà‰∏≠ÁöÑÊàêÂëò„ÄÇ‰æãÂ¶ÇÔºåÂÅáËÆæCityÂØπË±°‰ª•ÂÖ∂ÂêçÂ≠ó‰Ωú‰∏∫ÈîÆÊîæÂÖ•MapÈõÜÂêà‰∏≠ÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•ÂÉè‰∏ãÈù¢ÈÇ£Ê†∑Ëé∑ÂèñÈîÆ‰∏∫DallasÁöÑentryÔºö1&lt;property name="chosenCity" value="#&#123;cities['Dallas']&#125;"/&gt;[]ËøêÁÆóÁ¨¶ÁöÑÂè¶‰∏ÄÁßçÁî®Ê≥ïÊòØ‰ªéjava.util.PropertiesÈõÜÂêà‰∏≠ÂèñÂÄº„ÄÇ‰æãÂ¶ÇÔºåÂÅáËÆæÊàë‰ª¨ÈúÄË¶ÅÈÄöËøá&lt;util:properties&gt;ÂÖÉÁ¥†Âú®Spring‰∏≠Âä†ËΩΩ‰∏Ä‰∏™propertiesÈÖçÁΩÆÊñá‰ª∂Ôºö1&lt;util:properties id="settings" loaction="classpath:settings.properties"/&gt;Áé∞Âú®Ë¶ÅÂú®Ëøô‰∏™ÈÖçÁΩÆÊñá‰ª∂Bean‰∏≠ËÆøÈóÆ‰∏Ä‰∏™Âêç‰∏∫twitter.accessTokenÁöÑÂ±ûÊÄßÔºö1&lt;property name="accessToken" value="#&#123;settings['twitter.accessToken']&#125;"/&gt;[]ËøêÁÆóÁ¨¶ÂêåÊ†∑ÂèØ‰ª•ÈÄöËøáÁ¥¢ÂºïÊù•ÂæóÂà∞Êüê‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÊüê‰∏™Â≠óÁ¨¶Ôºå‰æãÂ¶Ç‰∏ãÈù¢ÁöÑË°®ËææÂºèÂ∞ÜËøîÂõûsÔºö1'This is a test'[3]Êü•ËØ¢ÈõÜÂêàÊàêÂëòÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥‰ªéÂüéÂ∏ÇcitiesÈõÜÂêà‰∏≠Êü•ËØ¢Âá∫‰∫∫Âè£Â§ß‰∫é10000ÁöÑÂüéÂ∏ÇÔºåÂú®SpEL‰∏≠Âè™ÈúÄË¶ÅÁî®‰∏Ä‰∏™Êü•ËØ¢ËøêÁÆóÁ¨¶ .?[]Â∞±ÂèØ‰ª•ÁÆÄÂçïÂÅöÂà∞„ÄÇ‰øÆÊîπchoseCityÁ±ªÔºö12345678910public class ChoseCity &#123; private List&lt;City&gt; city; public List&lt;City&gt; getCity() &#123; return city; &#125; public void setCity(List&lt;City&gt; city) &#123; this.city = city; &#125;&#125;‰øÆÊîπBeanÔºö123&lt;bean id="choseCity" class="com.spring.entity.ChoseCity"&gt; &lt;property name="city" value="#&#123;cities.?[population gt 100000]&#125;"/&gt;&lt;/bean&gt;ÂÆû‰æãÂåñËØ•BeanÔºö12345678910public class ChoseCitys &#123; public static void main(String[] args) &#123; String conf="applicationContext.xml"; ApplicationContext ac=new ClassPathXmlApplicationContext(conf); ChoseCity c=(ChoseCity)ac.getBean("choseCity"); for(City city:c.getCity())&#123; System.out.println(city.getName()); &#125; &#125;&#125;ËæìÂá∫Ôºö12345ChicagoAtlantaDallasHoustonEl PasoSpELËøòÊèê‰æõ‰∫ÜÂÖ∂‰ªñ‰∏§ÁßçÊü•ËØ¢ËøêÁÆóÁ¨¶Ôºö.^[]Âíå.$[]Ôºå‰ªéÈõÜÂêàÊü•ËØ¢‰∏≠Êü•Âá∫Á¨¨‰∏Ä‰∏™ÂåπÈÖçÈ°πÂíåÊúÄÂêé‰∏Ä‰∏™ÂåπÈÖçÈ°π„ÄÇ‰æãÂ¶ÇÊü•ËØ¢Á¨¨‰∏Ä‰∏™Á¨¶ÂêàÊü•ËØ¢Êù°‰ª∂ÁöÑÂüéÂ∏ÇÔºö1&lt;property name="firstBigCity" value="#&#123;cities.^[population gt 100000]&#125;"/&gt;ÊäïÂΩ±ÈõÜÂêàÈõÜÂêàÊäïÂΩ±Â∞±ÊòØ‰ªéÈõÜÂêàÁöÑÊØè‰∏Ä‰∏™ÊàêÂëò‰∏≠ÈÄâÊã©ÁâπÂÆöÁöÑÂ±ûÊÄßÊîæÂÖ•Âà∞‰∏Ä‰∏™Êñ∞ÁöÑÈõÜÂêà‰∏≠„ÄÇSpELÁöÑÊäïÂΩ±ËøêÁÆóÁ¨¶.![]ÂÆåÂÖ®ÂèØ‰ª•ÂÅöÂà∞Ëøô‰∏ÄÁÇπ„ÄÇ‰æãÂ¶ÇÔºåÊàë‰ª¨‰ªÖÈúÄË¶ÅÂåÖÂê´ÂüéÂ∏ÇÂêçÁß∞ÁöÑ‰∏Ä‰∏™StringÁ±ªÂûãÁöÑÈõÜÂêàÔºö1&lt;property name="cityNames" value="#&#123;cities.![name]&#125;"/&gt;ÂÜçÊØîÂ¶ÇÔºåÂæóÂà∞ÂüéÂ∏ÇÂêçÂ≠óÂä†Â∑ûÂêçÁöÑÈõÜÂêàÔºö1&lt;property name="cityNames" value="#&#123;cities.![name+','+state]&#125;"/&gt;ÊääÁ¨¶ÂêàÊù°‰ª∂ÁöÑÂüéÂ∏ÇÁöÑÂêçÂ≠óÂíåÂ∑ûÂêç‰Ωú‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑÈõÜÂêàÔºö1&lt;property name="cityNames" value="#&#123;cities.?[population gt 100000].![name+','+state]&#125;"/&gt;ÊÄª‰πãSpELÈùûÂ∏∏Âº∫Â§ßÔºå‰ΩÜSpELÊúÄÁªà‰πüÂè™ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Ôºå‰∏çÊòì‰∫éÊµãËØïÔºå‰πüÊ≤°IDEËØ≠Ê≥ïÊ£ÄÊü•ÁöÑÊîØÊåÅ„ÄÇÊâÄ‰ª•ÔºöÂª∫ËÆÆ‰∏çË¶ÅÊääËøáÂ§öÁöÑÈÄªËæëÊîæÂÖ•SpELË°®ËææÂºè‰∏≠„ÄÇ„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BeanÁîüÂëΩÂë®Êúü]]></title>
    <url>%2FSpring-Bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html</url>
    <content type="text"><![CDATA[‰º†ÁªüÁöÑJavaÂ∫îÁî®ÔºåBeanÁöÑÁîüÂëΩÂë®ÊúüÂæàÁÆÄÂçï„ÄÇ‰ΩøÁî®JavaÂÖ≥ÈîÆÂ≠ónewËøõË°åBeanÁöÑÂÆû‰æãÂåñÔºåÁÑ∂ÂêéËØ•BeanÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫Ü„ÄÇ‰∏ÄÊó¶ËØ•Bean‰∏çÂÜçË¢´‰ΩøÁî®ÔºåÂàôÊúâGCÈÄâÊã©ÂõûÊî∂„ÄÇÁõ∏ÊØî‰πã‰∏ãÔºåÂú®SpringÂÆπÂô®‰∏≠ÔºåBeanÁöÑÁîüÂëΩÂë®ÊúüË¶ÅÁªÜËÖªÁöÑÂ§öÔºåÂ§ßËá¥ËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö1.SpringÂØπBeanËøõË°åÂÆû‰æãÂåñÔºõ2.SpringÂ∞ÜÂÄºÂíåÂØπBeanÁöÑÂºïÁî®Ê≥®ÂÖ•ËøõBeanÂØπÂ∫îÁöÑÂ±ûÊÄß‰∏≠Ôºõ3.Â¶ÇÊûúBeanÂÆûÁé∞‰∫ÜBeanNameAwareÊé•Âè£ÔºåSpringÂ∞ÜBeanÁöÑID‰º†ÈÄíÁªôsetBeanName()Êé•Âè£ÊñπÊ≥ïÔºõ4.Â¶ÇÊûúBeanÂÆûÁé∞‰∫ÜBeanFactoryAwareÊé•Âè£ÔºåSpringÂ∞ÜË∞ÉÁî®setBeanFactory()Êé•Âè£ÊñπÊ≥ïÔºåÂ∞ÜBeanFactoryÂÆπÂô®ÂÆû‰æã‰º†ÂÖ•Ôºõ5.Â¶ÇÊûúBeanÂÆûÁé∞‰∫ÜApplicationContextAwareÊé•Âè£ÔºåSpringÂ∞ÜË∞ÉÁî®setApplicationContext()Êé•Âè£ÊñπÊ≥ïÔºåÂ∞ÜÂ∫îÁî®‰∏ä‰∏ãÊñáÁöÑÂºïÁî®‰º†ÂÖ•Ôºõ6.Â¶ÇÊûúBeanÂÆûÁé∞‰∫ÜBeanPostProcessorÊé•Âè£ÔºåSpringÂ∞ÜË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑpostProcessBeforeInitialization()Êé•Âè£ÊñπÊ≥ïÔºõ7.Â¶ÇÊûúBeanÂÆûÁé∞‰∫ÜInitializingBeanÊé•Âè£ÔºåSpringÂ∞ÜË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑafterPropertiesSet()Êé•Âè£ÊñπÊ≥ï„ÄÇÁ±ª‰ººÁöÑÔºåÂ¶ÇÊûúBean‰ΩøÁî®init-methodÂ£∞Êòé‰∫ÜÂàùÂßãÂåñÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰πü‰ºöË¢´Ë∞ÉÁî®„ÄÇ8.Â¶ÇÊûúBeanÂÆûÁé∞‰∫ÜBeanPostProcessorÊé•Âè£ÔºåSpringÂ∞ÜË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑpostProcessAfterInitialization()ÊñπÊ≥ïÔºõ9.Ê≠§Êó∂Ê≠§ÂàªÔºåBeanÂ∑≤ÁªèÂáÜÂ§áÂ∞±Áª™ÔºåÂèØ‰ª•Ë¢´‰ΩøÁî®‰∫Ü„ÄÇÂÆÉ‰ª¨Â∞Ü‰∏ÄÁõ¥È©ªÁïôÂú®SpringÂÆπÂô®‰∏≠ÔºåÁõ¥Âà∞ÂÆπÂô®Ë¢´ÈîÄÊØÅÔºõ10.Â¶ÇÊûúBeanÂÆûÁé∞‰∫ÜDisposableBeanÊé•Âè£ÔºåSpringÂ∞ÜË∞ÉÁî®ÂÆÉÁöÑdestroy()Êé•Âè£ÊñπÊ≥ï„ÄÇÂêåÊ†∑ÔºåÂ¶ÇÊûúBean‰ΩøÁî®destroy-methodÂ£∞Êòé‰∫ÜÈîÄÊØÅÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰πü‰ºöË¢´Ë∞ÉÁî®Ôºõ]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring SetterÊñπÊ≥ïÊ≥®ÂÖ•]]></title>
    <url>%2FSpring-Setter%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5.html</url>
    <content type="text"><![CDATA[SpringÈô§‰∫ÜÊûÑÈÄ†Âô®Ê≥®ÂÖ•ÔºåËøòÂèØ‰ª•ÈÄöËøáÁ±ªÁöÑset()ÊñπÊ≥ïÊ≥®ÂÖ•„ÄÇ‰∏∫‰∫ÜÊºîÁ§∫Ëøô‰∏™ËøáÁ®ãÔºåÁé∞Âú®ÊúâËØ∑‰∏ã‰∏Ä‰ΩçÂèÇËµõËÄÖkenny„ÄÇkennyÊòØ‰∏Ä‰ΩçÂ§©ËµãÂºÇÁ¶ÄÁöÑ‰πêÂô®ÊºîÂ•èËÄÖÔºåÁé∞ÂÆö‰πâ‰∏Ä‰∏™‰πêÂô®ÊºîÂ•èÂ∏àÁ±ªÔºö1234567891011121314151617181920212223242526272829public class Instrumentalist implements Performer&#123; private String song; private Instrument instrument; public Instrumentalist() &#123; &#125; public void perform() &#123; System.out.println("Âî±Ôºö"+song+""); instrument.play(); &#125; public String screamSong()&#123; return song; &#125; public String getSong() &#123; return song; &#125; //Ê≥®ÂÖ•Ê≠åÊõ≤ public void setSong(String song) &#123; this.song = song; &#125; public Instrument getInstrument() &#123; return instrument; &#125; //Ê≥®ÂÖ•‰πêÂô® public void setInstrument(Instrument instrument) &#123; this.instrument = instrument; &#125;&#125;‰πêÂô®InstrumentÊé•Âè£Ôºö123public interface Instrument&#123; public void play();&#125;setterÊ≥®ÂÖ•ÁÆÄÂçïÂÄºÂèØ‰ª•ÈÄöËøáInstrumentListÁ±ªÁöÑÈªòËÆ§ÊûÑÈÄ†Âô®Êù•ÂÆû‰æãÂåñËØ•BeanÔºå‰ΩÜÊ≤°ÊúâÁªôsongÂíåinstrumentÂ±ûÊÄßËµãÂÄºÁöÑËØùÊòæÁÑ∂Ê≤°Êúâ‰ªÄ‰πàÊÑè‰πâ„ÄÇSpringÂèØ‰ª•Áî®&lt;property&gt;ÂÖÉÁ¥†ÁªôÂ±ûÊÄßSongÊ≥®ÂÖ•ÂÄºÔºö123&lt;bean id="kenny" class="com.spring.entity.Instrumentalist"&gt; &lt;property name="song" value="May Rain"/&gt;&lt;/bean&gt;name‰∏∫Â±ûÊÄßÂêçÔºåvalue‰∏∫Â±ûÊÄßÂÄº„ÄÇÂºïÁî®ÂÖ∂‰ªñÁöÑBeanÊúâ‰∫ÜÊ≠åÊõ≤ÔºåkennyÁé∞Âú®ËøòÂ∑Æ‰πêÂô®„ÄÇÂÆö‰πâ‰∏Ä‰∏™pianoÁ±ªÔºåÂÆûÁé∞InstrumentÊé•Âè£Ôºö12345public class Piano implements Instrument&#123; public void play() &#123; System.out.println("Èí¢Áê¥Â£∞ÂìçËµ∑"); &#125;&#125;Êúâ‰∫ÜpianoÁ±ªÔºåÁé∞Âú®Êàë‰ª¨Âú®SpringÂÆπÂô®‰∏≠ÂÆö‰πâËøô‰∏™Èí¢Áê¥Á±ªÔºö1&lt;bean id="piano" class="com.spring.entity.Piano"/&gt;Êúâ‰∫ÜÈí¢Áê¥ÔºåÁé∞Âú®Êàë‰ª¨ÊääÈí¢Áê¥‰∫§ÁªôkennyÔºå‰øÆÊîπkennyÁöÑ&lt;bean&gt;ÈÖçÁΩÆÔºö1234&lt;bean id="kenny" class="com.spring.entity.Instrumentalist"&gt; &lt;property name="song" value="May Rain"/&gt; &lt;property name="piano" ref="piano"&gt;&lt;/property&gt;&lt;/bean&gt;refÂ±ûÊÄßÊåáÂêë‰πãÂâçÂÆö‰πâÁöÑpiano&lt;bean&gt;„ÄÇÁé∞Âú®Êàë‰ª¨ËÆ©kennyÊ≠£Âºè‰∏äÂè∞Ë°®ÊºîÔºö1234567public class Play &#123; public static void main(String[] args) &#123; ApplicationContext ac=new ClassPathXmlApplicationContext("applicationContext.xml"); Instrumentalist kenny=(Instrumentalist)ac.getBean("kenny"); kenny.perform(); &#125;&#125;ËæìÂá∫Ôºö123ÂºÄÁÅØÂî±ÔºöMay RainÈí¢Áê¥Â£∞ÂìçËµ∑Ê≥®ÂÖ•ÂÜÖÈÉ®BeankennyÊòØ‰∏Ä‰∏™Âç†ÊúâÊ¨≤ÂæàÂº∫ÁöÑ‰∫∫Ôºå‰ªñ‰∏çÂ∏åÊúõËá™Â∑±ÁöÑÈí¢Áê¥Ë¢´Âà´‰∫∫‰ΩøÁî®„ÄÇËøôÊó∂ÂÄôÊàë‰ª¨‰∏çËÉΩÂÉè‰∏äÈù¢ÈÇ£Ê†∑ÂºïÁî®piano&lt;bean&gt;‰∫ÜÔºåÂõ†‰∏∫ËøôÊ†∑‰ªª‰Ωï‰∏Ä‰∏™&lt;bean&gt;ÈÉΩÂèØ‰ª•ÂºïÁî®ÂÆÉ„ÄÇÁé∞Âú®‰øÆÊîπkennyÁöÑ&lt;bean&gt;Ôºö123456&lt;bean id="kenny" class="com.spring.entity.Instrumentalist"&gt; &lt;property name="song" value="May Rain"/&gt; &lt;property name="instrument" &gt; &lt;bean class="com.spring.entity.Piano"/&gt; &lt;/property&gt;&lt;/bean&gt;Â¶Ç‰Ω†ÊâÄËßÅÔºåÂÜÖÈÉ®BeanÊòØÁõ¥Êé•Â£∞Êòé‰∏Ä‰∏™&lt;bean&gt;ÂÖÉÁ¥†‰Ωú‰∏∫&lt;property&gt;ÂÖÉÁ¥†ÁöÑÂ≠êËäÇÁÇπËÄåÂÆö‰πâÁöÑ„ÄÇÂêåÊ†∑ÔºåÊûÑÈÄ†Âô®Ê≥®ÂÖ•‰πüÊîØÊåÅÂÜÖÈÉ®BeanÁöÑÂ£∞Êòé„ÄÇ ÁªÜÂøÉÁöÑ‰Ω† ‰ºöÂèëÁé∞ÂÜÖÈÉ®BeanÊ≤°ÊúâÂÆö‰πâidÂ±ûÊÄßÔºåÂÆûÈôÖ‰∏äÂú®ËøôÈáåÂÆö‰πâidÂ±ûÊÄßÊòØÂÆåÂÖ®ÂêàÊ≥ïÁöÑÔºåÂè™‰∏çËøáÂØπ‰∫éÂÜÖÈÉ®BeanÔºåidÂ±ûÊÄßÊòæÁÑ∂‰∏çÈáçË¶Å‰∫Ü„ÄÇ‰ΩøÁî®Spring PË£ÖÈÖçÂ±ûÊÄß&lt;property&gt;ÂÖÉÁ¥†ÁöÑÂÜôÊ≥ïÂèØ‰ª•Êõ¥ÁÆÄÁï•ÔºåÂè™ÈúÄÂú®&lt;beans&gt;Âä†ÂÖ•Â¶Ç‰∏ã‰ª£Á†ÅÔºö1xmlns:p="http://www.springframework.org/schema/p"ÈÄöËøáËøôÊÆµ‰ª£Á†ÅÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®p:‰Ωú‰∏∫&lt;bean&gt;ÂÖÉÁ¥†ÁöÑÊâÄÊúâÂ±ûÊÄßÁöÑÂâçÁºÄÊù•Ë£ÖÈÖçBeanÁöÑÂ±ûÊÄß„ÄÇÁé∞‰øÆÊîπkennyÁöÑ&lt;bean&gt;ÈÖçÁΩÆÔºö123&lt;bean id="kenny" class="com.spring.entity.Instrumentalist" p:song="May Rain" p:instrument-ref="piano"/&gt;Ë£ÖÈÖçÈõÜÂêàÂΩìÈÖçÁΩÆÈõÜÂêàÁ±ªÂûãÁöÑBeanÂ±ûÊÄßÊó∂ÔºåSpringÊèê‰æõ‰∫ÜÁõ∏Â∫îÁöÑÈõÜÂêàÈÖçÁΩÆÂÖÉÁ¥†ÔºöÈõÜÂêàÂÖÉÁ¥†Áî®ÈÄî&lt;list&gt;Ë£ÖÈÖçlistÁ±ªÂûãÁöÑÂÄºÔºåÂÖÅËÆ∏ÈáçÂ§ç&lt;set&gt;Ë£ÖÈÖçsetÁ±ªÂûãÁöÑÂÄºÔºå‰∏çÂÖÅËÆ∏ÈáçÂ§ç&lt;map&gt;Ë£ÖÈÖçmapÁ±ªÂûãÁöÑÂÄºÔºåÂêçÁß∞ÂíåÂÄºÂèØ‰ª•ÊòØ‰ªªÊÑèÁ±ªÂûã&lt;props&gt;Ë£ÖÈÖçpropertiesÁ±ªÂûãÁöÑÂÄºÔºåÂêçÁß∞ÂíåÂÄºÈÉΩÂøÖÈ°ªÊòØStringÁ±ªÂûã‰∏∫‰∫ÜÂ±ïÁ§∫SpringË£ÖÈÖçÈõÜÂêàÔºåÁé∞Âú®ÊúâËØ∑‰∏ã‰∏Ä‰ΩçÂèÇËµõËÄÖhank„ÄÇhankÊòØ‰∏Ä‰ΩçÊâçÂçéÊ®™Ê∫¢ÁöÑ‰∏Ä‰∫∫‰πêÈòüÔºåÂèØ‰ª•ÂêåÊó∂ÊºîÂ•èÂ§öÁßç‰πêÂô®„ÄÇÁé∞ÂÆö‰πâ‰∏Ä‰∏™OneManBanÁ±ªÔºö1234567891011121314public class OneManBan implements Performer&#123; private Collection&lt;Instrument&gt; instruments; //Ê≥®ÂÖ•instrumentsÈõÜÂêà public void setInstruments(Collection&lt;Instrument&gt; instruments) &#123; this.instruments = instruments; &#125; public void perform() &#123; for(Instrument ins:instruments)&#123; ins.play(); &#125; &#125;&#125;Ë£ÖÈÖçList,SetÂíåArrayÁé∞Âú®ÂÜçÂÆö‰πâ‰∏§‰∏™‰πêÂô®Á±ªÔºåÂπ∂Âú®SpringÂÆπÂô®‰∏≠ÂÆö‰πâÂÆÉÔºö12&lt;bean id="saxophone" class="com.spring.entity.Saxophone"/&gt;&lt;bean id="guitar" class="com.spring.entity.Guitar"/&gt;Áé∞Âú®ÊääÊâÄÊúâ‰πêÂô®ÈÉΩË£ÖÈÖçÁªôhankÔºö123456789&lt;bean id="hank" class="com.spring.entity.OneManBan"&gt; &lt;property name="instruments"&gt; &lt;list&gt; &lt;ref bean="saxophone"/&gt; &lt;ref bean="piano"/&gt; &lt;ref bean="guitar"/&gt; &lt;/list&gt; &lt;/property&gt;&lt;/bean&gt;ËøòÂèØ‰ª•‰ΩøÁî®ÂÖ∂‰ªñÁöÑSpringËÆæÁΩÆÂÖÉÁ¥†ËÆæÁΩÆ&lt;list&gt;ÁöÑÊàêÂëò„ÄÇÂåÖÊã¨&lt;value&gt;Ôºå&lt;bean&gt;Ôºå&lt;/null&gt;ÁîöËá≥&lt;list&gt;„ÄÇÂÆûÈôÖ‰∏äÔºåinstrumentsÂ±ûÊÄßÂè™Ë¶ÅÊòØjava.util.collectionÁöÑÂÆûÁé∞Á±ªÂûãÈÉΩÂèØ‰ª•‰ΩøÁî®&lt;list&gt;ÔºåÂ¶ÇÔºö1java.util.List&lt;Instrument&gt; instruments;ÊàñËÄÖÔºö1Instrument[] instruments;&lt;set&gt;ÂÖÉÁ¥†ÁöÑ‰ΩøÁî®‰∏é&lt;list&gt;ÂÆåÂÖ®‰∏ÄËá¥ÔºåÂîØ‰∏ÄÂå∫Âà´Âú®‰∫é&lt;set&gt;ÂÖÉÁ¥†ÁöÑÊàêÂëòÈÉΩÊòØÂîØ‰∏ÄÁöÑ„ÄÇÁé∞Âú®ÂÆû‰æãÂåñhankÊü•ÁúãËæìÂá∫Ôºö1234ÂºÄÁÅØÂêπËê®ÂÖãÊñØÈí¢Áê¥Â£∞ÂìçËµ∑ÂºπÂ•èÂêâ‰ªñË£ÖÈÖçMapÈõÜÂêàÂ¶ÇÊûúinstrumentsÂ±ûÊÄßÊòØ‰∏Ä‰∏™MapÈõÜÂêàÁöÑËØùÔºåÊàë‰ª¨ÂèàËØ•Â¶Ç‰ΩïË£ÖÈÖçÂë¢ÔºüÁé∞‰øÆÊîπOneManBanÁ±ªÔºö1234567891011121314151617public class OneManBan implements Performer&#123; private Map&lt;String,Instrument&gt; instruments; public OneManBan() &#123; &#125; public void perform() &#123; for(String key:instruments.keySet())&#123; System.out.print(key+": "); Instrument ins=instruments.get(key); ins.play(); &#125; &#125; public void setInstruments(Map&lt;String, Instrument&gt; instruments) &#123; this.instruments = instruments; &#125;&#125;hank&lt;bean&gt;‰øÆÊîπÂ¶Ç‰∏ãÔºö123456789&lt;bean id="hank" class="com.spring.entity.OneManBan"&gt; &lt;property name="instruments"&gt; &lt;map&gt; &lt;entry key="saxophone" value-ref="saxophone"/&gt; &lt;entry key="piano" value-ref="piano"/&gt; &lt;entry key="guitar" value-ref="guitar"/&gt; &lt;/map&gt; &lt;/property&gt;&lt;/bean&gt;&lt;map&gt;ÁöÑ&lt;entry&gt;Áî±keyÂíåvalueÁªÑÊàêÔºöÂ±ûÊÄßÁî®ÈÄîkeyÈîÆ‰∏∫Stringkey-refÈîÆ‰∏∫SpringÂÆπÂô®‰∏≠ÂÖ∂‰ªñBeanÁöÑÂºïÁî®valueÂÄº‰∏∫Stringvalue-refÂÄº‰∏∫SpringÂÆπÂô®‰∏≠ÂÖ∂‰ªñBeanÁöÑÂºïÁî®Ë£ÖÈÖçPropertiesÈõÜÂêàÂΩìkeyÂíåvalueÈÉΩÊòØStringÁ±ªÂûãÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®PropertiesÊù•‰ª£ÊõøMap‰øÆÊîπOneManBanÔºö12345678910111213141516public class OneManBan implements Performer&#123; private Properties instruments; public OneManBan() &#123; &#125; public void perform() &#123; for(Object key:instruments.keySet())&#123; System.out.print(key+": "); String ins=instruments.getProperty(key.toString()); System.out.println(ins); &#125; &#125; public void setInstruments(Properties instruments) &#123; this.instruments = instruments; &#125;&#125;‰øÆÊîπ&lt;bean&gt;:123456789&lt;bean id="hank" class="com.spring.entity.OneManBan"&gt; &lt;property name="instruments"&gt; &lt;props&gt; &lt;prop key="saxophone" &gt;play the saxophone&lt;/prop&gt; &lt;prop key="piano"&gt;play the piano&lt;/prop&gt; &lt;prop key="guitar"&gt;play the guitar&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt;&lt;/bean&gt;„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring ÊûÑÈÄ†Âô®Ê≥®ÂÖ•]]></title>
    <url>%2FSpring-%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5.html</url>
    <content type="text"><![CDATA[‰ªéSpring3.0ÂºÄÂßãÔºåSpringÂèØ‰ª•ÈÄöËøáÊ≥®Ëß£ÁöÑÊñπÂºèÊù•ÈÖçÁΩÆBean„ÄÇËøôÈáåÂÖà‰ªãÁªç‰ª•‰º†ÁªüÁöÑXMLÈÖçÁΩÆÂºèÊù•ÈÖçÁΩÆBean„ÄÇÁî®‰∏ÄÂú∫ÈÄâÁßÄÊØîËµõÊù•Ê®°ÊãüSpringË£ÖÂ§áBeanËøáÁ®ã„ÄÇ‰∏ÄÂú∫ÊØîËµõ‰∏≠ÔºåÈúÄË¶Å‰∏Ä‰∫õÂèÇËµõËÄÖÊù•ÂèÇÂä†ÊØîËµõÔºå‰∏∫Ê≠§Êàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™PerformerÊé•Âè£Ôºö123public interface Performer &#123; public void perform();&#125;ÂèÇËµõÈÄâÊâãÈÉΩÂÆûÁé∞‰∫ÜËøô‰∏™PerformerÊé•Âè£„ÄÇ‰ª•‰∏ã‰∏∫‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑSpring XMLÈÖçÁΩÆÊñá‰ª∂(SpringÂÆπÂô®ÔºåSpring‰∏ä‰∏ãÊñá)Ôºö1234567891011121314151617181920212223242526&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:util="http://www.springframework.org/schema/util" xmlns:jee="http://www.springframework.org/schema/jee" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jpa="http://www.springframework.org/schema/data/jpa" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.3.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd"&gt; &lt;!--Bean declarations go here --&gt;&lt;/beans&gt;Âú®&lt;beans&gt;ÂÖÉÁ¥†ÂÜÖÔºåÊàë‰ª¨ÂèØ‰ª•ÈÖçÁΩÆÊâÄÊúâSpringÈÖçÁΩÆ‰ø°ÊÅØ‰ª•Âèä&lt;bean&gt;ÂÖÉÁ¥†ÁöÑÂ£∞Êòé„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåSpringËøòËá™Â∏¶‰∫ÜÂåÖÊã¨&lt;beans&gt;Âú®ÂÜÖÁöÑ10Â§ßÂëΩÂêçÁ©∫Èó¥ÔºöÂëΩÂêçÁ©∫Èó¥Áî®ÈÄîaop‰∏∫Â£∞ÊòéÂàáÈù¢‰ª•ÂèäÂ∞Ü@AspectJÊ≥®Ëß£ÁöÑÁ±ª‰ª£ÁêÜ‰∏∫SpringÂàáÈù¢Êèê‰æõ‰∫ÜÈÖçÁΩÆÂÖÉÁ¥†beans&nbsp;&nbsp;&nbsp;&nbsp;ÊîØÊåÅÂ£∞ÊòéBeanÂíåË£ÖÈÖçBeanÔºåÊòØSpringÊúÄÊ†∏ÂøÉ‰πüÊòØÊúÄÂéüÂßãÁöÑÂëΩÂêçÁ©∫Èó¥context‰∏∫ÈÖçÁΩÆSpringÂ∫îÁî®‰∏ä‰∏ãÊñáÊèê‰æõ‰∫ÜÈÖçÁΩÆÂÖÉÁ¥†ÔºåÂåÖÊã¨Ëá™Âä®Ê£ÄÊµãÂíåËá™Âä®Ë£ÖÈÖçBeanÔºåÊ≥®ÂÖ•ÈùûSpringÁõ¥Êé•ÁÆ°ÁêÜÁöÑÂØπË±°jee&nbsp;&nbsp;&nbsp;&nbsp;Êèê‰æõ‰∫Ü‰∏éJava EE APIÁöÑÈõÜÊàêÔºå‰æãÂ¶ÇJNDIÂíåEJBjms‰∏∫Â£∞ÊòéÊ∂àÊÅØÈ©±Âä®ÁöÑPOJOÊèê‰æõ‰∫ÜÈÖçÁΩÆÂÖÉÁ¥†langÊîØÊåÅÈÖçÁΩÆÁî±GroovyÔºåJRubyÊàñBeanShellÁ≠âËÑöÊú¨ÂÆûÁé∞ÁöÑBeanmvcÂêØÂä®Spring MVCÁöÑËÉΩÂäõÔºå‰æãÂ¶ÇÈù¢ÂêëÊ≥®Ëß£ÁöÑÊéßÂà∂Âô®ÔºåËßÜÂõæÊéßÂà∂Âô®ÂíåÊã¶Êà™Âô®oxmÊîØÊåÅSpringÁöÑÂØπË±°Âà∞XMLÊò†Â∞ÑÈÖçÁΩÆtxÊèê‰æõÂ£∞Êòé‰∫ãÂä°ÈÖçÁΩÆutilÊèê‰æõÂêÑÁßçÂêÑÊ†∑ÁöÑÂ∑•ÂÖ∑Á±ªÂÖÉÁ¥†ÔºåÂåÖÊã¨ÊääÈõÜÂêàÈÖçÁΩÆ‰∏∫BeanÔºåÊîØÊåÅÂ±ûÊÄßÂç†‰ΩçÁ¨¶ÂÖÉÁ¥†ÂõûÂΩíÊØîËµõÔºåÁ¨¨‰∏Ä‰ΩçÂèÇËµõËÄÖÊòØ‰∏Ä‰∏™Juggler(ÊùÇÊäÄÂ∏à)ÔºåÂ£∞Êòé‰∏Ä‰∏™Juggler BeanÔºö12345678910111213public class Juggler implements Performer&#123; private int beanBags=3; public Juggler() &#123; &#125; public Juggler(int beanBags) &#123; this.beanBags = beanBags; &#125; public void perform() &#123; System.out.println("throws "+beanBags+" beanBags"); &#125;&#125;JugglerÂÆûÁé∞‰∫ÜPerformerÊé•Âè£ÔºåÈªòËÆ§ÂèØ‰ª•ÂêåÊó∂ÊäõÂá∫‰∏â‰∏™Ë±ÜË¢ãÂ≠ê„ÄÇ‰πüÂèØ‰ª•ÈÄöËøáÊúâÂèÇÊûÑÈÄ†Âô®ÊîπÂèòË¢ãÂ≠êÊï∞Èáè„ÄÇÁé∞Âú®ÊúâËØ∑Á¨¨‰∏Ä‰ΩçÂè´dukeÁöÑÊùÇÊäÄÂ∏à‰∏äÂú∫ÔºÅÂú®applicationContext.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆDukeÔºö1&lt;bean id="duke" class="com.spring.entity.Juggler"/&gt;idË°®Êòé‰ªñÂè´dukeÔºåclassË°®Êòé‰ªñÊòØ‰∏Ä‰∏™juggler„ÄÇÁé∞Âú®ËÆ©duke‰∏äÂè∞Ë°®ÊºîÔºö12345678public class Show &#123; public static void main(String[] args) &#123; String conf="applicationContext.xml"; ApplicationContext ac=new ClassPathXmlApplicationContext(conf); Juggler duke=(Juggler)ac.getBean("duke"); duke.perform(); //Êâî‰∫Ü 3 ‰∏™Ë±ÜË¢ãÂ≠ê &#125;&#125;ÊûÑÈÄ†Âô®Ê≥®ÂÖ•ËØÑÂßîËßâÂæóËøôÂπ∂Ê≤°Êúâ‰ªÄ‰πàÈöæÂ∫¶Ôºå‰∫éÊòØdukeÂÜ≥ÂÆö‰∏ÄÊ¨°ÊÄßÊâî15‰∏™Ë±ÜË¢ãÂ≠êÔºÅ‰øÆÊîπduke&lt;bean&gt;ÁöÑÈÖçÁΩÆÔºö123&lt;bean id="duke" class="com.spring.entity.Juggler"&gt; &lt;constructor-arg value="15" /&gt;&lt;/bean&gt;‰πüÂèØ‰ª•‰ΩøÁî®c-ÂëΩÂêçÁ©∫Èó¥‰ª£Êõø&lt;constructor-arg&gt;Ê†áÁ≠æÔºåË¶Å‰ΩøÁî®ÂÆÉÁöÑËØùÔºåÁé∞Âú®XMLÈ°∂ÈÉ®Â£∞ÊòéÂÖ∂Ê®°ÂºèÔºö1xmlns:c="http://www.springframework.org/schema/c"‰∏äÈù¢ÁöÑÈÖçÁΩÆÂèØ‰ª•Êîπ‰∏∫Ôºö1&lt;bean id="duke" class="com.spring.entity.Juggler" c:beanBags="15"&gt;ÊàñËÄÖÔºö1&lt;bean id="duke" class="com.spring.entity.Juggler" c:_0="15"&gt;ÂÉèËøôÁßçÂè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞ÁöÑËØù‰πüÂèØ‰ª•ÂÜô‰∏∫Ôºö1&lt;bean id="duke" class="com.spring.entity.Juggler" c:_="15"&gt;JugglerÁ±ªÊúâ‰∏§‰∏™ÊûÑÈÄ†Âô®ÔºåÊó†ÂèÇÂíåÊúâÂèÇ„ÄÇÂΩìÊ≤°ÊúâÂ£∞Êòé&lt;constructor-arg&gt;ÁöÑÊó∂ÂÄôÔºåSpringÂ∞ÜÈªòËÆ§‰ΩøÁî®Êó†ÂèÇÁöÑÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÁé∞Âú®ÔºåÊàë‰ª¨Â∞Ü&lt;constructor-arg&gt;ÁöÑvalueËÆæÁΩÆ‰Ωç15ÁöÑÊó∂ÂÄôÔºåSpring‰ΩøÁî®ÊúâÂèÇÊûÑÈÄ†ÊñπÊ≥ïÊù•ÊîπÂèòÂ±ûÊÄßbeanBagsÁöÑÂÄº„ÄÇÂÜçÊ¨°Ë°®ÊºîÔºåËæìÂá∫Ôºö12Êâî‰∫Ü 15 ‰∏™Ë±ÜË¢ãÂ≠êÊéåÂ£∞Èõ∑Âä®„ÄÇÁ®çÁ≠âÔºÅdukeËØ¥‰ªñËøò‰ºöËæπÊâîË¢ãÂ≠êÂèòÊúóËØµËØóÊ≠åÔºÅ‰∏∫Ê≠§Êàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™PoeticJugglerÔºà‰ºöÊúóËØµÁöÑÊùÇÊäÄÂ∏àÔºâÔºö1234567891011121314151617181920public class PoeticJuggler extends Juggler&#123; //ËØóÊ≠åÂ±ûÊÄß private Poem poem; public PoeticJuggler(Poem poem) &#123; this.poem = poem; &#125; public PoeticJuggler(int beanBags,Poem poem) &#123; //ÁªßÊâøË±ÜË¢ãÂ≠êÂ±ûÊÄß super(beanBags); this.poem = poem; &#125; public void perform()&#123; //ÁªßÊâøÊâîË¢ãÂ≠êÊäÄËÉΩ super.perform(); System.out.println("ËæπÊúóËØµ..."); //ÊúóËØµËØóÊ≠å poem.recite(); &#125;&#125;ËØóÊ≠åÊé•Âè£Ôºö123public interface Poem &#123; public void recite();&#125;dukeÊúÄÂñúÊ¨¢ÁöÑÊòØÊôÆÂ∏åÈáëÁöÑ„ÄäÂÅáÂ¶ÇÁîüÊ¥ªÊ¨∫È™ó‰∫Ü‰Ω†„ÄãÔºå‰∏∫Ê≠§Êàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™DeceivedByLifeÁ±ªÔºåÂÆûÁé∞PoemÊé•Âè£Ôºö123456789101112131415161718192021public class DeceivedByLife implements Poem&#123; private static String[] LINES = &#123; "ÂÅáÂ¶ÇÁîüÊ¥ªÊ¨∫È™ó‰∫Ü‰Ω†Ôºå", "‰∏çË¶ÅÊÇ≤‰º§Ôºå‰∏çË¶ÅÂøÉÊÄ•ÔºÅ", "ÂøßÈÉÅÁöÑÊó•Â≠êÈáåÈ°ªË¶ÅÈïáÈùôÔºö", "Áõ∏‰ø°ÂêßÔºåÂø´‰πêÁöÑÊó•Â≠êÂ∞Ü‰ºöÊù•‰∏¥ÔºÅ", "ÂøÉÂÑøÊ∞∏ËøúÂêëÂæÄÁùÄÊú™Êù•Ôºõ", "Áé∞Âú®Âç¥Â∏∏ÊòØÂøßÈÉÅ„ÄÇ", "‰∏ÄÂàáÈÉΩÊòØÁû¨ÊÅØÔºå‰∏ÄÂàáÈÉΩÂ∞Ü‰ºöËøáÂéªÔºõ", "ËÄåÈÇ£ËøáÂéª‰∫ÜÁöÑÔºåÂ∞±‰ºöÊàê‰∏∫‰∫≤ÂàáÁöÑÊÄÄÊÅã"&#125;; public DeceivedByLife()&#123; &#125; //ÊúóËØµËØóÊ≠å public void recite() &#123; for(int i=0;i&lt;LINES.length;i++)&#123; System.out.println(LINES[i]); &#125; &#125; &#125;Âú®SpringÂÆπÂô®ÈáåÈÖçÁΩÆËøôÈ¶ñËØóÊ≠åÔºö1&lt;bean id="deceivedByLife" class="com.spring.entity.DeceivedByLife"/&gt;Áé∞Âú®dukeÊòØ‰∏Ä‰∏™poeticJuggler‰∫ÜÔºå‰∏∫Ê≠§Êàë‰ª¨‰øÆÊîπdukeÁöÑ&lt;bean&gt;ÈÖçÁΩÆÔºö1234&lt;bean id="poeticDuke" class="com.spring.entity.PoeticJuggler"&gt; &lt;constructor-arg value="15"/&gt; &lt;constructor-arg ref="deceivedByLife"/&gt;&lt;/bean&gt;c-ÂëΩÂêçÁ©∫Èó¥ÂÜôÊ≥ïÔºö123&lt;bean id="poeticDuke" class="com.spring.entity.PoeticJuggler" c:_beanBags="15" c:_poem-ref="deceivedByLife"/&gt;ÊàñËÄÖÔºö123&lt;bean id="poeticDuke" class="com.spring.entity.PoeticJuggler" c:_0="15" c:_1-ref="deceivedByLife"/&gt;ÂΩìSpringÁ¢∞Âà∞deceivedByLifeÂíåpoeticDukeÁöÑ&lt;bean&gt;Â£∞ÊòéÊó∂ÔºåÂÆÉÊâÄÊâßË°åÁöÑÈÄªËæëÊú¨Ë¥®Âíå‰∏ãÈù¢ÁöÑJava‰ª£Á†ÅÊòØ‰∏ÄÊ†∑ÁöÑÔºö12Poem deceivedByLife = new DeceivedByLife();Performer duke = new PoeticJuggler(15,deceivedByLife);Áé∞Âú®ÔºådukeÂÜçÊ¨°ËøõË°å‰∫ÜË°®ÊºîÔºö12345678public class Show &#123; public static void main(String[] args) &#123; String conf="applicationContext.xml"; ApplicationContext ac=new ClassPathXmlApplicationContext(conf); Juggler duke=(PoeticJuggler)ac.getBean("poeticDuke"); duke.perform(); &#125;&#125;ËæìÂá∫Ôºö12345678910Êâî‰∫Ü 15 ‰∏™Ë±ÜË¢ãÂ≠êËæπÊúóËØµ...ÂÅáÂ¶ÇÁîüÊ¥ªÊ¨∫È™ó‰∫Ü‰Ω†Ôºå‰∏çË¶ÅÊÇ≤‰º§Ôºå‰∏çË¶ÅÂøÉÊÄ•ÔºÅÂøßÈÉÅÁöÑÊó•Â≠êÈáåÈ°ªË¶ÅÈïáÈùôÔºöÁõ∏‰ø°ÂêßÔºåÂø´‰πêÁöÑÊó•Â≠êÂ∞Ü‰ºöÊù•‰∏¥ÔºÅÂøÉÂÑøÊ∞∏ËøúÂêëÂæÄÁùÄÊú™Êù•ÔºõÁé∞Âú®Âç¥Â∏∏ÊòØÂøßÈÉÅ„ÄÇ‰∏ÄÂàáÈÉΩÊòØÁû¨ÊÅØÔºå‰∏ÄÂàáÈÉΩÂ∞Ü‰ºöËøáÂéªÔºõËÄåÈÇ£ËøáÂéª‰∫ÜÁöÑÔºåÂ∞±‰ºöÊàê‰∏∫‰∫≤ÂàáÁöÑÊÄÄÊÅãÊéåÂ£∞ÂÜçÊ¨°Èõ∑Âä®„ÄÇÈÄöËøáÂ∑•ÂéÇÊñπÊ≥ïÂàõÂª∫BeanÊúâÊó∂ÂÄôÔºå‰∏Ä‰∏™Á±ªÊ≤°ÊúâÂÖ¨ÂºÄÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåËøôÊó∂ÂÄôÂ∞±‰∏çËÉΩ‰ΩøÁî®ÊûÑÈÄ†Âô®Ê≥®ÂÖ•‰∫Ü„ÄÇSpringÊîØÊåÅ&lt;bean&gt;ÂÖÉÁ¥†ÁöÑfactory-methodÊñπÊ≥ïÊù•Ë£ÖÈÖçBean„ÄÇÂàõÂª∫‰∏Ä‰∏™ËàûÂè∞Á±ªÔºö12345678910111213141516public class Stage &#123; private Stage()&#123; &#125; //Âª∂ËøüÂä†ËΩΩÂÆû‰æã public static class stageSingletonHolder&#123; static Stage instance=new Stage(); &#125; //ËøîÂõûÂÆû‰æã public static Stage getInstance()&#123; return stageSingletonHolder.instance; &#125; public void createStage()&#123; System.out.println("ÂàõÈÄ†‰∏Ä‰∏™ËàûÂè∞"); &#125;&#125;Stage‰Ωú‰∏∫‰∏Ä‰∏™Âçï‰æãÁ±ªÔºåÊ≤°ÊúâÂÖ¨ÂºÄÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåÁõ∏ÂèçÔºåÈùôÊÄÅÊñπÊ≥ïgetInstance()ÊØèÊ¨°Ë∞ÉÁî®ÈÉΩËøîÂõû‰∏Ä‰∏™Áõ∏ÂêåÁöÑStageÂÆû‰æã„ÄÇ&lt;bean&gt;ÂÖÉÁ¥†ÁöÑfactory-methodÂ±ûÊÄßÂÖÅËÆ∏Êàë‰ª¨Ë∞ÉÁî®‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ïÔºå‰ªéËÄå‰ª£ÊõøÊûÑÈÄ†ÊñπÊ≥ïÊù•ÂàõÂª∫‰∏Ä‰∏™Á±ªÁöÑÂÆû‰æã„ÄÇÂú®Spring‰∏ä‰∏ãÊñá‰∏≠ÈÖçÁΩÆStage&lt;bean&gt;Ôºö1&lt;bean id="stage" class="com.spring.entity.Stage" factory-method="getInstance"/&gt;Áé∞Âú®‰ªéSpringÂÆπÂô®‰∏≠Ëé∑ÂèñËøô‰∏™&lt;bean&gt;Ôºö12345678public class CreateStage &#123; public static void main(String[] args) &#123; String conf="applicationContext.xml"; ApplicationContext ac=new ClassPathXmlApplicationContext(conf); Stage stage=(Stage)ac.getBean("stage"); stage.createStage(); &#125;&#125;ËæìÂá∫Ôºö1ÂàõÈÄ†‰∏Ä‰∏™ËàûÂè∞Bean‰ΩúÁî®ÂüüÊâÄÊúâSpring BeanÈªòËÆ§ÈÉΩÊòØÂçï‰æãÁöÑ„ÄÇÂ¶ÇÊûúÁé∞Âú®Ë¶ÅÂàõÂª∫‰∏Ä‰∏™‚ÄùÈó®Á•®‚ÄùÁ±ªÔºåÊØè‰∏™‰∫∫ÁöÑÈó®Á•®ËÇØÂÆöÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ‰∏∫‰∫ÜËÆ©SpringÊØèÊ¨°ËØ∑Ê±ÇÈÉΩ‰∫ßÁîü‰∏Ä‰∏™Êñ∞ÁöÑÂÆû‰æãÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆö‰πâÂ¶Ç‰∏ãticket&lt;bean&gt;Ôºö1&lt;bean id="ticket" class="com.spring.entity.Ticket" scope="prototype"/&gt;Èô§‰∫ÜprototypeÔºåSpringËøòÊèê‰æõ‰∫ÜÂÖ∂‰ªñÂá†‰∏™‰ΩúÁî®ÂüüÈÄâÈ°πÔºö‰ΩúÁî®ÂüüÂÆö‰πâsingletonÂú®ÊØè‰∏Ä‰∏™springÂÆπÂô®‰∏≠Ôºå‰∏Ä‰∏™BeanÂÆö‰πâÂè™Êúâ‰∏Ä‰∏™ÂØπË±°ÂÆû‰æãÔºàÈªòËÆ§ÔºâprototypeÂÖÅËÆ∏BeanÁöÑÂÆö‰πâÂèØ‰ª•Ë¢´ÂÆû‰æãÂåñ‰ªªÊÑèÊ¨°ÔºàÊØèÊ¨°Ë∞ÉÁî®ÈÉΩÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂÆû‰æãÔºârequestÂú®‰∏ÄÊ¨°HTTPËØ∑Ê±Ç‰∏≠ÔºåÊØè‰∏™BeanÂÆö‰πâÂØπÂ∫î‰∏Ä‰∏™ÂÆû‰æã„ÄÇËØ•‰ΩúÁî®Âüü‰ªÖÂú®Âü∫‰∫éWebÁöÑSpring‰∏ä‰∏ãÊñá‰∏≠ÊâçÊúâÊïàsessionÂú®‰∏Ä‰∏™HTTP Session‰∏≠ÔºåÊØè‰∏™BeanÂÆö‰πâÂØπÂ∫î‰∏Ä‰∏™ÂÆû‰æã„ÄÇËØ•‰ΩúÁî®Âüü‰ªÖÂú®Âü∫‰∫éWebÁöÑSpring‰∏ä‰∏ãÊñá‰∏≠ÊâçÊúâÊïàglobal-sessionÂú®‰∏Ä‰∏™ÂÖ®Â±ÄHTTP Session‰∏≠ÔºåÊØè‰∏™BeanÂÆö‰πâÂØπÂ∫î‰∏Ä‰∏™ÂÆû‰æã„ÄÇËØ•‰ΩúÁî®Âüü‰ªÖÂú®Protlet‰∏ä‰∏ãÊñá‰∏≠ÊâçÊúâÊïàSpringÁöÑÂçï‰æãBeanÂè™ËÉΩ‰øùËØÅÂú®ÊØè‰∏™Â∫îÁî®‰∏ä‰∏ãÊñá‰∏≠Âè™Êúâ‰∏Ä‰∏™BeanÂÆû‰æã„ÄÇÊ≤°Êúâ‰∫∫ËÉΩÂ§üÈòªÊ≠¢‰Ω†‰ΩøÁî®‰º†ÁªüÁöÑÊñπÂºèÂÆû‰æãÂåñÂêå‰∏Ä‰∏™BeanÔºåÊàñËÄÖ‰Ω†ÁîöËá≥ÂèØ‰ª•ÂÆö‰πâÂá†‰∏™Â£∞ÊòéÊù•ÂÆû‰æãÂåñÂêå‰∏Ä‰∏™Bean„ÄÇÂàùÂßãÂåñÂíåÈîÄÊØÅBean‰∏∫BeanÂÆö‰πâÂàùÂßãÂåñÂíåÈîÄÊØÅÊìç‰ΩúÔºåÂè™ÈúÄË¶Å‰ΩøÁî®init-methodÂíådestroy-methodÂèÇÊï∞Êù•ÈÖçÁΩÆ&lt;bean&gt;ÂÖÉÁ¥†„ÄÇinit-methodÂ±ûÊÄßÊåáÂÆö‰∫ÜÂú®ÂàùÂßãÂåñBeanÊó∂Ë¶ÅË∞ÉÁî®ÁöÑÊñπÊ≥ï„ÄÇdestroy-methodÂ±ûÊÄßÊåáÂÆö‰∫ÜBean‰ªéÂÆπÂô®ÁßªÈô§‰πãÂâçË¶ÅË∞ÉÁî®ÁöÑÊñπÊ≥ï„ÄÇÁé∞Âú®ÂÆö‰πâ‰∏Ä‰∏™ÁÅØÂÖâÁ±ªLightÔºö12345678public class Light &#123; void turnOnTheLight()&#123; System.out.println("ÂºÄÁÅØ"); &#125; void turnOffTheLight()&#123; System.out.println("ÂÖ≥ÁÅØ"); &#125;&#125;Âú®ÂÆπÂô®‰∏≠ÈÖçÁΩÆËØ•BeanÔºö12&lt;bean id="light" class="com.spring.entity.Light" init-method="turnOnTheLight" destroy-method="turnOffTheLight"/&gt;Âä†ËΩΩÂÆπÂô®Ôºå‰ª•Ê≠§Êù•ÂÆû‰æãÂåñlightÔºö123456789public class LightControl &#123; public static void main(String[] args) &#123; String conf="applicationContext.xml"; //Âä†ËΩΩÂÆπÂô® ApplicationContext ac=new ClassPathXmlApplicationContext(conf); //ÂÖ≥Èó≠ÂÆπÂô® ((ClassPathXmlApplicationContext)ac).close(); &#125;&#125;ËæìÂá∫Ôºö123ÂºÄÁÅØ...ÂÖ≥ÁÅØÊàë‰ª¨ËøòÂèØ‰ª•ÂÆö‰πâÈªòËÆ§ÁöÑinit-methodÂíådestroy-method„ÄÇÂ¶ÇÊûú‰∏ä‰∏ãÊñá‰∏≠BeanÂÆö‰πâ‰∫ÜÂêçÂ≠óÁõ∏ÂêåÁöÑÂàùÂßãÂåñÂíåÈîÄÊØÅÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•Áªü‰∏ÄÈÖçÁΩÆdefault-init-methodÂíådefault-destroy-methodÔºö12345678910111213141516171819202122232425262728&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context" xmlns:util="http://www.springframework.org/schema/util" xmlns:jee="http://www.springframework.org/schema/jee" xmlns:tx="http://www.springframework.org/schema/tx" xmlns:jpa="http://www.springframework.org/schema/data/jpa" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.3.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd" default-init-method="turnOnTheLight" default-destroy-method="turnOffTheLight"&gt; &lt;!--Bean declarations go here --&gt;&lt;/beans&gt;‰∏∫BeanÂÆö‰πâÂàùÂßãÂåñÂíåÈîÄÊØÅÁöÑÊñπÊ≥ïÊòØËÆ©BeanÂÆûÁé∞SpringÁöÑInitializingBeanÂíåDisposableBeanÊé•Âè£„ÄÇInitializingBeanÂ£∞Êòé‰∫Ü‰∏Ä‰∏™afterPropertiesSet()ÊñπÊ≥ï‰Ωú‰∏∫ÂàùÂßãÂåñÊñπÊ≥ï„ÄÇDisposableBeanÂ£∞Êòé‰∫Ü‰∏Ä‰∏™destroy()ÊñπÊ≥ï‰Ωú‰∏∫ÈîÄÊØÅÊñπÊ≥ï„ÄÇÂú®SpringÂÆπÂô®‰∏≠Êó†ÈúÄ‰ªª‰ΩïÈÖçÁΩÆ„ÄÇ‰øÆÊîπLightÁ±ªÔºö12345678public class Light implements InitializingBean,DisposableBean&#123; public void afterPropertiesSet() throws Exception &#123; System.out.println("ÂºÄÁÅØ"); &#125; public void destroy() throws Exception &#123; System.out.println("ÂÖ≥ÁÅØ"); &#125;&#125; ‚ÄãËøôÁßçÊñπÊ≥ïÁöÑÁº∫ÁÇπÊòæËÄåÊòìËßÅ‰∫ÜÔºöÂÆûÁé∞SpringÁöÑÊé•Âè£ÊÑèÂë≥ÁùÄBean‰∏éSpringÁöÑAPI‰∫ßÁîü‰∫ÜËÄ¶Âêà„ÄÇÊâÄ‰ª•ËøôÁßçÊñπÊ≥ïÂπ∂‰∏çÊé®ËçêÔºÅ„ÄäSpring In Action„ÄãËØª‰π¶Á¨îËÆ∞]]></content>
      <tags>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryÈÄâÊã©Âô®ÊÄªÁªì]]></title>
    <url>%2FjQuery%E9%80%89%E6%8B%A9%E5%99%A8%E6%80%BB%E7%BB%93.html</url>
    <content type="text"><![CDATA[jQueryÈÄâÊã©Âô®ÂíåCSSÈÄâÊã©Âô®‰∏ÄÊ†∑ÔºåÂπ∂Âú®ÂÖ∂Âü∫Á°Ä‰∏äÂÅöÂá∫‰∫ÜÊãìÂ±ï„ÄÇÂèØÂú®Ê≠§È°µÈù¢‰∏äÁªÉ‰π†jQueryÈÄâÊã©Âô®Ôºöhttp://mrbird.leanote.com/single/jQuery-Selectors-Lab-PageÂü∫Êú¨ÈÄâÊã©Âô®ÈÄâÊã©Âô®ÊèèËø∞ËøîÂõûÁ§∫‰æã#idÊ†πÊçÆÁªôÂÆöÁöÑidÂåπÈÖç‰∏Ä‰∏™ÂÖÉÁ¥†Âçï‰∏™ÂÖÉÁ¥†$(‚Äú#test‚Äù)ÈÄâÂèñid‰∏∫testÁöÑÂÖÉÁ¥†.classÊ†πÊçÆÁªôÂÆöÁöÑÁ±ªÂêçÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äú.test‚Äù)ÈÄâÂèñÊâÄÊúâclass‰∏∫testÁöÑÂÖÉÁ¥†elementÊ†πÊçÆÁªôÂÆöÁöÑÂÖÉÁ¥†ÂêçÂåπÈÖçÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúp‚Äù)ÈÄâÂèñÊâÄÊúâ&lt;p&gt;ÂÖÉÁ¥†*ÂåπÈÖçÊâÄÊúâÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äú*‚Äù)ÈÄâÂèñÊâÄÊúâÂÖÉÁ¥†selector1,selector2 ‚Ä¶‚Ä¶ÔºåselectorNÂ∞ÜÊØè‰∏Ä‰∏™ÈÄâÊã©Âô®ÂåπÈÖçÂà∞ÁöÑÂÖÉÁ¥†ÂêàÂπ∂Âêé‰∏ÄËµ∑ËøîÂõûÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv,span,p.myClass‚Äù)ÈÄâÂèñÊâÄÊúâ&lt;div&gt;Ôºå&lt;span&gt;Âíå Êã•Êúâclass‰∏∫myClassÁöÑ&lt;p&gt;Ê†áÁ≠æÁöÑ‰∏ÄÁªÑÂÖÉÁ¥†Â±ÇÊ¨°ÈÄâÊã©Âô®ÈÄâÊã©Âô®ÊèèËø∞ËøîÂõûÁ§∫‰æã$(‚Äúancestor descendant‚Äù)ÈÄâÂèñancestorÂÖÉÁ¥†ÈáåÁöÑÊâÄÊúâdescendantÔºàÂêé‰ª£ÔºâÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv span‚Äù)ÈÄâÂèñ&lt;div&gt;ÈáåÁöÑÊâÄÊúâÁöÑ&lt;span&gt;ÂÖÉÁ¥†$(‚Äúparent&gt;child‚Äù)ÈÄâÂèñparentÂÖÉÁ¥†‰∏ãÁöÑchildÂÖÉÁ¥†‰∏é\$(‚Äúancestor descendant‚Äù)ÊúâÂå∫Âà´Ôºå\$(‚Äúancestor descendant‚Äù)ÈÄâÊã©ÁöÑÊòØÂêé‰ª£ÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv&gt;span‚Äù)ÈÄâÂèñ&lt;div&gt;ÂÖÉÁ¥†‰∏ãÂÖÉÁ¥†ÂêçÊòØ&lt;span&gt;ÁöÑÂ≠êÂÖÉÁ¥†$(‚Äúprev+next‚Äù)ÈÄâÂèñÁ¥ßÊé•Âú®prevÂÖÉÁ¥†ÂêéÁöÑnextÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äú.one+div‚Äù)ÈÄâÂèñclass‰∏∫oneÁöÑ‰∏ã‰∏Ä‰∏™&lt;div&gt;ÂêåËæàÂÖÉÁ¥†$(‚Äúprev~siblings‚Äù)ÈÄâÂèñprevÂÖÉÁ¥†‰πãÂêéÁöÑÊâÄÊúâsiblingsÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äú#two~div‚Äù)ÈÄâÂèñid‰∏∫twoÁöÑÂÖÉÁ¥†ÂêéÁöÑ ÊâÄÊúâ&lt;div&gt;ÂêåËæàÂÖÉÁ¥†ËøáÊª§ÈÄâÊã©Âô®jQueryËøáÊª§ÈÄâÊã©Âô®ËßÑÂàôÂêåCSS‰∏≠ÁöÑ‰º™Á±ªÈÄâÊã©Âô®ÔºåÈÉΩ‰ª•‰∏Ä‰∏™ÂÜíÂè∑(:)ÂºÄÂ§¥„ÄÇÊåâÁÖß‰∏çÂêåÁöÑËøáÊª§ËßÑÂàôÔºåËøáÊª§ÈÄâÊã©Âô®ÂèØ‰ª•ÂàÜ‰∏∫Âü∫Êú¨ËøáÊª§Âô®ÔºåÂÜÖÂÆπËøáÊª§Âô®ÔºåÂèØËßÅÊÄßËøáÊª§Âô®ÔºåÂ±ûÊÄßËøáÊª§Âô®ÔºåÂ≠êÂÖÉÁ¥†ËøáÊª§Âô®ÂíåË°®ÂçïÂØπË±°Â±ûÊÄßËøáÊª§ÈÄâÊã©Âô®„ÄÇÂü∫Êú¨ËøáÊª§ÈÄâÊã©Âô®ÈÄâÊã©Âô®&nbsp;ÊèèËø∞ËøîÂõûÁ§∫‰æã:firstÈÄâÂèñÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Âçï‰∏™ÂÖÉÁ¥†$(‚Äúdiv:first‚Äù)ÈÄâÂèñÊâÄÊúâ&lt;div&gt;ÂÖÉÁ¥†‰∏≠Á¨¨‰∏Ä‰∏™&lt;div&gt;ÂÖÉÁ¥†:lastÈÄâÂèñÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†Âçï‰∏™ÂÖÉÁ¥†$(‚Äúdiv:last‚Äù)ÈÄâÂèñÊâÄÊúâ&lt;div&gt;ÂÖÉÁ¥†‰∏≠ÊúÄÂêé‰∏Ä‰∏™&lt;div&gt;ÂÖÉÁ¥†:not(selector)ÂéªÈô§ÊâÄÊúâ‰∏éÁªôÂÆöÈÄâÊã©Âô®ÂåπÈÖçÁöÑ ÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:not(.myClass)‚Äù)ÈÄâÂèñclass‰∏çÊòØmyClassÁöÑ&lt;input&gt; ÂÖÉÁ¥†:evenÈÄâÂèñÁ¥¢ÂºïÊòØÂÅ∂Êï∞ÁöÑÊâÄÊúâÂÖÉÁ¥†Ôºå Á¥¢Âºï‰ªé0ÂºÄÂßãÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:even‚Äù)ÈÄâÂèñÁ¥¢ÂºïÊòØÂÅ∂Êï∞ÁöÑ&lt;input&gt;ÂÖÉÁ¥†:oddÈÄâÂèñÁ¥¢ÂºïÊòØÂ•áÊï∞ÁöÑÊâÄÊúâÂÖÉÁ¥†Ôºå Á¥¢Âºï‰ªé0ÂºÄÂßãÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:odd‚Äù)ÈÄâÂèñÁ¥¢ÂºïÊòØÂ•áÊï∞ÁöÑ&lt;input&gt;ÂÖÉÁ¥†:eq(index)ÈÄâÂèñÁ¥¢ÂºïÁ≠â‰∫éindexÁöÑÂÖÉÁ¥†Ôºå (index)‰ªé0ÂºÄÂßãÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:eq(1)‚Äù)ÈÄâÂèñÁ¥¢ÂºïÁ≠â‰∫é1ÁöÑ&lt;input&gt;ÂÖÉÁ¥†:gt(index)ÈÄâÂèñÁ¥¢ÂºïÂ§ß‰∫éindexÁöÑÂÖÉÁ¥†Ôºå (index)‰ªé0ÂºÄÂßãÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:gt(1)‚Äù)ÈÄâÂèñÁ¥¢ÂºïÂ§ß‰∫é1ÁöÑ&lt;input&gt;ÂÖÉÁ¥†ÔºàÊ≥®ÔºöÂ§ß‰∫é1ÔºåËÄå‰∏çÂåÖÊã¨1Ôºâ:lt(index)ÈÄâÂèñÁ¥¢ÂºïÂ∞è‰∫éindexÁöÑÂÖÉÁ¥†Ôºå (index)‰ªé0ÂºÄÂßãÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:lt(1)‚Äù)ÈÄâÂèñÁ¥¢ÂºïÂ∞è‰∫é1ÁöÑ&lt;input&gt;ÂÖÉÁ¥†ÔºàÊ≥®ÔºöÂ∞è‰∫é1ÔºåËÄå‰∏çÂåÖÊã¨1Ôºâ:headerÈÄâÂèñÊâÄÊúâÁöÑÊ†áÈ¢òÂÖÉÁ¥†ÔºåÂ¶Çh1Ôºå h2Á≠âÈõÜÂêàÂÖÉÁ¥†$(‚Äú:header‚Äù)ÈÄâÂèñÁΩëÈ°µ‰∏≠ÊâÄÊúâheaderÔºåÂ¶Çh1,h2‚Ä¶:animatedÈÄâÂèñÂΩìÂâçÊ≠£Âú®ÊâßË°åÂä®ÁîªÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv:animate‚Äù)ÈÄâÂèñÊ≠£Âú®ÊâßË°åÂä®ÁîªÁöÑ&lt;div&gt;ÂÖÉÁ¥†:focusËé∑ÂèñÂΩìÂâçËé∑ÂèñÁÑ¶ÁÇπÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:focus‚Äù)Ëé∑ÂèñÂΩìÂâçËé∑ÂèñÁÑ¶ÁÇπÁöÑ&lt;input&gt;ÂÖÉÁ¥†:rootÈÄâÊã©ÊñáÊ°£ÁöÑÊ†πÂÖÉÁ¥†Âçï‰∏™ÂÖÉÁ¥†$(‚Äú:root‚Äù)Ëé∑ÂèñÂΩìÂâçÊñáÊ°£ÁöÑÊ†πÂÖÉÁ¥†:lang(language)Âè™ÈÄâÊã©ÈááÁî®ÁâπÂÆöËØ≠Ë®ÄÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúp:lang(en)‚Äù)ÈÄâÂèñÂ∏¶Êúâ‰ª• ‚Äúen‚Äù ÂºÄÂ§¥ÁöÑlang Â±ûÊÄßÂÄºÁöÑÊâÄÊúâ &lt;p&gt; ÂÖÉÁ¥†ÂÜÖÂÆπËøáÊª§ÈÄâÊã©Âô®ÈÄâÊã©Âô®ÊèèËø∞ËøîÂõûÁ§∫‰æã:contains(text)ÈÄâÂèñÂê´ÊúâÊñáÊú¨ÂÜÖÂÆπ‰∏∫‚Äùtext‚ÄùÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv:contents(‚ÄòÊàë‚Äô)‚Äù)ÈÄâÂèñÂê´ÊúâÊñáÊú¨ÊàëÁöÑ&lt;div&gt;ÂÖÉÁ¥†:emptyÈÄâÂèñ‰∏çÂåÖÂê´Â≠êÂÖÉÁ¥†ÂíåÊñáÊú¨ÁöÑÁ©∫ÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv:empty‚Äù)ÈÄâÂèñ‰∏çÂåÖÂê´Â≠êÂÖÉÁ¥†(ÂåÖÊã¨ÊñáÊú¨ÂÖÉÁ¥†)ÁöÑ &lt;div&gt;ÂÖÉÁ¥†:has(selector)ÈÄâÂèñÂê´ÊúâÈÄâÊã©Âô®ÊâÄÂåπÈÖçÁöÑÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv:has(p)‚Äù)ÈÄâÂèñÂê´Êúâ&lt;p&gt;ÂÖÉÁ¥†ÁöÑ&lt;div&gt;ÂÖÉÁ¥†:parentÈÄâÂèñÂê´ÊúâÂ≠êÂÖÉÁ¥†ÊàñÊñáÊú¨ÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv:parent‚Äù)ÈÄâÂèñÊã•ÊúâÂ≠êÂÖÉÁ¥†ÔºàÂåÖÊã¨ÊñáÊú¨ÂÖÉÁ¥†ÔºâÁöÑ &lt;div&gt;ÂÖÉÁ¥†ÂèØËßÅÊÄßËøáÊª§ÈÄâÊã©Âô®ÈÄâÊã©Âô®ÊèèËø∞ËøîÂõûÁ§∫‰æã:hiddenÈÄâÂèñÊâÄÊúâ‰∏çÂèØËßÅÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†\$(‚Äú:hidden‚Äù)ÈÄâÂèñÊâÄÊúâ‰∏çÂèØËßÅÂÖÉÁ¥†„ÄÇÂåÖÊã¨&lt;input type=‚Äùhidden/‚Äú&gt;Ôºå&lt;div sytle=‚Äùdispaly:none;‚Äù&gt;Âíå&lt;div&gt;Á≠âÂÖÉÁ¥†„ÄÇÂ¶ÇÊûúÂè™ÊÉ≥ÈÄâÂèñ&lt;input&gt;ÂÖÉÁ¥†ÔºåÂèØ‰ª•‰ΩøÁî®\$(‚Äúinput:hidden‚Äù):visibleÈÄâÂèñÊâÄÊúâÂèØËßÅÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:visible‚Äù)ÈÄâÂèñÊâÄÊúâÂèØËßÅÁöÑ&lt;div&gt;ÂÖÉÁ¥†Â±ûÊÄßËøáÊª§ÈÄâÊã©Âô®ÈÄâÊã©Âô®ÊèèËø∞ËøîÂõûÁ§∫‰æã[attribute]ÈÄâÂèñÊã•ÊúâÊ≠§Â±ûÊÄßÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv[id]‚Äù)ÈÄâÂèñÊã•ÊúâÂ±ûÊÄßidÁöÑÂÖÉÁ¥†[attribute=value]ÈÄâÂèñÂ±ûÊÄßÁöÑÂÄº‰∏∫valueÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv[title=test]‚Äù)ÈÄâÂèñÂ±ûÊÄßtitle‰∏∫‚Äùtest‚ÄùÁöÑ&lt;div&gt;ÂÖÉÁ¥†[attribute!=value]ÈÄâÂèñÂ±ûÊÄßÁöÑÂÄº‰∏çÁ≠â‰∫évalueÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv[title!=test]‚Äù)ÈÄâÂèñÂ±ûÊÄßtitle‰∏çÁ≠â‰∫é‚Äùtest‚ÄùÁöÑ&lt;div&gt;ÂÖÉÁ¥†ÔºàÊ≥®ÊÑèÔºöÊ≤°ÊúâÂ±ûÊÄßtitleÁöÑ&lt;div&gt;ÂÖÉÁ¥†‰πü‰ºöË¢´ÈÄâÂèñÔºâ[attribute^=value]ÈÄâÂèñÂ±ûÊÄßÁöÑÂÄº‰ª•valueÂºÄÂßãÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv[title^=test]‚Äù)ÈÄâÂèñÂ±ûÊÄßtitle‰ª•‚Äùtest‚ÄùÂºÄÂßãÁöÑ&lt;div&gt;[attribute$=value]ÈÄâÂèñÂ±ûÊÄßÁöÑÂÄº‰ª•valueÁªìÊùüÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†\$(‚Äúdiv[title$=test]‚Äù)ÈÄâÂèñÂ±ûÊÄßtitle‰ª•‚Äùtest‚ÄùÁªìÊùüÁöÑ&lt;div&gt;[attribute*=value]ÈÄâÂèñÂ±ûÊÄßÁöÑÂÄºÂê´ÊúâvalueÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv[title*=test]‚Äù)ÈÄâÂèñÂ±ûÊÄßtitleÂê´Êúâ‚Äùtest‚ÄùÁöÑ&lt;div&gt;[attribute|=value]ÈÄâÂèñÂ±ûÊÄßÁ≠â‰∫éÁªôÂÆöÂ≠óÁ¨¶‰∏≤Êàñ‰ª•ËØ•Â≠óÁ¨¶‰∏≤‰∏∫ÂâçÁºÄÔºàËØ•Â≠óÁ¨¶‰∏≤ÂêéË∑ü‰∏Ä‰∏™‚Äú_‚ÄúÔºâÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv[title|=‚Äôen‚Äô]‚Äù)ÈÄâÂèñÂ±ûÊÄßtiteÁ≠â‰∫éenÊàñ‰ª•en‰∏∫ÂâçÁºÄÔºàËØ•Â≠óÁ¨¶‰∏≤ÂêéË∑ü‰∏Ä‰∏™ËøûÂ≠óÁ¨¶‚Äù_‚ÄúÔºâÁöÑÂÖÉÁ¥†[attribute~=value]ÈÄâÂèñÂ±ûÊÄßÁî®Á©∫Ê†ºÂàÜÈöîÁöÑÂÄº‰∏≠ÂåÖÂê´‰∏Ä‰∏™ÁªôÂÆöÂÄºÁöÑÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äúdiv[title~=‚Äôuk‚Äô]‚Äù)ÈÄâÂèñÂ±ûÊÄßtitleÁî®Á©∫Ê†ºÂàÜÈöîÁöÑÂÄº‰∏≠ÂåÖÂê´Â≠óÁ¨¶ukÁöÑÂÖÉÁ¥†[attribute1][attribute2][attributeN]Â§çÂêàÂ±ûÊÄßÈÄâÊã©Âô®Êª°Ë∂≥Â§ö‰∏™Êù°‰ª∂ÔºåÊØèÈÄâÊã©‰∏ÄÊ¨°ÔºåËåÉÂõ¥Áº©Â∞è‰∏ÄÊ¨°ÈõÜÂêàÂÖÉÁ¥†\$(‚Äúdiv[id][title$=‚Äôtest‚Äô]‚Äù)ÈÄâÂèñÊã•ÊúâÂ±ûÊÄßidÔºåÂπ∂‰∏îÂ±ûÊÄßtitle‰ª•‚Äùtest‚ÄùÁªìÊùüÁöÑ&lt;div&gt;ÂÖÉÁ¥†Â≠êÂÖÉÁ¥†ËøáÊª§ÈÄâÊã©Âô®ÈÄâÊã©Âô®ÊèèËø∞ËøîÂõûÁ§∫‰æã:nth-child(index/even/odd/equation)ÈÄâÂèñÊØè‰∏™Áà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¨¨index‰∏™Â≠êÂÖÉÁ¥†ÊàñËÄÖÂ•áÂÅ∂ÂÖÉÁ¥†Ôºàindex‰ªé1ÂºÄÂßãÔºâÈõÜÂêàÂÖÉÁ¥†:eq(index)Âè™ÂåπÈÖç‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËÄå:nth-childÂ∞Ü‰∏∫ÊØè‰∏Ä‰∏™Áà∂ÂÖÉÁ¥†ÂåπÈÖçÂ≠êÂÖÉÁ¥†ÔºåÂπ∂‰∏î:nth-child(index)ÁöÑindexÊòØ‰ªé1ÂºÄÂßãÁöÑÔºåËÄåeq(index)ÊòØ‰ªé0ÂºÄÂßãÁöÑ:nth-last-child(index/even/odd/equation)ÈÄâÂèñÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÂÄíÊï∞Á¨¨n‰∏™Â≠êÂÖÉÁ¥†ÊàñÁ¨¶ÂêàÁâπÂÆöÈ°∫Â∫èËßÑÂàôÁöÑÂÖÉÁ¥†&nbsp;ÈõÜÂêàÂÖÉÁ¥†&nbsp;:nth-last-child(2)Ë°®Á§∫‰Ωú‰∏∫Áà∂ÂÖÉÁ¥†ÁöÑÂÄíÊï∞Á¨¨2‰∏™Â≠êÂÖÉÁ¥†Ôºõ:nth-last-child(3n)Ë°®Á§∫ÂåπÈÖç‰Ωú‰∏∫Áà∂ÂÖÉÁ¥†ÂÄíÊï∞È°∫Â∫èÁöÑÁ¨¨3n‰∏™Â≠êÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÔºànË°®Á§∫ÂåÖÊã¨0Âú®ÂÜÖÁöÑËá™ÁÑ∂Êï∞Ôºâ:first-childÈÄâÂèñÊØè‰∏™Áà∂ÂÖÉÁ¥†ÁöÑÁ¨¨‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†:firstÂè™ËøîÂõû‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËÄå:first-childÈÄâÊã©Á¨¶Â∞Ü‰∏∫ÊØè‰∏™Áà∂ÂÖÉÁ¥†ÂåπÈÖçÂ≠êÂÖÉÁ¥†„ÄÇ‰æãÂ¶Ç$(‚Äúul li:fisrt-child‚Äù)ÈÄâÂèñÊØè‰∏™&lt;ul&gt;‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™&lt;li&gt;ÂÖÉÁ¥†:last-childÈÄâÂèñÊØè‰∏™Áà∂ÂÖÉÁ¥†ÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†:lastÂè™ËøîÂõû‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËÄå:last-childÈÄâÊã©Á¨¶Â∞Ü‰∏∫ÊØè‰∏™Áà∂ÂÖÉÁ¥†ÂåπÈÖçÂ≠êÂÖÉÁ¥†„ÄÇ‰æãÂ¶Ç$(‚Äúul li:last-child‚Äù)ÈÄâÂèñÊØè‰∏™&lt;ul&gt;‰∏≠ÁöÑÊú´Â∞æ&lt;li&gt;ÂÖÉÁ¥†:only-childÂ¶ÇÊûúÊüê‰∏™ÂÖÉÁ¥†ÊòØÂÆÉÁà∂ÂÖÉÁ¥†‰∏≠ÂîØ‰∏ÄÁöÑÂ≠êÂÖÉÁ¥†ÔºåÈÇ£‰πàÂ∞Ü‰ºöË¢´ÂåπÈÖç„ÄÇÂ¶ÇÊûúÁà∂ÂÖÉÁ¥†‰∏≠Âê´ÊúâÂÖ∂‰ªñÂÖÉÁ¥†ÔºåÈÇ£‰πà‰∏ç‰ºöË¢´ÂåπÈÖçÈõÜÂêàÂÖÉÁ¥†$(‚Äúul li:only-child‚Äù)Âú®&lt;ul&gt;‰∏≠ÈÄâÂèñÊòØÂîØ‰∏ÄÂ≠êÂÖÉÁ¥†ÁöÑ&lt;li&gt;ÂÖÉÁ¥†:only-of-typeÂåπÈÖç‰Ωú‰∏∫Áà∂ÂÖÉÁ¥†ÂîØ‰∏Ä‰∏Ä‰∏™ËØ•Á±ªÂûãÁöÑÂ≠êÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂Â∞ÅË£Ö‰∏∫jQueryÂØπË±°Âπ∂ËøîÂõû„ÄÇÈõÜÂêàÂÖÉÁ¥†$(‚Äúli:only-of-type‚Äù)ÈÄâÂèñliÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÂîØ‰∏ÄÁöÑ‰∏Ä‰∏™liÂÖÉÁ¥†:first-fo-typeÂåπÈÖç‰Ωú‰∏∫Áà∂ÂÖÉÁ¥†ÁöÑÁ¨¨‰∏Ä‰∏™ËØ•Á±ªÂûãÁöÑÂ≠êÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂Â∞ÅË£Ö‰∏∫jQueryÂØπË±°Âπ∂ËøîÂõûÈõÜÂêàÂÖÉÁ¥†\$(‚Äúspan:first-of-type‚Äù)ÈÄâÂèñspanÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¨¨‰∏Ä‰∏™spanÂÖÉÁ¥†ÔºåÁ≠â‰ª∑‰∫é\$(‚Äúspan:nth-of-type(1)‚Äù):last-of-typeÂåπÈÖç‰Ωú‰∏∫Áà∂ÂÖÉÁ¥†ÁöÑÊúÄÂêé‰∏Ä‰∏™ËØ•Á±ªÂûãÁöÑÂ≠êÂÖÉÁ¥†ÁöÑÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂Â∞ÅË£Ö‰∏∫jQueryÂØπË±°Âπ∂ËøîÂõû&nbsp;ÈõÜÂêàÂÖÉÁ¥†\$(‚Äúspan:last-of-type‚Äù)ÈÄâÂèñspanÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÊúÄÂêé‰∏Ä‰∏™spanÂÖÉÁ¥†ÔºåÁ≠â‰ª∑‰∫é\$(‚Äúspan:nth-last-of-type(1)‚Äù):nth-of-type(index/even/odd/equation)ÂåπÈÖç‰Ωú‰∏∫Áà∂ÂÖÉÁ¥†ÁöÑÂêåÁ±ªÂûãÂ≠êÂÖÉÁ¥†‰∏≠ÁöÑÁ¨¨n‰∏™(ÊàñÁ¨¶ÂêàÁâπÂÆöÈ°∫Â∫èÁöÑ)ÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂Â∞ÅË£Ö‰∏∫jQueryÂØπË±°Âπ∂ËøîÂõû&nbsp;ÈõÜÂêàÂÖÉÁ¥†&nbsp; $(‚Äúspan:nth-of-type(2)‚Äù)ÈÄâÂèñspanÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¨¨‰∫å‰∏™spanÂÖÉÁ¥†:nth-last-of-type(index/even/odd/equation)ÂåπÈÖç‰Ωú‰∏∫Áà∂ÂÖÉÁ¥†ÁöÑÂêåÁ±ªÂûãÂ≠êÂÖÉÁ¥†‰∏≠ÁöÑÂÄíÊï∞Á¨¨n‰∏™ÔºàÊàñÁ¨¶ÂêàÁâπÂÆöÂÄíÊï∞È°∫Â∫èÁöÑÔºâÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂Â∞ÅË£Ö‰∏∫jQueryÂØπË±°Âπ∂ËøîÂõû&nbsp;ÈõÜÂêàÂÖÉÁ¥†$(‚Äúspan:nth-last-of-type(2)‚Äù)ÈÄâÂèñspanÁà∂ÂÖÉÁ¥†‰∏ãÁöÑÂÄíÊï∞Á¨¨‰∫å‰∏™spanÂÖÉÁ¥†:nth-child()ÈÄâÊã©Âô®ÊòØÂæàÂ∏∏ËßÅÁöÑÂ≠êÂÖÉÁ¥†ËøáÊª§ÈÄâÊã©Âô®ÔºåËØ¶ÁªÜÂäüËÉΩÂ¶Ç‰∏ãÔºö(1) :nth-child(even)ËÉΩÈÄâÂèñÊØè‰∏™Áà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¥¢ÂºïÂÄºÊòØÂÅ∂Êï∞ÁöÑÂÖÉÁ¥†„ÄÇ(2) :nth-child(odd)ËÉΩÈÄâÂèñÊØè‰∏™Áà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¥¢ÂºïÂÄºÊòØÂ•áÊï∞ÁöÑÂÖÉÁ¥†„ÄÇ(3) :nth-child(2)ËÉΩÈÄâÂèñÊØè‰∏™Áà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¥¢ÂºïÂÄºÁ≠â‰∫é2ÁöÑÂÖÉÁ¥†„ÄÇ(4) :nth-child(3n)ËÉΩÈÄâÂèñÊØè‰∏™Áà∂ÂÖÉÁ¥†‰∏ãÁöÑÁ¥¢ÂºïÂÄºÊòØ3ÁöÑÂÄçÊï∞ÁöÑÂÖÉÁ¥†„ÄÇ(n‰ªé1ÂºÄÂßã)Âè¶Â§ñÔºåÂÖ≥‰∫é:only-childÂíå:only-of-typeÁöÑÂå∫Âà´ÂèØ‰ª•Áúã‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠êÔºö1234567891011&lt;ul&gt; &lt;span id="span"&gt;span&lt;/span&gt; &lt;li id="li1"&gt;li1&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt; &lt;li id="li2"&gt;li2&lt;/li&gt;&lt;/ul&gt;&lt;script&gt; console.log($("li:only-child")); console.log($("li:only-of-type"));&lt;/script&gt;ÊâìÂç∞ÁªìÊûúÔºöË°®ÂçïÂØπË±°Â±ûÊÄßËøáÊª§ÈÄâÊã©Âô®Ê≠§ÈÄâÊã©Âô®‰∏ªË¶ÅÊòØÂØπÊâÄÈÄâÊã©ÁöÑË°®ÂçïÂÖÉÁ¥†ËøõË°åËøáÊª§Ôºå‰æãÂ¶ÇÈÄâÊã©Ë¢´ÈÄâ‰∏≠ÁöÑ‰∏ãÊãâÊ°ÜÔºåÂ§öÈÄâÊ°ÜÁ≠âÂÖÉÁ¥†„ÄÇÈÄâÊã©Âô®ÊèèËø∞ËøîÂõûÁ§∫‰æã:enabledÈÄâÂèñÊâÄÊúâÂèØÁî®ÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äú#form1:enabled‚Äù)ÈÄâÂèñid‰∏∫form1ÁöÑË°®ÂçïÂÜÖÊâÄÊúâÂèØÁî®ÂÖÉÁ¥†:disabledÈÄâÂèñÊâÄÊúâ‰∏çÂèØÁî®ÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äú#form2:disabled‚Äù)ÈÄâÂèñid‰∏∫form2ÁöÑË°®ÂçïÂÜÖÊâÄÊúâ‰∏çÂèØÁî®ÂÖÉÁ¥†:checkedÈÄâÂèñÊâÄÊúâË¢´ÈÄâ‰∏≠ÁöÑÂÖÉÁ¥†ÔºàÂçïÈÄâÊ°ÜÔºåÂ§çÈÄâÊ°ÜÔºâÈõÜÂêàÂÖÉÁ¥†$(‚Äúinput:checked‚Äù)ÈÄâÂèñÊâÄÊúâË¢´ÈÄâ‰∏≠ÁöÑ&lt;input&gt;ÂÖÉÁ¥†:selectedÈÄâÂèñÊâÄÊúâË¢´ÈÄâ‰∏≠ÁöÑÈÄâÈ°πÂÖÉÁ¥†Ôºà‰∏ãÊãâÂàóË°®ÔºâÈõÜÂêàÂÖÉÁ¥†$(‚Äúselect option:selected‚Äù)ÈÄâÂèñÊâÄÊúâË¢´ÈÄâ‰∏≠ÁöÑÈÄâÈ°πÂÖÉÁ¥†Ë°®ÂçïÈÄâÊã©Âô®ÈÄâÊã©Âô®ÊèèËø∞ËøîÂõûÁ§∫‰æã:inputÈÄâÂèñÊâÄÊúâ&lt;input&gt;Ôºå&lt;textarea&gt;,&lt;select&gt;Âíå&lt;button&gt;ÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†$(‚Äú:input‚Äù)ÈÄâÂèñÊâÄÊúâ&lt;input&gt;Ôºå&lt;textarea&gt;Ôºå&lt;select&gt;Âíå&lt;button&gt;ÂÖÉÁ¥†:textÈÄâÂèñÊâÄÊúâÁöÑÂçïË°åÊñáÊú¨Ê°ÜÈõÜÂêàÂÖÉÁ¥†$(‚Äú:text‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑÂçïË°åÊñáÊú¨Ê°Ü:passwordÈÄâÂèñÊâÄÊúâÁöÑÂØÜÁ†ÅÊ°ÜÈõÜÂêàÂÖÉÁ¥†$(‚Äú:password‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑÂØÜÁ†ÅÊ°Ü:radioÈÄâÂèñÊâÄÊúâÁöÑÂçïÈÄâÊ°ÜÈõÜÂêàÂÖÉÁ¥†$(‚Äú:radio‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑÂçïÈÄâÊ°Ü:checkboxÈÄâÂèñÊâÄÊúâÁöÑÂ§öÈÄâÊ°ÜÈõÜÂêàÂÖÉÁ¥†$(‚Äú:checkbox‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑÂ§öÈÄâÊ°Ü:submitÈÄâÂèñÊâÄÊúâÁöÑÊèê‰∫§ÊåâÈíÆÈõÜÂêàÂÖÉÁ¥†$(‚Äú:submit‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑÊèê‰∫§ÊåâÈíÆ:imageÈÄâÂèñÊâÄÊúâÁöÑÂõæÂÉèÊåâÈíÆÈõÜÂêàÂÖÉÁ¥†$(‚Äú:image‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑÂõæÂÉèÊåâÈíÆ:resetÈÄâÂèñÊâÄÊúâÁöÑÈáçÁΩÆÊåâÈíÆÈõÜÂêàÂÖÉÁ¥†$(‚Äú:reset‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑÈáçÁΩÆÊåâÈíÆ:buttonÈÄâÂèñÊâÄÊúâÁöÑÊåâÈíÆÈõÜÂêàÂÖÉÁ¥†$(‚Äú:button‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑÊåâÈíÆ:fileÈÄâÂèñÊâÄÊúâÁöÑ‰∏ä‰º†ÂüüÈõÜÂêàÂÖÉÁ¥†$(‚Äú:file‚Äù)ÈÄâÂèñÊâÄÊúâÁöÑ‰∏ä‰º†Âüü:hiddenÈÄâÂèñÊâÄÊúâÁöÑ‰∏çÂèØËßÅÂÖÉÁ¥†ÈõÜÂêàÂÖÉÁ¥†ÂêåÂâçÊâÄËø∞]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëß£Ê±∫jQueryÂíåÂÖ∂‰ªñÂ∫ìÁöÑÂÜ≤Á™Å]]></title>
    <url>%2F%E8%A7%A3%E6%B1%BAjQuery%E5%92%8C%E5%85%B6%E4%BB%96%E5%BA%93%E7%9A%84%E5%86%B2%E7%AA%81.html</url>
    <content type="text"><![CDATA[jQueryÂ∫ìÂú®ÂÖ∂‰ªñÂ∫ì‰πãÂêéÂØºÂÖ•Âú®ÂÖ∂‰ªñÂ∫ìÂíåjQueryÂ∫ìÈÉΩË¢´Âä†ËΩΩÂÆåÊØïÂêéÔºåÂèØ‰ª•‰ªª‰ΩïÊó∂ÂÄôË∞ÉÁî®jQuery.noConflict()ÂáΩÊï∞Êù•Â∞ÜÂèòÈáè\$ÁöÑ‰ΩøÁî®ÊùÉÁßª‰∫§ÁªôÂÖ∂‰ªñJavaScriptÂ∫ì„ÄÇÁ§∫‰æãÂ¶Ç‰∏ãÔºö1234567891011121314151617181920// ...ÁúÅÁï•ÂÖ∂‰ªñ‰ª£Á†Å&lt;p id="pp"&gt;Test-prototype(Â∞ÜË¢´ÈöêËóè)&lt;/p&gt;&lt;p &gt;Test-jQuery(Â∞ÜË¢´ÁªëÂÆöÂçïÂáª‰∫ã‰ª∂)&lt;/p&gt;&lt;!-- ÂºïÂÖ• prototype --&gt;&lt;script src="lib/prototype.js" type="text/javascript"&gt;&lt;/script&gt;&lt;!-- ÂºïÂÖ• jQuery --&gt;&lt;script src="../../scripts/jquery.js" type="text/javascript"&gt;&lt;/script&gt;&lt;script type="text/javascript"&gt;jQuery.noConflict(); //Â∞ÜÂèòÈáè$ÁöÑÊéßÂà∂ÊùÉËÆ©Ê∏°Áªôprototype.jsjQuery(function()&#123; //‰ΩøÁî®jQuery jQuery("p").click(function()&#123; alert( jQuery(this).text() ); &#125;);&#125;); $("#pp").style.display = 'none'; //‰ΩøÁî®prototype.jsÈöêËóèÂÖÉÁ¥†&lt;/script&gt; &lt;/body&gt;// ...ÁúÅÁï•ÂÖ∂‰ªñ‰ª£Á†ÅÁÑ∂ÂêéÔºåÂ∞±ÂèØ‰ª•Âú®Á®ãÂ∫èÈáå‰ΩøÁî®jQuery()ÂáΩÊï∞‰Ωú‰∏∫jQueryÂØπË±°ÁöÑÂà∂ÈÄ†Â∑•ÂéÇ„ÄÇÊ≠§Â§ñÔºåËøòÊúâÂè¶Â§ñ‰∏ÄÁßçÈÄâÊã©„ÄÇÂ¶ÇÊûúÊÉ≥Á°Æ‰øùjQuery‚Äô‰∏ç‰ºö‰∏éÂÖ∂‰ªñÂ∫ìÂÜ≤Á™ÅÔºå‰ΩÜÂèàÊÉ≥Ëá™ÂÆö‰πâ‰∏Ä‰∏™Âø´Êç∑ÊñπÂºè„ÄÇÂèØ‰ª•ËøõË°åÂ¶Ç‰∏ãÊìç‰ΩúÔºö123456789101112// ...ÁúÅÁï•ÂÖ∂‰ªñ‰ª£Á†Å&lt;script type="text/javascript"&gt;var $j = jQuery.noConflict(); //Ëá™ÂÆö‰πâ‰∏Ä‰∏™ÊØîËæÉÁü≠Âø´Êç∑ÊñπÂºè$j(function()&#123; //‰ΩøÁî®jQueryÔºåÂà©Áî®Ëá™ÂÆö‰πâÂø´Êç∑ÊñπÂºè‚Äî‚Äî$j $j("p").click(function()&#123; alert( $j(this).text() ); &#125;);&#125;); $("#pp").style.display = 'none'; //‰ΩøÁî®prototype.jsÈöêËóèÂÖÉÁ¥†&lt;/script&gt;// ...ÁúÅÁï•ÂÖ∂‰ªñ‰ª£Á†ÅÂèØ‰ª•Ëá™ÂÆö‰πâÂ§áÁî®ÂêçÁß∞Ôºå‰æãÂ¶ÇjqÔºå\$jÁ≠â„ÄÇÂ¶ÇÊûú‰∏çÊÉ≥Ëá™ÂÆö‰πâÂêçÁß∞ÔºåËøòÊÉ≥ÁªßÁª≠‰ΩøÁî®\$Á¨¶Âè∑ÔºåÂèà‰∏çËÉΩ‰∏éÂÖ∂‰ªñjsÂ∫ìÂÜ≤Á™ÅÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ã‰∏§ÁßçÂäûÊ≥ïÔºöÂÖ∂‰∏ÄÔºö12345678910&lt;script type="text/javascript"&gt;jQuery.noConflict(); //Â∞ÜÂèòÈáè$ÁöÑÊéßÂà∂ÊùÉËÆ©Ê∏°Áªôprototype.jsjQuery(function($)&#123; //‰ΩøÁî®jQueryËÆæÂÆöÈ°µÈù¢Âä†ËΩΩÊó∂ÊâßË°åÁöÑÂáΩÊï∞ $("p").click(function()&#123; //Âú®ÂáΩÊï∞ÂÜÖÈÉ®ÁªßÁª≠‰ΩøÁî® $() ÊñπÊ≥ï alert( $(this).text() ); &#125;);&#125;); $("#pp").style.display = 'none'; //‰ΩøÁî®prototype&lt;/script&gt;ÂÖ∂‰∫åÔºö123456789101112&lt;script type="text/javascript"&gt;jQuery.noConflict(); //Â∞ÜÂèòÈáè$ÁöÑÊéßÂà∂ÊùÉËÆ©Ê∏°Áªôprototype.js(function($)&#123; //ÂÆö‰πâÂåøÂêçÂáΩÊï∞Âπ∂ËÆæÁΩÆÂΩ¢ÂèÇ‰∏∫$ $(function()&#123; //ÂåøÂêçÂáΩÊï∞ÂÜÖÈÉ®ÁöÑ$Âùá‰∏∫jQuery $("p").click(function()&#123; //ÁªßÁª≠‰ΩøÁî® $() ÊñπÊ≥ï alert($(this).text()); &#125;); &#125;);&#125;)(jQuery); //ÊâßË°åÂåøÂêçÂáΩÊï∞‰∏î‰º†ÈÄíÂÆûÂèÇjQuery $("#pp").style.display = 'none'; //‰ΩøÁî®prototype&lt;/script&gt;jQueryÂ∫ìÂú®ÂÖ∂‰ªñÂ∫ì‰πãÂâçÂØºÂÖ•Â¶ÇÊûújQueryÂ∫ìÂú®ÂÖ∂‰ªñÂ∫ì‰πãÂâçÂ∞±ÂØºÂÖ•‰∫ÜÔºåÈÇ£‰πàÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®‚ÄújQuery‚ÄùÊù•ÂÅö‰∏Ä‰∫õjQueryÁöÑÂ∑•‰ΩúÔºåÂêåÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®\$()ÊñπÊ≥ï‰Ωú‰∏∫ÂÖ∂‰ªñÂ∫ìÁöÑÂø´Êç∑ÊñπÂºè„ÄÇÊó†ÈúÄË∞ÉÁî®jQuery.noConflict()ÂáΩÊï∞„ÄÇÁ§∫‰æãÂ¶Ç‰∏ãÔºö12345678910111213141516171819&lt;!-- ÂºïÂÖ• jQuery --&gt;&lt;script src="../../scripts/jquery.js" type="text/javascript"&gt;&lt;/script&gt;&lt;!-- ÂºïÂÖ• prototype --&gt;&lt;script src="lib/prototype.js" type="text/javascript"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;p id="pp"&gt;Test-prototype(Â∞ÜË¢´ÈöêËóè)&lt;/p&gt;&lt;p &gt;Test-jQuery(Â∞ÜË¢´ÁªëÂÆöÂçïÂáª‰∫ã‰ª∂)&lt;/p&gt; &lt;script type="text/javascript"&gt;jQuery(function()&#123; //Áõ¥Êé•‰ΩøÁî® jQuery ,Ê≤°ÊúâÂøÖË¶ÅË∞ÉÁî®"jQuery.noConflict()"ÂáΩÊï∞„ÄÇ jQuery("p").click(function()&#123; alert( jQuery(this).text() ); &#125;);&#125;); $("#pp").style.display = 'none'; //‰ΩøÁî®prototype&lt;/script&gt;&lt;/body&gt;]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java ÂèçÂ∞ÑÊú∫Âà∂]]></title>
    <url>%2FJava-%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6.html</url>
    <content type="text"><![CDATA[JAVAÂèçÂ∞ÑÊú∫Âà∂ÊòØÂú®ËøêË°åÁä∂ÊÄÅ‰∏≠ÔºåÂØπ‰∫é‰ªªÊÑè‰∏Ä‰∏™Á±ªÔºåÈÉΩËÉΩÂ§üÁü•ÈÅìËøô‰∏™Á±ªÁöÑÊâÄÊúâÂ±ûÊÄßÂíåÊñπÊ≥ïÔºõÂØπ‰∫é‰ªªÊÑè‰∏Ä‰∏™ÂØπË±°ÔºåÈÉΩËÉΩÂ§üË∞ÉÁî®ÂÆÉÁöÑ‰ªªÊÑè‰∏Ä‰∏™ÊñπÊ≥ïÂíåÂ±ûÊÄßÔºõËøôÁßçÂä®ÊÄÅËé∑ÂèñÁöÑ‰ø°ÊÅØ‰ª•ÂèäÂä®ÊÄÅË∞ÉÁî®ÂØπË±°ÁöÑÊñπÊ≥ïÁöÑÂäüËÉΩÁß∞‰∏∫javaËØ≠Ë®ÄÁöÑÂèçÂ∞ÑÊú∫Âà∂„ÄÇ‚Äî-ÁôæÂ∫¶ÁôæÁßëÂä®ÊÄÅÔºöËøêË°åÊúüÈó¥Âä®ÊÄÅÁªëÂÆöÊâßË°åËßÑÂàô„ÄÇÈùôÊÄÅÔºöÁºñËØë‰ª•ÂêéÂ∞±Â∑≤ÁªèÁ°ÆÂÆöÁöÑÊâßË°åËøáÁ®ã„ÄÇÂä®ÊÄÅÂä†ËΩΩÁ±ªÂà∞ÊñπÊ≥ïÂå∫1234567891011public void test1()&#123; String str = new String("Hello"); Class cls = String.class; //Âä®ÊÄÅËé∑Âèñ StringÁ±ªÂûãÁöÑÊñπÊ≥ï‰ø°ÊÅØÔºö Method[] all = cls.getDeclaredMethods(); //Method ‰ª£Ë°®ÊñπÊ≥ïÁöÑ‰ø°ÊÅØ // method.getName ÂèØ‰ª•Ëé∑ÂèñÊñπÊ≥ïÁöÑÂêçÁß∞ for (Method method : all) &#123; System.out.println(method.getName()); &#125;&#125;ÂàõÂª∫ÂØπË±°ËøáÁ®ã1.Java Â∞ÜÁ±ªÂä†ËΩΩÂà∞ÊñπÊ≥ïÂå∫ÔºàËá™Âä®ÂÆåÊàêÔºâ2.Âà©Áî®Á±ªÂàõÂª∫ÂØπË±°„ÄÇÂÜÖÂ≠ò‰∏≠Êúâ‰∏Ä‰∏™StringÂØπË±°ÔºåÊñπÊ≥ïÂå∫‰∏≠ËøòÊúâÁ±ªÁöÑ‰ø°ÊÅØÔºÅÈÄöËøáClassÂØπË±°ÂèØ‰ª•Ëé∑ÂèñÁ±ªÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇÂä®ÊÄÅËé∑ÂèñÁ±ªÁöÑ‰ø°ÊÅØÂä®ÊÄÅËé∑ÂèñÁ±ªÁöÑÊñπÊ≥ï‰ø°ÊÅØFooÁ±ªÔºàpackageÔºödemoÔºâÔºö12345678910//ÁºñËØë‰ª•ÂêéÊòØ demo.Foo.class//Á±ªÁöÑÂÖ®ÂêçÊòØ demo.Fooclass Foo&#123; public int test()&#123; return 5; &#125; public double test1()&#123; return 5d; &#125;&#125;Âä®ÊÄÅËé∑ÂèñFooÁ±ªÁöÑÊñπÊ≥ïÔºö1234567891011121314151617181920@Testpublic void testClassForName()&#123; /* * Âä®ÊÄÅÁöÑÂä†ËΩΩÁ±ª‰ø°ÊÅØÂà∞ÊñπÊ≥ïÂå∫ * Âπ∂‰∏îËøîÂõûÂØπÂ∫îÁöÑClassÂØπË±°ÔºÅ * Class ÂØπË±°ÂèØ‰ª•ËÆøÈóÆÁ±ªÁöÑÂÖ®ÈÉ®‰ø°ÊÅØÔºÅ * * Â∞ÜclassNameÂØπÂ∫îÁöÑÁ±ªÊñá‰ª∂Ôºå‰ªéÁ£ÅÁõò‰∏≠Âä†ËΩΩ * ÂÜÖÂ≠òÊñπÊ≥ïÂå∫ÔºåËøîÂõûËøô‰∏™Á±ªÁöÑ‰ø°ÊÅØ */ String className = "demo.Foo"; try &#123; Class cls = Class.forName(className); Method[] all = cls.getDeclaredMethods(); for (Method method : all) &#123; System.out.println(method.getName()); &#125; &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace();&#125;ËæìÂá∫Ôºö12testtest1 ‚ÄãÂä®ÊÄÅËé∑ÂèñÁ±ªÁöÑÂ±ûÊÄß‰ø°ÊÅØEooÁ±ªÔºö1234567891011121314151617class Eoo&#123; int id; String name; double salary; String meno; public Eoo()&#123; &#125; public Eoo(int id, String name, double salary, String meno) &#123; super(); this.id = id; this.name = name; this.salary = salary; this.meno = meno; &#125; // getÔºåsetÁï•&#125;Âä®ÊÄÅËé∑ÂèñEooÁ±ªÁöÑÂ±ûÊÄßÔºö1234567891011121314151617@Testpublic void testField()throws Exception &#123; /* * Âä®ÊÄÅËé∑Âèñ‰∏Ä‰∏™Á±ªÁöÑÂÖ®ÈÉ®Â±ûÊÄß‰ø°ÊÅØ * 1 Âä®ÊÄÅÂä†ËΩΩ‰∏Ä‰∏™Á±ªÂà∞ÊñπÊ≥ïÂå∫ * 2 Âä®ÊÄÅËé∑ÂèñÁ±ªÁöÑÂ±ûÊÄß‰ø°ÊÅØ */ String className = "demo.Eoo"; //Âä®ÊÄÅÂä†ËΩΩÁ±ª Class cls = Class.forName(className); //Âä®ÊÄÅËé∑ÂèñÁ±ªÂ£∞ÊòéÁöÑÂ±ûÊÄß‰ø°ÊÅØ Field[] all = cls.getDeclaredFields(); for (Field field : all) &#123; //getName Ëé∑ÂèñÂ±ûÊÄßÁöÑÂêçÂ≠ó System.out.print(field.getName()+" "); &#125;&#125;ËæìÂá∫Ôºö1id name salary menoÂä®ÊÄÅËé∑ÂèñÁ±ªÁöÑÊûÑÈÄ†Âô®‰ø°ÊÅØ123456789101112131415161718@Testpublic void testCon() throws Exception&#123; /* * 1 Âä®ÊÄÅÂä†ËΩΩÁ±ª */ String className = "demo.Eoo"; Class cls = Class.forName(className); Constructor[] all = cls.getDeclaredConstructors(); for (Constructor c : all) &#123; System.out.print(c.getName()); //Ëé∑ÂèñÊûÑÈÄ†Âô®ÁöÑÂèÇÊï∞Á±ªÂûãÂàóË°® // Parameter ÂèÇÊï∞ TypeÁ±ªÂûã // Class[] ‰ª£Ë°®ÊâÄÊúâÂèÇÊï∞ÁöÑÁ±ªÂûãÂàóË°® Class[] types = c.getParameterTypes(); System.out.println(Arrays.toString(types)); &#125;&#125;ËæìÂá∫Ôºö12demo.Eoo[]demo.Eoo[int, class java.lang.String, double, class java.lang.String] ‚ÄãÂä®ÊÄÅÂàõÂª∫ÂØπË±°Ë∞ÉÁî®Êó†ÂèÇÊûÑÈÄ†Âô®ÂàõÂª∫ÂØπË±°Â¶ÇÊûúÊ≤°ÊúâÊó†ÂèÇÊï∞ÊûÑÈÄ†Âô®ÔºåÂ∞ÜÂèëÁîüÂºÇÂ∏∏ÔºÅClass Êèê‰æõ‰∫ÜÊñπÊ≥ï newInstance()„ÄÇ123456789101112131415161718@Testpublic void testNewInstance() throws Exception&#123; /* * Âä®ÊÄÅË∞ÉÁî®Êó†ÂèÇÊï∞ÊûÑÈÄ†Âô®ÂàõÂª∫ÂØπË±° * 1 Âä®ÊÄÅÂä†ËΩΩÁ±ª * 2 Âà©Áî®class ÁöÑÊñπÊ≥ï newInstance ÊâßË°å * Êó†ÂèÇÊï∞ÊûÑÈÄ†Âô®Â∏∏ËßÅÂØπË±° * Ê≥®ÊÑèÔºöÁ±ªÂøÖÈ°ªÊúâÊó†ÂèÇÊï∞ÔºåÂê¶ÂàôÂá∫ÂºÇÂ∏∏ */ String className = "java.util.Date"; Class cls = Class.forName(className); // cls.newInstance()Ë∞ÉÁî®Êó†ÂèÇÊï∞ÊûÑÈÄ†Âô®ÂàõÂª∫ÂØπË±° Object obj = cls.newInstance(); System.out.println(obj); //ÈùôÊÄÅÁöÑÂàõÂª∫ÂØπË±°ÔºÅÁºñËØëÂ∑≤ÁªèÂ∞±Âõ∫ÂÆö‰∫ÜÔºÅ Date date = new Date();&#125;ËæìÂá∫Ôºö1Fri Sep 16 20:04:55 CST 2016Ë∞ÉÁî®ÊúâÂèÇÊûÑÈÄ†Âô®ÂàõÂª∫ÂØπË±°Â¶ÇÊûúÊ≤°ÊúâÂØπÂ∫îÊúâÂèÇÊï∞ÊûÑÈÄ†Âô®ÔºÅÂ∞ÜÂèëÁîüÂºÇÂ∏∏ÔºÅÂèÇÊï∞‰º†ÈÄíÈîôËØØ„ÄÅÂ∞ÜÂèëÁîüÂºÇÂ∏∏ÔºÅ123456789101112131415161718192021222324252627282930313233343536373839404142434445/** * Ë∞ÉÁî® className Á±ªÂêçÂØπÂ∫îÁöÑÁ±ªÁöÑÊúâÂèÇÊï∞ÊûÑÈÄ†Âô®ÔºåparamTypes ‰ª£Ë°®ÂØπÂ∫îÊûÑÈÄ†Âô®ÁöÑÂèÇÊï∞ÂàóË°® * className + paramTypes ÂÖ±ÂêåÂÜ≥ÂÆöË∞ÉÁî®Âì™‰∏™ÊûÑÈÄ†Âô®ÔºÅÊâßË°åÊûÑÈÄ†Âô®ËøòÈúÄË¶ÅÂÖ∑‰ΩìÁöÑÂèÇÊï∞params */public Object create(String className,Class[] paramTypes,Object[] params) throws Exception&#123; // Âä®ÊÄÅÂä†ËΩΩÁ±ª // Âä®ÊÄÅËé∑ÂèñÊåáÂÆöÂèÇÊï∞Á±ªÂûãÁöÑÊûÑÈÄ†Âô® // ÊâßË°åËøô‰∏™ÊûÑÈÄ†Âô®Ôºå‰º†ÈÄí params ÂèÇÊï∞„ÄÇ Class cls = Class.forName(className); //getDeclaredConstructor Âú®Á±ª‰ø°ÊÅØ‰∏≠Êü•Êâæ //ÁªôÂÆöÂèÇÊï∞Á±ªÂûãÁöÑÊûÑÈÄ†Âô®‰ø°ÊÅØ Constructor c = cls.getDeclaredConstructor(paramTypes); //ÊâßË°åÊûÑÈÄ†Âô® c.newInstance() ÊñπÊ≥ïÔºåÂàõÂª∫ÂØπË±° //ËøîÂõûÂÄºÂ∞±ÊòØËøô‰∏™ÊûÑÈÄ†Âô®ÂàõÂª∫ÁöÑÂØπË±° Object obj = c.newInstance(params); return obj;&#125;@Testpublic void testCreate() throws Exception &#123; String className = "java.util.Date"; //Á±ªÂûãÂàóË°®==ClassÁ±ªÂûãÁöÑÊï∞ÁªÑ Class[] paramTypes = &#123;long.class&#125;; //ÂÆûÈôÖÂèÇÊï∞ÂàóË°® Object[] params=&#123;-1000L*60*60*24*365&#125;; Object obj = create(className, paramTypes, params); System.out.println(obj); //ÊÄùËÄÉÔºöÂ¶Ç‰ΩïÂä®ÊÄÅË∞ÉÁî® new String("Hello"); className = "java.lang.String"; /* * &#123;&#125; Âè™ËÉΩÊã•ÊúâÂ£∞ÊòéÂèòÈáèÊó∂ÂÄôÁõ¥Êé•ÂàùÂßãÂåñ * ‰∏çËÉΩÁî®‰∫éËµãÂÄºËØ≠Âè•ÔºÅ * ËµãÂÄºËØ≠Âè•ÂèØ‰ª•‰ΩøÁî® new Object[]&#123;"Hello"&#125; */ paramTypes = new Class[]&#123;String.class&#125;; params = new Object[]&#123;"Hello"&#125;; obj = create(className, paramTypes, params); System.out.println(obj);//Hello //ÊÄùËÄÉÔºöÂ¶Ç‰ΩïÂä®ÊÄÅË∞ÉÁî® new String(byte[],"utf-8"); obj = create("java.lang.String", new Class[]&#123;byte[].class, String.class&#125;, new Object[]&#123;new byte[]&#123;65,66,67,68&#125;, "UTF-8"&#125;); System.out.println(obj);&#125;ËæìÂá∫Ôºö123Wed Jan 01 08:00:00 CST 1969HelloABCD ‚ÄãÂä®ÊÄÅËé∑ÂèñÁ±ªÁöÑÂ±ûÊÄßÂÄºÂÆûÁé∞ËøáÁ®ãÔºàÂ¶Ç‰ΩïÂà©Áî®ÂèçÂ∞ÑAPIÂÆûÁé∞Âä®ÊÄÅÂ±ûÊÄßËÆøÈóÆÔºâÔºö1.ÊâæÂà∞ÂØπË±°ÁöÑÁ±ªÂûã‰ø°ÊÅØÔºàÊñπÊ≥ïÂå∫Ôºâ2.Âú®‰ø°ÊÅØ‰∏≠ÊâæÂ±ûÊÄß‰ø°ÊÅØÔºàFieldÔºâ3.Âú®ÂØπË±°‰∏äËé∑ÂèñÂ±ûÊÄßÁöÑÂÄºÔºÅÁ±ªGooÔºö123456789101112public class Goo &#123; public int id; public String name; public Goo() &#123; &#125; public Goo(int id, String name) &#123; super(); this.id = id; this.name = name; &#125;&#125;Âä®ÊÄÅËé∑ÂèñÂ±ûÊÄßÁöÑÂÄºÔºö12345678910111213141516171819202122232425262728293031323334353637383940 /** * Ëé∑ÂèñobjÂØπË±°ÁöÑ fieldName ÂØπÂ∫îÂ±ûÊÄßÁöÑÂÄº * @param obj * @param fieldName * @return Â±ûÊÄßÂÄº */public Object get(Object obj, String fieldName)throws Exception&#123; //1 Ëé∑ÂèñÁ±ª‰ø°ÊÅØ /* * Java ‰∏≠ÂØπË±°ÁöÑgetClass()ÊñπÊ≥ïÂèØ‰ª•Ëé∑Âèñ ÂØπË±°ÁöÑÁ±ªÂûã‰ø°ÊÅØÔºÅ * Java ‰∏≠ Êúâ3ÁßçÊñπÊ≥ïÂèØ‰ª•Ëé∑ÂèñClass‰ø°ÊÅØ * 1. Á±ªÂêç.class Ëé∑ÂèñÁ±ª‰ø°ÊÅØ(ÈùôÊÄÅ) * 2. Class.forName("Á±ªÂêç") Ëé∑ÂèñÁ±ª‰ø°ÊÅØ Âä®ÊÄÅ * 3. obj.getClass() Ëé∑ÂèñÁ±ª‰ø°ÊÅØ„ÄÇËøêË°åÊúüÈó¥ÔºåÈÄöËøáÂΩìÂâçÂØπË±°Ëé∑ÂèñÁ±ª‰ø°ÊÅØ */ Class cls = obj.getClass(); //ÊâæÂà∞Â±ûÊÄß: /* * getDeclaredField ÊåâÁÖßÂ±ûÊÄßÂêçÂú®cls‰∏≠Êü•Êâæ * Á±ª‰ø°ÊÅØ„ÄÇ ÂΩìÂ±ûÊÄßÊ≤°ÊúâÊâæÂà∞Êó∂ÂÄôÔºåÊäõÂá∫ÂºÇÂ∏∏ÔºÅ */ Field field = cls.getDeclaredField(fieldName); //Âú®ÂØπË±°‰∏äËé∑ÂèñÂ±ûÊÄßÁöÑÂÄºÔºÅ /* * getÊñπÊ≥ïÔºöÂú®‰∏Ä‰∏™ÂØπË±°‰∏äËé∑ÂèñÂ±ûÊÄßÁöÑÂÄºÔºåÂØπË±°‰∏äÊ≤°ÊúâÂØπÂ∫îÁöÑÂ±ûÊÄßÔºåÊäõÂá∫ÂºÇÂ∏∏ */ Object value = field.get(obj); return value;&#125; @Testpublic void testGetField()throws Exception &#123; /* * Âä®ÊÄÅËé∑ÂèñÂØπË±°ÁöÑÂ±ûÊÄß */ Goo goo = new Goo(5, "Tom"); Object v1 = get(goo, "id"); Object v2 = get(goo, "name"); System.out.println(v1+" "+v2);&#125;ËæìÂá∫Ôºö15 TomÂä®ÊÄÅË∞ÉÁî®Á±ªÁöÑÊñπÊ≥ï12345678910111213@Testpublic void testinvoke()throws Exception&#123; List&lt;String&gt; list=new ArrayList&lt;String&gt;(); list.add("tom"); list.add("jack"); // Âä®ÊÄÅËé∑ÂèñÁ±ª‰ø°ÊÅØ Class cls = list.getClass(); // ÈÄöËøáÊñπÊ≥ïÂêçÂíåÂèÇÊï∞Á±ªÂûãÊâæÂà∞ÂØπÂ∫îÁöÑÊñπÊ≥ï Method method = cls.getDeclaredMethod("remove", new Class[]&#123;int.class&#125;); // Ë∞ÉÁî®ÊñπÊ≥ïÔºå‰º†ÈÄíÂØπË±°ÂíåÂÖ∑‰ΩìÂèÇÊï∞ Object value=method.invoke(list,new Object[]&#123;0&#125;); System.out.println(value); //tom&#125;ÂèçÂ∞ÑÁöÑÊÑè‰πâÂ∏∏ËßÅÁöÑÊ°ÜÊû∂ÁöÑÂ∫ïÂ±ÇÈÉΩÊòØ‰ΩøÁî®ÂèçÂ∞ÑÂÆûÁé∞ÁöÑÔºÅÂ¶ÇÔºöSpring MyBatis Struts2 Hibernate ‚Ä¶Áé∞Êúâapplication.xmlÊñá‰ª∂Ôºö12345&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans&gt; &lt;bean id="date" class="java.util.Date"&gt;&lt;/bean&gt; &lt;bean id="list" class="java.util.ArrayList"&gt;&lt;/bean&gt;&lt;/beans&gt;Ê®°ÊãüSpringÊ°ÜÊû∂ÁöÑgetBean()ÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233343536public class ApplicationContext &#123; private HashMap&lt;String, Object&gt; map= new HashMap&lt;String, Object&gt;(); public ApplicationContext(String xml) &#123; SAXReader reader = new SAXReader(); try&#123; //ËØªÂèñxml InputStream in = this.getClass().getClassLoader().getResourceAsStream(xml); Document doc = reader.read(in); //Ëß£ÊûêXMLÂÜÖÂÆπ Ëé∑ÂèñÂÖ®ÈÉ®ÁöÑ&lt;bean&gt; List&lt;Element&gt; beans = doc.getRootElement().elements(); for (Element e : beans) &#123; //e ÊòØÊØè‰∏™ &lt;bean&gt; ÂÖÉÁ¥† String id = e.attributeValue("id"); String className = e.attributeValue("class"); //Âà©Áî®ÂèçÂ∞ÑÂàõÂª∫ÂØπË±° Class cls = Class.forName(className); Object obj = cls.newInstance(); //ÂØπË±°ÁºìÂ≠òÂà∞ map‰∏≠ map.put(id, obj); &#125; &#125;catch(Exception e)&#123; e.printStackTrace(); throw new RuntimeException(e); &#125; &#125; public Object getBean(String id)&#123; return map.get(id); &#125; public static void main(String[] args) &#123; String conf = "application.xml"; ApplicationContext ac = new ApplicationContext(conf); Object o = ac.getBean("date"); System.out.println(o); //Fri Sep 16 21:30:07 CST 2016 &#125;&#125;]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle SQLÂ∏∏Áî®ÂáΩÊï∞]]></title>
    <url>%2FOracle-SQL%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0.html</url>
    <content type="text"><![CDATA[Êñá‰∏≠‰æãÂ≠êÊ∂âÂèäÂà∞ÁöÑË°®Êï∞ÊçÆÔºö1234567891011121314151617181920SQL&gt; select empno,ename,job, hiredate,sal,deptno,comm from lzp.emp; EMPNO ENAME JOB HIREDATE SAL DEPTNO COMM---------- ---------- --------- -------------- ------- ---------- ---------- 7369 SMITH CLERK 17-12Êúà-80 800 20 null 7499 ALLEN SALESMAN 20-2Êúà -81 3100 30 300 7521 WARD SALESMAN 22-2Êúà -81 1250 30 500 7566 JONES MANAGER 02-4Êúà -81 2975 20 null 7654 MARTIN SALESMAN 28-9Êúà -81 8000 30 1400 7698 BLAKE MANAGER 01-5Êúà -81 2850 30 null 7782 CLARK MANAGER 09-6Êúà -81 2450 10 null 7788 SCOTT ANALYST 19-4Êúà -87 3000 20 null 7839 KING PRESIDENT 17-11Êúà-81 5000 10 null 7844 TURNER SALESMAN 08-9Êúà -81 1500 30 0 7876 ADAMS CLERK 23-5Êúà -87 1100 20 null 7900 JAMES CLERK 03-12Êúà-81 950 30 null 7902 FORD ANALYST 03-12Êúà-81 3000 20 null 7934 MILLER CLERK 23-1Êúà -82 1300 10 null Â∑≤ÈÄâÊã©14Ë°å„ÄÇÂ≠óÁ¨¶ÂáΩÊï∞Â≠óÁ¨¶‰∏≤Êà™Âèñ12345SQL&gt; select substr('mrbird',3,6) from dual; SUBS----birdÊü•ÊâæÂ≠ê‰∏≤‰ΩçÁΩÆ12345SQL&gt; select instr('mrBird','Bird') from dual; INSTR('MRBIRD','BIRD')---------------------- 3Â≠óÁ¨¶‰∏≤ËøûÊé•123456789101112/* 1. || */SQL&gt; select 'mr'||'Bird'as result from dual; RESULT------mrBird/* 2.concat */SQL&gt; select concat('mr','Bird') as result from dual; RESULT------mrBirdÂéªÈô§Á©∫Ê†º1234567891011SQL &gt; SELECT LTRIM (' mrBird') l, RTRIM ('mrBird ') r, TRIM (' mrBird ') TFROM dual; L R T------ ------ ------mrBird mrBird mrBirdÂéªÈô§ÂâçÁºÄÂíåÂêéÁºÄ1234567891011SQL &gt; SELECT TRIM (LEADING 'M' FROM 'MMMMMmrBird') s1, TRIM (TRAILING 'D' FROM 'mrBirdDDDD') s2, TRIM ('M' FROM 'MMMmrBirdMMMM') s3FROM dual; S1 S2 S3------ ------ ------mrBird mrBird mrBirdËÆ°ÁÆóÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶12345SQL&gt; select length('mrbird') from dual; LENGTH('MRBIRD')---------------- 6initcapÔºàÈ¶ñÂ≠óÊØçÂèòÂ§ßÂÜôÔºâ ,lowerÔºàÂèòÂ∞èÂÜôÔºâ,upperÔºàÂèòÂ§ßÂÜôÔºâ12345SQL&gt; select initcap('mrbird') s1,lower('MRBIRD') s2,upper('mrbird') s3 from dual; S1 S2 S3------ ------ ------Mrbird mrbird MRBIRDÊõøÊç¢12345SQL&gt; select replace('mrXiaoniao','Xiaoniao','Bird') from dual; REPLAC------mrBirddecode[ÂÆûÁé∞if ..then ÈÄªËæë] Ê≥®:Á¨¨‰∏Ä‰∏™ÊòØË°®ËææÂºè,ÊúÄÂêé‰∏Ä‰∏™ÊòØ‰∏çÊª°Ë∂≥‰ªª‰Ωï‰∏Ä‰∏™Êù°‰ª∂ÁöÑÂÄº123456789101112131415161718192021222324SQL&gt; SELECT DECODE ( deptno, 10, '‰∫∫ÂäõËµÑÊ∫êÈÉ®', 20, 'ËΩØ‰ª∂ÂºÄÂèëÈÉ®', 30, 'Â∏ÇÂú∫ÈÉ®', 'ÂÖ∂‰ªñÁ•ûÁßòÈÉ®Èó®' ) deptName, deptno, enameFROM lzp.empWHERE empno &gt;= 7900; DEPTNAME DEPTNO ENAME------------ ---------- ----------Â∏ÇÂú∫ÈÉ® 30 JAMESËΩØ‰ª∂ÂºÄÂèëÈÉ® 20 FORD‰∫∫ÂäõËµÑÊ∫êÈÉ® 10 MILLERcase[ÂÆûÁé∞switch ..case ÈÄªËæë]12345678910111213141516171819202122232425262728293031SQL&gt; SELECT CASEWHEN sal &lt; 2000 THEN 'Ë¢´Ââ•ÂâäÁöÑ‰∫∫'WHEN sal &lt; 3000 THEN 'Ë¢´ÂéãÊ¶®ÁöÑ‰∫∫'WHEN sal &lt; 5000 THEN 'ÊôÆÈÄöÁöÑ‰∫∫'ELSE 'Âä™ÂäõÁöÑ‰∫∫'END meno, sal, enameFROM lzp.empWHERE deptno = 30ORDER BY sal ASC; MENO SAL ENAME---------- ---------- ----------Ë¢´Ââ•ÂâäÁöÑ‰∫∫ 950 JAMESË¢´Ââ•ÂâäÁöÑ‰∫∫ 1250 WARDË¢´Ââ•ÂâäÁöÑ‰∫∫ 1500 TURNERË¢´ÂéãÊ¶®ÁöÑ‰∫∫ 2850 BLAKEÊôÆÈÄöÁöÑ‰∫∫ 3100 ALLENÂä™ÂäõÁöÑ‰∫∫ 8000 MARTIN Â∑≤ÈÄâÊã©6Ë°å„ÄÇÂçÅËøõÂà∂ÂíåASCII‰∫íÁõ∏ËΩ¨Êç¢12345SQL&gt; select ascii('A'),chr(65) from dual; ASCII('A') C---------- - 65 AÊó•ÊúüÂáΩÊï∞TO_DATEÊ†ºÂºè(‰ª•Êó∂Èó¥: 2007-11-02 13:45:25 ‰∏∫‰æã)Yearyy &nbsp; &nbsp;two digits‰∏§‰ΩçÂπ¥ÊòæÁ§∫ÂÄº:07yyythree digits‰∏â‰ΩçÂπ¥ÊòæÁ§∫ÂÄº:007yyyyfour digitsÂõõ‰ΩçÂπ¥ÊòæÁ§∫ÂÄº:2007Monthmm &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;number&nbsp;‰∏§‰ΩçÊúà&nbsp;ÊòæÁ§∫ÂÄº:11mon&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;abbreviatedÂ≠óÁ¨¶ÈõÜË°®Á§∫ÊòæÁ§∫ÂÄº:11Êúà,Ëã•ÊòØËã±ÊñáÁâà,ÊòæÁ§∫nov&nbsp;monthspelled outÂ≠óÁ¨¶ÈõÜË°®Á§∫ÊòæÁ§∫ÂÄº:11Êúà,Ëã•ÊòØËã±ÊñáÁâà,ÊòæÁ§∫novemberDaydd &nbsp; &nbsp; &nbsp;&nbsp;numberÂΩìÊúàÁ¨¨Âá†Â§©ÊòæÁ§∫ÂÄº:02ddd&nbsp;&nbsp;numberÂΩìÂπ¥Á¨¨Âá†Â§©ÊòæÁ§∫ÂÄº:306dy &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;abbreviated &nbsp; &nbsp;ÂΩìÂë®Á¨¨Âá†Â§©ÁÆÄÂÜô&nbsp;ÊòæÁ§∫ÂÄº:ÊòüÊúü‰∫î,Ëã•ÊòØËã±ÊñáÁâà,ÊòæÁ§∫fridayspelled outÂΩìÂë®Á¨¨Âá†Â§©ÂÖ®ÂÜôÊòæÁ§∫ÂÄº:ÊòüÊúü‰∫î,Ëã•ÊòØËã±ÊñáÁâà,ÊòæÁ§∫fridayddspthspelled outÂΩìÊúàÁ¨¨Âá†Â§©Ëã±ÊñáÊòæÁ§∫ÂÄº:secondHourhh &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;two digits12Â∞èÊó∂ËøõÂà∂&nbsp;ÊòæÁ§∫ÂÄº:01hh24two digits24Â∞èÊó∂ËøõÂà∂ÊòæÁ§∫ÂÄº:13Minute &nbsp;&nbsp;mi/mm &nbsp; &nbsp;&nbsp;two digits60ËøõÂà∂ÊòæÁ§∫ÂÄº:45Secondss &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;two digits60ËøõÂà∂ÊòæÁ§∫ÂÄº:25OthersQ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;digitÂ≠£Â∫¶ÊòæÁ§∫ÂÄº:4WWdigitÂΩìÂπ¥Á¨¨Âá†Âë®&nbsp;ÊòæÁ§∫ÂÄº:44WdigitÂΩìÊúàÁ¨¨Âá†Âë®ÊòæÁ§∫ÂÄº:124Â∞èÊó∂Ê†ºÂºè‰∏ãÊó∂Èó¥ËåÉÂõ¥‰∏∫Ôºö 0:00:00 - 23:59:59‚Ä¶.12Â∞èÊó∂Ê†ºÂºè‰∏ãÊó∂Èó¥ËåÉÂõ¥‰∏∫Ôºö 1:00:00 - 12:59:59 ‚Ä¶.Êó•ÊúüÂ≠óÁ¨¶‰∏≤Áõ∏‰∫íËΩ¨Êç¢Êó∂Èó¥ËΩ¨Â≠óÁ¨¶‰∏≤:YearÔºö1234567891011SQL&gt; SELECT TO_CHAR (SYSDATE, 'yy') yy, TO_CHAR (SYSDATE, 'yyy') yyy, TO_CHAR (SYSDATE, 'yyyy') yyyyFROM dual; YY YYY YYYY-- --- ----16 016 2016MonthÔºö1234567891011SQL&gt;SELECT TO_CHAR (SYSDATE, 'mm') mm, TO_CHAR (SYSDATE, 'mon') mon, TO_CHAR (SYSDATE, 'month') monthFROM dual; MM MON MONTH-- -------- ------09 9Êúà 9ÊúàDayÔºö12345678910111213SQL&gt;SELECT TO_CHAR (SYSDATE, 'dd') dd, TO_CHAR (SYSDATE, 'ddd') ddd, TO_CHAR (SYSDATE, 'dy') dy, TO_CHAR (SYSDATE, 'day') DAY, TO_CHAR (SYSDATE, 'ddspth') ddspthFROM dual; DD DDD DY DAY DDSPTH-- --- ------------ --------- --------------06 250 tue tuesday sixthHourÔºö12345678910SQL&gt;SELECT TO_CHAR (SYSDATE, 'hh') hh, TO_CHAR (SYSDATE, 'hh24') hh24FROM dual; HH HH24-- --05 17Minute,SecondÁï•Â≠£Â∫¶ÔºåÂë®Ôºö1234567891011SQL&gt;SELECT TO_CHAR (SYSDATE, 'Q') Q, TO_CHAR (SYSDATE, 'WW') WW, TO_CHAR (SYSDATE, 'W') WFROM dual; Q WW W- -- -3 36 1Â≠óÁ¨¶‰∏≤ËΩ¨Êó∂Èó¥Ôºö12345SQL&gt; select to_date('2016-09-06','yyyy-MM-dd') time from dual; TIME--------------06-9Êúà -16next_dayËøîÂõû‰∏ã‰∏™ÊòüÊúüÁöÑÊó•Êúü,day‰∏∫1-7ÊàñÊòüÊúüÊó•-ÊòüÊúüÂÖ≠,1Ë°®Á§∫ÊòüÊúüÊó•Ôºå‰πüÂèØ‰ª•Áî®Ëã±ÊñáË°®Á§∫ÊòüÊúü„ÄÇ12345SQL&gt; select next_day(sysdate,'monday') time from dual; TIME--------------12-9Êúà -16‰∏§‰∏™Êó•ÊúüÁõ∏Â∑ÆÂ§©Êï∞12345SQL&gt; select floor(sysdate - to_date('20020405','yyyymmdd')) time from dual; TIME---------- 5268months_between123456789101112SQL&gt; SELECT MONTHS_BETWEEN ( TO_DATE ('2016-09-01', 'yyyy-MM-dd'), TO_DATE ('2016-01-01', 'yyyy-MM-dd') ) monthsFROM dual; MONTHS---------- 8round [ËàçÂÖ•Âà∞ÊúÄÊé•ËøëÁöÑÊó•Êúü]Ôºàday:ËàçÂÖ•Âà∞ÊúÄÊé•ËøëÁöÑÊòüÊúüÊó•Ôºâ12345678910111213SQL&gt; SELECT SYSDATE S1, ROUND (SYSDATE) S2, ROUND (SYSDATE, 'year') YEAR, ROUND (SYSDATE, 'month') MONTH, ROUND (SYSDATE, 'day') DAYFROM dual; S1 S2 YEAR MONTH DAY-------------- -------------- -------------- -------------- --------------07-9Êúà -16 07-9Êúà -16 01-1Êúà -17 01-9Êúà -16 04-9Êúà -16ËÆ°ÁÆóÊó∂Èó¥Â∑ÆÊ≥®:oracleÊó∂Èó¥Â∑ÆÊòØ‰ª•Â§©Êï∞‰∏∫Âçï‰Ωç,ÊâÄ‰ª•Êç¢ÁÆóÊàêÂπ¥Êúà,Êó•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566SQL&gt;SELECT FLOOR ( TO_NUMBER ( SYSDATE - TO_DATE ( '2007-11-02 15:55:03', 'yyyy-mm-dd hh24:mi:ss' ) ) / 365 ) AS spanYearsFROM dual; SPANYEARS---------- 8SQL&gt;SELECT CEIL ( MONTHS_BETWEEN ( SYSDATE, TO_DATE ( '2007-11-02 15:55:03', 'yyyy-mm-dd hh24:mi:ss' ) ) ) AS spanMonthsFROM dual; SPANMONTHS---------- 107SQL&gt;SELECT FLOOR ( TO_NUMBER ( SYSDATE - TO_DATE ( '2007-11-02 15:55:03', 'yyyy-mm-dd hh24:mi:ss' ) ) ) AS spanDaysFROM dual; SPANDAYS---------- 3231SQL&gt;SELECT FLOOR ( TO_NUMBER ( SYSDATE - TO_DATE ( '2007-11-02 15:55:03', 'yyyy-mm-dd hh24:mi:ss' ) ) * 24 ) AS spanHoursFROM dual; SPANHOURS---------- 77562/* ÂàÜÁßíÁï•Ôºå‰ª•Ê≠§Á±ªÊé® */Êü•ÊâæÊúàÁöÑÊúÄÂêé‰∏ÄÂ§©12345SQL&gt; select last_day(sysdate) from dual; LAST_DAY(SYSDA--------------30-9Êúà -16ADD_MONTHS(dateÔºåi)ÂØπÁªôÂÆöÁöÑÊó•ÊúüÂä†‰∏äÁªôÂÆöÁöÑÊúàÔºåÊü•ÁúãÊØè‰∏™ÂëòÂ∑•ÂÖ•ËÅå20Âë®Âπ¥1234567891011121314151617181920SQL&gt; select ename,add_months(hiredate,12*20) from lzp.emp; ENAME ADD_MONTHS(HIR---------- --------------SMITH 17-12Êúà-00ALLEN 20-2Êúà -01WARD 22-2Êúà -01JONES 02-4Êúà -01MARTIN 28-9Êúà -01BLAKE 01-5Êúà -01CLARK 09-6Êúà -01SCOTT 19-4Êúà -07KING 17-11Êúà-01TURNER 08-9Êúà -01ADAMS 23-5Êúà -07JAMES 03-12Êúà-01FORD 03-12Êúà-01MILLER 23-1Êúà -02Â∑≤ÈÄâÊã©14Ë°å„ÄÇEXTRACTÂçïÁã¨Ëé∑ÂèñÊåáÂÆöÊó∂Èó¥ÁöÑÂπ¥ÊàñÊúàÊàñÊó•12345SQL&gt; select extract(year from sysdate) from dual; EXTRACT(YEARFROMSYSDATE)------------------------ 2016Êï∞Â≠óÂáΩÊï∞ÂèñÊï¥ÂáΩÊï∞Ôºàceil Âêë‰∏äÂèñÊï¥,floor Âêë‰∏ãÂèñÊï¥Ôºâ12345SQL&gt; select ceil(66.6) N1,floor(66.6) N2 from dual; N1 N2---------- ---------- 67 66ÂèñÂπÇ(power) Âíå Ê±ÇÂπ≥ÊñπÊ†π(sqrt)12345SQL&gt; select power(3,2) N1,sqrt(9) N2 from dual; N1 N2---------- ---------- 9 3Ê±Ç‰Ωô12345SQL&gt; select mod(9,5) from dual; MOD(9,5)---------- 4ËøîÂõûÂõ∫ÂÆöÂ∞èÊï∞‰ΩçÊï∞ Ôºàround:ÂõõËàç‰∫îÂÖ•Ôºåtrunc:Áõ¥Êé•Êà™Êñ≠Ôºâ12345SQL&gt; select round(66.667,2) N1,trunc(66.667,2) N2 from dual; N1 N2---------- ---------- 66.67 66.66ËøîÂõûÂÄºÁöÑÁ¨¶Âè∑ÔºàÊ≠£Êï∞ËøîÂõû‰∏∫1,Ë¥üÊï∞‰∏∫-1Ôºâ12345SQL&gt; select sign(-32),sign(293) from dual; SIGN(-32) SIGN(293)---------- ---------- -1 1LEAST„ÄÅGREATEST‰∏§‰∏™ÂáΩÊï∞ÈÉΩÂèØ‰ª•ÊúâÂ§ö‰∏™ÂèÇÊï∞ÂÄºÔºå‰ΩÜÂèÇÊï∞Á±ªÂûãÂøÖÈ°ª‰∏ÄËá¥ÔºåËøîÂõûÁªìÊûúÊòØÂèÇÊï∞ÂàóË°®‰∏≠ÊúÄÂ§ßÊàñÊúÄÂ∞èÁöÑÂÄº„ÄÇ Âú®ÊØîËæÉ‰πãÂâçÔºåÂú®ÂèÇÊï∞ÂàóË°®‰∏≠Á¨¨‰∫å‰∏™‰ª•ÂêéÁöÑÂèÇÊï∞‰ºöË¢´ÈöêÂê´ÁöÑËΩ¨Êç¢‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊâÄ‰ª•Â¶ÇÊûúÂèØ‰ª•ËΩ¨Êç¢ÔºåÂàôÁªßÁª≠ÊØîËæÉÔºåÂ¶ÇÊûú‰∏çËÉΩËΩ¨Êç¢Â∞Ü‰ºöÊä•Èîô„ÄÇ12345SQL&gt; select least(1,2,3),greatest(sysdate,'01-10Êúà-16') from dual; LEAST(1,2,3) GREATEST(SYSDA------------ -------------- 1 01-10Êúà-16ÂÖ∂‰ªñÂáΩÊï∞vsize: ËøîÂõûË°®ËææÂºèÊâÄÈúÄÁöÑÂ≠óËäÇÊï∞12345SQL&gt; select vsize('mrBird123') from dual; VSIZE('MRBIRD123')------------------ 9nvl(ex1,ex2):ex1ÂÄº‰∏∫Á©∫ÂàôËøîÂõûex2,Âê¶ÂàôËøîÂõûËØ•ÂÄºÊú¨Ë∫´ex1ÔºàÂ∏∏Áî®Ôºâ ‰æãÔºöÂ¶ÇÊûúÈõáÂëòÊ≤°Êúâ‰Ω£ÈáëÔºåÂ∞ÜÊòæÁ§∫0ÔºåÂê¶ÂàôÊòæÁ§∫‰Ω£Èáë1234567891011121314151617181920SQL&gt; select comm,nvl(comm,0) from lzp.emp; COMM NVL(COMM,0)---------- ----------- 0 300 300 500 500 0 1400 1400 0 0 0 0 0 0 0 0 0 0 Â∑≤ÈÄâÊã©14Ë°å„ÄÇnullif(ex1,ex2):1234567891011121314SQL&gt; select nullif(88,88) from dual; NULLIF(88,88)------------- SQL&gt; select nullif(88,123) from dual; NULLIF(88,123)-------------- 88SQL&gt; select nullif('mrBird','mrBird') from dual; NULLIF------nvl2(ex1,ex2,ex3) :Â¶ÇÊûúex1‰∏ç‰∏∫Á©∫ÔºåÊòæÁ§∫ex2,Âê¶ÂàôÊòæÁ§∫ex3Ê≥®ÔºöÈÉ®ÂàÜÂÜÖÂÆπÊù•Ëá™ËÑöÊú¨‰πãÂÆ∂]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Encryption - Decryption]]></title>
    <url>%2FJava-Encryption-Decryption.html</url>
    <content type="text"><![CDATA[ÂºÄÂèë‰∏≠ÔºåÁªèÂ∏∏Ë¶ÅÂØπ‰∏Ä‰∫õÊïèÊÑüÂÜÖÂÆπËøõË°åÂä†ÂØÜÔºåËøôÊó∂ÂÄôÂèØ‰ª•Áî®Âà∞javax.crypto.CipherÁ±ªÊèê‰æõÂä†ÂØÜÂíåËß£ÂØÜÂäüËÉΩ„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144public class EncryptionDecryption &#123; //ËÆæÁΩÆÈªòËÆ§ÂØÜÂåô private static String strDefaultKey = "defaultKey"; //Âä†ÂØÜ private Cipher encryptCipher = null; //Ëß£ÂØÜ private Cipher decryptCipher = null; /** * Â∞ÜbyteÊï∞ÁªÑËΩ¨Êç¢‰∏∫Ë°®Á§∫16ËøõÂà∂ÂÄºÁöÑÂ≠óÁ¨¶‰∏≤Ôºå Â¶ÇÔºöbyte[]&#123;8,18&#125;ËΩ¨Êç¢‰∏∫Ôºö0813Âíå * public static byte[]hexStr2ByteArr(String strIn) ‰∫í‰∏∫ÂèØÈÄÜÁöÑËΩ¨Êç¢ËøáÁ®ã * @param arrB ÈúÄË¶ÅËΩ¨Êç¢ÁöÑbyteÊï∞ÁªÑ * @return ËΩ¨Êç¢ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ * @throws Exception */ public static String byteArr2HexStr(byte[] arrB) throws Exception &#123; int iLen = arrB.length; // ÊØè‰∏™byteÁî®‰∏§‰∏™Â≠óÁ¨¶ÊâçËÉΩË°®Á§∫ÔºåÊâÄ‰ª•Â≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÊòØÊï∞ÁªÑÈïøÂ∫¶ÁöÑ‰∏§ÂÄç StringBuffer sb = new StringBuffer(iLen * 2); for (int i = 0; i &lt; iLen; i++) &#123; int intTmp = arrB[i]; // ÊääË¥üÊï∞ËΩ¨Êç¢‰∏∫Ê≠£Êï∞ while (intTmp &lt; 0) &#123; intTmp = intTmp + 256; &#125; // Â∞è‰∫é0FÁöÑÊï∞ÈúÄË¶ÅÂú®ÂâçÈù¢Ë°•0 if (intTmp &lt; 16) &#123; sb.append("0"); &#125; sb.append(Integer.toString(intTmp, 16)); &#125; return sb.toString(); &#125; /** * Â∞ÜË°®Á§∫16ËøõÂà∂ÂÄºÁöÑÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫byteÊï∞ÁªÑÂíåpublic static String * byteArr2HexStr(byte[] arrB)‰∫í‰∏∫ÂèØÈÄÜÁöÑËΩ¨Êç¢ËøáÁ®ã * @param strIn ÈúÄË¶ÅËΩ¨Êç¢ÁöÑÂ≠óÁ¨¶‰∏≤ * @return ËΩ¨Êç¢ÂêéÁöÑbyteÊï∞ÁªÑ * @throws Exception */ public static byte[] hexStr2ByteArr(String strIn) throws Exception &#123; byte[] arrB = strIn.getBytes(); int iLen = arrB.length; // ‰∏§‰∏™Â≠óÁ¨¶Ë°®Á§∫‰∏Ä‰∏™Â≠óËäÇÔºåÊâÄ‰ª•Â≠óËäÇÊï∞ÁªÑÈïøÂ∫¶ÊòØÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶Èô§‰ª•2 byte[] arrOut = new byte[iLen / 2]; for (int i = 0; i &lt; iLen; i = i + 2) &#123; String strTmp = new String(arrB, i, 2); arrOut[i / 2] = (byte) Integer.parseInt(strTmp, 16); &#125; return arrOut; &#125; /** * ÈªòËÆ§ÊûÑÈÄ†ÊñπÊ≥ïÔºå‰ΩøÁî®ÈªòËÆ§ÂØÜÈí• * @throws Exception */ public EncryptionDecryption() throws Exception &#123; this(strDefaultKey); &#125; /** * ÊåáÂÆöÂØÜÈí•ÊûÑÈÄ†ÊñπÊ≥ï * @param strKey ÊåáÂÆöÁöÑÂØÜÈí• * @throws Exception */ public EncryptionDecryption(String strKey) throws Exception &#123; Security.addProvider(new com.sun.crypto.provider.SunJCE()); Key key = getKey(strKey.getBytes()); encryptCipher = Cipher.getInstance("DES"); encryptCipher.init(Cipher.ENCRYPT_MODE, key); decryptCipher = Cipher.getInstance("DES"); decryptCipher.init(Cipher.DECRYPT_MODE, key); &#125; /** * Âä†ÂØÜÂ≠óËäÇÊï∞ÁªÑ * @param arrB ÈúÄÂä†ÂØÜÁöÑÂ≠óËäÇÊï∞ÁªÑ * @return Âä†ÂØÜÂêéÁöÑÂ≠óËäÇÊï∞ÁªÑ * @throws Exception */ public byte[] encrypt(byte[] arrB) throws Exception &#123; return encryptCipher.doFinal(arrB); &#125; /** * Âä†ÂØÜÂ≠óÁ¨¶‰∏≤ * * @param strIn ÈúÄÂä†ÂØÜÁöÑÂ≠óÁ¨¶‰∏≤ * @return Âä†ÂØÜÂêéÁöÑÂ≠óÁ¨¶‰∏≤ * @throws Exception */ public String encrypt(String strIn) throws Exception &#123; return byteArr2HexStr(encrypt(strIn.getBytes())); &#125; /** * Ëß£ÂØÜÂ≠óËäÇÊï∞ÁªÑ * @param arrB ÈúÄËß£ÂØÜÁöÑÂ≠óËäÇÊï∞ÁªÑ * @return Ëß£ÂØÜÂêéÁöÑÂ≠óËäÇÊï∞ÁªÑ * @throws Exception */ public byte[] decrypt(byte[] arrB) throws Exception &#123; return decryptCipher.doFinal(arrB); &#125; /** * Ëß£ÂØÜÂ≠óÁ¨¶‰∏≤ * @param strIn ÈúÄËß£ÂØÜÁöÑÂ≠óÁ¨¶‰∏≤ * @return Ëß£ÂØÜÂêéÁöÑÂ≠óÁ¨¶‰∏≤ * @throws Exception */ public String decrypt(String strIn) throws Exception &#123; try &#123; return new String(decrypt(hexStr2ByteArr(strIn))); &#125; catch (Exception e) &#123; return ""; &#125; &#125; /** * ‰ªéÊåáÂÆöÂ≠óÁ¨¶‰∏≤ÁîüÊàêÂØÜÈí•ÔºåÂØÜÈí•ÊâÄÈúÄÁöÑÂ≠óËäÇÊï∞ÁªÑÈïøÂ∫¶‰∏∫8‰Ωç ‰∏çË∂≥8‰ΩçÊó∂ÂêéÈù¢Ë°•0ÔºåË∂ÖÂá∫ * 8‰ΩçÂè™ÂèñÂâç8‰Ωç * @param arrBTmp ÊûÑÊàêËØ•Â≠óÁ¨¶‰∏≤ÁöÑÂ≠óËäÇÊï∞ÁªÑ * @return ÁîüÊàêÁöÑÂØÜÈí• * @throws java.lang.Exception */ private Key getKey(byte[] arrBTmp) throws Exception &#123; // ÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑ8‰ΩçÂ≠óËäÇÊï∞ÁªÑÔºàÈªòËÆ§ÂÄº‰∏∫0Ôºâ byte[] arrB = new byte[8]; // Â∞ÜÂéüÂßãÂ≠óËäÇÊï∞ÁªÑËΩ¨Êç¢‰∏∫8‰Ωç for (int i = 0; i &lt; arrBTmp.length &amp;&amp; i &lt; arrB.length; i++) &#123; arrB[i] = arrBTmp[i]; &#125; // ÁîüÊàêÂØÜÈí• Key key = new javax.crypto.spec.SecretKeySpec(arrB, "DES"); return key; &#125;&#125;ÊµãËØïÔºö1234567891011121314public static void main(String[] args) &#123; try &#123; //ËÆæÁΩÆÂØÜÂåô EncryptionDecryption ed=new EncryptionDecryption("mrbird"); //Âä†ÂØÜ System.out.println(ed.encrypt("testEncryption")); //a9eb83878c22e90a23dcc32a0333e5e8 //Ëß£ÂØÜ System.out.println(ed.decrypt("a9eb83878c22e90a23dcc32a0333e5e8")); //testEncryption &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OracleÊï∞ÊçÆÂ∫ì‰∏éÂÆû‰æã]]></title>
    <url>%2FOracle%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E5%AE%9E%E4%BE%8B.html</url>
    <content type="text"><![CDATA[ÈÄöÂ∏∏Ôºå‚ÄúOracleÊï∞ÊçÆÂ∫ì‚ÄùÊó¢ÊåáÂ≠òÂÇ®Âú®Á°¨Áõò‰∏äÁöÑÂÜÖÈÉ®Â≠òÊúâÊï∞ÊçÆÁöÑÊï∞ÊçÆÊñá‰ª∂Ôºå‰πüÊåáÁî®Êù•ÁÆ°ÁêÜËøô‰∫õÊï∞ÊçÆÊñá‰ª∂ÁöÑÂÜÖÂ≠òÁªìÊûÑ„ÄÇÂÆûÈôÖ‰∏äÔºå‚ÄúÊï∞ÊçÆÂ∫ì‚ÄùÂΩíÂ±û‰∫éÊï∞ÊçÆÊñá‰ª∂Ôºå‚ÄúÂÆû‰æã‚ÄùÂàôÂΩíÂ±û‰∫éÂÜÖÂ≠òÁªìÊûÑ„ÄÇÂõæ1-1Â±ïÁ§∫‰∫ÜoracleÂÆû‰æã‰∏éÊï∞ÊçÆÂ∫ìÁöÑÂÖ≥Á≥ª„ÄÇ‰∏Ä‰∏™ÂÆû‰æãÁî±Á≥ªÁªüÂÖ®Â±ÄÂÜÖÂ≠òÂå∫ÂüüÔºàSystem Global AreaÔºåSGAÔºâ‰ª•Âèä‰∏ÄÁ≥ªÂàóÂêéÂè∞ËøõÁ®ãÁªÑÊàê„ÄÇÊØè‰∏™ÈìæÊé•Âà∞Êï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑ÈÉΩÊòØÈÄöËøá‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØËøõÁ®ãËøõË°åÁÆ°ÁêÜÔºåÂÆ¢Êà∑Á´ØËøõÁ®ã‰∏éÊúçÂä°Âô®ËøõÁ®ãÁõ∏ËÅîÁªìÔºåÊØè‰∏™ÊúçÂä°Âô®ËøõÁ®ãÈÉΩ‰ºöË¢´ÂàÜÈÖç‰∏ÄÂùóÁßÅÊúâÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºåËØ•Âå∫ÂüüÁß∞‰∏∫Á®ãÂ∫èÂÖ±‰∫´ÂÜÖÂ≠òÂå∫ÂüüÊàñËøõÁ®ãÂÖ±‰∫´ÂÜÖÂ≠òÂå∫ÂüüÔºàProcess Global AreaÔºåPGAÔºâ„ÄÇÂõæ1-1 ÂÆû‰æã‰∏éÊï∞ÊçÆÂ∫ìÂÖ≥Á≥ªÂõæ SGAÂÖ±‰∫´Ê±†ÂÖ±‰∫´Ê±†ÊòØOracleÁºìÂ≠òÊï∞ÊçÆÁöÑÂú∞Êñπ„ÄÇÊâßË°åËøáÁöÑÊØè‰∏ÄÊù°SQLËØ≠Âè•Âú®ÂÖ±‰∫´Ê±†ÈÉΩÂ≠òÊúâËß£ÊûêÂêéÁöÑÂÜÖÂÆπ„ÄÇËÄåÂ≠òÊîæËøô‰∫õÂÜÖÂÆπÁöÑÂå∫ÂüüÁß∞‰∏∫Â∫ìÈ´òÈÄüÁºìÂ≠ò„ÄÇÂú®ÊØè‰∏ÄÊù°SQLËØ≠Âè•ÊâßË°å‰πãÂâçÔºåOracleÈÉΩ‰ºöÊü•ÁúãÂ∫ìÈ´òÈÄüÁºìÂ≠ò‰∏≠ÊòØÂê¶Â∑≤Â≠òÂú®Áõ∏ÂêåÁöÑSQLËØ≠Âè•„ÄÇÂ≠òÂú®ÁöÑËØùÁõ¥Êé•‰ªéÈáåÈù¢ËØªÂèñËØ•‰ø°ÊÅØÔºåËÄåÈùûÂÜçËß£Êûê‰∏ÄÈÅç„ÄÇÂÖ±‰∫´Ê±†ËøòÂ≠òÂÇ®ÊâÄÊúâOracleÊï∞ÊçÆÂ∫ìÂØπË±°‰ø°ÊÅØÔºåÂ≠òÂÇ®ËØ•‰ø°ÊÅØÁöÑÂå∫ÂüüÁß∞‰∏∫Êï∞ÊçÆÂ≠óÂÖ∏ÁºìÂ≠òÂå∫Âüü„ÄÇÂÖ±‰∫´Ê±†ÂÜÖÂ≠òÊúâÈôêÔºåÂ∑≤Âä†ËΩΩÁöÑËØ≠Âè•‰∏çËÉΩÈïøÊó∂Èó¥Â≠òÊîæÂú®ÂÖ∂‰∏≠„ÄÇÂü∫Êú¨ÊÄùÊÉ≥ÊòØ‰øùÁïôÈÇ£‰∫õ‰ΩøÁî®ÊúÄÈ¢ëÁπÅ‰ª•ÂèäÊúÄËøë‰ΩøÁî®ÁöÑËØ≠Âè•„ÄÇÂ∫ìÈ´òÈÄüÁºìÂ≠òÊØè‰∏ÄÊù°SQLËØ≠Âè•ÊâßË°å‰πãÂâçÈÉΩÂ∞ÜË¢´Ëß£ÊûêÂπ∂Â≠òÂÖ•Âà∞Â∫ìÈ´òÈÄüÁºìÂ≠ò‰∏≠„ÄÇËß£ÊûêÂåÖÊã¨È™åËØÅËØ≠Ê≥ïÔºåÊ£ÄÈ™åÊèêÂèäÂØπË±°ÔºåÁ°ÆËÆ§ÂØπË±°Áî®Êà∑ÊùÉÈôê„ÄÇÊ£ÄÈ™åËøáÂêéÔºå‰∏ã‰∏Ä‰∏™Ê≠•È™§Â∞±ÊòØÊâßË°åËΩØËß£ÊûêÊàñËÄÖÁ°¨Ëß£Êûê„ÄÇËΩØËß£ÊûêÔºöÂ∫ìÈ´òÈÄüÁºìÂ≠òËß£ÊûêÊØè‰∏ÄÊù°sqlÔºåÂà§Êñ≠‰πãÂâçÊòØÂê¶ÊâßË°åËøáËØ•ËØ≠Âè•ÔºåÂ¶ÇÊûúÊòØÔºåOracleÂ∞ÜÂèñÂõû‰πãÂâçËß£ÊûêÁöÑ‰ø°ÊÅØÂπ∂ÈáçÁî®„ÄÇÁ°¨Ëß£ÊûêÔºöÂ¶ÇÊûúËØ•ËØ≠Âè•‰πãÂâçÊ≤°ÊúâÊâßË°åËøáÔºåOracleÂ∞ÜÊâßË°åÊâÄÊúâÂ∑•‰ΩúÊù•‰∏∫ÂΩìÂâçÁöÑsqlËØ≠Âè•ÁîüÊàêÊâßË°åËÆ°ÂàíÔºåÂπ∂Â∞ÜÂÖ∂‰øùÂ≠òÂú®ÁºìÂ≠ò‰∏≠‰ª•Â§áÂ∞ÜÊù•ÈáçÁî®„ÄÇÁî±Ê≠§ÂèØËßÅÔºåËΩØËß£ÊûêÊïàÁéáËøúÊØîÁ°¨Ëß£ÊûêÊïàÁéáÈ´òÂæóÂ§öÔºÅÂÆåÂÖ®Áõ∏ÂêåÁöÑËØ≠Âè•Êúâ‰∏âÊù°SQLËØ≠Âè•Ôºö12345678910111213141516171819202122232425262728SQL&gt; select employee_id,first_name,last_name from hr.employees where department_id = 60; EMPLOYEE_ID FIRST_NAME LAST_NAME----------- -------------------- ------------------------- 103 Alexander Hunold 104 Bruce Ernst 105 David Austin 106 Valli Pataballa 107 Diana LorentzSQL&gt; SELECT EMPLOYEE_ID,FIRST_NAME,LAST_NAME FROM HR.EMPLOYEES WHERE DEPARTMENT_ID = 60; EMPLOYEE_ID FIRST_NAME LAST_NAME----------- -------------------- ------------------------- 103 Alexander Hunold 104 Bruce Ernst 105 David Austin 106 Valli Pataballa 107 Diana Lorentz SQL&gt; select /*a_comment*/ employee_id,first_name,last_name from hr.employees where department_id = 60; EMPLOYEE_ID FIRST_NAME LAST_NAME----------- -------------------- ------------------------- 103 Alexander Hunold 104 Bruce Ernst 105 David Austin 106 Valli Pataballa 107 Diana Lorentz‰∏âÊù°SQLËØ≠Âè•ÁöÑÊâßË°åÁªìÊûúÂÆåÂÖ®‰∏ÄËá¥„ÄÇ‰ΩÜ‰ªñ‰ª¨ÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑSQLËØ≠Âè•‰πàÔºüÊü•ÁúãV$sqlËßÜÂõæÔºö1234567SQL&gt; select sql_id,hash_value,executions from v$sql where upper(sql_text) like '%EMPLOYEES%'; SQL_ID HASH_VALUE EXECUTIONS------------- ---------- ----------3g8h969j7cgdd 1651916205 13j0qbm7gx8jwz 3755231135 1ary9nccpyyqmb 737106539 1‰ªéÁªìÊûúÊù•ÁúãÔºåËøô‰∏âÊù°SQLÂπ∂‰∏ç‰∏ÄÊ†∑ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Âπ∂‰∏çÊòØ‰∏•Ê†º‰∏ÄËá¥ÁöÑ„ÄÇÂÆåÂÖ®Áõ∏ÂêåÁöÑSQLËØ≠Âè•ÂøÖÈ°ª Â§ßÂ∞èÂÜôÂ≠óÊØç‰∏ÄËá¥ÔºåÁ©∫Ê†º‰ΩçÁΩÆ‰∏ÄËá¥ÔºåÊ≥®ÈáäÂÜÖÂÆπ‰ΩçÁΩÆÂÆåÂÖ®‰∏ÄËá¥„ÄÇÂèØ‰ª•ÈÄöËøáÁªëÂÆöÂèòÈáèÁöÑÊñπÂºèÊù•‰ª£ÊõøÂ∏∏ÈáèÔºö123456789101112131415161718192021222324252627282930313233343536373839SQL&gt; variable v_dept numberSQL&gt; exec :v_dept :=10 SQL&gt; select employee_id,first_name,last_name from hr.employees where department_id = :v_dept; EMPLOYEE_ID FIRST_NAME LAST_NAME----------- -------------------- ------------------------- 200 Jennifer Whalen /*--------------------------------------------------------*/SQL&gt; exec :v_dept :=20 SQL&gt; select employee_id,first_name,last_name from hr.employees where department_id = :v_dept; EMPLOYEE_ID FIRST_NAME LAST_NAME----------- -------------------- ------------------------- 201 Michael Hartstein 202 Pat Fay /*--------------------------------------------------------*/SQL&gt; exec :v_dept :=30 SQL&gt; select employee_id,first_name,last_name from hr.employees where department_id = :v_dept; EMPLOYEE_ID FIRST_NAME LAST_NAME----------- -------------------- ------------------------- 114 Den Raphaely 115 Alexander Khoo 116 Shelli Baida 117 Sigal Tobias 118 Guy Himuro 119 Karen Colmenares /*--------------------------------------------------------*/SQL&gt; select sql_id,hash_value,executions from v$sql where upper(sql_text) like '%V_DEPT%'; SQL_ID HASH_VALUE EXECUTIONS------------- ---------- ----------6qsnhnb7dbdra 3470112490 3Áî±Ê≠§ÂèØËßÅÔºåÂ∫ìÈ´òÈÄüÁºìÂ≠òÂè™Â≠òÂÇ®‰∫Ü‰∏ÄÊù°ËØ≠Âè•ÔºåÂπ∂ÊâßË°å‰∫Ü‰∏âÊ¨°„ÄÇÈîÅÂ≠òÂô®OracleÂè™ÊúâËé∑Âæó‰∫ÜÈîÅÂ≠òÂô®ÂêéÊâçÂèØ‰ª•‰ªéÂ∫ìÈ´òÈÄüÁºìÂ≠òÊàñÂÖ∂‰ªñÂÜÖÂ≠ò‰∏≠ËØªÂèñ‰ø°ÊÅØ„ÄÇÈîÅÂ≠òÂô®ÂèØ‰ª•ÈÅøÂÖçÂ∫ìÈ´òÈÄüÁºìÂ≠òÂêåÊó∂Ë¢´‰∏§‰∏™‰ºöËØù‰øÆÊîπÔºå‰∏Ä‰∏™‰ºöËØùÂú®ËØªÂèñÂ∫ìÈ´òÈÄüÁºìÂ≠ò‰ø°ÊÅØ‰πãÂâçÔºåÈÉΩ‰ºöËé∑Âæó‰∏Ä‰∏™ÈîÅÂ≠òÂô®ÔºåÂè¶‰∏Ä‰∏™‰ºöËØùÂøÖÈ°ªÁ≠âÂà∞‰∏ä‰∏Ä‰∏™‰ºöËØùÈáäÊîæÈîÅÂ≠òÂô®„ÄÇËá™ÊóãÂ¶ÇOracleÂà§Êñ≠ÂΩìÂâçsqlÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®Â∫ìÈ´òÈÄüÁºìÂ≠ò‰∏≠Êó∂ÂøÖÈ°ªÂÖàËé∑ÂæóÈîÅÂ≠òÂô®ÔºåÂ¶ÇÊûúÊ≠§Êó∂ÈîÅÂ≠òÂô®‰∏çÊòØÁ©∫Èó≤ÁöÑÔºåOracle‰ºöËø≠‰ª£ËΩÆËØ¢ÔºåÊü•ÁúãÈîÅÂ≠òÂô®ÊòØÂê¶ÂèØÁî®„ÄÇÁªèËøá‰∏ÄÊÆµÊó∂Èó¥Ôºà_spin_count=2000ÔºâÈîÅÂ≠òÂô®‰ªç‰∏çÂèØÁî®ÁöÑËØùÔºåËØ•ËØ∑Ê±Ç‰ºöË¢´ÊöÇÊó∂ÊåÇËµ∑ÔºåÁõ¥Âà∞‰∏ã‰∏ÄÊ¨°Ëé∑ÂæócpuÊó∂Èó¥Áâá„ÄÇSGAÁºìÂÜ≤Âå∫ÁºìÂ≠òÂ≠òÂÇ®Êï∞ÊçÆÂùó„ÄÇÂùóÊòØOracleËøõË°åÊìç‰ΩúÁöÑÊúÄÂ∞èÁöÑÂçï‰ΩçÔºåÂåÖÂê´Êï∞ÊçÆË°åÔºåÁ¥¢ÂºïÊàñÁî®Êù•ÊéíÂ∫èÁöÑ‰∏¥Êó∂Êï∞ÊçÆÔºà‰πüÂåÖÂê´ÂùóËá™Ë∫´‰ø°ÊÅØÔºâ„ÄÇOracleÂøÖÈ°ªËØªÂèñÂùóÊù•Ëé∑ÂèñsqlÈúÄË¶ÅÁöÑÊï∞ÊçÆË°å„ÄÇÁºìÂÜ≤Âå∫ÂùóÁöÑÁÆ°ÁêÜ‰πüÈÅµÂæ™LRU(Least Recently Used)ÂéüÂàôÔºåÂêåÊó∂‰πüÊúâ‰∏™Âè´Êé•Ëß¶ËÆ°Êï∞Âô®Ôºàtouch-countÔºâÁöÑ‰∏úË•øÔºåËÆ∞ÂΩïÂùóË¢´‰ΩøÁî®ÁöÑÊ¨°Êï∞ÔºåË¢´ËÆøÈóÆË∂äÈ¢ëÁπÅÁöÑÂùóÂ≠òÊ¥ªÊó∂Èó¥Ë∂äÈïø„ÄÇÂú®È™åËØÅÂùóÊòØÂê¶Â≠òÂú®ÁºìÂÜ≤Âå∫ÁºìÂ≠òÁöÑËøáÁ®ã‰∏≠Ôºå‰πüÈúÄË¶ÅËé∑ÂæóÈîÅÂ≠òÂô®„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™sqlÊü•ËØ¢ÊâÄÈúÄÊï∞ÊçÆ‰∏çÂú®ÁºìÂÜ≤Âå∫ÁºìÂ≠òÁöÑÂùó‰∏≠ÔºåÂ∞±ÂøÖÈ°ªËØªÂèñÊìç‰ΩúÁ≥ªÁªüÁ°¨ÁõòÊù•Ëé∑ÂèñËøô‰∫õ‰ø°ÊÅØÔºåÁÑ∂ÂêéÂ≠òÊîæÂà∞ÁºìÂÜ≤Âå∫ÁºìÂ≠òÁöÑÂùó‰∏≠„ÄÇÈÄªËæëËØªÂèñÔºöOracle‰ªéÁºìÂÜ≤Âå∫ÁºìÂ≠òÂùó‰∏≠ËØªÂèñÊï∞ÊçÆÔºõÁâ©ÁêÜËØªÂèñÔºöÁºìÂÜ≤Âå∫ÁºìÂ≠òÂùó‰∏≠Ê≤°ÊúâÊï∞ÊçÆÔºåOracle‰ªéÁ°¨Áõò‰∏≠ËØªÂèñÊï∞ÊçÆÁöÑËøáÁ®ã„ÄÇEg:1.Ê∏ÖÈô§ÂÖ±‰∫´Ê±†ÂíåÁºìÂÜ≤Âå∫ÁºìÂ≠òÔºàÁ°¨Ëß£ÊûêÂíåÁâ©ÁêÜËØªÂèñÔºâÔºö123456789101112131415161718192021SQL&gt; alter system set events 'immediate trace name flush_cache';Á≥ªÁªüÂ∑≤Êõ¥Êîπ„ÄÇSQL&gt; alter system flush shared_pool;Á≥ªÁªüÂ∑≤Êõ¥Êîπ„ÄÇSQL&gt; set autotrace traceonly statisticsSQL&gt;SQL&gt; select * from hr.employees where department_id=60; ÁªüËÆ°‰ø°ÊÅØ---------------------------------------------------------- 976 recursive calls 0 db block gets 237 consistent gets 23 physical reads 0 redo size 1320 bytes sent via SQL*Net to client 359 bytes received via SQL*Net from client 2 SQL*Net roundtrips to/from client 9 sorts (memory) 0 sorts (disk) 5 rows processed2.‰ªÖÊ∏ÖÈô§ÁºìÂÜ≤Âå∫ÁºìÂ≠òÔºàËΩØËß£ÊûêÂíåÁâ©ÁêÜËØªÂèñÔºâÔºö12345678910111213141516171819202122SQL&gt; set autotrace offSQL&gt;SQL&gt; alter system set events 'immediate trace name flush_cache'; Á≥ªÁªüÂ∑≤Êõ¥Êîπ„ÄÇSQL&gt; set autotrace traceonly statisticsSQL&gt;SQL&gt; select * from hr.employees where department_id=60; ÁªüËÆ°‰ø°ÊÅØ---------------------------------------------------------- 0 recursive calls 0 db block gets 4 consistent gets 2 physical reads 0 redo size 1320 bytes sent via SQL*Net to client 359 bytes received via SQL*Net from client 2 SQL*Net roundtrips to/from client 0 sorts (memory) 0 sorts (disk) 5 rows processed ‚Äã3.ÈÉΩ‰∏çÊ∏ÖÈô§ÔºàËΩØËß£ÊûêÂíåÈÄªËæëËØªÂèñÔºâÔºö123456789101112131415SQL&gt; select * from hr.employees where department_id=60; ÁªüËÆ°‰ø°ÊÅØ---------------------------------------------------------- 0 recursive calls 0 db block gets 4 consistent gets 0 physical reads 0 redo size 1320 bytes sent via SQL*Net to client 359 bytes received via SQL*Net from client 2 SQL*Net roundtrips to/from client 0 sorts (memory) 0 sorts (disk) 5 rows processed ‚ÄãÁªìÊûúËØÅÊòéÔºåÂΩìÊâßË°åÁöÑÊü•ËØ¢Âè™ÈúÄË¶ÅËΩØËß£ÊûêÂíåÈÄªËæëËØªÂèñÊï∞ÊçÆÂùóÁöÑÊó∂ÂÄôÔºåÊâÄÊ∂àËÄóÁöÑËµÑÊ∫êÊòØÊúÄÂ∞ëÁöÑÔºÅ]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptÊó∂Èó¥Ê†ºÂºèÂåñ]]></title>
    <url>%2FJavaScript%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96.html</url>
    <content type="text"><![CDATA[ÊúâÊó∂ÂÄôÂêéÂè∞‰º†ÈÄÅÁöÑÊó∂Èó¥Ê†ºÂºèÊòØËøôÊ†∑ÁöÑÔºö1471881600000ÔºåÊàñËÄÖÈÄöËøánew Date( )ÁîüÊàêÁöÑÊó∂Èó¥Ê†ºÂºèÊòØËøôÊ†∑ÁöÑÔºöTue Aug 30 2016 16:32:38 GMT+0800 (‰∏≠ÂõΩÊ†áÂáÜÊó∂Èó¥)„ÄÇJavaScriptÊ≤°ÊúâÁ±ª‰ºº‰∫éjavaÁöÑSimpleDateFormat( )ÂáΩÊï∞ÔºåËøôÊó∂ÂÄôÂèØ‰ª•Ëá™Â∑±ÂÜô‰∏Ä‰∏™ÂáΩÊï∞‰ª£ÊõøÔºö1234567891011121314151617181920212223//Êó∂Èó¥Ê†ºÂºèÂåñDate.prototype.Format = function (fmt) &#123; var o = &#123; "M+": this.getMonth() + 1, "d+": this.getDate(), "h+": this.getHours(), "m+": this.getMinutes(), "s+": this.getSeconds(), "q+": Math.floor((this.getMonth() + 3) / 3), "S": this.getMilliseconds() &#125;; if (/(y+)/.test(fmt))&#123; fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "") .substr(4 - RegExp.$1.length)); &#125; for (var k in o)&#123; if (new RegExp("(" + k + ")").test(fmt))&#123; fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length))); &#125; &#125; return fmt;&#125;Ë∞ÉÁî®ÊñπÂºèÔºönew Date( ).Format(&quot;yyyy-MM-dd&quot;);]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[dom4jËß£ÊûêÂíåÁîüÊàêxmlÊñá‰ª∂]]></title>
    <url>%2Fdom4j%E8%A7%A3%E6%9E%90%E5%92%8C%E7%94%9F%E6%88%90xml%E6%96%87%E4%BB%B6.html</url>
    <content type="text"><![CDATA[Ëß£ÊûêxmlÂ§ßËá¥Ê≠•È™§Ôºö1: ÂàõÂª∫SAXReaderÔºõ2: ‰ΩøÁî®SAXReaderËß£ÊûêÊåáÂÆöÁöÑxmlÊñáÊ°£‰ø°ÊÅØÔºåÂπ∂ËøîÂõûÂØπÂ∫îDocumentÂØπË±°„ÄÇDocumentÂØπË±°‰∏≠Â∞±ÂåÖÂê´‰∫ÜËØ•xmlÊñá‰∏≠ÁöÑÊâÄÊúâ‰ø°ÊÅØ‰ª•ÂèäÁªìÊûÑ‰∫Ü„ÄÇ3: Ê†πÊçÆÊñáÊ°£ÁªìÊûÑÂ∞ÜxmlÊèèËø∞ÁöÑÊ†ëÁä∂‰ø°ÊÅØËØªÂèñÂà∞ „ÄÇÁé∞Êúâemp.xmlÊñá‰ª∂ÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÔºö123456789101112131415161718192021222324252627282930313233&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;list&gt; &lt;emp id="1"&gt; &lt;name&gt;ÊèêÂà©ÊòÇ¬∑ÂÖ∞Â∞ºÊñØÁâπ&lt;/name&gt; &lt;age&gt;25&lt;/age&gt; &lt;gender&gt;Áî∑&lt;/gender&gt; &lt;salary&gt;5000&lt;/salary&gt; &lt;/emp&gt; &lt;emp id="2"&gt; &lt;name&gt;Âç°‰∏ΩÁÜô&lt;/name&gt; &lt;age&gt;27&lt;/age&gt; &lt;gender&gt;Â•≥&lt;/gender&gt; &lt;salary&gt;6000&lt;/salary&gt; &lt;/emp&gt; &lt;emp id="3"&gt; &lt;name&gt;ÁêºÊÅ©¬∑Èõ™ËØ∫&lt;/name&gt; &lt;age&gt;28&lt;/age&gt; &lt;gender&gt;Áî∑&lt;/gender&gt; &lt;salary&gt;7000&lt;/salary&gt; &lt;/emp&gt; &lt;emp id="4"&gt; &lt;name&gt;Â∏ÉÂÖ∞¬∑ÊñØÂ°îÂÖã&lt;/name&gt; &lt;age&gt;22&lt;/age&gt; &lt;gender&gt;Áî∑&lt;/gender&gt; &lt;salary&gt;8000&lt;/salary&gt; &lt;/emp&gt; &lt;emp id="5"&gt; &lt;name&gt;nightKing&lt;/name&gt; &lt;age&gt;26&lt;/age&gt; &lt;gender&gt;Êú™Áü•&lt;/gender&gt; &lt;salary&gt;9000&lt;/salary&gt; &lt;/emp&gt;&lt;/list&gt;Êñ∞Âª∫‰∏Ä‰∏™empÂÆû‰ΩìÁ±ªÔºåÁî®‰∫éÊé•Êî∂Ëß£ÊûêÊï∞ÊçÆÔºö12345678910111213141516171819public class Emp &#123; private int id; private String name; private int age; private String gender; private int salary; public Emp()&#123; &#125; public Emp(int id,String name,int age,String gender,int salary)&#123; super(); this.id = id; this.name = name; this.age = age; this.gender = gender; this.salary = salary; &#125; //get,setÁï•&#125;123456789101112131415161718192021222324252627282930313233343536373839public class ParseXmlDemo &#123; public static List getXml()&#123; try &#123; SAXReader reader=new SAXReader(); Document doc=reader.read(new File("emp.xml")); List&lt;Emp&gt; list=new ArrayList&lt;Emp&gt;(); /* * Ëß£ÊûêÁ¨¨‰∏ÄÊ≠•ÔºåËé∑ÂèñÊ†πÊ†áÁ≠æÔºàÊ†πÂÖÉÁ¥†Ôºâ * ËøôÈáåËé∑ÂèñÁöÑÊ†πÊ†áÁ≠æÂ∞±Áõ∏ÂΩì‰∫éÊòØ&lt;list&gt;...&lt;/list&gt; * ÈÇ£ÂØπÊ†áÁ≠æ„ÄÇ */ Element root=doc.getRootElement(); //Ëé∑ÂèñÂêç‰∏∫"emp"ÁöÑÊ†áÁ≠æ List&lt;Element&gt; elementList=root.elements("emp"); //ÈÅçÂéÜÊØè‰∏Ä‰∏™empÊ†áÁ≠æ for(Element empEle:elementList)&#123; //Ëé∑Âèñname String name=empEle.elementText("name"); int age=Integer.parseInt(empEle.elementText("age")); String gender=empEle.elementText("gender"); int salary=Integer.parseInt(empEle.elementText("salary")); //Â±ûÊÄß Attribute attr=empEle.attribute("id"); int id=Integer.parseInt(attr.getValue()); Emp emp=new Emp(id,name,age,gender,salary); list.add(emp); &#125; return list; &#125; catch (Exception e) &#123; // TODO: handle exception System.out.println(e.toString()); &#125; return null;&#125; public static void main(String[] args) &#123; List list=ParseXmlDemo.getXml(); System.out.println(list.toString()); &#125;&#125;ËæìÂá∫ÁªìÊûúÔºö123451,ÊèêÂà©ÊòÇ¬∑ÂÖ∞Â∞ºÊñØÁâπ,25,Áî∑,5000, 2,Âç°‰∏ΩÁÜô,27,Â•≥,6000,3,ÁêºÊÅ©Èõ™ËØ∫,28,Áî∑,7000, 4,Â∏ÉÂÖ∞ÊñØÂ°îÂÖã,22,Áî∑,8000, 5,nightKing,26,Êú™Áü•,9000ÁîüÊàêxmlÂ§ßËá¥Ê≠•È™§Ôºö1: ÂàõÂª∫‰∏Ä‰∏™DocumentÂØπË±°ÔºåË°®Á§∫‰∏Ä‰∏™Á©∫ÁöÑxmlÊñáÊ°£Ôºõ2: ÂêëDocument‰∏≠Ê∑ªÂä†Ê†πÂÖÉÁ¥†Ôºõ3: ÊåâÁÖßÁõÆÊ†áxmlÊñáÊ°£ÁöÑÁªìÊûÑÈ°∫Â∫èÂêëÊ†πÂÖÉÁ¥†‰∏≠Ê∑ªÂä†Â≠êÂÖÉÁ¥†Êù•ÁªÑÂª∫ËØ•ÁªìÊûÑÔºõ4: ÂàõÂª∫XMLWriterÔºõ5: ËÆæÁΩÆ‰ΩéÁ∫ßÊµÅÔºõ6: ‰ΩøÁî®XMLWriterÂ∞ÜDocumentÂÜôÂá∫Êù•ÁîüÊàê ËØ•ÊñáÊ°£ „ÄÇ1234567891011121314151617181920212223242526272829303132333435363738394041424344public class WriteXmlDemo &#123; public static void main(String[] args) &#123; try &#123; List&lt;Emp&gt; list= new ArrayList&lt;Emp&gt;(); list.add(new Emp(1,"È∏£‰∫∫",25,"Áî∑",4000)); list.add(new Emp(2,"Â∞èÊ®±",27,"Â•≥",6000)); list.add(new Emp(3,"‰ΩêÂä©",28,"Áî∑",7000)); list.add(new Emp(4,"ÈõèÁî∞",22,"Â•≥",8000)); list.add(new Emp(5,"Âç°Âç°Ë•ø",26,"Áî∑",90001)); Document doc = DocumentHelper.createDocument(); //ÁîüÊàêÊ†πÂÖÉÁ¥† Element root = doc.addElement("list"); for(Emp emp : list)&#123; //Ê†πÊ†áÁ≠æ‰∏ãÊ∑ªÂä†Â≠êÊ†áÁ≠æ Element empEle= root.addElement("emp"); //ÂêëempÊ†áÁ≠æ‰∏≠Ê∑ªÂä†Â≠êÊ†áÁ≠æname Element nameEle= empEle.addElement("name"); //Ê†áÁ≠æËµãÂÄº nameEle.addText(emp.getName()); Element ageEle = empEle.addElement("age"); ageEle.addText(emp.getAge()+""); Element genderEle = empEle.addElement("gender"); genderEle.addText(emp.getGender()); Element salaryEle = empEle.addElement("salary"); salaryEle.addText(emp.getSalary()+""); //Ê∑ªÂä†Â±ûÊÄß empEle.addAttribute("id", emp.getId()+""); &#125; //org.dom4j.XMLWriter XMLWriter writer = new XMLWriter( OutputFormat.createPrettyPrint()); /* * ÂêëÊñá‰ª∂myemp.xml‰∏≠ÂÜôÂá∫Êï∞ÊçÆ */ FileOutputStream fos= new FileOutputStream("myemp.xml"); writer.setOutputStream(fos); writer.write(doc); writer.close(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125;ÁîüÊàêmyemp.xmlÔºö12345678910111213141516171819202122232425262728293031323334&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;list&gt; &lt;emp id="1"&gt; &lt;name&gt;È∏£‰∫∫&lt;/name&gt; &lt;age&gt;25&lt;/age&gt; &lt;gender&gt;Áî∑&lt;/gender&gt; &lt;salary&gt;4000&lt;/salary&gt; &lt;/emp&gt; &lt;emp id="2"&gt; &lt;name&gt;Â∞èÊ®±&lt;/name&gt; &lt;age&gt;27&lt;/age&gt; &lt;gender&gt;Â•≥&lt;/gender&gt; &lt;salary&gt;6000&lt;/salary&gt; &lt;/emp&gt; &lt;emp id="3"&gt; &lt;name&gt;‰ΩêÂä©&lt;/name&gt; &lt;age&gt;28&lt;/age&gt; &lt;gender&gt;Áî∑&lt;/gender&gt; &lt;salary&gt;7000&lt;/salary&gt; &lt;/emp&gt; &lt;emp id="4"&gt; &lt;name&gt;ÈõèÁî∞&lt;/name&gt; &lt;age&gt;22&lt;/age&gt; &lt;gender&gt;Â•≥&lt;/gender&gt; &lt;salary&gt;8000&lt;/salary&gt; &lt;/emp&gt; &lt;emp id="5"&gt; &lt;name&gt;Âç°Âç°Ë•ø&lt;/name&gt; &lt;age&gt;26&lt;/age&gt; &lt;gender&gt;Áî∑&lt;/gender&gt; &lt;salary&gt;90001&lt;/salary&gt; &lt;/emp&gt;&lt;/list&gt;]]></content>
      <tags>
        <tag>Java</tag>
        <tag>xml</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaËØªÂèñÂíå‰øÆÊîπiniÊñá‰ª∂]]></title>
    <url>%2FJava%E8%AF%BB%E5%8F%96%E5%92%8C%E4%BF%AE%E6%94%B9ini%E6%96%87%E4%BB%B6.html</url>
    <content type="text"><![CDATA[È°πÁõÆÂºÄÂèë‰∏≠Ôºå‰∏ÄËà¨Â∞ÜÁ≥ªÁªüÁ∫ßÁöÑÈÖçÁΩÆÊîæÂú®iniÈÖçÁΩÆÊñá‰ª∂ÈáåÔºåÈ°πÁõÆÂêØÂä®Êó∂ÔºåÈÄöËøájavaËØªÂèñiniÈáåÁöÑÂèòÈáèÂÄºÔºåÁÑ∂ÂêéÂèëÈÄÅÂà∞È°µÈù¢‰∏ä„ÄÇÂ¶ÇÁ∫¢Ëâ≤Ë≠¶ÊàíÁöÑra2.iniÈÖçÁΩÆÊñá‰ª∂Ôºö12345678910111213141516171819202122232425262728[MultiPlayer]PreferredGameTypeID = 111111 PreferredScenarioIndex=0Locale=0StoreNick=yesPortBase=1255PortPool=9415PhoneIndex=-1WOLLimitResolution=noLastNickSlot=-1Handle=5b,4e,65,77,20,50,6c,61,79,65,72,5d,Color=2ColorEx=-1Side=AmericansSideEx=-1GameMode=2 [Options]GameSpeed=0Difficulty=0ScrollMethod=0ScrollRate=0AutoScroll=yesDetailLevel=2SidebarCameoText=yesUnitActionLines=yesShowHidden=yesToolTips=yesËØªÂèñÂíå‰øÆÊîπÊñπÊ≥ïÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126public final class javaReadIniUtil &#123; /** * ‰ªéiniÈÖçÁΩÆÊñáÊ°£‰∏≠ËØªÂèñÂèòÈáèÁöÑÂÄº * @param file ÈÖçÁΩÆÊñáÊ°£ÁöÑË∑ØÂæÑ * @param section Ë¶ÅËé∑ÂèñÁöÑÂèòÈáèÊâÄÂú®ÊÆµÂêçÁß∞ * @param variable Ë¶ÅËé∑ÂèñÁöÑÂèòÈáèÂêçÁß∞ * @param defaultValue ÂèòÈáèÂêçÁß∞‰∏çÂ≠òÂú®Êó∂ÁöÑÈªòËÆ§ÂÄº * @return ÂèòÈáèÁöÑÂÄº * @throws IOException ÊäõÂá∫ÊñáÊ°£Êìç‰ΩúÂèØËÉΩÂá∫Áé∞ÁöÑioÂºÇÂ∏∏ */ public static String getProfileString(String file, String section, String variable, String defaultValue) throws IOException &#123; String strLine, value = ""; BufferedReader bufferedReader = new BufferedReader(new FileReader(file)); boolean isInSection = false; try &#123; while ((strLine = bufferedReader.readLine()) != null) &#123; strLine = strLine.trim(); Pattern p; Matcher m; p = Pattern.compile("\\["+section+"\\]"); m = p.matcher((strLine)); if (m.matches()) &#123; p = Pattern.compile("\\["+section+"\\]"); m = p.matcher(strLine); if (m.matches()) &#123; isInSection = true; &#125; else &#123; isInSection = false; &#125; &#125; if (isInSection == true) &#123; strLine = strLine.trim(); String[] strArray = strLine.split("="); if (strArray.length == 1) &#123; value = strArray[0].trim(); if (value.equalsIgnoreCase(variable)) &#123; value = ""; return value; &#125; &#125; else if (strArray.length == 2) &#123; value = strArray[0].trim(); if (value.equalsIgnoreCase(variable)) &#123; value = strArray[1].trim(); return value; &#125; &#125; else if (strArray.length &gt; 2) &#123; value = strArray[0].trim(); if (value.equalsIgnoreCase(variable)) &#123; value = strLine .substring(strLine.indexOf("=") + 1).trim(); return value; &#125; &#125; &#125; &#125; &#125; finally &#123; bufferedReader.close(); &#125; return defaultValue; &#125; /** * ‰øÆÊîπiniÈÖçÁΩÆÊñáÊ°£‰∏≠ÂèòÈáèÁöÑÂÄº * @param file ÈÖçÁΩÆÊñáÊ°£ÁöÑË∑ØÂæÑ * @param section Ë¶Å‰øÆÊîπÁöÑÂèòÈáèÊâÄÂú®ÊÆµÂêçÁß∞ * @param variable Ë¶Å‰øÆÊîπÁöÑÂèòÈáèÂêçÁß∞ * @param value ÂèòÈáèÁöÑÊñ∞ÂÄº * @throws IOException ÊäõÂá∫ÊñáÊ°£Êìç‰ΩúÂèØËÉΩÂá∫Áé∞ÁöÑioÂºÇÂ∏∏ */ public static boolean setProfileString(String file, String section,String variable, String value)throws IOException&#123; String fileContent, allLine, strLine, newLine, remarkStr; String getValue; BufferedReader bufferedReader = new BufferedReader(new FileReader(file)); boolean isInSection = false; fileContent = ""; try &#123; while ((allLine = bufferedReader.readLine()) != null) &#123; allLine = allLine.trim(); strLine = allLine; Pattern p; Matcher m; p = Pattern.compile("\\["+section+"\\]"); m = p.matcher((strLine)); if (m.matches()) &#123; p = Pattern.compile("\\["+section+"\\]"); m = p.matcher(strLine); if (m.matches()) &#123; isInSection = true; &#125; else &#123; isInSection = false; &#125; &#125; if (isInSection == true) &#123; strLine = strLine.trim(); String[] strArray = strLine.split("="); getValue = strArray[0].trim(); if (getValue.equalsIgnoreCase(variable)) &#123; newLine = getValue + " = " + value + " "; fileContent += newLine + "\r\n"; while((allLine = bufferedReader.readLine())!= null)&#123; fileContent += allLine + "\r\n"; &#125; bufferedReader.close(); BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(file, false)); bufferedWriter.write(fileContent); bufferedWriter.flush(); bufferedWriter.close(); return true; &#125; &#125; fileContent += allLine + "\r\n"; &#125; &#125; catch (IOException ex) &#123; throw ex; &#125; finally &#123; bufferedReader.close(); &#125; return false; &#125; &#125;ÊµãËØïÁ®ãÂ∫èÔºö123456789101112// ‰øÆÊîπiniÂÄºpublic static void main(String[] args) &#123; try &#123; javaReadIniUtil.setProfileString( "resource/ra2.ini", "MultiPlayer", "GameMode", "mr_bird")); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;ÂÄºÂ∑≤Ë¢´ÊîπÂèòÔºö12345678910111213141516[MultiPlayer]PreferredGameTypeID = 111111PreferredScenarioIndex=0Locale=0StoreNick=yesPortBase=1255PortPool=9415PhoneIndex=-1WOLLimitResolution=noLastNickSlot=-1Handle=5b,4e,65,77,20,50,6c,61,79,65,72,5d,Color=2ColorEx=-1Side=AmericansSideEx=-1GameMode = mr_birdËØªÂèñ[MultiPlayer]ÁöÑGameModeÂèòÈáèÂÄº123456789101112public static void main(String[] args) &#123; try &#123; System.out.println( readIniUtil.getProfileString( "resource/ra2.ini", "MultiPlayer", "GameMode", "default")); //mr_bird &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; ‚Äã]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java.math.BigDecimalÁ±ªÂ∏∏Áî®ÊñπÊ≥ï]]></title>
    <url>%2FJava-math-BigDecimal%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.html</url>
    <content type="text"><![CDATA[Âú®ÁºñÁ®ã‰∏≠ÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅÂæóÂà∞Á≤æÁ°ÆÁöÑËøêÁÆóÁªìÊûúÁöÑÊó∂ÂÄôÔºå+Ôºå-Ôºå*Ôºå/ Â∑≤Áªè‰∏çËÉΩÊª°Ë∂≥Êàë‰ª¨ÁöÑÈúÄÊ±ÇÔºåÊØîÂ¶ÇÔºö1234System.out.println(0.1+0.2); //0.30000000000000004System.out.println(0.3-0.2); //0.09999999999999998System.out.println(0.1*0.2); //0.020000000000000004System.out.println(1.2/3); //0.39999999999999997ÁÆÄÂçïÁöÑËøêÁÆóÁªìÊûúÂç¥‰∏çÁ¨¶ÂêàÊàë‰ª¨ÁöÑÈ¢ÑÊúü„ÄÇJavaÊèê‰æõ‰∫Ü‰∏Ä‰∏™Âè´BigDecimalÁöÑÁ±ªÔºåËØ•Á±ªÊîØÊåÅ‰ªª‰ΩïÁ≤æÂ∫¶ÁöÑÂÆöÁÇπÊï∞ÔºåÂèØ‰ª•Áî®ÂÆÉÊù•Á≤æÁ°ÆËÆ°ÁÆóË¥ßÂ∏ÅÂÄº„ÄÇjava.math.BigDecimalÁ±ªÂÖ±ÊúâÂõõ‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÔºö1.BigDecimal(int) ‚Äî-intÁ±ªÂûãËΩ¨‰∏∫BigDecimalÁ±ªÂûã2.BigDecimal(double) ‚Äî-doubleÁ±ªÂûãËΩ¨‰∏∫BigDecimalÁ±ªÂûã3.BigDecimal(long) ‚Äî-longÁ±ªÂûãËΩ¨‰∏∫BigDecimalÁ±ªÂûã4.BigDecimal(string) ‚Äî-stringÁ±ªÂûãËΩ¨‰∏∫BigDecimalÁ±ªÂûãÂÆûÈôÖ‰ΩøÁî®‰∏≠Ôºå‰∏ÄËà¨‰ΩøÁî®BigDecimal(string)ÊûÑÈÄ†ÊñπÊ≥ï„ÄÇÂõ†‰∏∫Â∞ÜstringÁ±ªÂûãËΩ¨‰∏∫BigDecimalÁöÑÁªìÊûúÊòØÂèØÈ¢ÑÁü•ÁöÑ„ÄÇÁõ∏ÂèçÔºåÂ¶ÇÈÄöËøáÊûÑÈÄ†ÊñπÊ≥ïBigDecimal(0.1) Â∞Ü0.1ËΩ¨‰∏∫BigDecimalÁ±ªÂûãÔºö1System.out.println(new BigDecimal(0.1)); //0.1000000000000000055511151...Âõ†‰∏∫0.1Âπ∂‰∏çËÉΩÁ≤æÁ°ÆÁöÑË°®Á§∫‰∏∫doubleËÄåÈÄöËøáBigDecimal(string)Êàë‰ª¨ÂèØ‰ª•ÂæóÂà∞È¢ÑÊúüÁöÑËΩ¨Êç¢ÁªìÊûúÔºö1System.out.println(new BigDecimal("0.1")); //0.1Â∏∏Áî®ÊñπÊ≥ïÔºö1.Âä†Ê≥ïÔºö123456BigDecimal add=new BigDecimal("0.1").add(new BigDecimal("0.2"));System.out.println(add); //0.3//‰øùÁïô‰∏§‰ΩçÊúâÊïàÊï∞Â≠óBigDecimal add1=new BigDecimal("0.1") .add(new BigDecimal("0.22222222222"),new MathContext(2));System.out.println(add1); //0.322.ÂáèÊ≥ïÔºö123456BigDecimal sub=new BigDecimal("0.3").subtract(new BigDecimal("0.1"));System.out.println(sub); //0.2//‰øùÁïô‰∏§‰ΩçÊúâÊïàÊï∞Â≠óBigDecimal sub=new BigDecimal("0.3") .subtract(new BigDecimal("0.111111111"),new MathContext(2));System.out.println(sub); //0.193.‰πòÊ≥ïÔºö123456BigDecimal mul=new BigDecimal("0.1").multiply(new BigDecimal("0.2"));System.out.println(mul); //0.02//‰øùÁïô‰∏§‰ΩçÊúâÊïàÊï∞Â≠óBigDecimal mul1=new BigDecimal("0.1") .multiply(new BigDecimal("0.2222222222"),new MathContext(2));System.out.println(mul1); //0.0224.Èô§Ê≥ïÔºö12345678910BigDecimal div=new BigDecimal("1.2").divide(new BigDecimal("3"));System.out.println(div); //0.4//‰øùÁïô‰∏§‰ΩçÊúâÊïàÊï∞Â≠óBigDecimal div1=new BigDecimal("1") .divide(new BigDecimal("3"),new MathContext(2));System.out.println(div1); //0.33//ÂõõËàç‰∫îÂÖ•Ôºå‰øùÁïô‰∏§‰ΩçÂ∞èÊï∞BigDecimal div2=new BigDecimal("2") .divide(new BigDecimal("3"), 2, RoundingMode.HALF_UP);System.out.println(div2); //0.675.ÊØîËæÉÂ§ßÂ∞èÔºö123456789//Â∞è‰∫éÔºåËøîÂõû-1int result=new BigDecimal("0.1").compareTo(new BigDecimal("0.2"));System.out.println(result); //-1 //Á≠â‰∫éÔºåËøîÂõû 0int result=new BigDecimal("0.2").compareTo(new BigDecimal("0.2"));System.out.println(result); //0//Â§ß‰∫éÔºåËøîÂõû 1int result=new BigDecimal("0.3").compareTo(new BigDecimal("0.2"));System.out.println(result); //1]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[EasyUIÁ≠âÂæÖÂä†ËΩΩÂä®Áîª [ËΩ¨]]]></title>
    <url>%2FEasyUI%E7%AD%89%E5%BE%85%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB-%E8%BD%AC.html</url>
    <content type="text"><![CDATA[‰ΩøÁî®ÊñπÊ≥ï:1.ÂºÄÂêØ:MaskUtil.mask();2.ÂÖ≥Èó≠:MaskUtil.unmask();3.MaskUtil.mask(‚ÄòÂÖ∂ÂÆÉÊèêÁ§∫ÊñáÂ≠ó‚Ä¶‚Äô);123456789101112131415161718192021222324252627282930var MaskUtil = (function()&#123; var $mask,$maskMsg; var defMsg = 'Ê≠£Âú®Â§ÑÁêÜÔºåËØ∑Á®çÂæÖ„ÄÇ„ÄÇ„ÄÇ'; function init()&#123; if(!$mask)&#123; $mask = $("&lt;div class=\"datagrid-mask mymask\"&gt;&lt;/div&gt;").appendTo("body"); &#125; if(!$maskMsg)&#123; $maskMsg = $("&lt;div class=\"datagrid-mask-msg mymask\"&gt;"+defMsg+"&lt;/div&gt;") .appendTo("body").css(&#123;'font-size':'12px'&#125;); &#125; $mask.css(&#123;width:"100%",height:$(document).height()&#125;); var scrollTop = $(document.body).scrollTop(); $maskMsg.css(&#123; left:( $(document.body).outerWidth(true) - 190 ) / 2 , top:( ($(window).height() - 45) / 2 ) + scrollTop &#125;); &#125; return &#123; mask:function(msg)&#123; init(); $mask.show(); $maskMsg.html(msg||defMsg).show(); &#125;, unmask:function()&#123; $mask.hide(); $maskMsg.hide(); &#125; &#125;&#125;());ËΩ¨Ëá™ÔºöAXEÂçöÂÆ¢]]></content>
      <tags>
        <tag>EasyUI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ªøWindowsÁïåÈù¢ÁöÑJFileChooser]]></title>
    <url>%2F%E4%BB%BFWindows%E7%95%8C%E9%9D%A2%E7%9A%84JFileChooser.html</url>
    <content type="text"><![CDATA[1234567891011121314151617181920try &#123; UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());&#125; catch (Exception e1) &#123; e1.printStackTrace();&#125;String out = new SimpleDateFormat("yyMMddhhmmss").format(new Date());JFileChooser fc = new JFileChooser();//ËÆæÁΩÆÈªòËÆ§Êñá‰ª∂Âêçfc.setSelectedFile(new File("È°πÁõÆÂÜÖÂÆπË°®" + out + ".xls"));fc.setDialogType(JFileChooser.FILES_ONLY);fc.setDialogTitle("ÈÄâÊã©‰øùÂ≠òË∑ØÂæÑ");fc.setMultiSelectionEnabled(false);int result = fc.showSaveDialog(fc);if (result == JFileChooser.APPROVE_OPTION) &#123; //‰øùÂ≠ò //your code here&#125; else &#123; //ÂèñÊ∂à //your code here&#125;Â¶ÇÂõæÔºöÊõ¥Êç¢ÂõæÊ†áÔºöÈáçÂÜôÂÖ∂Áà∂Á±ªJFrameÔºö123JFrame jf=new JFrame();ImageIcon imgIcon = new ImageIcon(ProExportUtil.class.getResource("icon.png"));jf.setIconImage(imgIcon.getImage());Â∞Ü‰∏äÈù¢13Ë°å‰ª£Á†ÅÊîπ‰∏∫Ôºö1int result = fc.showSaveDialog(jf);ÊïàÊûúÂ¶ÇÂõæÊâÄÁ§∫Ôºö]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[onClick‰∫ã‰ª∂ÂíåonDblClick ‰∫ã‰ª∂Âπ∂Â≠òÁöÑËß£ÂÜ≥ÊñπÊ≥ï [ËΩ¨]]]></title>
    <url>%2FonClick%E4%BA%8B%E4%BB%B6%E5%92%8ConDblClick-%E4%BA%8B%E4%BB%B6%E5%B9%B6%E5%AD%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-%E8%BD%AC.html</url>
    <content type="text"><![CDATA[ÊúÄËøëÈ°πÁõÆ‰∏≠ÈÅáÂà∞‰∫ÜÂú®Âêå‰∏ÄDOMÂÖÉÁ¥†‰∏äÈúÄË¶ÅÊ∑ªÂä† onclick Âíå ondblclick 2‰∏™‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÊåâÁÖßÊ≠£Â∏∏ÁöÑÊñπÂºèÊ∑ªÂä†Â§ÑÁêÜÔºåÁªìÊûúÂèëÁé∞Âè™‰ºöÊâßË°åonclickÔºåËÄå‰∏ç‰ºöÊâßË°å ondblclickÔºõËøôÊó∂Êàë‰ª¨ÈúÄË¶ÅÂØπ2‰∏™‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÂáΩÊï∞Á®ç‰ΩúÂ§ÑÁêÜÂ∞±ÂèØ‰ª•ÂÆûÁé∞2‰∏™‰∫ã‰ª∂Âπ∂Â≠ò‰∫ÜÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö12345678910111213141516171819202122&lt;script type="text/javascript"&gt; var clickTimer = null; function _click()&#123; if(clickTimer) &#123; window.clearTimeout(clickTimer); clickTimer = null; &#125; clickTimer = window.setTimeout(function()&#123; // your click process code here alert("‰Ω†ÂçïÂáª‰∫ÜÊàë"); &#125;, 300); &#125; function _dblclick()&#123; if(clickTimer) &#123; window.clearTimeout(clickTimer); clickTimer = null; &#125; // your click process code here alert("‰Ω†ÂèåÂáª‰∫ÜÊàë"); &#125; &lt;/script&gt;Â§ÑÁêÜÊÄùÊÉ≥Â∞±ÊòØÔºöÂà©Áî®ÂÆöÊó∂Âô®Âª∂ËøüÊâßË°åonclick‰∫ã‰ª∂ÔºåËøôÊ†∑Âú®ÂèåÂáªËøáÁ®ã‰∏≠‰ºöÂèñÊ∂à‰∏≠ÈÄîËß¶ÂèëÁöÑÂçïÂáª‰∫ã‰ª∂„ÄÇËΩ¨Ëá™Â±±Âì•]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Apache POIÂØºÂá∫ExcelÊñá‰ª∂]]></title>
    <url>%2FApache-POI%E5%AF%BC%E5%87%BAExcel%E6%96%87%E4%BB%B6.html</url>
    <content type="text"><![CDATA[Apache POI ÊòØÁî®JavaÁºñÂÜôÁöÑÂÖçË¥πÂºÄÊ∫êÁöÑË∑®Âπ≥Âè∞ÁöÑ Java APIÔºåApache POIÊèê‰æõAPIÁªôJavaÁ®ãÂºèÂØπMicrosoft OfficeÊ†ºÂºèÊ°£Ê°àËØªÂíåÂÜôÁöÑÂäüËÉΩ„ÄÇApache POI ‰∏≠Êèê‰æõÁöÑÂá†Â§ßÈÉ®ÂàÜÁöÑ‰ΩúÁî®Ôºö1.HSSF Ôºç Êèê‰æõËØªÂÜôMicrosoft Excel XLSÊ†ºÂºèÊ°£Ê°àÁöÑÂäüËÉΩ„ÄÇ2.XSSF Ôºç Êèê‰æõËØªÂÜôMicrosoft Excel OOXML XLSXÊ†ºÂºèÊ°£Ê°àÁöÑÂäüËÉΩ„ÄÇ3.HWPF Ôºç Êèê‰æõËØªÂÜôMicrosoft Word DOCÊ†ºÂºèÊ°£Ê°àÁöÑÂäüËÉΩ„ÄÇ4.HSLF Ôºç Êèê‰æõËØªÂÜôMicrosoft PowerPointÊ†ºÂºèÊ°£Ê°àÁöÑÂäüËÉΩ„ÄÇ5.HDGF Ôºç Êèê‰æõËØªMicrosoft VisioÊ†ºÂºèÊ°£Ê°àÁöÑÂäüËÉΩ„ÄÇ6.HPBF Ôºç Êèê‰æõËØªMicrosoft PublisherÊ†ºÂºèÊ°£Ê°àÁöÑÂäüËÉΩ„ÄÇ7.HSMF Ôºç Êèê‰æõËØªMicrosoft OutlookÊ†ºÂºèÊ°£Ê°àÁöÑÂäüËÉΩ„ÄÇ‰ΩøÁî®Apache POIÂØºÂá∫ExcelË°®Ê†ºÊñá‰ª∂Â§ßËá¥Â¶Ç‰∏ãÂá†‰∏™Ê≠•È™§Ôºö1.ÂàõÂª∫Êñ∞ÁöÑExcelÂ∑•‰ΩúËñÑÔºö1HSSFWorkbook workbook = new HSSFWorkbook(); ‚Äã2.ÂàõÂª∫‰∏Ä‰∏™Â∑•‰ΩúË°®ÔºåÂ¶Ç‚ÄúÂëòÂ∑•Ë°®‚ÄùÔºö1HSSFSheet sheet = workbook.createSheet("ÂëòÂ∑•Ë°®"); ‚Äã3.ÂàõÂª∫Ë°åÔºö1HSSFRow row = sheet.createRow(0); //0Ë°®Á§∫Á¥¢Âºï‰∏∫0ÁöÑ‰ΩçÁΩÆÔºå‰πüÂ∞±ÊòØÂ∑¶‰∏äËßí4.ÂàõÂª∫ÂàóÔºà‰πüÂ∞±ÊòØÊØè‰∏ÄË°åÁöÑÂçïÂÖÉÊ†ºÔºâ:1HSSFCell cell = row.createCell((short) 0); ‚Äã5.ÂàõÂª∫Êñá‰ª∂ÊµÅÔºåËæìÂá∫ExcelÔºåËæìÂá∫ÂêéÂÖ≥Èó≠ÊµÅ‰ª•‰∏ãÊòØÂÖ∑‰ΩìÂÆû‰æãÔºöExcelÂ∑•ÂÖ∑Á±ª(ExcelUtil)Ôºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899public class ExcelUtil &#123; private HSSFWorkbook wb = null; private HSSFSheet sheet = null; /** * @param wb * @param sheet */ public ExcelUtil(HSSFWorkbook wb, HSSFSheet sheet) &#123; super(); this.wb = wb; this.sheet = sheet; &#125; public HSSFSheet getSheet() &#123; return sheet; &#125; public void setSheet(HSSFSheet sheet) &#123; this.sheet = sheet; &#125; public HSSFWorkbook getWb() &#123; return wb; &#125; public void setWb(HSSFWorkbook wb) &#123; this.wb = wb; &#125; /** * ÂàõÂª∫ÈÄöÁî®EXCELÂ§¥ÈÉ® * * @param headString Â§¥ÈÉ®ÊòæÁ§∫ÁöÑÂ≠óÁ¨¶ * @param colSum ËØ•Êä•Ë°®ÁöÑÂàóÊï∞ */ @SuppressWarnings("deprecation") public void createNormalHead(String headString, int colSum) &#123; // ËÆæÁΩÆÁ¨¨‰∏ÄË°å HSSFRow row = sheet.createRow(0); HSSFCell cell = row.createCell(0); row.setHeight((short) 350); // ÂÆö‰πâÂçïÂÖÉÊ†º‰∏∫Â≠óÁ¨¶‰∏≤Á±ªÂûã cell.setCellType(HSSFCell.ENCODING_UTF_16); // ËÆæÁΩÆExcelË°®Ê†ºÊ†áÈ¢ò cell.setCellValue(new HSSFRichTextString(headString)); // ÊåáÂÆöÂêàÂπ∂Âå∫Âüü sheet.addMergedRegion(new Region(0,(short) 0,0,(short) colSum)); // ËÆæÁΩÆÂçïÂÖÉÊ†ºÊ†∑Âºè HSSFCellStyle cellStyle = wb.createCellStyle(); // ÊåáÂÆöÂçïÂÖÉÊ†ºÂ±Ö‰∏≠ÂØπÈΩê cellStyle.setAlignment(HSSFCellStyle.ALIGN_CENTER); cellStyle.setVerticalAlignment(HSSFCellStyle.VERTICAL_CENTER); // ÊåáÂÆöÂçïÂÖÉÊ†ºËá™Âä®Êç¢Ë°å cellStyle.setWrapText(true); // ËÆæÁΩÆÂçïÂÖÉÊ†ºÂ≠ó‰Ωì HSSFFont font = wb.createFont(); font.setBoldweight(HSSFFont.BOLDWEIGHT_NORMAL); font.setFontName("ÂæÆËΩØÈõÖÈªë"); font.setFontHeight((short) 250); cellStyle.setFont(font); cell.setCellStyle(cellStyle); &#125; /** * ÂàõÂª∫ÂçïÂÖÉÊ†ºÊñπÊ≥ï * * @param wb HSSFWorkbook * @param row HSSFRow * @param col shortÂûãÁöÑÂàóÁ¥¢Âºï * @param align ÂØπÈΩêÊñπÂºè * @param val ÂàóÂÄº */ public void cteateCell(HSSFWorkbook wb, HSSFRow row, int col, String val) &#123; HSSFCell cell = row.createCell(col); cell.setCellType(HSSFCell.ENCODING_UTF_16); cell.setCellValue(new HSSFRichTextString(val)); HSSFCellStyle cellStyle = wb.createCellStyle(); cellStyle.setAlignment(HSSFCellStyle.ALIGN_CENTER); cellStyle.setVerticalAlignment(HSSFCellStyle.VERTICAL_CENTER); HSSFFont font = wb.createFont(); font.setBoldweight(HSSFFont.BOLDWEIGHT_NORMAL); font.setFontName("ÂæÆËΩØÈõÖÈªë"); cellStyle.setFont(font); cell.setCellStyle(cellStyle); &#125; /** * ËæìÂÖ•EXCELÊñá‰ª∂ * * @param fileName Êñá‰ª∂Âêç */ public void outputExcel(String fileName) &#123; FileOutputStream fos = null; try &#123; fos = new FileOutputStream(new File(fileName)); wb.write(fos); fos.close(); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125;ExcelË°®Ê†ºÊñá‰ª∂ÁîüÊàêÁ±ªÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566public class ExportExcelClient &#123; // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑExcelÂ∑•‰ΩúÁ∞ø private static HSSFWorkbook wb = new HSSFWorkbook(); // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂ∑•‰ΩúË°® private static HSSFSheet sheet = wb.createSheet(); private static Session session = null; public static void main(String[] args) &#123; ExcelUtil exportExcel = new ExcelUtil(wb, sheet); session = SessionUtil.getSession(); // Êü•ËØ¢ÂàóÂêç String column_names = "select COLUMN_NAME from USER_TAB_COLS where TABLE_NAME = 'SYS_OBJECT_TYPE'"; List&lt;String&gt; list = session.createSQLQuery(column_names).list(); // ÂàóÊï∞ Integer column_nums = list.toArray().length; exportExcel.createNormalHead("Êü•ËØ¢ÁªìÊûúË°®", column_nums - 1); // 1.ËÆæÁΩÆExcelË°®Ë°®Â§¥ HSSFRow row = sheet.createRow(1); HSSFCellStyle cellStyle = wb.createCellStyle(); // ËÆæÁΩÆË°®Â§¥ËÉåÊôØËâ≤ cellStyle.setFillForegroundColor(HSSFColor.LIGHT_GREEN.index); cellStyle.setFillPattern(HSSFCellStyle.SOLID_FOREGROUND); // ËÆæÁΩÆË°®Â§¥Â≠ó‰Ωì HSSFFont font = wb.createFont(); font.setBoldweight(HSSFFont.BOLDWEIGHT_BOLD); font.setFontName("ÂæÆËΩØÈõÖÈªë"); cellStyle.setFont(font); // ËÆæÁΩÆË°®Â§¥ÂàóÂêç for (int i = 0; i &lt; column_nums; i++) &#123; HSSFCell cell = row.createCell((short) i); cell.setCellType(HSSFCell.CELL_TYPE_STRING); cell.setCellValue(list.toArray()[i].toString()); cell.setCellStyle(cellStyle); &#125; // 2.Â°´ÂÄº // ÁªüËÆ°ÊÄªÂÖ±ÊúâÂá†Ë°åÊï∞ÊçÆ String count = "select count(*) from SYS_OBJECT_TYPE"; Integer num = Integer.valueOf(session.createSQLQuery(count).uniqueResult().toString()); // Êü•ËØ¢Âá∫Ë°®Ê†ºÂÜÖÂÆπ String sql = "select * from SYS_OBJECT_TYPE"; Query q = session.createSQLQuery(sql); @SuppressWarnings("unchecked") List&lt;Object&gt; data = q.list(); // Âæ™ÁéØÂêëExcelË°®Ê†ºÂ°´ÂÖÖÊï∞ÊçÆ // ÊØè‰∏ÄË°å for (int i = 2; i &lt; num; i++) &#123; HSSFRow row1 = sheet.createRow((short) i); // ÊØè‰∏ÄÂàó for (int j = 0; j &lt; column_nums; j++) &#123; ortExcel.cteateCell(wb, row1, (short) j, ((Object[]) data.get(i))[j] == null ? "" :((Object[]) data.get(i))[j].toString()); // ËÆæÁΩÆÂàóÁöÑÂÆΩÂ∫¶Ê†πÊçÆÂÜÖÂÆπËá™ÈÄÇÂ∫î sheet.autoSizeColumn((short) j); &#125; &#125; String out = new SimpleDateFormat("yyMMddhhmmss").format(new Date()); // 3.ËæìÂá∫xls exportExcel.outputExcel("d:\\Êü•ËØ¢ÁªìÊûú" + out + ".xls"); session.close(); &#125;&#125;ÊïàÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºöÈôÑÂΩï‰∏ÄÔºöÁõ∏ÂÖ≥jarÂåÖÈìæÊé•:ÁôæÂ∫¶ÁΩëÁõò ÂØÜÁ†ÅÔºöwow5ÈôÑÂΩï‰∫åÔºöHSSFColorÈ¢úËâ≤ÂØπÁÖßË°®Ôºö]]></content>
      <tags>
        <tag>POI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰∏ä‰º†‰∏ãËΩΩdemo]]></title>
    <url>%2F%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BDdemo.html</url>
    <content type="text"><![CDATA[ÈôÑ‰ª∂‰∏ä‰º†‰∏ãËΩΩÁöÑÂü∫Êú¨ËøáÁ®ã‰∏ªË¶ÅÂåÖÂê´‰∏§‰∏™Ê≠•È™§Ôºö1.ÈÄöËøáIOÊµÅÂ∞ÜÈôÑ‰ª∂‰∏ä‰º†/‰∏ãËΩΩÂà∞ÂØπÂ∫îÁöÑÊñá‰ª∂Â§πÂÜÖÔºõ2.Â∞ÜÈôÑ‰ª∂ÂØπÂ∫îÁöÑ‰ø°ÊÅØÔºàÁªèËøáÂ§ÑÁêÜÂêéÁöÑÈôÑ‰ª∂ÂêçÔºåÊ†ºÂºèÔºåÂ§ßÂ∞èÁ≠âÔºâ‰øùÂ≠òÂà∞Êï∞ÊçÆÂ∫ì„ÄÇ‰∏ãÂõæÊòØÊ≠§Ê¨°demoÁöÑÊïàÊûúÂõæÔºàÈªòËÆ§Áî®Êà∑id‰∏∫1ÔºâÔºöÊï∞ÊçÆÂ∫ìÈôÑ‰ª∂Ë°®SYS_ANNEXÔºö123456789101112 create table SYS_ANNEX ( ANNEX_ID VARCHAR2(20) not null, --ÈôÑ‰ª∂id AREA_ID NUMBER(5), BUSI_TYPE_ID NUMBER(5), --‰∏öÂä°Á±ªÂûãidÔºåËøôÈáåÊàë‰ª¨ÈªòËÆ§‰∏∫1 ANNEX_KEY VARCHAR2(20) not null, NAME VARCHAR2(100) not null, --ÈôÑ‰ª∂Âêç USER_ID NUMBER(12) not null, --Áî®Êà∑idÔºåËøôÈáåÊàë‰ª¨ÈªòËÆ§‰∏∫1 CREATE_DATE DATE not null, --ÂàõÂª∫Êó∂Èó¥ STATE_ID NUMBER(5) not null, STATE_DATE DATE not null, constraint PK_SYS_ANNEX primary key (ANNEX_ID));SessionÂ∑•ÂÖ∑Á±ªÔºåÁî®Êù•ÂàõÂª∫Êü•ËØ¢Ôºö1234567891011121314public class SessionUtil &#123; private static SessionFactory sf; static&#123; Configuration conf=new Configuration(); conf.configure("hibernate.cfg.xml"); sf=conf.buildSessionFactory(); &#125; public static Session getSession()&#123; return sf.openSession(); &#125; public static SessionFactory getSf()&#123; return sf; &#125;&#125;‰∏ä‰º†Ê®°ÂùóservletÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152public class UploadHandleServlet extends HttpServlet &#123; public void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; // ÂæóÂà∞‰∏ä‰º†Êñá‰ª∂ÁöÑ‰øùÂ≠òÁõÆÂΩïÔºåÂ∞Ü‰∏ä‰º†ÁöÑÊñá‰ª∂Â≠òÊîæ‰∫éWEB-INFÁõÆÂΩï‰∏ãÔºå‰∏çÂÖÅËÆ∏Â§ñÁïåÁõ¥Êé•ËÆøÈóÆÔºå // ‰øùËØÅ‰∏ä‰º†Êñá‰ª∂ÁöÑÂÆâÂÖ® String savePath = this.getServletContext().getRealPath("/WEB-INF/upload"); // ‰∏ä‰º†Êó∂ÁîüÊàêÁöÑ‰∏¥Êó∂Êñá‰ª∂‰øùÂ≠òÁõÆÂΩï String tempPath = this.getServletContext().getRealPath("/WEB-INF/temp"); File tmpFile = new File(tempPath); if (!tmpFile.exists()) &#123; // ÂàõÂª∫‰∏¥Êó∂ÁõÆÂΩï tmpFile.mkdir(); &#125; // Ê∂àÊÅØÊèêÁ§∫ String message = ""; try &#123; // ‰ΩøÁî®ApacheÊñá‰ª∂‰∏ä‰º†ÁªÑ‰ª∂Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†Ê≠•È™§Ôºö // 1„ÄÅÂàõÂª∫‰∏Ä‰∏™DiskFileItemFactoryÂ∑•ÂéÇ DiskFileItemFactory factory = new DiskFileItemFactory(); // ËÆæÁΩÆÂ∑•ÂéÇÁöÑÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞èÔºåÂΩì‰∏ä‰º†ÁöÑÊñá‰ª∂Â§ßÂ∞èË∂ÖËøáÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞èÊó∂ÔºåÂ∞±‰ºöÁîüÊàê‰∏Ä‰∏™ // ‰∏¥Êó∂Êñá‰ª∂Â≠òÊîæÂà∞ÊåáÂÆöÁöÑ‰∏¥Êó∂ÁõÆÂΩïÂΩì‰∏≠„ÄÇËÆæÁΩÆÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞è‰∏∫100KBÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÔºå // ÈÇ£‰πàÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞èÈªòËÆ§ÊòØ10KB factory.setSizeThreshold(1024 * 100); // ËÆæÁΩÆ‰∏ä‰º†Êó∂ÁîüÊàêÁöÑ‰∏¥Êó∂Êñá‰ª∂ÁöÑ‰øùÂ≠òÁõÆÂΩï factory.setRepository(tmpFile); // 2„ÄÅÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂‰∏ä‰º†Ëß£ÊûêÂô® ServletFileUpload upload=new ServletFileUpload(factory); // Ëß£ÂÜ≥‰∏ä‰º†Êñá‰ª∂ÂêçÁöÑ‰∏≠Êñá‰π±Á†Å upload.setHeaderEncoding("UTF-8"); // 3„ÄÅÂà§Êñ≠Êèê‰∫§‰∏äÊù•ÁöÑÊï∞ÊçÆÊòØÂê¶ÊòØ‰∏ä‰º†Ë°®ÂçïÁöÑÊï∞ÊçÆ if (!ServletFileUpload.isMultipartContent(request)) &#123; // ÊåâÁÖß‰º†ÁªüÊñπÂºèËé∑ÂèñÊï∞ÊçÆ return; &#125; // ËÆæÁΩÆ‰∏ä‰º†Âçï‰∏™Êñá‰ª∂ÁöÑÂ§ßÂ∞èÁöÑÊúÄÂ§ßÂÄºÔºåÁõÆÂâçÊòØËÆæÁΩÆ‰∏∫1024*1024*100Â≠óËäÇÔºå // ‰πüÂ∞±ÊòØ100MB upload.setFileSizeMax(1024 * 1024 * 100); // ËÆæÁΩÆ‰∏ä‰º†Êñá‰ª∂ÊÄªÈáèÁöÑÊúÄÂ§ßÂÄºÔºåÊúÄÂ§ßÂÄº=ÂêåÊó∂‰∏ä‰º†ÁöÑÂ§ö‰∏™Êñá‰ª∂ÁöÑÂ§ßÂ∞èÁöÑ // ÊúÄÂ§ßÂÄºÁöÑÂíåÔºåÁõÆÂâçËÆæÁΩÆ‰∏∫1000MB upload.setSizeMax(1024 * 1024 * 1000); // 4„ÄÅ‰ΩøÁî®ServletFileUploadËß£ÊûêÂô®Ëß£Êûê‰∏ä‰º†Êï∞ÊçÆÔºåËß£ÊûêÁªìÊûúËøîÂõûÁöÑ // ÊòØ‰∏Ä‰∏™List&lt;FileItem&gt;ÈõÜÂêàÔºåÊØè‰∏Ä‰∏™FileItemÂØπÂ∫î‰∏Ä‰∏™FormË°®ÂçïÁöÑ // ËæìÂÖ•È°π List&lt;FileItem&gt; list = upload.parseRequest(request); for (FileItem item : list) &#123; // Â¶ÇÊûúfileitem‰∏≠Â∞ÅË£ÖÁöÑÊòØÊôÆÈÄöËæìÂÖ•È°πÁöÑÊï∞ÊçÆ if (item.isFormField()) &#123; String name = item.getFieldName(); // Ëß£ÂÜ≥ÊôÆÈÄöËæìÂÖ•È°πÁöÑÊï∞ÊçÆÁöÑ‰∏≠Êñá‰π±Á†ÅÈóÆÈ¢ò String value = item.getString("UTF-8"); &#125; else &#123;// Â¶ÇÊûúfileitem‰∏≠Â∞ÅË£ÖÁöÑÊòØ‰∏ä‰º†Êñá‰ª∂ // ÂæóÂà∞‰∏ä‰º†ÁöÑÊñá‰ª∂ÂêçÁß∞Ôºå String filename = item.getName(); System.out.println(filename); if (filename == null || filename.trim().equals("")) &#123; continue; &#125; // Ê≥®ÊÑèÔºö‰∏çÂêåÁöÑÊµèËßàÂô®Êèê‰∫§ÁöÑÊñá‰ª∂ÂêçÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊúâ‰∫õÊµèËßàÂô®Êèê‰∫§‰∏äÊù•ÁöÑ // Êñá‰ª∂ÂêçÊòØÂ∏¶ÊúâË∑ØÂæÑÁöÑÔºåÂ¶ÇÔºö c:\a\b\1.txtÔºåËÄåÊúâ‰∫õÂè™ÊòØÂçïÁ∫ØÁöÑÊñá‰ª∂ÂêçÔºå // Â¶ÇÔºö1.txtÔºåÂ§ÑÁêÜËé∑ÂèñÂà∞ÁöÑ‰∏ä‰º†Êñá‰ª∂ÁöÑÊñá‰ª∂ÂêçÁöÑË∑ØÂæÑÈÉ®ÂàÜÔºåÂè™‰øùÁïôÊñá‰ª∂ // ÂêçÈÉ®ÂàÜ filename = filename.substring(filename.lastIndexOf("\\") + 1); // ÂæóÂà∞‰∏ä‰º†Êñá‰ª∂ÁöÑÊâ©Â±ïÂêç String fileExtName = filename.substring(filename.lastIndexOf(".") + 1); // Â¶ÇÊûúÈúÄË¶ÅÈôêÂà∂‰∏ä‰º†ÁöÑÊñá‰ª∂Á±ªÂûãÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøáÊñá‰ª∂ÁöÑÊâ©Â±ïÂêçÊù•Âà§Êñ≠‰∏ä‰º†ÁöÑ // Êñá‰ª∂Á±ªÂûãÊòØÂê¶ÂêàÊ≥ï System.out.println( "‰∏ä‰º†ÁöÑÊñá‰ª∂ÁöÑÊâ©Â±ïÂêçÊòØÔºö" + fileExtName); // Ëé∑Âèñitem‰∏≠ÁöÑ‰∏ä‰º†Êñá‰ª∂ÁöÑËæìÂÖ•ÊµÅ InputStream in = item.getInputStream(); // ÂæóÂà∞Êñá‰ª∂‰øùÂ≠òÁöÑÂêçÁß∞ String saveFilename = makeFileName(filename); // ÂæóÂà∞Êñá‰ª∂ÁöÑ‰øùÂ≠òÁõÆÂΩï String realSavePath = savePath; // ÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂ËæìÂá∫ÊµÅ FileOutputStream out = new FileOutputStream(realSavePath+ "\\"+ saveFilename); // ÂàõÂª∫‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ byte buffer[] = new byte[1024]; // Âà§Êñ≠ËæìÂÖ•ÊµÅ‰∏≠ÁöÑÊï∞ÊçÆÊòØÂê¶Â∑≤ÁªèËØªÂÆåÁöÑÊ†áËØÜ int len = 0; // Âæ™ÁéØÂ∞ÜËæìÂÖ•ÊµÅËØªÂÖ•Âà∞ÁºìÂÜ≤Âå∫ÂΩì‰∏≠Ôºå(len=in.read(buffer))&gt;0Â∞± // Ë°®Á§∫inÈáåÈù¢ËøòÊúâÊï∞ÊçÆ while ((len = in.read(buffer)) &gt; 0) &#123; // ‰ΩøÁî®FileOutputStreamËæìÂá∫ÊµÅÂ∞ÜÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆÂÜôÂÖ•Âà∞ÊåáÂÆöÁöÑ // ÁõÆÂΩï(savePath + "\\"+ filename)‰∏≠ out.write(buffer, 0, len); &#125; // ÂÖ≥Èó≠ËæìÂÖ•ÊµÅ in.close(); // ÂÖ≥Èó≠ËæìÂá∫ÊµÅ out.close(); // Âà†Èô§Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†Êó∂ÁîüÊàêÁöÑ‰∏¥Êó∂Êñá‰ª∂ item.delete(); message = "Êñá‰ª∂‰∏ä‰º†ÊàêÂäüÔºÅ"; // Êñá‰ª∂‰∏ä‰º†ÊàêÂäüÂêéÔºåÂ∞ÜÂØπÂ∫îÁöÑ‰ø°ÊÅØ‰øùÂ≠òÂà∞Êï∞ÊçÆÂ∫ìSYS_ANNEXË°® Integer userId = Integer.valueOf(request.getParameter("userId")); Date date = new Date(System.currentTimeMillis()); String annexId = System.currentTimeMillis() + ""; String annexKey = userId + ""; Session session = SessionUtil.getSession(); String sql = "insert INTO SYS_ANNEX VALUES(ANNEX_SEQ.nextval,"; sql+="1,1,?,?,?,sysdate,1,sysdate)"; SQLQuery query = session.createSQLQuery(sql); query.setString(0, annexKey); query.setString(1, saveFilename); query.setInteger(2, userId); Transaction ts = session.beginTransaction(); try &#123; query.executeUpdate(); ts.commit(); System.out.println("ÊèíÂÖ•ÊàêÂäü"); &#125; catch (HibernateException e) &#123; e.printStackTrace(); ts.rollback(); System.out.println("ÊèíÂÖ•Â§±Ë¥•"); &#125; finally &#123; session.close(); &#125; &#125; &#125; &#125; catch (FileUploadBase .FileSizeLimitExceededException e) &#123; e.printStackTrace(); request.setAttribute( "message", "Âçï‰∏™Êñá‰ª∂Ë∂ÖÂá∫ÊúÄÂ§ßÂÄºÔºÅ"); return; &#125; catch (FileUploadBase.SizeLimitExceededException e) &#123; e.printStackTrace(); request.setAttribute( "message","‰∏ä‰º†Êñá‰ª∂ÁöÑÊÄªÂ§ßÂ∞èË∂ÖÂá∫ÈôêÂà∂ÁöÑÊúÄÂ§ßÂÄºÔºÅ"); return; &#125; catch (Exception e) &#123; message = "Êñá‰ª∂‰∏ä‰º†Â§±Ë¥•ÔºÅ"; e.printStackTrace(); &#125; request.setAttribute("message", message); &#125; /** * @Method: makeFileName * @Description: ÁîüÊàê‰∏ä‰º†Êñá‰ª∂ÁöÑÊñá‰ª∂ÂêçÔºåÊñá‰ª∂Âêç‰ª•Ôºöuuid+"_"+Êñá‰ª∂ÁöÑÂéüÂßãÂêçÁß∞ * @param filenameÊñá‰ª∂ÁöÑÂéüÂßãÂêçÁß∞ * @return uuid+"_"+Êñá‰ª∂ÁöÑÂéüÂßãÂêçÁß∞ */ private String makeFileName(String filename) &#123; // ‰∏∫Èò≤Ê≠¢Êñá‰ª∂Ë¶ÜÁõñÁöÑÁé∞Ë±°ÂèëÁîüÔºåË¶Å‰∏∫‰∏ä‰º†Êñá‰ª∂‰∫ßÁîü‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÊñá‰ª∂Âêç return UUID.randomUUID().toString() + "_" + filename; &#125; &#125;Â±ïÁ§∫ÂΩìÂâçÔºàÁî®Êà∑id‰∏∫1Ôºå‰∏öÂä°Á±ªÂûãid‰∏∫1ÔºâÁöÑÊâÄÊúâÈôÑ‰ª∂ÁöÑservletÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859public class ListFileServlet extends HttpServlet &#123; public void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; Integer userId = Integer.valueOf(request.getParameter("userId")); Integer busiTypeId = Integer.valueOf(request.getParameter("busiTypeId")); // Ëé∑Âèñ‰∏ä‰º†Êñá‰ª∂ÁöÑÁõÆÂΩï String uploadFilePath = this.getServletContext() .getRealPath("/WEB-INF/upload"); // Â≠òÂÇ®Ë¶Å‰∏ãËΩΩÁöÑÊñá‰ª∂Âêç Map&lt;String, String&gt; fileNameMap = new HashMap&lt;String, String&gt;(); // ÈÄíÂΩíÈÅçÂéÜfilepathÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÂíåÁõÆÂΩïÔºåÂ∞ÜÊñá‰ª∂ÁöÑÊñá‰ª∂ÂêçÂ≠òÂÇ®Âà∞mapÈõÜÂêà‰∏≠ listfile(new File(uploadFilePath),fileNameMap,userId,busiTypeId); // FileÊó¢ÂèØ‰ª•‰ª£Ë°®‰∏Ä‰∏™Êñá‰ª∂‰πüÂèØ‰ª•‰ª£Ë°®‰∏Ä‰∏™ÁõÆÂΩï Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = fileNameMap.entrySet().iterator(); while (it.hasNext()) &#123; Map.Entry&lt;String, String&gt; entry = it.next(); &#125; // Â∞ÜMapÈõÜÂêàÂèëÈÄÅÂà∞listfile.jspÈ°µÈù¢ËøõË°åÊòæÁ§∫ request.setAttribute("fileNameMap", fileNameMap); request.getRequestDispatcher("/listfile.jsp").forward(request, response); &#125; /** * @Method: listfile * @Description: ÈÄíÂΩíÈÅçÂéÜÊåáÂÆöÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ * @param fileÔºöÂç≥‰ª£Ë°®‰∏Ä‰∏™Êñá‰ª∂Ôºå‰πü‰ª£Ë°®‰∏Ä‰∏™Êñá‰ª∂ÁõÆÂΩï * @param mapÔºöÂ≠òÂÇ®Êñá‰ª∂ÂêçÁöÑMapÈõÜÂêà */ public void listfile(File file, Map&lt;String, String&gt; map,Integer userId, Integer busiTypeId)&#123; Session session = SessionUtil.getSession(); String sql = "select name from SYS_ANNEX where user_id=?" sql += "and busi_type_id=?"; SQLQuery query = session.createSQLQuery(sql); query.setInteger(0, userId); query.setInteger(1, busiTypeId); List&lt;String&gt; list = query.list(); for (String fileName : list) &#123; /** * Â§ÑÁêÜÊñá‰ª∂ÂêçÔºå‰∏ä‰º†ÂêéÁöÑÊñá‰ª∂ÊòØ‰ª•uuid_Êñá‰ª∂ÂêçÁöÑÂΩ¢ÂºèÂéªÈáçÊñ∞ÂëΩ * ÂêçÁöÑÔºåÂéªÈô§Êñá‰ª∂ÂêçÁöÑuuid_ÈÉ®ÂàÜfile.getName().indexOf("_") * Ê£ÄÁ¥¢Â≠óÁ¨¶‰∏≤‰∏≠Á¨¨‰∏ÄÊ¨°Âá∫Áé∞"_"Â≠óÁ¨¶ÁöÑ‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊñá‰ª∂Âêç * Á±ª‰ºº‰∫éÔºö9349249849-88343-8344_Â§öÂï¶AÊ¢¶.aviÈÇ£‰πà * file.getName().substring(file.getName().indexOf("_")+1) * Â§ÑÁêÜ‰πãÂêéÂ∞±ÂèØ‰ª•ÂæóÂà∞Â§öÂï¶AÊ¢¶.aviÈÉ®ÂàÜ */ String realName = fileName.substring(fileName.indexOf("_") + 1); // file.getName()ÂæóÂà∞ÁöÑÊòØÊñá‰ª∂ÁöÑÂéüÂßãÂêçÁß∞ÔºåËøô‰∏™ÂêçÁß∞ÊòØ // ÂîØ‰∏ÄÁöÑÔºåÂõ†Ê≠§ÂèØ‰ª•‰Ωú‰∏∫keyÔºårealNameÊòØÂ§ÑÁêÜËøáÂêéÁöÑÂêçÁß∞Ôºå // ÊúâÂèØËÉΩ‰ºöÈáçÂ§ç map.put(fileName, realName); &#125; session.close(); &#125; &#125;‰∏ãËΩΩservletÔºö12345678910111213141516171819202122232425262728293031323334353637383940public class DownLoadServlet extends HttpServlet &#123; public void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; // ÂæóÂà∞Ë¶Å‰∏ãËΩΩÁöÑÊñá‰ª∂Âêç String fileName = request.getParameter("filename"); // ‰∏ä‰º†ÁöÑÊñá‰ª∂ÈÉΩÊòØ‰øùÂ≠òÂú®/WEB-INF/uploadÁõÆÂΩï‰∏ãÁöÑÂ≠êÁõÆÂΩïÂΩì‰∏≠ String fileSaveRootPath = this.getServletContext() .getRealPath("/WEB-INF/upload"); // ÈÄöËøáÊñá‰ª∂ÂêçÊâæÂá∫Êñá‰ª∂ÁöÑÊâÄÂú®ÁõÆÂΩï String path = fileSaveRootPath; // ÂæóÂà∞Ë¶Å‰∏ãËΩΩÁöÑÊñá‰ª∂ File file = new File(path + "\\" + fileName); // Â¶ÇÊûúÊñá‰ª∂‰∏çÂ≠òÂú® if (!file.exists()) &#123; request.setAttribute("message", "ÊÇ®Ë¶Å‰∏ãËΩΩÁöÑËµÑÊ∫êÂ∑≤Ë¢´Âà†Èô§ÔºÅ"); return; &#125; // Â§ÑÁêÜÊñá‰ª∂Âêç String realname = fileName.substring(fileName.indexOf("_") + 1); // ËÆæÁΩÆÂìçÂ∫îÂ§¥ÔºåÊéßÂà∂ÊµèËßàÂô®‰∏ãËΩΩËØ•Êñá‰ª∂ response.setHeader("content-disposition", "attachment;filename=" + URLEncoder.encode(realname, "UTF-8")); // ËØªÂèñË¶Å‰∏ãËΩΩÁöÑÊñá‰ª∂Ôºå‰øùÂ≠òÂà∞Êñá‰ª∂ËæìÂÖ•ÊµÅ FileInputStream in = new FileInputStream(path + "\\" + fileName); // ÂàõÂª∫ËæìÂá∫ÊµÅ OutputStream out = response.getOutputStream(); // ÂàõÂª∫ÁºìÂÜ≤Âå∫ byte buffer[] = new byte[1024]; int len = 0; // Âæ™ÁéØÂ∞ÜËæìÂÖ•ÊµÅ‰∏≠ÁöÑÂÜÖÂÆπËØªÂèñÂà∞ÁºìÂÜ≤Âå∫ÂΩì‰∏≠ while ((len = in.read(buffer)) &gt; 0) &#123; // ËæìÂá∫ÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπÂà∞ÊµèËßàÂô®ÔºåÂÆûÁé∞Êñá‰ª∂‰∏ãËΩΩ out.write(buffer, 0, len); &#125; // ÂÖ≥Èó≠Êñá‰ª∂ËæìÂÖ•ÊµÅ in.close(); // ÂÖ≥Èó≠ËæìÂá∫ÊµÅ out.close(); &#125;&#125;Âà†Èô§servletÔºö123456789101112131415161718192021222324252627282930313233343536public class DeleteFileServlet extends HttpServlet&#123; @Override protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; //Ëé∑ÂèñÊñá‰ª∂Âêç String fileName = request.getParameter("fileName"); // Êï∞ÊçÆÂ∫ìÂà†Èô§ËÆ∞ÂΩï Session session=SessionUtil.getSession(); String sql="delete from SYS_ANNEX where name=?"; SQLQuery query=session.createSQLQuery(sql); query.setString(0,fileName); Transaction ts=session.beginTransaction(); try&#123; query.executeUpdate(); ts.commit(); &#125;catch(HibernateException e)&#123; e.printStackTrace(); ts.rollback(); return; &#125;finally&#123; session.close(); &#125; // Êï∞ÊçÆÂ∫ìÊàêÂäüÂà†Èô§ËÆ∞ÂΩïÂêéÔºåÂÜç‰ªéÁ°¨ÁõòÈáåÂà†Èô§Êñá‰ª∂ //‰∏ä‰º†ÁöÑÊñá‰ª∂ÈÉΩÊòØ‰øùÂ≠òÂú®/WEB-INF/uploadÁõÆÂΩï‰∏ãÁöÑÂ≠êÁõÆÂΩïÂΩì‰∏≠ String fileSaveRootPath = this.getServletContext() .getRealPath("/WEB-INF/upload"); //ÈÄöËøáÊñá‰ª∂ÂêçÊâæÂá∫Êñá‰ª∂ÁöÑÊâÄÂú®ÁõÆÂΩï String path = fileSaveRootPath; //ÂæóÂà∞Ë¶ÅÂà†Èô§ÁöÑÊñá‰ª∂ File file = new File(path + "\\" + fileName); //Âà†Èô§Êñá‰ª∂ file.delete(); &#125;&#125;‰∏ä‰º†È°µÈù¢upload.jspÔºö123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111&lt;%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%&gt;&lt;%@taglib prefix="c_rt" uri="http://java.sun.com/jstl/core_rt" %&gt; &lt;!DOCTYPE HTML&gt; &lt;html&gt; &lt;style&gt; table&#123; margin:auto; &#125; &lt;/style&gt; &lt;head&gt; &lt;title&gt;Êñá‰ª∂‰∏ä‰º†&lt;/title&gt; &lt;script type="text/javascript" src="js/jquery.min.js"&gt;&lt;/script&gt; &lt;script type="text/javascript"&gt; $(function()&#123; //È°µÈù¢‰∏ÄÂä†ËΩΩË∞ÉÁî®onLoad()ÂáΩÊï∞ËØªÂèñÈôÑ‰ª∂ onLoad(); $("#submit").click(function()&#123; //Â∞ÜformË°®ÂçïÈôÑ‰ª∂Ê†ºÂºèÂåñ var formData = new FormData($("#form")[0]); var userId=$("#userId").val().trim(); var location="http://localhost:8080/file/servlet/"; location+="UploadHandleServlet?userId="+userId; $.ajax(&#123; //Ë∞ÉÁî®‰∏ä‰º†servlet url:location, type:"post", data:formData, async: false, cache: false, contentType: false, processData: false, success:function()&#123; //ÊàêÂäüÂêéÊ∏ÖÈô§‰∏ä‰º†ÈôÑ‰ª∂Ê®°ÂùóÂÜÖÂÆπ $("#file").empty(); AddMore(); //Ë∞ÉÁî®onLoad()ÂáΩÊï∞ÔºåÂà∑Êñ∞ onLoad(); &#125; &#125;); &#125;); //onLoad()ÂáΩÊï∞Ë∞ÉÁî®listfileServlet,ËØªÂèñÂΩìÂâçÁî®Êà∑‰∏ãÁöÑÊâÄÊúâÈôÑ‰ª∂ function onLoad()&#123; $.ajax(&#123; url:"http://localhost:8080/file/listfile", type:"post", //Ê®°ÊãüÁî®Êà∑id‰∏∫1Ôºå‰∏öÂä°Á±ªÂûãid‰∏∫1 data:&#123;"userId":1,"busiTypeId":1&#125;, success:function(fileNameMap)&#123; //Â∞ÜËØªÂèñÂà∞ÁöÑfileMapÂ±ïÁ§∫Âá∫Êù• $("#fileLoad").html(fileNameMap); &#125; &#125;); &#125;&#125;); &lt;/script&gt; &lt;script type="text/javascript"&gt; function AddMore()&#123; var more = document.getElementById("file"); var br = document.createElement("br"); var input = document.createElement("input"); var button = document.createElement("input"); input.type = "file"; input.name = "file"; input.id="file"; button.type = "button"; button.value = "Âà†Èô§"; more.appendChild(input); more.appendChild(button); more.appendChild(br); button.onclick = function()&#123; more.removeChild(br); more.removeChild(input); more.removeChild(button); &#125;;&#125; &lt;/script&gt; &lt;/head&gt; &lt;body &gt; &lt;form action="http://localhost:8080/file/servlet/UploadHandleServlet" enctype="multipart/form-data" method="post" id="form"&gt; &lt;table border="1" &gt; &lt;tr&gt; &lt;td&gt;Áî®Êà∑ID:&lt;/td&gt; &lt;td&gt;&lt;input type="text" name="userId" id="userId" value="1"/&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ÈôÑ‰ª∂:&lt;/td&gt; &lt;td id="file"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan="2" align="center"&gt; &lt;input type="button" value="Â¢ûÂä†ÈôÑ‰ª∂" onclick="AddMore()"&gt; &lt;input type="button" value="Êèê‰∫§" id="submit"&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ÈôÑ‰ª∂‰∏ãËΩΩ:&lt;/td&gt; &lt;td id="fileLoad"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;script type="text/javascript"&gt; AddMore(); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;Â±ïÁ§∫È°µÈù¢listfile.jspÔºå‰æõajaxË∞ÉÁî®Ôºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&lt;%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%&gt;&lt;%@taglib prefix="c_rt" uri="http://java.sun.com/jstl/core_rt" %&gt;&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;style&gt; #method &#123; float:right; margin-right:2px; &#125;&lt;/style&gt;&lt;script type="text/javascript"&gt; $(function()&#123; //Âà†Èô§ $(".delete").click(function()&#123; var name=$(this).attr("name"); var location="http://localhost:8080/file/servlet/DeleteFileServlet"; $.ajax(&#123; url:location, type:"post", data:&#123;"fileName":name&#125;, success:function()&#123; onLoad(); &#125; &#125;); &#125;); function onLoad()&#123; $.ajax(&#123; url:"http://localhost:8080/file/listfile", type:"post", data:&#123;"userId":1,"busiTypeId":1&#125;, success:function(fileNameMap)&#123; $("#fileLoad").html(fileNameMap); &#125; &#125;); &#125;&#125;); &lt;/script&gt;&lt;head&gt; &lt;title&gt;‰∏ãËΩΩÊñá‰ª∂È°µÈù¢Ôºå‰æõajaxËøîÂõûË∞ÉÁî®&lt;/title&gt;&lt;/head&gt; &lt;body&gt;&lt;!-- ÈÅçÂéÜfileNameMapÈõÜÂêà --&gt;&lt;c_rt:forEach var="me" items="$&#123;fileNameMap&#125;"&gt; &lt;c_rt:url value="/servlet/DownLoadServlet" var="downurl"&gt; &lt;c_rt:param name="filename" value="$&#123;me.key&#125;"&gt;&lt;/c_rt:param&gt; &lt;/c_rt:url&gt; &lt;c_rt:url value="/servlet/DeleteFileServlet" var="deleteurl"&gt; &lt;c_rt:param name="filename" value="$&#123;me.key&#125;"&gt;&lt;/c_rt:param&gt; &lt;/c_rt:url&gt; $&#123;me.value&#125; &lt;span id="method"&gt; &lt;a href="$&#123;downurl&#125;" id="downLoad"&gt;‰∏ãËΩΩ&lt;/a&gt; &lt;a href="javascript:void(0)" class="delete" name="$&#123;me.key&#125;"&gt;Âà†Èô§&lt;/a&gt; &lt;/span&gt;&lt;br/&gt;&lt;/c_rt:forEach&gt;&lt;/body&gt;&lt;/html&gt;Ââ©‰∏ãÁöÑÂè™ÈúÄÂú®web.xml‰∏≠ÈÖçÁΩÆËøôÂá†‰∏™servletÔºå‰ª•ÂèäÈÖçÁΩÆhibernate.cfg.xmlÂç≥ÂèØ „ÄÇjarÂåÖÔºöÈìæÊé•:ÁôæÂ∫¶ÁΩëÁõò ÂØÜÁ†ÅÔºöq75g]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OracleÊ†ëÊü•ËØ¢]]></title>
    <url>%2FOracle%E6%A0%91%E6%9F%A5%E8%AF%A2.html</url>
    <content type="text"><![CDATA[oracleÊ†ëÊü•ËØ¢ÁöÑÊúÄÈáçË¶ÅÁöÑÂ∞±ÊòØselect‚Ä¶start with‚Ä¶connect by‚Ä¶priorËØ≠Ê≥ï‰∫Ü„ÄÇ‰æùÊâò‰∫éËØ•ËØ≠Ê≥ïÔºåÊàë‰ª¨ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Ë°®ÂΩ¢ÁªìÊûÑÁöÑ‰ª•Ê†ëÁöÑÈ°∫Â∫èÂàóÂá∫Êù•„ÄÇÂú®‰∏ãÈù¢ÂàóËø∞‰∫Üoracle‰∏≠Ê†ëÂûãÊü•ËØ¢ÁöÑÂ∏∏Áî®Êü•ËØ¢ÊñπÂºè‰ª•ÂèäÁªèÂ∏∏‰ΩøÁî®ÁöÑ‰∏éÊ†ëÊü•ËØ¢Áõ∏ÂÖ≥ÁöÑoracleÁâπÊÄßÂáΩÊï∞Á≠âÔºåÂú®ËøôÈáåÂè™Ê∂âÂèäÂà∞‰∏ÄÂº†Ë°®‰∏≠ÁöÑÊ†ëÊü•ËØ¢ÊñπÂºèËÄå‰∏çÊ∂âÂèäÂ§öË°®‰∏≠ÁöÑÂÖ≥ËÅîÁ≠â„ÄÇ1.ÂáÜÂ§áÊµãËØïË°®ÂíåÊµãËØïÊï∞ÊçÆÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162--ËèúÂçïÁõÆÂΩïÁªìÊûÑË°®create table tb_menu( id number(10) not null, --‰∏ªÈîÆid title varchar2(50), --Ê†áÈ¢ò parent number(10) --parent id) --Áà∂ËèúÂçïinsert into tb_menu(id, title, parent) values(1, 'Áà∂ËèúÂçï1',0);insert into tb_menu(id, title, parent) values(2, 'Áà∂ËèúÂçï2',0);insert into tb_menu(id, title, parent) values(3, 'Áà∂ËèúÂçï3',0);insert into tb_menu(id, title, parent) values(4, 'Áà∂ËèúÂçï4',0);insert into tb_menu(id, title, parent) values(5, 'Áà∂ËèúÂçï5',0);--‰∏ÄÁ∫ßËèúÂçïinsert into tb_menu(id, title, parent) values(6, '‰∏ÄÁ∫ßËèúÂçï6',1);insert into tb_menu(id, title, parent) values(7, '‰∏ÄÁ∫ßËèúÂçï7',1);insert into tb_menu(id, title, parent) values(8, '‰∏ÄÁ∫ßËèúÂçï8',1);insert into tb_menu(id, title, parent) values(9, '‰∏ÄÁ∫ßËèúÂçï9',2);insert into tb_menu(id, title, parent) values(10, '‰∏ÄÁ∫ßËèúÂçï10',2);insert into tb_menu(id, title, parent) values(11, '‰∏ÄÁ∫ßËèúÂçï11',2);insert into tb_menu(id, title, parent) values(12, '‰∏ÄÁ∫ßËèúÂçï12',3);insert into tb_menu(id, title, parent) values(13, '‰∏ÄÁ∫ßËèúÂçï13',3);insert into tb_menu(id, title, parent) values(14, '‰∏ÄÁ∫ßËèúÂçï14',3);insert into tb_menu(id, title, parent) values(15, '‰∏ÄÁ∫ßËèúÂçï15',4);insert into tb_menu(id, title, parent) values(16, '‰∏ÄÁ∫ßËèúÂçï16',4);insert into tb_menu(id, title, parent) values(17, '‰∏ÄÁ∫ßËèúÂçï17',4);insert into tb_menu(id, title, parent) values(18, '‰∏ÄÁ∫ßËèúÂçï18',5);insert into tb_menu(id, title, parent) values(19, '‰∏ÄÁ∫ßËèúÂçï19',5);insert into tb_menu(id, title, parent) values(20, '‰∏ÄÁ∫ßËèúÂçï20',5);--‰∫åÁ∫ßËèúÂçïinsert into tb_menu(id, title, parent) values(21, '‰∫åÁ∫ßËèúÂçï21',6);insert into tb_menu(id, title, parent) values(22, '‰∫åÁ∫ßËèúÂçï22',6);insert into tb_menu(id, title, parent) values(23, '‰∫åÁ∫ßËèúÂçï23',7);insert into tb_menu(id, title, parent) values(24, '‰∫åÁ∫ßËèúÂçï24',7);insert into tb_menu(id, title, parent) values(25, '‰∫åÁ∫ßËèúÂçï25',8);insert into tb_menu(id, title, parent) values(26, '‰∫åÁ∫ßËèúÂçï26',9);insert into tb_menu(id, title, parent) values(27, '‰∫åÁ∫ßËèúÂçï27',10);insert into tb_menu(id, title, parent) values(28, '‰∫åÁ∫ßËèúÂçï28',11);insert into tb_menu(id, title, parent) values(29, '‰∫åÁ∫ßËèúÂçï29',12);insert into tb_menu(id, title, parent) values(30, '‰∫åÁ∫ßËèúÂçï30',13);insert into tb_menu(id, title, parent) values(31, '‰∫åÁ∫ßËèúÂçï31',14);insert into tb_menu(id, title, parent) values(32, '‰∫åÁ∫ßËèúÂçï32',15);insert into tb_menu(id, title, parent) values(33, '‰∫åÁ∫ßËèúÂçï33',16);insert into tb_menu(id, title, parent) values(34, '‰∫åÁ∫ßËèúÂçï34',17);insert into tb_menu(id, title, parent) values(35, '‰∫åÁ∫ßËèúÂçï35',18);insert into tb_menu(id, title, parent) values(36, '‰∫åÁ∫ßËèúÂçï36',19);insert into tb_menu(id, title, parent) values(37, '‰∫åÁ∫ßËèúÂçï37',20);--‰∏âÁ∫ßËèúÂçïinsert into tb_menu(id, title, parent) values(38, '‰∏âÁ∫ßËèúÂçï38',21);insert into tb_menu(id, title, parent) values(39, '‰∏âÁ∫ßËèúÂçï39',22);insert into tb_menu(id, title, parent) values(40, '‰∏âÁ∫ßËèúÂçï40',23);insert into tb_menu(id, title, parent) values(41, '‰∏âÁ∫ßËèúÂçï41',24);insert into tb_menu(id, title, parent) values(42, '‰∏âÁ∫ßËèúÂçï42',25);insert into tb_menu(id, title, parent) values(43, '‰∏âÁ∫ßËèúÂçï43',26);insert into tb_menu(id, title, parent) values(44, '‰∏âÁ∫ßËèúÂçï44',27);insert into tb_menu(id, title, parent) values(45, '‰∏âÁ∫ßËèúÂçï45',28);insert into tb_menu(id, title, parent) values(46, '‰∏âÁ∫ßËèúÂçï46',28);insert into tb_menu(id, title, parent) values(47, '‰∏âÁ∫ßËèúÂçï47',29);insert into tb_menu(id, title, parent) values(48, '‰∏âÁ∫ßËèúÂçï48',30);insert into tb_menu(id, title, parent) values(49, '‰∏âÁ∫ßËèúÂçï49',31);insert into tb_menu(id, title, parent) values(50, '‰∏âÁ∫ßËèúÂçï50',31);commit;parentÂ≠óÊÆµÂ≠òÂÇ®ÁöÑÊòØ‰∏äÁ∫ßidÔºåÂ¶ÇÊûúÊòØÈ°∂Á∫ßÁà∂ËäÇÁÇπÔºåËØ•parent‰∏∫0„ÄÇ2.Ê†ëÊìç‰ΩúÊàë‰ª¨‰ªéÊúÄÂü∫Êú¨ÁöÑÊìç‰ΩúÔºåÈÄêÊ≠•ÂàóÂá∫Ê†ëÊü•ËØ¢‰∏≠Â∏∏ËßÅÁöÑÊìç‰ΩúÔºåÊâÄÊúâÊü•ËØ¢Âá∫Êù•ÁöÑËäÇÁÇπ‰ª•ÂÆ∂Êóè‰∏≠ÁöÑËæà‰ªΩ‰ΩúÊØîÊñπ„ÄÇÊü•ÊâæÊ†ë‰∏≠ÁöÑÊâÄÊúâÈ°∂Á∫ßÁà∂ËäÇÁÇπÂÅáËÆæËøô‰∏™Ê†ëÊòØ‰∏™ÁõÆÂΩïÁªìÊûÑÔºåÈÇ£‰πàÁ¨¨‰∏Ä‰∏™Êìç‰ΩúÊÄªÊòØÊâæÂá∫ÊâÄÊúâÁöÑÈ°∂Á∫ßËäÇÁÇπÔºåÂÜçÊ†πÊçÆËØ•ËäÇÁÇπÊâæÂà∞ÂÖ∂‰∏ãÂ±ûËäÇÁÇπ„ÄÇ123456789SQL&gt; select * from tb_menu m where m.parent=0; ID TITLE PARENT---------- -------------------------------------------------- ---------- 1 Áà∂ËèúÂçï1 0 2 Áà∂ËèúÂçï2 0 3 Áà∂ËèúÂçï3 0 4 Áà∂ËèúÂçï4 0 5 Áà∂ËèúÂçï5 0Êü•Êâæ‰∏Ä‰∏™ËäÇÁÇπÁöÑÁõ¥Â±ûÂ≠êËäÇÁÇπÂ¶ÇÊûúÊü•ÊâæÁöÑÊòØÁõ¥Â±ûÂ≠êÁ±ªËäÇÁÇπÔºå‰πüÊòØ‰∏çÁî®Áî®Âà∞Ê†ëÂûãÊü•ËØ¢ÁöÑ„ÄÇ1234567SQL&gt; select * from tb_menu m where m.parent=1; ID TITLE PARENT---------- -------------------------------------------------- ---------- 6 ‰∏ÄÁ∫ßËèúÂçï6 1 7 ‰∏ÄÁ∫ßËèúÂçï7 1 8 ‰∏ÄÁ∫ßËèúÂçï8 1Êü•Êâæ‰∏Ä‰∏™ËäÇÁÇπÊâÄÊúâÁõ¥Â±ûÂ≠êËäÇÁÇπ1234567891011121314151617181920SQL&gt; select * from tb_menu m start with m.id=1 connect by m.parent=prior m.id; ID TITLE PARENT---------- -------------------------------------------------- ---------- 1 Áà∂ËèúÂçï1 0 6 ‰∏ÄÁ∫ßËèúÂçï6 1 21 ‰∫åÁ∫ßËèúÂçï21 6 38 ‰∏âÁ∫ßËèúÂçï38 21 22 ‰∫åÁ∫ßËèúÂçï22 6 39 ‰∏âÁ∫ßËèúÂçï39 22 7 ‰∏ÄÁ∫ßËèúÂçï7 1 23 ‰∫åÁ∫ßËèúÂçï23 7 40 ‰∏âÁ∫ßËèúÂçï40 23 24 ‰∫åÁ∫ßËèúÂçï24 7 41 ‰∏âÁ∫ßËèúÂçï41 24 8 ‰∏ÄÁ∫ßËèúÂçï8 1 25 ‰∫åÁ∫ßËèúÂçï25 8 42 ‰∏âÁ∫ßËèúÂçï42 25 Â∑≤ÈÄâÊã©14Ë°å„ÄÇËøô‰∏™Êü•ÊâæÁöÑÊòØid‰∏∫1ÁöÑËäÇÁÇπ‰∏ãÁöÑÊâÄÊúâÁõ¥Â±ûÂ≠êÁ±ªËäÇÁÇπÔºåÂåÖÊã¨Â≠êËæàÁöÑÂíåÂ≠ôÂ≠êËæàÁöÑÊâÄÊúâÁõ¥Â±ûËäÇÁÇπ„ÄÇÊü•Êâæ‰∏Ä‰∏™ËäÇÁÇπÁöÑÁõ¥Â±ûÁà∂ËäÇÁÇπÂ¶ÇÊûúÊü•ÊâæÁöÑÊòØËäÇÁÇπÁöÑÁõ¥Â±ûÁà∂ËäÇÁÇπÔºå‰πüÊòØ‰∏çÁî®Áî®Âà∞Ê†ëÂûãÊü•ËØ¢ÁöÑ„ÄÇ12345678910111213141516SQL&gt;SELECT c. ID, c.title, P . ID parent_id, P .title parent_titleFROM tb_menu c, tb_menu PWHERE c. PARENT = P . IDAND c. ID = 6; ID TITLE PARENT_ID PARENT_TITLE---------- --------------------- ---------- --------------------------- 6 ‰∏ÄÁ∫ßËèúÂçï6 1 Áà∂ËèúÂçï1Êü•Êâæ‰∏Ä‰∏™ËäÇÁÇπÊâÄÊúâÁõ¥Â±ûÁà∂ËäÇÁÇπ12345678SQL&gt; select * from tb_menu m start with m.id=38 connect by prior m.parent=m.id; ID TITLE PARENT---------- -------------------------------------------------- ---------- 38 ‰∏âÁ∫ßËèúÂçï38 21 21 ‰∫åÁ∫ßËèúÂçï21 6 6 ‰∏ÄÁ∫ßËèúÂçï6 1 1 Áà∂ËèúÂçï1 0ËøôÈáåÊü•ÊâæÁöÑÂ∞±ÊòØid‰∏∫1ÁöÑÊâÄÊúâÁõ¥Â±ûÁà∂ËäÇÁÇπÔºåÊâì‰∏™ÊØîÊñπÂ∞±ÊòØÊâæÂà∞‰∏Ä‰∏™‰∫∫ÁöÑÁà∂‰∫≤„ÄÅÁ•ñÁà∂Á≠â„ÄÇ‰ΩÜÊòØÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØËøô‰∏™Êü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÁöÑÈ°∫Â∫èÊòØÂÖàÂàóÂá∫Â≠êÁ±ªËäÇÁÇπÂÜçÂàóÂá∫Áà∂Á±ªËäÇÁÇπÔºåÂßë‰∏îËÆ§‰∏∫ÊòØ‰∏™ÂÄíÂ∫èÂêß„ÄÇ‰∏äÈù¢ÂàóÂá∫‰∏§‰∏™Ê†ëÂûãÊü•ËØ¢ÊñπÂºèÔºåÁ¨¨3Êù°ËØ≠Âè•ÂíåÁ¨¨5Êù°ËØ≠Âè•ÔºåËøô‰∏§Êù°ËØ≠Âè•‰πãÈó¥ÁöÑÂå∫Âà´Âú®‰∫épriorÂÖ≥ÈîÆÂ≠óÁöÑ‰ΩçÁΩÆ‰∏çÂêåÔºåÊâÄ‰ª•ÂÜ≥ÂÆö‰∫ÜÊü•ËØ¢ÁöÑÊñπÂºè‰∏çÂêå„ÄÇ ÂΩìparent = prior idÊó∂ÔºåÊï∞ÊçÆÂ∫ì‰ºöÊ†πÊçÆÂΩìÂâçÁöÑidËø≠‰ª£Âá∫parent‰∏éËØ•idÁõ∏ÂêåÁöÑËÆ∞ÂΩïÔºåÊâÄ‰ª•Êü•ËØ¢ÁöÑÁªìÊûúÊòØËø≠‰ª£Âá∫‰∫ÜÊâÄÊúâÁöÑÂ≠êÁ±ªËÆ∞ÂΩïÔºõËÄåprior parent = idÊó∂ÔºåÊï∞ÊçÆÂ∫ì‰ºöË∑üÊçÆÂΩìÂâçÁöÑparentÊù•Ëø≠‰ª£Âá∫‰∏éÂΩìÂâçÁöÑparentÁõ∏ÂêåÁöÑidÁöÑËÆ∞ÂΩïÔºåÊâÄ‰ª•Êü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÂ∞±ÊòØÊâÄÊúâÁöÑÁà∂Á±ªÁªìÊûú„ÄÇ‰ª•‰∏ãÊòØ‰∏ÄÁ≥ªÂàóÈíàÂØπÊ†ëÁªìÊûÑÁöÑÊõ¥Ê∑±Â±ÇÊ¨°ÁöÑÊü•ËØ¢ÔºåËøôÈáåÁöÑÊü•ËØ¢‰∏ç‰∏ÄÂÆöÊòØÊúÄ‰ºòÁöÑÊü•ËØ¢ÊñπÂºèÔºåÊàñËÆ∏Âè™ÊòØÂÖ∂‰∏≠ÁöÑ‰∏ÄÁßçÂÆûÁé∞ËÄåÂ∑≤„ÄÇÊü•ËØ¢‰∏Ä‰∏™ËäÇÁÇπÁöÑÂÖÑÂºüËäÇÁÇπ12345678910111213141516171819202122--m.parent=m2.parent--&gt;Âêå‰∏Ä‰∏™Áà∂‰∫≤SQL&gt; SELECT * FROM tb_menu MWHERE EXISTS ( SELECT * FROM tb_menu m2 WHERE M . PARENT = m2. PARENT AND m2. ID = 6 ); ID TITLE PARENT---------- -------------------------------------------------- ---------- 8 ‰∏ÄÁ∫ßËèúÂçï8 1 7 ‰∏ÄÁ∫ßËèúÂçï7 1 6 ‰∏ÄÁ∫ßËèúÂçï6 1Êü•ËØ¢‰∏é‰∏Ä‰∏™ËäÇÁÇπÂêåÁ∫ßÁöÑËäÇÁÇπÂ¶ÇÊûúÂú®Ë°®‰∏≠ËÆæÁΩÆ‰∫ÜÁ∫ßÂà´ÁöÑÂ≠óÊÆµÔºåÈÇ£‰πàÂú®ÂÅöËøôÁ±ªÊü•ËØ¢Êó∂‰ºöÂæàËΩªÊùæÔºåÂêå‰∏ÄÁ∫ßÂà´ÁöÑÂ∞±ÊòØ‰∏éÈÇ£‰∏™ËäÇÁÇπÂêåÁ∫ßÁöÑÔºåÂú®ËøôÈáåÂàóÂá∫‰∏ç‰ΩøÁî®ËØ•Â≠óÊÆµÊó∂ÁöÑÂÆûÁé∞Ôºö12345678910111213141516171819202122232425262728293031323334353637SQL&gt; WITH tmp AS ( SELECT A .*, LEVEL leaf FROM tb_menu A START WITH A . PARENT = 0 CONNECT BY A . PARENT = PRIOR A . ID) SELECT *FROM tmpWHERE leaf = ( SELECT leaf FROM tmp WHERE ID = 50 ); ID TITLE PARENT LEAF---------- ----------------------------------------- ---------- ---------- 38 ‰∏âÁ∫ßËèúÂçï38 21 4 39 ‰∏âÁ∫ßËèúÂçï39 22 4 40 ‰∏âÁ∫ßËèúÂçï40 23 4 41 ‰∏âÁ∫ßËèúÂçï41 24 4 42 ‰∏âÁ∫ßËèúÂçï42 25 4 43 ‰∏âÁ∫ßËèúÂçï43 26 4 44 ‰∏âÁ∫ßËèúÂçï44 27 4 45 ‰∏âÁ∫ßËèúÂçï45 28 4 46 ‰∏âÁ∫ßËèúÂçï46 28 4 47 ‰∏âÁ∫ßËèúÂçï47 29 4 48 ‰∏âÁ∫ßËèúÂçï48 30 4 49 ‰∏âÁ∫ßËèúÂçï49 31 4 50 ‰∏âÁ∫ßËèúÂçï50 31 4 Â∑≤ÈÄâÊã©13Ë°å„ÄÇËøôÈáå‰ΩøÁî®‰∏§‰∏™ÊäÄÂ∑ßÔºå‰∏Ä‰∏™ÊòØ‰ΩøÁî®‰∫ÜlevelÊù•Ê†áËØÜÊØè‰∏™ËäÇÁÇπÂú®Ë°®‰∏≠ÁöÑÁ∫ßÂà´ÔºåËøòÊúâÂ∞±ÊòØ‰ΩøÁî®withËØ≠Ê≥ïÊ®°ÊãüÂá∫‰∫Ü‰∏ÄÂº†Â∏¶ÊúâÁ∫ßÂà´ÁöÑ‰∏¥Êó∂Ë°®„ÄÇÊü•ËØ¢‰∏Ä‰∏™ËäÇÁÇπÁà∂ËäÇÁÇπÁöÑÂÖÑÂºüËäÇÁÇπ12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455SQL&gt; WITH tmp AS ( SELECT tb_menu.*, LEVEL lev FROM tb_menu START WITH PARENT = 0 CONNECT BY PARENT = PRIOR ID) SELECT b.*FROM tmp b, ( SELECT * FROM tmp WHERE ID = 21 AND lev = 2 ) AWHERE b.lev = 1UNION ALL SELECT * FROM tmp WHERE PARENT = ( SELECT DISTINCT x. ID FROM tmp x, --Á•ñÁà∂ tmp y, --Áà∂‰∫≤ ( SELECT * FROM tmp WHERE ID = 21 AND lev &gt; 2 ) z --ÂÑøÂ≠ê WHERE y. ID = z. PARENT AND x. ID = y. PARENT ); ID TITLE PARENT LEV---------- ---------------------------------------- ---------- ---------- 6 ‰∏ÄÁ∫ßËèúÂçï6 1 2 7 ‰∏ÄÁ∫ßËèúÂçï7 1 2 8 ‰∏ÄÁ∫ßËèúÂçï8 1 2ËøôÈáåÊü•ËØ¢ÂàÜÊàê‰ª•‰∏ãÂá†Ê≠•„ÄÇÈ¶ñÂÖàÔºåÂ∞ÜÁ¨¨7‰∏™‰∏ÄÊ†∑ÔºåÂ∞ÜÂÖ®Ë°®ÈÉΩ‰ΩøÁî®‰∏¥Êó∂Ë°®Âä†‰∏äÁ∫ßÂà´ÔºõÂÖ∂Ê¨°ÔºåÊ†πÊçÆÁ∫ßÂà´Êù•Âà§Êñ≠ÊúâÂá†ÁßçÁ±ªÂûãÔºå‰ª•‰∏äÊñá‰∏≠‰∏æÁöÑ‰æãÂ≠êÊù•ËØ¥ÔºåÊúâ‰∏âÁßçÊÉÖÂÜµÔºöÔºà1ÔºâÂΩìÂâçËäÇÁÇπ‰∏∫È°∂Á∫ßËäÇÁÇπÔºåÂç≥Êü•ËØ¢Âá∫Êù•ÁöÑlevÂÄº‰∏∫1ÔºåÈÇ£‰πàÂÆÉÊ≤°Êúâ‰∏äÁ∫ßËäÇÁÇπÔºå‰∏ç‰∫àËÄÉËôë„ÄÇÔºà2ÔºâÂΩìÂâçËäÇÁÇπ‰∏∫2Á∫ßËäÇÁÇπÔºåÊü•ËØ¢Âá∫Êù•ÁöÑlevÂÄº‰∏∫2ÔºåÈÇ£‰πàÂ∞±Âè™Ë¶Å‰øùËØÅlevÁ∫ßÂà´‰∏∫1ÁöÑÂ∞±ÊòØÂÖ∂‰∏äÁ∫ßËäÇÁÇπÁöÑÂÖÑÂºüËäÇÁÇπ„ÄÇÔºà3ÔºâÂÖ∂ÂÆÉÊÉÖÂÜµÂ∞±ÊòØ3‰ª•Âèä‰ª•‰∏äÁ∫ßÂà´ÔºåÈÇ£‰πàÂ∞±Ë¶ÅÈÄâÊü•ËØ¢Âá∫Êù•ÂÖ∂‰∏äÁ∫ßÁöÑ‰∏äÁ∫ßËäÇÁÇπÔºàÁ•ñÁà∂ÔºâÔºåÂÜçÊù•Âà§Êñ≠Á•ñÁà∂ÁöÑ‰∏ãÁ∫ßËäÇÁÇπÈÉΩÊòØÂ±û‰∫éËØ•ËäÇÁÇπÁöÑ‰∏äÁ∫ßËäÇÁÇπÁöÑÂÖÑÂºüËäÇÁÇπ„ÄÇÊúÄÂêéÔºåÂ∞±ÊòØ‰ΩøÁî®unionÂ∞ÜÊü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúËøõË°åÁªìÂêàËµ∑Êù•ÔºåÂΩ¢ÊàêÁªìÊûúÈõÜ„ÄÇÊü•ËØ¢‰∏Ä‰∏™ËäÇÁÇπÁà∂ËäÇÁÇπÁöÑÂêåÁ∫ßËäÇÁÇπËøô‰∏™ÂÖ∂ÂÆûË∑üÁ¨¨7ÁßçÊÉÖÂÜµÊòØÁõ∏ÂêåÁöÑ„ÄÇ1234567891011121314151617181920SQL&gt; WITH tmp AS ( SELECT A .*, LEVEL leaf FROM tb_menu A START WITH A . PARENT = 0 CONNECT BY A . PARENT = PRIOR A . ID) SELECT *FROM tmpWHERE leaf = (SELECT leaf FROM tmp WHERE ID = 6) - 1; ID TITLE PARENT LEAF---------- ------------------------------------------- ---------- ---------- 1 Áà∂ËèúÂçï1 0 1 2 Áà∂ËèúÂçï2 0 1 3 Áà∂ËèúÂçï3 0 1 4 Áà∂ËèúÂçï4 0 1 5 Áà∂ËèúÂçï5 0 1Âü∫Êú¨‰∏äÔºåÂ∏∏ËßÅÁöÑÊü•ËØ¢Âú®ÈáåÈù¢‰∫ÜÔºå‰∏çÂ∏∏ËßÅÁöÑ‰πüÊúâÈÉ®ÂàÜ‰∫Ü„ÄÇÂÖ∂‰∏≠ÔºåÊü•ËØ¢ÁöÑÂÜÖÂÆπÈÉΩÊòØËäÇÁÇπÁöÑÂü∫Êú¨‰ø°ÊÅØÔºåÈÉΩÊòØÊï∞ÊçÆË°®‰∏≠ÁöÑÂü∫Êú¨Â≠óÊÆµÔºå‰ΩÜÊòØÂú®Ê†ëÊü•ËØ¢‰∏≠ËøòÊúâ‰∫õÁâπÊÆäÈúÄÊ±ÇÔºåÊòØÂØπÊü•ËØ¢Êï∞ÊçÆËøõË°å‰∫ÜÂ§ÑÁêÜÁöÑÔºåÂ∏∏ËßÅÁöÑÂåÖÊã¨ÂàóÂá∫Ê†ëË∑ØÂæÑÁ≠â„ÄÇË°•ÂÖÖ‰∏Ä‰∏™Ê¶ÇÂøµÔºåÂØπ‰∫éÊï∞ÊçÆÂ∫ìÊù•ËØ¥ÔºåÊ†πËäÇÁÇπÂπ∂‰∏ç‰∏ÄÂÆöÊòØÂú®Êï∞ÊçÆÂ∫ì‰∏≠ËÆæËÆ°ÁöÑÈ°∂Á∫ßËäÇÁÇπÔºåÂØπ‰∫éÊï∞ÊçÆÂ∫ìÊù•ËØ¥ÔºåÊ†πËäÇÁÇπÂ∞±ÊòØstart withÂºÄÂßãÁöÑÂú∞Êñπ„ÄÇ‰∏ãÈù¢ÂàóÂá∫ÁöÑÊòØ‰∏Ä‰∫õ‰∏éÊ†ëÁõ∏ÂÖ≥ÁöÑÁâπÊÆäÈúÄÊ±Ç„ÄÇÂêçÁß∞Ë¶ÅÂàóÂá∫ÂêçÁß∞ÂÖ®ÈÉ®Ë∑ØÂæÑËøôÈáåÂ∏∏ËßÅÁöÑÊúâ‰∏§ÁßçÊÉÖÂÜµÔºå‰∏ÄÁßçÊòØ‰ªéÈ°∂Á∫ßÂàóÂá∫ÔºåÁõ¥Âà∞ÂΩìÂâçËäÇÁÇπÁöÑÂêçÁß∞ÔºàÊàñËÄÖÂÖ∂ÂÆÉÂ±ûÊÄßÔºâÔºõ‰∏ÄÁßçÊòØ‰ªéÂΩìÂâçËäÇÁÇπÂàóÂá∫ÔºåÁõ¥Âà∞È°∂Á∫ßËäÇÁÇπÁöÑÂêçÁß∞ÔºàÊàñÂÖ∂ÂÆÉÂ±ûÊÄßÔºâ„ÄÇ‰∏æÂú∞ÂùÄ‰∏∫‰æãÔºöÂõΩÂÜÖÁöÑ‰π†ÊÉØÊòØ‰ªéÁúÅÂºÄÂßã„ÄÅÂà∞Â∏Ç„ÄÅÂà∞Âéø„ÄÅÂà∞Â±ÖÂßî‰ºöÁöÑÔºåËÄåÂõΩÂ§ñÁöÑ‰π†ÊÉØÊ≠£Â•ΩÁõ∏Âèç„ÄÇ ‰ªéÈ°∂ÈÉ®ÂºÄÂßãÔºö1234567891011SQL&gt; SELECT SYS_CONNECT_BY_PATH (title, '/')FROM tb_menuWHERE ID = 50 START WITH PARENT = 0 CONNECT BY PARENT = PRIOR ID; SYS_CONNECT_BY_PATH(TITLE,'/')----------------------------------------------------/Áà∂ËèúÂçï3/‰∏ÄÁ∫ßËèúÂçï14/‰∫åÁ∫ßËèúÂçï31/‰∏âÁ∫ßËèúÂçï50‰ªéÂΩìÂâçËäÇÁÇπÂºÄÂßãÔºö123456789101112SQL&gt; SELECT SYS_CONNECT_BY_PATH (title, '/')FROM tb_menu START WITH ID = 50 CONNECT BY PRIOR PARENT = ID; SYS_CONNECT_BY_PATH(TITLE,'/')------------------------------------------------------ /‰∏âÁ∫ßËèúÂçï50/‰∏âÁ∫ßËèúÂçï50/‰∫åÁ∫ßËèúÂçï31/‰∏âÁ∫ßËèúÂçï50/‰∫åÁ∫ßËèúÂçï31/‰∏ÄÁ∫ßËèúÂçï14/‰∏âÁ∫ßËèúÂçï50/‰∫åÁ∫ßËèúÂçï31/‰∏ÄÁ∫ßËèúÂçï14/Áà∂ËèúÂçï3Âú®ËøôÈáåÊàëÂèà‰∏çÂæó‰∏çÊîæ‰∏™Áâ¢È™ö‰∫Ü„ÄÇoracleÂè™Êèê‰æõ‰∫Ü‰∏Ä‰∏™sys_connect_by_pathÂáΩÊï∞ÔºåÂç¥Âøò‰∫ÜÂ≠óÁ¨¶‰∏≤ÁöÑËøûÊé•ÁöÑÈ°∫Â∫è„ÄÇÂú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÁ¨¨‰∏Ä‰∏™sqlÊòØ‰ªéÊ†πËäÇÁÇπÂºÄÂßãÈÅçÂéÜÔºåËÄåÁ¨¨‰∫å‰∏™sqlÊòØÁõ¥Êé•ÊâæÂà∞ÂΩìÂâçËäÇÁÇπÔºå‰ªéÊïàÁéá‰∏äÊù•ËØ¥Â∑≤ÁªèÊòØÂçÉÂ∑Æ‰∏áÂà´ÔºåÊõ¥ÂÖ≥ÈîÆÁöÑÊòØÁ¨¨‰∏Ä‰∏™sqlÂè™ËÉΩÈÄâÊã©‰∏Ä‰∏™ËäÇÁÇπÔºåËÄåÁ¨¨‰∫å‰∏™sqlÂç¥ÊòØÈÅçÂéÜÂá∫‰∫Ü‰∏ÄÈ¢óÊ†ëÊù•„ÄÇÂÜçÊ¨°ps‰∏Ä‰∏ã„ÄÇsys_connect_by_pathÂáΩÊï∞Â∞±ÊòØ‰ªéstart withÂºÄÂßãÁöÑÂú∞ÊñπÂºÄÂßãÈÅçÂéÜÔºåÂπ∂ËÆ∞‰∏ãÂÖ∂ÈÅçÂéÜÂà∞ÁöÑËäÇÁÇπÔºåstart withÂºÄÂßãÁöÑÂú∞ÊñπË¢´ËßÜ‰∏∫Ê†πËäÇÁÇπÔºåÂ∞ÜÈÅçÂéÜÂà∞ÁöÑË∑ØÂæÑÊ†πÊçÆÂáΩÊï∞‰∏≠ÁöÑÂàÜÈöîÁ¨¶ÔºåÁªÑÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËøô‰∏™ÂäüËÉΩËøòÊòØÂæàÂº∫Â§ßÁöÑ„ÄÇÂàóÂá∫ÂΩìÂâçËäÇÁÇπÁöÑÊ†πËäÇÁÇπ„ÄÇÂú®ÂâçÈù¢ËØ¥ËøáÔºåÊ†πËäÇÁÇπÂ∞±ÊòØstart withÂºÄÂßãÁöÑÂú∞Êñπ„ÄÇ12345678910111213SQL&gt; SELECT CONNECT_BY_ROOT title, tb_menu.*FROM tb_menu START WITH ID = 50 CONNECT BY PRIOR PARENT = ID; CONNECT_BY_ROOTTITLE ID TITLE PARENT----------------------------------------------------------------‰∏âÁ∫ßËèúÂçï50 50 ‰∏âÁ∫ßËèúÂçï50 31‰∏âÁ∫ßËèúÂçï50 31 ‰∫åÁ∫ßËèúÂçï31 14‰∏âÁ∫ßËèúÂçï50 14 ‰∏ÄÁ∫ßËèúÂçï14 3‰∏âÁ∫ßËèúÂçï50 3 Áà∂ËèúÂçï3 0connect_by_rootÂáΩÊï∞Áî®Êù•ÂàóÁöÑÂâçÈù¢ÔºåËÆ∞ÂΩïÁöÑÊòØÂΩìÂâçËäÇÁÇπÁöÑÊ†πËäÇÁÇπÁöÑÂÜÖÂÆπ„ÄÇÂàóÂá∫ÂΩìÂâçËäÇÁÇπÊòØÂê¶‰∏∫Âè∂Â≠êËøô‰∏™ÊØîËæÉÂ∏∏ËßÅÔºåÂ∞§ÂÖ∂Âú®Âä®ÊÄÅÁõÆÂΩï‰∏≠ÔºåÂú®Êü•Âá∫ÁöÑÂÜÖÂÆπÊòØÂê¶ËøòÊúâ‰∏ãÁ∫ßËäÇÁÇπÊó∂ÔºåËøô‰∏™ÂáΩÊï∞ÊòØÂæàÈÄÇÁî®ÁöÑ„ÄÇ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960SELECT CONNECT_BY_ISLEAF, tb_menu.*FROM tb_menu START WITH PARENT = 0 CONNECT BY PARENT = PRIOR ID; CONNECT_BY_ISLEAF ID TITLE PARENT----------------- ---------- --------------------------------------- ---------- 0 1 Áà∂ËèúÂçï1 0 0 6 ‰∏ÄÁ∫ßËèúÂçï6 1 0 21 ‰∫åÁ∫ßËèúÂçï21 6 1 38 ‰∏âÁ∫ßËèúÂçï38 21 0 22 ‰∫åÁ∫ßËèúÂçï22 6 1 39 ‰∏âÁ∫ßËèúÂçï39 22 0 7 ‰∏ÄÁ∫ßËèúÂçï7 1 0 23 ‰∫åÁ∫ßËèúÂçï23 7 1 40 ‰∏âÁ∫ßËèúÂçï40 23 0 24 ‰∫åÁ∫ßËèúÂçï24 7 1 41 ‰∏âÁ∫ßËèúÂçï41 24 0 8 ‰∏ÄÁ∫ßËèúÂçï8 1 0 25 ‰∫åÁ∫ßËèúÂçï25 8 1 42 ‰∏âÁ∫ßËèúÂçï42 25 0 2 Áà∂ËèúÂçï2 0 0 9 ‰∏ÄÁ∫ßËèúÂçï9 2 0 26 ‰∫åÁ∫ßËèúÂçï26 9 1 43 ‰∏âÁ∫ßËèúÂçï43 6 0 10 ‰∏ÄÁ∫ßËèúÂçï10 2 0 27 ‰∫åÁ∫ßËèúÂçï27 10 1 44 ‰∏âÁ∫ßËèúÂçï44 27 0 11 ‰∏ÄÁ∫ßËèúÂçï11 2 0 28 ‰∫åÁ∫ßËèúÂçï28 11 1 45 ‰∏âÁ∫ßËèúÂçï45 28 1 46 ‰∏âÁ∫ßËèúÂçï46 28 0 3 Áà∂ËèúÂçï3 0 0 12 ‰∏ÄÁ∫ßËèúÂçï12 3 0 29 ‰∫åÁ∫ßËèúÂçï29 12 1 47 ‰∏âÁ∫ßËèúÂçï47 29 0 13 ‰∏ÄÁ∫ßËèúÂçï13 3 0 30 ‰∫åÁ∫ßËèúÂçï30 13 1 48 ‰∏âÁ∫ßËèúÂçï48 30 0 14 ‰∏ÄÁ∫ßËèúÂçï14 3 0 31 ‰∫åÁ∫ßËèúÂçï31 14 1 49 ‰∏âÁ∫ßËèúÂçï49 31 1 50 ‰∏âÁ∫ßËèúÂçï50 31 0 4 Áà∂ËèúÂçï4 0 0 15 ‰∏ÄÁ∫ßËèúÂçï15 4 1 32 ‰∫åÁ∫ßËèúÂçï32 15 0 16 ‰∏ÄÁ∫ßËèúÂçï16 4 1 33 ‰∫åÁ∫ßËèúÂçï33 16 0 17 ‰∏ÄÁ∫ßËèúÂçï17 4 1 34 ‰∫åÁ∫ßËèúÂçï34 17 0 5 Áà∂ËèúÂçï5 0 0 18 ‰∏ÄÁ∫ßËèúÂçï18 5 1 35 ‰∫åÁ∫ßËèúÂçï35 18 0 19 ‰∏ÄÁ∫ßËèúÂçï19 5 1 36 ‰∫åÁ∫ßËèúÂçï36 19 0 20 ‰∏ÄÁ∫ßËèúÂçï20 5 1 37 ‰∫åÁ∫ßËèúÂçï37 20 Â∑≤ÈÄâÊã©50Ë°å„ÄÇ]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle 11g</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®JFinalÂø´ÈÄüÊê≠Âª∫ Java webÈ°πÁõÆ]]></title>
    <url>%2F%E4%BD%BF%E7%94%A8JFinal%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA-Java-web%E9%A1%B9%E7%9B%AE.html</url>
    <content type="text"><![CDATA[JFinalÊòØ‰∏Ä‰∏™Âü∫‰∫éJavaÁöÑÊûÅÈÄüWebÂºÄÂèëÊ°ÜÊû∂ÔºåÂÖ∂Ê†∏ÂøÉËÆæËÆ°ÁõÆÊ†áÊòØÂºÄÂèëËøÖÈÄü„ÄÅ‰ª£Á†ÅÈáèÂ∞ë„ÄÅÂ≠¶‰π†ÁÆÄÂçï„ÄÅÂäüËÉΩÂº∫Â§ß„ÄÅËΩªÈáèÁ∫ß„ÄÅÊòìÊâ©Â±ï„ÄÅRestfulÔºåÂú®Êã•ÊúâJavaËØ≠Ë®ÄÊâÄÊúâ‰ºòÂäøÁöÑÂêåÊó∂ÂÜçÊã•ÊúâRuby„ÄÅPythonÁ≠âÂä®ÊÄÅËØ≠Ë®ÄÁöÑÂºÄÂèëÊïàÁéá„ÄÇ1.Âú®eclipse‰∏≠Êñ∞Âª∫JfinalÈ°πÁõÆ ÂØºÂÖ•jfinal-1.8-bin.jar Âíå jfinal-2.2-bin-with-src.jarÔºõ2.Êñ∞Âª∫JfinalConfigÁ±ªÔºåÁî®Êù•ÈÖçÁΩÆJfinalÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344public class JfinalConfig extends JFinalConfig&#123; /* * ÈÖçÁΩÆÂ∏∏ÈáèÂÄº */ @Override public void configConstant(Constants arg0) &#123; //ËÆæÁΩÆÂºÄÂèëÊ®°Âºè‰∏∫true arg0.setDevMode(true); //ËÆæÁΩÆÁºñÁ†ÅÊ†ºÂºè arg0.setEncoding("utf-8"); //ËÆæÁΩÆËßÜÂõæÁ±ªÂûã arg0.setViewType(ViewType.JSP); &#125; /* * ÈÖçÁΩÆÂ§ÑÁêÜÂô® */ @Override public void configHandler(Handlers arg0) &#123; //ÈÖçÁΩÆÈ°πÁõÆcontextPath,‰ª•‰æøÂú®jspÈ°µÈù¢Áõ¥Êé•Ëé∑ÂèñÈ°πÁõÆËÆøÈóÆË∑ØÂæÑ arg0.add(new ContextPathHandler("basepath")); &#125; /* * ÈÖçÁΩÆÊã¶Êà™Âô®ÔºåÈ°πÁõÆÈáåÈúÄË¶ÅÊã¶Êà™Âô®ÁöÑËØùÂú®ËøôÈáåÈÖçÁΩÆ */ @Override public void configInterceptor(Interceptors arg0) &#123; // TODO Auto-generated method stub &#125; /* * ÈÖçÁΩÆÊèí‰ª∂ÔºåÈÄöÂ∏∏Áî®Êù•ÈÖçÁΩÆÂØπÊï∞ÊçÆÂ∫ìÁöÑÊîØÊåÅ */ @Override public void configPlugin(Plugins arg0) &#123; // TODO Auto-generated method stub &#125; /* * ÈÖçÁΩÆË∑ØÁî±ÔºåÁ±ª‰ºº‰∫éstrutsÁöÑaction */ @Override public void configRoute(Routes arg0) &#123; //ËÆøÈóÆË∑ØÂæÑ‰∏∫È°πÁõÆÊ†πË∑ØÂæÑÊó∂ÔºåË∞ÉÁî®JfinalController arg0.add("/", JfinalController.class); &#125; &#125;3.Âú®web.xml‰∏≠ÈÖçÁΩÆJfinalConfigÔºå‰ª•Ê≠§Âú®ÂêØÂä®TomcatÁöÑÊó∂ÂÄôÂàùÂßãÂåñJfinalConfigËøô‰∏™ÂÖ•Âè£Ôºö12345678910111213141516171819202122&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-ap.xsd" version="2.5"&gt; &lt;filter&gt; &lt;filter-name&gt;jfinal&lt;/filter-name&gt; &lt;filter-class&gt;com.jfinal.core.JFinalFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;configClass&lt;/param-name&gt; &lt;param-value&gt;com.vis.config.JfinalConfig&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;jfinal&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;/welcome-file-list&gt;&lt;/web-app&gt;4.ÂàõÂª∫ÁôªÈôÜÈ°µÈù¢ login.jsp Âíå‰∏ªÈ°µ index.jspÔºölogin.jspÔºö1234567891011121314151617&lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;&lt;html&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt; &lt;title&gt;login page&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- Ë∑≥ËΩ¨Âà∞JfinalController loginÊñπÊ≥ï --&gt; &lt;form action="$&#123;basepath &#125;/login" id="body"&gt; &lt;p&gt;input userName:&lt;/p&gt; &lt;input type="text" name="userName" id="userName"/&gt; &lt;input type="submit" value="login"/&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt;index.jspÔºö12345678910111213 &lt;%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;&lt;title&gt;my index&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;!-- Ëé∑ÂèñuserName --&gt; &lt;h3&gt;welcome back,$&#123;userName &#125;&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;5.ÂàõÂª∫JfinalControllerÔºåÁî®Êù•ÂìçÂ∫îjspÈ°µÈù¢ÁöÑËØ∑Ê±ÇÔºö12345678910111213public class JfinalController extends Controller&#123; //ËÆæÁΩÆÈªòËÆ§ËÆøÈóÆÈ°µÈù¢ public void index()&#123; this.render("login.jsp"); &#125; //ËÆøÈóÆË∑ØÂæÑ‰∏∫ basepath/loginÊó∂Ë∞ÉÁî®Ê≠§ÊñπÊ≥ï public void login()&#123; String userName=this.getPara("userName"); this.setAttr("userName", userName); //ÂèñÂà∞userNameÂêéË∑≥ËΩ¨Âà∞index.jsp this.render("index.jsp"); &#125;&#125;Ëá≥Ê≠§Ôºå‰∏Ä‰∏™ÁÆÄÂçïÁöÑJava webÈ°πÁõÆÊê≠Âª∫ÂÆå‰∫ÜÔºåÂ∞ÜÈ°πÁõÆÈÉ®ÁΩ≤Âà∞Tomcat‰∏≠ÔºåÂπ∂ÂêØÂä®ÔºåÂú®ÊµèËßàÂô®‰∏≠ËæìÂÖ•ËÆøÈóÆË∑ØÂæÑÔºölocalhost:8080/Jfinal/Ôºö]]></content>
      <tags>
        <tag>JFinal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AtomÁºñËæëÂô®Ê∑ªÂä†ÈÖ∑ÁÇ´Âä®Áîª]]></title>
    <url>%2FAtom%E7%BC%96%E8%BE%91%E5%99%A8%E6%B7%BB%E5%8A%A0%E9%85%B7%E7%82%AB%E5%8A%A8%E7%94%BB.html</url>
    <content type="text"><![CDATA[Áî±‰∫éÊ≤°ÊúâÂÆâË£ÖÂÆåÊï¥‰æùËµñÂ∫ìÊàñËÄÖÈÇ£Â†µ‰ºüÂ§ßÁöÑÂ¢ôÁöÑÂéüÂõ†Ôºå‰ΩøÂæóÂéüÊú¨Âè™ÊòØÂÆâË£Ö‰∏Ä‰∏™PackageÁöÑÊìç‰ΩúÂèòÂæó‰∏çÈÇ£‰πàÁÆÄÂçï„ÄÇËøôÈáå‰ªãÁªç‰∏ÄÁßç100%ÂÆâË£ÖÊàêÂäüÁöÑÊñπÊ≥ïÔºö1.È¶ñÂÖàÂÆâË£Önode.jsÔºöhttps://nodejs.org/en/„ÄÇ2.ÁÑ∂Âêé‰∏ãËΩΩ activate-power-mode-master Âπ∂Ëß£ÂéãÂà∞ C:\Users\Administrator\.atom\packagesÁõÆÂΩï‰∏ã„ÄÇ3.‰ΩøÁî®CMDÂëΩ‰ª§ÂàáÊç¢Âà∞activate-power-mode-masterÊñá‰ª∂Â§π‰∏ãÔºåÊâßË°ånpmÂëΩ‰ª§Ôºö123C:\Users\Administrator\.atom\packages\activate-power-mode-master&gt;npm install lodashC:\Users\Administrator\.atom\packages\activate-power-mode-master&gt;npm install lodash.randomC:\Users\Administrator\.atom\packages\activate-power-mode-master&gt;npm install lodash.throttleÊâßË°åÂëΩ‰ª§‰πãÂêéÔºåÊâìÂºÄAtomÁºñËæëÂô®ÔºåCtrl+Alt+OÂºÄÂêØÂ∞±ÂèØ‰ª•ÁúãÂà∞ÈÖ∑ÁÇ´ÁöÑÂä®ÁîªÂï¶„ÄÇÂ¶ÇÊûúÊÉ≥ÂÖ≥Èó≠ÈúáÂä®ÊïàÊûúÁöÑËØùÔºå‰øÆÊîπactivate-power-mode-master/lib/activate-power-mode.coffeeÊñá‰ª∂68Ë°å‰∏∫Ôºö1if @getConfig "screenShake.disabled"ÈôÑ‰∏ä‰∏ÄÂº†ÊïàÊûúÂõæÔºö]]></content>
      <tags>
        <tag>Atom</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®AjaxÂêëÊúçÂä°Á´Ø‰º†ÈÄÅformË°®ÂçïÊï∞ÊçÆ]]></title>
    <url>%2F%E4%BD%BF%E7%94%A8Ajax%E5%90%91%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BC%A0%E9%80%81form%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE.html</url>
    <content type="text"><![CDATA[‰ªäÂ§©Âú®ÂÅöÈôÑ‰ª∂DemoÁöÑÊó∂ÂÄôÔºåÂèëÁé∞formË°®ÂçïÁöÑsubmitÊåâÈíÆ‰ºöËá™Âä®Âà∑Êñ∞È°µÈù¢Ôºå‰ΩÜÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåÈ°µÈù¢ÁöÑÂà∑Êñ∞‰ºöÂæàÂ§ßÁ®ãÂ∫¶ÂΩ±Âìç‰ΩìÈ™å„ÄÇ‰∫éÊòØÊÉ≥Âà∞Áî®AjaxÊù•‰ª£ÊõøsubmitÂêëÊúçÂä°Á´ØÂèëÈÄÅÊï∞ÊçÆÔºåÁΩëÁªú‰∏äÁöÑËØ¥Ê≥ïÊòØÈÄöËøáJQueryÁöÑserialize()ÊñπÊ≥ïÂ∫èÂàóÂåñË°®ÂçïÔºå‰ΩÜÂÆûÈ™å‰πãÂêéÂèëÁé∞ËØ•ÊñπÊ≥ïÂè™ËÉΩ‰º†ÈÄí‰∏ÄËà¨ÁöÑÂèÇÊï∞Ôºå‰∏ä‰º†ÁöÑÊñá‰ª∂Âπ∂‰∏çËÉΩË¢´Â∫èÂàóÂåñ‰º†ÈÄíÂà∞ÊúçÂä°Á´Ø„ÄÇÁªßÁª≠Êü•ÊâæËµÑÊñôÂèëÁé∞ÂèØ‰ª•‰ΩøÁî®formDataÊñπÊ≥ïÊù•‰ΩøÁî®AjaxËØ∑Ê±ÇÂêëÊúçÂä°Á´Ø‰∏ä‰º†formË°®ÂçïÈôÑ‰ª∂ÔºöHTML‰ª£Á†ÅÔºö1234567891011121314151617181920212223&lt;form action="http://localhost:8080/file/servlet/UploadHandleServlet" enctype="multipart/form-data" method="post" id="form"&gt; &lt;table border="1" &gt; &lt;tr&gt; &lt;td&gt;Áî®Êà∑Âêç:&lt;/td&gt; &lt;td&gt;&lt;input type="text" name=userName/&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ÈôÑ‰ª∂:&lt;/td&gt; &lt;td id="file"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan="2" align="center"&gt; &lt;input type="button" value="Â¢ûÂä†ÈôÑ‰ª∂" onclick="AddMore()"&gt; &lt;input type="button" value="Êèê‰∫§" id="submit"&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ÈôÑ‰ª∂‰∏ãËΩΩ:&lt;/td&gt; &lt;td id="fileLoad"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt;JS‰ª£Á†ÅÔºö123456789101112131415$("#submit").click(function()&#123; var formData = new FormData($("#form")[0]); $.ajax(&#123; url:"http://localhost:8080/file/servlet/UploadHandleServlet", type:"post", data:formData, async: false, cache: false, contentType: false, processData: false, success:function()&#123; // something to do... &#125; &#125;); &#125;);]]></content>
      <tags>
        <tag>Ajax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java Âπ∂ÂèëÂü∫Á°Ä]]></title>
    <url>%2FJava-Concurrent-Basis.html</url>
    <content type="text"><![CDATA[Thread Á±ªÁöÑÊØè‰∏Ä‰∏™ÂÆû‰æãÈÉΩË°®Á§∫‰∏Ä‰∏™Á∫øÁ®ãÔºå ËøõÁ®ãÊòØÊìç‰ΩúÁ≥ªÁªüÁ∫ßÂà´ÁöÑÂ§ö‰ªªÂä°ÔºåJVM Â∞±ÊòØËøêË°åÂú®‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÁöÑ„ÄÇÊâÄ‰ª•Âú®Java ‰∏≠ÊàëÊàë‰ª¨Âè™ËÄÉËôëÁ∫øÁ®ã„ÄÇËøõÁ®ãÊúâÁã¨Á´ãÁöÑÂÜÖÂ≠òÔºå‰∏Ä‰∏™ËøõÁ®ãÈó¥ÁöÑÂ§ö‰∏™Á∫øÁ®ãÂÖ±‰∫´ËøõÁ®ãÁöÑÂÜÖÂ≠òËøõÁ®ã‰∏≠Ëá≥Â∞ëË¶ÅÊúâ‰∏Ä‰∏™Á∫øÁ®ã„ÄÇÁ∫øÁ®ãÁä∂ÊÄÅNewÔºöÂΩìÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊó∂ÔºåËØ•Á∫øÁ®ãÂπ∂Ê≤°ÊúâÁ∫≥ÂÖ•Á∫øÁ®ãË∞ÉÂ∫¶ÔºåÂÖ∂Â§Ñ‰∫é‰∏Ä‰∏™newÁä∂ÊÄÅ„ÄÇRunnableÔºöÂΩìË∞ÉÁî®Á∫øÁ®ãÁöÑstartÊñπÊ≥ïÂêéÔºåËØ•Á∫øÁ®ãÁ∫≥ÂÖ•Á∫øÁ®ãË∞ÉÂ∫¶ÁöÑÊéßÂà∂ÔºåÂÖ∂Â§Ñ‰∫é‰∏Ä‰∏™ÂèØËøêË°åÁä∂ÊÄÅÔºåÁ≠âÂæÖÂàÜÈÖçÊó∂Èó¥ÁâáÊÆµ‰ª•Âπ∂ÂèëËøêË°å„ÄÇRunningÔºöÂΩìËØ•Á∫øÁ®ãË¢´ÂàÜÈÖçÂà∞‰∫ÜÊó∂Èó¥ÁâáÊÆµÂêéÂÖ∂Ë¢´CPUËøêË°åÔºåËøôÊòØËØ•Á∫øÁ®ãÂ§Ñ‰∫érunningÁä∂ÊÄÅ„ÄÇBlockedÔºöÂΩìÁ∫øÁ®ãÂú®ËøêË°åËøáÁ®ã‰∏≠ÂèØËÉΩ‰ºöÂá∫Áé∞ÈòªÂ°ûÁé∞Ë±°ÔºåÊØîÂ¶ÇÁ≠âÂæÖÁî®Êà∑ËæìÂÖ•‰ø°ÊÅØÁ≠â„ÄÇ‰ΩÜÈòªÂ°ûÁä∂ÊÄÅ‰∏çÊòØÁôæÂàÜÁôæÂá∫Áé∞ÁöÑÔºåÂÖ∑‰ΩìË¶ÅÁúã‰ª£Á†Å‰∏≠ÊòØÂê¶ÊúâÁõ∏ÂÖ≥ÈúÄÊ±Ç„ÄÇDeadÔºöÂΩìÁ∫øÁ®ãÁöÑ‰ªªÂä°ÂÖ®ÈÉ®ËøêË°åÂÆåÊØïÔºåÊàñÂú®ËøêË°åËøáÁ®ã‰∏≠ÊäõÂá∫‰∫Ü‰∏Ä‰∏™Êú™ÊçïËé∑ÁöÑÂºÇÂ∏∏ÔºåÈÇ£‰πàÁ∫øÁ®ãÁªìÊùüÔºåÁ≠âÂæÖGCÂõûÊî∂ÂàõÂª∫Á∫øÁ®ãÁ∫øÁ®ãÊúâ‰∏§ÁßçÂàõÂª∫ÊñπÂºèÔºöÊñπÂºè1ÔºöÂÆö‰πâ‰∏Ä‰∏™Á±ªÂπ∂ÁªßÊâøThreadÔºåÁÑ∂ÂêéÈáçÂÜôrunÊñπÊ≥ïÔºåÂú®ÂÖ∂‰∏≠‰π¶ÂÜôÁ∫øÁ®ã‰ªªÂä°ÈÄªËæëÔºö12345678910111213141516171819Thread t1 = new MyThread1();Thread t2 = new MyThread2();t1.start();t2.start();class MyThread1 extends Thread &#123; public void run() &#123; for (int i = 0; i &lt; 5; i++) &#123; System.out.println("are you ok?"); &#125; &#125;&#125;class MyThread2 extends Thread &#123; public void run() &#123; for (int i = 0; i &lt; 5; i++) &#123; System.out.println("of course"); &#125; &#125;&#125;ËæìÂá∫Ôºö123456789of courseof courseof courseof courseof courseare you ok?are you ok?are you ok?are you ok?ÂêØÂä®Á∫øÁ®ãË¶ÅË∞ÉÁî®startÊñπÊ≥ïÔºå‰∏çËÉΩÁõ¥Êé•Ë∞ÉÁî®runÊñπÊ≥ï„ÄÇstartÊñπÊ≥ï‰ºöÂ∞ÜÂΩìÂâçÁ∫øÁ®ãÁ∫≥ÂÖ•Âà∞Á∫øÁ®ãË∞ÉÂ∫¶‰∏≠Ôºå‰ΩøÂÖ∂ÂÖ∑ÊúâÂπ∂ÂèëËøêË°åÁöÑËÉΩÂäõ„ÄÇstartÊñπÊ≥ïÂæàÂø´‰ºöÊâßË°åÂÆåÊØï„ÄÇÂΩìstartÊñπÊ≥ïÊâßË°åÂÆåÊØïÂêéÔºåÂΩìÂâçÁ∫øÁ®ãÁöÑrunÊñπÊ≥ï‰ºöÂæàÂø´ÁöÑË¢´ÊâßË°åËµ∑Êù•ÔºàÂè™Ë¶ÅËé∑ÂèñÂà∞‰∫ÜcpuÊó∂Èó¥ÁâáÔºâ„ÄÇ‰ΩÜ‰∏çËÉΩÁêÜËß£‰∏∫Ë∞ÉÁî®startÊñπÊ≥ïÊó∂runÊñπÊ≥ïÂ∞±ÊâßË°å‰∫ÜÔºÅÁ∫øÁ®ãÊúâÂá†‰∏™‰∏çÂèØÊéßÂõ†Á¥†:cpuÂàÜÈÖçÊó∂Èó¥ÁâáÁªôÂì™‰∏™Á∫øÁ®ãÊàë‰ª¨ËØ¥‰∫Ü‰∏çÁÆó„ÄÇÊó∂Èó¥ÁâáÈïøÁü≠‰πü‰∏çÂèØÊéß„ÄÇÁ∫øÁ®ãË∞ÉÂ∫¶‰ºöÂ∞ΩÂèØËÉΩÂùáÂåÄÁöÑÂ∞ÜÊó∂Èó¥ÁâáÂàÜÈÖçÁªôÂ§ö‰∏™Á∫øÁ®ã„ÄÇÁ¨¨‰∏ÄÁßçÂàõÂª∫Á∫øÁ®ãÁöÑÊñπÂºèÂ≠òÂú®‰∏§‰∏™‰∏çË∂≥ÔºöÁî±‰∫éjavaÊòØÂçïÁªßÊâøÁöÑÔºåËøôÂ∞±ÂØºËá¥Êàë‰ª¨Ëã•ÁªßÊâø‰∫ÜThreadÁ±ªÂ∞±Êó†Ê≥ïÂÜçÁªßÊâøÂÖ∂‰ªñÁ±ªÔºåËøôÂú®ÂÜôÈ°πÁõÆÊó∂‰ºöÈÅáÂà∞ÂæàÂ§ßÈóÆÈ¢òÔºõÁî±‰∫éÊàë‰ª¨ÂÆö‰πâÁ∫øÁ®ãÁöÑÂêåÊó∂ÈáçÂÜôrunÊñπÊ≥ïÊù•ÂÆö‰πâÁ∫øÁ®ãË¶ÅÊâßË°åÁöÑ‰ªªÂä°ÔºåËøôÂ∞±ÂØºËá¥Á∫øÁ®ã‰∏é‰ªªÂä°Êúâ‰∏Ä‰∏™Âº∫ËÄ¶ÂêàÂÖ≥Á≥ªÔºåÁ∫øÁ®ãÁöÑÈáçÁî®ÊÄßÂèòÂæóÈùûÂ∏∏Â±ÄÈôê„ÄÇÊñπÂºè2ÔºöÂÆö‰πâ‰∏Ä‰∏™Á±ªÂπ∂ÂÆûÁé∞RunnableÊé•Âè£ÁÑ∂ÂêéÂú®ÂàõÂª∫Á∫øÁ®ãÁöÑÂêåÊó∂Â∞Ü‰ªªÂä°ÊåáÂÆö„ÄÇÂõ†‰∏∫ÊòØÂÆûÁé∞RunnableÊé•Âè£ÔºåÊâÄ‰ª•‰∏çÂΩ±ÂìçÂÖ∂ÁªßÊâøÂÖ∂‰ªñÁ±ªÔºö12345678910111213Thread t1 = new Thread(() -&gt; &#123; for (int i = 0; i &lt; 5; i++) &#123; System.out.println("are you ok?"); &#125;&#125;);t1.start();Thread t2 = new Thread(() -&gt; &#123; for (int i = 0; i &lt; 5; i++) &#123; System.out.println("of course"); &#125;&#125;);t2.start();Á∫øÁ®ãÁõ∏ÂÖ≥APIËé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÔºö1Thread current = Thread.currentThread(); // Thread[main,5,main]Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãIDÔºö12Thread current = Thread.currentThread();System.out.println(current.getId()); // 1Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÂêçÂ≠óÔºö12Thread current = Thread.currentThread();System.out.println(current.getName()); // mainËé∑ÂèñÂΩìÂâçÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÔºö12Thread current = Thread.currentThread();System.out.println(current.getPriority()); // 5Âà§Êñ≠ÂΩìÂâçÁ∫øÁ®ãÊòØÂê¶ËøòÊ¥ªÁùÄÔºö12Thread current = Thread.currentThread();System.out.println(current.isAlive()); // trueÂà§Êñ≠ÂΩìÂâçÁ∫øÁ®ãÊòØÂê¶‰∏∫ÂÆàÊä§Á∫øÁ®ãÔºö12Thread current = Thread.currentThread();System.out.println(current.isDaemon()); // falseÂà§Êñ≠ÂΩìÂâçÁ∫øÁ®ãÊòØÂê¶Ë¢´‰∏≠Êñ≠Ôºö12Thread current = Thread.currentThread();System.out.println(current.isInterrupted()); // falseÁ∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ßÁ∫øÁ®ã‰ºòÂÖàÁ∫ßÂàÜ‰∏∫10‰∏™Á≠âÁ∫ßÔºå1ÊúÄ‰ΩéÔºå5ÈªòËÆ§Ôºå10ÊúÄÈ´ò„ÄÇÁ∫øÁ®ãÊèê‰æõ‰∫Ü3‰∏™Â∏∏ÈáèÔºöMIN_PRIORITYÔºö1 ÂØπÂ∫îÊúÄ‰Ωé‰ºòÂÖàÁ∫ßÔºõMAX_PRIORITYÔºö 10 ÂØπÂ∫îÊúÄÈ´ò‰ºòÂÖàÁ∫ßÔºõNORM_PRIORITYÔºö5 ÈªòËÆ§‰ºòÂÖàÁ∫ß„ÄÇÁ∫øÁ®ãÈòªÂ°ûThreadÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ï: sleepÔºåËØ•ÊñπÊ≥ï‰ºöÈòªÂ°ûËøêË°åÂΩìÂâçÊñπÊ≥ïÁöÑÁ∫øÁ®ãÊåáÂÆöÊØ´Áßí„ÄÇÂΩìË∂ÖÊó∂ÂêéÔºåÁ∫øÁ®ã‰ºöËá™Âä®ÂõûÂà∞RunnableÁä∂ÊÄÅÔºåÁ≠âÂæÖÂÜçÊ¨°ÂàÜÈÖçÊó∂Èó¥ÁâáËøêË°åÔºö1234567System.out.println("Á®ãÂ∫èÂºÄÂßã‰∫Ü");try &#123; Thread.sleep(5000);&#125; catch (InterruptedException e) &#123; e.printStackTrace();&#125;System.out.println("Á®ãÂ∫èÁªìÊùü‰∫Ü");ÂÆàÊä§Á∫øÁ®ãÂêéÂè∞Á∫øÁ®ãÔºåÂèàÂè´ÂÅöÂÆàÊä§Á∫øÁ®ãÔºåÂΩì‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÁöÑÊâÄÊúâÂâçÂè∞Á∫øÁ®ãÈÉΩÁªìÊùü‰∫ÜÔºåËøõÁ®ãÂ∞±‰ºöÁªìÊùüÔºåÊó†ËÆ∫ËøõÁ®ã‰∏≠ÁöÑÂÖ∂‰ªñÂêéÂè∞Á∫øÁ®ãÊòØÂê¶ËøòÂú®ËøêË°åÔºåÈÉΩË¶ÅË¢´Âº∫Âà∂‰∏≠Êñ≠Ôºö1234567891011121314151617181920212223242526Thread front = new Thread(() -&gt; &#123; for (int i = 0; i &lt; 2; i++) &#123; System.out.println("ÂâçÁ´ØÁ∫øÁ®ãËøêË°å‰∏≠"); try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println("ÂâçÂè∞Á∫øÁ®ãËøêË°åÂÆåÊØï");&#125;);Thread back = new Thread(() -&gt; &#123; while (true) &#123; System.out.println("ÂâçÂè∞Á∫øÁ®ãÁªìÊùüÔºåÊàëÂ∞±gg"); try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125;);front.start();back.setDaemon(true);back.start();ËæìÂá∫Â¶Ç‰∏ãÔºö123456ÂâçÂè∞Á∫øÁ®ãÁªìÊùüÔºåÊàëÂ∞±ggÂâçÁ´ØÁ∫øÁ®ãËøêË°å‰∏≠ÂâçÂè∞Á∫øÁ®ãÁªìÊùüÔºåÊàëÂ∞±ggÂâçÁ´ØÁ∫øÁ®ãËøêË°å‰∏≠ÂâçÂè∞Á∫øÁ®ãÁªìÊùüÔºåÊàëÂ∞±ggÂâçÂè∞Á∫øÁ®ãËøêË°åÂÆåÊØïyieldËØ•ÊñπÊ≥ïÁî®‰∫é‰ΩøÂΩìÂâçÁ∫øÁ®ã‰∏ªÂä®ËÆ©Âá∫ÂΩìÊ¨°CPUÊó∂Èó¥ÁâáÂõûÂà∞RunnableÁä∂ÊÄÅÔºåÁ≠âÂæÖÂàÜÈÖçÊó∂Èó¥Áâá„ÄÇjoinÂÖÅËÆ∏ÂΩìÂâçÁ∫øÁ®ãÂú®Âè¶‰∏Ä‰∏™Á∫øÁ®ã‰∏äÁ≠âÂæÖÔºåÁõ¥Âà∞Âè¶‰∏Ä‰∏™Á∫øÁ®ãÁªìÊùüÂ∑•‰Ωú„ÄÇÈÄöÂ∏∏ÊòØÁî®Êù•ÂçèË∞É‰∏§‰∏™Á∫øÁ®ãÂ∑•‰Ωú‰ΩøÁî®Ôºö1234567891011121314151617181920212223242526272829303132private static boolean isFinish = false;public static void main(String[] args) &#123; Thread download = new Thread(() -&gt; &#123; System.out.println("ÂºÄÂßã‰∏ãËΩΩÂõæÁâá..."); for (int i = 1; i &lt;= 100; i++) &#123; System.out.println("down:" + i + "%"); try &#123; TimeUnit.MILLISECONDS.sleep(10); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println("ÂõæÁâá‰∏ãËΩΩÂÆåÊØï!"); isFinish = true; &#125;); Thread show = new Thread(() -&gt; &#123; System.out.println("ÂºÄÂßãÊòæÁ§∫ÂõæÁâá..."); try &#123; download.join(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; if (!isFinish) &#123; throw new RuntimeException("ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•!"); &#125; System.out.println("ÂõæÁâáÊòæÁ§∫ÂÆåÊØï!"); &#125;); download.start(); show.start();&#125;synchroinzedÂ§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëËØªÂÜôÂêå‰∏Ä‰∏™‰∏¥ÁïåËµÑÊ∫êÊó∂ÂÄô‰ºöÂèëÁîü‚ÄúÁ∫øÁ®ãÂπ∂ÂèëÂÆâÂÖ®ÈóÆÈ¢ò‚ÄùÂ∏∏ËßÅÁöÑ‰∏¥ÁïåËµÑÊ∫ê:Â§öÁ∫øÁ®ãÂÖ±‰∫´ÂÆû‰æãÂèòÈáèÔºõÂ§öÁ∫øÁ®ãÂÖ±‰∫´ÈùôÊÄÅÂÖ¨ÂÖ±ÂèòÈáè„ÄÇËã•ÊÉ≥Ëß£ÂÜ≥Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºåÈúÄË¶ÅÂ∞ÜÂºÇÊ≠•ÁöÑÊìç‰ΩúÂèò‰∏∫ÂêåÊ≠•Êìç‰Ωú„ÄÇ ‰Ωï‰∏∫ÂêåÊ≠•ÔºüÈÇ£‰πàÊàë‰ª¨Êù•ÂØπÊØîÁúã‰∏Ä‰∏ã‰ªÄ‰πàÊòØÂêåÊ≠•‰ªÄ‰πàÂºÇÊ≠•ÔºöÊâÄË∞ìÂºÇÊ≠•Êìç‰ΩúÊòØÊåáÂ§öÁ∫øÁ®ãÂπ∂ÂèëÁöÑÊìç‰ΩúÔºåÁõ∏ÂΩì‰∫éÂêÑÂπ≤ÂêÑÁöÑ„ÄÇÊâÄË∞ìÂêåÊ≠•Êìç‰ΩúÊòØÊåáÊúâÂÖàÂêéÈ°∫Â∫èÁöÑÊìç‰ΩúÔºåÁõ∏ÂΩì‰∫é‰Ω†Âπ≤ÂÆåÊàëÂÜçÂπ≤„ÄÇËÄåjava‰∏≠Êúâ‰∏Ä‰∏™ÂÖ≥ÈîÆÂ≠óÂêç‰∏∫ÔºösynchronizedÔºåËØ•ÂÖ≥ÈîÆÂ≠óÊòØÂêåÊ≠•ÈîÅÔºåÁî®‰∫éÂ∞ÜÊüêÊÆµ‰ª£Á†ÅÂèò‰∏∫ÂêåÊ≠•Êìç‰ΩúÔºå‰ªéËÄåËß£ÂÜ≥Á∫øÁ®ãÂπ∂ÂèëÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇ‰ΩøÁî®ÈîÅÈúÄË¶ÅÊ≥®ÊÑè‰∏§‰∏™ÊñπÈù¢ÔºöÈÄâÊã©ÂêàÈÄÇÁöÑÈîÅÂØπË±°Ôºö‰ΩøÁî®synchroinzedÈúÄË¶ÅÂØπ‰∏Ä‰∏™ÈîÅÂØπË±°‰∏äÈîÅ‰ª•‰øùËØÅÁ∫øÁ®ãÂêåÊ≠•„ÄÇÈÇ£‰πàËøô‰∏™ÈîÅÂØπË±°Â∫îÂΩìÊ≥®ÊÑèÂ§ö‰∏™ÈúÄË¶ÅÂêåÊ≠•ÁöÑÁ∫øÁ®ãÂú®ËÆøÈóÆËØ•ÂêåÊ≠•ÂùóÊó∂ÔºåÁúãÂà∞ÁöÑÂ∫îËØ•ÊòØÂêå‰∏Ä‰∏™ÈîÅÂØπË±°ÂºïÁî®„ÄÇÂê¶ÂàôËææ‰∏çÂà∞ÂêåÊ≠•ÊïàÊûú„ÄÇ ÈÄöÂ∏∏Êàë‰ª¨‰ºö‰ΩøÁî®thisÊù•‰Ωú‰∏∫ÈîÅÂØπË±°„ÄÇÈÄâÊã©ÂêàÈÄÇÁöÑÈîÅËåÉÂõ¥ÔºöÂú®‰ΩøÁî®ÂêåÊ≠•ÂùóÊó∂ÔºåÂ∫îÂΩìÂ∞ΩÈáèÂú®ÂÖÅËÆ∏ÁöÑÊÉÖÂÜµ‰∏ãÂáèÂ∞ëÂêåÊ≠•ËåÉÂõ¥Ôºå‰ª•ÊèêÈ´òÂπ∂ÂèëÁöÑÊâßË°åÊïàÁéá„ÄÇsynchronizedÂÖ≥ÈîÆÂ≠óÊúâ‰∏§‰∏™Áî®Ê≥ï:‰øÆÈ•∞ÊñπÊ≥ïÔºåËøôÊ†∑ÁöÑËØùÔºåËØ•ÊñπÊ≥ïÂ∞±Áß∞‰∏∫‚ÄùÂêåÊ≠•ÊñπÊ≥ï‚ÄùÔºåÂ§ö‰∏™Á∫øÁ®ãÂ∞±‰∏çËÉΩÂêåÊó∂ËøõÂÖ•Âà∞ÊñπÊ≥ïÂÜÖÈÉ®ÂéªÊâßË°å„ÄÇÂèØ‰ª•ÈÅøÂÖçÁî±‰∫éÁ∫øÁ®ãÂàáÊç¢‰∏çÁ°ÆÂÆöÔºåÂØºËá¥ÁöÑÈÄªËæëÈîôËØØ„ÄÇsynchronizedÂùóÔºåÂèØ‰ª•Â∞ÜÊüêÊÆµ‰ª£Á†ÅÁâáÊÆµÊã¨Ëµ∑Êù•ÔºåÂ§ö‰∏™Á∫øÁ®ã‰∏çËÉΩÂêåÊó∂ÊâßË°åÈáåÈù¢ÁöÑ‰ª£Á†Å„ÄÇ12345678910111213141516171819202122232425262728293031323334public static void main(String[] args) &#123; final Table table = new Table(); Thread t0 = new Thread() &#123; public void run() &#123; while (true) &#123; int bean = table.getBean(); Thread.yield(); System.out.println(getName() + ":" + bean); &#125; &#125; &#125;; Thread t1 = new Thread() &#123; public void run() &#123; while (true) &#123; int bean = table.getBean(); Thread.yield(); System.out.println(getName() + ":" + bean); &#125; &#125; &#125;; t0.start(); t1.start();&#125;static class Table &#123; private int beans = 20; synchronized int getBean() &#123; if (beans == 0) &#123; throw new RuntimeException("Ê≤°ÊúâË±ÜÂ≠ê‰∫Ü!"); &#125; Thread.yield(); return beans--; &#125;&#125;Â¶ÇÊûú‰∏çÂä†synchronizedÂÖ≥ÈîÆÂ≠óÔºåÂèØËÉΩbeans‰∏∫Ë¥üÊï∞‰∫ÜÔºåÁ∫øÁ®ãËøòÂú®ÊâßË°åÔºåÊàê‰∫ÜÊ≠ªÂæ™ÁéØ„ÄÇsynchronizedÂùóÁöÑ‰æãÂ≠êÔºö12345678910111213141516171819202122232425public static void main(String[] args) &#123; final Shop shop = new Shop(); Thread t1 = new Thread(shop::buy); Thread t2 = new Thread(shop::buy); t1.start(); t2.start();&#125;static class Shop &#123; void buy() &#123; try &#123; Thread t = Thread.currentThread(); System.out.println(t + "Ê≠£Âú®ÊåëÈÄâË°£Êúç."); Thread.sleep(1000); synchronized (this) &#123; System.out.println(t + "Ê≠£Âú®ËØïË°£Êúç."); Thread.sleep(1000); &#125; System.out.println(t + "ÁªìË¥¶Á¶ªÂºÄ."); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125;Ê≠§Êó∂Ôºå‚ÄúÊ≠£Âú®ËØïË°£Êúç‚ÄùËøô‰∏™‰ª£Á†ÅÂùó‰∏ÄÊ¨°Âè™ËÉΩ‰∏Ä‰∏™Á∫øÁ®ãÊâßË°å„ÄÇwait&amp;notifyObjectÁ±ª‰∏≠ÂÆö‰πâ‰∫Ü‰∏§‰∏™ÊñπÊ≥ïwait()Âíånotify()„ÄÇÂÆÉ‰ª¨‰πüÂèØ‰ª•ÂÆûÁé∞ÂçèË∞ÉÁ∫øÁ®ã‰πãÈó¥ÂêåÊ≠•Â∑•‰ΩúÁöÑÊñπÊ≥ï„ÄÇÂΩì‰∏Ä‰∏™Á∫øÁ®ãË∞ÉÁî®‰∫ÜÊüê‰∏™ÂØπË±°ÁöÑwaitÊñπÊ≥ïÊó∂ÔºåËøô‰∏™Á∫øÁ®ãÂ∞±ËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅÔºåÁõ¥Âà∞Ëøô‰∏™ÂØπË±°ÁöÑnotifyÊñπÊ≥ïË¢´Ë∞ÉÁî®ÔºåËøô‰∏™Á∫øÁ®ãÊâç‰ºöËß£Èô§waitÈòªÂ°ûÔºåÁªßÁª≠Âêë‰∏ãÊâßË°å‰ª£Á†Å„ÄÇËã•Â§ö‰∏™Á∫øÁ®ãÂú®Âêå‰∏Ä‰∏™ÂØπË±°‰∏äË∞ÉÁî®waitÊñπÊ≥ïËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅÂêéÔºåÈÇ£‰πàÂΩìËØ•ÂØπË±°ÁöÑnotifyÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂Ôºå‰ºöÈöèÊú∫Ëß£Èô§‰∏Ä‰∏™Á∫øÁ®ãÁöÑwaitÈòªÂ°ûÔºåËøô‰∏™‰∏çÂèØÊéß„ÄÇËã•Â∏åÊúõ‰∏ÄÊ¨°ÊÄßÂ∞ÜÊâÄÊúâÁ∫øÁ®ãÁöÑwaitÈòªÂ°ûËß£Èô§ÔºåÂèØ‰ª•Ë∞ÉÁî®notifyAllÊñπÊ≥ï„ÄÇ12345678910111213141516171819202122232425262728293031323334353637383940private static boolean isFinish;private static final Object obj = new Object();public static void main(String[] args) &#123; final Thread download = new Thread(() -&gt; &#123; System.out.println("down:ÂºÄÂßã‰∏ãËΩΩÂõæÁâá..."); for (int i = 1; i &lt;= 100; i++) &#123; System.out.println("down:" + i + "%"); try &#123; TimeUnit.MILLISECONDS.sleep(10); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println("down:ÂõæÁâá‰∏ãËΩΩÂÆåÊØï!"); isFinish = true; //ÈÄöÁü• showÁ∫øÁ®ãÂºÄÂßãÂ∑•‰Ωú synchronized (obj) &#123; obj.notify(); &#125; &#125;); Thread show = new Thread(() -&gt; &#123; System.out.println("show:ÂºÄÂßãÊòæÁ§∫ÂõæÁâá..."); synchronized (obj) &#123; try &#123; obj.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; if (!isFinish) &#123; throw new RuntimeException("ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•!"); &#125; System.out.println("show:ÂõæÁâáÊòæÁ§∫ÂÆåÊØï!"); &#125;); download.start(); show.start();&#125;Á∫øÁ®ãÊ±†ÂΩìÊàë‰ª¨ÁöÑÈÄªËæë‰∏≠Âá∫Áé∞‰∫Ü‰ºöÈ¢ëÁπÅÂàõÂª∫Á∫øÁ®ãÁöÑÊÉÖÂÜµÊó∂ÔºåÂ∞±Ë¶ÅËÄÉËôë‰ΩøÁî®Á∫øÁ®ãÊ±†Êù•ÁÆ°ÁêÜÁ∫øÁ®ã„ÄÇËøôÂèØ‰ª•Ëß£ÂÜ≥ÂàõÂª∫ËøáÂ§öÁ∫øÁ®ãÂØºËá¥ÁöÑÁ≥ªÁªüÂ®ÅËÉÅ„ÄÇÁ∫øÁ®ãÊ±†‰∏ªË¶ÅËß£ÂÜ≥‰∏§‰∏™ÈóÆÈ¢òÔºöÊéßÂà∂Á∫øÁ®ãÊï∞ÈáèÔºõÈáçÁî®Á∫øÁ®ã„ÄÇ12345678910111213141516171819//ÂàõÂª∫‰∏Ä‰∏™Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÁ∫øÁ®ãÊ±†ExecutorService threadPool = Executors.newFixedThreadPool(3);//ÊåáÊ¥æ 5‰∏™‰ªªÂä°for (int i = 0; i &lt; 5; i++) &#123; Runnable runn = () -&gt; &#123; Thread t = Thread.currentThread(); System.out.println(t + "Ê≠£Âú®ËøêË°å‰ªªÂä°!"); try &#123; TimeUnit.SECONDS.sleep(2); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println(t + "ÊâßË°å‰ªªÂä°ÂÆåÊØï"); &#125;; threadPool.execute(runn);&#125;//ÂÅúÊ≠¢Á∫øÁ®ãÊ±†threadPool.shutdown();12345678910Thread[pool-1-thread-2,5,main]Ê≠£Âú®ËøêË°å‰ªªÂä°!Thread[pool-1-thread-1,5,main]Ê≠£Âú®ËøêË°å‰ªªÂä°!Thread[pool-1-thread-3,5,main]Ê≠£Âú®ËøêË°å‰ªªÂä°!Thread[pool-1-thread-2,5,main]ÊâßË°å‰ªªÂä°ÂÆåÊØïThread[pool-1-thread-3,5,main]ÊâßË°å‰ªªÂä°ÂÆåÊØïThread[pool-1-thread-2,5,main]Ê≠£Âú®ËøêË°å‰ªªÂä°!Thread[pool-1-thread-1,5,main]ÊâßË°å‰ªªÂä°ÂÆåÊØïThread[pool-1-thread-3,5,main]Ê≠£Âú®ËøêË°å‰ªªÂä°!Thread[pool-1-thread-3,5,main]ÊâßË°å‰ªªÂä°ÂÆåÊØïThread[pool-1-thread-2,5,main]ÊâßË°å‰ªªÂä°ÂÆåÊØïÊ≠§Êó∂ÂêåÊó∂Âè™ËÉΩÊúâ‰∏â‰∏™Á∫øÁ®ãÊï∞Èáè„ÄÇ]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle ÁªèÂÖ∏ËØïÈ¢òÈõÜ]]></title>
    <url>%2FOracle-%E7%BB%8F%E5%85%B8%E8%AF%95%E9%A2%98%E9%9B%86.html</url>
    <content type="text"><![CDATA[‰∏Ä‰ªΩÂæàÂ•ΩÁöÑOracle SQLËØïÈ¢òÈõÜüôå„ÄÇÂáÜÂ§áÂ∑•‰ΩúÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465create table student( sno varchar2(10) primary key, sname varchar2(20), sage number(2), ssex varchar2(5));create table teacher( tno varchar2(10) primary key, tname varchar2(20));create table course( cno varchar2(10), cname varchar2(20), tno varchar2(20), constraint pk_course primary key (cno,tno));create table sc( sno varchar2(10), cno varchar2(10), score number(4,2), constraint pk_sc primary key (sno,cno));/*******ÂàùÂßãÂåñÂ≠¶ÁîüË°®ÁöÑÊï∞ÊçÆ******/insert into student values ('s001','Âº†‰∏â',23,'Áî∑');insert into student values ('s002','ÊùéÂõõ',23,'Áî∑');insert into student values ('s003','Âê¥Èπè',25,'Áî∑');insert into student values ('s004','Áê¥Ê≤Å',20,'Â•≥');insert into student values ('s005','Áéã‰∏Ω',20,'Â•≥');insert into student values ('s006','ÊùéÊ≥¢',21,'Áî∑');insert into student values ('s007','ÂàòÁéâ',21,'Áî∑');insert into student values ('s008','ËêßËìâ',21,'Â•≥');insert into student values ('s009','ÈôàËêßÊôì',23,'Â•≥');insert into student values ('s010','ÈôàÁæé',22,'Â•≥');commit;/******************ÂàùÂßãÂåñÊïôÂ∏àË°®***********************/insert into teacher values ('t001', 'ÂàòÈò≥');insert into teacher values ('t002', 'Ë∞åÁáï');insert into teacher values ('t003', 'ËÉ°ÊòéÊòü');commit;/***************ÂàùÂßãÂåñËØæÁ®ãË°®****************************/insert into course values ('c001','J2SE','t002');insert into course values ('c002','Java Web','t002');insert into course values ('c003','SSH','t001');insert into course values ('c004','Oracle','t001');insert into course values ('c005','SQL SERVER 2005','t003');insert into course values ('c006','C#','t003');insert into course values ('c007','JavaScript','t002');insert into course values ('c008','DIV+CSS','t001');insert into course values ('c009','PHP','t003');insert into course values ('c010','EJB3.0','t002');commit;/***************ÂàùÂßãÂåñÊàêÁª©Ë°®***********************/insert into sc values ('s001','c001',78.9);insert into sc values ('s002','c001',80.9);insert into sc values ('s003','c001',81.9);insert into sc values ('s004','c001',60.9);insert into sc values ('s001','c002',82.9);insert into sc values ('s002','c002',72.9);insert into sc values ('s003','c002',81.9);insert into sc values ('s001','c003','59');commit;1„ÄÅÊü•ËØ¢‚Äúc001‚ÄùËØæÁ®ãÊØî‚Äúc002‚ÄùËØæÁ®ãÊàêÁª©È´òÁöÑÊâÄÊúâÂ≠¶ÁîüÁöÑÊàêÁª©‰ø°ÊÅØÔºõ12345678SQL&gt; select a.* from 2 (select * from sc a where a.cno = 'c001') a, 3 (select * from sc b where b.cno = 'c002') b 4 where a.sno=b.sno and a.score &gt; b.score;SNO CNO SCORE---------- ---------- ----------s002 c001 80.9ÊàñËÄÖÔºö1234567SQL&gt; select * from sc a 2 where a.cno = 'c001' 3 and exists (select * from sc b where b.cno='c002' and a.score &gt; b.score and a.sno = b.sno);SNO CNO SCORE---------- ---------- ----------s002 c001 80.92„ÄÅÊü•ËØ¢Âπ≥ÂùáÊàêÁª©Â§ß‰∫é60ÂàÜÁöÑÂêåÂ≠¶ÁöÑÂ≠¶Âè∑ÂíåÂπ≥ÂùáÊàêÁª©Ôºõ12345678SQL&gt; select sno,avg(score) from sc group by sno having avg(score) &gt; 60;SNO AVG(SCORE)---------- ----------s003 81.9s004 60.9s001 73.6s002 76.93„ÄÅÊü•ËØ¢ÊâÄÊúâÂêåÂ≠¶ÁöÑÂ≠¶Âè∑„ÄÅÂßìÂêç„ÄÅÈÄâËØæÊï∞„ÄÅÊÄªÊàêÁª©Ôºõ1234567891011121314151617SQL&gt; SELECT a.sno, a.sNAME,sum(score),count(b.cno) 2 FROM student a, sc b 3 WHERE a.sno = b.sno(+) 4 group by a.sno,sname;SNO SNAME SUM(SCORE) COUNT(B.CNO)---------- -------------------- ---------- ------------s009 ÈôàËêßÊôì 0s005 Áéã‰∏Ω 0s001 Âº†‰∏â 220.8 3s008 ËêßËìâ 0s003 Âê¥Èπè 163.8 2s004 Áê¥Ê≤Å 60.9 1s007 ÂàòÁéâ 0s006 ÊùéÊ≥¢ 0s010 ÈôàÁæé 0s002 ÊùéÂõõ 153.8 24„ÄÅÊü•ËØ¢Âßì‚ÄúÂàò‚ÄùÁöÑËÄÅÂ∏àÁöÑ‰∏™Êï∞Ôºö12345SQL&gt; select count(1) from TEACHER where TNAME LIKE 'Âàò%'; COUNT(1)---------- 1]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle basis]]></title>
    <url>%2FOracle-basis.html</url>
    <content type="text"><![CDATA[OracleÊï∞ÊçÆÁ±ªÂûãNUMBERNUMBERË°®Á§∫Êï∞Â≠óÁ±ªÂûãÔºåÁªèÂ∏∏Ë¢´ÂÆö‰πâÊàêNUMBERÔºàPÔºåSÔºâÂΩ¢ÂºèÔºåÂÖ∂‰∏≠ÔºöPË°®Á§∫Êï∞Â≠óÁöÑÊÄª‰ΩçÊï∞ÔºõSË°®Á§∫Â∞èÊï∞ÁÇπÂêéÈù¢ÁöÑ‰ΩçÊï∞„ÄÇÂ¶ÇÔºöSal NUMBER(6,2)ÔºöË°®Á§∫SalÂàó‰∏≠ÁöÑÊï∞ÊçÆÔºåÊï¥Êï∞‰ΩçÊúÄÂ§ß‰∏∫4‰ΩçÔºåÂ∞èÊï∞‰ΩçÊúÄÂ§ß‰ΩçÊï∞ÊòØ2‰ΩçÔºå‰πüÂ∞±ÊòØÊúÄÂ§ßÂèñÂÄºÔºö9999.99„ÄÇP‰∏çÂÜô‰∏∫*Âè∑ÁöÑÊó∂ÂÄô‰ª£Ë°®ÈªòËÆ§38„ÄÇCHARCHARË°®Á§∫Âõ∫ÂÆöÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶Á±ªÂûãÔºåÁªèÂ∏∏Ë¢´ÂÆö‰πâÊàêCHARÔºàNÔºâÂΩ¢ÂºèÔºå NË°®Á§∫Âç†Áî®ÁöÑÂ≠óËäÇÊï∞ÔºåNÁöÑÊúÄÂ§ßÂèñÂÄºÊòØ2000„ÄÇ‰æãÂ¶ÇÂú®Ë°®Emp‰∏≠ÁöÑEnameÂàóÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºöEname CHAR(20)ÔºöË°®Á§∫EnameÂàó‰∏≠ÊúÄÂ§öÂèØÂ≠òÂÇ®20‰∏™Â≠óËäÇÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂπ∂‰∏îÂç†Áî®ÁöÑÁ©∫Èó¥ÊòØÂõ∫ÂÆöÁöÑ20‰∏™Â≠óËäÇ„ÄÇVARCHAR2VARCHAR2Ë°®Á§∫ÂèòÈïøÁöÑÂ≠óÁ¨¶Á±ªÂûãÔºåÂÆö‰πâÊ†ºÂºèÊòØVARCHAR2ÔºàNÔºâÔºå NË°®Á§∫ÊúÄÂ§öÂèØÂç†Áî®ÁöÑÂ≠óËäÇÊï∞ÔºåÊúÄÂ§ßÈïøÂ∫¶ÊòØ4000Â≠óËäÇ„ÄÇ‰æãÂ¶ÇÂú®Ë°®Emp‰∏≠ÁöÑJOBÂàóÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºö JOB VARCHAR2(100)ÔºöË°®Á§∫JOBÂàó‰∏≠ÊúÄÂ§öÂèØÂ≠òÂÇ®ÈïøÂ∫¶‰∏∫100‰∏™Â≠óËäÇÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇÊ†πÊçÆÂÖ∂‰∏≠‰øùÂ≠òÁöÑÊï∞ÊçÆÈïøÂ∫¶ÔºåÂç†Áî®ÁöÑÁ©∫Èó¥ÊòØÂèòÂåñÁöÑÔºåÊúÄÂ§ßÂç†Áî®Á©∫Èó¥‰∏∫100‰∏™Â≠óËäÇ„ÄÇCHARÂíåVARCHAR2ÁöÑÂå∫Âà´CHARÂíåVARCHAR2Á±ªÂûãCHARÂíåVARCHAR2Á±ªÂûãÈÉΩÊòØÁî®Êù•Ë°®Á§∫Â≠óÁ¨¶‰∏≤Êï∞ÊçÆÁ±ªÂûãÔºåÁî®Êù•Âú®Ë°®‰∏≠Â≠òÊîæÂ≠óÁ¨¶‰∏≤‰ø°ÊÅØÔºå ÊØîÂ¶ÇÂßìÂêç„ÄÅËÅå‰∏ö„ÄÅÂú∞ÂùÄÁ≠â„ÄÇCHARÂ≠òÊîæÂÆöÈïøÂ≠óÁ¨¶ÔºåÂ¶ÇÊûúÊï∞ÊçÆÂ≠ò‰∏çÊª°ÂÆöÈïøÈïøÂ∫¶ÔºåÂàôË°•ÈΩêÁ©∫Ê†ºÔºõVARCHAR2Â≠òÊîæÂèòÈïøÂ≠óÁ¨¶ÔºåÂÆûÈôÖÊï∞ÊçÆÊúâÂ§öÂ∞ëÈïøÂ∫¶ÂàôÂç†Áî®Â§öÂ∞ë„ÄÇÂ¶Ç‰øùÂ≠òÂ≠óÁ¨¶‰∏≤‚ÄôHELLOWORLD‚ÄôÔºåÂÖ±10‰∏™Ëã±ÊñáÂ≠óÊØçÔºöCHAR(100)Ôºö 10‰∏™Â≠óÊØçÔºåË°•ÈΩê90‰∏™Á©∫Ê†ºÔºåÂÆûÈôÖÂç†Áî®100‰∏™Â≠óËäÇ„ÄÇVARCHAR2(100) Ôºö10‰∏™Â≠óÊØçÔºåÂÆûÈôÖÂç†Áî®10‰∏™Â≠óËäÇ„ÄÇCHARÁ±ªÂûãÊµ™Ë¥πÁ©∫Èó¥Êç¢ÂèñÊü•ËØ¢Êó∂Èó¥ÁöÑÁº©Áü≠ÔºåVARCHAR2ËäÇÁúÅÁ©∫Èó¥Êü•ËØ¢Êó∂Èó¥ËæÉCHARÁ±ªÂûãË¶ÅÈïø„ÄÇÂ≠óÁ¨¶‰∏≤ÊåâÁÖßËá™ÁÑ∂È°∫Â∫èÊéíÂ∫è„ÄÇCHARÂíåVARCHAR2ÁöÑÂ≠òÂÇ®ÁºñÁ†ÅÂ≠óÁ¨¶‰∏≤Âú®Êï∞ÊçÆÂ∫ì‰∏≠Â≠òÂÇ®ÁöÑÈªòËÆ§Âçï‰ΩçÊòØÂ≠óËäÇÔºå‰πüÂèØÊòæÂºèÊåáÂÆö‰∏∫Â≠óÁ¨¶„ÄÇÂ¶ÇÔºöCHAR(10)ÔºåÁ≠â‰ª∑‰∫é CHAR(10 BYTE)„ÄÇÂ¶ÇÊûúÊåáÂÆöÂçï‰Ωç‰∏∫Â≠óÁ¨¶ÔºöCHAR(10 CHAR)Ôºå20‰∏™Â≠óËäÇ„ÄÇVARCHAR2(10)Ôºå Á≠â‰ª∑‰∫éVARCHAR2Ôºà10 BYTEÔºâ„ÄÇÊåáÂÆöÂçï‰Ωç‰∏∫Â≠óÁ¨¶ÔºöVARCHAR2(10 CHAR)Ôºå20‰∏™Â≠óËäÇ„ÄÇCHARÂíåVARCHAR2ÁöÑÊúÄÂ§ßÈïøÂ∫¶CHARÁ±ªÂûãÁöÑÊúÄÂ§ßÂèñÂÄº‰∏∫2000Â≠óËäÇÔºå‰πüÂ∞±ÊòØÂÆö‰πâ‰∏∫CHARÔºà2000Ôºâ„ÄÇÂÖ∂‰∏≠ÊúÄÂ§ö‰øùÂ≠ò2000‰∏™Ëã±ÊñáÂ≠óÁ¨¶Ôºå1000‰∏™Ê±âÂ≠óÔºàGBKÔºâ„ÄÇVARCHAR2ÊúÄÂ§ßÂèñÂÄº‰∏∫4000Â≠óËäÇÔºå‰πüÂ∞±ÊòØVARCHAR2Ôºà4000ÔºâÔºåÊúÄÂ§ö‰øùÂ≠ò4000‰∏™Ëã±ÊñáÂ≠óÁ¨¶Ôºå2000‰∏™Ê±âÂ≠óÔºàGBKÔºâ„ÄÇCHARÂ¶ÇÊûú‰∏çÊåáÂÆöÈïøÂ∫¶ÔºåÈªòËÆ§‰∏∫1‰∏™Â≠óËäÇÔºå VARCHAR2ÂøÖÈ°ªÊåáÂÆöÈïøÂ∫¶„ÄÇDATEDATEÁî®‰∫éÂÆö‰πâÊó•ÊúüÊó∂Èó¥ÁöÑÊï∞ÊçÆÔºåÈïøÂ∫¶ÊòØ7‰∏™Â≠óËäÇÔºåÈªòËÆ§Ê†ºÂºèÊòØÔºöDD-MON-RRÔºå ‰æãÂ¶ÇÔºö‚Äú11-APR-71‚Äù„ÄÇÂ¶ÇÊûúÊòØ‰∏≠ÊñáÁéØÂ¢ÉÔºåÊòØ‚Äú11-4Êúà-71‚ÄùËøôÁßçÂΩ¢Âºè„ÄÇ‰æãÂ¶ÇÂú®Ë°®Emp‰∏≠ÁöÑHiredateÂàóÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºöHiredate DATEÔºöË°®Á§∫HiredateÂàó‰∏≠Â≠òÊîæÁöÑÊòØÊó•ÊúüÊï∞ÊçÆ„ÄÇLONGÂíåCLOBÁ±ªÂûãLONGÁ±ªÂûãÂèØ‰ª•ËÆ§‰∏∫ÊòØVARCHAR2ÁöÑÂä†ÈïøÁâàÔºåÁî®Êù•Â≠òÂÇ®ÂèòÈïøÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂ§öËææ2GBÁöÑÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆÔºå‰ΩÜÊòØLONGÁ±ªÂûãÊúâËØ∏Â§öÈôêÂà∂ÔºåÊâÄ‰ª•‰∏çÂª∫ËÆÆ‰ΩøÁî®ÔºöÊØè‰∏™Ë°®Âè™ËÉΩÊúâ‰∏Ä‰∏™LONGÁ±ªÂûãÂàóÔºõ‰∏çËÉΩ‰Ωú‰∏∫‰∏ªÈîÆÔºõ‰∏çËÉΩÂª∫Á´ãÁ¥¢ÂºïÔºõ‰∏çËÉΩÂá∫Áé∞Âú®Êü•ËØ¢Êù°‰ª∂‰∏≠Á≠âCLOBÁî®Êù•Â≠òÂÇ®ÂÆöÈïøÊàñÂèòÈïøÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂ§öËææ4GBÁöÑÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆÔºåORACLEÂª∫ËÆÆÂºÄÂèë‰∏≠‰ΩøÁî®CLOBÊõø‰ª£LONGÁ±ªÂûã„ÄÇSQLÂàÜÁ±ªSQLÔºàStructured Query LanguageÔºâÊòØÁªìÊûÑÂåñÊü•ËØ¢ËØ≠Ë®ÄÁöÑÁº©ÂÜô„ÄÇÂèØÂàÜ‰∏∫ÔºöÊï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºàDDL Data Definition LanguageÔºâÔºöÁî®‰∫éÂª∫Á´ãÔºå‰øÆÊîπÂíåÂà†Èô§Êï∞ÊçÆÂ∫ìÂØπË±°„ÄÇÂåÖÂê´ÔºöCREATEÔºöÂàõÂª∫Ë°®ÊàñÂÖ∂‰ªñÂØπË±°ÁöÑÁªìÊûÑ„ÄÇALTER: ‰øÆÊîπË°®ÊàñÂÖ∂‰ªñÂØπË±°ÁöÑÁªìÊûÑ„ÄÇDROPÔºöÂà†Èô§Ë°®ÊàñÂÖ∂‰ªñÂØπË±°ÁöÑÁªìÊûÑ„ÄÇTRUNCATEÔºöÂà†Èô§Ë°®Êï∞ÊçÆÔºå‰øùÁïôË°®ÁªìÊûÑ„ÄÇCREATEËØ≠Âè•ÂàõÂª∫Ë°®Ê†ºÔºö12345678910111213141516171819202122SQL&gt; create table employee ( 2 id NUMBER(10) not null, 3 name VARCHAR2(20), 4 gender CHAR(1), 5 birth DATE, 6 salary NUMBER(6,2), 7 job VARCHAR2(30), 8 deptno NUMBER(2) 9 );Ë°®Â∑≤ÂàõÂª∫„ÄÇSQL&gt; desc employee; ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- ID NOT NULL NUMBER(10) NAME VARCHAR2(20) GENDER CHAR(1) BIRTH DATE SALARY NUMBER(6,2) JOB VARCHAR2(30) DEPTNO NUMBER(2)‰øÆÊîπË°®ÂêçÔºö123SQL&gt; RENAME employee TO employee1;Ë°®Â∑≤ÈáçÂëΩÂêç„ÄÇÂ¢ûÂä†ÂàóÔºöÂú®Âª∫Ë°®‰πãÂêéÔºåË¶ÅÁªôË°®Â¢ûÂä†ÂàóÂèØ‰ª•‰ΩøÁî®ALTER TABLEÁöÑADDÂ≠êÂè•ÂÆûÁé∞„ÄÇÂ¶ÇÂú®employee1Ë°®ÊúÄÂêéÈù¢Â¢ûÂä†‰∏ÄÂàóÔºö123456789101112131415SQL&gt; ALTER TABLE employee1 ADD(hiredate DATE DEFAULT SYSDATE);Ë°®Â∑≤Êõ¥Êîπ„ÄÇSQL&gt; desc employee1 ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- ID NOT NULL NUMBER(10) NAME VARCHAR2(20) GENDER CHAR(1) BIRTH DATE SALARY NUMBER(6,2) JOB VARCHAR2(30) DEPTNO NUMBER(2) HIREDATE DATEÂà†Èô§ÂàóÔºöÂà†Èô§employee1Ë°®‰∏≠ÁöÑhiredateÂàóÔºö123SQL&gt; ALTER TABLE employee1 DROP(hiredate);Ë°®Â∑≤Êõ¥Êîπ„ÄÇÂà†Èô§ÊâÄÊúâË°®Êï∞ÊçÆÔºå‰øùÁïôÁªìÊûÑÔºö123SQL&gt; truncate TABLE employee1;Ë°®Ë¢´Êà™Êñ≠„ÄÇTRUNCATE TABLEÂú®ÂäüËÉΩ‰∏ä‰∏é‰∏çÂ∏¶WHEREÂ≠êÂè•ÁöÑDELETEËØ≠Âè•Áõ∏ÂêåÔºö‰∫åËÄÖÂùáÂà†Èô§Ë°®‰∏≠ÁöÑÂÖ®ÈÉ®Ë°å„ÄÇ‰ΩÜTRUNCATE TABLEÊØîDELETEÈÄüÂ∫¶Âø´Ôºå‰∏î‰ΩøÁî®ÁöÑÁ≥ªÁªüÂíå‰∫ãÂä°Êó•ÂøóËµÑÊ∫êÂ∞ë„ÄÇDELETEËØ≠Âè•ÊØèÊ¨°Âà†Èô§‰∏ÄË°åÔºåÂπ∂Âú®‰∫ãÂä°Êó•Âøó‰∏≠‰∏∫ÊâÄÂà†Èô§ÁöÑÊØèË°åËÆ∞ÂΩï‰∏ÄÈ°π„ÄÇ‰øÆÊîπÂàóÔºöÂª∫Ë°®‰πãÂêéÔºåÂèØ‰ª•ÊîπÂèòË°®‰∏≠ÂàóÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÅÈïøÂ∫¶ÂíåÈªòËÆ§ÂÄºÔºåÊ≥®ÊÑèËøôÁßç‰øÆÊîπ‰ªÖÂØπ‰ª•ÂêéÊèíÂÖ•ÁöÑÊï∞ÊçÆÊúâÊïàÔºåÂè¶Â§ñÂ¶ÇÊûúË°®‰∏≠Â∑≤ÁªèÊúâÊï∞ÊçÆÁöÑÊÉÖÂÜµ‰∏ãÔºåÊääÈïøÂ∫¶Áî±Â§ßÊîπÂ∞èÔºåÊúâÂèØËÉΩ‰∏çÊàêÂäüÔºåÊØîÂ¶ÇÂéüÊù•ÁöÑÁ±ªÂûãÊòØVARCHAR2(100)ÔºåÂÖ∂‰∏≠Â∑≤ÁªèÂ≠òÊîæ‰∫Ü100‰∏™Â≠óËäÇÈïøÂ∫¶ÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûúË¶ÅÊîπ‰∏∫VARCHAR2(80)ÔºåÂàô‰∏ç‰ºö‰øÆÊîπÊàêÂäü„ÄÇ‰øÆÊîπË°®employee1ÁöÑÂàójobÔºåÂπ∂Â¢ûÂä†ÈªòËÆ§ÂÄºÁöÑËÆæÁΩÆÔºö123SQL&gt; ALTER TABLE employee1 MODIFY(job VARCHAR2(40) DEFAULT 'manager');Ë°®Â∑≤Êõ¥Êîπ„ÄÇÂà†Èô§Ë°®Ôºö1234567SQL&gt; drop table employee1;Ë°®Â∑≤Âà†Èô§„ÄÇSQL&gt; desc employee1;ERROR:ORA-04043: ÂØπË±° employee1 ‰∏çÂ≠òÂú®Êï∞ÊçÆÊìçÁ∫µËØ≠Ë®ÄÔºàDML Data Manipulation LanguageÔºâÔºöÁî®‰∫éÊîπÂèòÊï∞ÊçÆË°®‰∏≠ÁöÑÊï∞ÊçÆÔºåÂíå‰∫ãÂä°Áõ∏ÂÖ≥ÔºåÊâßË°åÂÆåÂêéÈúÄË¶ÅÈÄöËøá‰∫ãÂä°ÊéßÂà∂ËØ≠Âè•Êèê‰∫§ÂêéÊâçÁúüÊ≠£ÁöÑÂ∞ÜÊîπÂèòÂ∫îÁî®Âà∞Êï∞ÊçÆÂ∫ì‰∏≠„ÄÇÂåÖÊã¨ÔºöINSERTÔºöÂ∞ÜÊï∞ÊçÆÊèíÂÖ•Âà∞Êï∞ÊçÆË°®‰∏≠„ÄÇUPDATEÔºöÊõ¥Êñ∞Êï∞ÊçÆË°®‰∏≠Â∑≤Â≠òÂú®ÁöÑÊï∞ÊçÆ„ÄÇDELETEÔºöÂà†Èô§Êï∞ÊçÆË°®‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ‰∫ãÂä°ÊéßÂà∂ËØ≠Ë®ÄÔºàTCL Transaction Control LanguageÔºâÔºöÁî®Êù•Áª¥Êä§Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÁöÑËØ≠Âè•„ÄÇÂåÖÊã¨ÔºöCOMMITÔºöÊèê‰∫§ÔºåÁ°ÆËÆ§Â∑≤ÁªèËøõË°åÁöÑÊï∞ÊçÆÊîπÂèò„ÄÇROLLBACKÔºöÂõûÊªöÔºåÂèñÊ∂àÂ∑≤ÁªèËøõË°åÁöÑÊï∞ÊçÆÊîπÂèò„ÄÇSAVEPOINTÔºö‰øùÂ≠òÁÇπÔºå‰ΩøÂΩìÂâçÁöÑ‰∫ãÂä°ÂèØ‰ª•ÂõûÈÄÄÂà∞ÊåáÂÆöÁöÑ‰øùÂ≠òÁÇπÔºå‰æø‰∫éÂèñÊ∂àÈÉ®ÂàÜÊîπÂèò„ÄÇÊï∞ÊçÆÊü•ËØ¢ËØ≠Ë®ÄÔºàDQL Data Query LanguageÔºâÔºöÁî®Êù•Êü•ËØ¢ÈúÄË¶ÅÁöÑÊï∞ÊçÆ„ÄÇSELECTËØ≠Âè•„ÄÇÊï∞ÊçÆÊéßÂà∂ËØ≠Ë®ÄÔºàDCL Data Control LanguageÔºâÔºöÁî®‰∫éÊâßË°åÊùÉÈôêÁöÑÊéà‰∫à‰∏éÂõûÊî∂Â∑•‰Ωú„ÄÇÂåÖÊã¨ÔºöGRANTÔºöÊéà‰∫àÔºåÁî®‰∫éÁªôÁî®Êà∑ÊàñËßíËâ≤Êéà‰∫àÊùÉÈôê„ÄÇREVOKEÔºöÁî®‰∫éÊî∂ÂõûÁî®Êà∑ÊàñËßíËâ≤ÁöÑÊùÉÈôê„ÄÇCREATE USERÔºöÂàõÂª∫Áî®Êà∑„ÄÇSQLÂü∫Á°ÄÊü•ËØ¢FROMÂ≠êÂè•SELECTÁî®‰∫éÊåáÂÆöË¶ÅÊü•ËØ¢ÁöÑÂàóÔºåFROMÊåáÂÆöË¶Å‰ªéÂì™‰∏™Ë°®‰∏≠Êü•ËØ¢„ÄÇÂ¶ÇÊûúË¶ÅÊü•ËØ¢ÊâÄÊúâÂàóÔºåÂèØ‰ª•Âú®SELECTÂêéÈù¢‰ΩøÁî®*Âè∑ÔºåÂ¶ÇÊûúÂè™Êü•ËØ¢ÁâπÂÆöÁöÑÂàóÔºåÂèØ‰ª•Áõ¥Êé•Âú®SELECTÂêéÈù¢ÊåáÂÆöÂàóÂêçÔºåÂàóÂêç‰πãÈó¥Áî®ÈÄóÂè∑ÈöîÂºÄ„ÄÇÂàóÁöÑÂà´ÂêçÂΩìÊàë‰ª¨Êü•ËØ¢ÁöÑÂÜÖÂÆπ‰∏çÊòØ‰∏Ä‰∏™ÂçïÁ∫ØÁöÑÂàóÔºåÂèØËÉΩÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊàñËÄÖË°®ËææÂºèÔºåÈÇ£‰πàÂú®ÁªìÊûúÈõÜ‰∏≠ËØ•Â≠óÊÆµÂØπÂ∫îÁöÑÂ≠óÊÆµÂêçÂ∞±ÊòØËøô‰∏™ÂáΩÊï∞ÊàñËÄÖË°®ËææÂºè„ÄÇËøôÊ†∑‰∏çÂ§üÊ∏ÖÊô∞Ôºå‰∏∫Ê≠§Êàë‰ª¨ÂèØ‰ª•ÂçïÁã¨ÊåáÂÆöÂà´ÂêçÔºåËøôÊ†∑Âú®ÁªìÊûúÈõÜ‰∏≠ËØ•Â≠óÊÆµÁöÑÂêçÂ≠óÂ∞±ÊòØËøô‰∏™Âà´Âêç„ÄÇËã•ÊÉ≥ÊòæÁ§∫Ëá™Â∑±ÊÉ≥Ë¶ÅÁöÑÂÜÖÂÆπÔºå‰ΩøÁî®ÂèåÂºïÂè∑„ÄÇÂÖ∂‰∏≠‚ÄùAS‚ÄùÂèØ‰ª•ÁúÅÁï•„ÄÇ123456789101112131415SQL&gt; SELECT ename,sal*12 as "Âπ¥Ëñ™",job from emp;ENAME Âπ¥Ëñ™ JOB---------- ---------- ---------SMITH 9600 CLERKALLEN 19200 SALESMANWARD 15000 SALESMANJONES 35700 MANAGERMARTIN 15000 SALESMANBLAKE 34200 MANAGERCLARK 29400 MANAGERSCOTT 36000 ANALYSTKING 60000 PRESIDENTTURNER 18000 SALESMANADAMS 13200 CLERKAND,OR‰∏éÂíåÊàñ„ÄÇAND‰ºòÂÖàÁ∫ßÈ´ò‰∫éORÔºåÂèØ‰ª•Áî®Êã¨Âè∑ÊèêÈ´ò‰ºòÂÖàÁ∫ß„ÄÇ123456789101112131415161718SQL&gt; select ename,sal,job from emp where sal &gt; 1000 or job = 'CLERK';ENAME SAL JOB---------- ---------- ---------SMITH 800 CLERKALLEN 1600 SALESMANWARD 1250 SALESMANJONES 2975 MANAGERMARTIN 1250 SALESMANBLAKE 2850 MANAGERCLARK 2450 MANAGERSCOTT 3000 ANALYSTKING 5000 PRESIDENTTURNER 1500 SALESMANADAMS 1100 CLERKJAMES 950 CLERKFORD 3000 ANALYSTMILLER 1300 CLERKLIKEÁî®‰∫éÊ®°Á≥äÊü•ËØ¢ÔºåÊîØÊåÅ‰∏§‰∏™ÈÄöÈÖçÁ¨¶Ôºå%ÔºöË°®Á§∫0Âà∞Â§ö‰∏™Â≠óÁ¨¶Ôºå_Ë°®Á§∫‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ1234567SQL&gt; select ename,sal,job from emp where ename like '_L%';ENAME SAL JOB---------- ---------- ---------ALLEN 1600 SALESMANBLAKE 2850 MANAGERCLARK 2450 MANAGERIN,NOT INÂú®WHEREÂ≠êÂè•‰∏≠ÂèØ‰ª•Áî®ÊØîËæÉÊìç‰ΩúÁ¨¶IN(list)Êù•ÂèñÂá∫Á¨¶ÂêàÂàóË°®ËåÉÂõ¥‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇÂÖ∂‰∏≠ÁöÑÂèÇÊï∞listË°®Á§∫ÂÄºÂàóË°®ÔºåÂΩìÂàóÊàñË°®ËææÂºèÂåπÈÖç‰∫éÂàóË°®‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÂÄºÊó∂ÔºåÊù°‰ª∂‰∏∫TRUEÔºåËØ•Êù°ËÆ∞ÂΩïÂàôË¢´ÊòæÁ§∫Âá∫Êù•„ÄÇIN‰πüÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ËåÉÂõ¥ÊØîËæÉÊìç‰ΩúÁ¨¶ÔºåÂè™‰∏çËøáËøô‰∏™ËåÉÂõ¥ÊòØ‰∏Ä‰∏™ÊåáÂÆöÁöÑÂÄºÂàóË°®ÔºåNOT IN(list)ÂèñÂá∫‰∏çÁ¨¶ÂêàÊ≠§ÂàóË°®‰∏≠ÁöÑÊï∞ÊçÆËÆ∞ÂΩï„ÄÇ123456789101112SQL&gt; select ename,sal,job from emp where job in('CLERK','SALESMAN');ENAME SAL JOB---------- ---------- ---------SMITH 800 CLERKALLEN 1600 SALESMANWARD 1250 SALESMANMARTIN 1250 SALESMANTURNER 1500 SALESMANADAMS 1100 CLERKJAMES 950 CLERKMILLER 1300 CLERKBETWEEN AND1234567891011SQL&gt; select ename,sal,job from emp where sal between 1500 and 3000;ENAME SAL JOB---------- ---------- ---------ALLEN 1600 SALESMANJONES 2975 MANAGERBLAKE 2850 MANAGERCLARK 2450 MANAGERSCOTT 3000 ANALYSTTURNER 1500 SALESMANFORD 3000 ANALYSTANY,ALLÂΩìÊàë‰ª¨ÈúÄË¶ÅÂà§Êñ≠ÂÜÖÂÆπ&gt;Ôºå&gt;=Ôºå&lt;Ôºå&lt;=‰∏Ä‰∏™ÂàóË°®‰∏≠ÁöÑÂ§ö‰∏™ÂÄºÊó∂ÔºåÈúÄË¶ÅÁªìÂêàANYÊàñALLÊù•‰ΩøÁî®„ÄÇANY(LIST)ÔºöÂ§ß‰∫éÂàóË°®‰∏≠ÂÖ∂‰∏≠‰πã‰∏ÄÂç≥ÂèØÔºåÂç≥Â§ß‰∫éÊúÄÂ∞èÁöÑÔºõALL(LIST)ÔºöÂ§ß‰∫éÂàóË°®‰∏≠ÊâÄÊúâÔºåÂç≥Â§ß‰∫éÊúÄÂ§ßÁöÑ„ÄÇÂàóË°®‰∏≠ÁöÑÂÜÖÂÆπÈÄöÂ∏∏‰∏çÊòØÂõ∫ÂÆöÂÄºÔºåËÄåÊòØ‰∏Ä‰∏™Êü•ËØ¢ÁªìÊûúÈõÜÔºåÊâÄ‰ª•Â∏∏Âú®Â≠êÊü•ËØ¢‰∏≠Ôºå‰∏éINÈÅìÁêÜ‰∏ÄÊ†∑„ÄÇÂ¶ÇÊü•ËØ¢Ë∞ÅÁöÑËñ™Ê∞¥ÊØîFORDÈ´òÔºüÂ¶ÇÊûúÊúâÂ§ö‰∏™ÂêåÂêçÔºåÊØî‰ªª‰Ωï‰∏Ä‰∏™Âè´FORDÁöÑ‰∫∫È´òÂ∞±Ë°åÔºö12345SQL&gt; select ename from emp where sal &gt; any(select sal from emp where ename = 'FORD');ENAME----------KINGÊü•ËØ¢Êù°‰ª∂‰∏≠‰ΩøÁî®Ë°®ËææÂºèÂíåÂáΩÊï∞ÂΩìÊü•ËØ¢ÈúÄË¶ÅÂØπÈÄâÂá∫ÁöÑÂ≠óÊÆµËøõË°åËøõ‰∏ÄÊ≠•ËÆ°ÁÆóÔºåÂèØ‰ª•Âú®Êï∞Â≠óÂàó‰∏ä‰ΩøÁî®ÁÆóÊúØË°®ËææÂºè(+„ÄÅ-„ÄÅ*„ÄÅ/)„ÄÇË°®ËææÂºèÁ¨¶ÂêàÂõõÂàôËøêÁÆóÁöÑÈªòËÆ§‰ºòÂÖàÁ∫ßÔºåÂ¶ÇÊûúË¶ÅÊîπÂèò‰ºòÂÖàÁ∫ßÂèØ‰ª•‰ΩøÁî®Êã¨Âè∑„ÄÇÁÆóÊúØËøêÁÆó‰∏ªË¶ÅÊòØÈíàÂØπÊï∞Â≠óÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÂØπÊó•ÊúüÁ±ªÂûãÁöÑÊï∞ÊçÆÂèØ‰ª•ÂÅöÂä†ÂáèÊìç‰ΩúÔºåË°®Á§∫Âú®‰∏Ä‰∏™Êó•ÊúüÂÄº‰∏äÂä†ÊàñÂáè‰∏Ä‰∏™Â§©Êï∞„ÄÇÊü•ËØ¢Êù°‰ª∂‰∏≠‰∏çËÉΩ‰ΩøÁî®ËÅöÂêàÂáΩÊï∞ÔºÅÊü•ËØ¢Êù°‰ª∂‰∏≠‰ΩøÁî®ÁÆóÊï∞Ë°®ËææÂºèÔºåÊü•ËØ¢Âπ¥Ëñ™Â§ß‰∫é5wÂÖÉÁöÑÂëòÂ∑•ËÆ∞ÂΩïÔºö12345SQL&gt; select ename,sal,job from emp where sal*12 &gt; 50000;ENAME SAL JOB---------- ---------- ---------KING 5000 PRESIDENTORDER BY‰ΩøÁî®ORDER BYÂ≠óÂè•ÔºöÁî®‰∫éÂØπÁªìÊûúÂç≥ÊåâÁÖßÊåáÂÆöÁöÑÂ≠óÊÆµÁöÑÂÄºÂçáÂ∫èÊàñËÄÖÈôçÂ∫èËøõË°åÊéíÂ∫è„ÄÇASCÔºöÂçáÂ∫èÔºåÈªòËÆ§‰πüÊòØASCÔºõDESCÔºöÈôçÂ∫è„ÄÇÊü•ÁúãÂ∑•ËµÑÊéíÂêçÔºö123456789101112131415161718SQL&gt; select ename,sal,job from emp order by sal;ENAME SAL JOB---------- ---------- ---------SMITH 800 CLERKJAMES 950 CLERKADAMS 1100 CLERKWARD 1250 SALESMANMARTIN 1250 SALESMANMILLER 1300 CLERKTURNER 1500 SALESMANALLEN 1600 SALESMANCLARK 2450 MANAGERBLAKE 2850 MANAGERJONES 2975 MANAGERSCOTT 3000 ANALYSTFORD 3000 ANALYSTKING 5000 PRESIDENTËã•ÊéíÂ∫èÁöÑÂ≠óÊÆµ‰∏≠ÊúâNULLÂÄºÔºåNULLË¢´ËßÜ‰∏∫ÊúÄÂ§ßÂÄº„ÄÇÂΩìÂ§ö‰∏™Â≠óÊÆµËøõË°åÊéíÂ∫èÊó∂Ôºå ÊØè‰∏™Â≠óÊÆµÂèØ‰ª•ÂàÜÂà´ÊåáÂÆöÂçáÈôçÂ∫èÔºåÂπ∂‰∏îÊéíÂ∫èÈ°∫Â∫èÊåâÁÖßÁ¨¨‰∏Ä‰∏™Â≠óÊÆµ‰ºòÂÖàÊéíÂ∫èÔºåÂè™ÊúâÁ¨¨‰∏Ä‰∏™Â≠óÊÆµÂÄºÁõ∏ÂêåÊó∂ÊâçÊåâÁÖßÁ¨¨‰∫å‰∏™Â≠óÊÆµÊéíÂ∫èÔºå‰ª•Ê≠§Á±ªÊé®„ÄÇ12345678910111213141516171819SQL&gt; select ename,sal,job,deptno from emp 2 order by deptno desc,sal desc;ENAME SAL JOB DEPTNO---------- ---------- --------- ----------BLAKE 2850 MANAGER 30ALLEN 1600 SALESMAN 30TURNER 1500 SALESMAN 30WARD 1250 SALESMAN 30MARTIN 1250 SALESMAN 30JAMES 950 CLERK 30FORD 3000 ANALYST 20SCOTT 3000 ANALYST 20JONES 2975 MANAGER 20ADAMS 1100 CLERK 20SMITH 800 CLERK 20KING 5000 PRESIDENT 10CLARK 2450 MANAGER 10MILLER 1300 CLERK 10ËÅöÂêàÂáΩÊï∞ÔºàÂàÜÁªÑÂáΩÊï∞ÔºåÁªÑÂáΩÊï∞ÔºâÊü•ËØ¢Êó∂ÈúÄË¶ÅÂÅö‰∏Ä‰∫õÊï∞ÊçÆÁªüËÆ°ÔºåÊØîÂ¶ÇÔºöÊü•ËØ¢ËÅåÂëòË°®‰∏≠ÂêÑÈÉ®Èó®ËÅåÂëòÁöÑÂπ≥ÂùáËñ™Ê∞¥ÔºåÂêÑÈÉ®Èó®ÁöÑÂëòÂ∑•‰∫∫Êï∞„ÄÇÂΩìÈúÄË¶ÅÁªüËÆ°ÁöÑÊï∞ÊçÆÂπ∂‰∏çËÉΩÂú®ËÅåÂëòË°®ÈáåÁõ¥ËßÇÂàóÂá∫ÔºåËÄåÊòØÈúÄË¶ÅÊ†πÊçÆÁé∞ÊúâÁöÑÊï∞ÊçÆËÆ°ÁÆóÂæóÂà∞ÁªìÊûúÔºåËøôÁßçÂäüËÉΩÂèØ‰ª•‰ΩøÁî®ËÅöÂêàÂáΩÊï∞Êù•ÂÆûÁé∞ÔºåÂç≥ÔºöÂ∞ÜË°®ÁöÑÂÖ®ÈÉ®Êï∞ÊçÆÂàíÂàÜ‰∏∫Âá†ÁªÑÊï∞ÊçÆÔºåÊØèÁªÑÊï∞ÊçÆÁªüËÆ°Âá∫‰∏Ä‰∏™ÁªìÊûú„ÄÇÂõ†‰∏∫ÊòØÂ§öË°åÊï∞ÊçÆÂèÇ‰∏éËøêÁÆóËøîÂõû‰∏ÄË°åÁªìÊûúÔºå‰πüÁß∞‰ΩúÂàÜÁªÑÂáΩÊï∞„ÄÅÂ§öË°åÂáΩÊï∞„ÄÅÈõÜÂêàÂáΩÊï∞„ÄÇÁî®Âà∞ÁöÑÂÖ≥ÈîÆÂ≠óÔºöGOURP BY Êåâ‰ªÄ‰πàÂàÜÁªÑ„ÄÇHAVING Ëøõ‰∏ÄÊ≠•ÈôêÂà∂ÂàÜÁªÑÁªìÊûú„ÄÇËÅöÂêàÂáΩÊï∞ÊòØÂøΩÁï•NULLÂÄºÁöÑ„ÄÇ1„ÄÅMAXÂíåMINÁî®Êù•ÂèñÂæóÂàóÊàñË°®ËææÂºèÁöÑÊúÄÂ§ß„ÄÅÊúÄÂ∞èÂÄºÔºåÂèØ‰ª•Áî®Êù•ÁªüËÆ°‰ªª‰ΩïÊï∞ÊçÆÁ±ªÂûãÔºåÂåÖÊã¨Êï∞Â≠ó„ÄÅÂ≠óÁ¨¶ÂíåÊó•Êúü„ÄÇËÆ°ÁÆóÊúÄÊó©ÂíåÊúÄÊôöÁöÑÂÖ•ËÅåÊó∂Èó¥ÔºåÂèÇÊï∞ÊòØÊó•ÊúüÔºö12345SQL&gt; select max(hiredate),min(hiredate) from emp;MAX(HIREDATE) MIN(HIREDATE)-------------- --------------23-5Êúà -87 17-12Êúà-802„ÄÅAVGÂíåSUMAVGÂíåSUMÂáΩÊï∞Áî®Êù•ÁªüËÆ°ÂàóÊàñË°®ËææÂºèÁöÑÂπ≥ÂùáÂÄºÂíåÂíåÂÄºÔºåËøô‰∏§‰∏™ÂáΩÊï∞Âè™ËÉΩÊìç‰ΩúÊï∞Â≠óÁ±ªÂûãÔºåÂπ∂ÂøΩÁï•NULLÂÄº„ÄÇÁªüËÆ°ÊâÄÊúâÂëòÂ∑•ÁöÑÊÄªÂ∑•ËµÑÂíåÂπ≥ÂùáÂ∑•ËµÑÔºö12345SQL&gt; select avg(sal) avg_sal,sum(sal) sum_sal from emp; AVG_SAL SUM_SAL---------- ----------2073.21429 290253„ÄÅCOUNTCOUNTÂáΩÊï∞Áî®Êù•ËÆ°ÁÆóË°®‰∏≠ÁöÑËÆ∞ÂΩïÊù°Êï∞ÔºåÂêåÊ†∑ÂøΩÁï•NULLÂÄº„ÄÇ‰æãÂ¶ÇËé∑ÂèñËÅåÂëòË°®‰∏≠‰∏ÄÂÖ±ÊúâÂ§öÂ∞ëÂêçËÅåÂëòËÆ∞ÂΩïÔºö12345SQL&gt; select count(1) from emp; COUNT(1)---------- 14ÂàÜÁªÑ1„ÄÅGROUP BYÂ≠êÂè•ÂÖ∂ÊòØ‰∏∫ËÅöÂêàÂáΩÊï∞ÊúçÂä°ÁöÑÔºåÂèØ‰ª•Âú®ÁªüËÆ°Êï∞ÊçÆÊó∂ÁªÜÂåñÂàÜÁªÑ„ÄÇ‰ªñÂÖÅËÆ∏Â∞ÜÊüê‰∏™Â≠óÊÆµÂÄº‰∏ÄÊ†∑ÁöÑËÆ∞ÂΩïÁúãÊàê‰∏ÄÁªÑÔºåÁÑ∂ÂêéËøõË°åÁªüËÆ°„ÄÇËÄå‰∏çÊòØÂ∞ÜÊï¥Âº†Ë°®ÊâÄÊúâËÆ∞ÂΩïÁúãÊàê‰∏ÄÁªÑÔºåÈÇ£‰πàÊØèÁªÑÂèØ‰ª•Âá∫‰∏Ä‰∏™ÁªüËÆ°ÁªìÊûú„ÄÇÊü•ÁúãÊØè‰∏™ÈÉ®Èó®ÁöÑÊúÄÈ´òÂ∑•ËµÑÔºåÊúÄ‰ΩéÂ∑•ËµÑÔºö12345678SQL&gt; select deptno "ÈÉ®Èó®", max(sal) "ÊúÄÈ´òÂ∑•ËµÑ",min(sal) "ÊúÄ‰ΩéÂ∑•ËµÑ" 2 from emp group by deptno; ÈÉ®Èó® ÊúÄÈ´òÂ∑•ËµÑ ÊúÄ‰ΩéÂ∑•ËµÑ---------- ---------- ---------- 30 2850 950 20 3000 800 10 5000 1300SQLËØ≠Ê≥ïË¶ÅÊ±ÇÔºöÈô§‰∫ÜËÅöÂêàÂáΩÊï∞ÔºåÂÖ∂‰ªñ‰∏çÂú®GROUP BYÂ≠êÂè•‰∏≠ÁöÑÂàóÂêçÔºå‰∏çËÉΩÂá∫Áé∞Âú®SELECTËØ≠Âè•ÂêéÈù¢„ÄÇGROUP BYËøõË°åÂàÜÁªÑÁöÑÂ≠óÊÆµÂ∫îÂú®Êï¥Âº†Ë°®‰∏≠ÊúâÈáçÂ§çÊï∞ÊçÆÔºåÂê¶ÂàôÂàÜÁªÑÊØõÊúâÊÑè‰πâGROUP BYÂ≠êÂè•ÂêéÈù¢ÂÖÅËÆ∏ÊåáÂÆöÂ§ö‰∏™Â≠óÊÆµÔºåÈÇ£‰πàÊòØÊåâÁÖßËøô‰∫õÂ≠óÊÆµÂÄºÁöÑÁªÑÂêàÁõ∏ÂêåÁöÑËÆ∞ÂΩïÁúã‰Ωú‰∏ÄÁªÑ„ÄÇÊü•ÁúãÊØè‰∏™ÈÉ®Èó®ÊØèÁßçËÅå‰ΩçÁöÑÂπ≥ÂùáÂ∑•ËµÑ‰ª•ÂèäÂ∑•ËµÑÊÄªÂíåÔºö1234567891011121314SQL&gt; select deptno,job,avg(sal),sum(sal) 2 from emp group by deptno,job; DEPTNO JOB AVG(SAL) SUM(SAL)---------- --------- ---------- ---------- 20 CLERK 950 1900 30 SALESMAN 1400 5600 20 MANAGER 2975 2975 30 CLERK 950 950 10 PRESIDENT 5000 5000 30 MANAGER 2850 2850 10 CLERK 1300 1300 10 MANAGER 2450 2450 20 ANALYST 3000 60002„ÄÅHAVINGÂ≠óÂè•HAVING ‰πüÊòØÁî®‰∫éÊ∑ªÂä†ËøáÊª§Êù°‰ª∂ÁöÑÔºåÂÆÉÁöÑËøáÊª§ÂÆûÈôÖÊòØÂú®ÁªüËÆ°ÁªìÊûú‰πãÂêéËøõË°åÁöÑÔºåÊâÄ‰ª•HAVINGÊòØ‰∏∫ÁªüËÆ°ÁªìÊûúËøõË°åËøáÊª§‰ΩøÁî®ÁöÑÔºåÂÖ∂‰∏çËÉΩÁã¨Á´ãÂá∫Áé∞ÔºåÂøÖÈ°ªË∑üÂú®GROUP BYÂ≠êÂè•ÂêéÈù¢„ÄÇÊü•ÁúãÂπ≥ÂùáÂ∑•ËµÑÂ§ß‰∫é2000ÁöÑÈÉ®Èó®Ôºö1234567SQL&gt; select deptno,avg(sal) from emp 2 group by deptno having avg(sal) &gt; 2000; DEPTNO AVG(SAL)---------- ---------- 20 2175 10 2916.66667HAVINGÂ≠êÂè•Ëß£ÂÜ≥‰∫ÜWHEREÂ≠êÂè•ÂêéÈù¢‰∏çËÉΩË∑üËÅöÂêàÂáΩÊï∞ÁöÑÈóÆÈ¢òÔºö123456SQL&gt; select deptno,avg(sal) from emp where avg(sal) &gt; 2000 2 group by deptno;select deptno,avg(sal) from emp where avg(sal) &gt; 2000 *Á¨¨ 1 Ë°åÂá∫Áé∞ÈîôËØØ:ORA-00934: Ê≠§Â§Ñ‰∏çÂÖÅËÆ∏‰ΩøÁî®ÂàÜÁªÑÂáΩÊï∞ËØ•ËØ≠Âè•‰ºöÊä•ÈîôÔºåÂéüÂõ†Âú®‰∫éÊàë‰ª¨ÁöÑËøáÊª§Êù°‰ª∂ÊòØÂπ≥ÂùáÂ∑•ËµÑÈ´ò‰∫é2000ÔºåËÄåWHEREÁöÑËøáÊª§Êó∂Êú∫Âú®‰∫éÔºöÁ¨¨‰∏ÄÊ¨°‰ªéË°®‰∏≠Êü•ËØ¢Êï∞ÊçÆÊó∂ËøõË°åËøáÊª§ÔºåÂè™ÊúâÊª°Ë∂≥WHEREÊù°‰ª∂ÁöÑËÆ∞ÂΩïÊâç‰ºöË¢´Êü•ËØ¢Âá∫Êù•„ÄÇËÄåÂà§Êñ≠Âπ≥ÂùáÂ∑•ËµÑÈ´ò‰∫é2000ÔºåÈ¶ñÂÖàÂπ≥ÂùáÂ∑•ËµÑÁªüËÆ°ÊòØÂª∫Á´ãÂú®Êï∞ÊçÆÊü•ËØ¢Âá∫Êù•ÁöÑÂü∫Á°Ä‰∏äÁöÑÔºåÊâÄ‰ª•ËøôÊó∂WHEREÂ∑≤ÁªèÂÆåÊàê‰∫ÜËøáÊª§„ÄÇÊîπ‰ΩøÁî®HVING Â≠êÂè•Â∞±ÂèØËß£ÂÜ≥„ÄÇÊü•ËØ¢ËØ≠Âè•ÁöÑÊâßË°åÈ°∫Â∫èÂΩì‰∏ÄÊù°Êü•ËØ¢ËØ≠Âè•‰∏≠ÂåÖÂê´ÊâÄÊúâÁöÑÂ≠êÂè•ÔºåÊâßË°åÈ°∫Â∫è‰æù‰∏ãÂàóÂ≠êÂè•Ê¨°Â∫èÔºöFROM Â≠êÂè•ÔºöÊâßË°åÈ°∫Â∫è‰∏∫‰ªéÂêéÂæÄÂâç„ÄÅ‰ªéÂè≥Âà∞Â∑¶„ÄÇÊï∞ÊçÆÈáèËæÉÂ∞ëÁöÑË°®Â∞ΩÈáèÊîæÂú®ÂêéÈù¢„ÄÇWHEREÂ≠êÂè•ÔºöÊâßË°åÈ°∫Â∫è‰∏∫Ëá™‰∏ãËÄå‰∏ä„ÄÅ‰ªéÂè≥Âà∞Â∑¶„ÄÇÂ∞ÜËÉΩËøáÊª§ÊéâÊúÄÂ§ßÊï∞ÈáèËÆ∞ÂΩïÁöÑÊù°‰ª∂ÂÜôÂú®WHERE Â≠êÂè•ÁöÑÊúÄÂè≥„ÄÇGROUP BYÔºöÊâßË°åÈ°∫Â∫è‰ªéÂ∑¶ÂæÄÂè≥ÂàÜÁªÑÔºåÊúÄÂ•ΩÂú®GROUP BYÂâç‰ΩøÁî®WHEREÂ∞Ü‰∏çÈúÄË¶ÅÁöÑËÆ∞ÂΩïÂú®GROUP BY‰πãÂâçËøáÊª§Êéâ„ÄÇHAVING Â≠êÂè•ÔºöÊ∂àËÄóËµÑÊ∫ê„ÄÇÂ∞ΩÈáèÈÅøÂÖç‰ΩøÁî®ÔºåHAVING ‰ºöÂú®Ê£ÄÁ¥¢Âá∫ÊâÄÊúâËÆ∞ÂΩï‰πãÂêéÊâçÂØπÁªìÊûúÈõÜËøõË°åËøáÊª§ÔºåÈúÄË¶ÅÊéíÂ∫èÁ≠âÊìç‰Ωú„ÄÇSELECTÂ≠êÂè•ÔºöÂ∞ëÁî®*Âè∑ÔºåÂ∞ΩÈáèÂèñÂ≠óÊÆµÂêçÁß∞„ÄÇORACLE Âú®Ëß£ÊûêÁöÑËøáÁ®ã‰∏≠ÔºåÈÄöËøáÊü•ËØ¢Êï∞ÊçÆÂ≠óÂÖ∏Â∞Ü*Âè∑‰æùÊ¨°ËΩ¨Êç¢ÊàêÊâÄÊúâÁöÑÂàóÂêçÔºåÊ∂àËÄóÊó∂Èó¥„ÄÇORDER BYÂ≠êÂè•ÔºöÊâßË°åÈ°∫Â∫è‰∏∫‰ªéÂ∑¶Âà∞Âè≥ÊéíÂ∫èÔºåÊ∂àËÄóËµÑÊ∫ê„ÄÇSQLÂÖ≥ËÅîÊü•ËØ¢ÂÖ≥ËÅîÊü•ËØ¢ÂΩì‰ªéÂ§öÂº†Ë°®Êü•ËØ¢Êï∞ÊçÆÊó∂ÔºåÊàë‰ª¨‰ºöÂª∫Á´ãÂÖ≥ËÅîÂÖ≥Á≥ªÁÑ∂ÂêéÂú®Âº†Ë°®‰∏≠ËøõË°åÊü•ËØ¢Â∑•‰ΩúÔºåÈáçÁÇπÂ∞±ÊòØÂ¶Ç‰ΩïÊåáÂÆöËøô‰∫õË°®‰∏≠Êï∞ÊçÆÁöÑÂØπÂ∫îÂÖ≥Á≥ª(ÂÖ≥ËÅîÂÖ≥Á≥ª)ÔºåNÂº†Ë°®Êü•ËØ¢Êó∂Ëá≥Â∞ëË¶ÅÊúâN-1‰∏™ËøûÊé•Êù°‰ª∂„ÄÇÊü•ËØ¢ÊØè‰∏™ÂëòÂ∑•ÁöÑÂêçÂ≠óÔºåÂ∑•ËµÑÔºå‰ª•ÂèäÈÉ®Èó®ÂêçÁß∞ÂíåÊâÄÂú®Âú∞Ôºö1234567891011121314151617181920SQL&gt; select e.ename,e.deptno,d.dname,d.loc 2 from emp e join dept d 3 on(d.deptno = e.deptno);ENAME DEPTNO DNAME LOC---------- ---------- -------------- -------------CLARK 10 ACCOUNTING NEW YORKKING 10 ACCOUNTING NEW YORKMILLER 10 ACCOUNTING NEW YORKJONES 20 RESEARCH DALLASFORD 20 RESEARCH DALLASADAMS 20 RESEARCH DALLASSMITH 20 RESEARCH DALLASSCOTT 20 RESEARCH DALLASWARD 30 SALES CHICAGOTURNER 30 SALES CHICAGOALLEN 30 SALES CHICAGOJAMES 30 SALES CHICAGOBLAKE 30 SALES CHICAGOMARTIN 30 SALES CHICAGOÊàñËÄÖÔºö123SQL&gt; select e.ename,e.deptno,d.dname,d.loc 2 from emp e,dept d 3 where e.deptno = d.deptno;ÂÜÖËøûÊé•ÂÜÖËøûÊé•Âè™ËøîÂõû‰∏§‰∏™ÂÖ≥ËÅîË°®‰∏≠ÊâÄÊúâÊª°Ë∂≥ËøûÊé•Êù°‰ª∂ÁöÑËÆ∞ÂΩï„ÄÇÂ§ñËøûÊé•ÂÜÖËøûÊé•ËøîÂõû‰∏§‰∏™Ë°®‰∏≠ÊâÄÊúâÊª°Ë∂≥ËøûÊé•Êù°‰ª∂ÁöÑÊï∞ÊçÆËÆ∞ÂΩïÔºåÂú®Êúâ‰∫õÊÉÖÂÜµ‰∏ãÔºåÈúÄË¶ÅËøîÂõûÈÇ£‰∫õ‰∏çÊª°Ë∂≥ËøûÊé•Êù°‰ª∂ÁöÑËÆ∞ÂΩïÔºåÈúÄË¶Å‰ΩøÁî®Â§ñËøûÊé•ÔºåÂç≥‰∏ç‰ªÖËøîÂõûÊª°Ë∂≥ËøûÊé•Êù°‰ª∂ÁöÑËÆ∞ÂΩïÔºåËøòÂ∞ÜËøîÂõû‰∏çÊª°Ë∂≥ËøûÊé•Êù°‰ª∂ÁöÑËÆ∞ÂΩï„ÄÇÂ∞ÜÂëòÂ∑•SOCTTÁöÑÈÉ®Èó®Âè∑Êîπ‰∏∫50Ôºö12SQL&gt; update emp set deptno = 50 2 where ename = 'SCOTT';ÊâßË°å‰∏ãÈù¢ËØ≠Âè•Ôºö123456789101112131415161718192021SQL&gt; select e.ename,d.dname 2 from emp e join dept d 3 on(e.deptno = d.deptno);ENAME DNAME---------- --------------CLARK ACCOUNTINGKING ACCOUNTINGMILLER ACCOUNTINGJONES RESEARCHFORD RESEARCHADAMS RESEARCHSMITH RESEARCHWARD SALESTURNER SALESALLEN SALESJAMES SALESBLAKE SALESMARTIN SALESÂ∑≤ÈÄâÊã©13Ë°å„ÄÇ‰ºöÂèëÁé∞SCOTTÂëòÂ∑•Ê≤°ÊúâË¢´Êü•ËØ¢Âá∫Êù•ÔºåÂéüÂõ†ÊòØÂÖ∂‰∏çÊª°Ë∂≥ËøûÊé•Êù°‰ª∂„ÄÇÂ§ñËøûÊé•ÂÖÅËÆ∏Êàë‰ª¨Âú®ÂÖ≥ËÅîÊü•ËØ¢ÁöÑÊó∂ÂÄôÔºå‰ª•‰∏ÄÂº†Ë°®‰Ωú‰∏∫È©±Âä®Ë°®(Êï∞ÊçÆË¶ÅÊòæÁ§∫ÂÖ®)„ÄÇËØ•Ë°®ÁöÑÊï∞ÊçÆÂÖ®ÈÉ®‰ºö‰ΩìÁé∞ÂÜçÁªìÊûúÈõÜ‰∏≠Ôºå‰ΩÜÊòØÊù•Ëá™ÂÖ≥ËÅîË°®‰∏≠ÁöÑÂ≠óÊÆµÁî±‰∫é‰∏çÊª°Ë∂≥ËøûÊé•Êù°‰ª∂Ê≤°ÊúâÂØπÂ∫îÁöÑËÆ∞ÂΩïÔºåÊâÄ‰ª•ÂÖ®ÈÉ®ÂèñNULL„ÄÇÂ§ñËøûÊé•‰∏ªË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢òÂ∞±ÊòØÊòæÁ§∫ÂÜçÂÖ≥ËÅîÊü•ËØ¢‰∏≠‰∏çÊª°Ë∂≥ËøûÊé•Êù°‰ª∂ÁöÑËÆ∞ÂΩï„ÄÇÂ§ñËøûÊé•ÂàÜ‰∏∫ÔºöÂ∑¶Â§ñËøûÊé•ÔºåÂè≥Â§ñËøûÊé•ÔºåÂÖ®Â§ñËøûÊé•„ÄÇ‰ΩøÁî®Â∑¶Â§ñËøûÊé•Êü•ËØ¢ÂëòÂ∑•‰ø°ÊÅØÔºö12345678910111213141516171819202122SQL&gt; select e.ename,d.dname 2 from emp e left outer join dept d 3 on(e.deptno = d.deptno);ENAME DNAME---------- --------------MILLER ACCOUNTINGKING ACCOUNTINGCLARK ACCOUNTINGFORD RESEARCHADAMS RESEARCHJONES RESEARCHSMITH RESEARCHJAMES SALESTURNER SALESBLAKE SALESMARTIN SALESWARD SALESALLEN SALESSCOTTÂ∑≤ÈÄâÊã©14Ë°å„ÄÇÂèØ‰ª•ÁúãÂá∫ÔºåËôΩÁÑ∂SCOTT‰∏çÊª°Ë∂≥ËøûÊé•Êù°‰ª∂Ôºå‰ΩÜ‰πüÂá∫Áé∞Âú®Êü•ËØ¢ÁªìÊûú‰∏≠‰∫Ü„ÄÇËá™ËøûÊé•ÂΩìÂâçË°®ÁöÑ‰∏ÄÊù°ËÆ∞ÂΩïÂØπÂ∫îÂΩìÂâçË°®ÁöÑÂ§öÊù°ËÆ∞ÂΩïÔºåËá™ËøûÊé•ÁöÑËÆæËÆ°ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ÂêåÁ±ªÂûãÊï∞ÊçÆÈó¥ÂèàÂ≠òÂú®‰∏ä‰∏ãÁ∫ßÂÖ≥Á≥ªÁöÑÊ†ëÁä∂ÁªìÊûÑÁöÑ‰øùÂ≠ò‰∏éÂÖ≥ËÅî„ÄÇÊü•ÁúãÂëòÂ∑•ÁöÑÂêçÂ≠ó‰ª•Âèä‰ªñÈ¢ÜÂØºÁöÑÂêçÂ≠óÔºö12345678910111213141516171819SQL&gt; select e.ename "ÂëòÂ∑•",m.ename "È¢ÜÂØº" 2 from emp e,emp m 3 where e.mgr = m.empno;ÂëòÂ∑• È¢ÜÂØº---------- ----------FORD JONESSCOTT JONESTURNER BLAKEALLEN BLAKEWARD BLAKEJAMES BLAKEMARTIN BLAKEMILLER CLARKADAMS SCOTTBLAKE KINGJONES KINGCLARK KINGSMITH FORDËã•ÊÉ≥Â∞ÜÊ≤°ÊúâÈ¢ÜÂØºÁöÑ‰∫∫‰πüÂàóÂá∫Êù•ÔºåÂèØ‰ª•Â∞Ü‰ª£Á†ÅÊîπ‰∏∫Ôºö12345678910111213141516171819202122SQL&gt; select e.ename "ÂëòÂ∑•",m.ename "È¢ÜÂØº" 2 from emp e,emp m 3 where e.mgr = m.empno(+);ÂëòÂ∑• È¢ÜÂØº---------- ----------FORD JONESSCOTT JONESJAMES BLAKETURNER BLAKEMARTIN BLAKEWARD BLAKEALLEN BLAKEMILLER CLARKADAMS SCOTTCLARK KINGBLAKE KINGJONES KINGSMITH FORDKINGÂ∑≤ÈÄâÊã©14Ë°å„ÄÇÁ≠âÂêå‰∫éÔºö12345678910111213141516171819202122SQL&gt; select e.ename "ÂëòÂ∑•",m.ename "È¢ÜÂØº" 2 from emp e left join emp m 3 on(e.mgr = m.empno);ÂëòÂ∑• È¢ÜÂØº---------- ----------FORD JONESSCOTT JONESJAMES BLAKETURNER BLAKEMARTIN BLAKEWARD BLAKEALLEN BLAKEMILLER CLARKADAMS SCOTTCLARK KINGBLAKE KINGJONES KINGSMITH FORDKINGÂ∑≤ÈÄâÊã©14Ë°å„ÄÇÂ≠êÊü•ËØ¢Â≠êÊü•ËØ¢ÈÄöÂ∏∏ÊòØÂ∞ÜÂÖ∂Êü•ËØ¢Âá∫Êù•ÁöÑÁªìÊûúÈõÜÊèê‰æõÁªôÂÖ∂‰ªñSQLËØ≠Âè•‰ΩøÁî®ÔºåÈÄöÂ∏∏ÂµåÂ•óÂú®ÂÆûÈôÖË¶ÅËøêË°åÁöÑSQLËØ≠Âè•‰πã‰∏≠„ÄÇ1„ÄÅÂ≠êÊü•ËØ¢Âú®WHEREÂ≠êÂè•‰∏≠„ÄÇÂú®WHEREÊü•ËØ¢Êù°‰ª∂‰∏≠ÁöÑÈôêÂà∂Êù°‰ª∂‰∏çÊòØ‰∏Ä‰∏™Á°ÆÂÆöÁöÑÂÄºÔºåËÄåÊòØÊù•Ëá™‰∫éÂè¶Â§ñ‰∏Ä‰∏™Êü•ËØ¢ÁöÑÁªìÊûú„ÄÇÊØîÂ¶ÇÊü•ÁúãÂ∑•ËµÑÊØîCLARKÈ´òÁöÑÂëòÂ∑•‰ø°ÊÅØÔºö1234567891011SQL&gt; select ename,job,sal from emp 2 where sal &gt; (select sal from emp 3 where ename = 'CLARK');ENAME JOB SAL---------- --------- ----------JONES MANAGER 2975BLAKE MANAGER 2850SCOTT ANALYST 3000KING PRESIDENT 5000FORD ANALYST 3000Ê†πÊçÆËøîÂõûÁªìÊûúÁöÑ‰∏çÂêåÔºåÂ≠êÊü•ËØ¢ÂèØÂàÜ‰∏∫ÂçïË°åÂçïÂàóÂ≠êÊü•ËØ¢„ÄÅÂ§öË°åÂçïÂàóÂ≠êÊü•ËØ¢ÂèäÂ§öË°åÂ§öÂàóÂ≠êÊü•ËØ¢„ÄÇÂ¶ÇÊûúÂ≠êÊü•ËØ¢ËøîÂõûÂ§öË°åÔºå‰∏ªÊü•ËØ¢‰∏≠Ë¶Å‰ΩøÁî®Â§öË°åÊØîËæÉÊìç‰ΩúÁ¨¶ÔºåÂåÖÊã¨IN„ÄÅALL„ÄÅANY„ÄÇÂÖ∂‰∏≠ALLÂíåANY‰∏çËÉΩÂçïÁã¨‰ΩøÁî®ÔºåÈúÄË¶ÅÈÖçÂêàÂçïË°åÊØîËæÉÊìç‰ΩúÁ¨¶&gt;„ÄÅ&gt;=„ÄÅ&lt;„ÄÅ&lt;= ‰∏ÄËµ∑‰ΩøÁî®„ÄÇ‰æãÂ¶ÇÊü•ËØ¢Âá∫ÈÉ®Èó®‰∏≠ÊúâSALESMAN‰ΩÜËÅå‰Ωç‰∏çÊòØSALESMANÁöÑÂëòÂ∑•ÁöÑ‰ø°ÊÅØÔºö12345678910SQL&gt; select ename,job,sal from emp 2 where deptno in 3 (select deptno from emp 4 where job = 'SALESMAN') 5 and job &lt;&gt; 'SALESMAN';ENAME JOB SAL---------- --------- ----------JAMES CLERK 950BLAKE MANAGER 2850Áî±‰∫éÂ≠êÂè•select deptno from emp where job = &#39;SALESMAN&#39;Êü•ËØ¢ÁªìÊûú‰∏∫Â§öË°åÂçïÂàóÔºö123456789SQL&gt; select deptno from emp 2 where job = 'SALESMAN'; DEPTNO---------- 30 30 30 30ÊâÄ‰ª•‰∏çËÉΩÁî®=ÔºåËÄåÁî®IN„ÄÇÊü•ÁúãÊâÄÊúâÊØîSALESMANÂíåCLERKËÅå‰ΩçÂ∑•ËµÑÈÉΩË¶ÅÈ´òÁöÑÂëòÂ∑•‰ø°ÊÅØÔºö12345678910111213SQL&gt; select ename,job,sal from emp 2 where sal &gt; all( 3 select sal from emp 4 where job in('SALESMAN','CLERK'));ENAME JOB SAL---------- --------- ----------CLARK MANAGER 2450BLAKE MANAGER 2850JONES MANAGER 2975SCOTT ANALYST 3000FORD ANALYST 3000KING PRESIDENT 5000EXISTSÂÖ≥ÈîÆÂ≠ó:Áî®Âú®ËøáÊª§Êù°‰ª∂‰∏≠ÔºåËØ•ÂÖ≥ÈîÆÂ≠óÂêéÈù¢Ë∑ü‰∏Ä‰∏™Â≠êÊü•ËØ¢Âè™Ë¶ÅÂ≠êÊü•ËØ¢ËÉΩÊü•ËØ¢Ëá≥Â∞ë‰∏ÄÊù°Êï∞ÊçÆÔºåEXISTSÂ∞±ËøîÂõûTRUE„ÄÇ‰æãÂ¶ÇÂàóÂá∫ÈÇ£‰∫õÊúâÂëòÂ∑•ÁöÑÈÉ®Èó®‰ø°ÊÅØÔºö123456789SQL&gt; select d.deptno,d.dname from dept d 2 where exists(select 1 from 3 emp e where e.deptno = d.deptno); DEPTNO DNAME---------- -------------- 10 ACCOUNTING 20 RESEARCH 30 SALES2„ÄÅÂ≠êÊü•ËØ¢Âú®HAVINGÈÉ®ÂàÜÂ≠êÊü•ËØ¢‰∏ç‰ªÖÂèØ‰ª•Âá∫Áé∞Âú®WHEREÂ≠êÂè•‰∏≠ÔºåËøòÂèØ‰ª•Âá∫Áé∞Âú®HAVINGÈÉ®ÂàÜ„ÄÇ‰æãÂ¶ÇÊü•ËØ¢ÂàóÂá∫ÊúÄ‰ΩéËñ™Ê∞¥È´ò‰∫é30Âè∑ÈÉ®Èó®ÁöÑÊúÄ‰ΩéËñ™Ê∞¥ÁöÑÈÉ®Èó®‰ø°ÊÅØÔºö123456789SQL&gt; select deptno,min(sal) from emp 2 group by deptno having min(sal) &gt; 3 (select min(sal) from emp 4 where deptno = 30); DEPTNO MIN(SAL)---------- ---------- 50 3000 10 13003„ÄÅÂ≠êÊü•ËØ¢Âú®FROMÈÉ®ÂàÜÂú®Êü•ËØ¢ËØ≠Âè•‰∏≠ÔºåFROMÂ≠êÂè•Áî®Êù•ÊåáÂÆöË¶ÅÊü•ËØ¢ÁöÑË°®„ÄÇÂ¶ÇÊûúË¶ÅÂú®‰∏Ä‰∏™Â≠êÊü•ËØ¢ÁöÑÁªìÊûú‰∏≠ÁªßÁª≠Êü•ËØ¢ÔºåÂàôÂ≠êÊü•ËØ¢Âá∫Áé∞Âú®FROM Â≠êÂè•‰∏≠ÔºåËøô‰∏™Â≠êÊü•ËØ¢‰πüÁß∞‰ΩúË°åÂÜÖËßÜÂõæÊàñËÄÖÂåøÂêçËßÜÂõæ„ÄÇËøôÊó∂ÔºåÊääÂ≠êÊü•ËØ¢ÂΩì‰ΩúËßÜÂõæÂØπÂæÖÔºå‰ΩÜËßÜÂõæÊ≤°ÊúâÂêçÂ≠óÔºåÂè™ËÉΩÂú®ÂΩìÂâçÁöÑSQLËØ≠Âè•‰∏≠ÊúâÊïà„ÄÇÊü•ËØ¢Âá∫Ëñ™Ê∞¥ÊØîÊú¨ÈÉ®Èó®Âπ≥ÂùáËñ™Ê∞¥È´òÁöÑÂëòÂ∑•‰ø°ÊÅØÔºö12345678910111213SQL&gt; select e.ename,e.job,e.sal from emp e, 2 (select deptno,avg(sal) avg_sal from emp group by deptno) d 3 where e.deptno = d.deptno 4 and e.sal &gt; d.avg_sal 5 order by e.deptno;ENAME JOB SAL---------- --------- ----------KING PRESIDENT 5000JONES MANAGER 2975FORD ANALYST 3000ALLEN SALESMAN 1600BLAKE MANAGER 28504„ÄÅÂ≠êÊü•ËØ¢Âú®SELECTÈÉ®ÂàÜÊääÂ≠êÊü•ËØ¢ÊîæÂú®SELECTÂ≠êÂè•ÈÉ®ÂàÜÔºåÂèØ‰ª•ËÆ§‰∏∫ÊòØÂ§ñËøûÊé•ÁöÑÂè¶‰∏ÄÁßçË°®Áé∞ÂΩ¢ÂºèÔºå‰ΩøÁî®Êõ¥ÁÅµÊ¥ªÔºö123456789101112131415161718192021SQL&gt; select e.ename,e.job,e.sal, 2 (select d.deptno from dept d 3 where d.deptno = e.deptno) deptno 4 from emp e;ENAME JOB SAL DEPTNO---------- --------- ---------- ----------SMITH CLERK 800 20ALLEN SALESMAN 1600 30WARD SALESMAN 1250 30JONES MANAGER 2975 20MARTIN SALESMAN 1250 30BLAKE MANAGER 2850 30CLARK MANAGER 2450 10SCOTT ANALYST 3000KING PRESIDENT 5000 10TURNER SALESMAN 1500 30ADAMS CLERK 1100 20JAMES CLERK 950 30FORD ANALYST 3000 20MILLER CLERK 1300 10ÂèØ‰ª•ÁúãÂá∫ÔºåÂç≥‰Ωø‰∏çÊª°Ë∂≥whereÊù°‰ª∂ÁöÑSCOTT‰πüË¢´ÂàóÂá∫Êù•‰∫ÜÔºåÊâÄ‰ª•ÔºåÁõ∏ÂΩì‰∫éÂ§ñËøûÊé•„ÄÇ5„ÄÅDDL‰∏≠‰ΩøÁî®Â≠êÊü•ËØ¢ÔºöÂàõÂª∫Ë°®ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Êü•ËØ¢ÁöÑÁªìÊûúÈõÜÂàõÂª∫‰∏∫‰∏ÄÂº†Ë°®„ÄÇÂàõÂª∫‰∏Ä‰∏™10Âè∑ÈÉ®Èó®ÂëòÂ∑•‰ø°ÊÅØË°® Ôºö1234567891011121314SQL&gt; create table emp_10 2 as 3 select * from emp 4 where deptno = 10;Ë°®Â∑≤ÂàõÂª∫„ÄÇSQL&gt; select * from emp_10; EMPNO ENAME JOB MGR HIREDATE SAL COMM DEPTNO---------- ---------- --------- ---------- -------------- ---------- ---------- ---------- 7782 CLARK MANAGER 7839 09-6Êúà -81 2450 10 7839 KING PRESIDENT 17-11Êúà-81 5000 10 7934 MILLER CLERK 7782 23-1Êúà -82 1300 10ÂàÜÈ°µÊü•ËØ¢ÂàÜÈ°µÊòØÂ∞ÜÊü•ËØ¢ÁöÑÁªìÊûúÈõÜÂàÜÊâπÊòæÁ§∫ÁõÆÁöÑËßÜ‰∏∫‰∫ÜËß£ÂÜ≥Êó∂Èó¥ÔºåÊÄßËÉΩÔºåËµÑÊ∫êÊ∂àËÄóÔºåÂíåÁî®Êà∑ÈúÄÊ±Ç„ÄÇÂΩìÊü•ËØ¢ÁªìÊûúÈõÜÊù°ÁõÆÊï∞ÈùûÂ∏∏Â§öÊó∂„ÄÇÈÄöÂ∏∏‰ºö‰ΩøÁî®ÂàÜÈ°µ„ÄÇÂàÜÈ°µÂú®Ê†áÂáÜSQL‰∏≠Ê≤°ÊúâÂÆö‰πâÔºåÊâÄ‰ª•‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªüÂØπ‰∫éÂàÜÈ°µÁöÑËØ≠Âè•‰πüÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇROWNUMÔºöROWNUMË¢´Áß∞‰Ωú‰º™ÂàóÔºåÁî®‰∫éËøîÂõûÊ†áËØÜË°åÊï∞ÊçÆÈ°∫Â∫èÁöÑÊï∞Â≠ó„ÄÇËØ•ÂÖ≥ÈîÆÂ≠ó‰∏çÊòØÊâÄÊúâÊï∞ÊçÆÂ∫ìÈÉΩÊúâÁöÑ„ÄÇROWNUMÂú®SELECTË¢´ÂΩì‰Ωú‰∏Ä‰∏™Â≠óÊÆµÂéª‰ΩøÁî®Ôºå‰ªñ‰∏çÊòØË°®‰∏≠ÁúüÂÆûÁöÑÂ≠óÊÆµÔºåÂΩìÊàë‰ª¨‰ªéË°®‰∏≠Êü•ËØ¢Âá∫‰∏ÄÊù°Êï∞ÊçÆÂêéÔºåËØ•Â≠óÊÆµÂ∞±‰ºö‰∏∫Ëøô‰∏ÄÊù°ËÆ∞ÂΩïÁºñ‰∏Ä‰∏™Ë°åÂè∑Ôºå‰ªé1ÂºÄÂßãÔºåËá™Âä®ÈÄíÂ¢û„ÄÇROWNUMÈªòËÆ§ÂÄº‰∏∫1„ÄÇÂú®‰ΩøÁî®ROWNUMÂØπÁªìÊûúÈõÜËøõË°åÁºñÂè∑Êó∂‰∏çË¶Å‰ΩøÁî®ROWNUMÂÅö&gt;1‰ª•‰∏äÁöÑÊï∞Â≠óÁöÑÂà§Êñ≠ÔºåÂê¶ÂàôËØ•ÁªìÊûúÈõÜÂ∞ÜÂæó‰∏çÂà∞‰ªª‰ΩïËÆ∞ÂΩï„ÄÇÈô§ÈùûROWNUM‰ªé1ÂºÄÂßã(ÂåÖÂê´1)„ÄÇ‰æãÂ¶ÇÔºö1234567891011121314151617 ROWNUM ENAME JOB---------- ---------- --------- 1 SMITH CLERK 2 ALLEN SALESMAN 3 WARD SALESMAN 4 JONES MANAGER 5 MARTIN SALESMAN 6 BLAKE MANAGER 7 CLARK MANAGER 8 SCOTT ANALYST 9 KING PRESIDENT 10 TURNER SALESMAN 11 ADAMS CLERK 12 JAMES CLERK 13 FORD ANALYST 14 MILLER CLERKROWNUMÂè™ËÉΩ‰ªé1ËÆ°Êï∞Ôºå‰∏çËÉΩ‰ªéÁªìÊûúÈõÜ‰∏≠Áõ¥Êé•Êà™Âèñ„ÄÇ‰∏ãÈù¢ÁöÑÊü•ËØ¢ËØ≠Âè•Â∞ÜÊ≤°ÊúâÁªìÊûúÔºö1234SQL&gt; select rownum,ename,job from emp 2 where rownum between 6 and 10;Êú™ÈÄâÂÆöË°åÊ≥®ÊÑèÂå∫ÂàÜ‰∏ãÈù¢ËØ≠Âè•ÔºåÊ≠§Â§ÑROWNUMÂèØ‰ª•‰∏ç‰ªé1ÂºÄÂßãÔºåÂõ†‰∏∫‰ªñÂ∑≤ÁªèÁîüÊàê‰∏ÄÂº†Ë°®‰∫ÜÔºö1234567891011SQL&gt; select * from 2 (select rownum rn,ename,job from emp) 3 where rn between 6 and 10; RN ENAME JOB---------- ---------- --------- 6 BLAKE MANAGER 7 CLARK MANAGER 8 SCOTT ANALYST 9 KING PRESIDENT 10 TURNER SALESMANÊåâÁÖßÂ∑•ËµÑ‰ªéÈ´òÂà∞‰ΩéÊéíÂ∫èÂêéÔºåÂèñ6Âà∞10ÂêçÔºö123456789101112SQL&gt; select * from 2 (select rownum rn,ename,job,sal from emp 3 order by sal desc) t 4 where t.rn between 6 and 10; RN ENAME JOB SAL---------- ---------- --------- ---------- 9 KING PRESIDENT 5000 8 SCOTT ANALYST 3000 6 BLAKE MANAGER 2850 7 CLARK MANAGER 2450 10 TURNER SALESMAN 1500‰∏äÈù¢ÁöÑÂÜôÊ≥ïÊòØÂÖàÁºñÂè∑ÂêéÊéíÂ∫èÁöÑÔºåÊâÄ‰ª•‰∏äÈù¢ËøôÁßçÂÜôÊ≥ïÂæóÂá∫ÁöÑÂ∫èÂè∑ÊòØ‰∏çÂØπÁöÑ„ÄÇËÄåÂ∫îËØ•ÂÖàÊéíÂ∫èÂÜçÁºñÂè∑ÔºåÂÜçÊ†πÊçÆÁºñÂè∑ÂèñËåÉÂõ¥ÔºàÂµåÂ•ó‰∏§Â±ÇÔºåÂÖàÊéíÂ∫èÔºåÊéíÂ∫èÁªìÊûúÂÜçÁºñÂè∑ÔºâÔºö123456789101112SQL&gt; select * from 2 (select rownum rn,ename,job,sal from 3 (select * from emp order by sal desc)) t 4 where t.rn between 6 and 10; RN ENAME JOB SAL---------- ---------- --------- ---------- 6 CLARK MANAGER 2450 7 ALLEN SALESMAN 1600 8 TURNER SALESMAN 1500 9 MILLER CLERK 1300 10 WARD SALESMAN 1250ÊéíÂ∫èÂáΩÊï∞ÂèØ‰ª•Ê†πÊçÆÊåáÂÆöÁöÑÂ≠óÊÆµËøõË°åÂàÜÁªÑÔºåÂÜçÊ†πÊçÆÊåáÂÆöÁöÑÂ≠óÊÆµÊéíÂ∫èÂêéÁîüÊàê‰∏Ä‰∏™ÁªÑÂÜÖÁºñÂè∑„ÄÇ1„ÄÅROW_NUMBERÔºöÁîüÊàêÁªÑÂÜÖËøûÁª≠‰∏îÂîØ‰∏ÄÁöÑÊï∞Â≠óÊü•ÁúãÂÖ¨Âè∏ÊØè‰∏™ÈÉ®Èó®ÁöÑÂ∑•ËµÑÊéíÂêçÔºåÊåâÁÖßÈÉ®Èó®ÂàÜÁªÑÔºåÊåâÁÖßÂ∑•ËµÑÈôçÂ∫èÊéíÂàóÁîüÊàêÁºñÂè∑Ôºö123456789101112131415161718192021SQL&gt; select ename,deptno,sal, 2 row_number() over( 3 partition by deptno 4 order by sal desc) rank from emp;ENAME DEPTNO SAL RANK---------- ---------- ---------- ----------KING 10 5000 1CLARK 10 2450 2MILLER 10 1300 3FORD 20 3000 1JONES 20 2975 2ADAMS 20 1100 3SMITH 20 800 4BLAKE 30 2850 1ALLEN 30 1600 2TURNER 30 1500 3WARD 30 1250 4MARTIN 30 1250 5JAMES 30 950 6SCOTT 50 3000 12„ÄÅRANKÂáΩÊï∞ÔºöÁîüÊàê‰∏çËøûÁª≠‰∏çÂîØ‰∏ÄÁöÑÊï∞Â≠óÊéíÂ∫èÂ≠óÊÆµÁõ∏ÂêåÁöÑËÆ∞ÂΩïÔºåÂæóÂà∞ÁöÑÊï∞Â≠ó‰∏ÄÊ†∑ÂêéÁª≠ÂÜÖÂÆπ‰ºöÊ†πÊçÆÈáçÂ§çÁöÑË°åÊï∞Ëá™Âä®Ë∑≥Âè∑„ÄÇÊØîÂ¶ÇÔºö123456789101112131415161718192021SQL&gt; select ename,deptno,sal, 2 rank() over( 3 partition by deptno 4 order by sal desc) rank from emp;ENAME DEPTNO SAL RANK---------- ---------- ---------- ----------KING 10 5000 1CLARK 10 2450 2MILLER 10 1300 3FORD 20 3000 1JONES 20 2975 2ADAMS 20 1100 3SMITH 20 800 4BLAKE 30 2850 1ALLEN 30 1600 2TURNER 30 1500 3WARD 30 1250 4MARTIN 30 1250 4JAMES 30 950 6SCOTT 50 3000 13„ÄÅDENSE_RANK()ÔºöÂáΩÊï∞ÁîüÊàêËøûÁª≠‰ΩÜ‰∏çÂîØ‰∏ÄÁöÑÊï∞Â≠óÔºö123456789101112131415161718192021SQL&gt; select ename,deptno,sal, 2 dense_rank() over( 3 partition by deptno 4 order by sal desc) rank from emp;ENAME DEPTNO SAL RANK---------- ---------- ---------- ----------KING 10 5000 1CLARK 10 2450 2MILLER 10 1300 3FORD 20 3000 1JONES 20 2975 2ADAMS 20 1100 3SMITH 20 800 4BLAKE 30 2850 1ALLEN 30 1600 2TURNER 30 1500 3WARD 30 1250 4MARTIN 30 1250 4JAMES 30 950 5SCOTT 50 3000 1È´òÁ∫ßÂàÜÁªÑÂáΩÊï∞ÈõÜÂêàÊìç‰Ωú1„ÄÅUNIONÂíåUNION ALLÁî®Êù•Ëé∑Âèñ‰∏§‰∏™Êàñ‰∏§‰∏™‰ª•‰∏äÁªìÊûúÈõÜÁöÑÂπ∂ÈõÜÔºàÁªìÊûúÈõÜÁöÑÂàóÂøÖÈ°ª‰∏Ä‰∏ÄÂØπÂ∫îÔºâÔºöUNIONÊìç‰ΩúÁ¨¶‰ºöËá™Âä®ÂéªÊéâÂêàÂπ∂ÂêéÁöÑÈáçÂ§çËÆ∞ÂΩï„ÄÇUNION ALLËøîÂõû‰∏§‰∏™ÁªìÊûúÈõÜ‰∏≠ÁöÑÊâÄÊúâË°åÔºåÂåÖÊã¨ÈáçÂ§çÁöÑË°å„ÄÇUNIONÊìç‰ΩúÁ¨¶ÂØπÊü•ËØ¢ÁªìÊûúÊéíÂ∫èÔºåUNION ALL‰∏çÊéíÂ∫è„ÄÇÂêàÂπ∂ËÅå‰ΩçÊòØ‚ÄôMANAGER‚ÄôÁöÑÂëòÂ∑•ÂíåËñ™Ê∞¥Â§ß‰∫é2500ÁöÑÂëòÂ∑•ÈõÜÂêàÔºåÊü•Áúã‰∏§ÁßçÊñπÂºèÁöÑÁªìÊûúÂ∑ÆÂà´ÔºöUNIONÔºö1234567891011121314SQL&gt; select ename,job,sal from emp 2 where job = 'MANAGER' 3 UNION 4 select ename,job,sal from emp 5 where sal &gt; 2500;ENAME JOB SAL---------- --------- ----------BLAKE MANAGER 2850CLARK MANAGER 2450FORD ANALYST 3000JONES MANAGER 2975KING PRESIDENT 5000SCOTT ANALYST 3000UNION ALLÔºö12345678910111213141516SQL&gt; select ename,job,sal from emp 2 where job = 'MANAGER' 3 UNION ALL 4 select ename,job,sal from emp 5 where sal &gt; 2500;ENAME JOB SAL---------- --------- ----------JONES MANAGER 2975BLAKE MANAGER 2850CLARK MANAGER 2450JONES MANAGER 2975BLAKE MANAGER 2850SCOTT ANALYST 3000KING PRESIDENT 5000FORD ANALYST 30002„ÄÅINTERSECTÔºà[Àå…™nt…ôÀàsekt]ÔºåÁõ∏‰∫§ÔºâINTERSECTÂáΩÊï∞Ëé∑Âæó‰∏§‰∏™ÁªìÊûúÈõÜÁöÑ‰∫§ÈõÜÔºåÂè™ÊúâÂêåÊó∂Â≠òÂú®‰∫é‰∏§‰∏™ÁªìÊûúÈõÜ‰∏≠ÁöÑÊï∞ÊçÆÔºåÊâçË¢´ÊòæÁ§∫ËæìÂá∫„ÄÇ‰ΩøÁî®INTERSECTÊìç‰ΩúÁ¨¶ÂêéÁöÑÁªìÊûúÈõÜ‰ºö‰ª•Á¨¨‰∏ÄÂàóÁöÑÊï∞ÊçÆ‰ΩúÂçáÂ∫èÊéíÂàó„ÄÇ12345678910SQL&gt; select ename,job,sal from emp 2 where job = 'MANAGER' 3 INTERSECT 4 select ename,job,sal from emp 5 where sal &gt; 2500;ENAME JOB SAL---------- --------- ----------BLAKE MANAGER 2850JONES MANAGER 29753„ÄÅMINUSÔºàËã±[Ààma…™n…ôs]ÔºåÂáèÂéªÔºâMINUSÂáΩÊï∞Ëé∑Âèñ‰∏§‰∏™ÁªìÊûúÈõÜÁöÑÂ∑ÆÈõÜ„ÄÇÂè™ÊúâÂú®Á¨¨‰∏Ä‰∏™ÁªìÊûúÈõÜ‰∏≠Â≠òÂú®ÔºåÂú®Á¨¨‰∫å‰∏™ÁªìÊûúÈõÜ‰∏≠‰∏çÂ≠òÂú®ÁöÑÊï∞ÊçÆÔºåÊâçËÉΩÂ§üË¢´ÊòæÁ§∫Âá∫Êù•„ÄÇ‰πüÂ∞±ÊòØÁªìÊûúÈõÜ‰∏ÄÂáèÂéªÁªìÊûúÈõÜ‰∫åÁöÑÁªìÊûú„ÄÇ123456789SQL&gt; select ename,job,sal from emp 2 where job = 'MANAGER' 3 MINUS 4 select ename,job,sal from emp 5 where sal &gt; 2500;ENAME JOB SAL---------- --------- ----------CLARK MANAGER 2450ËßÜÂõæËßÜÂõæ(VIEW)‰πüË¢´Áß∞‰ΩúËôöË°®ÔºåÂç≥ËôöÊãüÁöÑË°®ÔºåÊòØ‰∏ÄÁªÑÊï∞ÊçÆÁöÑÈÄªËæëË°®Á§∫ÔºåÂÖ∂Êú¨Ë¥®ÊòØÂØπÂ∫î‰∫é‰∏ÄÊù°SELECTËØ≠Âè•ÔºåÁªìÊûúÈõÜË¢´Ëµã‰∫à‰∏Ä‰∏™ÂêçÂ≠óÔºåÂç≥ËßÜÂõæÂêçÂ≠ó„ÄÇËßÜÂõæÊú¨Ë∫´Âπ∂‰∏çÂåÖÂê´‰ªª‰ΩïÊï∞ÊçÆÔºåÂÆÉÂè™ÂåÖÂê´Êò†Â∞ÑÂà∞Âü∫Ë°®ÁöÑ‰∏Ä‰∏™Êü•ËØ¢ËØ≠Âè•ÔºåÂΩìÂü∫Ë°®Êï∞ÊçÆÂèëÁîüÂèòÂåñÔºåËßÜÂõæÊï∞ÊçÆ‰πüÈöè‰πãÂèòÂåñ„ÄÇ‰ΩúÁî®Ôºö1„ÄÅÈáçÁî®Â≠êÊü•ËØ¢„ÄÇSELECTËØ≠Âè•‰∏≠ÁöÑFROMÂ≠êÂè•‰∏≠ÔºåÊàë‰ª¨Â∏∏‰ºö‰ΩøÁî®‰∏Ä‰∏™Â≠êÊü•ËØ¢ÔºåÁÑ∂ÂêéÂ∞ÜÁªìÊûúÂΩì‰ΩúË°®ÂÜçËøõË°åÊü•ËØ¢Â∑•‰ΩúÔºåËã•ÂæàÂ§öSELECTËØ≠Âè•‰∏≠ÈÉΩË¶ÅÁî®Âà∞ËØ•Â≠êÊü•ËØ¢ÔºåÂ∞±ÂèØ‰ª•Â∞ÜËøô‰∏™Â≠êÊü•ËØ¢ÂÆö‰πâ‰∏∫‰∏Ä‰∏™ËØïÂõæËøõË°åÈáçÁî®ÔºåËøôÊ†∑‰πüÂèØ‰ª•ÁÆÄÂåñSQLËØ≠Âè•ÁöÑÂ§çÊùÇÂ∫¶„ÄÇ2„ÄÅÈôêÂà∂Êï∞ÊçÆËÆøÈóÆÔºåÂèØ‰ª•ÈöêËóèÁúüÂÆûÁöÑË°®‰∏≠Â≠óÊÆµ‰ø°ÊÅØÔºåË°®ÁöÑÂêçÂ≠óÔºåÂ≠óÊÆµÁöÑÂêçÂ≠óÔºåËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçËÆøÈóÆÊïèÊÑü‰ø°ÊÅØÁ≠â„ÄÇÊ†πÊçÆËßÜÂõæÊâÄÂØπÂ∫îÁöÑÂ≠êÊü•ËØ¢ÁßçÁ±ªÂàÜ‰∏∫Âá†ÁßçÁ±ªÂûãÔºöSELECTËØ≠Âè•ÊòØÂü∫‰∫éÂçïË°®Âª∫Á´ãÁöÑÔºå‰∏î‰∏çÂåÖÂê´‰ªª‰ΩïÂáΩÊï∞ËøêÁÆó„ÄÅË°®ËææÂºèÊàñÂàÜÁªÑÂáΩÊï∞ÔºåÂè´ÂÅöÁÆÄÂçïËßÜÂõæÔºåÊ≠§Êó∂ËßÜÂõæÊòØÂü∫Ë°®ÁöÑÂ≠êÈõÜÔºõSELECTËØ≠Âè•ÂêåÊ†∑ÊòØÂü∫‰∫éÂçïË°®Ôºå‰ΩÜÂåÖÂê´‰∫ÜÂçïË°åÂáΩÊï∞„ÄÅË°®ËææÂºè„ÄÅÂàÜÁªÑÂáΩÊï∞ÊàñGROUP BYÂ≠êÂè•ÔºåÂè´ÂÅöÂ§çÊùÇËßÜÂõæÔºõSELECTËØ≠Âè•ÊòØÂü∫‰∫éÂ§ö‰∏™Ë°®ÁöÑÔºåÂè´ÂÅöËøûÊé•ËßÜÂõæ„ÄÇÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïËßÜÂõæV_EMP_10ÔºåÊù•ÊòæÁ§∫ÈÉ®Èó®10‰∏≠ÁöÑÂëòÂ∑•ÁöÑÁºñÁ†Å„ÄÅÂßìÂêçÂíåËñ™Ê∞¥Ôºö12345678910111213SQL&gt; create view v_emp_10 2 as 3 select empno,ename,sal 4 from emp where deptno = 10;ËßÜÂõæÂ∑≤ÂàõÂª∫„ÄÇSQL&gt; desc v_emp_10; ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- EMPNO NOT NULL NUMBER(4) ENAME VARCHAR2(10) SAL NUMBER(7,2)‰øÆÊîπËßÜÂõæÁî±‰∫éËßÜÂõæËá™Ë∫´Ê≤°ÊúâÁªìÊûÑÔºåÂÆåÂÖ®ÂèñÂÜ≥‰∫éÂØπÂ∫îÁöÑÊü•ËØ¢ËØ≠Âè•ÔºåÊâÄ‰ª•‰øÆÊîπËßÜÂõæÂ∞±ÊòØÊõøÊç¢ÂØπÂ∫îÁöÑÊü•ËØ¢ËØ≠Âè•„ÄÇ1234567891011121314SQL&gt; create or replace view v_emp_10 2 as 3 select empno,ename name,sal salary,deptno 4 from emp where deptno = 20;ËßÜÂõæÂ∑≤ÂàõÂª∫„ÄÇSQL&gt; desc v_emp_10; ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- EMPNO NOT NULL NUMBER(4) NAME VARCHAR2(10) SALARY NUMBER(7,2) DEPTNO NUMBER(2) NUMBER(2)ÂØπËßÜÂõæËøõË°åDMLÊìç‰ΩúÂ∞±ÊòØÂØπËßÜÂõæÊï∞ÊçÆÊù•Ê∫êÁöÑÂü∫Ë°®ËøõË°åÊìç‰Ωú„ÄÇÂè™ËÉΩÂØπÁÆÄÂçïËØïÂõæËøõË°åDMLÊìç‰ΩúÔºåÂ§çÊùÇËßÜÂõæ‰∏çÂÖÅËÆ∏DMLÊìç‰ΩúÔºåÂç≥ËßÜÂõæÂÆö‰πâ‰∏≠ÂåÖÂê´‰∫ÜÂáΩÊï∞„ÄÅË°®ËææÂºè„ÄÅÂàÜÁªÑËØ≠Âè•„ÄÅDISTINCTÂÖ≥ÈîÆÂ≠óÊàñROWNUM‰º™ÂàóÔºå‰∏çÂÖÅËÆ∏ÊâßË°åDMLÊìç‰Ωú„ÄÇÁî±‰∫éËßÜÂõæÂè™ËÉΩÁúãÂà∞empË°®‰∏≠ÁöÑ‰∏â‰∏™Â≠óÊÆµÔºåÊâÄ‰ª•Â∞±ÁÆóÂêëËßÜÂõæ‰∏≠ÊâÄÊúâÂ≠óÊÆµÊèíÂÖ•ÂÄºÔºåÈÇ£‰πàÂÆûÈôÖÊèíÂÖ•empË°®‰∏≠Êó∂ÔºåÈô§‰∫ÜËøôÂá†‰∏™Â≠óÊÆµÂ§ñÔºåÂÖ∂‰ªñËßÜÂõæÁúã‰∏çËßÅÁöÑÂ≠óÊÆµÂÖ®ÈÉ®ÊèíÂÖ•Â≠óÊÆµÈªòËÆ§ÂÄºNULL„ÄÇ123456789 SQL&gt; insert into v_emp_10 values(7935,'KangKang',4500,20);Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇSQL&gt; select * from emp where ename = 'KangKang'; EMPNO ENAME JOB MGR HIREDATE SAL COMM DEPTNO---------- ---------- --------- ---------- -------------- ---------- ---------- ---------- 7935 KangKang 4500 20‰∏ãÈù¢ËøôÊù°ËØ≠Âè•ÔºåÈÄöËøáËßÜÂõæÊèíÂÖ•Âà∞EMPË°®‰∏≠Ôºå‰ΩÜÊòØÂõ†‰∏∫ÈÉ®Èó®Âè∑ÊòØ10ÔºåËÄå‰∏çÊòØËßÜÂõæ‰∏≠ÁöÑ20ÔºåÊâÄ‰ª•ËßÜÂõæÁúã‰∏çËßÅÔºåÊó†Ê≥ïÂÜçÂØπËøô‰∏™ÂØπË±°ËøõË°å‰øÆÊîπÔºåËøôÂ∞±ÂØπÂü∫Ë°®Êï∞ÊçÆ‰∫ßÁîü‰∫ÜÊ±°ÊüìÔºå‰øÆÊîπËßÜÂõæÊï∞ÊçÆÂêåÊ†∑ÂèØËÉΩÂ≠òÂú®Â∞ÜËßÜÂõæÊï∞ÊçÆ‰øÆÊîπÂêéÔºåÂØºËá¥ËßÜÂõæÊó†Ê≥ïÂÜçÊü•ÁúãÂà∞ÂÆÉ‰ª¨„ÄÇ12345678910111213SQL&gt; insert into v_emp_10 values(7936,'Jane',4000,10);Â∑≤ÂàõÂª∫ 1 Ë°å„ÄÇSQL&gt; select * from v_emp_10; EMPNO NAME SALARY DEPTNO---------- ---------- ---------- ---------- 7935 KangKang 4500 20 7369 SMITH 800 20 7566 JONES 2975 20 7876 ADAMS 1100 20 7902 FORD 3000 20ÂàõÂª∫ÂÖ∑ÊúâCHECK OPTIONÁ∫¶ÊùüÁöÑËßÜÂõæÂèØ‰ª•‰∏∫ËßÜÂõæÊ∑ªÂä†CHECK OPTIONÈÄâÈ°πÔºåËøôÊ†∑ÂØπËßÜÂõæËøõË°åDMLÊìç‰ΩúÊó∂ÔºåËßÜÂõæ‰ºöÊ£ÄÊü•Êìç‰ΩúÂÆåÊØïÂêéÂØπËØ•ËÆ∞ÂΩïÊòØÂê¶ÂèØËßÅÔºåÂèØËßÅ‰∏çÂÖÅËÆ∏Êìç‰Ωú„ÄÇ12345678910111213SQL&gt; create or replace view v_emp_10 2 as 3 select empno,ename name,sal salary,deptno 4 from emp where deptno = 20 5 with check option;ËßÜÂõæÂ∑≤ÂàõÂª∫„ÄÇSQL&gt; insert into v_emp_10 values(7937,'Maria',3000,10);insert into v_emp_10 values(7937,'Maria',3000,10) *Á¨¨ 1 Ë°åÂá∫Áé∞ÈîôËØØ:ORA-01402: ËßÜÂõæ WITH CHECK OPTION where Â≠êÂè•ËøùËßÑÂàõÂª∫ÂÖ∑ÊúâREAD ONLYÁ∫¶ÊùüÁöÑËßÜÂõæÂΩìËßÜÂõæË¢´ËÆæÁΩÆ‰∏∫READ ONLYÂêéÔºå‰∏çÂÖÅËÆ∏ÂØπËØ•ËßÜÂõæËøõË°åDMLÊìç‰ΩúÔºåÂÖ∂‰∏∫Âè™ËØªÁöÑ„ÄÇ12345678910111213SQL&gt; create or replace view v_emp_10 2 as 3 select empno,ename name,sal salary,deptno 4 from emp where deptno = 20 5 with read only;ËßÜÂõæÂ∑≤ÂàõÂª∫„ÄÇSQL&gt; insert into v_emp_10 values(7937,'Maria',3000,20);insert into v_emp_10 values(7937,'Maria',3000,20)*Á¨¨ 1 Ë°åÂá∫Áé∞ÈîôËØØ:ORA-42399: Êó†Ê≥ïÂØπÂè™ËØªËßÜÂõæÊâßË°å DML Êìç‰ΩúÂ§çÊùÇËßÜÂõæÂØπÂ∫îÁöÑSELECTËØ≠Âè•‰∏≠Âê´ÊúâÂáΩÊï∞ÔºåË°®ËææÂºèÔºåÂàÜÁªÑÔºåËøûÊé•Êü•ËØ¢„ÄÇÂàõÂª∫‰∏Ä‰∏™ÊòæÁ§∫ÊØè‰∏™ÈÉ®Èó®Ëñ™Ê∞¥ÊÉÖÂÜµÁöÑËßÜÂõæÔºö1234567891011121314151617181920SQL&gt; create view v_emp_sal 2 as 3 select d.deptno,d.dname, 4 avg(e.sal) avg_sal, 5 sum(e.sal) sum_sal, 6 max(e.sal) max_sal, 7 min(e.sal) min_sal 8 from emp e,dept d 9 where e.deptno = d.deptno 10 group by d.deptno,d.dname;ËßÜÂõæÂ∑≤ÂàõÂª∫„ÄÇSQL&gt; select * from v_emp_sal; DEPTNO DNAME AVG_SAL SUM_SAL MAX_SAL MIN_SAL---------- -------------- ---------- ---------- ---------- ---------- 10 ACCOUNTING 3187.5 12750 5000 1300 20 RESEARCH 2475 12375 4500 800 30 SALES 1566.66667 9400 2850 950Â§çÊùÇËßÜÂõæ‰∏çËÉΩËøõË°åDMLÊìç‰Ωú„ÄÇÂΩì‰∏çÂÜçÈúÄË¶ÅËßÜÂõæÁöÑÂÆö‰πâÔºåÂèØ‰ª•‰ΩøÁî®DROP VIEWËØ≠Âè•Âà†Èô§ËßÜÂõæÔºö123SQL&gt; drop view v_emp_10;ËßÜÂõæÂ∑≤Âà†Èô§„ÄÇÂ∫èÂàóÂ∫èÂàóÊòØ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂØπË±°‰ΩúÁî®ÊòØÊ†πÊçÆÊåáÂÆöÁöÑËßÑÂàôÁîüÊàê‰∏ÄÁªÑÊï∞Â≠óÔºåÊØèÊ¨°ËøîÂõû‰∏Ä‰∏™Êï∞Â≠ó„ÄÇÂ∏∏Áî®‰∫é‰∏∫Ë°®‰∏≠ÁöÑ‰∏ªÈîÆÊèê‰æõÂÄº„ÄÇ‰∏ªÈîÆÔºöÈÄöÂ∏∏ÊØèÂº†Ë°®ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÊÆµÂ∞±ÊòØ‰∏ªÈîÆÔºå‰∏ªÈîÆÂ≠óÊÆµÁöÑÂÄºË¶ÅÊ±ÇÂú®Êï¥Âº†Ë°®‰∏≠‰∏çËÉΩ‰∏∫Á©∫Ôºå‰∏îÂÄº‰∏çËÉΩÈáçÂ§ç„ÄÇÁõÆÁöÑÊòØÁî®‰∫éÂîØ‰∏ÄÊ†áËØÜÊØè‰∏Ä‰∏™ËÆ∞ÂΩï„ÄÇÂàõÂª∫‰∏Ä‰∏™Â∫èÂàóÔºåËµ∑ÂßãÊï∞ÊçÆÊòØ100ÔºåÊ≠•ËøõÊòØ1Ôºö12345SQL&gt; create sequence emp_seq 2 start with 100 3 increment by 1;Â∫èÂàóÂ∑≤ÂàõÂª∫„ÄÇÂ∫èÂàóÊúâ‰∏§‰∏™‰º™ÂàóNEXTVALÔºö‰ΩøÂ∫èÂàóÁîüÊàê‰∏Ä‰∏™Êï∞Â≠óÔºåÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®Êó∂ÔºåËøîÂõûÁöÑÊòØSTART WITHÊåáÂÆöÁöÑÂÄº„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÔºåÂ∫èÂàó‰∏çÂèØÈÄÜÔºå‰∏ÄÊó¶Ëé∑Âèñ‰∏ã‰∏Ä‰∏™Êï∞Â≠óÂêéÔºåÂ∞±‰∏çËÉΩÂæóÂà∞‰∏ä‰∏Ä‰∏™Êï∞Â≠ó‰∫Ü„ÄÇCURRVALÔºöËé∑ÂèñÂ∫èÂàóÊúÄÂêé‰∏ÄÊ¨°ÁîüÊàêÁöÑÊï∞Â≠óÔºåÂèØ‰ª•Ë∞ÉÁî®Â§öÊ¨°Ôºå‰∏ç‰ºöÈÄ†ÊàêÂ∫èÂàóÁîüÊàê‰∏ã‰∏Ä‰∏™Êï∞Â≠ó„ÄÇCURRVALÂøÖÈ°ªË¶ÅÂú®Â∫èÂàóÂàõÂª∫ÂÆåÊØïÂêéÔºåËá≥Â∞ëË∞ÉÁî®Ëøá‰∏Ä‰æßNEXTVALËæìÂá∫ÁîüÊàê‰∏Ä‰∏™Êï∞Â≠óÂêéÊâçÂèØ‰ª•‰ΩøÁî®„ÄÇÊµãËØïËÆ©Â∫èÂàóÁîüÊàê‰∏Ä‰∏™Êï∞Â≠óÔºö1234567891011SQL&gt; select emp_seq.nextval from dual; NEXTVAL---------- 100SQL&gt; select emp_seq.nextval from dual; NEXTVAL---------- 101ÊØèËøêË°å‰∏ÄÊ¨°ÔºåÊï∞Â≠óÂ¢ûÂä†10„ÄÇËé∑ÂèñÂ∫èÂàóÊúÄÂêéÁîüÊàêÁöÑÊï∞Â≠óÔºö12345SQL&gt; select emp_seq.currval from dual; CURRVAL---------- 101Âà†Èô§Â∫èÂàóÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö123SQL&gt; drop sequence emp_seq;Â∫èÂàóÂ∑≤Âà†Èô§„ÄÇÁ¥¢ÂºïÁ¥¢Âºï‰πüÊòØÊï∞ÊçÆÂ∫ìÂØπË±°ÔºåÁî®Êù•ÊèêÈ´òÊ£ÄÁ¥¢ÊïàÁéáÔºåÊéíÂ∫èÊïàÁéáÊúâÊïàÁöÑ‰ΩøÁî®‰ºöÂ∏¶Êù•ÂæàÂ•ΩÁöÑÊïàÊûú„ÄÇÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªüËá™Ë°åÁª¥Êä§Á¥¢ÂºïÁöÑÁÆóÊ≥ïÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊåáÂÆö‰ΩïÊó∂‰∏∫ÊüêË°®ÁöÑÊüêÂ≠óÊÆµÊ∑ªÂä†Âç≥ÂèØ„ÄÇ‰∏∫empË°®ÁöÑENAMEÂ≠óÊÆµÊ∑ªÂä†Á¥¢ÂºïÔºö123SQL&gt; create index idx_emp_ename on emp(ename);Á¥¢ÂºïÂ∑≤ÂàõÂª∫„ÄÇÂ§çÂêàÁ¥¢Âºï‰πüÂè´Â§öÂàóÁ¥¢ÂºïÔºåÊòØÂü∫‰∫éÂ§ö‰∏™ÂàóÁöÑÁ¥¢Âºï„ÄÇÂ¶ÇÊûúÁªèÂ∏∏Âú®ORDER BYÂ≠êÂè•‰∏≠‰ΩøÁî®jobÂíåsal‰Ωú‰∏∫ÊéíÂ∫è‰æùÊçÆÔºåÂèØ‰ª•Âª∫Á´ãÂ§çÂêàÁ¥¢ÂºïÔºö123SQL&gt; create index idx_emp_jobsal on emp(job,sal);Á¥¢ÂºïÂ∑≤ÂàõÂª∫„ÄÇÂΩìÂÅö‰∏ãÈù¢ÁöÑÊü•ËØ¢Êó∂Ôºå‰ºöËá™Âä®Â∫îÁî®Á¥¢Âºïidx_emp_jobsalÔºö12SQL&gt; select empno,ename,job,sal from emp 2 order by job,sal;Âà†Èô§Á¥¢ÂºïÔºö123SQL&gt; drop index idx_emp_jobsal;Á¥¢ÂºïÂ∑≤Âà†Èô§„ÄÇÂêàÁêÜ‰ΩøÁî®Á¥¢ÂºïÊèêÂçáÊü•ËØ¢ÊïàÁéáÔºö‰∏∫ÁªèÂ∏∏Âá∫Áé∞Âú®WHEREÂ≠êÂè•‰∏≠ÁöÑÂàóÂàõÂª∫Á¥¢Âºï„ÄÇ‰∏∫ÁªèÂ∏∏Âá∫Áé∞Âú®ORDER BY„ÄÅDISTINCTÂêéÈù¢ÁöÑÂ≠óÊÆµÂª∫Á´ãÁ¥¢Âºï„ÄÇÂ¶ÇÊûúÂª∫Á´ãÁöÑÂ§çÂêàÁ¥¢ÂºïÔºåÁ¥¢ÂºïÁöÑÂ≠óÊÆµÈ°∫Â∫èË¶ÅÂíåËøô‰∫õÂÖ≥ÈîÆÂ≠óÂêéÈù¢ÁöÑÂ≠óÊÆµÈ°∫Â∫è‰∏ÄËá¥„ÄÇ‰∏∫ÁªèÂ∏∏‰Ωú‰∏∫Ë°®ÁöÑËøûÊé•Êù°‰ª∂ÁöÑÂàó‰∏äÂàõÂª∫Á¥¢Âºï„ÄÇ‰∏çË¶ÅÂú®ÁªèÂ∏∏ÂÅöDMLÊìç‰ΩúÁöÑË°®‰∏äÂª∫Á´ãÁ¥¢Âºï„ÄÇ‰∏çË¶ÅÂú®Â∞èË°®‰∏äÂª∫Á´ãÁ¥¢Âºï„ÄÇÈôêÂà∂Ë°®‰∏äÁöÑÁ¥¢ÂºïÊï∞ÁõÆÔºåÁ¥¢ÂºïÂπ∂‰∏çÊòØË∂äÂ§öË∂äÂ•Ω„ÄÇÂà†Èô§ÂæàÂ∞ëË¢´‰ΩøÁî®ÁöÑ„ÄÅ‰∏çÂêàÁêÜÁöÑÁ¥¢Âºï„ÄÇÁ∫¶ÊùüÁ∫¶ÊùüÁöÑÁ±ªÂûãÔºöÈùûÁ©∫Á∫¶Êùü(Not Null)ÔºåÁÆÄÁß∞NN„ÄÇÂîØ‰∏ÄÊÄßÁ∫¶Êùü(Unique)ÔºåÁÆÄÁß∞UK„ÄÇ‰∏ªÈîÆÁ∫¶Êùü(Primary Key)ÔºåÁÆÄÁß∞PK„ÄÇÂ§ñÈîÆÁ∫¶Êùü(Foreign Key)ÔºåÁÆÄÁß∞FK„ÄÇÊ£ÄÊü•Á∫¶Êùü(Check)ÔºåÁÆÄÁß∞CK„ÄÇÈùûÁ©∫Á∫¶ÊùüÂª∫Ë°®Êó∂Ê∑ªÂä†ÈùûÁ©∫Á∫¶ÊùüÔºö123456789101112131415SQL&gt; create table employees( 2 eid number(6), 3 name varchar2(30) not null, 4 salary number(7,2), 5 hiredate date constraint employees_hiredate_nn not null);Ë°®Â∑≤ÂàõÂª∫„ÄÇSQL&gt; desc employees; ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- EID NUMBER(6) NAME NOT NULL VARCHAR2(30) SALARY NUMBER(7,2) HIREDATE NOT NULL DATEÂèñÊ∂àÈùûÁ©∫Á∫¶ÊùüÔºö1234567891011 SQL&gt; alter table employees modify(hiredate date null);Ë°®Â∑≤Êõ¥Êîπ„ÄÇSQL&gt; desc employees; ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- EID NUMBER(6) NAME NOT NULL DATE SALARY NUMBER(7,2) HIREDATE DATEÂîØ‰∏ÄÊÄßÁ∫¶ÊùüÂîØ‰∏ÄÊÄß(Unique)Á∫¶ÊùüÊù°‰ª∂Áî®‰∫é‰øùËØÅÂ≠óÊÆµÊàñËÄÖÂ≠óÊÆµÁöÑÁªÑÂêà‰∏çÂá∫Áé∞ÈáçÂ§çÂÄº„ÄÇÂΩìÁªôË°®ÁöÑÊüê‰∏™ÂàóÂÆö‰πâ‰∫ÜÂîØ‰∏ÄÁ∫¶ÊùüÊù°‰ª∂ÔºåËØ•ÂàóÁöÑÂÄº‰∏çÂÖÅËÆ∏ÈáçÂ§çÔºå‰ΩÜÂÖÅËÆ∏ÊòØNULLÂÄº„ÄÇÂª∫Ë°®ÁöÑÊó∂ÂÄôÊ∑ªÂä†ÂîØ‰∏ÄÊÄßÁ∫¶ÊùüÔºö123456789SQL&gt; create table employees1( 2 eid number(6) unique, 3 name varchar2(30), 4 email varchar(50), 5 salary number(7,2), 6 hiredate date, 7 constraint employees1_email_uk unique(email));Ë°®Â∑≤ÂàõÂª∫„ÄÇ‰∏ªÈîÆÁ∫¶Êùü‰∏ªÈîÆ(Primary Key)Á∫¶ÊùüÊù°‰ª∂‰ªéÂäüËÉΩ‰∏äÁúãÁõ∏ÂΩì‰∫éÈùûÁ©∫ÔºàNOT NULLÔºâ‰∏îÂîØ‰∏ÄÔºàUNIQUEÔºâÁöÑÁªÑÂêà„ÄÇ‰∏ªÈîÆÂ≠óÊÆµÂèØ‰ª•ÊòØÂçïÂ≠óÊÆµÊàñÂ§öÂ≠óÊÆµÁªÑÂêàÔºåÂç≥ÔºöÂú®‰∏ªÈîÆÁ∫¶Êùü‰∏ãÁöÑÂçïÂ≠óÊÆµÊàñËÄÖÂ§öÂ≠óÊÆµÁªÑÂêà‰∏ä‰∏çÂÖÅËÆ∏ÊúâÁ©∫ÂÄºÔºå‰πü‰∏çÂÖÅËÆ∏ÊúâÈáçÂ§çÂÄº„ÄÇ‰∏ªÈîÆÂèØ‰ª•Áî®Êù•Âú®Ë°®‰∏≠ÂîØ‰∏ÄÁöÑÁ°ÆÂÆö‰∏ÄË°åÊï∞ÊçÆ„ÄÇ‰∏Ä‰∏™Ë°®‰∏äÂè™ÂÖÅËÆ∏Âª∫Á´ã‰∏Ä‰∏™‰∏ªÈîÆÔºåËÄåÂÖ∂ÂÆÉÁ∫¶ÊùüÊù°‰ª∂ÂàôÊ≤°ÊúâÊòéÁ°ÆÁöÑ‰∏™Êï∞ÈôêÂà∂„ÄÇ‰∏ªÈîÆÈÄâÂèñÁöÑÂéüÂàôÔºö‰∏ªÈîÆÂ∫îÊòØÂØπÁ≥ªÁªüÊó†ÊÑè‰πâÁöÑÊï∞ÊçÆ„ÄÇÊ∞∏Ëøú‰πü‰∏çË¶ÅÊõ¥Êñ∞‰∏ªÈîÆÔºåËÆ©‰∏ªÈîÆÈô§‰∫ÜÂîØ‰∏ÄÊ†áËØÜ‰∏ÄË°å‰πãÂ§ñÔºåÂÜçÊó†ÂÖ∂‰ªñÁöÑÁî®ÈÄî„ÄÇ‰∏ªÈîÆ‰∏çÂ∫îÂåÖÂê´Âä®ÊÄÅÂèòÂåñÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊó∂Èó¥Êà≥„ÄÇ‰∏ªÈîÆÂ∫îËá™Âä®ÁîüÊàêÔºå‰∏çË¶Å‰∫∫‰∏∫Âπ≤È¢ÑÔºå‰ª•ÂÖç‰ΩøÂÆÉÂ∏¶ÊúâÈô§‰∫ÜÂîØ‰∏ÄÊ†áËØÜ‰∏ÄË°å‰ª•Â§ñÁöÑÊÑè‰πâ„ÄÇ‰∏ªÈîÆÂ∞ΩÈáèÂª∫Á´ãÂú®ÂçïÂàó‰∏ä„ÄÇÂª∫Ë°®ÁöÑÊó∂ÂÄôÊ∑ªÂä†‰∏ªÈîÆÁ∫¶ÊùüÔºö1234567891011121314151617SQL&gt; create table employees2( 2 eid number(6) primary key, 3 name varchar(30), 4 email varchar2(30), 5 salary number(7,2), 6 hiredate date);Ë°®Â∑≤ÂàõÂª∫„ÄÇSQL&gt; desc employees2; ÂêçÁß∞ ÊòØÂê¶‰∏∫Á©∫? Á±ªÂûã ----------------------------------------- -------- ---------------------------- EID NOT NULL NUMBER(6) NAME VARCHAR2(30) EMAIL VARCHAR2(30) SALARY NUMBER(7,2) HIREDATE DATEÂª∫Ë°®ÂêéÊ∑ªÂä†‰∏ªÈîÆÔºåÈ¶ñÂÖàÂàõÂª∫‰∏ÄÂº†Ê≤°Êúâ‰∏ªÈîÆÁöÑË°®Ôºö12345678 SQL&gt; create table employees3( 2 eid number(6), 3 name varchar2(30), 4 email varchar2(50), 5 salary number(7,2), 6 hiredate date);Ë°®Â∑≤ÂàõÂª∫„ÄÇÂÜçÊ∑ªÂä†‰∏ªÈîÆÔºö1234SQL&gt; alter table employees3 2 add constraint emplpoyees3_eid_pk primary key(eid);Ë°®Â∑≤Êõ¥Êîπ„ÄÇÂ§ñÈîÆÁ∫¶ÊùüÂ§ñÈîÆÁ∫¶ÊùüÊù°‰ª∂ÂÆö‰πâÂú®‰∏§‰∏™Ë°®ÁöÑÂ≠óÊÆµÊàñ‰∏Ä‰∏™Ë°®ÁöÑ‰∏§‰∏™Â≠óÊÆµ‰∏äÔºåÁî®‰∫é‰øùËØÅÁõ∏ÂÖ≥‰∏§‰∏™Â≠óÊÆµÁöÑÂÖ≥Á≥ª„ÄÇÊØîÂ¶ÇempË°®ÁöÑdeptnoÂàóÂèÇÁÖßdeptË°®ÁöÑdeptnoÂàóÔºåÂàôdeptÁß∞‰Ωú‰∏ªË°®ÊàñÁà∂Ë°®ÔºåempË°®Áß∞‰Ωú‰ªéË°®ÊàñÂ≠êË°®„ÄÇ12345678910111213SQL&gt; create table employees4( 2 eid number(6), 3 name varchar2(30), 4 salary number(7,2), 5 deptno number(4));Ë°®Â∑≤ÂàõÂª∫„ÄÇSQL&gt; alter table employees4 2 add constraint employees4_deptno_fk 3 foreign key(deptno) references dept(deptno);Ë°®Â∑≤Êõ¥Êîπ„ÄÇÊ£ÄÊü•Á∫¶ÊùüÊ£ÄÊü•(Check)Á∫¶ÊùüÊù°‰ª∂Áî®Êù•Âº∫Âà∂Âú®Â≠óÊÆµ‰∏äÁöÑÊØè‰∏™ÂÄºÈÉΩË¶ÅÊª°Ë∂≥Check‰∏≠ÂÆö‰πâÁöÑÊù°‰ª∂„ÄÇÂΩìÂÆö‰πâ‰∫ÜCheckÁ∫¶ÊùüÁöÑÂàóÊñ∞Â¢ûÊàñ‰øÆÊîπÊï∞ÊçÆÊó∂ÔºåÊï∞ÊçÆÂøÖÈ°ªÁ¨¶ÂêàCheckÁ∫¶Êùü‰∏≠ÂÆö‰πâÁöÑÊù°‰ª∂„ÄÇÂëòÂ∑•ÁöÑËñ™Ê∞¥ÂøÖÈ°ªÂ§ß‰∫é2000ÂÖÉÔºåÂ¢ûÂä†Ê£ÄÊü•Á∫¶ÊùüÔºö12345SQL&gt; alter table employees4 2 add constraint employees4_salary_check 3 check (salary &gt; 2000);Ë°®Â∑≤Êõ¥Êîπ„ÄÇ]]></content>
      <tags>
        <tag>DataBase</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Servlet Jsp note]]></title>
    <url>%2FServlet-Jsp-note.html</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØServletsun(oracle)ÂÖ¨Âè∏Âà∂ËÆ¢ÁöÑ‰∏ÄÁßçÁî®Êù•Êâ©Â±ïwebÊúçÂä°Âô®ÂäüËÉΩÁöÑÁªÑ‰ª∂ËßÑËåÉ„ÄÇ‰ΩøÁî®MyeclipseÂàõÂª∫‰∏Ä‰∏™web projectÔºåÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑservletÔºösrc‚Üícom.postar.servletÔºàpackageÔºâ‚ÜíHiServletÔºö12345678910public class HiServlet extends HttpServlet&#123; @Override protected void service(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException &#123; res.setContentType("text/html"); PrintWriter pw = res.getWriter(); pw.write("&lt;h1 style='color:#6db33f'&gt;hello world&lt;/h1&gt;"); pw.close(); &#125;&#125;ÈÖçÁΩÆÊñá‰ª∂WebRoot‚ÜíWEB-INF‚Üíweb.xml‰∏ãÊ∑ªÂä†Ôºö12345678910111213141516171819&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"&gt; &lt;display-name&gt;&lt;/display-name&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;servlet&gt; &lt;servlet-name&gt;hi&lt;/servlet-name&gt; &lt;servlet-class&gt;com.postar.servlet.HiServlet&lt;/servlet-class&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;hi&lt;/servlet-name&gt; &lt;url-pattern&gt;/hi&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt;ÂêØÂä®TomcatÔºåÂú®ÊµèËßàÂô®‰∏≠ËæìÂÖ•Ôºöhttp://localhost:8088/servlet/hi ÂæóÂà∞È°µÈù¢ÔºöÁ®ãÂ∫èÊâßË°åÁöÑËøáÁ®ãÔºöServletËøêË°åÁöÑÂéüÁêÜÂéüÁêÜÂõæÔºàÊâßË°åËøáÁ®ãÔºâÔºöÂÖ∑‰ΩìËøáÁ®ãÊèèËø∞Ôºö1.ÊµèËßàÂô®‰æùÊçÆip,portÂª∫Á´ã‰∏éÂÆπÂô®‰πãÈó¥ÁöÑËøûÊé•„ÄÇ2.ÊµèËßàÂô®Â∞ÜËØ∑Ê±ÇÊï∞ÊçÆÊâìÂåÖ(ÂåÖÂê´‰∫ÜËØ∑Ê±ÇËµÑÊ∫êË∑ØÂæÑ)„ÄÇ3.ÂêëÂÆπÂô®ÔºàÁ¨¶Âêà‰∏ÄÂÆöËßÑËåÉÔºåÊèê‰æõÁªÑ‰ª∂ÁöÑËøêË°åÁéØÂ¢ÉÁöÑ‰∏Ä‰∏™Á®ãÂ∫è„ÄÇÔºâÂèëËØ∑Ê±ÇÊï∞ÊçÆÂåÖ„ÄÇ4.ÂÆπÂô®Ëß£ÊûêËØ∑Ê±ÇÊï∞ÊçÆÂåÖ„ÄÇ5.Â∞ÜËß£ÊûêÁöÑÁªìÊûúÂ∞ÅË£ÖÂà∞requestÂØπË±°‰∏äÔºåÂêåÊó∂ÔºåÂÆπÂô®ËøòË¶ÅÂàõÂª∫‰∏Ä‰∏™responseÂØπË±°„ÄÇ6.ÂÆπÂô®‰æùÊçÆËØ∑Ê±ÇËµÑÊ∫êË∑ØÂæÑÊâæÂà∞servletÁöÑÈÖçÁΩÆ(web.xml)„ÄÇ7.8.ÁÑ∂ÂêéÂàõÂª∫ËØ•servletÂØπË±°ÔºåË∞ÉÁî®servletÂØπË±°ÁöÑserviceÊñπÊ≥ï(‰ºöÂ∞ÜrequestÂØπË±°,responseÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞)„ÄÇÂú®serviceÊñπÊ≥ïÈáåÈù¢ÔºåÂèØ‰ª•ÈÄöËøárequestÂØπË±°Ëé∑ÂæóËØ∑Ê±ÇÊï∞ÊçÆÂπ∂ËøõË°åÁõ∏Â∫îÁöÑÂ§ÑÁêÜÔºåÁÑ∂ÂêéÔºåÂ§ÑÁêÜÁªìÊûúÂè™ÈúÄË¶ÅÂÜôÂà∞responseÂØπË±°‰∏ä„ÄÇ9.ÂÆπÂô®‰ªéresponseÂØπË±°‰∏äËé∑ÂèñÂ§ÑÁêÜÁªìÊûúÔºåÁÑ∂ÂêéÊâìÂåÖ„ÄÇ10.ÂèëÈÄÅÁªôÊµèËßàÂô®„ÄÇ11.ÊµèËßàÂô®‰ªéÂìçÂ∫îÊï∞ÊçÆÂåÖ‰∏≠ÂèñÂá∫Â§ÑÁêÜÁªìÊûúÔºåÁîüÊàêÁõ∏Â∫îÁöÑÈ°µÈù¢„ÄÇgetËØ∑Ê±ÇÂíåpostËØ∑Ê±ÇÊúÄÂ∏∏Áî®ÁöÑ‰∏§ÁßçÊñπÂºègetÂíåpost„ÄÇget/postËØ∑Ê±ÇÁöÑÂå∫Âà´ÔºögetËØ∑Ê±ÇÂ¶ÇÊûúÈúÄË¶ÅÂêëÊúçÂä°Âô®‰º†ÈÄíÂ∞ëÈáèÊï∞ÊçÆÁî®get„ÄÇgetËØ∑Ê±Ç‰ΩøÁî®URL‰º†ÂÄºÔºåÂç≥Êï∞ÊçÆ‰ºöÈôÑÁùÄÂú®URL‰∏ä‰º†ÈÄíÁªôÊúçÂä°Âô®ÔºåÂ¶ÇÔºöÂè™ËÉΩ‰º†ÈÄíËæÉÂ∞ëÁöÑÊï∞ÊçÆpostËØ∑Ê±ÇÂ¶ÇÊûúÈúÄË¶ÅÊèê‰∫§Ë°®ÂçïÔºåÊàñËÄÖ‰º†ÈÄíÂ§ßÈáèÁöÑÊï∞ÊçÆÁî®post„ÄÇpostËØ∑Ê±Ç‰ΩøÁî®ËØ∑Ê±ÇÊï∞ÊçÆÂåÖÁöÑÂÆû‰ΩìÂÜÖÂÆπÊù•‰º†ÂÄº„ÄÇÂèØ‰ª•‰º†ÈÄíÂ§ßÈáèÊï∞ÊçÆ„ÄÇpostËØ∑Ê±ÇÈöêÁßÅÊÄßÊõ¥Â•ΩÔºå‰ΩÜÊòØÂÆâÂÖ®Á∫ßÂà´ÂíågetÂÆåÂÖ®Áõ∏Á≠âÔºå‰∏çËÉΩËØ¥ÂÆÉÊõ¥ÂÆâÂÖ®„ÄÇÈÄöËøáF12ÈÉΩËÉΩÊü•ÁúãÂà∞ÊâÄÊúâÊï∞ÊçÆ„ÄÇËß£ÂÜ≥getÔºåpsotËØ∑Ê±Ç‰∏≠Êñá‰π±Á†ÅÊúçÂä°Á´ØServlet‰ª£Á†ÅÔºö1234567891011121314151617181920212223242526272829303132333435public class RegistServlet extends HttpServlet&#123; @Override protected void service(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException &#123; // Ëß£ÂÜ≥postËØ∑Ê±Ç‰π±Á†Å req.setCharacterEncoding("utf-8"); // ‰ΩøÁî®requestÊé•Êî∂ËØ∑Ê±ÇÊï∞ÊçÆ // ÈÄöËøáÊ°Ü‰ΩìÁöÑnameÂ±ûÊÄßÂÄºÊù•Êé•Êî∂Êï∞ÊçÆ String code = req.getParameter("code"); // Ëß£ÂÜ≥getËØ∑Ê±Ç‰π±Á†Å // code = new String(code.getBytes("iso8859-1"), "utf-8"); String pwd = req.getParameter("pwd"); String sex = req.getParameter("sex"); // ÂÄºÊòØ‰∏™Êï∞ÁªÑÁöÑÊó∂ÂÄô‰ΩøÁî®request.getParameterValues() String[] favorites = req.getParameterValues("favorites"); System.out.println(code); System.out.println(pwd); System.out.println(sex); for(String f : favorites) &#123; System.out.println(f); &#125; //ÂêëÊµèËßàÂô®ËæìÂá∫‰∏Ä‰∫õÊèêÁ§∫‰ø°ÊÅØ res.setContentType("text/html;charset=utf-8;"); PrintWriter w = res.getWriter(); if("admin".equals(code)) &#123; w.println("&lt;h1&gt;Ê≠§Ë¥¶Âè∑Â∑≤Â≠òÂú®.&lt;/h1&gt;"); &#125; else &#123; w.println("&lt;h1&gt;Ê≥®ÂÜåÊàêÂäü.&lt;/h1&gt;"); &#125; w.close(); &#125;&#125;ÂÆ¢Êà∑Á´Øhtml‰ª£Á†ÅÔºö123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!doctype html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="gbk" /&gt; &lt;title&gt;Ê≥®ÂÜåÁî®Êà∑&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- 1.ÊÉ≥Ë¶ÅÁªôÊúçÂä°Âô®Êèê‰∫§Êï∞ÊçÆÔºåÈúÄË¶Å‰ΩøÁî®Ë°®Âçï„ÄÇ 2.‰º†Êï∞ÊçÆÊó∂ÔºåÈúÄË¶ÅÁªôÊ°ÜËÆæÁΩÆnameÂ±ûÊÄßÔºåËØ•Â±ûÊÄßÂ∞Ü‰Ωú‰∏∫‰º†ÈÄíÁöÑÊï∞ÊçÆÁöÑÂêçÂ≠óÔºåÊúçÂä°Á´Ø ÈúÄË¶ÅÈÄöËøáÊ≠§ÂêçÂ≠óÊù•Ëé∑ÂèñÊï∞ÊçÆ„ÄÇ 3.Ë°®Âçï‰º†ÈÄíÁöÑÊï∞ÊçÆÂ∞±ÊòØÊ°Ü‰ΩìÁöÑvalueÂ±ûÊÄßÂÄº„ÄÇ 3.1ÂØπ‰∫éÊñáÊú¨Ê°Ü„ÄÅÂØÜÁ†ÅÊ°ÜÔºåÂÆÉÁöÑvalueÂ±ûÊÄßÂÄºÂ∞±ÊòØÊàë‰ª¨Âú®Ê°ÜÂÜÖËæìÂÖ•ÁöÑÂÜÖÂÆπÔºåÂõ†Ê≠§‰∏çÂøÖÈ¢ùÂ§ñËÆæÁΩÆÔºõ 3.2ÂØπ‰∫éÂçïÈÄâ„ÄÅÂ§çÈÄâ„ÄÅ‰∏ãÊãâÈÄâÔºåÈúÄË¶ÅÊòéÁ°ÆËÆæÁΩÆvalueÂ±ûÊÄßÁöÑÂÄº„ÄÇ 4.Ë°®Âçï‰∏äÈúÄË¶ÅÈÄöËøáactionÂ±ûÊÄßËÆæÁΩÆÊèê‰∫§ÁöÑË∑ØÂæÑÔºåÂÜôÂá∫URIÂç≥ÂèØÔºå‰∏çÈúÄË¶ÅÂÜôÂá∫ÂÆåÊï¥ÁöÑURL„ÄÇ ÈÄöËøámethodÂ±ûÊÄßÂ£∞ÊòéËØ∑Ê±ÇÁöÑÁ±ªÂûã„ÄÇ --&gt; &lt;form action="/servlet/register" method="post"&gt; &lt;h1&gt;Ê≥®ÂÜåÁî®Êà∑&lt;/h1&gt; &lt;p&gt;Ë¥¶Âè∑:&lt;input type="text" name="code" /&gt;&lt;/p&gt; &lt;p&gt;ÂØÜÁ†Å:&lt;input type="password" name="pwd" /&gt;&lt;/p&gt; &lt;p&gt;ÊÄßÂà´: &lt;input type="radio" name="sex" value="M" /&gt;Áî∑ &lt;input type="radio" name="sex" value="F" /&gt;Â•≥ &lt;/p&gt; &lt;p&gt; ÂÖ¥Ë∂£: &lt;input type="checkbox" name="favorites" value="basketball" /&gt; ÁØÆÁêÉ &lt;input type="checkbox" name="favorites" value="football" /&gt; Ë∂≥ÁêÉ &lt;input type="checkbox" name="favorites" value="pingpang" /&gt; ‰πí‰πì &lt;input type="checkbox" name="favorites" value="running" /&gt; Ë∑ëÊ≠• &lt;/p&gt; &lt;p&gt; &lt;!-- submitÊòØ‰∏ìÈó®Áî®‰∫éÊèê‰∫§Ë°®ÂçïÁöÑÊåâÈíÆ --&gt; &lt;input type="submit" value="Ê≥®ÂÜå" /&gt; &lt;/p&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt;ÈÖçÁΩÆxmlÔºö12345678&lt;servlet&gt; &lt;servlet-name&gt;regist&lt;/servlet-name&gt; &lt;servlet-class&gt;com.postar.servlet.RegistServlet&lt;/servlet-class&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;regist&lt;/servlet-name&gt; &lt;url-pattern&gt;/register&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;ÈáçÂÆöÂêëÊúçÂä°Âô®ÂêëÊµèËßàÂô®ÂèëÈÄÅ‰∏Ä‰∏™302Áä∂ÊÄÅÁ†ÅÂèä‰∏Ä‰∏™LocationÊ∂àÊÅØÂ§¥ÔºàËØ•Ê∂àÊÅØÂ§¥ÁöÑÂÄºÊòØ‰∏Ä‰∏™Âú∞ÂùÄÔºåÁß∞‰πã‰∏∫ÈáçÂÆöÂêëÂú∞ÂùÄÔºâÔºåÊµèËßàÂô®Êî∂Âà∞Âêé‰ºöÁ´ãÂç≥ÂêëÈáçÂÆöÂêëÂú∞ÂùÄÂèëËØ∑Ê±Ç„ÄÇÂ¶Ç‰ΩïÈáçÂÆöÂêëÔºü1response.sendRedirect(String url);ÁâπÁÇπÔºöÈáçÂÆöÂêëÂú∞ÂùÄÂèØ‰ª•ÊòØ‰ªªÊÑèÁöÑÂú∞ÂùÄ„ÄÇÈáçÂÆöÂêë‰πãÂêéÔºåÊµèËßàÂô®Âú∞ÂùÄÊ†èÁöÑÂú∞ÂùÄ‰ºöÂèò„ÄÇËΩ¨Âèë‰∏Ä‰∏™webÁªÑ‰ª∂Ôºàservlet/jspÔºâÂ∞ÜÊú™ÂÆåÊàêÁöÑÂ§ÑÁêÜÈÄöËøáÂÆπÂô®ËΩ¨‰∫§ÁªôÂè¶Â§ñ‰∏Ä‰∏™webÁªÑ‰ª∂ÁªßÁª≠ÂÆåÊàê„ÄÇÂ∏∏ËßÅÁöÑÊÉÖÂÜµÊòØÔºö‰∏Ä‰∏™servletËé∑ÂæóÊï∞ÊçÆ‰πãÂêéÔºàÊØîÂ¶ÇÔºåÈÄöËøáË∞ÉÁî®daoÔºâÔºåÂ∞ÜËøô‰∫õÊï∞ÊçÆËΩ¨ÂèëÁªô‰∏Ä‰∏™jspÔºåÁî±Ëøô‰∏™jspÊù•Â±ïÁé∞Ëøô‰∫õÊï∞ÊçÆÔºàÊØîÂ¶ÇÔºå‰ª•Ë°®Ê†ºÁöÑÊñπÂºèÊù•Â±ïÁé∞Ôºâ„ÄÇËΩ¨ÂèëÁöÑÂéüÁêÜÂõæÔºöËΩ¨ÂèëÁöÑËøáÁ®ãÔºö1.ÂÖàÁªëËÆ¢Êï∞ÊçÆÂà∞requestÂØπË±°Ôºö12// ÂèòÈáèÂêçnameÔºåÂÄºobjrequest.setAttribute(String name,Object obj);2.Ëé∑ÂæóËΩ¨ÂèëÂô®Ôºö12// uriÔºöËΩ¨ÂèëÁöÑÁõÆÁöÑÂú∞ÔºåÊØîÂ¶Ç‰∏Ä‰∏™jspÊñá‰ª∂„ÄÇRequestDispatcher rd = request.getRequestDispatcher(String uri);3.ËΩ¨ÂèëÔºö1rd.forward(request,response);ËΩ¨ÂèëÁöÑÁâπÁÇπÔºöËΩ¨Âèë‰πãÂêéÔºåÊµèËßàÂô®Âú∞ÂùÄÊ†èÁöÑÂú∞ÂùÄ‰∏çÂèò„ÄÇËΩ¨ÂèëÁöÑÁõÆÁöÑÂú∞ÂøÖÈ°ªÊòØÂêå‰∏Ä‰∏™Â∫îÁî®ÂÜÖÈÉ®ÁöÑÊüê‰∏™Âú∞ÂùÄ„ÄÇËΩ¨ÂèëÊâÄÊ∂âÂèäÁöÑÂêÑ‰∏™webÁªÑ‰ª∂‰ºöÂÖ±‰∫´Âêå‰∏Ä‰∏™requestÂØπË±°ÂíåresponseÂØπË±°„ÄÇËΩ¨ÂèëÂíåÈáçÂÆöÂêëÁöÑÂå∫Âà´ËΩ¨ÂèëÊâÄÊ∂âÂèäÁöÑÂêÑ‰∏™webÁªÑ‰ª∂‰ºöÂÖ±‰∫´Âêå‰∏Ä‰∏™requestÂØπË±°ÂíåresponseÂØπË±°ÔºåËÄåÈáçÂÆöÂêë‰∏çË°å„ÄÇËØ¥ÊòéÔºöÂΩìËØ∑Ê±ÇÂà∞ËææÂÆπÂô®ÔºåÂÆπÂô®‰ºöÂàõÂª∫requestÂØπË±°ÂíåresponseÂØπË±°ÔºåÂΩìÂìçÂ∫îÂèëÈÄÅÂÆåÊØïÔºåÂÆπÂô®‰ºöÁ´ãÂç≥Âà†Èô§requestÂØπË±°ÂíåresponseÂØπË±°„ÄÇÂç≥requestÂØπË±°ÂíåresponseÂØπË±°ÁöÑÁîüÂ≠òÊó∂Èó¥ÊòØ‰∏ÄÊ¨°ËØ∑Ê±Ç‰∏éÂìçÂ∫îÊúüÈó¥„ÄÇËΩ¨Âèë‰πãÂêéÔºåÊµèËßàÂô®Âú∞ÂùÄÊ†èÁöÑÂú∞ÂùÄ‰∏çÂèòÔºåÈáçÂÆöÂêë‰ºöÂèò„ÄÇËΩ¨ÂèëÁöÑÂú∞ÂùÄÂøÖÈ°ªÊòØÂêå‰∏Ä‰∏™Â∫îÁî®ÂÜÖÈÉ®Êüê‰∏™Âú∞ÂùÄÔºåËÄåÈáçÂÆöÂêëÊ≤°ÊúâËøô‰∏™ÈôêÂà∂„ÄÇËΩ¨ÂèëÊòØ‰∏Ä‰ª∂‰∫ãÊÉÖÊú™ÂÅöÂÆåÔºåË∞ÉÁî®Âè¶Â§ñ‰∏Ä‰∏™ÁªÑ‰ª∂ÁªßÁª≠ÂÅöÔºõËÄåÈáçÂÆöÂêëÊòØ‰∏Ä‰ª∂‰∫ãÊÉÖÂ∑≤ÁªèÂÅöÂÆåÔºåÂÜçË∞ÉÁî®‰∏Ä‰∏™ÁªÑ‰ª∂ÂÅöÂè¶Â§ñ‰∏Ä‰ª∂‰∫ãÊÉÖ„ÄÇServletÁöÑÁîüÂëΩÂë®ÊúüServletÂÆπÂô®Â¶Ç‰ΩïÂàõÂª∫ServletÂØπË±°„ÄÅÂ¶Ç‰Ωï‰∏∫ServletÂØπË±°ÂàÜÈÖç„ÄÅÂáÜÂ§áËµÑÊ∫ê„ÄÅÂ¶Ç‰ΩïË∞ÉÁî®ÂØπÂ∫îÁöÑÊñπÊ≥ïÊù•Â§ÑÁêÜËØ∑Ê±Ç‰ª•ÂèäÂ¶Ç‰ΩïÈîÄÊØÅServletÂØπË±°ÁöÑÊï¥‰∏™ËøáÁ®ãÂç≥ServletÁöÑÁîüÂëΩÂë®Êúü„ÄÇÈò∂ÊÆµ‰∏ÄÔºöÂÆû‰æãÂåñÔºåÂÆπÂô®Ë∞ÉÁî®servletÁöÑÊûÑÈÄ†Âô®ÔºåÂàõÂª∫‰∏Ä‰∏™servletÂØπË±°„ÄÇÂÆπÂô®Âú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂØπ‰∫éÊüê‰∏™Á±ªÂûãÁöÑservlet,Âè™‰ºöÂàõÂª∫‰∏Ä‰∏™ÂÆû‰æã„ÄÇÈò∂ÊÆµ‰∫åÔºöÂàùÂßãÂåñÔºåÂÆπÂô®Âú®ÂàõÂª∫Â•ΩservletÂØπË±°‰πãÂêéÔºå‰ºöÁ´ãÂç≥Ë∞ÉÁî®ËØ•ÂØπË±°ÁöÑinitÊñπÊ≥ï„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨‰∏çÁî®ÂÜôinitÊñπÊ≥ïÔºåÂõ†‰∏∫GenericServletÂ∑≤ÁªèÊèê‰æõ‰∫ÜinitÊñπÊ≥ïÁöÑÂÆûÁé∞ÔºàÂ∞ÜÂÆπÂô®‰º†ÈÄíËøáÊù•ÁöÑServletConfigÂØπË±°‰øùÂ≠òÊù•‰∏ãÔºåÂπ∂‰∏îÔºåÊèê‰æõ‰∫ÜgetServletConfigÊñπÊ≥ïÊù•Ëé∑ÂæóServletConfigÂØπË±°Ôºâ„ÄÇÈò∂ÊÆµ‰∏âÔºöÂ∞±Áª™ÔºåÂÆπÂô®Êî∂Âà∞ËØ∑Ê±Ç‰πãÂêéÔºåË∞ÉÁî®servletÂØπË±°ÁöÑserviceÊñπÊ≥ïÊù•Â§ÑÁêÜËØ∑Ê±Ç„ÄÇÈò∂ÊÆµÂõõÔºöÈîÄÊØÅÔºåÂÆπÂô®‰æùÊçÆËá™Ë∫´ÁöÑÁÆóÊ≥ïÂà†Èô§servletÂØπË±°ÔºåË¢´Âà†Èô§ÁöÑservletÂØπË±°‰ºöË¢´ÂûÉÂúæÂõûÊî∂Êú∫Âà∂ÂõûÊî∂„ÄÇÂÆπÂô®Âú®Âà†Èô§servletÂØπË±°‰πãÂâç‰ºöË∞ÉÁî®ËØ•ÂØπË±°ÁöÑdestroyÊñπÊ≥ïÔºàÂè™‰ºöÊâßË°å‰∏ÄÊ¨°Ôºâ„ÄÇÂèØ‰ª•override destroyÊñπÊ≥ïÊù•ÂÆûÁé∞Ëá™Â∑≤ÁöÑÂ§ÑÁêÜÈÄªËæë„ÄÇ‰æãÂ≠êÔºö123456789101112131415161718192021222324252627282930313233public class LifeServlet extends HttpServlet&#123; // 1.Tomcat‰ºöËá™Âä®Ë∞ÉÁî®ÈªòËÆ§ÊûÑÈÄ†Âô®ÂàõÂª∫Servlet public LifeServlet()&#123; System.out.println("ÂàõÂª∫LifeServlet"); &#125; // 2.Tomcat‰ºöËá™Âä®‰∏∫ÂΩìÂâçÁöÑServletÂàõÂª∫‰∏Ä‰∏™ServletConfigÔºåÁî®Êù•ÁªôÂÆÉÈ¢ÑÁΩÆ‰∏Ä‰∫õÊï∞ÊçÆÔºõ // 3.Tomcat‰ºöËá™Âä®Ë∞ÉÁî®initÊñπÊ≥ïÔºåÊù•‰∏∫Ê≠§ServletÂàùÂßãÂåñ‰∏Ä‰∫õÊï∞ÊçÆÔºõ // Ê≥®ÊÑèÔºåServletConfig‰∏≠È¢ÑÁΩÆÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•Âú®initÊó∂‰ΩøÁî®Ôºå‰πüÂèØ‰ª•Âú®serviceÊó∂‰ΩøÁî®„ÄÇ @Override public void init(ServletConfig config) throws ServletException &#123; System.out.println("ÂàùÂßãÂåñServlet"); &#125; // 4.ÂΩìËØ∑Ê±Ç‰º†ÂÖ•Êó∂ÔºåTomcat‰ºöËá™Âä®Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÊù•Â§ÑÁêÜÊú¨Ê¨°ËØ∑Ê±Ç„ÄÇ @Override protected void service(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException &#123; System.out.println("Ë∞ÉÁî®service()"); res.setContentType("text/html"); PrintWriter w = res.getWriter(); w.println("&lt;h1&gt;LifeServlet&lt;/h1&gt;"); w.close(); &#125; // 5.TomcatÂú®ÂÖ≥Èó≠ÂâçÔºå‰ºöËá™Âä®Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÊù•ÈîÄÊØÅËØ•Servlet„ÄÇÈÄöÂ∏∏ÊòØÂ∞ÜÊ≠§ServletÊâÄ‰æùËµñÁöÑÊï∞ÊçÆÈáäÊîæÔºà=nullÔºâ„ÄÇ @Override public void destroy() &#123; // TODO Auto-generated method stub super.destroy(); &#125;&#125;ÁîüÂëΩÂë®ÊúüÁõ∏ÂÖ≥ÁöÑÂá†‰∏™Êé•Âè£‰∏éÁ±ªÔºöServletContextServlet‰∏ä‰∏ãÊñáÔºåWEBÂÆπÂô®Âú®ÂêØÂä®Êó∂ÔºåÂÆÉ‰ºö‰∏∫ÊØè‰∏™WEBÂ∫îÁî®Á®ãÂ∫èÈÉΩÂàõÂª∫‰∏Ä‰∏™ÂØπÂ∫îÁöÑServletContextÂØπË±°ÔºåÂÆÉ‰ª£Ë°®ÂΩìÂâçwebÂ∫îÁî®ÔºåÊòØ‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÁéØÂ¢ÉÂèòÈáè„ÄÇËØ•Â∫îÁî®‰∏≠ÁöÑ‰ªª‰ΩïÁªÑ‰ª∂ÔºåÂú®‰ªª‰ΩïÊó∂ÂÄôÈÉΩÂèØ‰ª•ËÆøÈóÆÂà∞ËØ•ÂØπË±°ÔºåÊâÄ‰ª•Servlet‰∏ä‰∏ãÊñáÂÖ∑ÊúâÂîØ‰∏ÄÊÄß„ÄÇÂú®‰∏Ä‰∏™webÈ°πÁõÆ‰∏≠ÂÜô‰∏§‰∏™Áõ∏ÂêåÁöÑServletÔºö123456789101112131415161718192021222324252627public class FirstServlet extends HttpServlet&#123; @Override protected void service(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException &#123; //1.ÁªüËÆ°ServletËÆøÈóÆÊ¨°Êï∞ÔºöËé∑ÂèñServletContextÔºåÂÆÉÊòØServletÂÖ¨Áî®ÁöÑ //Êï∞ÊçÆÂØπË±°ÔºåÂú®TomcatÂêØÂä®Êó∂Ë¢´TomcatËá™Âä®ÂàõÂª∫ÔºåÂú®TomcatÂÖ≥Èó≠Êó∂Ë¢´TomcatËá™Âä®ÈîÄÊØÅ„ÄÇ //ÂÆÉÊòØÂçï‰æãÁöÑÂØπË±°Ôºå‰∏Ä‰∏™È°πÁõÆÂÜÖÂè™Êúâ‰∏Ä‰ªΩ„ÄÇ ServletContext ctx = getServletContext(); //Â∞ùËØï‰ªéÊ≠§ÂØπË±°‰∏≠ËØªÂèñcountÂèòÈáè Object count = ctx.getAttribute("count"); //Âà§Êñ≠ÂèòÈáèÊòØÂê¶Â≠òÂú® if(count == null) &#123; //ÂèòÈáè‰∏çÂ≠òÂú®ÔºåÊú¨Ê¨°ËÆøÈóÆÊòØÁ¨¨1Ê¨°Ôºå //ÂàùÂßãÂåñÊ≠§ÂèòÈáèÂπ∂Â≠òÂÖ•ServletContext„ÄÇ ctx.setAttribute("count", 1); &#125; else &#123; //ÂèòÈáèÂ≠òÂú®ÔºåÊú¨Ê¨°ËÆøÈóÆ‰∏çÊòØÁ¨¨1Ê¨°Ôºå //Â∞ÜÂèòÈáè+1ÔºåÂÜçÊ¨°Â≠òÂÖ•ServletContext„ÄÇ ctx.setAttribute("count", new Integer(count.toString())+1); &#125; //2.Â∞ÜÁªüËÆ°ÁªìÊûúËæìÂá∫Âà∞ÊµèËßàÂô®‰∏ä res.setContentType("text/html;charset=utf-8;"); PrintWriter w = res.getWriter(); w.println("&lt;h1&gt;ÊÄªÊµÅÈáèÊòØÔºö"+ctx.getAttribute("count")+"&lt;/h1&gt;"); w.close(); &#125;&#125;SecondServletÂÜÖÂÆπÂíåFirstServlet‰∏ÄËá¥„ÄÇÈÖçÁΩÆÁï•„ÄÇËÆøÈóÆhttp://localhost:8080/servlet/firstÔºöËÆøÈóÆhttp://localhost:8080/servlet/secondÔºöÂèØËßÅÂÆÉ‰ª¨Ëé∑ÂèñÂà∞ÁöÑÊòØÂêå‰∏Ä‰∏™ServletContextÔºåÊç¢Âè•ËØùËØ¥ServletContextÂè™Êúâ‰∏Ä‰ªΩ„ÄÇJSPJSPÔºàJava Server PageÔºâÊòØSunÂÖ¨Âè∏Âà∂ÂÆöÁöÑ‰∏ÄÁßçÊúçÂä°Âô®Á´ØÂä®ÊÄÅÈ°µÈù¢ÊäÄÊúØÁöÑÁªÑ‰ª∂ËßÑËåÉÔºå‰ª•‚Äú.jsp‚Äù‰∏∫ÂêéÁºÄÁöÑÊñá‰ª∂‰∏≠Êó¢ÂåÖÂê´HTMLÈùôÊÄÅÊ†áËÆ∞Áî®‰∫éË°®Áé∞È°µÈù¢Ôºå‰πüÂåÖÂê´ÁâπÊÆäÁöÑ‰ª£Á†ÅÔºåÁî®‰∫éÁîüÊàêÂä®ÊÄÅÂÜÖÂÆπ„ÄÇJSP‰Ωú‰∏∫ÁÆÄÂåñServletÂºÄÂèëÁöÑ‰∏ÄÁßçÊäÄÊúØÔºåÂÆûË¥®‰∏äÊúÄÁªà‰æùÁÑ∂Ë¶ÅËΩ¨Âèò‰∏∫ServletÊâçÂèØËÉΩËøêË°åÔºåÂè™‰∏çËøáËøô‰∏™ËΩ¨ÂèòËøáÁ®ãÁî±ServletÂÆπÂô®Êù•ÂÆåÊàê„ÄÇÁªü‰∏ÄÂ§ÑÁêÜÂºÇÂ∏∏Â∞ÜÁ≥ªÁªüÂºÇÂ∏∏Â∞ÜÁªôÂÆπÂô®Êù•Â§ÑÁêÜÔºåÂú®web.xml‰∏≠ÈÖçÁΩÆÂºÇÂ∏∏Â§ÑÁêÜÈ°µÈù¢Ôºö1234&lt;error-page&gt; &lt;exception-type&gt;javax.servlet.ServletException&lt;/exception-type&gt; &lt;location&gt;/error.jsp&lt;/location&gt;&lt;/error-page&gt;ËøáÊª§Âô®FilterÁºñÂÜôËøáÊª§Âô®ÈÅµÂæ™‰∏ãÂàóÊ≠•È™§Ôºö1.ÁºñÂÜô‰∏Ä‰∏™ÂÆûÁé∞‰∫ÜFilterÊé•Âè£ÁöÑÁ±ª„ÄÇ2.ÂÆûÁé∞FilterÊé•Âè£ÁöÑ‰∏â‰∏™ÊñπÊ≥ïÔºåËøáÊª§ÈÄªËæëÂú®doFilterÊñπÊ≥ï‰∏≠ÂÆûÁé∞„ÄÇ3.Âú®WebÁ®ãÂ∫è‰∏≠Ê≥®ÂÜåËøáÊª§Âô®„ÄÇ4.ÊääËøáÊª§Âô®ÂíåWebÂ∫îÁî®‰∏ÄËµ∑ÊâìÂåÖÈÉ®ÁΩ≤„ÄÇÂΩìÊúâÂ§ö‰∏™ËøáÊª§Âô®ÁöÑÊó∂ÂÄôÔºåËøáÊª§ÁöÑÂÖàÂêéÊåâÁÖßxmlÊñá‰ª∂‰∏≠mappingÁöÑÂÖàÂêéÈ°∫Â∫èÊâßË°åÔºåÂÖ∑‰ΩìËøáÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö‰∏äÂõæÂ±ïÁ§∫‰∫ÜÂ§ö‰∏™ËøáÊª§Âô®ÁöÑÊâßË°åÊµÅÁ®ãÔºåËøáÊª§Âô®1ÁöÑdoFilterÁöÑcode1 ‚ÜíËøáÊª§Âô®2ÁöÑdoFilterÁöÑcode1 ‚Üíservice()ÊñπÊ≥ï‚ÜíËøáÊª§Âô®2ÁöÑdoFilterÁöÑcode2 ‚ÜíËøáÊª§Âô®1ÁöÑdoFilterÁöÑcode2 ‚ÜíËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇÂú®Ëøô‰∏™Âä®‰ΩúÁöÑ‰º†ÈÄíËøáÁ®ã‰∏≠‰∏ÄÂÆöË¶ÅÂÜôchain.doFilter()„ÄÇÊ®°Êãü‰∏Ä‰∏™ÁôªÂΩïÁöÑ‰æãÂ≠êÔºö123456789101112131415161718192021222324252627282930313233343536373839public class LoginFilter implements Filter&#123; private String[] paths; @Override public void destroy() &#123; &#125; @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123; HttpServletRequest req = (HttpServletRequest) request; HttpServletResponse res = (HttpServletResponse) response; String uri = req.getRequestURI(); for(String path : paths)&#123; if(uri.contains(path))&#123; chain.doFilter(req, res); return; &#125; &#125; //Âà§Êñ≠session‰∏≠ÊòØÂê¶Â≠òÂú®ÁôªÂΩïÊï∞ÊçÆ HttpSession session = req.getSession(); //Ê®°Êãü‰∏Ä‰∏™Âè´adminÁöÑË¥¶Âè∑ String admin = (String) session.getAttribute("admin"); if(admin == null) &#123; //Ê≤°ÊúâÁôªÂΩïÔºåÂº∫Âà∂Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ res.sendRedirect(req.getContextPath() + "/login/toLogin.do"); &#125; else &#123; //Â∑≤ÁôªÂΩïÔºåÁªßÁª≠ÊâßË°å chain.doFilter(req, res); &#125; &#125; @Override public void init(FilterConfig filterConfig) throws ServletException &#123; String excludePath = filterConfig.getInitParameter("excludePath"); paths = excludePath.split(","); &#125;&#125;Âú®web.xml‰∏≠ÈÖçÁΩÆFilterÔºö12345678910111213&lt;filter&gt; &lt;filter-name&gt;loginFilter&lt;/filter-name&gt; &lt;filter-class&gt;com.postar.servlet.LoginFilter&lt;/filter-class&gt; &lt;!-- ËÆæÁΩÆË¶ÅÊéíÈô§ËøáÊª§ÁöÑË∑ØÂæÑ --&gt; &lt;init-param&gt; &lt;param-name&gt;excludePath&lt;/param-name&gt; &lt;param-value&gt;login/toLogin,login/login,login/createImage&lt;/param-value&gt; &lt;/init-param&gt;&lt;/filter&gt;&lt;filter-mapping&gt; &lt;filter-name&gt;loginFilter&lt;/filter-name&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;&lt;/filter-mapping&gt;Ê∫êÁ†ÅÂú∞ÂùÄ https://git.coding.net/laizhipeng/Servlet.git]]></content>
      <tags>
        <tag>servlet&amp;jsp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java OOP2]]></title>
    <url>%2FJava-OOP2.html</url>
    <content type="text"><![CDATA[ÊñáÁ´†Â∑≤Âä†ÂØÜÔºåËØ∑ËæìÂÖ•ÂØÜÁ†Å üòõÔºö ÂØÜÁ†ÅÈîôËØØ üò≠ No content to display! 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]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java OOP1]]></title>
    <url>%2FJava%20OOP1.html</url>
    <content type="text"><![CDATA[ÊñáÁ´†Â∑≤Âä†ÂØÜÔºåËØ∑ËæìÂÖ•ÂØÜÁ†Å üòõÔºö ÂØÜÁ†ÅÈîôËØØ üò≠ No content to display! U2FsdGVkX18z+Oz6xu0nH7QAqU/ZK0jPS2kosqHOhCLE8atI+i80fMqGCTdJEWky581U48M4nqqvp8i6UjBow/2hfdn4Y/vrbhKl0Xg3DXkb0S+hFE8oaXTUi+b7i30kw/CEgxvMOUpS+I+j/h2ufePL9Z4FmzX9Un6qVPqIEMRHMYAq+oI69HUrrSx3TMTMzetdpCCtQgXhmPxIm05DVNyWKQbXh29OYbwVv/H6WzvUuxXDKhAIRzEPLK85ZlkFgm8afEhrpXTvk2W7Nhdszjy+wrgooa+dJCqb1m2Eoq0Iw2AWxl36Gvnbqrjl+n0rbCW0q+0D8CKKS81s4PtadCpZT1XeiyKhB9xbqomvHP7TxrOO8DxzHcxw8myUxOy1+a/7S5oTXfFWEHqNvwXqVMnV0kNq7ZLmbgE/+wT3Rnt5N3pU/PBkX63BYTplgVbbjPVfjFtOwmm/nuZVbAJKuCGKA7AVkVDdkTfTKOU0quO2R7NaWWnUQr2ajlTEW0uymbetrvLy5h1mcBkelBkzvzKqYkreTsq2sob35+Kis8rj3h3WQGeZ9LLt7z3aItaNq0q6Z9BIa3B/NNAF9SdaU5+kOMP8NRIbyo7L2OIN/fikr9y4jiivhn3AeG5M9A5+fTJGRWQYQJvBFl5fWha0Bm2MpGNesYw9U2UbDl1tnXnATkZOVwt4bbZteRtC1eAvCJjYXJgh47wb9aWHC+ROfdVNjmeB8Ddzv9wgQit5N6bW1OrXrD111eHPXqFIoarYdi9CKqwZfxdQlBjoexQjyHUIYiZ//lfgp8qF2ylLE9icoSAkSNCbKdN8ZR/W+4q2gZoDgywKCUFPstiXrrfICVWgx1HPNXISB0vaKNNL9v8Bc3bQJWpso779cj/tQBO0oMsDRk6eqFlQfMc3m6P3u8Figy/UtG/g9S+lSrhvIikAEE75HsW0RVB649HWUwVwvQlvn7DI3atAImODMnm5yGYGugN/Xci/0OrPdEeopGX8UR+FL9vHcqPTwA0WSBPGYTcN1XzhbC2i5EwH4rNbTdcqGFJ9X366UydtuzivkCZdxtdL3uabgjKCbpqSdXys7Vle9QxkeguH5ZqkAyDHolauH7MIUKBYxlyqZfVPgBxY9Xav29v3kd9g0MjVjHo+VCihZvbK0ETUt8JB2tz7xRsoSVjlZffru+T4ehxX3SBlL7GYsnFF923/pjM5mm/NAxsB15fF3ISD98T7uh1U+nW4ONqprRfU2LDduVUO7qcv12Uy1NWpM4FlsW2jab+wwwyFltvzJl7AH3fP/0AP2mRYk+L8M/ObvJRFFie8TYNw9tIe2YFIpB0iZqRHG8AAYiDhRxHOyQJRPrtvKrW9X0qIJi/HIDY+94nWXrqFIKjKbumM6VCUpm2M2EJw8nOB4jEtrBCkN+n6b5/pyqRMg9+OOv+ypt/uHy3AVnnpHRSTiKIyGmb59Oc1KZMHA9Y1TJ/yukkO0/rlY2PustOTn0/X6ZUT8gw+/889ykZBToE7MBteddzgkHDHcsadOJoVXc0hoKVkEI6I1UdemFRC0ZuzP/8S6HRvfEt5IlRp7vaHzkx0Hgi9TeGdtJvzOcZ+E9d0FHz2msVrNyoRQuO1j5beuQ++N7px886MvZ87tby3SyP7YoeLusFAj5o5tnbJvDRmEyBGpxGSw3ozRnmTcFkCKPg/HAbW2PYyANthRYekUA0Y75MSIs777balmaRFXcB44qR4I/T4kJ4FwVRaqd18eM7HZj9AFmAWzMB/Ag0WpFwQxXeDm3skG8xYGQP3fxVK0lCi6FEFGSOGPMmverWMpgUcMgjotAWQ1ADReHYLZHyglL87ISRSeopyQjwyfgl781uDYSacX+u/RCIHoFBiMK56dgiRuaPY9YJMy/D28LZVsC7VVCoP7dFzteQTalTe8WwrYs7GuH0VRHDXZQ53L82x9NU9ekIH1kAHqXLMFTYENzVEGCbXK5ZrBq8WxHpVxgIN3dSNf8HjM8sLvwbKxs5yFldBCIf4rSAo2BTbInTs54pLwBZOUrToyQCCTvWJFtnyFdD26xVax+hyOEy9RpiJzfcu+ufvUro1H9oP9L5cc3rOrEiBNAVMlVkUxmX6IP34b9UQZFioueVeVdluBQ+j/VJGQSa3FZKHWERNHsOLbLcPTfr/ISdA0d0EkvH3eRshpXjxpcqZk2mXU5hUEQrOmoEkn1nPXup0KaLQXU4PFfjwSoKzMOEsEqChC1dIKr2r/j/j6J1QBXM+1ZgwkKAYZrcjYuhDcRZP+6Y4adD1RH9j+roQBrboh41y/dYCOR6FqdyXJrEBhyszmtGRFPVNmUjfyXUVjE5AyuwlV7c758LzfDWP2daLRDD6PFXsszTcQ9T317NoL799hIXAP6azjFJgZIkG4OY2VwVeSzhutZqxLNR1l4c0ErWsrpIVGKG6RC8I7HqVUES1N3HJtVSGWSNoieSqaZNnhugIvf0ft+G2BtbgSVXmn3vUr7IAN1L0Cl2eAQtXvMSbzSPuYj7E+Tlgx3xJB9Wbj9OqPzwHSPe4F0ZnALgfCJRUUOqoG6TgDHy2eWkGc5uzUP1p1h9uRqH6iiEBE5xoS2Doo/K8AZL3LJ/fb9vsqFivannDwPQDISyqTzpAXGQsK+cOJs+s2D45Tk/wl+idsGptaO2Z1Kqs6s07osJQMENgDVhC0PL6sCATVeznd95WpdlyQJ+2KKmVc4HUbvj1vR+lRpm16PhnG7AXqzsAnqAyQEUSoqxqm2QkJwphGZ5Y6+LH8itlgA6t6sKZlKYDIs9L1d0RCf1kzEi2gbL5xrhWsc9nN2Yf+q9mV7oZgXUxOtbPcq7FcDI7EoPM0weTLpS8BndAqYiws0YEYW7g6z6KcQCUEdFxNM9UUFgEAAfSmwvDSom16e4V+fIxDA+Bxn4Z1ha6X6dmFT0nMLw2MqkhxhXnxREsPJlpcdXhJ2a35396upL3wt+S4SG4xP5fa/ApVt9kK53RNFGJN3sO+WVKm15Sd/EPp/dGSuQ/5LpjuLNrnhnd9eHqJ0QKPVNVW/w9nTP63JjEzamrqJHW+lL9L4t5jlyBHymJwgbGYLp797+Adqs8Ez+RI0Q+/K/CAEDFLfKtRctn2cHVVf/FPsFAcqDfJ3eK0oonIOLX4NN6cwmsGmDedtHV66hYFxfkaJVrVJLORcahvnchFIWXVO9kXrgRpz4mZM7uDt7fVQQzJbOIPor9qcszctEFqiSIwFs79/J11nFVAZaA0vV5U6HFjOx5YPa0kTF4ZLVFa6opwv0/GWwjocfkdUPhrja5/9dlWq+dAW9jDgR637TMzdSX++ySGUIdq/pb2N7VsP4qoHFIqLumzCLtjTg16/YGkt8EyAVmlMPaOcZmh1oTRX38bcLrV05r9Ls8XW7JDhnd0cruXjtbGkkUis/Ll6vZ1/rOhFRxidNcY0s5G9fTN6IZS7uatcKGyfVUT+23aGMtQMpz1sfP438NHIICBcssBLqmPQ3t151anKYCh83wQ3F0zeHw4PV5hV2cBJOulgRm30vl51mlY2N8baYitAQMbpWzsdQcderGqFJetiXrT0I2KOMeLYfPCVaBecZ0oTJh5n57MOo6575jhZ8yjptNfevCaU5Xzlsvu24wKDOaC7FX12iuYfoqrq2/QM5ZXO1RHcTBRPqQXK0uoe0EOvSmx5v/M9VozNUnpIeOKrDKNzjYv4VGGWoOZ95/TBMPJBsUf3iWRYo0VkkL8dRD4YagLAObr6fixIHOFu/DvLbBG4yekBslDtrsiJ/T7wgfjztBPnuPsTQbfOeliBmK7IE7OzfL33kB5kci43X92xwR9Ts6jzm91px01/+RFanyWjmIRKrFOanKzU4GAxORrqDGYQL186r898RivUTeghRW2re4cFQhbYuAVD5LeEWDLe/EGRhuMfAOUVgrLoJiIuHhCa5Kzl1EAIFpcjQheQdewi2dxYSKisLKDCAxa1yc0fxBs/epbldSZutYmtxrhabqkw+ksWqm1wpb7SbtdEQAGRkihgm1dbo8QigQr2Sh1noYmbJbJZnydG8NvNRvwfhajpg9Ri2+2x4Whlv7KK5Rz6hTCM49LM6qKIaqGSc/DmVKpfP2FO1lGnTBsQqrzbUGZ8ZjlSp0Rrsb7LBgL897uGuRB/3zvCu8Q/qAIFBrxLYQy2xIjxoSPLBA15G95ZWqaIyOohyO/1zzBE6XnR2/6QfOH+KVH3oK5c1YlmGQBzS3LbfWOeYcDGHYLIGwSvPhrwvb+DYkMKdkgUCIAwzcnwPhtKiOepxsg7UjHxvbPQtQV7Zxw2UNWq38yj1hiy81ryOmqiN3FUwDNIqMhLJlGew9quI7GhPxlNt17R8+8xYxcn8IZ+RNLgtLk8b0vYIPcdjuy4zZJVHIe0JayRx0ckXkYv8lO6AWjuFoprsGw73uBvpbbzCOLvVxE//HoLgGafYbSUjlvkfwFDUPduSNOrQFb32HoGIifh+J8L4geRw5pbjmvpxyQBZvxt8Vgf1LpkJbzR7bJ9YT0Wlm0IWThGc2wsJp3Oy3MdOD7O5FGsNnQh61ZuSVt3yBxgTS4ryOUnxTNmr9nmxHZYJEGXufdyg0Zvn9cIbszjt3cQ/B2blUB2XqiodYrjR8d6LGOdZ845E4X+UDkOe34/aGIKp3YIflKgrIcTwlgeeZUqGukLdP2zMlQgXRMxknNVMLX3u/vOKY2CPPeLhckCGTHBStJ60FMDOlh7YGCZKo79GWDAE9tdITJwVe7lj+TXcd5IongoD4ubSFvJ5Q8ZJ19CAnbPjaQHFBgnNb9I5ipSgaC24HFIQvy4a5MsF0OQ81ra6o28a4RSEuggoXO1Orkq3pU93eFSspZUsOa6IyUydq4CMsy2zAQql2OD0CuDH6xRJlS4XeLvXiGEsHqPBAGsCkQomuWNFbYrmTmycIIOItCusxi5iVZZZfD58rQxaOK2z4Hg2mBZPJ7XxkY0qAAYWs17gwjF+kc9YPv4gsvhZ/SN5eBDvWxIJgDqhu65K9DuKmcszKrcu1SYEgtAezElUgs53j5kY2pDiQmLUJAOOrH5zjkqUsgW/qfdk/JCWJGJaigwkzxZzZxhT9O7boM0I60OuEZAdPf8B0XGia49zrw2QqIJWWVNBuEeos1DZIsjOOXuKy8wejNbs/RS+4SrE/XfEhxnunDr9q/8qjJ3Kux/1H9WtkIdx2D0Eu2euURstz74rNwngZFtrkTy8nPwcCqqSa55V6Zxaa4Qjmpth/+N0iIAl/VUo5Jw18/TNDXBv+uuMDV5FyTGqgsVDDMzh51k1oV+e/lQi7I3mV70fmDvpi5uwT996IzoEEs2KCPI4b0JOmS3SPNxyGkI9imdbXydIwkIdvyg0Xzmp5kHkmMCjZZ0CNHeYdkslTN3X1NN76N4GO5lcGEthumHLgLV0a4sneB7UevabIHSeoWDuDCpHQu42aUVZvd21Bjo9FyhePKVwgd9+1X5pisgw6O2Km//SngI6FOk9bVPW9CqMBTVm3ZYAHPURIuGqo7jUbwpocjcuH/w6VpLp1xIlCP+qYvsftKBoKnqBYdWvBOat7bMQ65TF0jIbffzrTinYt75FJ29QR/ou7oI0OhdK/2LoRK3n6FFaMXzS4FjRqAgI4ybL5dpt4dNfupFR9OvttIrtYqzFcKBSKP6eTORTxe2YUdwMwf47Xtlw5wyigPHDi/q5J42Yb+M/QWeeFsjLV+8J27FHS87X4JyK1ZeaJaOfRsGrGPfNmvN5oLGVKIPLOQuUl50R6ejzo0SkgxdLeySNHzEI7icoTVaMc2GjGDop5eZB09nYDrzzIfzpTihUq98iMIADife6hQCunK+hCT+iYFMH2L7dp3LH4aKyZHl6XVpeJTx+2a7tiXfFNKP/EjctMk2lnPlli4jJjMJphtbvispz4Ki48SC5F/qpW/zMUJ+0Rh+e4k6epGceiDQhHUjvHbcvDafkRD9L4vqbD4pkssaE6PUPojoRgnW4KvXRtwkLPk3jpDOqQsp7mXusIy9WVE7G0uSD6jqjOJ4xRaJAKEW5igkCx7RG6jYMXuAxYXtyIstqQf2+b3V84+M/bLciOyPBkdKlb60ivqvhLkHG54qJfa7qQ1h4+y+XxdJiz//Iw2IvdrsWXZtFmhS2qsBnnbrbmGS+4E8ieWeeUVvGeJJ5cNtB8dwqMADmRehBRUz8PDKvvE2B0mlQ5tZm6CHiRiyboK5804lsRcVFFL++5ciaMQgM+sYw3mC29unyJcLgW6sxZczmqD3B7f56ZXVmcVteP+DlkqL7WpGUYMm+RpCq3/HERk4DTQFR89XAqR0zYpWtqPpGsQzeXoUdM6/woUH7Ij1C2XH59zNdjXn9lGbMTlO5gGk/PkBbAGq+i/gyssSfLbJyf+jpiu8hmCGjZJuU74PIWL1txjh0K3YEHzjeU+o9PPP/JJ5oaHOSTT30nCxg8Q7z+/E/tFRkomK3rRbiM1yGcry4V4BZvzxNdk3F15uOYf7UC9hl1ke/7ljBepTIEbPRoXNjTthnzxWVk1gJ+69T+89kTIFlzp3BNVTyUj3GriOKagnC60LKhR7KTpmn6EKav8m4+bngtRPE824OplreysIk0C2MmrFg5Cnkh9jmWrKBjwHQLaq2BMQgP2N/nFGIFMz/5QUBJU4UHTfnR4aPMwXdlAlS8upN5AItQrL5euTd8/zEKMrY5qBlFHQZWSScqUAh5if0pSvuy/UVLNnDT26wERtqF+JB9AZHvGro/lki7OCUk7JmO2dj0n32a/pkHIVaoHSRMKeBASTqSRsMMTy+wS5kPibC9B1p7Op+WXtMdujFaTqPsw10zNVG1iShjrj2WA3qHnJHbBNwFGgVP2qj+ONVIf0LTg7imK5e74QHdgSH9F9Ft5CRzvgsX3n7FRpUTaQCNxXfwIg2HNnjil6oTYs5foShY91MFGZ+aA/PbYoGjzecg53N4YKygOtzHXQtkoYglXWBnBWnj9+/J9zw9JSKSzZJV+A35MiyyjuprSpBf/DZdm3TJCqbixitda+eqRz9YoG2fpKSrMRr0kKqkQQFz39OEpxZxKLSKb2M2p43U3c4TsCFg4AQ9OT8h2r+5muZ3dSGzfcMYyNUpbDA9rH+B+mUQ6+jmXrAcQVyp0dDw5Q4w+3tqP7JqFYBsZWmvW+RKhH5AL+ceF6RXyU09H23MpXKjNOUbpZEBm4A+4WYOBPwPoxtp9wTtmI6dJ3lvpQgx8shf+XBCoiBbpARUcz56ik5lHVjXEhU0nXpkwKzGHxfNEk63OEI36Dvtqs8U34bhcm6yu05eeCNZwToYuS41EpRiOId/K12uNrOTmZ7Va9rDV8A7+q+XfH8+x76XUbcEyaB37sLWk07wT1j5/uf5wjTnxtu1TDmcg9hhyR90RRhqsSJTQ8KPAbj7JgbnRGdjleGhJFLAuAvOpP1e9b7qMRuyY/RcGrBm+63trDRUrgxD0+FzN2eHlY/25c8U0c59q1XrUeJ5I20l+HM6GGMKyT5vwowOGKLwlJGDtblxra5EbbQwwR97hge6dWThQMe95VCDqyw3isEZBdfzsBm35WO5ZEwq3dj73eU0uLlhQUdwH6MMOqG/NQvcEmomG54fgZF5xGeuVSKMrR/R4gIwdBIQLZDkk6EHqNXfTWMJmzc8lhX4HEVVUVeHpjQiQA/VBM8fXOXa8M68P9jXeZN1roBX3+zrP2e5I563uHN/BH2JXrk4xzY+bqHEchYnhrzWuB111x/T5D0zwrNjwW+7ms8pePX4ObDQK4aNt+8ze9WDCeo+7UmGz5e89+dKTmSNVPfgoArzwgzCmHkox6TuiLQUbj/ITsG883x4A+RVv13FzOCvf/Yg3v+3+629SU9toTQRsFhi27rr6BhQ+d3jmgW/Ii8vISKbrYK2SB2m5duaIwiG68kNlUB+6N+FxmFzwd/YcBKcTrgQdT1lSxajF+G9pmMXssTmTG1oehNJxfVcsZm3gOqCD6NnieBry05zVRG7cK8T9cqbVnXMiSc4R83qVrXxDFtwvKX7+0V8lz+gQ2FE5ztDKgTAnsNTWMawAtv3QbrIPfkG288DnEPU4p74efZtjFBvjB86KLNjkpqVbTlPXsR1+w/K7JrRbrb8qvsB11+i2eVwB+vcOJXk6tcPeDsiatBhUch3N5XmHSLQMdiiHfPS9iiUr9ONse3jXOo4CyqQIgK3ytxu0OZ8crKEY45c0AtmlxV52J2+jhh5u8Ua4XZwO99eoyxJ4ZSesry7TKH47KSOeCQCwwPk6EvMNKVuhD3WkHpCmzkRT4NkYFTA42xw6jsyc1WZ6UCRDtUSlHKYoRTyksGmYviFbT59t/2k30mICSGqtWe+glmMBWX2WHYE+ulmZw8IxbIcj7K8sjASQ6eqviTrBskJsEd5gbYElIRnxw0VXk0HdbVvq1gyKO8AazBWomWatVgGz/zSM8xFVqrYviqbpTwtX+9pot1dXw+AUbWw2xfp3xojIwat7ZUNZOPM5FLC0pfIu70TROEC1gTC3Rykn7bcjwWjYNuGb9Dv0VAWSqPKiPGaCkYmASIIa/4XJKQtncNMuwBjPJvCMA+/YmFZCy23mdytbfGH7EeDCmQiyYR5lOrjTgQPwh4G6V8gWydNhEO/TNryBH+DJsyefqwioBbOws6WfrXye4zbxQBE8pvBQdoblMu5qA7WmTA8I0NN32Km/xAwLplbBgqRQJyBH1KuiULzI4GZcrWNGo/cuorY2IQrzsDYas+HAeWL+iq52b3ErothdjSfQVw00riFmnkOJmcFJx+RJ3kk/jRdRdBUU9itsEjtdC4tjGTqmylyIAbCfQ7iXDHWjUWK5hk54i/9a774X9UzbF9QUDJvnHAbZb/pAtQ243aLV+jBH7WdsX0Mw/QxcXGLZyIv3OCKtbUODflAgS0ESue4KFZRxHIhCWADavQY7Szzc9X06eMFg2ZnJC+QAm0A4ZaY0CHJuv/TiuVSs2u9ZO50XnYFUNP5xt4rju6QdXRrmW1mM1dDUhS/ZwX9w7iSyoE6IRW7P1uW3mxfbKrGVzdG8YcgaYsHHHAYEM0nXPLUGgRZNlzT/hahr+ia9eg0ZSdUlkc7Is+vy8FntkR3jovMoOw0HUm9np0gFMBtr+5zUKJ8D7JCKbL/a2paYUQtTiIq3kJRXUcjf9AcI5VlAIpfSfYbIQA23VUNuZ2U9p5+uFY6wUk5HpdajBidNzTwEfRuIYyCfdPeU9qC5+tos2eRS3rV/8lT2SVC7ZMepwqlXXLE4mu6fD0mW/szSZcp7Bp403G4Rw6hWAI6uBKwJ4xk8kjdX4iNSUUNuyvUY6S/nI5+bkIOpiLR8Y6U4J2r1XeGQZBXWor4vByO2ujSi+wK7E3YqOImXX4TV+o5A9toT3MfjRWI1atHBTB7A625D63k/i8S2IJWhI6BuPaZ8HmwJEGde1Sjn33XZHWfdffAHDySgfrM3VkIWeNETwz+kAcqb/JzB6ZTFhIvldFpWxtE/cteOCVXEm9GKkwuM0cnQyJIA6KzvfB5vyze5RJPNV4qkNHBsawgSf94Tu++bpthXg7CyhnL8XEU915jJPeQTOTyrdqEz2IluCV+2US1emj2zzcDosEg99TMSZsrHTVTte3YMSh8Qg2gMqGvIJ2Hbm1l7rXbGtWCTDR9GrHt4Ms2eUMwO77+XgXpWbmMPTHIbqT7UFgR0xaMPoDUa5x+LQiwpm8KWRZ3zStdtxna1Z4wxRB98vmzLPRUvX0mmHLGkPOyErTI9xOuyvHrfkIxsX3KudiLaxUA5ZTnz13e5rnXasSLuBNboXGXGCSNXprNIpaIBsLDgOJVaYW2QT8b5bPXJl9LGiG3l/FhrtfKTntgnBNu4ftE70XS42lYJ1l+1CoWYeavwSi/jv4gn2egULfuLJTGKpIR0nDn33iFjt4lODLtVVN6VK8TGcq1qP58gZq2H+gE8iu/z3D66Zh8lLQXc54mrY27dUjaR/4d30lYgB1ubiGdSbjxpU3KPOUTl+wOTsrATotdG5vnxtNBFasBoDQRMKhVXc/GiUwoFiZTG6k+7bP7N8dxilFSPG+0kirROeuAHWOyHn3P6EglcX95if/WfCfElKRH5jdl84aJU9adedgk36Xwv+wakIsZHOCcGKDipNcFlnGkH492LiN635yjB14x8w3SSdFAAGmhI4O5BDPcB8JSkBY1f4vQOACqt/E7GPxIKjEAipFndmdhe3XZAWoF1V1vX649BYg/Sdi7u7IOU8euqKmrzkb17Vf6GN1P1BovXOXS3Oo7PK+8UXN8WKKl20BTbQR6+LZykqo09m0XCBeaINIME0ZPPEC1LZcXDozHl6B0CeuNyQ+dZ0gXbZtTMDSIIjI6X6LBLE/bfFWVUaXpLW2ocZU3yM/qg7pnamfyCrdFoVLlxa1RnDWHzPH5lTxP2rewzkX/Zm1NXKLK/WyDJJHhwdV0HEKk33DwxnyJaFoUtXU1/2gFEILfWlY3/AN5GJu7EDwHpD/RVugOVIgMldZxM6eEH72/DTMRx/9Pkv8HA2O0cDTMukcUw6b2jH7VmCOhUXFynvYvKMUken543lK5xa5VJXpkelx8XFU+UdtLaiQyqpNvtEkf/8XXNzoRj9SJZCAymvci4mWn3osls1v9qUHhG/E5F03ngp39LYhFvrk9TXpUTS98NLXuHM4zpcy3q/33zTanX6btyVJk6zCTBbEoTCwuSFXOMEgDTij78cWi0SBwwNju4liH8ntM3Sn2ZaUUFqncE6kP20fHnf68W198WvdG6R8X/0EKH2qLdiDLoj4+JS+novS3USYBqKk0yvq+cU9fz6qADXi2g/BeJAwBZAFbEFG/6013BFrM7IrgkhSXP4KOg4yJ6RbTXFb0xo9TaV5+x4ZmjOEA5B+zNQ6BcggF6XNpPk44R3oELAmOfF5DF9lZWFplLrutDjiqsX5Wa9pToW6bQJCwM+/+2BQ4ewYwqS3rJ5+Y6KCHRpCS/j2b2RCv9Mua68qXWk3dgVSSySrGzeqxxeVoFKfSC0UKiCNTZP3ip04UJFMgAwWR+7WwMdLF0f2MwVKiEiMa89CTTG76piC2NkA4trjvI2/2R8gNQwfnIWy4uD2GyeuJ+4r3EbDJPwNyqFJ2Kszpo/DjQZjUMt4fOa7aX1QmHnJmKt46JrDLP2Et5MgluXIUReYWXcKotEahumDZZlVTcGNHyoZCEyjid3tmt6EZd7DAANbH0dbQCLhIL+5hVQeylPhLMTZSFqPykLL+0OOYRFNPuiRsSbU/t49LghRi2r9oPOj/2UjB6id8DdDJqboLaQcIH4aM+XXn1guPmOuhxJ6dF1iJpWm6SY22Z7F6Tnw8b7pSOmUO5IiMxhxETHwppW5ssYsBQ6m1aEeMbb1L3+KFXw6Yt0VL2Yy3OBljXY3/MmSqMO9iH7mOvxtzfCPrNQthmmjG4o9kOtWMRjglLAUlHxWbtDxGaYEz30M681WVrpOxs2kbQuwKz7wUKAy15eBVvNjljJe0iOTuFtx3+9dhzdwV6jRIDTeDnigo4OHAn3RavQCGHnAf6dwW/Y2exvLIGeCxOQAjB1lh+G+NYD3V0JwxWIq/dy7hg5kuIH7lyp9dPBp3e4iB5kQhAywyQx6s6OhyGT54kRvfvgJ7FheeBsBaoFmznLxA8hm7vpcEdlBH7Jy+k5F+jz0d9p5HGt+sphJv0MEkMdvgZP8c/l/CZGFZp1LN+UUuaHydeUzAdkKhZmT39I2sc40HtqLUwt52gHlBYGSZsOHEoJIvvPO5kMdXyYE0Zk3igRrRdRi05tr7TBVRVLNg8sJ8TG/QwbedihX5y3O8adsL3hMnacTgpT6oksaKKzbePwRDdG+Vxtmp+rS40kzFjmlXMgXz0JJPvkW9u3cKLaeZFMvMoL6bZ2LrjbVq3DHvAW3jsS1g3hM0D8k6Qfe+YYE7FstUR1LbEbbJ8oiEkMkX0NT6byJdurmUXqcAm1fDgv565la1o2s1bhCitmMPYQ+VrqktenqzRjebdJ6uVELOVzoKxw9vws1T/G3VH0XOjMUEzQnRwG4CyLFndjyInPdJlOu1ASemx7T/gc4QZ4+8v5OWPvOYNqLlON3J1gDlCJr3joSXjUlZGq4LBjHFTlWg99XzVpBEyeai8jo57Q9u3lJdm59sBRDA0pSty2pBDhuiiERSPnI8hhd5yvsmnd8ysWYZ35yVvKpthk+bcIwaEiyuOHraQQZrjmst04pNBwfvoq2fsouboZpXEpFgfwiw4kzAtT1+G/MytzIFWSqjpgkmCyMT/pztq93iqeg3wF8mQz8Z+ZsrXg0C0iBVFbGCKJC9zV1fYVJxrC5ZNuWljXTCj/+U/mr0nRvfEZCOWZFtvrTO7Iz+oUgbb9qqhi7sx9LECu3J9eTR+7sp2bn0BlRJu+hUH5o90a1+lUAHQ0tuJXEn6R6IQnWKT5qTsGbJzR0wuKXGGVBzeuvN8/1LNlHRHy1ZekIryf2OVFierqkpE55zqywiPeBTev55LcT8oDafhcgZyl50bz5nu6ThQ1P4RlhK6oymt8WNceNgWZZQbq2299EYSi269gs1GQkDN5bhiRoUjn7wrZZmS3HcQaS7u0xbfMYjD5toCgciyMYULenEgiUnAj/7nj/IeDUWxV2V06bOXevEnarcLmcqgJtOZVtlvYerbjiymzjX5F2YmTn4iYKTvbOCmuCto0E+FvnwWkXYxqHGGYUO+pIjJ+n7jzpXA2mpF2xn3HEtl2t9kGuvZOECIR9UsidNx2HFCaTYyZzJ70iwjhM9ruEGfnkVt2oZmqjdoWlAMICVUmgnOkXJXRXpGzE5qDtisGG6QP3TQhRLZPp7Judm/ZSLV3cQU1tdLif3z/k5nwgpIdQ4MyUo6x3kHbmVGiyu+qVNL/6RmajXsmxDukokL8Ry5lrGOs14jF7nPhAIhjJyc1BisUz4QlPGbd80vj/DZGy/0ltnIfFYzg3ThipwMIUpCSMo5dk11ewcgxgXy0R8+Ef/I2znaHEKH38DgVKIyvA512uyWchXaYhXVynSTAuN6cjSbNeYMqJCoTLkGfrnssUlrouXY5Dcm7aP39P23Nkle11ABKrC2lqDZF/InbWiz2tujlUu+ZQnZ2DOVbZAU9dWY9vEvmzK+aN9gUh0dJHIkSbrIdTS+NCnP+YML279ELEai/UuK6uArb9JKzc0kJ8TugqkwndlC6Hiwaheuabch+LJcXthT16motaAZ6i+vimg35pzt36ditSKjbG+sUdOjjLgoo1zvvn0qHUC+Jpk7M2I8dmmC5iXF7miEejY0UHJo2fjHRNJy2JtxJ9SfPkf//JODQ59yTlsEBTT/GgeJa3lsIE6T7mAgSRTKat5lhc8f12c+r0werd2F2N8GASdNTQJ+7HfRdvmB/dPXawxGJrmmuJ+lpFwTIdYEuNwWSkJHh2XhgxKyxuNL4BpgLNw9x1yUJ5MMuIOPckxm/pTN4iHFK24HT/GfS9YdyeaTwGjOPJWvwUZgCfExge8N78O72ZXtgrBg/Lw7yPCrjz/tAGoOVLJDo7eZr6vR9ijHtq0r3gfaNap/lI7tJJhMnZpb3V3ZA3Fo9vdDkCAwvkO5nlMEALKr+9oiiZvpBhl8k3vPR624KObnNcCNKTZmX4/FZxX9l4Ha456q2jviyx9J9x9jAIJbgH/avEaP/TwzcMunsjMWO1s5iCJZ+ZUsR7teAqEefibIekbuOBhsAIs2BVFq7uJzkPSj7sdY0cMFRIApdXkAWiGMdny6sGepkzWgDsPcjoXZH0ex6MrvyBgGicu4uDtcRnJ4IhUje5dLr2+sYXQ1au/eeHKXZJHSo/kpMih8L4dwDrAL7S/QmS8wGSl8TJCfujuGDY2vsYNnq8PIotuxSkr8gpxYVMa8ceD6xs52BhGW8G9lqMwJY9kNgcn55WbbuuA5mXpyoTHIjHSLOjC+QkTwbO4VxcG3EjNOiwb0NP62fgM/rRUUWHEaD56yUX5PTCniuH5yAmnm5UA1bDup+202CPqixSoU4ipqZWJxM+XiMJqkqCTmuLkdAzMVQb1uHymypIn/ZePe9hq8cBKy2ncNFPnoKlD8hb0bTPJoul+s6ejIbsBCSWQVM7m0EZsHXAo9/kZMaGBbrxw8Fz7q7Ts+MwoHFFlVTCRozKjSu36r7PXM2ke/fsxoZLYULWAKsmu0E5Zm4/wMMJIKRxHkee9yptPNdDg0AsOSJ0ZKePstHzmStEASAR2t46nvySKv5U7s/UqS0FhIB7WuXgywg/wEetWxBK58cwBbQ+0tGB4QSgalLeafFxIPWxrrGNH02fbfP/dXrMs/3huTXycC/Y1IRAG5cnhSlAX6kekclC1ljiTQtfKdnMxIt6mpV3ecjbdI+iUvUJcDATna4msHBoniijjBgKUcVDcVCCwendwtFYTQ4bi0fBY+a0qamCl+w7v8HQE6vt+1rYZH95aQPajQTh12cDkga6w7nE+ny1kY0gW5aFAnLZpecL83q7Mly+qqti44fHomU/1ubXsK7RWOsAGDuWzljmG53g3kbI8dld4xtJ6uZXQtDrBBnutf4fFHDL9c8HD4I3pNDmX6cx2zWsnOLGlwRzqRCS8gX5m7w9hGzp/iMBnQ87E5Tsp2jSCyJmG25n2fsdhJYZeFDOj7+iN/5BP1YOsWqncxvBJ/V5QYG3baoi2sVcV040Jw5Z+sZ9GCywPJArvO1NRu1REYR3mtOLs+nKR0bZKpbYmMFbDlHnoncoqOaTfnkJxF2NbyYfiNX00gmHt+Qt+IBb7lF77zeoCvxTCBdyRZfDGNRCwCTrNGWnUi+JXzyWr1Dj7VIRPZViY3bzPvpPuC6THMguXFU1KN84fKguIDEHV4Z64LjoQG/JPjX+pJs8vOoMsMos9YK8sL3+r3e5P3Rne1Pev1hMIWBmB31YjMJHpvuPgPMP0uUfMv7dPNszbzKWToDnJNxy22J9Wk7P340st7Zhkxt1HkbSLtXN5ubgKoBnO8uD5nPPhRVNo/TaGrkBYCgSIszGrz/xDvu6c7XOcxTScfXtavom+YqfK9+NC/tpEqRN3EuGLCB0z7kqDnf92EA4osZCMxVcS8v3+EDIJToFeOIRxTd1+tdGe7P/I2Lt6pPZoqEAdKG1QPxGKUCNqm3p6NVj2D16gPhfDakuiNDFRe9Ru1YM0eq7zxnqGSSW0qbPK7ynhx9OMaey8MMuaIA3hqSSMSRbKI0bmfzypuxoPMtak5D711yB78mypXXSF4NBwxmm90DVFmBfIviNPyM5B+XjZioLOsUAFVcP7gqzR7MwBj0bePfaqUyX3JMd7grf5WTlu5l2NBW6pkc5rNkARgU4DugD15PtNct665O3BwrTF7wY7SkyYvJHv2WWg+lMAl1mc0cymVTQ3MOOep98Vw4azcrLlV3iqC//HxeoVebIPvRfUz88Lv83gEb/PCd3ncb4YXivVh9QsghKHpTojMVJbjGfp8pf/+6x1UsX9y+TFF2Pa/NxYPSOx1rbNALjjmpw46QaJSELs26Awlp+9pQ4YzmmlKj3P+qaqvKb5S+Zi71yUGvZR22GBP33dWIyW+qLdIAv0bTLZat6yIddUibpr0F5Z9zdweu7uBuhD1UZ2O1zxvlTXO2uCMW7t230MsWw09VIpYg8r082MY3dCr4AWe2A30OviV7efZU+A+YLDqtBVEza/jz5r+IFA9ziNOIsg3SNUmStHmZ/j6CPHAuB4S6nz3jcEtGnIFGJglJtX5aBmp/Qg0h+ZK3HLvZEON7oqbcUFe06xHN0zKXAE3brF2MUPrfN1EdgMK1cmu3a+NHbIASZR2SuCN6tA7bnV1rF+yOwmmwdOXh/J8SW8A2iu+0m9NERlB/L2k6YiZ9B6c0JofATo50aZeVTpDaHJkBp3bn/l2omNMu+KpmneXQge8FTXkwnHTQcAWkaWq6c0I0dz09MM2lW11HGaav9tau6tBxrxg+AXB42DLQ/aTvfGOntqbsDhQ0E4ZXPIPXyOz5JUs4ozNcT35pv2m/3MnKR09GiYZ0Vs80pWomnJJRfn7QxAcugIhOuSsE8JS8U2ela57xkOky5xH/kw6TrQaejcggyoGVnX1gceyXEdRCB5lfdvrAX6myGrnrsQP0oVpWgogh9haUt31BrurPAH7oQDyXpc/CsYqAASvubdjF9Ru5Y6f8TKhxIoVTHilQub4NW7YUD0AGiEko9Deu5oZGu6l7lp31YZxjLypuiSlupda3SU0qLEvLLgo26nx6SQgQHGF9s2B1WhKLPsRAI9ILV5gPwaIMlcRaG+FgVpKzxVKfYoRoYdXuI+fwKGeffq4v6h6gcI3AhbfrEUEXLqWTUeBTo2Tpf+HVTwyfAFNfJDSAdpGZgpeozruH41Ir3D5o23i39ihOXB4DRw8cScGbDWAocRkBVz6CgsIS6i5t/9078Gvn4EvHeIRUU/ocOEsbPqTyvq+z2U0Xa76YT+nWONvUF4MYYf+FaSEfLal72A4dkIGtkIwOjwwgcYXr2V5+1MDdX/HodRZdHB0ANm+9fuW6isAyVnU0ZjAkg5GPBiDgi87WAh6w9B9Huaa42O5oHp+i7g8NoHhHPrHDG7QTw8ZcmVHSl9Vr27vpX+vZt3TncZV/tyLsFzmd9fTDKHcYDwXVqxWBNjx0tnV+069hbk56SLytPO8MW4NrLYK6/SQqRhb43A/gTBKpNFNIVXLOj8OWeydR4npnNt5F7Ucdtv0pbydc+KWJUzBiyvnhKzKg8v/BVTzPGy33ZBocI8FErmlF54/EWOnd1eRbcLHQutehvGjUB1bvh22oKTeGKNt2RwWADKW9mCQIf/tX1sxUd4ngskhAMXUonTdY8p9Fq2PfCz+WOAcWM6ABC7xaT2EsuZLN+WnQHLUa81vOnUVoxArGGBDQEkM9dloTUbhwjmSLyf0rzcBbD7TbA+GezactuuKR8E18TE69ULhVfvuNJq9rEwGF851HYoOD9rmuRekRUSqjUMrIuzv5Jg4sJEyCYF/Mz5PjtljeCQYhAMxGpsM3McpA56eP6oQKw+4Y9OUTo+ujhL3lNWq9W7/zE3MaG44TF/XkZukkUjipb+r3Iy56FM04DDrSO5k92WzY4H3SC1wSACu6/BoPwZ51d56ORrfkauTLLRouTmiyOPTN3LM0jacQIfvJBUoaYIi4DWwutbJF5PAHwi5Q4JQ43DpeJVujAN8RlNM41x1A1/bbKecySmzHOx4+Y0Lpu7g/hmfpAyOtn6REs08j+kFi3PhzWiIiqV3xurx7W5krfNAMDEQUXUz2PbZOStG4xOkWhkwzI5xj69n3DPvW3hRq8nWsb1U4kaakkwF56TzjkfIbgwZMYc/fPyec23cZEgpWRUQh9IdED1Rag/PfZjKWhkn1iVUpjlAXpb+er8ECzD/X2WFYWVo5nOxdvAmgqFV7I3IhgdBK9440eyDoWacz4GARAscKQtfSB18I4FvDOuac/pn4QDL7fYrzyY6nXL8H5emAPqSbU2k3Xamdxp8rhxXQ2z2+emH+BkX12QDR6nlKeaLuH2NKBrzqHn4Hg9DGmTa3Lpg/otzrNh69C8L6Wj1F9AzoIv8CXBiAKyNge4QyMtrNtExbXNmVjvYXaFeGlLrEVgt7Ufi3ACQfwP1821uhcNtdP6DQKvvzOrE/JYSaKawXBk6gPazHWFUzx+2jGzwwMkk2uN01AGxDBgIfqZvsTrWEzIn1nEE6MvldHCNFvMNqy/f2O6oZm6pHk8eozo1VqOpBvQMtFgCV1Atdtar3CgdHbDcF17SnWjmn+OyfX/nJD2RkgTSYZFtp6852ypTM7uBQBXTCygwYNE6oH5I1K8Xbih3C9hxuhESLBP9/173eOIU8GFX3+uax7uO86g3FodHqjjAZywx27IxdbUHFbjv2jlUgD/zE2nND0Orjmlh021GdMX1muVCzOysF9/CiWRLY+3Nohd8AnfnrmibZWfGm14rxvMSpQacNeKe+/h1awcNL9qfOg2VY8HiqWPHHh7NBPwMp/pcGX0YD4FjnuqqgkX+/KvDZLUse3mExBhl10fIxBEw1KHqlWQ9CLt/JDhFfRdeG+55gg5NwGnbt5mnejxN66DARILfcFycDH5w+rz0UMrrL+LHseWluzfOkv6s1gGIu0a/kniG7zhsOz3d68jQdrUhr8G2kRPu5sS7Z2ECJeXTnJ7iah58s8tREVIfo8sSiLPYK+T2tSid3Hi70gCO7fY66Du9wIieJQOCKtLKoJhlOsyT0VxRPGqp3fkCX84z3m1JE9aSKc8Elge/MmWAriMivbx8yQfyv/iAWIYQ3YJmK7ojO8v3lr1NxkgMETJhVM0g+Jrs8363BpeUprqn84x7k3DFA/C9hkELqqFuP4X5kImGI5PD0EZBG5RM3uJxmwQwTtTrwfv8l3F0uBzTnG9MFjpcjdFtE7bxt42bV93Y0XSFV0zDm44Qd/hwXyM9fN0UggZDCnSuYArCT947FmMVIknoF4+qFdhRweqb6iAmB0RbP/h+Rq4FqfJ84gDkaI5i5ZhMkwKv+mNrzRLMwkYnK+7t4E1Hi2jce5EAN3Lr+ocQrKBpYflXZ/3mhVTLpC0fEqyYBQTzJNj460gVKl6nHJ+8Z2Qg2C4cgFjtq8/tjsmMzDssXTXu1PK+2FFg/opYZPtp5cpDJglT3b11/suye9dNrb7bAz/3gP9rNljLkRQckMzlMqhV0XeAN9UKEzunH/ZtRevaFwnOlHhKyjdxpbRzZm0oyUQMOAKIWWR/Nwm/YG/Th8a3TtgOFttNw1mDT7/H0jA8hsYeDTAtRonqlyeGl9foO24nfvY/NWr2+saT2gpO2IfCAn5m/l0/u//a8WIGhmvxXNRJqzvigCJB7VyqzwJNJ69/Nm+dw1KNkKR0e5HDZ1X0mI6ONBEfINMHq4CCXTf47+jtjZJp2DgUtIdf/OfJFazYkweIxl+24+51BcNHzuek+Q03S5LFh0/10YFspk2OeLop/EZ3BafB0HXEVZ7wI0BhR8McGzJOldr+uYzA8FufeS4muobjwp0MyfZUn5ZbnnCy4ohCHgECbM8DPLH/VGIlq0cQUvzYope4yYvbXx8/CD0EzmPmu9MFPsbsOIHkwsuZHYwYW/kWHg3VaYUIUtmWw3wGmjV/nfpdWAm0GnUKaP7iyPqbnQjfG4gLYSw4WwWUW5sfczxnpy/2L4ohfZ/G7ldmOwz6bYiSqjfjeuFBle1LJ9Nvri10SU7X3NYWCJoQSNI+sQsRldi6oNdEvcQYvMXOQwx/tie/ysYlG2M0B/p9OFtZ15d57KPceGP3ZfKC8w1e0rIulN5nTYJiNPm2iW1d05EijDqvCAzolP/HRhxT3gEuJBFvwpmL+3wbR8VZq2TM+wTFZWOeZO+itjvti0N56QdhTb3nnqIB0f0ma10mJvSa5Eeqb7zvS3mTp8wK2aS/ijIAtBI8MDxAsU3stfFTc54GjnXmI3CP9T5DDQHJuH5sYcwpYtIXxix9jbVS8USytH9SpMV1lG332xFTYRVowxScc6T3NbFRnEkkysP/HWzC1d3zd9rv+kGKGFR/FZmIceBciyT7zkOYa9NJL8ky/rxhCv8C+ElGSAcdvMQOdhetKbC2lccBVIi2sSxxQ1qfOfm9sdvHOq8sZe9DosqSxkFIUAaRMQ0IqLWrnN3Q36iEKe9bhb5jAf6UmFm2FVH0gsE8DIqHLwW4MZZlcRgelKmNiM3wtXnfYp0mT4LooAuvNwbzVY2GG6r/PRwraCD3jmJrEzDT0atxZXxzcKjTeCJwrgifGLsxW1rpSn2JgJDQKnmHSrQR1CunI/yiMRG4f1L8fjNR1WqdKowQgIGXHuTtaE6CYudsE2Wvvft76B28sHmPXhRu76xm6RFXwwHU0e7WDnKCsKx8CtkT/8CyHrhLUU1PTS6z5ZD8kaOh/R9w+TR5qtouBVN8VOGQUutpFekOEF14pIpEGCgpru9MxU4hFlKjwHGLItIgPGVHKXQzX+XUhfdv68nORkez8kDE57hjQlq6bWQZt2pObk25XR0yu3kBqutUvWO5bHr6tIQXCI/RSkoI36cvbXGIVL9SYF4Ol6gMRh3gj4+2nYj1ddUaGbSRFg4Qjd5/Mtwg38oQxsy2M9cJvoKYGPFCxvJWsaA7prgG1FN8nIwBo73qrRaJAIjYQLoSne9dwVQztwlu1hViRYcnmBDQy4afzSOSuJk2drejDt9P+LcVwyc+wgVsrgt3YhIZE+1G8rfRYXzoY+4gvnf1LT3W+igWxN/mdQPZWaytXwJK7AKMdHDdaoBRqhcAS6Yv1/BVUQ023FLefem9iA27A/yd27Qqk3OF14vzJyQsA0KeFVz74eKf+QPdC7qEm0IZdV13JD4ML66z0gQCBH568BilKdF/Fqlts+TV8mn/a39leWcWqvVJt5X0AB+hYRmDxOnM7JIe+dL7QZigGsf1qsuBcML8yQ6Jl4PbQO1Yxhb0935sbUUQxJqzmmfrhNtP6tkyqm+sKeAzXHUve+TjrqJ7MVISkexvOhqqCYIetVOhOtv+RzUtCBCowczgJSkjUxYCwJxMML3a94DwbTSC3jZevGOmF0/5jghkRH/+tMGLOnlmuNmSiUA4/v/496aGNF3Vbui+QEwaXmL1dncbVddDos3yKCKXdWYdTikXhAdQrD98op1qdwXC84oIy6Y0PYUOm7193gI1+uylVxn7D94GxfiNVYL647G/cmLyFD33K61fATnG3n0ZdB8gTCR9qD8j1o0g/rban8SzD5ecyevF2dEzaaJ0jIUbuLCjaP9E93o8dhnJ9TidnBwwLVKPXELY1PbWvUZFSsl9j4R+AkeV1k16CE2q2RiHmKg9UTRBstY1y9Fg/TPP4AyrQz0JKAbjB+PQFkX9PmBFKDGKLi3rUmDpaf3zWtgV2mNDH4VgHEsdsZ9WBdnBVR9rl26knreFZFzWJfI5NuaX8ETbNFVl3lKbUuoGnSt2/RnEHPYDf4PsRUm8/6DxF0JUQTfu49pfHkv8snhRM1K9LPtszYr32xeleF+vDe6DSpYtaYiFEfYuGeZ7rCSFdHnb/EdKXorCmge+gWnXVoexEO1gsp7Tp40nFr8sWlgirI18YQ/p1cJfkkdz6anwLXdlpUsLEhFb51ZewYW8Qc+yzIENLJjvAtkVGrnWTYaSe0OAsy7U4oFWZ3IL/qnIZM8N9/UgFJEsJO7f45ny6CXDBiL/m82V9SrAcJWm+JtgbW1vIPba/0dabD/hXyh9Gf3f1Ggwftr5K7W6wiR4eVn82zhWdLFy97sDqOC/z54Y1DTuPRQ2J5UMO/IN0iifVLwoHK4yAX2o1XsGSIUXfDjBVaEegqETuFfkcJzlUajoqlx5N+IsyD9E6ywnaDhjE9NiQDvebgRDjjAmOcbgtLHFzsPBjvpm9mFRZ5vIUFKb1GwB6TDdXAlU6zQEfqbLRWIe2DyaJothYA34RUdy6r/Q2EEu8TNLAauxiXU8ey0u0Ko+kAgLMKQfQy2avqDbU0KyidjOpw//ZhpwhPWMmVJs7PCL0opjttpx9PNwbB8wOv9Zl4sYQcnuybS4LqwWnQhxQ6Tx2YizCdwSJbwLq2RiKYsrOO2Ct7K7qvB3orEpXauXw60Kzg/ucCc56QH027l1rMtYysETX2jFZbWxriDjpiV1zaMr1dlMGtE/y01mW1bsB0EfBjZx7rhRfJngbhqnv05tpPw98xP8KpIAIG1bzhNXHXIKXOidvUELCKiFu/Aobih9vGxAN09XgYiHO0NBT7sqoVI8pi29HYRfHf8Odkg5m3cSqgcu56LqY5P98GVKm/34qKuAAXYyzYqN2LbSbGVG+D0o+E2SmRoljbQBCngzpTPyCnlc+jYPJ80ptYWSOjiTTBcOdA4g8WpkLwfS04buYRAFSgWIi2SI1wVWonhvr7h3+Nggcv/+ybez+Uf0c5P9gLQjwtR0x6gDVJWdzZ76UEDZvNZ/z0eKdYcGQ4Q0uDk5JfpLTn384xYaa06Glg3bB3bU3ujttVfzSqhgTO7cd6CBKbDRSmYJ5XXdoC9G2iUM+kD1u/OaSoPhcnQ9zV7WIW/FutGprGegLlgqRGvP13pf/qokUYyTYQ6lO4UBdrAZGYnEgTGkhnL3LTZ2j9L/V2+YbzuY7bptZuklnh9MGDIM+idkvcbLKYu5SKBc9I0sjiKo/a81YEhyZe3Z3QXQ7gOvK8T8jqYJeQZW6Ku4nNfyY3rGkrwyqS3FsSXterm0/7d7OGpsbjsrgIrCkz33qmyLgitIab2ES/z19gYUNfa2EaKz3XLSJvTTX8GSuan+8WXpGhOY8TW1KYiOoVX8Dkqr9wHd2NC/+jko8cM/aH8J3YVm9PjYpoPB5z28Pl/MYJ8CxFDzMFLNVmrFsNE1xkpieuwCNx22AGc7A5nYq0Zkhu7WEhUR2mTuBaPBwxVGgJOkRuo/AYz02M0gZXIUkY5S15iU+mj7v6/hu47U1cbzJ81acILX2MdTEYF6Wfum4f/goxMfUsIGvHapx6W/JsH9GrHhQp9gTHMzhaWI7eolUe878j0k05fZyZYhFmlNZ33F2PXiCghJ3aV/MwFfRK1Y0DLWrB91wne0fpDac8bUfk+6NRX5fZdMRUs0yrkHwM5TkQIOcxDAp/HjCHTVwXN3FsC0B3pOI2KZWr0L7PFvn0DFzYoYu0oaOcuw4z307IlrpeZ+c2q7R6s4PSTEFmQJRdMRHzpOvEKU3b33am9uHjSICsVFuBPNGf9GMKRBSIgU67TWrn1Xtcb/mhgbIz2w7vbGS1AC8pS/+ArIOTIOweFclrQ8Wmj3igypT8JqVOyX1qEOZuGDJA2mhAB6CKPgj3qD/9r3NGK1x0Up6VpnhKtkobfs8oY6gDHQ2aerGRBDfSxR6kEwK+I2IxnGZMlcZmsTe1HMtFH24lvdbpW5kEnAuzI2Dwil/43xtAXssXOpoKavn2poAzHCkT1ffpEducX9JZODg7Q6hGLaDQ/Ed4U9q/4JygzVdKAXGuHu0NI159MYRnS/nYWyW4QiWNeM4kaRpyG2rrUBsMs7CMSSF796qH5wl3kCPEIH0ya7SyhbvrX+CHVySnztJm2PdQzu129EjI/APsjdzPG1Yv6T9M/at4MN4QwBIFvnAkCCVdO8FtXNSbvZQzmK8kD33nzV3MljOIv5GD4+r4JcxCBlW5CRPov1fWU2reQSIRCReBiL8GQXbtIEAHecEz1rSrwk17w4vLc7Wx4G9H868UvpKUUALMg+77k0Cp6ae4nPrbfL2ZP6RBt9Q0ujWuXegcPkypu/3Ri4xAu7Z3UeA9RLj0ag0PqMc01iGmxRG2Ro2cOjU6j7BK4rrSbbI9cqOyepOpS6ES/1uyftrHbK+LR4sf9WbK0jL7Uxq2NVm9OC7l+oxTC3JeOamGcryNhon6j76Y+qcwuB+PXpR0qPpLDtSaYcSij+a7RNU4no/WRd6MuxXiNdBIjAOVrpJEh7+k9ktvEGOs7uhihlBUkBTt+WmJmVbN4MJBMDiKCRLnepQC3ZAb0/dojDpG3UxIONQCCHZ5UNBsZ/Ld+cX1bhoeVSkOozisKodjmka0T6jiB1n080LbnobNcV5ZaT5se7M5OuGyeGI1zrm4QsGPzKlDcGSXJX5uIHm06rwdjoZRg4EvutLw8Q+tNcw/Q9IsAvRmZ7lTYj3I76NI1OFeMh2CCXOJnn6gIG4UQIRZEb4d0dB4+tlc9xYHi4Z68Ihs7LZ4QYw+nrjvPeVDzhXt+fgWymdK9UFffCOe09nPAUFhxkA5ICDqoQ3YZrJCb8PPM43dYTQNLQ0D16dmXgBgl7hg7qEhc6YjhMcmhXnuV3juKb6Gx7knF+Mo935/JyLvaKTzewZcR5eMR0Aih8rrnHwal+847hPiGB4tZDf0HLBuXYse3kEvYFogXTKhNnHlVnBoMGe9n3gvhdLw+q5VIkT6sCUjV0uMDKoZIxSW2Kax/i2sJl6hSzSG48xepCwyoDoYVfPeUL62mJjyYI5LsVxe7Y2P0WfezDGqEpJLw27Vc1oNvuFLYITjSxo5uBHi6FM8B5ALQVBcIjzze6VsMAeaT0iQ7AYEGSV7L5PZ9dULtC4jiV9uA4MXnwGQXcy3VDCfw4D//jrfFabVS7k3MskiVSHc0Q31r7sXbxhVf6h506fmJ1Lfwl8jzygYeNkfp7V6t9HOCRidmdHPrN4tiqIWf94S98aJ1IY+DRhBtocEvLulCDWgKbhNJb+Riag1E+fJvGy9eHYkrvIVseDaZEHASa10yZpW6KYE87KbwmSYZaQFA9B6QmM+lkHil4rS+R9hvkWHNEaJtdhURhsf6wVNk3ubw0exXIHkX5EgSOGC1uQLQNT5TDxzaDsQJ1h1Vb5pFjBzn9Q01hYYmWq9lEMzpek6/eZ2u4xT4DI7dl5pcN0qfIO+Q3oYkmcGgLqGoPQ/hICqMLGKopeZtTuLzJ+XPsYcfYGJjMEBRjMRCii4AsdfgilPqQKRnJVO2FRXlkpNLCbKlkQ/LBHZ839ZiwCptAcdAerCCS+Whf0aGazKhaEO9ghQVxD55DOTNKkPihbj5iyXQ84rhy9qIduplZsVAknP/p8FCaN2y9HpuMRDDmBOz9A1doWYzJllwdWo7dB6yMHnBDZm3/jut1bAdfSHAGJwo/xfRPHGnZc6jDi3gxGwh8HW+ju9cILNhwCEjYIyaxz3SrAmjZw7SMz+b/HrUACGT14XlDTkXR0wofbVY6StNxbtGw5PSzZSZZMXMsr/O4d/48mIql27yef3uPU0i+kEiATn0b39/vpgpomsE0LbjQ+xrqdNmXa2+doBA6ITafCvQetVYwrjlwM9vHaYXKhatONX4FHkVn1o9/X5WSvNrVgu11n8lsJH4tQLOTnIMsvwB67WF3RttyQdjR35MidAJFRf1WhYdFdA8To2BM6lkKhGXKS+bR/ejIBN8YPl8mjIQKpe0O29V+LDrgb3O/VzYvEvWe/BzEyGGe1+GsUY9Kst70rx1ZjMjYXqg8CgMESLz7rP7XwuxMF+Q6YWus8b0CwbgjDZJ/XnUVx/j1bl7WJkxOxXv/frG1hjgG2Ki2CZ5G63sTKOM8pU7bAOiXyN1gGUOMJn42xPzew8jF0rMwwLsE8qqFMhNKnpK8K2MqkjVxTDSupvP45ze3TbG4RvMwdXzZWC2wxUx0QX9/FqawqILSJ7lipnbAVc2I6pyLdk6XTX4ZtUZa7c3FkDz+p/4xCJ/fsP9GeS6eYsH05s9N8SSXoVEFJyZy2u1/KG+CxmgdA9sjk0byLPq0T651a+dKu45g+IDlPzirZ5oqk1Zh9Uh2h3KbRMBziMw77y+UKOLhoHbkjzVAK1PusHbRWS2bsng5PjM6O+PAWNsaGJ8FvvQBgGWgWLqJaj4M9v9H9oKyOhc5ih5ABhzsgwZyVopL66b5zims1NK6LgVsT+q5SgF4dedy5ULUEsWeKh9CHlq9Jgvjx3TvlYnXPavJi+eG2OMujeevbFdWwc8jMdC/f7T2vHvTwW9DHvI4uXbiVCzr3S2IDOjc7EwdukIBVMV5RzrcbCzXCG6v4qLnvFjVXiwflfVmJ1KD25+G8MlR0givTDUWSRBnyL34p5lGKTXTEq6NrhGIU3gVR0Z+oaDdNUPU7vaPRaMWbbHzlerAn1HLl2hlOGBJXdjpcXNHbQNRR24NNbsg0vj6f4fz37oCsYGOs3eXa61jq84VTe+Cn7gOG+f2EkCPI/+A+a1Gk17nZEVa6dsdgnT1Dl+lQXmeRntLIc1qpqDFIDTr7j3kQ0/f6E0qnoJSavf0ZRluFImPqQIp0huMURI2QwWvmSEVMXSD9Vno1u5J3O8sqZvdsUhi6zI/OetdM2lq1gEQjuNcU/rIeqCwsR4MZVEuCXhX0NrmEwV9QhM1u5O2D8ITE7SkobfgTAfD2NTmRs/Ko2ie2oPoUUMDEUI1mcdocLzA50Q0aEOkcf1LCDcbHULrzFs8FB4l6rqSU4yHCfxZal7vKvEn9H263GwqqoXMxw8seOucmT5+VUHUXEhSUcXYOCnwBGJ+KjE81YAHgVEV+2oGTCHdLFjYmlSKHxxR2ajdNl56JvVmIVMh8KoWF1ulIhcehhHu3lq/L3FetSzzRIiEP7Ns8f3a+m8QafE0dwVjrIHyU6uQ7rw9qqcl38abkbQO77vNEAhJvCSsIT3Xm9ZrNT/ofCuzGST2SqchxQITLQjW7bvttMgh7ro2J0r/SvN7+xQoBbEUdwtGVeHb9y1RWPXJsULU/ckpdMBtC3iyb65NpJlr7Vc3OsP64/kQNH10aeQlgiRnpUzKIcSThBPcx6tZ+IeBRWUw+j10qg07BL9NkIht7i4aoLIGyJKtNXSJECuraqat7P/NiE89WMctQUYIz751bRh4wUUv2hhOG5BJVzSx3OQNK62El8CWB7PpOAU2vdhB7E2Bvz7bMYr0Qo+1ggJoMhwyNjhi0TCO0rYNxfbJWumZNDU+oTybi4jbTms6W3fo5Ko0H77x77NQ06K/BDEDrBSnfO8XWYqZHJ0c1bFaOYo1OXuqIq8vqQ1AuZ6mFCfjDNSrZFHCD9jo6P2BD0BQ9C1iOA4psumaFTl+d/sFZjvoKdczBX8dqoqn656K//JHAdfjChSjKw//SL4kzLUDwsLQp3A1kuIlQ8nTAbiYDmn0lo3D6+QWMBzG5+4XiQve92xiir4Ja04yhBjC4Ei2bIvMqr2Xpejs658avVar4UZNQSU2cy1j+M/XCHc714i0K4Hs8aCNf0ak+NGOCnWsHUXRlMdcflJ52U1MpagDC7pQo2hJuiSJi3yjvQTQSZJYV4P9FGkEX8sEXnpHEtBGJrkvCDs0ZsW0LN0QWxnQpy/ulXkqaBy+496clmAlkXqsx8bG8II0uQ0v3Q4CPDr3gMZNKVpG9M2W5FbNLokTh8WMZejveE61QKPXvw0F0k4XMQQhv0rcLV0msQacTVmRSVPGikaEWjXhoCvrnvwEJokhLbb36tqlAlgpJQUBTCL5O0HoMvwbsPo7QZeJbuH9I2AXN65OdH4+aEqmQKpMcBDa8so6nP0a6h6MIm0RV/512DHGSLhv8fzzKF5UoTJ+P9F3LT/+rGKUFHqy3tkHAU9+7vnfCs4MGxRpLWqAR1MjdfghM+lfri4qG87sQ3fXRWCgf4U7xdFiFxIYN3b+2wmRsSAJ6JHbCgTx9sj4MV8Sy5RnnLCGxfsq30CHD1B5Kq+mpGuQ9oprJRKhRe91l4JAPS5IiJbo3CkIntkAufM2FD66ZyxfjOgU51qMv1c1JRq04kUI78/YQEsjCzGYkEboQ40dLqNgB23CcSDId/2HxLSNAhFo/xnK5IjoiSwWLfudtDfBWA5155sHVCBjr5D8YK+/bE+Z7M/nsL3GVggwwnmUaaxgITJt1aFCWrobp+Bp0Ra+sOwYLCOd86IiDOw/Vgx9YJw3Rsjsr01hQuklqr8Ve7TCF1mCMT6pXNGqAQqBRnZE9s2MMqZCbvrTYMP3+zS+yw0Qk7s89bkRf3oAMjTqBmiT9Ggw/dH3P0O7/ku2IorkeTYKvW3J51SL5rFrw1mGwHYFl0+w4fqeLaTfFVBoc4yziGmYDXQDQeAV5z1bVzl73S+eiT5I3aeBdBEkz2Tn4c3zAMiF5nVLa4hTR7+Ow21KoJvYqeZkWp9RXpbEP/VeQVLyIfyflUY/5ofdffKGivgX6dzZluO+gt7RLVuww0nakXtbwgWePzvRFxBcePHEXYRE7B/upzUMws/bLHLfc6WXwOkeuXr0uzLFnebm57k1l/ola0hHWDeeBBYacXybLmNUijBxROgj+3GMf4YW85OWXSORIKlL9i1bHAscmapInsr82JE7qDv61e5bHB0bNwkJ7Jpz5UVicrmvaJpRL3SXkddj1YXdj+0g5+C7nsAECQzYtwdqIF6ha3gXwggBVBQzt1/GJJ+sCO2rHFhpp5o1au2l5CVrrPp2rSfIyLVP+i9OhCqpUy/gdjGzOqTlHkAynxFQIV1GBMPuYSKfVyCVlS4Ln2wYLgRr5V9okhMbURZUs/a+h9HFqZR6e9/wq8iOoKr1bD4LS7t7xEc1EJl4H/uTQyhxE4RBcyVM/RoW+4wlPW3MsRXEUNkmQMo6wEZZLubAgZKUEYFgcx7xNTnh0Aux0a9TpOWI900uDL995Z6ExXo0iy4j0XIgRNu+QwhNzvxocy9kkT0L6HX3qMMcFJMkdf2ZKG/W2I+nzZV3qXlVhfqyi3Y5VISVgG+zz+KaMZmK2vZ2jep8H/EqWtsGkeDOy6ZIktBGhiLtntab7I9HyXP+nuQgZZTE/3k9AcFlwACodUrue66BgyzA5B2mIDLl76eOJOYdt82eT3MbXaeKLvGGvMvZrQgH1f31icTQ+Ei1fcD/dTnMHi+/5nwcaRJwiiPHowRps5DAGc6/AJQhUYSmiQsMWEMl7WmkFSmG3/2/NZYaioDuMPOtP5L2KLIfX7ojEU4hQdgXuDfoCqGHBeeruKvmMxW3i4JqJ67kxcDV8eKRp+EgmNCIVJ28pDx2zKhnjGuzXmlvA7fI27OIMTxC48X26MPDvChu8jAVv+gxzWcRQt1yijCBQXgNTwSueI+EgBZy/6bzJ2ssj9QJqr0BqG5pAgK0aZB4z+/Sx1jqP2aC37yGSWP/RpVapdAL5j6YS79KzjmFqpxLp9TCskMvnNWRWE6CXfg2HGz1WxyOznoRyXIR90pPXwNLFbakJhJTETHg2nNMLOcky/ArXHyPTzhTZtjfAgKq70cvXPHrS5z+PPKCDbJIkBekcsIuMzQP4vc98nufQqGWuztpocx688aj1c+spGrHnoBTyW3jH6hl1h/Sn32YPMvWWiZ2Dv2hjjsTJLG65iQcx5WKOdu+4AFxXt8rmoSgdKl2hcsg15bJpa7zNL4+oFu7Js0MtQ3kPsdeEjATvgbrMi2xK3URXlBlRJX8KVKlD3Vj1xAJ8mxoGXE2eKLX7GhlacaDrcZ/fCIHLvjwertQGGtxtz8SWRoaRceGJdUjTO73B5l0Yk0XM0EgGvDPwVkQL05LVmz9RV56a5rYCLcg92DUwiimlbe11EtZhxSEG2dYI02HliCct3jID/za1o9qlIn22nBuJPm2C4mABAP+BWHgL0De879GNInjXFCuOSmxeyHb6jR6cd0K2e2y4KtZz2Zy6ZmGIBBe/74VLr8WgusO8h2X0SR4+WOV9TnPH/ZjsZmJ/RpAotoio6WRE5jrSZvQ/GmSHy46B/+9WcpBdRK9CwNFSmSgBXEkpM1lR6gJba+x0n0FgWQzcvJf9Tl8i6iGwdXWF35zMQwychAIqHSnQCNcWO2EsRHIh04ipkJfeHVjpY8Ns/RgrNIsHHZpqPOR/5r0G1Ss+yRI+8dvNM4fgpCTcDgrWiXAZKnTi/xHOr5g8WIARnyA6PvuK3SrqmlI4OjmMcHAsEnFZa3fCGfOPEVSpbejpgdA4561HfX2exlUPjgpdpnrQvlPO4YwYhOYHmc95y4/5KwgzkLCfPlafhnxzjtA5dGyftPqsxhOK01nm0jwA/oIWKS6cCK5LSNTj7nFKQgYgpRrjNDy7LJmpMgUMHXXTZqv0vNBECgfVKMM2RVEb1TiYtMvr43SAZxpeoC8GNdcsAERNXCKgl3PIamZucLbOBbdcNlL62Hj9776UBXOCZ/LNDT7H4hBb6bWnk7NdYqvBhlsxwYYLhvsJI6x0DLB3UXNm6maGWyGGcZ4+LPkieLlxgQa6DIbw2SJK2vM/LKTvre7p91jrRq0k1gf/QjcxirKCO2S2pPzOwoJKvJH2+gBQuBPSWxX/EzeRUTU1xQjfpkqyNUzMxYMMaDMcNgeJEDDAveb1cQxJRfageDznwEmyxwbTflxvkyNtg6GVgEM6yt2l0AGLzuqHw44VPppkK7df19qlZROK6VjGlT1Vr5Ywh7/Fivm+AbLiWptYUdxFdsxpb1liEtPdhdum9v68jsbszQ55uh/Ka3R7QXxFzz6A+IfNxF6srNjqTQQpOfvfC0CIozZD1VQBynsg5asO3217i4pxJSvAIwo5F3ZXl3EyaRAPXW9repizskJBWnAZt27rfxI9WK79Aj87dQ8p2xxVJz8u3kjJQeNVI/qKhWiuMoEA5+dJwgdFh7qy3p3RvnvWjZ1pWtIyMAKNgv9itSztdoHODT8WtqOXYtXa96i6y+tfoCAJ70SqwK5yLGt5P9Qq1ezDWrpM1JxVfPpCmC9wmO5TTfBRg7nc7PDYnt0Z+6C5lcuqdzaFXYPs6Mwek1gUINyZyNBqdn5x2PBrYsoXDApJd7zKjMEpYHm5BktGWCWDYzhulhL4/l0RM3bK+d4MmvQgJJsN4J6cF/Cx7r7suswAh0eEfaiV6Kz2JLGU2fkFyVqHq3rKQWhwh6Y1UTa7RhX2fLQBiiL1BVdChAPwGlFRAUJqBKFwTntlJiqL9wZZeU0yCtDGEJW/mFTBZaAUH7qNN4XO2Wts5yVT8Ma/wbyBuWS4acVZjYcroSAyIo06/fs2PeA70CA5ADLbX04Kiam0GeCUaaKGAt3k4ibCeP+H4WHxwif9atrAowE1xbr+rzqauFZ2zyjVmgbng8/a8sdNQpZZBv9dBWPy2+4tuD+Rdn5D54JauiQXy8iu2RuU93MSyQJCHXocgmbc9lVG0UEPU1mEKuz30HEozf754615f9k9WczwBJN4LHc5oWkHP6ph2S7Df4m9oyr88X+H3YIg5LwXoyAgaOlm2dGpRP/7+KSgKTjdrLXtH1wAHfh9hQ04Sn4zXmPYSvVaE6q1yFqQ1PT0wVQx9X+vxSjhWVJ8KzwCSPGZxy6mTgxJvZW/F7KAhE+xUyKswKTlJUKma9M7172/RYHCK81+BRerEso5vRx68KVibsE9TRpn3+/IRmi9Uuh2sb6U3EX6r3FwcY8PCXu4nyfp/BWyLX9mi93XS+SpKNplaKuf1d0Xvp7yYVD3Y7RfOFlVU0KhFH9eZHTmOLzrXSY0q/wM1XiTHutU18hTGa9i2jCl/p9n6BR4tRndELP38QumWf8aWbMkWkQkUer2r6oD8Uu6SLK77oD8QqwbINJr7zkhHnjEDcRPjjkvnZ2XHvx9iHM0k9jZeqjKTE1uhUaPgJ9rEi/90aCS3p+0Fewi0PVRSpqgQj49K7W/VFsAl0nilgFNsmndqvYgXPf3I85eeoSXcLlIikCugsR9pPvAWQ6KLaKZZsjKWsx4lcUdtV/FaWv8ZF738kPsBDcgBdk3JA7MnqWObtkYMeynmBX/EiBjpIYzcwGkMkEJwgaeYcgepaM/GvtqX+Q8eXtYCeVNzmOwbTC3d5no7tYmNO/jYhYru5xFjSUpvhH0zMNVYemLVXmjCQopkGM/vmw8gq7hZD8n8OMycrvAvytm9y7Gr4iQOgnOuhU0fLxbVu66Aiw1aplPc1Ui2fr3LK2cUaw1yveG+cK45Fw/fzvFNlLVIqu5dG1/lW3WkgrfEUdr1z3osNT0jX4VIPdP0YqrKP1SS1GI8Vrxf4Jp0tUUdMuRYahbuRqhmE6hIaV9zVYfbB+LwhMCcdEL75IQZU0tMJaKFjlaVBteBuJ77FgxzRtZcSeRedMMzH8RzKgQ5KEyr5HxRVULT7Nhn1W1VzZtheLkw15gwbahPupET1jwbrEgQc7eqZMsj57QZZTFNsMNhhoeQ9xuweWY9eM464jVJNAb7MUQvEWWPoHBNUNnPH+3QcitVeRXNupxuwX+zAJeqCr/Q+LXQfDqjqJgM0axFd7R6sjYhxZmEEH3d5f4M9qEgq01zre1kuERwDm7cO16glxX46sh6Uu/dvXGREYEa/Xz+o2H6xzSAdNj7MtUQI/VI1g/Ar4R+hQQbgzin/+pRte5BQ7F3mo0wL9OQCFrVIivebhQL/oLTotz4UV1UQNuCYM/I/ochLb/5nLcDQbRr+n/HDgFLR0BTnD7Hhc0O5HLHgrx6tWOroKoGZegDFnQNScSyuO/rjIJHG+XMKz/LY5ICzBm2UGvUOzuzpwkvbssOjVJuC2gxc5LzS0NMkGtJLrCI1o+ItiHiub0fXDywasJYVfGxZguzYTOGzdXCZKSBaMfcFkk7gFzizttTRcb9dirioX4IeoZLzIPdsYeJbsGukUEQOUcKzewc7OerzMMb4YzW+RC2GNM89I6xz9MPtEvHS4z7I2D+sV/xvmusntcJZwSoQY3WUepwq1pNC2YDinYoZeLxBZ+0Xhki8bnRlTEYStrTHIwQfILXJYD7WwnkHhb9G9U7IwwPKS6HXN8VRGl0W/3az5zp2TeTejfRylbpZu1X0woaQt0BSeqWZt44+xhyeLXKacd+Tfc32ErRR8oV0ij8gJngrqDQjRn2OS0nmxamp1df+0+LKIe832LefrvODu6TNUwtUtdLxJQY9thjoN0FyJAqrwHyRFV2HA8ZJGlaHHDFVto/dzAdG5B6sw4B8fNCUuFyB9MZeHB2IRw4JbCXTZVMR65yy9rvv1FMPJpMdsRhVEOCP6LQ/+bq2jvQGu3NXQERhqLsCnlzJjCcm3bvBnPc/EOVedeTy8ymaXPnhLGpBN4zTPg4bJ1YsOhNQhMSYvsoymKF1JE86Wb/GEXLfgQpGPJqQhJ5GKlztRf2idO62UlGrVfEwmyVAhj5+JLFyESzJN4zrv1NI+cIiRvV+JlqX/N4oG/twWauDz9DHPQeVkzfSLoT+iCM+mGgILA+Yy9rauGDjwPdk1Nx+tHq/9KJqveUnkojebe9RPJzQy9jwaFWUZIxUyiKQiyICWO3+KVz6d8iJ1W4/9oU1bbIjQXPpVDl4sACUAQEzG0SkJ3l3LbLocDqnZ1Z0Fyz2nnVQMTxX9S/Uxd4X5/5Jrsl+P56SPbc4u0xxTmxqwwcRxqRnBoG/gLtEFe260+vHyL6x9DsH5f9qeudd//b/nliyQgUkEp+lEyLS8cmSlyHqWgpauN4WovvMtK3qEonD+toHA4fHOv0K24sFX/9ibgW7+LBsktKz152prPBYb1QJLAYjcwfGTM54GZWWe1QZ26qwYoLzAd42DO5XzWBPgXqAO1LrKboMwgUtzSOpr2BNveXo4tYhHXeoXXpF+pmT9AOm0Zn9SAruurqxGfQsQs3DRquqv7yhkTt0I3EyF+QN3KPRPB2VKwfgZQJ2iVRsJHfKdvt5wEgSwNsZMQaBlFPl3g+c6MCseSfcx5fVu82GOyaZHRjHfoq6Y7sGqs9d8UENGUckkOKNzxoAF5UWH/ZB1BIRXXVcK+ALa9sgx2SEQor2HgpTdqror6DwejglbEbUGnBjJVVRm1SkhiOcJ1uR1G5H/fAjINxCPgQfmPVT9L8rJ+TxHkDAZLw8GNToLsl/lCtHUK9bh48fW3+CA5ohNaICLE/FTBnPgHoli2gQ62hjSVFMNAwC6pUrq370KtFcKN7brLr+u7ZLux8nK16taGTyi52/aXr4RkrbHqYimGLpjQgmOqrNgWPtZcPHDrcu/onOuYY65UuESycvRFNnLMFBH0WmAqjTD1tQstQfLy3CjbOpOEDVOGMtX8bwPgOKPqR9L1Hm5LBCQKHS5uUsXWr+QbvInLmCEtidkLjMQmia98CN7fQKL6zu1R+dkVIAtm4W1ac7AhYz5sNkwNNLsvX68RmOjdxuZjs+pMEy3bdX2Ml2ot2A9Q/jeYW+5Oz1LHCxFkAiXpgPqQ3Ow3IV3N6eU8/cAQEl+OFCqzvprNj8qHH3eV3GbEWsDzWhuXDZhSZ2R5udSW68SV3/tA1YKRooaHH41Y5Q3qlvz4wme+F5SIRwh/hci7KHsRqJ4uxaIKxDsJCMPZ/H0czJO9BeQ1Pp9rVyV3QUG4aq/zc1RdfbQmaCjt2QzCtpXOxKlJV2Y7Hq+mjlrJBjE6N+/Acjy/YkkpZNbth4S8tKkMPbauxfP7s40fg/MCbsJMZNi4v/2jNXzWoNv7cXlTZqwDEQ3swwSiihMmvgWOgvUq4b0bElV18IXtHuhYfgvdH+vL1vQpNON14qq553LGDSbBOrJUjqctYsORh9Tz9zft2DdWIikkokbLV+deJ+KUjEJl3lw/wu2qZaVE40Xy8f91mmsNbZkeXXrhQxirplRu1c1pnsoR29bqQTPVxJO37zT755I5LKWt7UAidBWvq4jypQOBYCvcAbl4HN7xdRXO5Tw8RyfXTrWLQTZfPWqfXFDfnihzkF3LqBLa8xzYV8owPFGAG++OmLgrgxW8EbdjvLze5e4W6SEMZ+Wr2rdCvZt1AuXi/xmkodngpT5RJGJ4PoGWkkUSuanjr+7S9lSofmiKlTam4jE2FuIpEWdMRbJzxR8n3W/6QWFp2LESpRMcY9J1gDBB6foGNCKCZcb50oeY0wfnB1kaDZq1jptDeUSZ2n1eyPSR5e3iPuVq5ncc2bz9rU5y2SV3YRZuYdbQw+OIg0yGs+yGqAnsJ0eUwkMrD32k5ABBgaGQWQq/xbnEmSagMd+bDl0OcUASnWMqyt1otkNnvSkgw6J760idSksIKA1voL997kcEe3BM2s45YcFVijbXTa9oLaAhibwLDF+YkZOOCL+jPHInpv2lH9B2sukgE/wcixR3/JhmqFxpoe2Fd8DoKzy+ETrHF/tYcw9zz8W8+DL3IvHVzKM//FaI477TZjQ6Neu4qL1AGberyRQdj6wZWIgDmoXFPLJb8tX799kSMx1TA6bpfx1ShXrbvSHXUlLLC03NKLb4CL7YK4X36a5e8K5CJdEbMtZuDxdahOhcmXP0pQ5iDO4AstBr7ZbDeVWQz8x4BPu3mkpBdrWQLAnm+HZBX2JD//cXlLkeJ3Rq8jEs1tkCzWrto1FoWQkNnJGmS/OvkWcw9gbhE77BHRAmDaGaC8P9f9VFQvqxtHrmF9BO7TQ/YD29j3yMJWJu1sLD8RFFhjsESswiDTLkCV8BSd29B4Vi6sBoi71j8MjhK8KDTP/9HQKomDmBSEX1bhRtDqJ9n4UcmauILvFZLAOGUvuZFZhJ75PEUyYb7qIBxea2cha5FKvfNwWIWHjaF+4FFyIm8fBG2f0CoFbp0QrlRoi2ciuirPibFK9exUdQE0+jWcMjOSfcHklWc2zMvEWlsHAJs76LttS/K+xfE5NN24aO5ffy/vPs55i4PyzrtDnjhZ7wyo0tGKyxGhS/nDDsSc8Rn7qdmGS6wnqvDOXNFls+IrQKKslUh1XvbgaFA1qV3xuuEVnliNp9uClBx779d8+Z9+Mhpct4mS/juwj89rVtO2axVguhk8jtiEft44/ngtxX/e3Pux9XV3UjeAV+yUndSjyYE0HZRS6UU2GnIoUbW7yjDd23GVsDddYJV4XMCM3OPppucLgX/Vyk/NpV714Kt3XeDMpbdCOzsrPgkeJCaW15Zpqsw7VpUw/TZiwCmHATnWJpQS3C2PgOFZp3mNTKpqRQeJcksysgx3ls+mESFkfVSNjnbtaeukk6xha5OqdIBkk1N34m/M0b9e27SdsB1fP4h8DDwy7sFrnBzV3m8SKKcN0IvzBfLVAr+fQscTZ4OnW7bdmmsjMA4w8RYKxdhOhIBYMHiZ35jHaNXs4Dn9F76BhyXJ+LHlVqMPWWmf875bU0waHrErGeHya25FdvSkshgUQDUnCd/XaNLyad1GFSVhqo/XhzibFBlTlWyi73SuwlsZKB7ptyz85aZtxoBebhVzIW9kDIZkAuFHYbDXC3Lojmq7LBXCMEstKurWjiTNMLDAU5gl11/mnfSleMLObk9Y3/M0AGECzZNMmgyVpB7XM2zlhXq0tM7yTplwp/yq9ZKKwkcFzkUzdqZl69WSLmKMUbGGoxUwW9+gK2V30nv1Z9k1t0jBdOreaDvI6aZvx/47TYY+KI+PQJtl9y8RsPwF4d1N7Eivq3pxFWyQ2wI5ulz8VJQfkcLin1xFTuO/cUbOtROkgVJkE7B/bDdOi4hck87svTWre8lqff/7C81WyQS5CWVN4Gle8QPKCoPoPAeX/XqHFrdZeMvj887p8tgzOGIGGI/1nUPW9vVmBEEsEJw9905PKMUGYWmj3npmVn04Et7IJsTzcoFaBsV92J/BsrOF+QtR6lMpi9bSyRUH4LxSvlQyU3d7poempV+d0rWSEKLYZUS1RypfxHq92GjpsngJiWL4XGKAxcYW86EvW2d8l4vhNZqQ4sHhU1jTiHshgCRHrqy/3xmerShv5e2OavDFOkU5IEK/OZNJBIlUAw/LErW/tzZesr40eI67/tDY8l4wKLS+NRyYvcGyfoo0SQLeiKpcl2RjNPxLaNFLrJqWX1k72llBkNfyhYgmUNjB7Wvs9L5hDMx0N5jSOjXUZLPfmCktCXYfft8tdKGK9qnQ4nIk0IhPmCa7+oiMrODzmzOFgi5tBNROFkjwdHZP5u+Uvi57hxsI6QwKGsVOqY3iiacu9BIM9v6f6ltMLNfj9+Kh3DaoZnnixTcFRSvLNh6mJyxzpkO4zg+UEV81AqqHaR59leRlt4PwcKtEt3eIsFsr4nZKOKf24ld4R5JUm0yJNuj672uoXxVNMSjs+dOnSeriP8ACfPEIboRclEIquVZoZd5ZntFAm/3tA/7FKednO0VhTNM8azPKW1ToPqtNeJvXmEA2uz+yXAXYHWHBIH9/zqKAD5OBfBwiKR+pW0E0aRxI8QHDuepHDT+cETvkdFLyYk3Dr2lR+IC5t4PnU8gMoxAq/0u/d1ReWW4aN6NA2d3i0uk4qHkdWhZvYuNG+a8B8ABkeLNUkhpaJ6s32w1ZnXNgbS/2scL86Ppl2zv0hRRv8kEHox69YiGXlYML7xNp3EVGC4NWmgbPgkGBh49JABoen0/FWz9Z6mRaQjDUBRiTDevcwUPMV9GJ2hx2yVGzp9rIRrTO6sAhpvb+LB/YjGxS+5pKyhjuGoC2wHpnze3nZgbJFrUVIuoFO4ItUmhhg5MY35WyFQIfuqa2DBg/3zy+Z0HAWX2Ipio9r7okhJVLCVXUMO+xzUWWewvcDKzyyNBNHTzqhEKeCnnRRx/WvhG2zo4ys/APZc2j9B7nY6SIsmNDDbauf/viFTpaUj/sQ43ug59sqZR0Poi60V0KBhMyk9tMHXY45RQKMo+/gsH+QmYmynu4iAWnKtrbcCIlw3qTjcMslIC4mLP+c64ZEBWsaKU91IiFJEYp5F4HNOO+N1A7xZTRM9qohE4zDtUX8TEv6dTUEffBSzQmNovAuJF1gSdmpA7tyXk1s72lOQvI+KANVaIMOsN6A4Cu48zyVP1ZCNzwmK7EE3OWBNAyuv0yjNTR1aDXcU0EGEucYciC+juW8TfwKdicV2m8zon/o6osN54q8ldtbgmsZF9YjWJHeEWlP+hKyldLAjYYLihD5uNoFIsb+m9qyzE40UvRGekr/livVcUVcGPX4KNVR1HihwjZ7UB6DCajjKmtbwn53XYBsSzIELi+jxn6tdUj1JXDZG1lI7MmRmKPvcXZZsIOZ5vA8ObjJ9J6VuiRnStsAkkBkHLQIIZTjQkzC0FdS9zidCeMR3vbbPY8Dbfg8IlNVza8jCvJH7NNjQlmzzZxhqpnDrCsW+PL1e8vtsllLIRysXIeCmLUmmvCh5JXUCgEBuVKv/JWIG+rmkFlwVac/Cg5TMDw2KK+zD7sW+BgbQXS6+VPBJIkznzeH1dnJgVqBVA5HzbOPRXwZcii5Ir7PDzjQ3t19q2yHvxzNp+PdC+tqWkijVSTyEJbTfylHne7LPnW5NHnYJYwG1ftV4LNuNyQdU6S4dEN7wpmZzAsdXs14BJflilXiYlx1Ej9r7wCx2izxnHCHpm+Fvy/W0eNoabc14G4L/2m6RrilFxFa7p6Hk9Z8sb/cc6kdAZlKyapQxeTF8oF3XXxDFeTuCE8AnH8rF9/REo1rfy1CY7wUBP+vOoWNDCamYXQ4U1PNX+Y2k3ZLDahl1iutvAuVqDBxYegPUoWZbtyYfdCnpZcs81jqKbzz8SRlNW9gllOjaqwDy1mzyIY4YJjNCXsZUHjP5yo0ZcPlu40UhrTTyRHqumMI7VLSMKNY00ZUTn9Oedb23i747EmnJl8eBVjTzxYuOxFY1xWZTI6jxg04iBpR789SAPW1eYJIdu+NDIn0FJ2vJ/acmK0cKua7pwNsEcmrsdNNbYLrqns4FbM1gjf5JV765NC8/fTyOUDuJsgXaMAK0wvMJwV6ywQIsfji0aaFJj4pdvJeUCoJq2ZSe9wG3ogFCefQBUb7nIDPOowukTG6rByvO4N5Q7gOBCP1DgZ8IBNIZ8ksVkb8YB69bL6TCZbovsGtd95elGhARzQcTIKT3cuQAJ+yGxkkW4avyAMtzHFKAv+oa8cy+ZobWsX0qMUAVS9H7xBMhWPoXx0PCPCxaByFBWAqgAYsHAojq2gaughQlEYr9TA+6tawGp5JpXtQjpXQjR5YBef/lobIw+CMg3YCsDK0X3DohT1+EdBeP3yasXx9ZwIjrb7ImlfDSDcXHzBPlVAnP0ViyXvpjD0GGbYqBQ4jgDrQMYe96v3gvPGVnBX2Y94W+CTJ451+neYf59ljcjRqlP//aJ8HvB4BcuS0hT87PISTUH9cZRK7dQpAZukWgM62q3DFgqrilVQ94SDK6hNK1nSVebscbi/ArOJdfZseXm25DGmjPoOgEB4ZIuXETLut3SyhH9J06Qv5htVNKCBTDGCpnSxM4SpkhKMeJ+j16ReNuxPB8MI+Ctp6Cn47wy/UfV3k1fg5d/nJfnMSQ9A2qyLV6jGX+s3jjy+wvYeiBJ7gmhW+cHaloM5/su5sCYg8QGPRBdK7jQn55QY6Eo6n+pEfuBi+n6ooPZPqEZm6AQNzSWXatvWsFqfKPsGHecIMz4rxN9HXI91nOmJeSn8nPv/TW1XKV87XwveOsbDLBNuJIaDeeorpwAH3rQyiLLHbS3cwyzNBrL2FCJ5sEiZmK/iJSAVggkkmBKWXXn/YfB6j+uSaNtVfCv4Ysg/vU5CZtG51PnwUkYiSQquqe0KTmcaa29SN2C2YQ1XVSS1Gb2b4qbbu6u5EWJ3sVfrQwiNalq6aOuvM69OFWkcOfuwW/KexdSczxEgCu/SNJsN+PerFovEn62cRqOk7H2Ewf0M92HnEd3NLDLnk3f3BCVbz6ZgKy1dS9Sfu+y6PjcpINAdEw4VCopMN+8wgaE33cbmqgP2vFYNDQo9oMWg7p6Kx5DkF3RH+qDgdkRlJJvFzwXkCNZZapSLp8yBugLvMvCXYymRVHDKCXdmg4RPTm2kriqA/LwpwywDTevROSFdGJz72jP0Fsnj+aLTWEK8aHCIeRX5/Op+xER/ULpb2OXCa2R5Z/WhE9U5rjt0bIlsOJK1vUAyGyqruwQVfxi6PdrT2gg/SWZQJKOUFS/gP3xtPEflEE7TF0FdR2f865UEac1y+drtm24eAhI2gGRKC46E5jcozhx6gIxDt5x3YDApLug+TSSFKZLk8Ulr//eGc6a+HYUsB7tFhXveaYaT9LXbDAnmcRDp9z3ksoYZYV/e69pCkICt3wEYOFX7SxVHCt1psFDSLyHlRqFYv1SwB3ih2jH20ZoWpix22OP6VIbRZwRno1TeH655Qw17Q82LEkyTTf4L3QgHJurHrayEcVGB4uNq7deDvZejvyd8lLh/xuw/329i1ggsEjDVaAbFrcAKYslHiz9ZtOrgGxgRvi2HZc/MDsWp8CI2yar4ZCX5/OpUmmc1z6F5KAzTE8cWktvZi59/lvU+U6pSX7a5PYmvCMFnGswv6qHFseRtEd3Q6xGR1/wunsDveYxTvULXTn3QYvYzwcvenV9MCS5F4K9BA7ny1IIroq5Z6V5RHXMGihAWRy2BWL/YaSQltg46taUdg0GAxBOTl2xkHkydBacInDtwfVYStnVYEJ7JD13toxtxbBTd7G8QbiCrM5A01m+MTvYnhhnNf7/xDV6KCNdZw9oiR77LTvdvidbzyjFOsEEB5uwo2196CAwEbGqLg2oYO5/oWk6bHzysEkyuZPm/dWkpRF6vJPSdVLgimuTaQTYl76PvMjaBuXlX/6RCWEay0Y8mLOdqKXvdemmPP5yL6d7bwLbfdIfA6ZdnhM8X6Xbt5KrF5k15QWI2L2S17mzQu5h4aMS9yRq6kFPWeWw++1cyudlb5zL5KRyk/srOCbepT2nQs2qB1aEQzc8mYTwZ1bHqb2vJjmB/vHxnRmj8ngaStOlD+imzoGBxhOhhEY49Ph4HkBRh9+GmrfI1I50Q2fvUQwepG5xEbXZEKST7CA4qiEp9TQQ819SZ+jRKjcwX1zB1u9AxK5TgF8QT+HFWBdYOzwACY1rTMTatseSQJf5FLE3+BgGLV2a6qIS3kRy4aXRnGGoUfNPqNRuK41K7iLYyYvSUCcIeoa2iv5GltjX1nIMg5hfSnAdAAP61qsL/Bhz6YxWGyoejNpterYaes/SnywikP0+Mi6OrH+ekI1JVxKshcIM93K4X9CL1EoL5BKlQknR1/3d5kGKArWQ7PnZr6TvlV5CgYPZ/u1xf5Qv0XLdSD55fSO+DJeuzwA+UWtVwiU5bS6oXepN2cRTMjtTR1bW5xsIeVgZebnI09+1jYEnbsKFGk7KQ5M5h+MLWEPMkaA7pd4b7+aUO6z822yjpEq/Nkk09X8ara1BOTCVI/KCapuLW3mmS90BsLBFodBRULYp5jywhvNj2IQnojaMr3Zq5v0WdnyFKktsn9l6HldfrYBVMbUU6+7YxeLZU3SPG0FjCQiaZhViU/ucW39R+YteG9N53ty59sy1gZVwxqB++i7ik6z13/lUB+hdUTsKb9qsqa+3jdcDjdMYh5uWQKkmX7HIiKH616giMhZQ/2VZl6a9s9HB3FfFJ9AsGPH9EtuabOZUEf+LuhyxnLUBtFUiFZYdDL6yX7bdHlU2oVIe/O4YUuUGiDLDC6vYdx0sSDMQqF0ekKaiqITWOWJ4G4SDfr1y/Cbp13lwu2mdXMfJOCCL/tVTuAxcJet/BIzOMqKqlz9m5N4Jx5IAhHjWQlQ94jyDBLDfvg6tskwOnx1txhwkhB3lPa2rdbH5ZpAX+fdykG566xKJzO6vsFmMXAmW7eqsgCEYwV82c2uiFA4OC0fTXv3ASytLXUzq7Y4oJlgVsLjmJUFoAghKYMYeHoXFep2/ItQoHGDZJo2FsPFb+4syUFH5ZpoQPxSiHyrxLe1as0fV71qtOGdqzdqQ9oUnhkUuf2nptQqF8CxDYPPomII+b3rj9bQPLEkYe0WBcSjwPq5gK4J1XQBLlvMFwZho7kBs7PCzbkrt/4cHOfLrLmQ+uxe3Zc8V799bQZb5OpPmym6m+sETa/kfav/ysMq+fqqvc75YPW/Mn0bDOQU73OMuJVDYg5kdUiWdtBDz7+olzkzGxPFyAsQFdNRo0endzS/cKCXZOuDvAoBvO2gQCJ0fy/ykmzWdTEbuhuDBeZMeQUNX/gt73bFRMbmB77gaL19MDmQ0o3alMUQYcC9zkK9oUjG+w41iJwgrp1ZCfDpxF6HXglslf7Gk3bji3t6IXNujKpHbnzN4ktKGLfmDhZ1Xm+nu0ORm03ABxkuw3gJNmjW+7CoTG8r7jnY4oRufknfDciA859+ai+nj4uQtKK7aVMX9qNt47F4IHn5wZ+M6ARl9oqWaWVWgCbH9iGhPc9+NUkWRQaAeI/QbhdG+Cv9M1YdCMayNmRYPyar/jLY2RVZBgiDixnjYrr5+nl0Qlh1IVFUj1CT/lQw8mgjuRtkfViQjwAWiq0MUlXboLGE6QsPvBKkV0cK7igKJrYfL5d1AY5+it/vMZd0+uUYqAES+twWSTSpbyMImB7CzALPRMlQA2fYJbNoo+tb7o3cS8MRZoZx3NL6T/n+gv+urVdsxPSsbHSkjDsX8D5Pnv+ptybm3lwrQW9aM9g6hLcpBicqHC2RFQzFPJtG7Psqss1Q7oKzySZaOoEJwtNBhitiVgVdrJeYApLe8lrqOcg17IiY71v1R2b9PtHpdOV5sbETElpFCz3KAYYoVXHD+KhW/0L5Kn93plEH3g7N2qcGXjoOX2XXExSNyA1kDwLklsKYtqUlj2IPvSSjIH8K6X+rGgMf1irDXB/dljZ9SASoMqMIGoKuL+eHuRYsfhSA6lophB8rkZ6QJ1N5CXSEY473HL/342ruH9SMTaaq5g3WTC8HM/mz5430fYsDocUs4JOsj4M/LzxiYthQswuNFsUH+mJL24EZRoYGIrWCSQtJTf1xhJ/ksd20H0yyPBJtBO7LmH2YZedo6b07SynjPzwafP5x1vYnWa7CwMYItLRmvQfCfb+afi1cLt9DJgYX9Fh31ZmLE/df4tyveMcvc4xWT0Gnmxt7z140W1SziHlaXguqcv4IS1xGyevt/+ba0OC5VLaoVabn3tOnBkzfj2JC+iOokYT/9FBFEtbv8hspkSw14NuP3MVGs2Py4a5HCCz4j20/ANZ8xSASYFP3lnBmldd2dhHU8ztHypMhWLcNMuLwPDM0Scr8yQ383v80l2Z/MrldaaG33ifTJGLOjtw9GIpRxROzieWuqA95mz0yyOnyK2LEJ9aPdXyFEZ69laZxM6u+S+QC1ysAPXM5Rv0ZWYAgGtU4QuFHcA6q43E3EpABqR1kIg75GK/TADHMopIs+nOoHWXNgWctyOc7L7JmiCiLi7bKF12o6MSej5Ujuu4QQzFizKT6EGtW8it2iNSOvRYZaWpOwrjtcrqDgi2Y5nbPwD5OkZmc8zfHU2KkedbYdrWm7rO4fsoowKACg6JJmlBePA2pdo20QkqK6JFQnSnh4x8yWDqsgF5WwP1OSKmU/gAiRq8csUMkK+4Tro6ZEmWslqc7mP2c2vpKcimo1fYTKN1oufgVjVpwspP/hDB8QAXjcFxNXzEpLvZrW7JOoEpVsHGIoWMrc9OwpQtA06wYxRKuB6A8akuAU3CNSXfEeDdRUZxbxAqkKxR8g96042U1ZW2SBVwpttOKtvqj5JHXSkKPvQSbgTFerD9UKDHdVEkl5JkAKTBFkNEPHYi/ngcPVT5kFRnNxde/4JfOIBy96blU/j0R6zFfhMH6qK+cnmtk1UIBjev47ec7tXRZjIdlxrl8b8ZQBuTPQfx92b+CuKkls7qrtfBDriNt0TcRdmk51gc1eB6Q/8PDR7VJhMEdohSH7D68dVBrd7RBzPxLGzocgoM8iE7vWdToQ6DKnG3c7reiXe2TcjNa48hh32ddGHftMv5z+1gD4lYr8ROmxECbfS/tQSaARMMv5g2Z6BNZg31xzAiNa+PdMs6pxXXXbELL2WRF6Znj2N9EurB2gNumscjKFCchs53vVHUevQ/6ytxDfAYAo9WZK80bzW36aG4Xjrzd1h1Bjmr81O9uZM3J01GZ2NPuSj71/msLowKSovUH/QOneYUUZUjAI62v5mTMH4KguTlpY1EpQ8fAOCWvWy3X9B/JQo5vy2wXzzxixyVyAcAh/jj5qXmiL8ggJsrlc9OMSLFcpudUpy0o/ThzCB4AY2S6cgI513+9R5gQR3JBBFyeOM+lTEyAVyi0RGolqxxfqgKKm7SYqT15RD5z9kvx76eJDV4kPbLGVblEKEnAz7Wt5nmFxOycPsDKilJ4Hy9M7mCJQtrdnbmPIFqMFXH0dXOZu8SGzZQPHJBG4f5PXt96UDyG/ESl0mmQwAR+cejoSAXB3rQdeRr/J6QCeZ4+PMuEFlqbCr8FxZ+lJZVLJkL2WKYHSd6aa66EVbcHk4/a5KE+zyWUJKHMQPwpBqOVYSD2LRt7XJGIoo+X1rqM+9IAs6Qx/KKIYBIpgfddUMt5L+SxHtlYvumjRVNiv6Vo9MQJLs48sSRnTAmFMGyxftAue+eFaPx7OXQf8Ti3/PdnVwV547HGCFK/s5NJdIca2pH4Cst5mgfVkb50STmfNsX/bsf1UUhoRXFI9mwVZOaLhHfnI/OW+YoxEhqbE9HknAv+b+ltMf3xeu7aWQRFmTtKkm+d//hvacl44o2t5rr34L0+H0DjH6G+ojobb3GWOsx/7TI2SuxufGD6+gTApnZ6UYLGc4FKtYHnL3SilmRp/tz7U7HsqrrZp80A5AOFAsn4oQeIFvWD8SvO25Ny/gHGnvzSqG0E41dvanyC++MSQOZ9IJRacny/3x6jkggKHSemmqbpzET9ESsLbeXbJfY79Qs6/PhFiOURzzmYR/r0zXQ+4eCBg+LepnrjKyIzjVQYt8DfKgfOW5snmJn4QrvZiAh9yKeYw3SqsjtWFuhTz98sKEJVr2Qje6xFbrSoQb8tiUPzPmAw8bU5RHtpDsMRNEhk+XnJbyfzFTh6BmPSnjjrZipxQdSyGP3+RrdqK+cdae91if0kxwsEIPKIPr1xi191G3x+dJlE8it+8PvX56Qx/nA1wd1fIXUc6tDN9vj+3GgIdJCOr6XN5oMB6iDl6i00itDEcwPeVmoYidUes6iqnE1TdtGPZNtqDtxojH0WTlv0P8ZjNLhBU/qIS4TexqQEG40ybK0lONR1q/MWZdd3upjM6qWu82hsblA0WEqhQrx5fHVRDsG9OzLXCIh382MtwmtV5H99wuhpl1gjIEcBLWaITSbbT/68SbiXzAQgDoYFpf5m/UksBNsatfaHlFwuehgQgPiWms7v7W/LWlEcfWpYPo4hkP3sUR+bX9ynfan7xVOfxe5x35QYxI13Ma1je4nDQG5vTk0XBrmTvi/Doks0llx0vprdG6NdfxOuwxr501KIYjHdQmSkG7f1+dyoRVBaofTjI1ogWUod+DVOx1+t0j6V2sfDmWugdCT43S0dRXuMmzp4243VMj1yUSYoDGTaiCvjuCbawhUcpMfHrVrAuSHhuo/AH+dLMKTXir7idTMtO2K3KvcEaG2qOh9lBTmRnIk9ff1Og+CsTRuOJrlCVLRpwWJNzbIyO9M5s5N7kOs6Gk0GqYyPAz25GlfLFP0q0J1YAfR9MPA1GG+4pOutJdSaZcke1FMezXqLNJYMh6uaxAnzZXPnXrMEhHcpqtsDPR9/P9cNeabNioVRQFNgIEOrKWE3TEPC0eAosgvEoEdNxyS9Ic1+ASzSEdn+SU+CKEuOklezLE4nu/vWjNgoaozw0Nt+q2y3EzZtN9elZ3DZ4RCIiSl7oiWPIDqNxnCMFwyzFs/fFN4+BaUdGYg2UZ1t6/DFzEfFwqYUTLBHB5XBVGRwJUJbbUa40ayJ5H9MfAkgKtM1YDadbSxaeq0jvKHKiILh3KUkY1Zjk5eMwyrAjSU7Rp9211eyjsmrP6GYt51gcepmrA6TwrkRqPpomUOAYM015xZ3J5a4W8De3qa3KUZ5AtHgqRN3xK53giFrby0VIdJ/D8lDFp4S0S760b2IMl3aYKz1jNl1idy827hKUnn8hymwfDUI7mzcErCpLeUJlbpbj4ouJiv+xYYHa16vEE1hr0MBi6TutpZcDT5dD+P1FWiNG0VibuHfw4Z2w8s6wLdnUofpRDTXUedUl+2YEf7w17PrIO1ASsaOkFXBVUq7NDhp9Z094VOV6LamfDiK4ZddBop9Mv2+7l05kZoLkSvJzrNkoxDzn3m7jYmRmhFaAixTgDbwd5UrgWi+V8SxO1CXLHJ3uWBlkVJKWtkYPb5D8CS1IArK1/65Y7XrMlVv9HW1pwxkZ8WqREzcgPWRN2XgjJSSn/vo0vqgqpfbAms+Ib+FDyDGqozN8TDiDYs5BOhRCKAF7x3iVQ75aLX3rURspZy45WJEHC8uXCUEhBO98patpWwL4c5zxNqqI0cMhM2oJjLdEdw/yTuZOn7oUd0geWUrzAIAHwTgZanrqf0/s0CvpZmUtJZOGy3Q+2JQAl0Ym0ClR4S8nKJXN9/T1Jls4wcGMj8lh3a06BH1B93UyMabI8niNXlJTKZCvOBzA+xFKpsHG5R7WxcpJM2S19Lxt4w65rqBSIN7//fCgLCAboITqchd3JTRWZHpmUvTiA/Kea1LkWXMwF1QMcYpKWSN5fHFD9q3STet5lK6iuK7kLzbkN+D5zY5vEClaA5OsUijNzDfyUo4x6iyBQ+bXj/l/Pv78hfYavXizJi4GfolXKwTKA4jftSXskrDTVK/0bO8I+twX+h41lMbZM7t6lJFJ8dlyQZLo5TwYWgNFyVS1Y8237KuqpPyxpEGKlAwkKZ0YBClyVE9ByCQaZRsDjB85hVEl/XgpptgmcYvJ8ETFv0npYevMc3o23lPl0Qw74KEUObZm9Mnb9H889WlJ6lg6fXezpR7iKd7r4G0dOrLpTKOJRf6bGiWXLC1SvudbOhKD7sDH3wOfU0wI69Zl0v0swrZs3v/h4JN7eqepEqx7vwzFs9pMbwRUDKvclYUVmXJPXZ38WogpBqnL3HhNQMsDqaJK3uOheOeUu7MFum5xeLYYYvmItL//JT+hzdDICIpfJAoh95sQBCZVqEVujQ8Hpe+d3CuFlag3PT2RwJM/fOwkNCv9SLuSx+zvY7L9tCfIXM5DRxgQazlyia8CL1axDaELJrAknFvewv+DfwPJuaQQyt+0TcSI26z9gqWE1aUZaF022A0XLT848ZbGfb75MODKIQIuYJQ4Rm2YoLcRVd+aQrkWMnzprLsTdAdsflmZ1wikGYq+KJGhKuuTWzN1bGoIUIZC9zblF/CU5pLCAetk1Un+M8JjjgxqGwCSdqrIRHF63WXg8NJLaIepqCUMMpdU6JtDwdTPwDMO0Nx65ZWgfO5i23JSTfO2Kzj1BuB6ZOEEBeO4JxvS2rHhj8/EtC5R4B06mBRdkM0qetIRUScMd4vXzW7ort7FTHiZcH+o7zpyDp9FyYIh4fRKEGuMv0SJni7a8gs7MrjMNoEclPr2hL+pPjbUNht6V/8IkDHlqTn6v3VVBMfNSakLnl/kFZxhJKzA9eu2P0SQYjdLx+Ed6tVWZtMAkny2n/mPUSKMVmRadVZjDmGUX8wCwiNEap/nxJHcMdHKpoC9Hv8/pItbVUbGwYE4Bwz6PlJeiLGEY9HQOEGQrJjZlUKZpGZGduroHwtycIhNEptgZadFu3M/TeYG8pftEvh0xLrJ06QtBd8kuZQScSszLQkvBdO8mZZetF1dJEVpKVutj2C3PK5qaWH9Lgsq8tuk0URVrdgSGB4jZCZG0qqjHYM+ZHzbULfMkAjvSln0ulH0cooOfUMBIfQQZ/IelQka7sWcR4Mr7BkF5LpHG/3gD1OEto1pmjZyWLHwCFU09T56zgsOpt2gjsxYIaERT2U48STjI2HdVqz5VKJnIiPrSgc6PwpDVGAORrsUv3q6HwExR9gKr1iMLkFZEXR3UEnP7dwGJSWcxoO45XDlFRtvKKH+QoEAurwTrcRvp0ZiDzPNf3tLb8ZLOHcMt/CyPhDBmaQ+BqLGDwZXsiR0OOO2Bp5SXg1KFnHrJGVbIJxX/4sd2TAZBZ2EC2b+byC6aoDphVZThZfRI+iFIKFd42vYirVxPOr9QB8b68/kOBbzGqhqHkXd2MaCCCzBy/DLf2a+3VIJYD4DQaGqDC5S0Vqm+vXy73G05SsAQ51DeVl5jZ/eXkcUgBETqfuTueX4Fr2mdVByDzVEp5c0l1BslkbolUCbqegVdVfcpiUW/avvmtPlpuQyS5PmSR7FQeL2X1C2irFf5vRO4rlsCDW2sswhpKDfHW4QKGgheGJ+mQOQxXew6RPGJ7jNRpfHHPtQ1cX3mi0TYbEziphDh/WeQ5djHx7QrvGI3F9bg0ruRYmNLVbSvTL8+lkXMlAwVAez7LYQNvc4xMRcC6qxtTBGoLxd4Sye3tvbOfszZjige7kgg+D+I0kbMRoP4qb3POC6eZIDuBUKJ7kivawTyx7eIFPR4WzE2gbQ7ubyPl4UKwNPeiYxtZ6PEXEL9N84QOINQSZqFwEFMNHlaBA6e41vBlJe6BHm14eXLaJymbA/1+Mnx85kVkDd1IV6cgSeGFVSZjeLqliUetYY8/ntIwetYISxbk+F/+qiw238xBwG3heb15QiWnWRRd1RN6fP/bzbF4fk9OyqnJW2Gnv5dQWsZBF/7hYN+eI6SQ5qRe1eaFYKX2JAqi63a5FMxvkzwZFSq1pfpk8Fs2NPr6ZSIVUx+THmJm+sq/dQbgk2S/6m9ICXNt6M51UrcKkM3/zUqsRN/7vYwdY18Rb+lxbRbKukurF1qhWZGvHWHPmkP5EaBN3towqV2rVwptySxGH+il1lCUhD4B7qJ/JHnNk98x8uQYnwMrpM1Iqb6Cx4Zbf3GEq/W2lmDrr63R7iaC+5hpjr5cof+e9C2wJ9PTMDygMUkgnHZOA0Je0S4bhjUz5RpZe0daDpS2LTHIXVdyzEd0K3DEVIx9c69SxrSiblTEjT/QZ0d9H3va+gf3gLLY9+IBelzc5FwHnhAaCZoRhwlKjEcz3uRnQaH2tj9ERu5XgfGIxSUd6atDgFgYlHl4sUZSe2LQKYORzVN1OkM4aanc/oy64/P9xZup3bCcE+wnhPlRpAYIE6HoSb+Sx36nNmh+hXDPki3XyJ0nN1d5BIOlIjOs7X/o0aGAelh2P5dOmX37PDIVE9nEYJFIlnX0L3m3CAjN3bApgD0kU7cd4ZQrxCkNqKD4p9d+5xc2sF+XsyijQPwKtB2y6jdHG9l8w2upw77/gLhmHmO+8bJ/PYjzQl5Zw+DH24kSTg9WcfdC+lB5mI/Qs++93vVNtAuiYDXk4iq8R0odF5kojnNSW6I5x8gkWxElL4VoXx6AyyelXtIKCsF/Hf4QpwSFNueq0kytZXc+eO83ZvITcAatoCGTPdDqTMpE1gjh7BoCwKKFDEdXC9K7AFyTsAi82eda0qCW5TTRjNotO77YlUBiSKlMO8N750IrHLVHqIRuMmCJyB1eKE7R6c0ZXTDqKcYJD8k3VyygvWhuGFU9ATObZwlkVR//gAlyBUY2I7zh+4ErrmB4ceWIUajk+RCOdtzP59AXkS4PYjSFnjnGflNojEGp5t3aA/aGkfv27TogkE+tsGI91NLAXpFxgs2veDuuSPzDiKkYo9JXj15TZu+jDEQ8O6pIdISC24FUjLjhlMIZ9cYZSEc+GEFuhxacyIhKzI0IIIctH5eytxH+n3RJDY9K6vNcEg5nOgd+8v6wxkxHQN+luKDTmrRTL7D/wyjouUvTQVMU/l4mhxYgY2eoAiVbCRKfjU2b52bAMN4TX8IJMya2ztnGuj4I7jlppdptrhLARBIn8Z7TOPRvQED4o4Wks7ohjqDGJVSL2H3VkukAP+L33j52dbeX/dVH7O+cTCPYga++YYAc0nrUkajNAP3I+IR9U1FoVRzl5f1/JzjlwSe2Oz+Vw0yYl/D4/fwFDn2wMEY6wefg5GvVrpOFdKD14UdU8hYKaUvXD+k+PFBoyJqOGqmfvY8iaPGomesfmrw4ZhM+gLX/XUHnGsTLKkg9sD0G30FaDFLtKuHWnU7LYkXfA+o1HI8sCRM4cR3cFXbDCm8Zl5ksbgMGvmwo6O5LvKluWPEzvUDDlQ2gXw90qV8kFjh4kIioT9hMbbnWVzMWP2DAllzKfAYQbd9ZA5Wa2sOJH41GvrnRvoK01mx2U7n9uCE83vm84rn27nAKG1clYnJ40MySPbNVLJAtuW8pAY0xHvXecflUxdYBWQd1TNahq2u83ZoYEOH0mLu/8mXpZJ8w8yKoipcwoKO/CRY1bghG1FHECfuLasV0CEprbS22wluFgz9zGAcsDQZA9Mvm2WUYxfoFH1Mr9WWYksGkdcZlxJaKte1Pw0MhTWjtp2BpK3oeU87qRWyjpusbNwYaaS2WdHwewF2Ir0zHCNADKd1fyWDLfB0enzzDiMwfO+h8NihLuGF1Wg+qnotog2sST98W51cS7OejS9HM5DwJ4LL6EPZO/k+6kea1sknOPTNXY1WdD4xzSijZki5rEaRGeRvzvvvm57aY6B4cq01a8AltS65gfj6xG3JJyYiGJ6QOxCa19Yw/EgicztLcs7LAyHWRYzMcXf4Mz6EL9TC9fFdekeDVQo/9aYijruV0gqhsdT+IhoPYAotN6NLw9RDwQaHEjfRpbkb8zKZt+/XX74Qrd7Cr1VoPzJ2KmmdkVSLqF9titzsFkubnfNC49svSjwjzxvpOMiCs3Jhh9yyAoW5hSPviSeRDCYiw4YpOBxGP01SklzfbPgpRd19mt8xFcoqUBq6jDlP85HprOsLBApZ1IcsCd6ROHWlSOmNyOyutdZZEtXP27Fva1E3FKShQOgwKtpwJLgGZDQq69RhpErimGQ+pZrfUgUOTG4ZJYM+LubpxIEQ5q8nvEs0VQw5c8l5SgHVtPYHZ/Ws1DUFyeqQnAixDbyX096oDy/5san4A6hXEdt1CoekOuU+vxYf8l3pTc0C0fNnz3iF/jbuVP8cDA6lFFRGl3yzcTxTxuqRg37jyZ2L2omFVialJLUfIsccV9ofeIdG5AjLxzCUFy7b3CqYN1+CDF3b9Xy88ZX/MudMtGjUrYt5HBr93BA1XWxGqiUKOlnfHt2TQHPo3stbE5wvGzP9MQKm6kaXU9EJeFaP0DWTxmRZVZpYbU3n4hJshovf8bAHnlXqbog4c4RWYU2XIKhOFbP8PRsIDFXeM3pERIZax0oPD254OuBHHf4Yy1Zevr+UtUJ6chVNjWdrszfvlgcWy29gjXoTPi17YQSnA/qD1hC9aI1kj7uCTihnydlNUQkuR+kc4GAY22Y1hZScOJ7kJQAIP1kwCQkqhx4HhHICbAQI/ZtqOUMHFr79fVLBXdZ4/AWKm01CxpP8o6iNcgezqxyvFRrLTsWqqsBgA329ngPpYHtLtOqm7/6U6zPduzeuDRnkJc/Xm9uLNeGO80cGFymg/jr9vXmiAt1WXYNjhUESVHBlnZcKI/aAXjUk81AFt0FKbPEaTTc0a6/08jL7St9C9CKwXQbDf01adVYx3IJewOJ8LdFaQOZCYZ0Wh8ea6dOferFrT9Kjurg8KJqBef6nAi3pN8YryHnzq4I6vksS+wXmsV1PuyQyTAt+VFb4OEAB7vy4GqUO4j1UnYkxfAFXNkEm1Ebcioc53jhk5sZMjGqHQFFcKKQHq9KEIK6MYHPW63ienCcqpmzLlsD/25Uo9oFGmod9fQNpnAYSr9ZZM7sEZjUGe0ANUJ+zvKCG9TB5dZzo9wL/DyHVlP+Wnxhx6MZv9Ij6jBUtewlQHV9ZK8iwfoCjOj4+4H2XgozEfmPm2TDKtpnVg9O7NcovxG/G+kK7iD4nirAuFgWXA3iYEUKOCHviY/leXNm1ZYfhTAzc4I0ZH1tSA/zKXx4asUPGBIJo1hCvOKV0osl+V8hipXReOVBo0ip0oJ0ojI8teUOGf39ALJOLnLrAkhITYzr1FaI1fzkkbdQUYgNL758t/DcdtH8UVC5bQYjtH4WwJorxfFwyFw37g/uteh288pHb8RNnPyuzhZRhfSdpN6paTFpkY60NMnzoz/U0PF2qF333hiHy1cNS1T3OreW4QwyO6rsgG67Ooggn/rfmezm9jFQz/K3RSetUc5PDkjB7htOANNXueVClGiIhAgk+TM0d69g/svoGoGYRFbj7Qt1H4rl68kHIjTKErkdeL/2LG2k8GuZ0E8+6JKwzX9ELsSEk0CHbqeFIQWtD9uhn43RNaeBb5Ez7hZQPJEb+S+Gy3ZtTMvSJh0Vrxf6KLpht+675AzlAcNP96gCRYMViCQ6Y+azIWsJ8/pFNfBMboLK8LgZOFnY0I6ZSvOuSJl86pSKS5WFQ+857zkSOUHFQ9saZstaugjTEWh7oLpwbuytcNZHqAwPNJC4xxPT1SaFPkukuxBtWGsqc7m5zEk06Os6IOxTcx2zXlBk0y8/TpBiE2KewrdC65UMI1U0G/tnkdFD/psZdwd8dRvmIz0efg0FXAK2O85xjyxhrMMMZzLWTfzEEZNGBHQTt/evu76+8TioKHZf1pvbWypyL7EydxUDajjylWSuaHHUYRbkMII3MK89cQ6EdHqpHtJ3NNOfNdWRh1DDzWBH/revyfSj+U+TZOK4ftEDia3Gy4zF6xER0+gObnROg1Tw6PNT/RsIRCJ30p8IwWs5uWtjpFIZSD0wQyaRHAuLMvyB8eY3MVZTxHYLTIpiBIOHpdk+4xOUqvfaOKIeGo9ra1sSHerF9inX5tGR/vQ7FcDvpdGnG6Gvu+LqkfI6vYWc0+DeHfxM3yP4NytdAsCDLX2x6KQr7eEMAqgwAkys4ur8FfxSaWWF6gdd6vaaUFucoIfTKV1CaLcceEIzcPWoXStbk/IugkuEZ3LOcLupIQH39HIxRl8Y0cxe9VXJAS57JPUkP6drPf0/ZS90cuq+vk0J6dyPAB6ftcd5El8UWtlZMZA8Pg1iZ5FCW3R5ybKHsBWW/EAd3O373f2aqKLIBFj4u9B3Sw/dZufLBlzE5Z52c6b39tIrJkJpogrZULGwaqT5V7/xlsp3SZ9F1bD0heN1Z/gNBt1/yTC/LC2SutSZy0rgyIy/hgiqJG95oxaFx8LfsMCv3StUGI5f8HhlznMgLbvGJH7THIQHLmqAfmCMTL16TF+YxZeIZVGOOhzp05Avo7QUQdQohOQMnWGPFucsqtaISSBUkj4UkCM0pB+TUrRotCl5n48PRC/5GxfsxhzWo0jwvMeL28BWsVsZ1JC2qsGUsb6KK6buyWh09cvRlSBbMnGXe4+TPnpgLkso2wUlVcXjg9nc4SZBJf87XUy2//SkA6gBAYvc8uILShFO2JxcWhbtpVcQKmN3aJRci2BOu9viDJfUOMKp9qE3e2WrW40htAdrGkVy/jo0rRQXWdkGXV6PlC/GTnF2jZpNXSz+ZUxmu1og6x/1aldpfVBB1h2jfmRz+xZiwYmDIWWbsjkrk9BpoQ2mLaxzxWrqWmfQXRBqswIv5huv/jUgtvAEpnfxl/TaDVN0r9lfNpwiSyfXrCcT4MuM+i3ddVrJT5PQK9zwJvb6EcdcXcHV9ng9ZkJCgo3IWikHMETZgX8gkEBtwHLyxtZ2pw9ZUnQ==]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
</search>
